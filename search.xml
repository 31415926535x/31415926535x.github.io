<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title>codeforces_1092c</title>
      <link href="/2018/12/24/codeforces-1092c/"/>
      <content type="html"><![CDATA[<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1><p><a href="https://codeforces.com/contest/1092/problem/C" target="_blank" rel="noopener">ä¸€é“æœ‰å…³å­—ç¬¦ä¸²å‰ç¼€åç¼€çš„é¢˜</a>ï¼Œï¼Œï¼Œè‡ªå·±è¿Ÿæ—©è¦å‘åœ¨è¿™å­—ç¬¦ä¸²çš„é¢˜ä¸Šï¼Œï¼Œï¼Œä¸€çœ‹åˆ°è¿™æ ·çš„é¢˜ï¼Œï¼Œä¸ç®¡ç®€å•è¿˜æ˜¯éš¾ä¸€äº›çš„å¿ƒé‡Œå°±å‘æ€µï¼Œï¼Œ æ˜æ˜æ€è·¯æ˜¯å¯¹çš„ï¼Œï¼Œæ€»æ˜¯è«åå…¶å¦™çš„wa,,wa,,,wa,,,,,,</p><a id="more"></a><h1 id="é¢˜æ„">é¢˜æ„</h1><p>é¢˜æ„å¾ˆç®€å•ï¼Œï¼Œå°±æ˜¯ç»™ä½ ä¸€ä¸ªä¸²çš„æ‰€æœ‰å‰ç¼€ä¸²å’Œå®ƒçš„åç¼€ä¸²ï¼Œï¼Œï¼Œç„¶åè®©ä½ åˆ¤æ–­è¿™äº›ä¸²å¯èƒ½æ˜¯é‚£ç§ä¸²ï¼Œï¼Œï¼Œ</p><p>é¦–å…ˆè‚¯å®šæ˜¯è¦æ±‚å‡ºåŸä¸²å˜›ï¼Œï¼Œï¼Œä¸ç„¶æ€ä¹ˆåˆ¤æ–­ï¼Œï¼Œï¼Œå› ä¸ºæœ‰ä¸¤ä¸ªé•¿åº¦ä¸ºn-1çš„ä¸²å’Œä¸¤ä¸ªé•¿åº¦ä¸º1çš„ä¸²ï¼Œï¼Œæ‰€ä»¥å¯ä»¥ç”±æ­¤æ¥å¾—å‡ºåŸä¸²ï¼Œï¼Œï¼Œä½†æ˜¯å°±æ˜¯è¿™é‡Œï¼Œï¼Œï¼Œæˆ‘å¯»æ‰¾åŸä¸²å†™å´©äº†ï¼Œï¼Œï¼Œä¸€ç›´waï¼Œï¼Œï¼Œï¼ŒQAQï¼Œï¼Œï¼Œï¼Œæœ€åè¿˜æ˜¯çœ‹äº†åˆ«äººçš„æ€è·¯ï¼Œï¼Œï¼Œç›´æ¥ä¸å¯»æ‰¾åŸä¸²ï¼Œï¼Œï¼Œå¯¹äºæ¯ä¸€ç§å¯èƒ½å¯åŸä¸²éƒ½æ±‚ä¸€ä¸‹ç­”æ¡ˆï¼Œï¼Œï¼Œè¦æ˜¯æŸä¸ªå­ä¸²æ—¢ä¸æ˜¯å‰ç¼€ä¸²åˆä¸æ˜¯åç¼€ä¸²ï¼Œï¼Œï¼Œé‚£ä¹ˆå°±è¯´æ˜è¿™ä¸ªå¯èƒ½çš„åŸä¸²ä¸å¯¹ï¼Œï¼Œæ¢ä¸‹ä¸€ä¸ªï¼Œï¼Œç›´åˆ°ç¢°åˆ°ç¬¦åˆçš„åŸä¸²ï¼Œï¼Œè¾“å‡ºä¹‹åç»ˆæ­¢ç¨‹åºï¼Œï¼Œï¼Œ</p><ul><li>string é‡Œçš„ <figure class="highlight plain"><figcaption><span>å‡½æ•°å¯ä»¥å¯»æ‰¾ç¬¬ä¸€ä¸å­ä¸²åŒ¹é…çš„åæ ‡(ä»é›¶å¼€å§‹)ï¼Œï¼Œ```rfing()```å¯ä»¥å¯»æ‰¾æœ€åä¸€ä¸ªä¸å­ä¸²åŒ¹é…çš„åæ ‡ã€‚ã€‚ã€‚</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># ä»£ç </span><br><span class="line"></span><br><span class="line">```cpp</span><br><span class="line">#include &lt;bits/stdc++.h&gt;</span><br><span class="line">//#include &lt;iostream&gt;</span><br><span class="line">//#include &lt;cstdio&gt;</span><br><span class="line">//#include &lt;cstdlib&gt;</span><br><span class="line">//#include &lt;string.h&gt;</span><br><span class="line">#define aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="line">using namespace std;</span><br><span class="line">typedef long long ll;</span><br><span class="line">const int inf = 0x3f3f3f3f;</span><br><span class="line">const ll linf = 0x3f3f3f3f3f3f3f;</span><br><span class="line">const int maxn = 1e5 + 5;</span><br><span class="line">const int maxm = 1e5 + 5;</span><br><span class="line">const int mod = 1e9 + 7;</span><br><span class="line"></span><br><span class="line">struct strings</span><br><span class="line">&#123;</span><br><span class="line">    string s;</span><br><span class="line">    int id;</span><br><span class="line">    bool operator &lt; (const strings &amp;r)const</span><br><span class="line">    &#123;</span><br><span class="line">        return s.size() &lt; r.s.size();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;str[300];</span><br><span class="line">char ans[300];</span><br><span class="line">int n;</span><br><span class="line">void get(string s)</span><br><span class="line">&#123;</span><br><span class="line">    for(int i = 1; i &lt;= 2 * n - 2; i += 2)</span><br><span class="line">    &#123;</span><br><span class="line">        if(s.find(str[i].s) == 0 &amp;&amp; s.rfind(str[i + 1].s) == n - str[i + 1].s.length())</span><br><span class="line">        &#123;</span><br><span class="line">            ans[str[i].id] = &apos;P&apos;;</span><br><span class="line">            ans[str[i + 1].id] = &apos;S&apos;;</span><br><span class="line">            continue;</span><br><span class="line">        &#125;</span><br><span class="line">        if(s.rfind(str[i].s) == n - str[i].s.length() &amp;&amp; s.find(str[i + 1].s) == 0)</span><br><span class="line">        &#123;</span><br><span class="line">            ans[str[i].id] = &apos;S&apos;;</span><br><span class="line">            ans[str[i + 1].id] = &apos;P&apos;;</span><br><span class="line">            continue;</span><br><span class="line">        &#125;</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    for(int i = 1; i &lt;= 2 * n - 2; ++i)</span><br><span class="line">        cout &lt;&lt; ans[i];</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    exit(0);</span><br><span class="line">&#125;</span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">//    freopen(&quot;233.txt&quot; , &quot;r&quot; , stdin);</span><br><span class="line">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="line">    ios_base::sync_with_stdio(0);</span><br><span class="line">    cin.tie(0);cout.tie(0);</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    string pre , suf , t[2];</span><br><span class="line">    bool flag = true;</span><br><span class="line">    int cnt = 0;</span><br><span class="line"></span><br><span class="line">    for(int i = 1; i &lt;= 2 * n - 2; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        cin &gt;&gt; str[i].s;</span><br><span class="line">        str[i].id = i;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    sort(str + 1 , str + 1 + 2 * n - 2);</span><br><span class="line"></span><br><span class="line">    get(str[1].s + str[2 * n - 2].s);</span><br><span class="line">    get(str[1].s + str[2 * n - 3].s);</span><br><span class="line">    get(str[2].s + str[2 * n - 2].s);</span><br><span class="line">    get(str[2].s + str[2 * n - 3].s);</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>èœåˆ°å“­ğŸ˜­QAQ</p><p><img src="https://img2018.cnblogs.com/blog/1028485/201812/1028485-20181224195910236-1750263669.png"></p>]]></content>
      
      
        <tags>
            
            <tag> acm </tag>
            
            <tag> åˆ·é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>acmæ€»ç»“</title>
      <link href="/2018/12/15/acm%E6%80%BB%E7%BB%93/"/>
      <content type="html"><![CDATA[<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1><p>å…¥çš„å‘ä¹…äº†ï¼Œï¼Œæ¥è§¦åˆ°çš„ç®—æ³•å°±å¤šäº†èµ·æ¥ï¼Œï¼Œåšçš„é¢˜ä¹Ÿå¤šäº†ï¼Œï¼Œä½†æ˜¯è®°æ€§å´ä¸€ç‚¹ä¸€ä¸å¥½</p><p>æ¸æ¸å‘ç°å¥½å¤šé¢˜å½“æ—¶å¼„æ‡‚äº†ï¼Œï¼Œä»£ç ä¹Ÿå†™å¥½äº†ï¼Œï¼Œåšå®¢ä¸Šåšäº†ç¬”è®°ï¼Œï¼Œå¯æ˜¯æœ€åéšç€æ—¶é—´çš„æ¨ç§»ï¼Œï¼Œå†ç†Ÿæ‚‰çš„ç®—æ³•ï¼Œæ¨¡å‹ï¼Œå¥—è·¯ä¹Ÿå¿˜è®°äº†ï¼Œï¼Œå†å»ç¿»ä¹‹å‰çš„æ–‡ç« æœ‰å¤ªè´¹äº‹ï¼Œï¼Œ</p><p>æ‰€ä»¥è¿™ç¯‡æ–‡ç« ä¸»è¦æ˜¯è®°å½•ä¸€ä¸‹è§åˆ°çš„æ¯ç§ç®—æ³•ä»¥åŠè§£æ³•æ€è·¯ï¼Œï¼Œä¸ºäº†ä»¥åå¿˜è®°äº†èƒ½å¤Ÿå¿«é€Ÿæƒ³èµ·æ¥ï¼Œï¼ŒåŒæ—¶ä¹Ÿæ˜¯å…¶ä¸€ä¸ªè®°å½•çš„åŠŸèƒ½å§(ã£ãƒ»Ğ”ãƒ»)ã£</p><p>å¤§è‡´çš„æ ¼å¼å°±æ˜¯â€œç®—æ³•-&gt;é¢˜ç›®-&gt;æ€è·¯&quot;,,,,</p><p>è²Œä¼¼æ˜¯ä¸€ä¸ªå¤§å‘Î£(*ï¾ŸĞ´ï¾Ÿï¾‰)ï¾‰</p><a id="more"></a><h1 id="æ­£æ–‡">æ­£æ–‡</h1><h2 id="å„ç§æ ‘">å„ç§æ ‘</h2><h3 id="çº¿æ®µæ ‘">çº¿æ®µæ ‘</h3><h4 id="ä¸€èˆ¬çš„çº¿æ®µæ ‘">ä¸€èˆ¬çš„çº¿æ®µæ ‘</h4><h4 id="å¸¦åŒºé—´å»¶è¿Ÿæ›´æ–°çš„çº¿æ®µæ ‘">å¸¦åŒºé—´å»¶è¿Ÿæ›´æ–°çš„çº¿æ®µæ ‘</h4><h4 id="éé€’å½’çš„çº¿æ®µæ ‘">éé€’å½’çš„çº¿æ®µæ ‘</h4><h4 id="å¯æŒä¹…åŒ–çº¿æ®µæ ‘è¿™ä¸ªè¿˜æ²¡çœ‹qaq">å¯æŒä¹…åŒ–çº¿æ®µæ ‘ï¼ˆè¿™ä¸ªè¿˜æ²¡çœ‹QAQ)</h4><h4 id="æ ‘çŠ¶æ•°ç»„">æ ‘çŠ¶æ•°ç»„</h4><ul><li>è²Œä¼¼æ ‘çŠ¶æ•°ç»„çš„å¸¸æ•°æ¯”çº¿æ®µæ ‘çš„å¸¸æ•°å°ï¼Œï¼Œæœ‰äº›å¡å¸¸æ•°çš„é¢˜å¯èƒ½æ¢æ ‘çŠ¶æ•°ç»„å¥½ä¸€äº›ï¼ˆåŒºé—´æ›´æ–°æ²¡çœ‹ï¼‰QAQ</li></ul><h2 id="å›¾è®º">å›¾è®º</h2><h3 id="æœ€çŸ­è·¯">æœ€çŸ­è·¯</h3><ul><li>ä¸»è¦ç®—æ³•æœ‰dijkstra , bellmon , spfa , floyd</li><li>spfaæ®è¯´ä¼šé€€åŒ–åˆ°<span class="math inline">\(O(n^2)\)</span>(æœ‰å¾…æ±‚è¯)</li><li>floydå¯ä»¥æ±‚çŸ©é˜µã€å›¾çš„ä¼ é€’é—­åŒ…<a href="https://vjudge.net/contest/261463#status/31415926535x/I/0/" target="_blank" rel="noopener">here</a></li><li>å‰é¢é‚£ä¸‰ä¸ªç®—æ³•éƒ½æ˜¯æ±‚å¾—å•æºæœ€çŸ­è·¯ï¼Œï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªç‚¹åˆ°ä¸€å †ç‚¹çš„æœ€çŸ­è·¯,ï¼Œï¼Œè€Œè¦æ±‚ä¸€å †ç‚¹åˆ°ä¸€ä¸ªç‚¹çš„æœ€çŸ­è·¯å¯ä»¥å°†è·¯å¾„åå‘åè·‘ä¸€è¾¹å•æºæœ€çŸ­è·¯ï¼Œï¼Œä¹Ÿå°±æ˜¯æ±‚é€†å›¾çš„æœ€çŸ­è·¯ï¼Œï¼Œï¼Œå­˜å›¾çš„æ–¹æ³•é€‰æ‹©é‚»æ¥çŸ©é˜µå¥½ä¸€äº›ï¼Œï¼Œï¼Œ<a href="https://blog.csdn.net/zwj1452267376/article/details/50518209" target="_blank" rel="noopener">here</a></li></ul><h3 id="ç½‘ç»œæµ">ç½‘ç»œæµ</h3><h4 id="æœ€å¤§æµæœ€å°å‰²">æœ€å¤§æµæœ€å°å‰²</h4><ul><li>è§£å†³æœ€å¤§æµçš„å¸¸ç”¨ç®—æ³•ï¼šdinic , sap , isap,,,è®°å¾—æ•²æ¿å­è®¤çœŸï¼Œï¼Œï¼Œå¼‚æˆ–å–è¾¹ï¼Œï¼Œéå†è¾¹ç­‰ç­‰</li><li>æœ€å¤§æµæœ€å°å‰²å®šç†ï¼šä¸€ä¸ªç½‘ç»œçš„æœ€å¤§æµä¹Ÿç­‰äºå…¶æœ€å°å‰²ï¼›</li></ul><h4 id="æœ€å¤§æƒé—­åˆå­å›¾">æœ€å¤§æƒé—­åˆå­å›¾</h4><ul><li>ä¸€èˆ¬æ˜¯æ±‚né€‰ä¸€å¯ä»¥å¾—åˆ°ä¸€äº›åˆ©ç›Šè€Œåœ¨ä¸€äº›ç‰¹æ®Šæƒ…å†µä¸‹å¯ä»¥å¾—åˆ°æ›´å¤šçš„åˆ©ç›Šçš„é—®é¢˜å°±å¯èƒ½ä½¿ç”¨ç½‘ç»œæµæ±‚è§£ï¼Œï¼Œå¯¹äºå†²çªæƒ…å†µçš„å¤„ç†æ˜¯æ·»åŠ ä¸€æ¡infçš„è¾¹ï¼Œï¼Œå¦‚æœæ­£å‘ä¸å¥½æ±‚é‚£ä¹ˆåå‘æ±‚ï¼Œï¼Œæ€»æ”¶ç›Šæ¸å»æœ€å°ä»£ä»·ï¼Œï¼Œä¹Ÿå°±æ˜¯æœ€å¤§æƒé—­åˆå­å›¾çš„é—®é¢˜ï¼Œï¼Œ<a href="https://www.luogu.org/problemnew/solution/P4313" target="_blank" rel="noopener">1</a>,,<a href="https://codeforces.com/contest/1082/submission/47022828" target="_blank" rel="noopener">2</a>,,,</li></ul><h2 id="æ•°è®º">æ•°è®º</h2><h2 id="ç‰¹æ®Šçš„ç®—æ³•">ç‰¹æ®Šçš„ç®—æ³•</h2><h2 id="codeforcesä¸Šçš„">codeforcesä¸Šçš„</h2><h2 id="å¥‡æŠ€æ·«å·§">å¥‡æŠ€æ·«å·§</h2>]]></content>
      
      <categories>
          
          <category> acm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> acm </tag>
            
            <tag> åˆ·é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>æœ€å¤§æƒé—­åˆå­å›¾</title>
      <link href="/2018/12/15/%E6%9C%80%E5%A4%A7%E6%9D%83%E9%97%AD%E5%90%88%E5%AD%90%E5%9B%BE/"/>
      <content type="html"><![CDATA[<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1><p>æŸä¸€å¤©åœ¨ç¿»cfä¸Šçš„contestæ—¶ï¼Œï¼Œå‘ç°æœ€è¿‘çš„æŸä¸€åœºçš„Gé¢˜æ˜¯ç½‘ç»œæµçš„é¢˜ï¼Œï¼Œï¼Œæ­£å¥½æœ€è¿‘çœ‹äº†çœ‹ç½‘ç»œæµçš„é¢˜ï¼Œï¼Œæƒ³ç€æŠŠä»–å¼„å‡ºæ¥ï¼Œï¼Œï¼Œç„¶åæŸ¥äº†ä¸€ä¸‹å‘ç°æ˜¯ç½‘ç»œæµé‡Œ<strong>æœ€å¤§æƒé—­åˆå­å›¾</strong>çš„é—®é¢˜ï¼Œï¼Œäºæ˜¯å°±ä¸€ç›´æ‹–åˆ°ç°åœ¨æ‰åŸºæœ¬å¼„æ‡‚ã€‚ã€‚ã€‚ã€‚æœ€å¤§æƒé—­åˆå­å›¾çš„è§£æ³•å¾ˆç®€å•ï¼Œï¼Œï¼Œå…¶ä¸­ä¸€éƒ¨åˆ†çš„è®¡ç®—åˆ©ç”¨åˆ°äº†æ±‚è§£ç½‘ç»œçš„æœ€å¤§æµçš„é‚£å‡ ä¸ªç®—æ³•ï¼Œï¼Œä¸»è¦æ˜¯ç†è§£å®ƒçš„æ€§è´¨å’Œ<strong>å»ºå›¾</strong>ï¼Œï¼Œï¼Œï¼Œ</p><a id="more"></a><h1 id="é¢˜ç›®åˆ†æ">é¢˜ç›®åˆ†æ</h1><p>é¦–å…ˆæ˜¯cfçš„é‚£é“é¢˜ï¼Œï¼Œï¼Œ<a href="https://codeforces.com/contest/1082/problem/G" target="_blank" rel="noopener">ä¼ é€é—¨</a>ï¼Œï¼Œï¼Œ</p><h2 id="é¢˜ç›®çš„æ„æ€">é¢˜ç›®çš„æ„æ€</h2><p>å¤§è‡´æ„æ€æ˜¯ä»–å®šä¹‰äº†ä¸€ä¸ªç½‘ç»œçš„å­å›¾æ˜¯<em>å­å›¾ä¸­çš„ç‚¹çš„åç»§èŠ‚ç‚¹ä¹Ÿåœ¨å­å›¾ä¸­</em>ï¼Œï¼Œï¼ˆåç»§èŠ‚ç‚¹å°±æ˜¯æŒ‡1-&gt;2-&gt;3 , 2å°±æ˜¯1çš„åç»§èŠ‚ç‚¹ï¼Œï¼Œ3å°±æ˜¯2çš„åç»§èŠ‚ç‚¹ï¼‰ï¼Œï¼Œç„¶åè¦ä½ æ‰¾å‡ºæœ€å¤§çš„å­å›¾çš„æƒï¼Œï¼Œï¼Œï¼Œ</p><p>é¢˜ç›®çš„æè¿°çš„å…¶å®å°±æ˜¯é—­åˆå­å›¾çš„æ€§è´¨ï¼Œï¼Œï¼Œæ‰€é—®å…¶å®ä¹Ÿå°±æ˜¯æœ€å¤§æƒé—­åˆå­å›¾ï¼Œï¼Œï¼Œ</p><p>æ¥ä¸‹æ¥æ˜¯æœ‰å…³æœ€å¤§æƒé—­åˆå­å›¾çš„ä¸€äº›æ¦‚å¿µ</p><h2 id="æœ€å¤§æƒé—­åˆå­å›¾">æœ€å¤§æƒé—­åˆå­å›¾</h2><p><a href="https://www.cnblogs.com/dilthey/p/7565206.html" target="_blank" rel="noopener">ä»¥ä¸‹èµ„æ–™å¼•ç”¨è‡ªè¿™é‡Œ</a></p><p><a href="https://www.cnblogs.com/TreeDream/p/5942354.html#_labelTop" target="_blank" rel="noopener">è¿˜æœ‰è¿™é‡Œ</a>ï¼Œï¼Œï¼Œ (æœ¬æ–‡æ‰€å¼•ç”¨å†…å®¹ç‰ˆæƒå½’åŸä½œè€…æ‰€æœ‰)</p><p>é¦–å…ˆå¯¹äºä¸€ä¸ªæœ‰ç‚¹æƒçš„æœ‰å‘è¿é€šå›¾ï¼š</p><p><img src="https://images2017.cnblogs.com/blog/1103198/201709/1103198-20170920131516868-1508739899.png"></p><p>ç”¨è¶…çº§æºç‚¹så’Œè¶…çº§æ±‡ç‚¹tå°†æ­£æƒå€¼çš„ç‚¹è¿åˆ°sè´Ÿæƒå€¼çš„è¿åˆ°tä¸Šï¼Œï¼Œè¿™æ ·å¯ä»¥å°†ç‚¹æƒå›¾è½¬åŒ–ä¸ºä¸€ä¸ªè¾¹æƒå›¾ï¼Œï¼Œï¼Œï¼š</p><p><img src="https://images2017.cnblogs.com/blog/1103198/201709/1103198-20170920133616665-1270622724.png"></p><h3 id="ç»“è®º">ç»“è®º</h3><ul><li>è¯¥å¸¦è¾¹æƒçš„æœ‰å‘å›¾çš„s-tæœ€å°å‰²æ˜¯ç®€å•å‰²ï¼Œï¼Œï¼ˆç®€å•å‰²å°±æ˜¯å‰²é›†ä¸­çš„æ‰€æœ‰ç‚¹éƒ½ä¸sæˆ–tç›¸è¿ï¼‰ï¼Œï¼Œæ‰€ä»¥æœ€å°å‰²ä¸ä¼šå‡ºç°åœ¨infçš„è¾¹ä¸Šï¼Œï¼Œè¿™æ ·çš„å›¾ä¹Ÿæ˜¯äºŒåˆ†å›¾ï¼Œï¼Œï¼Œï¼ˆè¿™é‡Œçœ‹ä¸æ‡‚äº†ï¼Œï¼Œä¸è¿‡ä¸å½±å“ï¼Œï¼Œï¼‰</li><li>è¯¥å›¾ä¸­æ¯ä¸€ä¸ªç®€å•å‰²äº§ç”Ÿçš„ä¸¤ä¸ªå­å›¾ä¸­ï¼Œå«æœ‰sçš„å­å›¾æ˜¯<strong>é—­åˆå›¾</strong></li><li><p><strong>é—­åˆå›¾</strong>ï¼šåœ¨ä¸€ä¸ªå›¾ä¸­ï¼Œé€‰å–ä¸€äº›ç‚¹æ„æˆé›†åˆï¼Œè‹¥é›†åˆä¸­çš„ä»»ä¸€ç‚¹è¿æ¥ç‚¹çš„ä»»æ„å‡ºå¼§ï¼Œå…¶æŒ‡å‘çš„ç‚¹ä¹Ÿåœ¨é›†åˆä¸­ï¼Œï¼Œï¼Œåˆ™è¿™ä¸ªé›†åˆæ„æˆçš„å›¾å°±æ˜¯é—­åˆå›¾ï¼Œï¼Œ</p></li><li><p>ä¾‹å¦‚ï¼š</p></li></ul><p><img src="http://media.hihocoder.com/problem_images/20161008/14759139776998.jpg"></p><p>è¿™ä¸ªå›¾çš„é—­åˆå­å›¾å°±æœ‰8ä¸ªï¼š<span class="math inline">\(âˆ…,\{3\},\{4\},\{2,4\},\{3,4\},\{1,3,4\},\{2,3,4\},\{1,2,3,4\}\)</span></p><ul><li><strong>æœ€å°å‰²äº§ç”Ÿçš„å­å›¾s,tï¼Œå›¾sæ˜¯æœ€å¤§æƒé—­åˆå­å›¾</strong></li><li>è¯æ˜å¦‚ä¸‹ï¼š &gt;å› ä¸ºå‰²é›†ä¸­æ‰€æœ‰çš„è¾¹ï¼Œä¸æ˜¯è¿æ¥åœ¨sä¸Šï¼Œå°±æ˜¯è¿æ¥åœ¨tä¸Šï¼›</li></ul><blockquote><p>æˆ‘ä»¬è®°å‰²é›†ä¸­ï¼Œæ‰€æœ‰è¿æ¥åœ¨sä¸Šçš„è¾¹çš„æƒå€¼å’Œä¸º<span class="math inline">\(x_1\)</span>ï¼Œæ‰€æœ‰è¿æ¥åœ¨tä¸Šçš„è¾¹çš„æƒå€¼å’Œä¸º<span class="math inline">\(x_2\)</span>ï¼Œè€Œå‰²é›†ä¸­æ‰€æœ‰è¾¹æƒå€¼å’Œä¸º<span class="math inline">\(X=x_1+x_2ï¼›\)</span></p></blockquote><blockquote><p>åˆï¼Œè®°å›¾Sä¸­æ‰€æœ‰ç‚¹çš„æƒå€¼å’Œä¸º<span class="math inline">\(W\)</span>ï¼Œè®°å…¶ä¸­æ­£æƒå€¼ä¹‹å’Œä¸º<span class="math inline">\(w_1\)</span>ï¼Œè´Ÿæƒå€¼ä¹‹å’Œä¸º<span class="math inline">\(-w_2\)</span>ï¼Œæ•…<span class="math inline">\(W = w_1 - w_2ï¼›\)</span></p></blockquote><blockquote><p>è€Œ <span class="math inline">\(W + X = w_1 - w_2 + x_1 + x_2\)</span>ï¼Œç”±äº<span class="math inline">\(x_2 = w_2\)</span>ï¼ˆå› ä¸ºå›¾Sä¸­æ‰€æœ‰è´Ÿæƒå€¼çš„ç‚¹ï¼Œå¿…ç„¶è¿æ¥åˆ°tç‚¹ï¼Œè€Œå›¾Så¿…ç„¶è¦ä¸tåˆ†å‰²å¼€ï¼›æ•…å‰²é›†ä¸­ï¼Œâ€œè¿æ¥åœ¨tç‚¹ä¸Šçš„è¾¹æƒå€¼å’Œâ€å°±æ˜¯â€œå›¾Sä¸­æ‰€æœ‰è´Ÿæƒå€¼ç‚¹çš„æƒå€¼ä¹‹å’Œï¼Œå–è´Ÿâ€ï¼‰</p></blockquote><blockquote><p>å› è€Œ<span class="math inline">\(W + X = w_1 + x_1ï¼›\)</span></p></blockquote><blockquote><p>ã€€ã€€è€Œæ˜¾ç„¶çš„ï¼Œ<span class="math inline">\(w_1 + x_1\)</span>æ˜¯æ•´ä¸ªå›¾ä¸­æ‰€æœ‰æ­£æƒå€¼ä¹‹å’Œï¼Œè®°ä¸º<span class="math inline">\(SUM\)</span>ï¼›</p></blockquote><blockquote><p>ã€€ã€€æ•…<span class="math inline">\(W = SUM - X\)</span>ï¼Œå³ <strong>â€œå›¾Sä¸­æ‰€æœ‰ç‚¹çš„æƒå€¼å’Œâ€ = â€œæ•´ä¸ªå›¾ä¸­æ‰€æœ‰æ­£æƒå€¼ä¹‹å’Œâ€ - â€œå‰²é›†ä¸­æ‰€æœ‰è¾¹æƒå€¼å’Œâ€</strong>ï¼›</p></blockquote><blockquote><p>ã€€ã€€ç„¶åï¼Œå› ä¸º<span class="math inline">\(SUM\)</span>ä¸ºå®šå€¼ï¼Œåªè¦æˆ‘ä»¬å–æœ€å°å‰²ï¼Œåˆ™â€œå›¾Sä¸­æ‰€æœ‰ç‚¹çš„æƒå€¼å’Œâ€å°±æ˜¯æœ€å¤§çš„ï¼Œå³æ­¤æ—¶å›¾Sä¸ºå›¾Sä¸ºæœ€å¤§æƒé—­åˆå­å›¾ï¼›</p></blockquote><h2 id="æ€»ç»“">æ€»ç»“</h2><p>æ ¹æ®ä»¥ä¸Šçš„è®ºè¿°ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¾—åˆ°æ±‚è§£ä¸€èˆ¬çš„æœ€å¤§æƒé—­åˆå­å›¾çš„æ­¥(tao)éª¤(lu):</p><ul><li>è®°å½•å›¾ä¸­çš„æ‰€æœ‰ç‚¹æƒä¸ºæ­£çš„å’Œï¼š<span class="math inline">\(sum\)</span></li><li>ç„¶åå»ºå›¾ï¼Œå»ºå›¾çš„å¤§æ¦‚æµç¨‹æ˜¯ï¼šæ­£ç‚¹æƒçš„ç‚¹ä¸æºç‚¹sç›¸è¿ï¼Œè¾¹æƒä¸ºç‚¹æƒï¼Œï¼Œè´Ÿç‚¹æƒçš„ç‚¹ä¸æ±‡ç‚¹tç›¸è¿ï¼Œï¼Œè¾¹æƒä¸ºç‚¹æƒçš„ç›¸åæ•°ï¼Œï¼Œæœ€åæ­£è´Ÿç‚¹ä¹‹é—´ç›¸è¿ï¼Œï¼Œè¾¹æƒä¸º<span class="math inline">\(inf\)</span></li><li>æœ€åè·‘ç½‘ç»œè·¯çš„æœ€å¤§æµå¾—åˆ°æœ€å¤§æµ<span class="math inline">\(maxflow\)</span>,,,æœ€å¤§æƒé—­åˆå­å›¾çš„æƒå€¼å°±æ˜¯ï¼š<span class="math inline">\(sum - maxflow\)</span></li></ul><p>æœ‰äº†è¿™äº›ï¼Œï¼Œè¿™é“æ¿å­é¢˜å…¶å®ä¹Ÿå°±å·®ä¸å¤šäº†ï¼Œï¼Œï¼Œå’Œæ±‚æœ€å¤§æµçš„ä¸åŒåªæœ‰å»ºå›¾å’Œæœ€åçš„å¤„ç†äº†ï¼Œï¼Œï¼Œ</p><h1 id="ä»£ç ">ä»£ç </h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//codefroces1082G</span></span><br><span class="line"><span class="comment">//https://codeforces.com/contest/1082/submission/47022828</span></span><br><span class="line"><span class="comment">//#include &lt;bits/stdc++.h&gt;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e5</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxm = <span class="number">1e5</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="keyword">int</span> n , m;</span><br><span class="line"><span class="keyword">int</span> a[maxn];</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> to , next , cap , flow;</span><br><span class="line">&#125;edge[maxm];</span><br><span class="line"><span class="keyword">int</span> tol;</span><br><span class="line"><span class="keyword">int</span> head[maxn];</span><br><span class="line"><span class="keyword">int</span> gap[maxn] , dep[maxn] , cur[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    tol = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">memset</span>(head , <span class="number">-1</span> , <span class="keyword">sizeof</span> head);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addedge</span><span class="params">(<span class="keyword">int</span> u , <span class="keyword">int</span> v , <span class="keyword">int</span> w , <span class="keyword">int</span> rw  = <span class="number">0</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    edge[tol].to = v; edge[tol].cap = w;edge[tol].flow = <span class="number">0</span>;</span><br><span class="line">    edge[tol].next = head[u]; head[u] = tol++;</span><br><span class="line">    edge[tol].to = u; edge[tol].cap = rw;edge[tol].flow = <span class="number">0</span>;</span><br><span class="line">    edge[tol].next = head[v];head[v] = tol++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> q[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bfs</span><span class="params">(<span class="keyword">int</span> s , <span class="keyword">int</span> t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(dep , <span class="number">-1</span> , <span class="keyword">sizeof</span> dep);</span><br><span class="line">    <span class="built_in">memset</span>(gap , <span class="number">0</span> , <span class="keyword">sizeof</span> gap);</span><br><span class="line">    gap[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> front = <span class="number">0</span> , rear = <span class="number">0</span>;</span><br><span class="line">    dep[t] = <span class="number">0</span>;</span><br><span class="line">    q[rear++] = t;</span><br><span class="line">    <span class="keyword">while</span>(front != rear)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> u = q[front++];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = head[u]; ~i; i = edge[i].next)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> v = edge[i].to;</span><br><span class="line">            <span class="keyword">if</span>(~dep[v])<span class="keyword">continue</span>;</span><br><span class="line">            q[rear++] = v;</span><br><span class="line">            dep[v] = dep[u] + <span class="number">1</span>;</span><br><span class="line">            ++gap[dep[v]];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> stck[maxn];</span><br><span class="line"><span class="function">ll <span class="title">isap</span><span class="params">(<span class="keyword">int</span> s , <span class="keyword">int</span> t , <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    bfs(s , t);</span><br><span class="line">    <span class="built_in">memcpy</span>(cur , head , <span class="keyword">sizeof</span> head);</span><br><span class="line">    <span class="comment">//for(int i = 0; i &lt;= n; ++i)cur[i] = head[i];</span></span><br><span class="line">    <span class="keyword">int</span> top = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> u = s;</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(dep[s] &lt; n)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//cout &lt;&lt; u &lt;&lt; endl;</span></span><br><span class="line">        <span class="keyword">if</span>(u == t)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//cout &lt;&lt; u &lt;&lt; endl;</span></span><br><span class="line">            <span class="keyword">int</span> mi = inf;</span><br><span class="line">            <span class="keyword">int</span> inser;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; top; ++i)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(mi &gt; edge[stck[i]].cap - edge[stck[i]].flow)</span><br><span class="line">                &#123;</span><br><span class="line">                    mi = edge[stck[i]].cap - edge[stck[i]].flow;</span><br><span class="line">                    inser = i;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; top; ++i)</span><br><span class="line">            &#123;</span><br><span class="line">                edge[stck[i]].flow += mi;</span><br><span class="line">                edge[stck[i] ^ <span class="number">1</span>].flow -= mi;</span><br><span class="line">            &#125;<span class="comment">//cout &lt;&lt; mi &lt;&lt; "  ---" &lt;&lt; inf &lt;&lt; endl;</span></span><br><span class="line">            ans += mi;</span><br><span class="line">            top = inser;</span><br><span class="line">            u = edge[stck[top] ^ <span class="number">1</span>].to;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">int</span> v;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = cur[u]; ~i; i = edge[i].next)</span><br><span class="line">        &#123;</span><br><span class="line">            v = edge[i].to;</span><br><span class="line">            <span class="keyword">if</span>(edge[i].cap - edge[i].flow &amp;&amp; dep[v] + <span class="number">1</span> == dep[u])</span><br><span class="line">            &#123;</span><br><span class="line">                flag = <span class="literal">true</span>;</span><br><span class="line">                cur[u] = i;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(flag)</span><br><span class="line">        &#123;</span><br><span class="line">            stck[top++] = cur[u];</span><br><span class="line">            u = v;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> mi = n;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = head[u]; ~i; i = edge[i].next)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(edge[i].cap - edge[i].flow &amp;&amp; dep[edge[i].to] &lt; mi)</span><br><span class="line">            &#123;</span><br><span class="line">                mi = dep[edge[i].to];</span><br><span class="line">                cur[u] = i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        --gap[dep[u]];</span><br><span class="line">        <span class="keyword">if</span>(!gap[dep[u]])<span class="keyword">return</span> ans;</span><br><span class="line">        dep[u] = mi + <span class="number">1</span>;</span><br><span class="line">        ++gap[dep[u]];</span><br><span class="line">        <span class="keyword">if</span>(u != s)u = edge[stck[--top] ^ <span class="number">1</span>].to;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//    freopen("233.txt" , "r" , stdin);</span></span><br><span class="line"><span class="comment">//    freopen("233.out" , "w" , stdout);</span></span><br><span class="line">    ios_base::sync_with_stdio(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">cin</span>.tie(<span class="number">0</span>);<span class="built_in">cout</span>.tie(<span class="number">0</span>);</span><br><span class="line">    init();</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">int</span> x;</span><br><span class="line">    <span class="keyword">int</span> s = <span class="number">0</span>;<span class="keyword">int</span> t = n + m + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; x;</span><br><span class="line">        addedge(i , t , x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> u , v , w;</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; u &gt;&gt; v &gt;&gt; w;</span><br><span class="line">        addedge(n + i , u , inf);</span><br><span class="line">        addedge(n + i , v , inf);</span><br><span class="line">        addedge(s , n + i , w);</span><br><span class="line">        ans += w;</span><br><span class="line">    &#125;</span><br><span class="line">    ans -= isap(s , t , n + m + <span class="number">2</span>);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¹‹ååˆæ‰¾äº†ä¸€é“è¿™æ ·çš„é¢˜ï¼Œï¼Œï¼Œè¿˜æ˜¯åœ¨å»ºå›¾ä¸Šåšæ–‡ç« ï¼Œï¼Œï¼Œå°±æ˜¯å’Œä¸Šä¸€é“ä¸€æ ·çš„æ•²é”™äº†æ¿å­ï¼Œï¼Œï¼Œæ­»æ´»è¿è¡Œä¸æ­£ç¡®ï¼Œemmmmmï¼Œï¼Œï¼Œè¿˜æœ‰åˆå§‹åŒ–å‡½æ•°init()æ€»æ˜¯å¿˜è®°è°ƒç”¨ï¼Œï¼Œï¼Œèœçš„æµæ³ªï¼Œï¼Œï¼Œï¼ŒQAQ</p><p><a href="https://www.luogu.org/problemnew/show/P4313" target="_blank" rel="noopener">é¢˜ç›®é“¾æ¥</a></p><p>é¢˜ç›®å¤§æ¦‚æ„æ€æ˜¯ä¸€ä¸ªç­çš„äººé€‰ç†ç§‘æ»¡æ„åº¦åŠ å¤šå°‘å¤šå°‘ï¼Œï¼Œé€‰æ–‡ç§‘åŠ å¤šå°‘å¤šå°‘ï¼Œï¼Œå¦‚æœä¸€ä¸ªäººçš„å‰åå·¦å³é€‰çš„å’Œä»–ä¸€æ ·ä¹ŸåŠ å¤šå°‘å¤šå°‘ï¼Œï¼Œé—®ä½ æœ€å¤§çš„æ»¡æ„å€¼æ˜¯å¤šå°‘ï¼Œï¼Œï¼Œ æ€è·¯æ˜¯ç»™è¿™n*mä¸ªç‚¹å’Œsç‚¹è¿çš„è¾¹æƒæ˜¯æ–‡ç§‘çš„é‚£ä¸ªå€¼ï¼Œï¼Œå’Œtç‚¹è¿çš„è¾¹æƒæ˜¯ç†ç§‘é‚£ä¸ªå€¼ï¼Œï¼Œç„¶ååŠ ä¸€ä¸ªæ–°çš„ç‚¹cntï¼Œï¼Œå’Œsç‚¹è¿ï¼Œï¼Œè¾¹æƒä¸ºç¬¬ä¸‰ç»„æ»¡æ„åº¦ï¼Œï¼Œå’Œå…¶å¯¹åº”çš„ç›¸é‚»åŒå­¦è¿infçš„è¾¹ï¼Œï¼Œé€‰ç†ç§‘ä¹Ÿå°±æ˜¯å’Œtè¿çš„æ–°ç‚¹åŒç†ï¼Œï¼Œæœ€åè·‘ç½‘ç»œæµå°±è¡Œï¼Œï¼Œè¦æ±‚çš„æ»¡æ„å€¼å°±æ˜¯æ€»çš„æ»¡æ„å€¼-æœ€å°å‰²çš„</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è®°å¾—è¾¹æ•°å¼€å¤§ç‚¹ï¼Œï¼Œè²Œä¼¼èƒ½æœ‰ç‚¹æ•°çš„30å€å·¦å³ï¼Œï¼Œï¼Œä¹‹å‰reäº†ä¸€å‘QAQ</span></span><br><span class="line"><span class="comment">//https://www.luogu.org/problemnew/show/P4313</span></span><br><span class="line"><span class="comment">//https://www.luogu.org/record/show?rid=14708566</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e5</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxm = <span class="number">3e6</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> dx[<span class="number">6</span>] = &#123;<span class="number">0</span> , <span class="number">0</span> , <span class="number">0</span> , <span class="number">-1</span> , <span class="number">1</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> dy[<span class="number">6</span>] = &#123;<span class="number">0</span> , <span class="number">-1</span> , <span class="number">1</span> , <span class="number">0</span> , <span class="number">0</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> tol;</span><br><span class="line"><span class="keyword">int</span> head[maxn];</span><br><span class="line"><span class="keyword">int</span> gap[maxn] , dep[maxn] , cur[maxn];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> to , next , cap , flow;</span><br><span class="line">&#125;edge[maxm];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    tol = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">memset</span>(head , <span class="number">-1</span> , <span class="keyword">sizeof</span> head);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addedge</span><span class="params">(<span class="keyword">int</span> u , <span class="keyword">int</span> v , <span class="keyword">int</span> w , <span class="keyword">int</span> rw = <span class="number">0</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    edge[tol].to = v;edge[tol].cap = w;edge[tol].flow = <span class="number">0</span>;</span><br><span class="line">    edge[tol].next = head[u];head[u] = tol++;</span><br><span class="line">    edge[tol].to = u;edge[tol].cap = rw; edge[tol].flow = <span class="number">0</span>;</span><br><span class="line">    edge[tol].next = head[v];head[v] = tol++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> q[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bfs</span><span class="params">(<span class="keyword">int</span> s , <span class="keyword">int</span> t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(dep , <span class="number">-1</span> , <span class="keyword">sizeof</span> dep);</span><br><span class="line">    <span class="built_in">memset</span>(gap , <span class="number">0</span> , <span class="keyword">sizeof</span> gap);</span><br><span class="line">    gap[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> front = <span class="number">0</span> , rear = <span class="number">0</span>;</span><br><span class="line">    dep[t] = <span class="number">0</span>;</span><br><span class="line">    q[rear++] = t;</span><br><span class="line">    <span class="keyword">while</span>(front != rear)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> u = q[front++];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = head[u]; ~i; i = edge[i].next)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> v = edge[i].to;</span><br><span class="line">            <span class="keyword">if</span>(~dep[v])<span class="keyword">continue</span>;</span><br><span class="line">            q[rear++] = v;</span><br><span class="line">            dep[v] = dep[u] + <span class="number">1</span>;</span><br><span class="line">            ++gap[dep[v]];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> stck[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">isap</span><span class="params">(<span class="keyword">int</span> s , <span class="keyword">int</span> t , <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    bfs(s , t);</span><br><span class="line">    <span class="built_in">memcpy</span>(cur , head , <span class="keyword">sizeof</span> head);</span><br><span class="line">    <span class="keyword">int</span> top = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> u = s;</span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(dep[s] &lt; n)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(u == t)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> mi = inf;</span><br><span class="line">            <span class="keyword">int</span> inser;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; top; ++i)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(mi &gt; edge[stck[i]].cap - edge[stck[i]].flow)</span><br><span class="line">                &#123;</span><br><span class="line">                    mi = edge[stck[i]].cap - edge[stck[i]].flow;</span><br><span class="line">                    inser = i;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; top; ++i)</span><br><span class="line">            &#123;</span><br><span class="line">                edge[stck[i]].flow += mi;</span><br><span class="line">                edge[stck[i] ^ <span class="number">1</span>].flow -= mi;</span><br><span class="line">            &#125;</span><br><span class="line">            ans += mi;</span><br><span class="line">            top = inser;</span><br><span class="line">            u = edge[stck[top] ^ <span class="number">1</span>].to;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">int</span> v;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = cur[u]; ~i; i = edge[i].next)</span><br><span class="line">        &#123;</span><br><span class="line">            v = edge[i].to;</span><br><span class="line">            <span class="keyword">if</span>(edge[i].cap - edge[i].flow &amp;&amp; dep[v] + <span class="number">1</span> == dep[u])</span><br><span class="line">            &#123;</span><br><span class="line">                flag = <span class="literal">true</span>;</span><br><span class="line">                cur[u] = i;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(flag)</span><br><span class="line">        &#123;</span><br><span class="line">            stck[top++] = cur[u];</span><br><span class="line">            u = v;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> mi = n;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = head[u]; ~i; i = edge[i].next)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(edge[i].cap - edge[i].flow &amp;&amp; dep[edge[i].to] &lt; mi)</span><br><span class="line">            &#123;</span><br><span class="line">                mi = dep[edge[i].to];</span><br><span class="line">                cur[u] = i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        --gap[dep[u]];</span><br><span class="line">        <span class="keyword">if</span>(!gap[dep[u]])<span class="keyword">return</span> ans;</span><br><span class="line">        dep[u] = mi + <span class="number">1</span>;</span><br><span class="line">        ++gap[dep[u]];</span><br><span class="line">        <span class="keyword">if</span>(u != s)u = edge[stck[--top] ^ <span class="number">1</span>].to;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> m;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getid</span><span class="params">(<span class="keyword">int</span> i , <span class="keyword">int</span> j)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (i - <span class="number">1</span>) * m + j;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//freopen("233.txt",  "r" , stdin);</span></span><br><span class="line">    ios_base::sync_with_stdio(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">cin</span>.tie(<span class="number">0</span>);<span class="built_in">cout</span>.tie(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">int</span> u , v , w;</span><br><span class="line">    <span class="keyword">int</span> s = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> t = n * m + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    init();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m; ++j)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; w;</span><br><span class="line">            sum += w;</span><br><span class="line">            u = s;</span><br><span class="line">            v = getid(i , j);</span><br><span class="line">            addedge(u , v , w);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m; ++j)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; w;</span><br><span class="line">            sum += w;</span><br><span class="line">            u = getid(i , j);</span><br><span class="line">            v = t;</span><br><span class="line">            addedge(u , v , w);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> cnt = n * m + <span class="number">1</span>;<span class="comment">//é¢å¤–çš„ç‚¹</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m; ++j)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; w;</span><br><span class="line">            sum += w;</span><br><span class="line">            v = getid(i , j);</span><br><span class="line">            ++cnt;</span><br><span class="line">            addedge(s , cnt , w);</span><br><span class="line">            addedge(cnt , v , inf);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">1</span>; k &lt;= <span class="number">4</span>; ++k)</span><br><span class="line">                <span class="keyword">if</span>(i + dx[k] &gt;= <span class="number">1</span> &amp;&amp; i + dx[k] &lt;= n &amp;&amp; j + dy[k] &gt;= <span class="number">1</span> &amp;&amp; j + dy[k] &lt;= m)</span><br><span class="line">                    addedge(cnt , getid(i + dx[k] , j + dy[k]) , inf);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m; ++j)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; w;</span><br><span class="line">            sum += w;</span><br><span class="line">            u = getid(i , j);</span><br><span class="line">            ++cnt;</span><br><span class="line">            addedge(cnt , t , w);</span><br><span class="line">            addedge(u , cnt , inf);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">1</span>; k &lt;= <span class="number">4</span>; ++k)</span><br><span class="line">                <span class="keyword">if</span>(i + dx[k] &gt;= <span class="number">1</span> &amp;&amp; i + dx[k] &lt;= n &amp;&amp; j + dy[k] &gt;= <span class="number">1</span> &amp;&amp; j + dy[k] &lt;= m)</span><br><span class="line">                    addedge(getid(i + dx[k] , j + dy[k]) , cnt , inf);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; sum - isap(s , t , cnt + <span class="number">1</span>) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>å‰‘ä¹‹æ‰€æŒ‡ï¼Œå¿ƒä¹‹æ‰€å‘ï¼Œèº«ä¹‹æ‰€å¾€ï¼ï¼</strong></p><p>(end)</p>]]></content>
      
      <categories>
          
          <category> ACM-ç½‘ç»œæµ-æœ€å¤§æƒé—­åˆå­å›¾ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> acm </tag>
            
            <tag> åˆ·é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>cspåˆ·é¢˜</title>
      <link href="/2018/12/13/csp%E5%88%B7%E9%A2%98/"/>
      <content type="html"><![CDATA[<p>cspåˆ·é¢˜ç•™å­˜ï¼š</p><a id="more"></a><h1 id="markdown"><a href="http://118.190.20.162/view.page?gpid=T55" target="_blank" rel="noopener">Markdown</a></h1><p>åœ¨ç¬¬7ä¸ªç‚¹æŒ‚äº†ï¼Œï¼Œï¼Œä¸æ”¹äº†ï¼Œï¼Œï¼Œå¤ªæ¶å¿ƒäº†è¿™ç§é¢˜QAQï¼Œï¼Œï¼Œï¼Œ æœ‰è°æƒ³æ”¹çš„æ”¹å®Œäº†å‘Šè¯‰æˆ‘ä¸€ä¸‹ï¼Œï¼Œï¼ŒQAQ <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e3</span> + <span class="number">5</span>;</span><br><span class="line"><span class="built_in">string</span> h1[] = &#123; <span class="string">"&lt;h1&gt;"</span> , <span class="string">"&lt;h2&gt;"</span> , <span class="string">"&lt;h3&gt;"</span> , <span class="string">"&lt;h4&gt;"</span> , <span class="string">"&lt;h5&gt;"</span> , <span class="string">"&lt;h6&gt;"</span> &#125;;</span><br><span class="line"><span class="built_in">string</span> h2[] = &#123; <span class="string">"&lt;/h1&gt;"</span> , <span class="string">"&lt;/h2&gt;"</span> , <span class="string">"&lt;/h3&gt;"</span> , <span class="string">"&lt;/h4&gt;"</span> , <span class="string">"&lt;/h5&gt;"</span> , <span class="string">"&lt;/h6&gt;"</span> &#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">check</span><span class="params">(<span class="built_in">string</span> s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> pos = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">bool</span> _ = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">bool</span> href = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">while</span>(s[pos] != <span class="string">'\0'</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(s[pos] == <span class="string">'_'</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"&lt;em&gt;"</span>;</span><br><span class="line">            <span class="keyword">int</span> pos2 = pos + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span>(s[pos2] != <span class="string">'_'</span>)++pos2;</span><br><span class="line">            <span class="built_in">string</span> t = s.substr(pos + <span class="number">1</span> , pos2 - pos - <span class="number">1</span>);</span><br><span class="line">            check(t);</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"&lt;/em&gt;"</span>;</span><br><span class="line">            pos = pos2 + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(s[pos] == <span class="string">'['</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> a , b , c , d;</span><br><span class="line">            a = b = c = d = pos;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = pos; s[i] != <span class="string">'\0'</span>; ++i)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(s[i] == <span class="string">']'</span>)</span><br><span class="line">                    b = i;</span><br><span class="line">                <span class="keyword">if</span>(s[i] == <span class="string">'('</span>)</span><br><span class="line">                    c = i;</span><br><span class="line">                <span class="keyword">if</span>(s[i] == <span class="string">')'</span>)</span><br><span class="line">                    d = i;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(b != pos &amp;&amp; c != pos &amp;&amp; d != pos)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"&lt;a href=\""</span>;</span><br><span class="line">                <span class="built_in">string</span> t = s.substr(c + <span class="number">1</span> , d - c - <span class="number">1</span>);</span><br><span class="line">                check(t);</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"\"&gt;"</span>;</span><br><span class="line">                t = s.substr(a + <span class="number">1</span> , b - a - <span class="number">1</span>);</span><br><span class="line">                check(t);</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"&lt;/a&gt;"</span>;</span><br><span class="line">                pos = d + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; s[pos++];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; s[pos++];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"233.txt"</span> , <span class="string">"r"</span> , <span class="built_in">stdin</span>);</span><br><span class="line">    ios_base::sync_with_stdio(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">cin</span>.tie(<span class="number">0</span>);<span class="built_in">cout</span>.tie(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">string</span> s;</span><br><span class="line">    <span class="keyword">bool</span> flagul = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">bool</span> flagp = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">while</span>(getline(<span class="built_in">cin</span> , s))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(s[<span class="number">0</span>] == <span class="string">'#'</span>)</span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(flagul)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"&lt;/ul&gt;"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                flagul = <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(flagp)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"&lt;/p&gt;"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                flagp = <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">int</span> i;<span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt;= <span class="number">5</span>; ++i)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(s[i] == <span class="string">'#'</span>)</span><br><span class="line">                    ++sum;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">int</span> pos = i;</span><br><span class="line">            <span class="keyword">while</span>(s[pos] == <span class="string">' '</span>)++pos;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; h1[sum - <span class="number">1</span>];</span><br><span class="line">            <span class="built_in">string</span> t = s.substr(pos , s.length() - pos);</span><br><span class="line">            check(t);</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; h2[sum - <span class="number">1</span>] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(s[<span class="number">0</span>] == <span class="string">'*'</span>)</span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(flagp)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"&lt;/p&gt;"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                flagp = <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(!flagul)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"&lt;ul&gt;"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                flagul = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">int</span> i;</span><br><span class="line">            <span class="keyword">int</span> pos = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; s[i] != <span class="string">'\0'</span>; ++i)</span><br><span class="line">                <span class="keyword">if</span>(s[i] == <span class="string">' '</span> || s[i] == <span class="string">'*'</span>)</span><br><span class="line">                    ++pos;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"&lt;li&gt;"</span>;</span><br><span class="line">            <span class="keyword">while</span>(s[pos] != <span class="string">'\0'</span>)</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; s[pos++];</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"&lt;/li&gt;"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(s.length() == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(flagp)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"&lt;/p&gt;"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                flagp = <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(flagul)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"&lt;/ul&gt;"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                flagul = <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(!flagp)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"&lt;p&gt;"</span>;</span><br><span class="line">                flagp = <span class="literal">true</span>;</span><br><span class="line">                check(s);</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            check(s);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(flagp)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"&lt;/p&gt;"</span>;</span><br><span class="line">    <span class="keyword">if</span>(flagul)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"&lt;/ul&gt;"</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h1 id="çº¿æ€§é€’æ¨å¼"><a href="http://118.190.20.162/view.page?gpid=T74" target="_blank" rel="noopener">çº¿æ€§é€’æ¨å¼</a></h1><p>æš´åŠ›è‚¯å®šè¶…æ—¶ï¼Œï¼Œï¼Œè¯•äº†è¯•æœæ•™ç­›ï¼Œï¼Œï¼Œç„¶åwa2ï¼Œï¼Œï¼Œemmmmæœ‰æ¯’ï¼Œï¼Œï¼Œä¸ç®¡äº†++</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod = <span class="number">998244353</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i,a,n) for (int i=a;i&lt;n;i++)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> per(i,a,n) for (int i=n-1;i&gt;=a;i--)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> pb push_back</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mp make_pair</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> all(x) (x).begin(),(x).end()</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> fi first</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> se second</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SZ(x) ((int)(x).size())</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; VI;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; PII;</span><br><span class="line"><span class="function">ll <span class="title">powmod</span><span class="params">(ll a,ll b)</span> </span>&#123;ll res=<span class="number">1</span>;a%=mod; assert(b&gt;=<span class="number">0</span>); <span class="keyword">for</span>(;b;b&gt;&gt;=<span class="number">1</span>)&#123;<span class="keyword">if</span>(b&amp;<span class="number">1</span>)res=res*a%mod;a=a*a%mod;&#125;<span class="keyword">return</span> res;&#125;</span><br><span class="line"><span class="comment">// head</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> _,n;</span><br><span class="line"><span class="keyword">namespace</span> linear_seq &#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">int</span> N=<span class="number">10010</span>;</span><br><span class="line">    ll res[N],base[N],_c[N],_md[N];</span><br><span class="line"></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; Md;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">mul</span><span class="params">(ll *a,ll *b,<span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        rep(i,<span class="number">0</span>,k+k) _c[i]=<span class="number">0</span>;</span><br><span class="line">        rep(i,<span class="number">0</span>,k) <span class="keyword">if</span> (a[i]) rep(j,<span class="number">0</span>,k) _c[i+j]=(_c[i+j]+a[i]*b[j])%mod;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=k+k<span class="number">-1</span>;i&gt;=k;i--) <span class="keyword">if</span> (_c[i])</span><br><span class="line">            rep(j,<span class="number">0</span>,SZ(Md)) _c[i-k+Md[j]]=(_c[i-k+Md[j]]-_c[i]*_md[Md[j]])%mod;</span><br><span class="line">        rep(i,<span class="number">0</span>,k) a[i]=_c[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">solve</span><span class="params">(ll n,VI a,VI b)</span> </span>&#123; <span class="comment">// a ç³»æ•° b åˆå€¼ b[n+1]=a[0]*b[n]+...</span></span><br><span class="line"><span class="comment">//        printf("%d\n",SZ(b));</span></span><br><span class="line">        ll ans=<span class="number">0</span>,pnt=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> k=SZ(a);</span><br><span class="line">        assert(SZ(a)==SZ(b));</span><br><span class="line">        rep(i,<span class="number">0</span>,k) _md[k<span class="number">-1</span>-i]=-a[i];_md[k]=<span class="number">1</span>;</span><br><span class="line">        Md.clear();</span><br><span class="line">        rep(i,<span class="number">0</span>,k) <span class="keyword">if</span> (_md[i]!=<span class="number">0</span>) Md.push_back(i);</span><br><span class="line">        rep(i,<span class="number">0</span>,k) res[i]=base[i]=<span class="number">0</span>;</span><br><span class="line">        res[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> ((<span class="number">1l</span>l&lt;&lt;pnt)&lt;=n) pnt++;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> p=pnt;p&gt;=<span class="number">0</span>;p--) &#123;</span><br><span class="line">            mul(res,res,k);</span><br><span class="line">            <span class="keyword">if</span> ((n&gt;&gt;p)&amp;<span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i=k<span class="number">-1</span>;i&gt;=<span class="number">0</span>;i--) res[i+<span class="number">1</span>]=res[i];res[<span class="number">0</span>]=<span class="number">0</span>;</span><br><span class="line">                rep(j,<span class="number">0</span>,SZ(Md)) res[Md[j]]=(res[Md[j]]-res[k]*_md[Md[j]])%mod;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        rep(i,<span class="number">0</span>,k) ans=(ans+res[i]*b[i])%mod;</span><br><span class="line">        <span class="keyword">if</span> (ans&lt;<span class="number">0</span>) ans+=mod;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">VI <span class="title">BM</span><span class="params">(VI s)</span> </span>&#123;</span><br><span class="line">        VI C(1,1),B(1,1);</span><br><span class="line">        <span class="keyword">int</span> L=<span class="number">0</span>,m=<span class="number">1</span>,b=<span class="number">1</span>;</span><br><span class="line">        rep(n,<span class="number">0</span>,SZ(s)) &#123;</span><br><span class="line">            ll d=<span class="number">0</span>;</span><br><span class="line">            rep(i,<span class="number">0</span>,L+<span class="number">1</span>) d=(d+(ll)C[i]*s[n-i])%mod;</span><br><span class="line">            <span class="keyword">if</span> (d==<span class="number">0</span>) ++m;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (<span class="number">2</span>*L&lt;=n) &#123;</span><br><span class="line">                VI T=C;</span><br><span class="line">                ll c=mod-d*powmod(b,mod<span class="number">-2</span>)%mod;</span><br><span class="line">                <span class="keyword">while</span> (SZ(C)&lt;SZ(B)+m) C.pb(<span class="number">0</span>);</span><br><span class="line">                rep(i,<span class="number">0</span>,SZ(B)) C[i+m]=(C[i+m]+c*B[i])%mod;</span><br><span class="line">                L=n+<span class="number">1</span>-L; B=T; b=d; m=<span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                ll c=mod-d*powmod(b,mod<span class="number">-2</span>)%mod;</span><br><span class="line">                <span class="keyword">while</span> (SZ(C)&lt;SZ(B)+m) C.pb(<span class="number">0</span>);</span><br><span class="line">                rep(i,<span class="number">0</span>,SZ(B)) C[i+m]=(C[i+m]+c*B[i])%mod;</span><br><span class="line">                ++m;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> C;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">gao</span><span class="params">(VI a,ll n)</span> </span>&#123;</span><br><span class="line">        VI c=BM(a);</span><br><span class="line">        c.erase(c.begin());</span><br><span class="line">        rep(i,<span class="number">0</span>,SZ(c)) c[i]=(mod-c[i])%mod;</span><br><span class="line">        <span class="keyword">return</span> solve(n,c,VI(a.begin(),a.begin()+SZ(c)));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//freopen("233.txt" , "r" , stdin);</span></span><br><span class="line">    ll a[maxn];</span><br><span class="line">    ll k[maxn];</span><br><span class="line">    ll m , l , r;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%lld%lld%lld"</span> , &amp;m , &amp;l , &amp;r);</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(ll i = <span class="number">1</span>; i &lt;= m; ++i)</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%lld"</span> , &amp;k[i]);</span><br><span class="line">        <span class="built_in">memset</span>(a , (ll)<span class="number">0</span> , <span class="keyword">sizeof</span> a);</span><br><span class="line">        a[<span class="number">0</span>] = (ll)<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(r &gt;= <span class="number">20</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(ll i = <span class="number">1</span>; i &lt;= <span class="number">30</span>; ++i)</span><br><span class="line">            &#123;</span><br><span class="line">                ll mi = min(i, m);</span><br><span class="line">                ll ma = (m &lt;= i) ? m : i;</span><br><span class="line">                <span class="keyword">for</span>(ll j = i, kk = <span class="number">1</span>; kk &lt;= ma; --j, ++kk)</span><br><span class="line">                    a[i] = (a[i] + (a[j - <span class="number">1</span>] * k[kk] % mod)) % mod;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v;</span><br><span class="line">            <span class="keyword">for</span>(ll i = <span class="number">1</span>; i &lt;= <span class="number">30</span>; ++i)</span><br><span class="line">                v.push_back(a[i]);</span><br><span class="line">            <span class="keyword">for</span>(ll i = l; i &lt;= r; ++i)</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, linear_seq::gao(v, i - <span class="number">1</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(ll i = <span class="number">1</span>; i &lt;= r; ++i)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">int</span> mi = min(i, m);</span><br><span class="line">                <span class="keyword">int</span> ma = (m &lt;= i) ? m : i;</span><br><span class="line">                <span class="keyword">for</span>(ll j = i, kk = <span class="number">1</span>; kk &lt;= ma; --j, ++kk)</span><br><span class="line">                    a[i] = (a[i] + (a[j - <span class="number">1</span>] * k[kk] % mod)) % mod;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = l; i &lt;= r; ++i)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%lld\n"</span> , a[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="é€šä¿¡ç½‘ç»œ"><a href="http://118.190.20.162/view.page?gpid=T60" target="_blank" rel="noopener">é€šä¿¡ç½‘ç»œ</a></h1><p>è¿™é¢˜æ·±æœå°±è¡Œäº†ï¼Œï¼Œï¼Œä»£ç ä¸¢äº†ï¼Œï¼Œï¼Œ</p><h1 id="é™¤æ³•"><a href="http://118.190.20.162/view.page?gpid=T59" target="_blank" rel="noopener">é™¤æ³•</a></h1><p>è¿™é¢˜ç»™çš„æ—¶é™æ˜¯10sï¼Œï¼Œï¼Œä¸€å¼€å§‹æˆ‘è¿˜å½“ä¸€èˆ¬çš„åŒºé—´é—®é¢˜æƒ³ï¼Œï¼Œï¼Œæƒ³ç€æ€ä¹ˆç”¨åŒºé—´ä¿®æ”¹çš„çº¿æ®µæ ‘åšï¼Œï¼Œï¼Œï¼Œç„¶åå‘ç°æ—¶é™å¾ˆå¤§ï¼Œä¹‹åæœæ–­æš´åŠ›æ›´æ–°åŒºé—´çš„æ¯ä¸ªç‚¹ï¼Œï¼Œï¼Œç„¶åè¯•äº†å¥½å¤šçš„çº¿æ®µæ ‘çš„æ¿å­éƒ½åœ¨ç¬¬ä¹ä¸ªç‚¹täº†ï¼Œï¼Œï¼Œï¼Œæ¢æ ‘çŠ¶æ•°ç»„å°±æ²¡äº‹ï¼Œï¼Œemmmmmæœ‰æ¯’++,,è¿˜æœ‰è¦åˆ¤æ–­è¿™ä¸ªæ•°æ˜¯ä¸æ˜¯å·²ç»æ¯”è¦é™¤çš„æ•°å°ï¼Œï¼Œï¼Œè¿˜æœ‰æ ‡è®°ä¼˜åŒ–ï¼Œï¼Œï¼Œè¿™æ ·æ‰èƒ½è¿‡ï¼Œï¼Œï¼Œï¼Œ</p><p>ä»£ç æ²¡ä¿å­˜ï¼Œï¼Œï¼Œemmmmä¸ç®¡äº†ï¼Œï¼Œï¼Œï¼Œ</p>]]></content>
      
      
    </entry>
    
    <entry>
      <title>Codeforces-1084C</title>
      <link href="/2018/12/13/Codeforces-1084C/"/>
      <content type="html"><![CDATA[<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1><p>å¥½ä¹…æ²¡å†™åšå®¢äº†ï¼Œï¼Œï¼Œæœ€è¿‘çš„äº‹å¤ªå¤šäº†ï¼Œï¼Œå‡ ä¹æ²¡æœ‰ä¸“é—¨çœ‹ä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼Œï¼Œï¼Œä¸€ç›´åœ¨åšå„ç§çš„ç®€å•é¢˜QAQã€‚ã€‚ã€‚</p><a id="more"></a><h1 id="é¢˜æ„">é¢˜æ„</h1><p><a href="https://codeforces.com/contest/1084/problem/C" target="_blank" rel="noopener">è¿™é“é¢˜å¤§æ¦‚çš„é¢˜æ„å°±æ˜¯</a>ç»™ä½ ä¸€ä¸ªä¸²ï¼Œï¼Œï¼Œç„¶åæ‰¾å‡ºæ‰€æœ‰å¼€å¤´ç»“å°¾éƒ½æ˜¯açš„å¹¶ä¸”ä¸­é—´æœ‰bçš„å­ä¸²çš„ä¸ªæ•°ï¼Œï¼Œï¼Œå•ä¸€çš„aä¹Ÿç®—ï¼Œï¼Œï¼Œ</p><p>ä¸€å¼€å§‹çœ‹äº†å¥½å‡ ééƒ½æ²¡çœ‹æ‡‚é¢˜æ„ï¼Œï¼Œï¼Œä¸çŸ¥é“åœ¨æ±‚å•¥ï¼Œï¼Œï¼Œ</p><p><a href="https://www.cnblogs.com/wa007/p/10103272.html" target="_blank" rel="noopener">ç„¶åçœ‹äº†ä¸€ä¸ªäººçš„é¢˜è§£</a>ï¼Œï¼Œç„¶åæ²¡çœ‹æ‡‚QAQ,,,,,</p><p>çœ‹äº†å®˜æ–¹é¢˜è§£ä¸‹çš„ä¸€ä¸ªè¯„è®ºçœ‹æ‡‚äº†ï¼Œï¼Œï¼Œï¼Œï¼Œemmmm</p><blockquote><p>It doesn't depend at all if there exists any letter other than a or b in the given string. You can for sure ignore those letters, so the editorial says to erase them. Now, what you have is a string consisting only of a and b's. Also two consecutive b's can be merged as one. So your final string will look something like (a...a)b(a...a)b(a...)...</p></blockquote><blockquote><p>You can now consider this problem as sum of all possible product of subsets of a given set, where each element in the set is the number of a's delimited by b.</p></blockquote><blockquote><p>For example: In the string &quot;aaabaabaaab&quot;, set formed will be {3,2,3,0} (0 can be ignored). Now if you have a set {a1,a2,...,aN}, then sum of all possible products of this set is equal to (1+a1)<em>(1+a2)</em>...*(1+aN)-1.</p></blockquote><blockquote><p>Proof: Write the required answer as follows: S = Sum of products of subset with (size=1)+(size=2)+...(size=N) <span class="math inline">\(S = (a_1+a_2+...a_N)+(a_1*a_2+a_1*a_3......+a_{N-1}*a_N)+...+(a_1*a_2.....a_N)\)</span> After factorization, S = (1+a1)(1+a2)...(1+aN)-1</p></blockquote><p>å¤§è‡´æ„æ€å°±æ˜¯å¤„ç†æ‰€ç»™çš„å­—ç¬¦ä¸²ï¼Œï¼Œï¼Œå°±å˜æˆäº†ä¸€å †aä¸€ä¸ªbä¸€å †aä¸€ä¸ªb....è¿™æ ·çš„ï¼Œï¼Œï¼Œ ä¹Ÿå°±æ˜¯ä¸€å †açš„é›†åˆ é¢˜ç›®æ‰€è¦çš„å°±æ˜¯è°ƒä¸¤ä¸ªä¸ªaçš„é›†åˆé‡Œè°ƒä¸€ä¸ªaä½œä¸ºå­ä¸²çš„é¦–å°¾ï¼Œï¼Œï¼Œè¿™æ ·çš„å°±æ˜¯æ‰€è¦çš„ä¸²ï¼Œï¼Œï¼Œ äºæ˜¯æ€»å…±çš„ä¸ªæ•°å°±æ˜¯<span class="math inline">\(a_1*a_2*a_3.....a_{n-1}*a_{n}\)</span>,,,å¯¹äº†æ¯ä¸ªé›†åˆè¿˜è¦åŠ ä¸€ï¼Œï¼Œè¡¨ç¤ºè¿™ä¸ªé›†åˆé€‰ä¸€ä¸ªæˆ–è€…éƒ½ä¸é€‰ï¼Œï¼Œï¼Œæœ€åçš„ç­”æ¡ˆå†å‡ä¸€å°±è¡Œäº†ï¼ˆå…¨ä¸é€‰çš„æƒ…å†µä¸ç¬¦åˆé¢˜æ„ï¼‰ï¼Œï¼Œï¼Œ</p><p>ä»–ä¸Šé¢é‚£æ®µè¯çš„æ€è·¯æ˜¯åœ¨è®¡ç®—æ‰€æœ‰çš„å­å·çš„æƒ…å†µæ—¶ï¼Œï¼Œé•¿åº¦ä¸º1+é•¿åº¦ä¸º2+ã€‚ã€‚ã€‚é•¿åº¦ä¸ºmã€‚ã€‚ã€‚ è¿™æ ·çš„è¯ <span class="math inline">\(sum = (a_1 + a_2+....+a_{n-1} + a_n) + (a_1 * a_2 + a_1 * a_3 + ...+ a_1 * a_m + a_2 * a_3 + ......+ a_{n-1} * a_n) + (a_1 * a_2 * a_3 + ....) + ...\)</span> ç„¶åè¿™ä¸ªæ±‚å’Œå¯ä»¥è½¬åŒ–æˆ<span class="math inline">\(sum = (1 + a_1) * (a_2 + 1) * (a_3 + 1) + (a_4 + 1) * .... * (a_n + 1) - 1\)</span></p><blockquote><p>å› ä¸ºï¼š</p></blockquote><blockquote><p><span class="math inline">\(a + b + ab = (a + 1) * (b + 1) - 1\)</span></p></blockquote><blockquote><p><span class="math inline">\(a + b + c + ab + ac + bc + abc = (a + 1) * (b + 1) * (c + 1) - 1\)</span></p></blockquote><h1 id="ä»£ç ">ä»£ç </h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e5</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line">ll a[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//    freopen("233.txt" , "r" , stdin);</span></span><br><span class="line"><span class="comment">//    freopen("233.out" , "w" , stdout);</span></span><br><span class="line">    ios_base::sync_with_stdio(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">cin</span>.tie(<span class="number">0</span>);<span class="built_in">cout</span>.tie(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">int</span> n = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">string</span> s;<span class="built_in">cin</span> &gt;&gt; s;</span><br><span class="line">    <span class="keyword">int</span> a[maxn];</span><br><span class="line">    <span class="keyword">int</span> tot = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> len = s.length();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(s[i] == <span class="string">'a'</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = i; j &lt; len; ++j)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(s[j] == <span class="string">'a'</span>)</span><br><span class="line">                    ++cnt;</span><br><span class="line">                <span class="keyword">if</span>(s[j] == <span class="string">'b'</span> || j == len - <span class="number">1</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    a[tot++] = cnt + <span class="number">1</span>;</span><br><span class="line">                    i = j;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; tot; ++i)</span><br><span class="line">        ans = (ans * a[i]) % mod;</span><br><span class="line">    --ans;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¤ªæ°´äº†ï¼Œï¼Œï¼Œï¼ŒQAQ</p>]]></content>
      
      <categories>
          
          <category> Codeforces </category>
          
      </categories>
      
      
        <tags>
            
            <tag> acm </tag>
            
            <tag> åˆ·é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>codeforces-1080C</title>
      <link href="/2018/11/25/codeforces-1080C/"/>
      <content type="html"><![CDATA[<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1><p><a href="https://codeforces.com/problemset/problem/1080/C" target="_blank" rel="noopener">æ˜¨å¤©æ­£å¥½æœ‰æ—¶é—´ï¼Œåšäº†è‡ªå·±ç¬¬ä¸€åœºçš„cf</a></p><p>åšå®ŒABä¹‹åè¢«Cå¡åˆ°æœ€åï¼Œï¼Œï¼Œä»æ¥æ²¡åšè¿‡åæ ‡å¹³é¢ä¸Šä¸¤ä¸ªçŸ©å½¢çš„é¢ç§¯å’Œï¼Œï¼Œï¼Œå› ä¸ºå­˜åœ¨ç›¸äº¤çš„å¯èƒ½ï¼Œï¼Œï¼Œæ‰€ä»¥è¦å•ç‹¬çš„å¤„ç†çŸ©å½¢é¢ç§¯äº¤ï¼Œï¼Œç„¶åè‡ªå·±å°±å†™æ‡µäº†ï¼Œï¼Œï¼Œå½“æ—¶å†™äº†å‡ åè¡Œçš„ifåˆ¤æ–­ï¼Œï¼Œï¼Œï¼Œåˆ°æœ€åéƒ½æ²¡å¼„å®Œï¼Œï¼ŒQAQ</p><a id="more"></a><h1 id="é¢˜æ„ä¸åˆ†æ">é¢˜æ„ä¸åˆ†æ</h1><h2 id="é¢˜æ„">é¢˜æ„</h2><p>è¿™é“é¢˜çš„é¢˜æ„å°±æ˜¯ç»™ä½ ä¸€ä¸ªn * må¤§çš„æ–¹æ ¼æ¿å­ï¼Œï¼Œç±»ä¼¼å›½é™…è±¡æ£‹é‚£æ ·ï¼Œï¼Œé»‘ç™½ç›¸é—´ï¼Œï¼Œç„¶åå†ç»™ä½ ä¸¤ä¸ªçŸ©å½¢ï¼Œï¼Œç¬¬ä¸€ä¸ªçŸ©å½¢å†…çš„æ‰€æœ‰æ ¼å­æ¶‚ä¸ºç™½è‰²ï¼Œï¼Œç¬¬äºŒä¸ªæ¶‚ä¸ºé»‘è‰²ï¼Œï¼Œï¼Œé—®ä½ æœ€åç™½æ ¼å­å’Œé»‘æ ¼å­çš„æ•°é‡ï¼Œï¼Œæ£‹ç›˜çš„å¤§å°å¯èƒ½æ˜¯1e9 * 1e9çš„ï¼Œï¼Œï¼Œ</p><h2 id="æ€è·¯">æ€è·¯</h2><h3 id="æˆ‘çš„æ€è·¯">æˆ‘çš„æ€è·¯</h3><ul><li>ä¸€å¼€å§‹æˆ‘çš„æ€è·¯æ˜¯ç®—å‡ºæ‰€æœ‰çš„ç™½æ ¼å­ï¼Œé»‘æ ¼å­çš„æ•°é‡(wsum ,bsum)ï¼Œï¼Œï¼Œç„¶åwsumåŠ ä¸Šç¬¬ä¸€ä¸ªçŸ©å½¢é‡Œçš„æ‰€æœ‰é»‘æ ¼å­æ•°é‡ï¼Œï¼Œä¹‹åwsumå‡å»ç¬¬äºŒä¸ªçŸ©å½¢é‡Œç™½æ ¼å­çš„æ•°é‡ï¼Œï¼Œï¼Œæœ€åå†è€ƒè™‘æ˜¯æœ‰é¢ç§¯çš„ç›¸äº¤ï¼Œï¼Œï¼Œæœ‰çš„è¯å†è®¡ç®—ç›¸äº¤çŸ©å½¢å†…çš„ï¼Œï¼Œä½†æ˜¯ä¸­é—´çš„ä¸€äº›ç»†èŠ‚ï¼Œï¼Œï¼Œæ¯”å¦‚è¯´å¦‚ä½•è®¡ç®—ä¸åŒå·¦ä¸‹è§’åæ ‡çš„çŸ©å½¢å†…æ ¼å­æ•°ï¼Œï¼Œå¦‚ä½•åˆ¤æ˜¯å¦æœ‰ç›¸äº¤çš„çŸ©å½¢ï¼Œï¼Œå¦‚ä½•è®¡ç®—ç›¸äº¤çš„çŸ©å½¢å†…çš„æ ¼å­æ•°é‡ä»¥åŠæ€ä¹ˆè°ƒæ•´ç­‰ç­‰ï¼Œï¼Œï¼Œä»¥å‰ä»æ¥æ²¡å†™è¿‡æ²¡è€ƒè™‘è¿‡ï¼Œï¼Œï¼Œåªèƒ½ç¡¬å¤´çš®çš„å»ä¸€è·¯ifä¸‹å»ï¼Œï¼Œï¼Œåˆ°æœ€åè‡ªå·±çš„å†™æ‡µäº†ï¼Œï¼Œï¼Œ</li><li>ä¸­é€”æƒ³ç€ç›´æ¥æ¨¡æ‹Ÿç®—äº†ï¼Œï¼Œï¼Œç»´æŠ¤ä¸€ä¸ªå¤§çŸ©é˜µï¼Œï¼Œ1è¡¨ç¤ºç™½è‰²0è¡¨ç¤ºé»‘è‰²ï¼Œï¼Œç„¶åå¯¹ç›¸åº”çš„çŸ©å½¢å…¨éƒ¨ç½®ä¸€ç½®é›¶ï¼Œï¼Œï¼Œæœ€åæ±‚01çš„æ•°é‡ï¼Œï¼Œï¼Œç„¶åå‘ç°æ ¹æœ¬å¼€ä¸äº†é‚£ä¹ˆå¤§çš„æ•°ç»„ï¼Œï¼Œï¼Œï¼ŒQAQ</li></ul><h3 id="æœ€åä»Šå¤©çœ‹äº†å‡ºé¢˜äººçš„é¢˜è§£"><a href="https://codeforces.com/blog/entry/63436#comment-473595" target="_blank" rel="noopener">æœ€åä»Šå¤©çœ‹äº†å‡ºé¢˜äººçš„é¢˜è§£ï¼Œï¼Œï¼Œ</a></h3><h4 id="çŸ©å½¢1-1-x-yå†…ç™½æ ¼å­çš„æ•°é‡çš„è®¡ç®—"><strong>çŸ©å½¢(1 , 1 , x , y)å†…ç™½æ ¼å­çš„æ•°é‡çš„è®¡ç®—</strong></h4><p><span class="math inline">\(è®¾å‡½æ•°w(x , y)è¿”å›å€¼ä¸ºå·¦ä¸‹è§’(1 , 1)ä¸(x , y)çš„çŸ©å½¢å†…çš„ç™½æ ¼å­çš„æ•°é‡\)</span></p><h4 id="çŸ©å½¢å†…ç™½æ ¼å­æ•°é‡çš„è®¡ç®—"><strong>çŸ©å½¢å†…ç™½æ ¼å­æ•°é‡çš„è®¡ç®—</strong>ï¼š</h4><p><span class="math inline">\(ä»»æ„ä¸€ä¸ªçŸ©å½¢(x_1 , y_1 , x_2 , y_2)å†…çš„ç™½æ ¼å­æ•°é‡=çŸ©å½¢(1 , 1 , x_2 , y_2)å†…ç™½æ ¼å­çš„æ•°é‡-çŸ©å½¢(1 , 1 , x_1 , y_2)å†…ç™½æ ¼å­çš„æ•°é‡-çŸ©å½¢(1 , 1 , x_2 , y_1)å†…ç™½æ ¼å­çš„æ•°é‡+çŸ©å½¢(1 , 1 , x_1 - 1 , y_1 - 1)å†…ç™½æ ¼å­çš„æ•°é‡ï¼Œæ‰€ä»¥ï¼š\)</span></p><p><span class="math display">\[W(x_1 , y_1 , x_2 , y_2) = w(x_1 , y_1) - w(x_1 - 1 , y_2) - w(x_2 , y_1 - 1) + w(x_1 - 1 , y_1 - 1)\]</span></p><h4 id="çŸ©å½¢å†…é»‘æ ¼å­æ•°é‡çš„è®¡ç®—"><strong>çŸ©å½¢å†…é»‘æ ¼å­æ•°é‡çš„è®¡ç®—</strong></h4><p><span class="math display">\[B(x_1 , y_1 , x_2 , y_2) = (x_2 - x_1 + 1) * (y_2 - y_1 + 1) - W(x_1 , y_1 , x_2 , y_2)\]</span></p><h4 id="ç›¸äº¤éƒ¨åˆ†çš„åˆ¤æ–­å’Œå¤„ç†"><strong>ç›¸äº¤éƒ¨åˆ†çš„åˆ¤æ–­å’Œå¤„ç†</strong></h4><p>å‡ºé¢˜äººè¯´<strong>æ˜¾ç„¶</strong>ï¼ˆæˆ‘(ï¼â€µĞ”â€²)ï¼~ â•§â•§ï¼‰å¦‚æœä¸å­˜åœ¨ç›¸äº¤çŸ©å½¢ï¼Œï¼Œé‚£ä¹ˆä¸€å®šæ»¡è¶³</p><p><span class="math display">\[max(x_1 , x_3)&gt;min(x_2 , x_4) \ \ or\ \  max(y_1,y_3)&gt;min(y_2,y_4)\]</span></p><p>æ‰€ä»¥åå‘½é¢˜å°±æ˜¯å¦‚æœå­˜åœ¨ç›¸äº¤ä¸¾è¯å³ä½¿ä¸Šé¢é‚£ä¸ªåˆ¤æ–­å–åï¼Œï¼ŒåŒæ—¶ç›¸äº¤çŸ©å½¢çš„åæ ‡æ˜¯ <span class="math display">\[(max(x_1 , x_3) \ , \ max(y_1 , y_3)\ ,\ min(x_2,x_4)\ ,\ min(y2 , y_4))\]</span></p><p>æœ‰äº†è¿™äº›ï¼Œï¼Œæˆ‘ä»¬å°±å¯ä»¥ç®—å‡ºç›¸äº¤çŸ©å½¢å†…åŸæ¥çš„ç™½è‰²ã€é»‘è‰²çš„æ ¼å­äº†ï¼ˆå°±æ˜¯ä¸è€ƒè™‘ç¬¬ä¸€ä¸ªç¬¬äºŒä¸ªçŸ©å½¢å½±å“æ—¶çš„æ•°é‡ï¼‰ï¼Œï¼Œ</p><p>å› ä¸ºåœ¨ç¬¬ä¸€ä¸ªçŸ©å½¢é‡Œå°†ç›¸äº¤çŸ©å½¢å†…çš„é»‘æ ¼å­å˜æˆäº†ç™½è‰²ï¼Œï¼Œç°åœ¨åˆè¦å˜æˆé»‘è‰²ï¼Œï¼Œæ‰€ä»¥wsumï¼ˆç™½è‰²æ ¼å­çš„æ•°é‡ï¼‰è¦å‡å»é»‘è‰²çš„æ•°é‡ï¼ˆç™½è‰²çš„æ•°é‡å·²ç»åœ¨è®¡ç®—ç¬¬äºŒä¸ªçŸ©å½¢æ—¶å‡å»äº†ï¼Œï¼Œæ‰€ä»¥å¯¹äºwsumæ˜¯å‡å»äº†ç›¸äº¤çŸ©å½¢çš„æ‰€æœ‰æ ¼å­æ•°é‡ï¼‰ï¼Œï¼ŒåŒæ—¶é»‘è‰²æ ¼å­çš„æ•°é‡bsumè¦åŠ ä¸Šé»‘è‰²çš„æ•°é‡ï¼Œï¼Œè€Œè®¡ç®—ç¬¬äºŒä¸ªçŸ©å½¢æ—¶ç›¸äº¤çŸ©å½¢é‡Œçš„ç™½è‰²å·²ç»åŠ ä¸Šäº†ï¼Œï¼Œï¼Œç›¸å½“äºåŠ ä¸Šäº†æ•´ä¸ªç›¸äº¤çŸ©å½¢çš„æ ¼å­æ•°é‡ï¼Œï¼Œï¼ˆæ‹¿ç¬”ç”»ä¸€ä¸‹è¿™ä¸ªæ­¥éª¤å°±æ›´æ¸…æ¥šäº†ï¼‰</p><h4 id="wx-yçš„å®ç°"><strong>w(x , y)çš„å®ç°</strong></h4><p>é¦–å…ˆæˆ‘ä»¬å®šä¹‰è¿™æ ·æ’åˆ—çš„é»‘ç™½æ ¼å­ä¸º<strong>ç±»å‹1</strong></p><p><img src="https://codeforces.com/predownloaded/d8/6e/d86e87a66d47ec694dd7dfe9b27c72c68ce27d9d.png"> è€Œè¿™æ ·çš„æ˜¯<strong>ç±»å‹2</strong> <img src="https://codeforces.com/predownloaded/5e/f8/5ef88f2dba40d4f7f22774404f8c502bd950a68e.png"> + è¡Œæ•°nä¸º<strong>å¶æ•°</strong>æ—¶ï¼Œç±»å‹1ç±»å‹2çš„æ•°é‡æ˜¯å¯¹åŠçš„ï¼Œå³<span class="math inline">\(\frac n2\)</span>,</p><ul><li>è¡Œæ•°nä¸º<strong>å¥‡æ•°</strong>æ—¶ï¼Œ<strong>ç±»å‹1</strong>çš„æ•°é‡æ˜¯<span class="math inline">\(\lfloor{\frac n2}\rfloor\)</span> ï¼ˆå‘ä¸‹å–æ•´ï¼Œç›´æ¥é™¤å°±è¡Œï¼‰ï¼Œï¼Œ<strong>ç±»å‹2</strong>çš„æ•°é‡æ˜¯<span class="math inline">\(\lceil{\frac n2}\rceil\)</span>ï¼ˆå‘ä¸Šå–æ•´ï¼Œæœ‰ä½™æ•°æ—¶åŠ ä¸€ä¸ªï¼‰</li></ul><p>å› ä¸ºè¡Œæ•°nä¸ºå¶æ•°æ—¶ç±»å‹1çš„æ•°é‡å’Œç±»å‹2æ•°é‡ç›¸ç­‰ï¼Œä¹Ÿå°±æ˜¯è¯´<span class="math inline">\(\lfloor{\frac n2}\rfloor\)</span>=<span class="math inline">\(\lceil{\frac n2}\rceil\)</span>ï¼Œï¼Œæ‰€ä»¥ï¼Œï¼Œæˆ‘ä»¬å°±ä¸ç®¡è¡Œæ•°æ˜¯ä¸æ˜¯å¶æ•°å¥‡æ•°äº†ï¼Œï¼Œï¼Œç›´æ¥<strong>ç±»å‹1</strong>æ•°é‡=<span class="math inline">\(\lfloor{\frac n2}\rfloor\)</span>ï¼Œ<strong>ç±»å‹2</strong>æ•°é‡=<span class="math inline">\(\lceil{\frac n2}\rceil\)</span>ï¼Œï¼Œï¼Œï¼ˆæ•°å­¦çœŸå¥½ç©.jpgï¼Œï¼Œï¼Œæƒ³æƒ³æˆ‘å½“æ—¶ä¸ºäº†åˆ¤æ–­è¡Œæ•°çš„å¥‡å¶åˆ†æƒ…å†µè®¨è®ºï¼Œï¼Œå†™åedï¼Œï¼Œ(#`Ğ”Â´)ï¾‰ï¼‰</p><p>æŒ‰ç…§è¿™ä¸ªæ€è·¯ï¼Œï¼Œï¼ŒåŒæ ·åˆ—æ•°mä¹Ÿå°±å¯ä»¥è¿™æ ·è®¡ç®—äº†ï¼Œï¼Œï¼Œ å³<strong>ç±»å‹1</strong>çš„æ•°é‡=<span class="math inline">\(\lfloor{\frac m2}\rfloor\)</span>ï¼Œï¼Œ<strong>ç±»å‹2</strong>çš„æ•°é‡=<span class="math inline">\(\lceil{\frac m2}\rceil\)</span>..</p><p>æœ‰äº†è¿™ä¸¤ä¸ªï¼Œï¼Œæˆ‘ä»¬å°±å¯ä»¥è®¡ç®—çŸ©å½¢(x , y)å†…äº†ç™½è‰²æ ¼å­çš„æ•°é‡äº†ï¼Œï¼Œï¼Œ <span class="math display">\[w(x , y) = \lceil{\frac n2}\rceil \cdot \lceil{\frac m2}\rceil + \lfloor{\frac n2}\rfloor \cdot \lfloor{\frac m2}\rfloor\]</span></p><h4 id="å‘ä¸Šå–æ•´çš„å®ç°"><strong>å‘ä¸Šå–æ•´çš„å®ç°</strong></h4><p>è¿™é“é¢˜é™¤äº†è®©æˆ‘çŸ¥é“çŸ©å½¢äº¤çš„å¤„ç†ï¼Œï¼Œï¼Œè¿˜æœ‰ä¸€ä¸ªä»å¥½å‡ ä¸ªå¤§ä½¬çš„ä»£ç ä¸­æˆ‘çœ‹åˆ°äº†å‡ ä¸ªå¥½çš„æ±‚å‘ä¸Šå–æ•´çš„ä»£ç ï¼Œï¼Œï¼Œä¸åƒæˆ‘é‚£æ ·å‚»å‚»çš„ifåˆ¤æ–­(â•¬â˜‰Ğ´âŠ™)</p><p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">ll <span class="title">cdiv</span><span class="params">(ll a , llb)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a / b + (a % b &gt; <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//or</span></span><br><span class="line"><span class="function">ll <span class="title">cdiv</span><span class="params">(ll a , ll b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (a + b - <span class="number">1</span>) / b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h1 id="ä»£ç ">ä»£ç </h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="comment">//ceiling div</span></span><br><span class="line"><span class="function">ll <span class="title">cdiv</span><span class="params">(ll a , ll b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a / b + (a % b &gt; <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">ccdiv</span><span class="params">(ll a , ll b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (a + b - <span class="number">1</span>) / b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">w</span><span class="params">(ll x , ll y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> cdiv(x , <span class="number">2</span>) * cdiv(y , <span class="number">2</span>) + (x / <span class="number">2</span>) * (y / <span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">wsum</span><span class="params">(ll x1 , ll y1 , ll x2 , ll y2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> w(x2 , y2) - w(x1 - <span class="number">1</span> , y2) - w(x2 , y1 - <span class="number">1</span>) + w(x1 - <span class="number">1</span> , y1 - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">bsum</span><span class="params">(ll x1 , ll y1 , ll x2 , ll y2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (x2 - x1 + <span class="number">1</span>) * (y2 - y1 + <span class="number">1</span>) - wsum(x1 , y1 , x2 , y2);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//freopen("233.txt" , "r" , stdin);</span></span><br><span class="line">    ios_base::sync_with_stdio(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">cin</span>.tie(<span class="number">0</span>);<span class="built_in">cout</span>.tie(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">int</span> t;<span class="built_in">cin</span> &gt;&gt; t;</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;</span><br><span class="line">        ll n , m;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m;</span><br><span class="line">        ll x1 , x2 , x3 , x4 , y1 , y2 , y3 , y4;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; x3 &gt;&gt; y3 &gt;&gt; x4 &gt;&gt; y4;</span><br><span class="line">        ll w = wsum(<span class="number">1</span> , <span class="number">1</span> , m , n);</span><br><span class="line">        ll b = bsum(<span class="number">1</span> , <span class="number">1</span> , m , n);</span><br><span class="line">        <span class="comment">//first rec</span></span><br><span class="line">        w = w + bsum(x1 , y1 , x2 , y2);</span><br><span class="line">        b = b - bsum(x1 , y1 , x2 , y2);</span><br><span class="line">        <span class="comment">//second rec(dont consider the itersection</span></span><br><span class="line">        w = w - wsum(x3 , y3 , x4 , y4);</span><br><span class="line">        b = b + wsum(x3 , y3 , x4 , y4);</span><br><span class="line">        <span class="comment">//consider the itersection</span></span><br><span class="line">        <span class="keyword">if</span>(max(x1 , x3) &lt;= min(x2 , x4) &amp;&amp; max(y1 , y3) &lt;= min(y2 , y4))</span><br><span class="line">        &#123;</span><br><span class="line">            w = w - bsum(max(x1 , x3) , max(y1 , y3) , min(x2 , x4) , min(y2 , y4));</span><br><span class="line">            b = b + bsum(max(x1 , x3) , max(y1 , y3) , min(x2 , x4) , min(y2 , y4));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; w &lt;&lt; <span class="string">" "</span> &lt;&lt; b &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="å°ç»“">å°ç»“</h1><ul><li>ä¸€ç›´ä¸æ€ä¹ˆä¼šçš„å‘ä¸Šå–æ•´ã€çŸ©å½¢é¢ç§¯äº¤ç­‰ç­‰é—®é¢˜ç®—æ˜¯äº†è§£äº†ï¼Œï¼Œï¼Œè‡³å°‘ä¸ä¼šåœ¨å‡ºç°çš„æ—¶å€™å•¥éƒ½ä¸çŸ¥é“ï¼Œï¼Œåªèƒ½ä»å¤´åˆ†æï¼Œï¼Œï¼Œä¸€ä¸ªåŠ²çš„å †ifäº†(-`ã‚§Â´-â•¬)</li><li>cfçœŸå¥½ç©.jpgï¼Œï¼Œï¼Œä»¥ä¸ºä¼šç¬¬ä¸€å‘åªèƒ½ç°åï¼Œï¼Œæ²¡æƒ³åˆ°é’äº†ï¼Œï¼Œï¼Œå°±æ˜¯æ·±å¤œåœºå¤ªå¤šï¼Œï¼Œï¼Œä¸ç„¶èƒ½å¤©å¤©æ‰“ï¼Œï¼Œï¼Œï¼Œ</li><li>è¿™ç§ä»£ç ä¸å¤šçš„é¢˜é”»ç‚¼é”»ç‚¼æ€ç»´å¾ˆä¸é”™å•Šï¼Œï¼Œï¼Œæ¯•ç«Ÿç°åœ¨çº¯å¥—æ¿å­çš„é¢˜åœ¨å„ç§æ¯”èµ›ä¸­æ˜¯è¶Šæ¥è¶Šå°‘äº†ï¼Œï¼Œï¼Œï¼Œ</li></ul><p>(end)</p>]]></content>
      
      <categories>
          
          <category> Codeforces </category>
          
      </categories>
      
      
        <tags>
            
            <tag> acm </tag>
            
            <tag> åˆ·é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Codeforces-1077C</title>
      <link href="/2018/11/24/Codeforces-1077C/"/>
      <content type="html"><![CDATA[<h1 id="é¢˜æ„">é¢˜æ„</h1><p><a href="https://codeforces.com/problemset/problem/1077/C" target="_blank" rel="noopener"><strong>é¢˜ç›®é“¾æ¥</strong></a></p><p>ç»™ä½ ä¸€ä¸ªæ•°ç»„ï¼Œå¦‚æœå­˜åœ¨ä¸€ä¸ªæ•°ç­‰äºå‰©ä½™çš„æ•°çš„å’Œçš„è¯ï¼Œï¼Œï¼Œå°±ç§°è¿™æ ·arrayæ˜¯good arrayï¼Œï¼Œ</p><p>ç„¶åé¢˜ç›®é—®ä½ å¯¹äºç»™å®šçš„æ•°ç»„å»æ‰ä¸€ä¸ªæ•°ä¹‹åæ—¶å€™æ˜¯ä¸€ä¸ªgood arrayï¼Œï¼Œï¼Œè¾“å‡ºæ‰€æœ‰çš„å»æ‰çš„æ•°çš„ä½ç½®pos</p><a id="more"></a><h1 id="åˆ†æ">åˆ†æ</h1><p>ä¸€å¼€å§‹æˆ‘æƒ³è¿™ç›´æ¥æš´åŠ›å»æ±‚ï¼Œï¼Œï¼Œå¤–å¾ªç¯éå†æ•´ä¸ªæ•°ç»„æšä¸¾å¯èƒ½æ˜¯å»æ‰çš„æ•°ï¼Œï¼Œï¼Œå†…å¾ªç¯éå†å»æ‰é‚£ä¸ªæ•°ä¹‹åçš„æ•°åˆ—å¯»æ‰¾æ—¶å€™å­˜åœ¨ä¸€ä¸ªä½¿å¾—å‰©ä½™æ•°çš„å’Œç­‰äºå†…å¾ªç¯éå†çš„é‚£ä¸ªæ•°ï¼Œï¼Œï¼Œ</p><p>å¤æ‚åº¦åº”è¯¥æ˜¯<span class="math inline">\(O(n^2)\)</span>ï¼Œï¼Œï¼Œæœä¸å…¶ç„¶çš„tleäº†ï¼Œï¼Œï¼Œï¼Œ</p><p>ç„¶åå»çœ‹æ ‡ç¨‹é¢˜è§£ï¼Œï¼Œï¼Œçœ‹ä¸æ‡‚QAQï¼Œï¼Œï¼Œ</p><p>çœ‹äº†åˆ«äººçš„æ€è·¯åæ‰å¼„å‡ºæ¥ï¼Œï¼Œï¼Œ</p><p>å¯¹äºè¿™æ ·ä¸€ä¸ªgood arrayï¼Œï¼Œï¼Œæ•°<span class="math inline">\(a_i = sum - a_i\)</span>ï¼Œï¼Œé‚£ä¹ˆ<span class="math inline">\(a_i\)</span>ä¸€å®šæ˜¯è¿™ä¸ªæ•°ç»„çš„æœ€å¤§å€¼ï¼Œï¼Œï¼Œ</p><p>æ‰€ä»¥å…ˆå¯ä»¥å¯¹æ•´ä¸ªæ•°ç»„æ’åºä¸€ä¸‹ï¼Œï¼Œï¼Œç„¶åçœ‹æœ€å¤§<span class="math inline">\(max\)</span>å€¼æ˜¯å¦ç­‰äº<span class="math inline">\(sum - max\)</span>ï¼Œï¼Œï¼Œ</p><p>æ³¨æ„å¦‚æœè¦æ˜¯å»æ‰ç¬¬ä¸€ä¸ªæ•°ï¼Œï¼Œæœ€å¤§å€¼å°±ä¸ºç¬¬äºŒå¤§çš„æ•°äº†ï¼Œï¼Œï¼Œï¼Œ</p><h1 id="ä»£ç ">ä»£ç </h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">2e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    ll num;</span><br><span class="line">    <span class="keyword">int</span> pos;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> node &amp;r) <span class="keyword">const</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> r.num &lt; num;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;node[maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios_base::sync_with_stdio(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">cin</span>.tie(<span class="number">0</span>);<span class="built_in">cout</span>.tie(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">int</span> n;<span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    ll sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; node[i].num;</span><br><span class="line">        node[i].pos = i;</span><br><span class="line">        sum += node[i].num;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    sort(node , node + n);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; ans;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> max = (i == <span class="number">0</span>) ? node[<span class="number">1</span>].num : node[<span class="number">0</span>].num;</span><br><span class="line">        <span class="keyword">if</span>(sum - node[i].num - max == max)</span><br><span class="line">            ans.push_back(node[i].pos);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; ans.size() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::iterator it = ans.begin(); it != ans.end(); ++it)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; *it + <span class="number">1</span> &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>(end)</p>]]></content>
      
      <categories>
          
          <category> Codeforces </category>
          
      </categories>
      
      
        <tags>
            
            <tag> acm </tag>
            
            <tag> åˆ·é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>poj-1459-æœ€å¤§æµdinic+é“¾å¼å‰å‘æ˜Ÿ-isap+bfs+stack</title>
      <link href="/2018/11/22/poj-1459-%E6%9C%80%E5%A4%A7%E6%B5%81dinic+%E9%93%BE%E5%BC%8F%E5%89%8D%E5%90%91%E6%98%9F-isap+bfs+stack/"/>
      <content type="html"><![CDATA[<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1><p><a href="http://poj.org/problem?id=1459" target="_blank" rel="noopener">è¿™é“æ˜¯ä¸€é“ç½‘ç»œæµé‡Œæœ€å¤§æµçš„æ¿å­é¢˜</a>,,,</p><p>æš‘æœŸé›†è®­ç½‘ç»œæµè‰è‰æ°´è¿‡ï¼Œï¼Œè¿åŸºæœ¬çš„ç®—æ³•éƒ½ä¸çŸ¥é“æœ‰å“ªäº›ï¼Œï¼Œï¼Œæ›´åˆ«ææ€ä¹ˆå®ç°äº†ï¼Œï¼Œï¼ŒåªçŸ¥é“ç½‘ç»œæµçš„å¤§è‡´çš„æ¦‚å¿µï¼Œï¼Œ</p><p>ä»Šå¤©èŠ±äº†ä¸€å¤©çš„æ—¶é—´é‡æ–°å­¦ä¹ äº†ä¸€æ³¢ï¼Œï¼Œï¼Œæœ¬ä»¥ä¸ºè¿™ä¸œè¥¿å¾ˆç®€å•ï¼Œï¼Œï¼Œæ²¡æƒ³åˆ°ä¸ä»…ç®—æ³•çš„å®ç°ä¸€å¤§å †çš„ä¸œè¥¿ï¼Œï¼Œå°±è¿é¢˜ç›®éƒ½æœ‰æ—¶å€™çœ‹ä¸æ‡‚ï¼Œï¼Œï¼Œï¼Œæ„Ÿå—å°±æ˜¯ç½‘ç»œæµçš„é¢˜ä¸ä»…ç®—æ³•å®ç°èµ·æ¥ä¸å¥½æ‡‚ï¼Œï¼Œï¼Œæ¯ä¸€é“é¢˜çš„å»ºå›¾ä¹Ÿå¾ˆå…³é”®ï¼Œï¼Œï¼Œå‡ ä¹çœ‹åˆ°çš„æ¯ä¸€é“é¢˜çš„å›¾éƒ½æ˜¯å¾—è‡ªå·±å»å»ºï¼Œï¼Œå®Œå…¨ä¸åƒæœ€çŸ­è·¯é‚£äº›é¢˜èŠ±é‡Œèƒ¡å“¨çš„ä¸œè¥¿éƒ½åªæ”¹ä¸€æ”¹è´ªå¿ƒæ—¶çš„æ–¹ç¨‹å°±è¡Œï¼Œï¼Œï¼Œ</p><a id="more"></a><h1 id="åˆ†ææ€è·¯">åˆ†ææ€è·¯</h1><h2 id="æœ€çŸ­è·¯çš„ä¸€äº›åŸºæœ¬æ¦‚å¿µ">æœ€çŸ­è·¯çš„ä¸€äº›åŸºæœ¬æ¦‚å¿µ</h2><p>è¿™ä¸€æ®µ <em>ç®—æ³•å¯¼è®º</em> ä¸Šè®²çš„å¾ˆå¥½ï¼Œï¼Œï¼Œä¸è¿‡æˆ‘æ„Ÿè§‰è¿˜æ˜¯åœ¨åŸºæœ¬å¼„æ‡‚é‚£å‡ ä¸ªç®—æ³•å†çœ‹ä¸€éæ¯”è¾ƒå¥½QAQ</p><p><a href="https://blog.andrewei.info/2016/04/11/network-flows/" target="_blank" rel="noopener">è¿™é‡Œå°±ç›´æ¥æ‘˜æŠ„åˆ«äººå†™è¿‡çš„ä¸œè¥¿äº†</a></p><h2 id="å®¹é‡ç½‘ç»œå’Œç½‘ç»œæœ€å¤§æµ">å®¹é‡ç½‘ç»œå’Œç½‘ç»œæœ€å¤§æµ</h2><h1 id="å®¹é‡ç½‘ç»œ">å®¹é‡ç½‘ç»œ:</h1><p><span class="math inline">\(è®¾ G(V, E)æ˜¯ä¸€ä¸ªæœ‰å‘ç½‘ç»œ, åœ¨ V ä¸­æŒ‡å®šäº†ä¸€ä¸ªé¡¶ç‚¹, ç§°ä¸ºæºç‚¹(è®°ä¸º Vs ), ä»¥åŠå¦ä¸€ä¸ªé¡¶ç‚¹, ç§°ä¸ºæ±‡ç‚¹(è®°ä¸º Vt); å¯¹äºæ¯ä¸€æ¡å¼§ &lt;u, v&gt;âˆˆE, å¯¹åº”æœ‰ä¸€ä¸ªæƒå€¼ c(u, v)&gt;0, ç§°ä¸ºå¼§çš„å®¹é‡, é€šå¸¸æŠŠè¿™æ ·çš„æœ‰å‘ç½‘ç»œ G ç§°ä¸ºå®¹é‡ç½‘ç»œã€‚\)</span></p><p>æŠŠå®ƒæƒ³è±¡æˆ <strong>è‡ªæ¥æ°´å‚</strong> ã€ <strong>è‡ªæ¥æ°´ç®¡ç½‘</strong> å’Œ <strong>ç”¨æˆ·</strong> é‚£ç§å›¾å°±è¡Œäº†ï¼Œï¼Œï¼Œ</p><h2 id="å¼§çš„æµé‡">å¼§çš„æµé‡:</h2><p>é€šè¿‡å®¹é‡ç½‘ç»œ G ä¸­æ¯æ¡å¼§ &lt;u, v&gt; ä¸Šçš„å®é™…æµé‡(ç®€ç§°æµé‡), è®°ä¸º <span class="math inline">\(f(u, v)\)</span>ã€‚ ### <strong>ç½‘ç»œæµ</strong>: æ‰€æœ‰å¼§ä¸Šæµé‡çš„é›†åˆ f = { f(u, v) },ç§°ä¸ºè¯¥å®¹é‡ç½‘ç»œ G çš„ä¸€ä¸ªç½‘ç»œæµã€‚ ### <strong>å¯è¡Œæµ</strong>: åœ¨å®¹é‡ç½‘ç»œ G(V, E) ä¸­, æ»¡è¶³ä»¥ä¸‹æ¡ä»¶çš„ç½‘ç»œæµ f, ç§°ä¸ºå¯è¡Œæµ:</p><h2 id="å¼§æµé‡é™åˆ¶æ¡ä»¶-0fuvcuv">å¼§æµé‡é™åˆ¶æ¡ä»¶: <span class="math inline">\(0â‰¤f(u,v)â‰¤c(u,v)\)</span></h2><h3 id="å¹³è¡¡æ¡ä»¶"><strong>å¹³è¡¡æ¡ä»¶</strong>:</h3><p>é™¤äº† Vs, Vt å¤–, å…¶ä½™çš„ç‚¹æµå…¥çš„æµé‡æ€»å’Œç­‰äºæµå‡ºçš„æµé‡æ€»å’Œ, å…¶ä¸­ <strong>Vs æµå‡ºçš„æµé‡æ€»å’Œ - æµå‡ºçš„æµé‡æ€»å’Œ = f</strong>, <strong>Vt æµå…¥çš„æµé‡æ€»å’Œ - æµå‡ºçš„æµé‡æ€»å’Œ = f</strong>, å¹¶ä¸”ç§° f ä¸ºå¯æ€§æµçš„æµé‡</p><p>ä¹Ÿå°±æ˜¯æŒ‡: <span class="math inline">\(åœ¨å›¾ä¸­æœ‰ä¸€æ¡ä» Vs åˆ° Vt çš„è·¯å¾„, è¿™æ¡è·¯å¾„ä¸Šèµ·ç‚¹ foâˆ’fi=f, ç»ˆç‚¹ fiâˆ’fo=fï¼Œ å…¶ä»–çš„ç‚¹ fi==fo, å¹¶ä¸”æ‰€æœ‰çš„è¾¹çš„å½“å‰æµé‡å°äºç­‰äºæœ€å¤§æµé‡.(å…¶ä¸­ fi ä»£è¡¨æµå…¥æµé‡, fo ä»£è¡¨æµå‡ºæµé‡)\)</span></p><h3 id="ä¼ªæµ"><strong>ä¼ªæµ</strong>:</h3><p>å¦‚æœä¸€ä¸ªç½‘ç»œæµåªæ»¡è¶³å¼§æµé‡é™åˆ¶æ¡ä»¶, ä¸æ»¡è¶³å¹³è¡¡æ¡ä»¶, åˆ™è¿™ç§ç½‘ç»œæµç§°ä¸ºä¼ªæµ, æˆ–ç§°ä¸ºå®¹é‡å¯è¡Œæµã€‚</p><h3 id="æœ€å¤§æµ"><strong>æœ€å¤§æµ</strong>:</h3><p>åœ¨å®¹é‡ç½‘ç»œ G(V, E) ä¸­, æ»¡è¶³å¼§æµé‡é™åˆ¶æ¡ä»¶å’Œå¹³è¡¡æ¡ä»¶ã€ä¸”å…·æœ‰æœ€å¤§æµé‡çš„å¯è¡Œæµ, ç§°ä¸ºç½‘ç»œæœ€å¤§æµ, ç®€ç§°æœ€å¤§æµã€‚</p><h2 id="é“¾ä¸å¢å¹¿è·¯">é“¾ä¸å¢å¹¿è·¯</h2><p>åœ¨å®¹é‡ç½‘ç»œ G(V, E) ä¸­, è®¾æœ‰ä¸€å¯è¡Œæµ f = { f(u, v) }, æ ¹æ®æ¯æ¡å¼§ä¸Šæµé‡çš„å¤šå°‘ã€ä»¥åŠæµé‡å’Œå®¹é‡çš„å…³ç³»,å¯å°†å¼§åˆ†å››ç§ç±»å‹:</p><p>é¥±å’Œå¼§, å³ f(u,v)=c(u,v); éé¥±å’Œå¼§,å³ f(u,v)&lt;c(u,v); é›¶æµå¼§, å³ f(u,v)=0; éé›¶æµå¼§, å³ f(u,v)&gt;0ã€‚</p><h3 id="é“¾"><strong>é“¾</strong>:</h3><p>åœ¨å®¹é‡ç½‘ç»œä¸­,ç§°é¡¶ç‚¹åºåˆ—(u,u1,u2,â€¦,un,v)ä¸ºä¸€æ¡é“¾,è¦æ±‚ç›¸é‚»ä¸¤ä¸ªé¡¶ç‚¹ä¹‹é—´æœ‰ä¸€æ¡å¼§, å¦‚ &lt;u, u1&gt; æˆ– &lt;u1, u&gt; ä¸ºå®¹é‡ç½‘ç»œä¸­ä¸€æ¡å¼§ã€‚æ²¿ç€ Vs åˆ° Vt çš„ä¸€æ¡é“¾, å„å¼§å¯åˆ†ä¸ºä¸¤ç±»:</p><ul><li><strong>å‰å‘å¼§</strong>: æ–¹å‘ä¸é“¾çš„æ­£æ–¹å‘ä¸€è‡´çš„å¼§, å…¶é›†åˆè®°ä¸º P+;</li><li><strong>åå‘å¼§</strong>: æ–¹å‘ä¸é“¾çš„æ­£æ–¹å‘ç›¸åçš„å¼§, å…¶é›†åˆè®°ä¸º P-; ### <strong>å¢å¹¿è·¯</strong>:</li></ul><p>è®¾ f æ˜¯ä¸€ä¸ªå®¹é‡ç½‘ç»œ G ä¸­çš„ä¸€ä¸ªå¯è¡Œæµ, P æ˜¯ä» Vs åˆ° Vt çš„ä¸€æ¡é“¾, è‹¥ P æ»¡è¶³ä¸‹åˆ—æ¡ä»¶:</p><p>åœ¨ P çš„æ‰€æœ‰<strong>å‰å‘å¼§</strong> &lt;u, v&gt; ä¸Š, 0â‰¤f(u,v)&lt;c(u,v), å³ P+ ä¸­æ¯ä¸€æ¡å¼§éƒ½æ˜¯éé¥±å’Œå¼§; åœ¨ P çš„æ‰€æœ‰<strong>åå‘å¼§</strong> &lt;u, v&gt; ä¸Š, 0&lt;f(u,v)â‰¤c(u,v), å³ Pâ€“ ä¸­æ¯ä¸€æ¡å¼§æ˜¯éé›¶æµå¼§ã€‚ åˆ™ç§° P ä¸ºå…³äºå¯è¡Œæµ f çš„ä¸€æ¡å¢å¹¿è·¯, ç®€ç§°ä¸º <strong>å¢å¹¿è·¯(æˆ–ç§°ä¸ºå¢å¹¿é“¾ã€å¯æ”¹è¿›è·¯)</strong> ã€‚<strong>æ²¿ç€å¢å¹¿è·¯æ”¹è¿›å¯è¡Œæµçš„æ“ä½œç§°ä¸ºå¢å¹¿</strong>ã€‚</p><h2 id="æ®‹ç•™å®¹é‡ä¸æ®‹ç•™ç½‘ç»œ">æ®‹ç•™å®¹é‡ä¸æ®‹ç•™ç½‘ç»œ</h2><h3 id="æ®‹ç•™å®¹é‡"><strong>æ®‹ç•™å®¹é‡</strong>:</h3><p>ç»™å®šå®¹é‡ç½‘ç»œ G(V, E) åŠå¯è¡Œæµ f, å¼§ &lt;u, v&gt; ä¸Šçš„æ®‹ç•™å®¹é‡è®°ä¸º câ€²(u,v)=c(u,v)â€“f(u,v)ã€‚æ¯æ¡å¼§çš„æ®‹ç•™å®¹é‡è¡¨ç¤ºè¯¥å¼§ä¸Šå¯ä»¥å¢åŠ çš„æµé‡ã€‚å› ä¸ºä»é¡¶ç‚¹ u åˆ°é¡¶ç‚¹ v æµé‡çš„å‡å°‘, ç­‰æ•ˆäºé¡¶ç‚¹ v åˆ°é¡¶ç‚¹ u æµé‡å¢åŠ , æ‰€ä»¥æ¯æ¡å¼§ &lt;u, v&gt; ä¸Šè¿˜æœ‰ä¸€ä¸ªåæ–¹å‘çš„æ®‹ç•™å®¹é‡ câ€²(v,u)=â€“f(u,v)ã€‚</p><ul><li>ä¸€ä¸ªå®¹é‡ç½‘ç»œä¸­è¿˜å¯ä»¥å‹å…¥çš„æµé‡ç§°ä¸ºæ®‹ç•™å®¹é‡</li></ul><h3 id="æ®‹ç•™ç½‘ç»œ"><strong>æ®‹ç•™ç½‘ç»œ</strong>:</h3><p><span class="math inline">\(è®¾æœ‰å®¹é‡ç½‘ç»œ G(V, E) åŠå…¶ä¸Šçš„ç½‘ç»œæµ f,G å…³äº f çš„æ®‹ç•™ç½‘ç»œ(ç®€ç§°æ®‹ç•™ç½‘ç»œ)è®°ä¸º G&#39;(V&#39;, E&#39;), å…¶ä¸­ Gâ€™çš„é¡¶ç‚¹é›† Vâ€™å’Œ G çš„é¡¶ç‚¹é›† V ç›¸åŒ,å³ Vâ€™=V, å¯¹äº G ä¸­çš„ä»»ä½•ä¸€æ¡å¼§ &lt;u, v&gt;, å¦‚æœ f(u,v)&lt;c(u,v), é‚£ä¹ˆåœ¨ Gâ€™ä¸­æœ‰ä¸€æ¡å¼§ &lt;u, v&gt;âˆˆE&#39;, å…¶å®¹é‡ä¸º câ€²(u,v)=c(u,v)â€“f(u,v), å¦‚æœ f(u,v)&gt;0,åˆ™åœ¨ Gâ€™ä¸­æœ‰ä¸€æ¡å¼§ &lt;v, u&gt;âˆˆE&#39;, å…¶å®¹é‡ä¸º câ€²(v,u)=f(u,v), æ®‹ç•™ç½‘ç»œä¹Ÿç§°ä¸ºå‰©ä½™ç½‘ç»œ.\)</span></p><ul><li>ç”±æ®‹ç•™çš„å®¹é‡ä»¥åŠæºç‚¹æ±‡ç‚¹æ„æˆçš„ç½‘ç»œã€‚</li></ul><h3 id="å‰²ä¸æœ€å°å‰²"><strong>å‰²ä¸æœ€å°å‰²</strong></h3><p><strong>å‰²</strong>: <span class="math inline">\(åœ¨å®¹é‡ç½‘ç»œ G(V, E) ä¸­, è®¾ E&#39;âŠ†E, å¦‚æœåœ¨ G çš„åŸºå›¾ä¸­åˆ å» Eâ€™ åä¸å†è¿é€š, åˆ™ç§° Eâ€™ æ˜¯ G çš„å‰²ã€‚å‰²å°† G çš„é¡¶ç‚¹é›† V åˆ’åˆ†æˆä¸¤ä¸ªå­é›† S å’Œ T = V - Sã€‚å°†å‰²è®°ä¸º(S, T)ã€‚ s-t å‰²: æ›´è¿›ä¸€æ­¥, å¦‚æœå‰²æ‰€åˆ’åˆ†çš„ä¸¤ä¸ªé¡¶ç‚¹å­é›†æ»¡è¶³æºç‚¹ Vs âˆˆ S,æ±‡ç‚¹ Vt âˆˆ T, åˆ™ç§°è¯¥å‰²ä¸º s-t å‰²ã€‚ s-t å‰²(S, T)ä¸­çš„å¼§ &lt;u, v&gt;(uâˆˆS, vâˆˆT) ç§°ä¸ºå‰²çš„å‰å‘å¼§, å¼§ &lt;u, v&gt;( uâˆˆT, vâˆˆS) ç§°ä¸ºå‰²çš„åå‘å¼§ã€‚\)</span></p><p><strong>å‰²çš„å®¹é‡</strong>:<span class="math inline">\(è®¾ (S, T) ä¸ºå®¹é‡ç½‘ç»œ G(V, E) çš„ä¸€ä¸ªå‰², å…¶å®¹é‡å®šä¹‰ä¸ºæ‰€æœ‰å‰å‘å¼§çš„å®¹é‡æ€»å’Œ, ç”¨ c(S, T) è¡¨ç¤ºã€‚\)</span></p><p><strong>æœ€å°å‰²</strong>: <span class="math inline">\(å®¹é‡ç½‘ç»œ G(V, E) çš„æœ€å°å‰²æ˜¯æŒ‡å®¹é‡æœ€å°çš„å‰²ã€‚\)</span></p><h2 id="ç›¸å…³å®šç†"><strong>ç›¸å…³å®šç†</strong></h2><h3 id="æ®‹ç•™ç½‘ç»œä¸åŸç½‘ç»œçš„å…³ç³»">æ®‹ç•™ç½‘ç»œä¸åŸç½‘ç»œçš„å…³ç³»</h3><p><span class="math inline">\(è®¾ f æ˜¯å®¹é‡ç½‘ç»œ G(V, E) çš„å¯è¡Œæµ, fâ€™ æ˜¯æ®‹ç•™ç½‘ç»œ Gâ€™ çš„å¯è¡Œæµ, åˆ™ f + fâ€™ ä»æ˜¯å®¹é‡ç½‘ç»œ G çš„ä¸€ä¸ªå¯è¡Œæµã€‚(f + fâ€™ è¡¨ç¤ºå¯¹åº”å¼§ä¸Šçš„æµé‡ç›¸åŠ )\)</span></p><h3 id="ç½‘ç»œæµæµé‡ä¸å‰²çš„å‡€æµé‡ä¹‹é—´çš„å…³ç³»">ç½‘ç»œæµæµé‡ä¸å‰²çš„å‡€æµé‡ä¹‹é—´çš„å…³ç³»</h3><p><span class="math inline">\(åœ¨ä¸€ä¸ªå®¹é‡ç½‘ç»œ G(V, E) ä¸­, è®¾å…¶ä»»æ„ä¸€ä¸ªæµä¸º f, å…³äº f çš„ä»»æ„ä¸€ä¸ªå‰²ä¸º(S, T), åˆ™æœ‰ f(S,T)=|f|,å³ç½‘ç»œæµçš„æµé‡ç­‰äºä»»ä½•å‰²çš„å‡€æµé‡ã€‚\)</span></p><h3 id="ç½‘ç»œæµæµé‡ä¸å‰²çš„å®¹é‡ä¹‹é—´çš„å…³ç³»">ç½‘ç»œæµæµé‡ä¸å‰²çš„å®¹é‡ä¹‹é—´çš„å…³ç³»</h3><p><span class="math inline">\(åœ¨ä¸€ä¸ªå®¹é‡ç½‘ç»œ G(V, E) ä¸­, è®¾å…¶ä»»æ„ä¸€ä¸ªæµä¸º f, ä»»æ„ä¸€ä¸ªå‰²ä¸º(S, T), åˆ™å¿…æœ‰ f(S,T)â‰¤c(S,T),å³ç½‘ç»œæµçš„æµé‡å°äºæˆ–ç­‰äºä»»ä½•å‰²çš„å®¹é‡ã€‚\)</span></p><h3 id="æœ€å¤§æµæœ€å°å‰²å®šç†">æœ€å¤§æµæœ€å°å‰²å®šç†</h3><p><span class="math inline">\(å¯¹å®¹é‡ç½‘ç»œ G(V, E), å…¶æœ€å¤§æµçš„æµé‡ç­‰äºæœ€å°å‰²çš„å®¹é‡ã€‚\)</span></p><h3 id="å¢å¹¿è·¯å®šç†">å¢å¹¿è·¯å®šç†</h3><p><span class="math inline">\(è®¾å®¹é‡ç½‘ç»œ G(V, E) çš„ä¸€ä¸ªå¯è¡Œæµä¸º f, f ä¸ºæœ€å¤§æµçš„å……è¦æ¡ä»¶æ˜¯åœ¨å®¹é‡ç½‘ç»œä¸­ä¸å­˜åœ¨å¢å¹¿è·¯ã€‚\)</span></p><h3 id="å‡ ä¸ªç­‰ä»·å‘½é¢˜">å‡ ä¸ªç­‰ä»·å‘½é¢˜</h3><p><span class="math inline">\(è®¾å®¹é‡ç½‘ç»œ G(V, E)çš„ä¸€ä¸ªå¯è¡Œæµä¸º f åˆ™:\)</span></p><p><span class="math inline">\(1) f æ˜¯å®¹é‡ç½‘ç»œ G çš„æœ€å¤§æµ;\)</span></p><p><span class="math inline">\(2) | f |ç­‰äºå®¹é‡ç½‘ç»œæœ€å°å‰²çš„å®¹é‡;\)</span></p><p><span class="math inline">\(3) å®¹é‡ç½‘ç»œä¸­ä¸å­˜åœ¨å¢å¹¿è·¯;\)</span></p><p><span class="math inline">\(4) æ®‹ç•™ç½‘ç»œ Gâ€™ä¸­ä¸å­˜åœ¨ä»æºç‚¹åˆ°æ±‡ç‚¹çš„è·¯å¾„ã€‚\)</span></p><h2 id="æœ€å¤§æµ-1"><strong>æœ€å¤§æµ</strong></h2><p>æœ€å¤§æµç›¸å…³ç®—æ³•æœ‰ä¸¤ç§è§£å†³æ€æƒ³, ä¸€ç§æ˜¯<strong>å¢å¹¿è·¯ç®—æ³•æ€æƒ³</strong>, å¦ä¸€ç§æ˜¯<strong>é¢„æµæ¨è¿›</strong>ç®—æ³•æ€æƒ³ã€‚</p><h1 id="å¢å¹¿è·¯ç®—æ³•"><strong>å¢å¹¿è·¯ç®—æ³•</strong></h1><h2 id="åŸºæœ¬æ€æƒ³">åŸºæœ¬æ€æƒ³</h2><p>æ ¹æ®å¢å¹¿è·¯å®šç†, ä¸ºäº†å¾—åˆ°æœ€å¤§æµ, å¯ä»¥ä»ä»»ä½•ä¸€ä¸ªå¯è¡Œæµå¼€å§‹, æ²¿ç€å¢å¹¿è·¯å¯¹ç½‘ç»œæµè¿›è¡Œå¢å¹¿, ç›´åˆ°ç½‘ç»œä¸­ä¸å­˜åœ¨å¢å¹¿è·¯ä¸ºæ­¢,è¿™æ ·çš„ç®—æ³•ç§°ä¸ºå¢å¹¿è·¯ç®—æ³•ã€‚é—®é¢˜çš„å…³é”®åœ¨äºå¦‚ä½•æœ‰æ•ˆåœ°æ‰¾åˆ°å¢å¹¿è·¯, å¹¶ä¿è¯ç®—æ³•åœ¨æœ‰é™æ¬¡å¢å¹¿åä¸€å®šç»ˆæ­¢ã€‚ å¢å¹¿è·¯ç®—æ³•çš„åŸºæœ¬æµç¨‹æ˜¯ :</p><ul><li><ol type="1"><li>å–ä¸€ä¸ªå¯è¡Œæµ f ä½œä¸ºåˆå§‹æµ(å¦‚æœæ²¡æœ‰ç»™å®šåˆå§‹æµ,åˆ™å–é›¶æµ f= { 0 }ä½œä¸ºåˆå§‹æµ);</li></ol></li><li><ol start="2" type="1"><li>å¯»æ‰¾å…³äº f çš„å¢å¹¿è·¯ P,å¦‚æœæ‰¾åˆ°,åˆ™æ²¿ç€è¿™æ¡å¢å¹¿è·¯ P å°† f æ”¹è¿›æˆä¸€ä¸ªæ›´å¤§çš„æµ, å¹¶å»ºç«‹ç›¸åº”çš„åå‘å¼§;</li></ol></li><li><ol start="3" type="1"><li>é‡å¤ç¬¬(2)æ­¥ç›´åˆ° f ä¸å­˜åœ¨å¢å¹¿è·¯ä¸ºæ­¢ã€‚</li></ol></li></ul><p>å›¾ç¤ºå¦‚ä¸‹: <img src="https://blog.andrewei.info/images/network-flows/FFalgo1.png"></p><p><img src="https://blog.andrewei.info/images/network-flows/FFalgo2.png"></p><p>å¢å¹¿è·¯ç®—æ³•çš„å…³é”®æ˜¯ <strong>å¯»æ‰¾å¢å¹¿è·¯</strong> å’Œ <strong>æ”¹è¿›ç½‘ç»œæµ</strong>.</p><h2 id="åˆ›å»ºåå‘å¼§çš„ä½œç”¨">åˆ›å»ºåå‘å¼§çš„ä½œç”¨ï¼š</h2><p><strong>ä¸ºç¨‹åºæä¾›ä¸€æ¬¡è¿”å›çš„æœºä¼š</strong></p><p>åœ¨å›¾ä¸­å¦‚æœç¨‹åºæ‰¾åˆ°äº†ä¸€æ¡å¢å¹¿è·¯ 1 -&gt; 2 -&gt; 4 -&gt; 6, æ­¤æ—¶å¾—åˆ°ä¸€ä¸ªæµé‡ä¸º 2 çš„æµå¹¶ä¸”æ— æ³•ç»§ç»­è¿›è¡Œå¢å¹¿, ä½†æ˜¯å¦‚æœåœ¨æ›´æ–°å¯è¡Œæµçš„åŒæ—¶å»ºç«‹åå‘å¼§çš„è¯, å°±å¯ä»¥æ‰¾åˆ° 1 -&gt; 3 -&gt; 4 -&gt; 2 -&gt; 5 -&gt; 6 çš„å¯è¡Œæµ, æµé‡ä¸º1, è¿™æ ·å°±å¯ä»¥å¾—åˆ°æœ€å¤§æµä¸º 3.</p><p><img src="https://blog.andrewei.info/images/network-flows/FFalgo7.jpg"></p><h2 id="dinicæ¨¡æ¿ç¨‹åº">dinicæ¨¡æ¿ç¨‹åº</h2><p>å› ä¸ºekç®—æ³•çš„æ•ˆç‡æ²¡æœ‰dinicçš„é«˜ï¼Œï¼Œæ‰€ä»¥æœ¬ç€å…ˆè¿½æ±‚å®ç”¨ä¸»ä¹‰å°±å…ˆçœ‹äº†dinicç®—æ³•ï¼Œï¼Œï¼Œç®—æ³•å®ç°çš„æ¨¡æ¿æ—¶kaungbinçš„ï¼Œï¼Œï¼Œdinic+é“¾å¼å‰å‘æ˜Ÿã€‚ã€‚ã€‚</p><h3 id="ç®—æ³•æ€æƒ³">ç®—æ³•æ€æƒ³</h3><p>DINIC åœ¨æ‰¾å¢å¹¿è·¯çš„æ—¶å€™ä¹Ÿæ˜¯æ‰¾çš„æœ€çŸ­å¢å¹¿è·¯, ä¸ EK ç®—æ³•ä¸åŒçš„æ˜¯ DINIC ç®—æ³•å¹¶ä¸æ˜¯æ¯æ¬¡ bfs åªæ‰¾ä¸€ä¸ªå¢å¹¿è·¯, ä»–ä¼šé¦–å…ˆé€šè¿‡ä¸€æ¬¡ bfs ä¸ºæ‰€æœ‰ç‚¹æ·»åŠ ä¸€ä¸ªæ ‡å·, æ„æˆä¸€ä¸ªå±‚æ¬¡å›¾ï¼Œ ç„¶ååœ¨å±‚æ¬¡å›¾ä¸­å¯»æ‰¾å¢å¹¿è·¯è¿›è¡Œæ›´æ–°ã€‚</p><h3 id="å®ç°æµç¨‹">å®ç°æµç¨‹</h3><ul><li><p>1.åˆ©ç”¨ BFS å¯¹åŸæ¥çš„å›¾è¿›è¡Œåˆ†å±‚ï¼Œå³å¯¹æ¯ä¸ªç»“ç‚¹è¿›è¡Œæ ‡å·ï¼Œè¿™ä¸ªæ ‡å·çš„å«ä¹‰æ˜¯å½“å‰ç»“ç‚¹è·ç¦»æºç‚¹çš„æœ€çŸ­è·ç¦»(å‡è®¾æ¯æ¡è¾¹çš„è·ç¦»éƒ½ä¸º1)ï¼Œæ³¨æ„ï¼šæ„å»ºå±‚æ¬¡å›¾çš„æ—¶å€™æ‰€èµ°çš„è¾¹çš„æ®‹ä½™æµé‡å¿…é¡»å¤§äº0</p></li><li><p>2.ç”¨ DFS å¯»æ‰¾ä¸€æ¡ä»æºç‚¹åˆ°æ±‡ç‚¹çš„å¢å¹¿è·¯, æ³¨æ„: æ­¤å¤„å¯»æ‰¾å¢å¹¿è·¯çš„æ—¶å€™è¦æŒ‰ç…§å±‚æ¬¡å›¾çš„é¡ºåº, å³å¦‚æœå°†è¾¹(u, v)çº³å…¥è¿™æ¡å¢å¹¿è·¯çš„è¯å¿…é¡»æ»¡è¶³dis[u]=dis[v]âˆ’1, å…¶ä¸­ dis[i]ä¸ºç»“ç‚¹ içš„ç¼–å·ã€‚æ‰¾åˆ°ä¸€æ¡è·¯åè¦æ ¹æ®è¿™æ¡å¢å¹¿è·¯å¾„ä¸Šçš„æ‰€æœ‰è¾¹çš„æ®‹ä½™æµé‡çš„æœ€å°å€¼læ›´æ–°æ‰€æœ‰è¾¹çš„æ®‹ä½™æµé‡(å³æ­£å‘å¼§ - l, åå‘å¼§ + l).</p></li><li><p>3ã€‚é‡å¤æ­¥éª¤ 2, å½“æ‰¾ä¸åˆ°ä¸€æ¡å¢å¹¿è·¯çš„æ—¶å€™, é‡å¤æ­¥éª¤ 1, é‡æ–°å»ºç«‹å±‚æ¬¡å›¾, ç›´åˆ°ä»æºç‚¹ä¸èƒ½åˆ°è¾¾æ±‡ç‚¹ä¸ºæ­¢ã€‚</p></li></ul><p><img src="https://blog.andrewei.info/images/network-flows/FFalgo8.jpg"></p><h3 id="æ—¶é—´å¤æ‚åº¦">æ—¶é—´å¤æ‚åº¦</h3><p><span class="math inline">\(O(V^2E)\)</span></p><h3 id="æ€è·¯">æ€è·¯</h3><p>è¿™é“é¢˜çš„é¢˜æ„æ˜¯ç»™ä½ nä¸ªæºç‚¹ï¼ˆå‘ç”µç«™ï¼‰ã€npä¸ªä¸­é—´è·¯å¾„ç‚¹ï¼ˆä¸­è½¬ç«™ï¼‰ã€ncä¸ªæ±‡ç‚¹ï¼ˆç”¨æˆ·ï¼‰ä»¥åŠmä¸ªé€šè·¯ã€‚ã€‚æ±‚æœ€å¤§é€åˆ°ç”¨æˆ·çš„æ•ˆç‡ä¹Ÿå°±æ˜¯å›¾çš„æœ€å¤§æµã€‚ã€‚</p><p>å¤šä¸ªæºç‚¹å’Œæ±‡ç‚¹æ‰€ä»¥è¦å¼„ä¸€ä¸ª<strong>è¶…çº§æºç‚¹s</strong>å’Œ<strong>è¶…çº§æ±‡ç‚¹t</strong>ï¼Œï¼Œï¼Œs,tè¿æºç‚¹ï¼Œæ±‡ç‚¹ç„¶åè·‘dinicå°±è¡Œäº†ï¼Œï¼Œ</p><p>å…·ä½“çš„ä»£ç çš„ç»†èŠ‚éƒ½æ³¨é‡Šåœ¨é‡Œé¢äº†ï¼Œï¼Œï¼Œéƒ½æ˜¯è‡ªå·±çš„ç†è§£å¯èƒ½æœ‰è¯¯ï¼Œï¼Œï¼Œçœ‹çš„å¤´ç–¼.jpg</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//dinicæ±‚ç½‘ç»œæµçš„æœ€å¤§æµ</span></span><br><span class="line"><span class="comment">//bfsæ±‚ä¸€æ¬¡å±‚æ¬¡å›¾</span></span><br><span class="line"><span class="comment">//dfsæ±‚æºç‚¹åˆ°æ±‡ç‚¹çš„ä¸€æ¡å¢å¹¿è·¯</span></span><br><span class="line"><span class="comment">//ç„¶åæ ¹æ®è¿™æ¡å¢å¹¿è·¯ä¸­æ®‹ä½™æµé‡çš„æœ€å°å€¼tpæ¥æ›´æ–°æ‰€æœ‰è¾¹çš„æ®‹ä½™æµé‡</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">105</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxm = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n , np , nc , m;</span><br><span class="line"><span class="keyword">int</span> u , v , z;</span><br><span class="line"><span class="comment">//å‰å‘æ˜Ÿå­˜å›¾</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> to;</span><br><span class="line">    <span class="keyword">int</span> next;</span><br><span class="line">    <span class="keyword">int</span> cap;        <span class="comment">//å®¹é‡</span></span><br><span class="line">    <span class="keyword">int</span> flow;       <span class="comment">//æµé‡</span></span><br><span class="line">&#125;edge[maxm];        <span class="comment">//æ³¨æ„è¾¹æ•°ä¸ºæ‰€ç»™è¾¹æ•°çš„ä¸¤å€å¤š</span></span><br><span class="line"><span class="keyword">int</span> tol;</span><br><span class="line"><span class="keyword">int</span> head[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    tol = <span class="number">2</span>;        <span class="comment">//???</span></span><br><span class="line">    <span class="built_in">memset</span>(head , <span class="number">-1</span> , <span class="keyword">sizeof</span> head);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addedge</span><span class="params">(<span class="keyword">int</span> u , <span class="keyword">int</span> v , <span class="keyword">int</span> w , <span class="keyword">int</span> rw = <span class="number">0</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//å‰å‘æ˜ŸåŠ è¾¹ï¼Œåå‘å¼§å®¹é‡ä¸ºrwä¸€èˆ¬ä¸º0</span></span><br><span class="line">    <span class="comment">//æ­£åå¼§ç›¸é‚»å­˜å‚¨ï¼Œç›´æ¥å¼‚æˆ–å°±èƒ½æ‰¾åˆ°</span></span><br><span class="line">    <span class="comment">//æ­£å‘å¼§çš„ç¼–å·è¦æ¯”åå‘å¼§çš„ç¼–å·å°</span></span><br><span class="line">    edge[tol].to = v;edge[tol].cap = w;edge[tol].flow = <span class="number">0</span>;</span><br><span class="line">    edge[tol].next = head[u];head[u] = tol++;</span><br><span class="line">    edge[tol].to = u; edge[tol].cap = rw;edge[tol].flow = <span class="number">0</span>;</span><br><span class="line">    edge[tol].next = head[v];head[v] = tol++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> q[maxn];        <span class="comment">//åŒå‘é˜Ÿåˆ—ï¼Œbfsä½¿ç”¨</span></span><br><span class="line"><span class="keyword">int</span> dep[maxn] , cur[maxn] , sta[maxn];<span class="comment">//staä¿å­˜å¢å¹¿è·¯çš„è¾¹</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">bfs</span><span class="params">(<span class="keyword">int</span> s , <span class="keyword">int</span> t , <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//bfsæœç´¢ç½‘ç»œçš„å±‚æ¬¡</span></span><br><span class="line">    <span class="keyword">int</span> front = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> tail = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">memset</span>(dep , <span class="number">-1</span> , <span class="keyword">sizeof</span>(dep[<span class="number">0</span>]) * (n + <span class="number">1</span>));</span><br><span class="line">    dep[s] = <span class="number">0</span>;</span><br><span class="line">    q[tail++] = s;</span><br><span class="line">    <span class="keyword">while</span>(front &lt; tail)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> u = q[front++];</span><br><span class="line">        <span class="comment">//å‰å‘æ˜Ÿå›¾çš„éå†</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = head[u]; ~i; i = edge[i].next)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> v = edge[i].to;</span><br><span class="line">            <span class="keyword">if</span>(edge[i].cap &gt; edge[i].flow &amp;&amp; !(~dep[v]))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//(u,v)è¿™æ¡è¾¹çš„å®¹é‡å¤§äºæµé‡æ—¶å³æ®‹ä½™æµé‡å¤§äº0å¹¶ä¸”è¿™ä¸ªç‚¹æ²¡æœ‰è¢«åˆ†å±‚æ—¶</span></span><br><span class="line">                dep[v] = dep[u] + <span class="number">1</span>;    <span class="comment">//åˆ†å±‚</span></span><br><span class="line">                <span class="keyword">if</span>(v == t)<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                q[tail++] = v;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dinic</span><span class="params">(<span class="keyword">int</span> s , <span class="keyword">int</span> t , <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> maxflow = <span class="number">0</span>;            <span class="comment">//å¾…æ±‚çš„æœ€å¤§æµ</span></span><br><span class="line">    <span class="keyword">while</span>(bfs(s , t , n))       <span class="comment">//å½“å±‚æ¬¡å›¾å­˜åœ¨æ—¶è¿›è¡Œdfså¯»æ‰¾å¢å¹¿è·¯</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)cur[i] = head[i]; <span class="comment">//å½“å‰æ‰€æœ‰å¯ä»¥åˆ©ç”¨é“¾å¼å‰å‘æ˜Ÿéå†çš„è¾¹çš„ç¼–å·</span></span><br><span class="line">        <span class="keyword">int</span> u = s , tail = <span class="number">0</span>;   <span class="comment">//tailè¡¨ç¤ºæ‰¾åˆ°çš„å¢å¹¿è·¯çš„ç‚¹çš„æ•°é‡</span></span><br><span class="line">        <span class="keyword">while</span>(~cur[s])          <span class="comment">//è¾¹åˆæ³•æ—¶</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(u == t)          <span class="comment">//æ‰¾åˆ°æ±‡ç‚¹æ—¶ï¼Œå³æ‰¾åˆ°ä¸€æ¡å¢å¹¿è·¯æ—¶</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">int</span> tp = inf;   <span class="comment">//tpä¸ºè¯¥å¢å¹¿è·¯ä¸­æœ€å°çš„æ®‹ä½™æµé‡</span></span><br><span class="line">                <span class="comment">//æ‰¾åˆ°æœ€å°å€¼</span></span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> i = tail - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i)</span><br><span class="line">                    tp = min(tp , edge[sta[i]].cap - edge[sta[i]].flow);</span><br><span class="line">                maxflow += tp;  <span class="comment">//æœ€å¤§æµå¢åŠ </span></span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> i = tail - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="comment">//ç”¨æœ€å°çš„æ®‹ä½™æµé‡æ›´æ–°å‚ä¸ç½‘ç»œ</span></span><br><span class="line">                    <span class="comment">//è¿™é‡Œæ˜¯å€’ç€éå†æ¯ä¸€æ¡å¢å¹¿è·¯ä¸­çš„è¾¹ï¼Œï¼Œ</span></span><br><span class="line">                    <span class="comment">//æ‰€ä»¥ç¼–å·æ˜¯ç”±å¤§åˆ°å°ï¼Œsta[i]æ˜¯(u,v)é‚£æ¡å¼§çš„ç¼–å·ï¼Œsta[i] ^ 1æ˜¯å…¶åå‘å¼§çš„ç¼–å·</span></span><br><span class="line">                    <span class="comment">//æ­£å‘å¼§çš„æµå…¥æµé‡åŠ ä¸Štp</span></span><br><span class="line">                    <span class="comment">//åå‘å¼§çš„æµå…¥æµé‡å°±æ˜¯å‡å»tp</span></span><br><span class="line">                    edge[sta[i]].flow += tp;</span><br><span class="line">                    edge[sta[i] ^ <span class="number">1</span>].flow -= tp;</span><br><span class="line">                    <span class="comment">//è¿™æ¡è·¯çš„æ®‹ä½™æµé‡ä¸ºé›¶ï¼Œç»è¿‡è¿™æ¡è·¯å¾„çš„å¢å¹¿è·¯ä¸å†å­˜åœ¨</span></span><br><span class="line">                    <span class="comment">//å¢å¹¿è·¯çš„å°¾è¾¹ç¼©å›åˆ°è¿™ä¸ªç‚¹</span></span><br><span class="line">                    <span class="comment">//å¹¶å°è¯•å¯»æ‰¾ç»è¿‡è¿™ä¸ªç‚¹çš„å…¶ä»–çš„å¢å¹¿è·¯</span></span><br><span class="line">                    <span class="keyword">if</span>(edge[sta[i]].cap - edge[sta[i]].flow == <span class="number">0</span>)</span><br><span class="line">                        tail = i;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//å½“å‰å¢å¹¿è·¯çš„å°¾è¾¹å›é€€åˆ°ä¸Šä¸€ä¸ªç‚¹ï¼Œï¼Œç»§ç»­æœç´¢å…¶ä»–çš„å¢å¹¿è·¯</span></span><br><span class="line">                u = edge[sta[tail] ^ <span class="number">1</span>].to;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(~cur[u] &amp;&amp;</span><br><span class="line">                    edge[cur[u]].cap &gt; edge[cur[u]].flow &amp;&amp;</span><br><span class="line">                    dep[u] + <span class="number">1</span> == dep[edge[cur[u]].to])</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//å½“è¿™æ¡è¾¹èƒ½åˆ°è¾¾ã€æ®‹ä½™æµé‡ä¸ºæ­£å€¼å¹¶ä¸”uæ˜¯vçš„ä¸Šä¸€å±‚çš„ç‚¹æ—¶</span></span><br><span class="line">                sta[tail++] = cur[u];   <span class="comment">//å¢å¹¿è·¯çš„ç‚¹æ•°tail++ï¼Œå¹¶ä¿å­˜è¿™æ¡è¾¹åˆ°sta</span></span><br><span class="line">                u = edge[cur[u]].to;    <span class="comment">//æ›´æ–°u</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//å›é€€ï¼Ÿï¼Ÿ</span></span><br><span class="line">                <span class="comment">//while(u != s &amp;&amp; cur[u] == -1)</span></span><br><span class="line">                <span class="keyword">while</span>(u != s &amp;&amp; !(~cur[u]))</span><br><span class="line">                    u = edge[sta[--tail] ^ <span class="number">1</span>].to;</span><br><span class="line">                cur[u] = edge[cur[u]].next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxflow;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d%d%d "</span> , &amp;n , &amp;np , &amp;nc , &amp;m) != EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        init();</span><br><span class="line">        <span class="keyword">while</span>(m--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">" (%d,%d)%d"</span> , &amp;u , &amp;v , &amp;z); <span class="comment">//è¾“å…¥å‰é¢æœ‰ç©ºæ ¼</span></span><br><span class="line">            ++u;++v;</span><br><span class="line">            addedge(u , v , z);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(np--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">" (%d)%d"</span> , &amp;u , &amp;z);</span><br><span class="line">            ++u;</span><br><span class="line">            addedge(<span class="number">0</span> , u , z);                 <span class="comment">//è¶…çº§æºç‚¹</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(nc--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">" (%d)%d"</span> , &amp;u , &amp;z);</span><br><span class="line">            ++u;</span><br><span class="line">            addedge(u , n + <span class="number">1</span> , z);             <span class="comment">//è¶…çº§æ±‡ç‚¹</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span> , dinic(<span class="number">0</span> , n + <span class="number">1</span> , n + <span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><del>ä¸‹ä¸€ä¸ªå°±æ˜¯sap,isapäº†å§ï¼Œï¼Œï¼Œå¤´ç–¼ing</del></p><p><del>(end)</del></p><h2 id="isapæ¨¡æ¿"><strong>isapæ¨¡æ¿</strong></h2><h3 id="ç®—æ³•æ€è·¯"><strong>ç®—æ³•æ€è·¯</strong></h3><p><strong>æœ€çŸ­å¢å¹¿è·¯ç®—æ³•(SAP)</strong></p><blockquote><p><strong>ç®—æ³•æ€æƒ³</strong> æœ€çŸ­å¢å¹¿è·¯ç®—æ³•æ˜¯ä¸€ç§è¿ç”¨è·ç¦»æ ‡å·ä½¿å¯»æ‰¾å¢å¹¿è·¯çš„æ—¶é—´å¤æ‚åº¦ä¸‹é™çš„ç®—æ³•ã€‚æ‰€è°“çš„è·ç¦»æ ‡å·å°±æ˜¯æŸä¸ªç‚¹åˆ°æ±‡ç‚¹çš„æœ€å°‘çš„å¼§çš„æ•°é‡(å³å½“è¾¹æƒä¸º1æ—¶æŸä¸ªç‚¹çš„æœ€çŸ­è·¯å¾„é•¿åº¦). è®¾ç‚¹içš„æ ‡å·ä¸ºd[i], é‚£ä¹ˆå¦‚æœå°†æ»¡è¶³d[i] = d[j] + 1, ä¸”å¢å¹¿æ—¶åªèµ°å…è®¸å¼§, é‚£ä¹ˆå°±å¯ä»¥è¾¾åˆ°â€æ€ä¹ˆèµ°éƒ½æ˜¯æœ€çŸ­è·¯â€çš„æ•ˆæœ. æ¯ä¸ªç‚¹çš„åˆå§‹æ ‡å·å¯ä»¥åœ¨ä¸€å¼€å§‹ç”¨ä¸€æ¬¡ä»æ±‡ç‚¹æ²¿æ‰€æœ‰åå‘çš„BFSæ±‚å‡º.</p></blockquote><h3 id="ç®—æ³•æµç¨‹"><strong>ç®—æ³•æµç¨‹</strong></h3><blockquote><p><strong>ç®—æ³•æµç¨‹</strong> + 1) å®šä¹‰èŠ‚ç‚¹çš„æ ‡å·ä¸ºåˆ°æ±‡ç‚¹çš„æœ€çŸ­è·ç¦»; + 2) æ¯æ¬¡æ²¿å¯è¡Œè¾¹è¿›è¡Œå¢å¹¿, å¯è¡Œè¾¹å³: å‡è®¾æœ‰ä¸¤ä¸ªç‚¹ i, j è‹¥ d[i] = 3, d[j] = 4, åˆ™d[j] = d[i] + 1, ä¹Ÿå°±æ˜¯ä» j åˆ° i æœ‰ä¸€æ¡è¾¹. + 3) æ‰¾åˆ°å¢å¹¿è·¯åï¼Œå°†è·¯å¾„ä¸Šæ‰€æœ‰è¾¹çš„æµé‡æ›´æ–°. + 4) éå†å®Œå½“å‰ç»“ç‚¹çš„å¯è¡Œè¾¹åæ›´æ–°å½“å‰ç»“ç‚¹çš„æ ‡å·ä¸º <span class="math inline">\(d[now]=min(d[next]|Flow(now,next)&gt;0)+1\)</span>ï¼Œä½¿ä¸‹æ¬¡å†æœçš„æ—¶å€™æœ‰è·¯å¯èµ°ã€‚ + 5) å›¾ä¸­ä¸å­˜åœ¨å¢å¹¿è·¯åå³é€€å‡ºç¨‹åºï¼Œæ­¤æ—¶å¾—åˆ°çš„æµé‡å€¼å°±æ˜¯æœ€å¤§æµã€‚</p></blockquote><blockquote><p>éœ€è¦æ³¨æ„çš„æ˜¯, æ ‡å·çš„æ›´æ–°è¿‡ç¨‹é¦–å…ˆæˆ‘ä»¬è¦ç†è§£æ›´æ–°æ ‡å·çš„ç›®çš„ã€‚<strong>æ ‡å·å¦‚æœéœ€è¦æ›´æ–°</strong>ï¼Œ<strong>è¯´æ˜åœ¨å½“å‰çš„æ ‡å·ä¸‹å·²ç»æ²¡æœ‰å¢å¹¿è·¯å¯ä»¥ç»§ç»­èµ°</strong>ï¼Œè¿™æ—¶æ›´æ–°æ ‡å·å°±å¯ä»¥ä½¿å¾—æˆ‘ä»¬æœ‰ç»§ç»­å‘ä¸‹èµ°çš„å¯èƒ½ï¼Œ<strong>å¹¶ä¸”æ¯æ¬¡æ‰¾çš„éƒ½æ˜¯èƒ½èµ°åˆ°çš„ç‚¹ä¸­æ ‡å·æœ€å°çš„é‚£ä¸ªç‚¹</strong>ï¼Œè¿™æ ·ä¹Ÿä½¿å¾—æ¯æ¬¡æœç´¢é•¿åº¦æœ€å°.</p></blockquote><p><strong>ä¸‹é¢çš„å›¾æ¼”ç¤ºäº†æ ‡å·çš„æ›´æ–°è¿‡ç¨‹:</strong></p><ul><li><p>1.é¦–å…ˆæˆ‘ä»¬å‡è®¾æœ‰ä¸ªå›¾å¦‚ä¸‹ï¼Œä¸ºäº†ç®€åŒ–æ²¡æœ‰æ ‡ç®­å¤´ä¹Ÿæ²¡æœ‰å†™æµé‡: <img src="https://blog.andrewei.info/images/network-flows/FFalgo3.png"></p></li><li><p>2.çº¢è‰²çš„æ•°ä¸ºå›¾æ ‡å·, æ¯ä¸ªç‚¹çš„æ ‡å·ä¸ºå…¶åˆ°æ±‡ç‚¹çš„æœ€çŸ­è·ç¦»(è¿™é‡ŒæŠŠæ¯æ¡è¾¹çœ‹ä½œ1) <img src="https://blog.andrewei.info/images/network-flows/FFalgo4.png"></p></li><li><p>3.ç¬¬ä¸€ééå†æ—¶ï¼Œæ‰¾åˆ°äº†1-&gt;2-&gt;9è¿™æ ·ä¸€æ¡å¢å¹¿è·¯ä»¥åï¼Œæ›´æ–°è¾¹ä¸Šæµé‡å€¼, å¾—åˆ°ä¸‹å›¾ <img src="https://blog.andrewei.info/images/network-flows/FFalgo5.png"></p></li></ul><p><span class="math inline">\(æ£•è‰²å­—ä½“ä¸ºè¾¹ä¸Šçš„æµé‡å€¼ã€‚è¿™æ—¶æŒ‰ç…§æ ‡å·å†æœä¸€é,å‘ç°ä»1å‡ºå‘å·²ç»æ‰¾ä¸åˆ°å¢å¹¿è·¯äº†ï¼Œå› ä¸ºflow(1,2)ç­‰äº0ä¸å¯ä»¥èµ°ï¼Œh[1]=2,h[3]=2â‰ h[1]+1,h[5]=4â‰ h[1]+1ï¼Œæ‰€ä»¥è¿™æ—¶æ›´æ–°1çš„æ ‡å·ï¼ŒæŒ‰ç…§ min(h[next]|Flow(now,next)&gt;0)+1ï¼Œä¿®æ”¹å h[1]=h[3]+1=3.\)</span></p><ul><li><p>4.ç¬¬äºŒééå†ä»¥åæ‰¾åˆ°äº†è¿™æ ·ä¸€æ¡å¢å¹¿è·¯ï¼š1-&gt;3-&gt;4-&gt;9,åšå®Œè¿™æ¡è·¯ä»¥ååˆå‘ç°æ— æ³•æ‰¾åˆ°å¯è¡Œè¾¹äº†ï¼Œè¿™æ—¶å†æ›´æ–°æ ‡å·ä½¿å›¾ä¸­æœ‰è·¯å¯èµ°ï¼Œå¦‚ä¸Šæ–‡æ‰€è¯´çš„é‚£æ ·åšï¼Œå†æ¬¡ä¿®æ”¹åh[1]=h[5]+1=5ï¼Œå°±è¿™æ ·æœç´¢å¹¶æ›´æ–°ç›´åˆ°å˜æˆä¸‹å›¾ <img src="https://blog.andrewei.info/images/network-flows/FFalgo6.png"></p></li><li><p>5.è¿™æ—¶å†æ›´æ–°h[1]å‘ç°æ²¡æœ‰ç‚¹å¯ä»¥ç”¨æ¥æ›´æ–°h[1]äº†ï¼Œäºæ˜¯æ­¤æ—¶h[1]=âˆï¼Œä½¿ç¨‹åºé€€å‡ºã€‚</p></li></ul><h3 id="å®ç°">å®ç°</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//isap+bfs+stackæ±‚æœ€å¤§æµ</span></span><br><span class="line"><span class="comment">//è²Œä¼¼æ—¶é—´å¤æ‚åº¦è¦æ¯”dinicè¿˜è¦å°ä¸€äº›</span></span><br><span class="line"><span class="comment">//bfsåªæ±‚ä¸€æ¬¡å±‚æ¬¡å›¾ï¼Œè€Œä¸”ç¼–å·æ˜¯ä»æ±‡ç‚¹å¼€å§‹çš„</span></span><br><span class="line"><span class="comment">//ä¹‹åçš„ç¼–å·çš„æ›´æ–°åœ¨isapä¸­æ›´æ–°</span></span><br><span class="line"><span class="comment">//æ›´æ–°æŒ‰ç…§d[now]=min(d[next]|Flow(now,next)&gt;0)+1</span></span><br><span class="line"><span class="comment">//gapä¼˜åŒ–çš„ç›®çš„æ˜¯å½“å‡ºç°æ–­é“¾æ—¶ï¼Œå³å­˜åœ¨ç¼–å·çš„ä¸ªæ•°ä¸ºé›¶çš„æƒ…å†µæ—¶åœæ­¢å¯»æ‰¾ä¸å­˜åœ¨å¢å¹¿è·¯</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">105</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxm = <span class="number">1e6</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">int</span> tol;</span><br><span class="line"><span class="keyword">int</span> n , np , nc , m;</span><br><span class="line"><span class="keyword">int</span> u , v , z;</span><br><span class="line"><span class="keyword">int</span> head[maxn];         <span class="comment">//é“¾å¼å‰å‘æ˜Ÿå­˜å›¾</span></span><br><span class="line"><span class="keyword">int</span> gap[maxn];          <span class="comment">//gapä¼˜åŒ–ï¼Œï¼Œgap[i]è¡¨ç¤ºç¼–å·ä¸ºiçš„èŠ‚ç‚¹çš„æ•°é‡ï¼Œï¼Œä¸ºé›¶è¡¨ç¤ºå‡ºç°æ–­é“¾</span></span><br><span class="line"><span class="keyword">int</span> dis[maxn];          <span class="comment">//åˆ†å±‚åæ¯ä¸ªç‚¹çš„ç¼–å·</span></span><br><span class="line"><span class="keyword">int</span> cur[maxn];          <span class="comment">//å¼§ä¼˜åŒ–æ‰€ä¿å­˜çš„å¼§ï¼Œé¿å…å¤šæ¬¡èµ°åˆ°é‡å¤çš„ä½ç½®ä¸Šï¼Œæ¯”å¦‚èµ°è¿‡x-&gt;yè¿™æ¡è¾¹åï¼Œä¸‹æ¬¡å†ä»xä¸ºèµ·ç‚¹å¼€å§‹èµ°æ˜¯å°±ä¸å†èµ°x-&gt;yçš„è¾¹äº†</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> to;</span><br><span class="line">    <span class="keyword">int</span> next;</span><br><span class="line">    <span class="keyword">int</span> cap;</span><br><span class="line">    <span class="keyword">int</span> flow;</span><br><span class="line">&#125;edge[maxm];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    tol = <span class="number">0</span>;            <span class="comment">//ï¼Ÿï¼Ÿï¼Ÿ</span></span><br><span class="line">    <span class="built_in">memset</span>(head , <span class="number">-1</span> , <span class="keyword">sizeof</span> head);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addedge</span><span class="params">(<span class="keyword">int</span> u , <span class="keyword">int</span> v , <span class="keyword">int</span> w , <span class="keyword">int</span> rw = <span class="number">0</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    edge[tol].to = v;edge[tol].cap = w;edge[tol].flow = <span class="number">0</span>;</span><br><span class="line">    edge[tol].next = head[u];head[u] = tol++;</span><br><span class="line">    edge[tol].to = u; edge[tol].cap = rw;edge[tol].flow = <span class="number">0</span>;</span><br><span class="line">    edge[tol].next = head[v];head[v] = tol++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> q[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bfs</span><span class="params">(<span class="keyword">int</span> s , <span class="keyword">int</span> t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//bfsä¸€æ¬¡å¾—åˆ°ä»æ±‡ç‚¹å¼€å§‹çš„å±‚æ¬¡å›¾</span></span><br><span class="line">    <span class="built_in">memset</span>(dis , <span class="number">-1</span> , <span class="keyword">sizeof</span> dis);</span><br><span class="line">    <span class="built_in">memset</span>(gap , <span class="number">0</span> , <span class="keyword">sizeof</span> gap);</span><br><span class="line">    gap[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> front = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> rear = <span class="number">0</span>;</span><br><span class="line">    dis[t] = <span class="number">0</span>;         <span class="comment">//æ±‡ç‚¹çš„ç¼–å·æ˜¯0</span></span><br><span class="line">    q[rear++] = t;</span><br><span class="line">    <span class="keyword">while</span>(front != rear)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//è¿™é‡Œbfsåº”è¯¥ç”¨çš„é€†å›¾</span></span><br><span class="line">        <span class="keyword">int</span> u = q[front++];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = head[u]; ~i; i = edge[i].next)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> v = edge[i].to;</span><br><span class="line">            <span class="keyword">if</span>(~dis[v]) <span class="keyword">continue</span>;</span><br><span class="line">            q[rear++] = v;</span><br><span class="line">            dis[v] = dis[u] + <span class="number">1</span>;    <span class="comment">//ç›¸é‚»ç¼–å·é€’å¢</span></span><br><span class="line">            ++gap[dis[v]];          <span class="comment">//å¯¹åº”ç¼–å·çš„ç‚¹çš„æ•°é‡å¢ä¸€</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> <span class="built_in">stack</span>[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">isap</span><span class="params">(<span class="keyword">int</span> s , <span class="keyword">int</span> t , <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    bfs(s , t);                     <span class="comment">//å»ºä¸€æ¬¡å±‚æ¬¡å›¾</span></span><br><span class="line">    <span class="built_in">memcpy</span>(cur , head , <span class="keyword">sizeof</span> head);</span><br><span class="line">    <span class="keyword">int</span> top = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> u = s;</span><br><span class="line">    <span class="keyword">int</span> maxflow = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(dis[s] &lt; n)               <span class="comment">//æœ€å¤§çš„ç¼–å·åªå¯èƒ½æ˜¯n-1ï¼Œå¤§äºè¯´æ˜å‡ºç°æ–­å±‚</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(u == t)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//å½“æ‰¾åˆ°ä¸€æ¡å¢å¹¿è·¯æ—¶ï¼Œæ›´æ–°è¿™æ¡è·¯ä¸Šçš„æµé‡</span></span><br><span class="line">            <span class="keyword">int</span> min = inf;</span><br><span class="line">            <span class="keyword">int</span> inser;              <span class="comment">//è®°å½•å›é€€ç‚¹</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; top; ++i)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//æ‰¾åˆ°å¢å¹¿è·¯ä¸Šçš„æœ€å°æ®‹ä½™æµé‡</span></span><br><span class="line">                <span class="keyword">if</span>(min &gt; edge[<span class="built_in">stack</span>[i]].cap - edge[<span class="built_in">stack</span>[i]].flow)</span><br><span class="line">                &#123;</span><br><span class="line">                    min = edge[<span class="built_in">stack</span>[i]].cap - edge[<span class="built_in">stack</span>[i]].flow;</span><br><span class="line">                    inser = i;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; top; ++i)</span><br><span class="line">            &#123;</span><br><span class="line">                edge[<span class="built_in">stack</span>[i]].flow += min;</span><br><span class="line">                edge[<span class="built_in">stack</span>[i] ^ <span class="number">1</span>].flow -= min;</span><br><span class="line">            &#125;</span><br><span class="line">            maxflow += min;</span><br><span class="line">            <span class="comment">//å›é€€</span></span><br><span class="line">            top = inser;</span><br><span class="line">            u = edge[<span class="built_in">stack</span>[top] ^ <span class="number">1</span>].to;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">int</span> v;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = cur[u]; ~i; i = edge[i].next)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//æ‰¾åˆ°ä¸€æ¡ä»uå‡ºå‘çš„å¯è¡Œè·¯å¾„</span></span><br><span class="line">            <span class="comment">//æ»¡è¶³æ®‹ä½™æµé‡å¤§äºé›¶å¹¶ä¸”væ˜¯uçš„ä¸‹ä¸€å±‚</span></span><br><span class="line">            v = edge[i].to;</span><br><span class="line">            <span class="keyword">if</span>(edge[i].cap - edge[i].flow &amp;&amp; dis[v] + <span class="number">1</span> == dis[u])</span><br><span class="line">            &#123;</span><br><span class="line">                flag = <span class="literal">true</span>;</span><br><span class="line">                cur[u] = i;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(flag)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//å­˜åœ¨è¿™æ ·çš„å¯è¡Œè·¯å¾„æ—¶å‹æ ˆä¿å­˜</span></span><br><span class="line">            <span class="comment">//continueç»§ç»­æ‰¾</span></span><br><span class="line">            <span class="built_in">stack</span>[top++] = cur[u];</span><br><span class="line">            u = v;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> min = n;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = head[u]; ~i; i = edge[i].next)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(edge[i].cap - edge[i].flow &amp;&amp; dis[edge[i].to] &lt; min)</span><br><span class="line">            &#123;</span><br><span class="line">                min = dis[edge[i].to];</span><br><span class="line">                cur[u] = i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        --gap[dis[u]];                          <span class="comment">//è¯¥ç¼–å·çš„æ•°é‡å‡ä¸€</span></span><br><span class="line">        <span class="keyword">if</span>(!gap[dis[u]])    <span class="keyword">return</span> maxflow;     <span class="comment">//å‡ºç°æ–­å±‚æ—¶é€€å‡º</span></span><br><span class="line">        dis[u] = min + <span class="number">1</span>;</span><br><span class="line">        ++gap[dis[u]];</span><br><span class="line">        <span class="keyword">if</span>(u != s)</span><br><span class="line">            u = edge[<span class="built_in">stack</span>[--top] ^ <span class="number">1</span>].to;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxflow;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//freopen("233.txt" , "r" , stdin);</span></span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d%d%d "</span> , &amp;n , &amp;np , &amp;nc , &amp;m) != EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        init();</span><br><span class="line">        <span class="keyword">while</span>(m--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">" (%d,%d)%d"</span> , &amp;u , &amp;v , &amp;z);</span><br><span class="line">            ++u;++v;</span><br><span class="line">            addedge(u , v , z);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(np--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">" (%d)%d"</span> , &amp;u , &amp;z);</span><br><span class="line">            ++u;</span><br><span class="line">            addedge(<span class="number">0</span> , u , z);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(nc--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">" (%d)%d"</span> , &amp;u , &amp;z);</span><br><span class="line">            ++u;</span><br><span class="line">            addedge(u , n + <span class="number">1</span> , z);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span> , isap(<span class="number">0</span> , n + <span class="number">1</span> , n + <span class="number">2</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿˜æœ‰ä¸€ä¸ªæ›´å¿«çš„å®ç°çš„æ–¹æ³•ï¼Œï¼Œé¢„æµæ¨è¿›ç®—æ³•ï¼Œï¼Œï¼Œé‚£å¤©å†çœ‹æŠŠï¼Œï¼Œï¼Œ</p><p>æ¥ä¸‹æ¥å°±æ˜¯åšå‡ é“é¢˜å»çœ‹æœ€å°è´¹ç”¨æœ€å¤§æµäº†å§ï¼Œï¼Œï¼Œï¼Œ</p><p>æ—¶é—´ä¸ºä»€ä¹ˆè¿™ä¹ˆçš„å¿«å•ŠQAQ,,,</p>]]></content>
      
      <categories>
          
          <category> ACM-ç½‘ç»œæµ-æœ€å¤§æµ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> acm </tag>
            
            <tag> åˆ·é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>poj-2421-æœ€å°ç”Ÿæˆæ ‘åˆ·é¢˜</title>
      <link href="/2018/11/20/poj-2421-%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91%E5%88%B7%E9%A2%98/"/>
      <content type="html"><![CDATA[<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1><p>åšäº†å‡ é“æœ€å°ç”Ÿæˆæ ‘çš„é¢˜ï¼Œï¼Œï¼Œéƒ½æ˜¯äº›æ¿å­é¢˜ï¼Œï¼Œï¼Œç›´æ¥å¥—æ¿å­å°±èƒ½è¿‡ï¼Œï¼Œï¼Œæœ‰ä¸€äº›æ˜¯åœ¨è¾“å…¥æ•°æ®åšæ–‡ç« ï¼Œï¼Œå¤„ç†ä¸€ä¸‹å†å»ºå›¾å°±è¡Œäº†ï¼Œï¼Œï¼Œ</p><p><a href="http://poj.org/problem?id=2421" target="_blank" rel="noopener">è¿™é“æœ€å°ç”Ÿæˆæ ‘çš„é¢˜ç¨å¾®éœ€è¦å¤„ç†ä¸€ä¸‹ï¼Œï¼Œä¸è¿‡ä¹‹åä¹Ÿå°±æ˜¯å¥—æ¿å­äº†ï¼Œï¼Œï¼Œ</a></p><a id="more"></a><h1 id="é¢˜æ„åˆ†æ">é¢˜æ„åˆ†æ</h1><p>å¤§è‡´çš„é¢˜æ„å°±æ˜¯ç»™å‡ºnä¸ªæ‘åº„ä¹‹é—´çš„è·ç¦»ï¼Œï¼Œï¼Œç„¶åå†ç»™å‡ºå‡ ä¸ªæ‘åº„ä¹‹é—´å·²ç»å­˜åœ¨çš„è·¯å¾„ï¼Œï¼Œï¼Œç„¶åè®©ä½ å†æ·»åŠ å‡ æ¡è·¯å¾„ä½¿å¾—æ‰€æœ‰çš„è·¯å¾„çš„å’Œæœ€å°ï¼Œï¼Œï¼Œé—®ä½ æ·»åŠ çš„è¿™ä¸ªå€¼æ˜¯å¤šå°‘ï¼Œï¼Œï¼Œ</p><p>ä¹‹å‰åšçš„é‚£å‡ é“é¢˜éƒ½æ˜¯å›¾å·²ç»å¼„å¥½ï¼Œï¼Œï¼Œè·¯å¾„æ˜¯ç»™å®šçš„é—®ä½ æœ€å°çš„æƒé‡ä¹‹å’Œï¼Œï¼Œï¼Œè¿™é“é¢˜ç›¸å½“äºç»™ä½ éƒ¨åˆ†å›¾é—®ä½ æœ€å°çš„æƒé‡å’Œï¼Œï¼Œï¼Œ</p><p>å…¶å®åªè¦åœ¨åŠ è¾¹å»ºå›¾çš„æ—¶å€™æŠŠç»™çš„è¾¹çš„æƒé‡ç½®ä¸º0å½“ä½œè¿™æ¡è¾¹å¯ä»¥èµ°ï¼Œä½†æˆ‘ä»¬ä¸ç®—æƒé‡ï¼Œï¼Œè¿™æ ·è·‘ä¸€éæœ€å°ç”Ÿæˆæ ‘å°±èƒ½å¾—åˆ°ç­”æ¡ˆï¼Œï¼Œï¼Œ</p><h1 id="ä»£ç ">ä»£ç </h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxm = <span class="number">1e5</span> + <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> mp[maxn][maxn];</span><br><span class="line"><span class="keyword">int</span> father[maxn];</span><br><span class="line"><span class="keyword">bool</span> vis[maxn];</span><br><span class="line"><span class="keyword">int</span> n , m;</span><br><span class="line"><span class="keyword">int</span> tot;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> u , v , w;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> edge &amp;r) <span class="keyword">const</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> w &lt; r.w;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;edge[maxm];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addedge</span><span class="params">(<span class="keyword">int</span> _u , <span class="keyword">int</span> _v , <span class="keyword">int</span> _w)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    edge[tot].u = _u;</span><br><span class="line">    edge[tot].v = _v;</span><br><span class="line">    edge[tot++].w = _w;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x == father[x])  <span class="keyword">return</span> x;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> father[x] = find(father[x]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">kruskal</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">        father[i] = i;</span><br><span class="line">    sort(edge , edge + tot);</span><br><span class="line">    <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; tot; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> t1 = find(edge[i].u);</span><br><span class="line">        <span class="keyword">int</span> t2 = find(edge[i].v);</span><br><span class="line">        <span class="keyword">if</span>(t1 != t2)</span><br><span class="line">        &#123;</span><br><span class="line">            father[t1] = t2;</span><br><span class="line">            sum += edge[i].w;</span><br><span class="line">            ++cnt;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(cnt == n - <span class="number">1</span>)    <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(n &lt; n - <span class="number">1</span>)   <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">else</span>            <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;n) != EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> u , v , w;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; ++j)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;w);</span><br><span class="line">                addedge(i , j , w);</span><br><span class="line">                addedge(j , i , w);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;m);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d"</span> , &amp;u , &amp;v);</span><br><span class="line">            addedge(u , v , <span class="number">0</span>);</span><br><span class="line">            addedge(v , u , <span class="number">0</span>);</span><br><span class="line">            <span class="comment">//æ— å‘å›¾è®°å¾—æ­£åéƒ½è¦åŠ è¾¹ï¼Œï¼Œï¼Œå°‘åŠ äº†ä¸€ä¸ªwaäº†ä¸€å‘ï¼Œï¼Œï¼Œï¼ŒQAQ</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span> , kruskal());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>(end)</p>]]></content>
      
      <categories>
          
          <category> ACM-æœ€å°ç”Ÿæˆæ ‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> acm </tag>
            
            <tag> åˆ·é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>poj-1251-æœ€å°ç”Ÿæˆæ ‘</title>
      <link href="/2018/11/20/poj-1251-%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/"/>
      <content type="html"><![CDATA[<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1><p>å‰æ®µæ—¶é—´æ•°æ®ç»“æ„çš„è¯¾ä¸Šæåˆ°äº†äº†<strong>æœ€å°ç”Ÿæˆæ ‘</strong>ï¼Œï¼Œæš‘å‡çš„é›†è®­è™½ç„¶å†å­¦å¹¶æŸ¥é›†çš„æ—¶å€™çœ‹è¿‡ä¸€äº›ï¼Œï¼Œä½†æ˜¯ä¹‹åå¥½ä¹…æ²¡å†ç”¨è¿‡ï¼Œï¼Œæ—©å°±å¿˜è®°äº†ï¼Œï¼Œï¼Œä»Šå¤©æŠ½æ—¶é—´çœ‹äº†çœ‹ï¼Œï¼ŒæŠŠæœ€å°ç”Ÿæˆæ ‘çš„ä¸¤ä¸ªä¸»è¦ç®—æ³• <strong>prim</strong> å’Œ <strong>kruskal</strong>äº†è§£äº†ä¸€ä¸‹ï¼Œï¼Œï¼Œåšå‡ é“é¢˜ï¼Œï¼ŒæŠŠè‡ªå·±çš„æ¨¡æ¿å¼„å‡ºæ¥</p><a id="more"></a><h1 id="åˆ†æ">åˆ†æ</h1><p>è¿™ä¸¤ä¸ªç®—æ³•å¾ˆç®€å•ï¼Œï¼Œï¼Œçœ‹å‡ éå°±å¯ä»¥å»æ•²å»äº†ï¼Œï¼Œï¼Œ</p><p><a href="https://blog.csdn.net/mgsky1/article/details/77840286" target="_blank" rel="noopener">æ”¾å‡ ä¸ªåˆ«äººçš„åšå®¢ï¼Œï¼Œé˜²æ­¢ä»¥åå¿˜è®°äº†èƒ½å¿«é€Ÿå›æƒ³èµ·æ¥</a> <a href="https://blog.csdn.net/m0_37345402/article/details/76474311" target="_blank" rel="noopener">è¿˜æœ‰ä¸€ä¸ª</a></p><p>primç®—æ³•ä¸»è¦çš„æ€è·¯æ˜¯å°†æœ€å°ç”Ÿæˆæ ‘æ…¢æ…¢çš„å˜å¤§ï¼Œï¼Œï¼Œ kruskalç®—æ³•ä¸»è¦æ˜¯åˆ©ç”¨å¹¶æŸ¥é›†å°†å¤šä¸ªæ ‘ä¹Ÿå°±æ˜¯æ£®æ—æ…¢æ…¢çš„åˆå¹¶æˆæœ€åçš„æ ‘</p><h1 id="æ¨¡æ¿ä»£ç ">æ¨¡æ¿ä»£ç </h1><p><a href="http://poj.org/problem?id=1251" target="_blank" rel="noopener">åšäº†ä¸€é“æ¨¡æ¿é¢˜</a>ï¼Œï¼Œé¢˜æ„å°±æ˜¯å¯¹ç»™å®šçš„ä¸€ä¸ªå›¾ï¼Œï¼Œå»æ‰ä¸€äº›è¾¹ï¼Œï¼Œæ±‚èŠ±è´¹æœ€å°çš„æ–¹æ¡ˆï¼Œï¼Œï¼Œå…¶å®å°±æ˜¯æƒå€¼å’Œæœ€å°çš„é‚£ä¸€ç§ï¼Œï¼Œ</p><p>primæ–¹æ³•ï¼š <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">30</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> mp[maxn][maxn];</span><br><span class="line"><span class="keyword">bool</span> vis[maxn];</span><br><span class="line"><span class="keyword">int</span> dis[maxn];</span><br><span class="line"><span class="keyword">int</span> n , m;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">prim</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">memset</span>(vis , <span class="literal">false</span> , <span class="keyword">sizeof</span> vis);</span><br><span class="line">    vis[<span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">        dis[i] = mp[<span class="number">1</span>][i];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> m = inf;</span><br><span class="line">        <span class="keyword">int</span> p = <span class="number">-1</span>;</span><br><span class="line">        <span class="comment">//ä»æ‰€æœ‰çš„ä¸ºåŠ å…¥æœ€å°ç”Ÿæˆæ ‘é›†åˆçš„ç‚¹é›†é‡Œæ‰¾åˆ°ä¸€ä¸ªè¾¹æƒæœ€å°çš„</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; ++j)</span><br><span class="line">            <span class="keyword">if</span>(!vis[j] &amp;&amp; dis[j] &lt; m)</span><br><span class="line">            &#123;</span><br><span class="line">                m = dis[j];</span><br><span class="line">                p = j;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="keyword">if</span>(m == inf)    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        sum += m;</span><br><span class="line">        vis[p] = <span class="literal">true</span>;</span><br><span class="line">        <span class="comment">//æ›´æ–°åŠ å…¥è¿™ä¸ªç‚¹ä¹‹åèƒ½å¤Ÿåˆ°è¾¾å…¶ä»–ç‚¹çš„å€¼</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; ++j)</span><br><span class="line">            <span class="keyword">if</span>(!vis[j] &amp;&amp; dis[j] &gt; mp[p][j])</span><br><span class="line">                dis[j] = mp[p][j];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;n) &amp;&amp; n)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">char</span> c1 , c2;</span><br><span class="line">        <span class="keyword">int</span> m1 , m2;</span><br><span class="line">        <span class="built_in">memset</span>(mp , inf , <span class="keyword">sizeof</span> mp);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">            mp[i][i] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n - <span class="number">1</span>; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">" %c%d"</span> , &amp;c1 , &amp;m1);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m1; ++j)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">" %c%d"</span> , &amp;c2 , &amp;m2);</span><br><span class="line">                mp[c1 - <span class="string">'A'</span> + <span class="number">1</span>][c2 - <span class="string">'A'</span> + <span class="number">1</span>] = m2;</span><br><span class="line">                mp[c2 - <span class="string">'A'</span> + <span class="number">1</span>][c1 - <span class="string">'A'</span> + <span class="number">1</span>] = m2;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span> , prim());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>kruskalæ–¹æ³•ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">200</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">int</span> father[maxn];</span><br><span class="line"><span class="keyword">int</span> n , m;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> u , v , w;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> edge &amp;r) <span class="keyword">const</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> w &lt; r.w;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;edge[maxn];</span><br><span class="line"><span class="keyword">int</span> tot;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addedge</span><span class="params">(<span class="keyword">int</span> _u , <span class="keyword">int</span> _v , <span class="keyword">int</span> _w)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    edge[tot].u = _u;</span><br><span class="line">    edge[tot].v = _v;</span><br><span class="line">    edge[tot++].w = _w;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x == father[x])  <span class="keyword">return</span> x;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> father[x] = find(father[x]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">kruskal</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">        father[i] = i;</span><br><span class="line">    sort(edge , edge + tot);</span><br><span class="line">    <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; tot; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> t1 = find(edge[i].u);</span><br><span class="line">        <span class="keyword">int</span> t2 = find(edge[i].v);</span><br><span class="line">        <span class="comment">//u , vå¦‚æœä¸åœ¨ä¸€ä¸ªæ£®æ—ä¸­å°±åˆå¹¶</span></span><br><span class="line">        <span class="keyword">if</span>(t1 != t2)</span><br><span class="line">        &#123;</span><br><span class="line">            sum += edge[i].w;</span><br><span class="line">            father[t1] = t2;</span><br><span class="line">            ++cnt;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(cnt == n - <span class="number">1</span>) <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(cnt &lt; n - <span class="number">1</span>) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">else</span>            <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;n) &amp;&amp; n)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">char</span> c1 , c2;</span><br><span class="line">        <span class="keyword">int</span> m1 , m2;</span><br><span class="line">        tot = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">" %c%d"</span> , &amp;c1 , &amp;m1);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m1; ++j)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">" %c%d"</span> , &amp;c2 , &amp;m2);</span><br><span class="line">                addedge(c1 - <span class="string">'A'</span> + <span class="number">1</span> , c2 - <span class="string">'A'</span> + <span class="number">1</span> , m2);</span><br><span class="line">                addedge(c2 - <span class="string">'A'</span> + <span class="number">1</span> , c1 - <span class="string">'A'</span> + <span class="number">1</span> , m2);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span> , kruskal());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>(end)</p>]]></content>
      
      <categories>
          
          <category> ACM-æœ€å°ç”Ÿæˆæ ‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> acm </tag>
            
            <tag> åˆ·é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>poj-2253-poj-1797_æœ€çŸ­è·¯ç»ƒä¹ </title>
      <link href="/2018/11/17/poj-2253-%E6%9C%80%E7%9F%AD%E8%B7%AF%E7%BB%83%E4%B9%A0/"/>
      <content type="html"><![CDATA[<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1><p><a href="http://poj.org/problem?id=2253" target="_blank" rel="noopener">ä¸€é“æœ€çŸ­è·¯çš„å˜å½¢é¢˜</a>ï¼Œï¼Œè™½ç„¶è¯´è§£æ³•ä¸æ­¢è¿™ä¸€ç§ï¼Œï¼Œ</p><p>è¿™é“é¢˜çœ‹äº†å¥½ä¹…éƒ½æ²¡çœ‹æ‡‚é¢˜æ„ï¼Œï¼Œä¸çŸ¥åˆ°åœ¨æ±‚ä»€ä¹ˆï¼Œï¼Œï¼Œæœ€åè¿«ä¸å¾—å·²å»çœ‹äº†åˆ«äººçš„æ€è·¯ï¼Œï¼Œç†æ¸…æ€è·¯ä¹‹åï¼Œï¼Œä»£ç å°±å¥½å†™äº†ï¼Œï¼Œï¼Œåªéœ€åœ¨åŸæ¥çš„dijkstraæ¿å­ä¸Šæ”¹ä¸€æ”¹å°±è¡Œäº†ï¼Œï¼Œ</p><p>è¡¥ï¼šç¬¬äºŒé“é¢˜å’Œç¬¬ä¸€é“é¢˜ç±»ä¼¼ï¼Œï¼Œå†æ”¹ä¸€æ”¹å°±è¡Œäº†ï¼Œï¼Œ</p><a id="more"></a><h1 id="åˆ†æä¸æ€è·¯">åˆ†æä¸æ€è·¯</h1><p>è¿™é“é¢˜çš„å¤§è‡´é¢˜æ„å°±æ˜¯ï¼šç»™ä½ nå—çŸ³å¤´çš„åæ ‡ï¼Œï¼Œç„¶åé—®ä½ ä»ç¬¬ä¸€å—çŸ³å¤´åˆ°ç¬¬äºŒå—çŸ³å¤´çš„æ‰€æœ‰å¯åˆ°çš„mæ¡è·¯å¾„ä¸­ï¼Œï¼Œé‚£mæ¡æœ€é•¿çš„è·¯ä¸­çš„æœ€å°çš„ï¼Œï¼Œ</p><p>æ‰€ä»¥åˆ†ä¸¤æ­¥è®¡ç®—ï¼Œï¼Œï¼Œ</p><ul><li><p>å…ˆæ±‚ i-&gt;j mæ¡è·¯å¾„ä¸­æ¯æ¡è·¯å¾„ä¸­çš„æœ€å¤§å€¼ï¼Œï¼Œ</p></li><li><p>ç„¶åæ±‚è¿™mä¸ªæœ€å¤§å€¼ä¸­çš„æœ€å°å€¼ï¼Œï¼Œï¼Œ</p></li></ul><p>æŒ‰ç…§è¿™ä¸ªæ€è·¯ï¼Œï¼Œdijkstraä¸­çš„æ¾å¼›æ¡ä»¶å°±è¦æ”¹æˆ</p><p><span class="math inline">\(dis[v] = min(dis[v] , max(dis[u] , w[u][v]))\)</span></p><ul><li>dis[v]è¡¨ç¤ºåŸç‚¹1åˆ°vçš„æœ€å¤§è·¯ä¸­çš„æœ€å°å€¼ï¼Œï¼ŒåŒç†dis[u]ä¹Ÿä¸€æ ·</li><li>w[u][v]è¡¨ç¤ºu-&gt;vçš„æƒå€¼</li><li>æ±‚1-&gt;vçš„æœ€å¤§è·¯ä¸­çš„æœ€å°å€¼å°±ç­‰äº <strong>ä¹‹å‰ä»åˆ«çš„è·¯å¾„åˆ°vä¸­æ±‚å¾—çš„æœ€å¤§è·¯ä¸­çš„æœ€å°å€¼</strong> ä¸ <strong>1-&gt;u-&gt;vè¿™æ¡è·¯å¾„ä¸­çš„æœ€å¤§è·¯ä¸­çš„æœ€å°å€¼ï¼Œï¼Œï¼ˆä¹Ÿå°±æ˜¯ 1-&gt;u ä¸­æœ€å¤§è·¯çš„æœ€å°å€¼ å’Œ u-&gt;vçš„æƒå€¼ç›¸æ¯”è¾ƒå–æœ€å¤§çš„ï¼‰</strong> çš„æœ€å°å€¼</li></ul><p>å¯¹äº†ï¼Œï¼Œç½‘ä¸Šçœ‹åˆ°çš„åˆ«äººçš„åšå®¢å¤§å¤šéƒ½æ˜¯ç”¨é‚»æ¥çŸ©é˜µå®ç°çš„ï¼Œï¼Œï¼Œç„¶åæˆ‘å°è¯•ç”¨é‚»æ¥è¡¨å®ç°çš„ï¼Œï¼Œï¼Œæ³¨æ„å¯¹æ•°æ®çš„å¤„ç†ï¼Œï¼Œï¼Œå› ä¸ºæ˜¯ç»™çš„ç‚¹çš„åæ ‡è€Œä¸æ˜¯ç‚¹çš„ç¼–å·ï¼Œï¼Œï¼Œæ‰€ä»¥æ˜¯æ¯ä¸ªç‚¹ä¹‹é—´éƒ½æœ‰è·¯å¾„ï¼Œï¼Œï¼Œæœ€åï¼Œï¼Œç”¨é‚»æ¥è¡¨æ˜¯å®ç°è®°å¾—å¤„ç†å®Œä¸€ç»„æ•°æ®è¦æŠŠé‚»æ¥è¡¨æ¸…ç©ºï¼Œï¼Œï¼Œ è¿˜æœ‰è¾“å‡ºåœ¨pojä¸Šg++ç”¨%.3f</p><p><a href="http://poj.org/problem?id=1797" target="_blank" rel="noopener">ç¬¬äºŒé“é¢˜å°±æ˜¯å‰ä¸€é“çš„åè¿‡æ¥ï¼Œï¼Œï¼Œæ±‚æ‰€æœ‰è·¯å¾„ä¸­æœ€å°å€¼çš„æœ€å¤§å€¼ï¼Œï¼Œï¼Œ</a></p><h1 id="ä»£ç ">ä»£ç </h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//poj-2253</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e3</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> v;</span><br><span class="line">    <span class="keyword">double</span> c;</span><br><span class="line">    node()&#123;&#125;</span><br><span class="line">    node(<span class="keyword">int</span> _v , <span class="keyword">double</span> _c):v(_v) , c(_c)&#123;&#125;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> node &amp;r) <span class="keyword">const</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> c &gt; r.c;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> v;</span><br><span class="line">    <span class="keyword">double</span> w;</span><br><span class="line">    edge(<span class="keyword">int</span> _v = <span class="number">0</span> , <span class="keyword">double</span> _w = <span class="number">0</span>):v(_v) , w(_w)&#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">vector</span>&lt;edge&gt; e[maxn];</span><br><span class="line"><span class="keyword">double</span> dis[maxn];</span><br><span class="line"><span class="keyword">bool</span> vis[maxn];</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addedge</span><span class="params">(<span class="keyword">int</span> u , <span class="keyword">int</span> v , <span class="keyword">double</span> w)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    e[u].push_back(edge(v , w));</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dijkstra</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(vis , <span class="literal">false</span> , <span class="keyword">sizeof</span> vis);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">        dis[i] = inf;</span><br><span class="line">    dis[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">    priority_queue&lt;node&gt; q;</span><br><span class="line">    <span class="keyword">while</span>(!q.empty())   q.pop();</span><br><span class="line">    q.push(node(<span class="number">1</span> , <span class="number">0</span>));</span><br><span class="line">    node t;</span><br><span class="line">    <span class="keyword">while</span>(!q.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        t = q.top();q.pop();</span><br><span class="line">        <span class="keyword">int</span> u = t.v;</span><br><span class="line">        <span class="keyword">if</span>(vis[u])  <span class="keyword">continue</span>;</span><br><span class="line">        vis[u] = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; e[u].size(); ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> v = e[t.v][i].v;</span><br><span class="line">            <span class="keyword">double</span> w = e[u][i].w;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(!vis[v])</span><br><span class="line">            &#123;</span><br><span class="line">                dis[v] = min(dis[v] , max(dis[u] , w));</span><br><span class="line">                q.push(node(v , dis[v]));</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> q = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;n) != EOF &amp;&amp; n)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">double</span> x[maxn] , y[maxn];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i  &lt;= n; ++i)</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%lf%lf"</span> , &amp;x[i] , &amp;y[i]);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt;= n; ++j)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">double</span> w = <span class="built_in">sqrt</span>((x[i] - x[j]) * (x[i] - x[j]) + (y[i] - y[j]) * (y[i] - y[j]));</span><br><span class="line">                addedge(i , j , w);</span><br><span class="line">                addedge(j , i , w);</span><br><span class="line">            &#125;</span><br><span class="line">        dijkstra();</span><br><span class="line"></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Scenario #%d\nFrog Distance = %.3lf\n\n"</span> , q++ , dis[<span class="number">2</span>]);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; maxn; ++i)</span><br><span class="line">            e[i].clear();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1797</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e3</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> v;</span><br><span class="line">    <span class="keyword">int</span> c;</span><br><span class="line">    node()&#123;&#125;</span><br><span class="line">    node(<span class="keyword">int</span> _v , <span class="keyword">int</span> _c):v(_v) , c(_c)&#123;&#125;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> node &amp;r) <span class="keyword">const</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> c &lt; r.c;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> v;</span><br><span class="line">    <span class="keyword">int</span> w;</span><br><span class="line">    edge(<span class="keyword">int</span> _v = <span class="number">0</span> , <span class="keyword">int</span> _w = <span class="number">0</span>):v(_v) , w(_w)&#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">vector</span>&lt;edge&gt; e[maxn];</span><br><span class="line"><span class="keyword">int</span> dis[maxn];</span><br><span class="line"><span class="keyword">bool</span> vis[maxn];</span><br><span class="line"><span class="keyword">int</span> n , m;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addedge</span><span class="params">(<span class="keyword">int</span> u , <span class="keyword">int</span> v , <span class="keyword">int</span> w)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    e[u].push_back(edge(v , w));</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dijkstra</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(vis , <span class="literal">false</span> , <span class="keyword">sizeof</span> vis);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n + <span class="number">1</span>; ++i)</span><br><span class="line">        dis[i] = <span class="number">0</span>;</span><br><span class="line">    dis[<span class="number">1</span>] = inf;</span><br><span class="line">    priority_queue&lt;node&gt; q;</span><br><span class="line">    <span class="keyword">while</span>(!q.empty())   q.pop();</span><br><span class="line">    q.push(node(<span class="number">1</span> , inf));</span><br><span class="line">    node t;</span><br><span class="line">    <span class="keyword">while</span>(!q.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        t = q.top();q.pop();</span><br><span class="line">        <span class="keyword">int</span> u = t.v;</span><br><span class="line">        <span class="keyword">if</span>(vis[u])  <span class="keyword">continue</span>;</span><br><span class="line">        vis[u] = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; e[u].size(); ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> v = e[t.v][i].v;</span><br><span class="line">            <span class="keyword">int</span> w = e[u][i].w;</span><br><span class="line">            <span class="keyword">if</span>(!vis[v])</span><br><span class="line">            &#123;</span><br><span class="line">                dis[v] = max(dis[v] , min(dis[u] , w));</span><br><span class="line">                q.push(node(v , dis[v]));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> q = <span class="number">1</span>;<span class="keyword">int</span> t;<span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;t);</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span> , &amp;n , &amp;m);</span><br><span class="line">        <span class="keyword">int</span> u , v , w;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span> , &amp;u , &amp;v , &amp;w);</span><br><span class="line">            addedge(u , v , w);</span><br><span class="line">            addedge(v , u , w);</span><br><span class="line">        &#125;</span><br><span class="line">        dijkstra();</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Scenario #%d:\n%d\n\n"</span> , q++ , dis[n]);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; maxn; ++i)</span><br><span class="line">            e[i].clear();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ç¬¬äºŒé“é¢˜æ€è·¯æ˜¯å¯¹çš„ï¼Œï¼Œï¼Œæœ€åçš„è¾“å‡ºå¿˜è®°åŠ :waäº†<span class="number">4</span>æ¬¡ï¼Œï¼Œï¼Œä¸€ç›´ä»¥ä¸ºæ˜¯è‡ªå·±çš„é‚»æ¥è¡¨+ä¼˜å…ˆé˜Ÿåˆ—å†™çš„æœ‰é—®é¢˜ï¼Œï¼Œï¼Œemmmmm ï¼Œï¼Œï¼Œå‘</span><br></pre></td></tr></table></figure><h1 id="å°ç»“">å°ç»“</h1><p>å› ä¸ºæœŸä¸­è€ƒè¯•ç­‰ç­‰å„ç§äº‹ï¼Œï¼Œï¼Œå¥½ä¹…æ²¡å¼„acmçš„è¿™äº›ä¸œè¥¿äº†ï¼Œï¼Œå¤§æ¦‚æœ‰ä¸‰å‘¨æˆ–åˆ™ä¸€ä¸ªæœˆäº†å§ï¼Œï¼Œï¼Œ</p><p>åæœå°±æ˜¯ä¹‹å‰å­¦çš„ï¼Œè®°å¾—ä¸œè¥¿åˆå¿«å¿˜è®°äº†ï¼Œï¼Œï¼Œæ¿å­ä¹Ÿä¸èƒ½è‡ªå·±çš„é»˜å†™ä¸‹æ¥äº†QAQï¼Œï¼Œ</p><p>æ¥ä¸‹æ¥è¿™ä¸€ä¸ªåŠæœˆå¾—å¥½å¥½çš„åŠªåŠ›ä¸€æŠŠäº†ï¼Œï¼Œï¼Œï¼Œï¼Œï¼ˆé€ƒ</p><p>(end)</p>]]></content>
      
      <categories>
          
          <category> ACM-æœ€çŸ­è·¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> acm </tag>
            
            <tag> åˆ·é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>poj-1151çŸ©å½¢é¢ç§¯å¹¶-çº¿æ®µæ ‘</title>
      <link href="/2018/10/30/poj-1151%E7%9F%A9%E5%BD%A2%E9%9D%A2%E7%A7%AF%E5%B9%B6-%E7%BA%BF%E6%AE%B5%E6%A0%91/"/>
      <content type="html"><![CDATA[<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1><p>çº¿æ®µæ ‘é—®é¢˜é‡Œçš„å¦ä¸€ä¸ªé—®é¢˜ï¼Œï¼Œï¼ŒçŸ©å½¢é¢ç§¯å¹¶ï¼Œï¼Œï¼Œï¼Œ</p><p>ä¹‹å‰çœ‹lazyæ›´æ–°æ—¶çœ‹åˆ°ä¸‹é¢è¿™ä¸ªçš„è®²è§£ï¼Œï¼Œï¼Œä¸€å¤§å †æ–‡å­—è¿˜æœ‰ä¸€å¤§å †çš„å›¾ï¼Œï¼Œï¼Œï¼Œå½“æ—¶æœæ–­è·³è¿‡ï¼Œï¼Œï¼Œ</p><p>ä»Šå¤©èŠ±äº†ä¸€ä¸‹åˆåŠ ä¸€æ™šä¸Šçš„æ—¶é—´çœ‹äº†çœ‹è¿™å—çŸ¥è¯†ï¼Œï¼Œï¼Œç„¶åå°è¯•è‡ªå·±å†™å‡ºä»£ç ï¼Œï¼Œï¼Œç®—æ˜¯ç®€å•çš„äº†è§£ä¸€ä¸‹è¿™å—ï¼Œï¼Œï¼Œ</p><a id="more"></a><h1 id="é¢˜æ„">é¢˜æ„</h1><p><a href="http://poj.org/problem?id=1151" target="_blank" rel="noopener">è¿™é“çŸ©å½¢é¢ç§¯å¹¶</a>é—®é¢˜çš„å¤§æ„æ˜¯ç»™å¾ˆå¤šä¸ªçŸ©å½¢ï¼Œï¼ŒçŸ©å½¢ä¹‹é—´å¯èƒ½æœ‰äº¤é›†ï¼Œï¼Œï¼Œç„¶åé—®ä½ è¿™ä¸€å¤§ç‰‡çš„å›¾å½¢é¢ç§¯æ˜¯å¤šå°‘ï¼Œï¼Œï¼Œï¼Œ</p><p>æ•°æ®é‡ä¸å¤§ï¼Œï¼Œçœ‹åˆ°æœ‰å¾ˆå¤šäººæ˜¯æš´åŠ›è¿‡çš„ï¼Œï¼Œï¼Œ</p><p>ä½†æ˜¯ç”¨çº¿æ®µæ ‘æ¥å½“ä½œç»ƒä¹ é¢˜é”»ç‚¼é”»ç‚¼æ€ç»´è¿˜æ˜¯å¾ˆå¥½çš„QAQ</p><h1 id="æ€è·¯">æ€è·¯</h1><p><a href="http://www.cppblog.com/menjitianya/archive/2016/02/25/212891.html" target="_blank" rel="noopener">ä¸€å¼€å§‹æˆ‘æ˜¯çœ‹è¿™ç¯‡åšå®¢æœ‰å…³çŸ©å½¢é¢ç§¯å¹¶çš„çŸ¥è¯†</a>ï¼Œï¼Œï¼Œ è¿™ç¯‡åšå®¢è®²è§£çš„æ€è·¯å¾ˆä¸é”™ï¼Œï¼Œï¼Œä¸€éä¹‹åå¤§è‡´äº†è§£äº†æ•´ä¸ªè§£å†³é—®é¢˜çš„æ€è·¯ï¼Œï¼Œï¼Œï¼Œä½†æ˜¯å®ƒæ²¡æœ‰ç›¸åº”çš„ç»ƒä¹ é¢˜ä»¥åŠä»£ç ï¼Œï¼Œï¼Œï¼Œæˆ‘å®Œå…¨ä¸çŸ¥é“è¯¥ä»å“ªé‡Œä¸‹æ‰‹ï¼Œï¼Œï¼Œçº¿æ®µæ ‘çš„å…·ä½“å¦‚ä½•å®ç°ä¸€è„¸æ‡µé€¼ï¼Œï¼Œï¼Œï¼Œè¿˜æœ‰ï¼Œï¼Œï¼Œä¸€èˆ¬è¿™ç§é¢˜éƒ½æ˜¯è¦å°†ä¸€ä¸ªæ–¹å‘çš„åæ ‡ <strong>ç¦»æ•£åŒ–</strong>ï¼Œï¼Œï¼Œï¼Œå—¯ï¼Œï¼Œåˆæ˜¯è¿™ä¸ªä¸œè¥¿ï¼Œï¼Œï¼Œï¼Œæ›´æ˜¯ä¸€è„¸çš„æ‡µé€¼ï¼Œï¼Œï¼Œï¼Œ</p><p><a href="https://blog.csdn.net/riba2534/article/details/76851233" target="_blank" rel="noopener">ç„¶åçœ‹äº†è¿™ç¯‡åšå®¢ï¼Œï¼Œ</a>å¯¹ç€ä»£ç ï¼Œï¼Œï¼Œç„¶åé¡ºç€æ€è·¯å†™å‡ºæ¥äº†ï¼Œï¼Œï¼Œ</p><p>ä¸»è¦çš„å‡ ç‚¹ï¼š</p><ul><li>å‰é¢ä¸¤ä¸ªåšå®¢çš„å›¾å¾ˆå½¢è±¡çš„æŠŠæ€è·¯ç†äº†ä¸€éï¼Œï¼Œï¼Œï¼Œå°±æ˜¯æšä¸¾ä¸€ä¸ªæ–¹å‘ï¼Œï¼Œæ¯”å¦‚yæ–¹å‘ï¼Œï¼Œç„¶åï¼Œï¼Œå°†xæ–¹å‘çš„åæ ‡ç¦»æ•£åŒ–ï¼Œï¼Œåˆ†æˆè‹¥å¹²ä¸ª <strong>å•ä½çº¿æ®µ</strong>ï¼Œï¼Œï¼Œï¼Œçº¿æ®µæ ‘ç»´æŠ¤è¿™ä¸ªå•ä½çº¿æ®µï¼Œï¼Œï¼Œè¿˜æ˜¯é‚£ä¸ªåšå®¢å½¢è±¡ä¸€äº›</li><li>æ•´ä¸ªå›¾å½¢çš„é¢ç§¯å¯ä»¥åˆ†æˆè‹¥å¹²ä¸ªå°çš„çŸ©å½¢ï¼Œï¼Œï¼Œç„¶ååŠ èµ·æ¥å°±è¡Œï¼Œï¼Œï¼Œï¼Œ</li></ul><h1 id="ä»£ç ">ä»£ç </h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> aaa  cout &lt;&lt; x[r + 1] &lt;&lt; <span class="meta-string">"----"</span> &lt;&lt; x[l] &lt;&lt; endl;</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">205</span>;</span><br><span class="line"><span class="keyword">double</span> x[maxn &lt;&lt; <span class="number">2</span>];           <span class="comment">//æ‰€æœ‰çš„xçš„æ•°æ®</span></span><br><span class="line"><span class="comment">//æ¯ä¸€æ¡çº¿æ®µ</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">segment</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">double</span> y;</span><br><span class="line">    <span class="keyword">double</span> l;</span><br><span class="line">    <span class="keyword">double</span> r;</span><br><span class="line">    <span class="keyword">int</span> flag;       <span class="comment">//1 or -1: å…¥è¾¹orå‡ºè¾¹</span></span><br><span class="line">    segment()&#123;&#125;</span><br><span class="line">    segment(<span class="keyword">double</span> y, <span class="keyword">double</span> l , <span class="keyword">double</span> r , <span class="keyword">int</span> flag):y(y) , l(l) , r(r) , flag(flag)&#123;&#125;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> segment &amp;res)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> y &lt; res.y;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;seg[maxn &lt;&lt; <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">//çº¿æ®µæ ‘ç»´æŠ¤æ‰€æœ‰çš„å•ä½çº¿æ®µï¼ˆç¦»æ•£åçš„ï¼‰</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> cov;</span><br><span class="line">    <span class="keyword">double</span> len;</span><br><span class="line">&#125;node[maxn &lt;&lt; <span class="number">2</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushdown</span><span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> l , <span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(node[rt].cov)</span><br><span class="line">        node[rt].len = x[r + <span class="number">1</span>] - x[l];</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(l == r)</span><br><span class="line">        node[rt].len = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        node[rt].len = node[rt &lt;&lt; <span class="number">1</span>].len + node[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].len;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> l , <span class="keyword">int</span> r , <span class="keyword">int</span> L , <span class="keyword">int</span> R , <span class="keyword">int</span> cov)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(L &lt;= l &amp;&amp; r &lt;= R)</span><br><span class="line">    &#123;</span><br><span class="line">        node[rt].cov += cov;</span><br><span class="line">        pushdown(rt , l , r);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(L &lt;= mid)    update(rt &lt;&lt; <span class="number">1</span> , l , mid , L , R , cov);</span><br><span class="line">    <span class="keyword">if</span>(R &gt;  mid)    update(rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span> , mid + <span class="number">1</span> , r , L , R , cov);</span><br><span class="line">    <span class="comment">//pushdown</span></span><br><span class="line">    pushdown(rt , l , r);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">int</span> q = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;n) &amp;&amp; n)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">memset</span>(x , <span class="number">0</span> , <span class="keyword">sizeof</span> x);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">double</span> x1 , y1 , x2 , y2;</span><br><span class="line">        <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%lf%lf%lf%lf"</span> , &amp;x1 , &amp;y1 , &amp;x2 , &amp;y2);</span><br><span class="line">            seg[count]=segment(y1 , x1 , x2 , <span class="number">1</span>);</span><br><span class="line">            x[count++] = x1;</span><br><span class="line">            seg[count]=segment(y2 , x1 , x2 , <span class="number">-1</span>);</span><br><span class="line">            <span class="comment">//segment[i].y = y1;segment[i].l = x1;segment[i].r = x2;segment[i].flag = 1;</span></span><br><span class="line">            <span class="comment">//segment[i + 1].y = y2;segment[i + n].l = x1;segment[i + n].r = x2;segment[i + n].flag = -1;</span></span><br><span class="line"></span><br><span class="line">            x[count++] = x2;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//ç¦»æ•£</span></span><br><span class="line">        sort(seg , seg + count);</span><br><span class="line">        sort(x , x + count);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> sz = unique(x , x + count) - x;</span><br><span class="line">        <span class="keyword">double</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; count; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> l = lower_bound(x , x + sz , seg[i].l) - x;</span><br><span class="line">            <span class="keyword">int</span> r = lower_bound(x , x + sz , seg[i].r) - x - <span class="number">1</span>;</span><br><span class="line">            update(<span class="number">1</span> , <span class="number">0</span> , sz , l , r , seg[i].flag);</span><br><span class="line">            ans += node[<span class="number">1</span>].len * (seg[i + <span class="number">1</span>].y - seg[i].y);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Test case #%d\nTotal explored area: %.2f\n\n"</span>,q++,ans);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æ€»ç»“">æ€»ç»“</h1><p>ç®—äº†ï¼Œï¼Œï¼Œå…ˆé¸½äº†ï¼Œï¼Œï¼Œç»†èŠ‚é‚£å¤©å†è¡¥ä¸€ä¸‹ï¼Œï¼Œï¼Œï¼Œ (loading,,,,)</p>]]></content>
      
      
        <tags>
            
            <tag> acm </tag>
            
            <tag> åˆ·é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>hdu-3790æœ€çŸ­è·¯åˆ·é¢˜</title>
      <link href="/2018/10/20/hdu-3790%E6%9C%80%E7%9F%AD%E8%B7%AF%E5%88%B7%E9%A2%98/"/>
      <content type="html"><![CDATA[<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1><p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=3790" target="_blank" rel="noopener">ä¸€é“æœ€çŸ­è·¯çš„æ°´é¢˜</a>ï¼Œï¼Œï¼Œå°½é‡ä¸çœ‹ä»¥å‰çš„ä»£ç æ‰“å‡ºæ¥ï¼Œï¼Œï¼Œç†Ÿæ‚‰ä¸€ä¸‹dijkstraçš„æ ¼å¼å’Œé“¾å¼å‰å‘æ˜Ÿçš„å†™æ³•ï¼Œï¼Œï¼Œï¼Œ</p><p>è™½ç„¶æ˜¯æ°´é¢˜ï¼Œï¼Œï¼Œä½†æ˜¯ä¸€å¼€å§‹æ²¡è€ƒè™‘å–è´¹ç”¨æœ€çŸ­çš„waäº†ä¸€å‘ï¼Œï¼Œï¼Œï¼ŒQAQ</p><a id="more"></a><h1 id="åˆ†æ">åˆ†æ</h1><p>é“¾å¼å‰å‘æ˜Ÿå­˜å›¾ï¼Œï¼Œå†åŠ ä¸€ä¸ªæ•°ç»„ä¿å­˜æºç‚¹åˆ°æ¯ä¸ªç‚¹çš„è´¹ç”¨cst[maxm]ï¼Œï¼Œï¼Œæ³¨æ„å–æœ€å°‘çš„è´¹ç”¨</p><h1 id="ä»£ç ">ä»£ç </h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e3</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxm = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> head[maxm &lt;&lt; <span class="number">1</span>];</span><br><span class="line"><span class="keyword">bool</span> vis[maxn];</span><br><span class="line"><span class="keyword">int</span> dis[maxm];</span><br><span class="line"><span class="keyword">int</span> cst[maxm];</span><br><span class="line"><span class="keyword">int</span> cnt;</span><br><span class="line"><span class="keyword">int</span> n , m;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> to;</span><br><span class="line">    <span class="keyword">int</span> w;</span><br><span class="line">    <span class="keyword">int</span> c;</span><br><span class="line">    <span class="keyword">int</span> last;</span><br><span class="line">&#125;edge[maxm &lt;&lt; <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addedge</span><span class="params">(<span class="keyword">int</span> u , <span class="keyword">int</span> v , <span class="keyword">int</span> w , <span class="keyword">int</span> c)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    edge[cnt].to = v;</span><br><span class="line">    edge[cnt].w = w;</span><br><span class="line">    edge[cnt].c = c;</span><br><span class="line">    edge[cnt].last = head[u];</span><br><span class="line">    head[u] = cnt++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> u;</span><br><span class="line">    <span class="keyword">int</span> w;</span><br><span class="line">    node(<span class="keyword">int</span> _u , <span class="keyword">int</span> _w):u(_u) , w(_w)&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> node &amp;res) <span class="keyword">const</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> w &gt; res.w;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dijkstra</span><span class="params">(<span class="keyword">int</span> n , <span class="keyword">int</span> s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">        dis[i] = (i == s) ? <span class="number">0</span> : inf;</span><br><span class="line">    <span class="built_in">memset</span>(cst , inf , <span class="keyword">sizeof</span> cst);cst[s] = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">memset</span>(vis , <span class="literal">false</span> , <span class="keyword">sizeof</span> vis);</span><br><span class="line"></span><br><span class="line">    priority_queue&lt;node&gt; q;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(!q.empty())   q.pop();</span><br><span class="line"></span><br><span class="line">    q.push(node(s , <span class="number">0</span>));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(!q.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        node x = q.top();q.pop();</span><br><span class="line">        <span class="keyword">int</span> u = x.u;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(vis[u])  <span class="keyword">continue</span>;</span><br><span class="line">        vis[u] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = head[u] ; ~i; i = edge[i].last)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> to = edge[i].to;</span><br><span class="line">            <span class="keyword">int</span> w = edge[i].w;</span><br><span class="line">            <span class="keyword">int</span> c = edge[i].c;</span><br><span class="line">            <span class="keyword">if</span>(!vis[to] &amp;&amp; dis[u] + w &lt;= dis[to])</span><br><span class="line">            &#123;</span><br><span class="line">                dis[to] = dis[u] + w;</span><br><span class="line">                <span class="comment">//if(cst[u] + c &lt; cst[to])</span></span><br><span class="line">                    cst[to] = cst[u] + c;</span><br><span class="line">                q.push(node(to , dis[to]));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d"</span> , &amp;n , &amp;m) &amp;&amp; n &amp;&amp; m)</span><br><span class="line">    &#123;</span><br><span class="line">        cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">memset</span>(head , <span class="number">-1</span> , <span class="keyword">sizeof</span> head);</span><br><span class="line">        <span class="keyword">int</span> u , v , w , c;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d%d%d"</span> , &amp;u , &amp;v , &amp;w , &amp;c);</span><br><span class="line">            addedge(u , v , w , c);</span><br><span class="line">            addedge(v , u , w , c);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> s , t;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span> , &amp;s , &amp;t);</span><br><span class="line"></span><br><span class="line">        dijkstra(n , s);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d %d\n"</span> , dis[t] , cst[t]);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æœ€çŸ­è·¯ç›¸ç­‰æ—¶æ³¨æ„å–è´¹ç”¨æœ€çŸ­çš„</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//5 7</span></span><br><span class="line"><span class="comment">//1 2 5 5</span></span><br><span class="line"><span class="comment">//2 3 4 5</span></span><br><span class="line"><span class="comment">//1 3 4 6</span></span><br><span class="line"><span class="comment">//3 4 2 2</span></span><br><span class="line"><span class="comment">//3 5 4 7</span></span><br><span class="line"><span class="comment">//4 5 2 4</span></span><br><span class="line"><span class="comment">//1 3 4 4</span></span><br><span class="line"><span class="comment">//1 5</span></span><br><span class="line"><span class="comment">//8 10</span></span><br></pre></td></tr></table></figure><p>å·®ä¸å¤šè®°ä½äº†çš„dijkatraçš„ä»£ç ï¼Œï¼Œï¼Œç»§ç»­ç»§ç»­</p><p>(end)</p>]]></content>
      
      <categories>
          
          <category> ACM-æœ€çŸ­è·¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> acm </tag>
            
            <tag> åˆ·é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>hdu-1540çº¿æ®µæ ‘åˆ·é¢˜</title>
      <link href="/2018/10/18/hdu-1540%E7%BA%BF%E6%AE%B5%E6%A0%91%E5%88%B7%E9%A2%98/"/>
      <content type="html"><![CDATA[<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1><p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1540" target="_blank" rel="noopener">å“‡ï¼Œï¼Œï¼Œè¿™é“çº¿æ®µæ ‘çš„é¢˜å¯ä»¥è¯´æ˜¯åˆ°ç›®å‰ä¸ºæ­¢æˆ‘æ‰€åšè¿‡çš„æœ€éš¾çš„ä¸€é“äº†å§QAQï¼Œï¼Œï¼Œ</a>ï¼Œï¼Œï¼Œ</p><p>ä¸€å¼€å§‹è¯»å®Œé¢˜å°±æ˜¯ä¸€è„¸æ‡µé€¼ï¼Œï¼Œï¼Œï¼Œå®Œå…¨ä¸çŸ¥é“è¯¥ä»å“ªé‡Œä¸‹æ‰‹ï¼Œï¼Œï¼Œå°±æ˜¯çŸ¥é“è¿™æ˜¯ä¸€é“çº¿æ®µæ ‘çš„é¢˜ä¹Ÿä¸çŸ¥é“è¯¥æ€ä¹ˆä¸‹æ‰‹å•Šå•Šå•Šï¼Œï¼Œï¼Œï¼Œ</p><p>æœ€åè¿˜æ˜¯çœ‹äº†kaungbinå¤§ä½¬çš„ä»£ç ï¼Œï¼Œï¼ŒQAQ</p><p>å…‰æ˜¯è¯»ä»£ç å°±èŠ±äº†ä¸€ä¸¤ä¸ªå°æ—¶ï¼Œï¼Œï¼Œï¼ˆä¸è¿‡ä¹Ÿæœ‰å¯èƒ½å’Œä»Šå¤©è´¼å›°æœ‰å…³ï¼Œï¼Œï¼Œè„‘è¢‹ä¸æ€ä¹ˆè½¬å•Š</p><a id="more"></a><h1 id="åˆ†ææ€è·¯">åˆ†ææ€è·¯</h1><h2 id="é¢˜æ„">é¢˜æ„</h2><p>å¤§æ¦‚çš„é¢˜æ„å°±æ˜¯ä¸€ä¸²åœ¨ä¸€æ¡çº¿ä¸Šçš„æ‘åº„ï¼Œï¼Œæˆ–è€…è¯´æ˜¯ç‚¹ï¼Œï¼Œï¼Œä¸€å¼€å§‹éƒ½ä¸º1ï¼Œï¼Œï¼Œç„¶åæœ‰ä¸‰ç§ä¸åŒçš„æ“ä½œï¼Œï¼Œï¼Œ</p><ul><li>d a: æ„å‘³ç€å°†aè¿™ä¸ªç‚¹ç½®ä¸º0ï¼Œï¼Œï¼Œ</li><li>q a: æ„å‘³ç€è¯¢é—®aå‘¨å›´æœ‰å¤šå°‘çš„1ï¼Œï¼Œï¼Œåªè¦ç¢°åˆ°é›¶å°±ä¸ç®—äº†ï¼Œï¼Œï¼Œä¾‹å¦‚110111110,,(q 5) = 5</li><li>r: æ„å‘³ç€å°†ä¸Šä¸€ä¸ªè¢«ç½®ä¸ºé›¶çš„ç‚¹ç½®ä¸º1</li></ul><h2 id="åˆ†æ">åˆ†æ</h2><h3 id="æˆ‘çš„æƒ³æ³•">æˆ‘çš„æƒ³æ³•</h3><p>ä¸€å¼€å§‹æˆ‘çœ‹åˆ°æœ‰éœ€è¦ä¸Šä¸€æ¬¡æ“ä½œçš„æƒ…å†µï¼Œï¼Œå°±æƒ³ç€è¦å°†è¿™äº›dæ“ä½œä¿å­˜ä¸‹æ¥ï¼Œï¼Œé€‚åˆè¿™é“é¢˜çš„å°±æ˜¯æ ˆï¼Œï¼Œï¼Œ</p><p>ç„¶åå°±æ˜¯è¯¢é—®äº†ï¼Œï¼Œï¼Œæˆ‘é‚£æ—¶æƒ³ç€æ—¢ç„¶è¦æ±‚aå‘¨å›´è¿™äº›1çš„ä¸ªæ•°ï¼Œï¼Œé‚£æˆ‘å°±æ‰¾åˆ°ä¸¤ç«¯çš„0ä¸å°±è¡Œäº†ï¼Œï¼Œï¼Œç„¶åä»è¿™é‡Œå°±å½»åº•çš„è„‘æŠ½äº†ï¼Œï¼Œï¼Œåˆæƒ³ç€ç”¨çº¿æ®µæ ‘å»æ±‚è¿™æ®µåŒºé—´çš„å’Œï¼Œï¼Œï¼Œï¼Œç„¶åç»“æœæ˜¾è€Œæ˜“è§ï¼Œï¼Œï¼Œï¼Œtäº†ï¼Œï¼Œï¼Œ</p><p>å› ä¸ºï¼Œï¼Œè¿™ç§æƒ³æ³•çº¿æ®µæ ‘æ ¹æœ¬æ²¡æœ‰ç”¨å•Šï¼ï¼ï¼ï¼éƒ½æ‰¾å‡ºé‚£ä¸¤ç«¯çš„0æ‰€åœ¨çš„ä½ç½®ç›´æ¥å‡ä¸å°±è¡Œäº†ï¼Œï¼Œï¼Œè¿™ä¸å°±æ˜¯è£¸æš´åŠ›å—ï¼Œï¼Œï¼Œï¼Œï¼Œå“‡ï¼Œï¼Œï¼Œè¢«è‡ªå·±è ¢å“­(à¹à¥”ËƒÌ¶á—œË‚Ì¶à¹à¥“)ï¼Œï¼Œï¼Œï¼Œ</p><h3 id="æ–Œç¥çš„åšæ³•">æ–Œç¥çš„åšæ³•</h3><p>é¦–å…ˆå°†è¿™æ®µçº¿åˆ’åˆ†æˆå¤šä¸ªåŒºæ®µï¼Œï¼Œï¼Œæ¯ä¸ªåŒºæ®µä¿å­˜çš„ä¿¡æ¯æœ‰ï¼š<strong>ä»è¿™å»åŒºæ®µçš„å·¦ç«¯ç‚¹å¼€å§‹æœ€é•¿çš„è¿ç»­1çš„ä¸ªæ•°ll</strong> ã€ <strong>ä»è¿™ä¸ªåŒºæ®µå³ç«¯ç‚¹å¼€å§‹çš„æœ€é•¿çš„è¿ç»­1çš„ä¸ªæ•°rl</strong> ã€ è¿˜æœ‰<strong>è¿™ä¸ªåŒºæ®µæœ€å¤§çš„è¿ç»­ç‚¹çš„ä¸ªæ•°ml</strong>ã€‚ã€‚ã€‚</p><p><strong>å»ºæ ‘</strong>ï¼šll = rl = ml = åŒºé—´é•¿</p><p><strong>æ›´æ–°</strong>ï¼š</p><blockquote><p>å¶å­èŠ‚ç‚¹ç½®ä¸€ç½®é›¶ï¼Œï¼Œï¼Œ</p></blockquote><blockquote><p>å·¦å³é€’å½’æ›´æ–°</p></blockquote><blockquote><p>å…¶ä»–åŒºé—´ï¼š(pushup()) çˆ¶èŠ‚ç‚¹.ll = å·¦èŠ‚ç‚¹.ll çˆ¶èŠ‚ç‚¹.rl = å³èŠ‚ç‚¹.rl çˆ¶èŠ‚ç‚¹.mlå–å·¦å³èŠ‚ç‚¹çš„æœ€å¤§çš„ä¸€ä¸ªml è‹¥å·¦èŠ‚ç‚¹çš„rl + å³èŠ‚ç‚¹çš„ll &gt; çˆ¶èŠ‚ç‚¹çš„mlï¼Œï¼Œï¼Œï¼Œå°±æ›´æ–°ä¸ºå‰è€…</p></blockquote><blockquote><p>å¯¹äºçˆ¶èŠ‚ç‚¹çš„ll,rl å¦‚æœå·¦èŠ‚ç‚¹çš„llä¸ºå·¦èŠ‚ç‚¹çš„é•¿åº¦ï¼Œï¼Œï¼Œå°±è¯´æ˜å·¦èŠ‚ç‚¹ä»å·¦ç«¯ç‚¹å¼€å§‹çš„è¿ç»­1çš„æœ€å¤§çš„ä¸ªæ•°å°±ä¸ºå·¦èŠ‚ç‚¹åŒ…å«çš„ç‚¹çš„ä¸ªæ•°ï¼Œï¼Œï¼Œæ‰€ä»¥æ­¤æ—¶çš„çˆ¶èŠ‚ç‚¹çš„llå°±è¦å’Œ<strong>å³èŠ‚ç‚¹çš„llåˆå¹¶</strong> åŒç†ï¼Œï¼Œï¼Œçˆ¶èŠ‚ç‚¹çš„rlä¹Ÿè¦è¿›è¡Œè¿™æ ·çš„åˆ¤æ–­</p></blockquote><p><strong>æŸ¥è¯¢</strong>ï¼š</p><p>å¯¹äºä¸€äº›ç‰¹æ®Šçš„åŒºé—´ç›´æ¥è¿”å›è¯¥åŒºé—´çš„æœ€å¤§çš„è¿ç»­1çš„ä¸ªæ•°ä¹Ÿå°±æ˜¯ml</p><blockquote><p>å½“locåœ¨ä¸­ç‚¹å·¦æ—¶ï¼Œï¼Œï¼Œå°±è¦ä»å·¦èŠ‚ç‚¹æ¥åˆ¤æ–­ï¼Œï¼Œï¼Œåˆ¤æ–­çš„æ¡ä»¶æ˜¯locæ˜¯å¦è¶…å‡ºäº†rlçš„æœ€å·¦ç«¯ï¼ˆç”»å›¾æ›´å®¹æ˜“ç†è§£ä¸€äº›ï¼‰ï¼Œï¼Œï¼Œè¶…å‡ºçš„è¯å°±è¯´æ˜locæ‰€åœ¨çš„è¿ç»­çš„1ä¸€éƒ¨åˆ†æ˜¯åœ¨å·¦èŠ‚ç‚¹çš„rlé‡Œå¦ä¸€éƒ¨åˆ†æ˜¯åœ¨å³èŠ‚ç‚¹çš„llé‡Œï¼Œï¼Œï¼Œå°±åˆ†æˆä¸¤ä¸ªç‚¹æŸ¥è¯¢ï¼Œï¼Œï¼Œä¸€ä¸ªæ˜¯åœ¨å·¦èŠ‚ç‚¹çš„locï¼Œï¼Œï¼Œå¦ä¸€ä¸ªæ—¶åœ¨å³èŠ‚ç‚¹çš„mid+1é‚£ä¸ªç‚¹ åŒç†ï¼Œï¼Œè‹¥åœ¨ä¸­ç‚¹çš„å³æ—¶ä¹Ÿæœ‰ç±»ä¼¼çš„åˆ¤æ–­ï¼Œï¼Œï¼Œ å¤§ä½“ä¸Šè¯´å°±æ˜¯ä¸æ–­åœ°åˆ¤æ–­è¦æ‰¾åˆ°é‚£ä¸ªç‚¹ç›¸å¯¹ll,rlçš„ä½ç½®ï¼Œï¼Œï¼Œæœ€åæŠŠé€’å½’æŸ¥è¯¢åˆ°çš„ç»“æœåˆå¹¶å°±è¡Œäº†ï¼Œï¼Œï¼Œ</p></blockquote><p>å­—ä¸‘è§è°…ï¼Œï¼Œï¼Œï¼Œï¼ˆä¸è¿‡åº”è¯¥æ²¡äººçœ‹æŠŠï¼Œï¼Œï¼Œï¼Œ</p><p><img src="https://img2018.cnblogs.com/blog/1028485/201810/1028485-20181018204849235-921393699.jpg"></p><h1 id="ä»£ç ">ä»£ç </h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">5e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> l;</span><br><span class="line">    <span class="keyword">int</span> r;</span><br><span class="line">    <span class="keyword">int</span> ml;</span><br><span class="line">    <span class="keyword">int</span> ll;</span><br><span class="line">    <span class="keyword">int</span> rl;</span><br><span class="line">&#125;node[maxn &lt;&lt; <span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> l , <span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    node[rt].l = l;</span><br><span class="line">    node[rt].r = r;</span><br><span class="line">    node[rt].ml = node[rt].ll = node[rt].rl = r - l + <span class="number">1</span>;    <span class="comment">//åˆšå¼€å§‹è‚¯å®šæ˜¯åŒºé—´çš„é•¿åº¦</span></span><br><span class="line">    <span class="keyword">if</span>(l == r) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    build(rt &lt;&lt; <span class="number">1</span> , l , mid);</span><br><span class="line">    build(rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span> , mid + <span class="number">1</span> , r);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> loc , <span class="keyword">int</span> val)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(node[rt].l == node[rt].r)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(val) node[rt].ml = node[rt].ll = node[rt].rl = <span class="number">1</span>;    <span class="comment">//æ‘§æ¯å’Œé‡å»ºä¸¤ç§</span></span><br><span class="line">        <span class="keyword">else</span>    node[rt].ml = node[rt].ll = node[rt].rl = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid = (node[rt].l + node[rt].r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(loc &lt;= mid)  update(rt &lt;&lt; <span class="number">1</span> , loc , val);</span><br><span class="line">    <span class="keyword">else</span>            update(rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span> , loc , val);</span><br><span class="line">    <span class="comment">//é€’å½’æ›´æ–°</span></span><br><span class="line">    <span class="comment">//å…ˆæ›´æ–°çˆ¶èŠ‚ç‚¹çš„ä¸¤ä¸ªï¼Œll,rl</span></span><br><span class="line">    node[rt].ll = node[rt &lt;&lt; <span class="number">1</span>].ll;</span><br><span class="line">    node[rt].rl = node[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].rl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç„¶åæ˜¯çˆ¶èŠ‚ç‚¹çš„ml</span></span><br><span class="line">    node[rt].ml = max(node[rt &lt;&lt; <span class="number">1</span>].ml , node[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].ml);</span><br><span class="line">    node[rt].ml = max(node[rt].ml , node[rt &lt;&lt; <span class="number">1</span>].rl + node[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].ll);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//çˆ¶èŠ‚ç‚¹çš„ll,rlå¯èƒ½å°±æ˜¯å·¦å³èŠ‚ç‚¹çš„ll,,rl,,,,å½“åˆšå¥½æ˜¯å­èŠ‚ç‚¹çš„å…¨éƒ¨æ—¶è¿˜è¦åŠ ä¸Šå¦ä¸€ä¸ªåŒºé—´çš„ä¸€éƒ¨åˆ†</span></span><br><span class="line">    <span class="keyword">if</span>(node[rt &lt;&lt; <span class="number">1</span>].ll == node[rt &lt;&lt; <span class="number">1</span>].r - node[rt &lt;&lt; <span class="number">1</span>].l + <span class="number">1</span>)</span><br><span class="line">        node[rt].ll += node[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].ll;</span><br><span class="line">    <span class="keyword">if</span>(node[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].rl == node[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].r - node[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].l + <span class="number">1</span>)</span><br><span class="line">        node[rt].rl += node[rt &lt;&lt; <span class="number">1</span>].rl;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> loc)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//ç‰¹æ®Šæƒ…å†µç›´æ¥è¿”å›ml</span></span><br><span class="line">    <span class="keyword">if</span>(node[rt].l == node[rt].r || node[rt].ml == <span class="number">0</span> || node[rt].ml == node[rt].r - node[rt].l + <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> node[rt].ml;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> mid = (node[rt].l + node[rt].r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(loc &lt;= mid)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(loc &gt;= node[rt &lt;&lt; <span class="number">1</span>].r - node[rt &lt;&lt; <span class="number">1</span>].rl + <span class="number">1</span>)</span><br><span class="line">            <span class="keyword">return</span> query(rt &lt;&lt; <span class="number">1</span> , loc) + query(rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span> , mid + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">return</span> query(rt &lt;&lt; <span class="number">1</span> , loc);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(loc &lt;= node[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].l + node[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].ll - <span class="number">1</span>)</span><br><span class="line">            <span class="keyword">return</span> query(rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span> , loc) + query(rt &lt;&lt; <span class="number">1</span> , mid);</span><br><span class="line">        <span class="keyword">return</span> query(rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span> , loc);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n , m;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d"</span> , &amp;n , &amp;m) != EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        build(<span class="number">1</span> , <span class="number">1</span> , n);</span><br><span class="line">        <span class="keyword">int</span> q[maxn];</span><br><span class="line">        <span class="keyword">int</span> toc = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> t = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(m--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">char</span> c;<span class="built_in">scanf</span>(<span class="string">" %c"</span> , &amp;c);</span><br><span class="line">            <span class="keyword">if</span>(c == <span class="string">'D'</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;t);</span><br><span class="line">                q[toc++] = t;   <span class="comment">//æŠŠæ‘§æ¯æ“ä½œä¿å­˜</span></span><br><span class="line">                update(<span class="number">1</span> , t , <span class="number">0</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(c == <span class="string">'Q'</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;t);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%d\n"</span> , query(<span class="number">1</span> , t));</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(t)</span><br><span class="line">                &#123;</span><br><span class="line">                    t = q[--toc];</span><br><span class="line">                    update(<span class="number">1</span> , t , <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//kaungbin</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> ACM-çº¿æ®µæ ‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> acm </tag>
            
            <tag> åˆ·é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>hdu-5023çº¿æ®µæ ‘åˆ·é¢˜</title>
      <link href="/2018/10/18/hdu-5023%E7%BA%BF%E6%AE%B5%E6%A0%91%E5%88%B7%E9%A2%98/"/>
      <content type="html"><![CDATA[<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1><p>è¿™é“é¢˜å’Œä¸Šæ¬¡åšçš„é‚£é“æŸ“è‰²é—®é¢˜ä¸€æ ·ï¼Œï¼Œï¼Œè¿™æ¬¡ä¸»è¦æ˜¯çœ‹çœ‹æˆ‘å†è¿‡å»ä¸¤ä¸‰å¤©ä¹‹åï¼Œï¼Œå¤§æ¦‚å‡­å€Ÿä»¥å‰çš„è®°å¿†æ•²å‡ºæ¥å¾—å¤šé•¿çš„æ—¶é—´ï¼Œï¼Œï¼Œï¼Œ</p><p>ç»“æœæ˜¯ï¼Œï¼Œï¼Œå¤§ä½“çš„æ¡†æ¶æ²¡é—®é¢˜äº†ï¼Œï¼Œï¼Œï¼Œä¸€éä¸‹æ¥ç¼–è¯‘ä¹Ÿæ²¡é—®é¢˜ï¼Œï¼Œï¼Œä½†æ˜¯ï¼Œï¼Œç»†èŠ‚é—®é¢˜æœ‰ä¸¤ä¸ªï¼Œï¼Œï¼Œ + æ•°ç»„å†™æˆäº†1e6è€Œä¸æ˜¯1e6+10è™½ç„¶å¯¹æœ¬é¢˜æ²¡ä»€ä¹ˆå½±å“ï¼Œï¼Œ + å»ºæ ‘ä¸­çš„åˆå§‹åŒ–æ“ä½œæ—¶æŸ“è‰²åˆå§‹åŒ–ä¸º2ï¼Œï¼Œï¼Œæ‰€ä»¥åº”è¯¥æ˜¯ä»å³å¾€å·¦æ•°çš„ç¬¬äºŒä¸ªbitè®°ä¸º1ï¼Œï¼Œï¼Œç„¶åæˆ‘å°±å°‘ç®—äº†ä¸€ä½ï¼Œï¼Œï¼Œå› ä¸ºbitsetå¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªä»å³å‘å·¦å¹¶ä¸”ä»0å¼€å§‹çš„æ•°ç»„ï¼Œï¼Œæ‰€ä»¥æ˜¯col[1] = 1ï¼Œï¼Œï¼Œè¿™æ ·waäº†ä¸€å‘ + æœ€åä¸€ä¸ªï¼Œï¼Œï¼Œï¼Œè¾“å‡ºæ ¼å¼é”™è¯¯ï¼Œï¼Œï¼Œï¼Œå™—å™—å™—å™—</p><a id="more"></a><h1 id="ä»£ç ">ä»£ç </h1><p>æ€è·¯ä¸pojé‚£ä¸€é“ä¸€æ¨¡ä¸€æ ·ï¼Œï¼Œç›´æ¥æ‰”ä»£ç </p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bitset&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e6</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> l;</span><br><span class="line">    <span class="keyword">int</span> r;</span><br><span class="line">    <span class="keyword">int</span> laz;</span><br><span class="line">    <span class="built_in">bitset</span>&lt;30&gt; col;</span><br><span class="line">&#125;node[maxn &lt;&lt; <span class="number">2</span>];</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> aaa cout &lt;&lt; node[rt].col &lt;&lt; endl;</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> l , <span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    node[rt].l = l;</span><br><span class="line">    node[rt].r = r;</span><br><span class="line">    node[rt].laz = <span class="number">0</span>;</span><br><span class="line">    node[rt].col = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(node[rt].l == node[rt].r)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">bitset</span>&lt;30&gt; t;</span><br><span class="line">        t.<span class="built_in">set</span>(<span class="number">1</span>);</span><br><span class="line">        node[rt].col = t;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid = (node[rt].l + node[rt].r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    build(rt &lt;&lt; <span class="number">1</span> , l , mid);</span><br><span class="line">    build(rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span> , mid + <span class="number">1</span> , r);</span><br><span class="line">    node[rt].col = node[rt &lt;&lt; <span class="number">1</span>].col | node[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].col;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushdown</span><span class="params">(<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(node[rt].laz)</span><br><span class="line">    &#123;</span><br><span class="line">        node[rt &lt;&lt; <span class="number">1</span>].col = node[rt].col;</span><br><span class="line">        node[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].col = node[rt].col;</span><br><span class="line"></span><br><span class="line">        node[rt &lt;&lt; <span class="number">1</span>].laz = node[rt].laz;</span><br><span class="line">        node[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].laz = node[rt].laz;</span><br><span class="line"></span><br><span class="line">        node[rt].laz = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> L , <span class="keyword">int</span> R , <span class="keyword">int</span> C)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(L &lt;= node[rt].l &amp;&amp; node[rt].r &lt;= R)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">bitset</span>&lt;30&gt; t;</span><br><span class="line">        t.<span class="built_in">set</span>(C - <span class="number">1</span>);</span><br><span class="line">        node[rt].col = t;</span><br><span class="line">        node[rt].laz = C;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    pushdown(rt);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> mid = (node[rt].l + node[rt].r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(L &lt;= mid)    update(rt &lt;&lt; <span class="number">1</span> , L , R , C);</span><br><span class="line">    <span class="keyword">if</span>(R &gt;  mid)    update(rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span> , L , R , C);</span><br><span class="line">    node[rt].col = node[rt &lt;&lt; <span class="number">1</span>].col | node[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].col;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">bitset</span>&lt;30&gt; query(<span class="keyword">int</span> rt , <span class="keyword">int</span> L , <span class="keyword">int</span> R)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(L &lt;= node[rt].l &amp;&amp; node[rt].r &lt;= R)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> node[rt].col;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    pushdown(rt);</span><br><span class="line">    <span class="built_in">bitset</span>&lt;30&gt; ans(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">int</span> mid = (node[rt].l + node[rt].r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(L &lt;= mid)    ans |= query(rt &lt;&lt; <span class="number">1</span> , L , R);</span><br><span class="line">    <span class="keyword">if</span>(R &gt;  mid)    ans |= query(rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span> , L , R);</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n , m;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d"</span> , &amp;n , &amp;m) &amp;&amp; n &amp;&amp; m)</span><br><span class="line">    &#123;</span><br><span class="line">        build(<span class="number">1</span> , <span class="number">1</span> , n);</span><br><span class="line">        <span class="keyword">while</span>(m--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">char</span> c;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">" %c"</span> , &amp;c);</span><br><span class="line">            <span class="keyword">if</span>(c == <span class="string">'P'</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">int</span> l , r , v;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span> , &amp;l , &amp;r , &amp;v);</span><br><span class="line">                update(<span class="number">1</span> , l , r , v);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">int</span> l , r;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d%d"</span> , &amp;l , &amp;r);</span><br><span class="line">                <span class="built_in">bitset</span>&lt;30&gt; ans = query(<span class="number">1</span> , l , r);</span><br><span class="line">                <span class="keyword">bool</span> flag = <span class="literal">true</span>;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">30</span>; ++i , ans&gt;&gt;=<span class="number">1</span>)</span><br><span class="line">                    <span class="keyword">if</span>(ans[<span class="number">0</span>] == <span class="number">1</span>)</span><br><span class="line">                        <span class="keyword">if</span>(flag)</span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">"%d"</span> , i) , flag = <span class="literal">false</span>;</span><br><span class="line">                        <span class="keyword">else</span></span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">" %d"</span> , i);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…ˆæ°´ä¸€é¢˜ï¼Œï¼Œï¼Œä¸‹åˆç»§ç»­QAQ</p><p>(end)</p>]]></content>
      
      <categories>
          
          <category> ACM-çº¿æ®µæ ‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> acm </tag>
            
            <tag> åˆ·é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>poj-2777çº¿æ®µæ ‘åˆ·é¢˜</title>
      <link href="/2018/10/16/poj-2777%E7%BA%BF%E6%AE%B5%E6%A0%91%E5%88%B7%E9%A2%98/"/>
      <content type="html"><![CDATA[<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1><p><a href="http://poj.org/problem?id=2777" target="_blank" rel="noopener">è¿™é“é¢˜æ˜¯ä¸€é“çº¿æ®µæ ‘çš„æŸ“è‰²é—®é¢˜,,,,</a></p><p>åšäº†å‡ é“æŸ“è‰²çš„é—®é¢˜ï¼Œï¼Œå¥½åƒæ¸æ¸çš„ç†Ÿæ‚‰çš„æŸ“è‰²é—®é¢˜çš„å¤§æ¦‚çš„è§£ä½“æ€è·¯ï¼Œï¼Œï¼Œä¸å†åƒåˆšå¼€å§‹åšçš„æ—¶å€™é‚£æ ·ä¸€è„¸æ‡µé€¼ï¼Œï¼Œï¼Œåªèƒ½å»ç¿»åšå®¢å»çœ‹åˆ«äººçš„æ€è·¯ï¼Œï¼Œï¼Œå¥½æ­¹è¿™æ¬¡æ²¡æœ‰çœ‹åˆ«äººåšå®¢è‡ªå·±å†™å‡ºæ¥ï¼Œï¼Œï¼Œï¼ˆé™¤äº†ä¸€äº›ç»†èŠ‚æ²¡è€ƒè™‘åˆ°waçš„ä¸€å‘ï¼Œï¼Œï¼Œï¼Œé€ƒ</p><a id="more"></a><h1 id="åˆ†æä¸æ€è·¯">åˆ†æä¸æ€è·¯</h1><h2 id="é¢˜é¢">é¢˜é¢</h2><p>å¤§æ¦‚çš„æ„æ€å°±æ˜¯ç»™ä¸€ä¸ªåŒºé—´1~nï¼Œï¼Œï¼Œç„¶åæœ€å¤šæœ‰30ç§é¢œè‰²ï¼Œï¼Œï¼Œqæ¬¡æ“ä½œå¯¹[l,r]è¿™ä¸ªåŒºé—´æŸ“è‰²ï¼Œï¼Œï¼Œä¸­é—´æœ‰ä¸€äº›è¯¢é—®åŒºé—´[l , r]å†…ä¸€å…±æœ‰å‡ ç§é¢œè‰²ï¼Œï¼Œï¼Œ</p><h2 id="åˆ†æ">åˆ†æ</h2><ul><li><p>é¦–å…ˆè€ƒè™‘çº¿æ®µæ ‘æ‰€ç»´æŠ¤çš„ä¸œè¥¿ï¼Œï¼Œï¼ŒæŸ“è‰²é—®é¢˜å¤§å¤šæ˜¯ç»´æŠ¤æ¯ä¸ªåŒºé—´çš„é¢œè‰²ï¼Œï¼Œï¼Œå¯¹äºè¿™é“é¢˜å°±æ˜¯ç»´æŠ¤è¯¥åŒºé—´çš„é¢œè‰²çš„ç§ç±»ï¼Œï¼Œï¼Œç„¶åå¯¹äºæ¯ä¸¤ä¸ªå­åŒºé—´éƒ½è¦å‘ä¸Šåˆå¹¶é¢œè‰²çš„ç§ç±»ï¼Œï¼Œï¼Œï¼Œç›¸åŒçš„å¿½ç•¥ä¸€è¾¹çš„ä¸åŒçš„å°±åŠ ä¸€ï¼Œï¼Œï¼Œæ±‚å‡ºçˆ¶åŒºé—´çš„ç§ç±»æ•°ï¼Œï¼Œï¼Œï¼Œä¹Ÿå°±æ˜¯æ›´æ–°æ“ä½œï¼Œï¼Œï¼Œè¯¢é—®å‘¢å°±æ˜¯å†è¯¢é—®çš„åŒºé—´[L , R]é‡Œçš„è¯ç›´æ¥è¿”æ²ªè¿™ä¸ªåŒºé—´çš„ç§ç±»æ•°ï¼Œï¼Œï¼Œè·¨åŒºé—´çš„é€’å½’ç»§ç»­å‘ä¸‹æŸ¥æ‰¾ï¼Œï¼Œï¼Œ</p></li><li><p>ç„¶åè€ƒè™‘é¢œè‰²ï¼Œï¼Œï¼Œæœ€å¤šä¸€å…±æœ‰30ç§ï¼Œï¼Œï¼Œå¦‚æœæ¯ä¸ªåŒºé—´éƒ½ç”¨ä¸€ä¸ª30é•¿çš„æ•°ç»„col[30]å»å­˜æ”¾æ¯ç§é¢œè‰²çš„ç§ç±»ï¼Œï¼Œcol[i] == 1è¡¨ç¤ºè¿™ä¸ªåŒºé—´æœ‰ç¬¬iç§é¢œè‰²åä¹‹æ²¡æœ‰çš„è¯ï¼Œï¼Œï¼Œç©ºé—´æ¶ˆè€—è¾ƒå¤§ï¼Œï¼Œï¼Œè€Œä¸”ç›¸å…³çš„æ“ä½œä¹Ÿä¸å¥½è¡¨è¾¾ï¼Œï¼Œï¼Œå› ä¸ºæ¯ä¸ªåŒºé—´çš„æ¯ç§é¢œè‰²åªæœ‰ä¸¤ç§æƒ…å†µï¼Œï¼Œï¼Œæœ‰æˆ–æ²¡æœ‰ï¼Œï¼Œï¼Œæ‰€ä»¥é€‰æ‹©çŠ¶æ€å‹ç¼©æ¥å®ç°æ¯”è¾ƒå¥½ï¼Œï¼Œï¼Œè¿™é‡Œæˆ‘æƒ³åˆ°å‰æ®µæ—¶é—´çœ‹åˆ°çš„ä¸€ä¸ªå¾ˆå¥½çš„çŠ¶å‹stl--bitsetï¼Œï¼Œï¼Œä¼˜ç‚¹æœ‰å¾ˆå¤šï¼Œï¼Œï¼Œæ¯”å¦‚è¯´ï¼šä»–å°±åƒboolæ•°ç»„ä¸€æ ·ä½†æ˜¯æ¯ä¸€ä½åªå 1bitï¼Œï¼Œï¼Œè€Œä¸”æœ‰å¾ˆå¤šæˆå‘˜å‡½æ•°å¾ˆæ–¹ä¾¿ï¼Œï¼Œï¼Œå…·ä½“çš„é£Ÿç”¨æ–¹æ³•<a href="https://www.cnblogs.com/RabbitHu/p/bitset.html" target="_blank" rel="noopener">æˆ³è¿™é‡Œ</a></p></li><li><p>å¦ä¸€ä¸ªéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œï¼Œï¼Œçº¿æ®µæ ‘è¦é€‰æ‹©lazyçš„ï¼Œï¼Œï¼Œè¿˜æœ‰ä¸€äº›ç»†èŠ‚ï¼š &gt;åŒºé—´çš„åˆå¹¶éœ€è¦<strong>æˆ–</strong>æ“ä½œï¼Œï¼Œï¼ŒåŒ…æ‹¬æ›´æ–°å’Œè¯¢é—® &gt;åˆå§‹æ—¶æ‰€æœ‰åŒºé—´éƒ½ä¸º1 &gt;å½“æ•´ä¸ªåŒºé—´éƒ½æŸ“è‰²æ—¶æ˜¯å°†è¯¥åŒºé—´çš„node[rt].col<strong>æ”¹</strong>ä¸ºc,,,è€Œä¸æ˜¯æˆ– &gt;è¿˜æœ‰ä¸€ä¸ªæœ€å‘äººçš„ï¼Œï¼Œï¼Œï¼Œé¢˜ç›®ä¸ä¿è¯l &lt;= rï¼Œï¼Œï¼Œï¼ˆpojä¸Šçš„é¢˜éƒ½è¿™æ ·çš„å—ï¼Œï¼Œå™—å™—å™—å™—</p></li></ul><h1 id="ä»£ç ">ä»£ç </h1><p>è¿™æ¬¡åˆå†™æˆnodeç»“æ„ä½“å®ç°çš„äº†ï¼Œï¼Œï¼Œè¿˜æ˜¯å› ä¸ºè¿™ä¸ªç†è§£èµ·æ¥å¾ˆå®¹æ˜“ï¼Œï¼Œï¼Œï¼Œ</p><p>ä½†æ˜¯ç¼ºç‚¹æ˜¯å ç”¨çš„ç©ºé—´æ¯”è¾ƒå¤§ï¼Œï¼Œï¼Œï¼Œ</p><p>ä¸‹æ¬¡å†å†™è¿™é“é¢˜çš„æ—¶å€™è¦æ¢ç”¨å¦ä¸€ç§è£¸çš„äº†QAQ</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bitset&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson rt&lt;&lt;1,l,mid</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson rt&lt;&lt;1|1,mid+1,r</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> aaa cout &lt;&lt; node[rt].col &lt;&lt; endl;</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> l;</span><br><span class="line">    <span class="keyword">int</span> r;</span><br><span class="line">    <span class="keyword">int</span> laz;</span><br><span class="line">    <span class="built_in">bitset</span>&lt;30&gt; col;         <span class="comment">//bitset,,è¡¨ç¤ºè¯¥åŒºé—´çš„é¢œè‰²çš„ç§ç±»</span></span><br><span class="line">&#125;node[maxn &lt;&lt; <span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> l , <span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    node[rt].l = l;</span><br><span class="line">    node[rt].r = r;</span><br><span class="line">    node[rt].laz = <span class="number">0</span>;</span><br><span class="line">    node[rt].col = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(node[rt].l == node[rt].r)</span><br><span class="line">    &#123;</span><br><span class="line">        node[rt].col = <span class="number">1</span>;   <span class="comment">//åˆå§‹åŒ–ä¸º1</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid = (node[rt].l + node[rt].r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    build(lson);</span><br><span class="line">    build(rson);</span><br><span class="line">    node[rt].col = node[rt &lt;&lt; <span class="number">1</span>].col | node[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].col; <span class="comment">//è®°å¾—æ›´æ–°ï¼Œï¼Œç”¨æˆ–</span></span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushdown</span><span class="params">(<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(node[rt].laz)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">bitset</span>&lt;30&gt; t;</span><br><span class="line">        t.<span class="built_in">set</span>(node[rt].laz - <span class="number">1</span>);    <span class="comment">//æ ‡è®°ä¸ºlazé‚£ä¸€ä¸ªé¢œè‰²</span></span><br><span class="line">        node[rt &lt;&lt; <span class="number">1</span>].col = t;      <span class="comment">//ä¸æ˜¯æˆ–æ“ä½œ</span></span><br><span class="line">        node[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].col = t;</span><br><span class="line"></span><br><span class="line">        node[rt &lt;&lt; <span class="number">1</span>].laz = node[rt].laz;</span><br><span class="line">        node[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].laz = node[rt].laz;</span><br><span class="line"></span><br><span class="line">        node[rt].laz = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> L , <span class="keyword">int</span> R , <span class="keyword">int</span> c)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(L &lt;= node[rt].l &amp;&amp; node[rt].r &lt;= R)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">bitset</span>&lt;30&gt; t;</span><br><span class="line">        t.<span class="built_in">set</span>(c - <span class="number">1</span>);</span><br><span class="line">        node[rt].col = t;       <span class="comment">//åŒä¸Š</span></span><br><span class="line">        node[rt].laz = c;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    pushdown(rt);</span><br><span class="line">    <span class="keyword">int</span> mid = (node[rt].l + node[rt].r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(L &lt;= mid)    update(rt &lt;&lt; <span class="number">1</span> , L , R , c);</span><br><span class="line">    <span class="keyword">if</span>(R &gt;  mid)    update(rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span> , L , R , c);</span><br><span class="line">    node[rt].col = node[rt &lt;&lt; <span class="number">1</span>].col | node[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].col;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">bitset</span>&lt;30&gt; query(<span class="keyword">int</span> rt , <span class="keyword">int</span> L , <span class="keyword">int</span> R)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//å¯¹æ¯ä¸¤ä¸ªå­åŒºé—´åˆå¹¶ï¼Œï¼Œï¼ŒåŒæ ·æ˜¯æˆ–æ“ä½œï¼Œï¼Œï¼Œæ‰€ä»¥å‡½æ•°è¿”å›å€¼ç±»å‹ä¸ºbitset&lt;30&gt;</span></span><br><span class="line">    <span class="comment">//æœ€åçš„ç­”æ¡ˆä¸º è¿”å›å€¼.count()</span></span><br><span class="line">    <span class="keyword">if</span>(L &lt;= node[rt].l &amp;&amp; node[rt].r &lt;= R)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> node[rt].col;</span><br><span class="line">    &#125;</span><br><span class="line">    pushdown(rt);</span><br><span class="line">    <span class="keyword">int</span> mid = (node[rt].l + node[rt].r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">bitset</span>&lt;30&gt; ans (<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">if</span>(L &lt;= mid)    ans |= query(rt &lt;&lt; <span class="number">1</span> , L , R);      <span class="comment">//ç”¨æˆ–åˆå¹¶</span></span><br><span class="line">    <span class="keyword">if</span>(R &gt;  mid)    ans |= query(rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span> , L , R);</span><br><span class="line">    <span class="comment">//cout &lt;&lt; ans &lt;&lt; endl;</span></span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n , t , m;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span> , &amp;n , &amp;t , &amp;m) != EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        build(<span class="number">1</span> , <span class="number">1</span> , n);</span><br><span class="line">        <span class="keyword">while</span>(m--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">char</span> q;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">" %c"</span> , &amp;q);</span><br><span class="line">            <span class="keyword">if</span>(q == <span class="string">'C'</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">int</span> l , r , c;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;l , &amp;r , &amp;c);</span><br><span class="line">                <span class="keyword">if</span>(l &gt; r)   swap(l , r);        <span class="comment">//å·¨å‘ï¼ï¼ï¼ï¼</span></span><br><span class="line">                update(<span class="number">1</span> , l , r , c);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">int</span> l , r;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d%d"</span> , &amp;l , &amp;r);</span><br><span class="line">                <span class="keyword">if</span>(l &gt; r)   swap(l , r);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%d\n"</span> , query(<span class="number">1</span> , l , r).count());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æ„Ÿæƒ³">æ„Ÿæƒ³</h1><p>ç®—äº†ä¸è¯´äº†QAQ</p><p>(end)</p>]]></content>
      
      <categories>
          
          <category> ACM-çº¿æ®µæ ‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> acm </tag>
            
            <tag> åˆ·é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>zoj-1610çº¿æ®µæ ‘åˆ·é¢˜</title>
      <link href="/2018/10/16/zoj-1610%E7%BA%BF%E6%AE%B5%E6%A0%91%E5%88%B7%E9%A2%98/"/>
      <content type="html"><![CDATA[<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1><p><a href="https://vjudge.net/contest/259382#problem/F" target="_blank" rel="noopener">è¿™é“é¢˜æ˜¯ä¸€é“ç®€å•çš„çº¿æ®µæ ‘åŒºé—´æŸ“è‰²é—®é¢˜ï¼Œï¼Œï¼Œ</a></p><p>ä½†æ˜¯ï¼Œï¼Œï¼Œï¼Œåˆšå­¦lazyæ›´æ–°æ²¡å¤šä¹…çš„æˆ‘çœ‹åˆ°è¿™æ ·çš„é¢˜å¿ƒé‡Œè¿˜æ˜¯å‘æ€µï¼Œï¼Œï¼Œ</p><p>æœ¬æ¥æ˜¯ä¸€é“ç®€å•çš„é¢˜ä¸€å¼€å§‹å°±æ˜¯ä¸çŸ¥é“æ€ä¹ˆç”¨çº¿æ®µæ ‘ç»´æŠ¤æŸ“è‰²çš„åŒºé—´ï¼Œï¼Œï¼Œè¿˜æœ‰ä¸€ä¸ªè€æ¯›ç—…ï¼Œï¼Œï¼Œè¿˜æ˜¯ä¸çŸ¥é“æ€ä¹ˆæŠŠé¢˜ç›®é‡Œçš„ä¿¡æ¯æŠ½è±¡å‡ºæ¥ï¼Œï¼Œï¼Œ</p><p>æ˜ç¡®çº¿æ®µæ ‘æ‰€è¦ç»´æŠ¤çš„ä¿¡æ¯ä»¥åŠå¦‚ä½•å¯¹è¿™äº›ä¿¡æ¯å¦‚ä½•æ›´æ–°å’ŒæŸ¥è¯¢ï¼Œï¼Œï¼Œ</p><a id="more"></a><h1 id="æ€è·¯åˆ†æ">æ€è·¯åˆ†æ</h1><ul><li><p>è¿™é“é¢˜å’Œå‰å‡ å¤©åšçš„é‚£é“è´´æµ·æŠ¥çš„é¢˜å¾ˆåƒï¼Œï¼Œï¼Œéƒ½æ˜¯åœ¨ä¸€ä¸ªå¾ˆå¤§çš„åŒºé—´é‡Œè¿›è¡Œè¿ç»­çš„<strong>åŒºé—´è¦†ç›–</strong>æ“ä½œï¼Œï¼Œï¼Œ</p></li><li><p>ç„¶åé—®ä½ æœ€åéœ²å‡ºæ¥çš„é¢œè‰²ã€æµ·æŠ¥æœ‰å‡ ç§ï¼Œï¼Œï¼Œåªä¸è¿‡è¿™é“é¢˜æ˜¯è¦åˆ—å‡ºæ¯ç§é¢œè‰²å‡ºç°äº†å‡ ä¸ªåŒºé—´ï¼Œï¼Œï¼Œ</p></li><li><p>é¦–å…ˆï¼Œï¼Œï¼Œè¿™é“é¢˜æŸ“è‰²æ˜¯åŒºé—´ä¹‹é—´çš„æŸ“è‰²ï¼Œï¼Œï¼Œå°±æ˜¯è¯´&quot;1 2 1&quot;æ˜¯æŒ‡åœ¨1 ï¼Œ 2è¿™ä¸ªé•¿åº¦åªæœ‰1çš„åŒºé—´é‡ŒæŸ“è‰²æˆé¢œè‰²1ï¼Œï¼Œï¼Œè€Œé‚£é“æµ·æŠ¥çš„é¢˜æ˜¯æŒ‡1 ï¼Œ 2è¿™ä¸¤ä¸ªå—è´´ä¸Šæµ·æŠ¥ï¼Œï¼Œï¼Œï¼Œè¿™å°±æ„å‘³ç€æˆ‘ä»¬ç”¨çº¿æ®µæ ‘æ¥ç»´æŠ¤æŸ“è‰²æ“ä½œæ—¶è¦å°†æ‰€ç»™çš„å·¦ç«¯ç‚¹åŠ ä¸€ï¼Œï¼Œ</p></li><li><p>å…¨éƒ¨æŸ“è‰²å®Œäº†(æ›´æ–°)ä¹‹åï¼Œï¼Œï¼Œå°±æ˜¯å¯¹æ•´ä¸ªåŒºåŸŸæŸ¥è¯¢ï¼Œï¼Œï¼Œç„¶åæŠŠæœ‰é¢œè‰²è¦†ç›–çš„åŒºåŸŸéƒ½ä¿å­˜åˆ°å¦ä¸€ä¸ªæ•°ç»„é‡Œï¼Œï¼Œï¼Œä¹Ÿå°±æ˜¯æœ€åæŸ“è‰²åçš„åŒºåŸŸï¼Œï¼Œï¼Œç„¶åéå†è¿™ä¸ªåŒºåŸŸï¼Œï¼Œï¼Œæ•°å‡ºå¯¹åº”çš„é¢œè‰²çš„ä¸ªæ•°å°±è¡Œäº†ï¼Œï¼Œï¼Œ</p></li><li><p>æ›´æ–°æ—¶ç”¨åˆ°äº†lazyæ“ä½œ</p></li></ul><p><a href="https://blog.csdn.net/shuangde800/article/details/8186332" target="_blank" rel="noopener">å‚è€ƒ</a></p><h1 id="ä»£ç ">ä»£ç </h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson rt&lt;&lt;1,l,mid</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson rt&lt;&lt;1|1,mid+1,r</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> aaa cout&lt;&lt;<span class="meta-string">"2333"</span>&lt;&lt;endl;</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">8005</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> col[maxn &lt;&lt; <span class="number">2</span>];</span><br><span class="line"><span class="keyword">int</span> vis[maxn &lt;&lt; <span class="number">2</span>];</span><br><span class="line"><span class="keyword">int</span> ans[maxn &lt;&lt; <span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushdown</span><span class="params">(<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(~col[rt])</span><br><span class="line">    &#123;</span><br><span class="line">        col[rt &lt;&lt; <span class="number">1</span>] = col[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>] = col[rt];</span><br><span class="line">        col[rt] = <span class="number">-1</span>;<span class="comment">//çˆ¶èŠ‚ç‚¹æœ‰å¤šç§æŸ“è‰²æ ‡è®°ä¸º-1</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> l , <span class="keyword">int</span> r , <span class="keyword">int</span> L , <span class="keyword">int</span> R , <span class="keyword">int</span> val)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(L &lt;= l &amp;&amp; r &lt;= R)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//å½“è¯¥åŒºé—´åœ¨æ‰€è¦æŸ“è‰²çš„åŒºé—´é‡Œæ—¶æŸ“è‰²</span></span><br><span class="line">        col[rt] = val;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(col[rt] == val)  <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(~col[rt])        <span class="comment">//æŸ“è¿‡è‰²åˆè¦æŸ“å…¶ä»–é¢œè‰²æ—¶ä¸‹æ¨</span></span><br><span class="line">        pushdown(rt);</span><br><span class="line">    <span class="keyword">if</span>(L &lt;= mid)    update(lson , L , R , val);</span><br><span class="line">    <span class="keyword">if</span>(R &gt;  mid)    update(rson , L , R , val);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> l , <span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(col[rt] &gt;= <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//æŠŠå­˜åœ¨çš„é¢œè‰²ä¿å­˜åˆ°visæ•°ç»„é‡Œ</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = l; i &lt;= r; ++i)</span><br><span class="line">            vis[i] = col[rt];</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(col[rt] == <span class="number">-1</span> &amp;&amp; l != r)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//å·²ç»ä¿å­˜çš„åŒºé—´å°±ä¸å†æŸ¥è¯¢äº†</span></span><br><span class="line">        <span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        query(lson);</span><br><span class="line">        query(rson);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;n) != EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//åˆå§‹åŒ–æ“ä½œï¼Œï¼Œï¼Œæ— éœ€å†å»ºæ ‘</span></span><br><span class="line">        <span class="built_in">memset</span>(col , <span class="number">-1</span> , <span class="keyword">sizeof</span>(col));</span><br><span class="line">        <span class="built_in">memset</span>(vis , <span class="number">-1</span> , <span class="keyword">sizeof</span>(vis));</span><br><span class="line">        <span class="built_in">memset</span>(ans , <span class="number">0</span> , <span class="keyword">sizeof</span>(ans));</span><br><span class="line">        <span class="keyword">int</span> a , b , c;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span> , &amp;a , &amp;b , &amp;c);</span><br><span class="line">            update(<span class="number">1</span> , <span class="number">1</span> , <span class="number">8000</span> , a + <span class="number">1</span> , b , c);<span class="comment">//å·¦ç«¯ç‚¹++</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        query(<span class="number">1</span> , <span class="number">1</span> , <span class="number">8000</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ•°å‡ºæ¯ä¸ªé¢œè‰²çš„ä¸ªæ•°</span></span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(i &lt; maxn)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> color = vis[i];</span><br><span class="line">            <span class="keyword">int</span> j = i + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(color == <span class="number">-1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                ++i;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span>(~vis[j] &amp;&amp; vis[j] == color &amp;&amp; j &lt; maxn)   ++j;</span><br><span class="line">            ++ans[color];</span><br><span class="line">            i = j;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; maxn; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(ans[i])  <span class="comment">//é¢œè‰²å­˜åœ¨è¾“å‡º</span></span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%d %d\n"</span> , i , ans[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æ€»ç»“">æ€»ç»“</h1><ul><li>è¿˜æ˜¯ä¸èƒ½æ‰¾ä¸å‡ºç»´æŠ¤çš„ä¿¡æ¯ä»¥åŠå¦‚ä½•æŸ¥è¯¢</li><li>æŸ“è‰²é—®é¢˜æ˜¯çº¿æ®µæ ‘çš„åŒºé—´è¦†ç›–é—®é¢˜ï¼Œï¼Œï¼ŒèŠ‚ç‚¹ä¸€èˆ¬ä¿å­˜é¢œè‰²ä¿¡æ¯</li></ul>]]></content>
      
      <categories>
          
          <category> ACM-çº¿æ®µæ ‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> acm </tag>
            
            <tag> åˆ·é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>poj-3268æœ€çŸ­è·¯</title>
      <link href="/2018/10/13/poj-3268%E6%9C%80%E7%9F%AD%E8%B7%AF/"/>
      <content type="html"><![CDATA[<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1><p>è¿™æ˜¯ä¸€é“æœ€çŸ­è·¯çš„æ¨¡æ¿é¢˜ï¼Œï¼Œï¼Œä¸è¿‡è™½ç„¶æ˜¯æ¨¡æ¿é¢˜ï¼Œï¼Œï¼Œè¿˜æ˜¯æœ‰ä¸€äº›ç»†èŠ‚çš„ï¼Œï¼Œï¼Œï¼ŒQAQ</p><p>åˆšå¼€å§‹æˆ‘çš„æ€è·¯æ˜¯å»ºç«‹ä¸€ä¸ªæ±‡ç‚¹ï¼Œï¼Œï¼Œç„¶åæ±‚è¿™ä¸ªç‚¹ä¸ºèµ·ç‚¹åˆ°ç»ˆç‚¹xçš„æœ€çŸ­è·¯ï¼Œï¼Œï¼Œå†æ±‚ç»ˆç‚¹åˆ°æ±‡ç‚¹çš„æœ€çŸ­è·¯ï¼Œï¼Œï¼Œæœ€åæ‰¾ä¸€ä¸ªå’Œæœ€å¤§çš„ï¼Œï¼Œï¼Œï¼Œè¿™ä¹ˆæƒ³æ˜¯å› ä¸ºå’Œä¹‹å‰åšçš„ä¸€é“é¢˜å¾ˆåƒï¼Œï¼Œï¼Œä½†åƒå½’åƒï¼Œï¼Œï¼Œç»ˆç©¶ä¸ä¸€æ ·çš„ï¼Œï¼Œï¼Œï¼Œè¿™æ ·è¿˜æ˜¯æ±‚ä¸å‡ºæœ€åçš„ç»“æœï¼Œï¼Œï¼Œå› ä¸ºå³ä½¿æ±‚å‡ºæ±‡ç‚¹åˆ°ç»ˆç‚¹çš„æœ€çŸ­è·¯ï¼Œï¼Œï¼Œä½†å¹¶ä¸æ˜¯æ¯ä¸ªç‚¹åˆ°ç»ˆç‚¹çš„æœ€çŸ­è·¯ï¼Œï¼Œï¼ŒQAQ</p><a id="more"></a><h1 id="åˆ†ææ€è·¯">åˆ†ææ€è·¯</h1><p>é¦–å…ˆç¡®å®šæ˜¯å•å…ƒæœ€çŸ­è·¯æœ‰å…³çš„é¢˜ï¼Œï¼Œï¼Œè€Œä¸”é¢˜ç›®ä¿è¯æ­£è¾¹ï¼Œï¼Œï¼Œæ‰€ä»¥é€‰æ‹©dijkstraè§£å†³ï¼Œï¼Œï¼Œ</p><p>å…¶æ¬¡ï¼Œï¼Œï¼Œæˆ‘ä¹‹å‰å¥½åƒè¿˜æ˜¯å•æºæœ€çŸ­è·¯çš„ç†è§£ä¸å¤Ÿæ¸…æ¥šï¼Œï¼Œï¼Œ</p><p><strong>å•æºæœ€çŸ­è·¯ä¸€ä¸ªæœ€ä¸»è¦çš„æ€§è´¨å°±æ˜¯æ‰€é€‰èµ·ç‚¹åˆ°ä»»æ„ä¸€ç‚¹çš„æœ€çŸ­è·¯éƒ½å¯ä»¥æ±‚å‡ºæ¥</strong></p><p>è¿™é“é¢˜åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œï¼Œä¸€éƒ¨åˆ†æ˜¯æ‰€æœ‰ç‚¹åˆ°ç»ˆç‚¹xçš„æœ€çŸ­è·¯ï¼Œï¼Œï¼Œå¦ä¸€ä¸ªæ˜¯ç»ˆç‚¹åˆ°æ‰€æœ‰ç‚¹çš„æœ€çŸ­è·¯ï¼Œï¼Œï¼Œ</p><p>æ˜¾ç„¶åä¸€éƒ¨åˆ†å¯ä»¥ç›´æ¥è°ƒç”¨ä¸€æ¬¡dijkstraä¾¿å¯ä»¥æ±‚å‡ºï¼Œï¼Œï¼Œ</p><p>è€Œå‰è€…å¯ä»¥è€ƒè™‘åæ–¹å‘ï¼Œï¼Œï¼Œæ‰€æœ‰ç‚¹åˆ°ç»ˆç‚¹çš„æœ€çŸ­è·¯å°±ç›¸å½“äº<strong>æ²¿ç›¸åŒçš„æœ€çŸ­è·¯ä» ç»ˆç‚¹x åˆ° æ¯ä¸ªç‚¹ çš„æœ€çŸ­è·¯</strong>ï¼Œï¼Œï¼Œè¿™ä¸ªç›¸åŒçš„æœ€çŸ­è·¯å°±æ˜¯æŒ‡ï¼šå‡å¦‚1åˆ°3çš„æœ€çŸ­è·¯æ˜¯1-&gt;4-&gt;3é‚£ä¹ˆä»–å°±ç­‰åŒäº3-&gt;4-&gt;1ï¼Œï¼Œï¼Œæ‰€ä»¥å†æ±‚å‰ä¸€éƒ¨åˆ†å°±å¯ä»¥å°†å›¾ä¸­çš„æ¯ä¸€æ¡è·¯çš„æ–¹å‘éƒ½å–åæ–¹å‘ï¼Œï¼Œï¼Œä¹Ÿå°±æ˜¯é€†å›¾ï¼Œï¼Œï¼Œè¿™æ ·ä¸€ç»ˆç‚¹xä¸ºèµ·ç‚¹åˆ°å„ç‚¹çš„æœ€çŸ­è·¯å°±ç­‰äºå„ç‚¹åˆ°ç»ˆç‚¹xçš„æœ€çŸ­è·¯ï¼Œï¼Œï¼Œ</p><p>æ‰€ä»¥ä¸ºäº†å®ç°é€†å›¾é€‰æ‹© <strong>é‚»æ¥çŸ©é˜µ</strong> è¦æ¯”å…¶ä»–æ–¹å¼çš„å­˜å›¾è¦å¥½ä¸€äº›ï¼Œï¼Œï¼Œ</p><h1 id="å®ç°">å®ç°</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e3</span> + <span class="number">10</span>;</span><br><span class="line"><span class="comment">//const int maxm = 1e5 + 10;</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> cost[maxn][maxn];</span><br><span class="line"><span class="keyword">bool</span> vis[maxn];</span><br><span class="line"><span class="keyword">int</span> dis1[maxn];</span><br><span class="line"><span class="keyword">int</span> dis2[maxn];</span><br><span class="line"><span class="keyword">int</span> cnt;</span><br><span class="line"><span class="keyword">int</span> n , m , x;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dijkstra</span><span class="params">(<span class="keyword">int</span> n , <span class="keyword">int</span> s , <span class="keyword">int</span> dis[] , <span class="keyword">int</span> cost[][maxn])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//init</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">        dis[i] = (i == s) ? <span class="number">0</span> : inf;</span><br><span class="line">    <span class="built_in">memset</span>(vis , <span class="literal">false</span> , <span class="keyword">sizeof</span>(vis));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> k = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">int</span> m = inf;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; ++j)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(!vis[j] &amp;&amp; dis[j] &lt; m)</span><br><span class="line">            &#123;</span><br><span class="line">                m = dis[j];</span><br><span class="line">                k = j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(k == <span class="number">-1</span>) <span class="keyword">break</span>;</span><br><span class="line">        vis[k] = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; ++j)</span><br><span class="line">            <span class="keyword">if</span>(!vis[j] &amp;&amp; dis[k] + cost[k][j] &lt; dis[j])</span><br><span class="line">                dis[j] = dis[k] + cost[k][j];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> u , v , w;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span> , &amp;n , &amp;m , &amp;x) != EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; ++j)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(i == j)  cost[i][j] = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">else</span>        cost[i][j] = inf;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span> , &amp;u , &amp;v , &amp;w);</span><br><span class="line">            cost[u][v] = min(cost[u][v] , w);</span><br><span class="line">        &#125;</span><br><span class="line">        dijkstra(n , x , dis1 , cost);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; i; ++j)</span><br><span class="line">                swap(cost[i][j] , cost[j][i]);</span><br><span class="line">        dijkstra(n , x , dis2 , cost);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">            ans = max(ans , dis1[i] + dis2[i]);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span> , ans);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>(end)</p><p>ä»€ä¹ˆæ—¶å€™æ‰èƒ½çœŸæ­£çš„æ„Ÿè§‰è¿™æ‰æ˜¯æ°´é¢˜å•Šï¼Œï¼Œï¼ŒQAQ</p>]]></content>
      
      <categories>
          
          <category> ACM-æœ€çŸ­è·¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> acm </tag>
            
            <tag> åˆ·é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>poj-2528çº¿æ®µæ ‘ç»ƒä¹ </title>
      <link href="/2018/10/13/poj-2528%E7%BA%BF%E6%AE%B5%E6%A0%91%E7%BB%83%E4%B9%A0/"/>
      <content type="html"><![CDATA[<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1><p><a href="http://poj.org/problem?id=2528" target="_blank" rel="noopener">è¿™é“é¢˜å‘äº†æˆ‘å¥½ä¹…å•Šå•Šå•Šå•Šï¼Œï¼Œï¼Œï¼Œ</a></p><p>åˆ°ç°åœ¨ä¹Ÿåªæ˜¯ç†è§£äº†kaungbinçš„ä»£ç ï¼Œï¼Œï¼ŒçŸ¥é“æ¯ä¸€æ­¥åšä»€ä¹ˆï¼Œï¼Œï¼Œä½†æ„Ÿè§‰å°±æ˜¯å“ªé‡Œæœ‰äº›ä¸å¯¹åŠ²çš„æ ·å­ï¼Œï¼Œï¼Œï¼Œ</p><p>è¿™é“é¢˜æœ‰ä¸¤ä¸ªç‚¹æ˜¯æˆ‘æ„Ÿè§‰å¾ˆé‡è¦çš„ï¼Œï¼Œï¼Œä¸€ä¸ªæ˜¯æ•°æ®çš„ç¦»æ•£åŒ–ï¼Œï¼Œï¼Œå¦ä¸€ä¸ªæ˜¯çº¿æ®µæ ‘çš„å˜å½¢ï¼Œï¼Œï¼Œä¹Ÿå°±æ˜¯å®ƒæ‰€ç»´æŠ¤çš„ä¸œè¥¿å’Œä¹‹å‰è§è¿‡çš„ä¸ä¸€æ ·äº†ï¼Œï¼Œï¼Œï¼Œ</p><a id="more"></a><h1 id="åˆ†ææ€è·¯">åˆ†ææ€è·¯</h1><p>é¢˜æ„æ˜¯è¿™æ ·çš„ï¼Œï¼Œï¼Œåœ¨ä¸€ä¸ªå¾ˆå¤§çš„åŒºé—´é‡Œï¼Œï¼Œï¼Œä¸åœçš„ç»™æ¯ä¸€ä¸ªåŒºé—´è¦†ç›–æµ·æŠ¥ï¼Œï¼Œï¼Œæ¯ä¸ªè¦†ç›–çš„æµ·æŠ¥æ˜¯ä¸ä¸€æ ·çš„ï¼Œï¼Œç„¶åé—®ä½ æœ€åä¸€å…±æœ‰å‡ ä¸ªæµ·æŠ¥æ˜¯éœ²å‡ºæ¥çš„ï¼Œï¼Œï¼Œ</p><p>å¤§ä½“ä¸Šçš„æ€è·¯æ˜¯ä¸æ‰€ç»™è´´æµ·æŠ¥ç›¸åçš„é¡ºåºè´´æµ·æŠ¥ï¼Œï¼Œï¼Œè¿™æ ·çš„è¯ç¬¬ä¸€å¼ ï¼ˆä¹Ÿå°±æ˜¯åŸæ¥é¡ºåºçš„æœ€åä¸€å¼ ï¼‰ä¸€å®šæ˜¯å…¨éœ²å‡ºæ¥çš„ï¼Œï¼Œç„¶åç¬¬äºŒå¼ ï¼ˆä¹Ÿå°±æ˜¯åŸæ¥é¡ºåºçš„å€’æ•°ç¬¬äºŒå¼ ï¼‰<strong>å¦‚æœæ˜¯åœ¨ç¬¬ä¸€å¼ çš„åŒºé—´é‡Œè¯´æ˜å®ƒå°±è¢«å®Œå…¨è¦†ç›–äº†ï¼Œï¼Œå¦‚æœæ˜¯åœ¨ç¬¬ä¸€å¼ ä»¥å¤–çš„å…¶ä»–åœ°æ–¹ï¼Œï¼Œï¼Œå°±è¯´æ˜è¿™å¼ ä¹Ÿä¸€å®šæ˜¯éœ²å‡ºæ¥çš„ï¼Œï¼Œï¼Œä»¥æ­¤ç±»æ¨</strong>ï¼Œï¼Œå¯¹äºæ¯ä¸€æ¬¡åˆ¤æ–­å‡ºæ˜¯éœ²å‡ºæ¥çš„++ansï¼Œï¼Œï¼Œæœ€ç»ˆå…¨å¤„ç†äº†å°±å¾—åˆ°äº†ç­”æ¡ˆï¼Œï¼Œï¼Œæ•°æ®è¦ç¦»æ•£åå†ç”¨ï¼Œï¼Œï¼Œ</p><p>å¯ä»¥çœ‹å‡ºè¿™æ ·çš„å†™æ³•ä¸­çº¿æ®µæ ‘åªæ˜¯ç”¨æ¥åˆ¤æ–­æ¯ä¸€æ¬¡çš„è´´æµ·æŠ¥ï¼Œï¼Œï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œï¼Œï¼Œçº¿æ®µæ ‘åªæ˜¯ç”¨æ¥ç»´æŠ¤æ¯ä¸€ä¸ªåŒºé—´æ˜¯å¦è¢«è¦†ç›–ï¼ˆæ›´æ–°ï¼‰ï¼Œï¼Œï¼ŒåŒæ—¶è¿”å›æ‰€è¦è¦†ç›–çš„åŒºé—´æ˜¯å¦æœ‰éœ²å‡ºæ¥çš„ï¼ˆæŸ¥è¯¢ï¼‰ï¼Œï¼Œï¼Œæ‰€ä»¥æ›´æ–°å’ŒæŸ¥è¯¢çš„æ“ä½œå¯ä»¥åˆå¹¶åœ¨ä¸€èµ·ï¼Œï¼Œï¼Œï¼Œ</p><h1 id="å®ç°">å®ç°</h1><h2 id="æ•°æ®çš„ç¦»æ•£åŒ–">æ•°æ®çš„ç¦»æ•£åŒ–</h2><p>å…ˆè¯´ä¸€ä¸‹ç¦»æ•£æ€ä¹ˆå®ç°:</p><p>é¦–å…ˆåŸæ•°æ®ä¿å­˜åˆ°x[maxn]æ•°ç»„ï¼Œï¼Œï¼Œ</p><p>ç„¶åæŠŠæ‰€æœ‰çš„æ•°æ®å¤åˆ¶åˆ°å¦ä¸€ä¸ªæ•°ç»„a[maxn]ï¼Œï¼Œï¼Œ</p><p>å¯¹å…¶æ’åºï¼Œï¼Œï¼Œ</p><p>å»é‡ï¼Œï¼Œï¼Œ</p><p>ç„¶åå¯¹å»é‡çš„æ•°ç»„a[maxn]éå†è¿›è¡Œç¦»æ•£ï¼Œï¼Œï¼Œ</p><p>è¿™æ ·æƒ³è¦çŸ¥é“çŸ¥é“åŸæ¥æ•°æ®ä¸­xæ‰€å¯¹åº”ç¦»æ•£åçš„ä½ç½®å°±ä¸ºhash[x]ï¼Œï¼Œï¼Œ</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sort(a , a + count);</span><br><span class="line">count = unique(a , a + count) - a;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; count; ++i)</span><br><span class="line">    hash[a[i]] = i;</span><br></pre></td></tr></table></figure><h2 id="æœ€åçš„ä»£ç ">æœ€åçš„ä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson rt&lt;&lt;1,l,mid</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson rt&lt;&lt;1|1,mid+1,r</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> l;</span><br><span class="line">    <span class="keyword">int</span> r;</span><br><span class="line">    <span class="keyword">bool</span> cov;       <span class="comment">//è¡¨ç¤ºè¿™ä¸ªèŠ‚ç‚¹æ‰€ä»£è¡¨çš„åŒºé—´æ˜¯å¦è¢«è¦†ç›–</span></span><br><span class="line">&#125;node[maxn &lt;&lt; <span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">poster</span>       //è¡¨ç¤ºæµ·æŠ¥çš„ç»“æ„ä½“</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> l;</span><br><span class="line">    <span class="keyword">int</span> r;</span><br><span class="line">&#125;poster[maxn &lt;&lt; <span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> l , <span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    node[rt].l = l;</span><br><span class="line">    node[rt].r = r;</span><br><span class="line">    node[rt].cov = <span class="literal">false</span>;   <span class="comment">//æ¯ä¸€ä¸ªåŒºé—´åˆå§‹åŒ–ä¸ºæœªè¦†ç›–</span></span><br><span class="line">    <span class="keyword">if</span>(l == r)  <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    build(lson);</span><br><span class="line">    build(rson);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">post</span><span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> l , <span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//å½“å‰èŠ‚ç‚¹ï¼Œæ‰€è¦è¦†ç›–çš„é¢åŒºé—´[l , r]</span></span><br><span class="line">    <span class="keyword">if</span>(node[rt].cov)    <span class="keyword">return</span> <span class="literal">false</span>;                   <span class="comment">//è‹¥è¿™ä¸ªåŒºé—´å·²ç»è¢«è¦†ç›–ç›´æ¥è¿”å›</span></span><br><span class="line">    <span class="keyword">if</span>(node[rt].l == l &amp;&amp; node[rt].r == r)</span><br><span class="line">    &#123;</span><br><span class="line">        node[rt].cov = <span class="literal">true</span>;                            <span class="comment">//æœªè¦†ç›–çš„å‰æä¸‹æ‰¾åˆ°æ•´ä¸ªåŒºé—´æ—¶</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">bool</span> res;</span><br><span class="line">    <span class="keyword">int</span> mid = (node[rt].l + node[rt].r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(r &lt;= mid)    res = post(rt &lt;&lt; <span class="number">1</span> , l , r);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(l &gt; mid)res = post(rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span> , l , r);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">bool</span> r1 = post(rt &lt;&lt; <span class="number">1</span> , l , mid);</span><br><span class="line">        <span class="keyword">bool</span> r2 = post(rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span> , mid + <span class="number">1</span> , r);</span><br><span class="line">        res = r1 || r2;                                 <span class="comment">//å½“è·¨ä¸¤ä¸ªåŒºé—´æ—¶ï¼Œï¼Œï¼Œè¦åˆ†åˆ«åˆ¤æ–­æ˜¯å¦éƒ½æ˜¯è¢«è¦†ç›–çš„ï¼Œï¼Œæœ‰ä¸€ä¸ªæ²¡è¦†ç›–å³éœ²å‡ºå°±è¯´æ˜è¿™ä¸ªåŒºé—´æœ‰éœ²å‡ºçš„</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(node[rt &lt;&lt; <span class="number">1</span>].cov &amp;&amp; node[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].cov)      <span class="comment">//ä¸¤ä¸ªå­åŒºé—´éƒ½éœ²å‡ºçˆ¶èŠ‚ç‚¹ä¹Ÿæ˜¯éœ²å‡º</span></span><br><span class="line">        node[rt].cov = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> a[maxn];</span><br><span class="line"><span class="keyword">int</span> hash[<span class="number">10000010</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> T;<span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;T);</span><br><span class="line">    <span class="keyword">while</span>(T--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> n;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;n);</span><br><span class="line">        <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d"</span> , &amp;poster[i].l , &amp;poster[i].r);</span><br><span class="line">            a[count++] = poster[i].l;</span><br><span class="line">            a[count++] = poster[i].r;</span><br><span class="line">            <span class="comment">//ç›¸é‚»å­˜ç‚¹</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//ç¦»æ•£</span></span><br><span class="line">        sort(a , a + count);</span><br><span class="line">        count = unique(a , a + count) - a;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; count; ++i)</span><br><span class="line">            hash[a[i]] = i;</span><br><span class="line"></span><br><span class="line">        build(<span class="number">1</span> , <span class="number">0</span> , count - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = n - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i)             <span class="comment">//åç€éå†ï¼Œï¼Œæœ‰éœ²å‡ºçš„å°±å¢ä¸€</span></span><br><span class="line">            <span class="keyword">if</span>(post(<span class="number">1</span> , hash[poster[i].l] , hash[poster[i].r]))</span><br><span class="line">                ++ans;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span> , ans);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¸€ä¸ªç¼ºç‚¹ï¼Œï¼Œï¼Œè¿™æ ·å•çº¯çš„ç¦»æ•£æ•°æ®ä¼šå‡ºé”™ï¼Œï¼Œï¼Œåƒè¿™ä¸€ç»„ï¼Œï¼Œï¼Œ</span></span><br><span class="line"><span class="comment">//ä½†æ˜¯pojä¸Šæ²¡æœ‰è€ƒè™‘è¿™ç§æƒ…å†µï¼Œï¼Œï¼Œï¼Œåº”è¯¥æ˜¯æ ‡ç¨‹çš„ç¦»æ•£ä¹Ÿæ˜¯è¿™æ ·æŠŠï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œ</span></span><br><span class="line"><span class="comment">//3</span></span><br><span class="line"><span class="comment">//1 10</span></span><br><span class="line"><span class="comment">//1 3</span></span><br><span class="line"><span class="comment">//6 10</span></span><br><span class="line"><span class="comment">//2</span></span><br><span class="line"><span class="comment">//åº”è¯¥æ˜¯3</span></span><br></pre></td></tr></table></figure><h1 id="æ€»ç»“">æ€»ç»“</h1><ul><li><p>æš‘å‡æ—¶æ¥è§¦è¿‡ä¸€æ¬¡æ•°æ®çš„ç¦»æ•£åŒ–ï¼Œï¼Œï¼Œä½†æ˜¯å½“æ—¶åªæ˜¯ä¼šç”¨å°±è¡Œï¼Œï¼Œï¼Œæœ€ç»ˆè¿˜æ˜¯å¿˜è®°äº†ï¼Œï¼Œï¼ŒåªçŸ¥é“è¿™æ ·ä¸€ä¸ªåè¯ï¼Œï¼Œï¼Œè¿™æ¬¡èŠ±äº†ç‚¹æ—¶é—´è®°å¿†äº†ä¸€ä¸‹ï¼Œï¼Œï¼Œä½†æ˜¯è¿˜æ˜¯æ²¡æœ‰ä»”ç»†æ·±å…¥çš„çœ‹çœ‹ï¼Œï¼Œï¼Œå› ä¸ºä»¥å‰çœ‹åˆ°çš„ç¦»æ•£åŒ–æ—¶ç”¨çš„lower_bound()ï¼Œï¼Œï¼Œï¼Œè€Œä¸”æ“ä½œæ›´åŠ çš„å¤æ‚ï¼Œï¼Œï¼Œè¿‡ä¸€æ®µæ—¶é—´å†çœ‹çœ‹æŠŠï¼Œï¼Œï¼Œï¼Œ</p></li><li><p>çœ‹åˆ°ç½‘ä¸Šå¥½å¤šäººç”¨çš„çº¿æ®µæ ‘çš„ç»“æ„å’Œä¹‹å‰å†™çš„é‚£æ ·ä¸€æ ·ï¼Œï¼Œï¼Œbuild(),update(),query()ï¼Œï¼Œï¼Œä½†å°±æ˜¯ç†è§£ä¸äº†ï¼Œï¼Œï¼ŒQAQï¼Œï¼Œï¼Œçœ‹äº†kuangbinçš„å†™æ³•ååˆ°ç†è§£äº†ï¼Œï¼Œï¼Œè™½ç„¶åŸºæœ¬æ˜¯ç…§æ¬è¿‡æ¥çš„ï¼Œï¼Œï¼Œï¼Œå†è¿‡å‡ å¤©è¦é‡å†™ä¸€éï¼Œï¼Œï¼Œ</p></li></ul><p>(end)</p>]]></content>
      
      <categories>
          
          <category> ACM-çº¿æ®µæ ‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> acm </tag>
            
            <tag> åˆ·é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>çº¿æ®µæ ‘-æœ€å°é€†åºæ•°</title>
      <link href="/2018/10/12/%E7%BA%BF%E6%AE%B5%E6%A0%91-%E6%9C%80%E5%B0%8F%E9%80%86%E5%BA%8F%E6%95%B0/"/>
      <content type="html"><![CDATA[<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1><p>è¿™æ˜¯ä¸€é“ç®€å•çš„çº¿æ®µæ ‘çš„é¢˜ï¼Œï¼Œï¼Œå½“ç„¶è¿˜æœ‰å¾ˆå¤šå…¶ä»–çš„åšæ³•ï¼Œï¼Œï¼Œç”šè‡³æ—¶æš´åŠ›éƒ½å¯ä»¥ï¼Œï¼Œï¼Œ</p><p>ç”¨çº¿æ®µæ ‘ä¸»è¦æ˜¯ä¸ºäº†åœ¨ç»ƒä¸€ç»ƒçº¿æ®µæ ‘çš„ä½¿ç”¨ï¼Œï¼Œï¼Œè€Œä¸”è¿™æ¬¡ï¼Œï¼Œæˆ‘æ¢äº†ä¸€ç§å†™çº¿æ®µæ ‘çš„æ–¹æ³•ï¼Œï¼Œï¼Œ</p><p>è²Œä¼¼ä¹Ÿæ˜¯å¾ˆå¤šå¤§ä½¬éƒ½åœ¨ç”¨çš„ä¸€ç§å†™æ³•ï¼Œï¼Œï¼Œ</p><p>ä¹‹å‰ä¸€ç›´ç”¨çš„å…¥é—¨æ—¶ä¸ºäº†å¥½ç†è§£çš„ä¸€ç§å†™æ³•ï¼šèŠ‚ç‚¹ç”¨ç»“æ„ä½“nodeè¡¨ç¤ºï¼Œï¼Œï¼Œå¹¶ä¸”ä¸ºäº†ç†è§£è¿˜æ·»äº†æ¯ä¸€ä¸ªèŠ‚ç‚¹æ‰€å¯¹åº”çš„å·¦å³è¾¹ç•Œï¼Œï¼Œï¼Œ</p><p>ä½†å®é™…ä¸Šï¼Œï¼Œè¿™äº›ä¿¡æ¯æ˜¯æ²¡æœ‰ç”¨çš„ï¼Œï¼Œï¼Œæˆ–è€…è¯´æ˜¯å¤šä½™çš„ï¼Œï¼Œï¼Œç›´æ¥åœ¨ä½¿ç”¨æ—¶è®¡ç®—æˆ–è€…ç›´æ¥ä½œä¸ºå‡½æ•°çš„å½¢å‚ä¼ é€’å°±è¡Œäº†ï¼Œï¼Œï¼Œï¼Œ</p><p>è¿™æ ·çš„å†™æ³•ä»£ç é‡æ›´åŠ çš„å°‘è€Œå†™å†™èµ·æ¥ä¹Ÿæ–¹ä¾¿ï¼Œï¼Œï¼Œå ç”¨çš„ç©ºé—´ä¹Ÿå°‘äº†äº›ï¼Œï¼Œï¼Œ</p><a id="more"></a><h1 id="é¢˜ç›®çš„åˆ†æ">é¢˜ç›®çš„åˆ†æ</h1><p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1394" target="_blank" rel="noopener">è¿™é“é¢˜ä¸åƒä¹‹å‰åšçš„çº¿æ®µæ ‘çš„é¢˜é‚£æ ·æ‰€ç»´æŠ¤çš„å€¼å°±æ˜¯æœ€ç»ˆè¦æ±‚çš„ç­”æ¡ˆï¼Œï¼Œï¼Œè€Œæ˜¯ä¸­é—´çš„æŸä¸€è¿‡ç¨‹é‡ï¼Œï¼Œï¼Œ</a></p><p>é¦–å…ˆï¼Œï¼Œé¢˜ç›®çš„æ„æ€å°±æ˜¯å¯¹äºä¸€ä¸ªç»™å®šçš„æ•°åˆ— <span class="math inline">\(a_0 , a_1 , a_2 , ,,, ,a_{n-1}\)</span>,,,æ¯æ¬¡å°†ç¬¬ä¸€ä¸ªæ•°ç§»åŠ¨åˆ°åé¢ï¼Œï¼Œï¼Œè¿™æ ·ä¸€å…±æœ‰nç§åºåˆ—ï¼Œï¼Œï¼Œç„¶åå¯¹äºæ¯ä¸€ç§åºåˆ—éƒ½æœ‰ä¸€ä¸ª <strong>é€†åºæ•°</strong> ï¼Œï¼Œé—®ä½ åœ¨è¿™äº›é€†åºæ•°ä¸­æœ€å°çš„é‚£ä¸ªæ˜¯å¤šå°ï¼Œï¼Œï¼Œï¼Œ</p><ul><li><p>è¿™é“é¢˜åªè¦çŸ¥é“å…¶ä¸­ä¸€ä¸ªåºåˆ—çš„é€†åºæ•°ï¼Œï¼Œå®ƒçš„ç›¸é‚»ä¸€ä¸ªé€†åºæ•°ä¹Ÿå°±å¯ä»¥æ¨å‡ºæ¥ï¼Œï¼Œï¼Œå…·ä½“æ˜¯è¿™æ ·çš„ï¼š</p><p><span class="math inline">\(å½“å·²çŸ¥ç¬¬iä¸ªåºåˆ—çš„é€†åºæ•°sum_iæ—¶ï¼Œï¼Œ\)</span></p><p><span class="math inline">\(ç¬¬i+1ä¸ªåºåˆ—çš„é€†åºæ•°ä¸ºsum_{i+1}=sum_i + n - a[i] - 1 - a[i],,,,\)</span></p><p><span class="math inline">\(å°±æ˜¯è¯´å½“å°†ç¬¬ä¸€ä¸ªæ•°ç§»åˆ°æœ€åå‰ï¼Œï¼Œï¼Œ\)</span></p><p><span class="math inline">\(å®ƒä»¥å‰çš„é€†åºæ•°æœ‰ a[i] ä¸ªæ‰€ä»¥è¦å‡å»è¿™äº›ï¼Œï¼Œ\)</span></p><p><span class="math inline">\(è€Œå½“å®ƒè¢«ç§»åˆ°æœ€åæ—¶ï¼Œï¼Œï¼Œ\)</span></p><p><span class="math inline">\(å‰é¢åˆå¤šäº† n - a[i] - 1 ä¸ªï¼Œï¼Œï¼Œ\)</span></p><p><span class="math inline">\(æœ€åçš„sumå°±æ±‚å‡ºæ¥äº†ï¼Œï¼Œï¼Œ\)</span></p></li><li>å½“çŸ¥é“ä¸Šé¢è¿™ä¸ªé€’æ¨å¼åï¼Œï¼Œï¼Œæˆ‘ä»¬çš„ä»»åŠ¡å°±æ˜¯æ±‚å‡ºæ‰€è¾“å…¥å‡ºçš„æ•°åˆ—çš„é€†åºæ•°ï¼Œï¼Œï¼Œç„¶åå†æ ¹æ®é€’æ¨å¼æ‰¾å‡ºæœ€å°çš„é‚£ä¸€ä¸ªè¾“å‡ºå°±è¡Œäº†ï¼Œï¼Œï¼Œ</li><li><p>å¯¹äºæ±‚è¿™ä¸ªæ•°åˆ—çš„é€†åºæ•°ç”¨çº¿æ®µæ ‘çš„æ–¹æ³•æ˜¯ï¼Œï¼Œï¼Œå…ˆå»ºä¸€ä¸ªç©ºçš„æ•°ï¼Œï¼Œï¼Œç„¶åæ¯è¾“å…¥ä¸€ä¸ªæ•°ï¼Œï¼Œæ ‡è®°ä¸€ä¸‹ï¼Œï¼Œä¸è¿‡æ ‡è®°åœ¨æœ€åçš„æ›´æ–°å®Œæˆï¼Œï¼Œï¼Œå…ˆæ±‚å‡ºå®ƒä¹‹å‰æ‰€è¾“å…¥çš„æ‰€æœ‰æ•°ä¸­æ¯”å®ƒå¤§çš„æ•°(ä¹Ÿå°±æ˜¯çœ‹è¿™ä¸ªæ•°åˆ°n-1ä¸€å…±æœ‰å‡ ä¸ªå‡ºç°åœ¨ä¹‹å‰çš„è¾“å…¥ä¸­ï¼Œï¼Œï¼Œä¹Ÿå°±æ˜¯çœ‹æ ‡è®°çš„å’Œ)ï¼Œï¼Œï¼Œä¹Ÿå°±æ˜¯ä»¥å®ƒæ„æˆçš„é€†åºåˆ—ï¼Œï¼Œï¼Œç„¶åæŠŠå®ƒåŠ (æ ‡è®°)åˆ°è¿™ä¸ªæ ‘é‡Œï¼ˆæ›´æ–°ï¼‰ï¼Œï¼Œï¼Œå¯ä»¥çœ‹å‡ºå¦‚æœæŠŠæ ‡è®°æ”¹ä¸ºå­˜æ”¾è¿™ä¸ªæ•°ï¼Œï¼Œçº³é—·è¿™æ£µæ ‘çš„å¶å­èŠ‚ç‚¹å°±æ˜¯æ’åºå¥½çš„1~n-1æ•°åˆ—ï¼Œï¼Œï¼Œï¼Œè¿™ä¸€æ®µç”»ä¸ªå›¾å°±å¥½ç†è§£äº†ï¼Œï¼Œï¼Œ</p></li></ul><h1 id="å®ç°">å®ç°</h1><p>code:</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson rt&lt;&lt;1,l,mid</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson rt&lt;&lt;1|1,mid+1,r</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">5005</span>;</span><br><span class="line"><span class="keyword">int</span> sum[maxn &lt;&lt; <span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushup</span><span class="params">(<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    sum[rt] = sum[rt &lt;&lt; <span class="number">1</span>] + sum[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> l , <span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    sum[rt] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(l == r)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    build(lson);</span><br><span class="line">    build(rson);</span><br><span class="line">    pushup(rt);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> l , <span class="keyword">int</span> r , <span class="keyword">int</span> loc)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l == r)</span><br><span class="line">    &#123;</span><br><span class="line">        ++sum[rt];</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(loc &lt;= mid)  update(lson , loc);</span><br><span class="line">    <span class="keyword">else</span>            update(rson , loc);</span><br><span class="line">    pushup(rt);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> l , <span class="keyword">int</span> r , <span class="keyword">int</span> L , <span class="keyword">int</span> R)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(L &lt;= l &amp;&amp; r &lt;= R)</span><br><span class="line">        <span class="keyword">return</span> sum[rt];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(L &lt;= mid)    ans += query(lson , L , R);</span><br><span class="line">    <span class="keyword">if</span>(R &gt;  mid)    ans += query(rson , L , R);</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> a[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;n) != EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        build(<span class="number">1</span> , <span class="number">0</span> , n);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> sm = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;a[i]);</span><br><span class="line">            sm += query(<span class="number">1</span> , <span class="number">0</span> , n - <span class="number">1</span> , a[i] , n - <span class="number">1</span>);</span><br><span class="line">            update(<span class="number">1</span> , <span class="number">0</span> , n - <span class="number">1</span> , a[i]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> ret = sm;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            sm += n - a[i] - <span class="number">1</span> - a[i];</span><br><span class="line">            ret = min(sm , ret);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span> , ret);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> ACM-çº¿æ®µæ ‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> acm </tag>
            
            <tag> åˆ·é¢˜ </tag>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>çº¿æ®µæ ‘å»¶è¿Ÿæ›´æ–°</title>
      <link href="/2018/10/10/%E7%BA%BF%E6%AE%B5%E6%A0%91%E5%BB%B6%E8%BF%9F%E6%9B%B4%E6%96%B0/"/>
      <content type="html"><![CDATA[<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1><p>æš‘å‡é›†è®­çš„æ—¶å€™å¥½å¤šä¸œè¥¿åªå­¦äº†ä¸ªçš®æ¯›ï¼Œï¼Œï¼Œå¯¹ä»˜æ¨¡æ¿é¢˜è¿˜èƒ½è¯•è¯•ï¼Œï¼Œï¼Œä½†æ˜¯ä¸€çœ‹ä¸€äº›ç¨éš¾çš„ä¸€äº›é¢˜æ—¶ï¼Œï¼Œï¼Œè‚¯å®šå•çº¯çš„å¥—æ¨¡æ¿æ˜¯ä¸è¡Œå¾—äº†ï¼Œï¼Œï¼Œé‚£æ ·å¤šæ²¡æ„æ€å•Šï¼Œï¼Œï¼Œ</p><p>å»¶è¿Ÿæ›´æ–°ä¹‹å‰å°±çœ‹åˆ°è¿‡ï¼Œï¼Œï¼Œå½“åˆçš„æ˜ åƒå°±æ˜¯åœ¨æ™®é€šçš„çº¿æ®µæ ‘é‡ŒåŠ ä¸€ä¸ªlazyï¼Œï¼Œï¼Œç„¶åå¯ä»¥å»¶è¿Ÿæ›´æ–°åŒºé—´ï¼Œï¼Œï¼Œè¿™åœ¨å¯¹åŒºé—´æ•´æ®µçš„æ›´æ–°å¾ˆæœ‰ç”¨ï¼Œï¼Œï¼Œå› ä¸ºä¸ç”¨å¯¹æ›´æ–°åŒºé—´çš„æ¯ä¸€ä¸ªç‚¹æ›´æ–°ï¼Œï¼Œè¿™æ ·å°±èƒ½çœä¸‹å¾ˆå¤šæ—¶é—´ï¼Œï¼Œï¼Œ</p><p>ä½†æ˜¯ï¼Œï¼Œé‚£æ—¶æ²¡æ—¶é—´ä¹Ÿçœ‹ä¸æ‡‚ï¼Œï¼Œï¼Œè·Ÿåˆ«ææ€ä¹ˆæ“ä½œäº†ï¼Œï¼Œï¼Œï¼Œ</p><a id="more"></a><p>å›½åº†çš„æ—¶å€™ä¸“é—¨çœ‹çœ‹äº†çœ‹è¿™å—çŸ¥è¯†ï¼Œï¼Œï¼Œå¤§æ¦‚äº†è§£äº†lazyçš„ä½œç”¨ä»¥åŠè¯¥æ€ä¹ˆä½¿ç”¨ä»–ï¼Œï¼Œ</p><p><a href="https://www.cnblogs.com/AC-King/p/7789013.html" target="_blank" rel="noopener">å½“æ—¶æ˜¯çœ‹è¿™ç¯‡åšå®¢çš„</a></p><h1 id="åˆ†æ">åˆ†æ</h1><p>å•çº¯çš„çº¿æ®µæ ‘ä¸»è¦æ˜¯ <strong>å•ç‚¹ä¿®æ”¹ï¼ŒåŒºé—´æŸ¥è¯¢</strong> ï¼Œï¼Œï¼Œ</p><p>è‹¥æ˜¯ä¸æ›´æ”¹è¿›è¡ŒåŒºé—´çš„ä¿®æ”¹æ—¶ï¼Œï¼Œï¼Œåªèƒ½å¯¹åŒºé—´é‡Œçš„æ¯ä¸€ä¸ªæ•°è¿›è¡Œå•ç‚¹ä¿®æ”¹ï¼Œï¼Œï¼Œå½“æ•°æ®é‡å¾ˆå¤§æ—¶ï¼Œï¼Œè¿™æ ·çš„æ“ä½œå¾ˆè´¹æ—¶é—´ï¼Œï¼Œï¼Œ</p><p>æ‰€ä»¥å¯ä»¥å¯¹æ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½åŠ ä¸€ä¸ªlazyæ ‡è®°ï¼Œï¼Œï¼Œå½“è¿™ä¸€æ®µè¦æ›´æ–°æ—¶ï¼Œï¼Œçˆ¶èŠ‚ç‚¹çš„lazyæ›´æ–°ï¼Œï¼Œç„¶ååŒºé—´æ‰€ç»´æŠ¤çš„sumåŠ ä¸Šç›¸åº”çš„å‡ å€çš„lazyï¼Œï¼Œï¼Œï¼Œè¿™æ ·è¯¥èŠ‚ç‚¹å¯¹ä¸Šæ—¶æ›´æ–°åçš„å€¼ï¼Œï¼Œå‘ä¸Šæ­£ç¡®ï¼Œï¼Œï¼Œè€Œå¯¹äºå®ƒçš„ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼Œï¼Œï¼Œåªå°†lazyæ›´æ–°è¡¨æ˜è¿™é‡Œéœ€è¦æ›´æ–°ï¼Œï¼Œï¼Œä½†æ˜¯å¹¶æ²¡æœ‰ç»§ç»­å‘ä¸‹æ›´æ–°ï¼Œï¼Œï¼Œè¿™ä¸€æ®µçš„æ“ä½œç”±pushdown()å‡½æ•°å®Œæˆï¼Œï¼Œï¼Œ</p><h1 id="å®ç°å’Œç»ƒä¹ ">å®ç°å’Œç»ƒä¹ </h1><p>çœ‹ä¸ªå…·ä½“çš„ä¾‹å­:<a href="http://acm.hdu.edu.cn/showproblem.php?pid=1698" target="_blank" rel="noopener">é¢˜ç›®é“¾æ¥</a>ï¼Œï¼Œï¼Œ</p><p>é¢˜ç›®æ„æ€å¾ˆç®€å•ï¼Œï¼Œï¼Œå°±æ˜¯åˆå§‹é•¿åº¦ä¸ºnçš„ä¸€ä¸ªæ•°åˆ—å€¼å…¨ä¸º1ï¼Œï¼Œ</p><p>ç„¶åå¯¹æŸäº›åŒºé—´è¿›è¡Œèµ‹ä¸º1 , 2 , 3çš„æ“ä½œï¼Œï¼Œï¼Œæœ€åé—®ä½ åœ¨è¿™äº›æ“ä½œä¹‹åè¿™ä¸€æ®µçš„å’Œæ˜¯å¤šå°‘ï¼Œï¼Œï¼Œ</p><p>å…·ä½“çš„å®ç°å¦‚ä¸‹:</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//#include &lt;bits/stdc++.h&gt;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ll long long</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e5</span> + <span class="number">5</span>;</span><br><span class="line"><span class="comment">//å› ä¸ºåˆå§‹å€¼å…¨ä¸ºä¸€æ‰€ä»¥æ²¡æœ‰a[maxn]</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">tree</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> l;</span><br><span class="line">    <span class="keyword">int</span> r;</span><br><span class="line">    ll sum;</span><br><span class="line">    ll lazy;        <span class="comment">//lazyæ ‡è®°</span></span><br><span class="line">&#125;node[maxn &lt;&lt; <span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushup</span><span class="params">(<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    node[rt].sum = node[rt &lt;&lt; <span class="number">1</span>].sum + node[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushdown</span><span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> nl , <span class="keyword">int</span> nr)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//rtæŒ‡å½“å‰èŠ‚ç‚¹ï¼Œï¼Œï¼Œ</span></span><br><span class="line">    <span class="comment">//nlæŒ‡å·¦èŠ‚ç‚¹æœ‰nlä¸ªéœ€è¦è¢«èµ‹å€¼ä¸ºlazy</span></span><br><span class="line">    <span class="comment">//åŒç†ï¼Œï¼ŒnræŒ‡å³èŠ‚ç‚¹æœ‰nrä¸ªéœ€è¦è¢«èµ‹å€¼ä¸ºlazy</span></span><br><span class="line">    <span class="keyword">if</span>(node[rt].lazy)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//å½“è¿™èŠ‚ç‚¹lazyä¸ä¸º0æ—¶ï¼Œï¼Œè¦å‘ä¸‹æ›´æ–°ä¸€ä¸‹</span></span><br><span class="line">        node[rt &lt;&lt; <span class="number">1</span>].sum = node[rt].lazy * nl; <span class="comment">//ä¿®æ”¹sum</span></span><br><span class="line">        node[rt &lt;&lt; <span class="number">1</span>].lazy = node[rt].lazy; <span class="comment">//ä¸‹æ¨lazy</span></span><br><span class="line"></span><br><span class="line">        node[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].sum = node[rt].lazy * nr;</span><br><span class="line">        node[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].lazy = node[rt].lazy;</span><br><span class="line"></span><br><span class="line">        node[rt].lazy = <span class="number">0</span>;      <span class="comment">//æ ‡è®°æ¸…é™¤</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> l , <span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    node[rt].l = l;</span><br><span class="line">    node[rt].r = r;</span><br><span class="line">    node[rt].sum = <span class="number">0</span>;</span><br><span class="line">    node[rt].lazy = <span class="number">0</span>;      <span class="comment">//ä¸è¦å¿˜äº†</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(l == r)</span><br><span class="line">    &#123;</span><br><span class="line">        node[rt].sum = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> mid = node[rt].l + ((node[rt].r - node[rt].l) &gt;&gt; <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    build(rt &lt;&lt; <span class="number">1</span> , l , mid);</span><br><span class="line">    build(rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span> , mid + <span class="number">1</span> , r);</span><br><span class="line"></span><br><span class="line">    pushup(rt);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> L , <span class="keyword">int</span> R , <span class="keyword">int</span> C)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(L &lt;= node[rt].l &amp;&amp; node[rt].r &lt;= R)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//å½“è¯¥èŠ‚ç‚¹å¯¹åº”çš„åŒºé—´åœ¨æ‰€è¦æ“ä½œçš„åŒºé—´é‡Œæ—¶æ›´æ–°</span></span><br><span class="line">        node[rt].sum = (node[rt].r - node[rt].l + <span class="number">1</span>) * C;</span><br><span class="line">        node[rt].lazy = C;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> mid = node[rt].l + ((node[rt].r - node[rt].l) &gt;&gt; <span class="number">1</span>);</span><br><span class="line">    <span class="comment">//ä¸‹æ¨lazyæ ‡è®°ï¼Œï¼Œæƒ³ä¸Šä¿è¯æ­£ç¡®</span></span><br><span class="line">    pushdown(rt , mid - node[rt].l + <span class="number">1</span> , node[rt].r - mid);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(L &lt;= mid)    update(rt &lt;&lt; <span class="number">1</span> , L , R , C);</span><br><span class="line">    <span class="keyword">if</span>(R &gt;  mid)    update(rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span> , L , R , C);</span><br><span class="line">    pushup(rt);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">query</span><span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> L , <span class="keyword">int</span> R)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(L &lt;= node[rt].l &amp;&amp; node[rt].r &lt;= R)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> node[rt].sum;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> mid = node[rt].l + ((node[rt].r - node[rt].l) &gt;&gt; <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    pushdown(rt , mid - node[rt].l + <span class="number">1</span> , node[rt].r - mid);</span><br><span class="line"></span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(L &lt;= mid)    ans += query(rt &lt;&lt; <span class="number">1</span> , L , R);</span><br><span class="line">    <span class="keyword">if</span>(R &gt;  mid)    ans += query(rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span> , L , R);</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> T;<span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;T);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= T; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> n , q;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span> , &amp;n , &amp;q);</span><br><span class="line"></span><br><span class="line">        build(<span class="number">1</span> , <span class="number">1</span> , n);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>(q--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> a , b , c;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span> , &amp;a , &amp;b , &amp;c);</span><br><span class="line"></span><br><span class="line">            update(<span class="number">1</span> , a , b , c);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Case %d: The total value of the hook is %lld.\n"</span> , i , query(<span class="number">1</span> , <span class="number">1</span> , n));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¤§æ¦‚å°±æ˜¯è¿™ä¹ˆå¤šï¼Œï¼Œï¼Œåªè¦ç†è§£äº†lazyçš„ä½œç”¨ï¼Œï¼Œï¼Œä»¥åŠä¸‹æ¨çš„æ„æ€ï¼Œï¼Œï¼ŒåŸºæœ¬å°±okäº†ï¼Œï¼Œï¼Œï¼Œ</p><p>(end)</p>]]></content>
      
      <categories>
          
          <category> ACM-çº¿æ®µæ ‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> acm </tag>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>hdu-4027çº¿æ®µæ ‘ç»ƒä¹ </title>
      <link href="/2018/10/10/hdu-4027%E7%BA%BF%E6%AE%B5%E6%A0%91%E7%BB%83%E4%B9%A0/"/>
      <content type="html"><![CDATA[<p># æ¦‚è¿° <a href="http://acm.hdu.edu.cn/showproblem.php?pid=4027" target="_blank" rel="noopener">è¿™é“çº¿æ®µæ ‘çš„é¢˜</a>å¯ä»¥è¯´æ˜¯æˆ‘è¿™ä¸€æ®µæ—¶é—´å¤ä¹ çº¿æ®µæ ‘åç¬¬ä¸€æ¬¡è®¤è®¤çœŸçœŸçš„åšçš„ç¬¬ä¸€é“çº¿æ®µæ ‘çš„é¢˜äº†å§ï¼Œï¼Œï¼Œï¼Œ</p><p>ç„¶åï¼Œï¼Œï¼Œçœ‹ä¼¼å¾ˆç®€å•çš„é¢˜ç¿»è½¦äº†ï¼Œï¼Œï¼Œï¼ŒQAQ</p><p><a id="more"></a></p><p># é¢˜æ„å’Œåˆ†æ</p><p>é¢˜æ„å¤§æ¦‚å°±æ˜¯ç»™ä½ ä¸€äº›æ•°ï¼Œï¼Œç„¶åå¯¹[l , r]è¿™ä¸ªåŒºé—´é‡Œçš„æ‰€æœ‰æ•°è¿›è¡Œå¼€å¹³æ–¹æ ¹è¿ç®—ï¼Œï¼Œï¼Œå…¶ä¸­è¿˜æœ‰ä¸€äº›è¯¢é—®[l , r]çš„åŒºé—´å’Œï¼Œï¼Œï¼Œ</p><p>çœ‹åˆ°ä¸€æ’æ•°åˆ—çš„åŒºé—´å’Œè¿˜æœ‰æ›´æ–°è¯¢é—®æ“ä½œçš„é¢˜å‹é“å®šæ˜¯è¦ç”¨çº¿æ®µæ ‘æ¥ç»´æŠ¤è¿™ä¸ªæ•°åˆ—äº†ï¼Œï¼Œï¼Œ</p><p>ä¸€å¼€å§‹æˆ‘æƒ³ç€ç»“ç‚¹ä¿å­˜ä¸¤ä¸ªåŒºé—´å’Œï¼Œï¼Œä¸€ä¸ªæ˜¯ç°åœ¨æœªæ›´æ–°çš„åŒºé—´å’Œï¼Œï¼Œå¦ä¸€ä¸ªæ˜¯æ¯ä¸ªå¼€æ–¹åçš„åŒºé—´å’Œï¼Œï¼Œï¼Œç„¶åç”¨lazyæ¥å»¶è¿Ÿæ›´æ–°ï¼Œï¼Œï¼Œç„¶åè²Œä¼¼åœ¨æ›´æ–°æ—¶è¿™æ ·ä¼šå°‘æ›´æ–°ï¼Œï¼Œï¼Œæœ€åçš„ç­”æ¡ˆè‚¯å®šå°±ä¸å¯¹äº†ï¼Œï¼Œ</p><p>æœ€åï¼Œï¼Œï¼Œå‘äº†ä¸¤ä¸ªå¤šå°æ—¶çš„æˆ‘è¿˜æ˜¯å»æ‰¾åˆ«äººçš„åšæ³•äº†ï¼Œï¼Œï¼Œ</p><p>è¿™é“é¢˜é¦–å…ˆä¸€ç‚¹å°±æ˜¯å³ä½¿æ•°å­—å¾ˆå¤§ï¼Œï¼Œï¼Œ<strong>ä½†æ˜¯ <span class="math inline">\(2^{63} - 1\)</span> ä¹Ÿå°±æœ€å¤šå¼€8æ¬¡å¹³æ–¹æ ¹</strong>ï¼Œï¼Œï¼Œ<strong>è€Œä¸”å¼€åˆ°1æ—¶å†å¼€å¹³æ–¹æ ¹è¿˜æ˜¯1</strong>ï¼Œï¼Œï¼Œï¼Œ</p><p>æ‰€ä»¥å†å¼€åˆ°åŒºé—´æ‰€æœ‰æ•°éƒ½ä¸º1æ—¶å°±ä¸å†å¯¹è¿™ä¸ªåŒºé—´æ›´æ–°ï¼Œï¼Œï¼Œä¹Ÿå°±æ˜¯å½“ node[rt].sum == node[rt].r - node[rt].l + 1 æ—¶å°±è¿”å›ä¸Šä¸€å±‚ï¼Œï¼Œï¼Œè¿™æ ·å°±å‡å°äº†æ›´æ–°æ—¶çš„æ“ä½œï¼Œï¼Œï¼Œ</p><p># æœ€ç»ˆçš„ä»£ç ï¼Œï¼Œï¼Œ</p><p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> n, q;</span><br><span class="line">ll a[maxn];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">tree</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> l;</span><br><span class="line">    <span class="keyword">int</span> r;</span><br><span class="line">    ll sum;</span><br><span class="line">&#125;node[maxn &lt;&lt; <span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushup</span><span class="params">(<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    node[rt].sum = node[rt &lt;&lt; <span class="number">1</span>].sum + node[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> l , <span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    node[rt].l = l;</span><br><span class="line">    node[rt].r = r;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (l == r)</span><br><span class="line">    &#123;</span><br><span class="line">        node[rt].sum = a[l];</span><br><span class="line">        <span class="keyword">return</span>;                 <span class="comment">//è¦è®°å¾—returnï¼Œï¼Œï¼Œæœ€è¿‘å†™è¿™ä¸ªæ€»æ˜¯å¿˜è®°å†™</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    build(rt &lt;&lt; <span class="number">1</span> , l , mid);</span><br><span class="line">    build(rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span> , mid + <span class="number">1</span> , r);</span><br><span class="line">    pushup(rt);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> L , <span class="keyword">int</span> R)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (node[rt].sum == node[rt].r - node[rt].l + <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span>;                 <span class="comment">//åŒºé—´å…¨ä¸º1æ—¶è¿”å›ï¼Œï¼Œï¼Œä¸ç„¶ä¼štle</span></span><br><span class="line">    <span class="keyword">if</span> (node[rt].l == node[rt].r)</span><br><span class="line">    &#123;</span><br><span class="line">        node[rt].sum = (ll)(<span class="built_in">sqrt</span>(node[rt].sum));    <span class="comment">//ç›´æ¥å¼€æ–¹å°±è¡Œäº†</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> mid = (node[rt].l + node[rt].r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (L &lt;= mid)   update(rt &lt;&lt; <span class="number">1</span> , L , R);</span><br><span class="line">    <span class="keyword">if</span> (R &gt;  mid)   update(rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span> , L , R);</span><br><span class="line">    pushup(rt);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">query</span><span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> L , <span class="keyword">int</span> R)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (L &lt;= node[rt].l &amp;&amp; node[rt].r &lt;= R)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> node[rt].sum;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> mid = (node[rt].l + node[rt].r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (L &lt;= mid)    ans += query(rt &lt;&lt; <span class="number">1</span> , L , R);</span><br><span class="line">    <span class="keyword">if</span> (R &gt;  mid)    ans += query(rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span> , L , R);</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;n) != EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Case #%d:\n"</span> , ++i);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%lld"</span> , &amp;a[i]);</span><br><span class="line"></span><br><span class="line">        build(<span class="number">1</span> , <span class="number">1</span> , n);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;q);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>(q--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> t , l , r;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span> , &amp;t , &amp;l , &amp;r);</span><br><span class="line">            <span class="keyword">if</span> (l &gt; r)</span><br><span class="line">                swap(l , r);        <span class="comment">//l , rä¸ä¸€å®šä¿è¯ l &lt;= r æ‰€ä»¥è¦åˆ¤æ–­</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (t)</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%lld\n"</span> , query(<span class="number">1</span> , l , r));</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                update(<span class="number">1</span> , l , r);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);               <span class="comment">//æ¯ç»„æµ‹è¯•æ ·ä¾‹ä¹‹é—´åŠ ç©ºè¡Œ</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p># æ€»ç»“</p><ul><li>æ²¡çœ‹å‡ºæ¥ä¸€ä¸ªæ•°æœ€å¤šå¼€æ–¹8æ¬¡å•Šï¼Œï¼Œï¼Œ</li><li>è¿˜æ˜¯ä¸èƒ½ä»”ç»†çš„è¯»é¢˜ï¼Œï¼Œï¼Œæ¯”å¦‚é‚£ä¸ªè¾“å…¥çš„l , ræ¯”å¦‚é‚£ä¸ªæ¯ä¸€ç»„æµ‹è¯•æ ·ä¾‹ä¹‹é—´åŠ ç©ºè¡Œ</li><li>æƒ³çš„å¤ªå¤šäº†ï¼Œï¼Œï¼Œè€Œä¸”æœ€ä¸»è¦çš„æ˜¯è¿˜æ˜¯æƒ³ç€å¥—æ¨¡æ¿è§£é¢˜ï¼Œï¼Œï¼Œè€Œä¸æ˜¯å°±é¢˜è€Œé€‰æ‹©æ€ä¹ˆå†™</li><li>ï¼Œï¼Œï¼Œï¼Œ</li></ul><p>è¿˜æ˜¯åšçš„é¢˜å¤ªå°‘äº†ï¼Œï¼Œè¿˜æ˜¯æœ‰ç‚¹åƒæš‘å‡æ—¶è§åˆ°çº¿æ®µæ ‘å°±å¥—æ¿å­ï¼Œï¼Œå¥—æ¿å­ï¼Œï¼Œå·²ç»å¥½å‡ æ¬¡å¥—æ¿å­æ˜¯æ²¡ç”¨çš„æƒ…å†µäº†ï¼Œï¼Œï¼Œè€Œä¸”é™¤äº†å…¥é—¨çš„çº¿æ®µæ ‘çš„é¢˜ï¼Œï¼Œï¼Œéƒ½ä¸æ˜¯ä¹‹å¥—æ¿å­å°±èƒ½å‡ºç»“æœçš„ï¼Œï¼Œï¼Œéƒ½è¦åœ¨æŸäº›åœ°æ–¹åŠ ä¸€äº›åˆ¤æ–­ï¼Œï¼Œï¼Œæˆ–è€…å¯¹æ•°æ®çš„å¤„ç†ï¼Œï¼Œï¼Œçº¿æ®µæ ‘åªæ˜¯ä¼—å¤šå·¥å…·ä¹‹ä¸€å•Šï¼Œï¼Œä¸æ˜¯ä¸‡èƒ½çš„å‘ï¼Œï¼Œï¼Œï¼Œ</p><p>(end)</p><p>åŠ¨æ‰‹æ€»æ¯”åªæƒ³æ‰€å¾—åˆ°çš„å¤šä¸€äº›ï¼Œï¼Œå³ä½¿ç»“æœä¸å°½äººæ„å‘~</p>]]></content>
      
      <categories>
          
          <category> ACM-çº¿æ®µæ ‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> acm </tag>
            
            <tag> åˆ·é¢˜ </tag>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>2018å¹´å›½åº†</title>
      <link href="/2018/10/05/2018%E5%B9%B4%E5%9B%BD%E5%BA%86/"/>
      <content type="html"><![CDATA[<h1 id="å‰è¨€">å‰è¨€</h1><p>ä»Šå¹´çš„å›½åº†è¿‡çš„å’Œä»¥å¾€çš„ä¸å¤ªä¸€æ ·ï¼Œï¼Œï¼Œä»¥å‰çš„å›½åº†éƒ½æ˜¯åœ¨ä¸€å¤§å †çš„ä½œä¸šä¸‹åº¦è¿‡çš„ï¼Œï¼Œ</p><p>è€Œè¿™æ¬¡ï¼Œï¼Œï¼Œè™½ç„¶ä¹Ÿæœ‰ä¸€å †ä½œä¸šï¼Œï¼Œï¼Œä½†æ˜¯ä¸»è¦æ˜¯ç©ä¸ºä¸»å•¦ï¼Œï¼Œï¼Œå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆï¼Œï¼Œï¼Œï¼Œ</p><p>è¿™ç¯‡æ—¥è®°ä¸»è¦æ˜¯è®°å½•ä¸€ä¸‹è¿™å‡ å¤©çš„ç”Ÿæ´»å§ï¼Œï¼Œï¼Œï¼Œ</p><p>å˜¿å˜¿ï¼Œï¼Œï¼Œ</p><a id="more"></a><h1 id="section">2018-09-29</h1><p>è¿™ä¸ªå›½åº†ä¸ä»¥å¾€ä¸åŒçš„æ˜¯ï¼Œï¼Œï¼Œè¿™æ¬¡æœ‰ä¸€ä¸ªé«˜ä¸­åŒå­¦æ¥æ­¦æ±‰ç©ï¼Œï¼Œï¼Œ</p><p>è™½ç„¶åœ¨è¿™é‡Œå¾…äº†æœ‰ä¸€å¹´å¤šäº†ï¼Œï¼Œï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯å¯¹æ­¦æ±‰ä¸æ€ä¹ˆç†Ÿæ‚‰ï¼Œï¼Œï¼Œ</p><p>åŸºæœ¬ä¸€äº›æœ‰åçš„åœ°æ–¹éƒ½ä¸çŸ¥é“åœ¨å“ªé‡Œï¼Œï¼Œï¼Œæ›´åˆ«è¯´å…¶ä»–åœ°æ–¹äº†ï¼Œï¼Œï¼Œ</p><p>æ­£å¥½ä¹˜è¿™ä¸ªæœºä¼šå‡ºå»æµªä¸€æ³¢ï¼Œï¼Œï¼Œ</p><p>è¿™å¤©å¤©æ°”å¾ˆå¥½ï¼Œï¼Œï¼Œ</p><p>ä¸€å¤§æ—©å°±é†’æ¥å»åšæ—©æ“ï¼Œï¼Œï¼Œ</p><p>ç„¶åå¬å¬åŠ›ï¼Œï¼Œï¼Œä¸Šç¦»æ•£ï¼Œï¼Œï¼Œï¼Œ</p><p>é«˜ä¸­åŒå­¦ä¸Šåˆåˆ°ï¼Œï¼Œä½†æ˜¯æˆ‘å®Œå…¨æ²¡æ—¶é—´ï¼Œï¼Œï¼Œäºæ˜¯å°±åªèƒ½æ˜¯å¦ä¸€ä¸ªåŒæ ¡ä¸åŒç³»çš„å¥³åŒå­¦å»æ¥ä»–äº†QAQï¼Œï¼Œå‘é‚£ä¸ªåŒå­¦è¡¨ç¤ºæŠ±æ­‰ï¼Œï¼Œï¼Œï¼Œ</p><p>ä¸­åˆç¡äº†ï¼ˆèººäº†ï¼Œï¼Œï¼‰åŠä¸ªå°æ—¶å°±è·‘å»è§ä»–ä»¬ä¸¤ä¸ªï¼Œï¼Œï¼Œ</p><p>ç„¶åä¸‰äººå»æ­¥è¡Œè¡—ä¹±é€›ï¼Œï¼Œï¼Œ</p><p>å»å¯†å®¤é€ƒè„±æµªï¼Œï¼Œï¼Œï¼ˆä¸€ä¸ªå°æ—¶éƒ½æ²¡æœ‰è¿‡ç¬¬äºŒå¤§å…³ï¼Œï¼Œï¼Œemmmçœ‹æ¥æ˜¯ä¸é€‚åˆè¿™ç§æ¸¸æˆQAQ,,,</p><p>ç„¶åæ™šä¸Šå’Œå¦ä¸€ä¸ªåŒå­¦å»å’Œå¦ä¸€ä¸ªåŒå­¦è§äº†ä¸€é¢å°±å›å»äº†ï¼Œï¼Œ</p><h1 id="section-1">2018-09-30</h1><p>è¿™ä¸ªå›½åº†å‡æœŸçš„ç¬¬äºŒå¤©ï¼Œï¼Œ</p><p>æˆ‘ä»¬è®¡åˆ’å»æ¬¢ä¹è°·ç©ä¸€å¤©ï¼Œï¼Œï¼Œ</p><p>å¤§æ¸…æ—©6ç‚¹å°±é†’æ¥ï¼Œï¼Œï¼Œç„¶åå°å¿ƒç¿¼ç¿¼çš„æ´—æ¼±ç©¿è¡£ï¼Œï¼Œï¼Œ</p><p>æœ€åè¿˜æ˜¯æŠŠå‡ ä¸ªå®¤å‹åµé†’äº†ï¼Œï¼Œï¼Œemmmè¿˜å¥½æ²¡æœ‰è¢«æ‰“æ­»QAQ</p><p>æ¥åˆ°æ˜¨å¤©çº¦å®šå¥½çš„åœ°æ–¹ç­‰å¦ä¸€ä¸ªé‚£ä¸ªåŒå­¦ï¼Œï¼Œï¼Œ</p><p>çœ‹è¿™å¤§ä¸€æ–°ç”Ÿè¿˜è¦åšæ—©æ“ï¼Œï¼Œä¸Šè¯¾é»˜é»˜å·ç¬‘ï¼Œï¼Œï¼Œ</p><p>ç„¶åå»ååœ°é“ï¼Œï¼Œæ¢åœ°é“ï¼Œï¼Œåœ°é“ä¸Šçš„äººè´¼å¤šï¼Œï¼Œï¼Œæ­£å¥½èµ¶äº†ä¸€ä¸ªä¸Šç­çš„æ—¶é—´ï¼Œï¼Œ</p><p>æ¥åˆ°æ±‰è¡—åƒæ—©é¥­ï¼Œï¼Œè¿‡äº†é¥­ç‚¹éƒ½ä¸æ€ä¹ˆé¥¿ ï¼Œï¼Œï¼Œemmmm</p><p>åç€å…¬äº¤è½¦ä¸€èµ°ä¸€åœçš„æ¥åˆ°ç»ˆç‚¹ç«™ï¼Œï¼Œï¼Œå‘ç°å›½åº†å‰ä¸€å¤©æ¥ç©çš„äººå°±å¾ˆå¤šäº†å•Šï¼Œï¼Œï¼Œ</p><p>è¿›é—¨æ²¿ç€é€†æ—¶é’ˆä¸€ä¸ªå›­åŒºä¸€ä¸ªå›­åŒºçš„é€›ï¼Œï¼Œï¼Œ</p><p>å…ˆæ˜¯ä¸€äº›æ¯”è¾ƒâ€˜æ¸©å’Œâ€™çš„é¡¹ç›®ï¼Œï¼Œï¼Œè¿˜æœ‰äº›ç±»ä¼¼çœ‹ç”µå½±çš„è§†è§‰ä½“éªŒï¼Œï¼Œï¼Œ</p><p>å› ä¸ºä¸‰ä¸ªäººä¸­ä¸¤ä¸ªäººéƒ½é«˜åº¦è¿‘è§†åŠ æé«˜ï¼Œï¼Œï¼Œæ²¡æœ‰ä½“éªŒåƒè¿‡å±±è½¦ï¼Œï¼Œè·³æ¥¼æœºè¿™æ ·çš„é¡¹ç›®ï¼Œï¼Œï¼Œ</p><p>åœ¨è¯´è¿™æ ·çš„é¡¹ç›®å°±ç®—æ˜¯ç©ä¹Ÿå¾—æ‘˜çœ¼é•œï¼Œï¼Œè·Ÿé—­çœ¼ä¸€æ ·ï¼Œï¼Œï¼Œ</p><p>ä¹‹åè·¯è¿‡ä¸¤ä¸ªâ€œé¬¼å±‹â€ï¼Œï¼Œï¼Œemmmmä»–ä»¬ä¸¤ä¸ªè¿›å»äº†ï¼Œï¼Œï¼Œå¯¹è¿™ç±»ä¸œè¥¿å¼‚å¸¸çš„ææƒ§ï¼Œï¼Œæ‰€ä»¥æˆ‘å°±åœ¨å‡ºå£å¤„ç­‰ä»–ä»¬ï¼Œï¼Œå˜¿å˜¿ï¼Œï¼Œï¼Œ</p><p>ä¹°äº†é›¨è¡£å»ç©æ°´ä¸Šé¡¹ç›®ï¼Œï¼Œï¼Œ</p><p>æ¿€æµå‹‡è¿›æ’äº†å¥½åŠå¤©çš„é˜Ÿï¼Œï¼Œç­‰åˆ°æˆ‘ä»¬ä¸Šèˆ¹åˆ°ä¸Šå‡çš„å¡çš„æ—¶å€™ï¼Œï¼Œåœï¼ï¼ç”µäº†ï¼ï¼ï¼ä¸€èˆ¹çš„äººä¸€è„¸æ‡µé€¼çš„ååœ¨é‚£é‡Œï¼Œï¼Œï¼Œ</p><p>ç„¶åå°±ä¸‹èˆ¹æºœäº†ï¼Œï¼Œï¼Œ</p><p>æˆ‘ä»¬æƒ³ç€åæ­£é›¨è¡£ä¹Ÿä¹°äº†ï¼Œï¼Œå…ˆå»å²›ä¸­é—´çš„é‡äººè°·æ¼‚æµç©å»ï¼Œï¼Œï¼Œä¸€åˆ‡éƒ½å¾ˆå¥½ï¼Œï¼Œï¼Œå°±æ˜¯ä¸ºä»€ä¹ˆé‚£ä¸ªæ°´æ¯æ¬¡éƒ½ä»æˆ‘é‚£é‡Œæ¶Œè¿›æ¥çš„ï¼Œï¼Œï¼Œå™—å™—å™—å™—</p><p>ç»“æœå°±æ˜¯å…¨èº«æ¹¿é€ï¼Œï¼Œï¼Œï¼Œ</p><p>å¤§æ¦‚è¿™ä¸ªæ—¶å€™æ˜¯ä¸‹åˆä¸¤ä¸‰ç‚¹å·¦å³äº†å§ï¼Œï¼Œï¼Œ</p><p>è¹­ç€äººä¸å¤ªå¤šå»åäº†æ‘©å¤©å¡”ï¼Œï¼Œï¼Œæ­£å¥½æ­‡äº†ä¸€ä¼šï¼Œï¼Œå˜¿å˜¿ï¼Œï¼Œ</p><p>å½“è½¬åˆ°æ¿€æµå‹‡è¿›é‚£ä¸€é¢æ—¶ï¼Œï¼Œï¼Œæˆ‘ä»¬å‘ç°ï¼Œï¼Œç°åœ¨å±…ç„¶åˆå¯ä»¥å®Œäº†ï¼Œï¼Œï¼Œä¸è¿‡é›¨è¡£éƒ½æ‰”äº†ï¼Œï¼Œæƒ³æƒ³ç®—äº†ï¼Œï¼Œï¼Œ</p><p>è¯´çœŸçš„ï¼Œï¼Œé‚£äº›åœ¨åœ°é¢ä¸Šçœ‹æƒ¯äº†çš„é£æ™¯åœ¨é«˜å¤„çš„æ„Ÿå—å¾ˆä¸ä¸€æ ·ï¼Œï¼Œ</p><p>è¿œçœºä¸œæ¹–ï¼Œï¼Œä¸€çœ¼æœ›ä¸åˆ°å¯¹å²¸ï¼Œï¼Œ</p><p>åŸæœ¬ä»¥ä¸ºå¾ˆå¤§çš„æ¬¢ä¹è°·åœ¨é«˜å¤„æ„Ÿè§‰ååˆ†çš„å°ï¼Œï¼Œ</p><p>ä¸‰ä¸ªåŒ—æ–¹é•¿å¤§çš„äººè¿˜ä¸“é—¨èŠ±é’±å»ä¸€ä¸ªå¤§å†°æŸœé‡Œä½“éªŒâ€œå†°é›ªä¸–ç•Œâ€ï¼Œï¼Œï¼Œï¼Œemmmä¸€å®šæ˜¯å½“æ—¶çš„å†²åˆ°çš„æ°´å¤ªå¤šäº†æ‰æœ‰è¿™æ ·çš„æƒ³æ³•ï¼Œï¼Œï¼Œ</p><p>ç»“æœå°±æ˜¯æˆ‘å’Œå¦ä¸€ä¸ªå‡ºæ¥çš„æ„Ÿè§‰åƒæ˜¯æ„Ÿå†’äº†ï¼Œï¼Œï¼Œï¼Œ</p><p>ç„¶åçœ‹äº†ååŠæ®µçš„â€œæ‰“ç å¤´â€æƒ…æ™¯å‰§ï¼Œï¼Œï¼Œä¸çŸ¥é“å¼€å§‹æ—¶é—´çš„æˆ‘ä»¬æ­£å¥½é”™è¿‡äº†å¼€åœºæ—¶é—´ï¼Œï¼Œï¼Œï¼Œç•¥é—æ†¾ï¼Œï¼Œï¼Œï¼Œ</p><p>ä¹‹åä¸‰äººçé€›é€›ï¼Œï¼Œè·Ÿç€æ¸¸è¡Œè¡¨æ¼”çš„é˜Ÿä¼å‘ç€å‡ºå£èµ°ï¼Œï¼Œï¼Œ</p><p>å¯¹äº†ï¼Œï¼Œï¼Œæˆ‘ä»¬ä¸‰ä¸ªäººè¿˜è¹­æ²¡æœ‰äººå»å„¿ç«¥ä¹å›­ç©äº†ä¸€ä¼šï¼Œï¼Œï¼Œï¼ˆé€ƒï¼Œï¼Œï¼Œ</p><p>ä¹‹åå°±æ˜¯åƒé¥­ï¼Œï¼Œï¼Œå›å­¦æ ¡ï¼Œï¼Œ</p><p>è¿˜æœ‰å°±æ˜¯å¤§æ™šä¸Šåƒä¸‡ä¸è¦åœ¨å¤–é¢æµªçš„å¤ªæ™šï¼Œï¼Œï¼Œå…¬äº¤è½¦æ²¡æœ‰å°±ä¸è¯´äº†ï¼Œï¼Œï¼Œè¿å‡ºç§Ÿè½¦éƒ½æ‰“ä¸åˆ°å•Šï¼Œï¼Œï¼Œï¼Œï¼Œ</p><p>å·®ä¸€ç‚¹ä¸¤äººæµæµªè¡—å¤´ï¼Œï¼Œï¼Œï¼Œ</p><p>ç¬¬ä¸€è¾†ç”±äºæˆ‘çš„å¤±è¯¯åœ¨åŠè·¯ä¸‹è½¦ï¼Œï¼Œï¼Œç„¶åç­‰äº†è¿‘ä¸€ä¸ªå°æ—¶æ‰æ‰“åˆ°ä¸€è¾†è¿›å­¦æ ¡çš„ï¼Œï¼Œï¼ŒQAQï¼Œï¼Œå‘é‚£ä½åŒå­¦è¡¨ç¤ºæŠ±æ­‰QAQQAQ</p><p>å¯¹äº†ï¼Œï¼Œï¼Œæœ€åé€æˆ‘ä»¬å›æ¥çš„å¸æœºè¿˜æ˜¯æˆ‘ä»¬å­¦æ ¡çš„æ ¡å‹ï¼Œï¼Œï¼Œè®¤è¯†å¥½å¤šå·¨ä½¬ï¼Œï¼Œï¼Œï¼Œ</p><p>ç©äº†ä¸€å¤©ï¼Œï¼Œï¼Œè´¼ç´¯ï¼Œï¼Œå°¤å…¶æ˜¯jioï¼Œï¼Œï¼Œï¼Œ</p><h1 id="section-2">2018-10-1</h1><p>å›½åº†è¿™ä¸€å¤©ï¼Œï¼Œï¼Œé™¤äº†å­¦æ ¡é‡Œï¼Œï¼Œï¼Œå…¶ä»–åœ°æ–¹äººè´¼å¤šï¼Œï¼Œï¼Œï¼Œåˆ°å¤„æ˜¯äººï¼Œï¼Œè¡—ä¸Šå°±æ˜¯é¡ºç€äººæµåœ¨èµ°ï¼Œï¼Œï¼Œ</p><p>åŸæœ¬çš„è®¡åˆ’æ˜¯åˆ°çœåšç‰©é¦†å»çœ‹çœ‹é•‡é¦†ä¹‹å®ï¼Œï¼Œï¼Œ</p><p>ä½†æ˜¯å‰ä¸€å¤©å°±å‘ç°å®˜ç½‘ä¸Šè¯´ç»´ä¿®ä¸å¼€æ”¾ï¼Œï¼Œï¼Œï¼Œå™—å™—å™—ï¼Œï¼Œï¼Œ</p><p>ç„¶åæˆ‘ä»¬å°±æƒ³å¤§ä¸äº†å»è‰ºæœ¯é¦†ï¼Œï¼Œå»ä¸œæ¹–ï¼Œï¼Œï¼Œ</p><p>åå…¬äº¤ä¸€ä¸ªå¤šå°æ—¶åœ¨æ²¡æœ‰åº§ä½å…¨æ˜¯äººçš„å…¬äº¤è½¦æ™ƒè¡åˆ°äº†ç›®çš„åœ°ï¼Œï¼Œï¼Œç„¶åï¼Œï¼Œæˆ‘ä»¬é‚£ä¸ªæ¥æ­¦æ±‰ç©çš„ç«¥é‹ï¼Œï¼Œåï¼è¿‡ï¼ï¼ç«™ï¼ï¼ï¼äº†ï¼Œï¼Œï¼Œå“ˆå“ˆå“ˆå“ˆ</p><p>å¯¹äº†æ—©ä¸ŠåŒæ ¡çš„åŒå­¦æè®®å†ç¡ä¸€ä¼šï¼Œï¼Œï¼Œç„¶åï¼Œï¼Œï¼Œemmmå°±éƒ½èµ·è¿Ÿäº†ï¼Œï¼Œï¼Œï¼Œ</p><p>åˆ°äº†çœåšç‰©é¦†éƒ½å·²ç»å¿«ä¸­åˆäº†ï¼Œï¼Œï¼Œï¼Œ</p><p>æ‰¾åœ°æ–¹åƒé¥­ï¼Œï¼Œï¼Œé¥­åº—é‡Œä¹Ÿåªæœ‰æˆ‘ä»¬åœ¨ï¼Œï¼Œï¼Œ</p><p>ç¾æœ¯é¦†é‡Œçš„ä¸œè¥¿å¾ˆæœ‰æ„æ€ï¼Œï¼Œï¼Œ</p><p>æœ‰åæ˜ å½“ä»£å·¥ä¸šç¤¾ä¼šçš„ï¼Œï¼Œæœ‰ä»‹ç»æ±‰å­—å‘å±•åŠå…¶è¡ç”Ÿçš„ï¼Œï¼Œå½“ç„¶è¿˜æœ‰å„ç§ååº”ç¤¾ä¼šæ–¹æ–¹é¢çš„å±•å“ï¼Œï¼Œï¼Œå°±åƒé«˜ä¸­æ”¿æ²»ä¹¦ä¸Šè¯´è®²çš„é‚£æ ·â€œè‰ºæœ¯æ¥æºäºç”Ÿæ´»â€ï¼Œï¼Œï¼Œ</p><p>å¯¹äº†ï¼Œï¼Œé™¤äº†è¿™äº›ï¼Œï¼Œï¼Œå¯¹æˆ‘æ¥è¯´å°è±¡æœ€æ·±çš„å°±æ˜¯æˆ‘å›½ä¸‰å¤§å®ä¹‹ä¸€çš„â€œå¤§æ¼†â€äº†å§ï¼Œï¼Œï¼Œ</p><p>æœ‰ä¸€ä¸ªå±•å…æ˜¯ä¸“é—¨è®²å¤§æ¼†çš„åˆ¶ä½œä»¥åŠä»–çš„ä¸€äº›ç²¾ç¾çš„ä½œå“ï¼Œï¼Œ</p><p>å¤§æ¼†æ˜¯æˆ‘å›½å¾ˆä¹…ä¹‹å‰å°±å¼€å§‹ä½¿ç”¨çš„æ¼†ï¼Œï¼Œï¼Œè™½ç„¶å¾ˆæ¼‚äº®ï¼Œï¼Œä½†æ˜¯åƒå¾ˆå¤šå…¶ä»–ç²¾ç¾çš„ä¸œè¥¿ä¸€æ ·ï¼Œï¼Œå®ƒçš„åˆ¶ä½œè¿‡ç¨‹å¾ˆå¤æ‚ï¼Œï¼Œï¼Œ</p><p>å°±æ˜¯å®ƒçš„æœé›†éƒ½å¾ˆè´¹åŠ²ï¼Œï¼Œæ¼†å·¥å¤©è¿˜æ²¡äº®å°±å‡ºå»é‡‡æ¼†ï¼Œï¼Œä»è¿™æ£µæ ‘çˆ¬ä¸‹å³ä»å¦ä¸€é¢—æ ‘çˆ¬ä¸Šï¼Œï¼Œï¼Œç„¶åç­‰æ¯ä¸€ç‰‡å¶å­æ‰åˆ°å¤§æ¦‚5é’±çš„åŸæ¼†æ‰çˆ¬ä¸Šå»æœé›†ï¼Œï¼Œï¼Œä¸€ä¸Šåˆä¹Ÿåªèƒ½æ‰ä¸€å°æ¡¶ï¼Œï¼Œ</p><p>å¤§æ¦‚å¾…äº†ä¸¤ä¸ªå°æ—¶å·¦å³å§ï¼Œï¼Œï¼Œæˆ‘ä»¬ä»ç¾æœ¯é¦†å‡ºæ¥ï¼Œï¼Œï¼Œ</p><p>ç„¶åå‘ç°ï¼Œï¼Œçœåšç‰©é¦†å±…ï¼ç„¶ï¼ï¼å¼€äº†ï¼ï¼ï¼</p><p>ä¸æ˜¯è¯´å¥½çš„ç»´ä¿®å¼€é¦†æ—¶é—´å¦è¡Œé€šçŸ¥å—ï¼Œï¼Œï¼Œï¼Œå™—å™—å™—å™—ï¼Œï¼Œï¼Œ</p><p>ä¸‰äººä¸€è„¸å…´å¥‹å†²è¿›å»ï¼Œï¼Œï¼Œ</p><p>çœåšç‰©é¦†å¤–è§‚å¤ªé›„ä¼Ÿäº†ï¼Œï¼Œï¼Œæ›´åˆ«è¯´é‡Œé¢çš„æ–‡ç‰©äº†ï¼Œï¼Œï¼Œå“ˆå“ˆå“ˆå“ˆ</p><p>å…ˆå»äº†â€œåœŸä¸ç«çš„è‰ºæœ¯å±•å…â€ï¼Œï¼Œï¼Œå¾ˆå¤šå„ä¸ªæœä»£çš„ç“·å™¨é™¶å™¨ï¼Œï¼Œï¼Œ</p><p>ä»¥å‰åªæ˜¯åœ¨å„ç§å›¾ç‰‡è§†é¢‘é‡Œçœ‹åˆ°è¿™äº›ï¼Œï¼Œï¼Œæ„Ÿè§‰å¾ˆæœ‰æ„æ€ï¼Œï¼Œï¼Œä½†ä»æ¥æ²¡åƒè¿™æ ·è¿‘è·ç¦»çš„è§‚å¯Ÿè¿‡ï¼Œï¼Œï¼Œ</p><p>æœ‰æ—¶çœŸå¿ƒè§‰å¾—å¤äººçš„æŠ€è‰ºçœŸçš„æ˜¯å¤ªé«˜è¶…äº†ï¼Œï¼Œï¼Œèµå¹ä¹‹ä½™ä¹Ÿæ¬£èµç€ï¼Œï¼Œï¼Œä¹Ÿå…¨ç„¶ä¸é¡¾å±•å…çš„äººæµ·äº†ï¼Œï¼Œï¼Œ</p><p>ä¹‹åï¼Œï¼Œï¼Œæ‹…å¿ƒå¿«é—­é¦†è€Œé”™è¿‡æœ€é‡è¦çš„ä¸œè¥¿ï¼Œï¼Œ</p><p>æˆ‘ä»¬å¾„ç›´æ¥åˆ°æ›¾ä¾¯ä¹™å±•å…ï¼Œï¼Œï¼Œ</p><p>ä¸€è½¬å¼¯å°±çœ‹åˆ°å±•å…ä¸­é—´æ‘†æ”¾åœ¨çº¢æ¯¯ä¸Šå·¨å¤§çš„æ›¾ä¾¯ä¹™ç¼–é’Ÿï¼Œï¼Œï¼Œ</p><p>è¯´çœŸçš„ï¼Œï¼Œæˆ‘ä»¬å½“æ—¶ä¸‰ä¸ªäººå…ˆæ˜¯ä¸€æ„£ï¼Œï¼Œï¼Œç„¶åå†…å¿ƒå°±ååˆ†çš„æ¿€åŠ¨ï¼Œï¼Œï¼Œä¸€ç§è¯´ä¸å‡ºæ¥çš„æ¿€åŠ¨ï¼Œï¼Œï¼Œ</p><p>è¿™çœŸçš„æ˜¯å¤æ—¶çš„äººåšå‡ºæ¥çš„å—ï¼Ÿï¼Ÿ</p><p>æ¯ä¸€å¤„çš„ç»†èŠ‚éƒ½æ˜¯é‚£æ ·çš„ç²¾è‡´å®Œç¾ï¼Œï¼Œï¼Œ</p><p>å‡ åƒå¹´ä¸‹æ¥ä¿å­˜çš„è¿˜å¦‚æ­¤å®Œå¥½ï¼Œï¼Œï¼Œç”šè‡³éŸ³å¾‹è¿˜æ˜¯é‚£æ ·çš„å‡†ï¼Œï¼Œ</p><p>å¤äººçš„æ™ºæ…§çœŸçš„æ˜¯å¤ªå‰å®³äº†å§ï¼Œï¼Œ</p><p>æœ‰æ—¶çœŸçš„åº†å¹¸è‡ªå·±å‡ºç”Ÿåœ¨ä¸­å›½ï¼Œï¼Œä¸€ä¸ªå†å²æ‚ ä¹…ï¼Œå¤è€è€Œæœ‰æ™ºæ…§çš„åæ—ï¼Œï¼Œï¼Œ</p><p>emmmæ‰¯è¿œäº†ï¼Œï¼Œï¼Œ</p><p>æœ€ååœ¨ç¦»é—­é¦†å‰åŠä¸ªå°æ—¶å·¦å³ï¼Œï¼Œæˆ‘ä»¬å‡ ç»å‘¨æŠ˜ç»ˆäºæ‰¾åˆ°äº†å¦ä¸€ä¸ªé•‡é¦†ä¹‹å®ï¼Œï¼Œï¼Œè¶Šç‹å‹¾è·µå‰‘ï¼ï¼ï¼ï¼</p><p>ä¸æ‘†æ”¾åœ¨æ—è¾¹å…¶ä»–çš„å…µå™¨ç›¸æ¯”ï¼Œï¼Œï¼ŒçœŸçš„æ˜¯ä¸€ä¸ªå¤©ä¸Šä¸€ä¸ªåœ°ä¸‹ï¼Œï¼Œï¼Œ</p><p>å…¶ä»–çš„å±•å“éƒ½èƒ½å¾ˆæ˜æ˜¾çš„çœ‹å‡ºå†å²çš„é”ˆè¿¹ï¼Œï¼Œï¼Œ</p><p>ä½†æ˜¯ï¼Œï¼Œä½†æ˜¯è¶Šç‹å‹¾è·µå‰‘å®Œå…¨çœ‹ä¸åˆ°é”ˆè¿¹ï¼Œï¼Œï¼Œå®Œå…¨å°±åƒåˆšåˆšä»å‰‘é˜é‡Œæ‹”å‡ºæ¥ä¸€æ ·ï¼Œï¼Œï¼Œ</p><p>ä¸Šé¢çš„é“­æ–‡ä¹Ÿæ˜¯æ¸…æ™°å¯è§ï¼Œï¼Œï¼ŒèŠ±çº¹åœ¨ç¯å…‰çš„ç…§å°„ä¸‹ä¹Ÿæ ¼å¤–çš„ç²¾è‡´ï¼Œï¼Œ</p><p>è™½ç„¶è¿™äº›æ–‡ç‰©å¤§å¤šåœ¨ä¹¦ä¸Šï¼Œè§†é¢‘çœ‹åˆ°è¿‡ï¼Œï¼Œï¼Œä½†æ˜¯è¿™ç§è¿‘è·ç¦»çš„è§‚çœ‹çš„æ„Ÿå—æ˜¯ä¸ä¼—ä¸åŒçš„ï¼Œï¼Œè§†è§‰çš„éœ‡æ’¼æ„Ÿä¹Ÿæ˜¯ä¸ä¸€æ ·çš„ï¼Œï¼Œï¼Œ</p><p>æœ€åï¼Œï¼Œï¼Œå›å…‰è°·åƒé¥­ï¼Œï¼Œï¼Œå›å­¦æ ¡ï¼Œï¼Œå˜¿å˜¿</p><h1 id="section-3">2018-10-2</h1><p>è¿™ä¸€å¤©æ˜¯æˆ‘ä»¬å­¦æ ¡â€œåŒç”²å­â€æ ¡åº†æ—¥ï¼Œï¼Œ</p><p>æˆ‘å»æŠŠé‚£ä¸ªåŒå­¦å¸¦åˆ°æ ¡å›­é‡Œï¼Œï¼Œåˆ°å¤„çš„é€›æ ¡å›­ï¼Œï¼Œ</p><p>å…ˆå»äº†äºŒåå››èŠ‚æ°”æŸ±é‚£é‡Œï¼Œï¼Œï¼Œä¸ºäº†çºªå¿µæ ¡åº†ï¼Œç»ç®¡ï¼ˆå¥½åƒï¼Œï¼Œï¼Œï¼‰é™¢çš„åŒå­¦åšäº†ä¸€å¤§å †çš„ç¨»è‰äººé›•å¡‘ï¼Œï¼Œï¼Œåˆ«è¯´ï¼Œï¼Œè¿˜æŒºæœ‰æ„æ€çš„ï¼Œï¼Œå“ˆå“ˆå“ˆå“ˆ</p><p>ç„¶åæˆ‘ä»¬è·Ÿä¸€å †è€æ ¡å‹å‚è§‚äº†ä¸€è¾¹æ ¡å²é¦†ï¼Œï¼Œ</p><p>è€æ ¡å‹å¤§æ¦‚éƒ½æœ‰äº”å…­åå²äº†å§ï¼Œï¼Œä»–ä»¬è¿˜èƒ½è®°å¾—å­¦æ ¡å‡ ç»æ¬è¿æ—¶çš„é‚£æ®µæ—¶å…‰ï¼Œï¼Œï¼Œç”šè‡³è¿˜è®°å¾—ä¸€å¹…æ¯•ä¸šç…§ç‰‡ä¸Šå‡ ä¸ªåŒå­¦ï¼Œï¼Œå‰å®³å•Šï¼Œï¼Œï¼Œ</p><p>è™½ç„¶å»å¹´åˆšåˆšå…¥å­¦æ—¶å‚è§‚è¿‡ä¸€éæ ¡å²é¦†ï¼Œï¼Œï¼Œä½†é‚£æ—¶åˆšåˆšè¿›å…¥ä¸€ä¸ªæ–°ç¯å¢ƒï¼Œï¼Œï¼Œå¯¹å­¦æ ¡å®Œå…¨ä¸äº†è§£ï¼Œï¼Œï¼ŒåŒç­åŒå­¦ä¹Ÿä¸æ€ä¹ˆè®¤è¯†ï¼Œï¼Œï¼Œæ³¨æ„åŠ›åŸºæœ¬æ²¡æœ‰æ”¾åœ¨æ ¡å²é¦†é‡Œçš„å†…å®¹ä¸Šï¼Œï¼Œï¼Œ</p><p>è¿™æ¬¡é‡æ–°çš„å‚è§‚å¯¹å­¦æ ¡çš„å†å²è®¤è¯†æ›´æ·±äº†ä¸€äº›ï¼Œï¼Œ</p><p>ç„¶åå¸¦ç€åŒå­¦å»æ ¡åšç‰©é¦†å‚è§‚ï¼Œï¼Œï¼Œé¦†é‡Œå…¨æ˜¯åŠ¨æ¤ç‰©çš„å±•å“ï¼Œï¼Œï¼Œ</p><p>é¥­ç‚¹åƒé¥­ï¼Œï¼ŒåŒå­¦å»å’Œä»–çˆ¸å¦ˆå›åˆäº†ï¼Œï¼Œï¼Œ</p><p>ç„¶åæˆ‘ä¸€ä¸ªäººå»å—æ¹–å¯¹é¢çš„è´¢å¤§ã€æ°‘å¤§é€›æ ¡å›­ï¼Œï¼Œï¼Œ</p><p>æœ€ä¸»è¦çš„ä¸€ä¸ªç›®çš„æ˜¯æŠŠå»å¹´å¼€çš„å‘å¡«äº†ï¼Œï¼Œï¼Œ</p><p>å‰©ä¸‹åå‡ ä¸ªingressæ‹¼å›¾äººç‰©æ²¡åšå®Œï¼Œï¼Œï¼Œæ­£å¥½æœ‰å¿ƒæƒ…å»åšï¼Œï¼Œï¼Œ</p><p>æœ¬æ¥ä»¥ä¸ºå¾ˆç®€å•çš„ä»»åŠ¡ï¼Œï¼Œï¼Œæ²¡æƒ³åˆ°è·‘çš„è·¯è´¼å¤šï¼Œï¼Œï¼Œç»•æ¥ç»•å»çš„ï¼Œï¼Œï¼Œé‡ç‚¹æ‰¹è¯„é‚£ä¸ªå¼„ä»»åŠ¡çš„agentï¼Œï¼Œï¼Œ</p><p>ä¸è¿‡ï¼Œæ”¶è·è¿˜æ˜¯å¾ˆå¤§çš„ï¼Œï¼Œ</p><p>æ°‘å¤§çš„æ ¡å›­å¥½æ¼‚äº®å•Šï¼Œï¼Œå°¤å…¶æ˜¯å›¾ä¹¦é¦†ï¼Œï¼Œä¸‰å±‚æ¥¼å•Šï¼Œï¼Œï¼Œï¼Œè¿˜æœ‰ä¸¤ä¸ªå¡”ï¼Œï¼Œï¼Œç¾¡æ…•ingï¼Œï¼Œï¼ŒQAQï¼Œï¼Œï¼Œæ‰€æœ‰çš„å»ºç­‘çš„æˆ¿é¡¶éƒ½æ˜¯é’ç»¿è‰²çš„ï¼Œï¼Œï¼Œ</p><p>æ™šä¸Šå›å»æ™šäº†ï¼Œï¼Œï¼Œå¹¿åœºä¸Šå…¨æ˜¯äººï¼Œï¼Œï¼Œæ ¡åº†æ™šä¼šæ²¡åœ°æ–¹äº†ï¼Œï¼Œï¼Œè€Œä¸”èµ°äº†ä¸€å¤©ï¼Œï¼Œï¼Œjioå‰§ç—›ï¼Œï¼Œï¼Œæœæ–­å›å¯ï¼Œï¼Œï¼Œï¼Œ</p><p>è¯´å®è¯æ²¡äº²çœ¼è§åˆ°æ ¡åº†æœ‰äº›å°é—æ†¾QAQï¼Œï¼Œï¼Œ</p><h1 id="section-4">2018-10-3</h1><p>è¿™å¤©ç¼“äº†ä¸€å¤©ï¼Œï¼Œï¼Œåœ¨å¯å®¤é‡Œå¾…ç€QAQï¼Œï¼Œï¼Œ</p><h1 id="section-5">2018-10-4</h1><p>è¿™å¤©å»å»ºè¡Œæ›´æ–°èº«ä»½ä¿¡æ¯ï¼Œï¼Œï¼Œæ²¡æƒ³åˆ°ç†æˆ‘æœ€è¿‘çš„å»ºè¡Œæ”¾å‡QAQï¼Œï¼Œï¼Œäºæ˜¯å»æ›´è¿œä¸€äº›çš„é‚£ä¸ªï¼Œï¼Œï¼Œï¼Œ</p><p>èµ°è·¯ä¸€å°æ—¶ï¼Œï¼Œæ›´æ–°1åˆ†é’Ÿï¼Œï¼Œï¼Œï¼Œå™—å™—å™—å™—</p><p>ä¸è¿‡å›æ¥æ—¶å—æ¹–çš„é£æ™¯è¿˜æ˜¯ä¸é”™çš„ï¼Œï¼Œï¼Œå˜¿å˜¿ï¼Œï¼Œï¼Œ</p><h1 id="section-6">2018-10-5</h1><p>å¯å®¤é‡Œå¾…ç€ï¼Œï¼Œï¼Œçœ‹åšå®¢ï¼Œç©æ¸¸æˆï¼Œï¼Œï¼Œ</p><h1 id="section-7">2018-10-5</h1><p>åŒä¸Šï¼Œï¼Œï¼Œæ™šä¸Šä¹Ÿå°±æ˜¯ç°åœ¨ï¼Œï¼Œï¼Œæ‹¼å‘½çš„è‚è¿™ç¯‡æ—¥è®°ï¼Œï¼Œï¼Œemmmå‘¨è®°å§ï¼Œï¼Œï¼Œï¼Œ</p><p>ä»¥å‰æœ‰è¿‡çš„ç¾å¥½å›å¿†ä»æ¥æ²¡æœ‰è®°å½•çš„ä¹ æƒ¯ï¼Œï¼Œï¼Œ</p><p>æ…¢æ…¢çš„ä¹…äº†ï¼Œï¼Œï¼Œå‘ç°é‚£äº›å›å¿†æ¸æ¸åœ°ä»è„‘æµ·æ¨¡ç³Šäº†ï¼Œï¼Œæ¶ˆå¤±äº†ï¼Œï¼Œï¼Œ</p><p>ä¸ä¹‹ç›¸å…³çš„äººä¹Ÿæ…¢æ…¢çš„æ¸è¡Œæ¸è¿œï¼Œï¼Œï¼Œæ„Ÿè§‰è‡ªå·±æœ‰äº›å¤ªå­¤ç‹¬äº†ï¼Œï¼Œï¼Œè™½ç„¶æœ¬èº«å°±æ˜¯ä¸€ä¸ªå–œæ¬¢ç‹¬å¤„çš„äººï¼Œï¼Œï¼Œä½†æ˜¯è¿˜æ˜¯æƒ³ç€ç•™ä¸‹å†™ä¸œè¥¿å§ï¼Œï¼Œï¼Œ</p><p>æˆ–è®¸ä»¥åå“ªä¸€å¤©ï¼Œåœ¨åˆåçš„ä¸‹åˆï¼Œï¼Œå¹ç€å‡‰é£å¶ç„¶ç¿»åˆ°äº†è¿™ä¸€å¤§æ®µæµæ°´è´¦ï¼Œï¼Œï¼Œä½†æ˜¯ä¹Ÿç»ˆç©¶æ˜¯ä¸€ä»½å›å¿†å•Šï¼Œï¼Œï¼Œ</p><p>æ—¥åç”Ÿæ´»ä¸”ä¸æ˜“ï¼Œç•™ä¸‹äº›ç¾å¥½çš„ä¸œè¥¿è¿˜æ˜¯å¾ˆå¥½çš„å•Šï¼Œï¼Œ</p><p>å•Šï¼Œï¼Œ23:15 å•¦ï¼Œï¼Œï¼Œæ­£å¥½ç½‘æ˜“äº‘å¾ªç¯åˆ°äº†åˆ€å‰‘é‡Œæ¡äººåœ¨åŒ»é™¢è§åˆ°äºšæ–¯å¨œæ˜¯çš„é‚£é¦–çº¯éŸ³ä¹äº†ï¼Œï¼Œa tender feelingï¼Œï¼Œï¼Œè¿™ç§æ„Ÿè§‰å¾ˆæ˜¯ç¾å¥½å•Šï¼Œï¼Œå˜¿å˜¿ï¼Œï¼Œï¼Œ</p><p>æ˜å¤©åº”è¯¥æ˜¯ç–¯ç‹‚çš„è¡¥ä½œä¸šæ—¶é—´äº†å§ï¼Œï¼Œï¼Œä»Šåè¦åŠªåŠ›äº†ï¼ï¼ï¼åœ¨é‚£æ¡å¾ˆå°‘äººèµ°çš„è·¯ä¸Šå¥‹æ–—å§ï¼ï¼ï¼</p>]]></content>
      
      <categories>
          
          <category> diary </category>
          
      </categories>
      
      
    </entry>
    
    <entry>
      <title>RMQ_ç¬¬ä¸€å¼¹_Sparse Table</title>
      <link href="/2018/09/21/RMQ-%E7%AC%AC%E4%B8%80%E5%BC%B9/"/>
      <content type="html"><![CDATA[<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1><p><strong>RMQ (Range Minimum/Maximum Query)</strong></p><p>ä»è‹±æ–‡ä¾¿å¯ä»¥çœ‹å‡ºè¿™ä¸ªç®—æ³•çš„ä¸»è¦æ˜¯è¯¢é—®ä¸€ä¸ªåŒºé—´å†…çš„æœ€å€¼é—®é¢˜ï¼Œï¼Œï¼Œ</p><p>æš‘å‡é›†è®­çš„æ—¶å€™å­¦ä¹ äº† <strong>çº¿æ®µæ ‘</strong> ï¼Œï¼Œï¼Œ</p><p>ä¹Ÿå¯ä»¥å¯¹ç»™å®šæ•°ç»„æŸ¥è¯¢ä»»æ„åŒºé—´çš„æœ€å€¼é—®é¢˜ï¼Œï¼Œï¼Œï¼Œ</p><p>è¿™ä¸¤ä¸ªä¸»è¦çš„åŒºåˆ«å°±æ˜¯ çº¿æ®µæ ‘ å¯ä»¥è¿›è¡Œå•ç‚¹çš„ä¿®æ”¹æ“ä½œï¼Œï¼Œï¼Œè€Œ <strong>Sparse Table</strong> ç®—æ³•ä¸èƒ½è¿›è¡Œç‚¹ä¿®æ”¹ï¼Œï¼Œ</p><p>æˆ–è€…è¯´è¿™æ ·ä¿®æ”¹ä¸€æ¬¡é‡é¢„å¤„ç†ä¸€æ¬¡ä¸åˆ’ç®—ï¼Œï¼Œï¼Œ</p><p>æ‰€ä»¥è¯´ï¼Œï¼Œè¦æ˜¯é¢˜ç›®åªæ˜¯å•çº¯çš„å¤šæ¬¡æŸ¥è¯¢ä»»æ„åŒºé—´çš„æœ€å€¼ï¼Œï¼Œï¼ŒSparse Table é¦–é€‰ï¼Œï¼Œæ¯•ç«Ÿï¼Œï¼Œæ¯•ç«Ÿå†™èµ·æ¥æ¯”çº¿æ®µæ ‘ç®€å•å¾—å¤šäº†ï¼Œï¼Œï¼Œ</p><a id="more"></a><h1 id="é¢„å¤„ç†">é¢„å¤„ç†</h1><h2 id="ç®—æ³•åŸç†">ç®—æ³•åŸç†</h2><p>åŸºæœ¬æ€æƒ³æ˜¯dp,,,,</p><p><strong>dpçš„çŠ¶æ€</strong> : å¯¹äºæ•°ç»„ <span class="math inline">\(a[1-n]\)</span> , <span class="math inline">\(F[i , j]\)</span>è¡¨ç¤ºä»ç¬¬ <span class="math inline">\(i\)</span> ä¸ªä½ç½®å¼€å§‹ ï¼Œ <strong>é•¿åº¦</strong> ä¸º<span class="math inline">\(2^j\)</span> ä¸ªæ•°è¿™ä¸ªåŒºé—´ä¸­çš„æœ€å€¼ï¼Œï¼Œï¼Œ;</p><p><strong>dpçš„åˆå§‹å€¼</strong> : <span class="math inline">\(F[i , 0] = a[i]\)</span>;</p><p><strong>çŠ¶æ€è½¬ç§»æ–¹ç¨‹</strong> : <span class="math inline">\(F[i , j] = max (F[i , j - 1] , F[i + 2^{j - 1} , j - 1])\)</span>;</p><p><strong>æ€æƒ³</strong> : <span class="math inline">\(F[i , j]\)</span> å°±æ˜¯ä¸æ–­å–ä»–çš„å·¦å³è¿™ä¸¤æ®µçš„æœ€å€¼ï¼Œï¼Œè¿™ä¸¤æ®µçš„é•¿åº¦ç›¸ç­‰ï¼Œéƒ½ä¸º <span class="math inline">\(2^{j - 1}\)</span> ä¸ªå…ƒç´ ï¼Œï¼Œ</p><h2 id="å®ç°">å®ç°</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">5e4</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> n , q;</span><br><span class="line"><span class="keyword">int</span> a[maxn];</span><br><span class="line"><span class="keyword">int</span> mx[maxn][<span class="number">20</span>];</span><br><span class="line"><span class="keyword">int</span> mi[maxn][<span class="number">20</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">rmq</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">mx[i][<span class="number">0</span>] = mi[i][<span class="number">0</span>] = a[i];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; (<span class="number">1</span> &lt;&lt; j) &lt;= n; ++j)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i + (<span class="number">1</span> &lt;&lt; j) - <span class="number">1</span> &lt;= n; ++i)</span><br><span class="line">&#123;</span><br><span class="line">mx[i][j] = max(mx[i][j - <span class="number">1</span>] , mx[i + (<span class="number">1</span> &lt;&lt; (j - <span class="number">1</span>))][j - <span class="number">1</span>]);</span><br><span class="line">mi[i][j] = min(mi[i][j - <span class="number">1</span>] , mi[i + (<span class="number">1</span> &lt;&lt; (j - <span class="number">1</span>))][j - <span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬éœ€è¦æ³¨æ„çš„æ˜¯å¾ªç¯çš„é¡ºåºï¼Œæˆ‘ä»¬å‘ç°å¤–å±‚æ˜¯jï¼Œå†…å±‚æ‰€iï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå¯ä»¥æ˜¯iåœ¨å¤–ï¼Œjåœ¨å†…å—ï¼Ÿ ç­”æ¡ˆæ˜¯ä¸å¯ä»¥ã€‚å› ä¸ºæˆ‘ä»¬éœ€è¦ç†è§£è¿™ä¸ªçŠ¶æ€è½¬ç§»æ–¹ç¨‹çš„æ„ä¹‰ã€‚</p><p>çŠ¶æ€è½¬ç§»æ–¹ç¨‹çš„å«ä¹‰æ˜¯ï¼šå…ˆæ›´æ–°æ‰€æœ‰é•¿åº¦ä¸ºF[i,0]å³1ä¸ªå…ƒç´ ï¼Œç„¶åé€šè¿‡2ä¸ª1ä¸ªå…ƒç´ çš„æœ€å€¼ï¼Œè·å¾—æ‰€æœ‰é•¿åº¦ä¸ºF[i,1]å³2ä¸ªå…ƒç´ çš„æœ€å€¼ï¼Œç„¶åå†é€šè¿‡2ä¸ª2ä¸ªå…ƒç´ çš„æœ€å€¼ï¼Œè·å¾—æ‰€æœ‰é•¿åº¦ä¸ºF[i,2]å³4ä¸ªå…ƒç´ çš„æœ€å€¼ï¼Œä»¥æ­¤ç±»æ¨æ›´æ–°æ‰€æœ‰é•¿åº¦çš„æœ€å€¼ã€‚</p><p>è€Œå¦‚æœæ˜¯iåœ¨å¤–ï¼Œjåœ¨å†…çš„è¯ï¼Œæˆ‘ä»¬æ›´æ–°çš„é¡ºåºå°±æ˜¯F[1,0],F[1,1],F[1,2],F[1,3],è¡¨ç¤ºæ›´æ–°ä»1å¼€å§‹1ä¸ªå…ƒç´ ï¼Œ2ä¸ªå…ƒç´ ï¼Œ4ä¸ªå…ƒç´ ï¼Œ8ä¸ªå…ƒç´ ï¼ˆA[0],A[1],....A[7]ï¼‰çš„æœ€å€¼ï¼Œè¿™é‡ŒF[1,3] = max(max(A[0],A[1],A[2],A[3]),max(A[4],A[5],A[6],A[7]))çš„å€¼ï¼Œä½†æ˜¯æˆ‘ä»¬æ ¹æœ¬æ²¡æœ‰è®¡ç®—max(A[0],A[1],A[2],A[3])å’Œmax(A[4],A[5],A[6],A[7])ï¼Œæ‰€ä»¥è¿™æ ·çš„æ–¹æ³•è‚¯å®šæ˜¯é”™è¯¯çš„ã€‚</p><p><a href="https://blog.csdn.net/niushuai666/article/details/6624672?utm_source=copy" target="_blank" rel="noopener">æœ¬æ®µæ¥è‡ªæŸå¤§ä½¬åšå®¢</a></p><hr><h1 id="æŸ¥è¯¢">æŸ¥è¯¢</h1><h2 id="æ€æƒ³">æ€æƒ³</h2><p>å‡å¦‚æˆ‘ä»¬éœ€è¦æŸ¥è¯¢çš„åŒºé—´ä¸º(i,j)ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦æ‰¾åˆ°è¦†ç›–è¿™ä¸ªé—­åŒºé—´(å·¦è¾¹ç•Œå–iï¼Œå³è¾¹ç•Œå–j)çš„æœ€å°å¹‚ï¼ˆå¯ä»¥é‡å¤ï¼Œæ¯”å¦‚æŸ¥è¯¢5ï¼Œ6ï¼Œ7ï¼Œ8ï¼Œ9ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥è¯¢5678å’Œ6789ï¼‰ã€‚</p><p>å› ä¸ºè¿™ä¸ªåŒºé—´çš„é•¿åº¦ä¸º <span class="math inline">\(j - i + 1\)</span> ,æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å– <span class="math inline">\(k=log2( j - i + 1)\)</span> ï¼Œåˆ™æœ‰ï¼š<span class="math inline">\(RMQ(A, i, j)=max(F[i , k], F[ j - 2 ^ k + 1, k])\)</span>ã€‚</p><p>ä¸¾ä¾‹è¯´æ˜ï¼Œè¦æ±‚åŒºé—´[2ï¼Œ8]çš„æœ€å¤§å€¼ï¼Œ<span class="math inline">\(k = log_2ï¼ˆ8 - 2 + 1ï¼‰= 2\)</span>ï¼Œå³æ±‚ <span class="math inline">\(max(F[2, 2]ï¼ŒF[8 - 2 ^ 2 + 1, 2]) =Â max(F[2, 2]ï¼ŒF[5, 2])\)</span>ï¼›</p><h2 id="å®ç°-1">å®ç°</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">ans</span><span class="params">(<span class="keyword">int</span> l , <span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> k = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> len = r - l + <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> ((<span class="number">1</span> &lt;&lt; (k + <span class="number">1</span>)) &lt;= len)</span><br><span class="line">++k;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> max (mx[l][k] , mx[r - (<span class="number">1</span> &lt;&lt; k) + <span class="number">1</span>][k]) - min (mi[l][k] , mi[r - (<span class="number">1</span> &lt;&lt; k) + <span class="number">1</span>][k]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="å®æˆ˜">å®æˆ˜</h1><p><a href="http://poj.org/problem?id=3264" target="_blank" rel="noopener">é¢˜ç›®é“¾æ¥</a></p><p>é¢˜ç›®å¤§æ„: ç»™å®šçš„æ•°åˆ—a[1 - n] , æ±‚å‡º[l , r]è¿™ä¸ªåŒºé—´å†…çš„æå·® ï¼Œ å³æœ€å¤§å€¼ä¸æœ€å°å€¼çš„å·®</p><p>ç›´æ¥å¥—æ¿å­ï¼Œï¼Œï¼Œï¼Œ</p><p>acä»£ç :</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">5e4</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> n , q;</span><br><span class="line"><span class="keyword">int</span> a[maxn];</span><br><span class="line"><span class="keyword">int</span> mx[maxn][<span class="number">20</span>];</span><br><span class="line"><span class="keyword">int</span> mi[maxn][<span class="number">20</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">rmq</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">mx[i][<span class="number">0</span>] = mi[i][<span class="number">0</span>] = a[i];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; (<span class="number">1</span> &lt;&lt; j) &lt;= n; ++j)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i + (<span class="number">1</span> &lt;&lt; j) - <span class="number">1</span> &lt;= n; ++i)</span><br><span class="line">&#123;</span><br><span class="line">mx[i][j] = max(mx[i][j - <span class="number">1</span>] , mx[i + (<span class="number">1</span> &lt;&lt; (j - <span class="number">1</span>))][j - <span class="number">1</span>]);</span><br><span class="line">mi[i][j] = min(mi[i][j - <span class="number">1</span>] , mi[i + (<span class="number">1</span> &lt;&lt; (j - <span class="number">1</span>))][j - <span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">ans</span><span class="params">(<span class="keyword">int</span> l , <span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> k = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> len = r - l + <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> ((<span class="number">1</span> &lt;&lt; (k + <span class="number">1</span>)) &lt;= len)</span><br><span class="line">++k;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> max (mx[l][k] , mx[r - (<span class="number">1</span> &lt;&lt; k) + <span class="number">1</span>][k]) - min (mi[l][k] , mi[r - (<span class="number">1</span> &lt;&lt; k) + <span class="number">1</span>][k]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123; </span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d%d"</span> , &amp;n , &amp;q) != EOF)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;a[i]);</span><br><span class="line"></span><br><span class="line">rmq();</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (q--)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> l , r;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d"</span> , &amp;l , &amp;r);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span> , ans(l , r));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="kuangbinçš„æ¿å­">kuangbinçš„æ¿å­:</h1><p>ä¸€ç»´:</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">50010</span>;</span><br><span class="line"><span class="keyword">int</span> dp[MAXN][<span class="number">20</span>];</span><br><span class="line"><span class="keyword">int</span> mm[MAXN];</span><br><span class="line"><span class="comment">//åˆå§‹åŒ– RMQ, b æ•°ç»„ä¸‹æ ‡ä» 1 å¼€å§‹ï¼Œä» 0 å¼€å§‹ç®€å•ä¿®æ”¹</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initRMQ</span><span class="params">(<span class="keyword">int</span> n,<span class="keyword">int</span> b[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    mm[<span class="number">0</span>] = âˆ’<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        mm[i] = ((i&amp;(iâˆ’<span class="number">1</span>)) == <span class="number">0</span>)?mm[iâˆ’<span class="number">1</span>]+<span class="number">1</span>:mm[iâˆ’<span class="number">1</span>];</span><br><span class="line">        dp[i][<span class="number">0</span>] = b[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= mm[n]; j++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i + (<span class="number">1</span>&lt;&lt;j) âˆ’<span class="number">1</span> &lt;= n; i++)</span><br><span class="line">            dp[i][j] = max(dp[i][jâˆ’<span class="number">1</span>],dp[i+(<span class="number">1</span>&lt;&lt;(jâˆ’<span class="number">1</span>))][jâˆ’<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"> <span class="comment">//æŸ¥è¯¢æœ€å¤§å€¼</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">rmq</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> k = mm[yâˆ’x+<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">return</span> max(dp[x][k],dp[yâˆ’(<span class="number">1</span>&lt;&lt;k)+<span class="number">1</span>][k]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> ACM-RMQ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> acm </tag>
            
            <tag> RMQ </tag>
            
            <tag> ST </tag>
            
            <tag> dp </tag>
            
            <tag> æ•°æ®ç»“æ„ </tag>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>acm-STL</title>
      <link href="/2018/09/18/acm-STL/"/>
      <content type="html"><![CDATA[<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1><p>c++ä¸­æœ‰å¾ˆå¤šstlæ¨¡æ¿ï¼Œï¼Œåœ¨è§£å†³ä¸€äº›é—®é¢˜æ—¶ä½¿ç”¨å®ƒä»¬å¯ä»¥åœ¨è¾ƒå°çš„æ—¶é—´å¤æ‚åº¦é‡Œå®Œæˆé¢˜ç›®ï¼Œï¼Œï¼Œ</p><p>æœ¬ç¯‡åšå®¢ä¸»è¦æ˜¯å¯¹ä¸€äº›å¸¸ç”¨çš„stlçš„æ€»ç»“ï¼Œï¼Œï¼Œ</p><p>å¤§éƒ¨åˆ†å†…å®¹æ¥è‡ªå¤§ä½¬çš„ <a href="https://blog.csdn.net/f_zyj/article/details/51594851" target="_blank" rel="noopener">åšå®¢</a>;</p><p>ä¸»è¦å†…å®¹æœ‰: <strong>pair</strong> , <strong>set</strong> , <strong>vector</strong> , <strong>string</strong> , <strong>stack</strong> , <strong>queue</strong> , <strong>map</strong> , <strong>bitset</strong> , <strong>iterator</strong> , <strong>algorithm</strong>.</p><a id="more"></a><h1 id="pair">pair</h1><p><strong>å¤´æ–‡ä»¶</strong>: <figure class="highlight plain"><figcaption><span><utility>```</utility></span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">**ä½œç”¨**: ç”¨æ¥è¡¨ç¤ºä¸€ä¸ª **äºŒå…ƒç»„** æˆ– **å…ƒç´ å¯¹** ï¼Œ ï¼ˆç›¸å½“äºå¹³é¢é‡Œçš„ä¸€ä¸ªç‚¹ï¼‰ ï¼Œ å¹¶æä¾›äº†æŒ‰ç…§å­—å…¸åºå¯¹å…ƒç´ è¿›è¡Œå¤§å°æ¯”è¾ƒè¿ç®—ç¬¦æ¨¡æ¿å‡½æ•°ï¼Œï¼Œï¼Œ</span><br><span class="line"></span><br><span class="line">**ä½¿ç”¨**: </span><br><span class="line"></span><br><span class="line">```cpp</span><br><span class="line">pair&lt;int , int&gt; p;</span><br><span class="line">cin &gt;&gt; p.first &gt;&gt; p.second;</span><br><span class="line">cout &lt;&lt; p.first &lt;&lt; p.second;</span><br></pre></td></tr></table></figure></p><p>pairéœ€è¦ä¸¤ä¸ªå‚æ•°ï¼Œé¦–å°¾å…ƒç´ çš„æ•°æ®ç±»å‹ã€‚</p><p>pairæœ‰ä¸¤ä¸ªå¯¹è±¡æˆå‘˜ï¼Œ<strong>first</strong> , <strong>second</strong>;</p><p>åœ¨&lt;utility&gt;ä¸­å·²ç»å®šä¹‰äº†pairä¸Šçš„å…­ä¸ªæ¯”è¾ƒè¿ç®—ç¬¦ï¼š&lt;ã€&gt;ã€&lt;=ã€&gt;=ã€==ã€!=ï¼Œå…¶è§„åˆ™æ˜¯å…ˆæ¯”è¾ƒfirstï¼Œfirstç›¸ç­‰æ—¶å†æ¯”è¾ƒsecondï¼Œè¿™ç¬¦åˆå¤§å¤šæ•°åº”ç”¨çš„é€»è¾‘ã€‚å½“ç„¶ï¼Œä¹Ÿå¯ä»¥é€šè¿‡é‡è½½è¿™å‡ ä¸ªè¿ç®—ç¬¦æ¥é‡æ–°æŒ‡å®šè‡ªå·±çš„æ¯”è¾ƒé€»è¾‘ã€‚ é™¤äº†ç›´æ¥å®šä¹‰ä¸€ä¸ªpairå¯¹è±¡å¤–ï¼Œå¦‚æœéœ€è¦å³æ—¶ç”Ÿæˆä¸€ä¸ªpairå¯¹è±¡ï¼Œä¹Ÿå¯ä»¥è°ƒç”¨åœ¨&lt;utility&gt;ä¸­å®šä¹‰çš„ä¸€ä¸ªæ¨¡ç‰ˆå‡½æ•°ï¼šmake_pairã€‚make_pairéœ€è¦ä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«ä¸ºå…ƒç´ å¯¹çš„é¦–å…ƒç´ å’Œå°¾å…ƒç´ ã€‚</p><h1 id="set">set</h1><h2 id="set-1">set</h2><p><strong>å¤´æ–‡ä»¶</strong>: <figure class="highlight plain"><figcaption><span><set>```</set></span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">**ä½œç”¨**: setæ˜¯ä¸ **é›†åˆ** ç›¸å…³çš„å®¹å™¨ï¼ŒSTLä¸ºæˆ‘ä»¬æä¾›äº†setçš„å®ç°ï¼Œåœ¨ç¼–ç¨‹é¢˜ä¸­é‡è§é›†åˆé—®é¢˜ç›´æ¥è°ƒç”¨æ˜¯ååˆ†æ–¹ä¾¿çš„ã€‚</span><br><span class="line"></span><br><span class="line">**ä½¿ç”¨**: </span><br><span class="line"></span><br><span class="line">```cpp</span><br><span class="line">set&lt;int&gt; s;</span><br><span class="line">set&lt;double&gt; ss;</span><br></pre></td></tr></table></figure></p><p><strong>åŸºæœ¬æ“ä½œ</strong>:</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">s.begin()       <span class="comment">//  è¿”å›æŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨</span></span><br><span class="line">s.clear()       <span class="comment">//  æ¸…é™¤æ‰€æœ‰å…ƒç´ </span></span><br><span class="line">s.count()       <span class="comment">//  è¿”å›æŸä¸ªå€¼å…ƒç´ çš„ä¸ªæ•°</span></span><br><span class="line">s.empty()       <span class="comment">//  å¦‚æœé›†åˆä¸ºç©ºï¼Œè¿”å›true(çœŸï¼‰</span></span><br><span class="line">s.end()         <span class="comment">//  è¿”å›æŒ‡å‘æœ€åä¸€ä¸ªå…ƒç´ ä¹‹åçš„è¿­ä»£å™¨ï¼Œä¸æ˜¯æœ€åä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">s.equal_range() <span class="comment">//  è¿”å›é›†åˆä¸­ä¸ç»™å®šå€¼ç›¸ç­‰çš„ä¸Šä¸‹é™çš„ä¸¤ä¸ªè¿­ä»£å™¨</span></span><br><span class="line">s.erase()       <span class="comment">//  åˆ é™¤é›†åˆä¸­çš„å…ƒç´ </span></span><br><span class="line">s.find()        <span class="comment">//  è¿”å›ä¸€ä¸ªæŒ‡å‘è¢«æŸ¥æ‰¾åˆ°å…ƒç´ çš„è¿­ä»£å™¨</span></span><br><span class="line">s.get_allocator()   <span class="comment">//  è¿”å›é›†åˆçš„åˆ†é…å™¨</span></span><br><span class="line">s.insert()      <span class="comment">//  åœ¨é›†åˆä¸­æ’å…¥å…ƒç´ </span></span><br><span class="line">s.lower_bound() <span class="comment">//  è¿”å›æŒ‡å‘å¤§äºï¼ˆæˆ–ç­‰äºï¼‰æŸå€¼çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨</span></span><br><span class="line">s.key_comp()    <span class="comment">//  è¿”å›ä¸€ä¸ªç”¨äºå…ƒç´ é—´å€¼æ¯”è¾ƒçš„å‡½æ•°</span></span><br><span class="line">s.max_size()    <span class="comment">//  è¿”å›é›†åˆèƒ½å®¹çº³çš„å…ƒç´ çš„æœ€å¤§é™å€¼</span></span><br><span class="line">s.rbegin()      <span class="comment">//  è¿”å›æŒ‡å‘é›†åˆä¸­æœ€åä¸€ä¸ªå…ƒç´ çš„åå‘è¿­ä»£å™¨</span></span><br><span class="line">s.rend()        <span class="comment">//  è¿”å›æŒ‡å‘é›†åˆä¸­ç¬¬ä¸€ä¸ªå…ƒç´ çš„åå‘è¿­ä»£å™¨</span></span><br><span class="line">s.size()        <span class="comment">//  é›†åˆä¸­å…ƒç´ çš„æ•°ç›®</span></span><br><span class="line">s.swap()        <span class="comment">//  äº¤æ¢ä¸¤ä¸ªé›†åˆå˜é‡</span></span><br><span class="line">s.upper_bound() <span class="comment">//  è¿”å›å¤§äºæŸä¸ªå€¼å…ƒç´ çš„è¿­ä»£å™¨</span></span><br><span class="line">s.value_comp()  <span class="comment">//  è¿”å›ä¸€ä¸ªç”¨äºæ¯”è¾ƒå…ƒç´ é—´çš„å€¼çš„å‡½æ•°</span></span><br></pre></td></tr></table></figure><h2 id="multiset">multiset</h2><p>multisetï¼ˆå¤šé‡é›†åˆï¼‰</p><p><strong>ä¸setçš„åŒºåˆ«</strong>: + å¤šé‡é›†åˆä¸é›†åˆçš„åŒºåˆ«åœ¨äºé›†åˆä¸­ <strong>ä¸èƒ½</strong> å­˜åœ¨ç›¸åŒå…ƒç´ ï¼Œè€Œå¤šé‡é›†åˆä¸­å¯ä»¥å­˜åœ¨ã€‚ + multisetå’Œsetçš„åŸºæœ¬æ“ä½œç›¸ä¼¼ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé›†åˆçš„count()èƒ½è¿”å›0ï¼ˆæ— ï¼‰æˆ–è€…1ï¼ˆæœ‰ï¼‰ï¼Œè€Œå¤šé‡é›†åˆæ˜¯æœ‰å¤šå°‘ä¸ªè¿”å›å¤šå°‘ä¸ªã€‚</p><p><strong>ä½¿ç”¨</strong>:</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">multiset</span>&lt;<span class="keyword">int</span>&gt; s;</span><br><span class="line"><span class="built_in">multiset</span>&lt;<span class="keyword">double</span>&gt; ss;</span><br></pre></td></tr></table></figure><h1 id="vector">vector</h1><p><strong>å¤´æ–‡ä»¶</strong>: <figure class="highlight plain"><figcaption><span><vector>```</vector></span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">**ä½œç”¨**: vector(å‘é‡å®¹å™¨æ¨¡æ¿ç±») ï¼Œ ä»¥è¿ç»­æ•°ç»„çš„æ–¹å¼å‚¨å­˜å…ƒç´ åºåˆ— ï¼Œ ä¸€èˆ¬ä½œä¸ºåŠ¨æ€æ•°ç»„æ¥ç”¨ï¼Œï¼ŒåŠ¨æ€å¢é•¿å‚¨å­˜ç©ºé—´ï¼Œ</span><br><span class="line"></span><br><span class="line">**ä½¿ç”¨**:</span><br><span class="line"></span><br><span class="line">```cpp</span><br><span class="line">vector&lt;int&gt; s;      </span><br><span class="line">//  å®šä¹‰ä¸€ä¸ªç©ºçš„vectorå¯¹è±¡ï¼Œå­˜å‚¨çš„æ˜¯intç±»å‹çš„å…ƒç´ </span><br><span class="line">vector&lt;int&gt; s(n);   </span><br><span class="line">//  å®šä¹‰ä¸€ä¸ªå«æœ‰nä¸ªintå…ƒç´ çš„vectorå¯¹è±¡</span><br><span class="line">vector&lt;int&gt; s(first, last); </span><br><span class="line">//  å®šä¹‰ä¸€ä¸ªvectorå¯¹è±¡ï¼Œå¹¶ä»ç”±è¿­ä»£å™¨firstå’Œlastå®šä¹‰çš„åºåˆ—[first, last)ä¸­å¤åˆ¶åˆå€¼</span><br></pre></td></tr></table></figure></p><p>vectoræ¨¡ç‰ˆç±»éœ€è¦ä¸¤ä¸ªæ¨¡ç‰ˆå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å­˜å‚¨å…ƒç´ çš„æ•°æ®ç±»å‹ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å­˜å‚¨åˆ†é…å™¨çš„ç±»å‹ï¼Œå…¶ä¸­ç¬¬äºŒä¸ªå‚æ•°æ˜¯å¯é€‰çš„ï¼Œå¦‚æœä¸ç»™å‡ºç¬¬äºŒä¸ªå‚æ•°ï¼Œå°†ä½¿ç”¨é»˜è®¤çš„åˆ†é…å™¨ã€‚</p><p><strong>vectorçš„åŸºæœ¬æ“ä½œ</strong>:</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">s[i]                <span class="comment">//  ç›´æ¥ä»¥ä¸‹æ ‡æ–¹å¼è®¿é—®å®¹å™¨ä¸­çš„å…ƒç´ </span></span><br><span class="line">s.front()           <span class="comment">//  è¿”å›é¦–å…ƒç´ </span></span><br><span class="line">s.back()            <span class="comment">//  è¿”å›å°¾å…ƒç´ </span></span><br><span class="line">s.push_back(x)      <span class="comment">//  å‘è¡¨å°¾æ’å…¥å…ƒç´ x</span></span><br><span class="line">s.size()            <span class="comment">//  è¿”å›è¡¨é•¿</span></span><br><span class="line">s.empty()           <span class="comment">//  è¡¨ä¸ºç©ºæ—¶ï¼Œè¿”å›çœŸï¼Œå¦åˆ™è¿”å›å‡</span></span><br><span class="line">s.pop_back()        <span class="comment">//  åˆ é™¤è¡¨å°¾å…ƒç´ </span></span><br><span class="line">s.begin()           <span class="comment">//  è¿”å›æŒ‡å‘é¦–å…ƒç´ çš„éšæœºå­˜å–è¿­ä»£å™¨</span></span><br><span class="line">s.end()             <span class="comment">//  è¿”å›æŒ‡å‘å°¾å…ƒç´ çš„ä¸‹ä¸€ä¸ªä½ç½®çš„éšæœºå­˜å–è¿­ä»£å™¨</span></span><br><span class="line">s.insert(it, val)   <span class="comment">//  å‘è¿­ä»£å™¨itæŒ‡å‘çš„å…ƒç´ å‰æ’å…¥æ–°å…ƒç´ val</span></span><br><span class="line">s.insert(it, n, val)<span class="comment">//  å‘è¿­ä»£å™¨itæŒ‡å‘çš„å…ƒç´ å‰æ’å…¥nä¸ªæ–°å…ƒç´ val</span></span><br><span class="line">s.insert(it, first, last)   </span><br><span class="line"><span class="comment">//  å°†ç”±è¿­ä»£å™¨firstå’Œlastæ‰€æŒ‡å®šçš„åºåˆ—[first, last)æ’å…¥åˆ°è¿­ä»£å™¨itæŒ‡å‘çš„å…ƒç´ å‰é¢</span></span><br><span class="line">s.erase(it)         <span class="comment">//  åˆ é™¤ç”±è¿­ä»£å™¨itæ‰€æŒ‡å‘çš„å…ƒç´ </span></span><br><span class="line">s.erase(first, last)<span class="comment">//  åˆ é™¤ç”±è¿­ä»£å™¨firstå’Œlastæ‰€æŒ‡å®šçš„åºåˆ—[first, last)</span></span><br><span class="line">s.reserve(n)        <span class="comment">//  é¢„åˆ†é…ç¼“å†²ç©ºé—´ï¼Œä½¿å­˜å‚¨ç©ºé—´è‡³å°‘å¯å®¹çº³nä¸ªå…ƒç´ </span></span><br><span class="line">s.resize(n)         <span class="comment">//  æ”¹å˜åºåˆ—é•¿åº¦ï¼Œè¶…å‡ºçš„å…ƒç´ å°†ä¼šå…¨éƒ¨è¢«åˆ é™¤ï¼Œå¦‚æœåºåˆ—éœ€è¦æ‰©å±•ï¼ˆåŸç©ºé—´å°äºnï¼‰ï¼Œå…ƒç´ é»˜è®¤å€¼å°†å¡«æ»¡æ‰©å±•å‡ºçš„ç©ºé—´</span></span><br><span class="line">s.resize(n, val)    <span class="comment">//  æ”¹å˜åºåˆ—é•¿åº¦ï¼Œè¶…å‡ºçš„å…ƒç´ å°†ä¼šå…¨éƒ¨è¢«åˆ é™¤ï¼Œå¦‚æœåºåˆ—éœ€è¦æ‰©å±•ï¼ˆåŸç©ºé—´å°äºnï¼‰ï¼Œvalå°†å¡«æ»¡æ‰©å±•å‡ºçš„ç©ºé—´</span></span><br><span class="line">s.clear()           <span class="comment">//  åˆ é™¤å®¹å™¨ä¸­çš„æ‰€æœ‰å…ƒç´ </span></span><br><span class="line">s.swap(v)           <span class="comment">//  å°†sä¸å¦ä¸€ä¸ªvectorå¯¹è±¡è¿›è¡Œäº¤æ¢</span></span><br><span class="line">s.assign(first, last)</span><br><span class="line"><span class="comment">//  å°†åºåˆ—æ›¿æ¢æˆç”±è¿­ä»£å™¨firstå’Œlastæ‰€æŒ‡å®šçš„åºåˆ—[first, last)ï¼Œ[first, last)ä¸èƒ½æ˜¯åŸåºåˆ—ä¸­çš„ä¸€éƒ¨åˆ†</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//  è¦æ³¨æ„çš„æ˜¯ï¼Œresizeæ“ä½œå’Œclearæ“ä½œéƒ½æ˜¯å¯¹è¡¨çš„æœ‰æ•ˆå…ƒç´ è¿›è¡Œçš„æ“ä½œï¼Œä½†å¹¶ä¸ä¸€å®šä¼šæ”¹å˜ç¼“å†²ç©ºé—´çš„å¤§å°</span></span><br><span class="line"><span class="comment">//  å¦å¤–ï¼Œvectorè¿˜æœ‰å…¶ä»–çš„ä¸€äº›æ“ä½œï¼Œå¦‚åè½¬ã€å–åç­‰ï¼Œä¸å†ä¸€ä¸€åˆ—ä¸¾</span></span><br><span class="line"><span class="comment">//  vectorä¸Šè¿˜å®šä¹‰äº†åºåˆ—ä¹‹é—´çš„æ¯”è¾ƒæ“ä½œè¿ç®—ç¬¦ï¼ˆ&gt;ã€&lt;ã€&gt;=ã€&lt;=ã€==ã€!=ï¼‰ï¼Œå¯ä»¥æŒ‰ç…§å­—å…¸åºæ¯”è¾ƒä¸¤ä¸ªåºåˆ—ã€‚</span></span><br></pre></td></tr></table></figure><h1 id="string">string</h1>]]></content>
      
      <categories>
          
          <category> acm </category>
          
      </categories>
      
      
        <tags>
            
            <tag> acm </tag>
            
            <tag> c++ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>æ•°æ®ç»“æ„-é“¾è¡¨</title>
      <link href="/2018/09/18/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E9%93%BE%E8%A1%A8/"/>
      <content type="html"><![CDATA[<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1><p>ä½œä¸ºæ•°æ®ç»“æ„ä¸­çš„å…¥é—¨åŸºç¡€ï¼Œï¼Œè¡¨ååˆ†çš„é‡è¦ï¼Œï¼ŒåŸºæœ¬ä¸Šå¯ä»¥è¯´æ•°æ®ç»“æ„ä¸­å…¶ä»–çš„å¤§éƒ¨åˆ†çš„å®ç°éƒ½æ˜¯åŸºäºé¡ºåºè¡¨çš„ï¼Œï¼Œè€Œ <strong>é“¾è¡¨</strong> åˆ™æ˜¯é¡ºåºè¡¨ä¸­å¾ˆé‡è¦çš„ä¸€ä¸ªä¸œè¥¿ï¼Œï¼Œï¼Œ</p><p>ä¹‹å‰åœ¨å­¦ä¹ C/C++æ—¶å°±å·²ç»äº†è§£åˆ°äº†é“¾è¡¨ï¼Œï¼Œï¼Œé‚£æ—¶ç²—ç•¥çš„çœ‹äº†çœ‹ï¼Œï¼Œä»¥ä¸ºè‡ªå·±å¯ä»¥ç†Ÿç»ƒçš„å®ç°ï¼Œï¼Œï¼Œä½†å®é™…æ˜¯ï¼Œï¼Œæˆ‘åªä¼šåŸºäºC++çš„é“¾è¡¨çš„å®ç°ï¼Œï¼Œåœ¨ä½¿ç”¨Cæ¥å®ç°æ—¶æ€»æ˜¯åœ¨æŠ¥é”™ï¼Œï¼Œï¼Œæœ€åå‘ç°æ˜¯è‡ªå·±çš„é€»è¾‘ä¸æ¸…ï¼Œï¼Œå„ä¸ªå‡½æ•°çš„å®ç°ä¸­æŒ‡é’ˆä¹±æŒ‡ï¼Œï¼Œï¼Œæ‰å¯¼è‡´æ€»æ˜¯å‡ºç°å„ç§æŠ¥é”™ï¼Œï¼Œï¼Œ</p><a id="more"></a><h1 id="å®ç°">å®ç°</h1><h2 id="é“¾è¡¨èŠ‚ç‚¹">é“¾è¡¨èŠ‚ç‚¹</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> datatype;           <span class="comment">//è‡ªå®šä¹‰èŠ‚ç‚¹æ‰€å‚¨å­˜çš„æ•°æ®ç±»å‹ï¼Œä¾¿äºä¹‹åçš„æ›´æ”¹</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    datatype key;               <span class="comment">//èŠ‚ç‚¹æ‰€å‚¨å­˜çš„æ•°æ®</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">next</span>;</span>          <span class="comment">//å½“å‰èŠ‚ç‚¹æŒ‡å‘ä¸‹ä¸€èŠ‚ç‚¹çš„æŒ‡é’ˆ</span></span><br><span class="line">&#125;Node , *List;                  <span class="comment">//èŠ‚ç‚¹ï¼ŒèŠ‚ç‚¹æŒ‡é’ˆï¼ˆé“¾è¡¨æŒ‡é’ˆï¼‰</span></span><br></pre></td></tr></table></figure><p>èŠ‚ç‚¹ç»“æ„ä½“å†…å¯ä»¥æ ¹æ®éœ€è¦å¢åŠ æ›´å¤šçš„æ•°æ®ï¼Œï¼Œï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥è®¾ç½®ä¸¤ä¸ªèŠ‚ç‚¹æŒ‡é’ˆï¼Œï¼Œåˆ›å»ºåŒå‘é“¾è¡¨ã€‚ã€‚ã€‚</p><h2 id="å»ºç«‹é“¾è¡¨">å»ºç«‹é“¾è¡¨</h2><h3 id="å°¾æ’æ³•å»ºç«‹é“¾è¡¨">å°¾æ’æ³•å»ºç«‹é“¾è¡¨</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">List <span class="title">creat_List</span><span class="params">(<span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//å°¾æ’æ³•å®ç°é“¾è¡¨çš„å»ºç«‹</span></span><br><span class="line">    Node *pre;              <span class="comment">//å‰ä¸€èŠ‚ç‚¹</span></span><br><span class="line">    List L = <span class="literal">NULL</span>;          <span class="comment">//é“¾è¡¨æŒ‡é’ˆ</span></span><br><span class="line">    List head;              <span class="comment">//å¤´èŠ‚ç‚¹</span></span><br><span class="line"></span><br><span class="line">    head = (List)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">    head-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    pre = head;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= len; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        datatype t;</span><br><span class="line">        <span class="comment">//cin &gt;&gt; t;</span></span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;t);</span><br><span class="line">        L = (List)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line"></span><br><span class="line">        L-&gt;key = t;</span><br><span class="line"></span><br><span class="line">        pre-&gt;next = L;</span><br><span class="line">        pre = L;</span><br><span class="line">    &#125;</span><br><span class="line">    L-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> head;</span><br><span class="line">    <span class="comment">//display_list(L);</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å­¦æ ¡å‘çš„ä¹¦ä¸Šçš„æ–¹æ³•ç¼–è¯‘é”™è¯¯ï¼Œï¼Œï¼Œæœ€åæˆ‘é€‰æ‹©äº†è¿™ç§è¿”å›å¤´èŠ‚ç‚¹çš„æŒ‡é’ˆçš„æ–¹æ³•ï¼Œ</p><h3 id="å¤´æ’æ³•å»ºç«‹é“¾è¡¨">å¤´æ’æ³•å»ºç«‹é“¾è¡¨</h3><p>å’Œå°¾æ’æ³•ç›¸ä¼¼ï¼Œï¼Œæ”¹ä¸€ä¸‹æŒ‡é’ˆå°±è¡Œäº†ï¼Œï¼Œï¼Œ</p><h2 id="æ’å…¥ä¸€ä¸ªèŠ‚ç‚¹">æ’å…¥ä¸€ä¸ªèŠ‚ç‚¹</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insert_List</span><span class="params">(List L , <span class="keyword">int</span> i , datatype k)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//åœ¨é“¾è¡¨çš„ç¬¬iä¸ªä½ç½®æ’å…¥æ•°æ®ä¸ºkçš„ç»“ç‚¹</span></span><br><span class="line">    List p , s;                         <span class="comment">//sä¸ºè¦æ’å…¥çš„èŠ‚ç‚¹</span></span><br><span class="line">    p = L;</span><br><span class="line">    <span class="comment">//æ‰¾åˆ°ç¬¬i-1ä¸ªä½ç½®çš„èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">if</span> (i - <span class="number">1</span>)                          <span class="comment">//è‹¥è¦åœ¨ä¸æ˜¯ç¬¬ä¸€ä¸ªä½ç½®å¤„æ’å…¥ï¼Œéå†åˆ°ç¬¬i-1èŠ‚ç‚¹å¤„</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= i - <span class="number">1</span>; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            p = p-&gt;next;</span><br><span class="line">            <span class="keyword">if</span> (p == <span class="literal">NULL</span>)</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    s = (Node *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));   <span class="comment">//ä¸ºæ–°èŠ‚ç‚¹ç”³è¯·ç©ºé—´</span></span><br><span class="line">    s-&gt;key = k;                         <span class="comment">//èµ‹å€¼</span></span><br><span class="line">    s-&gt;next = p-&gt;next;                  <span class="comment">//æŒ‡å‘ä¸‹ä¸€èŠ‚ç‚¹ï¼ŒåŠæ’å…¥é“¾è¡¨</span></span><br><span class="line">    p-&gt;next = s;                        <span class="comment">//ä¸Šä¸€èŠ‚ç‚¹æŒ‡å‘æ–°å»ºçš„èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åˆ é™¤ä¸€ä¸ªèŠ‚ç‚¹">åˆ é™¤ä¸€ä¸ªèŠ‚ç‚¹</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">delete_List</span><span class="params">(List L , <span class="keyword">int</span> i <span class="comment">/*datatype &amp;x*/</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//åˆ é™¤é“¾è¡¨ä¸­çš„ç¬¬iä¸ªèŠ‚ç‚¹</span></span><br><span class="line">    List pre , cur;                     <span class="comment">//preä¸ºå‰ä¸€èŠ‚ç‚¹,curä¸ºè¦åˆ é™¤çš„èŠ‚ç‚¹</span></span><br><span class="line">    pre = L;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= i - <span class="number">1</span>; j++)    <span class="comment">//éå†åˆ°ç¬¬i-1ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">    &#123;</span><br><span class="line">        pre = pre-&gt;next;</span><br><span class="line">        <span class="keyword">if</span> (pre == <span class="literal">NULL</span>)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (pre-&gt;next == <span class="literal">NULL</span>)              <span class="comment">//è‹¥æ­¤æ—¶ä¸ºå°¾èŠ‚ç‚¹ï¼Œåˆ™æ— æ³•åˆ é™¤ç¬¬iä¸ªèŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        cur = pre-&gt;next;</span><br><span class="line">        pre-&gt;next = cur-&gt;next;</span><br><span class="line">        <span class="built_in">free</span>(cur);                      <span class="comment">//åˆ é™¤èŠ‚ç‚¹å¹¶é‡Šæ”¾ç©ºé—´</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ˜¾ç¤ºé“¾è¡¨ä¸­çš„æ•°æ®">æ˜¾ç¤ºé“¾è¡¨ä¸­çš„æ•°æ®</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">display_list</span><span class="params">(List L)</span>       <span class="comment">//è¾“å‡ºé“¾è¡¨æ‰€å‚¨å­˜çš„æ‰€æœ‰æ•°æ®</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    List p = L;                 <span class="comment">//å®šä¹‰é“¾è¡¨çš„æŒ‡é’ˆï¼Œç”¨äºéå†è¯¥é“¾è¡¨</span></span><br><span class="line">    <span class="keyword">if</span> (p-&gt;next)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//cout &lt;&lt; p-&gt;key;</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d"</span> , p-&gt;next-&gt;key);</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (p-&gt;next)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//cout &lt;&lt; " " &lt;&lt; p-&gt;key;</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">" %d"</span> , p-&gt;next-&gt;key);</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//cout &lt;&lt; endl;</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="å®ä¾‹">å®ä¾‹</h1><h2 id="description">Description</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">å‡è®¾åˆ©ç”¨ä¸¤ä¸ªçº¿æ€§è¡¨LAå’ŒLBåˆ†åˆ«è¡¨ç¤ºä¸¤ä¸ªé›†åˆAå’ŒBï¼ˆå³ï¼šçº¿æ€§è¡¨ä¸­çš„æ•°æ®å…ƒç´ å³ä¸ºé›†åˆä¸­çš„æˆå‘˜ï¼‰ï¼Œ</span><br><span class="line">ç°è¦æ±‚ä¸€ä¸ªæ–°çš„é›†åˆA=AâˆªBã€‚è¿™å°±è¦æ±‚å¯¹çº¿æ€§è¡¨åšå¦‚ä¸‹æ“ä½œï¼šæ‰©å¤§çº¿æ€§è¡¨LAï¼Œ</span><br><span class="line">å°†å­˜åœ¨äºçº¿æ€§è¡¨LBä¸­è€Œä¸å­˜åœ¨äºçº¿æ€§è¡¨LAä¸­çš„æ•°æ®å…ƒç´ æ’å…¥åˆ°çº¿æ€§è¡¨LAä¸­å»ã€‚</span><br><span class="line">åªè¦ä»çº¿æ€§è¡¨LBä¸­ä¾æ¬¡å–å¾—æ¯ä¸ªå…ƒç´ ï¼Œå¹¶ä¾å€¼åœ¨çº¿æ€§è¡¨LAä¸­è¿›è¡ŒæŸ¥è®¿ï¼Œ</span><br><span class="line">è‹¥ä¸å­˜åœ¨ï¼Œåˆ™æ’å…¥ä¹‹ã€‚ä¸Šè¿°æ“ä½œè¿‡ç¨‹å¯ç”¨ä¸‹åˆ—ç®—æ³•æè¿°ä¹‹ã€‚</span><br><span class="line"></span><br><span class="line">å›¾ï¼šå°†ä¸¤ä¸ªåˆ—è¡¨åˆå¹¶çš„ç®—æ³•ï¼ˆC/C++æè¿°ï¼‰</span><br><span class="line">ä¸Šå›¾ç®—æ³•ä¸­ï¼Œåœ¨ç¬¬8è¡Œå–å¾—é›†åˆBä¸­çš„å…ƒç´ ï¼Œç„¶åå†åœ¨ç¬¬10è¡Œæ’å…¥åˆ°é›†åˆAä¸­ã€‚</span><br><span class="line">ä½ çš„ä»»åŠ¡æ˜¯å…ˆè¾“å‡ºé›†åˆAå’Œé›†åˆBä¸­çš„å…ƒç´ ï¼Œæ¯ä¸ªé›†åˆåœ¨ä¸€è¡Œä¸­è¾“å‡ºã€‚</span><br><span class="line">ç„¶åæ¯æ¬¡åœ¨å°†é›†åˆBä¸­çš„å…ƒç´ å–å‡ºæ’å…¥åˆ°é›†åˆAå°¾éƒ¨åè¾“å‡ºé›†åˆAä¸­çš„å…ƒç´ ã€‚</span><br><span class="line">å½“ç„¶ä½ çš„ä»£ç å¯ä»¥å’Œä¸Šé¢çš„ä»£ç ä¸ä¸€æ ·ï¼Œåªè¦æœ‰ç›¸åŒçš„è¾“å‡ºå³å¯ã€‚</span><br></pre></td></tr></table></figure><h2 id="input">Input</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">æœ‰å¤šç»„æµ‹è¯•æ•°æ®ï¼Œæ¯ç»„æµ‹è¯•æ•°æ®å ä¸¤è¡Œã€‚ç¬¬ä¸€è¡Œæ˜¯é›†åˆAï¼Œ</span><br><span class="line">ç¬¬ä¸€ä¸ªæ•´æ•°mï¼ˆ0&lt; m &lt; = 100ï¼‰ä»£è¡¨é›†åˆAèµ·å§‹æœ‰mä¸ªå…ƒç´ ï¼Œåé¢æœ‰mä¸ªæ•´æ•°ï¼Œä»£è¡¨Aä¸­çš„å…ƒç´ ã€‚</span><br><span class="line">ç¬¬äºŒè¡Œæ˜¯é›†åˆBï¼Œç¬¬ä¸€ä¸ªæ•´æ•°n(0 &lt; n &lt; = 100)ä»£è¡¨é›†åˆBèµ·å§‹æœ‰nä¸ªå…ƒç´ ï¼Œ</span><br><span class="line">åé¢æœ‰nä¸ªæ•´æ•°ï¼Œä»£è¡¨Bä¸­çš„å…ƒç´ ã€‚æ¯è¡Œä¸­æ•´æ•°ä¹‹é—´ç”¨ä¸€ä¸ªç©ºæ ¼éš”å¼€ã€‚</span><br></pre></td></tr></table></figure><h2 id="output">Output</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">æ¯ç»„æµ‹è¯•æ•°æ®è¾“å‡ºn+2è¡Œï¼šå‰ä¸¤è¡Œåˆ†åˆ«è¾“å‡ºé›†åˆAã€é›†åˆBä¸­çš„æ•°æ®ï¼Œ</span><br><span class="line">åé¢nè¡Œæ˜¯æ¯æ¬¡ä»Bä¸­å–å‡ºå…ƒç´ æ’å…¥åˆ°Aå°¾éƒ¨åçš„é›†åˆAã€‚</span><br><span class="line">æ¯è¡Œæ•´æ•°ä¹‹é—´ç”¨ä¸€ä¸ªç©ºæ ¼éš”å¼€ï¼Œæ¯ç»„æµ‹è¯•æ•°æ®ä¹‹é—´ç”¨ä¸€è¡Œç©ºè¡Œéš”å¼€ã€‚</span><br></pre></td></tr></table></figure><h2 id="io">IO</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">Sample Input</span><br><span class="line"></span><br><span class="line">5 1 5 2 6 3</span><br><span class="line">3 1 7 9</span><br><span class="line">1 3</span><br><span class="line">2 2 7</span><br><span class="line">4 2 5 1 4</span><br><span class="line">4 1 2 4 5</span><br><span class="line"></span><br><span class="line">Sample Output</span><br><span class="line"></span><br><span class="line">1 5 2 6 3</span><br><span class="line">1 7 9</span><br><span class="line">1 5 2 6 3</span><br><span class="line">1 5 2 6 3 7</span><br><span class="line">1 5 2 6 3 7 9</span><br><span class="line"></span><br><span class="line">3</span><br><span class="line">2 7</span><br><span class="line">3 2</span><br><span class="line">3 2 7</span><br><span class="line"></span><br><span class="line">2 5 1 4</span><br><span class="line">1 2 4 5</span><br><span class="line">2 5 1 4</span><br><span class="line">2 5 1 4</span><br><span class="line">2 5 1 4</span><br><span class="line">2 5 1 4</span><br></pre></td></tr></table></figure><p>æˆ‘çš„ä»£ç :</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;malloc.h&gt;</span></span></span><br><span class="line"><span class="comment">//const int maxn = 105;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> datatype;           <span class="comment">//è‡ªå®šä¹‰èŠ‚ç‚¹æ‰€å‚¨å­˜çš„æ•°æ®ç±»å‹ï¼Œä¾¿äºä¹‹åçš„æ›´æ”¹</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    datatype key;               <span class="comment">//èŠ‚ç‚¹æ‰€å‚¨å­˜çš„æ•°æ®</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Node</span> *<span class="title">next</span>;</span>          <span class="comment">//å½“å‰èŠ‚ç‚¹æŒ‡å‘ä¸‹ä¸€èŠ‚ç‚¹çš„æŒ‡é’ˆ</span></span><br><span class="line">    <span class="comment">//Node(datatype x):key(x) , next(NULL)&#123;&#125;</span></span><br><span class="line">&#125;Node , *List;                  <span class="comment">//èŠ‚ç‚¹ï¼ŒèŠ‚ç‚¹æŒ‡é’ˆï¼ˆé“¾è¡¨æŒ‡é’ˆï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">display_list</span><span class="params">(List L)</span>       <span class="comment">//è¾“å‡ºé“¾è¡¨æ‰€å‚¨å­˜çš„æ‰€æœ‰æ•°æ®</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    List p = L;                 <span class="comment">//å®šä¹‰é“¾è¡¨çš„æŒ‡é’ˆï¼Œç”¨äºéå†è¯¥é“¾è¡¨</span></span><br><span class="line">    <span class="keyword">if</span> (p-&gt;next)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//cout &lt;&lt; p-&gt;key;</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d"</span> , p-&gt;next-&gt;key);</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (p-&gt;next)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//cout &lt;&lt; " " &lt;&lt; p-&gt;key;</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">" %d"</span> , p-&gt;next-&gt;key);</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//cout &lt;&lt; endl;</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">search_List</span><span class="params">(List L , datatype k)</span>    <span class="comment">//æœç´¢å€¼ä¸ºkçš„èŠ‚ç‚¹åœ¨é“¾è¡¨ä¸­çš„ä½ç½®ï¼Œè¿”å›æ‰€åœ¨çš„ä½ç½®loc</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//æŸ¥æ‰¾é“¾è¡¨ä¸­å€¼ä¸ºkçš„èŠ‚ç‚¹çš„ä½ç½®</span></span><br><span class="line">    List p = L-&gt;next;</span><br><span class="line">    <span class="keyword">int</span> loc = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (p != <span class="literal">NULL</span> &amp;&amp; p-&gt;key != k)</span><br><span class="line">    &#123;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">        loc++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (p != <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> loc;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;                       <span class="comment">//æ²¡æœ‰æ‰¾åˆ°è¿”å›å€¼0</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insert_List</span><span class="params">(List L , <span class="keyword">int</span> i , datatype k)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//åœ¨é“¾è¡¨çš„ç¬¬iä¸ªä½ç½®æ’å…¥æ•°æ®ä¸ºkçš„ç»“ç‚¹</span></span><br><span class="line">    List p , s;                         <span class="comment">//sä¸ºè¦æ’å…¥çš„èŠ‚ç‚¹</span></span><br><span class="line">    p = L;</span><br><span class="line">    <span class="comment">//æ‰¾åˆ°ç¬¬i-1ä¸ªä½ç½®çš„èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">if</span> (i - <span class="number">1</span>)                          <span class="comment">//è‹¥è¦åœ¨ä¸æ˜¯ç¬¬ä¸€ä¸ªä½ç½®å¤„æ’å…¥ï¼Œéå†åˆ°ç¬¬i-1èŠ‚ç‚¹å¤„</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= i - <span class="number">1</span>; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            p = p-&gt;next;</span><br><span class="line">            <span class="keyword">if</span> (p == <span class="literal">NULL</span>)</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    s = (Node *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));   <span class="comment">//ä¸ºæ–°èŠ‚ç‚¹ç”³è¯·ç©ºé—´</span></span><br><span class="line">    s-&gt;key = k;                         <span class="comment">//èµ‹å€¼</span></span><br><span class="line">    s-&gt;next = p-&gt;next;                  <span class="comment">//æŒ‡å‘ä¸‹ä¸€èŠ‚ç‚¹ï¼ŒåŠæ’å…¥é“¾è¡¨</span></span><br><span class="line">    p-&gt;next = s;                        <span class="comment">//ä¸Šä¸€èŠ‚ç‚¹æŒ‡å‘æ–°å»ºçš„èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">delete_List</span><span class="params">(List L , <span class="keyword">int</span> i <span class="comment">/*datatype &amp;x*/</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//åˆ é™¤é“¾è¡¨ä¸­çš„ç¬¬iä¸ªèŠ‚ç‚¹</span></span><br><span class="line">    List pre , cur;                     <span class="comment">//preä¸ºå‰ä¸€èŠ‚ç‚¹,curä¸ºè¦åˆ é™¤çš„èŠ‚ç‚¹</span></span><br><span class="line">    pre = L;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= i - <span class="number">1</span>; j++)    <span class="comment">//éå†åˆ°ç¬¬i-1ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">    &#123;</span><br><span class="line">        pre = pre-&gt;next;</span><br><span class="line">        <span class="keyword">if</span> (pre == <span class="literal">NULL</span>)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (pre-&gt;next == <span class="literal">NULL</span>)              <span class="comment">//è‹¥æ­¤æ—¶ä¸ºå°¾èŠ‚ç‚¹ï¼Œåˆ™æ— æ³•åˆ é™¤ç¬¬iä¸ªèŠ‚ç‚¹</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        cur = pre-&gt;next;</span><br><span class="line">        pre-&gt;next = cur-&gt;next;</span><br><span class="line">        <span class="built_in">free</span>(cur);                      <span class="comment">//åˆ é™¤èŠ‚ç‚¹å¹¶é‡Šæ”¾ç©ºé—´</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">List <span class="title">creat_List</span><span class="params">(<span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//å°¾æ’æ³•å®ç°é“¾è¡¨çš„å»ºç«‹</span></span><br><span class="line">    Node *pre;              <span class="comment">//å‰ä¸€èŠ‚ç‚¹</span></span><br><span class="line">    List L = <span class="literal">NULL</span>;          <span class="comment">//é“¾è¡¨æŒ‡é’ˆ</span></span><br><span class="line">    List head;              <span class="comment">//å¤´èŠ‚ç‚¹</span></span><br><span class="line"></span><br><span class="line">    head = (List)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">    head-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    pre = head;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= len; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        datatype t;</span><br><span class="line">        <span class="comment">//cin &gt;&gt; t;</span></span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;t);</span><br><span class="line">        L = (List)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line"></span><br><span class="line">        L-&gt;key = t;</span><br><span class="line"></span><br><span class="line">        pre-&gt;next = L;</span><br><span class="line">        pre = L;</span><br><span class="line">    &#125;</span><br><span class="line">    L-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> head;</span><br><span class="line">    <span class="comment">//display_list(L);</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> m , n;</span><br><span class="line">    List LA;</span><br><span class="line">    List LB;</span><br><span class="line">    <span class="keyword">int</span> flag = <span class="number">1</span>;</span><br><span class="line"><span class="comment">//    freopen("233.txt" , "r" , stdin);</span></span><br><span class="line"><span class="comment">//    freopen("emmm.txt" , "w" , stdout);</span></span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;m) != EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (flag)</span><br><span class="line">            flag = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"><span class="comment">//            cout &lt;&lt; endl;</span></span><br><span class="line"></span><br><span class="line">        LA = creat_List(m);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;n);</span><br><span class="line">        LB = creat_List(n);</span><br><span class="line"></span><br><span class="line">        display_list(LA);</span><br><span class="line">        display_list(LB);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            datatype t = LB-&gt;next-&gt;key;</span><br><span class="line">            <span class="keyword">int</span> p = search_List(LA , t);</span><br><span class="line"><span class="comment">//            printf("lb---%d\n" , t);</span></span><br><span class="line"><span class="comment">//            printf("p---%d\n" , p);</span></span><br><span class="line">            <span class="keyword">if</span> (!p)</span><br><span class="line">            &#123;</span><br><span class="line"></span><br><span class="line">                m++;</span><br><span class="line">                insert_List(LA , m , t);</span><br><span class="line">                delete_List(LB , <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                delete_List(LB , <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            display_list(LA);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> æ•°æ®ç»“æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°æ®ç»“æ„ </tag>
            
            <tag> é“¾è¡¨ </tag>
            
            <tag> c/c++ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>chrome PC è‡ªå®šä¹‰å­—ä½“ä½œæ­»æ”¹å˜ä¹‹åçš„æ¢å¤æ–¹æ³•</title>
      <link href="/2018/09/06/chrome-PC-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AD%97%E4%BD%93%E4%BD%9C%E6%AD%BB%E6%94%B9%E5%8F%98%E4%B9%8B%E5%90%8E%E7%9A%84%E6%81%A2%E5%A4%8D%E6%96%B9%E6%B3%95/"/>
      <content type="html"><![CDATA[<p>2018.9.6</p><p>ä»Šå¤©ä¸€ä¸å°å¿ƒæŠŠchromeçš„è‡ªå®šä¹‰å­—ä½“æ”¹å˜äº†ï¼Œï¼Œï¼Œ</p><p>ç„¶åå‘ç°åŸæ¥çš„è‡ªå®šä¹‰è®¾ç½®æ²¡äº†ï¼ï¼ï¼ï¼æ²¡äº†ï¼Œï¼Œï¼Œ</p><p><img src="https://i.imgur.com/4quDbHM.png"></p><a id="more"></a><p>ä¸€è„¸æ‡µé€¼ï¼Œï¼Œï¼Œå„ç§ç™¾åº¦è°·æ­Œï¼Œï¼Œå‘ç°æ²¡æœ‰ä¸€ä¸ªæœ‰ç”¨ï¼Œï¼Œï¼Œ</p><p>è€Œä¸”é‡è£…çš„è¯è¿˜è¦æŠŠæ‰€æœ‰çš„æ’ä»¶æ¸…æ‰ï¼Œï¼Œï¼Œ</p><p>åŠå…¶æ‡’å¾—æˆ‘é€‰æ‹©æ”¾å¼ƒè¿™ç§æ–¹æ³•ï¼Œï¼Œï¼Œï¼Œ</p><p>ç„¶åæˆ‘è¯•ç€æŠŠchromeé»˜è®¤æ•°æ®çš„é…ç½®æ–‡ä»¶åˆ æ‰ï¼Œï¼Œï¼Œ</p><p>å‘ç°è¿˜æ˜¯æ²¡æœ‰ç”¨ï¼Œï¼Œï¼Œå½“æŠŠå¦ä¸€ä¸ªSecure Preferencesæ–‡ä»¶åˆ æ‰ï¼Œï¼Œï¼Œ</p><p><img src="https://i.imgur.com/LOzRCHG.png"></p><p>å†æ‰“å¼€chromeå°±æ˜¯ç¬¬ä¸€æ¬¡ç”¨çš„æ—¶å€™é‚£æ ·äº†ï¼Œï¼Œï¼Œ</p><p>è‡ªå®šä¹‰å­—ä½“ä¹Ÿæ˜¯é»˜è®¤çš„ï¼Œï¼Œï¼Œå˜¿å˜¿å˜¿ï¼Œï¼Œï¼Œ</p>]]></content>
      
      <categories>
          
          <category> chromeå¤§æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> chrome </tag>
            
            <tag> æŠ¥é”™è§£å†³æ–¹æ³• </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>å­—ç¬¦ä¸²hashä¸å­—å…¸æ ‘</title>
      <link href="/2018/08/01/%E5%AD%97%E7%AC%A6%E4%B8%B2hash%E4%B8%8E%E5%AD%97%E5%85%B8%E6%A0%91/"/>
      <content type="html"><![CDATA[<h2 id="æ¦‚è¿°">æ¦‚è¿°</h2><p>è¿™ç¯‡ä¸»è¦æ˜¯å…³äºå­—ç¬¦ä¸²é‡Œçš„ <strong>å­—ç¬¦ä¸²hash</strong> å’Œ <strong>å­—ç¬¦ä¸²å­—å…¸æ ‘</strong>ï¼Œï¼Œä¸¤ä¸ªéƒ½æ˜¯ç®€å•çš„å¥—æ¨¡æ¿çš„ä¸œè¥¿ï¼Œï¼Œï¼Œç†è§£åŸºæœ¬æ€æƒ³å°±è¡Œäº†ï¼Œï¼Œï¼Œå¯¹äº†ï¼Œï¼Œè¿˜æœ‰ä¸€ä¸ªå­—å…¸æ ‘çš„çš„å˜å½¢--<strong>01å­—å…¸æ ‘</strong>ï¼›</p><a id="more"></a><h2 id="å­—ç¬¦ä¸²hash">å­—ç¬¦ä¸²hash</h2><h3 id="å¦‚ä½•æ±‚ä¸€ä¸ªå­—ç¬¦ä¸²çš„hashå€¼">å¦‚ä½•æ±‚ä¸€ä¸ªå­—ç¬¦ä¸²çš„hashå€¼</h3><p>å­—ç¬¦ä¸²hashçš„ä½œç”¨å°±æ˜¯å°† <em>å­—ç¬¦ä¸²æœ‰æ•ˆçš„è½¬åŒ–ä¸ºä¸€ä¸ªæ•´æ•°</em> ï¼Œï¼Œè¿™ä¸ªè½¬åŒ–è¿‡ç¨‹åˆ©ç”¨çš„æ˜¯ä¸€ä¸ª <strong>hashå‡½æ•°</strong></p><p>ä¾‹å¦‚ï¼Œï¼Œæˆ‘ä»¬é€‰hashå‡½æ•°ä¸º <span class="math inline">\(hash[i]=(hash[i-1]*p+idx(s[i]))%mod\)</span> å…¶ä¸­çš„idx(s)ä¸ºsçš„ä¸€ä¸ªè‡ªå®šä¹‰ç´¢å¼•ï¼Œï¼Œï¼Œä¾‹å¦‚a = 1 , b = 2.....</p><p>è¿™æ—¶ï¼Œï¼Œå– p=13,mod=101,æŠŠabcæ˜ å°„æˆä¸€ä¸ªæ•´æ•° hash[0]=1ï¼Œè¡¨ç¤º a æ˜ å°„ä¸º1 hash[1]=(hash[0]<em>p+idx(b))%mod=15ï¼Œè¡¨ç¤º ab æ˜ å°„ä¸º 15 hash[2]=(hash[1]</em>p+idx(c))%mod=97</p><p>æ‰€ä»¥abcå°±è¢«æ˜ å°„æˆ97ã€‚</p><p>åŒæ ·å¯¹äºå…¶ä»–çš„å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥ç”±æ­¤ç®—å‡ºä¸€ä¸ªhashå€¼ï¼Œï¼Œï¼Œ</p><p>å½“ç„¶è¿™é‡Œçš„p , MODè¦é€‰å–åˆé€‚ï¼Œï¼Œï¼Œå¦åˆ™å¯èƒ½ä¼šå‡ºç°ä¸åŒå­—ç¬¦ä¸²æœ‰ç›¸åŒçš„hashå€¼ï¼Œï¼Œï¼Œ</p><p>ä¸€èˆ¬æ¥è¯´ï¼Œï¼Œï¼Œpå’Œmodä¸€èˆ¬å–ç´ æ•°ï¼Œpå–ä¸€ä¸ªè¾ƒå¤§çš„ç´ æ•°å³å¯ï¼ˆ6ä½åˆ°8ä½ï¼‰ï¼Œmodå–ä¸€ä¸ªå¤§ç´ æ•°ï¼Œæ¯”å¦‚1e9+7ï¼Œæˆ–è€…1e9+9....</p><p>ä¸€èˆ¬çš„æ¨¡æ¿ï¼Œï¼Œï¼Œ</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> p = <span class="number">1e9</span> + <span class="number">13</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> <span class="title">hashStr</span><span class="params">(<span class="keyword">char</span> *s)</span></span>&#123;</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> h=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;len;i++)&#123;</span><br><span class="line">        <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> value;</span><br><span class="line">        <span class="keyword">char</span> c=s[i];</span><br><span class="line">        <span class="keyword">if</span>(c&gt;=<span class="string">'0'</span>&amp;&amp;c&lt;=<span class="string">'9'</span>)  value=c-<span class="string">'0'</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(c&gt;=<span class="string">'a'</span>&amp;&amp;c&lt;=<span class="string">'z'</span>) value=c-<span class="string">'a'</span>+<span class="number">10</span>;</span><br><span class="line">        <span class="keyword">else</span>    value=c-<span class="string">'A'</span>+<span class="number">36</span>;</span><br><span class="line">        h=(h*p+value)%mod;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> h;</span><br></pre></td></tr></table></figure><h3 id="å¦‚ä½•æ±‚ä¸€ä¸ªå­—ç¬¦ä¸²ä»»æ„å­ä¸²çš„hashå€¼">å¦‚ä½•æ±‚ä¸€ä¸ªå­—ç¬¦ä¸²ä»»æ„å­ä¸²çš„hashå€¼</h3><p>æœ€å®¹æ˜“æƒ³åˆ°çš„æ–¹æ³•å°±æ˜¯ä¸ç®¡åŸæ¥çš„å­—ç¬¦ä¸²ï¼Œï¼Œï¼Œ å•ç‹¬å¯¹äºå­ä¸²ä» l åˆ° r ç›´æ¥ç”¨åˆšåˆšæ±‚hashçš„æ–¹æ³•æ±‚å°±è¡Œäº†ï¼Œï¼Œï¼Œ ä½†æ˜¯å½“æ•°æ®é‡å¤§æ—¶ï¼Œï¼Œï¼Œæ—¶é—´å¤æ‚åº¦å°±å¾ˆé«˜äº†ï¼Œï¼Œï¼Œï¼Œ</p><p>ä¸Šé¢çš„é‚£ä¸ªå…¬å¼ä¸­hash[i]æ±‚å¾—æ—¶å­—ç¬¦ä¸²ç¬¬iä¸ªå‰ç¼€çš„hashå€¼ï¼Œï¼Œï¼Œï¼Œç›¸å½“äºæ˜¯ä¸€ä¸ªhashçš„å‰ç¼€å’Œï¼Œï¼Œï¼Œï¼Œ</p><p>è¦æ±‚çš„å­ä¸² <span class="math inline">\(hash[l..r] == (hash[r] - hash[l - 1] * p^{r - l + 1}) \% MOD\)</span></p><p>**å¯¹äº†ï¼Œï¼Œï¼Œè¿™æ ·ç›´æ¥æ±‚å¯èƒ½æœ‰è´Ÿæ•°ï¼Œï¼Œï¼Œè¦åˆ¤æ–­+=modä¸€ä¸‹ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ ### å‡ ä¸ªå¸¸ç”¨çš„æ±‚å­—ç¬¦ä¸²hashç®—æ³•</p><p><a href="http://www.cnblogs.com/jiu0821/p/4554352.html" target="_blank" rel="noopener">æœ‰äº›å€Ÿé‰´ï¼Œï¼Œï¼Œ</a></p><ul><li><p><span class="math inline">\(hash[i] = (hash[i - 1] * p + idx(s[i])) \% MOD\)</span> å¸¸ç”¨ï¼Œï¼Œï¼Œ</p></li><li>unsigned long long hash[N];hash[i] = hash[i - 1] * p;è¿™ä¸ªè‡ªåŠ¨å–æ¨¡ï¼Œï¼Œï¼Œå½“æ•°è¶…è¿‡ <span class="math inline">\(2^{64}-1\)</span>æ—¶å°±ä¼šæº¢å‡ºï¼Œï¼Œï¼Œç›¸å½“äºå–æ¨¡ <span class="math inline">\(2^{64}\)</span>çš„è¿‡ç¨‹ï¼Œï¼Œï¼Œ</li><li><p>åŒhashï¼Œï¼Œï¼Œæœ‰äº›æƒ…å†µä¸‹ä¸€ä¸ªhashå¯èƒ½ä¼šå‡ºç°å†²çªï¼Œï¼Œï¼Œé‚£å°±æ¢ä¸¤ä¸ªï¼Œï¼Œï¼Œä¸¤ä¸ªä¸è¡Œå°±æ¢ä¸‰ä¸ªï¼Œï¼Œï¼Œï¼Œä»€ä¹ˆï¼Ÿï¼ä¸‰ä¸ªè¿˜ä¸è¡Œï¼Ÿï¼Ÿï¼Ÿï¼ï¼ï¼é‚£å°±å››ä¸ªæˆ–åˆ™æ¢ç®—æ³•ï¼Œï¼Œï¼Œé€ƒï¼Œï¼Œï¼Œå®ç°ï¼šå–ä¸¤ä¸ªmodï¼Œï¼Œä¸€èˆ¬å–1e9+7å’Œ1e9+9ä¸¤ä¸ªå­ªç”Ÿç´ æ•°ï¼Œï¼Œï¼Œå†²çªæ¦‚ç‡å·²ç»å¾ˆä½äº†ï¼Œï¼Œï¼Œï¼Œï¼Œ</p></li></ul><h2 id="å­—å…¸æ ‘">å­—å…¸æ ‘</h2><p>ç®€å•æ¥è¯´å°±æ˜¯æŠŠnä¸ªå­—ç¬¦ä¸²ç”¨æ ‘ä¿å­˜ï¼Œï¼Œï¼Œè¿™æ ·æŸ¥è¯¢çš„æ—¶å€™ä¸€å±‚ä¸€å±‚çš„æ‰¾ï¼Œï¼Œï¼Œï¼Œ</p><h3 id="æ„å»ºèŠ‚ç‚¹">æ„å»ºèŠ‚ç‚¹</h3><p>ä¸€èˆ¬çš„å­—å…¸æ ‘çš„ç»“æ„ä½“å®šä¹‰å¦‚ä¸‹:</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">26</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Trie</span>   </span></span><br><span class="line"><span class="class">&#123;</span>   </span><br><span class="line">    Trie *next[maxn];   </span><br><span class="line">    <span class="keyword">int</span> v;   <span class="comment">//æ ¹æ®éœ€è¦å˜åŒ–</span></span><br><span class="line">&#125;;   </span><br><span class="line"> </span><br><span class="line">Trie *root;</span><br></pre></td></tr></table></figure><h3 id="æ’å…¥">æ’å…¥</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Insert</span><span class="params">(<span class="keyword">char</span> *str)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len = <span class="built_in">strlen</span>(str);</span><br><span class="line">    trie *p = root;</span><br><span class="line">    <span class="comment">//insert</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> t = str[i] - <span class="string">'a'</span>;</span><br><span class="line">        <span class="comment">//NULL</span></span><br><span class="line">        <span class="keyword">if</span> (p-&gt;next[t] == <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            p-&gt;next[t] = <span class="keyword">new</span> trie();</span><br><span class="line">            p = p-&gt;next[t];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            p = p-&gt;next[t];</span><br><span class="line">            p-&gt;sum ++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æŸ¥è¯¢">æŸ¥è¯¢</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">char</span> *str)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len = <span class="built_in">strlen</span>(str);</span><br><span class="line">    trie *p = root;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> t = str[i] - <span class="string">'a'</span>;</span><br><span class="line">        p = p-&gt;next[t];</span><br><span class="line">        <span class="comment">//NULL</span></span><br><span class="line">        <span class="keyword">if</span> (p == <span class="literal">NULL</span>)  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> p-&gt;sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é‡Šæ”¾å†…å­˜">é‡Šæ”¾å†…å­˜</h3><p>ä¸ç„¶å¯èƒ½æœ‰çš„é¢˜mle,,,,,</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">free</span><span class="params">(trie *t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (t == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; maxn; i++)</span><br><span class="line">        <span class="keyword">if</span> (t-&gt;next[i]) <span class="built_in">free</span>(t-&gt;next[i]);</span><br><span class="line">    <span class="keyword">delete</span> (t);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è™½ç„¶æ˜¯æ¨¡æ¿åŒ–çš„ä¸œè¥¿ä½†æ˜¯ä¹Ÿè¦ä¸æ­»å¥—æ¨¡æ¿ï¼Œï¼Œï¼Œï¼Œï¼ŒQAQ</p><h2 id="ä¹ é¢˜">ä¹ é¢˜</h2><p>å‰ä¸‰é“éƒ½æ˜¯æ¨¡æ¿é¢˜ï¼Œï¼Œä¸Šåˆè®²è¿‡ï¼Œï¼Œï¼Œæœ€åä¸€é¢˜æ˜¯01å­—å…¸æ ‘é—®é¢˜ï¼Œï¼Œï¼Œä»¥åè¦å†çœ‹ä¸€ä¸‹ï¼Œï¼Œï¼Œçœ‹åˆ°ä¸åŒçš„å¥½å‡ ç§å®ç°æ–¹æ³•ï¼Œï¼Œï¼Œæ²¡æœ‰æ¥çš„åŠæ€»ç»“ä¸€ä¸‹ï¼Œï¼Œï¼Œï¼Œ ### Problem A: A Time Limit: 1 Sec Memory Limit: 128 MB</p><blockquote><p>Description</p></blockquote><blockquote><p>ç»™å®šNä¸ªå­—ç¬¦ä¸²ï¼ˆç¬¬iä¸ªå­—ç¬¦ä¸²é•¿åº¦ä¸ºMiï¼Œå­—ç¬¦ä¸²å†…åŒ…å«æ•°å­—ã€å¤§å°å†™å­—æ¯ï¼Œå¤§å°å†™æ•æ„Ÿï¼‰ï¼Œè¯·æ±‚å‡ºNä¸ªå­—ç¬¦ä¸²ä¸­å…±æœ‰å¤šå°‘ä¸ªä¸åŒçš„å­—ç¬¦ä¸²ã€‚</p></blockquote><blockquote><p>Input</p></blockquote><blockquote><p>è¾“å…¥ï¼Œç¬¬ä¸€è¡Œä¸€ä¸ªN æ¥ä¸‹æ¥Nè¡Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªå­—ç¬¦ä¸²</p></blockquote><blockquote><p>Output</p></blockquote><blockquote><p>è¾“å‡ºä¸åŒå­—ç¬¦ä¸²çš„ä¸ªæ•°</p></blockquote><blockquote><p>Sample Input 5 abc aaaa abc abcc 12345</p></blockquote><blockquote><p>Sample Output 4 æˆ‘çš„ä»£ç ï¼š</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//#include &lt;iostream&gt;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">const</span> ull p = <span class="number">1e9</span> + <span class="number">13</span>;</span><br><span class="line"><span class="keyword">const</span> ull mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e6</span>;</span><br><span class="line">ull a[maxn];</span><br><span class="line"><span class="function">ull <span class="title">hashstr</span><span class="params">(<span class="keyword">char</span> *s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ull h = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="built_in">strlen</span>(s); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        ull idx;</span><br><span class="line">        <span class="keyword">if</span> (s[i] &gt;= <span class="string">'0'</span> &amp;&amp; s[i] &lt;= <span class="string">'9'</span>)         idx = s[i] - <span class="string">'0'</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (s[i] &gt;= <span class="string">'a'</span> &amp;&amp; s[i] &lt;= <span class="string">'z'</span>)    idx = s[i] - <span class="string">'a'</span> + <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (s[i] &gt;= <span class="string">'A'</span> &amp;&amp; s[i] &lt;= <span class="string">'Z'</span>)    idx = s[i] - <span class="string">'A'</span> + <span class="number">36</span>;</span><br><span class="line">        h = (h * p + idx) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> h;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;<span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;n);</span><br><span class="line">    <span class="keyword">char</span> t[maxn];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//gets(t);</span></span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s"</span> , &amp;t);</span><br><span class="line">        a[i] = hashstr(t);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    sort(a + <span class="number">1</span> , a + <span class="number">1</span> + n);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> cur = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        <span class="keyword">if</span> (a[i] != cur)</span><br><span class="line">        &#123;</span><br><span class="line">            cur = a[i];</span><br><span class="line">            ans++;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å­¦é•¿çš„ï¼Œï¼Œï¼Œ</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line">ull base=<span class="number">131</span>;</span><br><span class="line">ull a[<span class="number">10010</span>];</span><br><span class="line"><span class="keyword">char</span> s[<span class="number">1010</span>];</span><br><span class="line"><span class="function">ull <span class="title">Hash</span><span class="params">(<span class="keyword">char</span> *s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len=<span class="built_in">strlen</span>(s);</span><br><span class="line">    ull ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;len;i++)</span><br><span class="line">        ans=ans*base+(ull)s[i];</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">/*srand(NULL);</span></span><br><span class="line"><span class="comment">    freopen("data.in","r",stdin);</span></span><br><span class="line"><span class="comment">    freopen("data.out","w",stdout);*/</span></span><br><span class="line">    <span class="comment">/*printf("1000\n");</span></span><br><span class="line"><span class="comment">    for(int i=1;i&lt;=1000;i++)</span></span><br><span class="line"><span class="comment">    &#123;</span></span><br><span class="line"><span class="comment">        int len=rand()%1000+1;</span></span><br><span class="line"><span class="comment">        for(int i=0;i&lt;len;i++)</span></span><br><span class="line"><span class="comment">        &#123;</span></span><br><span class="line"><span class="comment">            int t=rand()%3;</span></span><br><span class="line"><span class="comment">            if(t==0)</span></span><br><span class="line"><span class="comment">                s[i]='0'+rand()%10;</span></span><br><span class="line"><span class="comment">            else if(t==1)</span></span><br><span class="line"><span class="comment">                s[i]='A'+rand()%26;</span></span><br><span class="line"><span class="comment">            else</span></span><br><span class="line"><span class="comment">                s[i]='a'+rand()%26;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        s[len]='\0';</span></span><br><span class="line"><span class="comment">        cout&lt;&lt;s&lt;&lt;endl;</span></span><br><span class="line"><span class="comment">    &#125;*/</span></span><br><span class="line">    <span class="keyword">int</span> N,i=<span class="number">1</span>,ans=<span class="number">1</span>;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;N);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=N;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s"</span>,&amp;s);</span><br><span class="line">        a[i]=Hash(s);</span><br><span class="line">    &#125;</span><br><span class="line">    sort(a+<span class="number">1</span>,a+<span class="number">1</span>+N);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;=N;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(a[i]!=a[i<span class="number">-1</span>])</span><br><span class="line">            ans++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ans);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="problem-b-b">Problem B: B</h3><p>Time Limit: 1 Sec Memory Limit: 128 MB</p><blockquote><p>Description</p></blockquote><blockquote><p>HHMåœ¨é˜…è¯»ä¸€ç¯‡æ–‡ç« ï¼Œä»–æƒ³æ‰¾å‡ºæ¥ä¸€ä¸ªå•è¯çš„é¢‘ç‡ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸ªå•è¯åœ¨æ–‡ç« ä¸­å‡ºç°äº†å‡ æ¬¡ã€‚èªæ˜çš„ä½ èµ¶å¿«å¸®å¸®ä»–</p></blockquote><blockquote><p>Input</p></blockquote><blockquote><p>è¾“å…¥åŒ…å«å¤šç»„æ•°æ®ã€‚</p></blockquote><blockquote><p>è¾“å…¥æ–‡ä»¶çš„ç¬¬ä¸€è¡Œæœ‰ä¸€ä¸ªæ•´æ•°ï¼Œä»£è¡¨æ•°æ®ç»„æ•°ã€‚æ¥ä¸‹æ¥æ˜¯è¿™äº›æ•°æ®ï¼Œä»¥å¦‚ä¸‹æ ¼å¼ç»™å‡ºï¼š</p></blockquote><blockquote><p>ç¬¬ä¸€è¡Œæ˜¯å•è¯Wï¼Œä¸€ä¸ªç”±{'A','B','C',...,'Z'}ä¸­å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œä¿è¯1&lt;=|W|&lt;=10000ï¼ˆ|W|ä»£è¡¨å­—ç¬¦ä¸²Wçš„é•¿åº¦ï¼‰</p></blockquote><blockquote><p>ç¬¬äºŒè¡Œæ˜¯æ–‡ç« Tï¼Œä¸€ä¸ªç”±{'A','B','C',...,'Z'}ä¸­å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œä¿è¯|W|&lt;=|T|&lt;=1000000ã€‚</p></blockquote><blockquote><p>Output</p></blockquote><p>å¯¹æ¯ç»„æ•°æ®è¾“å‡ºä¸€è¡Œä¸€ä¸ªæ•´æ•°ï¼Œå³Wåœ¨Tä¸­å‡ºç°çš„æ¬¡æ•°ã€‚</p><blockquote><p>Sample Input 3 BAPC BAPC AZA AZAZAZA VERDI AVERDXIVYERDIAN</p></blockquote><blockquote><p>Sample Output 1 3 0</p></blockquote><blockquote><p>HINT</p></blockquote><blockquote><p>å­—ç¬¦ä¸²å“ˆå¸Œæ€è·¯</p></blockquote><p>æˆ‘çš„ä»£ç ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//#include &lt;iostream&gt;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line"><span class="keyword">const</span> ull p = <span class="number">1e9</span> + <span class="number">13</span>;</span><br><span class="line"><span class="keyword">const</span> ull MOD = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e4</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxm = <span class="number">1e4</span> + <span class="number">6</span>;</span><br><span class="line"><span class="function">ull <span class="title">pow1</span> <span class="params">(ull x , ull n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ull res = x;</span><br><span class="line">    ull ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (n)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (n &amp; <span class="number">1</span>)  ans = ans * res % MOD;</span><br><span class="line">         res = res * res % MOD;</span><br><span class="line">         n &gt;&gt;= <span class="number">1</span>;                           <span class="comment">//bå³ç§»ç›¸å½“äºé™¤ä»¥äºŒ</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;<span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;n);</span><br><span class="line">    <span class="keyword">while</span> (n--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">char</span> word[maxn];</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s"</span> , word);</span><br><span class="line">        <span class="comment">//gets(word);</span></span><br><span class="line">        <span class="keyword">char</span> text[maxm];</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s"</span> , text);</span><br><span class="line">        <span class="comment">//gets(text);</span></span><br><span class="line"></span><br><span class="line">        ull hash_word = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="built_in">strlen</span>(word); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            ull idx = word[i] - <span class="string">'A'</span> + <span class="number">1</span>;</span><br><span class="line">            hash_word = (hash_word * p + idx) % MOD;</span><br><span class="line">        &#125;</span><br><span class="line">        ull <span class="keyword">hash_t</span>[maxm];</span><br><span class="line">        <span class="built_in">memset</span>(<span class="keyword">hash_t</span> , <span class="number">0</span> , <span class="keyword">sizeof</span> <span class="keyword">hash_t</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="built_in">strlen</span>(text); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            ull idx = text[i - <span class="number">1</span>] - <span class="string">'A'</span> + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">hash_t</span>[i] = (<span class="keyword">hash_t</span>[i - <span class="number">1</span>] * p + idx) % MOD;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        ull ans = <span class="number">0</span>;</span><br><span class="line">        ull len = <span class="built_in">strlen</span>(word);</span><br><span class="line">        <span class="keyword">for</span> (ull i = len; i &lt;= <span class="built_in">strlen</span>(text); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            ull t = <span class="keyword">hash_t</span>[i] - <span class="keyword">hash_t</span>[i - len] * pow1(p , len);<span class="comment">//cout &lt;&lt; t &lt;&lt; endl;</span></span><br><span class="line">            <span class="keyword">if</span> (t &lt; <span class="number">0</span>)  t = (t + MOD) % MOD;</span><br><span class="line">            <span class="keyword">else</span>        t %= MOD;</span><br><span class="line">            <span class="keyword">if</span> (t == hash_word)</span><br><span class="line">                ans++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å­¦é•¿çš„ä»£ç :</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull;</span><br><span class="line">ull base=<span class="number">131</span>;</span><br><span class="line">ull p[<span class="number">100010</span>],a2[<span class="number">1000010</span>];</span><br><span class="line"><span class="keyword">char</span> s1[<span class="number">10010</span>],s2[<span class="number">1000010</span>];</span><br><span class="line"><span class="function">ull <span class="title">get</span><span class="params">(<span class="keyword">int</span> l,<span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (ull)a2[r]-p[r-l+<span class="number">1</span>]*a2[l<span class="number">-1</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    srand(<span class="literal">NULL</span>);</span><br><span class="line">    freopen(<span class="string">"data.in"</span>,<span class="string">"w"</span>,<span class="built_in">stdout</span>);</span><br><span class="line">    <span class="comment">//freopen("data.out","w",stdout);</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"97\n"</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">97</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> p1=rand()%<span class="number">10000</span>+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> p2=rand()%<span class="number">10000</span>+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(p1&gt;p2)</span><br><span class="line">            swap(p1,p2);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;p1;j++)</span><br><span class="line">            s1[j]=<span class="string">'A'</span>+rand()%<span class="number">26</span>;</span><br><span class="line">        s1[p1]=<span class="string">'\0'</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;p2;j++)</span><br><span class="line">            s2[j]=<span class="string">'A'</span>+rand()%<span class="number">26</span>;</span><br><span class="line">        s2[p2]=<span class="string">'\0'</span>;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;s1&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;s2&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*p[0]=1;</span></span><br><span class="line"><span class="comment">    for(int i=1;i&lt;=10000;i++)</span></span><br><span class="line"><span class="comment">        p[i]=p[i-1]*base;</span></span><br><span class="line"><span class="comment">    int T;</span></span><br><span class="line"><span class="comment">    scanf("%d",&amp;T);</span></span><br><span class="line"><span class="comment">    while(T--)</span></span><br><span class="line"><span class="comment">    &#123;</span></span><br><span class="line"><span class="comment">        scanf("%s%s",&amp;s1,&amp;s2);</span></span><br><span class="line"><span class="comment">        int len1=strlen(s1),len2=strlen(s2);</span></span><br><span class="line"><span class="comment">        ull a1=0;</span></span><br><span class="line"><span class="comment">        int ans=0;</span></span><br><span class="line"><span class="comment">        for(int i=0;i&lt;len1;i++)</span></span><br><span class="line"><span class="comment">            a1=a1*base+(ull)s1[i];</span></span><br><span class="line"><span class="comment">        a2[0]=(ull)s2[0];</span></span><br><span class="line"><span class="comment">        for(int i=1;i&lt;len2;i++)</span></span><br><span class="line"><span class="comment">            a2[i]=a2[i-1]*base+(ull)s2[i];</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        for(int i=0;i+len1-1&lt;len2;i++)</span></span><br><span class="line"><span class="comment">            if(a1==get(i,i+len1-1))</span></span><br><span class="line"><span class="comment">                ans++;</span></span><br><span class="line"><span class="comment">        printf("%d\n",ans);</span></span><br><span class="line"><span class="comment">    &#125;*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="problem-c-c">Problem C: C</h3><p>Time Limit: 1 Sec Memory Limit: 128 MB</p><blockquote><p>Description</p></blockquote><blockquote><p>HMMæœ€è¿‘é‡åˆ°ä¸€ä¸ªéš¾é¢˜,è€å¸ˆäº¤ç»™ä»–å¾ˆå¤šå•è¯(åªæœ‰å°å†™å­—æ¯ç»„æˆ,ä¸ä¼šæœ‰é‡å¤çš„å•è¯å‡ºç°),ç°åœ¨è€å¸ˆè¦ä»–ç»Ÿè®¡å‡ºä»¥æŸä¸ªå­—ç¬¦ä¸²ä¸ºå‰ç¼€çš„å•è¯æ•°é‡(å•è¯æœ¬èº«ä¹Ÿæ˜¯è‡ªå·±çš„å‰ç¼€).</p></blockquote><blockquote><p>Input</p></blockquote><blockquote><p>è¾“å…¥æ•°æ®çš„ç¬¬ä¸€éƒ¨åˆ†æ˜¯ä¸€å¼ å•è¯è¡¨,æ¯è¡Œä¸€ä¸ªå•è¯,å•è¯çš„é•¿åº¦ä¸è¶…è¿‡10,å®ƒä»¬ä»£è¡¨çš„æ˜¯è€å¸ˆäº¤ç»™HMMç»Ÿè®¡çš„å•è¯,ä¸€ä¸ª#ä»£è¡¨å•è¯è¡¨çš„ç»“æŸ.ç¬¬äºŒéƒ¨åˆ†æ˜¯ä¸€è¿ä¸²çš„æé—®,æ¯è¡Œä¸€ä¸ªæé—®,æ¯ä¸ªæé—®éƒ½æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸².</p></blockquote><blockquote><p>Output</p></blockquote><blockquote><p>å¯¹äºæ¯ä¸ªæé—®,ç»™å‡ºä»¥è¯¥å­—ç¬¦ä¸²ä¸ºå‰ç¼€çš„å•è¯çš„æ•°é‡.</p></blockquote><blockquote><p>Sample Input banana band bee absolute acm # ba b band abc Sample Output 2 3 1 0</p></blockquote><p>æˆ‘çš„ä»£ç ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="comment">//#include &lt;bits/stdc++.h&gt;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ms(a , b) memset(a , b , sizeof(a))</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">27</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">trie</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    trie *next[maxn];</span><br><span class="line">    <span class="keyword">int</span> sum;</span><br><span class="line">    trie()</span><br><span class="line">    &#123;</span><br><span class="line">        sum = <span class="number">1</span>;</span><br><span class="line">        ms(next , <span class="literal">NULL</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;*root;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Insert</span><span class="params">(<span class="keyword">char</span> *str)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len = <span class="built_in">strlen</span>(str);</span><br><span class="line">    trie *p = root;</span><br><span class="line">    <span class="comment">//insert</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> t = str[i] - <span class="string">'a'</span>;</span><br><span class="line">        <span class="comment">//NULL</span></span><br><span class="line">        <span class="keyword">if</span> (p-&gt;next[t] == <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            p-&gt;next[t] = <span class="keyword">new</span> trie();</span><br><span class="line">            p = p-&gt;next[t];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            p = p-&gt;next[t];</span><br><span class="line">            p-&gt;sum ++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">char</span> *str)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len = <span class="built_in">strlen</span>(str);</span><br><span class="line">    trie *p = root;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> t = str[i] - <span class="string">'a'</span>;</span><br><span class="line">        p = p-&gt;next[t];</span><br><span class="line">        <span class="comment">//NULL</span></span><br><span class="line">        <span class="keyword">if</span> (p == <span class="literal">NULL</span>)  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> p-&gt;sum;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">free</span><span class="params">(trie *t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (t == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; maxn; i++)</span><br><span class="line">        <span class="keyword">if</span> (t-&gt;next[i]) <span class="built_in">free</span>(t-&gt;next[i]);</span><br><span class="line">    <span class="keyword">delete</span> (t);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> str[maxn];</span><br><span class="line">    root = <span class="keyword">new</span> trie;</span><br><span class="line">    <span class="keyword">while</span>(gets(str) &amp;&amp; str[<span class="number">0</span>] != <span class="string">'#'</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        Insert(str);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%s"</span> , str))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span> , query(str));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">free</span>(root);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å­¦é•¿çš„ä»£ç :</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;malloc.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">char</span> s[<span class="number">15</span>];</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Trie</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> v;</span><br><span class="line">    Trie *next[<span class="number">26</span>];</span><br><span class="line">&#125;Trie;</span><br><span class="line"></span><br><span class="line">Trie root;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Creat</span><span class="params">(<span class="keyword">char</span> *str)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len=<span class="built_in">strlen</span>(str);</span><br><span class="line">    Trie *p=&amp;root,*q;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;len;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> id=str[i]-<span class="string">'a'</span>;</span><br><span class="line">        <span class="keyword">if</span>(p-&gt;next[id]==<span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            q=(Trie *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(root));</span><br><span class="line">            q-&gt;v=<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;<span class="number">26</span>;j++)</span><br><span class="line">                q-&gt;next[j]=<span class="literal">NULL</span>;</span><br><span class="line">            p-&gt;next[id]=q;</span><br><span class="line">            p=p-&gt;next[id];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            p-&gt;next[id]-&gt;v++;</span><br><span class="line">            p=p-&gt;next[id];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Find</span><span class="params">(<span class="keyword">char</span> *str)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len=<span class="built_in">strlen</span>(str);</span><br><span class="line">    Trie *p=&amp;root;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;len;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> id=str[i]-<span class="string">'a'</span>;</span><br><span class="line">        p=p-&gt;next[id];</span><br><span class="line">        <span class="keyword">if</span>(p==<span class="literal">NULL</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> p-&gt;v;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">/*srand(NULL);</span></span><br><span class="line"><span class="comment">    freopen("data.in","r",stdin);</span></span><br><span class="line"><span class="comment">    freopen("data.out","w",stdout);</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="comment">/*for(int i=1;i&lt;=1000;i++)</span></span><br><span class="line"><span class="comment">    &#123;</span></span><br><span class="line"><span class="comment">        int p=rand()%10+1;</span></span><br><span class="line"><span class="comment">        for(int j=0;j&lt;p;j++)</span></span><br><span class="line"><span class="comment">            s[j]='a'+rand()%26;</span></span><br><span class="line"><span class="comment">        cout&lt;&lt;s&lt;&lt;endl;</span></span><br><span class="line"><span class="comment">    &#125;*/</span></span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">15</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">26</span>;i++)</span><br><span class="line">        root.next[i]=<span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%s"</span>,&amp;str)&amp;&amp;str[<span class="number">0</span>]!=<span class="string">'#'</span>)</span><br><span class="line">        Creat(str);</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%s"</span>,&amp;str)!=EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,Find(str));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="problem-d-d">Problem D: D</h3><p>Time Limit: 1 Sec Memory Limit: 128 MB</p><blockquote><p>Description</p></blockquote><blockquote><p>HHMå’ŒSYåšæ¸¸æˆï¼ŒSYç»™HHMä¸€ä¸ªé›†åˆï¼Œé›†åˆåŒ…å«äº†Nä¸ªæ•´æ•°ï¼ŒéšåSYå‘HHMå‘èµ·Mæ¬¡è¯¢é—®ï¼Œæ¯æ¬¡è¯¢é—®åŒ…å«ä¸€ä¸ªæ•´æ•°Sï¼Œä¹‹åHHMéœ€è¦åœ¨é›†åˆä¸­ æ‰¾åˆ°ä¸€ä¸ªæ­£æ•´æ•°Kï¼Œä½¿å¾—Kä¸Sçš„å¼‚æˆ–ç»“æœæœ€å¤§ã€‚HHMå‘ä½ è¯·æ±‚å¸®åŠ©</p></blockquote><blockquote><p>Input</p></blockquote><blockquote><p>è¾“å…¥åŒ…å«è‹¥å¹²ç»„æµ‹è¯•æ•°æ®ï¼Œæ¯ç»„æµ‹è¯•æ•°æ®åŒ…å«è‹¥å¹²è¡Œã€‚</p></blockquote><blockquote><p>è¾“å…¥çš„ç¬¬ä¸€è¡Œæ˜¯ä¸€ä¸ªæ•´æ•°Tï¼ˆT &lt; 10ï¼‰ï¼Œè¡¨ç¤ºå…±æœ‰Tç»„æ•°æ®ã€‚</p></blockquote><blockquote><p>æ¯ç»„æ•°æ®çš„ç¬¬ä¸€è¡Œè¾“å…¥ä¸¤ä¸ªæ­£æ•´æ•°Nï¼ŒMï¼ˆ&lt;1=N,M&lt;=100000ï¼‰ï¼Œæ¥ä¸‹æ¥ä¸€è¡Œï¼ŒåŒ…å«Nä¸ªæ­£æ•´æ•°ï¼Œä»£è¡¨ Zeus çš„è·å¾—çš„é›†åˆï¼Œä¹‹åMè¡Œï¼Œæ¯è¡Œä¸€ä¸ªæ­£æ•´æ•°Sï¼Œä»£è¡¨ Prometheus è¯¢é—®çš„æ­£æ•´æ•°ã€‚æ‰€æœ‰æ­£æ•´æ•°å‡ä¸è¶…è¿‡2^32ã€‚</p></blockquote><blockquote><p>Output</p></blockquote><blockquote><p>å¯¹äºæ¯ç»„æ•°æ®ï¼Œé¦–å…ˆéœ€è¦è¾“å‡ºå•ç‹¬ä¸€è¡Œâ€Case #?:â€ï¼Œå…¶ä¸­é—®å·å¤„åº”å¡«å…¥å½“å‰çš„æ•°æ®ç»„æ•°ï¼Œç»„æ•°ä»1å¼€å§‹è®¡ç®—ã€‚</p></blockquote><blockquote><p>å¯¹äºæ¯ä¸ªè¯¢é—®ï¼Œè¾“å‡ºä¸€ä¸ªæ­£æ•´æ•°Kï¼Œä½¿å¾—Kä¸Så¼‚æˆ–å€¼æœ€å¤§ã€‚</p></blockquote><blockquote><p>Sample Input 2 3 2 3 4 5 1 5 4 1 4 6 5 6 3 Sample Output Case #1: 4 3 Case #2: 4</p></blockquote><p>æˆ‘çš„ä»£ç ï¼š</p><p>è¿™ä¸ªæ˜¯ç”¨ <strong>01å­—å…¸æ ‘</strong> è§£å†³çš„ï¼Œï¼Œï¼Œå½“æ—¶æƒ³åˆ°äº†å°†æ¯ä¸€ä¸ªæ•°è½¬åŒ–ä¸º'a' , 'b'é¡ºåºçš„å­—ç¬¦ä¸²ï¼Œï¼Œç„¶åå­˜åˆ°å­—å…¸æ•°é‡Œï¼Œï¼Œæœ€åæŸ¥è¯¢å¾…è¾“å…¥çš„så¼‚æˆ–åçš„å­—ç¬¦ä¸²åœ¨æ ‘ä¸­èµ°åˆ°å¤´çš„ä½ç½®å³ä¸ºç­”æ¡ˆï¼Œï¼Œï¼Œçªç„¶è’™è”½ä¸ä¼šå»ºæ ‘äº†ï¼Œï¼Œï¼Œgg....QAQ</p><p>å¯¹äº†ï¼Œï¼Œæˆ‘çœ‹åˆ°ç½‘ä¸Šæœ‰çš„äººæ˜¯ç”¨æ•°ç»„å»ºçš„æ ‘ï¼Œï¼Œï¼Œæœ‰ç‚¹çœ‹ä¸æ‡‚ï¼Œï¼Œï¼ŒæŒ–ä¸ªå‘ï¼Œï¼Œï¼Œè¿˜æœ‰ä¸€ä¸ªç¥å¥‡çš„å‡½æ•°bitset(),,,,å“ªå¤©æ¥è¡¥ç¥¨ï¼Œï¼Œï¼Œï¼Œ</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="comment">//#include &lt;bits/stdc++.h&gt;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ms(a , b) memset(a , b , sizeof(a))</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxm = <span class="number">1e5</span> +<span class="number">5</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">trie</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    trie *next[maxn];</span><br><span class="line">    <span class="keyword">int</span> num;</span><br><span class="line">    trie()</span><br><span class="line">    &#123;</span><br><span class="line">        num = <span class="number">0</span>;</span><br><span class="line">        ms(next , <span class="literal">NULL</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Insert</span><span class="params">(trie *root , <span class="keyword">int</span> a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    trie *p = root;</span><br><span class="line">    <span class="comment">//insert</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">31</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> k = (a &gt;&gt; i) &amp; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (p-&gt;next[k] == <span class="literal">NULL</span>)         <span class="comment">//ç©ºçš„ä»£è¡¨æ²¡å­˜åŠ ä¸Š</span></span><br><span class="line">        &#123;</span><br><span class="line">            p-&gt;next[k] = <span class="keyword">new</span> trie();</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        p = p-&gt;next[k];</span><br><span class="line">    &#125;</span><br><span class="line">    p-&gt;num = a;                         <span class="comment">//å°†ä»æ ¹èŠ‚ç‚¹åˆ°è¯¥èŠ‚ç‚¹è¡¨ç¤ºçš„å€¼å­˜èµ·æ¥</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(trie *root , <span class="keyword">int</span> a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    trie *p = root;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">31</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> k = (a &gt;&gt; i) &amp; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (p-&gt;next[k ^ <span class="number">1</span>] != <span class="literal">NULL</span>)</span><br><span class="line">            p = p-&gt;next[k ^ <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            p = p-&gt;next[k];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> p-&gt;num;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Free</span><span class="params">(trie *t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (t == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; maxn; i++)</span><br><span class="line">        <span class="keyword">if</span> (t-&gt;next[i]) Free(t-&gt;next[i]);</span><br><span class="line">    <span class="keyword">delete</span> t;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;t);</span><br><span class="line">    <span class="keyword">int</span> k = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> n , m;</span><br><span class="line">        <span class="comment">//cin &gt;&gt; n &gt;&gt; m;</span></span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span> , &amp;n , &amp;m);</span><br><span class="line">        <span class="keyword">int</span> a;</span><br><span class="line">        trie *root = <span class="keyword">new</span> trie();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//insert</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;a);</span><br><span class="line">            Insert(root , a);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Case #%d:\n"</span> , k++);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;a);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d\n"</span> , query(root , a));</span><br><span class="line">        &#125;</span><br><span class="line">        Free(root);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å­¦é•¿çš„ä»£ç :</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;malloc.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">tree</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    tree *next[<span class="number">2</span>];</span><br><span class="line">    <span class="keyword">int</span> v;</span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">&#125;tree;</span><br><span class="line">tree root;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Creat</span><span class="params">(<span class="keyword">char</span> *str,<span class="keyword">int</span> va)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len=<span class="built_in">strlen</span>(str);</span><br><span class="line">    tree *p=&amp;root,*q;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;len;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> id=str[i]-<span class="string">'0'</span>;</span><br><span class="line">        <span class="keyword">if</span>(p-&gt;next[id]==<span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            q=(tree*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(root));</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;<span class="number">2</span>;j++)</span><br><span class="line">                q-&gt;next[j]=<span class="literal">NULL</span>;</span><br><span class="line">            p-&gt;next[id]=q;</span><br><span class="line">        &#125;</span><br><span class="line">        p=p-&gt;next[id];</span><br><span class="line">        <span class="keyword">if</span>(i==len<span class="number">-1</span>)</span><br><span class="line">            p-&gt;val=va;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Find</span><span class="params">(<span class="keyword">char</span> *str)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len=<span class="built_in">strlen</span>(str);</span><br><span class="line">    tree *p=&amp;root;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;len;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> id=str[i]-<span class="string">'0'</span>;</span><br><span class="line">        <span class="keyword">if</span>(p-&gt;next[<span class="number">1</span>-id]!=<span class="number">0</span>)</span><br><span class="line">            p=p-&gt;next[<span class="number">1</span>-id];</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            p=p-&gt;next[id];</span><br><span class="line">        <span class="keyword">if</span>(p==<span class="literal">NULL</span>)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">if</span>(i==len<span class="number">-1</span>)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,p-&gt;val);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">2</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        root.next[i]=<span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">/*srand(NULL);</span></span><br><span class="line"><span class="comment">    freopen("data.in","r",stdin);</span></span><br><span class="line"><span class="comment">    freopen("data.out","w",stdout);</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="comment">/*printf("5\n");</span></span><br><span class="line"><span class="comment">    for(int i=1;i&lt;=5;i++)</span></span><br><span class="line"><span class="comment">    &#123;</span></span><br><span class="line"><span class="comment">        int m=rand()%100000+1;</span></span><br><span class="line"><span class="comment">        int n=rand()%100000+1;</span></span><br><span class="line"><span class="comment">        printf("%d %d\n",n,m);</span></span><br><span class="line"><span class="comment">        for(int i=1;i&lt;=n;i++)</span></span><br><span class="line"><span class="comment">            printf("%d ",rand()%100000000+1);</span></span><br><span class="line"><span class="comment">        printf("\n");</span></span><br><span class="line"><span class="comment">        for(int i=1;i&lt;=m;i++)</span></span><br><span class="line"><span class="comment">            printf("%d ",rand()%100000000+1);</span></span><br><span class="line"><span class="comment">        printf("\n");</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    &#125;*/</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> kase=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;T);</span><br><span class="line">    <span class="keyword">while</span>(T--)</span><br><span class="line">    &#123;</span><br><span class="line">        init();</span><br><span class="line">        <span class="keyword">int</span> n,m;</span><br><span class="line">        <span class="keyword">char</span> s[<span class="number">50</span>];</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;m);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> a;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;a);</span><br><span class="line">            <span class="keyword">int</span> tmp=a;</span><br><span class="line">            s[<span class="number">36</span>]=<span class="string">'\0'</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">35</span>;j&gt;=<span class="number">0</span>;j--)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(a)</span><br><span class="line">                &#123;</span><br><span class="line">                    s[j]=a%<span class="number">2</span>+<span class="string">'0'</span>;</span><br><span class="line">                    a/=<span class="number">2</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    s[j]=<span class="string">'0'</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            Creat(s,tmp);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Case #%d:\n"</span>,++kase);</span><br><span class="line">        <span class="keyword">while</span>(m--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> a;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;a);</span><br><span class="line">            s[<span class="number">36</span>]=<span class="string">'\0'</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">35</span>;j&gt;=<span class="number">0</span>;j--)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(a)</span><br><span class="line">                &#123;</span><br><span class="line">                    s[j]=a%<span class="number">2</span>+<span class="string">'0'</span>;</span><br><span class="line">                    a/=<span class="number">2</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    s[j]=<span class="string">'0'</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            Find(s);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æºœã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚</p>]]></content>
      
      
        <tags>
            
            <tag> acm </tag>
            
            <tag> ç®—æ³• </tag>
            
            <tag> å­—ç¬¦ä¸² </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>ç½‘ç»œæµ</title>
      <link href="/2018/07/31/%E7%BD%91%E7%BB%9C%E6%B5%81/"/>
      <content type="html"><![CDATA[<h2 id="æ¦‚è¿°">æ¦‚è¿°</h2><p>è¿™ç¯‡åšå®¢ä¸»è¦æ˜¯å…³äºç½‘ç»œæµçš„ä¸€äº›åŸºæœ¬çš„çŸ¥è¯†ç‚¹ä»¥åŠç›¸åº”çš„æ¨¡æ¿ï¼Œï¼Œ</p><p>ç®—äº†ï¼Œï¼Œï¼Œè¿˜æ˜¯å…ˆè´´å¤§ä½¬çš„åšå®¢ï¼Œï¼Œï¼Œæš‘å‡åœ¨è¡¥ä¸€ä¸‹ã€‚ã€‚ã€‚ã€‚QAQ</p><a id="more"></a><h2 id="ç½‘ç»œæµ">ç½‘ç»œæµ</h2><p>tan90ï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œ</p><h2 id="ä¹ é¢˜">ä¹ é¢˜</h2><h3 id="problem-a-å…»çŒª">Problem A: å…»çŒª</h3><p>Time Limit: 1 Sec Memory Limit: 128 MB</p><blockquote><p>Description</p></blockquote><blockquote><p>AveryBoyå–œæ¬¢ç©LOLï¼Œä½†æ˜¯ä»–æŠ€æœ¯å¤ªèœï¼Œæ€»æ˜¯è¢«åˆ«äººå–·â€œè¿™ä¹ˆèœç©ä»€ä¹ˆæ¸¸æˆï¼Œå›å®¶å…»çŒªå»å§â€ã€‚ç»ˆäºæœ‰ä¸€å¤©ï¼Œä»–è¢«å–·çš„å—ä¸äº†äº†ï¼Œäºæ˜¯å›å®¶å…»çŒªã€‚ä¸è¿‡ä»–å®¶çš„å…»çŒªåœºåœ¨ä¸‹é›¨å¤©çš„æ—¶å€™æ€»æ˜¯è¢«æ·¹ï¼Œæ‰€ä»¥ä»–ç”¨è¯»ä¹¦å­¦æ¥çš„çŸ¥è¯†è®¾è®¡äº†ä¸€å¥—æ’æ°´ç³»ç»Ÿã€‚ä»–è¿˜è®¾è®¡äº†ä¸€å¥—è£…ç½®ï¼Œå¯ä»¥æ§åˆ¶æ’æ°´ç®¡é“çš„æ°´æµæµé‡ã€‚ç°åœ¨æœ‰nä¸ªæ’æ°´ç®¡é“ï¼Œmä¸ªæ’æ°´èŠ‚ç‚¹ï¼Œé—®ä½ ä»1åˆ°mçš„æœ€å¤§æ’æ°´æµé‡ã€‚</p></blockquote><blockquote><p>Input</p></blockquote><blockquote><p>æœ‰å¤šç»„æµ‹è¯•æ•°æ®ï¼Œå¯¹äºæ¯ç»„æµ‹è¯•æ•°æ®ï¼Œç¬¬ä¸€è¡Œæ˜¯ä¸¤ä¸ªæ•´æ•°nï¼Œmï¼ˆ0 &lt;= n &lt;= 200ï¼Œ2 &lt;= m &lt;= 200ï¼‰ï¼Œåˆ†åˆ«è¡¨ç¤ºæ’æ°´ç®¡é“æ•°å’Œæ’æ°´èŠ‚ç‚¹æ•°ã€‚ä¹‹ånè¡Œæ¯è¡ŒåŒ…å«3ä¸ªæ•´æ•°ï¼Œuï¼Œvï¼Œwï¼ˆ1&lt;=u,v&lt;=mï¼Œ0&lt;=w&lt;=1e7ï¼Œu!=vï¼‰ï¼Œè¡¨ç¤ºä»uåˆ°vçš„æ’æ°´ç®¡é“çš„æ°´æµæµé‡æ˜¯wã€‚</p></blockquote><blockquote><p>Output</p></blockquote><blockquote><p>å¯¹äºæ¯ç§æƒ…å†µè¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºä»1åˆ°mçš„æœ€å¤§æ’æ°´æµé‡ã€‚ Sample Input 5 4 1 2 40 1 4 20 2 4 20 2 3 30 3 4 10</p></blockquote><blockquote><p>Sample Output 50</p></blockquote><p>æ¨¡æ¿é¢˜ï¼Œï¼Œï¼Œç›´æ¥å¥—å°±è¡Œ</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ms(a , b) memset(a , b , sizeof(a))</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="comment">//å‰å‘æ˜Ÿ</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e4</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">int</span> n , m;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Edge</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> to;</span><br><span class="line">    <span class="keyword">int</span> next;</span><br><span class="line">    <span class="keyword">int</span> w;</span><br><span class="line">&#125;edge[maxn &lt;&lt; <span class="number">1</span>];</span><br><span class="line"><span class="keyword">int</span> head[maxn];</span><br><span class="line"><span class="keyword">bool</span> vis[maxn];</span><br><span class="line"><span class="keyword">int</span> cnt;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ms(head , <span class="number">-1</span>);</span><br><span class="line">    cnt = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> u , <span class="keyword">int</span> v , <span class="keyword">int</span> w)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    edge[cnt].to = v;</span><br><span class="line">    edge[cnt].w = w;</span><br><span class="line">    edge[cnt].next = head[u];</span><br><span class="line">    head[u] = cnt++;</span><br><span class="line">    edge[cnt].to = u;                       <span class="comment">//æ·»åŠ åå‘è¾¹ï¼Œï¼Œæµé‡ä¸ºé›¶</span></span><br><span class="line">    edge[cnt].w = <span class="number">0</span>;</span><br><span class="line">    edge[cnt].next = head[v];</span><br><span class="line">    head[v] = cnt++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> step[maxn];</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">bfs</span><span class="params">(<span class="keyword">int</span> s , <span class="keyword">int</span> t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ms(step , <span class="number">-1</span>);</span><br><span class="line">    step[s] = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; q;</span><br><span class="line">    q.push(s);</span><br><span class="line">    <span class="keyword">while</span> (!q.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> u = q.front();q.pop();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = head[u]; i != <span class="number">-1</span>; i = edge[i].next)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (step[edge[i].to] == <span class="number">-1</span> &amp;&amp; edge[i].w &gt; <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                step[edge[i].to] = step[u] + <span class="number">1</span>;</span><br><span class="line">                q.push(edge[i].to);</span><br><span class="line">                <span class="keyword">if</span> (edge[i].to == t) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> step[t] != <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> s , <span class="keyword">int</span> t , <span class="keyword">int</span> f)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (s == t || !f)   <span class="keyword">return</span> f;</span><br><span class="line">    <span class="keyword">int</span> flow = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = head[s]; i != <span class="number">-1</span>; i = edge[i].next)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (step[s] + <span class="number">1</span> == step[edge[i].to] &amp;&amp; edge[i].w &gt; <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> d = dfs(edge[i].to , t , min(edge[i].w , f));</span><br><span class="line">            <span class="keyword">if</span> (d &gt; <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                edge[i].w -= d;</span><br><span class="line">                edge[i ^ <span class="number">1</span>].w += d;</span><br><span class="line">                flow += d;                  <span class="comment">//ç´¯åŠ å½“å‰èŠ‚ç‚¹çš„æŸæ¡è·¯å¾„çš„åˆé€‚æµé‡</span></span><br><span class="line">                f -= d;                     <span class="comment">//å½“å‰èŠ‚ç‚¹çš„å®¹é‡å‡å»æŸæ¡è·¯å¾„çš„åˆé€‚æµé‡</span></span><br><span class="line">                <span class="keyword">if</span> (f == <span class="number">0</span>) <span class="keyword">break</span>;          <span class="comment">//å¦‚æœå½“å‰èŠ‚ç‚¹çš„å®¹é‡ç”¨å®Œ,è¯´æ˜æ— æ³•å†é€šè¿‡ä»»ä½•æµé‡</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (flow == <span class="number">0</span>)  step[s] = inf;      <span class="comment">//å¦‚æœå½“å‰èŠ‚ç‚¹æ— ä»»ä½•æµé‡é€šè¿‡,å–æ¶ˆæ ‡è®°</span></span><br><span class="line">    <span class="keyword">return</span> flow;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Dinic</span><span class="params">(<span class="keyword">int</span> s , <span class="keyword">int</span> t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> flow = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (bfs(s , t))</span><br><span class="line">    &#123;</span><br><span class="line">        flow += dfs(s , t , inf);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> flow;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//ios_base::sync_with_stdio(0);</span></span><br><span class="line">    <span class="keyword">while</span> (~<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n , &amp;m))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> u , v , w;</span><br><span class="line">        init();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//cin &gt;&gt; u &gt;&gt; v &gt;&gt; w;</span></span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span> , &amp;u , &amp;v , &amp;w);</span><br><span class="line">            add(u , v , w);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span> , Dinic(<span class="number">1</span> , m));</span><br><span class="line">        <span class="comment">//cout &lt;&lt; "Case " &lt;&lt; k++ &lt;&lt; ": " &lt;&lt; ans &lt;&lt; endl;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å­¦é•¿ç”¨çš„é‚»æ¥è¡¨å­˜çš„ï¼Œï¼Œï¼Œ</p><p>å­¦é•¿çš„ä»£ç :</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// hdu 1532</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PB push_back</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">205</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n,m;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Edge</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> to,cap,idx;</span><br><span class="line">    Edge()&#123;&#125;</span><br><span class="line">    Edge(<span class="keyword">int</span> to,<span class="keyword">int</span> cap,<span class="keyword">int</span> idx):to(to),cap(cap),idx(idx)&#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">vector</span>&lt;Edge&gt; V[maxn];</span><br><span class="line"><span class="keyword">bool</span> vis[maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add_edge</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> v,<span class="keyword">int</span> w)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    V[u].PB(Edge(v,w,V[v].size()));</span><br><span class="line">    V[v].PB(Edge(u,<span class="number">0</span>,V[u].size()<span class="number">-1</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> s,<span class="keyword">int</span> t,<span class="keyword">int</span> f)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(s==t) <span class="keyword">return</span> f;</span><br><span class="line">    vis[s]=<span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;V[s].size();i++)</span><br><span class="line">    &#123;</span><br><span class="line">        Edge &amp;cur = V[s][i];</span><br><span class="line">        <span class="keyword">if</span>(!vis[cur.to] &amp;&amp; cur.cap&gt;<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> tmp = dfs(cur.to,t,min(f,cur.cap));</span><br><span class="line">            <span class="keyword">if</span>(tmp&gt;<span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                cur.cap -= tmp;</span><br><span class="line">                V[cur.to][cur.idx].cap += tmp;</span><br><span class="line">                <span class="keyword">return</span> tmp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Ford_Fulkerson</span><span class="params">(<span class="keyword">int</span> s,<span class="keyword">int</span> t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">memset</span>(vis,<span class="literal">false</span>,<span class="keyword">sizeof</span>(vis));</span><br><span class="line">        <span class="keyword">int</span> flow = dfs(s,t,INF);</span><br><span class="line">        <span class="keyword">if</span>(flow==<span class="number">0</span>) <span class="keyword">return</span> res;</span><br><span class="line">        res += flow;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;m))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;i++) V[i].clear();</span><br><span class="line">        <span class="keyword">int</span> u,v,w;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>,&amp;u,&amp;v,&amp;w);</span><br><span class="line">            add_edge(u,v,w);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,Ford_Fulkerson(<span class="number">1</span>,m));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="problem-b-æœ€å¤§æµ">Problem B: æœ€å¤§æµ</h3><p>Time Limit: 1 Sec Memory Limit: 128 MB</p><blockquote><p>Description</p></blockquote><blockquote><p>å¦‚é¢˜ï¼Œç»™ä½ ä¸€ä¸ªå®¹é‡ç½‘ç»œï¼Œè¯·ä½ æ‰¾å‡ºæœ€å¤§æµã€‚</p></blockquote><blockquote><p>Input</p></blockquote><blockquote><p>ç¬¬ä¸€è¡Œè¾“å…¥åŒ…å«ä¸€ä¸ªæ•´æ•°Tï¼Œè¡¨ç¤ºæµ‹è¯•ç”¨ä¾‹çš„æ•°é‡ã€‚</p></blockquote><blockquote><p>å¯¹äºæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•°Nå’ŒMï¼Œè¡¨ç¤ºå›¾ä¸­é¡¶ç‚¹å’Œè¾¹çš„æ•°é‡ã€‚ï¼ˆ2 &lt;= N &lt;= 15,0 &lt;= M &lt;= 1000ï¼‰</p></blockquote><blockquote><p>æ¥ä¸‹æ¥çš„Mè¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸‰ä¸ªæ•´æ•°Xï¼ŒYå’ŒCï¼Œè¡¨ç¤ºä»Xåˆ°Yæœ‰ä¸€ä¸ªè¾¹ï¼Œå®ƒçš„å®¹é‡æ˜¯C.ï¼ˆ1 &lt;= Xï¼ŒY &lt;= Nï¼Œ1 &lt;= C &lt;= 1000ï¼‰</p></blockquote><blockquote><p>Output</p></blockquote><blockquote><p>å¯¹äºæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œæ‚¨åº”è¯¥è¾“å‡ºä»æºç‚¹1åˆ°æ±‡ç‚¹Nçš„æœ€å¤§æµé‡ã€‚</p></blockquote><blockquote><p>Sample Input 2 3 2 1 2 1 2 3 1 3 3 1 2 1 2 3 1 1 3 1</p></blockquote><blockquote><p>Sample Output Case 1: 1 Case 2: 2</p></blockquote><p>åŒæ ·æ˜¯æ¨¡æ¿é¢˜ï¼Œï¼Œï¼Œä¸è¿‡åˆšå¼€å§‹æˆ‘å¥—fkçš„æ¨¡æ¿ä¸€ç›´tleå°±æ¢äº†dinicç®—æ³•</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ms(a , b) memset(a , b , sizeof(a))</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="comment">//å‰å‘æ˜Ÿ</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e4</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">int</span> n , m;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Edge</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> to;</span><br><span class="line">    <span class="keyword">int</span> next;</span><br><span class="line">    <span class="keyword">int</span> w;</span><br><span class="line">&#125;edge[maxn &lt;&lt; <span class="number">1</span>];</span><br><span class="line"><span class="keyword">int</span> head[maxn];</span><br><span class="line"><span class="keyword">bool</span> vis[maxn];</span><br><span class="line"><span class="keyword">int</span> cnt;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ms(head , <span class="number">-1</span>);</span><br><span class="line">    cnt = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> u , <span class="keyword">int</span> v , <span class="keyword">int</span> w)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    edge[cnt].to = v;</span><br><span class="line">    edge[cnt].w = w;</span><br><span class="line">    edge[cnt].next = head[u];</span><br><span class="line">    head[u] = cnt++;</span><br><span class="line">    edge[cnt].to = u;                       <span class="comment">//æ·»åŠ åå‘è¾¹ï¼Œï¼Œæµé‡ä¸ºé›¶</span></span><br><span class="line">    edge[cnt].w = <span class="number">0</span>;</span><br><span class="line">    edge[cnt].next = head[v];</span><br><span class="line">    head[v] = cnt++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> step[maxn];</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">bfs</span><span class="params">(<span class="keyword">int</span> s , <span class="keyword">int</span> t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ms(step , <span class="number">-1</span>);</span><br><span class="line">    step[s] = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; q;</span><br><span class="line">    q.push(s);</span><br><span class="line">    <span class="keyword">while</span> (!q.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> u = q.front();q.pop();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = head[u]; i != <span class="number">-1</span>; i = edge[i].next)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (step[edge[i].to] == <span class="number">-1</span> &amp;&amp; edge[i].w &gt; <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                step[edge[i].to] = step[u] + <span class="number">1</span>;</span><br><span class="line">                q.push(edge[i].to);</span><br><span class="line">                <span class="keyword">if</span> (edge[i].to == t) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> step[t] != <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> s , <span class="keyword">int</span> t , <span class="keyword">int</span> f)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (s == t || !f)   <span class="keyword">return</span> f;</span><br><span class="line">    <span class="keyword">int</span> flow = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = head[s]; i != <span class="number">-1</span>; i = edge[i].next)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (step[s] + <span class="number">1</span> == step[edge[i].to] &amp;&amp; edge[i].w &gt; <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> d = dfs(edge[i].to , t , min(edge[i].w , f));</span><br><span class="line">            <span class="keyword">if</span> (d &gt; <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                edge[i].w -= d;</span><br><span class="line">                edge[i ^ <span class="number">1</span>].w += d;</span><br><span class="line">                flow += d;                  <span class="comment">//ç´¯åŠ å½“å‰èŠ‚ç‚¹çš„æŸæ¡è·¯å¾„çš„åˆé€‚æµé‡</span></span><br><span class="line">                f -= d;                     <span class="comment">//å½“å‰èŠ‚ç‚¹çš„å®¹é‡å‡å»æŸæ¡è·¯å¾„çš„åˆé€‚æµé‡</span></span><br><span class="line">                <span class="keyword">if</span> (f == <span class="number">0</span>) <span class="keyword">break</span>;          <span class="comment">//å¦‚æœå½“å‰èŠ‚ç‚¹çš„å®¹é‡ç”¨å®Œ,è¯´æ˜æ— æ³•å†é€šè¿‡ä»»ä½•æµé‡</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (flow == <span class="number">0</span>)  step[s] = inf;      <span class="comment">//å¦‚æœå½“å‰èŠ‚ç‚¹æ— ä»»ä½•æµé‡é€šè¿‡,å–æ¶ˆæ ‡è®°</span></span><br><span class="line">    <span class="keyword">return</span> flow;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Dinic</span><span class="params">(<span class="keyword">int</span> s , <span class="keyword">int</span> t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> flow = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (bfs(s , t))</span><br><span class="line">    &#123;</span><br><span class="line">        flow += dfs(s , t , inf);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> flow;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//ios_base::sync_with_stdio(0);</span></span><br><span class="line">    <span class="keyword">int</span> t;<span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;t);</span><br><span class="line">    <span class="comment">//cin &gt;&gt; t;</span></span><br><span class="line">    <span class="keyword">int</span> k = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (t--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//cin &gt;&gt; n &gt;&gt; m;</span></span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n , &amp;m);</span><br><span class="line">        <span class="keyword">int</span> u , v , w;</span><br><span class="line">        init();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//cin &gt;&gt; u &gt;&gt; v &gt;&gt; w;</span></span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span> , &amp;u , &amp;v , &amp;w);</span><br><span class="line">            add(u , v , w);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Case %d: %d\n"</span> , k++ , Dinic(<span class="number">1</span> , n));</span><br><span class="line">        <span class="comment">//cout &lt;&lt; "Case " &lt;&lt; k++ &lt;&lt; ": " &lt;&lt; ans &lt;&lt; endl;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å­¦é•¿çš„ä»£ç ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// hdu 3549</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PB push_back</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> c[maxn][maxn],f[maxn][maxn],p[maxn],a[maxn];</span><br><span class="line"><span class="keyword">int</span> m,n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">bfs</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; q;</span><br><span class="line">    <span class="built_in">memset</span>(p,<span class="number">-1</span>,<span class="keyword">sizeof</span>(p));</span><br><span class="line">    <span class="built_in">memset</span>(a,<span class="number">0</span>,<span class="keyword">sizeof</span>(a));</span><br><span class="line">    a[<span class="number">1</span>] = INF;</span><br><span class="line">    q.push(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">while</span>(!q.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> u = q.front();q.pop();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(!a[i] &amp;&amp; c[u][i]&gt;f[u][i])</span><br><span class="line">            &#123;</span><br><span class="line">                p[i] = u;</span><br><span class="line">                q.push(i);</span><br><span class="line">                a[i] = min(a[u],c[u][i]-f[u][i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(a[n]) <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(!a[n]) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> u=n;u!=<span class="number">1</span>;u=p[u])</span><br><span class="line">    &#123;</span><br><span class="line">        f[p[u]][u] += a[n];</span><br><span class="line">        f[u][p[u]] -= a[n];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> a[n];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Edmonds_Karp</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> tmp = bfs();</span><br><span class="line">        <span class="keyword">if</span>(tmp==<span class="number">0</span>) <span class="keyword">return</span> res;</span><br><span class="line">        res += tmp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> ca=<span class="number">1</span>;ca&lt;=t;ca++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;m);</span><br><span class="line">        <span class="built_in">memset</span>(c,<span class="number">0</span>,<span class="keyword">sizeof</span>(c));</span><br><span class="line">        <span class="built_in">memset</span>(f,<span class="number">0</span>,<span class="keyword">sizeof</span>(f));</span><br><span class="line">        <span class="keyword">int</span> u,v,w;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>,&amp;u,&amp;v,&amp;w);</span><br><span class="line">            c[u][v] += w;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> max_flow=Edmonds_Karp();</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Case %d: %d\n"</span>,ca,max_flow);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="problem-c-æˆ¿å­å’Œè½¦">Problem C: æˆ¿å­å’Œè½¦</h3><p>Time Limit: 1 Sec Memory Limit: 128 MB</p><blockquote><p>Description</p></blockquote><blockquote><p>åä¸­å†œä¸šå¤§å­¦æ€»å…±æœ‰nä¸ªè€å¸ˆï¼Œfç§æˆ¿å­å’Œdç§è½¦ï¼ˆ1 &lt;= nï¼Œfï¼Œd &lt;= 200ï¼‰ã€‚æ¯ä¸ªè€å¸ˆéƒ½æœ‰è‡ªå·±å–œæ¬¢çš„ä¸€äº›æˆ¿å­å’Œè½¦çš„ç±»å‹ï¼Œç°åœ¨è¦ä½ æŠŠè¿™äº›æˆ¿å­å’Œè½¦åˆ†é…ç»™è¿™nä¸ªè€å¸ˆï¼Œæ¯ä¸ªè€å¸ˆåªåˆ†é…ä¸€å¥—æˆ¿å­å’Œä¸€è¾†è½¦ã€‚é—®ä½ æœ€å¤šèƒ½ä½¿å¤šå°‘ä¸ªè€å¸ˆæ»¡æ„å¯¹åº”çš„åˆ†é…ã€‚</p></blockquote><blockquote><p>Input</p></blockquote><blockquote><p>æœ‰å¤šç»„æµ‹è¯•æ•°æ®ï¼Œæ¯ç»„æµ‹è¯•æ•°æ®ç¬¬ä¸€è¡Œæ˜¯3ä¸ªæ­£æ•´æ•°ï¼Œnï¼Œfï¼Œdï¼Œè¡¨ç¤ºè€å¸ˆä¸ªæ•°ï¼Œæˆ¿å­ç§æ•°ï¼Œè½¦å­ç§æ•°ã€‚</p></blockquote><blockquote><p>ç¬¬äºŒè¡ŒåŒ…å«fä¸ªæ•´æ•°ï¼Œå…¶ä¸­ç¬¬iä¸ªæ•°è¡¨ç¤ºç¬¬iç§æˆ¿å­çš„ä¸ªæ•°ã€‚</p></blockquote><blockquote><p>ç¬¬ä¸‰è¡ŒåŒ…å«dä¸ªæ•´æ•°ï¼Œå…¶ä¸­ç¬¬iä¸ªæ•°è¡¨ç¤ºç¬¬iç§è½¦å­çš„ä¸ªæ•°ã€‚</p></blockquote><blockquote><p>ä¹‹ånè¡Œï¼Œæ¯è¡ŒåŒ…å«é•¿åº¦ä¸ºfçš„å­—ç¬¦ä¸²ï¼Œå…¶ä¸­ç¬¬iè¡Œç¬¬jä¸ªå­—ç¬¦è¡¨ç¤ºç¬¬iä¸ªè€å¸ˆæ˜¯å¦å–œæ¬¢ç¬¬jç§æˆ¿å­ï¼Œâ€˜Yâ€™è¡¨ç¤ºå–œæ¬¢ï¼Œâ€˜Nâ€™è¡¨ç¤ºä¸å–œæ¬¢ã€‚</p></blockquote><blockquote><p>ä¹‹ånè¡Œï¼Œæ¯è¡ŒåŒ…å«é•¿åº¦ä¸ºdçš„å­—ç¬¦ä¸²ï¼Œå…¶ä¸­ç¬¬iè¡Œç¬¬jä¸ªå­—ç¬¦è¡¨ç¤ºç¬¬iä¸ªè€å¸ˆæ˜¯å¦å–œæ¬¢ç¬¬jç§è½¦å­ï¼Œâ€˜Yâ€™è¡¨ç¤ºå–œæ¬¢ï¼Œâ€˜Nâ€™è¡¨ç¤ºä¸å–œæ¬¢ã€‚</p></blockquote><blockquote><p>Output</p></blockquote><blockquote><p>å¯¹äºæ¯ç»„æµ‹è¯•æ•°æ®ï¼Œè¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å¤§çš„è€å¸ˆæ»¡æ„çš„ä¸ªæ•°ã€‚</p></blockquote><blockquote><p>Sample Input 4 3 3 1 1 1 1 1 1 YYN NYY YNY YNY YNY YYN YYN NNY Sample Output 3</p></blockquote><p>è¿™é“é¢˜ä¸»è¦æ˜¯å°†é¢˜ç›®æ‰€ç»™çš„ä¿¡æ¯ç”¨å›¾æè¿°å‡ºæ¥ï¼Œï¼Œï¼Œè€å¸ˆçš„å¤„ç†æ˜¯ä¸€åˆ†ä¸ºäºŒå³å¯ï¼Œï¼Œï¼Œ</p><p>æˆ‘çš„ä»£ç :</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ms(a , b) memset(a , b , sizeof(a))</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="comment">//å‰å‘æ˜Ÿ</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxm = <span class="number">1e3</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">int</span> n , f , d;</span><br><span class="line"><span class="keyword">int</span> home[maxm];</span><br><span class="line"><span class="keyword">int</span> car[maxm];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Edge</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> to;</span><br><span class="line">    <span class="keyword">int</span> next;</span><br><span class="line">    <span class="keyword">int</span> w;</span><br><span class="line">&#125;edge[maxn &lt;&lt; <span class="number">1</span>];</span><br><span class="line"><span class="keyword">int</span> head[maxn];</span><br><span class="line"><span class="keyword">bool</span> vis[maxn];</span><br><span class="line"><span class="keyword">int</span> cnt;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ms(head , <span class="number">-1</span>);</span><br><span class="line">    cnt = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> u , <span class="keyword">int</span> v , <span class="keyword">int</span> w)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    edge[cnt].to = v;</span><br><span class="line">    edge[cnt].w = w;</span><br><span class="line">    edge[cnt].next = head[u];</span><br><span class="line">    head[u] = cnt++;</span><br><span class="line">    edge[cnt].to = u;                       <span class="comment">//æ·»åŠ åå‘è¾¹ï¼Œï¼Œæµé‡ä¸ºé›¶</span></span><br><span class="line">    edge[cnt].w = <span class="number">0</span>;</span><br><span class="line">    edge[cnt].next = head[v];</span><br><span class="line">    head[v] = cnt++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> step[maxn];</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">bfs</span><span class="params">(<span class="keyword">int</span> s , <span class="keyword">int</span> t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ms(step , <span class="number">-1</span>);</span><br><span class="line">    step[s] = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; q;</span><br><span class="line">    q.push(s);</span><br><span class="line">    <span class="keyword">while</span> (!q.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> u = q.front();q.pop();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = head[u]; i != <span class="number">-1</span>; i = edge[i].next)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (step[edge[i].to] == <span class="number">-1</span> &amp;&amp; edge[i].w &gt; <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                step[edge[i].to] = step[u] + <span class="number">1</span>;</span><br><span class="line">                q.push(edge[i].to);</span><br><span class="line">                <span class="keyword">if</span> (edge[i].to == t) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> step[t] != <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> s , <span class="keyword">int</span> t , <span class="keyword">int</span> f)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (s == t || !f)   <span class="keyword">return</span> f;</span><br><span class="line">    <span class="keyword">int</span> flow = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = head[s]; i != <span class="number">-1</span>; i = edge[i].next)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (step[s] + <span class="number">1</span> == step[edge[i].to] &amp;&amp; edge[i].w &gt; <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> d = dfs(edge[i].to , t , min(edge[i].w , f));</span><br><span class="line">            <span class="keyword">if</span> (d &gt; <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                edge[i].w -= d;</span><br><span class="line">                edge[i ^ <span class="number">1</span>].w += d;</span><br><span class="line">                flow += d;                  <span class="comment">//ç´¯åŠ å½“å‰èŠ‚ç‚¹çš„æŸæ¡è·¯å¾„çš„åˆé€‚æµé‡</span></span><br><span class="line">                f -= d;                     <span class="comment">//å½“å‰èŠ‚ç‚¹çš„å®¹é‡å‡å»æŸæ¡è·¯å¾„çš„åˆé€‚æµé‡</span></span><br><span class="line">                <span class="keyword">if</span> (f == <span class="number">0</span>) <span class="keyword">break</span>;          <span class="comment">//å¦‚æœå½“å‰èŠ‚ç‚¹çš„å®¹é‡ç”¨å®Œ,è¯´æ˜æ— æ³•å†é€šè¿‡ä»»ä½•æµé‡</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (flow == <span class="number">0</span>)  step[s] = inf;      <span class="comment">//å¦‚æœå½“å‰èŠ‚ç‚¹æ— ä»»ä½•æµé‡é€šè¿‡,å–æ¶ˆæ ‡è®°</span></span><br><span class="line">    <span class="keyword">return</span> flow;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Dinic</span><span class="params">(<span class="keyword">int</span> s , <span class="keyword">int</span> t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> flow = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (bfs(s , t))</span><br><span class="line">    &#123;</span><br><span class="line">        flow += dfs(s , t , inf);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> flow;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//ios_base::sync_with_stdio(0);</span></span><br><span class="line">    <span class="keyword">while</span> (~<span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;n , &amp;f , &amp;d))</span><br><span class="line">    &#123;</span><br><span class="line">        init();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= f; i++)</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;home[i]);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= d; i++)</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;car[i]);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> s = <span class="number">0</span>;                                  <span class="comment">//è¶…çº§åŸç‚¹</span></span><br><span class="line">        <span class="keyword">int</span> t = f + n + n + d + <span class="number">1</span>;                  <span class="comment">//æ±‡ç‚¹</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= f; i++)</span><br><span class="line">            add(<span class="number">0</span> , i , home[i]);                   <span class="comment">//åŸç‚¹åˆ°æ¯ä¸ªæˆ¿å­çš„ç‚¹å»ºè¾¹</span></span><br><span class="line">        <span class="keyword">char</span> str[maxm];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%s"</span> , str);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= f; j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (str[j - <span class="number">1</span>] == <span class="string">'Y'</span>)</span><br><span class="line">                    add(j , i + f, <span class="number">1</span>);              <span class="comment">//è€å¸ˆæ»¡æ„çš„å’Œå¯¹åº”çš„æˆ¿å­è¿æ¥ï¼Œï¼Œï¼Œæµé‡ä¸º1</span></span><br><span class="line">            &#125;</span><br><span class="line">            add(i + f , f + n + i , <span class="number">1</span>);             <span class="comment">//åˆ†ç¦»å‡ºä¸¤ä¸ªè€å¸ˆçš„ç‚¹ï¼Œï¼Œï¼ŒåŒä¸€ä¸ªè€å¸ˆä¹‹é—´æµé‡ä¸º1</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%s"</span> , str);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= d; j++)</span><br><span class="line">                <span class="keyword">if</span> (str[j - <span class="number">1</span>] == <span class="string">'Y'</span>)</span><br><span class="line">                add(f + n + i , f + n + n + j , <span class="number">1</span>);<span class="comment">//ç¬¬äºŒä¸ªè€å¸ˆçš„ç‚¹å’Œè½¦å­å»ºè¾¹ï¼Œï¼Œï¼Œæµé‡ä¸º1</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= d; i++)</span><br><span class="line">            add(f + n + n + i , t , car[i]);        <span class="comment">//æ±‡ç‚¹å’Œè½¦å­ä¹‹é—´å»ºè¾¹ï¼Œ</span></span><br><span class="line"></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span> , Dinic(s , t));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">         add(f + n + n + i , t , <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//----------</span></span><br><span class="line"><span class="comment">//è¿™ä¸ªåœ¨å¤„ç†ç‚¹ä¹‹é—´çš„å…³ç³»å’Œæˆ‘çš„ä¸åŒï¼Œï¼Œï¼Œä¸€ä¸ªæ˜¯è€å¸ˆåˆ†å¼€å¦ä¸€ä¸ªæ˜¯åˆ†å¼€çš„è€å¸ˆç›¸é‚»å°±æ˜¯ä¸‹é¢è¿™ä¸ª</span></span><br><span class="line">        <span class="keyword">int</span> s = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> t = f + n + n + d + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= f; i++)</span><br><span class="line">            add(<span class="number">0</span> , i , home[i]);</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">char</span> str[maxm];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%s"</span> , str);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= f; j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (str[j - <span class="number">1</span>] == <span class="string">'Y'</span>)</span><br><span class="line">                    add(j , f + <span class="number">2</span> * i - <span class="number">1</span> , <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            add(f + <span class="number">2</span> * i - <span class="number">1</span> , f + <span class="number">2</span> * i , <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%s"</span> , str);</span><br><span class="line"> </span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= d; j++)</span><br><span class="line">                <span class="keyword">if</span> (str[j - <span class="number">1</span>] == <span class="string">'Y'</span>)</span><br><span class="line">                add(f + <span class="number">2</span> * i , f + n + n + j , <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= d; i++)</span><br><span class="line">            add(f + n + n + i , t , car[i]);</span><br><span class="line"> </span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span> , Dinic(s , t));</span><br></pre></td></tr></table></figure><p>å­¦é•¿çš„ä»£ç :</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// hdu 4292</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mem(a,b) memset(a,b,sizeof(a))</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N=<span class="number">1000</span>+<span class="number">50</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> M=<span class="number">1e6</span>+<span class="number">50</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    node() &#123;&#125;;</span><br><span class="line">    node(<span class="keyword">int</span> tv,<span class="keyword">int</span> tw,<span class="keyword">int</span> tnext)</span><br><span class="line">    &#123;</span><br><span class="line">        v=tv,w=tw,next=tnext;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">int</span> v,w,next;</span><br><span class="line">&#125; e[M];</span><br><span class="line"><span class="keyword">int</span> first[N],vis[N],dis[N],tot;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add_edge</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> v,<span class="keyword">int</span> w)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    e[tot]=node(v,w,first[u]);</span><br><span class="line">    first[u]=tot++;</span><br><span class="line">    e[tot]=node(u,<span class="number">0</span>,first[v]);</span><br><span class="line">    first[v]=tot++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">bfs</span><span class="params">(<span class="keyword">int</span> s,<span class="keyword">int</span> t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    mem(vis,<span class="number">0</span>);</span><br><span class="line">    mem(dis,<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt;q;</span><br><span class="line">    q.push(s);</span><br><span class="line">    vis[s]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(!q.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> u=q.front();</span><br><span class="line">        q.pop();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=first[u]; ~i; i=e[i].next)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(!vis[e[i].v]&amp;&amp;e[i].w&gt;<span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                vis[e[i].v]=<span class="number">1</span>;</span><br><span class="line">                dis[e[i].v]=dis[u]+<span class="number">1</span>;</span><br><span class="line">                q.push(e[i].v);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dis[t];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> t,<span class="keyword">int</span> flow)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(u==t)<span class="keyword">return</span> flow;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=first[u]; ~i; i=e[i].next)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(dis[e[i].v]==dis[u]+<span class="number">1</span>&amp;&amp;e[i].w&gt;<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> dd=dfs(e[i].v,t,min(e[i].w,flow));</span><br><span class="line">            <span class="keyword">if</span>(dd)</span><br><span class="line">            &#123;</span><br><span class="line">                e[i].w-=dd;</span><br><span class="line">                e[i^<span class="number">1</span>].w+=dd;</span><br><span class="line">                <span class="keyword">return</span> dd;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    dis[u]=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Dinic</span><span class="params">(<span class="keyword">int</span> s,<span class="keyword">int</span> t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">0</span>,flow;</span><br><span class="line">    <span class="keyword">while</span>(bfs(s,t))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">while</span>(flow=dfs(s,t,INF))</span><br><span class="line">            ans+=flow;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    mem(first,<span class="number">-1</span>);</span><br><span class="line">    tot=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> a[N],b[N];</span><br><span class="line"><span class="keyword">char</span> s[N];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,f,d;</span><br><span class="line">    <span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>,&amp;n,&amp;f,&amp;d))</span><br><span class="line">    &#123;</span><br><span class="line">        init();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=f; i++) <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;a[i]);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=d; i++) <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;b[i]);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            add_edge(f+<span class="number">2</span>*i<span class="number">-1</span>,f+<span class="number">2</span>*i,<span class="number">1</span>);</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%s"</span>,s+<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>; j&lt;=f; j++)</span><br><span class="line">                <span class="keyword">if</span>(s[j]==<span class="string">'Y'</span>)</span><br><span class="line">                    add_edge(j,f+<span class="number">2</span>*i<span class="number">-1</span>,<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%s"</span>,s+<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>; j&lt;=d; j++)</span><br><span class="line">                <span class="keyword">if</span>(s[j]==<span class="string">'Y'</span>)</span><br><span class="line">                    add_edge(f+<span class="number">2</span>*i,f+<span class="number">2</span>*n+j,<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=f; i++) add_edge(<span class="number">0</span>,i,a[i]);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=d; i++) add_edge(<span class="number">2</span>*n+f+i,<span class="number">2</span>*n+f+d+<span class="number">1</span>,b[i]);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,Dinic(<span class="number">0</span>,<span class="number">2</span>*n+f+d+<span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="problem-d-å›å®¶">Problem D: å›å®¶</h3><p>Time Limit: 5 Sec Memory Limit: 128 MB</p><blockquote><p>Description</p></blockquote><blockquote><p>åœ¨ç½‘æ ¼åœ°å›¾ä¸Šæœ‰nä¸ªäººå’Œnä¸ªæˆ¿å­ã€‚åœ¨æ¯ä¸ªå•ä½æ—¶é—´å†…ï¼Œæ¯ä¸ªäººéƒ½å¯ä»¥æ°´å¹³æˆ–å‚ç›´ç§»åŠ¨åˆ°ç›¸é‚»ç‚¹ã€‚å¯¹äºæ¯ä¸ªäººï¼Œä½ éœ€è¦ä¸ºä»–ç§»åŠ¨çš„æ¯ä¸€æ­¥æ”¯ä»˜1ç¾å…ƒçš„æ—…è¡Œè´¹ï¼Œç›´åˆ°ä»–è¿›å…¥æˆ¿å­ã€‚æ¯ä¸ªæˆ¿å­åªèƒ½å®¹çº³ä¸€ä¸ªäººã€‚ç°åœ¨é—®ä½ æ‰€æœ‰äººéƒ½å›åˆ°æˆ¿å­æ‰€éœ€è¦çš„æœ€å°‘è´¹ç”¨æ˜¯å¤šå°‘ï¼Ÿè¾“å…¥æ˜¯ä¸€ä¸ªç½‘æ ¼å›¾ï¼Œâ€˜.â€™è¡¨ç¤ºç©ºåœ°ï¼Œâ€˜Hâ€™è¡¨ç¤ºæˆ¿å­ï¼Œâ€˜mâ€™è¡¨ç¤ºäººã€‚</p></blockquote><blockquote><p>Input</p></blockquote><blockquote><p>æœ‰å¤šç»„æµ‹è¯•æ•°æ®ï¼Œå¯¹äºæ¯ç»„æµ‹è¯•æ•°æ®ç¬¬ä¸€è¡Œæ˜¯ä¸¤ä¸ªæ­£æ•´æ•°nï¼Œmè¡¨ç¤ºåœ°å›¾çš„è¡Œå’Œåˆ—ï¼ˆ2&lt;=nï¼Œm&lt;=100ï¼‰ã€‚åœ°å›¾ä¸Šæœ‰ç›¸åŒæ•°é‡çš„æˆ¿å­å’Œäººï¼Œæˆ¿å­æœ€å¤šä¸è¶…è¿‡100ã€‚è¾“å…¥ä»¥n=0ï¼Œm=0ç»“æŸã€‚</p></blockquote><blockquote><p>Output</p></blockquote><blockquote><p>å¯¹äºæ¯ç»„æµ‹è¯•æ•°æ®è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ‰€æœ‰äººéƒ½å›åˆ°æˆ¿å­æ‰€éœ€çš„æœ€å°è´¹ç”¨ã€‚</p></blockquote><blockquote><p>Sample Input 2 2 .m H. 5 5 HH..m ..... ..... ..... mm..H 7 8 ...H.... ...H.... ...H.... mmmHmmmm ...H.... ...H.... ...H.... 0 0</p></blockquote><blockquote><p>Sample Output 2 10 28</p></blockquote><p>è¿™é“é¢˜è‡ªå·±åšçš„æ—¶å€™è¢«ç½‘ä¸Šçš„æ¨¡æ¿å‘äº†ä¸€æ‰‹ï¼Œï¼Œï¼Œä¸€ç›´tleï¼Œï¼Œï¼Œæ¢æ¨¡æ¿å°±è¡Œäº†ï¼Œï¼Œï¼Œ ä¸»è¦æ€è·¯æ˜¯ï¼Œå…ˆå°†äººæˆ¿æ‰¾åˆ°ï¼Œï¼Œï¼Œè®¡ç®—å‡ºæ¯ä¸€ä¸ªäººå’Œæ‰€æœ‰æˆ¿å­ç›´æ¥çš„è·ç¦»ï¼Œï¼Œè¿™ä¸ªè·ç¦»ä¹Ÿå«æ›¼å“ˆé¡¿è·ç¦»ï¼Œï¼Œï¼Œç„¶åäººæˆ¿ç›´æ¥å»ºè¾¹ï¼Œï¼Œå†å¼„ä¸€ä¸ªè¶…çº§åŸç‚¹å’Œæ±‡ç‚¹æ±‚åŸç‚¹å’Œä¼šé¡¶å•Šç›´æ¥çš„æœ€å°è´¹ç”¨çš„æœ€å¤§æµå°±å¯ä»¥äº†ï¼Œï¼Œï¼Œï¼Œ</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ms(a , b) memset(a , b , sizeof(a))</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="comment">//å‰å‘æ˜Ÿ</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e3</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxm = <span class="number">1e3</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">int</span> n , m;</span><br><span class="line"><span class="keyword">char</span> mp[maxm][maxm];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Man</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> x , y;</span><br><span class="line">&#125;man[maxn];</span><br><span class="line"><span class="keyword">int</span> cnt_man;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Home</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> x , y;</span><br><span class="line">&#125;home[maxn];</span><br><span class="line"><span class="keyword">int</span> cnt_home;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Edge</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> v;</span><br><span class="line">    <span class="keyword">int</span> u;</span><br><span class="line">    <span class="keyword">int</span> next;</span><br><span class="line">    <span class="keyword">int</span> cap;</span><br><span class="line">    <span class="keyword">int</span> cost;</span><br><span class="line">    Edge()&#123;&#125;</span><br><span class="line">    Edge(<span class="keyword">int</span> u , <span class="keyword">int</span> v, <span class="keyword">int</span> cap , <span class="keyword">int</span> cost , <span class="keyword">int</span> next):u(u) , v(v) , cap(cap) , cost(cost) , next(next)&#123;&#125;</span><br><span class="line">&#125;edge[maxn &lt;&lt; <span class="number">7</span>];</span><br><span class="line"><span class="keyword">int</span> head[maxn];</span><br><span class="line"><span class="keyword">int</span> cnt;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ms(head , <span class="number">-1</span>);</span><br><span class="line">    cnt = <span class="number">0</span>;</span><br><span class="line">    cnt_home = <span class="number">1</span>;</span><br><span class="line">    cnt_man = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> from , <span class="keyword">int</span> to , <span class="keyword">int</span> cap , <span class="keyword">int</span> cost)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    edge[cnt] = Edge(from , to , cap , cost , head[from]);</span><br><span class="line">    head[from] = cnt++;</span><br><span class="line">    edge[cnt] = Edge(to , from , <span class="number">0</span> , -cost , head[to]);</span><br><span class="line">    head[to] = cnt++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> dis[maxn &lt;&lt; <span class="number">1</span>];</span><br><span class="line"><span class="keyword">int</span> pe[maxn &lt;&lt; <span class="number">1</span>];</span><br><span class="line"><span class="keyword">bool</span> vis[maxn &lt;&lt; <span class="number">1</span>];</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">spfa</span><span class="params">(<span class="keyword">int</span> s , <span class="keyword">int</span> t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ms(dis , inf);</span><br><span class="line">    ms(vis , <span class="literal">false</span>);</span><br><span class="line">    ms(pe , <span class="number">-1</span>);</span><br><span class="line">    dis[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    vis[s] = <span class="literal">true</span>;</span><br><span class="line">    <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; q;</span><br><span class="line">    q.push(s);</span><br><span class="line">    <span class="keyword">while</span>(!q.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> u = q.front();q.pop();</span><br><span class="line">        vis[u] = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = head[u]; i != <span class="number">-1</span>; i = edge[i].next)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> v = edge[i].v;</span><br><span class="line">            <span class="keyword">int</span> cost = edge[i].cost;</span><br><span class="line">            <span class="keyword">if</span> (edge[i].cap &gt; <span class="number">0</span> &amp;&amp; dis[v] &gt; dis[u] + cost)</span><br><span class="line">            &#123;</span><br><span class="line">                dis[v] = dis[u] + cost;</span><br><span class="line">                pe[v] = i;</span><br><span class="line">                <span class="keyword">if</span> (!vis[v])</span><br><span class="line">                &#123;</span><br><span class="line">                    vis[v] = <span class="literal">true</span>;</span><br><span class="line">                    q.push(v);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (dis[t] == inf)  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">min_cost_flow</span><span class="params">(<span class="keyword">int</span> s , <span class="keyword">int</span> t , <span class="keyword">int</span> f)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (spfa(s , t))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> flow = inf;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = pe[t]; i != <span class="number">-1</span>; i = pe[edge[i].u])</span><br><span class="line">        &#123;</span><br><span class="line">            flow = min(flow , edge[i].cap);</span><br><span class="line">        &#125;</span><br><span class="line">        f -= flow;</span><br><span class="line">        <span class="keyword">if</span> (f &lt; <span class="number">0</span>)  <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = pe[t]; i != <span class="number">-1</span>; i = pe[edge[i].u])</span><br><span class="line">        &#123;</span><br><span class="line">            edge[i].cap -= flow;</span><br><span class="line">            edge[i ^ <span class="number">1</span>].cap += flow;</span><br><span class="line">        &#125;</span><br><span class="line">        res += flow * dis[t];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//ios_base::sync_with_stdio(0);</span></span><br><span class="line">    <span class="keyword">while</span> (~<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;n , &amp;m) &amp;&amp; n &amp;&amp; m)</span><br><span class="line">    &#123;</span><br><span class="line">        init();</span><br><span class="line">        <span class="keyword">char</span> str[maxm];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)        <span class="comment">//å­˜å›¾</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%s"</span> , str);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m; j++)</span><br><span class="line">                mp[i][j] = str[j - <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)        <span class="comment">//äººæˆ¿åˆ†ç¦»ï¼Œï¼Œè®°å½•åæ ‡</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m; j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (mp[i][j] == <span class="string">'H'</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    home[cnt_home].x = i;</span><br><span class="line">                    home[cnt_home++].y = j;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (mp[i][j] == <span class="string">'m'</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    man[cnt_man].x = i;</span><br><span class="line">                    man[cnt_man++].y = j;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= cnt_man - <span class="number">1</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= cnt_home - <span class="number">1</span>; j++)</span><br><span class="line">            &#123;                               <span class="comment">//ç®—å‡ºæ¯ä¸€ä¸ªäººå¯¹äºæ‰€æœ‰æˆ¿å­çš„è·ç¦»ï¼Œï¼Œï¼ˆæ›¼å“ˆé¡¿è·ç¦»ï¼‰ï¼Œï¼Œï¼Œ</span></span><br><span class="line">                <span class="keyword">int</span> w = (<span class="keyword">int</span>)<span class="built_in">fabs</span>(man[i].x - home[j].x) + (<span class="keyword">int</span>)<span class="built_in">fabs</span>(man[i].y - home[j].y);</span><br><span class="line">                add(i , j + cnt_man - <span class="number">1</span> , <span class="number">1</span> , w);       <span class="comment">//äººæˆ¿ä¹‹é—´è¿è¾¹ï¼Œï¼Œï¼Œæµé‡ä¸ºåˆšåˆšçš„å€¼</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> t = cnt_home;                   <span class="comment">//æ±‡ç‚¹</span></span><br><span class="line">        t *= <span class="number">2</span>;</span><br><span class="line">        t--;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= cnt_man - <span class="number">1</span>; i++)  <span class="comment">//è¶…çº§åŸç‚¹å’Œæ¯ä¸ªäººå»ºè¾¹ï¼Œï¼Œæµé‡ä¸º0</span></span><br><span class="line">            add(<span class="number">0</span> , i , <span class="number">1</span> , <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = cnt_man; i &lt;= t - <span class="number">1</span>; i++)  <span class="comment">//æˆ¿å­å’Œæ±‡ç‚¹å»ºè¾¹</span></span><br><span class="line">            add(i , t , <span class="number">1</span> , <span class="number">0</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span> , min_cost_flow(<span class="number">0</span> , t , t + <span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å­¦é•¿çš„ä»£ç ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// hdu 1533</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> PB push_back</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1005</span>;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; P;</span><br><span class="line"><span class="keyword">char</span> mp[<span class="number">105</span>][<span class="number">105</span>];</span><br><span class="line"><span class="keyword">int</span> dist[maxn&lt;&lt;<span class="number">1</span>],pe[maxn&lt;&lt;<span class="number">1</span>],head[maxn&lt;&lt;<span class="number">1</span>];</span><br><span class="line"><span class="keyword">bool</span> vis[maxn&lt;&lt;<span class="number">1</span>];</span><br><span class="line"><span class="keyword">int</span> n,m,tot;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Edge</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> u,v,cap,cost,next;</span><br><span class="line">    Edge()&#123;&#125;</span><br><span class="line">    Edge(<span class="keyword">int</span> u,<span class="keyword">int</span> v,<span class="keyword">int</span> cap,<span class="keyword">int</span> cost,<span class="keyword">int</span> next):u(u),v(v),cap(cap),cost(cost),next(next)&#123;&#125;</span><br><span class="line">&#125;edge[maxn&lt;&lt;<span class="number">7</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add_edge</span><span class="params">(<span class="keyword">int</span> from,<span class="keyword">int</span> to,<span class="keyword">int</span> cap,<span class="keyword">int</span> cost)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    edge[tot] = Edge(from,to,cap,cost,head[from]);</span><br><span class="line">    head[from] = tot++;</span><br><span class="line">    edge[tot] = Edge(to,from,<span class="number">0</span>,-cost,head[to]);</span><br><span class="line">    head[to] = tot++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">SPFA</span><span class="params">(<span class="keyword">int</span> s,<span class="keyword">int</span> t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(dist,INF,<span class="keyword">sizeof</span>(dist));</span><br><span class="line">    <span class="built_in">memset</span>(vis,<span class="literal">false</span>,<span class="keyword">sizeof</span>(vis));</span><br><span class="line">    <span class="built_in">memset</span>(pe,<span class="number">-1</span>,<span class="keyword">sizeof</span>(pe));</span><br><span class="line">    dist[s]=<span class="number">0</span>;</span><br><span class="line">    vis[s]=<span class="literal">true</span>;</span><br><span class="line">    <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; q;</span><br><span class="line">    q.push(s);</span><br><span class="line">    <span class="keyword">while</span>(!q.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> u = q.front();q.pop();</span><br><span class="line">        vis[u] = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=head[u];i!=<span class="number">-1</span>;i=edge[i].next)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> v = edge[i].v;</span><br><span class="line">            <span class="keyword">int</span> cost = edge[i].cost;</span><br><span class="line">            <span class="keyword">if</span>(edge[i].cap&gt;<span class="number">0</span> &amp;&amp; dist[v]&gt;dist[u]+cost)</span><br><span class="line">            &#123;</span><br><span class="line">                dist[v] = dist[u]+cost;</span><br><span class="line">                pe[v] = i;</span><br><span class="line">                <span class="keyword">if</span>(!vis[v])</span><br><span class="line">                &#123;</span><br><span class="line">                    vis[v]=<span class="literal">true</span>;</span><br><span class="line">                    q.push(v);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(dist[t]==INF) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">min_cost_flow</span><span class="params">(<span class="keyword">int</span> s,<span class="keyword">int</span> t,<span class="keyword">int</span> f)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(SPFA(s,t))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> flow = INF;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=pe[t];i!=<span class="number">-1</span>;i=pe[edge[i].u])</span><br><span class="line">        &#123;</span><br><span class="line">            flow = min(flow,edge[i].cap);</span><br><span class="line">        &#125;</span><br><span class="line">        f -= flow;</span><br><span class="line">        <span class="keyword">if</span>(f&lt;<span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=pe[t];i!=<span class="number">-1</span>;i=pe[edge[i].u])</span><br><span class="line">        &#123;</span><br><span class="line">            edge[i].cap -= flow;</span><br><span class="line">            edge[i^<span class="number">1</span>].cap += flow;</span><br><span class="line">        &#125;</span><br><span class="line">        res += flow*dist[t];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dis</span><span class="params">(P a,P b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">abs</span>(a.first-b.first)+<span class="built_in">abs</span>(a.second-b.second);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;m) &amp;&amp; (n!=<span class="number">0</span> &amp;&amp; m!=<span class="number">0</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> num1=<span class="number">0</span>,num2=<span class="number">0</span>;</span><br><span class="line">        P man[maxn],hos[maxn];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%s"</span>,mp[i]);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;m;j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(mp[i][j]==<span class="string">'m'</span>)</span><br><span class="line">                    man[++num1] = P(i,j+<span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span>(mp[i][j]==<span class="string">'H'</span>)</span><br><span class="line">                    hos[++num2] = P(i,j+<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> s=<span class="number">0</span>,t=num1+num2+<span class="number">1</span>;</span><br><span class="line">        <span class="built_in">memset</span>(head,<span class="number">-1</span>,<span class="keyword">sizeof</span>(head));</span><br><span class="line">        tot=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=num1;i++)</span><br><span class="line">            add_edge(<span class="number">0</span>,i,<span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=num2;i++)</span><br><span class="line">            add_edge(num1+i,t,<span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=num1;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=num2;j++)</span><br><span class="line">            &#123;</span><br><span class="line">                add_edge(i,num1+j,<span class="number">1</span>,dis(man[i],hos[j]));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,min_cost_flow(s,t,num1));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é¸½~~~~~~~~~~~~~~</p>]]></content>
      
      
        <tags>
            
            <tag> acm </tag>
            
            <tag> ç®—æ³• </tag>
            
            <tag> ç½‘ç»œæµ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>åŠ¨æ€è§„åˆ’_èƒŒåŒ…é—®é¢˜</title>
      <link href="/2018/07/30/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92-%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98/"/>
      <content type="html"><![CDATA[<h2 id="æ¦‚è¿°">æ¦‚è¿°</h2><p>èƒŒåŒ…é—®é¢˜å°±æ˜¯åŠ¨æ€è§„åˆ’çš„ä¸€ä¸ªå…¸å‹é—®é¢˜ï¼Œï¼Œï¼Œä¸ªäººè§‰å¾—é‡åœ¨è€ƒæŸ¥åŠ¨æ€è§„åˆ’çš„æ€ç»´ï¼Œï¼Œæœ‰æ—¶éœ€è¦å°†é¢˜ç›®æŠ½è±¡å‡ºæ¥ï¼Œï¼Œï¼Œæ‰¾å‡ºç›¸å¯¹åº”çš„æ¨¡å‹ï¼Œï¼Œï¼Œç„¶åä¼˜åŒ–è§£å†³ï¼Œï¼Œï¼Œè€Œä¸æ˜¯ä¸€å‘³çš„å¥—æ¨¡æ¿ã€‚ã€‚ã€‚</p><p>è¿™ç¯‡åšå®¢ä¸»è¦æœ‰ <strong>01èƒŒåŒ…é—®é¢˜</strong> ï¼Œ <strong>å®Œå…¨èƒŒåŒ…é—®é¢˜</strong> ï¼Œ <strong>å¤šé‡èƒŒåŒ…é—®é¢˜</strong> ï¼Œ <strong>æ··å’ŒèƒŒåŒ…é—®é¢˜</strong> è¿˜æœ‰ <strong>äºŒç»´è´¹ç”¨èƒŒåŒ…é—®é¢˜</strong>ï¼Œï¼Œï¼Œ</p><a id="more"></a><h2 id="æ¦‚å¿µçŸ¥è¯†ç‚¹">æ¦‚å¿µçŸ¥è¯†ç‚¹</h2><p><a href="https://www.kancloud.cn/kancloud/pack/70124" target="_blank" rel="noopener">å¤§ä½¬çš„æ–‡ç« å†™çš„ä¸é”™ï¼Œï¼Œæœ‰æ—¶é—´å¥½å¥½çœ‹çœ‹</a></p><h3 id="èƒŒåŒ…é—®é¢˜">01èƒŒåŒ…é—®é¢˜</h3><blockquote><p>æœ‰ N ä»¶ç‰©å“å’Œä¸€ä¸ªå®¹é‡ä¸º V çš„èƒŒåŒ…ã€‚æ”¾å…¥ç¬¬ i ä»¶ç‰©å“è€—è´¹çš„è´¹ç”¨æ˜¯ C_i ï¼Œå¾—åˆ°çš„ä»·å€¼æ˜¯ W_i ã€‚æ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…å¯ä½¿ä»·å€¼æ€»å’Œæœ€å¤§ã€‚</p></blockquote><blockquote><p>è¿™æ˜¯æœ€åŸºç¡€çš„èƒŒåŒ…é—®é¢˜ï¼Œç‰¹ç‚¹æ˜¯ï¼šæ¯ç§ç‰©å“ä»…æœ‰ä¸€ä»¶ï¼Œå¯ä»¥é€‰æ‹©æ”¾æˆ–ä¸æ”¾ã€‚</p></blockquote><p>å®šä¹‰çŠ¶æ€ï¼š</p><p>F[i,v]è¡¨ç¤ºæŠŠå‰iä»¶ç‰©å“æ”¾å…¥å®¹é‡ä¸ºvçš„åŒ…ä¸­å¯ä»¥è·å¾—çš„æœ€å¤§ä»·å€¼ã€‚</p><p>çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š</p><p>F(i,v) = max(F(i-1,v),F(i-1,v-Ci)+Wi)</p><p>ä»£ç ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> c[N];               <span class="comment">//ç¬¬iä¸ªç‰©å“çš„ä»£ä»·</span></span><br><span class="line"><span class="keyword">int</span> w[N];               <span class="comment">//ç¬¬iä¸ªç‰©å“çš„ä»·å€¼</span></span><br><span class="line"><span class="keyword">int</span> f[N][N];            <span class="comment">//f[i][j]è¡¨ç¤ºå°†å‰iä»¶ç‰©å“æ”¾å…¥å®¹é‡ä¸ºjçš„åŒ…æ˜¯çš„æœ€å¤§çš„ä»·å€¼</span></span><br><span class="line">F[<span class="number">0</span>][<span class="number">0</span> - v] = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = c[i]; j &lt;= v; j++)</span><br><span class="line">        f[i][j] = max(f[i - <span class="number">1</span>][j] , f[i - <span class="number">1</span>][j - c[i]] + w[i]);</span><br></pre></td></tr></table></figure><p>æ—¶é—´å¤æ‚åº¦ä¸ºO(v * n)</p><p>ç©ºé—´å¤æ‚åº¦å¯ä»¥ç»§ç»­ä¼˜åŒ–åˆ°O(v)</p><p>å°†äºŒç»´çš„f(i , v)æ”¹æˆä¸€ç»´çš„ï¼Œï¼Œï¼Œé€†åºæ±‚å³å¯</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">f[<span class="number">0</span> - v] = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = v; j &gt;= c[i]; j--)</span><br><span class="line">        f[j] = max(f[j] , f[j - c[i]] + w[i]);</span><br></pre></td></tr></table></figure><p><strong>åˆå§‹åŒ–ç»†èŠ‚</strong></p><p>è‹¥é¢˜ç›®è¦æ±‚ <strong>æ°å¥½å¥½è£…æ»¡èƒŒåŒ…çš„æœ€ä¼˜è§£</strong>ï¼Œï¼Œåˆå§‹åŒ–ï¼šf[0] = 0; f[1 - v] = -INF;</p><p>è‹¥é¢˜ç›®è¦æ±‚ <strong>ä¸éœ€è¦å°†èƒŒåŒ…è£…æ»¡</strong> ï¼Œï¼Œï¼Œï¼Œï¼Œåˆå§‹åŒ–ï¼šf[0 - v] = 0;</p><h3 id="å®Œå…¨èƒŒåŒ…">å®Œå…¨èƒŒåŒ…</h3><h2 id="ä¹ é¢˜">ä¹ é¢˜</h2><h3 id="problem-a-ä¹°ä¸œè¥¿">Problem A: ä¹°ä¸œè¥¿</h3><p>Time Limit: 1 Sec Memory Limit: 128 MB</p><blockquote><p>Description</p></blockquote><blockquote><p>ä»Šå¤©AveryBoyå»ä¸€å®¶è¯¡å¼‚çš„åº—ä¹°ä¸œè¥¿ã€‚å¦‚æœå¡ä¸Šçš„ä½™é¢&gt;=5ï¼Œå°±ä¸€å®šå¯ä»¥ä¹°åˆ°ä¸œè¥¿ï¼Œå³ä½¿ä¹°å®Œä¹‹åå¡ä¸Šä½™é¢ä¸ºè´Ÿï¼›å¦åˆ™ä¸èƒ½ä¹°åˆ°ä¸œè¥¿ï¼Œå³ä½¿å¡ä¸Šçš„ä½™é¢è¶³å¤Ÿã€‚æ‰€ä»¥æœ€åå¤§å®¶è‚¯å®šéƒ½å¸Œæœ›å¡ä¸Šçš„ä½™é¢å°½å¯èƒ½çš„å°‘ã€‚</p></blockquote><blockquote><p>ç°åœ¨å·²çŸ¥å•†åº—æœ‰nç§å•†å“å¹¶ä¸”æ¯ç§å•†å“åªæœ‰ä¸€ä¸ªï¼Œæ¯ç§å•†å“çš„ä»·æ ¼å’Œå¡ä¸Šä½™é¢ï¼Œæ±‚æœ€å°‘èƒ½ä½¿å¡ä¸Šä½™é¢ä¸ºå¤šå°‘ï¼Ÿ</p></blockquote><blockquote><p>Input</p></blockquote><blockquote><p>æœ‰å¤šç»„è¾“å…¥æ•°æ®ï¼Œå¯¹äºæ¯ç»„è¾“å…¥æ•°æ®ï¼š</p></blockquote><blockquote><p>ç¬¬ä¸€è¡Œä¸ºä¸€ä¸ªæ­£æ•´æ•°nï¼Œn&lt;=1000ï¼Œè¡¨ç¤ºå•†å“çš„ä¸ªæ•°ã€‚</p></blockquote><blockquote><p>ç¬¬äºŒè¡Œä¸ºnä¸ªæ­£æ•´æ•°ï¼Œè¡¨ç¤ºæ¯ç§å•†å“çš„ä»·æ ¼ï¼Œä»·æ ¼&lt;=50ã€‚</p></blockquote><blockquote><p>ç¬¬ä¸‰è¡Œä¸ºä¸€ä¸ªæ­£æ•´æ•°mï¼Œm&lt;=1000ï¼Œè¡¨ç¤ºå¡ä¸Šçš„ä½™é¢ã€‚</p></blockquote><blockquote><p>n=0è¡¨ç¤ºè¾“å…¥ç»“æŸã€‚</p></blockquote><blockquote><p>Output</p></blockquote><blockquote><p>å¯¹äºæ¯ç»„è¾“å…¥ï¼Œè¾“å‡ºå¡ä¸Šå¯èƒ½çš„æœ€å°‘ä½™é¢ã€‚</p></blockquote><blockquote><p>Sample Input 1 50 5 10 1 2 3 2 1 1 2 3 2 1 50 0</p></blockquote><blockquote><p>Sample Output -45 32</p></blockquote><p>æˆ‘çš„ä»£ç ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//#include &lt;iostream&gt;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ms(a , b) memset(a , b , sizeof(a))</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">1e4</span>;</span><br><span class="line"><span class="keyword">int</span> f[N];</span><br><span class="line"><span class="keyword">int</span> c[N];</span><br><span class="line"><span class="keyword">int</span> n , m;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">cin</span> &gt;&gt; n &amp;&amp; n)</span><br><span class="line">    &#123;</span><br><span class="line">        ms(f , <span class="number">0</span>);</span><br><span class="line">        ms(c , <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; c[i];</span><br><span class="line">            <span class="comment">//w[i] = c[i];</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> v;<span class="built_in">cin</span> &gt;&gt; v;</span><br><span class="line">        <span class="keyword">if</span> (v &lt; <span class="number">5</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; v &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        sort(c + <span class="number">1</span> , c + <span class="number">1</span> + n);        <span class="comment">//å°†æœ€å¤§çš„é‚£ä¸ªæ”¾æœ€å</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++)     <span class="comment">//æ‰€ä»¥æ˜¯n-1ä¸ª</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = v - <span class="number">5</span>; j &gt;= c[i]; j--)</span><br><span class="line">            &#123;</span><br><span class="line">                    f[j] = max(f[j] , f[j - c[i]] + c[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; v - f[v - <span class="number">5</span>] - c[n] &lt;&lt; <span class="built_in">endl</span>;    <span class="comment">//åœ¨æ·»ä¸Šæœ€åå“ªä¸€ä¸ªæœ€å¤§çš„</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//5</span></span><br><span class="line"><span class="comment">//5 4 5 4 5</span></span><br><span class="line"><span class="comment">//15</span></span><br><span class="line"><span class="comment">//1</span></span><br><span class="line"><span class="comment">//50</span></span><br><span class="line"><span class="comment">//5</span></span><br><span class="line"><span class="comment">//10</span></span><br><span class="line"><span class="comment">//1 2 3 2 1 1 2 3 2 1</span></span><br><span class="line"><span class="comment">//50</span></span><br><span class="line"><span class="comment">//0</span></span><br></pre></td></tr></table></figure><p>å­¦é•¿çš„ä»£ç ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// hdu 2546</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">1005</span>],sz[<span class="number">1005</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,num;</span><br><span class="line">    <span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n)&amp;&amp;n)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;sz[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        sort(sz+<span class="number">1</span>,sz+<span class="number">1</span>+n);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;num);</span><br><span class="line">        <span class="keyword">if</span>(num&lt;<span class="number">5</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,num);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">memset</span>(dp,<span class="number">0</span>,<span class="keyword">sizeof</span>(dp));</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;n;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=num<span class="number">-5</span>;j&gt;=sz[i];j--)</span><br><span class="line">            &#123;</span><br><span class="line">                dp[j] = max(dp[j],dp[j-sz[i]]+sz[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,num-dp[num<span class="number">-5</span>]-sz[n]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="problem-b-æ¸¸æˆ">Problem B: æ¸¸æˆ</h3><p>Time Limit: 1 Sec Memory Limit: 128 MB</p><blockquote><p>Description</p></blockquote><blockquote><p>æœ€è¿‘AveryBoyæ²‰è¿·æ¸¸æˆï¼Œæ— æ³•è‡ªæ‹”ã€‚ä½†æ˜¯æ‰“æ€ªå‡çº§çš„æ¸¸æˆç©ä¹…äº†å¾ˆæ— è¶£ï¼Œç°åœ¨ä»–è¿˜å·®nç‚¹ç»éªŒå°±å‡åˆ°é¡¶çº§äº†ï¼Œä½†æ˜¯ä»–åªå‰©mç‚¹å¿è€åº¦ã€‚æ¯æ€ä¸€ä¸ªæ€ªï¼Œä»–ä¼šå¾—åˆ°å¯¹åº”çš„ç»éªŒå€¼ï¼Œå¹¶å‡æ‰ç›¸åº”çš„å¿è€åº¦ã€‚å½“å¿è€åº¦&lt;=0æ—¶ï¼Œä»–å°±ä¸ä¼šå†ç©æ¸¸æˆã€‚å¹¶ä¸”ä»–æœ€å¤šåªæ€såªæ€ªã€‚è¯·é—®ä»–èƒ½å‡åˆ°é¡¶çº§å—ï¼Ÿ</p></blockquote><blockquote><p>Input</p></blockquote><blockquote><p>è¾“å…¥æ•°æ®æœ‰å¤šç»„ï¼Œå¯¹äºæ¯ç»„æ•°æ®ç¬¬ä¸€è¡Œè¾“å…¥nï¼Œmï¼Œkï¼Œs(0 &lt; n,m,k,s &lt;= 100)å››ä¸ªæ­£æ•´æ•°ã€‚åˆ†åˆ«è¡¨ç¤ºè¿˜éœ€çš„ç»éªŒå€¼ï¼Œä¿ç•™çš„å¿è€åº¦ï¼Œæ€ªçš„ç§æ•°å’Œæœ€å¤šçš„æ€æ€ªæ•°ã€‚æ¥ä¸‹æ¥è¾“å…¥kè¡Œæ•°æ®ã€‚æ¯è¡Œæ•°æ®è¾“å…¥ä¸¤ä¸ªæ­£æ•´æ•°aï¼Œb(0 &lt; a,b &lt;= 20)ï¼›åˆ†åˆ«è¡¨ç¤ºæ€æ‰ä¸€åªè¿™ç§æ€ªAveryBoyä¼šå¾—åˆ°çš„ç»éªŒå€¼å’Œä¼šå‡æ‰çš„å¿è€åº¦ã€‚(æ¯ç§æ€ªéƒ½æœ‰æ— æ•°ä¸ª)</p></blockquote><blockquote><p>Output</p></blockquote><blockquote><p>è¾“å‡ºå‡åˆ°é¡¶çº§è¿˜èƒ½ä¿ç•™çš„æœ€å¤§å¿è€åº¦ï¼Œå¦‚æœæ— æ³•å‡åˆ°é¡¶çº§è¾“å‡º-1ã€‚</p></blockquote><blockquote><p>Sample Input 10 10 1 10 1 1 10 10 1 9 1 1 9 10 2 10 1 1 2 2</p></blockquote><blockquote><p>Sample Output 0 -1 1</p></blockquote><p>æˆ‘çš„ä»£ç ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//#include &lt;iostream&gt;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">110</span>;</span><br><span class="line"><span class="keyword">int</span> f[N][N];</span><br><span class="line"><span class="keyword">int</span> c[N];</span><br><span class="line"><span class="keyword">int</span> w[N];</span><br><span class="line"><span class="keyword">int</span> n , m , k , s;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m &gt;&gt; k &gt;&gt; s)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= k; i++)</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; w[i] &gt;&gt; c[i];</span><br><span class="line"> </span><br><span class="line">        <span class="built_in">memset</span>(f , <span class="number">0</span> , <span class="keyword">sizeof</span>(f));</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">bool</span> flag = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; i++)            <span class="comment">//å¿è€åº¦</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= k; j++)         <span class="comment">//æ€ªçš„ç§æ•°</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> l = <span class="number">1</span>; l &lt;= s; l++)    <span class="comment">//å¯æ€çš„æ€ªçš„æ•°é‡</span></span><br><span class="line">                    <span class="keyword">if</span> (c[j] &lt;= i)</span><br><span class="line">                        f[i][l] = max(f[i][l] , f[i - c[j]][l - <span class="number">1</span>] + w[j]);</span><br><span class="line">            &#125;</span><br><span class="line"> </span><br><span class="line">            <span class="keyword">if</span> (f[i][s] &gt;= n)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; m - i &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                flag = <span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (flag)   <span class="built_in">cout</span> &lt;&lt; <span class="string">"-1"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å­¦é•¿çš„ä»£ç ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// hdu 2159</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">105</span>][<span class="number">105</span>],a[<span class="number">105</span>],b[<span class="number">105</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,m,k,s,tmp;</span><br><span class="line">    <span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%d%d%d%d"</span>,&amp;n,&amp;m,&amp;k,&amp;s))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=k;i++)  <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;a[i],&amp;b[i]);</span><br><span class="line">        <span class="built_in">memset</span>(dp,<span class="number">0</span>,<span class="keyword">sizeof</span>(dp));</span><br><span class="line">        tmp=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=k;j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(i&lt;b[j]) <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> x=<span class="number">1</span>;x&lt;=s;x++)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">for</span>(<span class="keyword">int</span> y=<span class="number">1</span>;y&lt;=x&amp;&amp;y*b[j]&lt;=i;y++)</span><br><span class="line">                    &#123;</span><br><span class="line">                        dp[i][x] = max(dp[i-y*b[j]][x-y]+y*a[j],dp[i][x]);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(dp[i][s]&gt;=n)</span><br><span class="line">            &#123;</span><br><span class="line">                tmp=i;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(tmp==<span class="number">0</span>) <span class="built_in">printf</span>(<span class="string">"-1\n"</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,m-tmp);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="problem-c-ä¹°ä¸œè¥¿2">Problem C: ä¹°ä¸œè¥¿2</h3><p>Time Limit: 1 Sec Memory Limit: 128 MB</p><blockquote><p>Description</p></blockquote><blockquote><p>ä½ æœ‰nå…ƒé’±ï¼Œå•†åº—æœ‰mç§å•†å“ï¼Œæ¯ç§å•†å“éƒ½æœ‰å…¶å¯¹åº”çš„ä»·æ ¼å’Œé‡é‡ã€‚ç°åœ¨é—®ä½ ç”¨è¿™nå…ƒæœ€å¤šèƒ½ä¹°å¤šé‡çš„å•†å“ã€‚</p></blockquote><blockquote><p>Input</p></blockquote><blockquote><p>è¾“å…¥æ•°æ®é¦–å…ˆåŒ…å«ä¸€ä¸ªæ­£æ•´æ•°Cï¼Œè¡¨ç¤ºæœ‰Cç»„æµ‹è¯•ç”¨ä¾‹ï¼Œæ¯ç»„æµ‹è¯•ç”¨ä¾‹çš„ç¬¬ä¸€è¡Œæ˜¯ä¸¤ä¸ªæ•´æ•°nå’Œm(1&lt;=n&lt;=100, 1&lt;=m&lt;=100),åˆ†åˆ«è¡¨ç¤ºç»è´¹çš„é‡‘é¢å’Œå•†å“çš„ç§ç±»ï¼Œç„¶åæ˜¯mè¡Œæ•°æ®ï¼Œæ¯è¡ŒåŒ…å«3ä¸ªæ•°pï¼Œhå’Œc(1&lt;=p&lt;=20,1&lt;=h&lt;=200,1&lt;=c&lt;=20)ï¼Œåˆ†åˆ«è¡¨ç¤ºæ¯ç§å•†å“çš„ä»·æ ¼ã€é‡é‡ä»¥åŠä¸ªæ•°ã€‚</p></blockquote><blockquote><p>Output</p></blockquote><blockquote><p>å¯¹äºæ¯ç»„æµ‹è¯•æ•°æ®ï¼Œè¯·è¾“å‡ºèƒ½å¤Ÿè´­ä¹°å•†å“çš„æœ€é‡çš„é‡é‡ï¼Œä½ å¯ä»¥å‡è®¾ç»è´¹ä¹°ä¸å…‰æ‰€æœ‰çš„å•†å“ï¼Œå¹¶ä¸”ç»è´¹ä½ å¯ä»¥ä¸ç”¨å®Œã€‚æ¯ä¸ªå®ä¾‹çš„è¾“å‡ºå ä¸€è¡Œã€‚</p></blockquote><blockquote><p>Sample Input 1 8 2 2 100 4 4 100 2</p></blockquote><blockquote><p>Sample Output 400</p></blockquote><p>æˆ‘çš„ä»£ç ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//#include &lt;iostream&gt;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ms(a , b) memset(a , b , sizeof(a))</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">1e4</span> + <span class="number">3</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">int</span> f[N];</span><br><span class="line"><span class="keyword">int</span> w[N];</span><br><span class="line"><span class="keyword">int</span> c[N];</span><br><span class="line"><span class="keyword">int</span> m[N];</span><br><span class="line"><span class="keyword">int</span> pw[N];</span><br><span class="line"><span class="keyword">int</span> pc[N];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;<span class="built_in">cin</span> &gt;&gt; t;</span><br><span class="line">    <span class="keyword">while</span> (t--)</span><br><span class="line">    &#123;</span><br><span class="line">        ms(f , <span class="number">0</span>);</span><br><span class="line">        ms(w , <span class="number">0</span>);</span><br><span class="line">        ms(c , <span class="number">0</span>);</span><br><span class="line">        ms(pw , <span class="number">0</span>);</span><br><span class="line">        ms(pc , <span class="number">0</span>);</span><br><span class="line">        ms(m , <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">int</span> n , mm;<span class="built_in">cin</span> &gt;&gt; n &gt;&gt; mm;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= mm; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; pc[i];</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; pw[i];</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; m[i];</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= mm; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> k = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span> (k &lt; m[i])</span><br><span class="line">            &#123;</span><br><span class="line">                w[num] = pw[i] * k;</span><br><span class="line">                c[num] = pc[i] * k;</span><br><span class="line">                num++;</span><br><span class="line">                m[i] -= k;</span><br><span class="line">                k &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            w[num] = pw[i] * m[i];</span><br><span class="line">            c[num] = pc[i] * m[i];</span><br><span class="line">            num++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; num; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = n; j &gt;= c[i]; j--)</span><br><span class="line">            &#123;</span><br><span class="line">                f[j] = max(f[j] , f[j - c[i]] + w[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; f[n] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å­¦é•¿çš„ä»£ç :</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// hdu 2191</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">105</span>],c[<span class="number">505</span>],w[<span class="number">505</span>];</span><br><span class="line"><span class="keyword">int</span> pc[<span class="number">105</span>],pw[<span class="number">105</span>],s[<span class="number">105</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t);</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> n,m;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;m);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>,&amp;pc[i],&amp;pw[i],&amp;s[i]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// äºŒè¿›åˆ¶æ‹†åˆ†</span></span><br><span class="line">        <span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> k = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span>(k&lt;s[i])</span><br><span class="line">            &#123;</span><br><span class="line">                c[num] = pc[i]*k;</span><br><span class="line">                w[num] = pw[i]*k;</span><br><span class="line">                num++;</span><br><span class="line">                s[i]-=k;</span><br><span class="line">                k&lt;&lt;=<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            c[num] = pc[i]*s[i];</span><br><span class="line">            w[num] = pw[i]*s[i];</span><br><span class="line">            num++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">memset</span>(dp,<span class="number">0</span>,<span class="keyword">sizeof</span>(dp));</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;num;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=n;j&gt;=c[i];j--)</span><br><span class="line">            &#123;</span><br><span class="line">                dp[j] = max(dp[j],dp[j-c[i]]+w[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,dp[n]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="problem-d-é€‰è¯¾">Problem D: é€‰è¯¾</h3><p>Time Limit: 2 Sec Memory Limit: 128 MB</p><blockquote><p>Description</p></blockquote><blockquote><p>AveryBoyè¿™å­¦æœŸæœ‰né—¨è¯¾ç¨‹ï¼Œä½†ç”±äºä»–è¦å»ä¸Šç­ï¼Œå¯¼è‡´ä»–æœ€å¤šåªæœ‰må¤©å»å­¦ä¹ è¿™äº›è¯¾ç¨‹ã€‚æ¯é—¨è¯¾ç¨‹å­¦ä¹ çš„å¤©æ•°ä¸åŒä¼šå¾—åˆ°ä¸åŒçš„åˆ†æ•°ï¼Œæ±‚ä»–å¦‚ä½•å®‰æ’å­¦ä¹ è®¡åˆ’ä½¿å¾—æ€»åˆ†æ•°æœ€å¤šã€‚</p></blockquote><blockquote><p>Input</p></blockquote><blockquote><p>è¾“å…¥åŒ…å«å¤šç»„æµ‹è¯•æ•°æ®ï¼Œæ¯ç»„æµ‹è¯•æ•°æ®ç¬¬ä¸€è¡Œæ˜¯ä¸¤ä¸ªæ­£æ•´æ•°nï¼Œmã€‚è¡¨ç¤ºè¯¾ç¨‹æ•°å’Œä»–å­¦ä¹ çš„å¤©æ•°ã€‚</p></blockquote><blockquote><p>ä¹‹åæ˜¯n*mçš„çŸ©é˜µï¼ŒA[i][j]è¡¨ç¤ºç¬¬ié—¨è¯¾ç¨‹å­¦ä¹ jå¤©ä¼šè·å¾—çš„åˆ†æ•°ã€‚ï¼ˆ1&lt;=i&lt;=n&lt;=100ï¼Œ1&lt;=j&lt;=m&lt;=100ï¼Œ1&lt;=A[i][j]&lt;=50ï¼‰</p></blockquote><blockquote><p>è¾“å…¥ä»¥n=0ï¼Œm=0ç»“æŸã€‚</p></blockquote><blockquote><p>Output</p></blockquote><blockquote><p>å¯¹äºæ¯ç»„æ•°æ®ï¼Œè¾“å‡ºAveryBoyèƒ½è·å¾—çš„æœ€å¤§åˆ†æ•°ã€‚</p></blockquote><blockquote><p>Sample Input 2 2 1 2 1 3 2 2 2 1 2 1 2 3 3 2 1 3 2 1 0 0</p></blockquote><blockquote><p>Sample Output 3 4 6</p></blockquote><p>æˆ‘çš„ä»£ç :</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//#include &lt;iostream&gt;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">1e3</span>;</span><br><span class="line"><span class="keyword">int</span> f[N];</span><br><span class="line"><span class="keyword">int</span> n , m;</span><br><span class="line"><span class="keyword">int</span> A[N][N];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m &amp;&amp; n &amp;&amp; m)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m; j++)</span><br><span class="line">                <span class="built_in">cin</span> &gt;&gt; A[i][j];</span><br><span class="line"> </span><br><span class="line">        <span class="built_in">memset</span>(f , <span class="number">0</span> , <span class="keyword">sizeof</span>(f));</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">1</span>; k &lt;= n; k++)            <span class="comment">//å°†nä¸ªè¯¾ç¨‹åˆ†ç»„ä¸º1~k</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = m; j &gt;= <span class="number">1</span>; j--)        </span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; i++)    <span class="comment">//å¯¹äºæ¯ä¸€ç»„ä¸­çš„mä¸ªä¸åŒçš„æ–¹æ¡ˆ</span></span><br><span class="line">                    <span class="keyword">if</span> (j - i &gt;= <span class="number">0</span>)             <span class="comment">//å½“å‰å¤©æ•°å¤Ÿæ—¶</span></span><br><span class="line">                        f[j] = max(f[j] , f[j - i] + A[k][i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; f[m] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å­¦é•¿çš„ä»£ç :</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// hdu 1712</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> sz[<span class="number">105</span>][<span class="number">105</span>],dp[<span class="number">105</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,m;</span><br><span class="line">    <span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;m)&amp;&amp;n&amp;&amp;m)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=m;j++)</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;sz[i][j]);</span><br><span class="line">        <span class="built_in">memset</span>(dp,<span class="number">0</span>,<span class="keyword">sizeof</span>(dp));</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=m;j&gt;=<span class="number">1</span>;j--)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">1</span>;k&lt;=m;k++)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span>(j-k&gt;=<span class="number">0</span>) dp[j] = max(dp[j],dp[j-k]+sz[i][k]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,dp[m]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é¸½äº†ï¼Œï¼Œï¼Œï¼Œ</p>]]></content>
      
      
        <tags>
            
            <tag> acm </tag>
            
            <tag> ç®—æ³• </tag>
            
            <tag> åŠ¨æ€è§„åˆ’ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>åŠ¨æ€è§„åˆ’_1</title>
      <link href="/2018/07/29/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92-1/"/>
      <content type="html"><![CDATA[<h2 id="æ¦‚è¿°">æ¦‚è¿°</h2><p>ä»Šå¤©é›†è®­å­¦çš„æ˜¯åŠ¨æ€è§„åˆ’ï¼Œï¼Œï¼Œä¹Ÿå°±æ˜¯dpï¼Œï¼Œï¼Œè¿™ç©æ„æ—©å°±å¬è¯´è¿‡äº†ï¼Œï¼Œï¼Œä¸€ç›´æ„Ÿè§‰å¾ˆéš¾ï¼Œï¼Œï¼Œå¬åå­—å°±æœ‰äº›é«˜å¤§ä¸Šï¼Œï¼Œï¼Œä»Šå¤©äº†è§£äº†å…¶å¤§è‡´çš„æ€æƒ³ï¼Œï¼Œï¼Œå››é“é¢˜ä¹Ÿå°±åšäº†ä¸¤é“ï¼Œï¼Œï¼Œè¿˜æ˜¯å­¦é•¿ä¸Šåˆè®²è¿‡çš„ï¼Œï¼Œè‡ªå·±æ ¹æ®æ¨¡æ¿ç›´æ¥å¥—çš„ï¼Œï¼Œï¼Œä¸­é—´é‚£ä¸¤é¢˜å®Œå…¨ä¸çŸ¥é“ä»å“ªä¸‹æ‰‹ï¼Œï¼Œï¼Œæˆ–è€…è¯´ä¸çŸ¥é“å¦‚ä½•å®ç°è„‘å­é‡Œçš„æƒ³æ³•ï¼Œï¼Œï¼Œï¼Œå…¶ä¸­Bé¢˜æ˜¯cpccçš„ä¸€é“åŸé¢˜ï¼Œï¼Œï¼Œç”¨äº†åŠ¨æ€è§„åˆ’ï¼Œæ ‘çŠ¶æ•°ç»„ï¼Œç¦»æ•£åŒ–ä¸‰ä¸ªä¸»è¦çš„ç®—æ³•ï¼Œï¼Œï¼Œç»¼åˆæ€§å¾ˆå¼ºï¼Œï¼Œï¼Œéš¾å•Šå•Šå•Šå•Šï¼Œï¼Œï¼Œ</p><a id="more"></a><h2 id="åŸºæœ¬">åŸºæœ¬</h2><h3 id="åŠ¨æ€è§„åˆ’ä»‹ç»">åŠ¨æ€è§„åˆ’ä»‹ç»</h3><p>(ç›´æ¥ç²˜å¤§ä½¬ä»‹ç»ã€‚ã€‚ã€‚](https://blog.csdn.net/cc_again/article/details/25866971)</p><blockquote><p>åŠ¨æ€è§„åˆ’ï¼ˆè‹±è¯­ï¼šDynamic programmingï¼ŒDPï¼‰æ˜¯ä¸€ç§åœ¨æ•°å­¦ã€è®¡ç®—æœºç§‘å­¦å’Œç»æµå­¦ä¸­ä½¿ç”¨çš„ï¼Œé€šè¿‡æŠŠåŸé—®é¢˜åˆ†è§£ä¸ºç›¸å¯¹ç®€å•çš„å­é—®é¢˜çš„æ–¹å¼æ±‚è§£å¤æ‚é—®é¢˜çš„æ–¹æ³•ã€‚ åŠ¨æ€è§„åˆ’å¸¸å¸¸é€‚ç”¨äºæœ‰é‡å å­é—®é¢˜å’Œæœ€ä¼˜å­ç»“æ„æ€§è´¨çš„é—®é¢˜ï¼ŒåŠ¨æ€è§„åˆ’æ–¹æ³•æ‰€è€—æ—¶é—´å¾€å¾€è¿œå°‘äºæœ´ç´ è§£æ³•ã€‚</p></blockquote><blockquote><p>åŠ¨æ€è§„åˆ’èƒŒåçš„åŸºæœ¬æ€æƒ³éå¸¸ç®€å•ã€‚å¤§è‡´ä¸Šï¼Œè‹¥è¦è§£ä¸€ä¸ªç»™å®šé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦è§£å…¶ä¸åŒéƒ¨åˆ†ï¼ˆå³å­é—®é¢˜ï¼‰ï¼Œå†åˆå¹¶å­é—®é¢˜çš„è§£ä»¥å¾—å‡ºåŸé—®é¢˜çš„è§£ã€‚ é€šå¸¸è®¸å¤šå­é—®é¢˜éå¸¸ç›¸ä¼¼ï¼Œä¸ºæ­¤åŠ¨æ€è§„åˆ’æ³•è¯•å›¾ä»…ä»…è§£å†³æ¯ä¸ªå­é—®é¢˜ä¸€æ¬¡ï¼Œä»è€Œå‡å°‘è®¡ç®—é‡ï¼š ä¸€æ—¦æŸä¸ªç»™å®šå­é—®é¢˜çš„è§£å·²ç»ç®—å‡ºï¼Œåˆ™å°†å…¶è®°å¿†åŒ–å­˜å‚¨ï¼Œä»¥ä¾¿ä¸‹æ¬¡éœ€è¦åŒä¸€ä¸ªå­é—®é¢˜è§£ä¹‹æ—¶ç›´æ¥æŸ¥è¡¨ã€‚ è¿™ç§åšæ³•åœ¨é‡å¤å­é—®é¢˜çš„æ•°ç›®å…³äºè¾“å…¥çš„è§„æ¨¡å‘ˆæŒ‡æ•°å¢é•¿æ—¶ç‰¹åˆ«æœ‰ç”¨ã€‚</p></blockquote><p>ç®€å•æ¥è¯´ï¼Œï¼ŒåŠ¨æ€è§„åˆ’å°±æ˜¯ä¸€ç§ç”¨äºæ±‚è§£åŒ…å« <strong>é‡å å­é—®é¢˜</strong> çš„æœ€ä¼˜è§£é—®é¢˜çš„æ€æƒ³ï¼Œï¼Œï¼Œ ä¹Ÿå°±æ˜¯ï¼Œå°†åŸé—®é¢˜åˆ†è§£ä¸ºç›¸ä¼¼çš„å­é—®é¢˜ï¼Œï¼Œåœ¨æ±‚è§£çš„è¿‡ç¨‹ä¸­é€šè¿‡å­é—®é¢˜æ±‚å‡ºåŸé—®é¢˜çš„è§£ï¼Œï¼Œï¼Œ</p><h3 id="åŠ¨æ€è§„åˆ’æ»¡è¶³çš„æ€§è´¨">åŠ¨æ€è§„åˆ’æ»¡è¶³çš„æ€§è´¨</h3><p><a href="https://blog.csdn.net/cc_again/article/details/25866971" target="_blank" rel="noopener">ä¸€æ ·ï¼Œï¼Œï¼Œç²˜å¤§ä½¬è¡¨è¾¾ï¼Œï¼Œï¼Œ</a></p><ul><li><p><strong>æœ€ä¼˜å­ç»“æ„æ€§è´¨</strong>ï¼šå¦‚æœé—®é¢˜çš„æœ€ä¼˜è§£æ‰€åŒ…å«çš„å­é—®é¢˜çš„è§£ä¹Ÿæ˜¯æœ€ä¼˜çš„ï¼Œæˆ‘ä»¬å°±ç§°è¯¥é—®é¢˜å…·æœ‰æœ€ä¼˜å­ç»“æ„æ€§è´¨ï¼ˆå³æ»¡è¶³æœ€ä¼˜åŒ–åŸç†ï¼‰ã€‚æœ€ä¼˜å­ç»“æ„æ€§è´¨ä¸ºåŠ¨æ€è§„åˆ’ç®—æ³•è§£å†³é—®é¢˜æä¾›äº†é‡è¦çº¿ç´¢ã€‚</p></li><li><p><strong>å­é—®é¢˜é‡å æ€§è´¨</strong> ï¼šå­é—®é¢˜é‡å æ€§è´¨æ˜¯æŒ‡åœ¨ç”¨é€’å½’ç®—æ³•è‡ªé¡¶å‘ä¸‹å¯¹é—®é¢˜è¿›è¡Œæ±‚è§£æ—¶ï¼Œæ¯æ¬¡äº§ç”Ÿçš„å­é—®é¢˜å¹¶ä¸æ€»æ˜¯æ–°é—®é¢˜ï¼Œæœ‰äº›å­é—®é¢˜ä¼šè¢«é‡å¤è®¡ç®—å¤šæ¬¡ã€‚åŠ¨æ€è§„åˆ’ç®—æ³•æ­£æ˜¯åˆ©ç”¨äº†è¿™ç§å­é—®é¢˜çš„é‡å æ€§è´¨ï¼Œå¯¹æ¯ä¸€ä¸ªå­é—®é¢˜åªè®¡ç®—ä¸€æ¬¡ï¼Œç„¶åå°†å…¶è®¡ç®—ç»“æœä¿å­˜åœ¨ä¸€ä¸ªè¡¨æ ¼ä¸­ï¼Œå½“å†æ¬¡éœ€è¦è®¡ç®—å·²ç»è®¡ç®—è¿‡çš„å­é—®é¢˜æ—¶ï¼Œåªæ˜¯åœ¨è¡¨æ ¼ä¸­ç®€å•åœ°æŸ¥çœ‹ä¸€ä¸‹ç»“æœï¼Œä»è€Œè·å¾—è¾ƒé«˜çš„æ•ˆç‡ã€‚</p></li><li><p><strong>æ— åæ•ˆæ€§</strong> ï¼šå°†å„é˜¶æ®µæŒ‰ç…§ä¸€å®šçš„æ¬¡åºæ’åˆ—å¥½ä¹‹åï¼Œå¯¹äºæŸä¸ªç»™å®šçš„é˜¶æ®µçŠ¶æ€ï¼Œå®ƒä»¥å‰å„é˜¶æ®µçš„çŠ¶æ€æ— æ³•ç›´æ¥å½±å“å®ƒæœªæ¥çš„å†³ç­–ï¼Œè€Œåªèƒ½é€šè¿‡å½“å‰çš„è¿™ä¸ªçŠ¶æ€ã€‚æ¢å¥è¯è¯´ï¼Œæ¯ä¸ªçŠ¶æ€éƒ½æ˜¯è¿‡å»å†å²çš„ä¸€ä¸ªå®Œæ•´æ€»ç»“ã€‚è¿™å°±æ˜¯æ— åå‘æ€§ï¼Œåˆç§°ä¸ºæ— åæ•ˆæ€§ã€‚</p></li></ul><h3 id="åŠ¨æ€è§„åˆ’ä¸»è¦ä½¿ç”¨æ­¥éª¤">åŠ¨æ€è§„åˆ’ä¸»è¦ä½¿ç”¨æ­¥éª¤</h3><ul><li><strong>åˆ†æé—®é¢˜</strong> ï¼šçœ‹æ»¡ä¸æ»¡è¶³ä½¿ç”¨åŠ¨æ€è§„åˆ’çš„åŸºæœ¬æ¡ä»¶ï¼Œï¼Œç®€å•åœ°è¯´å°±æ˜¯ä¸€ä¸ªçŠ¶æ€ä¸å—å‰é¢çš„å†³ç­–çš„å½±å“ï¼Œï¼Œè¿™ä¸ªçŠ¶æ€çš„å†³ç­–ä¹Ÿä¸ä¼šå½±å“åé¢çš„çŠ¶æ€ï¼Œï¼Œ</li><li><strong>å®šä¹‰çŠ¶æ€</strong> ï¼šè¿™ä¸€æ­¥å¾ˆé‡è¦ï¼Œï¼Œå…³ç³»åˆ°ç®—æ³•çš„å¤æ‚åº¦å’Œ <strong>çŠ¶æ€è½¬ç§»æ–¹ç¨‹</strong></li><li>æ‰¾å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹å’Œåˆå§‹çŠ¶æ€ï¼Œè¾¹ç•ŒçŠ¶æ€ï¼Œåˆ©ç”¨çŠ¶æ€è½¬ç§»æ–¹ç¨‹è®¡ç®—å‡ºæ‰€æœ‰çŠ¶æ€</li><li>åˆ©ç”¨ä¸Šé¢æ±‚è§£çš„çŠ¶æ€æ±‚è§£é—®é¢˜</li></ul><p>å¥—è·¯å½’å¥—è·¯ï¼Œï¼Œæœ€ç»ˆè¿˜æ˜¯è¦çœ‹é¢˜ç›®çš„è¦æ±‚ï¼Œï¼Œé¢˜æ„æ¥è§£ï¼Œï¼Œï¼Œ</p><h3 id="åŠ¨æ€è§„åˆ’çš„å¤æ‚åº¦">åŠ¨æ€è§„åˆ’çš„å¤æ‚åº¦</h3><p>ä¸€èˆ¬æ¥è¯´å¤æ‚åº¦å–å†³äºä¸¤ä¸ªæ–¹é¢ï¼š + çŠ¶æ€æœ¬èº«ï¼šä¸€èˆ¬æ¥è¯´è¦è®¡ç®—å‡ºæ‰€æœ‰çŠ¶æ€ï¼Œï¼Œæ‰€ä»¥å¤æ‚åº¦å’Œå®šä¹‰çš„çŠ¶æ€æœ‰å…³ï¼Œï¼Œæ¯”å¦‚dp[i][j]ç±»å‹çš„å¤æ‚åº¦ä¸ºO(n * m) + çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼šå› ä¸ºä¸€ä¸ªçŠ¶æ€å¿…å®šä»æŸäº›å­çŠ¶æ€è½¬ç§»è€Œæ¥ï¼Œï¼Œæ‰€ä»¥å¤æ‚åº¦è¿˜å–å†³ä¸çŠ¶æ€è½¬ç§»çš„å¤æ‚åº¦ï¼Œï¼Œæœ‰æ—¶è¦åœ¨è¿™é‡Œé€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„æ¥ä¼˜åŒ–ï¼Œï¼Œï¼Œæ¯”å¦‚ä¸‹é¢çš„Bé¢˜ï¼Œï¼Œï¼ŒåŒæ—¶è¿™ä¹Ÿå°±å¼•å‡ºäº†å„ç§å„æ ·çš„åŠ¨æ€è§„åˆ’çš„é¢˜å‹ï¼Œï¼Œï¼Œå¦‚æ ‘å½¢dpï¼Œï¼Œï¼Œæ–œç‡dpï¼Œï¼Œï¼ŒåŒºé—´dpï¼Œï¼Œï¼Œæ¦‚ç‡dpï¼Œï¼Œï¼Œç­‰ç­‰ï¼Œï¼Œï¼Œ</p><h2 id="ç»ƒä¹ ">ç»ƒä¹ </h2><h3 id="problem-a-ä½ åˆæ²¡æœ‰å¥½å¥½å¬è¯¾3">Problem A: ä½ åˆæ²¡æœ‰å¥½å¥½å¬è¯¾3</h3><p>Time Limit: 2 Sec Memory Limit: 128 MB</p><blockquote><p>Description</p></blockquote><blockquote><p>ä¸ºäº†æ£€éªŒä½ ä¸Šåˆæœ‰æ²¡æœ‰å¥½å¥½å¬è¯¾ï¼Œäºæ˜¯åˆäº†è¿™ä¸€é¢˜ã€‚ç»™ä½ ä¸€ä¸ªN*Mçš„æ–¹æ ¼ç½‘ï¼Œå·¦ä¸Šè§’ä¸ºï¼ˆ1ï¼Œ1ï¼‰å³ä¸‹è§’ä¸º(N, M)ï¼Œæ¯ä¸ªæ–¹æ ¼ä¸­æœ‰ä¸€ä¸ªæ•°a[i][j]ï¼Œåˆšå¼€å§‹ä½ åœ¨ä½ç½®(1, 1)ä½ æ¯æ¬¡å¯ä»¥å¾€ä¸‹èµ°æˆ–è€…å¾€å³èµ°ä¸€æ­¥ï¼Œä½ éœ€è¦ç¡®å®šä¸€ç§èµ°çš„æ–¹æ¡ˆï¼Œæœ€åèµ°åˆ°(N, M)ï¼Œä½¿å¾—é€”å¾„æ ¼å­çš„æ•°çš„å’Œæœ€å¤§ã€‚</p></blockquote><blockquote><p>Input</p></blockquote><blockquote><p>è¾“å…¥çš„ç¬¬ä¸€è¡Œä¸€ä¸ªæ•´æ•°Tï¼ˆT&lt;= 5ï¼‰ä»£è¡¨æµ‹è¯•æ•°æ®çš„ç»„æ•°</p></blockquote><blockquote><p>æ¥ä¸‹é‡ŒTç»„æµ‹è¯•æ•°æ®</p></blockquote><blockquote><p>æ¯ç»„æµ‹è¯•æ•°æ®ç¬¬ä¸€è¡Œä¸ºä¸¤ä¸ªæ•´æ•°N, Mï¼ˆ1 &lt;= N, M &lt;= 1000ï¼‰ä»£è¡¨æ–¹æ ¼ç½‘çš„å¤§å°</p></blockquote><blockquote><p>æ¥ä¸‹æ¥Nè¡Œï¼Œæ¯ä¸€è¡ŒMä¸ªæ•°ï¼Œä»£è¡¨a[i][j]ï¼ˆ1 &lt;= a[i][j] &lt;= 1000ï¼‰</p></blockquote><blockquote><p>Output</p></blockquote><blockquote><p>å¯¹äºæ¯ç»„æµ‹è¯•æ•°æ®ï¼Œè¾“å‡ºä¸€ä¸ªæ•´æ•°ä»£è¡¨ä»ï¼ˆ1ï¼Œ 1ï¼‰èµ°åˆ° (N, M)é€”å¾„çš„æ ¼å­çš„æœ€å¤§çš„å’Œã€‚</p></blockquote><blockquote><p>Sample Input</p></blockquote><blockquote><p>1 2 2 100 1 50 1</p></blockquote><blockquote><p>Sample Output 151</p></blockquote><p>ç®€å•çš„dpï¼Œï¼Œï¼Œæ ¹æ®é¢˜æ„å†™å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹ <span class="math inline">\(d[i][j] = max(d[i - 1][j] , d[i][j - 1]) + a[i][j];\)</span></p><p>æˆ‘çš„ä»£ç ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">1e3</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> a[N][N];</span><br><span class="line"><span class="keyword">int</span> d[N][N];</span><br><span class="line"><span class="keyword">int</span> n , m;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dp</span><span class="params">(<span class="keyword">int</span> n , <span class="keyword">int</span> m)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m; j++)</span><br><span class="line">            &#123;</span><br><span class="line">                d[i][j] = max(d[i - <span class="number">1</span>][j] , d[i][j - <span class="number">1</span>]) + a[i][j];</span><br><span class="line">                <span class="comment">//å¥½åƒå°‘äº†ç‰¹åˆ¤ï¼Œï¼Œï¼Œä¸è¿‡æ•°æ®è¿‡äº†ï¼Œï¼Œï¼Œé€ƒï¼Œï¼Œï¼Œ</span></span><br><span class="line">            &#125;</span><br><span class="line">    <span class="keyword">return</span> d[n][m];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;<span class="built_in">cin</span> &gt;&gt; t;</span><br><span class="line">    <span class="keyword">while</span> (t--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m; j++)</span><br><span class="line">                <span class="built_in">cin</span> &gt;&gt; a[i][j];</span><br><span class="line">        <span class="built_in">memset</span>(d , <span class="number">0</span> , <span class="keyword">sizeof</span>(d));</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; dp(n , m) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å­¦é•¿çš„ä»£ç :</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1000</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> N, M;</span><br><span class="line"><span class="keyword">int</span> A[maxn][maxn];</span><br><span class="line"><span class="keyword">int</span> dp[maxn][maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"data.in"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    freopen(<span class="string">"data.out"</span>, <span class="string">"w"</span>, <span class="built_in">stdout</span>);</span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;T);</span><br><span class="line">    <span class="keyword">while</span>(T--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;N, &amp;M);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= M; j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;A[i][j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">memset</span>(dp, <span class="number">0</span>, <span class="keyword">sizeof</span>(dp));</span><br><span class="line">        dp[<span class="number">1</span>][<span class="number">1</span>] = A[<span class="number">1</span>][<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= M; j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(i == <span class="number">1</span> &amp;&amp; j == <span class="number">1</span>) dp[i][j] = A[i][j];        <span class="comment">//å°±æ˜¯è¿™é‡Œçš„ç‰¹åˆ¤ï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œ</span></span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(i == <span class="number">1</span> &amp;&amp; j != <span class="number">1</span>) dp[i][j] = dp[i][j - <span class="number">1</span>] + A[i][j];</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(j == <span class="number">1</span> &amp;&amp; i != <span class="number">1</span>) dp[i][j] = dp[i - <span class="number">1</span>][j] + A[i][j];</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    dp[i][j] = max(dp[i - <span class="number">1</span>][j], dp[i][j - <span class="number">1</span>]) + A[i][j];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, dp[N][M]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="problem-b-averyboyçš„éº»çƒ¦">Problem B: averyboyçš„éº»çƒ¦</h3><p>è¿™é“é¢˜è¿˜æ˜¯çœŸéº»çƒ¦ï¼Œï¼Œï¼Œåˆ°ç°åœ¨çŠ¶æ€è½¬ç§»æ–¹ç¨‹çš„å®ç°é‚£é‡Œè¿˜æ˜¯æœ‰äº›ä¸æ‡‚ï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œå™—</p><p>ä¸»è¦çš„æ¨å¯¼åœ¨ä»£ç é‡Œï¼Œï¼Œï¼Œè¿˜æœ‰é‚£ä¸¤ä¸ªåšå®¢ï¼Œï¼Œï¼Œï¼Œ</p><p>æˆ‘çš„ä»£ç ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lowbit(x) x&amp;(-x)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">1e3</span> + <span class="number">3</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MOD = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">int</span> a[N];</span><br><span class="line"><span class="keyword">int</span> b[N];</span><br><span class="line"><span class="keyword">int</span> n , m;</span><br><span class="line">ll dp[N][N];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> loc , <span class="keyword">int</span> x , <span class="keyword">int</span> val)</span>  <span class="comment">//æ›´æ–°</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = loc; i &lt;= n; i+=lowbit(i))</span><br><span class="line">    &#123;</span><br><span class="line">        dp[i][x] = (dp[i][x] + val) % MOD;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span> <span class="params">(<span class="keyword">int</span> loc , <span class="keyword">int</span> x)</span>             <span class="comment">//æ±‚å’Œ</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = loc; i &gt;= <span class="number">1</span>; i -= lowbit(i))</span><br><span class="line">        ans = (dp[i][x] + ans) % MOD;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios_base::sync_with_stdio(<span class="number">0</span>);</span><br><span class="line">    <span class="comment">//freopen("data.in" , "r" , stdin);</span></span><br><span class="line">    <span class="keyword">int</span> t;<span class="built_in">cin</span> &gt;&gt; t;</span><br><span class="line">    <span class="keyword">while</span> (t--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; a[i];</span><br><span class="line">            b[i] = a[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//ç¦»æ•£åŒ–ï¼Œï¼Œï¼Œï¼Œ</span></span><br><span class="line">        sort(b + <span class="number">1</span>,b + <span class="number">1</span> + n);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i&lt;= n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            a[i] = lower_bound(b + <span class="number">1</span>, b + <span class="number">1</span> + n, a[i]) - b;  <span class="comment">//a[i]å­˜å‚¨çš„æ˜¯è¯¥ä½ç½®æ˜¯ç¬¬å‡ å¤§çš„å…ƒç´ </span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">memset</span>(dp , <span class="number">0</span> , <span class="keyword">sizeof</span>(dp));</span><br><span class="line">        <span class="comment">//åŠ¨æ€è§„åˆ’ï¼ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹dp[i][j] = sum(dp[k][j-1]) k = &#123;1 , i - 1&#125;</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= min(i , m); j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (j == <span class="number">1</span>) update(a[i] , <span class="number">1</span> , <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    ll tmp = query(a[i] - <span class="number">1</span> , j - <span class="number">1</span>);</span><br><span class="line">                    update(a[i] , j , tmp);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ll ans = query(n , m);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//https://blog.csdn.net/snowy_smile/article/details/49565493</span></span><br><span class="line"><span class="comment">//https://blog.csdn.net/loy_184548/article/details/50073559</span></span><br></pre></td></tr></table></figure><p>å­¦é•¿çš„ä»£ç ï¼š</p><p>æœ‰ç©ºåœ¨ç ”ç©¶ï¼Œï¼Œï¼ŒQAQ</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1000</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> LL;</span><br><span class="line"><span class="keyword">const</span> LL mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="keyword">int</span> N, M;</span><br><span class="line"><span class="keyword">int</span> a[maxn];</span><br><span class="line">LL Tree[maxn][maxn];</span><br><span class="line">LL dp[maxn][maxn];<span class="comment">//dp[i][j]è¡¨ç¤ºè€ƒè™‘åˆ°ç¬¬iä¸ªæ•°ï¼Œä¸”ä»¥ç¬¬a[i]ä¸ªæ•°ç»“å°¾ï¼Œé•¿åº¦ä¸ºjçš„é€’å¢åºåˆ—ä¸ªæ•°</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> value;</span><br><span class="line">    <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt;(<span class="keyword">const</span> node &amp;res) <span class="keyword">const</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(value == res.value) <span class="keyword">return</span> id &gt; res.id;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> value &lt; res.value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;Node[maxn];</span><br><span class="line"><span class="keyword">int</span> Rank[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(Tree, <span class="number">0</span>, <span class="keyword">sizeof</span>(Tree));</span><br><span class="line">    <span class="built_in">memset</span>(dp, <span class="number">0</span>, <span class="keyword">sizeof</span>(dp));</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">lowbit</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x&amp;(-x);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> loc, <span class="keyword">int</span> d, LL value)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = loc; i &lt;= N; i += lowbit(i))</span><br><span class="line">    &#123;</span><br><span class="line">        Tree[i][d] = (Tree[i][d] + value) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">LL <span class="title">get</span><span class="params">(<span class="keyword">int</span> loc, <span class="keyword">int</span> d)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    LL ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = loc; i &gt;= <span class="number">1</span>; i -= lowbit(i))</span><br><span class="line">    &#123;</span><br><span class="line">        ans = (ans + Tree[i][d]) % mod;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"data.in"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    freopen(<span class="string">"data.out"</span>, <span class="string">"w"</span>, <span class="built_in">stdout</span>);</span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;T);</span><br><span class="line">    <span class="keyword">while</span>(T--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;N, &amp;M);</span><br><span class="line">        init();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;Node[i].value);</span><br><span class="line">            Node[i].id = i;</span><br><span class="line">        &#125;</span><br><span class="line">        sort(Node + <span class="number">1</span>, Node + N + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            Rank[Node[i].id] = i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            dp[i][<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">            add(Rank[i], <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">2</span>; j &lt;= min(M, i); j++)</span><br><span class="line">            &#123;</span><br><span class="line">                LL temp = get(Rank[i] - <span class="number">1</span>, j - <span class="number">1</span>);</span><br><span class="line">                dp[i][j] = (dp[i][j] + temp) % mod;</span><br><span class="line">                add(Rank[i], j, dp[i][j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        LL ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            ans = (ans + dp[i][M]) % mod;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="problem-c-averyboyçš„åŒºé—´2">Problem C: averyboyçš„åŒºé—´2</h3><p>Time Limit: 2 Sec Memory Limit: 128 MB</p><blockquote><p>Description</p></blockquote><blockquote><p>ä¸ä»…å¤©å¤–å¤©å–œæ¬¢å­åŒºé—´ï¼Œaveryboyä¹Ÿéå¸¸å–œæ¬¢å­åŒºé—´ã€‚ç°åœ¨å¤©å¤–å¤©ç»™averyboyä¸€ä¸ªé•¿åº¦ä¸ºNçš„åºåˆ—a[1]~a[N],å¤©å¤–å¤©è®©averyboyæ‰¾å‡ºä¸€ä¸ªå­åŒºé—´[l, r]ä½¿å¾—è¿™ä¸ªå­åŒºé—´æ•°çš„å’Œè¦æ¯”å…¶ä»–å­åŒºé—´æ•°çš„å’Œè¦å¤§</p></blockquote><blockquote><p>Input</p></blockquote><blockquote><p>ç¬¬ä¸€è¡Œä¸€ä¸ªæ•´æ•°Tï¼ˆT &lt;= 10ï¼‰ä»£è¡¨æµ‹è¯•æ•°æ®çš„ç»„æ•°</p></blockquote><blockquote><p>æ¥ä¸‹æ¥Tç»„æµ‹è¯•æ•°æ®</p></blockquote><blockquote><p>æ¯ç»„æµ‹è¯•æ•°æ®ç¬¬ä¸€è¡Œä¸ºä¸€ä¸ªæ•´æ•°Nï¼ˆ1 &lt;= N &lt;= 1e5ï¼‰ä»£è¡¨åºåˆ—çš„é•¿åº¦</p></blockquote><blockquote><p>æ¥ä¸‹æ¥ä¸€è¡ŒNä¸ªæ•´æ•°a[i]ï¼ˆ-1000 &lt;= a[i] &lt;= 1000ï¼‰ä»£è¡¨åºåˆ—a[i]</p></blockquote><blockquote><p>Output</p></blockquote><blockquote><p>å¯¹äºæ¯ç»„æµ‹è¯•æ•°æ®ï¼Œè¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œä»£è¡¨æœ€å¤§çš„å­åŒºé—´å’Œã€‚</p></blockquote><blockquote><p>Sample Input 2 3 1 -100 3 4 99 -100 98 2</p></blockquote><blockquote><p>Sample Output 3 100</p></blockquote><blockquote><p>HINT</p></blockquote><blockquote><p>ç¬¬ä¸€ç»„æµ‹è¯•æ ·ä¾‹ï¼Œé€‰æ‹©åŒºé—´[3,3]å’Œä¸º3æœ€å¤§ï¼Œç¬¬äºŒç»„æµ‹è¯•æ ·ä¾‹é€‰æ‹©åŒºé—´[3, 4]å’Œä¸º98 + 2 = 100æœ€å¤§</p></blockquote><p>ä¸»è¦æ˜¯çŠ¶æ€è½¬ç§»æ–¹ç¨‹å†™å‡ºæ¥å°±è¡Œäº†ï¼Œï¼Œï¼Œï¼ŒQAQ</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">1e5</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> a[N];</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">int</span> dp;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">DP</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> m = -INF;</span><br><span class="line">    <span class="keyword">int</span> dp = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        dp = max (dp + a[i] , a[i]);</span><br><span class="line">        m = max (m , dp);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> m;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;<span class="built_in">cin</span> &gt;&gt; t;</span><br><span class="line">    <span class="keyword">while</span> (t--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; a[i];</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; DP() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å­¦é•¿çš„ä»£ç ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">100000</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> N;</span><br><span class="line"><span class="keyword">int</span> a[maxn];</span><br><span class="line"><span class="keyword">int</span> dp[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//freopen("data.in", "r", stdin);</span></span><br><span class="line">   <span class="comment">// freopen("data.out", "w", stdout);</span></span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;T);</span><br><span class="line">    <span class="keyword">while</span>(T--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;N);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;a[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">-1000000001</span>;</span><br><span class="line">        <span class="keyword">int</span> acc = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            dp[i] = a[i] + acc;</span><br><span class="line">            <span class="keyword">if</span>(acc + a[i] &gt; <span class="number">0</span>) acc += a[i];</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                acc = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(dp[i] &gt; ans)</span><br><span class="line">            &#123;</span><br><span class="line">                ans = dp[i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="problem-d-averyboyçš„è‹¹æœæ ‘">Problem D: averyboyçš„è‹¹æœæ ‘</h3><p>Time Limit: 2 Sec Memory Limit: 128 MB</p><blockquote><p>Description</p></blockquote><blockquote><p>averyboyå®¶æœ‰ä¸€æ£µè‹¹æœæ ‘ã€‚æŠŠè¿™æ£µè‹¹æœæ ‘çœ‹æˆä¸€ä¸ªç”±Nï¼ˆç¼–å·ä¸º1~Nï¼‰ä¸ªèŠ‚ç‚¹ç»„æˆçš„ä»¥1å·èŠ‚ç‚¹ä¸ºæ ¹çš„æœ‰æ ¹æ ‘ã€‚æ¯ä¸ªèŠ‚ç‚¹ä¸Šæœ‰ä¸€ä¸ªè‹¹æœï¼Œæ¯ä¸ªè‹¹æœä¹Ÿæœ‰ä¸€ä¸ªè¥å…»ä»·å€¼a[i]ã€‚ç°åœ¨averyboyæƒ³çŸ¥é“ä»¥æ¯ä¸ªèŠ‚ç‚¹ä¸ºæ ¹çš„å­æ ‘ä¸Šè¥å…»ä»·å€¼ä¸ºå¥‡æ•°çš„èŠ‚ç‚¹çš„ä¸ªæ•°ã€‚</p></blockquote><blockquote><p>Input</p></blockquote><blockquote><p>è¾“å…¥ç¬¬ä¸€è¡Œä¸ºä¸€ä¸ªæ•´æ•°T(T &lt;= 5)ä»£è¡¨æµ‹è¯•æ•°æ®çš„ç»„æ•°</p></blockquote><blockquote><p>æ¥ä¸‹æ¥Tç»„æµ‹è¯•æ•°æ®</p></blockquote><blockquote><p>æ¯ç»„æµ‹è¯•æ•°æ®ç¬¬ä¸€è¡Œä¸ºä¸€ä¸ªæ•´æ•°N(1 &lt;= N &lt;= 1e5) æ¥ä¸‹æ¥ä¸€è¡ŒNä¸ªéè´Ÿæ•´æ•°a[i]ä»£è¡¨æ¯ä¸€ä¸ªèŠ‚ç‚¹ä¸Šçš„ä¸€ä¸ªè‹¹æœçš„è¥å…»ä»·å€¼ï¼ˆ0 &lt;= a[i] &lt;= 1e6ï¼‰ æ¥ä¸‹æ¥N - 1è¡Œï¼Œæ¯ä¸€è¡Œä¸¤ä¸ªæ•´æ•°u, vä»£è¡¨u, vä¹‹é—´æœ‰ä¸€æ¡è¾¹ï¼ˆ1 &lt;= u, v &lt;= Nï¼‰</p></blockquote><blockquote><p>Output</p></blockquote><blockquote><p>å¯¹äºæ¯ç»„æµ‹è¯•æ•°æ®ï¼Œè¾“å‡ºä¸€è¡ŒNä¸ªæ•°ï¼Œç¬¬iä¸ªæ•°ä»£è¡¨ä»¥ç¬¬ièŠ‚ç‚¹ä¸ºæ ¹çš„å­æ ‘ï¼ˆå­æ ‘åŒ…æ‹¬è‡ªå·±ï¼‰ä¸Šè‹¹æœè¥å…»ä»·å€¼ä¸ºå¥‡æ•°çš„ä¸ªæ•°</p></blockquote><blockquote><p>Sample Input 2 3 1 2 3 1 2 2 3 3 1 1 1 1 2 2 3</p></blockquote><blockquote><p>Sample Output 2 1 1 3 2 1</p></blockquote><blockquote><p>HINT</p></blockquote><blockquote><p>åœ¨ç¬¬ä¸€ç»„æ ·ä¾‹ä¸­ï¼Œä»¥1ä¸ºæ ¹çš„å­æ ‘åŒ…æ‹¬èŠ‚ç‚¹1,2,3ä½†æ˜¯ç”±äº2å·èŠ‚ç‚¹ä¸Šçš„è‹¹æœè¥å…»ä»·å€¼ä¸º2ä¸æ˜¯å¥‡æ•°ï¼Œæ‰€ä»¥ä»¥1ä¸ºæ ¹çš„å­æ ‘ä¸Šä¸€å…±æœ‰2ä¸ªè¥å…»ä»·å€¼ä¸ºå¥‡æ•°çš„è‹¹æœã€‚ä»¥2ä¸ºæ ¹çš„å­æ ‘åŒ…æ‹¬èŠ‚ç‚¹2, 3ï¼Œæ‰€ä»¥åªæœ‰1ä¸ªè¥å…»ä»·å€¼ä¸ºå¥‡æ•°çš„è‹¹æœ.ä»¥3ä¸ºæ ¹çš„å­æ ‘å°±æ˜¯3è‡ªèº«ï¼Œæ‰€ä»¥ä¹Ÿåªæœ‰1ä¸ªè¥å…»ä»·å€¼ä¸ºå¥‡æ•°çš„è‹¹æœã€‚æ‰€ä»¥æœ€åè¾“å‡º2 1 1</p></blockquote><p>ä¸Šè¯¾æ—¶å­¦é•¿è®²è¿‡ï¼Œï¼Œï¼Œæ‰€ä»¥ç›´æ¥å¥—æ¨¡æ¿äº†ï¼Œï¼Œï¼Œdpæ˜¯åœ¨æ¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œï¼Œdp[i] = sum(dp[son]) + 1;</p><p>æˆ‘çš„ä»£ç ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">2e5</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxm = <span class="number">1e5</span> * <span class="number">3</span>;</span><br><span class="line"><span class="keyword">int</span> head[maxn];</span><br><span class="line"><span class="keyword">int</span> a[maxn];</span><br><span class="line"><span class="keyword">int</span> cnt;</span><br><span class="line"><span class="keyword">int</span> n , m;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> to;</span><br><span class="line">    <span class="keyword">int</span> w;</span><br><span class="line">    <span class="keyword">int</span> last;</span><br><span class="line">&#125;Edge[maxm];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> u , <span class="keyword">int</span> v , <span class="keyword">int</span> w)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Edge[cnt].to = v;</span><br><span class="line">    Edge[cnt].w = w;</span><br><span class="line">    Edge[cnt].last = head[u];</span><br><span class="line">    head[u] = cnt++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> u , <span class="keyword">int</span> v)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Edge[cnt].to = v;</span><br><span class="line">    <span class="comment">//Edge[cnt].w = w;</span></span><br><span class="line">    Edge[cnt].last = head[u];</span><br><span class="line">    head[u] = cnt++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">bool</span> vis[maxn];</span><br><span class="line"><span class="keyword">int</span> dp[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">tree_dfs</span><span class="params">(<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//dp[rt] = 1;</span></span><br><span class="line">    vis[rt] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = head[rt]; i != <span class="number">-1</span>; i = Edge[i].last)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> v = Edge[i].to;</span><br><span class="line">        <span class="keyword">if</span> (!vis[v])</span><br><span class="line">        &#123;</span><br><span class="line">            tree_dfs(v);</span><br><span class="line">            dp[rt] += dp[v];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(head , <span class="number">-1</span> , <span class="keyword">sizeof</span>(head));</span><br><span class="line">    <span class="built_in">memset</span>(vis , <span class="literal">false</span> , <span class="keyword">sizeof</span>(vis));</span><br><span class="line">    <span class="built_in">memset</span>(dp , <span class="number">0</span> , <span class="keyword">sizeof</span>(dp));</span><br><span class="line">    cnt = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//ios_base::sync_with_stdio(0);</span></span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="comment">//cin &gt;&gt; t;</span></span><br><span class="line">    <span class="comment">//freopen("data.in" , "r" , stdin);</span></span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;t);</span><br><span class="line">    <span class="keyword">while</span> (t--)</span><br><span class="line">    &#123;</span><br><span class="line">        init();</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;n);</span><br><span class="line">        <span class="comment">//cin &gt;&gt; n;</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;a[i]);</span><br><span class="line">            <span class="comment">//cin &gt;&gt; tmp;</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">            <span class="keyword">if</span> (a[i] &amp; <span class="number">1</span>)</span><br><span class="line">                dp[i] = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> u , v;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n - <span class="number">1</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d"</span> , &amp;u , &amp;v);</span><br><span class="line">            <span class="comment">//cin &gt;&gt; u &gt;&gt; v;</span></span><br><span class="line">            add(u , v);</span><br><span class="line">            add(v , u);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        tree_dfs(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//        for (int i = 1; i &lt;= n; i++)</span></span><br><span class="line"><span class="comment">//            cout &lt;&lt; dp[i] &lt;&lt; " ";</span></span><br><span class="line"><span class="comment">//        cout &lt;&lt; endl;</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d "</span> , dp[i]);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è®°å¾—æ•°ç»„å¼€å¤§ã€‚ï¼Œï¼Œï¼Œï¼Œï¼Œ</p><p>å­¦é•¿çš„ä»£ç ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">100000</span> + <span class="number">10</span>;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; g[maxn];</span><br><span class="line"><span class="keyword">int</span> N;</span><br><span class="line"><span class="keyword">int</span> a[maxn];</span><br><span class="line"><span class="keyword">int</span> dp[maxn];</span><br><span class="line"><span class="keyword">bool</span> visit[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        g[i].clear();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">memset</span>(dp, <span class="number">0</span>, <span class="keyword">sizeof</span>(dp));</span><br><span class="line">    <span class="built_in">memset</span>(visit, <span class="literal">false</span>, <span class="keyword">sizeof</span>(visit));</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> root)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(a[root]&amp;<span class="number">1</span>) dp[root] = <span class="number">1</span>;</span><br><span class="line">    visit[root] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">int</span> len = g[root].size();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> v = g[root][i];</span><br><span class="line">        <span class="keyword">if</span>(!visit[v])</span><br><span class="line">        &#123;</span><br><span class="line">            dfs(v);</span><br><span class="line">            dp[root] += dp[v];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"data.in"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    freopen(<span class="string">"data.out"</span>, <span class="string">"w"</span>, <span class="built_in">stdout</span>);</span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;T);</span><br><span class="line">    <span class="keyword">while</span>(T--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;N);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;a[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        init();</span><br><span class="line">        <span class="keyword">int</span> u, v;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; N; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;u, &amp;v);</span><br><span class="line">            g[u].push_back(v);</span><br><span class="line">            g[v].push_back(u);</span><br><span class="line">        &#125;</span><br><span class="line">        dfs(<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(i != N) <span class="built_in">printf</span>(<span class="string">"%d "</span>, dp[i]);</span><br><span class="line">            <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, dp[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å…¶ä»–">å…¶ä»–</h2><p>åŠ¨æ€è§„åˆ’æ˜¯å¤§å‘ï¼Œï¼Œï¼Œï¼Œå¾—ä¹‹åå¥½å¥½å¤šåšé¢˜ï¼Œï¼Œï¼Œ</p><p>æŒ–ä¸ªå‘ï¼š https://blog.csdn.net/cc_again/article/details/25866971#commentBox</p>]]></content>
      
      
        <tags>
            
            <tag> acm </tag>
            
            <tag> ç®—æ³• </tag>
            
            <tag> åŠ¨æ€è§„åˆ’ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>æœ€çŸ­è·¯</title>
      <link href="/2018/07/27/%E6%9C%80%E7%9F%AD%E8%B7%AF/"/>
      <content type="html"><![CDATA[<h2 id="æ¦‚è®º">æ¦‚è®º</h2><p>æœ€çŸ­è·¯ä¸»è¦æ˜¯å¯»æ‰¾æŸä¸ªæœ‰å›¾é—®é¢˜ä»èµ·å§‹ç‚¹åˆ°ç»ˆç‚¹çš„æœ€çŸ­çš„è·¯ï¼Œï¼Œï¼Œè¿™æ˜¯æœ€åŸºæœ¬çš„ä¸€ç§æƒ…å†µï¼Œï¼Œï¼Œç”±æ­¤å¯ä»¥å˜å½¢å‡ºå„ç§å„æ ·çš„å…¶ä»–é¢˜å‹ï¼Œï¼Œï¼Œï¼Œ</p><p>æœ¬ç¯‡ä¸»è¦æœ‰ <strong>å›¾çš„å‚¨å­˜</strong> , <strong>Dijstraç®—æ³•</strong> ï¼Œ <strong>SPFAç®—æ³•</strong> , <strong>Floydç®—æ³•</strong> , ä»¥åŠå‡ é“ç»ƒä¹ é¢˜å’Œé¢˜è§£ã€‚ã€‚ã€‚</p><a id="more"></a><h2 id="å›¾çš„å‚¨å­˜">å›¾çš„å‚¨å­˜</h2><p>ä¸€èˆ¬æ¥è¯´å›¾çš„å‚¨å­˜æœ‰å¥½å‡ ç§ï¼Œï¼Œï¼Œä¾‹å¦‚ <strong>é‚»æ¥çŸ©é˜µ</strong> , <strong>é‚»æ¥è¡¨</strong> , <strong>å‰å‘æ˜Ÿ</strong> , <strong>é“¾å¼å‰å‘æ˜Ÿ</strong>,,,</p><figure><img src="http://images.cppblog.com/cppblog_com/menjitianya/cfys_003.png" alt="å›¾"><figcaption>å›¾</figcaption></figure><h3 id="ä¸´ç•ŒçŸ©é˜µ">ä¸´ç•ŒçŸ©é˜µ</h3><p><a href="http://www.cppblog.com/menjitianya/archive/2015/11/19/212292.html" target="_blank" rel="noopener">ç›´æ¥ç²˜å¤§ä½¬çš„è¡¨è¾¾</a> &gt;é‚»æ¥çŸ©é˜µæ˜¯ç›´æ¥åˆ©ç”¨ä¸€ä¸ªäºŒç»´æ•°ç»„å¯¹è¾¹çš„å…³ç³»è¿›è¡Œå­˜å‚¨ï¼ŒçŸ©é˜µçš„ç¬¬iè¡Œç¬¬jåˆ—çš„å€¼ è¡¨ç¤º i -&gt; j è¿™æ¡è¾¹çš„æƒå€¼ï¼›ç‰¹æ®Šçš„ï¼Œå¦‚æœä¸å­˜åœ¨è¿™æ¡è¾¹ï¼Œç”¨ä¸€ä¸ªç‰¹æ®Šæ ‡è®°æ¥è¡¨ç¤ºï¼›å¦‚æœi == jï¼Œåˆ™æƒå€¼ä¸º0ã€‚å®ƒçš„ä¼˜ç‚¹æ˜¯å®ç°éå¸¸ç®€å•ï¼Œè€Œä¸”å¾ˆå®¹æ˜“ç†è§£ï¼›ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œå¦‚æœè¿™ä¸ªå›¾æ˜¯ä¸€ä¸ªéå¸¸ç¨€ç–çš„å›¾ï¼Œå›¾ä¸­è¾¹å¾ˆå°‘ï¼Œä½†æ˜¯ç‚¹å¾ˆå¤šï¼Œå°±ä¼šé€ æˆéå¸¸å¤§çš„å†…å­˜æµªè´¹ï¼Œç‚¹æ•°è¿‡å¤§çš„æ—¶å€™æ ¹æœ¬å°±æ— æ³•å­˜å‚¨</p><figure><img src="http://images.cppblog.com/cppblog_com/menjitianya/cfys_004.png" alt="é‚»æ¥çŸ©é˜µ"><figcaption>é‚»æ¥çŸ©é˜µ</figcaption></figure><p>ä¸€èˆ¬æ¥è¯´ï¼Œåšé¢˜ä¸­éƒ½æ˜¯ç”¨ä¸€ä¸ªäºŒç»´å‘é‡vector<int> g[maxn]å‚¨å­˜ï¼Œï¼Œmaxnä¸ºå‘é‡çš„æœ€å¤§ä¸ªæ•°ã€‚æ‰€æœ‰ä¸èŠ‚ç‚¹iç›¸è¿çš„ç‚¹éƒ½åœ¨g[i]è¿™ä¸ªå‘é‡é‡Œé¢ã€‚å¦‚æœè¿˜è¦å‚¨å­˜ <strong>è¾¹æƒ</strong> æˆ–è€…å…¶ä»–ä¿¡æ¯ï¼Œï¼Œå°†intæ”¹ä¸ºèŠ‚ç‚¹ç»“æ„ä½“å³å¯</int></p><h3 id="é‚»æ¥è¡¨">é‚»æ¥è¡¨</h3><p><a href="http://www.cppblog.com/menjitianya/archive/2015/11/19/212292.html" target="_blank" rel="noopener">åŒæ ·è´´å¤§ä½¬è¡¨è¾¾</a> &gt;é‚»æ¥è¡¨æ˜¯å›¾ä¸­å¸¸ç”¨çš„å­˜å‚¨ç»“æ„ä¹‹ä¸€ï¼Œæ¯ä¸ªé¡¶ç‚¹éƒ½æœ‰ä¸€ä¸ªé“¾è¡¨ï¼Œè¿™ä¸ªé“¾è¡¨çš„æ•°æ®è¡¨ç¤ºå’Œå½“å‰é¡¶ç‚¹ç›´æ¥ç›¸é‚»çš„é¡¶ç‚¹ï¼ˆå¦‚æœè¾¹æœ‰æƒå€¼ï¼Œè¿˜éœ€è¦ä¿å­˜è¾¹æƒä¿¡æ¯ï¼‰ã€‚é‚»æ¥è¡¨çš„ä¼˜ç‚¹æ˜¯å¯¹äºç¨€ç–å›¾ä¸ä¼šæœ‰æ•°æ®æµªè´¹ï¼Œç¼ºç‚¹å°±æ˜¯å®ç°ç›¸å¯¹éº»çƒ¦ï¼Œéœ€è¦è‡ªå·±å®ç°é“¾è¡¨ï¼ŒåŠ¨æ€åˆ†é…å†…å­˜ã€‚</p><figure><img src="http://images.cppblog.com/cppblog_com/menjitianya/cfys_005.png" alt="é‚»æ¥è¡¨"><figcaption>é‚»æ¥è¡¨</figcaption></figure><h3 id="å‰å‘æ˜Ÿ">å‰å‘æ˜Ÿ</h3><blockquote><p>å‰å‘æ˜Ÿæ˜¯ä»¥å­˜å‚¨è¾¹çš„æ–¹å¼æ¥å­˜å‚¨å›¾ï¼Œå…ˆå°†è¾¹è¯»å…¥å¹¶å­˜å‚¨åœ¨è¿ç»­çš„æ•°ç»„ä¸­ï¼Œç„¶åæŒ‰ç…§è¾¹çš„èµ·ç‚¹è¿›è¡Œæ’åºï¼Œè¿™æ ·æ•°ç»„ä¸­èµ·ç‚¹ç›¸ç­‰çš„è¾¹å°±èƒ½å¤Ÿåœ¨æ•°ç»„ä¸­è¿›è¡Œè¿ç»­è®¿é—®äº†ã€‚å®ƒçš„ä¼˜ç‚¹æ˜¯å®ç°ç®€å•ï¼Œå®¹æ˜“ç†è§£ï¼Œç¼ºç‚¹æ˜¯éœ€è¦åœ¨æ‰€æœ‰è¾¹éƒ½è¯»å…¥å®Œæ¯•çš„æƒ…å†µä¸‹å¯¹æ‰€æœ‰è¾¹è¿›è¡Œä¸€æ¬¡æ’åºï¼Œå¸¦æ¥äº†æ—¶é—´å¼€é”€ï¼Œå®ç”¨æ€§ä¹Ÿè¾ƒå·®ï¼Œåªé€‚åˆç¦»çº¿ç®—æ³•ã€‚</p></blockquote><figure><img src="http://images.cppblog.com/cppblog_com/menjitianya/cfys_006.png" alt="å‰å‘æ˜Ÿ"><figcaption>å‰å‘æ˜Ÿ</figcaption></figure><h3 id="é“¾å¼å‰å‘æ˜Ÿ">é“¾å¼å‰å‘æ˜Ÿ</h3><p><a href="http://www.cppblog.com/menjitianya/archive/2015/11/19/212292.html" target="_blank" rel="noopener">åŒä¸Š</a></p><blockquote><p>é“¾å¼å‰å‘æ˜Ÿå’Œé‚»æ¥è¡¨ç±»ä¼¼ï¼Œä¹Ÿæ˜¯é“¾å¼ç»“æ„å’Œçº¿æ€§ç»“æ„çš„ç»“åˆï¼Œæ¯ä¸ªç»“ç‚¹iéƒ½æœ‰ä¸€ä¸ªé“¾è¡¨ï¼Œé“¾è¡¨çš„æ‰€æœ‰æ•°æ®æ˜¯ä»iå‡ºå‘çš„æ‰€æœ‰è¾¹çš„é›†åˆï¼ˆå¯¹æ¯”é‚»æ¥è¡¨å­˜çš„æ˜¯é¡¶ç‚¹é›†åˆï¼‰ï¼Œè¾¹çš„è¡¨ç¤ºä¸ºä¸€ä¸ªå››å…ƒç»„(u, v, w, next)ï¼Œå…¶ä¸­(u, v)ä»£è¡¨è¯¥æ¡è¾¹çš„æœ‰å‘é¡¶ç‚¹å¯¹ï¼Œwä»£è¡¨è¾¹ä¸Šçš„æƒå€¼ï¼ŒnextæŒ‡å‘ä¸‹ä¸€æ¡è¾¹ã€‚ å…·ä½“çš„ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªè¾¹çš„ç»“æ„ä½“æ•°ç»„ edge[MAXM]ï¼ŒMAXMè¡¨ç¤ºè¾¹çš„æ€»æ•°ï¼Œæ‰€æœ‰è¾¹éƒ½å­˜å‚¨åœ¨è¿™ä¸ªç»“æ„ä½“æ•°ç»„ä¸­ï¼Œå¹¶ä¸”ç”¨head[i]æ¥æŒ‡å‘ i ç»“ç‚¹çš„ç¬¬ä¸€æ¡è¾¹ã€‚ è¾¹çš„ç»“æ„ä½“å£°æ˜å¦‚ä¸‹ï¼š <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">EDGE</span> &#123;</span></span><br><span class="line">                <span class="keyword">int</span> u, v, w, next;</span><br><span class="line">    EDGE() &#123;&#125;</span><br><span class="line">    EDGE(<span class="keyword">int</span> _u, <span class="keyword">int</span> _v, <span class="keyword">int</span> _w, <span class="keyword">int</span> _next) &#123;</span><br><span class="line">        u = _u, v = _v, w = _w, next = _next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;edge[MAXM];</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>åˆå§‹åŒ–æ‰€æœ‰çš„head[i] = INFï¼Œå½“å‰è¾¹æ€»æ•° edgeCount = 0 æ¯è¯»å…¥ä¸€æ¡è¾¹ï¼Œè°ƒç”¨addEdge(u, v, w)ï¼Œå…·ä½“å‡½æ•°çš„å®ç°å¦‚ä¸‹ï¼š</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addEdge</span><span class="params">(<span class="keyword">int</span> u, <span class="keyword">int</span> v, <span class="keyword">int</span> w)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    edge[ edgeCount ] = EDGE(u, v, w, head[u]);</span><br><span class="line">    head[u] = edgeCount ++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¿™ä¸ªå‡½æ•°çš„å«ä¹‰æ˜¯æ¯åŠ å…¥ä¸€æ¡è¾¹(u, v)ï¼Œå°±åœ¨åŸæœ‰çš„é“¾è¡¨ç»“æ„çš„é¦–éƒ¨æ’å…¥è¿™æ¡è¾¹ï¼Œä½¿å¾—æ¯æ¬¡æ’å…¥çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(1)ï¼Œæ‰€ä»¥é“¾è¡¨çš„è¾¹çš„é¡ºåºå’Œè¯»å…¥é¡ºåºæ­£å¥½æ˜¯é€†åºçš„ã€‚è¿™ç§ç»“æ„åœ¨æ— è®ºæ˜¯ç¨ å¯†çš„è¿˜æ˜¯ç¨€ç–çš„å›¾ä¸Šéƒ½æœ‰éå¸¸å¥½çš„è¡¨ç°ï¼Œç©ºé—´ä¸Šæ²¡æœ‰æµªè´¹ï¼Œæ—¶é—´ä¸Šä¹Ÿæ˜¯æœ€å°å¼€é”€ã€‚ è°ƒç”¨çš„æ—¶å€™åªè¦é€šè¿‡head[i]å°±èƒ½è®¿é—®åˆ°ç”± i å‡ºå‘çš„ç¬¬ä¸€æ¡è¾¹çš„ç¼–å·ï¼Œé€šè¿‡ç¼–å·åˆ°edgeæ•°ç»„è¿›è¡Œç´¢å¼•å¯ä»¥å¾—åˆ°è¾¹çš„å…·ä½“ä¿¡æ¯ï¼Œç„¶åæ ¹æ®è¿™æ¡è¾¹çš„nextåŸŸå¯ä»¥å¾—åˆ°ç¬¬äºŒæ¡è¾¹çš„ç¼–å·ï¼Œä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°nextåŸŸä¸ºINFï¼ˆè¿™é‡Œçš„INFå³headæ•°ç»„åˆå§‹åŒ–çš„é‚£ä¸ªå€¼ï¼Œä¸€èˆ¬å–-1å³å¯ï¼‰ã€‚</p></blockquote><p>é›†è®­æ—¶çš„æ¨¡æ¿ï¼Œï¼Œï¼Œ</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e5</span>;   <span class="comment">//æ— å‘å›¾çš„è¯å®é™…è¦å¼€è¾¹æ•°ä¸¤å€çš„ç©ºé—´</span></span><br><span class="line"><span class="keyword">int</span> head[maxn];         <span class="comment">//head[i]è¡¨ç¤ºä»¥iä¸ºèµ·ç‚¹çš„æœ€åä¸€æ¡è¾¹çš„ç¼–å·</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> to;             <span class="comment">//è¿™æ¡å˜å¾—ç»ˆç‚¹</span></span><br><span class="line">    <span class="keyword">int</span> w;              <span class="comment">//è¿™æ¡å˜å¾—æƒå€¼</span></span><br><span class="line">    <span class="keyword">int</span> last;           <span class="comment">//ä¸è‡ªå·±èµ·ç‚¹ç›¸åŒçš„ä¸Šä¸€æ¡è¾¹çš„ç¼–å·</span></span><br><span class="line">&#125;Edge[maxm];</span><br><span class="line"><span class="keyword">int</span> cnt;                <span class="comment">//è®°å½•Edgeæ•°æ®é‡Œé¢çš„è¾¹ç”¨åˆ°äº†å“ªé‡Œ</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> u , <span class="keyword">int</span> v , <span class="keyword">int</span> w)</span> <span class="comment">//åŠ ä¸€æ¡è¾¹ï¼Œèµ·ç‚¹ï¼Œ ç»ˆç‚¹ï¼Œæƒå€¼</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Edge[cnt].to = v;</span><br><span class="line">    Edge[cnt].w = w;</span><br><span class="line">    Edge[cnt].last = head[u];   <span class="comment">//å°†ç¼–å·ä¸ºcntçš„è¾¹åŠ å…¥</span></span><br><span class="line">    head[u] = cnt++;            <span class="comment">//åŠ è¾¹åï¼Œcntä¸ºä»¥uä¸ºèµ·ç‚¹çš„æœ€åä¸€æ¡è¾¹</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å›¾çš„éå†">å›¾çš„éå†</h3><h4 id="å‘é‡å‚¨å­˜æ–¹å¼">å‘é‡å‚¨å­˜æ–¹å¼</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> len = g[i].size();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; len; j++)</span><br><span class="line">    <span class="keyword">int</span> v = g[i][j];    <span class="comment">//å¾—åˆ°ä¸iç›¸è¿çš„æ‰€æœ‰èŠ‚ç‚¹</span></span><br></pre></td></tr></table></figure><h4 id="å‰å‘æ˜Ÿå‚¨å­˜æ–¹å¼">å‰å‘æ˜Ÿå‚¨å­˜æ–¹å¼</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = head[i]; j != <span class="number">-1</span>; j = Edge[j].last)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">int</span> v = Edge[j].to;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥é‡å¤´æˆï¼Œï¼Œï¼Œï¼Œ</p><h2 id="æœ€çŸ­è·¯">æœ€çŸ­è·¯</h2><h3 id="dijkstraç®—æ³•">Dijkstraç®—æ³•</h3><p>Dijkstraç®—æ³•é€‚ç”¨äºæ±‚ <strong>è¾¹æƒä¸ºæ­£</strong> ï¼Œ ä»å•ä¸ªåŸç‚¹å‡ºå‘çš„æœ€çŸ­è·¯ã€‚å®é™…ä»–èƒ½æ±‚åˆå§‹ç‚¹åˆ°å…¶ä»–æ‰€æœ‰é¡¶ç‚¹çš„æœ€çŸ­è·¯å¾„ï¼Œä¾‹å¦‚dis[i]è¡¨ç¤ºåŸç‚¹åˆ°iè¿™ä¸ªèŠ‚ç‚¹çš„æœ€çŸ­è·¯çš„å€¼ï¼Œï¼Œï¼Œï¼Œå®é™…ä¸Šæ˜¯åŸºäºbfsæœç´¢çš„</p><p><a href="http://www.cppblog.com/menjitianya/archive/2015/11/19/212292.html" target="_blank" rel="noopener">å¤§ä½¬çš„è¡¨è¾¾ï¼š</a></p><blockquote><p>å¯¹äºä¸€ä¸ªæœ‰å‘å›¾æˆ–æ— å‘å›¾ï¼Œæ‰€æœ‰è¾¹æƒä¸ºæ­£ï¼ˆè¾¹ç”¨é‚»æ¥çŸ©é˜µçš„å½¢å¼ç»™å‡ºï¼‰ï¼Œç»™å®šaå’Œbï¼Œæ±‚aåˆ°bçš„æœ€çŸ­è·¯ï¼Œä¿è¯aä¸€å®šèƒ½å¤Ÿåˆ°è¾¾bã€‚è¿™æ¡æœ€çŸ­è·¯æ˜¯å¦ä¸€å®šå­˜åœ¨å‘¢ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚ç›¸åï¼Œæœ€é•¿è·¯å°±ä¸ä¸€å®šäº†ï¼Œç”±äºè¾¹æƒä¸ºæ­£ï¼Œå¦‚æœé‡åˆ°æœ‰ç¯çš„æ—¶å€™ï¼Œå¯ä»¥ä¸€ç›´åœ¨è¿™ä¸ªç¯ä¸Šèµ°ï¼Œå› ä¸ºè¦æ‰¾æœ€é•¿çš„ï¼Œè¿™æ ·å°±ä½¿å¾—è·¯å¾„è¶Šå˜è¶Šé•¿ï¼Œæ°¸æ— æ­¢å¢ƒï¼Œæ‰€ä»¥å¯¹äºæ­£æƒå›¾ï¼Œåœ¨å¯è¾¾çš„æƒ…å†µä¸‹æœ€çŸ­è·¯ä¸€å®šå­˜åœ¨ï¼Œæœ€é•¿è·¯åˆ™ä¸ä¸€å®šå­˜åœ¨ã€‚è¿™é‡Œå…ˆè®¨è®ºæ­£æƒå›¾çš„æœ€çŸ­è·¯é—®é¢˜ã€‚</p></blockquote><blockquote><p>æœ€çŸ­è·¯æ»¡è¶³æœ€ä¼˜å­ç»“æ„æ€§è´¨ï¼Œæ‰€ä»¥æ˜¯ä¸€ä¸ªåŠ¨æ€è§„åˆ’é—®é¢˜ã€‚æœ€çŸ­è·¯çš„æœ€ä¼˜å­ç»“æ„å¯ä»¥æè¿°ä¸ºï¼š D(s, t) = {Vs ... Vi ... Vj ... Vt}è¡¨ç¤ºsåˆ°tçš„æœ€çŸ­è·¯ï¼Œå…¶ä¸­iå’Œjæ˜¯è¿™æ¡è·¯å¾„ä¸Šçš„ä¸¤ä¸ªä¸­é—´ç»“ç‚¹ï¼Œé‚£ä¹ˆD(i, j)å¿…å®šæ˜¯iåˆ°jçš„æœ€çŸ­è·¯ï¼Œè¿™ä¸ªæ€§è´¨æ˜¯æ˜¾ç„¶çš„ï¼Œå¯ä»¥ç”¨åè¯æ³•è¯æ˜ã€‚ åŸºäºä¸Šé¢çš„æœ€ä¼˜å­ç»“æ„æ€§è´¨ï¼Œå¦‚æœå­˜åœ¨è¿™æ ·ä¸€æ¡æœ€çŸ­è·¯D(s, t) = {Vs ... Vi Vt}ï¼Œå…¶ä¸­iå’Œtæ˜¯æœ€çŸ­è·¯ä¸Šç›¸é‚»çš„ç‚¹ï¼Œé‚£ä¹ˆD(s, i) = {Vs ... Vi} å¿…å®šæ˜¯såˆ°içš„æœ€çŸ­è·¯ã€‚Dijkstraç®—æ³•å°±æ˜¯åŸºäºè¿™æ ·ä¸€ä¸ªæ€§è´¨ï¼Œé€šè¿‡æœ€çŸ­è·¯å¾„é•¿åº¦é€’å¢ï¼Œé€æ¸ç”Ÿæˆæœ€çŸ­è·¯ã€‚</p></blockquote><blockquote><p>Dijkstraç®—æ³•æ˜¯æœ€ç»å…¸çš„æœ€çŸ­è·¯ç®—æ³•ï¼Œç”¨äºè®¡ç®—æ­£æƒå›¾çš„å•æºæœ€çŸ­è·¯ï¼ˆSingle Source Shortest Pathï¼Œæºç‚¹ç»™å®šï¼Œé€šè¿‡è¯¥ç®—æ³•å¯ä»¥æ±‚å‡ºèµ·ç‚¹åˆ°æ‰€æœ‰ç‚¹çš„æœ€çŸ­è·¯ï¼‰ï¼Œå®ƒæ˜¯åŸºäºè¿™æ ·ä¸€ä¸ªäº‹å®ï¼šå¦‚æœæºç‚¹åˆ°xç‚¹çš„æœ€çŸ­è·¯å·²ç»æ±‚å‡ºï¼Œå¹¶ä¸”ä¿å­˜åœ¨d[x] ( å¯ä»¥å°†å®ƒç†è§£ä¸ºD(s, x) )ä¸Šï¼Œé‚£ä¹ˆå¯ä»¥åˆ©ç”¨xå»æ›´æ–° xèƒ½å¤Ÿç›´æ¥åˆ°è¾¾çš„ç‚¹ çš„æœ€çŸ­è·¯ã€‚å³ï¼š d[y] = min{ d[y], d[x] + w(x, y) } yä¸ºxèƒ½å¤Ÿç›´æ¥åˆ°è¾¾çš„ç‚¹ï¼Œw(x, y) åˆ™è¡¨ç¤ºx-&gt;yè¿™æ¡æœ‰å‘è¾¹çš„è¾¹æƒ å…·ä½“ç®—æ³•æè¿°å¦‚ä¸‹ï¼šå¯¹äºå›¾G = &lt;V, E&gt;ï¼Œæºç‚¹ä¸ºsï¼Œd[i]è¡¨ç¤ºsåˆ°içš„æœ€çŸ­è·¯ï¼Œvisit[i]è¡¨ç¤ºd[i]æ˜¯å¦å·²ç»ç¡®å®š(å¸ƒå°”å€¼)ã€‚ 1) åˆå§‹åŒ– æ‰€æœ‰é¡¶ç‚¹ d[i] = INF, visit[i] = falseï¼Œä»¤d[s] = 0ï¼› 2) ä»æ‰€æœ‰visit[i]ä¸ºfalseçš„é¡¶ç‚¹ä¸­æ‰¾åˆ°ä¸€ä¸ªd[i]å€¼æœ€å°çš„ï¼Œä»¤x = i; å¦‚æœæ‰¾ä¸åˆ°ï¼Œç®—æ³•ç»“æŸï¼› 3) æ ‡è®°visit[x] = true, æ›´æ–°å’Œxç›´æ¥ç›¸é‚»çš„æ‰€æœ‰é¡¶ç‚¹yçš„æœ€çŸ­è·¯ï¼š d[y] = min{ d[y], d[x] + w(x, y) } ç¬¬ä¸‰æ­¥ä¸­å¦‚æœyå’Œxå¹¶ä¸æ˜¯ç›´æ¥ç›¸é‚»ï¼Œåˆ™ä»¤w(x, y) = INFï¼‰</p></blockquote><p>é›†è®­æ—¶çš„æ¨¡æ¿:</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">105</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxm = <span class="number">20020</span>;</span><br><span class="line"><span class="keyword">int</span> head[maxn];</span><br><span class="line"><span class="keyword">int</span> dis[maxn];</span><br><span class="line"><span class="keyword">int</span> cnt;</span><br><span class="line"><span class="keyword">int</span> n , m;</span><br><span class="line"><span class="comment">//å­˜å›¾</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(head , <span class="number">-1</span> , <span class="keyword">sizeof</span>(head));</span><br><span class="line"><span class="comment">//    memset(dis , inf , sizeof(dis));</span></span><br><span class="line"><span class="comment">//    dis[1] = 0;</span></span><br><span class="line">    cnt = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> to;</span><br><span class="line">    <span class="keyword">int</span> w;</span><br><span class="line">    <span class="keyword">int</span> last;</span><br><span class="line">&#125;Edge[maxm];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> u , <span class="keyword">int</span> v , <span class="keyword">int</span> w)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Edge[cnt].to = v;</span><br><span class="line">    Edge[cnt].w = w;</span><br><span class="line">    Edge[cnt].last = head[u];</span><br><span class="line">    head[u] = cnt++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//èŠ‚ç‚¹</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> u;</span><br><span class="line">    <span class="keyword">int</span> w;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> node &amp;res)<span class="keyword">const</span>  <span class="comment">//ä¼˜å…ˆé˜Ÿåˆ—ä½¿ç”¨</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> w &gt; res.w;</span><br><span class="line">    &#125;</span><br><span class="line">    node (<span class="keyword">int</span> _u , <span class="keyword">int</span> _w)                  <span class="comment">//å…¥é˜Ÿä½¿ç”¨</span></span><br><span class="line">    &#123;</span><br><span class="line">        u = _u;</span><br><span class="line">        w = _w;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//Dijkstraç®—æ³•ï¼Œï¼Œï¼Œ</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Dijkstra</span><span class="params">()</span>                             <span class="comment">//æ±‚åŸç‚¹åˆ°ç»ˆç‚¹çš„æœ€çŸ­è·ç¦»ï¼Œç»“æœåœ¨dis[i]ä¸­</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)            <span class="comment">//å°†æ¯ä¸ªèŠ‚ç‚¹å€¼ç½®ä¸ºæ— ç©·å¤§ï¼Œï¼Œ</span></span><br><span class="line">        dis[i] = inf;</span><br><span class="line">    dis[<span class="number">1</span>] = <span class="number">0</span>;                             <span class="comment">//åŸç‚¹åˆ°è‡ªèº«è·ç¦»ä¸º0</span></span><br><span class="line">    priority_queue&lt;node&gt; q;                 <span class="comment">//ä¼˜å…ˆé˜Ÿåˆ—</span></span><br><span class="line">    <span class="keyword">while</span> (!q.empty())  q.pop();</span><br><span class="line">    q.push(node(<span class="number">1</span> , <span class="number">0</span>));</span><br><span class="line">    <span class="keyword">while</span> (!q.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        node nx = q.top();</span><br><span class="line">        q.pop();</span><br><span class="line">        <span class="keyword">int</span> u = nx.u;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = head[u]; i != <span class="number">-1</span>; i = Edge[i].last)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> to = Edge[i].to;</span><br><span class="line">            <span class="keyword">int</span> w = Edge[i].w;</span><br><span class="line">            <span class="keyword">if</span> (dis[u] + w &lt; dis[to])</span><br><span class="line">            &#123;</span><br><span class="line">                dis[to] = dis[u] + w;</span><br><span class="line">                q.push(node(to , dis[to]));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="spfaç®—æ³•">SPFAç®—æ³•</h3><p>Dijlstraç®—æ³•åªèƒ½å¤„ç†æ­£æƒå€¼çš„å›¾ï¼Œï¼Œï¼Œå¯èƒ½å‡ºç°è´Ÿç¯ï¼Œï¼Œä¼šä¸€ç›´èµ°ä¸‹å»ï¼Œï¼Œè€ŒSPFAåˆ™å¯ä»¥å¤„ç†æœ‰è´Ÿæƒå€¼çš„å›¾ï¼Œï¼Œ</p><p>ç»´æŠ¤ä¸€ä¸ªé˜Ÿåˆ—ï¼Œé‡Œé¢å­˜æ”¾æ‰€æœ‰éœ€è¦è¿›è¡Œè¿­ä»£çš„ç‚¹ï¼Œåˆå§‹æ—¶é˜Ÿåˆ—ä¸­åªæœ‰ä¸€ä¸ªåŸç‚¹sï¼Œç”¨ä¸€ä¸ªå¸ƒå°”æ•°ç»„è®°å½•æ¯ä¸€ä¸ªç‚¹æ˜¯å¦åœ¨é˜Ÿåˆ—ä¸­ï¼Œï¼Œï¼Œ</p><p>å¤§ä½¬çš„è¡¨è¾¾:</p><blockquote><p>SPFA( Shortest Path Faster Algorithm )æ˜¯åŸºäºBellman-Fordçš„æ€æƒ³ï¼Œé‡‡ç”¨å…ˆè¿›å…ˆå‡º(FIFO)é˜Ÿåˆ—è¿›è¡Œä¼˜åŒ–çš„ä¸€ä¸ªè®¡ç®—å•æºæœ€çŸ­è·¯çš„å¿«é€Ÿç®—æ³•ã€‚ ç±»ä¼¼Bellman-Fordçš„åšæ³•ï¼Œæˆ‘ä»¬ç”¨æ•°ç»„dè®°å½•æ¯ä¸ªç»“ç‚¹çš„æœ€çŸ­è·¯å¾„ä¼°è®¡å€¼ï¼Œå¹¶ç”¨é“¾å¼å‰å‘æ˜Ÿæ¥å­˜å‚¨å›¾Gã€‚åˆ©ç”¨ä¸€ä¸ªå…ˆè¿›å…ˆå‡ºçš„é˜Ÿåˆ—ç”¨æ¥ä¿å­˜å¾…æ¾å¼›çš„ç»“ç‚¹ï¼Œæ¯æ¬¡å–å‡ºé˜Ÿé¦–ç»“ç‚¹uï¼Œå¹¶ä¸”æšä¸¾ä»uå‡ºå‘çš„æ‰€æœ‰è¾¹(u, v)ï¼Œå¦‚æœd[u] + w(u, v) &lt; d[v]ï¼Œåˆ™æ›´æ–°d[v] = d[u] + w(u, v)ï¼Œç„¶ååˆ¤æ–­vç‚¹åœ¨ä¸åœ¨é˜Ÿåˆ—ä¸­ï¼Œå¦‚æœä¸åœ¨å°±å°†vç‚¹æ”¾å…¥é˜Ÿå°¾ã€‚è¿™æ ·ä¸æ–­ä»é˜Ÿåˆ—ä¸­å–å‡ºç»“ç‚¹æ¥è¿›è¡Œæ¾å¼›æ“ä½œï¼Œç›´è‡³é˜Ÿåˆ—ç©ºä¸ºæ­¢ã€‚</p></blockquote><blockquote><p>åªè¦æœ€çŸ­è·¯å¾„å­˜åœ¨ï¼ŒSPFAç®—æ³•å¿…å®šèƒ½æ±‚å‡ºæœ€å°å€¼ã€‚å› ä¸ºæ¯æ¬¡å°†ç‚¹æ”¾å…¥é˜Ÿå°¾ï¼Œéƒ½æ˜¯ç»è¿‡æ¾å¼›æ“ä½œè¾¾åˆ°çš„ã€‚å³æ¯æ¬¡å…¥é˜Ÿçš„ç‚¹vå¯¹åº”çš„æœ€çŸ­è·¯å¾„ä¼°è®¡å€¼d[v]éƒ½åœ¨å˜å°ã€‚æ‰€ä»¥ç®—æ³•çš„æ‰§è¡Œä¼šä½¿dè¶Šæ¥è¶Šå°ã€‚ç”±äºæˆ‘ä»¬å‡å®šæœ€çŸ­è·¯ä¸€å®šå­˜åœ¨ï¼Œå³å›¾ä¸­æ²¡æœ‰è´Ÿæƒåœˆï¼Œæ‰€ä»¥æ¯ä¸ªç»“ç‚¹éƒ½æœ‰æœ€çŸ­è·¯å¾„å€¼ã€‚å› æ­¤ï¼Œç®—æ³•ä¸ä¼šæ— é™æ‰§è¡Œä¸‹å»ï¼Œéšç€då€¼çš„é€æ¸å˜å°ï¼Œç›´åˆ°åˆ°è¾¾æœ€çŸ­è·¯å¾„å€¼æ—¶ï¼Œç®—æ³•ç»“æŸï¼Œè¿™æ—¶çš„æœ€çŸ­è·¯å¾„ä¼°è®¡å€¼å°±æ˜¯å¯¹åº”ç»“ç‚¹çš„æœ€çŸ­è·¯å¾„å€¼ã€‚</p></blockquote><blockquote><p>é‚£ä¹ˆæœ€çŸ­è·¯å¾„ä¸å­˜åœ¨å‘¢ï¼Ÿå¦‚æœå­˜åœ¨è´Ÿæƒåœˆï¼Œå¹¶ä¸”èµ·ç‚¹å¯ä»¥é€šè¿‡ä¸€äº›é¡¶ç‚¹åˆ°è¾¾è´Ÿæƒåœˆï¼Œé‚£ä¹ˆåˆ©ç”¨SPFAç®—æ³•ä¼šè¿›å…¥ä¸€ä¸ªæ­»å¾ªç¯ï¼Œå› ä¸ºdå€¼ä¼šè¶Šæ¥è¶Šå°ï¼Œå¹¶ä¸”æ²¡æœ‰ä¸‹é™ï¼Œä½¿å¾—æœ€çŸ­è·¯ä¸å­˜åœ¨ã€‚é‚£ä¹ˆæˆ‘ä»¬å‡è®¾ä¸å­˜åœ¨è´Ÿæƒåœˆï¼Œåˆ™ä»»ä½•æœ€çŸ­è·¯ä¸Šçš„ç‚¹å¿…å®šå°äºç­‰äºnä¸ªï¼ˆæ²¡æœ‰åœˆï¼‰ï¼Œæ¢è¨€ä¹‹ï¼Œç”¨ä¸€ä¸ªæ•°ç»„c[i]æ¥è®°å½•iè¿™ä¸ªç‚¹å…¥é˜Ÿçš„æ¬¡æ•°ï¼Œæ‰€æœ‰çš„c[i]å¿…å®šéƒ½å°äºç­‰äºnï¼Œæ‰€ä»¥ä¸€æ—¦æœ‰ä¸€ä¸ªc[i] &gt; nï¼Œåˆ™è¡¨æ˜è¿™ä¸ªå›¾ä¸­å­˜åœ¨è´Ÿæƒåœˆã€‚</p></blockquote><blockquote><p>æ¥ä¸‹æ¥ç»™å‡ºSPFAæ›´åŠ ç›´è§‚çš„ç†è§£ï¼Œå‡è®¾å›¾ä¸­æ‰€æœ‰è¾¹çš„è¾¹æƒéƒ½ä¸º1ï¼Œé‚£ä¹ˆSPFAå…¶å®å°±æ˜¯ä¸€ä¸ªBFSï¼ˆBreadth First Searchï¼Œå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼‰ï¼Œå¯¹äºBFSçš„ä»‹ç»å¯ä»¥å‚é˜…æœç´¢å…¥é—¨ã€‚BFSé¦–å…ˆåˆ°è¾¾çš„é¡¶ç‚¹æ‰€ç»å†çš„è·¯å¾„ä¸€å®šæ˜¯æœ€çŸ­è·¯(ä¹Ÿå°±æ˜¯ç»è¿‡çš„æœ€å°‘é¡¶ç‚¹æ•°)ï¼Œæ‰€ä»¥æ­¤æ—¶åˆ©ç”¨æ•°ç»„è®°å½•èŠ‚ç‚¹è®¿é—®å¯ä»¥ä½¿æ¯ä¸ªé¡¶ç‚¹åªè¿›é˜Ÿä¸€æ¬¡ï¼Œä½†åœ¨è‡³å°‘æœ‰ä¸€æ¡è¾¹çš„è¾¹æƒä¸ä¸º1çš„å¸¦æƒå›¾ä¸­ï¼Œæœ€å…ˆåˆ°è¾¾çš„é¡¶ç‚¹çš„è·¯å¾„ä¸ä¸€å®šæ˜¯æœ€çŸ­è·¯ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¦ç”¨dæ•°ç»„æ¥è®°å½•å½“å‰æœ€çŸ­è·¯ä¼°è®¡å€¼çš„åŸå› äº†ã€‚</p></blockquote><p>é›†è®­æ—¶çš„æ¨¡æ¿:</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//#include &lt;iostream&gt;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1010</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxm = <span class="number">30010</span>;</span><br><span class="line"><span class="keyword">int</span> head[maxn];</span><br><span class="line"><span class="keyword">int</span> dis[maxn];</span><br><span class="line"><span class="keyword">int</span> in[maxn];       <span class="comment">//in[i]è¡¨ç¤ºç‚¹içš„å…¥é˜Ÿæ¬¡æ•°</span></span><br><span class="line"><span class="keyword">bool</span> vis[maxn];     <span class="comment">//vis[i]è¡¨ç¤ºç‚¹iæ˜¯å¦åœ¨é˜Ÿåˆ—ä¸­</span></span><br><span class="line"><span class="keyword">int</span> cnt;</span><br><span class="line"><span class="keyword">int</span> n , m;</span><br><span class="line"><span class="comment">//int s , t;</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(head , <span class="number">-1</span> , <span class="keyword">sizeof</span>(head));</span><br><span class="line">    cnt = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> to;</span><br><span class="line">    <span class="keyword">int</span> w;</span><br><span class="line">    <span class="keyword">int</span> last;</span><br><span class="line">&#125;Edge[maxm];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> u , <span class="keyword">int</span> v , <span class="keyword">int</span> w)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Edge[cnt].to = v;</span><br><span class="line">    Edge[cnt].w = w;</span><br><span class="line">    Edge[cnt].last = head[u];</span><br><span class="line">    head[u] = cnt++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> u;</span><br><span class="line">    <span class="keyword">int</span> w;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> node &amp;res)<span class="keyword">const</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> w &gt; res.w;</span><br><span class="line">    &#125;</span><br><span class="line">    node (<span class="keyword">int</span> _u , <span class="keyword">int</span> _w)</span><br><span class="line">    &#123;</span><br><span class="line">        u = _u;</span><br><span class="line">        w = _w;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">spfa</span><span class="params">(<span class="keyword">int</span> s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; q;</span><br><span class="line">    dis[s] = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">memset</span>(vis , <span class="literal">false</span> , <span class="keyword">sizeof</span>(vis));</span><br><span class="line">    <span class="built_in">memset</span>(in , <span class="number">0</span> , <span class="keyword">sizeof</span>(ln));</span><br><span class="line">    <span class="built_in">memset</span>(dis , inf , <span class="keyword">sizeof</span>(dis));</span><br><span class="line">    dis[s] = <span class="number">0</span>;</span><br><span class="line">    q.push(s);</span><br><span class="line">    vis[s] = <span class="literal">true</span>;      </span><br><span class="line">    in[s] = <span class="number">1</span>;                                              <span class="comment">//é¡¶ç‚¹å…¥é˜Ÿvisæ ‡è®°ï¼Œï¼Œï¼ŒåŒæ—¶ç»Ÿè®¡é¡¶ç‚¹çš„å…¥é˜Ÿæ¬¡æ•°</span></span><br><span class="line">    <span class="keyword">while</span> (!q.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> u = q.front();</span><br><span class="line">        q.pop();</span><br><span class="line">        vis[u] = <span class="literal">false</span>;                                     <span class="comment">//å¯¹å¤´å…ƒç´ å‡ºé˜Ÿï¼Œå¹¶ä¸”æ¶ˆé™¤æ ‡è®°</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = head[u]; i != <span class="number">-1</span>; i = Edge[i].last)    <span class="comment">//éå†é¡¶ç‚¹uçš„é‚»æ¥è¡¨</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> v = Edge[i].to;</span><br><span class="line">            <span class="keyword">int</span> w = Edge[i].w;</span><br><span class="line">            <span class="keyword">if</span> (dis[u] + w &lt; dis[v])</span><br><span class="line">            &#123;</span><br><span class="line">                dis[v] = dis[u] + w;                        <span class="comment">//æ¾å¼›</span></span><br><span class="line">                <span class="keyword">if</span> (!vis[v])                                <span class="comment">//é¡¶ç‚¹vä¸åœ¨é˜Ÿå†…</span></span><br><span class="line">                &#123;</span><br><span class="line">                    vis[v] = <span class="literal">true</span>;                          <span class="comment">//æ ‡è®°</span></span><br><span class="line">                    in[v]++;                                <span class="comment">//ç»Ÿè®¡æ¬¡æ•°</span></span><br><span class="line">                    q.push(v);                              <span class="comment">//å…¥é˜Ÿ</span></span><br><span class="line">                    <span class="keyword">if</span> (in[v] &gt;= n)                         <span class="comment">//è¶…å‡ºå…¥é˜Ÿæ¬¡æ•°ä¸Šé™ï¼Œè¯´æ˜æœ‰è´Ÿç¯</span></span><br><span class="line">                        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;                  <span class="comment">//å­˜åœ¨è´Ÿç¯è¿”å›-1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="floydç®—æ³•">Floydç®—æ³•</h3><p>å¦‚æœéœ€è¦æ±‚ä»»æ„ä¸¤ç‚¹ä¹‹é—´çš„è·ç¦»ï¼Œä¸å¿…è°ƒç”¨næ¬¡dijstraæˆ–è€…Bellman-fordç®—æ³•ï¼Œå¯ä»¥ä½¿ç”¨Floyd-Warshallç®—æ³• + Floydç®—æ³•åˆ©ç”¨ <strong>åŠ¨æ€è§„åˆ’</strong> ï¼Œï¼Œ + ç”¨d[i][j][k]è¡¨ç¤ºä»iåˆ°jï¼Œç»è¿‡ç¼–å·ä¸è¶…è¿‡kçš„ç‚¹æ‰€å¾—åˆ°çš„æœ€çŸ­è·ç¦»ï¼Œåˆ™d[i][j][k] = min{d[i][j][k - 1] , d[i][k][k - 1] + d[k][j][k - 1]}</p><blockquote><p>æœ€åä»‹ç»ä¸€ä¸ª <strong>æ±‚ä»»æ„ä¸¤ç‚¹æœ€çŸ­è·¯</strong> çš„ç®—æ³•ï¼Œå¾ˆæ˜¾ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥æ±‚næ¬¡å•æºæœ€çŸ­è·¯ï¼ˆæšä¸¾èµ·ç‚¹ï¼‰ï¼Œä½†æ˜¯ä¸‹é¢è¿™ç§æ–¹æ³•æ›´åŠ å®¹æ˜“ç¼–ç ï¼Œè€Œä¸”å¾ˆå·§å¦™ï¼Œå®ƒä¹Ÿæ˜¯åŸºäºåŠ¨æ€è§„åˆ’çš„æ€æƒ³ã€‚ ä»¤d[i][j][k]ä¸ºåªå…è®¸ç»è¿‡ç»“ç‚¹[0, k]çš„æƒ…å†µä¸‹ï¼Œi åˆ° jçš„æœ€çŸ­è·¯ã€‚é‚£ä¹ˆåˆ©ç”¨æœ€ä¼˜å­ç»“æ„æ€§è´¨ï¼Œæœ‰ä¸¤ç§æƒ…å†µï¼š</p></blockquote><blockquote><ol type="a"><li>å¦‚æœæœ€çŸ­è·¯ç»è¿‡kç‚¹ï¼Œåˆ™d[i][j][k] = d[i][k][k-1] + d[k][j][k-1];</li></ol></blockquote><blockquote><ol start="2" type="a"><li>å¦‚æœæœ€çŸ­è·¯ä¸ç»è¿‡kç‚¹ï¼Œåˆ™d[i][j][k] = d[i][j][k-1];</li></ol></blockquote><blockquote><p>äºæ˜¯æœ‰çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š d[i][j][k] = min{ d[i][j][k-1], d[i][k][k-1] + d[k][j][k-1] } (0 &lt;= i, j, k &lt; n)</p></blockquote><blockquote><p>è¿™æ˜¯ä¸€ä¸ª3D/0Dé—®é¢˜ï¼Œåªéœ€è¦æŒ‰ç…§ké€’å¢çš„é¡ºåºè¿›è¡Œæšä¸¾ï¼Œå°±èƒ½åœ¨O(n<sup>3)çš„æ—¶é—´å†…æ±‚è§£ï¼Œåˆç¬¬ä¸‰ç»´çš„çŠ¶æ€å¯ä»¥é‡‡ç”¨æ»šåŠ¨æ•°ç»„è¿›è¡Œä¼˜åŒ–ï¼Œæ‰€ä»¥ç©ºé—´å¤æ‚åº¦ä¸ºO(n</sup>2)ã€‚</p></blockquote><h2 id="ä¹ é¢˜">ä¹ é¢˜</h2><h3 id="problem-a-å®ä¹ ç”Ÿaveryboy">Problem A: å®ä¹ ç”Ÿaveryboy</h3><p>Time Limit: 2 Sec Memory Limit: 128 MB</p><blockquote><p>Description</p></blockquote><blockquote><p>averyboyç°åœ¨åœ¨å®ä¹ ã€‚æ¯å¤©æ—©ä¸Šä»–è¦æ­¥è¡Œå»å…¬å¸ä¸Šç­ï¼Œä½ è‚¯å®šçŸ¥é“ï¼Œä»–æ˜¯ä¸€ä¸ªéå¸¸ç”·å­©ï¼Œæ‰€ä»¥ä»–ä¼šé€‰æ‹©æœ€çŸ­çš„è·¯å»å…¬å¸ã€‚ç°åœ¨ç»™ä½ averyboyåˆ°å…¬å¸é€”ä¸­çš„è‹¥å¹²ä¸ªç«™ç‚¹ï¼Œæ ‡å·ä¸º1~N,averyboyçš„å¼€å§‹åœ¨1å·ç«™ç‚¹ï¼Œå®ƒçš„å…¬å¸åœ¨Nå·ç«™ç‚¹ï¼Œç„¶åç»™ä½ è‹¥å¹²æ¡è¾¹ä»£è¡¨ç«™ç‚¹æœ‰è·¯å¯ä»¥é€šè¿‡ï¼ˆå¯èƒ½ä¼šæœ‰é‡è¾¹ï¼‰ã€‚ç°åœ¨ä½ éœ€è¦å‘Šè¯‰averyboyä»–åˆ°å…¬å¸çš„æœ€çŸ­è·¯å¾„æ˜¯å¤šå°‘ã€‚</p></blockquote><blockquote><p>Input</p></blockquote><blockquote><p>ç¬¬ä¸€è¡Œä¸€ä¸ªæ•´æ•°Tï¼ˆT &lt;= 5ï¼‰ä»£è¡¨æµ‹è¯•æ•°æ®çš„ç»„æ•°</p></blockquote><blockquote><p>æ¥ä¸‹æ¥Tç»„æµ‹è¯•æ•°æ®ã€‚</p></blockquote><blockquote><p>æ¯ç»„æµ‹è¯•æ•°æ®ç¬¬ä¸€è¡Œä¸ºä¸¤ä¸ªæ•´æ•°Nï¼ŒM(1 &lt;= N &lt;= 100, 0 &lt;= M &lt;= 10000)ä»£è¡¨ç«™ç‚¹çš„ä¸ªæ•°å’Œè¾¹çš„æ¡æ•°</p></blockquote><blockquote><p>æ¥ä¸‹æ¥Mè¡Œï¼Œæ¯ä¸€è¡Œä¸‰ä¸ªæ•°u, v, wä»£è¡¨ç«™ç‚¹u,vä¹‹é—´æœ‰ä¸€æ¡æ— å‘è¾¹ï¼Œè¾¹çš„æƒå€¼ä¸ºw(1 &lt;= u, v &lt;= N, 0 &lt;= w &lt;= 1000)</p></blockquote><blockquote><p>Output</p></blockquote><blockquote><p>å¯¹äºæ¯ç»„æµ‹è¯•æ•°æ®ï¼Œå¦‚æœå­˜åœ¨è·¯å¾„ä½¿å¾—averyboyèƒ½å¤Ÿåˆ°è¾¾å…¬å¸ï¼Œè¾“å‡ºä¸€ä¸ªæ•´æ•°ä»£è¡¨è¿™ä¸ªæœ€çŸ­è·¯å¾„çš„é•¿åº¦ï¼Œåä¹‹è¾“å‡ºaveryboynb</p></blockquote><blockquote><p>Sample Input 2 3 2 1 2 1 2 3 1 3 1 1 2 1</p></blockquote><blockquote><p>Sample Output 2 averyboynb</p></blockquote><p>æˆ‘çš„ä»£ç ï¼Œï¼Œï¼Œ</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//#include &lt;iostream&gt;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">105</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxm = <span class="number">20020</span>;         <span class="comment">//æ— å‘å›¾è¾¹å¼€ä¸¤å€</span></span><br><span class="line"><span class="keyword">int</span> head[maxn];</span><br><span class="line"><span class="keyword">int</span> dis[maxn];</span><br><span class="line"><span class="keyword">int</span> cnt;</span><br><span class="line"><span class="keyword">int</span> n , m;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(head , <span class="number">-1</span> , <span class="keyword">sizeof</span>(head));</span><br><span class="line"><span class="comment">//    memset(dis , inf , sizeof(dis));</span></span><br><span class="line"><span class="comment">//    dis[1] = 0;</span></span><br><span class="line">    cnt = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> to;</span><br><span class="line">    <span class="keyword">int</span> w;</span><br><span class="line">    <span class="keyword">int</span> last;</span><br><span class="line">&#125;Edge[maxm];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> u , <span class="keyword">int</span> v , <span class="keyword">int</span> w)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Edge[cnt].to = v;</span><br><span class="line">    Edge[cnt].w = w;</span><br><span class="line">    Edge[cnt].last = head[u];</span><br><span class="line">    head[u] = cnt++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> u;</span><br><span class="line">    <span class="keyword">int</span> w;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> node &amp;res)<span class="keyword">const</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> w &gt; res.w;</span><br><span class="line">    &#125;</span><br><span class="line">    node (<span class="keyword">int</span> _u , <span class="keyword">int</span> _w)</span><br><span class="line">    &#123;</span><br><span class="line">        u = _u;</span><br><span class="line">        w = _w;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Dijkstra</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        dis[i] = inf;</span><br><span class="line">    priority_queue&lt;node&gt; q;</span><br><span class="line">    <span class="keyword">while</span> (!q.empty())  q.pop();</span><br><span class="line">    dis[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">    q.push(node(<span class="number">1</span> , <span class="number">0</span>));</span><br><span class="line">    <span class="keyword">while</span> (!q.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        node nx = q.top();</span><br><span class="line">        q.pop();</span><br><span class="line">        <span class="keyword">int</span> u = nx.u;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = head[u]; i != <span class="number">-1</span>; i = Edge[i].last)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> to = Edge[i].to;</span><br><span class="line">            <span class="keyword">int</span> w = Edge[i].w;</span><br><span class="line">            <span class="keyword">if</span> (dis[u] + w &lt; dis[to])</span><br><span class="line">            &#123;</span><br><span class="line">                dis[to] = dis[u] + w;</span><br><span class="line">                q.push(node(to , dis[to]));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//ios_base::sync_with_stdio(0);</span></span><br><span class="line">    <span class="comment">//freopen("data.in", "r", stdin);</span></span><br><span class="line"><span class="comment">//    freopen("test.out", "w", stdout);</span></span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="comment">//cin &gt;&gt; t;</span></span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;t);</span><br><span class="line">    <span class="keyword">while</span> (t--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//cin &gt;&gt; n &gt;&gt; m;</span></span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span> , &amp;n , &amp;m);</span><br><span class="line">        <span class="keyword">int</span> u , v , w;</span><br><span class="line">        init();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//cin &gt;&gt; u &gt;&gt; v &gt;&gt; w;</span></span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span> , &amp;u , &amp;v , &amp;w);</span><br><span class="line">            add(u , v , w);</span><br><span class="line">            add(v , u , w);</span><br><span class="line">        &#125;</span><br><span class="line">        Dijkstra();</span><br><span class="line"><span class="comment">//        for (int i = 0; i &lt; n; i++)</span></span><br><span class="line"><span class="comment">//            cout &lt;&lt; dis[i] &lt;&lt; endl;</span></span><br><span class="line">        <span class="keyword">if</span> (dis[n] != inf)</span><br><span class="line">            <span class="comment">//cout &lt;&lt; dis[n] &lt;&lt; endl;</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d\n"</span> , dis[n]);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="comment">//cout &lt;&lt; "averyboynb" &lt;&lt; endl;</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"averyboynb\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å­¦é•¿çš„ä»£ç ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">100</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxe = <span class="number">10000</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">int</span> N, M;</span><br><span class="line"><span class="keyword">int</span> dis[maxn];</span><br><span class="line"><span class="keyword">int</span> cnt;</span><br><span class="line"><span class="keyword">int</span> head[maxn];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> to, w, last;</span><br><span class="line">&#125;Edge[maxe&lt;&lt;<span class="number">1</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cnt = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">memset</span>(head, <span class="number">-1</span>, <span class="keyword">sizeof</span>(head));</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> u, <span class="keyword">int</span> v, <span class="keyword">int</span> w)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Edge[cnt].to = v;</span><br><span class="line">    Edge[cnt].w = w;</span><br><span class="line">    Edge[cnt].last = head[u];</span><br><span class="line">    head[u] = cnt++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> u, w;</span><br><span class="line">    node(<span class="keyword">int</span> _u, <span class="keyword">int</span> _w)&#123;</span><br><span class="line">        u = _u;</span><br><span class="line">        w = _w;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt;(<span class="keyword">const</span> node &amp;res) <span class="keyword">const</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> w &gt; res.w;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Dijkstra</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++) dis[i] = inf;</span><br><span class="line">    priority_queue&lt;node&gt; q;</span><br><span class="line">    dis[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">    q.push(node(<span class="number">1</span>, <span class="number">0</span>));</span><br><span class="line">    <span class="keyword">while</span>(!q.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        node nx = q.top();</span><br><span class="line">        q.pop();</span><br><span class="line">        <span class="keyword">int</span> u = nx.u;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = head[u]; i != <span class="number">-1</span>; i = Edge[i].last)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> v = Edge[i].to;</span><br><span class="line">            <span class="keyword">int</span> w = Edge[i].w;</span><br><span class="line">            <span class="keyword">if</span>(dis[u] + w &lt; dis[v])</span><br><span class="line">            &#123;</span><br><span class="line">                dis[v] = dis[u] + w;</span><br><span class="line">                q.push(node(v, dis[v]));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dis[N];</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//freopen("data.in", "r", stdin);</span></span><br><span class="line">    <span class="comment">//freopen("data.out", "w", stdout);</span></span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;T);</span><br><span class="line">    <span class="keyword">while</span>(T--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;N, &amp;M);</span><br><span class="line">        init();</span><br><span class="line">        <span class="keyword">int</span> u, v, w;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= M; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;u, &amp;v, &amp;w);</span><br><span class="line">            add(u, v, w);</span><br><span class="line">            add(v, u, w);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> ans = Dijkstra();</span><br><span class="line">        <span class="keyword">if</span>(ans &gt;= inf) <span class="built_in">printf</span>(<span class="string">"averyboynb\n"</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="problem-b-å®ä¹ ç”Ÿaveryboy2">Problem B: å®ä¹ ç”Ÿaveryboy2</h3><p>Time Limit: 1 Sec Memory Limit: 128 MB</p><blockquote><p>Description</p></blockquote><blockquote><p>averyboyç°åœ¨åœ¨å®ä¹ ã€‚æ¯å¤©æ—©ä¸Šä»–è¦æ­¥è¡Œå»å…¬å¸ä¸Šç­ï¼Œä½ è‚¯å®šçŸ¥é“ï¼Œä»–æ˜¯ä¸€ä¸ªéå¸¸ç”·å­©ï¼Œæ‰€ä»¥ä»–ä¼šé€‰æ‹©æœ€çŸ­çš„è·¯å»å…¬å¸ã€‚ç°åœ¨ç»™ä½ averyboyåˆ°å…¬å¸é€”ä¸­çš„è‹¥å¹²ä¸ªç«™ç‚¹ï¼Œæ ‡å·ä¸º1~N,ç°åœ¨averyboyçš„èµ·ç‚¹å¯ä»¥æ˜¯å¤šä¸ªç‚¹ï¼Œaveryboyçš„ç»ˆç‚¹ä¹Ÿå°±æ˜¯å…¬å¸ä¹Ÿå¯ä»¥æ˜¯å¤šä¸ªç‚¹ï¼Œç»™ä½ ç«™ç‚¹ä¹‹é—´çš„è¾¹å’Œå®ƒä»¬çš„æƒå€¼ã€‚ç°åœ¨ä½ éœ€è¦å‘Šè¯‰averyboyä»–åˆ°å…¬å¸çš„æœ€çŸ­è·¯å¾„æ˜¯å¤šå°‘ï¼ˆåªéœ€ä»ä»»æ„ä¸€ä¸ªèµ·ç‚¹å¼€å§‹åˆ°è¾¾ä»»æ„ä¸€ä¸ªç»ˆç‚¹å°±è¡Œï¼‰ã€‚</p></blockquote><blockquote><p>Input</p></blockquote><blockquote><p>ç¬¬ä¸€è¡Œä¸€ä¸ªæ•´æ•°Tï¼ˆT &lt;= 5ï¼‰ä»£è¡¨æµ‹è¯•æ•°æ®çš„ç»„æ•°</p></blockquote><blockquote><p>æ¥ä¸‹æ¥Tç»„æµ‹è¯•æ•°æ®ã€‚</p></blockquote><blockquote><p>æ¯ç»„æµ‹è¯•æ•°æ®ç¬¬ä¸€è¡Œä¸ºä¸¤ä¸ªæ•´æ•°Nï¼ŒMï¼Œk1, k2(1 &lt;= N &lt;= 1000, 0 &lt;= M &lt;= 10000)ä»£è¡¨ç«™ç‚¹çš„ä¸ªæ•°å’Œè¾¹çš„æ¡æ•°ä»¥åŠèµ·ç‚¹çš„ä¸ªæ•°ï¼Œç»ˆç‚¹çš„ä¸ªæ•°ï¼ˆ1 &lt;= k1, k2 &lt;= Nï¼‰</p></blockquote><blockquote><p>æ¥ä¸‹æ¥ä¸€è¡Œk1ä¸ªæ•°x[i]ï¼Œä»£è¡¨averyboyèµ·ç‚¹ï¼ˆ1 &lt;= x[i] &lt;= N)</p></blockquote><blockquote><p>æ¥ä¸‹æ¥ä¸€è¡Œk2ä¸ªæ•°y[i]ï¼Œä»£è¡¨ç»ˆç‚¹(1 &lt;= y[i] &lt;= N)</p></blockquote><blockquote><p>æ¥ä¸‹æ¥Mè¡Œï¼Œæ¯ä¸€è¡Œä¸‰ä¸ªæ•°u, v, wä»£è¡¨ç«™ç‚¹u,vä¹‹é—´æœ‰ä¸€æ¡æ— å‘è¾¹ï¼ˆå¯èƒ½ä¼šæœ‰é‡è¾¹ï¼‰ï¼Œè¾¹çš„æƒå€¼ä¸ºw(1 &lt;= u, v &lt;= N, 0 &lt;= w &lt;= 1000)</p></blockquote><blockquote><p>Output</p></blockquote><blockquote><p>å¯¹äºæ¯ç»„æµ‹è¯•æ•°æ®ï¼Œå¦‚æœå­˜åœ¨è·¯å¾„ä½¿å¾—averyboyèƒ½å¤Ÿåˆ°è¾¾å…¬å¸ï¼Œè¾“å‡ºä¸€ä¸ªæ•´æ•°ä»£è¡¨è¿™ä¸ªæœ€çŸ­è·¯å¾„çš„é•¿åº¦ï¼Œåä¹‹è¾“å‡ºaveryboynb</p></blockquote><blockquote><p>Sample Input 1 4 5 2 2 1 4 2 3 1 2 1 2 3 2 3 4 4 1 3 3 1 4 5</p></blockquote><blockquote><p>Sample Output 1</p></blockquote><blockquote><p>HINT</p></blockquote><blockquote><p>é€‰æ‹©èµ·ç‚¹ä¸º1ç»ˆç‚¹ä¸º2ï¼Œæ­¤æ—¶æœ‰æœ€çŸ­è·¯å¾„1.</p></blockquote><p>å› ä¸ºæœ€çŸ­è·¯ä¸»è¦æ˜¯æ±‚ä¸¤ç‚¹ä¹‹é—´çš„æœ€çŸ­è·¯ï¼Œï¼Œå¯¹äºè¿™ç§å¤šä¸ªèµ·ç‚¹å’Œå¤šä¸ªç»ˆç‚¹çš„å¯ä»¥å…ˆæ‰¾ä¸€ä¸ª <strong>è¶…çº§èµ·ç‚¹</strong> åŸç‚¹så’Œä¸€ä¸ª <strong>æ±‡ç‚¹t</strong>,,,æ„å»ºè¿™ä¸¤ä¸ªç‚¹åˆ°ç›¸åº”çš„æ¯ä¸€ä¸ªèµ·ç‚¹ã€ç»ˆç‚¹çš„è¾¹ï¼Œï¼Œå¹¶ä¸”æƒå€¼ä¸ºé›¶ï¼Œï¼Œï¼Œè¿™æ ·åŒ–æ±‚å¤šä¸ªèµ·ç‚¹å’Œç»ˆç‚¹ä¹‹é—´çš„æœ€çŸ­è·¯ä¸ºåŸç‚¹så’Œæ±‡ç‚¹tä¹‹é—´æœ€çŸ­è·¯ï¼Œï¼Œï¼Œï¼Œ</p><p>æˆ‘çš„ä»£ç (å½“æ—¶åšæ—¶dijkstraç®—æ³•çš„æ¨¡æ¿æ‰“é”™äº†ï¼Œï¼Œæ‰€ä»¥æ¢spfaåšçš„ï¼Œï¼Œï¼Œå·®ä¸å¤šéƒ½): <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//#include &lt;iostream&gt;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1010</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxm = <span class="number">30010</span>;</span><br><span class="line"><span class="keyword">int</span> head[maxn];</span><br><span class="line"><span class="keyword">int</span> dis[maxn];</span><br><span class="line"><span class="keyword">int</span> ln[maxn];</span><br><span class="line"><span class="keyword">bool</span> vis[maxn];</span><br><span class="line"><span class="keyword">int</span> cnt;</span><br><span class="line"><span class="keyword">int</span> n , m , k1 , k2;</span><br><span class="line"><span class="comment">//int s , t;</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(head , <span class="number">-1</span> , <span class="keyword">sizeof</span>(head));</span><br><span class="line">    cnt = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> to;</span><br><span class="line">    <span class="keyword">int</span> w;</span><br><span class="line">    <span class="keyword">int</span> last;</span><br><span class="line">&#125;Edge[maxm];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> u , <span class="keyword">int</span> v , <span class="keyword">int</span> w)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Edge[cnt].to = v;</span><br><span class="line">    Edge[cnt].w = w;</span><br><span class="line">    Edge[cnt].last = head[u];</span><br><span class="line">    head[u] = cnt++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> u;</span><br><span class="line">    <span class="keyword">int</span> w;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> node &amp;res)<span class="keyword">const</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> w &gt; res.w;</span><br><span class="line">    &#125;</span><br><span class="line">    node (<span class="keyword">int</span> _u , <span class="keyword">int</span> _w)</span><br><span class="line">    &#123;</span><br><span class="line">        u = _u;</span><br><span class="line">        w = _w;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">spfa</span><span class="params">(<span class="keyword">int</span> s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; q;</span><br><span class="line">    dis[s] = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">memset</span>(vis , <span class="literal">false</span> , <span class="keyword">sizeof</span>(vis));</span><br><span class="line">    <span class="built_in">memset</span>(ln , <span class="number">0</span> , <span class="keyword">sizeof</span>(ln));</span><br><span class="line">    <span class="built_in">memset</span>(dis , inf , <span class="keyword">sizeof</span>(dis));</span><br><span class="line">    dis[s] = <span class="number">0</span>;</span><br><span class="line">    q.push(s);</span><br><span class="line">    vis[s] = <span class="literal">true</span>;</span><br><span class="line">    ln[s] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (!q.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> u = q.front();</span><br><span class="line">        q.pop();</span><br><span class="line">        vis[u] = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = head[u]; i != <span class="number">-1</span>; i = Edge[i].last)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> v = Edge[i].to;</span><br><span class="line">            <span class="keyword">int</span> w = Edge[i].w;</span><br><span class="line">            <span class="keyword">if</span> (dis[u] + w &lt; dis[v])</span><br><span class="line">            &#123;</span><br><span class="line">                dis[v] = dis[u] + w;</span><br><span class="line">                <span class="keyword">if</span> (!vis[v])</span><br><span class="line">                &#123;</span><br><span class="line">                    vis[v] = <span class="literal">true</span>;</span><br><span class="line">                    ln[v]++;</span><br><span class="line">                    q.push(v);</span><br><span class="line">                    <span class="keyword">if</span> (ln[v] &gt;= n)</span><br><span class="line">                        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//ios_base::sync_with_stdio(0);</span></span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="comment">//cin &gt;&gt; t;</span></span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;t);</span><br><span class="line">    <span class="keyword">while</span> (t--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//cin &gt;&gt; n &gt;&gt; m;</span></span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d%d%d"</span> , &amp;n , &amp;m , &amp;k1 , &amp;k2);</span><br><span class="line">        <span class="keyword">int</span> u , v , w;</span><br><span class="line">        init();</span><br><span class="line">        <span class="comment">//è®¾åŸç‚¹s = 0;æ±‡ç‚¹t = n + 1;</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k1; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> tmp;<span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;tmp);</span><br><span class="line">            add(<span class="number">0</span> , tmp , <span class="number">0</span>);</span><br><span class="line">            add(tmp , <span class="number">0</span> , <span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k2; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> tmp;<span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;tmp);</span><br><span class="line">            add(tmp , n + <span class="number">1</span> , <span class="number">0</span>);</span><br><span class="line">            add(n + <span class="number">1</span> , tmp , <span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//cin &gt;&gt; u &gt;&gt; v &gt;&gt; w;</span></span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span> , &amp;u , &amp;v , &amp;w);</span><br><span class="line">            add(u , v , w);</span><br><span class="line">            add(v , u , w);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        spfa(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (dis[n + <span class="number">1</span>] != inf)</span><br><span class="line">            <span class="comment">//cout &lt;&lt; dis[n] &lt;&lt; endl;</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d\n"</span> , dis[n + <span class="number">1</span>]);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="comment">//cout &lt;&lt; "averyboynb" &lt;&lt; endl;</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"averyboynb\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>å­¦é•¿çš„ä»£ç :</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">10000</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxe = <span class="number">100000</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">int</span> N, M;</span><br><span class="line"><span class="keyword">int</span> k1, k2;</span><br><span class="line"><span class="keyword">int</span> dis[maxn];</span><br><span class="line"><span class="keyword">int</span> cnt;</span><br><span class="line"><span class="keyword">int</span> head[maxn];</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; s1, s2;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> to, w, last;</span><br><span class="line">&#125;Edge[maxe&lt;&lt;<span class="number">2</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cnt = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">memset</span>(head, <span class="number">-1</span>, <span class="keyword">sizeof</span>(head));</span><br><span class="line">    s1.clear();</span><br><span class="line">    s2.clear();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> u, <span class="keyword">int</span> v, <span class="keyword">int</span> w)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Edge[cnt].to = v;</span><br><span class="line">    Edge[cnt].w = w;</span><br><span class="line">    Edge[cnt].last = head[u];</span><br><span class="line">    head[u] = cnt++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> u, w;</span><br><span class="line">    node(<span class="keyword">int</span> _u, <span class="keyword">int</span> _w)&#123;</span><br><span class="line">        u = _u;</span><br><span class="line">        w = _w;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt;(<span class="keyword">const</span> node &amp;res) <span class="keyword">const</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> w &gt; res.w;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Dijkstra</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= N + <span class="number">1</span>; i++) dis[i] = inf;</span><br><span class="line">    priority_queue&lt;node&gt; q;</span><br><span class="line">    dis[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    q.push(node(<span class="number">0</span>, <span class="number">0</span>));</span><br><span class="line">    <span class="keyword">while</span>(!q.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        node nx = q.top();</span><br><span class="line">        q.pop();</span><br><span class="line">        <span class="keyword">int</span> u = nx.u;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = head[u]; i != <span class="number">-1</span>; i = Edge[i].last)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> v = Edge[i].to;</span><br><span class="line">            <span class="keyword">int</span> w = Edge[i].w;</span><br><span class="line">            <span class="keyword">if</span>(dis[u] + w &lt; dis[v])</span><br><span class="line">            &#123;</span><br><span class="line">                dis[v] = dis[u] + w;</span><br><span class="line">                q.push(node(v, dis[v]));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dis[N + <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//freopen("data.in", "r", stdin);</span></span><br><span class="line">    <span class="comment">//freopen("data.out", "w", stdout);</span></span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;T);</span><br><span class="line">    <span class="keyword">while</span>(T--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d%d%d"</span>, &amp;N, &amp;M, &amp;k1, &amp;k2);</span><br><span class="line">        init();</span><br><span class="line">        <span class="keyword">int</span> u, v, w;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= k1; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;u);</span><br><span class="line">            s1.push_back(u);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= k2; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;u);</span><br><span class="line">            s2.push_back(u);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= M; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;u, &amp;v, &amp;w);</span><br><span class="line">            add(u, v, w);</span><br><span class="line">            add(v, u, w);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k1; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            add(<span class="number">0</span>, s1[i], <span class="number">0</span>);</span><br><span class="line">            add(s1[i], <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k2; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            add(s2[i], N + <span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">            add(N + <span class="number">1</span>, s2[i], <span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> ans = Dijkstra();</span><br><span class="line">        <span class="keyword">if</span>(ans &gt;= inf) <span class="built_in">printf</span>(<span class="string">"averyboynb\n"</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="problem-c-å•†äººaveryboy">Problem C: å•†äººaveryboy</h3><p>Time Limit: 2 Sec Memory Limit: 128 MB</p><blockquote><p>Description</p></blockquote><blockquote><p>averyboyæœ€è¿‘æƒ³ä¹°ä¸€ä¸ªæ–°çš„macï¼Œæ‰€ä»¥ä»–æƒ³èµšç‚¹é’±ã€‚æ‰€ä»¥ä»–é€‰æ‹©å»å–ä¹¦ã€‚ç°åœ¨æœ‰Nä¸ªåŸå¸‚ï¼Œä¹¦åœ¨æ¯ä¸€ä¸ªåŸå¸‚ä»·æ ¼ä¸ä¸€æ ·ï¼Œä½†æ˜¯åœ¨åŒä¸€ä¸ªåŸå¸‚ï¼Œä¹°ä¸€æœ¬ä¹¦å’Œå–ä¸€æœ¬ä¹¦çš„ä»·æ ¼ä¸€æ ·ï¼Œç„¶åå¦‚æœåŸå¸‚x,yä¹‹é—´æœ‰ä¸€æ¡æƒå€¼ä¸ºwçš„è¾¹ï¼Œaveryboyä»åŸå¸‚xåˆ°yéœ€è¦æ”¯ä»˜wè´¹ç”¨ï¼Œç°åœ¨ç»™ä½ ä¹¦åœ¨Nä¸ªåŸå¸‚çš„ä»·æ ¼å’ŒåŸå¸‚ä¹‹é—´çš„è¾¹ä»¥åŠæƒå€¼ï¼ˆN - 1æ¡è¾¹ï¼Œåˆšå¥½ä½¿Nä¸ªåŸå¸‚æƒ³è¿é€šï¼‰ï¼Œaveryboyéœ€è¦é€‰æ‹©ä¸€ä¸ªåŸå¸‚ä¸ºèµ·ç‚¹ï¼Œä¹°ä¸€æœ¬ä¹¦ï¼Œç„¶åè·‘åˆ°å¦å¤–ä¸€ä¸ªåŸå¸‚å°†è¿™æœ¬ä¹¦å–æ‰ã€‚averyboyæ•°å­¦ä¸å¤ªå¥½ï¼Œä½ èƒ½å‘Šè¯‰ä»–ä»–æœ€å¤šèƒ½èµšå¤šå°‘é’±å—ï¼Ÿ</p></blockquote><blockquote><p>Input</p></blockquote><blockquote><p>ç¬¬ä¸€è¡Œä¸€ä¸ªæ•´æ•°Tï¼ˆT &lt;= 5ï¼‰ä»£è¡¨æµ‹è¯•æ•°æ®çš„ç»„æ•°</p></blockquote><blockquote><p>æ¥ä¸‹æ¥Tç»„æµ‹è¯•æ•°æ®</p></blockquote><blockquote><p>æ¯ç»„æµ‹è¯•æ•°æ®ç¬¬ä¸€è¡Œä¸ºä¸€ä¸ªæ­£æ•´æ•°Nï¼ˆN &lt;= 1e5ï¼‰ä»£è¡¨åŸå¸‚çš„ä¸ªæ•°</p></blockquote><blockquote><p>æ¥ä¸‹æ¥ä¸€è¡ŒNä¸ªæ•´æ•°a[i]ï¼Œä»£è¡¨ä¹¦åœ¨æ¯ä¸ªåŸå¸‚çš„ä»·æ ¼(1 &lt;= a[i] &lt;= 10000)</p></blockquote><blockquote><p>æ¥ä¸‹æ¥N - 1è¡Œï¼Œæ¯è¡Œä¸‰ä¸ªæ•°u, v, wï¼ˆ1 &lt;= u, v &lt;= N, 1 &lt;= w &lt;= 1000ï¼‰ä»£è¡¨åŸå¸‚u,vä¹‹é—´æœ‰ä¸€æ¡æƒå€¼ä¸ºwçš„è¾¹</p></blockquote><blockquote><p>Output</p></blockquote><blockquote><p>å¯¹äºæ¯ç»„æµ‹è¯•æ•°æ®,è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºaveryboyèƒ½èµšåˆ°çš„æœ€å¤šçš„é’±ã€‚</p></blockquote><blockquote><p>Sample Input 1<br>4<br>10 40 15 30<br>1 2 30 1 3 2 3 4 10</p></blockquote><blockquote><p>Sample Output 8</p></blockquote><blockquote><p>HINT</p></blockquote><blockquote><p>ä»–é€‰æ‹©ä»1å·åŸå¸‚ä¹°ä¹¦ï¼Œåˆ°4å·åŸå¸‚å–ä¹¦ï¼Œç„¶åä»–ä¹°ä¹¦å’Œè·¯è´¹ä¸€å…±èŠ±è´¹10 + 2 + 10 = 22ï¼Œåˆ°äº†4å·åŸå¸‚æŠŠä¹¦å–æ‰ï¼Œèµš30å…ƒï¼Œæ‰€ä»¥æœ€ç»ˆèµšäº†30 - 22 = 8å…ƒï¼Œè¿™ç§æƒ…å†µä¸‹ä»–èƒ½èµšçš„æœ€å¤šã€‚</p></blockquote><p>å› ä¸ºæœ‰åŠ æœ‰å‡ï¼Œç‚¹è¿˜æœ‰å€¼ï¼Œï¼Œï¼Œæ‰€ä»¥å¯ä»¥å»ºç«‹åŸç‚¹å’Œæ±‡ç‚¹åˆ†ç¦»ä»–çš„å€¼ï¼Œï¼Œä¹Ÿå°±æ˜¯é¢˜é‡Œçš„ä¹°ä¹¦é’±å’Œå–ä¹¦é’±ï¼Œï¼Œï¼Œå…¶ä¸­såˆ°æ¯ä¸€ä¸ªç‚¹çš„æƒå€¼ä¸ºæ­£çš„ä¹¦ä»·é’±ï¼Œï¼Œï¼Œtåˆ°æ¯ä¸€ä¸ªç‚¹çš„æƒå€¼ä¸ºè´Ÿçš„ä¹¦ä»·é’±ï¼Œï¼Œï¼Œ</p><p>åˆå› ä¸ºæœ‰è´Ÿæƒå€¼çš„è¾¹ï¼Œï¼Œï¼Œæ‰€ä»¥é€‰ç”¨SPFAç®—æ³•ï¼Œï¼Œï¼Œï¼Œå¯¹såšSPFAä¹‹ådis[t] = ä¹°ä¹¦é’± + è·¯è´¹ - å–ä¹¦é’±ï¼Œï¼Œï¼Œè¿™ä¸ªdis[t]æ˜¯æœ€å°çš„ ï¼Œï¼Œï¼Œï¼Œå–è´Ÿå€¼å³ä¸ºå–ä¹¦é’± - ä¹°ä¹¦é’± - è·¯è´¹ï¼Œï¼Œï¼Œä¹Ÿå°±æ˜¯æœ€ç»ˆèµšçš„æœ€å¤§å€¼</p><p>æˆ‘çš„ä»£ç ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//#include &lt;iostream&gt;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">500010</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxm = <span class="number">500020</span>;</span><br><span class="line"><span class="keyword">int</span> head[maxn];</span><br><span class="line"><span class="keyword">int</span> dis[maxn];</span><br><span class="line"><span class="keyword">int</span> in[maxn];</span><br><span class="line"><span class="keyword">bool</span> vis[maxn];</span><br><span class="line"><span class="keyword">int</span> money[maxn];</span><br><span class="line"><span class="keyword">int</span> cnt;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="comment">//int s , t;</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(head , <span class="number">-1</span> , <span class="keyword">sizeof</span>(head));</span><br><span class="line">    cnt = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> to;</span><br><span class="line">    <span class="keyword">int</span> w;</span><br><span class="line">    <span class="keyword">int</span> last;</span><br><span class="line">&#125;Edge[maxm];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> u , <span class="keyword">int</span> v , <span class="keyword">int</span> w)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Edge[cnt].to = v;</span><br><span class="line">    Edge[cnt].w = w;</span><br><span class="line">    Edge[cnt].last = head[u];</span><br><span class="line">    head[u] = cnt++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> u;</span><br><span class="line">    <span class="keyword">int</span> w;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> node &amp;res)<span class="keyword">const</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> w &gt; res.w;</span><br><span class="line">    &#125;</span><br><span class="line">    node (<span class="keyword">int</span> _u , <span class="keyword">int</span> _w)</span><br><span class="line">    &#123;</span><br><span class="line">        u = _u;</span><br><span class="line">        w = _w;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">spfa</span><span class="params">(<span class="keyword">int</span> s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; q;</span><br><span class="line">    dis[s] = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">memset</span>(vis , <span class="literal">false</span> , <span class="keyword">sizeof</span>(vis));</span><br><span class="line">    <span class="built_in">memset</span>(in , <span class="number">0</span> , <span class="keyword">sizeof</span>(in));</span><br><span class="line">    <span class="built_in">memset</span>(dis , inf , <span class="keyword">sizeof</span>(dis));</span><br><span class="line">    dis[s] = <span class="number">0</span>;</span><br><span class="line">    q.push(s);</span><br><span class="line">    vis[s] = <span class="literal">true</span>;</span><br><span class="line">    in[s] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (!q.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> u = q.front();</span><br><span class="line">        q.pop();</span><br><span class="line">        vis[u] = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = head[u]; i != <span class="number">-1</span>; i = Edge[i].last)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> v = Edge[i].to;</span><br><span class="line">            <span class="keyword">int</span> w = Edge[i].w;</span><br><span class="line">            <span class="keyword">if</span> (dis[u] + w &lt; dis[v])</span><br><span class="line">            &#123;</span><br><span class="line">                dis[v] = dis[u] + w;</span><br><span class="line">                <span class="keyword">if</span> (!vis[v])</span><br><span class="line">                &#123;</span><br><span class="line">                    vis[v] = <span class="literal">true</span>;</span><br><span class="line">                    in[v]++;</span><br><span class="line">                    q.push(v);</span><br><span class="line">                    <span class="keyword">if</span> (in[v] &gt;= n)</span><br><span class="line">                        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//ios_base::sync_with_stdio(0);</span></span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="comment">//cin &gt;&gt; t;</span></span><br><span class="line">    <span class="comment">//freopen("data.in" , "r" , stdin);</span></span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;t);</span><br><span class="line">    <span class="keyword">while</span> (t--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//cin &gt;&gt; n &gt;&gt; m;</span></span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;n);</span><br><span class="line">        <span class="keyword">int</span> u , v , w;</span><br><span class="line">        init();</span><br><span class="line">        <span class="keyword">int</span> money[maxn];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;money[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            add(<span class="number">0</span> , i , money[i]);              <span class="comment">//0ä¸ºåŸç‚¹</span></span><br><span class="line">            <span class="comment">//add(i , 0 , money);</span></span><br><span class="line">            <span class="comment">//add(n + 1 , i , -money);      </span></span><br><span class="line">            add(i , n + <span class="number">1</span> , -money[i]);         <span class="comment">//n + 1å³ä¸ºæ±‡ç‚¹ï¼Œæƒå€¼å–è´Ÿ</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;  n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span> , &amp;u , &amp;v , &amp;w);</span><br><span class="line">            add(u , v , w);</span><br><span class="line">            add(v , u , w);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        spfa(<span class="number">0</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span> , -dis[n + <span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å­¦é•¿çš„ä»£ç : ä¸æ˜¯ç”¨å‰å‘æ˜Ÿå­˜çš„å›¾ï¼Œï¼Œè€Œä¸”è²Œä¼¼æ€è·¯ä¸ä¸Šé¢é‚£ä¸ªä¸åŒï¼Œï¼Œï¼Œå…ˆæ”¾åœ¨è¿™ï¼Œï¼Œä¹‹åå†çœ‹ä¸€ä¸‹ <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">100000</span> + <span class="number">100</span>;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">int</span> d[maxn];</span><br><span class="line"><span class="keyword">bool</span> visit[maxn];</span><br><span class="line"><span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> v;</span><br><span class="line">    <span class="keyword">int</span> w;</span><br><span class="line">    node(<span class="keyword">int</span> _v = <span class="number">0</span>, <span class="keyword">int</span> _w = <span class="number">0</span>)&#123;</span><br><span class="line">        v = _v;</span><br><span class="line">        w = _w;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">queue</span>&lt;node&gt; q;</span><br><span class="line"><span class="built_in">vector</span>&lt;pair&lt;<span class="keyword">int</span> ,<span class="keyword">int</span>&gt; &gt; g[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">spfa</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="built_in">memset</span>(d, -inf, <span class="keyword">sizeof</span>(d));</span><br><span class="line">   <span class="built_in">memset</span>(visit, <span class="literal">false</span>, <span class="keyword">sizeof</span>(visit));</span><br><span class="line">   <span class="keyword">while</span>(!q.empty()) q.pop();</span><br><span class="line">   d[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">   q.push(node(<span class="number">0</span>, <span class="number">0</span>));</span><br><span class="line">   <span class="keyword">while</span>(!q.empty())</span><br><span class="line">   &#123;</span><br><span class="line">       node nx = q.front();</span><br><span class="line">       q.pop();</span><br><span class="line">       <span class="keyword">int</span> v = nx.v;</span><br><span class="line">       visit[v] = <span class="literal">false</span>;</span><br><span class="line">       <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; g[v].size(); i++)</span><br><span class="line">       &#123;</span><br><span class="line">           <span class="keyword">int</span> u = g[v][i].first;</span><br><span class="line">           <span class="keyword">int</span> ww = g[v][i].second;</span><br><span class="line">           <span class="keyword">if</span>(d[v] + ww &gt; d[u] &amp;&amp; u != <span class="number">0</span>)</span><br><span class="line">           &#123;</span><br><span class="line">               d[u] = d[v] + ww;</span><br><span class="line">               <span class="keyword">if</span>(visit[u]) <span class="keyword">continue</span>;</span><br><span class="line">               visit[u] = <span class="literal">true</span>;</span><br><span class="line">               q.push(node(u, d[u]));</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">if</span>(d[n + <span class="number">1</span>] &gt; <span class="number">0</span>) <span class="keyword">return</span> d[n + <span class="number">1</span>];</span><br><span class="line">   <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= n + <span class="number">1</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        g[i].clear();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//freopen("data.in", "r", stdin);</span></span><br><span class="line">    <span class="comment">//freopen("data.out", "w", stdout);</span></span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;T);</span><br><span class="line">    <span class="keyword">while</span>(T--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">        init();</span><br><span class="line">        <span class="keyword">int</span> u, v, w;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;w);</span><br><span class="line">            g[<span class="number">0</span>].push_back(make_pair(i, w));</span><br><span class="line">            g[i].push_back(make_pair(<span class="number">0</span>, w));</span><br><span class="line">            g[n + <span class="number">1</span>].push_back(make_pair(i, -w));</span><br><span class="line">            g[i].push_back(make_pair(n + <span class="number">1</span>, -w));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;u, &amp;v, &amp;w);</span><br><span class="line">            g[u].push_back(make_pair(v, -w));</span><br><span class="line">            g[v].push_back(make_pair(u, -w));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, spfa());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="problem-d-è€å¸æœºaveryboy">Problem D: è€å¸æœºaveryboy</h3><p>Time Limit: 2 Sec Memory Limit: 128 MB</p><blockquote><p>Description</p></blockquote><blockquote><p>averyboyä¸ä»…æ˜¯ä¸€ä¸ªéå¸¸ç”·å­©ï¼Œä»–è¿˜æ˜¯ä¸€ä½è€å¸æœºã€‚ç°åœ¨averyboyåœ¨å¼€ç«è½¦ï¼Œä¸€å…±æœ‰Nä¸ªç«è½¦ç«™ï¼Œæ¯ä¸ªç«è½¦ç«™å‡ºç«™å£åªæœ‰è‹¥å¹²ä¸ªå‡ºå£ï¼Œè¿™äº›å‡ºå£åˆ†åˆ«å¯¹åº”ä¸€äº›å…¶ä»–çš„ç«è½¦ç«™ï¼Œä»£è¡¨å¦‚æœä»è¿™ä¸€ä¸ªå‡ºå£å¼€å‡ºç«è½¦ï¼Œä¸‹ä¸€ç«™å°†ä¼šè¾¾åˆ°è¯¥å‡ºå£å¯¹åº”çš„ç«è½¦ç«™ã€‚æ¯ä¸€ä¸ªç«è½¦ç«™æœ‰ä¸€ä¸ªé»˜è®¤çš„å‡ºå£ï¼Œå¦‚æœæ­¤æ¬¡averyboyæƒ³è¦å‡ºç«™çš„å‡ºå£ä¸æ˜¯é»˜è®¤å‡ºå£ï¼Œä»–å°†ä¼šè¢«ä»–çš„ä¸Šçº§æ‰¹è¯„ä¸€æ¬¡ã€‚ç°åœ¨averyboyéœ€è¦ä»Aç«™åˆ°Bç«™ï¼Œç»™ä½ æ¯ä¸€ä¸ªç«è½¦ç«™å‡ºç«™å£çš„å‡ºå£çš„æƒ…å†µï¼Œä½ éœ€è¦å‘Šè¯‰averyboyä»–æœ€å°‘è¦è¢«æ‰¹è¯„å¤šå°‘æ¬¡</p></blockquote><blockquote><p>Input</p></blockquote><blockquote><p>ç¬¬ä¸€è¡Œä¸€ä¸ªæ•´æ•°Tï¼ˆT &lt;= 5ï¼‰ä»£è¡¨æµ‹è¯•æ•°æ®çš„ç»„æ•°</p></blockquote><blockquote><p>æ¥ä¸‹æ¥Tç»„æµ‹è¯•æ•°æ®</p></blockquote><blockquote><p>æ¯ç»„æµ‹è¯•æ•°æ®çš„ç¬¬ä¸€è¡Œä¸‰ä¸ªæ•´æ•°N, A, Bï¼ˆ1 &lt;= N &lt;= 100, 1 &lt;= A, B &lt;= Nï¼‰åˆ†åˆ«ä»£è¡¨ç«è½¦ç«™çš„æ•°é‡ä»¥åŠaveryboyçš„èµ·ç‚¹ç«™å’Œç»ˆç‚¹ç«™ æ¥ä¸‹æ¥Nè¡Œæ•°æ®ï¼Œç¬¬iè¡Œç¬¬ä¸€ä¸ªæ•°ä¸ºkï¼Œä»£è¡¨ç¬¬iä¸ªç«è½¦ç«™æœ‰kä¸ªå‡ºå£ï¼Œåé¢kä¸ªæ•´æ•°ï¼ˆkä¸ªæ•´æ•°å¯èƒ½ä¼šæœ‰è‹¥å¹²ä¸ªç›¸åŒï¼‰ï¼Œä»£è¡¨æ¯ä¸ªå‡ºå£é€šå‘çš„ä¸‹ä¸€ä¸ªç«è½¦ç«™ç¼–å·ï¼Œkä¸ªæ•°ä¸­çš„ç¬¬ä¸€ä¸ªè¡¨ç¤ºè¿™ä¸ªç«è½¦ç«™é»˜è®¤çš„å‡ºå£ã€‚ï¼ˆ0 &lt;= k &lt;= Nï¼‰</p></blockquote><blockquote><p>Output</p></blockquote><blockquote><p>å¯¹äºæ¯ç»„æµ‹è¯•æ•°æ®ï¼Œå¦‚æœAèƒ½å¤Ÿè¾¾åˆ°Bï¼Œè¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œä»£è¡¨averyboyæœ€å°è¢«æ‰¹è¯„çš„æ¬¡æ•°åä¹‹è¾“å‡ºaveryboynb</p></blockquote><blockquote><p>Sample Input 2 3 2 1 2 2 3 2 3 1 2 1 2 3 1 2 2 3 2 1 3 1 1</p></blockquote><blockquote><p>Sample Output 0 1</p></blockquote><p>æ ¹æ®é¢˜æ„é»˜è®¤çš„å‡ºå£çš„æƒå€¼å¯ä»¥è®¾ä¸º0ï¼Œå…¶ä»–çš„ä¸º1ï¼Œï¼Œå³åŠ ä¸€æ¬¡è¢«æ‰¹è¯„çš„æ¬¡æ•°ï¼Œï¼Œï¼Œæœ€å°‘çš„æ‰¹è¯„æ¬¡æ•°å³ä¸ºæ±‚æœ€çŸ­è·¯ï¼Œï¼Œï¼Œ</p><p>æˆ‘çš„ä»£ç :</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//#include &lt;iostream&gt;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1010</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxm = <span class="number">30010</span>;</span><br><span class="line"><span class="keyword">int</span> head[maxn];</span><br><span class="line"><span class="keyword">int</span> dis[maxn];</span><br><span class="line"><span class="keyword">int</span> ln[maxn];</span><br><span class="line"><span class="keyword">bool</span> vis[maxn];</span><br><span class="line"><span class="keyword">int</span> cnt;</span><br><span class="line"><span class="keyword">int</span> n , acfun , bilibili;</span><br><span class="line"><span class="comment">//int s , t;</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(head , <span class="number">-1</span> , <span class="keyword">sizeof</span>(head));</span><br><span class="line">    cnt = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> to;</span><br><span class="line">    <span class="keyword">int</span> w;</span><br><span class="line">    <span class="keyword">int</span> last;</span><br><span class="line">&#125;Edge[maxm];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> u , <span class="keyword">int</span> v , <span class="keyword">int</span> w)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Edge[cnt].to = v;</span><br><span class="line">    Edge[cnt].w = w;</span><br><span class="line">    Edge[cnt].last = head[u];</span><br><span class="line">    head[u] = cnt++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> u;</span><br><span class="line">    <span class="keyword">int</span> w;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> node &amp;res)<span class="keyword">const</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> w &gt; res.w;</span><br><span class="line">    &#125;</span><br><span class="line">    node (<span class="keyword">int</span> _u , <span class="keyword">int</span> _w)</span><br><span class="line">    &#123;</span><br><span class="line">        u = _u;</span><br><span class="line">        w = _w;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">spfa</span><span class="params">(<span class="keyword">int</span> s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; q;</span><br><span class="line">    dis[s] = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">memset</span>(vis , <span class="literal">false</span> , <span class="keyword">sizeof</span>(vis));</span><br><span class="line">    <span class="built_in">memset</span>(ln , <span class="number">0</span> , <span class="keyword">sizeof</span>(ln));</span><br><span class="line">    <span class="built_in">memset</span>(dis , inf , <span class="keyword">sizeof</span>(dis));</span><br><span class="line">    dis[s] = <span class="number">0</span>;</span><br><span class="line">    q.push(s);</span><br><span class="line">    vis[s] = <span class="literal">true</span>;</span><br><span class="line">    ln[s] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (!q.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> u = q.front();</span><br><span class="line">        q.pop();</span><br><span class="line">        vis[u] = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = head[u]; i != <span class="number">-1</span>; i = Edge[i].last)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> v = Edge[i].to;</span><br><span class="line">            <span class="keyword">int</span> w = Edge[i].w;</span><br><span class="line">            <span class="keyword">if</span> (dis[u] + w &lt; dis[v])</span><br><span class="line">            &#123;</span><br><span class="line">                dis[v] = dis[u] + w;</span><br><span class="line">                <span class="keyword">if</span> (!vis[v])</span><br><span class="line">                &#123;</span><br><span class="line">                    vis[v] = <span class="literal">true</span>;</span><br><span class="line">                    ln[v]++;</span><br><span class="line">                    q.push(v);</span><br><span class="line">                    <span class="keyword">if</span> (ln[v] &gt;= n)</span><br><span class="line">                        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//ios_base::sync_with_stdio(0);</span></span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">    <span class="comment">//cin &gt;&gt; t;</span></span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;t);</span><br><span class="line">    <span class="keyword">while</span> (t--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//cin &gt;&gt; n &gt;&gt; m;</span></span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span> , &amp;n , &amp;acfun , &amp;bilibili);</span><br><span class="line">        <span class="keyword">int</span> u , v , w;</span><br><span class="line">        init();</span><br><span class="line">        <span class="comment">//è®¾åŸç‚¹s = 0;æ±‡ç‚¹t = n + 1;</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> k;<span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;k);</span><br><span class="line">            <span class="keyword">int</span> t;<span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;t);</span><br><span class="line">            add(i , t , <span class="number">0</span>);                 <span class="comment">//é»˜è®¤å‡ºå£</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">2</span>; j &lt;= k; j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;t);           <span class="comment">//ä¼šè¢«æ‰¹è¯„çš„å‡ºå£</span></span><br><span class="line">                add(i , t , <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        spfa(acfun);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (dis[bilibili] != inf)</span><br><span class="line">            <span class="comment">//cout &lt;&lt; dis[n] &lt;&lt; endl;</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d\n"</span> , dis[bilibili]);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="comment">//cout &lt;&lt; "averyboynb" &lt;&lt; endl;</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"averyboynb\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å­¦é•¿çš„ä»£ç :</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">100</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxe = <span class="number">10000</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">int</span> N, A, B;</span><br><span class="line"><span class="keyword">int</span> dis[maxn];</span><br><span class="line"><span class="keyword">int</span> cnt;</span><br><span class="line"><span class="keyword">int</span> head[maxn];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> to, w, last;</span><br><span class="line">&#125;Edge[maxe&lt;&lt;<span class="number">1</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cnt = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">memset</span>(head, <span class="number">-1</span>, <span class="keyword">sizeof</span>(head));</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> u, <span class="keyword">int</span> v, <span class="keyword">int</span> w)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Edge[cnt].to = v;</span><br><span class="line">    Edge[cnt].w = w;</span><br><span class="line">    Edge[cnt].last = head[u];</span><br><span class="line">    head[u] = cnt++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> u, w;</span><br><span class="line">    node(<span class="keyword">int</span> _u, <span class="keyword">int</span> _w)&#123;</span><br><span class="line">        u = _u;</span><br><span class="line">        w = _w;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt;(<span class="keyword">const</span> node &amp;res) <span class="keyword">const</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> w &gt; res.w;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Dijkstra</span><span class="params">(<span class="keyword">int</span> s, <span class="keyword">int</span> t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++) dis[i] = inf;</span><br><span class="line">    priority_queue&lt;node&gt; q;</span><br><span class="line">    dis[s] = <span class="number">0</span>;</span><br><span class="line">    q.push(node(s, <span class="number">0</span>));</span><br><span class="line">    <span class="keyword">while</span>(!q.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        node nx = q.top();</span><br><span class="line">        q.pop();</span><br><span class="line">        <span class="keyword">int</span> u = nx.u;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = head[u]; i != <span class="number">-1</span>; i = Edge[i].last)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> v = Edge[i].to;</span><br><span class="line">            <span class="keyword">int</span> w = Edge[i].w;</span><br><span class="line">            <span class="keyword">if</span>(dis[u] + w &lt; dis[v])</span><br><span class="line">            &#123;</span><br><span class="line">                dis[v] = dis[u] + w;</span><br><span class="line">                q.push(node(v, dis[v]));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dis[t];</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"data.in"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    freopen(<span class="string">"data.out"</span>, <span class="string">"w"</span>, <span class="built_in">stdout</span>);</span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;T);</span><br><span class="line">    <span class="keyword">while</span>(T--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;N, &amp;A, &amp;B);</span><br><span class="line">        init();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> k, x;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;k);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= k; j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;x);</span><br><span class="line">                <span class="keyword">if</span>(j == <span class="number">1</span>) add(i, x, <span class="number">0</span>);</span><br><span class="line">                <span class="keyword">else</span> add(i, x, <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> ans = Dijkstra(A, B);</span><br><span class="line">        <span class="keyword">if</span>(ans &gt;= inf) <span class="built_in">printf</span>(<span class="string">"averyboynb\n"</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å…¶ä»–">å…¶ä»–</h2><p><a href="http://www.cnblogs.com/chenxiwenruo/p/4513754.html" target="_blank" rel="noopener">ä¸€ä¸ªå¤§ä½¬çš„æ¨¡æ¿,,,</a></p><p>æ²¡äº†ï¼Œï¼Œï¼Œå‡æœŸå†çœ‹ä¸€éçœ‹èƒ½å†è¡¥äº›å•¥ï¼Œï¼Œï¼Œï¼Œ</p>]]></content>
      
      
        <tags>
            
            <tag> acm </tag>
            
            <tag> ç®—æ³• </tag>
            
            <tag> å›¾è®º </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>ç»„åˆæ•°å­¦ä¸æ•°è®º</title>
      <link href="/2018/07/25/%E7%BB%84%E5%90%88%E6%95%B0%E5%AD%A6%E4%B8%8E%E6%95%B0%E8%AE%BA/"/>
      <content type="html"><![CDATA[<h2 id="æ¦‚è¿°">æ¦‚è¿°</h2><p>è¿™ç¯‡åšå®¢ä¸»è¦æ˜¯ä¸€äº›æ•°è®ºé‡Œæœ‰å…³ç»„åˆæ•°å­¦çš„ä¸€äº›ä¸œè¥¿ï¼Œï¼Œï¼Œæœ‰ <strong>é”™æ’é—®é¢˜</strong> ï¼Œ<strong>æŠ½å±‰åŸç†ï¼ˆé¸½å·¢åŸç†ï¼‰</strong> , <strong>ä¸­å›½å‰©ä½™å®šç†ï¼ˆå­™å­å®šç†ï¼‰</strong> ï¼Œ <strong>æ¬§æ‹‰å‡½æ•°</strong></p><p>æ•°è®ºå¥½éš¾å•Šï¼Œï¼Œï¼Œ</p><a id="more"></a><h2 id="é”™æ’é—®é¢˜">é”™æ’é—®é¢˜</h2><blockquote><p>åæœ¬ä¸åŒçš„ä¹¦æ”¾åœ¨ä¹¦æ¶ä¸Šã€‚ç°åœ¨é‡æ–°æ‘†æ”¾ï¼Œä½¿æ¯æœ¬ä¹¦éƒ½åœ¨ä¸åŒçš„ä½ç½®ä¸Šã€‚æœ‰å‡ ç§æ‘†æ³•ï¼Ÿ</p></blockquote><blockquote><p>æ¨å¹¿ä¸€ä¸‹ï¼Œå°±æ˜¯ç»å…¸çš„é”™æ’é—®é¢˜ï¼š</p></blockquote><blockquote><p>ä¸€ä¸ªæœ‰nä¸ªå…ƒç´ çš„æ’åˆ—ï¼Œè‹¥ä¸€ä¸ªæ’åˆ—ä¸­æ‰€æœ‰çš„å…ƒç´ éƒ½ä¸åœ¨è‡ªå·±åŸæ¥çš„ä½ç½®ä¸Šï¼Œé‚£ä¹ˆè¿™æ ·çš„æ’åˆ—å°±ç§°ä¸ºåŸæ’åˆ—çš„ä¸€ä¸ªé”™æ’ã€‚Â nä¸ªå…ƒç´ çš„é”™æ’æ•°è®°ä¸ºD(n)ã€‚</p></blockquote><p>$ D(1)=0\ D(2)=1\ D(n)=(n-1)*(D(n-1)+D(n-2)) $</p><p>å½“nä¸ªç¼–å·å…ƒç´ æ”¾åœ¨nä¸ªç¼–å·ä½ç½®ï¼Œå…ƒç´ ç¼–å·ä¸ä½ç½®ç¼–å·å„ä¸å¯¹åº”çš„æ–¹æ³•æ•°ç”¨M(n)è¡¨ç¤ºï¼Œé‚£ä¹ˆM(n-1)å°±è¡¨ç¤ºn-1ä¸ªå…ƒç´ æ”¾åœ¨n-1ä¸ªä½ç½®ä¸Šçš„æ–¹æ³•æ•°</p><p>ç¬¬ä¸€æ­¥ï¼ŒæŠŠç¬¬nä¸ªå…ƒç´ æ”¾åœ¨ä¸€ä¸ªä½ç½®ä¸Šï¼Œæ¯”å¦‚kï¼Œä¸€å…±æœ‰n-1ç§æ–¹æ³•ã€‚ ç¬¬äºŒæ­¥ï¼Œæ”¾ç¼–å·ä¸ºkçš„å…ƒç´ ï¼Œæ­¤æ—¶æœ‰ä¸¤ç§æƒ…å†µï¼š 1 æ”¾åœ¨ç¼–å·ä¸ºnçš„ä½ç½®å¤„ï¼Œæ­¤æ—¶å¯¹äºå‰©ä¸‹çš„n-2ä¸ªå…ƒç´ ï¼Œæœ‰n-2ç§æ–¹æ³•ã€‚ 2 kå·å…ƒç´ ä¸æ”¾åœ¨ä½ç½®nä¸Šï¼Œæ­¤æ—¶è¿™n-1ä¸ªå…ƒç´ æœ‰n-1ä¸ªä½ç½®å¯ä»¥æ”¾ã€‚</p><p>ç»¼ä¸Šï¼š</p><p>$ D(1)=0\ D(2)=1\ D(n)=(n-1)*(D(n-1)+D(n-2)) $</p><h2 id="æŠ½å±‰åŸç†é¸½å·¢åŸç†">æŠ½å±‰åŸç†ï¼ˆé¸½å·¢åŸç†ï¼‰</h2><blockquote><p>n+1åªé¸½å­é£å›é¸½ç¬¼è‡³å°‘æœ‰ä¸€ä¸ªé¸½ç¬¼å«æœ‰ä¸å°‘äº2åªçš„é¸½å­</p></blockquote><blockquote><p>è¯æ˜ï¼šè®¾a1,a2,a3â€¦.,anæ˜¯æ­£æ•´æ•°çš„åºåˆ—ï¼Œè¯•è¯æ˜è‡³å°‘å­˜åœ¨æ•´æ•°kå’Œlï¼Œ<span class="math inline">\(1 &lt;= k &lt; l &lt;= n\)</span>ï¼Œä½¿å¾—<span class="math inline">\(ak+â€¦al\)</span>æ˜¯nçš„å€æ•°</p></blockquote><blockquote><p>æ¨è®º1ï¼š måªé¸½å­ï¼Œnä¸ªé¸½å·¢ï¼Œåˆ™è‡³å°‘æœ‰ä¸€ä¸ªé¸½å·¢é‡Œæœ‰ä¸å°‘äº<span class="math inline">\((m-1)/n+1\)</span>åªé¸½å­</p></blockquote><blockquote><p>æ¨è®º2ï¼š è‹¥å–<span class="math inline">\(n(m-1)+1\)</span>ä¸ªçƒæ”¾è¿›nä¸ªç›’å­ï¼Œåˆ™è‡³å°‘æœ‰1ä¸ªç›’å­æœ‰mä¸ªçƒã€‚</p></blockquote><blockquote><p>æ¨è®º3ï¼š è‹¥<span class="math inline">\(m1,m2,â€¦,mn\)</span>æ˜¯nä¸ªæ•´æ•°ï¼Œä¸” <span class="math inline">\((m1+m2+â€¦+mn)/n&gt;r-1\)</span> åˆ™<span class="math inline">\(m1,m2,â€¦,mn\)</span>ä¸­è‡³å°‘æœ‰ä¸€ä¸ªæ•°ä¸å°äºr</p></blockquote><blockquote><p>æœ‰366äººï¼Œé‚£ä¹ˆè‡³å°‘æœ‰ä¸¤äººåŒä¸€å¤©å‡ºç”Ÿ</p></blockquote><blockquote><p>æœ‰13äººï¼Œé‚£ä¹ˆè‡³å°‘æœ‰ä¸¤äººåŒä¸€æœˆå‡ºç”Ÿ</p></blockquote><blockquote><p>è¿™å°±æ˜¯æŠ½å±‰åŸç†</p></blockquote><p>å…¶å®æŠ½å±‰åŸç†æœ‰ä¸¤ä¸ª</p><h3 id="ç¬¬ä¸€æŠ½å±‰åŸç†">ç¬¬ä¸€æŠ½å±‰åŸç†</h3><blockquote><p>åŸç†1ï¼š æŠŠå¤šäºn+kä¸ªçš„ç‰©ä½“æ”¾åˆ°nä¸ªæŠ½å±‰é‡Œï¼Œåˆ™è‡³å°‘æœ‰ä¸€ä¸ªæŠ½å±‰é‡Œçš„ä¸œè¥¿ä¸å°‘äºä¸¤ä»¶ã€‚</p></blockquote><blockquote><p>åŸç†2 ï¼šæŠŠå¤šäºmn(mä¹˜ä»¥n)+1ï¼ˆnä¸ä¸º0ï¼‰ä¸ªçš„ç‰©ä½“æ”¾åˆ°nä¸ªæŠ½å±‰é‡Œï¼Œåˆ™è‡³å°‘æœ‰ä¸€ä¸ªæŠ½å±‰é‡Œæœ‰ä¸å°‘äºï¼ˆm+1ï¼‰çš„ç‰©ä½“ã€‚</p></blockquote><blockquote><p>åŸç†3 ï¼šæŠŠæ— ç©·å¤šä»¶ç‰©ä½“æ”¾å…¥nä¸ªæŠ½å±‰ï¼Œåˆ™è‡³å°‘æœ‰ä¸€ä¸ªæŠ½å±‰é‡Œ æœ‰æ— ç©·ä¸ªç‰©ä½“ã€‚</p></blockquote><blockquote><p>åŸç†1 ã€2 ã€3éƒ½æ˜¯ç¬¬ä¸€æŠ½å±‰åŸç†çš„è¡¨è¿°ã€‚</p></blockquote><h3 id="ç¬¬äºŒæŠ½å±‰åŸç†">ç¬¬äºŒæŠ½å±‰åŸç†</h3><blockquote><p>æŠŠï¼ˆmnï¼1ï¼‰ä¸ªç‰©ä½“æ”¾å…¥nä¸ªæŠ½å±‰ä¸­ï¼Œå…¶ä¸­å¿…æœ‰ä¸€ä¸ªæŠ½å±‰ä¸­è‡³å¤šæœ‰ï¼ˆmâ€”1ï¼‰ä¸ªç‰©ä½“(ä¾‹å¦‚ï¼Œå°†3Ã—5-1=14ä¸ªç‰©ä½“æ”¾å…¥5ä¸ªæŠ½å±‰ä¸­ï¼Œåˆ™å¿…å®šæœ‰ä¸€ä¸ªæŠ½å±‰ä¸­çš„ç‰©ä½“æ•°å°‘äºç­‰äº3-1=2)ã€‚</p></blockquote><p>é›†è®­çš„ä¸€é“é¢˜ï¼Œï¼Œï¼Œåœ¨åˆ¤æ–­ä¼˜åŒ–æ—¶ç”¨åˆ°äº†æŠ½å±‰åŸç†ï¼Œï¼Œï¼Œ</p><blockquote><p>Description</p></blockquote><blockquote><p>ç»™ä½ ä¸€ä¸ªåºåˆ—ï¼Œé•¿åº¦ä¸ºnã€‚é—®æ˜¯å¦å­˜åœ¨ä¸€ä¸ªè¿ç»­çš„å­åºåˆ—å’Œæ˜¯mçš„å€æ•°</p></blockquote><blockquote><p>Input</p></blockquote><blockquote><p>ç¬¬ä¸€è¡Œè¾“å…¥ä¸€ä¸ªæ•´æ•°Tï¼ˆ1&lt;=T&lt;=10ï¼‰<br>ç¬¬ä¸€è¡Œè¾“å…¥n,mï¼ˆ1â‰¤nâ‰¤100000, 1â‰¤mâ‰¤5000ï¼‰<br>ç¬¬äºŒè¡Œè¾“å…¥nä¸ªæ•°å­—x(1â‰¤xâ‰¤100)<br></p></blockquote><blockquote><p>Output</p></blockquote><blockquote><p>è¾“å‡ºæœ‰Tè¡Œï¼Œæ¯è¡Œè¾“å‡ºYESæˆ–è€…NO</p></blockquote><blockquote><p>Sample Input 3 3 3 1 2 3 4 7 1 2 3 4 4 8 1 2 3 4</p></blockquote><blockquote><p>Sample Output YES YES NO</p></blockquote><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//#include &lt;iostream&gt;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ms(a , b) memset(a , b , sizeof(a))</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">1e5</span> + <span class="number">5</span>;</span><br><span class="line">ll a[N];</span><br><span class="line">ll b[N];</span><br><span class="line">ll n , m;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t;<span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;t);</span><br><span class="line">    <span class="keyword">while</span> (t--)</span><br><span class="line">    &#123;</span><br><span class="line">        ms(a , <span class="number">0</span>);</span><br><span class="line">        ms(b , <span class="number">0</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lld%lld"</span> , &amp;n , &amp;m);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%lld"</span> , &amp;a[i]);</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">if</span> (n &gt; m)                      <span class="comment">//è¿™é‡Œæ³¨æ„ä¸€ä¸‹</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"YES\n"</span>);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">        b[<span class="number">1</span>] = a[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i++)</span><br><span class="line">            b[i] = b[i - <span class="number">1</span>] + a[i];</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">bool</span> ans = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (b[n] % m == <span class="number">0</span>)    ans = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n &amp;&amp; !ans; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> j = i; j &lt;= n; j++)</span><br><span class="line">                    <span class="keyword">if</span> ((b[j] - b[i - <span class="number">1</span>]) % m == <span class="number">0</span>)</span><br><span class="line">                        &#123;</span><br><span class="line">                            ans = <span class="literal">true</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">if</span> (ans)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"YES\n"</span>);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"NO\n"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://www.cnblogs.com/linyujun/p/5210466.html" target="_blank" rel="noopener">å¤§ä½¬å¦‚æ˜¯è¯´ï¼š</a></p><p>å…¶å®è¿™é¢˜çš„nè™½ç„¶èŒƒå›´å¤§ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥åŠ ä¸€ä¸ªåˆ¤æ–­ï¼Œn&gt;mçš„è¯ï¼Œå¿…ç„¶è¾“å‡ºYES</p><p>ä¸ºä»€ä¹ˆï¼Ÿæ ¹æ®æŠ½å±‰åŸç†å‘—</p><p>å…ˆæ±‚å‰ç¼€å’Œæ±‚ä½™mï¼Œ</p><p>å¦‚æœæœ‰m+1ä¸ªæ•°ï¼Œé‚£ä¹ˆå°±ä¼šäº§ç”Ÿm+1ä¸ªå‰ç¼€å’Œï¼Œæ±‚ä½™å®Œmï¼Œå°±ä¼šæœ‰m+1ä¸ªä½™æ•°</p><p>æˆ‘ä»¬çŸ¥é“æ±‚ä½™å®Œmä¼šäº§ç”Ÿ0~m-1æ€»å…±mä¸ªä½™æ•°</p><p>é‚£ä¹ˆæ ¹æ®æŠ½å±‰åŸç†ï¼Œè‡³å°‘æœ‰ä¸¤ä¸ªç›¸åŒçš„ä½™æ•°</p><p>é‚£ä¹ˆä»–ä»¬ä¹‹é—´çš„æ•°çš„å’Œæ±‚ä½™må°±è‚¯å®šæ˜¯0ï¼Œæ‰€ä»¥n&gt;mçš„è¯ï¼Œå¿…ç„¶è¾“å‡ºYES</p><p>æ¯”å¦‚</p><p>å–ä¸¤ä¸ªä¸‹æ ‡iå’Œjï¼ˆi &lt; jï¼‰</p><p>(a1+a2+...+ai) % m = k</p><p>(a1+a2+...+aj) % m = k</p><p>é‚£ä¹ˆ(ai+...+aj) %m = 0</p><p>ç®€å•ä¸€ç‚¹è¯´å°±æ˜¯åœ¨n&gt;mçš„æ—¶å€™ä¸€å®šä¼šå‡ºç°ä¸¤ä¸ªä½™æ•°ç›¸åŒçš„å‰ç¼€å’Œï¼Œï¼Œï¼Œè¿™æ—¶ä»–ä»¬ä¸¤ä¹‹é—´çš„æ•°çš„å’Œå°±ä¸€å®šèƒ½è¢«mæ•´é™¤ï¼Œï¼Œï¼Œåˆ©ç”¨è¿™ä¸€ä¸ªå°±å¯ä»¥æŠŠå¤æ‚åº¦é™ä½åˆ°åªæœ‰nçš„æƒ…å†µï¼Œï¼Œï¼Œ</p><h2 id="ä¸­å›½å‰©ä½™å®šç†å­™å­å®šç†">ä¸­å›½å‰©ä½™å®šç†ï¼ˆå­™å­å®šç†ï¼‰</h2><p>å­˜åœ¨ä¸€ä¸ªæ•°xï¼Œé™¤ä»¥3ä½™2ï¼Œé™¤ä»¥5ä½™ä¸‰ï¼Œé™¤ä»¥7ä½™äºŒï¼Œç„¶åæ±‚è¿™ä¸ªæ•°ã€‚</p><p>å®šç†1ï¼šå‡ ä¸ªæ•°ç›¸åŠ ï¼Œå¦‚æœå­˜åœ¨ä¸€ä¸ªåŠ æ•°ï¼Œä¸èƒ½è¢«æ•´æ•°aæ•´é™¤ï¼Œé‚£ä¹ˆå®ƒä»¬çš„å’Œï¼Œå°±ä¸èƒ½è¢«æ•´æ•°aæ•´é™¤ã€‚ å®šç†2ï¼šä¸¤æ•°ä¸èƒ½æ•´é™¤ï¼Œè‹¥é™¤æ•°æ‰©å¤§ï¼ˆæˆ–ç¼©å°ï¼‰äº†å‡ å€ï¼Œè€Œè¢«é™¤æ•°ä¸å˜ï¼Œåˆ™å…¶å•†å’Œä½™æ•°ä¹ŸåŒæ—¶æ‰©å¤§ï¼ˆæˆ–ç¼©å°ï¼‰ç›¸åŒçš„å€æ•°ï¼ˆä½™æ•°å¿…å°äºé™¤æ•°ï¼‰ã€‚</p><p>é‚£ä¹ˆå‡å¦‚æˆ‘ä»¬å…ˆæ±‚å‡ºè¿™æ ·çš„3ä¸ªæ•°k1,k2,k3ï¼Œæ»¡è¶³k1ä¸3äº’è´¨ä¸”æ˜¯5å’Œ7çš„å€æ•°ï¼Œk2ä¸5äº’è´¨ä¹Ÿæ˜¯3å’Œ7çš„å€æ•°ï¼Œk3ä¸7äº’è´¨ä¸”æ˜¯3å’Œ5çš„å€æ•°ã€‚é‚£ä¹ˆæ ¹æ®å®šç†2ï¼Œä¸€å®šæœ‰k1<em>2+k2</em>3+k3*2æ»¡è¶³æ¡ä»¶ã€‚</p><p>æ±‚å‡º3,5,7çš„æœ€å°å…¬å€æ•°105 ä»¤<span class="math inline">\(x1=105/3=35,x2=105/5=21,x3=105/7=15\)</span> ç„¶åæ±‚è§£ä»¥ä¸‹æ–¹ç¨‹</p><p>$ a<em>x_1%3=1\ b</em>x_2%5=1\ c*x_3%7=1 $</p><p>é‚£ä¹ˆ<span class="math inline">\(ans=(a*x1*2+b*x2*3+c*x3*2)\%lcm\)</span> æ¨å¹¿ä¸€ä¸‹ï¼š è®¾æ­£æ•´æ•°m1,m2,â€¦,mkä¸¤ä¸¤äº’ç´ ï¼Œåˆ™åŒä½™æ–¹ç¨‹ç»„ï¼š</p><p>$ xâ‰¡a_1(mod m_1)\ xâ‰¡a_2(mod m_2)\ xâ‰¡a_3(mod m_3)\ xâ‰¡a_4(mod m_4)\ â€¦\ xâ‰¡a_n(mod m_k)\ $</p><p>æœ‰æ•´æ•°è§£ã€‚ä»¤<span class="math inline">\(M=m_1*m_2*m_3*â€¦m_k\)</span></p><p><span class="math inline">\(M_1=M/m1,M2=M/m2â€¦.\)</span></p><p><span class="math inline">\(xâ‰¡(a_1*M_1*M_1^{-1}+a_2*M_2*M_2^{-1}+...)mod M\)</span></p><p><span class="math inline">\(M_1*M_1^{-1} â‰¡1 mod m_1\)</span></p><p>é‚£ä¹ˆç°åœ¨å¦‚æœa,b,cä¸äº’è´¨æ€ä¹ˆåŠï¼Ÿ</p><p><span class="math inline">\(X=a_1*x_1+b_1\)</span></p><p><span class="math inline">\(X=a_2*x_2+b_2\)</span></p><p>åˆå¹¶ï¼š<span class="math inline">\(ax*x_1+a_2*x_2=b_2-x_1\)</span> ä¸å®šæ–¹ç¨‹å‡ºç°äº†ï¼ï¼ æ±‚å‡ºæœ€å°æ­£æ•´æ•°è§£<span class="math inline">\(x_1\)</span></p><p>æ±‚å‡ºæœ€å°æ­£æ•´æ•°è§£x1 <span class="math inline">\(Xâ€™=a1*x1+b1\)</span>ã€‚kæ˜¯ä¸€ä¸ªç‰¹è§£ï¼ŒXæ˜¯é€šè§£ï¼Œæ‰€ä»¥æœ‰æ–¹ç¨‹ï¼š <span class="math inline">\(X=Xâ€™+k*lcm(a_1,a_2)\)</span> å¦‚æ­¤è¿›è¡Œä¸‹å»å³å¯ã€‚ ä»£ç å¦‚ä½•å†™ï¼š <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">LL <span class="title">work</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">     LL M=m[<span class="number">1</span>],A=a[<span class="number">1</span>],t,d,x,y;<span class="keyword">int</span> i; </span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">2</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;   </span><br><span class="line">     d=exgcd(M,m[i],x,y);<span class="comment">//è§£æ–¹ç¨‹ </span></span><br><span class="line">     <span class="keyword">if</span>((a[i]-A)%d)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;<span class="comment">//æ— è§£ </span></span><br><span class="line">     x*=(a[i]-A)/d,t=m[i]/d,x=(x%t+t)%t;<span class="comment">//æ±‚x       </span></span><br><span class="line">     A=M*x+A,M=M/d*m[i],A%=M;</span><br><span class="line">    &#125;</span><br><span class="line">     A=(A%M+M)%M; </span><br><span class="line">     <span class="keyword">return</span> A; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="æ¬§æ‹‰å‡½æ•°">æ¬§æ‹‰å‡½æ•°</h2><p>å¯¹äºæ­£æ•´æ•°nï¼Œæ¬§æ‹‰å‡½æ•°æ˜¯å°äºnçš„æ­£æ•´æ•°ä¸näº’è´¨çš„ä¸ªæ•°ã€‚ <span class="math inline">\(Ï†(1)=1\)</span></p><p>æ¬§æ‹‰å‡½æ•°å…¬å¼ï¼š</p><p><span class="math inline">\(euler(x) = x*(1-1/p1)(1-1/p2)â€¦â€¦(1-1/pn)\)</span>,pä¸ºxçš„è´¨å› æ•°</p><p>æ ¹æ®è¿™ä¸ªå…¬å¼ï¼Œå†™ä¸‹ä»£ç </p><p>å¦‚ä½•æ±‚å‡ºå‰nä¸ªæ•°çš„æ¬§æ‹‰å‡½æ•°ï¼Ÿ</p><p>æœ€åï¼Œï¼Œï¼Œå°±æ˜¯é¸½ï¼Œï¼Œï¼Œï¼Œï¼Œ2018-7-25-22-56</p>]]></content>
      
      
        <tags>
            
            <tag> acm </tag>
            
            <tag> ç®—æ³• </tag>
            
            <tag> æ•°è®º </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>æ·±æœå’Œå¹¿æœ2</title>
      <link href="/2018/07/23/%E6%B7%B1%E6%90%9C%E5%92%8C%E5%B9%BF%E6%90%9C2/"/>
      <content type="html"><![CDATA[<h2 id="æ¦‚è¿°">æ¦‚è¿°</h2><p>æ¥æ¥æ¥ï¼Œï¼Œï¼Œè¡¥ç¥¨äº†ï¼Œï¼Œï¼Œ</p><p>å‰å‡ ä¸ªæœˆçœ‹äº†ä¸€äº›bfs , dfs ï¼Œ è‡ªä»¥ä¸ºè‡ªå·±å­¦ä¼šäº†æœç´¢çš„åŸºæœ¬ç®—æ³•ï¼Œï¼Œä½†ä»Šå¤©çš„é›†è®­ç»ƒä¹ æ°´çš„å•ŠçœŸæ˜¯ä¸€æŠŠæŠŠæˆ‘æµ‡é†’äº†ï¼Œï¼Œï¼Œä¸èƒ½å†è¿™æ ·è‡ªä»¥ä¸ºå­¦è¿‡çš„ä¸œè¥¿å°±å…¨ä¼šäº†ï¼Œï¼Œï¼Œ</p><a id="more"></a><h2 id="dfs">dfs</h2><p>ä»Šå¤©çš„é›†è®­é¦–å…ˆä¸€ä¸ªæ”¶è·å°±æ˜¯ä¸¤ä¸ªæ¨¡æ¿ï¼Œï¼Œï¼Œé¦–å…ˆæ˜¯dfsçš„ã€‚ã€‚ã€‚</p><p>ä»£ç å¦‚ä¸‹:</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> Size =  <span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> Map[Size][Size];</span><br><span class="line"><span class="keyword">bool</span> book[Size][Size];</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f3f3f</span>;</span><br><span class="line"><span class="comment">//int d[4][2] = &#123;1 , 0 ,    0 , 1 ,    -1 , 0 ,    0 , -1&#125;;</span></span><br><span class="line"><span class="keyword">int</span> dx[<span class="number">4</span>] = &#123;<span class="number">1</span> , <span class="number">-1</span> , <span class="number">0</span> , <span class="number">0</span>&#125;;                                   <span class="comment">//å››ä¸ªæ–¹å‘çš„æ§åˆ¶æ•°ç»„ï¼Œï¼Œï¼Œæ„Ÿè§‰è¿˜æ˜¯åˆ†å¼€å†™å¥½ä¸€äº›ï¼Œï¼Œï¼Œç›´è§‚ï¼Œï¼Œè™½ç„¶å†™çš„éº»çƒ¦</span></span><br><span class="line"><span class="keyword">int</span> dy[<span class="number">4</span>] = &#123;<span class="number">0</span> , <span class="number">0</span> , <span class="number">1</span> , <span class="number">-1</span>&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">step</span>                                                     //æ¯ä¸€æ­¥çš„ç»“æ„ä½“ï¼Œï¼Œ<span class="title">x</span> ï¼Œ<span class="title">y</span>è¡¨ç¤ºå½“å‰æ­¥çš„åæ ‡ï¼Œï¼Œ<span class="title">step_count</span>è¡¨ç¤ºåœ¨è¿™ä¸€æ­¥çš„æ€»æ­¥æ•°</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> x , y;</span><br><span class="line">    <span class="keyword">int</span> step_count;</span><br><span class="line">&#125;Start , End;                                                   <span class="comment">//èµ·å§‹å’Œç»“æŸçš„ä¸¤ä¸ªç‚¹</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">can_move</span><span class="params">(step s)</span>                                           <span class="comment">//åˆ¤æ–­ç§»åŠ¨æ˜¯å¦åˆæ³•</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> s.x &gt;= <span class="number">0</span> &amp;&amp; s.y &gt;= <span class="number">0</span> &amp;&amp; s.x &lt;= Size &amp;&amp; s.y &lt;= Size &amp;&amp; !book[s.x][s.y] ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> ans = inf;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span> <span class="params">(step now)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (now.x == End.x &amp;&amp; now.y == End.y)                       <span class="comment">//è¾¹ç•Œå€¼ï¼Œï¼Œè¡¨ç¤ºæ‰¾åˆ°ï¼Œï¼Œå›æº¯ä¸Šä¸€å±‚</span></span><br><span class="line">    &#123;</span><br><span class="line">        ans = min(ans , now.step_count);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    step next;                                                  <span class="comment">//æœç´¢æ¯ä¸€ç§å¯èƒ½</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        book[now.x][now.y] = <span class="literal">true</span>;                              <span class="comment">//æ ‡è®°ä¸ºå·²ç»èµ°è¿‡</span></span><br><span class="line">        next.x = now.x + d[i][<span class="number">0</span>];</span><br><span class="line">        next.y = now.y + d[i][<span class="number">1</span>];</span><br><span class="line">        next.step_count = now.step_count + <span class="number">1</span>;                   <span class="comment">//å‘ä¸‹æ¯ä¸€æ­¥æœç´¢æ­¥æ•°å¢ä¸€</span></span><br><span class="line">        <span class="keyword">if</span> (can_move(next))</span><br><span class="line">            dfs(next);</span><br><span class="line">        next.step_count--;</span><br><span class="line">        book[now.x][now.y] = <span class="literal">false</span>;                             <span class="comment">//å–æ¶ˆæ ‡è®°</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="bfs">bfs</h2><p>å¹¿æœçš„æ¨¡æ¿ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">bfs</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    book[<span class="number">0</span>][<span class="number">0</span>] = <span class="literal">false</span>;                                     </span><br><span class="line">    <span class="built_in">queue</span>&lt;step&gt; q;                                              <span class="comment">//æ¯ä¸€å±‚çš„é˜Ÿåˆ—</span></span><br><span class="line">    q.push(Start);                                              <span class="comment">//èµ·ç‚¹å…¥é˜Ÿ</span></span><br><span class="line">    book[Start.x][Start.y] = <span class="literal">true</span>;                              <span class="comment">//æ ‡è®°ä¸ºå·²èµ°</span></span><br><span class="line">    <span class="keyword">while</span> (!q.empty())                                          <span class="comment">//å½“é˜Ÿåˆ—ä¸ä¸ºç©ºæ—¶å¾ªç¯æœç´¢</span></span><br><span class="line">    &#123;</span><br><span class="line">         step now = q.front();                                  <span class="comment">//å¯¹æ¯ä¸€å±‚çš„æ¯ä¸€ç§æƒ…å†µåˆ†æ</span></span><br><span class="line">         q.pop();                                           </span><br><span class="line">         <span class="keyword">if</span> (now.x == End.x &amp;&amp; now.y == End.y)                  <span class="comment">//æ»¡è¶³æ¡ä»¶è·³å‡ºæœç´¢è¿”å›æ­¥æ•°(å·²ç»æœ€å°))</span></span><br><span class="line">            <span class="keyword">return</span> now.step_count;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)                             <span class="comment">//æœç´¢æ¯ä¸€ç§å¯èƒ½æ€§</span></span><br><span class="line">        &#123;</span><br><span class="line">            step t;</span><br><span class="line">            t.x = now.x + d[i][<span class="number">0</span>];</span><br><span class="line">            t.y = now.y + d[i][<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span> (can_move(t))</span><br><span class="line">            &#123;</span><br><span class="line">                book[t.x][t.y] = <span class="literal">true</span>;                          <span class="comment">//æ ‡è®°ä¸ºå·²èµ°</span></span><br><span class="line">                node next;</span><br><span class="line">                next.x = t.x;</span><br><span class="line">                next.y = t.y;</span><br><span class="line">                next.step_count = now.step_count + <span class="number">1</span>;</span><br><span class="line">                q.push(next);                                   <span class="comment">//å¯èƒ½çš„æƒ…å†µå…¥é˜Ÿ</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é›†è®­çš„é¢˜">é›†è®­çš„é¢˜:</h2><h3 id="problem-a-averyboyä¸è¿è¿çœ‹">Problem A: AveryBoyä¸è¿è¿çœ‹</h3><blockquote><p>Description</p></blockquote><blockquote><p>AveryBoyæœ€è¿‘è¿·ä¸Šäº†è¿è¿çœ‹æ¸¸æˆï¼Œäºæ˜¯ä»–è‡ªå·±å†™äº†ä¸€ä¸ªç¨‹åºæ¥ç©ï¼Œä¸è¿‡ç”±äºä»–å­¦è‰ºä¸ç²¾å¯¼è‡´ä»–å†™çš„è¿è¿çœ‹æ¸¸æˆè¿çº¿ä¸èƒ½ä»å¤–é¢ç»•è¿‡ã€‚</p></blockquote><blockquote><p>æ¸¸æˆè§„åˆ™ï¼šåœ¨ä¸€ä¸ªæ£‹ç›˜ä¸­ï¼Œæ”¾äº†å¾ˆå¤šçš„æ£‹å­ã€‚å¦‚æœæŸä¸¤ä¸ªç›¸åŒçš„æ£‹å­ï¼Œå¯ä»¥é€šè¿‡ä¸€æ¡çº¿è¿èµ·æ¥ï¼ˆè¿™æ¡çº¿ä¸èƒ½ç»è¿‡å…¶å®ƒæ£‹å­ï¼‰ï¼Œè€Œä¸”çº¿çš„è½¬æŠ˜æ¬¡æ•°ä¸è¶…è¿‡ä¸¤æ¬¡ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªæ£‹å­å°±å¯ä»¥åœ¨æ£‹ç›˜ä¸Šæ¶ˆå»ã€‚ç©å®¶é¼ æ ‡å…ˆåç‚¹å‡»ä¸¤å—æ£‹å­ï¼Œè¯•å›¾å°†ä»–ä»¬æ¶ˆå»ï¼Œç„¶åæ¸¸æˆçš„åå°åˆ¤æ–­è¿™ä¸¤ä¸ªæ–¹æ ¼èƒ½ä¸èƒ½æ¶ˆå»ã€‚ç°åœ¨ä½ çš„ä»»åŠ¡å°±æ˜¯å†™è¿™ä¸ªåå°ç¨‹åºã€‚</p></blockquote><blockquote><p>Input</p></blockquote><blockquote><p>è¾“å…¥æ•°æ®æœ‰å¤šç»„ã€‚æ¯ç»„æ•°æ®çš„ç¬¬ä¸€è¡Œæœ‰ä¸¤ä¸ªæ­£æ•´æ•°n,m(0&lt;n&lt;=1000,0&lt;m&lt;1000)ï¼Œåˆ†åˆ«è¡¨ç¤ºæ£‹ç›˜çš„è¡Œæ•°ä¸åˆ—æ•°ã€‚</p></blockquote><blockquote><p>åœ¨æ¥ä¸‹æ¥çš„nè¡Œä¸­ï¼Œæ¯è¡Œæœ‰mä¸ªéè´Ÿæ•´æ•°æè¿°æ£‹ç›˜çš„æ–¹æ ¼åˆ†å¸ƒã€‚0è¡¨ç¤ºè¿™ä¸ªä½ç½®æ²¡æœ‰æ£‹å­ï¼Œæ­£æ•´æ•°è¡¨ç¤ºæ£‹å­çš„ç±»å‹ã€‚æ¥ä¸‹æ¥çš„ä¸€è¡Œæ˜¯ä¸€ä¸ªæ­£æ•´æ•°q(0&lt;q&lt;50)ï¼Œè¡¨ç¤ºä¸‹é¢æœ‰qæ¬¡è¯¢é—®ã€‚åœ¨æ¥ä¸‹æ¥çš„qè¡Œé‡Œï¼Œæ¯è¡Œæœ‰å››ä¸ªæ­£æ•´æ•°x1,y1,x2,y2,è¡¨ç¤ºè¯¢é—®ç¬¬x1è¡Œy1åˆ—çš„æ£‹å­ä¸ç¬¬x2è¡Œy2åˆ—çš„æ£‹å­èƒ½ä¸èƒ½æ¶ˆå»ã€‚n=0,m=0æ—¶ï¼Œè¾“å…¥ç»“æŸã€‚</p></blockquote><blockquote><p>Output</p></blockquote><blockquote><p>æ¯ä¸€ç»„è¾“å…¥æ•°æ®å¯¹åº”ä¸€è¡Œè¾“å‡ºã€‚å¦‚æœèƒ½æ¶ˆå»åˆ™è¾“å‡º&quot;YES&quot;,ä¸èƒ½åˆ™è¾“å‡º&quot;NO&quot;ã€‚</p></blockquote><p>Sample Input 3 4 1 2 3 4 0 0 0 0 4 3 2 1 4 1 1 3 4 1 1 2 4 1 1 3 3 2 1 2 4 3 4 0 1 4 3 0 2 4 1 0 0 0 0 2 1 1 2 4 1 3 2 3 0 0 Sample Output YES NO NO NO NO YES HINT æ³¨æ„ï¼šè¯¢é—®ä¹‹é—´æ— å…ˆåå…³ç³»ï¼Œéƒ½æ˜¯é’ˆå¯¹å½“å‰çŠ¶æ€çš„ï¼</p><p>æˆ‘çš„åšæ³•ï¼Œï¼Œï¼Œå¼€å§‹è¢«è¾¹ç•Œåˆ¤æ–­å¡æ­»QAQå¿ƒç´¯ï¼Œï¼Œï¼Œ</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> Size1 = <span class="number">1005</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> Size2 = <span class="number">1005</span>;</span><br><span class="line"><span class="keyword">int</span> Map[Size1][Size2];</span><br><span class="line"><span class="keyword">bool</span> book[Size1][Size2];</span><br><span class="line"><span class="keyword">int</span> dx[<span class="number">4</span>] = &#123;<span class="number">1</span> , <span class="number">0</span> , <span class="number">0</span> , <span class="number">-1</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> dy[<span class="number">4</span>] = &#123;<span class="number">0</span> , <span class="number">1</span> , <span class="number">-1</span> , <span class="number">0</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> n , m;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">step</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> x , y;</span><br><span class="line">    <span class="keyword">int</span> lx , ly;</span><br><span class="line">    <span class="comment">//int step_count;</span></span><br><span class="line">&#125;Start , End;</span><br><span class="line"><span class="keyword">int</span> step_count;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">can_move</span><span class="params">(step s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> s.x &gt;= <span class="number">1</span> &amp;&amp; s.y &gt;= <span class="number">1</span> &amp;&amp; s.x &lt;= n &amp;&amp; s.y &lt;= m &amp;&amp; !book[s.x][s.y] ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">is_turn</span><span class="params">(step now , step next)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (now.lx == next.x + <span class="number">1</span> &amp;&amp; now.ly == next.y - <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (now.lx == next.x - <span class="number">1</span> &amp;&amp; now.ly == next.y + <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (now.lx == next.x + <span class="number">1</span> &amp;&amp; now.ly == next.y + <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (now.lx == next.x - <span class="number">1</span> &amp;&amp; now.ly == next.y - <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">dfs</span> <span class="params">(step now)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (step_count &gt; <span class="number">2</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span> (step_count &lt;= <span class="number">2</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (now.x == End.x &amp;&amp; now.y == End.y)</span><br><span class="line">        &#123;</span><br><span class="line">            flag = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (Map[now.x][now.y] != <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">if</span> (now.x != End.x || now.y != End.y)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (now.x != Start.x || now.y != Start.y)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    step next;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        book[now.x][now.y] = <span class="literal">true</span>;</span><br><span class="line">        next.x = now.x + dx[i];</span><br><span class="line">        next.y = now.y + dy[i];</span><br><span class="line">        next.lx = now.x;</span><br><span class="line">        next.ly = now.y;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (is_turn(now , next))</span><br><span class="line">        &#123;</span><br><span class="line">            step_count++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (can_move(next))</span><br><span class="line">            dfs(next);</span><br><span class="line">        <span class="keyword">if</span> (flag)   <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">if</span> (is_turn(now , next))</span><br><span class="line">            step_count--;</span><br><span class="line"></span><br><span class="line">        book[now.x][now.y] = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> flag;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//    freopen("A.in" , "r" , stdin);</span></span><br><span class="line"><span class="comment">//    freopen("test.out" , "w" , stdout);</span></span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d"</span> , &amp;n , &amp;m) &amp;&amp; n &amp;&amp; m)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m; j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;Map[i][j]);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> t;<span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;t);</span><br><span class="line">        <span class="built_in">memset</span>(book , <span class="literal">false</span> , <span class="keyword">sizeof</span>(book));</span><br><span class="line">        <span class="keyword">while</span> (t--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d%d%d"</span> , &amp;Start.x , &amp;Start.y , &amp;End.x , &amp;End.y);</span><br><span class="line">            Start.lx = Start.x;Start.ly = Start.y;step_count = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span> (Map[Start.x][Start.y] != Map[End.x][End.y] || Map[Start.x][Start.y] == <span class="number">0</span> || Map[End.x][End.y] == <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"NO"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (dfs(Start))</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"YES"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"NO"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            flag = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//4 4</span></span><br><span class="line"><span class="comment">//1 2 3 4</span></span><br><span class="line"><span class="comment">//0 0 0 0</span></span><br><span class="line"><span class="comment">//1 0 1 0</span></span><br><span class="line"><span class="comment">//1 0 1 0</span></span><br><span class="line"><span class="comment">//5</span></span><br><span class="line">ä¸è¿‡è¿™ä¸ªæ²¡æœ‰å¥½å¥½å‰ªæï¼Œï¼Œï¼Œé›†è®­å­¦é•¿é€ çš„æ•°æ®è¿‡äº†ï¼Œï¼Œï¼Œæ­ç”µä¸Šçš„æ²¡è¿‡ï¼Œï¼Œï¼ŒQAQï¼Œï¼Œï¼Œ</span><br></pre></td></tr></table></figure><p><del>é¸½äº†ï¼Œï¼Œï¼Œ2018-7-23-22-52</del> å­¦é•¿çš„ä»£ç : <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// hdu 1175</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">int</span> maze[<span class="number">1010</span>][<span class="number">1010</span>];</span><br><span class="line"><span class="keyword">bool</span> vis[<span class="number">1010</span>][<span class="number">1010</span>];</span><br><span class="line"><span class="keyword">int</span> sx,sy,ex,ey;</span><br><span class="line"><span class="keyword">bool</span> flag;</span><br><span class="line"><span class="keyword">int</span> n,m,q;</span><br><span class="line"><span class="keyword">int</span> dicx[]=&#123;<span class="number">1</span>,<span class="number">-1</span>,<span class="number">0</span>,<span class="number">0</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> dicy[]=&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">-1</span>&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y,<span class="keyword">int</span> dic,<span class="keyword">int</span> turns)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(turns&gt;<span class="number">2</span>||flag) <span class="keyword">return</span>;<span class="comment">//è½¬å¼¯æ¬¡æ•°å¤§äº2æˆ–è€…å·²ç»æ‰¾åˆ°å°±ç»ˆæ­¢ </span></span><br><span class="line">    <span class="keyword">if</span>(turns==<span class="number">2</span>&amp;&amp;(x-ex)!=<span class="number">0</span>&amp;&amp;(y-ey)!=<span class="number">0</span>) <span class="keyword">return</span>;<span class="comment">//å‰ªæï¼šåˆ¤æ–­ä¸¤æ¬¡è½¬å¼¯åæ˜¯å¦ä¸ç›®æ ‡åœ¨åŒä¸€ç›´çº¿ä¸Š </span></span><br><span class="line">    <span class="keyword">if</span>(x==ex&amp;&amp;y==ey&amp;&amp;turns&lt;=<span class="number">2</span>)&#123;<span class="comment">//æœç´¢ç»ˆç‚¹ </span></span><br><span class="line">        flag=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;++i)&#123;<span class="comment">//æœç´¢å››ä¸ªæ–¹å‘ </span></span><br><span class="line">        <span class="keyword">int</span> xx=x+dicx[i];</span><br><span class="line">        <span class="keyword">int</span> yy=y+dicy[i];</span><br><span class="line">        <span class="keyword">if</span>(xx&lt;<span class="number">1</span>||xx&gt;n||yy&lt;<span class="number">1</span>||yy&gt;m||vis[xx][yy]) <span class="keyword">continue</span>;<span class="comment">//è¾¹ç•Œæƒ…å†µ </span></span><br><span class="line">        <span class="keyword">if</span>(maze[xx][yy]==<span class="number">0</span>||(xx==ex&amp;&amp;yy==ey))&#123;</span><br><span class="line">            vis[xx][yy]=<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(dic==<span class="number">-1</span>||dic==i)<span class="comment">//å¦‚æœåœ¨èµ·ç‚¹æˆ–è€…åŒå‘çš„æƒ…å†µturnsä¸å˜åŠä¸è½¬å‘,å¹¶å°†å½“å‰æ–¹å‘è®°ä¸ºi </span></span><br><span class="line">                dfs(xx,yy,i,turns);</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                dfs(xx,yy,i,turns+<span class="number">1</span>);<span class="comment">//å¦åˆ™turns+1 </span></span><br><span class="line">            vis[xx][yy]=<span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(~<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;m))&#123;</span><br><span class="line">        <span class="keyword">if</span>(n==<span class="number">0</span>&amp;&amp;m==<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="built_in">memset</span>(maze,<span class="number">0</span>,<span class="keyword">sizeof</span>(maze));</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=m;++j)</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;maze[i][j]);</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;q);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;q;++i)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d%d%d"</span>,&amp;sx,&amp;sy,&amp;ex,&amp;ey);</span><br><span class="line">            <span class="built_in">memset</span>(vis,<span class="number">0</span>,<span class="keyword">sizeof</span>(vis));</span><br><span class="line">            </span><br><span class="line">            flag=<span class="number">0</span>;<span class="comment">//åˆå§‹åŒ– </span></span><br><span class="line">            <span class="keyword">if</span>(maze[sx][sy]==maze[ex][ey]&amp;&amp;maze[sx][sy]) </span><br><span class="line">                dfs(sx,sy,<span class="number">-1</span>,<span class="number">0</span>);<span class="comment">//å°†åˆå§‹æ–¹å‘è®¾ä¸º-1 </span></span><br><span class="line">                </span><br><span class="line">            <span class="keyword">if</span>(flag) <span class="built_in">printf</span>(<span class="string">"YES\n"</span>);</span><br><span class="line">            <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"NO\n"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="problem-c-averyboyä¸è¿·å®«2">Problem C: AveryBoyä¸è¿·å®«2</h3><p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1253" target="_blank" rel="noopener">æ­ç”µé“¾æ¥</a></p><blockquote><p>Description</p></blockquote><blockquote><p>è¿™æ¬¡AveryBoyè¢«å›°åœ¨ä¸€ä¸ªä¸‰ç»´è¿·å®«ä¸­ï¼Œä»–å¿…é¡»æƒ³åŠæ³•åœ¨Tåˆ†é’Ÿå†…ç¦»å¼€è¿·å®«ï¼ˆåŒ…æ‹¬Tï¼‰ã€‚è¿·å®«æ˜¯ä¸€ä¸ªA<em>B</em>Cçš„ç«‹æ–¹ä½“ï¼Œèµ·ç‚¹åœ¨ï¼ˆ0ï¼Œ0ï¼Œ0ï¼‰ä½ç½®ï¼Œç»ˆç‚¹åœ¨ï¼ˆA-1ï¼ŒB-1ï¼ŒC-1ï¼‰ä½ç½®ã€‚å¦‚æœä»–èƒ½ç¦»å¼€è¿·å®«ï¼Œè¾“å‡ºç¦»å¼€è¿·å®«æ‰€éœ€æœ€çŸ­æ—¶é—´ï¼Œå¦åˆ™è¾“å‡º-1ã€‚</p></blockquote><blockquote><p>Input</p></blockquote><blockquote><p>è¾“å…¥æ•°æ®çš„ç¬¬ä¸€è¡Œæ˜¯ä¸€ä¸ªæ­£æ•´æ•°K,è¡¨æ˜æµ‹è¯•æ•°æ®çš„æ•°é‡.æ¯ç»„æµ‹è¯•æ•°æ®çš„ç¬¬ä¸€è¡Œæ˜¯å››ä¸ªæ­£æ•´æ•°A,B,Cå’ŒT(1&lt;=A,B,C&lt;=50,1&lt;=T&lt;=1000),å®ƒä»¬åˆ†åˆ«ä»£è¡¨è¿·å®«çš„å¤§å°å’Œç¦»å¼€çš„æ—¶é—´.ç„¶åæ˜¯Aå—è¾“å…¥æ•°æ®(å…ˆæ˜¯ç¬¬0å—,ç„¶åæ˜¯ç¬¬1å—,ç¬¬2å—......),æ¯å—è¾“å…¥æ•°æ®æœ‰Bè¡Œ,æ¯è¡Œæœ‰Cä¸ªæ­£æ•´æ•°,ä»£è¡¨è¿·å®«çš„å¸ƒå±€,å…¶ä¸­0ä»£è¡¨è·¯,1ä»£è¡¨å¢™.</p></blockquote><blockquote><p>Output</p></blockquote><blockquote><p>å¯¹äºæ¯ç»„æµ‹è¯•æ•°æ®,å¦‚æœAveryBoyèƒ½ç¦»å¼€è¿·å®«,é‚£ä¹ˆè¯·è¾“å‡ºä»–æœ€å°‘éœ€è¦å¤šå°‘åˆ†é’Ÿ,å¦åˆ™è¾“å‡º-1.</p></blockquote><blockquote><p>Sample Input</p></blockquote><p>1 3 3 4 20 0 1 1 1 0 0 1 1 0 1 1 1 1 1 1 1 1 0 0 1 0 1 1 1 0 0 0 0 0 1 1 0 0 1 1 0</p><blockquote><p>Sample Output</p></blockquote><p>11</p><p>æˆ‘çš„ä»£ç :</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">55</span>;</span><br><span class="line"><span class="keyword">int</span> a , b , c , T;</span><br><span class="line"><span class="keyword">int</span> Map[N][N][N];</span><br><span class="line"><span class="keyword">bool</span> book[N][N][N];</span><br><span class="line"><span class="keyword">int</span> dx[<span class="number">6</span>] = &#123;<span class="number">1</span> , <span class="number">-1</span> , <span class="number">0</span> , <span class="number">0</span> , <span class="number">0</span> , <span class="number">0</span> &#125;;</span><br><span class="line"><span class="keyword">int</span> dy[<span class="number">6</span>] = &#123;<span class="number">0</span> , <span class="number">0</span> , <span class="number">1</span> , <span class="number">-1</span> , <span class="number">0</span> , <span class="number">0</span> &#125;;</span><br><span class="line"><span class="keyword">int</span> dz[<span class="number">6</span>] = &#123;<span class="number">0</span> , <span class="number">0</span> , <span class="number">0</span> , <span class="number">0</span> , <span class="number">1</span> , <span class="number">-1</span> &#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">step</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> x , y , z , t;</span><br><span class="line">&#125;Start , End;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">can_move</span><span class="params">(step t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (t.x &gt;= <span class="number">1</span> &amp;&amp; t.y &gt;= <span class="number">1</span> &amp;&amp; t.z &gt;= <span class="number">1</span> &amp;&amp; t.x &lt;= a &amp;&amp; t.y &lt;= b &amp;&amp; t.z &lt;= c)</span><br><span class="line">        <span class="keyword">if</span> (!book[t.x][t.y][t.z] &amp;&amp; !Map[t.x][t.y][t.z])</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">fabs</span>(t.x - a) + <span class="built_in">fabs</span>(t.y - b) + <span class="built_in">fabs</span>(t.z - c) + t.t &lt;= T)</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">bfs</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    book[<span class="number">1</span>][<span class="number">1</span>][<span class="number">1</span>] = <span class="literal">false</span>;</span><br><span class="line">    <span class="built_in">queue</span>&lt;step&gt; q;</span><br><span class="line">    q.push(Start);</span><br><span class="line">    book[<span class="number">1</span>][<span class="number">1</span>][<span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">while</span> (!q.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        step now = q.front();</span><br><span class="line">        q.pop();</span><br><span class="line">        <span class="keyword">if</span> (now.x == End.x &amp;&amp; now.y == End.y &amp;&amp; now.z == End.z &amp;&amp; now.t &lt;= T)</span><br><span class="line">            <span class="keyword">return</span> now.t;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            step temp;</span><br><span class="line">            temp.x = now.x + dx[i];temp.y = now.y + dy[i];temp.z = now.z + dz[i];temp.t = now.t + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (can_move(temp))</span><br><span class="line">            &#123;</span><br><span class="line">                book[temp.x][temp.y][temp.z] = <span class="literal">true</span>;</span><br><span class="line">                q.push(temp);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> k;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;k);</span><br><span class="line">    <span class="keyword">while</span> (k--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d%d%d"</span> , &amp;a , &amp;b , &amp;c , &amp;T);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= a; i++)</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= b; j++)</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> l = <span class="number">1</span>; l &lt;= c; l++)</span><br><span class="line">                    <span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;Map[i][j][l]);</span><br><span class="line">        Start.x = Start.y = Start.z = <span class="number">1</span>;Start.t = <span class="number">0</span>;</span><br><span class="line">        End.x = a;</span><br><span class="line">        End.y = b;</span><br><span class="line">        End.z = c;</span><br><span class="line">        <span class="built_in">memset</span>(book , <span class="literal">false</span> , <span class="keyword">sizeof</span>(book));</span><br><span class="line"></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span> , bfs());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å­¦é•¿çš„ä»£ç :</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// hdu 1253</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> sz[<span class="number">55</span>][<span class="number">55</span>][<span class="number">55</span>],vis[<span class="number">55</span>][<span class="number">55</span>][<span class="number">55</span>];</span><br><span class="line"><span class="keyword">int</span> dir[<span class="number">6</span>][<span class="number">3</span>]=&#123;<span class="number">-1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">-1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">-1</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> a,b,c,k;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> x,y,z,m;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">bfs</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Node p,tmp;</span><br><span class="line">    <span class="built_in">queue</span>&lt;Node&gt;q;</span><br><span class="line">    p.x=<span class="number">1</span>,p.y=<span class="number">1</span>,p.z=<span class="number">1</span>,p.m=<span class="number">0</span>;</span><br><span class="line">    vis[<span class="number">1</span>][<span class="number">1</span>][<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">    q.push(p);</span><br><span class="line">    <span class="keyword">while</span>(!q.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        p=q.front(),q.pop();</span><br><span class="line">        <span class="keyword">if</span>(p.x==a&amp;&amp;p.y==b&amp;&amp;p.z==c&amp;&amp;p.m&lt;=k) <span class="keyword">return</span> p.m;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">6</span>;i++)</span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">            tmp.x=p.x+dir[i][<span class="number">0</span>],tmp.y=p.y+dir[i][<span class="number">1</span>],tmp.z=p.z+dir[i][<span class="number">2</span>],tmp.m=p.m+<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(tmp.x&lt;<span class="number">1</span>||tmp.x&gt;a||tmp.y&lt;<span class="number">1</span>||tmp.y&gt;b||tmp.z&lt;<span class="number">1</span>||tmp.z&gt;c) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span>(sz[tmp.x][tmp.y][tmp.z]||vis[tmp.x][tmp.y][tmp.z]) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">abs</span>(tmp.x-a)+<span class="built_in">abs</span>(tmp.y-b)+<span class="built_in">abs</span>(tmp.z-c)+tmp.m&gt;k) <span class="keyword">continue</span>;</span><br><span class="line">            vis[tmp.x][tmp.y][tmp.z]=<span class="number">1</span>;</span><br><span class="line">            q.push(tmp);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;T);</span><br><span class="line">    <span class="keyword">while</span>(T--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d%d%d"</span>,&amp;a,&amp;b,&amp;c,&amp;k);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=a;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=b;j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> s=<span class="number">1</span>;s&lt;=c;s++)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;sz[i][j][s]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">memset</span>(vis,<span class="number">0</span>,<span class="keyword">sizeof</span>(vis));</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,bfs());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿˜æœ‰ä¸€é“ <em>è“æ¡¥æ¯-å†å±Šè¯•é¢˜-ä¹å®«é‡æ’</em>ï¼Œï¼Œä¸è¿‡è¿˜æ²¡åšï¼Œï¼Œï¼ŒQAQï¼Œï¼Œå…ˆæ”¾ç€å§ï¼Œï¼Œï¼Œï¼Œ</p>]]></content>
      
      
        <tags>
            
            <tag> acm </tag>
            
            <tag> ç®—æ³• </tag>
            
            <tag> å›¾è®º </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>åŒä½™é—®é¢˜</title>
      <link href="/2018/07/23/%E5%90%8C%E4%BD%99%E9%97%AE%E9%A2%98/"/>
      <content type="html"><![CDATA[<h2 id="æ¦‚è¿°">æ¦‚è¿°</h2><p>æœ€è¿‘å­¦äº†å¥½å¤šæœ‰å…³æœ€å¤§å…¬çº¦æ•°çš„çŸ¥è¯†ç‚¹ï¼Œï¼Œacmé‡Œçš„åŒä½™é—®é¢˜ä¸»è¦æ˜¯å…³äºä¸€å…ƒçº¿æ€§æ–¹ç¨‹çš„è§£æ³•ç­‰ç­‰ï¼Œï¼Œï¼Œåœ¨æ­¤ç½—åˆ— <strong>æœ€å¤§å…¬çº¦æ•°gcd</strong> ï¼Œ <strong>æœ€å°å…¬å€æ•°lcm</strong> ï¼Œ <strong>æ¬§å‡ é‡Œå¾—ç®—æ³•</strong> ï¼Œ <strong>æ‰©å±•æ¬§å‡ é‡Œå¾—ç®—æ³•</strong> ï¼Œ ä»¥åŠä»–ä»¬çš„ä¸€äº›åº”ç”¨ï¼Œï¼Œï¼Œ</p><a id="more"></a><h2 id="æœ€å¤§å…¬çº¦æ•°gcdå’Œæœ€å°å…¬å€æ•°lcm">æœ€å¤§å…¬çº¦æ•°gcdå’Œæœ€å°å…¬å€æ•°lcm</h2><p><a href="https://www.cnblogs.com/linyujun/p/5167914.html" target="_blank" rel="noopener">å‚è€ƒæ–‡ç« </a></p><p>gcd(a , b)å°±æ˜¯aä¸bçš„æœ€å¤§å…¬çº¦æ•° lcm(a , b)å°±æ˜¯aä¸bçš„æœ€å°å…¬å€æ•°</p><ul><li>å…¬å¼ <span class="math inline">\(a*b=gcd*lcm\)</span>ï¼Œï¼Œè¯æ˜è§å¤§ä½¬çš„åšå®¢</li></ul><h3 id="è¾—è½¬ç›¸é™¤æ³•æ±‚gcdæ¬§å‡ é‡Œå¾—ç®—æ³•">è¾—è½¬ç›¸é™¤æ³•æ±‚gcd(æ¬§å‡ é‡Œå¾—ç®—æ³•)</h3><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//éé€’å½’å†™æ³•</span></span><br><span class="line"><span class="function">LL <span class="title">gcd</span><span class="params">(LL a, LL b)</span></span>&#123;</span><br><span class="line">    LL t;</span><br><span class="line">    <span class="keyword">while</span>(b)&#123;</span><br><span class="line">        t = b;</span><br><span class="line">        b = a % b;</span><br><span class="line">        a = t;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//é€’å½’å†™æ³•</span></span><br><span class="line"><span class="function">LL <span class="title">gcd</span><span class="params">(LL a, LL b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(b == <span class="number">0</span>) <span class="keyword">return</span> a;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> gcd(b, a%b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">LL <span class="title">gcd</span><span class="params">(LL a, LL b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> b ? gcd(b, a%b) : a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œå¯¹äºå¤§æ•´æ•°æ¥è¯´ï¼Œå–æ¨¡è¿ç®—éå¸¸è€—æ—¶ã€‚ã€‚ã€‚è™½ç„¶è¿™å¥è¯æˆ‘è¿˜ä¸ç†è§£ï¼Œï¼Œï¼Œä½†æ˜¯å…ˆè®°åœ¨è¿™ï¼Œï¼Œï¼Œä»¥åè¯´ä¸å®šä¼šçŸ¥é“æ¥è¡¥ä¸ªç¥¨ï¼Œï¼Œï¼Œ<a href="https://blog.csdn.net/suool/article/details/14094255#" target="_blank" rel="noopener">è¿™ç¯‡åšå®¢æœ‰è¯´åˆ°è¿™ä¸ªé—®é¢˜ï¼Œï¼Œä»–æ˜¯ç”¨Steinç®—æ³•è§£å†³çš„</a> ä»£ç å¦‚ä¸‹ï¼š <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç®—æ³•åˆ†æ</span></span><br><span class="line"><span class="comment">//æ¸è¿‘æ—¶é—´,ç©ºé—´å¤æ‚åº¦å‡ä¸æ¬§å‡ é‡Œå¾·ç®—æ³•ç›¸åŒ</span></span><br><span class="line"><span class="comment">//åŸç†:gcd(ka,kb)=k*gcd(a,b)</span></span><br><span class="line"><span class="comment">//æœ€å¤§ç‰¹ç‚¹:åªæœ‰ç§»ä½å’ŒåŠ å‡æ³•è®¡ç®—,é¿å…äº†å¤§æ•´æ•°çš„å–æ¨¡è¿ç®—</span></span><br><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="title">MaxDivisor</span><span class="params">(<span class="keyword">unsigned</span> a, <span class="keyword">unsigned</span> b)</span> </span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">    <span class="keyword">unsigned</span> c = <span class="number">0</span>; </span><br><span class="line">    <span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    &#123; </span><br><span class="line">    <span class="comment">// é€€å‡ºæ¡ä»¶ </span></span><br><span class="line">        <span class="keyword">if</span>(a==<span class="number">0</span>) </span><br><span class="line">            <span class="keyword">return</span> b &lt;&lt; c;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(b == <span class="number">0</span>) </span><br><span class="line">            <span class="keyword">return</span> a &lt;&lt; c;</span><br><span class="line">    <span class="comment">// ä¸ºæé«˜é€Ÿåº¦ï¼Œé‡‡ç”¨ä½çš„ä¸è¿ç®—ï¼Œé¿å…ç”¨å–æ¨¡åˆ¤æ–­å¥‡å¶ </span></span><br><span class="line">        <span class="keyword">if</span>(!(a &amp; <span class="number">1</span>) &amp;&amp; !(b &amp; <span class="number">1</span>)) <span class="comment">//a,b éƒ½æ˜¯å¶æ•° </span></span><br><span class="line">        &#123; </span><br><span class="line">            a &gt;&gt;= <span class="number">1</span>; b &gt;&gt;= <span class="number">1</span>; ++c; </span><br><span class="line">        &#125; </span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(!(a &amp; <span class="number">1</span>) &amp;&amp; (b &amp; <span class="number">1</span>)) <span class="comment">//aå¶ bå¥‡ </span></span><br><span class="line">        &#123; </span><br><span class="line">            a &gt;&gt;= <span class="number">1</span>; </span><br><span class="line">        &#125; </span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>((a &amp; <span class="number">1</span>) &amp;&amp; !(b &amp; <span class="number">1</span>)) <span class="comment">//aå¥‡ bå¶ </span></span><br><span class="line">        &#123;</span><br><span class="line">             b &gt;&gt;= <span class="number">1</span>; </span><br><span class="line">        &#125; </span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>((a &amp; <span class="number">1</span>) &amp;&amp; (b &amp; <span class="number">1</span>)) <span class="comment">//a,béƒ½æ˜¯å¥‡æ•° </span></span><br><span class="line">        &#123; </span><br><span class="line">            <span class="keyword">unsigned</span> tmp = a&gt;b?b:a; <span class="comment">//å–è¾ƒå°çš„ä¸€ä¸ª </span></span><br><span class="line">            a = a&gt;b?a-b:(b-a); <span class="comment">//ç»å¯¹å·®å€¼</span></span><br><span class="line">            b = tmp; </span><br><span class="line">        &#125; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="æ±‚lcm">æ±‚lcm</h3><p>æ±‚å‡ºgcdï¼Œï¼Œå°±å¯ä»¥ç”¨ä¹‹å‰çš„å…¬å¼æ¥æ±‚lcmå•¦ <span class="math inline">\(lcm=a*b/gcd\)</span> å› ä¸º<span class="math inline">\(a*b\)</span>å¯èƒ½å¤ªå¤§çˆ†int,llæ‰€ä»¥å¯ä»¥å†™æˆ<span class="math inline">\(lcm=a/gcd*b\)</span></p><h3 id="å…¶ä»–å‡ ä¸ªå…¬å¼">å…¶ä»–å‡ ä¸ªå…¬å¼</h3><p><span class="math inline">\(gcd(ka , kb)=k*gcd(a , b)\)</span></p><p><span class="math inline">\(lcm(ka , kb)=k*lcm(a , b)\)</span></p><p>è¿˜æœ‰è¿™ä¸ªï¼š</p><p><span class="math inline">\(lcm(s/a , s/b)=s/gcd(a , b)\)</span></p><h2 id="æ‰©å±•æ¬§å‡ é‡Œå¾—ç®—æ³•">æ‰©å±•æ¬§å‡ é‡Œå¾—ç®—æ³•</h2><p><a href="https://blog.csdn.net/suool/article/details/14094255#" target="_blank" rel="noopener">å‚è€ƒåšå®¢</a></p><p>æ‰©å±•æ¬§å‡ é‡Œå¾—ç®—æ³•ä¸»è¦æ˜¯æ±‚æ–¹ç¨‹ <span class="math inline">\(ax+by=gcd(a , b)\)</span>çš„è§£</p><p>åŸºæœ¬ç®—æ³•ï¼š &gt;å¯¹äºä¸å®Œå…¨ä¸º 0 çš„éè´Ÿæ•´æ•° aï¼Œbï¼Œgcdï¼ˆaï¼Œbï¼‰è¡¨ç¤º aï¼Œb çš„æœ€å¤§å…¬çº¦æ•°ï¼Œå¿…ç„¶å­˜åœ¨æ•´æ•°å¯¹ xï¼Œy ï¼Œä½¿å¾— gcdï¼ˆaï¼Œbï¼‰=ax+byã€‚</p><p>è¯æ˜:</p><blockquote><p>è®¾ a&gt;b 1ï¼Œæ˜¾ç„¶å½“ b=0ï¼Œgcdï¼ˆaï¼Œbï¼‰=aã€‚æ­¤æ—¶ x=1ï¼Œy=0ï¼› 2ï¼Œab!=0 æ—¶</p></blockquote><blockquote><p>è®¾ :ax1+by1=gcd(a,b); æ˜¾ç„¶ä¹Ÿæœ‰ï¼šbx2+(a mod b)y2=gcd(b,a mod b);</p></blockquote><blockquote><p>æ ¹æ®æœ´ç´ çš„æ¬§å‡ é‡Œå¾·åŸç†æœ‰ gcd(a,b)=gcd(b,a mod b); åˆ™:ax1+by1=bx2+(a mod b)y2; å³:ax1+by1=bx2+(a-(a/b)<em>b)y2=ay2+bx2-(a/b)</em>by2; æ ¹æ®æ’ç­‰å®šç†å¾—ï¼šx1=y2; y1=x2-(a/b)*y2;</p></blockquote><blockquote><p>è¿™æ ·æˆ‘ä»¬å°±å¾—åˆ°äº†æ±‚è§£ x1,y1 çš„æ–¹æ³•ï¼šx1ï¼Œy1 çš„å€¼åŸºäº x2ï¼Œy2.</p></blockquote><blockquote><p>ä¸Šé¢çš„æ€æƒ³æ˜¯ä»¥é€’å½’å®šä¹‰çš„ï¼Œå› ä¸º gcd ä¸æ–­çš„é€’å½’æ±‚è§£ä¸€å®šä¼šæœ‰ä¸ªæ—¶å€™ b=0ï¼Œæ‰€ä»¥é€’å½’å¯ä»¥ç»“æŸã€‚</p></blockquote><p>æˆ‘çš„ä»£ç : <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x , y;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">gcd</span><span class="params">(<span class="keyword">int</span> a , <span class="keyword">int</span> b , <span class="keyword">int</span> &amp;x , <span class="keyword">int</span> &amp;y , <span class="keyword">int</span> &amp;d)</span>      <span class="comment">//x , y , dä¸ºå¼•ç”¨æ–¹ä¾¿æ›´æ”¹å€¼ï¼Œdä¸ºgcd(a , b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!b) &#123;d = a; x = <span class="number">1</span>; y = <span class="number">0</span>;&#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        gcd(b , a % b , y , x , d);</span><br><span class="line">        y -= x * (a / b);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      
        <tags>
            
            <tag> acm </tag>
            
            <tag> ç®—æ³• </tag>
            
            <tag> æ•°è®º </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>çº¿æ€§ç­›ç´ æ•°</title>
      <link href="/2018/07/19/%E7%BA%BF%E6%80%A7%E7%AD%9B%E7%B4%A0%E6%95%B0/"/>
      <content type="html"><![CDATA[<p>2018-7-19</p><p>è¿™ç¯‡ä¸»è¦æ˜¯å…³äºæ•°è®ºä¸­ç´ æ•°çš„ç­›æ³•çš„çŸ¥è¯†ç‚¹æ€»ç»“ï¼Œï¼Œï¼Œå…¶ä¸­æˆ‘æ„Ÿå—æœ€æ·±çš„å°±æ˜¯çº¿ç­›ä»¥åŠå¯¹æŸä¸€ä¸ªæ•´æ•°næ±‚å…¶æ‰€æœ‰çš„è´¨å› æ•°åŠå…¶ä¸ªæ•°çš„æ¨¡æ¿äº†ï¼Œï¼Œï¼Œä¸€å®šè¦ç†è§£å¥½ï¼Œï¼Œå¹¶ä¸”æ˜¯é€‚åˆè‡ªå·±çš„æ¨¡æ¿ï¼Œï¼Œï¼Œæ¸…æ¥šæ¯ä¸€ä¸ªå˜é‡ï¼Œï¼Œä¸ç„¶åœ¨åšé¢˜æ—¶å¥—æ¨¡æ¿å¯èƒ½å‡ºç°å„ç§å„æ ·çš„é”™è¯¯ï¼Œï¼Œï¼Œ</p><h2 id="æ¦‚è¿°">æ¦‚è¿°</h2><p>ä¸€èˆ¬æ¥è¯´ï¼Œæ±‚ç´ æ•°çš„æ–¹æ³•æœ‰å¾ˆå¤šï¼Œï¼Œï¼Œæœ‰ <strong>ç›´æ¥éå†</strong> ï¼Œ <strong>åŸƒç­›</strong> ï¼Œ <strong>çº¿ç­›</strong>ï¼Œï¼Œå…¶ä¸­çº¿ç­›æˆ‘è®¤ä¸ºæœ€ä¸ºé‡è¦ï¼Œï¼Œï¼Œ</p><a id="more"></a><h2 id="ç›´æ¥éå†çš„æ–¹æ³•">ç›´æ¥éå†çš„æ–¹æ³•</h2><p>æ ¹æ®ç´ æ•°çš„å®šä¹‰ï¼Œï¼Œï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“å°±æƒ³åˆ°ä¸€ç§æ–¹æ³•ã€‚ã€‚ä»1åˆ°néå†ä¸€éï¼Œï¼Œï¼Œå‡è‹¥nèƒ½æ•´é™¤å…¶ä¸­çš„æŸä¸€ä¸ªæ•°ï¼Œï¼Œï¼Œé‚£ä¹ˆnå°±æ˜¯åˆæ•° ï¼Œï¼Œï¼Œåä¹‹ï¼Œï¼Œå‡è‹¥éå†åˆ°n-1éƒ½æ²¡æœ‰æ•°è¢«æ•´é™¤ï¼Œï¼Œï¼Œé‚£ä¹ˆå°±è¯´æ˜nå³ä¸ºç´ æ•°ï¼Œï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">prime</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;<span class="comment">//åˆ¤æ–­xæ˜¯ä¸æ˜¯è´¨æ•°ï¼Œæ˜¯è¿”å›trueï¼Œä¸æ˜¯è¿”å›false </span></span><br><span class="line">    <span class="keyword">if</span>(x &lt;= <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">false</span>; </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; x; i ++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(x % i == <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œï¼Œï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å†ä¼˜åŒ–ä¸€ä¸‹ï¼Œï¼Œåªéå†åˆ°æ ¹å·nå³å¯ï¼Œï¼Œï¼Œå› ä¸ºéªŒè¯æ ¹å·nä¹‹å‰çš„ä¸€ä¸ªæ•°çš„åŒæ—¶ä¹Ÿå°±éªŒè¯äº†æ ¹å·nä¹‹åå¯¹åº”çš„ä¸€ä¸ªæ•°ï¼Œï¼Œï¼Œè¿™æ ·æ—¶é—´å¤æ‚åº¦å°±æ˜¯O(âˆšn)ï¼Œï¼Œï¼Œï¼Œ</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">prime</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;<span class="comment">//åˆ¤æ–­xæ˜¯ä¸æ˜¯è´¨æ•°ï¼Œæ˜¯è¿”å›trueï¼Œä¸æ˜¯è¿”å›false </span></span><br><span class="line">    <span class="keyword">if</span>(x &lt;= <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">false</span>; </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= <span class="built_in">sqrt</span>(x + <span class="number">0.5</span>); i ++)&#123;<span class="comment">//0.5æ˜¯é˜²æ­¢æ ¹å·çš„ç²¾åº¦è¯¯å·® </span></span><br><span class="line">        <span class="keyword">if</span>(x % i == <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å¦ä¸€ç§æ–¹æ³•ï¼Œä¸éœ€è¦æ ¹å· </span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">prime</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;<span class="comment">//åˆ¤æ–­xæ˜¯ä¸æ˜¯è´¨æ•°ï¼Œæ˜¯è¿”å›trueï¼Œä¸æ˜¯è¿”å›false </span></span><br><span class="line">    <span class="keyword">if</span>(x &lt;= <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">false</span>; </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i * i &lt;= x; i ++)&#123;<span class="comment">//ç”¨ä¹˜æ³•é¿å…æ ¹å·çš„ç²¾åº¦è¯¯å·® </span></span><br><span class="line">        <span class="keyword">if</span>(x % i == <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æ ¹æ®é¢˜ç›®ä¸åŒï¼Œå¦‚æœi*iä¼šçˆ†intï¼Œè®°å¾—å¼€longlong</span></span><br></pre></td></tr></table></figure><p>ä½†æ˜¯ï¼Œï¼Œï¼Œå¯¹äºå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œï¼Œï¼Œæˆ‘ä»¬å¹¶ä¸ä»…ä»…è¦çŸ¥é“nè¿™ä¸€ä¸ªæ•°æ˜¯å¦ä¸ºç´ æ•°ï¼Œï¼Œï¼Œé€šå¸¸æƒ…å†µä¸‹æ˜¯è¦åˆ¤æ–­[1 , n]æ‰€æœ‰æ•°é‚£äº›æ—¶ç´ æ•°ï¼Œï¼Œï¼Œè¿™æ ·å°±å¾—å†æ¥ä¸€ä¸ªå¾ªç¯æ¥éå†ä¸€éï¼Œï¼Œï¼Œè¿™æ ·çš„æ—¶é—´å¤æ‚åº¦å°±æ˜¯O(n*âˆšn)ï¼Œï¼Œï¼Œ <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">100000</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">bool</span> prime[N];</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">is_prime</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x &lt;= <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">false</span>; </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i * i &lt;= x; i ++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(x % i == <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i ++)&#123;</span><br><span class="line">        prime[i] = is_prime(i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    init();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>ä½†è¿™æ ·çš„ç®—æ³•è¿˜æ˜¯å¾ˆæ…¢çš„ï¼Œï¼Œï¼Œæ‰€ä»¥æˆ‘ä»¬æœ‰ä¸‹é¢è¿™ä¸ªç®—æ³•ï¼Œï¼Œï¼Œï¼Œ</p><h2 id="åŸƒç­›">åŸƒç­›</h2><p>æˆ‘ä¸ªäººçš„å¯¹åŸƒç­›çš„ç†è§£æ˜¯è¿™æ ·çš„ï¼Œï¼Œï¼Œç”¨ä¸€ä¸ªæ•°ç»„prime[n]æ¥è¡¨ç¤º[1 , n]æ‰€æœ‰æ•°ï¼Œï¼Œï¼Œç„¶åä»2å¼€å§‹ï¼Œï¼Œ,2æ ‡è®°ä¸ºtrueï¼Œï¼Œï¼Œï¼Œ2çš„æ‰€æœ‰å€æ•°æ ‡è®°ä¸ºfalseï¼Œï¼Œï¼ŒåŒæ ·3ä¹Ÿæ˜¯è¿™æ ·ï¼Œï¼Œï¼Œ5ä¹Ÿæ˜¯è¿™æ ·ï¼Œï¼Œï¼Œç­‰ç­‰ï¼Œï¼Œï¼ŒåŒæ—¶æ ‡è®°è¿‡çš„åˆæ•°ä¸å†æ ‡è®°è·³è¿‡ï¼Œï¼Œï¼Œ ä»£ç å¦‚ä¸‹ï¼š <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">100000</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">bool</span> prime[N];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; N; i ++) prime[i] = <span class="literal">true</span>;<span class="comment">//å…ˆå…¨éƒ¨åˆå§‹åŒ–ä¸ºè´¨æ•° </span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; N; i ++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(prime[i])&#123;                           <span class="comment">//å¦‚æœiæ˜¯è´¨æ•° </span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">2</span>*i; j &lt; N; j += i)&#123;    <span class="comment">//ä»içš„ä¸¤å€å¼€å§‹çš„æ‰€æœ‰å€æ•° </span></span><br><span class="line">                prime[j] = <span class="literal">false</span>; </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    init();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>åŸƒç­›çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(nloglogn)ï¼Œï¼Œï¼Œæ¥è¿‘O(n)ï¼Œï¼Œï¼Œï¼Œ</p><h2 id="çº¿ç­›">çº¿ç­›</h2><p><del>é¸½ï¼Œï¼Œï¼Œ</del> çº¿ç­›å¯ä»¥ä¿è¯æ¯ä¸ª <strong>åˆæ•°</strong> éƒ½è¢«ä»–çš„æœ€å° <strong>è´¨å› æ•°</strong> ç­›å»ï¼Œï¼Œï¼Œæ‰€ä»¥æ¯ä¸ªæ•°ä¹‹ç»å†ä¸€æ¬¡ï¼Œï¼Œï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n) ä»£ç å¦‚ä¸‹ï¼š <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">100000</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">bool</span> prime[N];                                      <span class="comment">//prime[i]è¡¨ç¤ºiæ˜¯ä¸æ˜¯è´¨æ•° </span></span><br><span class="line"><span class="keyword">int</span> p[N], tot;                                      <span class="comment">//p[N]ç”¨æ¥å­˜è´¨æ•° </span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; N; i ++) prime[i] = <span class="literal">true</span>;    <span class="comment">//åˆå§‹åŒ–ä¸ºè´¨æ•° </span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; N; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(prime[i]) p[tot ++] = i;                 <span class="comment">//æŠŠè´¨æ•°å­˜èµ·æ¥ </span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; tot &amp;&amp; i * p[j] &lt; N; j++)&#123;</span><br><span class="line">            prime[i * p[j]] = <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">if</span>(i % p[j] == <span class="number">0</span>) <span class="keyword">break</span>;                <span class="comment">//ä¿è¯æ¯ä¸ªåˆæ•°è¢«å®ƒæœ€å°çš„è´¨å› æ•°ç­›å» </span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;    </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    init();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="å…¶ä»–åº”ç”¨">å…¶ä»–åº”ç”¨</h2><p>åŸºäºç´ æ•°çš„ç­›æ³•ï¼Œï¼Œæˆ‘ä»¬å¯ä»¥å¹²å…¶ä»–çš„ä¸€äº›äº‹ï¼Œï¼Œï¼Œ</p><h3 id="å¤„ç†æŸä¸ªæ•°çš„è´¨å› æ•°åŠå…¶ä¸ªæ•°">å¤„ç†æŸä¸ªæ•°çš„è´¨å› æ•°åŠå…¶ä¸ªæ•°</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> num;</span><br><span class="line">    <span class="keyword">int</span> p;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        num = p = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;a[N];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init_3</span><span class="params">(<span class="keyword">int</span> n)</span>          <span class="comment">//ç”¨åŸƒç­›çº¿ç­›å¤„ç†ä¹‹åçš„è´¨æ•°æ•°ç»„</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> cnt = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        a[i].init();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">while</span> (prime_2[i] &amp;&amp; n % i == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            a[i].p = i;</span><br><span class="line">            a[i].num++;</span><br><span class="line">            n /= i;</span><br><span class="line">        &#125;</span><br><span class="line">        cnt++;</span><br><span class="line">        <span class="keyword">if</span> (n == <span class="number">1</span>) <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é¢„å¤„ç†æ¯ä¸ªæ•°çš„æ‰€æœ‰è´¨å› æ•°">é¢„å¤„ç†æ¯ä¸ªæ•°çš„æ‰€æœ‰è´¨å› æ•°</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">100000</span> + <span class="number">5</span>;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span> &gt; prime_factor[N];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; N; i ++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(prime_factor[i].size() == <span class="number">0</span>)</span><br><span class="line">        &#123;                                   <span class="comment">//å¦‚æœiæ˜¯è´¨æ•° </span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = i; j &lt; N; j += i)</span><br><span class="line">            &#123;</span><br><span class="line">                prime_factor[j].push_back(i); </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    init();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é¢„å¤„ç†æ¯ä¸ªæ•°çš„æ‰€æœ‰å› æ•°">é¢„å¤„ç†æ¯ä¸ªæ•°çš„æ‰€æœ‰å› æ•°</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">100000</span> + <span class="number">5</span>;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span> &gt; factor[N];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; N; i ++)</span><br><span class="line">    &#123; </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = i; j &lt; N; j += i)</span><br><span class="line">        &#123;</span><br><span class="line">            factor[j].push_back(i); </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    init();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é¢„å¤„ç†æ¯ä¸ªæ•°çš„è´¨å› æ•°åˆ†è§£">é¢„å¤„ç†æ¯ä¸ªæ•°çš„è´¨å› æ•°åˆ†è§£</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">100000</span> + <span class="number">5</span>;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span> &gt; prime_factor[N];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> temp;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; N; i ++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(prime_factor[i].size() == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = i; j &lt; N; j += i)</span><br><span class="line">            &#123;</span><br><span class="line">                temp = j;</span><br><span class="line">                <span class="keyword">while</span>(temp % i == <span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    prime_factor[j].push_back(i);</span><br><span class="line">                    temp /= i;</span><br><span class="line">                &#125;  </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    init();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å—¯ï¼Œï¼Œï¼Œå°±è¿™äº†å§ ï¼Œï¼Œï¼Œåšå®¢ä¹Ÿä¸æ˜¯å¥½æ°´çš„ï¼Œï¼Œï¼Œï¼Œè¿˜æœ‰ä¸€å †çš„å‘æ²¡è¡¥QAQ</p><p><a href="https://www.cnblogs.com/linyujun/p/5198832.html" target="_blank" rel="noopener">å‚è€ƒçš„dalaoåšå®¢</a></p><h2 id="æœ‰å…³ç´ æ•°çš„å‡ ä¸ªå®šç†">æœ‰å…³ç´ æ•°çš„å‡ ä¸ªå®šç†</h2><ul><li><p>æ¯ä¸€ä¸ªå¤§äº<span class="math inline">\(1\)</span>çš„æ­£æ•´æ•°<span class="math inline">\(n\)</span>éƒ½å¯ä»¥è¡¨ç¤ºæˆç´ æ•°ä¹‹ç§¯çš„å½¢å¼: <span class="math inline">\(n = p_1^{a1}p_2^{a2}p_3^{a3}p_4^{a4}\)</span>.....</p></li><li><p>è®¾<span class="math inline">\(d(n)\)</span>æ˜¯<span class="math inline">\(n\)</span>çš„æ­£å› å­çš„ä¸ªæ•°ï¼Œ<span class="math inline">\(sum(n)\)</span>æ˜¯<span class="math inline">\(n\)</span>çš„æ‰€æœ‰å› å­ä¹‹å’Œ:</p><p><span class="math inline">\(d(n) = (a_1 + 1)*(a_2 + 1)*(a_3 + 1)...\)</span></p><p><span class="math inline">\(Sum(n) = (1 + p_1 + p_1^2 + ... + p_1 ^ {a_1}) * (1 + p_2 + p_2^2 + ... + p_2^{a_2})...\)</span></p></li></ul>]]></content>
      
      
        <tags>
            
            <tag> acm </tag>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>çº¿æ®µæ ‘</title>
      <link href="/2018/07/17/%E7%BA%BF%E6%AE%B5%E6%A0%91/"/>
      <content type="html"><![CDATA[<p>2018-7-17</p><p>è¿™ç¯‡ä¸»è¦æ˜¯å…³äºæ ‘é‡Œçš„ <strong>çº¿æ®µæ ‘</strong> çš„ä¸€äº›ä¸œè¥¿ï¼Œï¼Œï¼Œ</p><h2 id="æ¦‚è¿°">æ¦‚è¿°</h2><ul><li>é¦–å…ˆï¼Œï¼Œçº¿æ®µæ ‘çš„ä½¿ç”¨åœºæ™¯ä¸»è¦æ˜¯å¯¹äºä¸€ä¸ªçº¿æ€§çš„ç‚¹(å¯èƒ½ä»£è¡¨æ•°ï¼Œä¹Ÿå¯èƒ½æ˜¯å…¶ä»–))ï¼Œï¼Œå¤šæ¬¡æ±‚åŒºé—´[l , r]ä¹‹é—´çš„å’Œï¼Œæœ€å€¼ï¼Œå¥‡å¶å’Œä»€ä¹ˆçš„ï¼Œï¼Œï¼ŒåŒæ—¶è¦èƒ½å¤Ÿä¿®æ”¹æŸä¸ªç‚¹çš„åŒæ—¶æ›´æ–°ä¸Šè¿°æ‰€æ±‚ï¼Œï¼Œï¼Œ</li><li>å¦‚æœç”¨æ™®é€šæ•°ç»„å®ç°æ—¶ï¼Œï¼Œå½“é¢å¯¹è¾ƒå¤§çš„æ•°æ®é‡æ—¶å¾€å¾€ä¼štleï¼Œï¼Œï¼Œæ­¤æ—¶å¯ä»¥ä½¿ç”¨çº¿æ®µæ ‘æ¥ç»´æŠ¤è¿™æ®µæ•°æ®ï¼Œï¼Œï¼Œ</li><li>åŸç†å°±æ˜¯å°†åŒºé—´ä¸º[1 , n]äºŒåˆ†ä¸ºè‹¥å¹²ä¸ªå­åŒºé—´ï¼Œï¼Œï¼Œï¼ˆæ•°é‡ä¸è¶…è¿‡4 * nï¼‰ï¼Œå°†åŒºé—´[l , r]éƒ½åˆ†æˆç‰¹å®šå­åŒºé—´ï¼Œï¼Œç„¶åå¯¹è¿™äº›å­åŒºé—´è¿›è¡Œ <strong>ä¿®æ”¹</strong> å’Œ <strong>ç»Ÿè®¡</strong> ä»¥å®ç°å¯¹[l , r]åŒºé—´çš„ä¿®æ”¹å’Œç»Ÿè®¡ï¼Œï¼Œï¼Œ</li><li>çº¿æ®µæ ‘å¯¹ç¼–å·è¿ç»­çš„ç‚¹è¿›è¡Œä¿®æ”¹æˆ–è€…ç»Ÿè®¡æ“ä½œçš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(<span class="math inline">\(log_2\)</span>n)ï¼Œï¼Œï¼Œ</li></ul><a id="more"></a><ul><li>çº¿æ®µæ ‘çš„ç»Ÿè®¡çš„ä¸œè¥¿å¿…é¡»æ»¡è¶³ <strong>åŒºé—´å¯åŠ æ€§</strong> ï¼Œå¦åˆ™ä¸èƒ½é€šè¿‡åˆ†æˆçš„å­åŒºé—´æ¥å¾—åˆ°[l , r]çš„ç»Ÿè®¡çš„ç»“æœï¼Œï¼Œ</li></ul><blockquote><ul><li>ç¬¦åˆ <strong>åŒºé—´åŠ æ³•</strong> çš„ä¾‹å­ï¼š</li><li>æ•°å­—ä¹‹å’Œâ€”â€”æ€»æ•°å­—ä¹‹å’Œ = å·¦åŒºé—´æ•°å­—ä¹‹å’Œ + å³åŒºé—´æ•°å­—ä¹‹å’Œ</li><li>æœ€å¤§å…¬å› æ•°(GCD)â€”â€”æ€»GCD = gcd( å·¦åŒºé—´GCD , å³åŒºé—´GCD );</li><li>æœ€å¤§å€¼â€”â€”æ€»æœ€å¤§å€¼=max(å·¦åŒºé—´æœ€å¤§å€¼ï¼Œå³åŒºé—´æœ€å¤§å€¼)</li><li><strong>ä¸ç¬¦åˆåŒºé—´åŠ æ³•</strong> çš„ä¾‹å­ï¼š</li><li>ä¼—æ•°â€”â€”åªçŸ¥é“å·¦å³åŒºé—´çš„ä¼—æ•°ï¼Œæ²¡æ³•æ±‚æ€»åŒºé—´çš„ä¼—æ•°</li><li>01åºåˆ—çš„æœ€é•¿è¿ç»­é›¶â€”â€”åªçŸ¥é“å·¦å³åŒºé—´çš„æœ€é•¿è¿ç»­é›¶ï¼Œæ²¡æ³•çŸ¥é“æ€»çš„æœ€é•¿è¿ç»­é›¶</li></ul><p><a href="https://blog.csdn.net/yitongjun/article/details/53193724" target="_blank" rel="noopener">å‚è€ƒåšæ–‡</a></p></blockquote><h2 id="åŸºç¡€å®ç°">åŸºç¡€å®ç°</h2><h3 id="å»ºæ ‘">å»ºæ ‘</h3><p>å»ºæ ‘ä¹‹å‰å…ˆå¾—æ„å»ºä¸€ä¸ªèŠ‚ç‚¹æ•°ç»„ï¼Œï¼Œæ ¹æ®æˆ‘ä»¬çš„éœ€æ±‚ï¼Œï¼ŒèŠ‚ç‚¹è¦æœ‰ä¸¤ä¸ªå€¼l , ræ¥ä¿å­˜è¯¥èŠ‚ç‚¹çš„åŒºé—´ï¼Œï¼ŒåŒæ—¶ï¼Œï¼Œï¼Œæ ¹æ®é¢˜ç›®çš„ä¸åŒèŠ‚ç‚¹é‡Œä¹Ÿè¦æœ‰sum--ç”¨æ¥ä¿å­˜è¯¥åŒºé—´çš„å’Œæˆ–å·®ï¼Œï¼Œï¼Œmax,minæ¥ä¿å­˜è¯¥åŒºé—´å†…çš„æœ€å€¼ï¼Œodd,evenä¿å­˜è¯¥åŒºé—´çš„å¥‡å¶å’Œç­‰ç­‰ï¼Œï¼Œï¼Œæ€»ä¹‹èŠ‚ç‚¹é‡Œçš„ä¸œè¥¿è¦çµæ´»çš„æ ¹æ®é¢˜æ„æ¥å˜é€šï¼Œï¼Œï¼Œ åŸºäºä»¥ä¸Šï¼Œï¼Œæˆ‘ä»¬å¤§å¤šæ•°æƒ…å†µä¸‹çš„èŠ‚ç‚¹æ„å»ºå¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> a[MAXN];                                 <span class="comment">//a[MAXN]æ˜¯å¾…å¤„ç†çš„æ•°æ®</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">tree</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> l;</span><br><span class="line">    <span class="keyword">int</span> r;</span><br><span class="line">    <span class="keyword">int</span> sum;</span><br><span class="line">&#125;Node[MAXN &lt;&lt; <span class="number">2</span>];                            <span class="comment">//å…¶ä¸­MAXN &lt;&lt; 2çš„æ„æ€æ˜¯å¼€4å€çš„MAXNçš„æ•°ç»„ï¼Œï¼Œï¼Œ</span></span><br></pre></td></tr></table></figure><p>èŠ‚ç‚¹æœ‰äº†ï¼Œï¼Œä¹‹åä¾¿æ˜¯å»ºæ ‘å“©ï¼Œï¼Œï¼Œ</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//build(1 , 1 , n)                          //è°ƒç”¨æ–¹å¼</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span> <span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> l , <span class="keyword">int</span> r)</span>         <span class="comment">//rtæŒ‡çš„æ˜¯æ ¹èŠ‚ç‚¹å³å½“å‰èŠ‚ç‚¹ï¼Œl , rå³å·¦å³åŒºé—´å€¼</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Node[rt].l = l;                         <span class="comment">//è®°å½•å½“å‰çš„å·¦åŒºé—´</span></span><br><span class="line">    Node[rt].r = r;                         <span class="comment">//è®°å½•å½“å‰çš„å³åŒºé—´</span></span><br><span class="line">    Node[rt].sum = <span class="number">0</span>;                       <span class="comment">//å°†è¯¥åŒºé—´çš„åŒºé—´å’Œåˆå§‹åŒ–ä¸º0</span></span><br><span class="line">    <span class="keyword">if</span> (l == r)                             <span class="comment">//å½“å·¦å³åŒºé—´å€¼ç›¸ç­‰æ—¶ï¼Œè¯´æ˜ç°åœ¨è®¿é—®åˆ°äº†å¶å­èŠ‚ç‚¹ï¼Œå³è¯¥èŠ‚ç‚¹ä¿å­˜æ•°æ®çš„å€¼</span></span><br><span class="line">    &#123;</span><br><span class="line">        Node[rt].sum = a[l];</span><br><span class="line">        <span class="keyword">return</span>;                             <span class="comment">//è®°å¾—returnåˆ°ä¸Šä¸€å±‚ï¼Œï¼Œè·³å‡ºè¿™ä¸€æ¡çº¿</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid = l + r;                        <span class="comment">//è®¡ç®—åŒºé—´ä¸­ç‚¹å€¼</span></span><br><span class="line">    mid /= <span class="number">2</span>;</span><br><span class="line">    build (rt &lt;&lt; <span class="number">1</span> , l , mid);              <span class="comment">//å‘å·¦åŠæ”¯é€’å½’å»ºæ ‘</span></span><br><span class="line">    build ((rt &lt;&lt; <span class="number">1</span>) | <span class="number">1</span> , mid + <span class="number">1</span> , r);    <span class="comment">//å‘å³åŠæ”¯å»ºæ ‘</span></span><br><span class="line">    pushUp (rt);                            <span class="comment">//æ›´æ–°èŠ‚ç‚¹rtçš„sumå€¼</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="pushupå‡½æ•°çš„å®ç°">pushUp()å‡½æ•°çš„å®ç°:</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushUp</span><span class="params">(<span class="keyword">int</span> rt)</span>                         <span class="comment">//æ›´æ–°èŠ‚ç‚¹çš„sumçš„å€¼</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Node[rt].sum = Node[rt &lt;&lt; <span class="number">1</span>].sum + Node[(rt &lt;&lt; <span class="number">1</span>) | <span class="number">1</span>].sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æ³¨æ„ï¼šå»ºæ ‘çš„æ¨¡æ¿ç»ˆç©¶æ˜¯æ¨¡æ¿ï¼Œï¼Œä¸è¦æ­»å¥—ï¼Œï¼Œè¦æ ¹æ®å…·ä½“çš„é—®é¢˜å…·ä½“åˆ†æï¼Œï¼Œæ›´æ”¹ä¸­é—´çš„ä»£ç ï¼Œï¼Œï¼Œä¸€èˆ¬æ¥è¯´æœ‰å…³sumçš„åœ°æ–¹æ”¹åŠ¨æ¯”è¾ƒå¤§ï¼Œï¼Œï¼Œ</li><li>rt &lt;&lt; 1æŒ‡çš„æ˜¯rt * 2ï¼Œä¹Ÿå°±æ˜¯å·¦å„¿å­ï¼Œå¯¹åº”çš„rt &lt;&lt; 1 | 1æŒ‡çš„æ˜¯å³å„¿å­ï¼Œï¼Œï¼Œ</li><li>å»ºæ ‘çš„ä¸»è¦æ€æƒ³æ˜¯é€’å½’å®ç°ï¼Œï¼Œï¼Œå¯¹å·¦å³åˆ†æ”¯åˆ†åˆ«é€’å½’ï¼Œï¼Œï¼Œå½“åŒºé—´å€¼ç›¸ç­‰æ—¶ä¾¿å‚¨å­˜æ•°æ®å€¼ï¼Œï¼Œï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç”¨å¾ªç¯ä»ä¸‹å‘ä¸Šå®ç°å®ç°ï¼Œï¼Œ</li><li>å¯¹äºæ‰€å»ºç«‹çš„æ ‘ï¼Œï¼Œæ¯ä¸€ä¸ªæ ¹èŠ‚ç‚¹Node[rt]çš„å·¦å„¿å­ä¸ºNode[rt &lt;&lt; 1]ï¼Œå³å„¿å­ä¸ºNode[rt &lt;&lt; 1 | 1]ï¼Œï¼ŒåŒæ—¶ï¼Œï¼Œï¼Œæˆ‘ä»¬çš„æ ‘çš„å®ç°æ˜¯å»ºç«‹åœ¨ä¸€ä¸ªä¸€ç»´æ•°ç»„åŸºç¡€ä¸Šçš„ï¼Œï¼Œï¼Œ</li></ul><h3 id="æ›´æ–°">æ›´æ–°</h3><p><del>+ å¤ªæ™šäº†ï¼Œï¼Œï¼Œå…ˆé¸½äº†ï¼Œï¼Œï¼Œ(<em>Â´Ï‰<code>)äºº(Â´Ï‰</code></em>)ï¼Œï¼Œï¼Œï¼Œ2018-7-17-22-50ï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œ</del> + çº¿æ®µæ ‘æœ€é‡è¦çš„ä¸¤ä¸ªæ“ä½œå°±æ˜¯ <strong>æ›´æ–°</strong> å’Œ <strong>æŸ¥è¯¢</strong>ï¼Œï¼Œ å…ˆçœ‹æ’å…¥ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//update(1, loc , value)</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span> <span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> loc , <span class="keyword">int</span> value)</span>  <span class="comment">//æ›´æ–°æŸä¸€ä½ç½®å¤„locçš„å€¼</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (Node[rt].l == Node[rt].r)           <span class="comment">//å½“å·¦å³èŠ‚ç‚¹å€¼ç›¸ç­‰è¯´æ˜æ‰¾åˆ°è¦æ‰¾çš„å¶å­èŠ‚ç‚¹</span></span><br><span class="line">    &#123;</span><br><span class="line">        Node[rt].sum = value;               <span class="comment">//æ”¹å˜è¯¥å¶å­èŠ‚ç‚¹çš„å€¼ï¼Œå¹¶è¿”å›ä¸Šä¸€å±‚</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (loc &lt;= (Node[rt].l + Node[rt].r) &gt;&gt; <span class="number">1</span>)    update (rt &lt;&lt; <span class="number">1</span> , loc , value);                                 <span class="comment">//ä»å·¦åŠæ”¯é€’å½’</span></span><br><span class="line">    <span class="keyword">else</span>                                          update (rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span> , loc , value);                           <span class="comment">//ä»å³åŠæ”¯é€’å½’</span></span><br><span class="line">    pushUp (rt);                            <span class="comment">//æ›´æ–°è¯¥èŠ‚ç‚¹çš„å€¼</span></span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ›´æ–°æ“ä½œä¸€èˆ¬çš„è°ƒç”¨æ–¹å¼æ˜¯update(1 , loc , value)ï¼Œï¼Œå³ä»æ ¹èŠ‚ç‚¹é€’å½’è¿›è¡Œæ›´æ–°æ“ä½œ</p><p>å¤§è‡´çš„æ€è·¯å°±æ˜¯åˆ©ç”¨å¸¦æ›´æ–°çš„ä½ç½®locå’Œå½“å‰æ ¹èŠ‚ç‚¹æ‰€å‚¨å­˜çš„åŒºé—´ç«¯ç‚¹çš„ä¸­é—´å€¼è¿›è¡Œæ¯”è¾ƒï¼Œï¼Œå°äºå°±æ„å‘³ç€ä»å·¦åŠæ”¯é€’å½’ï¼Œï¼Œå¤§äºå°±æ„å‘³ç€ä»å³åŠæ”¯é€’å½’ï¼Œï¼Œç›¸ç­‰å°±æ„å‘³ç€æ‰¾åˆ°å¾…æ›´æ–°çš„å¶å­èŠ‚ç‚¹ï¼Œï¼Œï¼Œç„¶åè¿”å›åˆ°ä¸Šä¸€å±‚ï¼Œï¼Œï¼Œç”±ä¸‹å‘ä¸Šçš„è¿›è¡ŒåŒºé—´æ›´æ–°ï¼Œï¼Œï¼Œ</p><h3 id="æŸ¥è¯¢">æŸ¥è¯¢</h3><p>æŸ¥è¯¢ä¸»è¦æ˜¯æŒ‡æŸ¥è¯¢æŸä¸ªåŒºé—´[l , r]çš„æŸä¸ªæ•°æ®ï¼Œï¼Œå¦‚åŒºé—´å’Œï¼Œï¼ŒåŒºé—´æœ€å€¼ç­‰ç­‰ï¼Œï¼Œï¼Œ ä»£ç å¦‚ä¸‹ï¼š <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//query(1 , l , r)</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span> <span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> l , <span class="keyword">int</span> r)</span>          <span class="comment">//rtå½“å‰èŠ‚ç‚¹,l,rå·¦å³åŒºé—´ç«¯ç‚¹</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (l == Node[rt].l &amp;&amp; r == Node[rt].r) <span class="comment">//å¶å­èŠ‚ç‚¹ç›´æ¥è¿”å›å…¶å€¼</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> Node[rt].sum;                </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid = Node[rt].l + Node[rt].r;      </span><br><span class="line">    mid /= <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span> (r &lt;= mid)     <span class="keyword">return</span> query(rt &lt;&lt; <span class="number">1</span> , l , r);    <span class="comment">//å·¦å³æ”¯åˆ†åˆ«æŸ¥æ‰¾</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (l &gt; mid) <span class="keyword">return</span> query(rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span> , l , r);</span><br><span class="line">    <span class="keyword">else</span>                                                <span class="comment">//è·¨æ”¯æ‹†åˆ†æŸ¥æ‰¾å„è‡ªçš„ï¼Œæœ€åç›¸åŠ </span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> query(rt &lt;&lt; <span class="number">1</span> , l , mid) + query(rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span> , mid + <span class="number">1</span> , r);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="æœ€ååˆèµ·æ¥çš„æ¨¡æ¿">æœ€ååˆèµ·æ¥çš„æ¨¡æ¿</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> a[MAXN];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">tree</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> l;</span><br><span class="line">    <span class="keyword">int</span> r;</span><br><span class="line">    <span class="keyword">int</span> sum;</span><br><span class="line">&#125;Node[MAXN &lt;&lt; <span class="number">2</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushUp</span><span class="params">(<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Node[rt].sum = Node[rt &lt;&lt; <span class="number">1</span>].sum + Node[(rt &lt;&lt; <span class="number">1</span>) | <span class="number">1</span>].sum;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//build(1 , 1 , n)</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span> <span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> l , <span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Node[rt].l = l;</span><br><span class="line">    Node[rt].r = r;</span><br><span class="line">    Node[rt].sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (l == r)</span><br><span class="line">    &#123;</span><br><span class="line">        Node[rt].sum = a[l];</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid = l + r;</span><br><span class="line">    mid /= <span class="number">2</span>;</span><br><span class="line">    build (rt &lt;&lt; <span class="number">1</span> , l , mid);</span><br><span class="line">    build ((rt &lt;&lt; <span class="number">1</span>) | <span class="number">1</span> , mid + <span class="number">1</span> , r);</span><br><span class="line">    pushUp (rt);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//update(1, loc , value)</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span> <span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> loc , <span class="keyword">int</span> value)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (Node[rt].l == Node[rt].r)</span><br><span class="line">    &#123;</span><br><span class="line">        Node[rt].sum = value;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (loc &lt;= (Node[rt].l + Node[rt].r) &gt;&gt; <span class="number">1</span>)    update (rt &lt;&lt; <span class="number">1</span> , loc , value);</span><br><span class="line">    <span class="keyword">else</span>                                          update (rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span> , loc , value);</span><br><span class="line">    pushUp (rt);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span> <span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> l , <span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (l == Node[rt].l &amp;&amp; r == Node[rt].r)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> Node[rt].sum;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid = Node[rt].l + Node[rt].r;</span><br><span class="line">    mid /= <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span> (r &lt;= mid)     <span class="keyword">return</span> query(rt &lt;&lt; <span class="number">1</span> , l , r);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (l &gt; mid) <span class="keyword">return</span> query(rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span> , l , r);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> query(rt &lt;&lt; <span class="number">1</span> , l , mid) + query(rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span> , mid + <span class="number">1</span> , r);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;<span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; a[i];</span><br><span class="line">    build(<span class="number">1</span> , <span class="number">1</span> , n);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; query(<span class="number">1</span> , <span class="number">3</span> , <span class="number">5</span>) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; a[<span class="number">2</span>];</span><br><span class="line">    update(<span class="number">1</span> , <span class="number">2</span> , a[<span class="number">2</span>]);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; query(<span class="number">1</span>, <span class="number">1</span> , <span class="number">4</span>) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>çº¿æ®µæ ‘çš„åŸºæœ¬å†…å®¹å°±æ˜¯è¿™äº›ï¼Œï¼Œï¼Œåšé¢˜çš„æ—¶å€™å¥—æ¨¡æ¿ç„¶åæ ¹æ®é¢˜æ„æ”¹ä¸€æ”¹å°±è¡Œäº†ï¼Œï¼Œï¼Œ</p><p>end~~2018-7-23-11-06</p>]]></content>
      
      
        <tags>
            
            <tag> acm </tag>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>æ•°è®º_å¿«é€Ÿå¹‚</title>
      <link href="/2018/07/16/%E6%95%B0%E8%AE%BA_%E5%BF%AB%E9%80%9F%E5%B9%82/"/>
      <content type="html"><![CDATA[<p>2018.7.16</p><p>è¿™ç¯‡ä¸»è¦æ˜¯å…³äºæ•°è®ºé‡Œçš„å¿«é€Ÿå¹‚å’ŒçŸ©é˜µçš„å¿«é€Ÿä¹˜æ³•ï¼Œï¼Œï¼Œ ## å¿«é€Ÿå¹‚å’Œå¿«é€Ÿä¹˜</p><p>å¯¹äºa^nè¿™æ ·çš„è®¡ç®—ï¼Œï¼Œæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯ä¸€ä¸ªforå¾ªç¯è¿ä¹˜ä¸‹å»ï¼Œï¼Œ</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="function">ll <span class="title">pow</span> <span class="params">(ll a , ll b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= b; i++)</span><br><span class="line">        ans *= a;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯å¦‚æœa,néƒ½å¾ˆå¤§ï¼Œï¼Œå°¤å…¶æ˜¯æŸäº›é¢˜ï¼Œï¼Œï¼Œè¶…æ—¶ï¼Œï¼Œå¦¥å¦¥çš„ï¼Œï¼Œ(^_ã£^)</p><a id="more"></a><ul><li>æ‰€ä»¥ï¼Œå¯¹äºè¿™ç§æƒ…å†µå¯ä»¥ä½¿ç”¨å¿«é€Ÿå¹‚çš„æ–¹æ³•æ¥è®¡ç®—ï¼Œï¼Œï¼Œ</li><li>é¦–å…ˆï¼Œå¿«é€Ÿå¹‚çš„ä¸»è¦æ€æƒ³æ˜¯å°†å¤šä¸ªaåˆå¹¶ï¼Œï¼Œæ¯”å¦‚ï¼š</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">2^11 </span><br><span class="line">== 2 * 2 * 2 * 2 * 2 * 2 * 2 * 2 * 2 * 2 * 2 </span><br><span class="line">== (2 * 2) * (2 * 2) * (2 * 2) * (2 * 2) * (2 * 2) * 2 </span><br><span class="line">== 4 * 4 * 4 * 4 * 4 * 2 </span><br><span class="line">== (4 * 4) * (4 * 4) * 4 * 2 </span><br><span class="line">== 16 * 16 * 4 * 2 ...</span><br></pre></td></tr></table></figure><p>è¿™æ ·å°±å°±æŠŠ10æ¬¡çš„ä¹˜æ³•æ“ä½œå‡å°‘åˆ°äº†5æ¬¡ï¼Œï¼Œï¼Œè¿™æ ·å°±å‡å°‘çš„è¿ç®—çš„æ—¶é—´ï¼Œï¼Œï¼Œå°± <strong>æœ‰å¯èƒ½</strong>ä¸ä¼šTLEï¼Œï¼Œ (å› ä¸ºæœ‰çš„é¢˜çš„æ•°æ®å¯èƒ½å¿«é€Ÿå¹‚ä¹Ÿä¼šè¶…æ—¶ï¼Œï¼Œï¼Œ<em>(:3 ã€âˆ  )</em>)</p><h2 id="å¿«é€Ÿå¹‚çš„æ¨¡æ¿"><strong>å¿«é€Ÿå¹‚çš„æ¨¡æ¿ï¼š</strong></h2><h3 id="é€’æ¨çš„å†™æ³•ç”¨å¾ªç¯è§£å†³"><strong>é€’æ¨çš„å†™æ³•ï¼ˆç”¨å¾ªç¯è§£å†³ï¼‰</strong></h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MOD = <span class="number">1e9</span>;</span><br><span class="line"><span class="function">ll <span class="title">pow</span> <span class="params">(ll a , ll b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;     <span class="comment">//æ³¨æ„æ˜¯1ï¼Œï¼Œï¼Œä¸‹é¢çš„å¿«ä¹˜æ˜¯0ï¼Œï¼Œ</span></span><br><span class="line">    <span class="keyword">while</span> (b)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (b &amp; <span class="number">1</span>)  ans = ans * a % MOD;    <span class="comment">//å¦‚æœb,ä¹Ÿå°±æ˜¯å½“å‰æŒ‡æ•°æ˜¯å¥‡æ•°æ—¶ï¼Œè¦ç»™ansè¡¥ä¸€ä¸ªaï¼Œï¼Œå› ä¸ºä¸‹é¢bä¼šå‡åŠ</span></span><br><span class="line">        a = a * a % MOD;                    <span class="comment">//åˆå¹¶ä¸¤ä¸ªaï¼Œå˜æˆa^2</span></span><br><span class="line">        b /= <span class="number">2</span>;                             <span class="comment">//bå‡åŠ</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é€’å½’çš„å†™æ³•ç”¨å‡½æ•°é€’å½’è§£å†³"><strong>é€’å½’çš„å†™æ³•ï¼ˆç”¨å‡½æ•°é€’å½’è§£å†³ï¼‰</strong></h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MOD = <span class="number">1e9</span>;</span><br><span class="line"><span class="function">ll <span class="title">pow</span> <span class="params">(ll a , ll b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (b == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    ll ans = <span class="built_in">pow</span> (a , b / <span class="number">2</span>);</span><br><span class="line">    ans = ans * ans % MOD;</span><br><span class="line">    <span class="keyword">if</span> (b &amp; <span class="number">1</span>)  ans = ans * a % MOD;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç”¨ä½æ“ä½œçš„å†™æ³•"><strong>ç”¨ä½æ“ä½œçš„å†™æ³•</strong></h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MOD = <span class="number">1e9</span>;</span><br><span class="line"><span class="function">ll <span class="title">pow</span> <span class="params">(ll a , ll b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (b)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (b &amp; <span class="number">1</span>)  ans = ans * a % MOD;</span><br><span class="line">         a = a * a % MOD;</span><br><span class="line">         b &gt;&gt;= <span class="number">1</span>;                           <span class="comment">//bå³ç§»ç›¸å½“äºé™¤ä»¥äºŒ</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨æŸäº›æ¨¡æ¿é‡Œaç”¨çš„res,,bç”¨çš„n</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MOD = <span class="number">1e9</span>;</span><br><span class="line"><span class="function">ll <span class="title">pow</span> <span class="params">(ll x , ll n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll res = x;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (n)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (n &amp; <span class="number">1</span>)  ans = ans * res % MOD;</span><br><span class="line">         res = res * res % MOD;</span><br><span class="line">         n &gt;&gt;= <span class="number">1</span>;                           <span class="comment">//bå³ç§»ç›¸å½“äºé™¤ä»¥äºŒ</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¿«é€Ÿä¹˜"><strong>å¿«é€Ÿä¹˜</strong></h3><p>æœ‰äº†å¿«é€Ÿå¹‚å°±æœ‰äº† <strong>å¿«é€Ÿä¹˜</strong>ï¼Œåªè¦æŠŠä¹˜è¯¥æˆåŠ å°±OKå•¦ï¼Œï¼Œï¼Œ(ã‚âˆ€ï½¥) <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MOD = <span class="number">1e9</span>;</span><br><span class="line"><span class="function">ll <span class="title">mul</span> <span class="params">(ll x , ll n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll res = x;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (n)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (n &amp; <span class="number">1</span>)  ans = (ans + res) % MOD;</span><br><span class="line">         res = (res + res) % MOD;</span><br><span class="line">         n &gt;&gt;= <span class="number">1</span>;                           <span class="comment">//bå³ç§»ç›¸å½“äºé™¤ä»¥äºŒ</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>å¯¹äº†ï¼Œï¼Œï¼Œå¿«é€Ÿå¹‚é‡Œçš„ä¹˜æ³•è¿ç®—ä¹Ÿå¯ä»¥æ¢æˆå¿«é€Ÿä¹˜ï¼Œï¼Œï¼Œ</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line">ll MOD;</span><br><span class="line"><span class="function">ll <span class="title">mul</span> <span class="params">(ll a , ll b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (b)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (b &amp; <span class="number">1</span>)  ans = (ans + a) % MOD;</span><br><span class="line">        a = (a + a) % MOD;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">pow</span> <span class="params">(ll a , ll b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (b)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (b &amp; <span class="number">1</span>)  ans = mul(ans , a);</span><br><span class="line">        a = mul(a , a);</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="çŸ©é˜µå¿«é€Ÿå¹‚">çŸ©é˜µå¿«é€Ÿå¹‚ï¼š</h2><p>å¥½äº†ï¼Œï¼Œï¼Œ(ã€ãƒ»Ï‰ãƒ»)ã€ã†ãƒ¼ï¼(ï¼ãƒ»Ï‰ãƒ»)ï¼ã«ã‚ƒãƒ¼ï¼å¿«é€Ÿå¹‚å’Œå¿«é€Ÿä¹˜éƒ½æ¸…æ¥šäº†ï¼Œï¼Œè¿™æ—¶æ¥çœ‹å¦ä¸€ä¸ªä¸œè¥¿ï¼Œï¼Œ<strong>çŸ©é˜µå¿«é€Ÿå¹‚</strong>(Ïƒâ€²â–½â€µ)â€²â–½â€µ)Ïƒ é¦–å…ˆï¼Œï¼Œï¼Œæˆ‘ä»¬å…ˆå®ç°ä¸€ä¸ªçŸ©é˜µç»“æ„ä½“ï¼Œï¼Œï¼Œ <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">100</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Matrix</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    ll m[N][N];</span><br><span class="line">&#125;ans , res;                                 <span class="comment">//ansæ˜¯æœ€ç»ˆçš„ç»“æœï¼Œï¼Œresæ˜¯ä¸­é—´åˆå¹¶æ“ä½œçš„å˜é‡ï¼Œç±»ä¼¼a*aç­‰ç­‰</span></span><br></pre></td></tr></table></figure></p><p><del>ç„¶åï¼Œï¼Œemmmmå…ˆé¸½äº†ï¼Œï¼Œï¼Œç¢è§‰ï½·ï¾€â”â”â”â”(ï¾Ÿâˆ€ï¾Ÿ)â”â”â”â”!!</del></p><p>ç„¶åï¼Œï¼Œå®ç°ä¸¤çŸ©é˜µçš„ç›¸ä¹˜ï¼Œï¼Œï¼Œ(ï¾‰&gt;Ï‰&lt;)ï¾‰</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Matrix <span class="title">mul</span> <span class="params">(Matrix a , Matrix b , <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Matrix t;                               <span class="comment">//ä¸´æ—¶çŸ©é˜µ</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)             <span class="comment">//åˆå§‹åŒ–ä¸º0</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++)</span><br><span class="line">            t.m[i][j] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)             <span class="comment">//çŸ©é˜µçš„ç›¸ä¹˜</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; n; k++)</span><br><span class="line">            &#123;</span><br><span class="line">                t.m[i][j] = (t.m[i][j] + (a.m[i][k] * b.m[k][j]) % MOD) % MOD;  <span class="comment">//å¯¹æ¯ä¸€ä¸ªæ•°å–æ¨¡</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> t;                               <span class="comment">//è¿”å›ç»“æœ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åå°±æ˜¯æœ€é‡è¦çš„ï¼Œï¼Œï¼Œ<strong>çŸ©é˜µçš„å¿«é€Ÿå¹‚</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">matrixmul</span> <span class="params">(<span class="keyword">int</span> nn , <span class="keyword">int</span> n)</span>             <span class="comment">//nnæ˜¯æŒ‡æ•°ï¼Œï¼Œï¼Œnæ˜¯é˜¶æ•°</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)             <span class="comment">//å…ˆå°†ansçŸ©é˜µåˆå§‹åŒ–ä¸ºå•ä½çŸ©é˜µ</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++)</span><br><span class="line">            <span class="keyword">if</span> (i == j)</span><br><span class="line">                ans.m[i][j] = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                ans.m[i][j] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (nn)                              <span class="comment">//çŸ©é˜µçš„å¿«é€Ÿå¹‚ï¼Œï¼ŒæŠŠä»¥å‰çš„ä¹˜å·æ”¹æˆä¸Šé¢çš„mulå‡½æ•°å°±å¯ä»¥äº†ï¼Œï¼Œï¼Œ</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (nn &amp; <span class="number">1</span>)  ans = mul (ans , res , n);</span><br><span class="line">        res = mul (res , res , n);</span><br><span class="line">        nn &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¥½äº†ï¼Œï¼Œï¼Œè¿™æ ·ä¸»é¢˜çš„æ¡†æ¶å°±æœ‰äº†ï¼Œï¼Œï¼Œ</p><p>æ¥ä¸‹æ¥å°±æ˜¯æ ¹æ®é€’æ¨å¼æ¥è½¬åŒ–æˆçŸ©é˜µçš„è¿ç®—ï¼Œï¼Œï¼Œ</p><p>åˆ©ç”¨çŸ©é˜µå¿«é€Ÿå¹‚çš„é¢˜ä¸€èˆ¬ä¼šæ ¹æ®é¢˜æ„æ¥å¾—åˆ°ä¸€ä¸ªå…³äºf(n)çš„é€’æ¨å¼ï¼Œï¼Œ</p><p>å¦‚æœåªæ˜¯ç®€å•çš„ç”¨å¾ªç¯é€’å½’æ¥å®ç°ï¼Œï¼Œåœ¨æœ‰äº›é¢˜é‡Œnå¾ˆå¤§æ—¶ä¼štle ï¼Œï¼Œï¼Œå¦‚æœåœ¨å¼€å§‹æ—¶é¢„å…ˆç®—å‡ºæ¥f(n)å‚¨å­˜ï¼Œæœ‰å¯èƒ½mleï¼Œï¼Œï¼Œæ‰€ä»¥è¿™ç§æƒ…å†µä¸‹å¯ä»¥è¯•è¯•çŸ©é˜µçš„å¿«é€Ÿå¹‚æ¥è§£ä½“ï¼Œï¼Œï¼Œ</p><p>æˆ‘ä»¬çš„ä»»åŠ¡å°±æ˜¯æ ¹æ®è¿™ä¸ªé€’æ¨å¼æ¥è½¬åŒ–ä¸ºä¸€ä¸ªçŸ©é˜µçš„é€’æ¨å¼ï¼Œï¼Œè¿™ä¸ªçŸ©é˜µä¸€èˆ¬æ˜¯ä¸€ä¸ªå«æœ‰f(n)çš„çŸ©é˜µç­‰äºä¸€ä¸ªf(n-1)*Açš„å½¢å¼ï¼Œï¼Œç„¶åæ ¹æ®é€’æ¨å¼å°±å¯ä»¥å°†è¿™ä¸ªæ–°çš„çŸ©é˜µé€’æ¨å¼è½¬åŒ–æˆä¸€ä¸ªå«æœ‰f(n)çš„çŸ©é˜µç­‰äºä¸€ä¸ªå«æœ‰f(a)ç­‰å¸¸æ•°çš„çŸ©é˜µä¹˜ä¸€ä¸ªå¸¸æ•°çŸ©é˜µAçš„n-mæ¬¡å¹‚ï¼Œï¼Œï¼Œï¼ˆè¿™é‡Œçš„aã€méƒ½æ˜¯ä¸€ä¸ªä¸å®šçš„å¸¸æ•°ï¼Œï¼Œï¼‰</p><p>ä¾‹å¦‚ï¼Œæ–æ³¢é‚£å¥‘æ•°åˆ—f(n) = f(n - 1) + f(n - 2)å†™æˆçŸ©é˜µçš„å½¢å¼å°±æ˜¯ $ <span>$$\left[\begin{matrix}f(n) &amp; f(n - 1)\end{matrix}\right]$$</span><!-- Has MathJax --> == <span>$$\left[\begin{matrix}f(n - 1) &amp; f(n - 2)\end{matrix}\right]$$</span><!-- Has MathJax --></p><ul><li><span>$$\left[\begin{matrix}1 &amp; 1\\1 &amp; 0\end{matrix}\right]$$</span><!-- Has MathJax -->$ ç„¶åï¼Œï¼Œï¼Œ æŠŠ$ <span>$$\left[\begin{matrix}f(n - 1) &amp; f(n - 2)\end{matrix}\right]$$</span><!-- Has MathJax --> å†å±•å¼€ï¼Œï¼Œï¼Œå°±å¯ä»¥å¾—åˆ°å¾ˆå¤šçš„A(<span>$$\left[\begin{matrix}1 &amp; 1\\1 &amp; 0\end{matrix}\right]$$</span><!-- Has MathJax -->)$ç›¸ä¹˜ï¼Œï¼Œï¼Œ</li></ul><p>ä¹Ÿå°±æ˜¯$ <span>$$\left[\begin{matrix}f(n) &amp; f(n - 1)\end{matrix}\right]$$</span><!-- Has MathJax --> == <span>$$\left[\begin{matrix}f(2) &amp; f(1)\end{matrix}\right]$$</span><!-- Has MathJax --> * <span class="math inline">\(A^n\)</span>$</p><p>mé˜¶çŸ©é˜µAçš„ç›¸ä¹˜çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(<span class="math inline">\(m^3\)</span>)ï¼Œï¼ŒçŸ©é˜µå¿«é€Ÿå¹‚ä¸ºO(logn)</p><p>æ‰€ä»¥è¿™ä¸ªçš„æ—¶é—´å¤æ‚åº¦æ˜¯ 8*log1000 &lt; 1000è¿™æ ·å°±å‡å°äº†è¿ç®—æ—¶é—´ï¼Œï¼Œï¼Œ<a href="https://www.cnblogs.com/chsobin/p/8417356.html" target="_blank" rel="noopener">å‚è€ƒ</a></p><p>è¿˜æœ‰ä¸€äº›å…¶ä»–çš„é€’æ¨å…¬å¼çš„æ¨å¯¼ï¼Œï¼Œï¼Œçœ‹<a href="https://blog.csdn.net/wust_zzwh/article/details/52058209" target="_blank" rel="noopener">è¿™é‡Œï¼Œï¼Œï¼Œ</a>ï¼Œï¼Œï¼Œ</p><p>ç„¶åæ˜¯ä¸€äº›<a href="https://blog.csdn.net/chenguolinblog/article/details/10309423" target="_blank" rel="noopener">ç»ƒä¹ é¢˜</a>ï¼Œï¼Œï¼Œ</p>]]></content>
      
      
        <tags>
            
            <tag> acm </tag>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>ç»§æ‰¿ä¸æ´¾ç”Ÿ</title>
      <link href="/2018/05/21/%E7%BB%A7%E6%89%BF%E4%B8%8E%E6%B4%BE%E7%94%9F/"/>
      <content type="html"><![CDATA[<h1 id="ç±»çš„ç»§æ‰¿ä¸æ´¾ç”Ÿ">ç±»çš„ç»§æ‰¿ä¸æ´¾ç”Ÿ:</h1><h2 id="ç®€ä»‹">ç®€ä»‹:</h2><ul><li>ç±»çš„ç»§æ‰¿æœºåˆ¶å…è®¸ç¨‹åºå‘˜åœ¨ä¿æŒåŸæœ‰ç±»ç‰¹æ€§çš„åŸºç¡€ä¸Šï¼Œè¿›è¡Œæ›´å…·ä½“ã€æ›´è¯¦ç»†çš„ç±»çš„å®šä¹‰;</li><li>æ´¾ç”Ÿæ–°ç±»çš„è¿‡ç¨‹ä¸€èˆ¬åŒ…æ‹¬: 1)<strong>å¸æ”¶å·²æœ‰ç±»çš„æˆå‘˜</strong> ã€ 2)<strong>è°ƒæ•´å·²æœ‰ç±»æˆå‘˜</strong> ã€ 3)<strong>æ·»åŠ æ–°çš„æˆå‘˜</strong>;</li><li><strong>åŸæœ‰çš„ç±»</strong> æˆä¸º <strong>åŸºç±»</strong> æˆ– <strong>çˆ¶ç±»</strong>ï¼Œ<strong>äº§ç”Ÿçš„æ–°ç±»</strong> ç§°ä¸º <strong>æ´¾ç”Ÿç±»</strong> æˆ– <strong>å­ç±»</strong>;</li></ul><a id="more"></a><h2 id="æ´¾ç”Ÿç±»çš„å®šä¹‰">æ´¾ç”Ÿç±»çš„å®šä¹‰:</h2><ul><li><p>æ´¾ç”Ÿç±»çš„ä¸€èˆ¬å®šä¹‰è¯­æ³•: <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> æ´¾ç”Ÿç±»å:</span>ç»§æ‰¿æ–¹å¼  åŸºç±»å<span class="number">1</span> , ç»§æ‰¿æ–¹å¼  åŸºç±»å<span class="number">2</span> , Â·Â·Â· , ç»§æ‰¿æ–¹å¼  åŸºç±»ån</span><br><span class="line">&#123;</span><br><span class="line">    æ´¾ç”Ÿç±»æˆå‘˜å£°æ˜;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p></li><li>ä¸€ä¸ªç±»ä»çˆ¶ç±»ç»§æ‰¿æ¥çš„ç‰¹å¾ä¹Ÿå¯ä»¥è¢«å…¶ä»–æ–°çš„ç±»æ‰€ç»§æ‰¿ï¼Œä¸€ä¸ªçˆ¶ç±»çš„ç‰¹å¾ï¼Œå¯ä»¥åŒæ—¶è¢«å¤šä¸ªå­ç±»ç»§æ‰¿ï¼Œè¿™æ ·å°±å½¢æˆç±»ä¸€ä¸ªç›¸äº’å…³è”çš„å®¶æ—ï¼Œæœ‰æ—¶ä¹Ÿç§°ä¸º <strong>ç±»æ—</strong>;</li><li>åœ¨ç±»æ—ä¸­ï¼Œç›´æ¥å‚ä¸æ´¾ç”Ÿå‡ºæŸç±»çš„åŸºç±»æˆä¸º <strong>ç›´æ¥åŸºç±»</strong>;</li><li>åŸºç±»çš„åŸºç±»ç”šè‡³æ›´é«˜å±‚çš„åŸºç±»ç§°ä¸º <strong>é—´æ¥åŸºç±»</strong>;</li><li><strong>ç»§æ‰¿æ–¹å¼</strong>: ç»§æ‰¿æ–¹å¼è§„å®šäº†å¦‚ä½•è®¿é—®ä»åŸºç±»ç»§æ‰¿çš„æˆå‘˜;</li><li>ç»§æ‰¿æ–¹å¼çš„å…³é”®å­—ä¸º: <em>public</em> , <em>protected</em> , <em>private</em>;</li><li>å¦‚æœä¸æ˜¾å¼åœ°ç»™å‡ºç»§æ‰¿æ–¹å¼å…³é”®å­—ï¼Œç³»ç»Ÿé»˜è®¤å€¼å°±è®¤ä¸ºæ˜¯ <strong>ç§æœ‰ç»§æ‰¿(private)</strong>;</li><li>ç±»çš„ç»§æ‰¿æ–¹å¼æŒ‡å®šäº†æ´¾ç”Ÿç±»æˆå‘˜ä»¥åŠç±»å¤–å¯¹è±¡å¯¹äºä»åŸºç±»ç»§æ‰¿æ¥çš„æˆå‘˜çš„è®¿é—®æƒé™;</li><li><p><strong>æ´¾ç”Ÿç±»æˆå‘˜</strong> æ˜¯æŒ‡é™¤äº†ä»åŸºç±»ç»§æ‰¿æ¥çš„æ‰€æœ‰æˆå‘˜ä¹‹å¤–ï¼Œæ–°å¢åŠ çš„ <strong>æ•°æ®</strong> å’Œ <strong>å‡½æ•°æˆå‘˜</strong>;</p></li></ul><h2 id="æ´¾ç”Ÿç±»ç”Ÿæˆè¿‡ç¨‹">æ´¾ç”Ÿç±»ç”Ÿæˆè¿‡ç¨‹:</h2><ul><li>ç»§æ‰¿ä¸æ´¾ç”Ÿçš„ä¸»è¦ç›®çš„æ˜¯ <strong>å®ç°ä»£ç çš„é‡ç”¨å’Œæ‰©å……</strong>;</li><li>æ´¾ç”Ÿæ–°ç±»çš„æ­¥éª¤ï¼š1)<strong>å¸æ”¶åŸºç±»æˆå‘˜</strong> ã€ 2)<strong>æ”¹é€ åŸºç±»æˆå‘˜</strong> ã€ 3)<strong>æ·»åŠ æ–°çš„æˆå‘˜</strong>;</li><li><ol type="1"><li><strong>å¸æ”¶åŸºç±»æˆå‘˜</strong>: ç±»ç»§æ‰¿ä¸­ï¼Œç¬¬ä¸€æ­¥æ˜¯ <strong>å°†åŸºç±»çš„æˆå‘˜å…¨ç›˜æ¥æ”¶</strong>ï¼Œé™¤äº†åŸºç±»ä¸­çš„ <strong>æ„é€ å’Œææ„å‡½æ•°</strong>;<br></li><li><strong>æ”¹é€ åŸºç±»æˆå‘˜</strong>: å¯¹åŸºç±»æˆå‘˜çš„æ”¹é€ åŒ…æ‹¬ä¸¤ä¸ªæ–¹é¢ï¼Œä¸€ä¸ªæ˜¯ <strong>åŸºç±»æˆå‘˜çš„è®¿é—®æ§åˆ¶é—®é¢˜</strong> ä¸»è¦ä¾é æ´¾ç”Ÿç±»å®šä¹‰æ—¶çš„ç»§æ‰¿æ–¹å¼æ¥æ§åˆ¶ï¼›å¦ä¸€ä¸ªæ˜¯å¯¹ <strong>åŸºç±»æ•°æ®æˆ–å‡½æ•°æˆå‘˜çš„è¦†ç›–æˆ–éšè—</strong>ï¼Œè¦†ç›–çš„æ¦‚å¿µåœ¨ <em>å¤šæ€æ€§</em> ä¸­ï¼Œéšè—å°±æ˜¯ç®€å•çš„åœ¨æ´¾ç”Ÿç±»ä¸­å£°æ˜ä¸€ä¸ªå’ŒåŸºç±»æ•°æ®æˆ–å‡½æ•°åŒåçš„æˆå‘˜;</li></ol><ul><li>å¦‚æœæ´¾ç”Ÿç±»å£°æ˜äº†ä¸€ä¸ªå’ŒåŸºç±»æˆå‘˜åŒåçš„æ–°æˆå‘˜ï¼ˆè‹¥æœæ˜¯ <strong>æˆå‘˜å‡½æ•°</strong>ï¼Œåˆ™å‚æ•°è¡¨ä¹Ÿè¦ç›¸åŒï¼Œ <strong>å‚æ•°ä¸åŒçš„æƒ…å†µå±äºé‡è½½</strong> ï¼‰ï¼Œæ´¾ç”Ÿçš„æ–°æˆå‘˜å°±éšè—äº†å¤–å±‚åŒåæˆå‘˜; <em>(æ‹¬å·é‡Œé‚£å¥è¯æœ‰æ¯’ï¼Œï¼Œï¼Œæ…¢æ…¢ç†è§£)</em>;</li><li>è¿™æ—¶åœ¨æ´¾ç”Ÿç±»ä¸­æˆ–è€…é€šè¿‡æ´¾ç”Ÿç±»çš„å¯¹è±¡ï¼Œç›´æ¥ä½¿ç”¨æˆå‘˜åå°±åªèƒ½è®¿é—®åˆ°æ´¾ç”Ÿç±»ä¸­å£°æ˜çš„åŒåæˆå‘˜ï¼Œï¼Œç§°ä¸º <strong>åŒåéšè—</strong>;</li></ul><ol start="3" type="1"><li><strong>æ·»åŠ æ–°çš„æˆå‘˜</strong>: å¯ä»¥åœ¨æ´¾ç”Ÿç±»ä¸­æ·»åŠ é€‚å½“çš„æ•°æ®å’Œå‡½æ•°æˆå‘˜ï¼ŒåŒæ—¶ï¼Œå› ä¸ºç»§æ‰¿ä¸­ä¸ä¼šç»§æ‰¿åŸºç±»çš„æ„é€ å’Œææ„å‡½æ•°ï¼Œæ‰€ä»¥æœ‰æ—¶è¦åœ¨æ´¾ç”Ÿç±»ä¸­æ·»åŠ æ–°çš„æ„é€ å’Œææ„å‡½æ•°;</li></ol></li></ul><h1 id="è®¿é—®æ§åˆ¶">è®¿é—®æ§åˆ¶:</h1><ul><li>ç±»çš„ç»§æ‰¿æ–¹å¼æœ‰ï¼š <strong>public(å…¬æœ‰ç»§æ‰¿)</strong> ã€ <strong>protected(ä¿æŠ¤ç»§æ‰¿)</strong> ã€ **private(ç§æœ‰ç»§æ‰¿);</li></ul><table><thead><tr class="header"><th style="text-align: center;">åŸºç±»çš„è®¿é—®ç‰¹æ€§</th><th style="text-align: center;">ç±»çš„ç»§æ‰¿ç‰¹æ€§</th><th style="text-align: center;">å­ç±»çš„è®¿é—®ç‰¹æ€§</th></tr></thead><tbody><tr class="odd"><td style="text-align: center;">public</td><td style="text-align: center;">public</td><td style="text-align: center;">public</td></tr><tr class="even"><td style="text-align: center;">protected</td><td style="text-align: center;">public</td><td style="text-align: center;">protected</td></tr><tr class="odd"><td style="text-align: center;">private</td><td style="text-align: center;">public</td><td style="text-align: center;">No access</td></tr><tr class="even"><td style="text-align: center;">--</td><td style="text-align: center;">--</td><td style="text-align: center;">--</td></tr><tr class="odd"><td style="text-align: center;">public</td><td style="text-align: center;">protected</td><td style="text-align: center;">protected</td></tr><tr class="even"><td style="text-align: center;">protected</td><td style="text-align: center;">protected</td><td style="text-align: center;">protected</td></tr><tr class="odd"><td style="text-align: center;">private</td><td style="text-align: center;">protected</td><td style="text-align: center;">No access</td></tr><tr class="even"><td style="text-align: center;">--</td><td style="text-align: center;">--</td><td style="text-align: center;">--</td></tr><tr class="odd"><td style="text-align: center;">public</td><td style="text-align: center;">private</td><td style="text-align: center;">private</td></tr><tr class="even"><td style="text-align: center;">protected</td><td style="text-align: center;">private</td><td style="text-align: center;">private</td></tr><tr class="odd"><td style="text-align: center;">private</td><td style="text-align: center;">private</td><td style="text-align: center;">No access</td></tr><tr class="even"><td style="text-align: center;">--</td><td style="text-align: center;">--</td><td style="text-align: center;">--</td></tr></tbody></table><ul><li>ç§æœ‰ç»§æ‰¿ å’Œ ä¿æŠ¤ç»§æ‰¿ åœ¨ç›´æ¥çš„æ´¾ç”Ÿç±»ä¸­ï¼Œæ‰€æœ‰çš„æˆå‘˜çš„è®¿é—®å±æ€§éƒ½æ˜¯å®Œå…¨ç›¸åŒçš„ï¼Œä½†æ˜¯å½“æ´¾ç”Ÿç±»ä½œä¸ºæ–°çš„åŸºç±»ç»§ç»­æ´¾ç”Ÿæ—¶ï¼Œå‰è€…çš„æˆå‘˜ä¸å†å¯ä»¥è¢«è®¿é—®ï¼Œè€Œåè€…å¯ä»¥;</li><li>ä¿æŠ¤æˆå‘˜å¯èƒ½è¢«ä»–çš„ æ´¾ç”Ÿç±» è®¿é—®ï¼Œä½†æ˜¯ç»ä¸å¯èƒ½è¢«å…¶ä»–å¤–éƒ¨ä½¿ç”¨è€…è®¿é—®ï¼š</li></ul><h1 id="ç±»å‹å…¼å®¹è§„åˆ™">ç±»å‹å…¼å®¹è§„åˆ™:</h1><ul><li><strong>ç±»å‹å…¼å®¹è§„åˆ™</strong> æ˜¯æŒ‡åœ¨éœ€è¦åŸºç±»å¯¹è±¡çš„ä»»ä½•åœ°æ–¹ï¼Œéƒ½å¯ä»¥ä½¿ç”¨ <strong>å…±æœ‰æ´¾ç”Ÿç±»</strong> çš„å¯¹è±¡æ¥æ›¿ä»£;</li><li>å…¬æœ‰æ´¾ç”Ÿç±»å®é™…å…·å¤‡äº†åŸºç±»çš„æ‰€æœ‰åŠŸèƒ½ï¼Œå‡¡æ˜¯åŸºç±»èƒ½è§£å†³çš„é—®é¢˜ï¼Œå…¬æœ‰æ´¾ç”Ÿç±»éƒ½å¯ä»¥è§£å†³;</li></ul><table><thead><tr class="header"><th style="text-align: left;">ç±»å‹å…¼å®¹è§„åˆ™ä¸­æ‰€æŒ‡çš„ æ›¿ä»£ åŒ…æ‹¬ä»¥ä¸‹çš„æƒ…å†µ:</th></tr></thead><tbody><tr class="odd"><td style="text-align: left;">1.æ´¾ç”Ÿç±»çš„å¯¹è±¡å¯ä»¥ <strong>éšå«çš„è½¬æ¢ä¸ºåŸºç±»å¯¹è±¡</strong></td></tr><tr class="even"><td style="text-align: left;">2.æ´¾ç”Ÿç±»çš„å¯¹è±¡å¯ä»¥ <strong>åˆå§‹åŒ–åŸºç±»çš„å¼•ç”¨</strong></td></tr><tr class="odd"><td style="text-align: left;">3.æ´¾ç”Ÿç±»çš„æŒ‡é’ˆå¯ä»¥ <strong>éšå«çš„è½¬æ¢ä¸ºåŸºç±»çš„å¼•ç”¨</strong></td></tr></tbody></table><ul><li>åœ¨æ›¿ä»£ä¹‹åï¼Œæ´¾ç”Ÿç±»å¯¹è±¡å°±å¯ä»¥ä½œä¸ºåŸºç±»çš„å¯¹è±¡ä½¿ç”¨ï¼Œä½†åªèƒ½ä½¿ç”¨ä»åŸºç±»ç»§æ‰¿çš„æˆå‘˜;</li><li>ç”±äºç±»å‹å…¼å®¹è§„åˆ™çš„å¼•å…¥ï¼Œå¯¹äºåŸºç±»åŠå…¶å…¬æœ‰æ´¾ç”Ÿç±»çš„å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨ç›¸åŒçš„å‡½æ•°ç»Ÿä¸€è¿›è¡Œå¤„ç†;</li><li>å› ä¸ºçš„å½“å‡½æ•°çš„å½¢å‚ä¸ºåŸºç±»çš„å¯¹è±¡ï¼ˆæˆ–å¼•ç”¨ã€æŒ‡é’ˆï¼‰æ—¶ï¼Œå®å‚å¯ä»¥æ˜¯æ´¾ç”Ÿäº†çš„å¯¹è±¡ï¼ˆæˆ–æŒ‡é’ˆï¼‰ï¼Œè€Œæ²¡å¿…è¦ä¸ºæ¯ä¸€ä¸ªç±»è®¾è®¡å•ç‹¬çš„æ¨¡å—;</li><li>ç±»å‹å…¼å®¹è§„åˆ™æ˜¯ å¤šæ€æ€§ çš„é‡è¦åŸºç¡€ä¹‹ä¸€;</li></ul><h1 id="æ´¾ç”Ÿç±»çš„æ„é€ å’Œææ„å‡½æ•°">æ´¾ç”Ÿç±»çš„æ„é€ å’Œææ„å‡½æ•°:</h1><ul><li>æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°åªè´Ÿè´£å¯¹æ´¾ç”Ÿç±»æ–°å¢çš„æˆå‘˜è¿›è¡Œåˆå§‹åŒ–ï¼Œå¯¹æ‰€æœ‰ä»åŸºç±»ç»§æ‰¿ä¸‹æ¥çš„æˆå‘˜ï¼Œå…¶åˆå§‹åŒ–å·¥ä½œè¿˜æ˜¯ç”±åŸºç±»çš„æ„é€ å‡½æ•°å®Œæˆ;</li></ul><h2 id="æ„é€ å‡½æ•°">æ„é€ å‡½æ•°:</h2><ul><li>æ´¾ç”Ÿç±»çš„æˆå‘˜å¯¹è±¡ç”± <strong>æ‰€æœ‰åŸºç±»çš„æˆå‘˜å¯¹è±¡</strong> ä¸ <strong>æ´¾ç”Ÿç±»æ–°å¢çš„æˆå‘˜å¯¹è±¡</strong> å…±åŒç»„æˆ,æ‰€ä»¥ æ„é€ æ´¾ç”Ÿç±»çš„å¯¹è±¡æ—¶ï¼Œå°±è¦å¯¹ åŸºç±»çš„æˆå‘˜å¯¹è±¡ å’Œ æ–°å¢æˆå‘˜å¯¹è±¡ è¿›è¡Œåˆå§‹åŒ–;</li><li>å¯¹åŸºç±»æˆå‘˜å¯¹è±¡çš„åˆå§‹åŒ–å·¥ä½œè¦é€šè¿‡ è°ƒç”¨åŸºç±»çš„æ„é€ å‡½æ•° å®Œæˆ;</li><li>æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°éœ€è¦å·²åˆé€‚çš„åˆå€¼ä½œä¸ºå‚æ•°ï¼Œå…¶ä¸­ä¸€äº›å‚æ•° è¦ä¼ é€’ç»™åŸºç±»çš„æ„é€ å‡½æ•°ï¼Œç”¨äºåˆå§‹åŒ–ç›¸åº”çš„æˆå‘˜ï¼Œ å¦ä¸€äº›å‚æ•° ç”¨äºå¯¹æ´¾ç”Ÿç±»æ–°å¢çš„æˆå‘˜å¯¹è±¡è¿›è¡Œåˆå§‹åŒ–;</li><li><p>æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°çš„ä¸€èˆ¬è¯­æ³•å½¢å¼ä¸º: <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">æ´¾ç”Ÿç±»å::æ´¾ç”Ÿç±»å(å‚æ•°è¡¨):åŸºç±»å<span class="number">1</span>(åŸºç±»<span class="number">1</span>åˆå§‹åŒ–å‚æ•°è¡¨) ,Â·Â·Â·Â·Â·Â·, åŸºç±»ån(åŸºç±»nåˆå§‹åŒ–å‚æ•°è¡¨) , æˆå‘˜å¯¹è±¡å<span class="number">1</span>(æˆå‘˜å¯¹è±¡<span class="number">1</span>åˆå§‹åŒ–å‚æ•°è¡¨) ,Â·Â·Â·Â·Â·Â·, æˆå‘˜å¯¹è±¡åm(æˆå‘˜å¯¹è±¡måˆå§‹åŒ–å‚æ•°è¡¨)</span><br><span class="line">&#123;</span><br><span class="line">    æ´¾ç”Ÿç±»æ„é€ å‡½æ•°çš„å…¶ä»–åˆå§‹åŒ–æ“ä½œ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></li><li>å½“ä¸€ä¸ªç±»åŒæ—¶ç”±å¤šä¸ªåŸºç±»æ—¶ï¼Œå¯¹äºæ‰€æœ‰éœ€è¦ç»™äºˆå‚æ•°è¿›è¡Œåˆå§‹åŒ–çš„åŸºç±»ï¼Œéƒ½è¦æ˜¾å¼ç»™å‡ºåŸºç±»åå’Œå‚æ•°è¡¨ï¼Œå¯¹äºä½¿ç”¨é»˜è®¤æ„é€ å‡½æ•°çš„åŸºç±»ï¼Œå¯ä»¥ä¸ç»™å‡ºç±»å;</li><li><p>å¯¹äºåŸºç±»åˆå§‹åŒ–æ—¶ï¼Œéœ€è¦è°ƒç”¨åŸºç±»çš„å¸¦æœ‰å½¢å‚è¡¨çš„æ„é€ å‡½æ•°æ—¶ï¼Œæ´¾ç”Ÿç±»å°±å¿…é¡»å£°æ˜æ„é€ å‡½æ•°;</p></li></ul><table><thead><tr class="header"><th style="text-align: left;">æ´¾ç”Ÿç±»æ„é€ å‡½æ•°æ‰§è¡Œçš„ä¸€èˆ¬æ¬¡åº</th></tr></thead><tbody><tr class="odd"><td style="text-align: left;">1.è°ƒç”¨ <strong>åŸºç±»æ„é€ å‡½æ•°</strong> ï¼Œè°ƒç”¨é¡ºåºæŒ‰ç…§ä»–ä»¬ è¢«ç»§æ‰¿æ—¶ <strong>å£°æ˜</strong> çš„é¡ºåº(ä»å·¦å‘å³)</td></tr><tr class="even"><td style="text-align: left;">2.å¯¹æ´¾ç”Ÿç±»æ–°å¢çš„æˆå‘˜å¯¹è±¡åˆå§‹åŒ–ï¼Œè°ƒç”¨é¡ºåºæŒ‰ç…§ä»–ä»¬åœ¨ <strong>ç±»ä¸­å£°æ˜çš„é¡ºåº</strong></td></tr><tr class="odd"><td style="text-align: left;">3.æ‰§è¡Œæ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°ä½“ä¸­çš„å†…å®¹</td></tr></tbody></table><h2 id="å¤åˆ¶æ„é€ å‡½æ•°">å¤åˆ¶æ„é€ å‡½æ•°:</h2><ul><li><p>æ´¾ç”Ÿç±»çš„å¤åˆ¶æ„é€ å‡½æ•°çš„å½¢å¼: <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å‡è®¾Derivedç±»æ˜¯Baseç±»çš„æ´¾ç”Ÿç±»ï¼Œ</span></span><br><span class="line">Derived::Derived(<span class="keyword">const</span> Derived &amp;v) : Base(v)&#123;Â·Â·Â·&#125;</span><br></pre></td></tr></table></figure></p></li><li><p>è¿™é‡Œä½¿ç”¨äº†ç±»çš„å…¼å®¹è§„åˆ™ï¼Œå³ç”¨ <strong>æ´¾ç”Ÿç±»çš„å¯¹è±¡</strong> å» <strong>åˆå§‹åŒ–åŸºç±»çš„å¼•ç”¨</strong>ï¼Œå› æ­¤å½“å‡½æ•°çš„å½¢å‚æ˜¯åŸºç±»çš„å¼•ç”¨æ—¶ï¼Œå®å‚å¯ä»¥æ˜¯æ´¾ç”Ÿç±»çš„å¯¹è±¡;</p></li></ul><h2 id="ææ„å‡½æ•°">ææ„å‡½æ•°:</h2><ul><li>æ´¾ç”Ÿç±»çš„ææ„å‡½æ•°çš„å£°æ˜æ–¹æ³•ä¸æ²¡æœ‰ç»§æ‰¿å…³ç³»çš„ç±»ä¸­ææ„å‡½æ•°çš„å£°æ˜æ–¹æ³•ç›¸åŒï¼Œ <strong>åªéœ€åœ¨å‡½æ•°ä½“ä¸­è´Ÿè´£æŠŠæ´¾ç”Ÿç±»æ–°å¢çš„éå¯¹è±¡æˆå‘˜çš„æ¸…ç†å·¥ä½œåšå¥½å°±è¡Œ</strong> ï¼Œç³»ç»Ÿä¼šè‡ªå·±è°ƒç”¨åŸºç±»åŠå¯¹è±¡æˆå‘˜çš„ææ„å‡½æ•°æ¥å¯¹åŸºç±»åŠå¯¹è±¡æˆå‘˜è¿›è¡Œæ¸…ç†;</li><li>ææ„å‡½æ•°çš„æ‰§è¡Œæ¬¡åºä¸æ„é€ å‡½æ•°å®Œå…¨ç›¸åï¼Œ1.é¦–å…ˆ æ‰§è¡Œææ„å‡½æ•°çš„å‡½æ•°ä½“ï¼Œ2.ç„¶å å¯¹æ´¾ç”Ÿç±»æ–°å¢çš„ç±»ç±»å‹çš„æˆå‘˜çš„å¯¹è±¡è¿›è¡Œæ¸…ç†ï¼Œ3.æœ€å å¯¹æ‰€æœ‰åŸºç±»ç»§æ‰¿æ¥çš„æˆå‘˜è¿›è¡Œæ¸…ç†;</li><li>è¿™äº›æ¸…ç†å·¥ä½œåˆ†åˆ«è°ƒç”¨ æ´¾ç”Ÿç±»ææ„å‡½æ•°ä½“ ã€ è°ƒç”¨ç±»ç±»å‹çš„æ´¾ç”Ÿç±»å¯¹è±¡æˆå‘˜æ‰€åœ¨ç±»çš„ææ„å‡½æ•° å’Œ è°ƒç”¨åŸºç±»ææ„å‡½æ•°;</li></ul><h1 id="æ´¾ç”Ÿç±»æˆå‘˜çš„æ ‡è¯†å’Œè®¿é—®">æ´¾ç”Ÿç±»æˆå‘˜çš„æ ‡è¯†å’Œè®¿é—®:</h1><ul><li>åœ¨æ´¾ç”Ÿç±»ä¸­ï¼Œæˆå‘˜å¯ä»¥æŒ‰ <strong>è®¿é—®å±æ€§</strong> åˆ’ä¸ºä»¥ä¸‹å››ç§:</li></ul><table><colgroup><col style="width: 15%"><col style="width: 84%"></colgroup><thead><tr class="header"><th style="text-align: center;">åç§°</th><th style="text-align: center;">ç‰¹ç‚¹</th></tr></thead><tbody><tr class="odd"><td style="text-align: center;">ä¸å¯è®¿é—®æˆå‘˜</td><td style="text-align: center;">ä»åŸºç±»ç§æœ‰æˆå‘˜ç»§æ‰¿ï¼Œæ´¾ç”Ÿç±»æˆ–å»ºç«‹æ´¾ç”Ÿåˆ—å¯¹è±¡çš„æ¨¡å—éƒ½æ— æ³•è®¿é—®ä»–ä»¬ å¦‚æœç»§ç»­æ´¾ç”Ÿæ–°ç±»ï¼Œä»æ— æ³•è®¿é—®</td></tr><tr class="even"><td style="text-align: center;">ç§æœ‰æˆå‘˜</td><td style="text-align: center;">åŒ…æ‹¬ä»åŸºç±»ç»§æ‰¿æ¥çš„æˆå‘˜ä»¥åŠæ–°å¢åŠ çš„æˆå‘˜ï¼Œæ´¾ç”Ÿç±»å†…éƒ¨å¯è®¿é—®ï¼Œä½†åœ¨å»ºç«‹æ´¾ç”Ÿç±»å¯¹è±¡çš„æ¨¡å—ä¸­æ— æ³•è®¿é—®ï¼Œç»§ç»­æ´¾ç”Ÿï¼Œå°±å˜æˆç±»æ–°çš„æ´¾ç”Ÿç±»ä¸­çš„ä¸å¯è®¿é—®æˆå‘˜</td></tr><tr class="odd"><td style="text-align: center;">ä¿æŠ¤æˆå‘˜</td><td style="text-align: center;">å¯èƒ½æ˜¯æ–°å¢äº¦æˆ–ä»åŸºç±»ç»§æ‰¿è¿‡æ¥çš„ï¼Œæ´¾ç”Ÿç±»å†…éƒ¨æˆå‘˜å¯ä»¥è®¿é—®ï¼Œå»ºç«‹æ´¾ç”Ÿç±»å¯¹è±¡çš„æ¨¡æ¿æ— æ³•è®¿é—®ï¼Œè¿›ä¸€æ­¥æ´¾ç”Ÿåï¼Œåœ¨æ–°çš„æ´¾ç”Ÿç±»ä¸­å¯èƒ½æˆä¸º ç§æœ‰æˆå‘˜ æˆ–è€…æ˜¯ ä¿æŠ¤æ€§æˆå‘˜</td></tr><tr class="even"><td style="text-align: center;">å…¬æœ‰æˆå‘˜</td><td style="text-align: center;">æ´¾ç”Ÿç±»ã€å»ºç«‹æ´¾ç”Ÿç±»çš„æ¨¡å—éƒ½å¯ä»¥è®¿é—®ï¼Œç»§ç»­æ´¾ç”Ÿï¼Œå¯ä»¥æ˜¯æ–°æ´¾ç”Ÿç±»ä¸­çš„ç§æœ‰ã€ä¿æŠ¤æˆ–è€…å…¬æœ‰æˆå‘˜</td></tr></tbody></table><ul><li>åœ¨å¯¹æ´¾ç”Ÿç±»çš„è®¿é—®ä¸­ã€‚æœ‰ä¸¤ä¸ªé—®é¢˜éœ€è¦è§£å†³: <em>å”¯ä¸€æ ‡è¯†é—®é¢˜</em> å’Œ <em>æˆå‘˜æœ¬èº«çš„å±æ€§é—®é¢˜(å¯è§æ€§é—®é¢˜)</em>;</li><li>äºŒä¹‰æ€§: é€šè¿‡æŸä¸€ä¸ªè¡¨è¾¾å¼èƒ½å¼•ç”¨çš„æˆå‘˜ä¸åªä¸€ä¸ª;</li></ul><h2 id="ä½œç”¨åŸŸåˆ†è¾¨ç¬¦">ä½œç”¨åŸŸåˆ†è¾¨ç¬¦:</h2><ul><li>ä½œç”¨åŸŸåˆ†è¾¨ç¬¦æ˜¯æŒ‡: ' :: ' , å¯ä»¥ç”¨æ¥é™å®šè¦è®¿é—®çš„æˆå‘˜æ‰€åœ¨çš„ç±»çš„åç§°;</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ç±»å::æˆå‘˜å            <span class="comment">//æ•°æ®æˆå‘˜</span></span><br><span class="line">ç±»å::æˆå‘˜å(å‚æ•°è¡¨)    <span class="comment">//å‡½æ•°æˆå‘˜</span></span><br></pre></td></tr></table></figure><ul><li>å¯è§æ€§åŸåˆ™: å¦‚æœå­˜åœ¨ä¸¤ä¸ªæˆ–å¤šä¸ªå…·æœ‰åŒ…å«å…³ç³»çš„ä½œç”¨åŸŸï¼Œå¤–å±‚å£°æ˜äº†ä¸€ä¸ªæ ‡è¯†ç¬¦ï¼Œè€Œå†…å±‚æ²¡æœ‰å†æ¬¡å£°æ˜åŒåæ ‡è¯†ç¬¦ï¼Œé‚£ä¹ˆå¤–å±‚æ ‡è¯†ç¬¦åœ¨å†…å±‚ä»ç„¶å¯è§;</li><li>éšè—è§„åˆ™: å¦‚æœåœ¨å†…å±‚å£°æ˜äº†åŒåæ ‡è¯†ç¬¦ï¼Œåˆ™å¤–å±‚æ ‡è¯†ç¬¦åœ¨å†…å±‚ä¸å¯è§ï¼Œè¿™æ—¶ç§°å†…å±‚æ ‡è¯†ç¬¦éšè—ç±»å¤–å±‚åŒåæ ‡è¯†ç¬¦;</li><li>åœ¨ç±»çš„æ´¾ç”Ÿå±‚æ¬¡ç»“æ„ä¸­ï¼ŒåŸºç±»å’Œæ´¾ç”Ÿç±»æ–°å¢çš„æˆå‘˜éƒ½å…·æœ‰ç±»ä½œç”¨åŸŸï¼ŒäºŒè€…çš„ä½œç”¨èŒƒå›´ä¸åŒï¼Œæ˜¯äº’ç›¸åŒ…å«çš„ä¸¤ä¸ªå±‚ï¼Œ <strong>æ´¾ç”Ÿç±»åœ¨å†…å±‚</strong> ï¼›è¿™æ—¶å¦‚æœæ´¾ç”Ÿç±»å£°æ˜ç±»ä¸€ä¸ªå’ŒæŸä¸ªåŸºç±»æˆå‘˜åŒåçš„æ–°æˆå‘˜ï¼Œ <strong>æ´¾ç”Ÿç±»çš„æ–°æˆå‘˜å°±éšè—äº†å¤–å±‚åŒåæˆå‘˜</strong> ï¼Œ <strong>ç›´æ¥ä½¿ç”¨æˆå‘˜ååªèƒ½è®¿é—®åˆ°æ´¾ç”Ÿç±»çš„æˆå‘˜</strong>;</li><li>å¦‚æœæ´¾ç”Ÿç±»ä¸­å£°æ˜ç±»ä¸åŸºç±»æˆå‘˜åŒåçš„æ–°å‡½æ•°ï¼Œå³ä½¿å‡½æ•°çš„å‚æ•°è¡¨ä¸åŒï¼Œä»åŸºç±»ç»§æ‰¿çš„åŒåå‡½æ•°çš„æ‰€æœ‰é‡è½½å½¢å¼ä¹Ÿéƒ½ä¼šè¢«éšè—ï¼Œå¦‚æœè¦è®¿é—®è¢«éšè—çš„æˆå‘˜ï¼Œå°±éœ€è¦ä½¿ç”¨ <strong>ä½œç”¨åŸŸåˆ†è¾¨ç¬¦</strong> å’Œ <strong>åŸºç±»</strong> å‘½æ¥é™å®š;</li><li>å¯¹äºå¤šç»§æ‰¿æƒ…å†µï¼Œï¼Œå½“æ‰€æœ‰åŸºç±»éƒ½æ²¡æœ‰ä¸Šçº§åŸºç±»æ—¶ï¼Œï¼Œå¦‚æœå¤šä¸ªåŸºç±»æ‹¥æœ‰åŒåæˆå‘˜ï¼Œæ´¾ç”Ÿç±»ä¹Ÿæ–°å¢è¿™æ ·çš„åŒåæˆå‘˜ï¼Œæ´¾ç”Ÿç±»æˆå‘˜å°†éšè—æ‰€æœ‰åŸºç±»çš„åŒåæˆå‘˜ï¼Œï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨ &quot;å¯¹è±¡å.æˆå‘˜å&quot; æˆ– &quot;å¯¹è±¡æŒ‡é’ˆ-&gt;æˆå‘˜å&quot; çš„æ–¹å¼æ¥è®¿é—®æ–°å¢æˆå‘˜ï¼Œï¼ŒåŸºç±»çš„è€ŒåŒåæˆå‘˜å¯ä»¥ä½¿ç”¨ <strong>åŸºç±»å</strong> å’Œ <strong>ä½œç”¨åŸŸåˆ†è¾¨ç¬¦</strong> è®¿é—®;ä½†å¦‚æœæ´¾ç”Ÿç±»ä¸­æ²¡æœ‰åŒåæˆæˆå‘˜ï¼Œä¸Šè¿°æ–¹æ³•å°±æ— æ³•å”¯ä¸€æ ‡è¯†æˆå‘˜ï¼Œå¿…é¡»é€šè¿‡åŸºç±»åå’Œä½œç”¨åŸŸåˆ†è¾¨ç¬¦æ¥æ ‡è¯†æˆå‘˜;</li><li>å¦‚æœå­ç±»ä¸­å®šä¹‰çš„å‡½æ•°ä¸çˆ¶ç±»çš„å‡½æ•°åŒåä½†å…·æœ‰ä¸åŒçš„ <strong>å‚æ•°æ•°é‡æˆ–å‚æ•°ç±»å‹(å½¢å‚è¡¨ä¸åŒ)</strong> ï¼Œ ä¸å±äº <strong>å‡½æ•°é‡è½½</strong>ã€‚è¿™æ—¶å­ç±»ä¸­çš„å‡½æ•°å°†ä½¿çˆ¶ç±»ä¸­çš„å‡½æ•°éšè—ï¼Œè°ƒç”¨çˆ¶ç±»ä¸­çš„å‡½æ•°å¿…é¡»ä½¿ç”¨çˆ¶ç±»åç§°æ¥é™å®šï¼Œ <strong>åªç”¨åœ¨ç›¸åŒçš„ä½œç”¨åŸŸä¸­å®šä¹‰çš„å‡½æ•°æ‰å¯ä»¥é‡è½½</strong> ;</li><li><strong>using å…³é”®å­—</strong>: usingçš„ä¸€èˆ¬åŠŸèƒ½æ˜¯å°†ä¸€ä¸ªä½œç”¨åŸŸä¸­çš„åå­—å¼•å…¥åˆ°å¦ä¸€ä¸ªä½œç”¨åŸŸä¸­ï¼Œå®ƒè¿˜æœ‰ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„ç”¨æ³•: å°†usingç”¨åŸŸåŸºç±»ä¸­çš„å‡½æ•°åï¼Œè¿™æ ·æ´¾ç”Ÿç±»ä¸­å¦‚æœå®šä¹‰åŒåä½†å‚æ•°ä¸åŒçš„å‡½æ•°ï¼ŒåŸºç±»çš„å‡½æ•°å°±ä¸ä¼šè¢«éšè—ï¼Œä¸¤ä¸ªé‡è½½çš„å‡½æ•°å°†ä¼šå¹¶å­˜åœ¨æ´¾ç”Ÿç±»çš„ä½œç”¨åŸŸä¸­;ä¾‹å¦‚:</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Derived2</span>:</span> <span class="keyword">public</span> Base1</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">using</span> Base1::fun;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">fun</span><span class="params">(<span class="keyword">int</span> i)</span></span>&#123;,,,&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>è¿™æ—¶ï¼Œä½¿ç”¨Derived2çš„å¯¹è±¡ï¼Œæ—¢å¯ä»¥ç›´æ¥è°ƒç”¨æ— å‚æ•°çš„funå‡½æ•°ï¼Œåˆå¯ä»¥ç›´æ¥è°ƒç”¨å¸¦intå‹å‚æ•°çš„funå‚æ•°; + å¦‚æœæŸä¸ªæ´¾ç”Ÿç±»çš„éƒ¨åˆ†æˆ–å…¨éƒ¨ç›´æ¥åŸºç±»æ—¶ä»å¦ä¸€ä¸ªå…±åŒçš„åŸºç±»æ´¾ç”Ÿè€Œæ¥ï¼Œåœ¨è¿™äº›ç›´æ¥åŸºç±»ä¸­ï¼Œä»ä¸Šä¸€çº§åŸºç±»ç»§æ‰¿æ¥çš„æˆå‘˜å°±æ‹¥æœ‰ç›¸åŒçš„åç§°ï¼Œå› æ­¤æ´¾ç”Ÿç±»ä¸­ä¹Ÿå°±ä¼šäº§ç”ŸåŒåçš„ç°è±¡ï¼Œå¯¹è¿™ç§ç±»å‹çš„åŒåæˆå‘˜ä¹Ÿè¦ä½¿ç”¨ä½œç”¨åŸŸåˆ†è¾¨ç¬¦æ¥å”¯ä¸€æ ‡è¯†ï¼Œè€Œä¸”å¿…é¡»ç”¨ç›´æ¥åŸºç±»æ¥è¿›è¡Œé™å®š; +</p>]]></content>
      
      
        <tags>
            
            <tag> c++ </tag>
            
            <tag> ç±» </tag>
            
            <tag> é¢å‘å¯¹è±¡ </tag>
            
            <tag> ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>æ·±æœå’Œå¹¿æœ1</title>
      <link href="/2018/05/19/%E6%B7%B1%E6%90%9C%E5%92%8C%E5%B9%BF%E6%90%9C1/"/>
      <content type="html"><![CDATA[<p>2018.5.19</p><p>è¿™ä¸€ç¯‡ä¸»è¦æ˜¯å…³äºæ·±æœå’Œå¹¿æœå®ç°çš„ä¸€äº›æ€»ç»“ï¼Œå› ä¸ºä¸€äº›æ¨¡æ¿å’Œæ•°æ®ç»“æ„è¿˜æœªå­¦ä¹ ï¼Œï¼Œæ‰€ä»¥è¿™ä¸€ç¯‡æ·±æœå¹¿æœéƒ½æ˜¯ä½¿ç”¨åŸºæœ¬çš„æ–¹æ³•ï¼Œï¼Œè™½ç„¶ä¾¿äºç†è§£ï¼Œï¼Œä½†æ˜¯å¦‚è¦è§£å†³é—®é¢˜acmä¹‹ç±»è¿˜æ˜¯ä½¿ç”¨å¸¦æœ‰æ¨¡æ¿çš„æ›´é«˜æ•ˆçš„æ–¹æ³•ã€‚ã€‚ã€‚ã€‚</p><p>æœç´¢æ˜¯ä¸€ç§æ±‚è§£çš„æ–¹æ³•ï¼Œé€šå¸¸æ¥è¯´å°±æ˜¯å°†æ‰€æœ‰æƒ…å†µæ¢ç´¢ä¸€éï¼Œæ‰¾å‡ºå…¶ä¸­ç¬¦åˆè¦æ±‚çš„æƒ…å†µä½œä¸ºæœ€åçš„è§£ã€‚æŒ‰ç…§ <strong>ç”Ÿæˆè§£çš„é¡ºåº</strong> æœ‰ä¸¤ç§åŸºæœ¬çš„æ±‚è§£é¡ºåºï¼š<strong>æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDepth-first Searchï¼‰</strong> å’Œ <strong>å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBreadth-first searchï¼‰</strong>ã€‚^--&gt; <a id="more"></a></p><h1 id="æ·±æœ">æ·±æœ:</h1><h2 id="æ€æƒ³">æ€æƒ³:</h2><ul><li>æ·±æœä¸»è¦ä¾é é€’å½’å®ç°ï¼Œé€šå¸¸çš„æ–¹æ³•å°±æ˜¯æŠŠæ¯ä¸€ç§å¯èƒ½éƒ½å°è¯•ä¸€é,æ¯”å¦‚ç±»ä¼¼è¿·å®«é‡Œçš„å¤šä¸ªæ–¹å‘æŒ‰æŸä¸€é¡ºåºè¿›è¡Œå°è¯•ï¼Œå¯ä»¥ä½¿ç”¨forå¾ªç¯éå†ï¼Œbfs()å‡½æ•°æ˜¯ä¸ºäº†è§£å†³å½“å‰è¿™ä¸€æ­¥ï¼Œï¼Œè€Œä¸‹ä¸€æ­¥æ€ä¹ˆåšå°±äº¤ç»™bfs(step+1)å°±å¯ä»¥äº†ï¼Œä¸‹ä¸€æ­¥çš„è§£å†³æ–¹æ³•å’Œå½“å‰è¿™ä¸€æ­¥çš„è§£å†³æ–¹æ³•æ˜¯å®Œå…¨ä¸€æ ·çš„;</li><li>bfs()é€‚ç”¨äºéœ€è¦æ±‚è§£å‡ºæ‰€æœ‰å¯èƒ½è§£çš„é—®é¢˜ï¼Œåœ¨åˆ°è¾¾é—®é¢˜ç•Œé™ä¹‹å‰ä¼šä¸€ç›´é€’å½’ä¸‹å»,æ‰€ä»¥è¦åœ¨bfs()é‡Œå¢åŠ æ¡ä»¶åˆ¤æ–­;^--&gt;</li><li>ä¸€èˆ¬ä½¿ç”¨æœç´¢çš„é—®é¢˜éƒ½éœ€è¦ä¸¤ä¸ªæ•°ç»„ï¼Œä¸€ä¸ªæ˜¯é—®é¢˜æ‰€ç»™çš„åœ°å›¾map[][]ï¼Œä¸€ä¸ªåˆ™æ˜¯æ ‡è®°ç”¨çš„flag[][];</li></ul><h2 id="åŸºæœ¬å®ç°æ¨¡æ¿">åŸºæœ¬å®ç°æ¨¡æ¿:</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">dfs(æ¯ä¸€æ¬¡å°è¯•çš„å‚æ•°è¡¨ , step)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//åˆ¤æ–­å½“å‰å°è¯•æ˜¯å¦è¶…å‡ºé—®é¢˜çš„ç•Œé™</span></span><br><span class="line">    <span class="keyword">if</span> (...)    <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å°è¯•å½“å‰çŠ¶æ€ä¸‹çš„æ¯ä¸€ç§å¯èƒ½æ€§ï¼Œï¼Œï¼Œä½¿ç”¨é€’å½’æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">for</span> (i i&lt;n i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//åˆ¤æ–­å½“å‰å°è¯•æ˜¯å¦å·²ç»è¢«æœç´¢è¿‡ï¼Œï¼Œï¼Œ(æ­¤åˆ¤æ–­ä¸ä¸€å®šåœ¨forå¾ªç¯é‡Œ)</span></span><br><span class="line">        <span class="keyword">if</span>(iè¿˜æœªè¢«æœç´¢è¿‡) </span><br><span class="line">        &#123;</span><br><span class="line">            æ ‡è®°ä¸€ä¸‹...flag[][]</span><br><span class="line">            <span class="comment">//æ²¡æœ‰æœç´¢è¿‡å°±å°è¯•ä¸‹ä¸€æ­¥</span></span><br><span class="line">            dfs(step+<span class="number">1</span>);</span><br><span class="line">            <span class="comment">//è¿˜åŸæ ‡è®°(å°†flag[][]ç½®ä¸ºå°è¯•å‰çš„å€¼ï¼Œï¼Œï¼Œ(ä¸å¹¿æœçš„ä¸åŒå¤„ï¼Œï¼Œï¼Œï¼Œ))</span></span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“">æ€»ç»“:</h2><ul><li>ä¾é äºé€’å½’çš„æ·±æœå¤§ä½“ç»“æ„æ˜¯ä¸ä¼šå˜åŒ–çš„ã€‚éœ€è¦æ³¨æ„çš„ç‚¹æœ‰ï¼š</li><li>å‚æ•°è®°å½•çš„çŠ¶æ€(é€’å½’æ—¶è¦æ›´æ–°å‚æ•°è¡¨ï¼Œï¼Œä¹Ÿå°±æ˜¯è¦æ›´æ–°å°è¯•çš„å‚æ•°)ã€</li><li>è¿‡æ»¤æ‰ä¸å¯èƒ½çš„çŠ¶æ€(ä¾‹å¦‚é—®é¢˜çš„ç•Œé™ã€å·²ç»è¢«æœç´¢è¿‡çš„åœ°æ–¹)ã€</li><li>çŠ¶æ€çš„ä¿å­˜å’Œè¿˜åŸ(åœ¨ä¸€æ¬¡å°è¯•å‰è¦æ ‡è®°flagï¼Œä»£è¡¨è¿™ä¸€æ­¥èµ°è¿‡äº†ï¼Œï¼Œåœ¨å°è¯•åè¦è¿˜åŸflagä¿å­˜çš„å€¼ï¼Œä»£è¡¨è¿™æ¬¡çš„å°è¯•å…¨éƒ¨å®Œæˆ)ã€‚^--&gt;</li></ul><h1 id="å¹¿æœ">å¹¿æœ:</h1><h2 id="æ€æƒ³-1">æ€æƒ³:</h2><ul><li>å¹¿æœä¸æ·±æœä¸åŒçš„åœ°æ–¹åœ¨äºï¼Œåè€…ä¸»è¦è¿ç”¨äº†é€’å½’çš„æ€æƒ³æ¥éå†æ¯ä¸€ç§å¯èƒ½æ€§ï¼Œï¼Œè€Œå‰è€…åˆ™æ˜¯å±‚å±‚é€’è¿›çš„æ€æƒ³å³å±‚çº§éå†æ¯ä¸€ç§å¯èƒ½æ€§;</li><li>å¹¿æœä½¿ç”¨åˆ°äº†<a href="http://www.31415.cf/2018/03/29/%E9%98%9F%E5%88%97%E3%80%81%E9%93%BE%E8%A1%A8/">é˜Ÿåˆ—</a>,ç”¨é˜Ÿåˆ—å°†æ¯ä¸€ç§å¯èƒ½æ€§ä¿å­˜ä¸‹æ¥,ä¼˜å…ˆé€‰æ‹©çœ‹ä¼¼æœ€ä¼˜çš„çŠ¶æ€è¿›è¡Œæ‹“å±•ï¼Œä»¥è¾¾åˆ°æœ€å…ˆæ‰©å±•åˆ°ç›®æ ‡ä½ç½®çš„ç›®çš„;</li><li>ä¸æ·±æœä¸€æ ·ï¼Œå¹¿æœä¹Ÿå¯èƒ½éœ€è¦ä¸¤ä¸ªæ•°ç»„ï¼Œä¸€ä¸ªä¿å­˜åœ°å›¾ä¿¡æ¯ï¼Œä¸€ä¸ªä¿å­˜æ ‡è®°ä¿¡æ¯(è¿·å®«é—®é¢˜);æ­¤å¤–å¤§å¤šæ•°æƒ…å†µä¸‹éœ€è¦ä¸€ä¸ªç»“æ„ä½“æ•°ç»„ä½œä¸ºé˜Ÿåˆ—æ¥ä¿å­˜çŠ¶æ€(å°±ç›®å‰æˆ‘æ‰€å­¦çš„æ–¹æ³•æ¥è¯´ï¼Œï¼Œï¼ŒÎ£( Â° â–³ Â°|||)ï¸´)ï¼Œï¼Œï¼Œ(å½“ç„¶åº”è¯¥ä½¿ç”¨#include &lt; queue &gt;æ¥çš„æ›´å¿«ä¸€äº›ï¼Œï¼Œï¼Œå“ªå¤©å†å­¦ä¹ ä¸€ä¸‹ï¼Œï¼Œï¼ŒÊ…ï¼ˆÂ´â—”à±ªâ—”ï¼‰Êƒ)</li></ul><h2 id="å®ç°">å®ç°:</h2><h3 id="åŸºæœ¬å®ç°æ¨¡æ¿-1">åŸºæœ¬å®ç°æ¨¡æ¿:</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">bfs()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//é˜Ÿåˆ—åˆå§‹åŒ–ï¼Œï¼Œï¼Œ</span></span><br><span class="line">    <span class="comment">//æ¯”å¦‚head,tail,èµ·å§‹ç‚¹ç­‰ç­‰</span></span><br><span class="line">    <span class="comment">/************************/</span></span><br><span class="line">    <span class="keyword">while</span> (head &lt; tail)     <span class="comment">//é˜Ÿåˆ—éç©ºæ—¶;</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//æšä¸¾å½“å‰ä½ç½®ä¸‹çš„æ‰€æœ‰å¯èƒ½æ€§</span></span><br><span class="line">        <span class="keyword">for</span> (...)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//åˆ¤æ–­å½“å‰å°è¯•æ˜¯å¦è¶…å‡ºé—®é¢˜çš„ç•Œé™,è¶…å‡ºç»§ç»­ä¸‹ä¸€ä¸ªå°è¯•</span></span><br><span class="line">            <span class="keyword">if</span> (...)    <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//å½“è¯¥ä½ç½®åˆæ³•ä¸”æœªè¢«æœç´¢è¿‡æ—¶å…¥é˜Ÿ(è®°å¾—æ›´æ–°æ­¥æ•°å’Œtail,å¹¶å°†fæŒ‡å‘headå³f=head)</span></span><br><span class="line">            <span class="comment">//å¦‚æœè¯¥ç‚¹è¢«æœç´¢è¿‡ï¼Œåˆ™è¯´æ˜ä»æ­¤è·¯å¾„æ¥è¯¥ä½ç½®ä¸æ˜¯æœ€çŸ­çš„æ–¹æ³•ï¼Œï¼Œ</span></span><br><span class="line">            <span class="comment">//è¿™æ˜¯å› ä¸ºå¹¿æœå¯¹æ¯ä¸ªä½ç½®çš„å¤„ç†æ—¶ï¼Œå¯¹åº”çš„è·ç¦»æ˜¯ä¸¥æ ¼é€’å¢çš„&lt;(Ë‰^Ë‰)&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//åˆ¤æ–­æ˜¯å¦æ­¤æ¬¡å°è¯•æ‰¾åˆ°äº†æ‰€æ‰¾çš„</span></span><br><span class="line">            <span class="comment">//è‹¥æ‰¾åˆ°flag = 1,å¹¶ä¸”è·³å‡ºforå¾ªç¯</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//åˆ¤æ–­flagçœŸå‡</span></span><br><span class="line">        <span class="comment">//è‹¥çœŸè¯´æ˜æ‰¾åˆ°äº†é¢˜è§£,é€€å‡ºwhileå¾ªç¯</span></span><br><span class="line">        **è‹¥å‡è¯´æ˜è¿™ä¸€å±‚è¿˜æœªæ‰¾åˆ°é¢˜è§£ï¼Œé˜Ÿåˆ—å¤´å¢head++;ç»§ç»­å¯¹åé¢çš„ç‚¹æ‰©å±•**  Î£(ï½€Ğ´â€²*ãƒ)ãƒ</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç»“æ„ä½“å®ç°é˜Ÿåˆ—">ç»“æ„ä½“å®ç°é˜Ÿåˆ—:</h3><ul><li>å¦‚è¦ä½¿ç”¨ç»“æ„ä½“å®ç°é˜Ÿåˆ—ï¼Œï¼Œå¯ä»¥è¿™æ ·:(é’ˆå¯¹è¿·å®«é—®é¢˜) <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">note</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> x;</span><br><span class="line">    <span class="keyword">int</span> y;</span><br><span class="line">    <span class="keyword">int</span> f;      <span class="comment">//çˆ¶äº²åœ¨é˜Ÿåˆ—ä¸­çš„ç¼–å·,ç”±æ­¤å¯ä»¥è¾“å‡ºé¢˜è§£è·¯å¾„</span></span><br><span class="line">    <span class="keyword">int</span> step;   <span class="comment">//è¯¥æ”¯è·¯ä¸­è¯¥ç‚¹çš„æ­¥æ•°,</span></span><br><span class="line">                <span class="comment">//å¯¹äºé¢˜è§£æ¥è¯´queue[tail-1].stepå³ä¸ºé¢˜è§£çš„æœ€çŸ­é•¿åº¦</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ul><h3 id="ç»“æ„ä½“-è·¯å¾„çš„è¾“å‡º">ç»“æ„ä½“-è·¯å¾„çš„è¾“å‡º:</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//éå†ä¸€éé˜Ÿåˆ—</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span> , j = <span class="number">0</span>; i &lt; tail; i++)</span><br><span class="line">        <span class="comment">//å½“éå†æ‰€å¯¹åº”ä½ç½®çš„fç­‰äºè¯¥è·¯å¾„ä¸­ä¸Šä¸€ä¸ªç‚¹çš„fä¹Ÿå°±æ˜¯jæ—¶è¾“å‡º</span></span><br><span class="line">        <span class="keyword">if</span>(que[i].f == j)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"("</span> &lt;&lt; que[i].x &lt;&lt; <span class="string">", "</span> &lt;&lt; que[i].y &lt;&lt; <span class="string">")"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            j = i;      <span class="comment">//æ›´æ–°jä¸ºå½“å‰èŠ‚ç‚¹ï¼Œï¼Œä¸ºä¸‹æ¬¡æŸ¥æ‰¾åšå‡†å¤‡</span></span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><ul><li>è‡ªæˆ‘æ„Ÿè§‰è¿™ç§è¾“å‡ºæœ‰äº›ç¬¨ï¼Œï¼Œåº”è¯¥æœ‰æ›´å¥½çš„æ–¹æ³•ï¼Œï¼Œä½†æ˜¯ç›®å‰æƒ³ä¸å‡ºæ¥å•Šå•Šå•Šï¼Œï¼Œï¼Œâ†’)â•¥ï¹â•¥)</li></ul><h2 id="æ€»ç»“-1">æ€»ç»“:</h2><ul><li>bfsä¸»è¦æ€è·¯æ˜¯å¯¹ä¸‹ä¸€ä¸ªçŠ¶æ€çš„é€‰å–å’ŒçŠ¶æ€çš„éå†ï¼Œåœ¨éå†æ ‘çš„æ—¶å€™ï¼ŒèŠ‚ç‚¹ä¼šæŒ‰ç…§å±‚æ¬¡ä»¥æ­¤æ·»åŠ åˆ°é˜Ÿåˆ—ä¸­ï¼Œåœ¨å¤„ç†å®Œä¸€å±‚ä¹‹åï¼Œä¸‹ä¸€å±‚ä¹Ÿè‡ªç„¶è€Œç„¶çš„æ·»åŠ åˆ°äº†é˜Ÿåˆ—ä¸­;^--&gt;</li><li>å¹¿æœå¤§è‡´æ€è·¯: ^--&gt;&gt;</li></ul><p>1.ä»èµ·ç‚¹å¼€å§‹ï¼Œå…ˆå°†å…¶åŠ å…¥é˜Ÿåˆ—ï¼Œè®¾ç½®è·ç¦»ä¸º0;</p><p>2.ä»é˜Ÿåˆ—é¦–ç«¯å–å‡ºä½ç½®ï¼Œå°†ä»è¿™ä¸ªä½ç½®èƒ½å¤Ÿåˆ°è¾¾çš„ä½ç½®åŠ å…¥é˜Ÿåˆ—ï¼Œå¹¶ä¸”è®©è¿™äº›ä½ç½®çš„è·ç¦»ä¸ºä¸Šä¸€ä¸ªä½ç½®çš„è·ç¦»åŠ ä¸Š1;</p><p>3.å¾ªç¯2ç›´åˆ°å°†ç»ˆç‚¹æ·»åŠ åˆ°é˜Ÿåˆ—ä¸­ï¼Œè¿™è¯´æ˜æˆ‘ä»¬å·²ç»æ‰¾åˆ°äº†è·¯å¾„;</p><p>æ³¨æ„åˆ°åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œ<strong>æ¯æ¬¡å¤„ç†çš„ä½ç½®æ‰€å¯¹åº”çš„è·ç¦»æ˜¯ä¸¥æ ¼é€’å¢çš„ï¼Œå› æ­¤ä¸€æ—¦æ‰¾åˆ°ç»ˆç‚¹ï¼Œå½“æ—¶çš„è·ç¦»å°±æ˜¯æœ€çŸ­è·ç¦»</strong>;</p><p>åŒæ ·åŸºäºè¿™ä¸ªåŸå› ï¼Œæœç´¢å¯ç§»åŠ¨åˆ°çš„ä½ç½®æ‰€ä½¿ç”¨çš„åˆ¤æ–­æ¡ä»¶ä¸­ä¸ä»…ä»…æ˜¯ä¸ç¢°å¢™å£ã€ä¸è¶…è¿‡è¾¹ç•Œï¼Œè¿˜æœ‰ä¸€ä¸ªå°±æ˜¯æ²¡æœ‰åˆ°è¾¾è¿‡ï¼Œå› ä¸º<strong>å¦‚æœå·²ç»åˆ°è¾¾äº†è¿™ä¸ªä½ç½®ï¼Œè¿™è¯´æ˜å·²ç»æœ‰æ›´çŸ­çš„è·¯å¾„åˆ°è¾¾è¿™ä¸ªä½ç½®ï¼Œè¿™æ¬¡åˆ°è¾¾è¿™ä¸ªä½ç½®çš„è·¯å¾„æ˜¯æ›´å·®çš„ï¼Œä¸å¯èƒ½å¾—åˆ°æ›´å¥½çš„æœ€ç»ˆè§£</strong>; + å¹¿æœä¸éœ€è¦åƒæ·±æœä¸€æ ·åœ¨æ¯æ¬¡å°è¯•åå°†æ ‡è®°å¤åŸ; + é€‚ç”¨äºæ‰¾æœ€çŸ­è·¯å¾„ï¼Œæœ€å°‘æ“ä½œæ•°;</p><h1 id="ç›¸å…³é¢˜ç›®">ç›¸å…³é¢˜ç›®:</h1><p><a href="http://poj.org/problem?id=2386" target="_blank" rel="noopener">___1</a><br><a href="http://poj.org/problem?id=3984" target="_blank" rel="noopener">___2</a></p><h1 id="æ€»ç»“-2">æ€»ç»“:</h1><ul><li>æ·±æœå¹¿æœå±äºå›¾çš„æœç´¢,ç›®å‰è§åˆ°çš„é¢˜å¤§å¤šéƒ½æ˜¯è¿·å®«é—®é¢˜:ç»™ä¸€ä¸ªm*nçš„å›¾ä¸­æœ‰éšœç¢å’Œè·¯å¾„ä»€ä¹ˆçš„ï¼Œå¯»æ‰¾æœ€çŸ­çš„è·¯å¾„æˆ–è€…æ—¶æœ€çŸ­çš„æ­¥æ•°ï¼Œï¼Œå†è€…æ˜¯å¯¹å›¾ä¸­çš„æŸäº›ç‚¹æœç´¢ï¼Œï¼Œå¯»æ‰¾é›†åˆç­‰ç­‰;</li><li>ä¸ªäººæ„Ÿè§‰æ·±æœå¹¿æœä¸»è¦æ˜¯ç†è§£ç®—æ³•ï¼Œï¼Œè®°ä½å¤§æ¦‚çš„æ¨¡æ¿å°±è¡Œï¼Œï¼Œå®ç°ä»€ä¹ˆçš„è¿˜æ˜¯åœ¨åŸºç¡€çš„çŸ¥è¯†å¤§è‡´æŒæ¡åä»¥åŠæ ¹æ®é¢˜ç›®å…·ä½“åˆ†æå§ï¼Œï¼Œï¼Œ(æˆ‘å¯æ²¡è¯´å®ç°ä¸é‡è¦ï¼Œï¼Œï¼Œä¸ç„¶æ€ä¹ˆåšå‡ºé¢˜.....((/- -)/)</li><li>å¤§æ¦‚å°±è¿™æ ·ï¼Œï¼Œï¼Œä»¥åæœ‰å•¥æƒ³æ³•å†è¡¥å……ï¼Œï¼Œï¼Œä¸ç„¶ä¸ºå•¥é¢˜ç›®æœ‰ä¸ª1ï¼Œï¼Œï¼Œï¼Œ(â€¾â—¡â—)</li></ul><h1 id="å‚è€ƒ">å‚è€ƒ:</h1><p>^--&gt;<a href="http://sumygg.com/2017/09/11/breadth-first-search-and-depth-first-search-one-two-three/#%E6%80%BB%E7%BB%93" target="_blank" rel="noopener">å‚è€ƒdalaoçš„åšæ–‡_1</a></p><p>^--&gt;&gt;<a href="https://blog.csdn.net/baidu_35643793/article/details/55099472" target="_blank" rel="noopener">å‚è€ƒdalaoçš„åšæ–‡_2</a></p><ul><li>ç®—æ³•å¥½éš¾å•Šï¼Œï¼Œï¼Œacmå¥½è´¹ç²¾åŠ›å‘ï¼Œï¼Œï¼Œå†™åšå®¢ä¹Ÿæ˜¯T_Tï¼Œï¼Œï¼Œä¸€å¤©å°±å†™äº†è¿™ä¸€ä¸ªï¼Œï¼Œï¼Œï¼Œ(é€ƒï¼Œï¼Œï¼Œï¼Œ</li></ul>]]></content>
      
      
        <tags>
            
            <tag> acm </tag>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>ACM--ç¬”è®°</title>
      <link href="/2018/05/19/ACM-%E7%AC%94%E8%AE%B0/"/>
      <content type="html"><![CDATA[<p>//è¿™ä¸€ç¯‡ä¸»è¦æ˜¯è®°å½•ä¸€äº›åšacmé¢˜æ—¶å¸¸ç”¨åˆ°çš„ä¸€äº›æŠ€å·§ã€æ–¹æ³•ï¼Œæ¯”å¦‚è¯´æ—¶å¤§ä½¬ä»¬å¸¸ç”¨çš„ä¸€äº› <strong>å¤´æ–‡ä»¶</strong>ã€<strong>æ¨¡æ¿</strong>ã€<strong>å‡½æ•°</strong>ä»€ä¹ˆçš„;</p><h1 id="å¤´æ–‡ä»¶ä¹‹ç±»çš„">å¤´æ–‡ä»¶ä¹‹ç±»çš„:</h1><ul><li><strong>ä¸‡èƒ½å¤´æ–‡ä»¶</strong>ï¼š#include &lt;bits/stdc++.h&gt;;</li></ul><h1 id="å‡½æ•°æ–¹é¢">å‡½æ•°æ–¹é¢:</h1><h2 id="å­—ç¬¦ä¸²çš„å¤„ç†">å­—ç¬¦ä¸²çš„å¤„ç†:</h2><ul><li>æˆªå–ä» pos å¼€å§‹ len é•¿åº¦çš„å­—ä¸²ï¼Œï¼Œstd::string::substr(size_t pos = 0, size_t len = npos);</li></ul><h1 id="æ•ˆç‡æ–¹é¢">æ•ˆç‡æ–¹é¢:</h1><ul><li>scanf()è¾“å…¥è¦æ¯”cinè¾“å…¥å¿«ä¸€äº›;</li></ul>]]></content>
      
      
        <tags>
            
            <tag> acm </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>æ ˆ</title>
      <link href="/2018/05/10/%E6%A0%88/"/>
      <content type="html"><![CDATA[<h1 id="æ ˆ">æ ˆ</h1><h2 id="æ ˆçš„å®šä¹‰">æ ˆçš„å®šä¹‰ï¼š</h2><ul><li>æ ˆï¼ˆstack)æ˜¯ä¸€ç§å…ƒç´ æ»¡è¶³åè¿›å…ˆå‡ºï¼ˆLast in first out,LIFO) è§„åˆ™çš„çº¿æ€§è¡¨ï¼›</li><li>å¯¹æ ˆçš„æ“ä½œæ˜¯åœ¨ è¡¨å°¾ è¿›è¡Œï¼›</li><li>** æ ˆåº• ï¼ˆbottom)<strong>ï¼šæ ˆçš„è¡¨å¤´ï¼Œ</strong> æ ˆé¡¶ (top)**ï¼šæ ˆçš„è¡¨å°¾ï¼›</li><li>** å…¥æ ˆ (push)<strong>ï¼šå‘æ ˆå†…æ·»åŠ å…ƒç´ ï¼Œ</strong> å‡ºæ ˆ (pop)**ï¼šåˆ é™¤å…ƒç´ ï¼›</li><li>** ç©ºæ ˆ **ï¼šæ²¡æœ‰ä»»ä½•å…ƒç´ çš„æ ˆï¼›</li><li>æ ˆçš„ä¸»è¦æ“ä½œï¼šå…¥æ ˆã€å‡ºæ ˆã€åˆ¤æ–­æ ˆç©ºï¼›</li></ul><a id="more"></a><h2 id="cæ ˆçš„å®ç°">c++æ ˆçš„å®ç°ï¼š</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> DataType&gt; <span class="class"><span class="keyword">class</span> <span class="title">Stack</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Stack(<span class="keyword">int</span> size)</span><br><span class="line">    &#123;</span><br><span class="line">        maxSize = size;                     <span class="comment">//è®¾ç½®æœ€å¤§å®¹é‡</span></span><br><span class="line">        top = <span class="number">-1</span>;                           <span class="comment">//åˆå§‹åŒ–ä¸ºç©ºæ ˆ</span></span><br><span class="line">        elements = <span class="keyword">new</span> DataType[size];      <span class="comment">//åˆ†é…ç©ºé—´</span></span><br><span class="line">    &#125;</span><br><span class="line">    ~Stack()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">delete</span> [] elements;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å…¥æ ˆæ“ä½œ</span></span><br><span class="line">    <span class="function">Bool <span class="title">push</span> <span class="params">(DataType data)</span></span>;</span><br><span class="line">    <span class="comment">//å‡ºæ ˆæ“ä½œ</span></span><br><span class="line">    <span class="function">DataType <span class="title">pop</span><span class="params">()</span></span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    DataType *elements;                     <span class="comment">//æ•°æ®åŸŸæŒ‡é’ˆ</span></span><br><span class="line">    <span class="keyword">int</span> top;                                <span class="comment">//æ ˆé¡¶</span></span><br><span class="line">    <span class="keyword">int</span> maxSize;                            <span class="comment">//æ ˆçš„æœ€å¤§å®¹é‡</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> DataType&gt; DataType Stack&lt;DataType&gt;::push(DataType data)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (top == maxSize)                     <span class="comment">//åˆ¤æ–­æ˜¯å¦æ ˆæ»¡</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    elements[++top] = data;                 <span class="comment">//ä»æ ˆé¡¶å‹å…¥å…ƒç´ </span></span><br><span class="line">    <span class="keyword">return</span> ture;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> DataType&gt; DataTpye Stack&lt;DataType&gt;::pop()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (pop == <span class="number">-1</span>)                          <span class="comment">//åˆ¤æ–­æ˜¯å¦æ ˆç©º</span></span><br><span class="line">        <span class="built_in">exit</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> elements[top--];                 <span class="comment">//è¿”å›æ ˆé¡¶å…ƒç´ </span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Stack&lt;<span class="keyword">int</span>&gt; s = Stack&lt;<span class="keyword">int</span>&gt;(<span class="number">6</span>);</span><br><span class="line">    <span class="keyword">int</span> temp;</span><br><span class="line">    temp = s.push(<span class="number">23</span>);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; temp &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    temp = s.pop();</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; temp &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="c-stackçš„ä½¿ç”¨">c++ stackçš„ä½¿ç”¨ï¼š</h2><ul><li><p>å¤´æ–‡ä»¶ï¼š <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br></pre></td></tr></table></figure></p></li><li><p>å£°æ˜ä¸€ä¸ªæ ˆï¼š <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">std</span>::<span class="built_in">stack</span> &lt;DataType&gt; p;</span><br></pre></td></tr></table></figure></p></li><li><p>ç›¸å…³å‡½æ•°ï¼š <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">p.empty();<span class="comment">//å¦‚æœæ˜¯ç©ºæ ˆï¼Œè¿”å›çœŸå€¼ï¼Œå¦åˆ™è¿”å›å‡å€¼</span></span><br><span class="line">p.size();<span class="comment">//è¿”å›æ ˆä¸­å…ƒç´ çš„ä¸ªæ•°</span></span><br><span class="line">p.top();<span class="comment">//è¿”å›æ ˆé¡¶å…ƒç´ çš„**å€¼**ï¼Œä½†ä¸åˆ é™¤è¯¥å…ƒç´ </span></span><br><span class="line">p.pop();<span class="comment">//åˆ é™¤æ ˆé¡¶å…ƒç´ ï¼Œä½†ä¸è¿”å›å…¶å€¼</span></span><br><span class="line">p.push(k);<span class="comment">//å‹å…¥æ–°å…ƒç´ k</span></span><br></pre></td></tr></table></figure></p></li></ul><p>å¦‚æœæ˜¯è§£é¢˜ï¼Œä½¿ç”¨stackæ¨¡æ¿æ›´å¿«ä¸”ä¸æ˜“å‡ºé”™ï¼Œï¼Œï¼Œ ä½†æ˜¯ä¹Ÿè¦äº†è§£å…¶å¦‚ä½•å®ç°çš„ã€‚ã€‚ã€‚ã€‚(à¹‘â€¢Ì€ã…‚â€¢Ì)Ùˆâœ§</p><p>End--</p>]]></content>
      
      
        <tags>
            
            <tag> acm </tag>
            
            <tag> æ•°æ®ç»“æ„ </tag>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>æ•°æ®çš„å…±äº«ä¸ä¿æŠ¤</title>
      <link href="/2018/03/29/%E6%95%B0%E6%8D%AE%E7%9A%84%E5%85%B1%E4%BA%AB%E4%B8%8E%E4%BF%9D%E6%8A%A4/"/>
      <content type="html"><![CDATA[<h1 id="æ ‡è¯†ç¬¦çš„ä½œç”¨åŸŸä¸å¯è§æ€§">æ ‡è¯†ç¬¦çš„ä½œç”¨åŸŸä¸å¯è§æ€§</h1><h2 id="ä½œç”¨åŸŸ">ä½œç”¨åŸŸ</h2><ul><li>ä½œç”¨åŸŸæ˜¯ä¸€ä¸ªæ ‡è¯†ç¬¦åœ¨ç¨‹åºæ­£æ–‡ä¸­æœ‰æ•ˆçš„åŒºåŸŸï¼›</li><li>c++ä¸­æ ‡è¯†ç¬¦çš„ä½œç”¨åŸŸæœ‰ <strong>å‡½æ•°åŸå‹ä½œç”¨åŸŸ</strong> ã€ <strong>å±€éƒ¨ä½œç”¨åŸŸï¼ˆå—ä½œç”¨åŸŸï¼‰</strong> ã€ <strong>ç±»ä½œç”¨åŸŸ</strong> ã€ <strong>å‘½åç©ºé—´ä½œç”¨åŸŸ</strong>; ### å‡½æ•°åŸå‹ä½œç”¨åŸŸï¼š</li><li>å‡½æ•°åŸå‹ä½œç”¨åŸŸæ˜¯c++ç¨‹åºä¸­æœ€å°çš„ä½œç”¨åŸŸï¼›</li><li>åœ¨å‡½æ•°åŸå‹å£°æ˜æ—¶å½¢å‚çš„ä½œç”¨èŒƒå›´å°±æ˜¯å‡½æ•°åŸå‹ä½œç”¨åŸŸï¼›</li><li>åœ¨å‡½æ•°åŸå‹çš„å‚æ•°åˆ—è¡¨ä¸­èµ·çš„ä½œç”¨çš„åªæ˜¯å½¢å‚ç±»å‹ï¼Œæ ‡è¯†ç¬¦ä¸èµ·ä½œç”¨ï¼Œå› æ­¤å¯ä»¥çœå»ï¼Œä½†ä¸ºäº†ç¨‹åºçš„å¯è¯»æ€§ï¼Œé€šå¸¸è¿˜æ˜¯è¦åœ¨å‡½æ•°åŸå‹å£°æ˜æ—¶ç»™å‡ºå½¢å‚æ ‡è¯†ç¬¦ï¼› ### å±€éƒ¨ä½œç”¨åŸŸï¼š</li><li>å‡½æ•°å½¢å‚åˆ—è¡¨ä¸­å½¢å‚çš„ä½œç”¨åŸŸï¼Œä»å½¢å‚åˆ—è¡¨ä¸­çš„å£°æ˜å¤„å¼€å§‹ï¼Œåˆ°æ•´ä¸ªå‡½æ•°ä½“ç»“æŸä¹‹å¤„ä¸ºæ­¢ï¼›</li><li>å‡½æ•°ä½“å†…å£°æ˜çš„å˜é‡ï¼Œå…¶ä½œç”¨åŸŸä»å£°æ˜å¤„å¼€å§‹ï¼Œä¸€ç›´åˆ°å£°æ˜æ‰€åœ¨çš„å—ç»“æŸçš„å¤§æ‹¬å·ä¸ºæ­¢ï¼›</li><li>å…·æœ‰å±€éƒ¨ä½œç”¨åŸŸçš„å˜é‡ä¹Ÿç§°ä½œå±€éƒ¨å˜é‡ï¼› ### ç±»ä½œç”¨åŸŸï¼š</li><li>ç±»å¯ä»¥çœ‹ä½œä¸€ç»„æœ‰åæˆå‘˜çš„é›†åˆï¼Œç±»Xçš„æˆå‘˜må…·æœ‰ç±»ä½œç”¨åŸŸï¼Œå¯¹mçš„è®¿é—®æ–¹å¼æœ‰ï¼š</li><li>1.å¦‚æœåœ¨Xçš„æˆå‘˜å‡½æ•°ä¸­æ²¡æœ‰å£°æ˜åŒåçš„å±€éƒ¨ä½œç”¨åŸŸæ ‡è¯†ç¬¦ï¼Œé‚£ä¹ˆåœ¨è¯¥å‡½æ•°å†…å¯ä»¥ç›´æ¥è®¿é—®æˆå‘˜mï¼›</li><li>2.é€šè¿‡è¡¨è¾¾å¼<code>x.m</code>æˆ–è€…<code>X::m</code>ï¼›ï¼ˆè®¿é—®å¯¹è±¡æˆå‘˜çš„æœ€åŸºæœ¬æ–¹æ³•ï¼‰ï¼›</li><li>3.é€šè¿‡<code>ptr-&gt;m</code>è¿™æ ·çš„è¡¨è¾¾å¼ï¼Œå…¶ä¸­pträ¸ºæŒ‡å‘Xç±»çš„ä¸€ä¸ªå¯¹è±¡çš„æŒ‡é’ˆï¼›</li></ul><a id="more"></a><h3 id="å‘½åç©ºé—´ä½œç”¨åŸŸ">å‘½åç©ºé—´ä½œç”¨åŸŸï¼š</h3><ul><li>å‘½åç©ºé—´çš„è¯­æ³•å½¢å¼ï¼š</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> å‘½åç©ºé—´å</span><br><span class="line">&#123;</span><br><span class="line">å‘½åç©ºé—´å†…çš„å„ç§å£°æ˜ (å‡½æ•°å£°æ˜ã€ç±»å£°æ˜ã€Â·Â·Â·Â·Â·Â·)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä¸€ä¸ªå‘½åç©ºé—´ç¡®å®šäº†ä¸€ä¸ªå‘½åç©ºé—´ä½œç”¨åŸŸï¼Œå‡¡æ˜¯åœ¨è¯¥å‘½åç©ºé—´ä¹‹å†…å£°æ˜çš„ã€ä¸å±äºå‰é¢æ‰€è¿°çš„å„ä¸ªä½œç”¨åŸŸçš„æ ‡è¯†ç¬¦ï¼Œéƒ½å±äºè¯¥å‘½åç©ºé—´ä½œç”¨åŸŸï¼›</li><li>åœ¨å‘½åç©ºé—´å†…éƒ¨å¯ä»¥ç›´æ¥å¼•ç”¨å½“å‰å‘½åç©ºé—´ä¸­ç”Ÿå‘½çš„æ ‡è¯†ç¬¦ï¼Œå¦‚æœéœ€è¦å¼•ç”¨å…¶ä»–å‘½åç©ºé—´çš„æ ‡è¯†ç¬¦ï¼Œéœ€è¦ä½¿ç”¨ä¸‹åˆ—è¯­æ³•ï¼š<code>å‘½åç©ºé—´å::æ ‡è¯†ç¬¦å</code></li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">eg:</span><br><span class="line"><span class="keyword">namespace</span> SomeNs</span><br><span class="line">&#123;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SomeClass</span>&#123;</span>...&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å¦‚æœéœ€è¦å¼•ç”¨ç±»åSomeClassæˆ–å‡½æ•°åsomeFuncï¼Œéœ€è¦ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼ï¼š</span></span><br><span class="line">SomeNs::SomeClass obj1;<span class="comment">//å£°æ˜ä¸€ä¸ªSomeNs::SomeClasså‹çš„å¯¹è±¡obj1;</span></span><br></pre></td></tr></table></figure><ul><li><strong>using è¯­å¥</strong>ï¼šæ€»ä½¿ç”¨è¿™æ ·çš„å‘½åç©ºé—´é™å®šä¼šæ˜¾å¾—è¿‡äºå†—é•¿ <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> å‘½åç©ºé—´å::æ ‡è¯†ç¬¦åï¼›</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> å‘½åç©ºé—´åï¼›</span><br></pre></td></tr></table></figure></li></ul><p>å‰ä¸€ç§å½¢å¼å°†æŒ‡å®šçš„æ ‡è¯†ç¬¦æš´éœ²åœ¨å½“å‰çš„ä½œç”¨åŸŸä¸­ï¼Œä½¿å¾—åœ¨å½“å‰ä½œç”¨åŸŸä¸­å¯ä»¥ç›´æ¥å¼•ç”¨è¯¥æ ‡è¯†ç¬¦ï¼› åä¸€ç§å½¢å¼å°†æŒ‡å®šå‘½åç©ºé—´å†…çš„æ‰€æœ‰æ ‡è¯†ç¬¦æš´éœ²åœ¨å½“å‰çš„ä½œç”¨åŸŸä¸­ï¼Œä½¿å¾—åœ¨å½“å‰ä½œç”¨åŸŸä¸­å¯ä»¥ç›´æ¥å¼•ç”¨è¯¥å‘½åç©ºé—´å†…çš„ä»»ä½•æ ‡è¯†ç¬¦ï¼› + å‘½åç©ºé—´å…è®¸åµŒå¥—ï¼› + <strong>å…¨å±€å‘½åç©ºé—´</strong>ï¼šæ˜¯é»˜è®¤çš„å‘½åç©ºé—´ï¼Œå­å•Šæ˜¾å¼å£°æ˜çš„å‘½åç©ºé—´ä¹‹å¤–å£°æ˜çš„æ ‡è¯†ç¬¦éƒ½åœ¨ä¸€ä¸ªå…¨å±€å‘½åç©ºé—´ä¸­ï¼› + <strong>åŒ¿åå‘½åç©ºé—´</strong>ï¼šæ˜¯ä¸€ä¸ªéœ€è¦æ˜¾å¼å£°æ˜çš„æ²¡æœ‰æ–‡å­—çš„å‘½åç©ºé—´ï¼Œå£°æ˜æ–¹å¼ï¼š + <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> </span><br><span class="line">&#123;</span><br><span class="line">åŒ¿åå‘½åç©ºé—´å†…çš„å„ç§å£°æ˜ (å‡½æ•°å£°æ˜ã€ç±»å£°æ˜ã€Â·Â·Â·Â·Â·Â·)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><ul><li>åœ¨åŒ…å«å¤šä¸ªæºæ–‡ä»¶çš„å·¥ç¨‹ä¸­ï¼ŒåŒ¿åå‘½åç©ºé—´å¸¸å¸¸è¢«ç”¨æ¥å±è”½ä¸å¸Œæœ›æš´éœ²ç»™å…¶ä»–æºæ–‡ä»¶çš„æ ‡è¯†ç¬¦ï¼Œè¿™æ˜¯å› ä¸ºæ¯ä¸ªæºæ–‡ä»¶çš„åŒ¿åå‘½åç©ºé—´æ˜¯å½¼æ­¤ä¸åŒçš„ï¼Œåœ¨æ¯ä¸€ä¸ªæºæ–‡ä»¶ä¸­æ²¡æœ‰åŠæ³•è®¿é—®å…¶ä»–æºæ–‡ä»¶çš„åŒ¿åå‘½åç©ºé—´ï¼›</li><li>å…·æœ‰å‘½åç©ºé—´ä½œç”¨åŸŸçš„å˜é‡ä¹Ÿç§°ä¸ºå…¨å±€å˜é‡ï¼› ### å¯è§æ€§ï¼š</li><li>ç¨‹åºè¿è¡Œåˆ°æŸä¸€ç‚¹ï¼Œèƒ½å¤Ÿå¼•ç”¨åˆ°çš„æ ‡è¯†ç¬¦ï¼Œå°±æ˜¯è¯¥å¤„å¯è§çš„æ ‡è¯†ç¬¦ï¼›</li><li><strong>å‘½åç©ºé—´ä½œç”¨åŸŸ</strong>æœ€å¤§ï¼Œæ¥ä¸‹æ¥ä¾æ¬¡æ˜¯<strong>ç±»ä½œç”¨åŸŸ</strong>å’Œ<strong>å±€éƒ¨ä½œç”¨åŸŸ</strong>ï¼›</li><li>å¯è§æ€§è¡¨ç¤ºä»å†…å±‚ä½œç”¨åŸŸå‘å¤–å±‚ä½œç”¨åŸŸâ€œçœ‹â€æ—¶èƒ½çœ‹åˆ°ä»€ä¹ˆï¼›</li><li><strong>ä½œç”¨åŸŸå¯è§æ€§çš„ä¸€èˆ¬è§„åˆ™</strong>ï¼š</li><li>æ ‡è¯†ç¬¦è¦å£°æ˜åœ¨å‰ï¼Œå¼•ç”¨åœ¨åï¼›</li><li>åœ¨åŒä¸€ä½œç”¨åŸŸä¸­ï¼Œä¸èƒ½å£°æ˜åŒåçš„æ ‡è¯†ç¬¦ï¼›</li><li>åœ¨æ²¡æœ‰äº’ç›¸åŒ…å«å…³ç³»çš„ä¸åŒçš„ä½œç”¨åŸŸä¸­å£°æ˜çš„åŒåæ ‡è¯†ç¬¦ï¼Œäº’ä¸å½±å“ï¼›</li><li>å¦‚æœåœ¨ä¸¤ä¸ªæˆ–å¤šä¸ªå…·æœ‰åŒ…å«å…³ç³»çš„ä½œç”¨åŸŸä¸­å£°æ˜äº†åŒåæ ‡è¯†ç¬¦ï¼Œåˆ™å¤–å±‚æ ‡è¯†ç¬¦åœ¨å†…å±‚ä¸å¯è§ï¼›</li><li>ä½œç”¨åŸŸå’Œå¯è§æ€§çš„åŸåˆ™ä¸åªé€‚ç”¨äºå˜é‡åï¼Œä¹Ÿé€‚ç”¨äºå…¶ä»–å„ç§æ ‡è¯†ç¬¦ï¼ŒåŒ…æ‹¬å¸¸å˜é‡åã€ç”¨æˆ·å®šä¹‰çš„ç±»å‹åã€å‡½æ•°ååã€æšä¸¾ç±»å‹çš„å–å€¼ç­‰ï¼›</li></ul><h2 id="å¯¹è±¡çš„ç”Ÿå­˜å‘¨æœŸ">å¯¹è±¡çš„ç”Ÿå­˜å‘¨æœŸ</h2><h3 id="é™æ€ç”Ÿå­˜å‘¨æœŸ">é™æ€ç”Ÿå­˜å‘¨æœŸï¼š</h3><ul><li>å¦‚æœå¯¹è±¡çš„ç”Ÿå­˜æœŸä¸ç¨‹åºçš„è¿è¡ŒæœŸç›¸åŒï¼Œåˆ™ç§°å®ƒå…·æœ‰é™æ€ç”Ÿå­˜æœŸï¼›</li><li>åœ¨å‘½åç©ºé—´ä½œç”¨åŸŸä¸­å£°æ˜çš„å¯¹è±¡éƒ½æ˜¯å…·æœ‰é™æ€ç”Ÿå­˜æœŸçš„ï¼›</li><li>å¦‚æœåœ¨å‡½æ•°å†…éƒ¨çš„å±€éƒ¨ä½œç”¨åŸŸä¸­å£°æ˜å…·æœ‰é™æ€ç”Ÿå­˜æœŸçš„å¯¹è±¡ï¼Œåˆ™è¦ä½¿ç”¨å…³é”®å­—<code>static</code>;</li><li>å±€éƒ¨ä½œç”¨åŸŸä¸­é™æ€å˜é‡çš„ç‰¹ç‚¹ï¼šå®ƒä¸ä¼šéšç€æ¯æ¬¡å‡½æ•°è°ƒç”¨è€Œäº§æˆä¸€ä¸ªå‰¯æœ¬ï¼Œä¹Ÿä¸ä¼šéšç€å‡½æ•°è¿”å›è€Œå¤±æ•ˆï¼›</li><li>å®šä¹‰æ—¶æœªæŒ‡å®šåˆå€¼çš„åŸºæœ¬é™æ€ç”Ÿå­˜æœŸå˜é‡ï¼Œä¼šè¢«èµ‹äºˆ0å€¼åˆå§‹åŒ–ï¼Œè€Œå¯¹äºåŠ¨æ€ç”Ÿå­˜æœŸå˜é‡ï¼Œä¸æŒ‡å®šåˆå€¼æ„å‘³ç€åˆå€¼ä¸ç¡®å®šï¼› ### åŠ¨æ€ç”Ÿå­˜æœŸ</li><li>åœ¨å±€éƒ¨ä½œç”¨åŸŸä¸­å£°æ˜çš„å…·æœ‰åŠ¨æ€ç”Ÿå­˜æœŸçš„å¯¹è±¡ï¼Œä¹ æƒ¯ä¸Šä¹Ÿç§°ä¸º<strong>å±€éƒ¨ç”Ÿå­˜æœŸå¯¹è±¡</strong>ï¼›</li><li>å±€éƒ¨ç”Ÿå­˜æœŸå¯¹è±¡è¯ç”Ÿäºå£°æ˜ç‚¹ï¼Œç»“æŸäºå£°æ˜æ‰€åœ¨çš„å—æ‰§è¡Œå®Œæ¯•ä¹‹æ—¶ï¼›</li><li>ç±»çš„æˆå‘˜å¯¹è±¡ä¹Ÿæœ‰å„è‡ªçš„ç”Ÿå­˜æœŸï¼Œä¸ç”¨<code>static</code>ä¿®é¥°çš„æˆå‘˜å¯¹è±¡ï¼Œå…¶ç”Ÿå­˜æœŸéƒ½ä¸å®ƒä»¬æ‰€å±å¯¹è±¡çš„ç”Ÿå­˜æœŸä¿æŒä¸€è‡´ï¼›</li></ul><h2 id="ç±»çš„é™æ€æˆå‘˜">ç±»çš„é™æ€æˆå‘˜</h2><h3 id="é™æ€æ•°æ®æˆå‘˜">é™æ€æ•°æ®æˆå‘˜ï¼š</h3><ul><li>å¦‚æœæŸä¸ªå±æ€§ä¸ºæ•´ä¸ªç±»æ‰€å…±æœ‰ï¼Œä¸å±äºä»»ä½•ä¸€ä¸ªå…·ä½“å¯¹è±¡ï¼Œåˆ™é‡‡ç”¨<code>static</code>å…³é”®å­—æ¥å£°æ˜ä¸ºé™æ€æˆå‘˜ï¼Œé™æ€æˆå‘˜åœ¨æ¯ä¸ªç±»åªæœ‰ä¸€ä¸ªå‰¯æœ¬ï¼Œç”±è¯¥ç±»çš„æ‰€æœ‰å¯¹è±¡å…±åŒç»´æŠ¤å’Œä½¿ç”¨ï¼Œä»è€Œå®ç°äº†åŒä¸€ä¸ªç±»çš„ä¸åŒå¯¹è±¡ä¹‹é—´çš„æ•°æ®å…±äº«ï¼›</li><li><strong>ç±»å±æ€§</strong>æ˜¯æè¿°ç±»çš„æ‰€æœ‰å¯¹è±¡å…±åŒç‰¹å¾çš„ä¸€ä¸ªæ•°æ®é¡¹ï¼Œå¯¹äºä»»ä½•å¯¹è±¡å®ä¾‹ï¼Œå®ƒçš„å±æ€§å€¼æ˜¯ç›¸åŒçš„ï¼›ç±» == å·¥å‚ï¼Œå¯¹è±¡ == äº§å“ï¼Œé™æ€æˆå‘˜ == å­˜æ”¾äºå·¥å‚ä¸­ã€å±äºå·¥å‚çš„ä½†ä¸å±äºæ¯ä¸ªäº§å“çš„ä¸œè¥¿ï¼›</li><li>é™æ€æ•°æ®æˆå‘˜å…·æœ‰é™æ€ç”Ÿå­˜æœŸï¼Œç”±äºé™æ€æ•°æ®æˆå‘˜ä¸å±äºä»»ä½•ä¸€ä¸ªå¯¹è±¡ï¼Œå› æ­¤å¯ä»¥é€šè¿‡ç±»åå¯¹å®ƒè®¿é—®ï¼Œä¸€èˆ¬ç”¨æ³•æ˜¯ï¼š<code>ç±»å::æ ‡è¯†ç¬¦</code>ï¼›å†ç±»çš„å®šä¹‰ä¸­ä»…ä»…å¯¹é™æ€æ•°æ®æˆå‘˜è¿›è¡Œ<strong>å¼•ç”¨æ€§å£°æ˜</strong>ï¼Œå¿…é¡»åœ¨<strong>å‘½åç©ºé—´ä½œç”¨åŸŸ</strong>çš„æŸä¸ªåœ°æ–¹ä½¿ç”¨<strong>ç±»åé™å®šå®šä¹‰æ€§å£°æ˜</strong>ï¼Œè¿™æ˜¯ä¹Ÿå¯ä»¥è¿›è¡Œ<strong>åˆå§‹åŒ–</strong>ï¼›</li><li>ä¹‹æ‰€ä»¥ç±»çš„é™æ€æˆå‘˜éœ€è¦åœ¨ç±»çš„å®šä¹‰ä¹‹å¤–åœ¨åŠ å®šä¹‰æ˜¯å› ä¸ºéœ€è¦ä»¥è¿™ç§æ–¹å¼ä¸“é—¨ä¸ºå®ƒä»¬åˆ†é…ç©ºé—´ï¼Œéé™æ€æ•°æ®æˆå‘˜æ— éœ€ä»¥æ­¤æ–¹å¼å®šä¹‰ï¼Œå› ä¸ºå®ƒä»¬çš„ç©ºé—´æ˜¯ä¸æ‰€å±å¯¹è±¡çš„ç©ºé—´åŒæ—¶åˆ†é…çš„ï¼›</li><li>åœ¨å¯¹ç±»çš„é™æ€ç§æœ‰æ•°æ®æˆå‘˜åˆå§‹åŒ–çš„åŒæ—¶ï¼Œè¿˜å¯ä»¥å¼•ç”¨ç±»çš„å…¶ä»–ç§æœ‰æˆå‘˜ï¼Œä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ªç±»Tå­˜åœ¨ç±»å‹ä¸ºTçš„é™æ€ç§æœ‰å¯¹è±¡ï¼Œé‚£ä¹ˆå¯ä»¥å¼•ç”¨è¯¥ç±»çš„ç§æœ‰æ„é€ å‡½æ•°å°†å…¶åˆå§‹åŒ–ï¼›</li></ul><h3 id="é™æ€å‡½æ•°æˆå‘˜">é™æ€å‡½æ•°æˆå‘˜ï¼š</h3><ul><li>é™æ€æˆå‘˜å‡½æ•°ï¼šä½¿ç”¨<code>static</code>å…³é”®å­—å£°æ˜çš„å‡½æ•°æˆå‘˜ï¼›åŒé™æ€æ•°æ®æˆå‘˜ä¸€æ ·ï¼Œé™æ€æˆå‘˜å‡½æ•°ä¹Ÿå±äºæ•´ä¸ªç±»ï¼Œç”±åŒä¸€ä¸ªç±»çš„æ‰€æœ‰å¯¹è±¡å…±åŒæ‹¥æœ‰ï¼Œä¸ºè¿™äº›å¯¹è±¡æ‰€å…±äº«ï¼›</li><li>é™æ€æˆå‘˜å‡½æ•°å¯ä»¥é€šè¿‡ç±»åæˆ–å¯¹è±¡æ¥è°ƒç”¨ï¼Œè€Œéé™æ€æˆå‘˜å‡½æ•°åªèƒ½é€šè¿‡å¯¹è±¡åæ¥è°ƒç”¨ï¼›</li><li>è™½ç„¶é™æ€æˆå‘˜å‡½æ•°å¯ä»¥é€šè¿‡ç±»åå’Œå¯¹è±¡åä¸¤ç§æ–¹å¼è°ƒç”¨ï¼Œä½†ä¸€èˆ¬ä¹ æƒ¯ä¸é€šè¿‡ç±»åè°ƒç”¨ã€‚å› ä¸ºå³ä½¿é€šè¿‡å¯¹è±¡åè°ƒç”¨ï¼Œèµ·ä½œç”¨çš„ä¹Ÿåªæ˜¯å¯¹è±¡çš„ç±»å‹ä¿¡æ¯ï¼Œä¸æ‰€ä½¿ç”¨çš„å…·ä½“å¯¹è±¡æ¯«æ— å…³ç³»ï¼›</li><li><p>é™æ€æˆå‘˜å‡½æ•°å¯ä»¥ç›´æ¥è®¿é—®è¯¥ç±»çš„é™æ€æ•°æ®å’Œå‡½æ•°æˆå‘˜ã€‚è€Œè®¿é—®éé™æ€æˆå‘˜ï¼Œå¿…é¡»é€šè¿‡å¯¹è±¡åï¼› <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> A::f (A a)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; x ;<span class="comment">//å¯¹xçš„å¼•ç”¨æ˜¯é”™è¯¯çš„</span></span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; a.x :<span class="comment">//æ­£ç¡®</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></li><li>å¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡é™æ€å‡½æ•°æˆå‘˜è®¿é—®éé™æ€æˆå‘˜æ˜¯ç›¸å½“éº»çƒ¦çš„ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå®ƒä¸»è¦æ¥è®¿é—®ä¸€ä¸ªç±»ä¸­çš„é™æ€æ•°æ®æˆå‘˜ï¼Œç»´æŠ¤å¯¹è±¡ä¹‹é—´å…±äº«æ•°æ®ï¼›</li><li><p>ä¹‹æ‰€ä»¥åœ¨é™æ€æˆå‘˜å‡½æ•°ä¸­è®¿é—®ç±»çš„éé™æ€æˆå‘˜éœ€è¦æŒ‡æ˜å¯¹è±¡ï¼Œæ˜¯å› ä¸ºå¯¹é™æ€æˆå‘˜å‡½æ•°çš„è°ƒç”¨æ˜¯æ²¡æœ‰ç›®çš„å¯¹è±¡çš„ï¼Œå› æ­¤ä¸èƒ½åƒéé™æ€æˆå‘˜å‡½æ•°é‚£æ ·ï¼Œéšå«çš„é€šè¿‡ç›®çš„å¯¹è±¡è®¿é—®ç±»çš„é™æ€æˆå‘˜ï¼›</p></li></ul><h2 id="ç±»çš„å‹å…ƒ"><strong>ç±»çš„å‹å…ƒ</strong></h2><ul><li>å‹å…ƒå…³ç³»æä¾›äº†ä¸åŒç±»æˆ–å¯¹è±¡çš„æˆå‘˜å‡½æ•°ä¹‹é—´ã€ç±»çš„æˆå‘˜å‡½æ•°ä¸ä¸€èˆ¬å‡½æ•°ä¹‹é—´è¿›è¡Œæ•°æ®å…±äº«çš„æœºåˆ¶ï¼›</li><li>é€šä¿—çš„è¯´ï¼Œå‹å…ƒå…³ç³»å°±æ˜¯ä¸€ä¸ªç±»<strong>ä¸»åŠ¨</strong>å£°æ˜å“ªäº›å…¶ä»–ç±»æˆ–å‡½æ•°æ˜¯å®ƒçš„æœ‹å‹è¿›è€Œ<strong>ç»™å®ƒä»¬æä¾›å¯¹æœ¬ç±»çš„è®¿é—®ç‰¹è®¸</strong>ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œé€šè¿‡å‹å…ƒå…³ç³»æ¯ä¸€ä¸ªæ™®é€šå‡½æ•°æˆ–è€…ç±»çš„æˆå‘˜å‡½æ•°å°±å¯ä»¥è®¿é—®å°è£…ä¸å¦ä¸€ä¸ªç±»ä¸­çš„æ•°æ®ï¼›</li><li>åœ¨ä¸€ä¸ªç±»ä¸­ï¼Œå¯ä»¥åˆ©ç”¨å…³é”®å­—<code>friend</code>å°†å…¶ä»–å‡½æ•°æˆ–ç±»å£°æ˜ä¸ºå‹å…ƒï¼›</li><li>å¦‚æœå‹å…ƒæ˜¯ä¸€èˆ¬å‡½æ•°æˆ–ç±»çš„æˆå‘˜å‡½æ•°ï¼Œç§°ä¸º<strong>å‹å…ƒå‡½æ•°</strong>ï¼›</li><li>å¦‚æœå‹å…ƒæ˜¯ä¸€ä¸ªç±»ï¼Œåˆ™ç§°ä¸º<strong>å‹å…ƒç±»</strong>ï¼Œå‹å…ƒç±»çš„æ‰€æœ‰æˆå‘˜å‡½æ•°éƒ½è‡ªåŠ¨æˆä¸ºå‹å…ƒå‡½æ•°ï¼›</li></ul><h3 id="å‹å…ƒå‡½æ•°">å‹å…ƒå‡½æ•°ï¼š</h3><ul><li>å‹å…ƒå‡½æ•°æ˜¯åœ¨ç±»ä¸­ç”¨å…³é”®å­—<code>friend</code>ä¿®é¥°çš„éæˆå‘˜å‡½æ•°ï¼›</li><li>å‹å…ƒå‡½æ•°å¯ä»¥æ˜¯ä¸€ä¸ªæ™®é€šçš„å‡½æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯å…¶ä»–ç±»çš„æˆå‘˜å‡½æ•°ï¼›</li><li>è™½ç„¶å‹å…ƒå‡½æ•°ä¸æ˜¯æœ¬ç±»çš„æˆå‘˜å‡½æ•°ï¼Œä½†æ˜¯<strong>åœ¨å®ƒçš„å‡½æ•°ä½“ä¸­å¯ä»¥é€šè¿‡å¯¹è±¡åè®¿é—®ç±»çš„ç§æœ‰å’Œä¿æŠ¤æˆå‘˜</strong>ï¼›</li><li>åœ¨ç±»çš„å†…éƒ¨å£°æ˜å‹å…ƒå‡½æ•°çš„åŸå‹ï¼Œå…¶å®šä¹‰åœ¨ç±»å¤–ï¼›</li><li>å‹å…ƒæˆå‘˜å‡½æ•°çš„ä½¿ç”¨å’Œä¸€èˆ¬å‹å…ƒå‡½æ•°çš„ä½¿ç”¨åŸºæœ¬ç›¸åŒï¼Œåªæ˜¯è¦é€šè¿‡ç›¸åº”çš„ç±»æˆ–å¯¹è±¡æ¥è®¿é—®ï¼›</li></ul><h3 id="å‹å…ƒç±»">å‹å…ƒç±»ï¼š</h3><ul><li>è‹¥Aç±»ä¸ºBç±»çš„å‹å…ƒç±»ï¼Œåˆ™Aç±»çš„æ‰€æœ‰æˆå‘˜å‡½æ•°éƒ½æ˜¯Bç±»çš„å‹å…ƒå‡½æ•°ï¼Œéƒ½å¯ä»¥è®¿é—®Bç±»çš„ç§æœ‰å’Œä¿æŠ¤æˆå‘˜ï¼›</li><li><p>å£°æ˜å‹å…ƒç±»çš„è¯­æ³•å½¢å¼ï¼š <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">...<span class="comment">//Bç±»çš„æˆå‘˜å£°æ˜</span></span><br><span class="line"><span class="keyword">friend</span> <span class="class"><span class="keyword">class</span> <span class="title">A</span>;</span><span class="comment">//å£°æ˜Aä¸ºBç±»çš„å‹å…ƒç±»</span></span><br><span class="line">...</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p></li><li>å£°æ˜å‹å…ƒç±»ï¼Œæ˜¯å»ºç«‹ç±»ä¸ç±»ä¹‹é—´çš„è”ç³»ï¼Œå®ç°ç±»ä¹‹é—´æ•°æ®å…±äº«çš„ä¸€ç§é€”å¾„ï¼›</li><li><p><strong>Attentionï¼š</strong> 1.<strong>å‹å…ƒå…³ç³»æ˜¯ä¸èƒ½ä¼ é€’çš„</strong>ã€‚Bç±»æ˜¯Aç±»å‹å…ƒï¼ŒCç±»æ˜¯Bç±»çš„å‹å…ƒï¼ŒCç±»ä¸Aç±»ä¹‹é—´ï¼Œå¦‚æœæ²¡æœ‰å£°æ˜ï¼Œå°±æ²¡æœ‰ä»»ä½•å‹å…ƒå…³ç³»ï¼Œä¸èƒ½è¿›è¡Œæ•°æ®å…±äº«ï¼› 2.<strong>å‹å…ƒå…³ç³»æ˜¯å•å‘çš„</strong>ã€‚å¦‚æœå£°æ˜Bç±»æ˜¯Aç±»çš„å‹å…ƒï¼ŒBç±»æˆå‘˜å‡½æ•°å°±å¯ä»¥è®¿é—®Aç±»çš„ç§æœ‰å’Œä¿æŠ¤æ•°æ®ï¼Œä½†Aç±»çš„æˆå‘˜å‡½æ•°å´ä¸èƒ½è®¿é—®Bç±»çš„ç§æœ‰ã€ä¿æŠ¤æˆå‘˜ï¼› 3.<strong>å‹å…ƒå…³ç³»æ˜¯ä¸è¢«ç»§æ‰¿çš„</strong>ã€‚å¦‚æœç±»Bæ˜¯ç±»Açš„å‹å…ƒæ˜ç±»Bçš„æ´¾ç”Ÿç±»å¹¶ä¸ä¼šè‡ªåŠ¨æˆä¸ºç±»Açš„å‹å…ƒï¼›æ‰“ä¸ªæ¯”æ–¹è¯´ï¼Œå°±å¥½åƒåˆ«äººç›¸ä¿¡ä½ ï¼Œä½†ä¸è§å¾—ç›¸ä¿¡ä½ çš„å­©å­ï¼›</p></li></ul><h2 id="å…±äº«æ•°æ®çš„ä¿æŠ¤">å…±äº«æ•°æ®çš„ä¿æŠ¤</h2><h3 id="å¸¸å¯¹è±¡">å¸¸å¯¹è±¡ï¼š</h3><ul><li>å¸¸å¯¹è±¡æ˜¯è¿™æ ·çš„å¯¹è±¡ï¼šå®ƒçš„æ•°æ®æˆå‘˜å€¼åœ¨å¯¹è±¡çš„æ•´ä¸ªç”Ÿå­˜æœŸé—´å†…éƒ½ä¸èƒ½è¢«æ”¹å˜ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>å¸¸å¯¹è±¡å¿…é¡»è¿›è¡Œåˆå§‹åŒ–ï¼Œè€Œä¸”ä¸èƒ½è¢«æ›´æ–°</strong>ï¼›</li><li><p>å£°æ˜å¸¸å¯¹è±¡çš„è¯­æ³•å½¢å¼ï¼š<code>const ç±»å‹è¯´æ˜ç¬¦ å¯¹è±¡åï¼›</code>;(<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">### ç”¨constä¿®é¥°çš„ç±»æˆå‘˜ï¼š</span><br><span class="line"></span><br><span class="line">#### 1.å¸¸æˆå‘˜å‡½æ•°ï¼š</span><br><span class="line">+ ä½¿ç”¨```const```å…³é”®å­—ä¿®é¥°çš„å‡½æ•°ä¸ºå¸¸æˆå‘˜å‡½æ•°ï¼Œå¸¸æˆå‘˜å‡½æ•°å£°æ˜çš„æ ¼å¼ï¼š```ç±»å‹è¯´æ˜ç¬¦ å‡½æ•°å ï¼ˆå‚æ•°è¡¨ï¼‰const```;</span><br><span class="line">+ 1.constæ˜¯å‡½æ•°ç±»å‹çš„ä¸€ä¸ªç»„æˆéƒ¨åˆ†ï¼Œå› æ­¤åœ¨å‡½æ•°çš„å®šä¹‰éƒ¨åˆ†ä¹Ÿè¦å¸¦constå…³é”®å­—ï¼›</span><br><span class="line">+ 2.å¦‚æœå°†ä¸€ä¸ªå¯¹æˆé‚£ä¸ªè¯´æ˜ä¸ºå¸¸å¯¹è±¡ï¼Œåˆ™é€šè¿‡è¯¥å¸¸å¯¹è±¡ä¹‹èƒ½è°ƒç”¨å®ƒçš„å¸¸æˆå‘˜å‡½æ•°ï¼Œè€Œä¸èƒ½è°ƒç”¨å…¶ä»–æˆå‘˜å‡½æ•°ï¼ˆè¿™å°±æ˜¯c++ä»è¯­æ³•æœºåˆ¶ä¸Šå¯¹å¸¸å¯¹è±¡çš„ä¿æŠ¤ï¼Œä¹Ÿæ˜¯å¸¸å¯¹è±¡å”¯ä¸€çš„å¯¹å¤–æ¥å£æ–¹å¼ï¼‰ï¼›</span><br><span class="line">+ 3.æ— è®ºæ˜¯å¦é€šè¿‡å¸¸å¯¹è±¡è°ƒç”¨å¸¸æˆå‘˜å‡½æ•°ï¼Œåœ¨å¸¸æˆå‘˜å‡½æ•°è°ƒç”¨æœŸé—´ï¼Œç›®çš„å¯¹è±¡éƒ½èƒ½è¢«è§†åŒä¸ºå¸¸å¯¹è±¡ï¼Œå› æ­¤å¸¸æˆå‘˜å‡½æ•°ä¸èƒ½æ›´æ–°ç›®çš„å¯¹è±¡çš„æ•°æ®æˆå‘˜ï¼Œä¹Ÿä¸èƒ½é’ˆå¯¹ç›®çš„å¯¹è±¡è°ƒç”¨è¯¥ç±»ä¸­æ²¡æœ‰ç”¨constä¿®é¥°çš„æˆå‘˜å‡½æ•°ï¼ˆè¿™å°±ä¿è¯äº†å¸¸æˆå‘˜å‡½æ•°ä¸­ä¸ä¼šæ›´æ”¹ç›®çš„å¯¹è±¡çš„æ•°æ®æˆå‘˜çš„å€¼ï¼‰ï¼›</span><br><span class="line">+ 4.constå…³é”®å­—å¯ä»¥ç”¨äºå¯¹é‡è½½å‡½æ•°çš„åŒºåˆ†ï¼š</span><br><span class="line">```cpp</span><br><span class="line">void print();</span><br><span class="line">void print() const;</span><br></pre></td></tr></table></figure></p></li><li><strong>å¦‚æœä»…ä»¥constå…³é”®å­—ä¸ºåŒºåˆ†å¯¹æˆå‘˜å‡½æ•°é‡è½½ï¼Œé‚£ä¹ˆé€šè¿‡éconstçš„å¯¹è±¡è°ƒç”¨è¯¥å‡½æ•°ï¼Œä¸¤ä¸ªé‡è½½çš„å‡½æ•°éƒ½å¯ä»¥ä¸ä¹‹åŒ¹é…ï¼Œè¿™æ—¶ç¼–è¯‘å™¨å°†é€‰æ‹©æœ€è¿‘çš„é‡è½½å‡½æ•°--ä¸å¸¦constå…³é”®å­—çš„å‡½æ•°ï¼›</strong> #### 2.å¸¸æ•°æ®æˆå‘˜ï¼š</li><li>å¦‚æœåœ¨ä¸€ä¸ªç±»ä¸­è¯´æ˜äº†å¸¸æ•°æ®æˆå‘˜ï¼Œé‚£ä¹ˆä»»ä½•å‡½æ•°ä¸­éƒ½ä¸èƒ½å¯¹è¯¥æˆå‘˜èµ‹å€¼ã€‚æ„é€ å‡½æ•°å¯¹è¯¥æ•°æ®æˆå‘˜è¿›è¡Œåˆå§‹åŒ– ï¼Œå°±åªèƒ½é€šè¿‡åˆå§‹åŒ–åˆ—è¡¨ï¼› #### 3.å¸¸å¼•ç”¨ï¼š</li><li>å¦‚æœåœ¨å£°æ˜å¼•ç”¨æ—¶ç”¨constä¿®é¥°ï¼Œè¢«å£°æ˜çš„å¼•ç”¨å°±æ˜¯å¸¸å¼•ç”¨ï¼›</li><li>å¸¸å¼•ç”¨æ‰€å¼•ç”¨çš„å¯¹è±¡ä¸èƒ½è¢«æ›´æ–°ï¼›</li><li>éconstçš„å¼•ç”¨åªèƒ½ç»‘å®šåˆ°ä¸€ä¸ªæ™®é€šçš„å¯¹è±¡ï¼Œè€Œä¸èƒ½ç»‘å®šåˆ°å¸¸å¯¹è±¡ï¼Œä½†å¸¸å¼•ç”¨å¯ä»¥ç»‘å®šåˆ°å¸¸å¯¹è±¡ï¼›</li><li><p>ä¸€ä¸ªå¸¸å¼•ç”¨ï¼Œæ— è®ºæ˜¯ç»‘å®šåˆ°ä¸€ä¸ªæ™®é€šçš„å¯¹è±¡ï¼Œè¿˜æ˜¯å¸¸å¯¹è±¡ï¼Œé€šè¿‡è¯¥å¼•ç”¨è®¿é—®è¯¥å¯¹è±¡æ—¶ï¼Œéƒ½åªèƒ½æŠŠè¯¥å¯¹è±¡å½“ä½œå¸¸å¯¹è±¡ï¼Œå¯¹äºåŸºæœ¬æ•°æ®ç±»å‹çš„å¼•ç”¨ï¼Œåˆ™ä¸èƒ½ä¸ºæ•°æ®èµ‹å€¼å¯¹äºç±»ç±»å‹çš„å¼•ç”¨ï¼Œåˆ™ä¸èƒ½ä¿®æ”¹å®ƒçš„æ•°æ®æˆå‘˜ä»¬ä¹Ÿä¸èƒ½è°ƒç”¨å®ƒçš„éconstçš„æˆå‘˜å‡½æ•°ï¼›</p></li></ul><h2 id="å¤šæ–‡ä»¶ç»“æ„å’Œç¼–è¯‘é¢„å¤„ç†å‘½ä»¤">å¤šæ–‡ä»¶ç»“æ„å’Œç¼–è¯‘é¢„å¤„ç†å‘½ä»¤</h2><h3 id="cç¨‹åºçš„ä¸€èˆ¬ç»„ç»‡ç»“æ„">C++ç¨‹åºçš„ä¸€èˆ¬ç»„ç»‡ç»“æ„</h3><ul><li>é€šå¸¸ä¸€ä¸ªé¡¹ç›®åŒ…å«ä¸‰ä¸ªæ–‡ä»¶ï¼š<strong>ç±»å®šä¹‰æ–‡ä»¶ï¼ˆ<code>*.hæ–‡ä»¶</code>ï¼‰</strong>ã€<strong>ç±»å®ç°æ–‡ä»¶ï¼ˆ<code>*.cppæ–‡ä»¶</code>ï¼‰</strong>ã€<strong>ç±»çš„ä½¿ç”¨æ–‡ä»¶ï¼ˆ<code>*.cppä¸»å‡½æ•°æ–‡ä»¶</code>ï¼‰</strong>ï¼› ### å¤–éƒ¨å˜é‡ä¸å¤–éƒ¨å‡½æ•°</li></ul>]]></content>
      
      
        <tags>
            
            <tag> c++ </tag>
            
            <tag> ç±» </tag>
            
            <tag> é¢å‘å¯¹è±¡ </tag>
            
            <tag> ç¬”è®° </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>class</title>
      <link href="/2018/03/10/class/"/>
      <content type="html"><![CDATA[<h3 id="å®Œ">2018.3.22/19.22(å®Œ)</h3><blockquote><p>ä¸æ„¤ä¸å¯ ï¼Œä¸æ‚±ä¸å‘ ï¼Œ ä¸¾ä¸€éš… ï¼Œ ä¸ä»¥ä¸‰éš…å ï¼Œ åˆ™ä¸å¤ä¹Ÿ</p></blockquote><h1 id="é¢å‘å¯¹è±¡çš„ç‰¹ç‚¹">é¢å‘å¯¹è±¡çš„ç‰¹ç‚¹ï¼š</h1><ul><li>æŠ½è±¡ï¼šæŒ‡å¯¹å…·ä½“é—®é¢˜ï¼ˆå¯¹è±¡ï¼‰è¿›è¡Œæ¦‚æ‹¬ï¼ŒæŠ½å‡ºä¸€ç±»å¯¹è±¡çš„å…¬å…±æ€§è´¨å¹¶åŠ ä»¥æè¿°çš„è¿‡ç¨‹ï¼›åŒ…æ‹¬<strong>æ•°æ®æŠ½è±¡</strong>ä¸<strong>è¡Œä¸ºæŠ½è±¡</strong>ï¼ˆæˆ–ç§°åŠŸèƒ½æŠ½è±¡ã€ä»£ç æŠ½è±¡ï¼‰ï¼›</li><li>å°è£…ï¼šæŒ‡å°†æŠ½è±¡å¾—åˆ°çš„ æ•°æ® å’Œ è¡Œä¸ºï¼ˆåŠŸèƒ½ï¼‰ç›¸ç»“åˆï¼Œå½¢æˆä¸€ä¸ªæœ‰æœºçš„æ•´ä½“ï¼Œä¹Ÿå°±æ˜¯å°†<strong>æ•°æ®</strong>ä¸<strong>æ“ä½œæ•°æ®çš„å‡½æ•°ä»£ç </strong>è¿›è¡Œæœ‰æœºçš„ç»“åˆï¼Œå½¢æˆ&quot;ç±»&quot;ï¼Œå…¶ä¸­çš„æ•°æ®å’Œå‡½æ•°éƒ½æ˜¯ç±»çš„æˆå‘˜ï¼›</li><li>ç»§æ‰¿ï¼šï¼ˆå°†ç‰¹æ®Šä¸ä¸€èˆ¬çš„å…³ç³»æè¿°æ¸…æ¥šï¼Œä½¿å¾—ç‰¹æ®Šæ¦‚å¿µä¹‹é—´æ—¢èƒ½å…±äº«ä¸€èˆ¬çš„å±æ€§å’Œè¡Œä¸ºï¼Œåˆèƒ½å…·æœ‰ç‰¹æ®Šçš„å±æ€§å’Œè¡Œä¸ºï¼‰å¯ä»¥åœ¨ä¿æŒåŸæœ‰ ç±» ç‰¹æ€§çš„åŸºç¡€ä¸Šï¼Œè¿›è¡Œæ›´å…·ä½“ã€æ›´è¯¦å°½çš„è¯´æ˜ï¼›</li><li>å¤šæ€:æŒ‡ä¸€æ®µç¨‹åºèƒ½å¤Ÿå¤„ç†å¤šç§ç±»å‹å¯¹è±¡çš„èƒ½åŠ›ï¼Œå¯ä»¥é€šè¿‡<strong>å¼ºåˆ¶å¤šæ€</strong>ã€<strong>é‡è½½å¤šæ€</strong>ã€<strong>ç±»å‹å‚æ•°åŒ–å¤šæ€</strong>ã€<strong>åŒ…å«å¤šæ€</strong>å®ç°ï¼›</li></ul><p><br></p><a id="more"></a><h1 id="ç±»å’Œå¯¹è±¡"><em>ç±»å’Œå¯¹è±¡</em>ï¼š</h1><h2 id="ç±»çš„å®šä¹‰">ç±»çš„å®šä¹‰ï¼š</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> ç±»åç§° </span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>ï¼š</span><br><span class="line">å¤–éƒ¨æ¥å£</span><br><span class="line"><span class="keyword">protected</span>ï¼š</span><br><span class="line">ä¿æŠ¤å‹æˆå‘˜</span><br><span class="line"><span class="keyword">private</span>ï¼š</span><br><span class="line">ç§æœ‰æˆå‘˜</span><br><span class="line">&#125;ï¼›</span><br></pre></td></tr></table></figure><h2 id="ç±»æˆå‘˜çš„è®¿é—®æ§åˆ¶">ç±»æˆå‘˜çš„è®¿é—®æ§åˆ¶</h2><ul><li>å¯¹ç±»æˆå‘˜çš„è®¿é—®æƒé™çš„æ§åˆ¶ï¼Œæ˜¯é€šè¿‡<strong>è®¾ç½®æˆå‘˜çš„è®¿é—®æ§åˆ¶å±æ€§</strong>è€Œå®ç°çš„ï¼›</li><li>è®¿é—®æ§åˆ¶å±æ€§æœ‰: <strong>å…¬æœ‰å±æ€§ï¼ˆpublicï¼‰</strong>ã€<strong>ç§æœ‰å±æ€§ï¼ˆprivateï¼‰</strong>ã€<strong>ä¿æŠ¤ç±»å‹ï¼ˆprotectedï¼‰</strong>ï¼›</li><li><strong>å…¬æœ‰å±æ€§</strong>å®šä¹‰äº†ç±»çš„å¤–éƒ¨æ¥å£ï¼›</li><li><strong>ç§æœ‰æˆå‘˜</strong>åªèƒ½è¢«æœ¬ç±»çš„æˆå‘˜å‡½æ•°è®¿é—®ï¼Œæ¥è‡ªå¤–éƒ¨çš„ä»»ä½•è®¿é—®éƒ½æ˜¯éæ³•çš„ï¼›</li><li><strong>ä¿æŠ¤ç±»å‹æˆå‘˜</strong>çš„æ€§è´¨å’Œç§æœ‰æˆå‘˜çš„æ€§è´¨ç›¸ä¼¼ï¼Œå…¶å·®åˆ«åœ¨äº<strong>ç»§æ‰¿</strong>è¿‡ç¨‹ä¸­å¯¹äº§ç”Ÿçš„æ–°ç±»å½±å“ä¸åŒï¼› ## å¯¹è±¡</li><li>ç±»å®é™…ä¸Šæ˜¯ä¸€ç§æŠ½è±¡æœºåˆ¶ï¼Œä»–æè¿°äº†ä¸€ç±»äº‹ç‰©çš„<strong>å…±åŒå±æ€§</strong>å’Œ<strong>è¡Œä¸º</strong>ï¼›</li><li>ç±»çš„å¯¹è±¡å°±æ˜¯è¯¥ç±»çš„æŸä¸€ç‰¹å®šå®ä½“ï¼ˆå®ä¾‹ï¼‰ï¼›</li><li><p>å£°æ˜ä¸€ä¸ªå¯¹è±¡å’Œå£°æ˜ä¸€ä¸ªä¸€èˆ¬å˜é‡ç›¸åŒï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ç±»å å¯¹è±¡åï¼›</span><br></pre></td></tr></table></figure></p></li><li><strong>å¯¹è±¡æ‰€å æ®çš„å†…å­˜ç©ºé—´åªæ˜¯ç”¨äºå­˜æ”¾æ•°æ®æˆå‘˜ï¼Œå‡½æ•°æˆå‘˜ä¸åœ¨æ¯ä¸ªå¯¹è±¡ä¸­å‚¨å­˜å‰¯æœ¬ï¼Œæ¯ä¸ªå‡½æ•°çš„ä»£ç åœ¨å†…å­˜ä¸­åªå æ®ä¸€ä»½ç©ºé—´ï¼›</strong></li><li><p>æ•°æ®æˆå‘˜çš„è®¿é—®ï¼š <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¯¹è±¡å.æ•°æ®æˆå‘˜å</span><br></pre></td></tr></table></figure></p></li><li><p>å‡½æ•°æˆå‘˜çš„è°ƒç”¨ï¼š <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¯¹è±¡å.å‡½æ•°æˆå‘˜å(å‚æ•°è¡¨)</span><br></pre></td></tr></table></figure></p></li></ul><h2 id="ç±»çš„æˆå‘˜å‡½æ•°">ç±»çš„æˆå‘˜å‡½æ•°</h2><ul><li>ç±»çš„æˆå‘˜å‡½æ•°æè¿°çš„æ˜¯<strong>ç±»çš„è¡Œä¸º</strong>ï¼› ### æˆå‘˜å‡½æ•°çš„å®ç°</li><li>å‡½æ•°çš„åŸå‹å£°æ˜è¦å†™åœ¨ç±»ä½“ä¸­ï¼ŒåŸå‹è¯´æ˜äº†å‡½æ•°çš„<strong>å‚æ•°è¡¨</strong>å’Œ<strong>è¿”å›å€¼ç±»å‹</strong>ï¼›</li><li>å‡½æ•°çš„å…·ä½“å®ç°æ˜¯åœ¨ç±»å®šä¹‰ä¹‹å¤–çš„ï¼›</li><li><p>å®ç°æˆå‘˜å‡½æ•°æ˜¯è¦æŒ‡æ˜ç±»çš„åç§°: <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">è¿”å›å€¼ç±»å‹ ç±»å::å‡½æ•°æˆå‘˜å ï¼ˆå‚æ•°è¡¨ï¼‰</span><br><span class="line">&#123;</span><br><span class="line">å‡½æ•°ä½“</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>### æˆå‘˜å‡½æ•°è°ƒç”¨ä¸­çš„ç›®çš„å¯¹è±¡</li><li>éœ€ä½¿ç”¨&quot; . &quot;æ“ä½œç¬¦æŒ‡å‡ºè°ƒç”¨æ‰€é’ˆå¯¹çš„å¯¹è±¡ï¼Œè¿™ä¸€å¯¹è±¡åœ¨æœ¬æ¬¡è°ƒç”¨ä¸­ç§°ä¸º<strong>ç›®çš„å¯¹è±¡</strong>ï¼›</li><li>åœ¨<strong>æˆå‘˜å‡½æ•°</strong>ä¸­å¯ä»¥ä¸ä½¿ç”¨&quot; . &quot;æ“ä½œç¬¦ç›´æ¥å¼•ç”¨ç›®çš„å¯¹è±¡çš„æ•°æ®æˆå‘˜ï¼›</li><li>åœ¨æˆå‘˜å‡½æ•°ä¸­è°ƒç”¨å½“å‰ç±»çš„æˆå‘˜å‡½æ•°æ—¶ï¼Œå¦‚æœä¸ä½¿ç”¨&quot; . &quot;æ“ä½œç¬¦ï¼Œé‚£ä¹ˆè¿™ä¸€æ¬¡è°ƒç”¨æ‰€é’ˆå¯¹çš„ä»æ˜¯ç›®çš„å¯¹è±¡ï¼›</li><li>åœ¨æˆå‘˜å‡½æ•°ä¸­<strong>å¼•ç”¨å…¶ä»–å¯¹è±¡çš„å±æ€§å’Œè°ƒç”¨å…¶å®ƒå¯¹è±¡çš„æ–¹æ³•æ—¶</strong>ï¼Œéƒ½éœ€è¦ä½¿ç”¨&quot; . &quot;æ“ä½œç¬¦ï¼›</li><li>åœ¨ç±»çš„æˆå‘˜å‡½æ•°ä¸­ï¼Œæ—¢å¯ä»¥è®¿é—®ç›®çš„å¯¹è±¡çš„ç§æœ‰æˆå‘˜ï¼Œåˆå¯ä»¥è®¿é—®å½“å‰ç±»çš„å…¶ä»–å¯¹è±¡çš„ç§æœ‰æˆå‘˜ï¼›ï¼ˆå¤åˆ¶æ„é€ å‡½æ•°å¯èƒ½ä¼šç”¨åˆ°.....ï¼‰ ### å¸¦é»˜è®¤å½¢å‚å€¼çš„æˆå‘˜å‡½æ•°</li><li><p>ç±»æˆå‘˜å‡½æ•°çš„é»˜è®¤å€¼ï¼Œä¸€å®šè¦å†™åœ¨<strong>ç±»å®šä¹‰</strong>ä¸­ï¼Œä¸èƒ½å†™åœ¨ç±»å®šä¹‰ä¹‹å¤–çš„å‡½æ•°å®ç°ä¸­ï¼›</p>### å†…è”æˆå‘˜å‡½æ•°</li><li>å†…è”å‡½æ•°çš„å£°æ˜ï¼š<strong>éšå¼å£°æ˜</strong>ä¸<strong>æ˜¾ç¤ºå£°æ˜</strong>ï¼›</li><li><strong>éšå¼å£°æ˜</strong> ï¼š å°†å‡½æ•°ä½“ç›´æ¥æ”¾åœ¨ç±»å†…ï¼›</li><li><p><strong>æ˜¾å¼å£°æ˜</strong> ï¼š åœ¨å‡½æ•°å®ç°æ—¶åœ¨å‡½æ•°è¿”å›å€¼ç±»å‹å‰ä½¿ç”¨å…³é”®å­—ï¼š <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">inline</span></span><br></pre></td></tr></table></figure></p></li></ul><p>ï¼›</p><h1 id="æ„é€ å‡½æ•°å’Œææ„å‡½æ•°"><em>æ„é€ å‡½æ•°å’Œææ„å‡½æ•°</em>ï¼š</h1><ul><li>å¯¹è±¡ä¹‹é—´çš„åŒºåˆ«æœ‰ï¼šå¯¹è±¡çš„åç§°ï¼ˆå¤–åœ¨åŒºåˆ«ï¼‰ã€å¯¹è±¡è‡ªèº«çš„å±æ€§å€¼ï¼Œæ•°æ®æˆå‘˜çš„å€¼ï¼ˆå†…åœ¨åŒºåˆ«ï¼‰ï¼›</li><li><strong>å¯¹è±¡çš„åˆå§‹åŒ–</strong> ï¼š åœ¨å®šä¹‰å¯¹è±¡æ—¶è¿›è¡Œçš„æ•°æ®æˆå‘˜è®¾ç½®ï¼›</li></ul><h2 id="æ„é€ å‡½æ•°">æ„é€ å‡½æ•°</h2><ul><li><strong>æ„é€ å‡½æ•°çš„ä½œç”¨</strong> : åœ¨å¯¹è±¡è¢«åˆ›å»ºæ—¶åˆ©ç”¨ç‰¹å®šçš„å€¼æ„é€ å¯¹è±¡ï¼Œå°†å¯¹è±¡åˆå§‹åŒ–ä¸ºä¸€ä¸ªç‰¹å®šçš„çŠ¶æ€ï¼›</li><li>æ„é€ å‡½æ•°ä¹Ÿæ˜¯ç±»çš„ä¸€ä¸ªæˆå‘˜å‡½æ•°ï¼Œæ„é€ å‡½æ•°çš„å‡½æ•°åä¸ç±»åç›¸åŒï¼Œè€Œä¸”æ²¡æœ‰è¿”å›å€¼ï¼Œé€šå¸¸è¢«å£°æ˜ä¸ºå…¬æœ‰å‡½æ•°ï¼›</li><li>æ„é€ å‡½æ•°åœ¨å¯¹è±¡è¢«åˆ›å»ºæ—¶è¢«è‡ªåŠ¨è°ƒç”¨ï¼›</li><li><strong>é»˜è®¤æ„é€ å‡½æ•°</strong> ï¼šè°ƒç”¨æ—¶æ— éœ€æä¾›å‚æ•°çš„æ„é€ å‡½æ•°ï¼›è‹¥ç±»ä¸­æ²¡æœ‰å†™æ„é€ å‡½æ•°æ—¶ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªéšå«çš„é»˜è®¤æ„é€ å‡½æ•°ï¼Œæ„é€ å‡½æ•°çš„å‚æ•°åˆ—è¡¨å’Œå‡½æ•°ä½“çš†ä¸ºç©ºï¼›</li><li>æ„é€ å‡½æ•°å¯ä»¥ç›´æ¥è®¿é—®ç±»çš„æ‰€æœ‰æ•°æ®æˆå‘˜ï¼Œå¯ä»¥æ˜¯å†…è”å‡½æ•°ï¼Œå¯ä»¥å¸¦æœ‰å‚æ•°è¡¨ï¼Œå¯ä»¥å¸¦æœ‰é»˜è®¤çš„å½¢å‚å€¼ï¼Œä¹Ÿå¯ä»¥é‡è½½ï¼› ## å¤åˆ¶æ„é€ å‡½æ•°</li><li>å¤åˆ¶æ„é€ å‡½æ•°æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ„é€ å‡½æ•°ï¼Œå…·æœ‰ä¸€èˆ¬æ„é€ å‡½æ•°çš„æ‰€æœ‰ç‰¹æ€§ï¼Œ<strong>å…¶å½¢å‚æ˜¯æœ¬ç±»çš„å¯¹è±¡çš„å¼•ç”¨</strong>ï¼›</li><li>å¤åˆ¶æ„é€ å‡½æ•°çš„ä½œç”¨ ï¼šä½¿ç”¨ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å¯¹è±¡ï¼ˆç”±å¤åˆ¶æ„é€ å‡½æ•°çš„å½¢å‚æŒ‡å®šï¼‰ï¼Œå»åˆå§‹åŒ–åŒç±»çš„ä¸€ä¸ªæ–°å¯¹è±¡ï¼›</li><li>éšå«çš„å¤åˆ¶æ„é€ å‡½æ•°çš„åŠŸèƒ½ ï¼š æŠŠåˆå§‹å€¼å¯¹è±¡çš„æ¯ä¸€ä¸ªæ•°æ®æˆå‘˜çš„å€¼éƒ½å¤åˆ¶åˆ°æ–°å»ºç«‹çš„å¯¹è±¡ä¸­ï¼ŒåŒç±»å¯¹è±¡çš„å¤åˆ¶ï¼›</li><li><strong>å£°æ˜å’Œå®ç°å¤åˆ¶æ„é€ å‡½æ•°çš„æ–¹æ³•</strong>: <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> ç±»å</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">ç±»å (å½¢å‚è¡¨);<span class="comment">//æ„é€ å‡½æ•°</span></span><br><span class="line">ç±»å (ç±»å &amp; å¯¹è±¡å);<span class="comment">//å¤åˆ¶æ„é€ å‡½æ•°</span></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">ç±»å :: ç±»å (ç±»å &amp; å¯¹è±¡å)<span class="comment">//å¤åˆ¶æ„é€ å‡½æ•°çš„å®ç°</span></span><br><span class="line">&#123;</span><br><span class="line">å‡½æ•°ä½“</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="å¤åˆ¶æ„é€ å‡½æ•°è¢«è°ƒç”¨çš„æƒ…å†µ"><strong>å¤åˆ¶æ„é€ å‡½æ•°è¢«è°ƒç”¨çš„æƒ…å†µï¼š</strong></h3><ul><li><p>å½“ç”¨ç±»çš„ä¸€ä¸ªå¯¹è±¡å»åˆå§‹åŒ–è¯¥ç±»çš„å¦ä¸€ä¸ªå¯¹è±¡æ—¶ï¼› <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">eg:</span><br><span class="line"><span class="function">Point <span class="title">a</span> <span class="params">( <span class="number">1</span> , <span class="number">2</span> )</span></span>;</span><br><span class="line"><span class="function">Point <span class="title">b</span> <span class="params">(a)</span></span>;<span class="comment">//ç”¨å¯¹è±¡aåˆå§‹åŒ–å¯¹è±¡b ï¼Œ å¤åˆ¶æ„é€ å‡½æ•°è¢«è°ƒç”¨</span></span><br><span class="line">Point c = a;<span class="comment">//ç”¨å¯¹è±¡aåˆå§‹åŒ–å¯¹è±¡c ï¼Œ å¤åˆ¶æ„é€ å‡½æ•°è¢«è°ƒç”¨</span></span><br><span class="line"><span class="comment">//è¿™ä¸¤ç§åˆå§‹åŒ–éƒ½èƒ½è°ƒç”¨å¤åˆ¶æ„é€ å‡½æ•°ï¼Œåªæ˜¯å½¢å¼ä¸åŒ</span></span><br></pre></td></tr></table></figure></p></li><li><p>å¦‚æœå‡½æ•°çš„å½¢å‚æ—¶ç±»çš„å¯¹è±¡ ï¼Œ è°ƒç”¨å‡½æ•°æ—¶ ï¼Œ è¿›è¡Œå½¢å‚å’Œå®å‚ç»“åˆæ—¶ï¼š <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">egï¼š</span><br><span class="line"><span class="keyword">void</span> (Point p)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; p.get() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="function">Point <span class="title">a</span> <span class="params">( <span class="number">1</span> , <span class="number">2</span> )</span></span>;</span><br><span class="line">f ( a );<span class="comment">//å‡½æ•°çš„å½¢å‚ä¸ºç±»çš„å¯¹è±¡ ï¼Œ å½“è°ƒç”¨å‡½æ•°æ—¶ ï¼Œ å¤åˆ¶æ„é€ å‡½æ•°è¢«è°ƒç”¨</span></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p></li><li><p>å¦‚æœå‡½æ•°çš„è¿”å›å€¼æ—¶ç±»çš„å¯¹è±¡ ï¼Œ å‡½æ•°æ‰§è¡Œå®Œæˆè¿”å›è°ƒç”¨è€…æ—¶ï¼š <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">eg:</span><br><span class="line"><span class="function">Point <span class="title">g</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="function">Point <span class="title">a</span> <span class="params">( <span class="number">1</span> , <span class="number">2</span> )</span></span>;</span><br><span class="line"><span class="keyword">return</span> a;<span class="comment">//å‡½æ•°çš„è¿”å›å€¼æ—¶ç±»å¯¹è±¡ ï¼Œ è¿”å›å‡½æ•°å€¼æ—¶ ï¼Œ è°ƒç”¨å¤åˆ¶æ„é€ å‡½æ•°</span></span><br><span class="line">&#125;</span><br><span class="line">...</span><br><span class="line">b = g();<span class="comment">//æ­¤å¤„ä¼šå»ºç«‹ä¸€ä¸ªæ— åä¸´æ—¶å¯¹è±¡ã€‚ã€‚ã€‚</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure></p></li></ul><h2 id="ææ„å‡½æ•°">ææ„å‡½æ•°</h2><ul><li>ç”¨æ¥å®Œæˆå¯¹è±¡è¢«åˆ é™¤å‰çš„ä¸€äº›æ¸…ç†å·¥ä½œï¼›</li><li>ææ„å‡½æ•°æ˜¯åœ¨å¯¹è±¡çš„ç”Ÿå­˜æœŸå³å°†ç»“æŸçš„æ—¶å€™è¢«è‡ªåŠ¨è°ƒç”¨çš„ï¼Œè°ƒç”¨å®Œæˆåï¼Œå¯¹è±¡æ¶ˆå¤±ï¼Œ<strong>ç›¸åº”çš„å†…å­˜ç©ºé—´ä¹Ÿè¢«é‡Šæ”¾</strong>ï¼›</li><li>ææ„å‡½æ•°é€šå¸¸æ˜¯ç±»çš„å…¬æœ‰å‡½æ•°æˆå‘˜ï¼Œä»–çš„åç§°æ—¶ç”±ç±»åå‰åŠ &quot; ~ &quot;æ„æˆ ï¼Œæ²¡æœ‰è¿”å›å€¼ï¼›</li><li>ææ„å‡½æ•°ä¸æ¥å—ä»»ä½•å‚æ•° ï¼Œ ä½†å¯ä»¥æ˜¯è™šå‡½æ•°ï¼›</li><li>å¦‚æœä¸è¿›è¡Œæ˜¾å¼è¯´æ˜ ï¼Œ ç³»ç»Ÿä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªå‡½æ•°ä½“ä¸ºç©ºçš„éšå«ææ„å‡½æ•°ï¼›</li><li><strong>å¦‚æœå¸Œæœ›ç¨‹åºåœ¨å¯¹è±¡è¢«åˆ é™¤ä¹‹å‰çš„æ—¶åˆ»è‡ªåŠ¨ ï¼ˆ ä¸éœ€è¦äººä¸ºçš„è¿›è¡Œå‡½æ•°è°ƒç”¨ ï¼‰ å®ŒæˆæŸäº›äº‹æƒ… ï¼Œ å°±å¯ä»¥æŠŠä»–ä»¬å†™åˆ°ææ„å‡½æ•°ä¸­</strong>ï¼›</li></ul><h1 id="ç±»çš„ç»„åˆ"><em>ç±»çš„ç»„åˆ</em></h1><h2 id="ç»„åˆ">ç»„åˆï¼š</h2><ul><li>è§£å†³å¤æ‚é—®é¢˜çš„æœ‰æ•ˆæ–¹æ³•å°±æ˜¯å°†å…¶å±‚å±‚åˆ†è§£ä¸ºç®€å•çš„é—®é¢˜çš„<strong>ç»„åˆ</strong>ï¼›</li><li>ç±»çš„æˆå‘˜æ•°æ®æ—¢å¯ä»¥æ˜¯<strong>åŸºæœ¬ç±»å‹</strong>ä¹Ÿå¯ä»¥æ˜¯<strong>è‡ªå®šä¹‰ç±»å‹</strong>ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æ˜¯<strong>ç±»çš„å¯¹è±¡</strong>ï¼Œç”±æ­¤å¯ä»¥é‡‡ç”¨éƒ¨ä»¶ç»„è£…çš„æ–¹æ³•ï¼Œåˆ©ç”¨å·²æœ‰çš„ç±»çš„å¯¹è±¡æ¥æ„æˆæ–°çš„ç±»ï¼›</li><li><strong>ç±»çš„ç»„åˆ</strong>æè¿°çš„å°±æ˜¯ä¸€ä¸ªç±»å†…åµŒå…¶ä»–ç±»çš„å¯¹è±¡ä½œä¸ºæˆå‘˜çš„æƒ…å†µï¼›ä»–ä»¬ä¹‹é—´çš„å…³ç³»æ˜¯åŒ…å«ä¸è¢«åŒ…å«çš„å…³ç³»ï¼›</li><li><strong>å½“åˆ›å»ºç±»çš„å¯¹è±¡æ—¶ï¼Œå¦‚æœè¿™ä¸ªç±»å…·æœ‰å†…åµŒå¯¹è±¡æˆå‘˜ï¼Œé‚£ä¹ˆå„ä¸ªå†…åµŒå¯¹è±¡å°†é¦–å…ˆè¢«è‡ªåŠ¨åˆ›å»º</strong>ï¼Œ<strong>å› ä¸ºéƒ¨ä»¶å¯¹è±¡æ˜¯å¤æ‚å¯¹è±¡çš„ä¸€éƒ¨åˆ†ï¼Œæ‰€ä»¥ï¼Œåœ¨åˆ›å»ºå¯¹è±¡æ—¶æ—¢è¦å¯¹æœ¬ç±»çš„åŸºæœ¬ç±»å‹æ•°æ®æˆå‘˜è¿›è¡Œåˆå§‹åŒ–ï¼Œåˆè¦å¯¹å†…åµŒå¯¹è±¡æˆå‘˜è¿›è¡Œåˆå§‹åŒ–</strong>ï¼›</li><li><p>ç»„åˆç±»æ„é€ å‡½æ•°å®šä¹‰çš„ä¸€èˆ¬å½¢å¼ï¼š <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ç±»å :: ç±»å (å½¢å‚è¡¨) : å†…åµŒå¯¹è±¡<span class="number">1</span> (å½¢å‚è¡¨) , å†…åµŒå¯¹è±¡<span class="number">2</span> (å½¢å‚è¡¨) ,......</span><br><span class="line">&#123;</span><br><span class="line">ç±»çš„åˆå§‹åŒ–</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//"å†…åµŒå¯¹è±¡1 (å½¢å‚è¡¨) , å†…åµŒå¯¹è±¡2 (å½¢å‚è¡¨) ,......"ç§°ä½œåˆå§‹åŒ–åˆ—è¡¨ ï¼Œ ä½œç”¨æ˜¯å¯¹å†…åµŒå¯¹è±¡çš„åˆå§‹åŒ–ï¼›</span></span><br></pre></td></tr></table></figure></p></li><li>å¯¹åŸºæœ¬ç±»å‹çš„æ•°æ®æˆå‘˜ä¹Ÿå¯ä»¥è¿™æ ·åˆå§‹åŒ–ï¼›</li><li><p><strong>åœ¨åˆ›å»ºä¸€ä¸ªç»„åˆç±»çš„å¯¹è±¡æ—¶ï¼Œä¸ä»…å®ƒè‡ªèº«çš„æ„é€ å‡½æ•°çš„å‡½æ•°ä½“å°†è¢«æ‰§è¡Œï¼Œè€Œä¸”è¿˜å°†è°ƒç”¨å…¶å†…åµŒå¯¹è±¡çš„æ„é€ å‡½æ•°</strong> ï¼Œæ­¤æ—¶æ„é€ å‡½æ•°çš„è°ƒç”¨é¡ºåºå¦‚ä¸‹ï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.è°ƒç”¨å†…åµŒå¯¹è±¡çš„æ„é€ å‡½æ•° ï¼Œ è°ƒç”¨é¡ºåºæŒ‰ç…§å†…åµŒå¯¹è±¡åœ¨ç»„åˆç±»çš„å®šä¹‰ä¸­å‡ºç°çš„æ¬¡åºï¼›**æ³¨æ„ï¼šå†…åµŒå¯¹è±¡åœ¨æ„é€ å‡½æ•°çš„åˆå§‹åŒ–åˆ—è¡¨ä¸­å‡ºç°çš„é¡ºåºä¸å¯¹è±¡æ„é€ å‡½æ•°çš„è°ƒç”¨é¡ºåºæ— å…³**ï¼›</span><br><span class="line">2.æ‰§è¡Œè¢«ç±»æ„é€ å‡½æ•°çš„å‡½æ•°ä½“ï¼›</span><br></pre></td></tr></table></figure></p></li><li>ææ„å‡½æ•°çš„è°ƒç”¨é¡ºåºä¸æ„é€ å‡½æ•°åˆšå¥½ç›¸åï¼›</li><li><p>ç»„åˆç±»çš„<strong>å¤åˆ¶æ„é€ å‡½æ•°</strong> ï¼šéœ€è¦ä¸ºå†…åµŒæˆå‘˜å¯¹è±¡çš„å¤åˆ¶æ„é€ å‡½æ•°ä¼ é€’å‚æ•°ï¼š <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//å‡è®¾Cç±»ä¸­åŒ…å«Bç±»çš„å¯¹è±¡bä½œä¸ºæˆå‘˜ ï¼Œ Cç±»çš„å¤åˆ¶æ„é€ å‡½æ•°çš„å½¢å¼ï¼š</span><br><span class="line">C :: C (C &amp;c1) : B (c1.b) &#123;...&#125;</span><br></pre></td></tr></table></figure></p></li></ul><h2 id="å‰å‘å¼•ç”¨å£°æ˜">å‰å‘å¼•ç”¨å£°æ˜</h2><ul><li>ä¸¤ä¸ªç±»çš„ç›¸äº’å¼•ç”¨æˆä¸ºå¾ªç¯ä¾èµ–ï¼›</li><li>å‰å‘å¼•ç”¨å£°æ˜ï¼Œæ˜¯åœ¨å¼•ç”¨ä¸ºå®šä¹‰çš„ç±»ä¹‹å‰ ï¼Œ å°†è¯¥ç±»çš„åå­—å‘Šè¯‰ç¼–è¯‘å™¨ ï¼Œ æ˜¯ç¼–è¯‘å™¨çŸ¥é“é‚£æ˜¯ä¸€ä¸ªç±»å ï¼Œ è€Œç±»çš„å®Œæ•´å®šä¹‰å¯ä»¥åœ¨ç¨‹åºçš„å…¶ä»–åœ°æ–¹ (ç±»ä¼¼å‡½æ•°çš„å®šä¹‰QAQ);</li><li>å°½ç®¡ä½¿ç”¨äº†å‰å‘å¼•ç”¨å£°æ˜ ï¼Œ ä½†åœ¨æä¾›ä¸€ä¸ªå®Œæ•´çš„ç±»å®šä¹‰ä¹‹å‰ ï¼Œ ä¸èƒ½å®šä¹‰è¯¥ç±»çš„å¯¹è±¡ ï¼Œ ä¹Ÿä¸èƒ½åœ¨å†…è”æˆå‘˜å‡½æ•°ä¸­ä½¿ç”¨è¯¥ç±»çš„å¯¹è±¡ ï¼Œ å³å½“ä½¿ç”¨å‰å‘å¼•ç”¨å£°æ˜æ—¶ ï¼Œ åªèƒ½ä½¿ç”¨è¢«å£°æ˜çš„ç¬¦å· ï¼Œ è€Œä¸èƒ½æ¶‰åŠç±»çš„ä»»ä½•ç»†èŠ‚ï¼›</li></ul><h2 id="ç»„åˆç±»çš„ä¸€ä¸ªå®ä¾‹">ç»„åˆç±»çš„ä¸€ä¸ªå®ä¾‹ï¼š</h2><p><img src="https://i.imgur.com/OcEpTZQ.jpg" alt="1"> <img src="https://i.imgur.com/7l6jYfh.jpg" alt="2"> <img src="https://i.imgur.com/Slh1Fij.jpg" alt="3"></p><p><img src="https://i.imgur.com/AoC8mYQ.jpg"> &gt;ç¹èŠ±ä¼¼é”¦è§…å®‰å® ï¼Œ æ·¡äº‘æµæ°´æ¸¡æ­¤ç”Ÿ</p>]]></content>
      
      <categories>
          
          <category> c++ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
            <tag> é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ </tag>
            
            <tag> ç±» </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>1_The_blog</title>
      <link href="/2018/02/23/1-The-blog/"/>
      <content type="html"><![CDATA[<h1 id="the-first-blog">The first blog</h1><h3 id="section">2018.2.23/22.46</h3><blockquote><p>æ˜¯æ•…å½“çŸ¥ï¼Œä¸–çš†æ— å¸¸ï¼Œä¼šå¿…æœ‰ç¦»ï¼Œå‹¿æ€€å¿§æ¼ï¼Œä¸–ç›¸å¦‚æ˜¯ã€‚</p><p>å½“å‹¤ç²¾è¿›ï¼Œæ—©æ±‚è§£è„±ï¼›ä»¥æ™ºæ…§æ˜ï¼Œç­è¯¸ç—´æš—</p></blockquote><p><br> - å“ˆå“ˆï¼Œè‡ªå·±çš„ç¬¬ä¸€ä¸ªåšå®¢ç»ˆäºä¸Šçº¿äº†ãƒ½(â—Â´âˆ€`â—)ï¾‰ - è™½ç„¶ï¼Œè¿™ä¸ªåšå®¢æ˜¯å®Œå…¨å‚»ç“œå¼çš„æŒ‰ç€ç½‘ä¸Šå„ä½å¤§ä½¬çš„æ•™ç¨‹ä¸€æ­¥ä¸€æ­¥åšçš„ï¼Œï¼Œï¼Œï¼Œå˜¿å˜¿(ï¾‰&gt;Ï‰&lt;)ï¾‰</p><a id="more"></a><p>æ”¾å¯’å‡å‰å°±æ—©å·²å®šä¸‹ç›®æ ‡ï¼Œï¼Œï¼Œè‡ªå·±æ­å»ºä¸€ä¸ªåšå®¢ï¼Œï¼ŒæŠŠè‡ªå·±ä»Šåå­¦ä¹ ç¼–ç¨‹æ—¶æƒ³åˆ°çš„å†™ä¸‹æ¥ï¼Œï¼Œï¼Œä¸€æ¥æ˜¯ä¸ºäº†æç‚¼è‡ªå·±çš„æ‰€å­¦ï¼Œåšä¸ªç¬”è®°ï¼Œï¼Œè¿˜æœ‰å°±æ˜¯æƒ³ç€è®°å½•è¿™å­¦ä¹ ç¼–ç¨‹ä»¥æ¥çš„ç‚¹ç‚¹æ»´æ»´ï¼Œï¼Œå¸Œæœ›èƒ½å¤ŸåšæŒåšä¸€ä»¶äº‹ï¼Œï¼ŒåšæŒåšä¸€ä»¶è‡ªå·±çœŸæ­£å–œæ¬¢çš„äº‹ï¼Œï¼Œå“ˆå“ˆï¼Œï¼Œï¼Œ(ï¾‰&gt;Ï‰&lt;)ï¾‰ï¼Œï¼Œä¹Ÿç®—æ˜¯è‡ªå·±çš„ä¸€ä¸ªå°ç›®æ ‡å§ï¼Œï¼Œï¼Œï¼Œd(`ï½¥âˆ€ï½¥)bï¼Œï¼Œï¼Œï¼ŒåŒæ—¶ï¼Œï¼Œä¹Ÿå¸Œæœ›è‡ªå·±èƒ½å¤Ÿä»¥æ­¤æ¥é”»ç‚¼ä¸€ä¸‹æ–‡ç¬”å§ï¼Œï¼Œï¼Œï¼Œï¼Œ(ã€ãƒ»Ï‰ãƒ»)ã€ã†ãƒ¼ï¼(ï¼ãƒ»Ï‰ãƒ»)ï¼ã«ã‚ƒãƒ¼ï¼</p><p>å›æƒ³è¿™ä¸€ä¸ªå¤šæœˆï¼Œï¼ŒèŠ±åœ¨å­¦ä¹ ä¸Šçš„æ—¶é—´å‡ ä¹å¯ä»¥å¿½ç•¥ä¸è®¡å•Šï¼Œï¼Œï¼Œ(â‰§âˆ€â‰¦)ã‚</p><p>èŠ±äº†ä¸¤ä¸‰å¤©æŠŠå´©æ‰çš„vpsæ•‘å¥½äº†ï¼Œï¼Œï¼Œï¼Œç„¶ååˆèŠ±äº†ä¸¤ä¸‰å¤©æŠŠè¿™ä¸ªåšå®¢åšå¥½ï¼Œï¼Œï¼Œç°åœ¨ï¼Œï¼Œåˆåœ¨é©¬ä¸Šå¼€å­¦æ—¶å†™è¿™ç¬¬ä¸€ç¯‡ï¼Œï¼Œï¼Œï¼ˆé€ƒ(à¹‘Â´ã…`)</p><p>æ˜¨æ—¥ï¼Œï¼Œå›«å›µåæ£åœ°çœ‹äº†äº›C++çš„æ–‡ä»¶æ“ä½œï¼Œï¼Œå“ï¼Œï¼Œï¼Œè¿™å‡æœŸçœ‹æ¥å°±å……äº†è¿™ä¸€ç‚¹ç”µå•Šå•Šå•Šï¼Œï¼Œï¼Œï¼ŒğŸ˜‚(Â´///â˜///`) è‹±è¯­æ˜¯ä¸€ç‚¹éƒ½æ²¡çœ‹å•Šå•Šå•Šï¼Œï¼Œï¼Œ <br><br> ç°åœ¨æ‰æ„Ÿè§‰åˆ°ä¸Šå¤§å­¦å¯çœŸä¸æ˜¯å•çº¯çš„å¯ä»¥ç©å•Šå•Šï¼Œï¼Œæœ‰å¤ªå¤šçš„äº‹ã€ç›®æ ‡è¦å®Œæˆäº†å•Šï¼Œï¼Œæ„Ÿè§‰æ—¶é—´å¾ˆå¤šï¼Œï¼Œå®é™…ä¸Šå´å¾ˆå°‘å•Šï¼Œï¼Œå°¤å…¶æ˜¯å¯¹äºåƒæˆ‘è¿™æ ·çš„â€œé‡åº¦æ‹–å»¶ç—‡æ‚£è€…â€ï¼Œï¼Œï¼Œï¼Œ</p><p>å¸Œæœ›è‡ªå·±èƒ½å¤Ÿä¸‰å¹´åæœ‰æ‰€ä¸ºå§ï¼ï¼ï¼ï¼Œï¼Œ å¸Œæœ›è‡ªå·±èƒ½å¤Ÿä¸‰å¹´ä¸€ç›´ä¿æŒç€æƒ³ç°åœ¨çš„å¿ƒæ€ï¼ï¼ä¹è§‚ï¼Œå¹³é™ï¼Œæœ‰ç›®æ ‡ï¼Œå¹²é¢„è¿½æ±‚è‡ªå·±æ‰€æƒ³çš„ï¼ï¼ï¼ å“ˆå“ˆï¼ï¼ï¼ï¼Œï¼Œï¼Œ(ç¬ÂºÏ‰Âºç¬)</p><p>æ¥æ¥æ¥ï¼Œï¼Œï¼Œå¬æ­Œd(`ï½¥âˆ€ï½¥)bï¼Œï¼Œï¼Œï¼Œ</p><iframe id="b" class="b video_pc" src="https://www.bilibili.com/video/av19891003/" frameborder="0" allowfullscreen="true" width="1080px" height="768px"></iframe><p>ï¼ˆè¯è¯´æˆ‘å°±æ˜¯è¾¹å¬è¾¹ç çš„è¿™ç¯‡ï¼Œï¼Œå˜¿å˜¿(ã‚âˆ€ï½¥)ï¼Œï¼Œï¼Œï¼Œ <img src="https://i.imgur.com/AoC8mYQ.jpg"> (åŸè°…æˆ‘ä¸ä¼šæå–Bç«™è§†é¢‘çš„é“¾æ¥ï¼Œï¼Œï¼Œï¼Œåªèƒ½æŠŠæ•´ä¸ªé¡µé¢å¼„ä¸Šæ¥äº†ï¼Œï¼Œï¼Œï¼Œï¼Œ233</p>]]></content>
      
      
        <tags>
            
            <tag> Diary </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Hello World</title>
      <link href="/2018/02/09/hello-world/"/>
      <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="quick-start">Quick Start</h2><h3 id="create-a-new-post">Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><a id="more"></a><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="run-server">Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="generate-static-files">Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="deploy-to-remote-sites">Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
      
      
    </entry>
    
  
  
</search>
