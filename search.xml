<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>1_The_blog</title>
    <url>/2018/02/23/1-The-blog/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="The-first-blog"><a href="#The-first-blog" class="headerlink" title="The first blog"></a>The first blog</h1><h3 id="2018-2-23-22-46"><a href="#2018-2-23-22-46" class="headerlink" title="2018.2.23/22.46"></a>2018.2.23/22.46</h3><blockquote>
<p>æ˜¯æ•…å½“çŸ¥ï¼Œä¸–çš†æ— å¸¸ï¼Œä¼šå¿…æœ‰ç¦»ï¼Œå‹¿æ€€å¿§æ¼ï¼Œä¸–ç›¸å¦‚æ˜¯ã€‚</p>
<p>å½“å‹¤ç²¾è¿›ï¼Œæ—©æ±‚è§£è„±ï¼›ä»¥æ™ºæ…§æ˜ï¼Œç­è¯¸ç—´æš—</p>
</blockquote>
<p><br></p>
<ul>
<li>å“ˆå“ˆï¼Œè‡ªå·±çš„ç¬¬ä¸€ä¸ªåšå®¢ç»ˆäºä¸Šçº¿äº†ãƒ½(â—Â´âˆ€`â—)ï¾‰</li>
<li>è™½ç„¶ï¼Œè¿™ä¸ªåšå®¢æ˜¯å®Œå…¨å‚»ç“œå¼çš„æŒ‰ç€ç½‘ä¸Šå„ä½å¤§ä½¬çš„æ•™ç¨‹ä¸€æ­¥ä¸€æ­¥åšçš„ï¼Œï¼Œï¼Œï¼Œå˜¿å˜¿(ï¾‰&gt;Ï‰&lt;)ï¾‰</li>
</ul>
<span id="more"></span>
<p>æ”¾å¯’å‡å‰å°±æ—©å·²å®šä¸‹ç›®æ ‡ï¼Œï¼Œï¼Œè‡ªå·±æ­å»ºä¸€ä¸ªåšå®¢ï¼Œï¼ŒæŠŠè‡ªå·±ä»Šåå­¦ä¹ ç¼–ç¨‹æ—¶æƒ³åˆ°çš„å†™ä¸‹æ¥ï¼Œï¼Œï¼Œä¸€æ¥æ˜¯ä¸ºäº†æç‚¼è‡ªå·±çš„æ‰€å­¦ï¼Œåšä¸ªç¬”è®°ï¼Œï¼Œè¿˜æœ‰å°±æ˜¯æƒ³ç€è®°å½•è¿™å­¦ä¹ ç¼–ç¨‹ä»¥æ¥çš„ç‚¹ç‚¹æ»´æ»´ï¼Œï¼Œå¸Œæœ›èƒ½å¤ŸåšæŒåšä¸€ä»¶äº‹ï¼Œï¼ŒåšæŒåšä¸€ä»¶è‡ªå·±çœŸæ­£å–œæ¬¢çš„äº‹ï¼Œï¼Œå“ˆå“ˆï¼Œï¼Œï¼Œ(ï¾‰&gt;Ï‰&lt;)ï¾‰ï¼Œï¼Œä¹Ÿç®—æ˜¯è‡ªå·±çš„ä¸€ä¸ªå°ç›®æ ‡å§ï¼Œï¼Œï¼Œï¼Œd(`ï½¥âˆ€ï½¥)bï¼Œï¼Œï¼Œï¼ŒåŒæ—¶ï¼Œï¼Œä¹Ÿå¸Œæœ›è‡ªå·±èƒ½å¤Ÿä»¥æ­¤æ¥é”»ç‚¼ä¸€ä¸‹æ–‡ç¬”å§ï¼Œï¼Œï¼Œï¼Œï¼Œ(ã€ãƒ»Ï‰ãƒ»)ã€ã†ãƒ¼ï¼(ï¼ãƒ»Ï‰ãƒ»)ï¼ã«ã‚ƒãƒ¼ï¼</p>
<p>å›æƒ³è¿™ä¸€ä¸ªå¤šæœˆï¼Œï¼ŒèŠ±åœ¨å­¦ä¹ ä¸Šçš„æ—¶é—´å‡ ä¹å¯ä»¥å¿½ç•¥ä¸è®¡å•Šï¼Œï¼Œï¼Œ(â‰§âˆ€â‰¦)ã‚</p>
<p>èŠ±äº†ä¸¤ä¸‰å¤©æŠŠå´©æ‰çš„vpsæ•‘å¥½äº†ï¼Œï¼Œï¼Œï¼Œç„¶ååˆèŠ±äº†ä¸¤ä¸‰å¤©æŠŠè¿™ä¸ªåšå®¢åšå¥½ï¼Œï¼Œï¼Œç°åœ¨ï¼Œï¼Œåˆåœ¨é©¬ä¸Šå¼€å­¦æ—¶å†™è¿™ç¬¬ä¸€ç¯‡ï¼Œï¼Œï¼Œï¼ˆé€ƒ(à¹‘Â´ã…`)</p>
<p>æ˜¨æ—¥ï¼Œï¼Œå›«å›µåæ£åœ°çœ‹äº†äº›C++çš„æ–‡ä»¶æ“ä½œï¼Œï¼Œå“ï¼Œï¼Œï¼Œè¿™å‡æœŸçœ‹æ¥å°±å……äº†è¿™ä¸€ç‚¹ç”µå•Šå•Šå•Šï¼Œï¼Œï¼Œï¼ŒğŸ˜‚(Â´///â˜///`)<br>è‹±è¯­æ˜¯ä¸€ç‚¹éƒ½æ²¡çœ‹å•Šå•Šå•Šï¼Œï¼Œï¼Œ<br><br><br><br>ç°åœ¨æ‰æ„Ÿè§‰åˆ°ä¸Šå¤§å­¦å¯çœŸä¸æ˜¯å•çº¯çš„å¯ä»¥ç©å•Šå•Šï¼Œï¼Œæœ‰å¤ªå¤šçš„äº‹ã€ç›®æ ‡è¦å®Œæˆäº†å•Šï¼Œï¼Œæ„Ÿè§‰æ—¶é—´å¾ˆå¤šï¼Œï¼Œå®é™…ä¸Šå´å¾ˆå°‘å•Šï¼Œï¼Œå°¤å…¶æ˜¯å¯¹äºåƒæˆ‘è¿™æ ·çš„â€œé‡åº¦æ‹–å»¶ç—‡æ‚£è€…â€ï¼Œï¼Œï¼Œï¼Œ</p>
<p>å¸Œæœ›è‡ªå·±èƒ½å¤Ÿä¸‰å¹´åæœ‰æ‰€ä¸ºå§ï¼ï¼ï¼ï¼Œï¼Œ<br>å¸Œæœ›è‡ªå·±èƒ½å¤Ÿä¸‰å¹´ä¸€ç›´ä¿æŒç€æƒ³ç°åœ¨çš„å¿ƒæ€ï¼ï¼ä¹è§‚ï¼Œå¹³é™ï¼Œæœ‰ç›®æ ‡ï¼Œå¹²é¢„è¿½æ±‚è‡ªå·±æ‰€æƒ³çš„ï¼ï¼ï¼<br>å“ˆå“ˆï¼ï¼ï¼ï¼Œï¼Œï¼Œ(ç¬ÂºÏ‰Âºç¬)</p>
<p>æ¥æ¥æ¥ï¼Œï¼Œï¼Œå¬æ­Œd(`ï½¥âˆ€ï½¥)bï¼Œï¼Œï¼Œï¼Œ</p>
<iframe id="b" class="b video_pc" src="https://www.bilibili.com/video/av19891003/" frameborder="0" allowfullscreen="true" width="1080px" height="768px">
</iframe> 


<p>ï¼ˆè¯è¯´æˆ‘å°±æ˜¯è¾¹å¬è¾¹ç çš„è¿™ç¯‡ï¼Œï¼Œå˜¿å˜¿(ã‚âˆ€ï½¥)ï¼Œï¼Œï¼Œï¼Œ<br><img src="https://i.imgur.com/AoC8mYQ.jpg" alt=""><br>(åŸè°…æˆ‘ä¸ä¼šæå–Bç«™è§†é¢‘çš„é“¾æ¥ï¼Œï¼Œï¼Œï¼Œåªèƒ½æŠŠæ•´ä¸ªé¡µé¢å¼„ä¸Šæ¥äº†ï¼Œï¼Œï¼Œï¼Œï¼Œ233</p>
]]></content>
      <tags>
        <tag>Diary</tag>
      </tags>
  </entry>
  <entry>
    <title>2017icpcè¥¿å®‰åŒºåŸŸèµ›</title>
    <url>/2019/09/28/2017icpc%E8%A5%BF%E5%AE%89%E5%8C%BA%E5%9F%9F%E8%B5%9B/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>çº¿æ®µæ ‘ä¸“åœºï¼Œï¼Œï¼Œemmmm</p>
<p>ä½œå®Œç­¾åˆ°å°±è‡ªé—­äº†ï¼Œï¼Œæ•°æ®å‡ºé”…2333</p>
<span id="more"></span>
<h1 id="A-XOR"><a href="#A-XOR" class="headerlink" title="A. XOR"></a>A. XOR</h1><p>ä¹‹å‰å°±çŸ¥é“çœ‹åˆ°è¿™ä¸ªçº¿æ€§åŸº+çº¿æ®µæ ‘çš„æ¿å­é¢˜ï¼Œï¼Œä¸€ç›´æƒ³è¡¥ï¼Œï¼Œæ‹–åˆ°ç°åœ¨</p>
<p>é¢˜æ„å¾ˆç®€å•ï¼Œï¼Œå°±æ˜¯é—®ä¸€ä¸ªåŒºé—´æŸäº›æ•°çš„å¼‚æˆ–å’Œä¸Kçš„æˆ–çš„æœ€å¤§å€¼ï¼Œï¼Œï¼Œ</p>
<p>å¦‚æœæ²¡æœ‰Kï¼Œï¼Œè¿™é“é¢˜æ˜¾ç„¶æ˜¯ç­¾åˆ°é¢˜ï¼Œï¼Œï¼Œä½†æ˜¯å¤šäº†ä¸€ä¸ªKï¼Œï¼Œ</p>
<p>å…¶å®Kä¹Ÿå¾ˆå¥½å¤„ç†ï¼Œï¼Œï¼Œ</p>
<p>å› ä¸ºè¦æ±‚ä¸¤ä¸ªæ•°çš„æˆ–çš„æœ€å¤§å€¼ï¼Œï¼ŒKåˆæ˜¯ç»™å®šçš„ï¼Œï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è´ªå¿ƒçš„é€‰æ‹©ä¸€ä¸ªäºŒè¿›åˆ¶ä½æ˜¯1çš„ä½†æ˜¯å¯¹åº”åœ¨Kä¸­æ˜¯0çš„æ•°ï¼Œï¼Œï¼Œè¿™æ ·æ˜¾ç„¶æœ€åæ±‚å¾—æˆ–å€¼æœ€å¤§ï¼Œï¼Œ</p>
<p>æ‰€ä»¥è¿™é¢˜å°±å˜æˆäº†ä¸è€ƒè™‘Kä¸­æ˜¯1çš„é‚£å‡ ä½çš„æ•°ï¼Œï¼Œä¹Ÿå°±æ˜¯å¯¹äº $a_i$ åªè€ƒè™‘Kå¯¹åº”ä½æ˜¯0çš„é‚£äº›æ•°ï¼Œï¼Œå°†1åˆ å»ï¼Œï¼Œï¼Œåˆ å»çš„æ“ä½œå°±æ˜¯å¯¹äºæ¯ä¸€ä¸ªæ•°éƒ½å’ŒKçš„å–åçš„ç»“æœç›¸ä¸ï¼Œï¼Œè¿™æ ·ç•™ä¸‹çš„å°±æ˜¯åœ¨Kä¸­æ˜¯0çš„é‚£äº›ä½ï¼Œï¼Œï¼Œæœ€åå¯¹äºè¿™ä¸ªå¤„ç†åçš„æ–°çš„æ•°ç»„å¿«ä¹çš„ç”¨çº¿æ€§åŸº+çº¿æ®µæ ‘æš´åŠ›åˆå¹¶è¯¢é—®å°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
<p>çº¿æ€§åŸºçš„åˆå¹¶è¦ä½¿ç”¨ä¸æ˜¯é«˜æ–¯æ¶ˆå…ƒçš„é‚£ç§ï¼Œï¼Œ<del>ï¼ˆå¿˜è®°å…³åŒæ­¥Täº†ä¸€å‘</del></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">4e5</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br>ll n, q, k;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">linerbasis</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxbase = <span class="hljs-number">33</span>;<br>    <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">false</span>;<br>    ll a[maxbase + <span class="hljs-number">1</span>];<br>    linerbasis()<br>    &#123;<br>        <span class="hljs-built_in">memset</span>(a, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> a);<br>    &#125;<br>    linerbasis(ll *x, <span class="hljs-keyword">int</span> n)<br>    &#123;<br>        linerbasis();<br>        build(x, n);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">build</span><span class="hljs-params">(ll *x, <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            insert(x[i]);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">clear</span><span class="hljs-params">()</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-built_in">memset</span>(a, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> a);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">insert</span><span class="hljs-params">(ll t)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(t &amp; (<span class="hljs-number">1ll</span> &lt;&lt; i))<br>            &#123;<br>                <span class="hljs-keyword">if</span>(!a[i])<br>                &#123;<br>                    a[i] = t;<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>                t ^= a[i];<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(t == <span class="hljs-number">0</span>)flag = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">return</span> t;<br>    &#125;<br>    <span class="hljs-function">linerbasis <span class="hljs-title">merge</span><span class="hljs-params">(<span class="hljs-keyword">const</span> linerbasis &amp;l1, <span class="hljs-keyword">const</span> linerbasis &amp;l2)</span></span><br><span class="hljs-function">    </span>&#123;<br>        linerbasis ret = l1;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>            <span class="hljs-keyword">if</span>(l2.a[i])<br>                ret.insert(l2.a[i]);<br>        <span class="hljs-keyword">return</span> ret;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">merge</span><span class="hljs-params">(<span class="hljs-keyword">const</span> linerbasis &amp;l)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>            <span class="hljs-keyword">if</span>(l.a[i])<br>                insert(l.a[i]);<br>    &#125;<br>    <span class="hljs-function">ll <span class="hljs-title">queryMax</span><span class="hljs-params">()</span></span><br><span class="hljs-function">    </span>&#123;<br>        ll ret = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>            <span class="hljs-keyword">if</span>((ret ^ a[i]) &gt; ret)<br>                ret ^= a[i];<br>        <span class="hljs-keyword">return</span> ret;<br>    &#125;<br>&#125;lb[maxn &lt;&lt; <span class="hljs-number">2</span>];<br>ll a[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">pushup</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt)</span></span><br><span class="hljs-function"></span>&#123;<br>    lb[rt] = lb[rt].merge(lb[rt &lt;&lt; <span class="hljs-number">1</span>], lb[rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>]);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">build</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    lb[rt].clear();<br>    <span class="hljs-keyword">if</span>(l == r)<br>    &#123;<br>        lb[rt].insert(a[l]);<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-keyword">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>    build(rt &lt;&lt; <span class="hljs-number">1</span>, l, mid);<br>    build(rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>, mid + <span class="hljs-number">1</span>, r);<br>    pushup(rt);<br>&#125;<br><span class="hljs-function">linerbasis <span class="hljs-title">query</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r, <span class="hljs-keyword">int</span> L, <span class="hljs-keyword">int</span> R)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(L &lt;= l &amp;&amp; r &lt;= R)<br>    &#123;<br>        <span class="hljs-keyword">return</span> lb[rt];<br>    &#125;<br>    <span class="hljs-keyword">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>    linerbasis ret;<br>    <span class="hljs-keyword">if</span>(L &lt;= mid)ret.merge(query(rt &lt;&lt; <span class="hljs-number">1</span>, l, mid, L, R));<br>    <span class="hljs-keyword">if</span>(R &gt;  mid)ret.merge(query(rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>, mid + <span class="hljs-number">1</span>, r, L, R));<br>    <span class="hljs-keyword">return</span> ret;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br><br>    <span class="hljs-keyword">int</span> t; <span class="hljs-built_in">cin</span> &gt;&gt; t;<br>    <span class="hljs-keyword">while</span>(t--)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; q &gt;&gt; k;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; a[i];<br>        k = ~k;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)a[i] &amp;= k;<br>        k = ~k;<br>        build(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, n);<br>        <span class="hljs-keyword">int</span> l, r;<br>        <span class="hljs-keyword">while</span>(q--)<br>        &#123;<br>            <span class="hljs-built_in">cin</span> &gt;&gt; l &gt;&gt; r;<br>            <span class="hljs-built_in">cout</span> &lt;&lt; (k | query(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, n, l, r).queryMax()) &lt;&lt; <span class="hljs-built_in">endl</span>;        <br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
      <tags>
        <tag>ACM</tag>
        <tag>åˆ·é¢˜</tag>
      </tags>
  </entry>
  <entry>
    <title>2017åŒ—äº¬åŒºåŸŸèµ›</title>
    <url>/2019/10/13/2017%E5%8C%97%E4%BA%AC%E5%8C%BA%E5%9F%9F%E8%B5%9B/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>æ¨¡æ‹Ÿé¢˜åœºå•Šï¼Œï¼Œï¼Œï¼Œï¼Œ</p>
<p><a href="https://vjudge.net/contest/200099">é¢˜ç›®é“¾æ¥</a></p>
<span id="more"></span>
<h1 id="E-Cats-and-Fish"><a href="#E-Cats-and-Fish" class="headerlink" title="E - Cats and Fish"></a>E - Cats and Fish</h1><p>ç­¾åˆ°é¢˜å§ï¼Œï¼Œè¯»å®Œé¢˜åæ„Ÿè§‰æ˜¯æ¨¡æ‹Ÿï¼Œï¼Œç„¶åå†™å®Œä¹‹åä¸€æµ‹æ ·ä¾‹waäº†ï¼Œï¼Œè¿™æ—¶é˜Ÿå‹è¯´æ¨å‡ºå…¬å¼äº†ï¼Œï¼Œäºæ˜¯æˆ‘å°±æ”¾å¼ƒè°ƒå»çœ‹åˆ«çš„é¢˜äº†ï¼Œï¼Œï¼Œä½†æ˜¯waäº†å‡ å‘ååˆç”¨æ¨¡æ‹Ÿè¿‡çš„ï¼Œï¼Œï¼Œ</p>
<p>ç›´æ¥æ¨¡æ‹Ÿæ—¶é—´ï¼Œï¼Œè®°å½•æ¯åªçŒ«çš„çŠ¶æ€ï¼Œï¼Œæ¯æ¬¡åˆ¤æ–­ä¸€ä¸‹å°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(TM(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e3</span>+ <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e7</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-keyword">int</span> a[maxn], n, m, x;<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-keyword">int</span> TM[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br><br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">cin</span> &gt;&gt; m &gt;&gt; n &gt;&gt; x)<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; a[i];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)vis[i] = <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)TM[i] = <span class="hljs-number">0</span>;<br>        sort(a + <span class="hljs-number">1</span>, a + <span class="hljs-number">1</span> + n);<br>        <span class="hljs-keyword">int</span> all = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> t = <span class="hljs-number">1</span>; t &lt;= x; ++t)<br>        &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>                <span class="hljs-keyword">if</span>(!vis[i] &amp;&amp; all &lt; m)<br>                &#123;<br>                    vis[i] = <span class="hljs-literal">true</span>;<br>                    ++all;<br>                &#125;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-keyword">if</span>(vis[i])++TM[i];<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>                <span class="hljs-keyword">if</span>(vis[i])<br>                &#123;<br>                    TM[i] %= a[i];<br>                    <span class="hljs-keyword">if</span>(TM[i] == <span class="hljs-number">0</span>)vis[i] = <span class="hljs-literal">false</span>;<br>                &#125;<br>        &#125;<br>        <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-keyword">if</span>(vis[i])++ans;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; m - all &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; ans &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="F-Secret-Poems"><a href="#F-Secret-Poems" class="headerlink" title="F - Secret Poems"></a>F - Secret Poems</h1><p>å°æ¨¡æ‹Ÿ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(TM(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e3</span>+ <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e7</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-keyword">char</span> s[maxn][maxn];<br><span class="hljs-keyword">char</span> str[maxn * maxn];<br><span class="hljs-keyword">char</span> t[maxn][maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br><br>    <span class="hljs-keyword">int</span> n;<br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">cin</span> &gt;&gt; n)<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; s[i] + <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span>(n == <span class="hljs-number">1</span>)<br>        &#123;<br>            <span class="hljs-built_in">cout</span> &lt;&lt; s[<span class="hljs-number">1</span>] + <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br>        <span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>, j = <span class="hljs-number">1</span>, tot = <span class="hljs-number">1</span>;<br>        str[tot++] = s[i][j];<br>        <span class="hljs-keyword">while</span>(i &lt;= n &amp;&amp; j &lt;= n)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(j == n)<br>            &#123;<br>                ++i;<br>                str[tot++] = s[i][j];<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                ++j; <br>                str[tot++] = s[i][j];<br>            &#125;<br>            <br>            <span class="hljs-keyword">while</span>(<span class="hljs-literal">true</span>)<br>            &#123;<br>                ++i; --j;<br>                str[tot++] = s[i][j];<br>                <span class="hljs-keyword">if</span>(j == <span class="hljs-number">1</span> || i == n)<span class="hljs-keyword">break</span>;<br>            &#125;<br>            <span class="hljs-keyword">if</span>(j == <span class="hljs-number">1</span> &amp;&amp; i != n)<br>            &#123;<br>                ++i;<br>                str[tot++] = s[i][j];<br>            &#125;<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(i == n)<br>            &#123;<br>                ++j;<br>                str[tot++] = s[i][j];<br>            &#125;<br>            <span class="hljs-keyword">while</span>(<span class="hljs-literal">true</span>)<br>            &#123;<br>                --i; ++j;<br>                str[tot++] = s[i][j];<br>                <span class="hljs-keyword">if</span>(i == <span class="hljs-number">1</span> || j == n)<span class="hljs-keyword">break</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-comment">// for(int i = 1; i &lt;= tot; ++i)cout &lt;&lt; str[i];cout &lt;&lt; endl;</span><br>        <span class="hljs-keyword">int</span> l = <span class="hljs-number">1</span>, r = n, up = <span class="hljs-number">1</span>, dn = n;<br>        tot = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">while</span>(l &lt;= r &amp;&amp; up &lt;= dn)<br>        &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = l; i &lt;= r; ++i)t[up][i] = str[tot++];<br>            ++up;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = up; i &lt;= dn; ++i)t[i][r] = str[tot++];<br>            --r;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = r; i &gt;= l; --i)t[dn][i] = str[tot++];<br>            --dn;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = dn; i &gt;= up; --i)t[i][l] = str[tot++];<br>            ++l;<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; ++j)<br>                <span class="hljs-built_in">cout</span> &lt;&lt; t[i][j];<br>            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="G-Liaoning-Shipâ€™s-Voyage"><a href="#G-Liaoning-Shipâ€™s-Voyage" class="headerlink" title="G - Liaoning Shipâ€™s Voyage"></a>G - Liaoning Shipâ€™s Voyage</h1><p>å•Šï¼Œï¼Œï¼Œè®¡ç®—å‡ ä½•+bfsï¼Œï¼Œ</p>
<p>åˆ¤æ–­ä¸€ä¸‹æ¯ä¸€ä¸ªç‚¹ä¹‹é—´åˆä¸åˆæ³•ï¼Œï¼Œè¿è¾¹bfså³å¯ï¼Œï¼Œ</p>
<p>åˆ¤æ–­å°±æ˜¯çœ‹è¿™ä¸¤ä¸ªç‚¹åœ¨ä¸åœ¨ä¸‰è§’å½¢é‡Œï¼Œï¼Œä¸‰è§’å½¢é‡Œçš„ç‚¹ä¸€å®šæ˜¯æ²¡æœ‰è¾¹çš„ï¼Œæœ‰ç›¸äº¤çš„ä¹Ÿä¸è¡Œï¼Œï¼Œï¼Œä½†æ˜¯å› ä¸ºè¾¹ä¸Šç‚¹å¯ä»¥èµ°ï¼Œï¼Œæ‰€ä»¥è¦åˆ¤æ–­ä¸€ä¸‹åœ¨è¾¹ä¸Šçš„æƒ…å†µï¼Œï¼Œå°¤å…¶æ˜¯ï¼š</p>
<p><img src="https://img-blog.csdn.net/20180830233455689?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NpbmF0XzM2MjE1MjU1/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""></p>
<p>è¿™æ ·çš„æƒ…å†µæˆ‘ä»¥ä¸ºä¸­é—´åˆ¤äº†ï¼Œï¼Œä½†æ˜¯å®é™…æ²¡åˆ¤ï¼Œï¼Œï¼Œç–¯ç‹‚waï¼Œï¼Œï¼Œè‡ªé—­ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(TM(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e7</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-comment">// .......</span><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">sgn</span><span class="hljs-params">(<span class="hljs-keyword">double</span> x)</span></span>&#123;<br>    <span class="hljs-keyword">if</span>(<span class="hljs-built_in">fabs</span>(x) &lt; eps)<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">if</span>(x &lt; <span class="hljs-number">0</span>)<span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Point</span>&#123;</span><br>    <span class="hljs-keyword">double</span> x, y;<br>    Point()&#123;&#125;<br>    Point(<span class="hljs-keyword">double</span> _x, <span class="hljs-keyword">double</span> _y)&#123;<br>        x = _x; y = _y;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">input</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">// scanf(&quot;%lf%lf&quot;, &amp;x, &amp;y);</span><br>        <span class="hljs-built_in">cin</span> &gt;&gt; x &gt;&gt; y;<br>    &#125;<br>    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>==(Point b)<span class="hljs-keyword">const</span>&#123;<br>        <span class="hljs-keyword">return</span> sgn(x - b.x) == <span class="hljs-number">0</span> &amp;&amp; sgn(y - b.y) == <span class="hljs-number">0</span>;<br>    &#125;<br>    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span> &lt;(Point b)<span class="hljs-keyword">const</span>&#123;<br>        <span class="hljs-keyword">return</span> sgn(x - b.x) == <span class="hljs-number">0</span> ? sgn(y - b.y) &lt; <span class="hljs-number">0</span> : x &lt; b.x;<br>    &#125;<br>    Point <span class="hljs-keyword">operator</span>-(<span class="hljs-keyword">const</span> Point &amp;b)<span class="hljs-keyword">const</span>&#123;<br>        <span class="hljs-keyword">return</span> Point(x - b.x, y - b.y);<br>    &#125;<br>    <span class="hljs-keyword">double</span> <span class="hljs-keyword">operator</span>*(<span class="hljs-keyword">const</span> Point &amp;b)<span class="hljs-keyword">const</span>&#123;<br>        <span class="hljs-keyword">return</span> x * b.x + y * b.y;<br>    &#125;<br>    <span class="hljs-keyword">double</span> <span class="hljs-keyword">operator</span>^(<span class="hljs-keyword">const</span> Point &amp;b)<span class="hljs-keyword">const</span>&#123;<br>        <span class="hljs-keyword">return</span> x * b.y - y * b.x;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">double</span> <span class="hljs-title">distance</span><span class="hljs-params">(Point p)</span></span>&#123;<br>        <span class="hljs-keyword">return</span> hypot(x - p.x, y - p.y);<br>    &#125;<br>&#125;p1, p2, p3;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Line</span>&#123;</span><br>    Point s, e;<br>    Line()&#123;&#125;<br>    Line(Point _s, Point _e)&#123;<br>        s = _s;<br>        e = _e;<br>    &#125;<br>    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>==(Line v)&#123;<br>        <span class="hljs-keyword">return</span> (s == v.s) &amp;&amp; (e == v.e);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">(Point a, Point b)</span></span>&#123;<br>        s = a;<br>        e = b;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">double</span> <span class="hljs-title">length</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> s.distance(e);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">double</span> <span class="hljs-title">dispointtoline</span><span class="hljs-params">(Point p)</span></span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">fabs</span>((p - s) ^ (e - s)) / length();<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">double</span> <span class="hljs-title">dispointtoseg</span><span class="hljs-params">(Point p)</span></span>&#123;<br>        <span class="hljs-keyword">if</span>(sgn((p - s) * (e - s)) &lt; <span class="hljs-number">0</span> || sgn((p - e) * (s - e)) &lt; <span class="hljs-number">0</span>)<br>            <span class="hljs-keyword">return</span> min(p.distance(s), p.distance(e));<br>        <span class="hljs-keyword">return</span> dispointtoline(p);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">segcrosseg</span><span class="hljs-params">(Line v)</span></span>&#123;<br>        <span class="hljs-keyword">int</span> d1 = sgn((e - s) ^ (v.s - s));<br>        <span class="hljs-keyword">int</span> d2 = sgn((e - s) ^ (v.e - s));<br>        <span class="hljs-keyword">int</span> d3 = sgn((v.e - v.s) ^ (s - v.s));<br>        <span class="hljs-keyword">int</span> d4 = sgn((v.e - v.s) ^ (e - v.s));<br>        <span class="hljs-keyword">if</span>((d1 ^ d2) == <span class="hljs-number">-2</span> &amp;&amp; (d3 ^ d4) == <span class="hljs-number">-2</span>)<span class="hljs-keyword">return</span> <span class="hljs-number">2</span>;<br>        <span class="hljs-keyword">return</span> (d1 == <span class="hljs-number">0</span> &amp;&amp; sgn((v.s - s) * (v.s - e)) &lt;= <span class="hljs-number">0</span>) ||<br>            (d2 == <span class="hljs-number">0</span> &amp;&amp; sgn((v.e - s) * (v.e - e)) &lt;= <span class="hljs-number">0</span>) ||<br>            (d3 == <span class="hljs-number">0</span> &amp;&amp; sgn((s - v.s) * (s - v.e)) &lt;= <span class="hljs-number">0</span>) ||<br>            (d4 == <span class="hljs-number">0</span> &amp;&amp; sgn((e - v.s) * (e - v.e)) &lt;= <span class="hljs-number">0</span>);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">pointonseg</span><span class="hljs-params">(Point p)</span></span>&#123;<br>        <span class="hljs-keyword">return</span> sgn((p - s) ^ (e - s)) == <span class="hljs-number">0</span> &amp;&amp; sgn((p - s) * (p - e)) &lt;= <span class="hljs-number">0</span>;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">double</span> <span class="hljs-title">getarea</span><span class="hljs-params">(Point p)</span></span>&#123;<br>        <span class="hljs-keyword">double</span> area = dispointtoline(p) * length() / <span class="hljs-number">2</span>;<br>        <span class="hljs-keyword">return</span> area;<br>    &#125;<br>&#125;l1, l2, l3;<br><br><span class="hljs-comment">// ........</span><br><br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">egde</span>&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt;<br>&#125;edge[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, head[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v)</span></span>&#123;<br>    <span class="hljs-comment">// if(!(tot &amp; 1))cout &lt;&lt; u &lt;&lt; &quot;-&gt;&quot; &lt;&lt; v &lt;&lt; endl;</span><br>    edge[tot].to = v;<br>    edge[tot].nxt = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-keyword">int</span> dis[maxn];<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-built_in">queue</span>&lt;<span class="hljs-keyword">int</span>&gt; q;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dijkstra</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n, <span class="hljs-keyword">int</span> s)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vis);<br>    <span class="hljs-built_in">memset</span>(dis, inf, <span class="hljs-keyword">sizeof</span> dis);<br>    <span class="hljs-keyword">while</span>(!q.empty())q.pop();<br>    q.push(s);<br>    dis[s] = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span>(!q.empty())<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = q.front(); q.pop();<br>        <span class="hljs-keyword">if</span>(vis[u])<span class="hljs-keyword">continue</span>;<br>        vis[u] = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = edge[i].to;<br>            <span class="hljs-keyword">if</span>(dis[v] &gt; dis[u] + <span class="hljs-number">1</span>)<br>            &#123;<br>                dis[v] = dis[u] + <span class="hljs-number">1</span>;<br>                q.push(v);<br>            &#125;<br>        &#125;<br>    &#125;   <br>&#125;<br><br><span class="hljs-keyword">int</span> n;<br><span class="hljs-keyword">char</span> mp[<span class="hljs-number">25</span>][<span class="hljs-number">25</span>];<br><span class="hljs-built_in">map</span>&lt;Point, <span class="hljs-keyword">bool</span>&gt; mp1, mp2, mp3, p;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getidx</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span></span>&#123;<span class="hljs-keyword">return</span> x * n + y;&#125;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">check</span><span class="hljs-params">(Point a, Point b)</span></span><br><span class="hljs-function"></span>&#123;<br>    Line l = Line(a, b);<br>    <span class="hljs-comment">// if(a.x == 0 &amp;&amp; a.y == 1)&#123;</span><br>    <span class="hljs-comment">//     cout &lt;&lt; a.x &lt;&lt; &quot; &quot; &lt;&lt; a.y &lt;&lt; &quot;; &quot; &lt;&lt; b.x &lt;&lt; &quot; &quot; &lt;&lt; b.y &lt;&lt; endl;</span><br>    <span class="hljs-comment">//     cout &lt;&lt; l.segcrosseg(l1) &lt;&lt; endl;</span><br>    <span class="hljs-comment">//     cout &lt;&lt; l.segcrosseg(l2) &lt;&lt; endl;</span><br>    <span class="hljs-comment">//     cout &lt;&lt; l.segcrosseg(l3) &lt;&lt; endl;</span><br>    <span class="hljs-comment">// &#125;</span><br>    <span class="hljs-keyword">if</span>(l.segcrosseg(l1) == <span class="hljs-number">2</span> || l.segcrosseg(l2) == <span class="hljs-number">2</span> || l.segcrosseg(l3) == <span class="hljs-number">2</span>)<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">if</span>(mp1[a] &amp;&amp; mp1[b])<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(mp2[a] &amp;&amp; mp2[b])<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(mp3[a] &amp;&amp; mp3[b])<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">if</span>(!p[a] || !p[b])<br>    &#123;<br>        <span class="hljs-keyword">if</span>((mp1[a] &amp;&amp; mp2[b]) || (mp1[a] &amp;&amp; mp3[b]) || (mp2[a] &amp;&amp; mp1[b]) || (mp2[a] &amp;&amp; mp3[b]) || (mp3[a] &amp;&amp; mp1[b]) || (mp3[a] &amp;&amp; mp2[b]))<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(l.segcrosseg(l1) == <span class="hljs-number">1</span> &amp;&amp; l.segcrosseg(l2) == <span class="hljs-number">1</span> &amp;&amp; l.segcrosseg(l3) == <span class="hljs-number">1</span>)<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">if</span>(l.segcrosseg(l1) == <span class="hljs-number">1</span> || l.segcrosseg(l2) == <span class="hljs-number">1</span> || l.segcrosseg(l3) == <span class="hljs-number">1</span>)<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    <br>    <span class="hljs-comment">// if(l.segcrosseg(l1) == 1 || l.segcrosseg(l2) == 1 || l.segcrosseg(l3) == 1)return false;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">cin</span> &gt;&gt; n)<br>    &#123;<br>        p1.input(); p2.input(); p3.input();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = n - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; --i)<span class="hljs-built_in">cin</span> &gt;&gt; mp[i];<br>        mp[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = <span class="hljs-string">&#x27;.&#x27;</span>;<br>        l1.init(p1, p2); l2.init(p1, p3); l3.init(p2, p3);<br>        <span class="hljs-keyword">double</span> area = l1.getarea(p3);<br>        mp1.clear(); mp2.clear(); mp3.clear(); p.clear();<br>        p[p1] = <span class="hljs-literal">true</span>; p[p2] = <span class="hljs-literal">true</span>; p[p3] = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n - <span class="hljs-number">1</span>; ++i)<br>        &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt;= n - <span class="hljs-number">1</span>; ++j)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(mp[i][j] == <span class="hljs-string">&#x27;#&#x27;</span>)<span class="hljs-keyword">continue</span>;<br>                Point p = Point(j, i);<br>                <span class="hljs-keyword">double</span> area1 = l1.getarea(p);<br>                <span class="hljs-keyword">double</span> area2 = l2.getarea(p);<br>                <span class="hljs-keyword">double</span> area3 = l3.getarea(p);<br>                <span class="hljs-keyword">if</span>(l1.pointonseg(p))mp1[p] = <span class="hljs-literal">true</span>;<br>                <span class="hljs-keyword">if</span>(l2.pointonseg(p))mp2[p] = <span class="hljs-literal">true</span>;<br>                <span class="hljs-keyword">if</span>(l3.pointonseg(p))mp3[p] = <span class="hljs-literal">true</span>;<br>                <span class="hljs-keyword">if</span>(sgn(area1 + area2 + area3 - area) == <span class="hljs-number">0</span>)mp[i][j] = <span class="hljs-string">&#x27;#&#x27;</span>;<br>                <span class="hljs-keyword">if</span>(mp1[p] || mp2[p] || mp3[p])mp[i][j] = <span class="hljs-string">&#x27;.&#x27;</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">int</span> dx[] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>&#125;;<br>        <span class="hljs-keyword">int</span> dy[] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>&#125;;<br>        Point p, q;<br>        init();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n - <span class="hljs-number">1</span>; ++i)<br>        &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt;= n - <span class="hljs-number">1</span>; ++j)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(mp[i][j] == <span class="hljs-string">&#x27;#&#x27;</span>)<span class="hljs-keyword">continue</span>;<br>                p = Point((<span class="hljs-keyword">double</span>)j, (<span class="hljs-keyword">double</span>)i);<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> k = <span class="hljs-number">0</span>; k &lt;= <span class="hljs-number">7</span>; ++k)<br>                &#123;<br>                    <span class="hljs-keyword">int</span> x = j + dx[k];<br>                    <span class="hljs-keyword">int</span> y = i + dy[k];<br>                    <span class="hljs-keyword">if</span>(x &lt; <span class="hljs-number">0</span> || x &gt;= n || y &lt; <span class="hljs-number">0</span> || y &gt;= n)<span class="hljs-keyword">continue</span>;<br>                    <span class="hljs-keyword">if</span>(mp[y][x] == <span class="hljs-string">&#x27;#&#x27;</span>)<span class="hljs-keyword">continue</span>;<br>                    q = Point((<span class="hljs-keyword">double</span>)x, (<span class="hljs-keyword">double</span>)y);<br>                    <span class="hljs-keyword">if</span>(check(p, q))<br>                        addedge(getidx(j, i), getidx(x, y)), addedge(getidx(x, y), getidx(j, i));<br>                &#125;<br>            &#125;<br>        &#125;<br>        dijkstra(n * n, <span class="hljs-number">0</span>);<br>        <span class="hljs-comment">// for(int i = 0; i &lt;= n * n; ++i)cout &lt;&lt; i &lt;&lt; &quot;: &quot; &lt;&lt; dis[i] &lt;&lt; endl;</span><br>        <span class="hljs-keyword">if</span>(dis[getidx(n - <span class="hljs-number">1</span>, n - <span class="hljs-number">1</span>)] == inf)<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">-1</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">else</span> <span class="hljs-built_in">cout</span> &lt;&lt; dis[getidx(n - <span class="hljs-number">1</span>, n - <span class="hljs-number">1</span>)] &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>(end)</p>
]]></content>
      <categories>
        <category>ACM-æ¯”èµ›è¡¥é¢˜</category>
        <category>ACM-é¢˜è§£</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>é¢˜è§£</tag>
      </tags>
  </entry>
  <entry>
    <title>2018å¹´æ€»ç»“</title>
    <url>/2019/01/01/2018%E5%B9%B4%E6%80%BB%E7%BB%93/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">
  <script id="hbeData" type="hbeData" data-hmacdigest="02250c49e1b643edf836094fc79cef8404a1329f1b15eee037eb6193e645467a">491c96e9ca0a6acc4c49f2e7a18c2c50672f10c57c66662f1bd461b6af78057197c008771af3ff9ee21c40052b4e4f3f04d11186499baf0662768434efa4ace8f39458798400d96e46274c214a4c510efbd9a19a1da47cdf8f6a2db01fc7c0a042efeb00308ddd76235c0a6272a93ea8c07aa0865bda8ae980ad056daa7363f1239913d598e7a7dadd96e2b7000a2dbb53b323854a94ffde584becc2ae8ac2d86f27f8616a3d1094930da06e7ee7ed5ebd23f57f5b86432f001a154b9e558af5bd1d196b934254dbb6820f9db6a48dad4f964263a499d13084d68e16366d0258a5698d9e8411fdf4e90316e761b97a0805aa0dea3c8f976810f01d6d3738ecd9722d98715064a866e9c54f71b4ada91ca142d990e4b5bbb27b7994ef24b4e40a6271e78ce526b9244d798dc78fa56f5fd8334b6e709f3b137ba531da297596394549405de7857337fd9d1f9695023904c6bdc6411f617c6a9bc1bcbaad7a180e0ab005d2c48df6f19931f06edc9a14c1ab51ce23f73393ed62d5a65fb3ad1d6be0db2d7e81de93f55278c7ad74524f86aa88a0a3e634388e67b842feeabc5173ce0c453d0a6794ea220c1222842d4d640ad328ad6ef71ca940982965cb1498850f72876ee923ed2c1db9105d2b43d0edaee9069bf271748939c674e8c28aa4ebfdd8e5e35390faebed870a68e564b0a391c8ce843cb391bba399a1b9e9c7432c38b8fc9bec4808fdd90e358ffe3c8df071bcedfb8abed8ff09963df12fece710c062e8ae47ba2a883cc452e34e3f9ce181c47c3dcaac32720bc02ab2ae6a66b5aad6370c900abb8ec66355b8e043caee79b8e92874cd549aaaa9170724a646786d69c8b642e6cf4cffb399d2aafe81c1e847e898ab9dd3998d3ae023643a3aa6bdaf0b21ce4e788d40fd3549a84a37220e2a16f457ed41dccced0f01c10421e5d8189e08b3fb1925470dc6b70595510636b986765d21998e18fb41bd3193400c197b5b524cf46a1e1587c9492149d4c9d0afca34082aa60933b8076e882468a61c3e55d3121720c35b8a66afa9181cab1d7eecb677c6ba7b0ae425a8a680ea69ccc7859aa339830efe387f338045de07f8e55541b8de047356bf39c5ea4a297f500d7366b4935c765d634d805264b17aa1b5a05d216ee3459b4e4805edeebe1013f75de60362623831f60d8f49037eaafcced9b1162bdc021cc353667aaf05b089b634b16da899b90c0446afe5873ab4acf12b412b45b087ba35f9408870a6d98101cd3bd1164ef91900016e664a11fdc09bd7d41aadcf3fddd50c88f0d79e3cf6f1c95fe382041d6a28e2914e66c1ff77d9a9c6fd46499821f61f09e01409e3d8d337b105841d8b84fb070f02124ab254ea8bf3b93d52fa4198202e689807b756851cc6a7ccbd2e21fdced6dab38de7e6b60f9e477f1d2b5d39381e9cff3cba61e076ab0632413dd14985850573cc6bb65762f1554de1cf84d724e9df4156538d43102be7b07b0f790c93b9ca45d892b66f89112f34940d26b24451afa5c2d27781bd9054de3d0d290c582f9f86630e4c382959cf3e10364e643e9e6820173d7647a3f233dd06a76dc1b10f25a2ba6b0ba88237ef6ebe11de7ba2b51ba0970485c1f7868b05cc649ac2e1b05a12c4dff9e03f5dd425f279ae80da65dcbe8cf77e9c4f758ca072c0b28410bd16cf18e3a937b9de4d39827368bf0fd6f7cfd1b14d29ab83f2875acc3b9434b64a4c9deec15f50911d18135147d3cf0565a314f68a9fae0f95a586040cdc1708e7da0aef67b049631a48eed3b6a5c291858abe4225b73b96da01d2fc6c7f0a9add6741da28f8ac178f8c96cc2ccecf2fb91119cb7b23b24204d906b7e33187b779eb1813ab28e3c1d8cb252da99d1cdf4679d1deee1d5442d57d91726b2352319a10b45c0e7ecfea5e60fe68d64cb407245411a5cbefa5c9955ea4dc7452c23127c88c797c5b3cfc9fdcefe8b7c37a25e32ace478b1b39058f86d3f1e0295b277e537fbe06b7a4ff9d0896d790f9b606679726a8fcb5797c52dfcce7861f3e7f21c3b20ec0405de32820f2126743e361638380ec55875ac2bfd95ec84915384337128d448933ccb630f8b242a1e3594f9da195ffa2a6ce5bfd6fe3f9ba1e7bf84590db6f5baa41cf13aeb8aae650d35e0864a2b0fc5a5e4b6487bed790d77914cc0d36f345cc96a415874682620d04b64af16e0082add2d9cb7360fe7f09545ee928df688765fa2083e5326f73e8288f3f4d18f02f5f815e63f24c2a181577460507ab596bc2aca5bb0315d296459a597c389e196f0ee6ab38f20758aebca4e031b033624d4b020eb78d2e3f83b0665428695d4d3087681d6773365fe4a33b3e40d036ce4354762ad14047a990afd5fde98d52c84a992c7ae5075ce4c02018c4795db97adf046ce82de9a1ce21f5c146e9490c38a89dcf0b82aace6b4a0870f1b39541a399976b68347d16e3dfded1363d40a89715bf5a6e2580c79fb80322c8ed0b26f1a0240112c31ade8dff2b0701a5af7ef13e1e83f8f8609a6175bd830ff99e1ad8853dea17de6224115938c718f663686c8a1f30271d7e72d7bff0918b0fbf0acf14bf87ed787d9bc76aae6dd1c9c1d77e0e5d60e6062e261b3aa7f9f172f9e836e8c7bca08c4269ae750dea8ed45d903016e41a65263a6e06c5ed77426873c27e8b98f424629a1dab5d2e22ec822507007465ba28bda35e011ecd9c5ebfff0a2cf0d143b1edb7fd55c00c83552b89e5329d254ac108b23d8544a4e4670f7bd86ad3c68035ba5f0e0956ccb200762d92348964aef45ee0505eb166e92a6fe943884bf5e209ee2671b1875851197a8f4f48441fed99f019ac00bef6c0d778100fbe41bfd4237696069787a38a134c6469adc48c2f425a60ab417075773d5324217bb8c9d1dc7868ade8a92b40eada97779d0e09116d9b7a1092c746da3984bf3f6d513f1fb01848fbf407e4bdc880413b2c515a60062b51ac06c9fded0667776c63e1e719520995b9a28b22889fed782cbe36ce62175db27bc6ed810ae007e7c6dacf8ddf4ff6d070cbcd63bab97197e24e53ee41962f879cf73fc22a7442add10b15e34c85340fa542c3a23238a9e052ecaaac35a89924a2fb56525ea0e2ed9a17e9a850ec64941e31cddefa31f86a8ae5f191564cbaeb5011fe33aee47699ac0d8a91b4f4c67934619c53dffa6db32cdd86c9f31c8003cfce40b11543d16535e8ff0072051fc4caa82e942394ac86acc46ad83693470732feddd7cfedc92da341ce1a94905ac78c07a8ca1549ef540a9d44df01f168e05a38b20e00c2c124f9010756ecd08b6b50001a207022f6bcf87aafc90d7c9ceec7ee5b0a44269204c70049560ba5373629b999ff25ecf02d145a6f067bbdc616220d08001411ad488a350ffcdb1c2ab4ddf4e56355cc382fba22eb88bd022ed5b6760ec19772b84ef3cda9b04ef2261e3a978500c08b53bdce68f10e69c6b6a1a7d329fd2004e0e57e57c2b3f162f0bc0b3a659c419c007c37f4ce9a1bbeaf3be578e2cef326c4b5ab0b94cf7ca802a0a1ab4bb577e04caa0aff933cf55922bc4c31d0a67c10478f9266e127601b4252107f987f873b0ff380d6ec8738c00a412ccfe6b62ff64cf74585c4a047b213fdf8db694fa8b638b11a156314c353238f9d1b2657539b9fcbf7265f2e67fde88fe27ff7d775f0937d0d40080f69ff453268641e165401bded03c945779961047f8b7a8cefd4166eb01a9ce13082832707ccd6e3f07d4637f70a11f15424d21d3882832acf5df698a06f56305cb8aec54a89ac09b54ee96764b5e9d324fced736f82f12d5eb5370d390cd2bb7f677797b1d396ccdb002494d448ca58d7dd54b32fc11ed17b0d14e0c44e2d8f00cea6d785453921f59ac03ef25a0ee8cb658c24237ab7c19644dc32ec08d8a44cffb8228bc1ad1750d687765d1f567f087567e279ea37b719985efcdacd6c2703e1968db6a8739c53644d8fce93a0260aaeb2215e423551bd54dcad76255c4dbc52eb162102c076dd1375ca22a901a57cbdd2d983172e4a8eeb7205de82ab10e454a8b46dbc4d51310121f3faa2126914b739294b40dbf8a9d71fab8d54645c72e7d1ab586e23e361e5c334d14d6823841a4a1679a5321b0e845c91289e8897dab0a1981ab34b455523b8890615e11dad559d928b19b6b951772c4f5423b6f54e23c19c13e3495e44195504afd84655c805c451470c73678c41281e0fb35c06f3e391bff0f09d016b15dcf29359f2d5a0d195e14f926f84809ca9216e82097541dfcddd43a295434ec7b25f38ab1a3bbd2941c9c322ac43c1ed410fd111481d952f275d63d0073c8039cf1b06b4c1df3ecc63e6268cbd8f8cf20b0b67dd61e51c5d278b78b5442df18953ed58d3142f72111e8a2a1baba4c9e72d1ae380796b21596bcd15311741d54ec996cab671de14b85f086d0802ed1d33ee9dc260e564a400c972b9ac466252f607b999ed4bbcc59c426d6e1ace4bd21310177af0477cff10d0961253de761884fc906ce14a788e6d6dc095dcc299e2d695b83cce29c6e6ba63fbc6b4b82cea0d6e8f9ab390d78c571d8b1a8690dc131e7483276cbe6520876ac0f50e75b835163c721c347a0e8aebf88d943c7901fb725f1a385f88f670a69fa741e2800ed30376ec5bb3ddf232ac8a36a887c3dc7af18d040eae3bcaebbcd3c5de80431bda7f9597516b4cb4f376cf99972b7e92d8f16ffb0a07eeacb7d3fdb1e8b3b0e3d000f7587df82d03d69af5fa5407cf289290da3a068dfd2ccc2a47d62bf93b0ed9fe7f3725971f12778537a468958affb799740c7ce741a2c1f2be530a32e54ef11ed9f9f832c922fc7a78cb67412fb771aa79b93ca7e75644048270204cd928c3d40f1965df968dbacff544f8914b8011315ea6d504014b98392e8aa91f0926b200f3fb0e361947e76a8693b9d7dc5fd260c20a8220890f428f62c5dbc5dc97bbb3cb062a1d03bf9bed58d94d9779e3e7c7170709501c26399717d26168437f7eb325564304df53423b9b982c79bfc12bdcc35adf7ff0bb9f6504bbdd7e7163ee1609340ca490475eef901c06ce9991142df364516728101c610b28bb51a1ab63ee314aabbd667f6913bd88afa8b63ccbfca69846937e7f95e15b6ccccb8be89ecafe58efe00d134df36db1ac5c53c234e4950153a234190e182a84ea3339cd499875500ff9de3354fb22b885a36ad852528c8a2384d68d6a732996552e22fa5dc46d041719d99f8b2a1d1c8d917bdbc01fd89da490686adff03e92122a99e773bf89937304ffd303ca6bdbf9872dabc527144274df4ab2d3b71d4af1b98c01db94afb675f32de9dd96963ec5182ee1d6676d614f9a3c50fbf5cf5a6aa68df92dc9399edb828ed1c4e89de696e835ee5f2bc90d7cde55cd9ae5ef65d00690c00a13ea4b6a32bb5e43c26f34eacba4a4ea80d86a961a5adccb4ecf9566247ac97c1761ec2728335576745986e16c1c75ad974ad3ecb082a8d70580768c51dc7cd387abbe985fe4996ed8aa2f05465ed232cf1b3d8504b2fc7c526081137256cd36c68ae88c4efe27acb62b163ee63111b9bd4fc3b748ece8e142720b2a657d46c7dfd219a8fb911f82497af1829508c6e05f1a331b51ef356c216a525feace23925483a5caef15150c17310cfa7bef4d1871dad2b0214602a23e54e5899db9ba835ea9eed8a3c5faf715502523d65214ab552d6e263640dd5752af23638ca588e1663e990b058a4a6ef72b1fa1261ad85e7cd21c92e38c2d39a45fe3ca10f4612c6647275fa22e5c611a08cfe1f249fb29659cf68316032064878ae9462bb2529c98734d13176f4b5fad1a7c398e0639860800be1ab0748a76bf6b9b3ce1b016af783b1a31ffbbf5b9333bf2a4d4f443615aac4bc371fe9639b3999fe65144251942aee15734bde6278fcb394e9f1100d64447b52e6011961545b6607fd396fe1588231a40cc696e4771bdd89547567d06b475e723722f7a1b24054b2965077f1c08c6d02f63d8233be0b1901aaaf419871e37de234d7cfe41447f9d7456bf4246794868332fae48ce0f4c2967a3aa8845a0a3e0d75ee5af30b4be057e08f976357669dee6c7f66b76c90d072e38a6991a533c34500074e129692393caca46ff47a402c885cbf7f47f50ca25d71d9ae5d8db97eb9eeec4fd3e93fb8e311138b9a66e997d353a619f73b213f458d3da285fe00de09a3ed100fe4a111a4109bb115e215ad7c94feb1a123e954eec19d637f07c42ab9e0e0a194a0d1e11fa708c52cbdcf95d54c099eaa3d47bc0d7331b1614bdb61015c5c0605d84d9a188483464a9be13bad2d716470db376e23675db5c964861cdf38f9ce7a95ef9f4b5dcde5eb1030bcf5c32fc268e300dc5a2b3fa8dbcf7233398b0a64626fc5283e1047875abee11ce53be55971539183166efa0b59166a7523dba2bfeb3c627b54fccb25f5f724d464f4a4223ed976547a0573982d352f52ecf08ad4dba31092e52eff3e2a292d5fa48aca363c3464a3904670014ad4c268f739fa703a2cf6d376cf55e4748a49c273bb9784e6fdfed65523cc630019d47e2c3128b9e3c7addde41d87a74e587d566816088cb336b6c62db483d308d51ea83e607044aac851052858b1bd96ee5535b7a5f07167a908bf64f035eff31961ac7594266b8437d269881440c490ca9b1b6a7cfe310d7570cc1bad4490e4ef38909d8c10fe63696dde2622527fa653ca930fdb3aa15936fe9f0a6550818774b7cfca4ef6973c6cd598f998ac3391f2cff35ca80d0634f7710333edbcc6710f71ec7d9f8a0c2a6171d597fd4b25353b1ef0deff66c29c7a488d0c807925e45a27d649e22edfd20c158acb8a0e2c6f1b79fd0a1ba1f17f9801a8e8fd5da46e500fe13e8386ae855bdec4cc9ca407d24b02f7ef4c8f5a56a4cfa82dfb641830fddba6d44204a36ab748e40bf7eb8433673b408daab1064182dcfc4062c9104cd1aeb16ae29b289f8973d62184733659f6615ed451b2707669a0fc6f2a1d3db7bbb9a32140adf6448ae5e7a3eb0e16ca31ab4cb95a7f5e69d55ee37fac293b452577d4b032dc616d480251604403b8007138f90eb5650f8be7d2ec0296bb66d645b589254a8ab25e4861a925bb34838656c6cac0e4e3ce2ea70ec319be3519714805bf280fa0faf81b4797e9b86370be33ce8087d06b6884b7a695468663375ae7dca549b8b51ae011d43152c4c469924c606a9c572de36b2e9ec4b6805eff607816f55e39296a7dace60efc8d19b1acd1d68ec773d8a4285c23362bd6875e2488900acd20f6dc658a07a346abc5a42c25b99688c3336b49cbb30fa34b51fb600f665f48fe06bf8b233bc130008a160af0774994728756ac40d7fbfa22e2116897416e38c221d8bbf9807b24b0a8e7e9c633df3a94154b5eea9a296930e7d3600d9d5637a9d14bc69aafba78af5171f420e334fa8cc79752acbfa12ec6c05313238bb76ce70b818ea15276d4554b94156e7debe77cf71a1fb59b1d73be2c7847e2acb92d2f08bccb99aae53d8c57a8ed2c7cce9cbe3261cf639d9ffcc0ba8eec1eb281194686df064a6925d26446e8825bbbe2a68b59cb56c5220b5b524eed110d2dd9d17402739a26844864ad6f0051e4048abf461d700cb2e844a5c367d585886f7b91b84a0d74cb83cf4b44421c5ef8d15d1f5417a04e985202f9eb50bce0a7ea79f9252ce4370704bcb92be1954fc162994b93a272ee7c0c7bb45b344628a283de9639fca5033bf5b65cb340cfd305002df8994e00aa1a9f97a00de888a73ee8eeaa4837e0a3746d3574922a51aed62ffcb9825358af5f9edb1720b0fa2ee08160d1b7a26238c0bd7f06323ba796de1f207cd8a69074631ea5dcd2df665752d0ab56727d48f34403bb001f72987568e6f2d2368e06a4bd3b613f29105de1fbf0fec419ea5539b78e29f0fdd29e57558016ecf8befaf13fd3f602e2ccd5a8ab956be64dd16842914c0a4223781a20772a305145226dc94679316557a6bcaca30cfb7364e8438ec0da26a1ffe2515a2f18ddc81f810cc6762344257a5796071fe7a2efa2c830604098b4b3e2310885c1304c88bec3b238c62aedf92c6760fead2dae624878ce49c2b24716f5284012afecde76bd8a6f023b8757da20a41e1b190c00bace6e5ba355872872de006bd8f0857b01e86680a617b40d80f6e4f53cce30df1d647cf5eb2e6ac67f8e9c5db78eec030385e9905365f849fd75aa74700f14d29871c719aae179b6f64d7f4a68a8da1795c1130a976eca018d797c89cda27a36037bf4bc4c4915c000124b18aff20491a8ee71364661db1b65bfe5ca0ba8d93662ea2d0b7d4c411fdcc339d4aec444160f394af08a4c070cb076d6dc9ced3e64850f819b1e261b7542fe528b49be7be409db1dba0673c8e40001a0a8ff967b3d724047d72e35074a3ebd1f46bda3c9f0ef24971f14d26ca168666c37c1fd132bd9285882e089b58e21eb9b6a86aab0b3d2bd455629eca0963ce41951fb1831e543a9f96348abe48e38d557d051b93dc1844fe05ded5a35361b9574ce990dd099211af6dba1d1de925dd3b43e66c6bd6c6dda1046f8ce9162170a6d40fec8353e234727365caab925dab7463c05a6556e12bce7d99452c21399f19ab0fd502cf70b69730bea119ca3c7ab24d6165320f9ffd3ce72543fbb31787b330cdbec6e6bcef554a62bd2a4f5de50938d68e6eaf78f66529308ee612aac3472c97c89823cbd9d788be47ee6ddbba4962656d7b0af4349711f6afefaac34261d0583c5a7bf4f7e3912a64221e145113a06f9c754de5dc15478461041ab644bc124ac15724a501a665dc1ec4a1eeffff027c1d52216d12a8559daeefd390156d120725338d63335aa76b52d11b0ef19f3563290d6abda94149db1422ea5113704b7d2b20e85f01ebbcfdf9338d9dd49a7f2789c30b1a1e59cacf7b5c8677a67826878d916239159e4fae71f7a40e20bc93a76e01e7627a9f705773dc1e30fbe14972c052f99b4f065d90b46ecfc5fe4f7772fb716784f4c087f65db9079f016498e44812f0b44dd24be3dd41a9408d78e5e3d5fce85dee833976cb63822cc15cd60a7359fe6a8092ba0448192017b3b3deb646eb960301026a2287fe27ca3974d57147e7eaad73960d4c58d12dd41812ade011781fdeae0a2617bf44d455e43a421f380e3dd3b8a925d18e413445d9acc3f3a3f010aba010297b302f3f4a86e363a95deaf98cc48f82c38589fbcca49a7fc6995cafedb1b64f3449eb71aab17731c7131f146c22f31794e90120f6d79135ae4446b6e9516d22499126d6996885b930c47c9c5adba7d4878f583862e0b7cfc9ecca98db70d611815cdbbde3c244f837e1e3b7e4a328c1a652680910ad2a6a70d13e5c1c4ec36dc53d5321eed6e981f2151ddefd8bc167396257d8389008d3f0aa0b4f968fea87625ce80586774b4833ff96f0bbb5e2ddc31e51028d4657647de05ffebf581b25e2911a394842b008fdb0e2ace7e5dd91e1f8ea88562cde6fc54a6828801a9dc24f8e48270f471cce172e8465cb2fee26270479dc89af77e81136429c63d5a91eb62242b12b4de9d1a37e4c38a6dbc4c9c0e011e024a5eab536826abae2b234a4cbcdbdcf6f77b93d19b438a75a4e417069fcfef755dd2cdfafe55b715701d753cbf3950b23279ae48b25d55bfce0377655d18d4c8a39ba697e3c3963999d82cded7b8b28859b288874b8dfc0e1d344c0e2af40697bfa1aaacbf8bc5668db1c4de297295c648953a9f212d61a8e05ee20f4501edcd430f899df71b548ad9c735e3619a72d793e376d1b6e3362eb834c40856895f9d90c493b38ec299abedc1a2d032b3b758fb4ef86138dab6494bb3d0b99ec70f668232d876f48a54dcaff2026081aa700d4db217608117c10f94e9ddb768b396318dd260d2e5e840dfdc533d3893944a964bc18aee8042b92e5bbeb2f92f9428986b6341ef17e166ad3a0391a1c3b9cd81f949f9dfec52365cb42941eac032b81f971e2b6db87ceba9c0757bf090fe006dad01087301be569917a1c0784c32327ba8aace8972c50f7e8127c77caecc67cfdd4ba93ec5ce09d61716f83f829cfdd310f6492a1c8119411e9c615097bef9a16f26dc3ce04642a9b5c9be8898f0d3feaa3ae1d97260d72babc54aca5bd5374c3478b79c481e7a96c5f23eb5754f01bdce30999b792538d430d50f64197148f00972c7855a548dc6bfc9056c2d894c17b6613883277f72d097d6e9ae1ff2c15a474cba8f6c0cf0987b100b8a8969456c8735f26fe36695e3e024ce923e35755af4ba1f35dd2a1f13e90aa58efa668675aa4b2126991292ddbaef276d7a98e0c8210661778a4dabb92d42c3e77a7966c7b3c588f7b72c2adb87694f599bd4918b90af01d6392811e3fc0fd48936acb38d4788f23ced27aa5fadeb187bce567f605baa97bf47529053b459879d2c2e4b5983baaf0657ee31f153f28e5075ce93d6e338fc32c58b75a74a2feacb0685181aa1f4b0c8215b421ff52fdc6beb3b52d679b9f087e495a41bef9a22c938062d93680e8d0161dfc5700df054c25da33ab3e41caf15c0422bd423a244b63e0ea12e20cd591c9fb46141c8bc42d7da789ed3e2605b14e67facb38fcfe3e663b7b731816c882d919faf7084429185fbe55c74a96ddcbc2f9b27c7c5c0995ba377f6d3be3650e1d08fd0b8977d3dc20d9b71dce96fddd0ec5ab3606cba2d6843410a056f20ad52d2ff33087385753aaa5c720b4a55b4df4c3d431fded7bf3ee81672388adf81351b48c80ff13f742bcde1ac7d605a315f3ba55b909f02ab4e08f547e3ccc4188bbdcff8b50efbe49e52e0a967851eebafcac2c0c1f7a12eed8dec862063dba30e6fe4cd58fe77b0d4f8d73555ce88fa55d32002d38f095f0f75363b4ca904beaad7f65bb88709de23b605c4f0471d16310e8db99653e1bf1342381d06c75f369dabf1555b7b1d57af81e73d97add7a40acb170c9c4db19d52f09a3a099c6f78d392801048e4c850455f0b39b79565afe61ee3493e40c0381d1911c8f7bf7f30f0c163aad956af22aa3c75775ed2ffa7963f60da2c6e2570ded81a44bb83351b030b834ff58c5471b2bccbb2823da7e1595b7f44986e34db1d19e9b21305416e88248f21fc0a75d6fa20fde706fa6fd4bfff6542e5d94f5b4f513bf1dfba9c5e721ae794e0d6b9885dcc4e81afdd903968fec095b786556fd0ffebf2639a785aa9644f5e217734e54551c1eff2eeebf3ece6c13fbe32867adbdeca18d0687674c197b45e45b0d0bf8937e733fd95716675aa369e274c6dd7ca5966617198ff6c13c99972e41f2faff4ff15980cabcc038fa89ead72b20979bd66e919f83801367b3c86d86a48c72320303058b0f84b90ef4a560d68e483c136d0121da155ac895cdefc77660149ac1328509a849fe1a4cb4553f2b89baecb30f289b0b3ecb7dfe32a83a9a780e2925c19e3de134e6c956b97847b1c155e7e4625b74b0b97ad00af485a4f8d8aecc8b5ecfc448e665d4e8b3896ee2218aa21e9c95fa47b1a59aaf8b8421f085fac37002cf472f2e720a1e4ff3cbf60da33e2cdb8bd6e6281a06239471e881fb27df616bfb4d4d1993d4db7af3f8911befcc21f345ba1501e5fb0c83a8e36f33f1fef777cb366e94f1486d1f6fd3d17e216dbd8dce96ad2d6ff5115ee1e03e9a796e86d4d363442522ef881a468b225557f922d9b90ad0ace45175f1dcf3ee6532b33eae8c787f8c52feb6f0faee52c953af0ac1594702d24d768f507b1b394775015755f707e0cf8b5ea1d3e9dfcd813d64ca082e107920bcaee4f5ca9c01f57f4d0dd94e80bcc0caa38f56a98ec6556b5e1941ca34dcab01fb3190d4802d893d0c287503e3fe037d616bf4fbe55c059626f68e25a98b75d343874b713a5d90bf534c87fc488eb728d83f2a97747506709d60deba1dbc2f17f71fbf06de2dadc041aa4c9c95c46f3396c4f6944fcc2744082e0821df72a503231a2ed10fa817df015a3f85770586bd3757c2b1811a7805ba6b39e116b670bc48bd3e4c68c0a5e215077ee420d799b0bb9755248a79f21ce6b2eb09c90153d49b2c058509330ae653251ea9a38fabbda483d4281f88c9c82e7d3ca252daae2d759dd6a92634f51d390b8d0690e850952b7171789683fab34ebaeb23ec93947a2f67ead4a06652bb88e814aacc7fdc6aeb6eb1b31c4ca75a06d9c00cde831379f8e01dbf9c41b0f4973cf780249f52d87b92877514fdbde0c81a06119f27f74e365ffe4724df2d44833ac342e1bc64e81d87abb938113860e2a1a872bdb777b306de7d9a668aaa358227b08011bc48ce0d8f5ebaa3b91336d1058616492e2c888f4fc0e664650dd3458806b9470787f63364aa44835907595edad8424a9bc9b051f92669c0e533c1d852ff795f986dcee0d864e1358326a6ed4b3c899cf58e2a7ee475f0555c9ac15e9fa7a16d5b2b5c6aae726318792aa86d32fc82b1bc608c2508b7f66a377ae69b878fdf7a26cf52635246949db03464a60f5eb3a98b2fbcb27bce09c619661e60f4a78c46cf10447078ca5b085ab16980e3eb4069972e4a8684f84533dea3f125989bcf64f1142dcd6778e5e21e50ad482c0129a04f3512b773f1bd1b155f0e6f0d8ef2a4115580646677452a17badb3abf29c72efdb56a29f66a64243a369df98121184709201e5ecb96e13a43a21566834cca97358ca5757a3b9bb9bc2dce9f6fc1d3291eb28cd13e9c3f1cb5f3f03fb4dc1bb962eb3ae9211966016f873879cd20038b59056482cee83971c8512d63784b360a8feff7a5ac79da103f7943e87971b24e9224a1ee36df08f043b849fdcc79995a3dcf68d3cd373c3725f6d62a2543166750f5201978e5c39a902d3774b2213d3091e0e898735f9d640548bdc1ea680b130b1cedb98811b7d187208771742a17496b8a34287fd11ee1531e58611579235bf79259a147181aa7eb53bf2b286b90713db270c457ef4706c367a78c77493b18893ff6e6355338b53f3db9db3bb1cee6bf534a86a8f7dbf83bb9513565b74c71b229e5cbc311edbe5e2e381ac1e618470763c93ecec2d56b4266624da5176f90a144801eb867eee33fc30707bc49dc61be892b77137c84d467d9c98fccb20376bfd89fe8a9ab6ebe8979b8ce6bba08783936126f643676934cd8f495cb158d80f983210d297d123a25d9844f5b2f32a51e3f169adfb8c7b492b934140cebe2f4502d228c386aa875c89053e510c304075a4b013b7dbaa37b48dd5dbac223d28bab36b1185f2eeac52246c0779121241b55fc5186daf3c7f31206f9bacc9d8f466ad4053510bda2186ac8c584fa9a3d5ecd29bea698e8837beb5dd62cfb4502e6382caed7f37c3e5c606128e166e46537d26db7c73c43a01333d379ac3f017823ac6c112f45f72f6fc8e55e153796f61d9718a584a0fcf0114b884802fd975dea0f5536a39d45efe6baf4598802f87d2b3b987e31070360f0d4f838f98bd0d8504fe523410da4fb63f54a6eb706a835bb54211091d5485c7199329d445c1dd68847fc80b437f99a4bacd86c077862c001f3fb6a0954aad37365dd6a2faad470ffab8428211ee258cb3102c7de54f70d03c8b248f4425dba6ffe9fd114af779d0f4d84a1684d49555218b6de98f33dc1d49cf70dd3b065ca79406705ae6a20c194a1cc744e95a5539774418bc5ea1070fe5696fb589e6f24b136326d6309d86f26cd3a8a07b473af2d93e2799ebe2f156c589918d38de07bcadf67f6bd7f5d5e5b532c4f972a4a4f8abf902b7bd42c4947eced5b17df990133434cbf90ade0a79f3f44d5e83da1118aeb979c0a64d7fa747e1004aabb374836ce66ed1544d9f9494a63be5941e92f2968378f4bbed8d9ab392001e8892187d09dc3834049a7b1abe67b1eafe510f778045c1ff0375a10d58ca7d2a6c274212f2b01affe4175fba8b304e9dbf46022381afb98dab01f02162ef8e1ffe2f387fb8e91ef9f920a2c7cdba6967ef00adeb7e9f17e349de3de02ff8587fb8b42598ea9c9a83a429b111c1b9a4b6c957f85c8e84c16fafeca21f62b1ca2fe1ae6d3f88d05fbe1cf892957c9382ef1b2a1f9844a4c164853af956a830fc9d8267446cbdecf5bd3927adbf179ed004a61fa4d12267d2da32f8932ee94b958387f420d6b495103674bae6b04b0b7aeda022bfd46f1b99e044d89b3b84e3fd50c859667b674a8970a6d9a67e33bdae92e083d888e13201d005cd95517fecfb70977eab4f20c78407bc89d4f22c9b1f24608e6579b855297ea5164ded47d00524b1c8aad3b850c2ec9ea33f180e75da624bd38fe94f3f8e43a9c5725b1cc5e2a72119a2957a195f9b6352eda408ed6536f29ecb58fa8862761866fe19033d38ccffe4070588504b1a21b81c5bacb5a14753eea1d544a93aa4556301e27f56a904fab478c76bc645f6b9c0a4862f38db612d0a2813e3bdcd48e54ad0cd0baca1665ed0cdf8b8c3521d1c86ea4a8fc6806113a4649d1ba78dc9e2bdfb8471b0c71d978e3f1adeb8ab49fbe1dd1558c76a58ba482c624a36175f77084a456365fa18361b4f05db1225c2970e37d88d30ecd3dc2943be05a99f354e81b4c52856e369b5d3192aa118415e14d39bbdb637b0bbd1fdeabb35d5a37c241247331e720fcfacb3c4f17972a4bbc2e3da6c05aa7417f1c71e42e5c988207a9bf190598031387f29058dc62761b1959b6a099d826446cd5aa422da746f264c1c5ca66bca8d591a2fe4261e2c0a0794b76ef6f158185c588b83b1d68f83ccebdf4d56c328af0a12816c7bd22144ca5cc63b889b6497cedb83b41d38f8fe2fffe0d4ff8b7e1d91748b7310e52a239acda068f2dd68e0fee29530f233a36df2209f8ce5d612fd5debf3e7b00c6d0b4e46a3d1627f69bbd2c458b41113d5b6c2dadcd206868908a19a2fa030dafaaf1b68fb599fa1d74a0f256babbfa17b83057080fe2f9d40045b3b77d3bfe7021245722d79919424775a683f8e6e58038c87887a06d170d6c960f448555e9dfc1c6e15d6a307e7764771c9440564c0e1b9d1a299df137cf9f43a0d73a22df9c919b6f76128f7f355a4afe9ce9f0fa1c45b4ffa2abf070f85f5ca657fef9c1c1d0c6d30b0473786612eb4adbf3b2b807a39d617f4ea8a4ec39162ebdce362d40e55019a34e355a48be87c200a2ce2082e91c399992711a2c0e9624ea5f09d6969dea0bab211984f38cb9092dffac6a0f63231d2f24421f5a986d33b50c117e16ac0e716b475ef86669fcd8219ec21ab49500a268a2db1f327f1c8463e35dfbe50db407f5f463056cd46623c265d732d4ac706bb331f22ffd0e7fa10d803d76e98913bec5e01521fbb9af330cb5e6cf09a454632c34b92bb0eb02c7331b9399bf20531d4a1bf218a609a4f6dab835c189b45b8fdb75f14d0dc714b8549994779f621fe9aac2c732f2687506492f88e144c25552e62ca6070e011f0ea99c9464ffaacde075626d9147f5dbaac32bf6f56c1183fa8a32459a5a96965a6a2f2978c43907e17796882e7c719111f936e427551cff28cbff883c947c1ac756c311d4fb0fac41e2f9a5f7127d870b633283c291cff4b2b5710fe68442415e3317ba3e9e3c6f18c99c16db6bbb5292a45b2c6160a4e4d45e0b1440a9812e5ed5320efe6f6c0b7eb2ebf5b53df15f3d3711fec3852e525555449b2f17394f723d998cf40158ee4e7ed405ca184a00eb293ae7a314f3271770d800c804c96ac6fb46408d5512a60974201bb797cad83e9bb24f9959d62cb6d78d8075a4394876b1d7d5a5313b3b98e123d9810015b6218f797ff1376778cf18b2a05dd1add889e2371637f59de5800e96d2022b3e519f0a05d89b9c78b1f75231143f3af101cf654873667294f81d5c4cbb36a3f7e547d1aecd292525a446a32761aec634c78815d9ebcb3cf388ab3bc9b29331dfae3bdaa55f36eb600efb5430f6d21f70d1c92aee5f615ff2f74bc273bed46304cf0ad8641567f5644024c4c0827137d5e69bf3b6652326f1caf3b33345a3ef587ead4740230549df3890968ed9d3a5524e7e556d70dd2a0b5c3403e68a2db782babf195b17bdeead34286a8c4f72c6e421cc650462a986d364f10bb3dd9805f500317d25173b3c60400ab62c20a2ba7373b08da374f9f2c1860a17734b20c77d6304712cbc8bc715f22dc56dcf918760445281c4334f62e812d933a0554c8a6ff69f4792ac3be21c136ef2698ff835e40ccb7f4686f00c9ebc7787b9aa9c30e99682ce37e8976cb81ea96a799e1aac08ff0d2734b1f0334f83b386df71c7bedde6df2216442b6ae5cefe3c046d0750bb28fdff4465a6a7b244a79bcd00c1a900da8a266237996c56a612fa1084305112e070b8dc8ca85e9099e9e9c330ddda6462a3c46b3ed831b409af2e230144ecf6a00d41a2ecb466bd48fd3e50c71fbeb5ef82386ef1f7390169b63c5223358713ffb7d9310926373cc75ad9deb4a1d7346ce08324153344552d5a003583bc0f656f49a874644c7c1ff888006ebc7ddf19b82f1d9e0e778efb5d259df3e4557475d97801aa1a3f1c0bbb9b2deabdca496324469e8507aec44b4b6b8d506b78071e0295e1eb276874fe75f992eafa53cc6e10b8113896caf274029af6512b3a63ce9dd64f026180b9cead3da94397a0b55a5d9c18d8c5edbf458f77445468b3d8c509d9534d27b21d2831c939b411a8c3cbe4ce456bcbed9d8e0fe5c3ab0990ceb78aebbfeff879d4ea434afac2dc871937e7639e1a7a31a36c58dcd3102c13786202eec9b9d1a93612eaa62b1ab4ffd117c0e2a3ff3042d02203ea28c15c33f91811e6a882c2e064c783cd89ce3e8caa737df4c3439802ebf0ded6394d34901ffd532dacd9cebdc742c0cd2476b3d99cdde235ffa00bcff0f7c00be7c926fa24dc709a8d1749ada018f892f091bf7bfc1d72337db635d1c7b01e9e56a4e60a8436d855ef5e4124679a24ab4c032411b0948485dfd57903cbae15d854f49919d420e71cf39b4d2923f8a2e0a5d365a7d218b675c5eafd6f0a64a23c384c4409dc2f7dd1a8afa44aa383dbfec55d1cc31fe3d900ee7835b81c84d461c968aa555cabdc04dc89b8b04c459101165148c0806dd105feeb57d2cf6c2bcf766f6899ed53fc9bf7fdf7e58786bfc3406149458da5491ff33bd4fa919f10616a20f1a9f2fedb16fab33f3ba7c89ac44ccb17b10810e47d4439fabce360fde3397859f9c8e9c582214a970b8fdaa569751c0f0b2d450a4d988a44781bd8fbc586062922b1f4ec19600ceac5620bce45bf7ef351aaf62560c1a193d8207bc06c51e3e8664d5ca0336f549c992b3aea7c9f</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>diary</category>
      </categories>
  </entry>
  <entry>
    <title>2019 Multi-University Training Contest 2</title>
    <url>/2019/07/24/2019-Multi-University-Training-Contest-2/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>è¡¥é¢˜ing</p>
<span id="more"></span>
<h1 id="Harmonious-Army"><a href="#Harmonious-Army" class="headerlink" title="Harmonious Army"></a>Harmonious Army</h1><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-comment">// #include &lt;iostream&gt;</span><br><span class="hljs-comment">// #include &lt;cstdio&gt;</span><br><span class="hljs-comment">// #include &lt;cstdlib&gt;</span><br><span class="hljs-comment">// #include &lt;string.h&gt;</span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;algorithm&gt;</span><br><span class="hljs-comment">// #include &lt;set&gt;</span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;cmath&gt;</span><br><span class="hljs-comment">// #include &lt;queue&gt;</span><br><span class="hljs-comment">// #include &lt;stack&gt;</span><br><span class="hljs-comment">// #include &lt;ctime&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt;<br>    ll cap, flow;<br>&#125;edge[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, head[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> gap[maxn], dep[maxn], cur[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, ll w, ll rw = <span class="hljs-number">0</span>)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v; edge[tot].cap = w; edge[tot].flow = <span class="hljs-number">0</span>;<br>    edge[tot].nxt = head[u]; head[u] = tot++;<br>    edge[tot].to = u; edge[tot].cap = rw; edge[tot].flow = <span class="hljs-number">0</span>;<br>    edge[tot].nxt = head[v]; head[v] = tot++;<br>&#125;<br><span class="hljs-keyword">int</span> q[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">bfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> t)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(dep, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> dep);<br>    <span class="hljs-built_in">memset</span>(gap, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> gap);<br>    gap[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">int</span> front = <span class="hljs-number">0</span>, rear = <span class="hljs-number">0</span>;<br>    dep[t] = <span class="hljs-number">0</span>;<br>    q[rear++] = t;<br>    <span class="hljs-keyword">while</span>(front != rear)<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = q[front++];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = edge[i].to;<br>            <span class="hljs-keyword">if</span>(dep[v] != <span class="hljs-number">-1</span>)<span class="hljs-keyword">continue</span>;<br>            q[rear++] = v;<br>            dep[v] = dep[u] + <span class="hljs-number">1</span>;<br>            ++gap[dep[v]];<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-keyword">int</span> sta[maxn];<br><span class="hljs-function">ll <span class="hljs-title">isap</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> t, <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    bfs(s, t);<br>    <span class="hljs-built_in">memcpy</span>(cur, head, <span class="hljs-keyword">sizeof</span> head);<br>    <span class="hljs-keyword">int</span> top = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> u = s;<br>    ll ans = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span>(dep[s] &lt; n)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(u == t)<br>        &#123;<br>            ll min = linf;<br>            <span class="hljs-keyword">int</span> inser;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; top; ++i)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(min &gt; edge[sta[i]].cap - edge[sta[i]].flow)<br>                &#123;<br>                    min = edge[sta[i]].cap - edge[sta[i]].flow;<br>                    inser = i;<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; top; ++i)<br>            &#123;<br>                edge[sta[i]].flow += min;<br>                edge[sta[i] ^ <span class="hljs-number">1</span>].flow -= min;<br>            &#125;<br>            ans += min;<br>            top = inser;<br>            u = edge[sta[top] ^ <span class="hljs-number">1</span>].to;<br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br>        <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">int</span> v;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = cur[u]; ~i; i = edge[i].nxt)<br>        &#123;<br>            v = edge[i].to;<br>            <span class="hljs-keyword">if</span>(edge[i].cap - edge[i].flow &amp;&amp; dep[v] + <span class="hljs-number">1</span> == dep[u])<br>            &#123;<br>                flag = <span class="hljs-literal">true</span>;<br>                cur[u] = i;<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(flag)<br>        &#123;<br>            sta[top++] = cur[u];<br>            u = v;<br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br>        <span class="hljs-keyword">int</span> min = n;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(edge[i].cap - edge[i].flow &amp;&amp; dep[edge[i].to] &lt; min)<br>            &#123;<br>                min = dep[edge[i].to];<br>                cur[u] = i;<br>            &#125;<br>        &#125;<br>        --gap[dep[u]];<br>        <span class="hljs-keyword">if</span>(!gap[dep[u]])<span class="hljs-keyword">return</span> ans;<br>        dep[u] = min + <span class="hljs-number">1</span>;<br>        ++gap[dep[u]];<br>        <span class="hljs-keyword">if</span>(u != s)u = edge[sta[--top] ^ <span class="hljs-number">1</span>].to;<br>    &#125;<br>    <span class="hljs-keyword">return</span> ans;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br> <br>    <span class="hljs-keyword">int</span> n, m;<br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m)<br>    &#123;<br>        <span class="hljs-keyword">int</span> u, v;<br>        ll a, b, c;<br>        init();<br>        <span class="hljs-keyword">int</span> s = <span class="hljs-number">0</span>, t = n + <span class="hljs-number">1</span>;<br>        ll sum = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>        &#123;<br>            <span class="hljs-built_in">cin</span> &gt;&gt; u &gt;&gt; v &gt;&gt; a &gt;&gt; b &gt;&gt; c;<br>            addedge(s, u, a + b);<br>            addedge(s, v, a + b);<br>            addedge(u, v, a + c - <span class="hljs-number">2</span> * b);<br>            addedge(v, u, a + c - <span class="hljs-number">2</span> * b);<br>            addedge(u, t, b + c);<br>            addedge(v, t, b + c);<br>            sum += a + b + c;<br>        &#125;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; sum - isap(s, t, n + <span class="hljs-number">2</span>) / <span class="hljs-number">2</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
  </entry>
  <entry>
    <title>2018å¹´å›½åº†</title>
    <url>/2018/10/05/2018%E5%B9%B4%E5%9B%BD%E5%BA%86/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">
  <script id="hbeData" type="hbeData" data-hmacdigest="15cc199c5422d3d4835a2907381cfb90a83daaaa94f03946028a7170386fa3ce">491c96e9ca0a6acc4c49f2e7a18c2c50672f10c57c66662f1bd461b6af78057197c008771af3ff9ee21c40052b4e4f3f04d11186499baf0662768434efa4ace8f39458798400d96e46274c214a4c510efbd9a19a1da47cdf8f6a2db01fc7c0a042efeb00308ddd76235c0a6272a93ea8c07aa0865bda8ae980ad056daa7363f1239913d598e7a7dadd96e2b7000a2dbb53b323854a94ffde584becc2ae8ac2d86f27f8616a3d1094930da06e7ee7ed5ebd23f57f5b86432f001a154b9e558af5bd1d196b934254dbb6820f9db6a48dad4f964263a499d13084d68e16366d0258a5698d9e8411fdf4e90316e761b97a0805aa0dea3c8f976810f01d6d3738ecd9722d98715064a866e9c54f71b4ada91ca142d990e4b5bbb27b7994ef24b4e40a6271e78ce526b9244d798dc78fa56f5fd8334b6e709f3b137ba531da297596394549405de7857337fd9d1f9695023904c6bdc6411f617c6a9bc1bcbaad7a180e0ab005d2c48df6f19931f06edc9a14c1ab51ce23f73393ed62d5a65fb3ad1d6b9e75b1d6f66172d79717e1db38b28c85681c1733464baf1863fb86c81bd02f6856ab75d9e9e5b5e1a86965dee8be380d5b1e73b0777818c77924add0e1d5efa845ef58c4a69b98a6b7f2cf69998a56b14a4a55487bc012af7a69b4da13a1d9ec6603886b9aac4d5a7d0d7141d616fe4465184dfb16cbcf3208ed3c96ce1f3c4f2d06952c507348f2012bbb7724a462ce43b27a01a32e0de213991545e40cfc6a1ef41cff3dcc3a0e51b689e4a5d75cd9327f854cf6da67d65b59f288bfa1db153857c3cd26ab8ee7c25c6f48c2a9b3e6290b80eea2326333dc6c2d38cd525dea6c645d3f4681adfa9b0f7917cc47da974e91fbb8c3eb2f237753abb532dc7d417baa73c9cef5b9bb9837d41b54f8e7c6d287161043f325a2f18b5eb67595f14db217d3d28e26128d4fc1f7bc50a515410a07f7aceb39dc17871d04db164dc59d2147db9a77a4a22d7ade9214cb508eb4c23d97b3d6a0558d9f90ac604b7219c2a3bc66a82196515d8f1ac70ca616811910223be2471d7440ea8106af9f12229e0e0266d97b2eee1108653cfe18d9796639dd612a9cfbcdad2af29a3023fd342df65478bfde1532fae731696b97f8100bf99eb65ad223f02a19795fcb2e211033117d654ca6ee7d7ad782306db28d00f3c3a1ffdf1374b74d8f13f9ab44e00cbd216f5734ad5d458d98dc145166a1299a6edaf84a92d682b98d034a4f2883b6ee5c33f896c80cae4914086210fa19e437a167fe2f1e6d765a83a76fc1191d20be93352474b78b55d7887f5a04ba87eaff5bb4a0248ad26a7f4078f25a89fb1b8ea297b674cf5b9f47f80172ef0ce3e8d15070f93b28c11789d392b6e189fa75e21ced891c04ee93840f6e1c614ab156fa60e674480e5db4d1891fe4c4957676266ddd91a650538a5c4393f1838b8164c999f0b786e88a3fca69d4588506856e4580f97a9ca16f4f870c101fda67502e82d5ab2e2f9614bcf15ace3b148d488c312346d13b81a293cda23191139aa37e0e5c6d03b77da3e3d4e5922e9d9711ec9d92c26615d1b83b415f2e75d992aff35a099fd04279390e384ec89d9525cf88c97f06a086e84a41822d9e9282ab351aef4befa6bd6606e0ed2a7d963f288b2311e6512145084b6c83e2a9e9d92da6d4f73cb03194aec5e3ffccdcd3f1daee5725b18c576224bebf1826c85ae50acdcc5a183f4caf9576bdb54f601bf143d5b37c18ee504f2b245fc48de697dfd02ff9f3c1e1fee2a3be161efff1a403b6feb7c097880bdf9f6104ab8e36f54f4b0b5afcfc18f0de8ec2ab881ccd3596fd5d94fd3c06a1f42e718f13d1ea10daca6361ff6902987af89a87fafbb3d1f849aabd7f176a7340085bb9daee4ecd8f41bb0cb230bbd4a21065e8f29f09080193c856f902274065844a10d06fca565c26122228a07497e9867ce71974498019ae0096196129e7ad2b4b016c70c877089b618b03667033a6f5fe82f3e4ee96c0c2efd1028902763c3407cbee77346fca315b0e6ad6e712c779bc6a11b2a930061139c64faa0ad4abaf4d9b07730e95d0e6f74e00080e04bb7496560973c7512df7bbb0f3272525f7ca9416a7f3cdbd3bc6038b8b1629575b967beb625a4ff42293edc21b9f3a205b065cee8e03cbb2c45acab452d3251800618fbfdbd57c25160461e2462aa05d87ae96992649e37a03d62e75f4d9e68a295b0c3786bbf48cc395bf7ad641126c03e95e27814ed77f63a024183a388945040e76728764492aafc6dc3316fbfd796eb9b594e7e4067777f99840b3323c7bd84adf0ae82f4028a0aeb2fd1815b830523a6884856f59999fc6911defec7c9956745769f34877810512cb9f592f17c046b661729d10639433bdf9683ab5ae9626eeda1fd26914cd0729463f989b3fb775350dc30937174bbff388ea073ad20ee89904ed2d5772864945b3b3d7b2af8996e029f3a1ae58c71d1b0cf61bc30e5a836f73fa72bbdbfd7e5eb2cad24f2ab3b725191ffcfe26ea9faef335eaba97fdf4535de1b32bb990aead6276e52f0946797ffa9ca3390e5bb1d1136ad043b156f62ab5c51b70aab2a825d39bd92ec1ed6a44696d03788c23e2318fa2f4776ba4574fc8c0cf1e0c14325699a841164f8f5c1078d76298f48ee3370a4bed22cdeb29169d7ca2143618e4c32ed19768409cbfe871580865d3c7f242f77dd09ed9b1185f5107ede7f1e223eedc38768156ab26e77c4609e734ab8f6b3a8b9853347bc13a56cf5bd3441e657b0570390d4bb581b9b6b76c15c34995c09a1c8a080fc0470ac7d452e0bff3133533c6164bd0b1c6c7907548e1d611d83b0e768fc930d6120bb90fa451e61c350d2bb78d8ca3e857dfe180e696e9b3a8b6a1d10112c06e94ba654e1175b67301c6bdd87040f08cc0831f664a2b1741f23b0d8a71d8647f7be8bdbd5a6d0938d5f5bd5a9a64ab52f1011dc31d0af909e72d3ae18f3c54d65de22ac8b53bd87905603f7fd69c3b8b0efc548f62202d7866220eae08f50f33bccaf58aca59d98115122de41e8209e267ef581dab173a559de146d788834ea2e6d2db5db300b5e28bb6cd6e7b08d8048072cab71406dbe3d068c58f0592fc9225568727fe17dbf545b4947127cc08f1bbf41f3b66c1651e1e300484cbd6237068153b47a50f94b711e9af79d12076c45109c1aaaff1c9c644667c81f7c711aec7dc9170c9ed97a3b28461ec5b63668cdb3b37591eebd1dab4045d165f64e505220eb7f702afdd3dd95c79acfbaa5c60915f410b87b8e082f9ab3e0b08d1a454e2774575ea0d91363519b48eb4a77c9e9493650f94ada1096e630b14d7ca264c20795226c9082d3eeffab8e0a6206acea68efc0e7c7193b7b168ddb8f4579fd04445c5a5c5d8d8133a2a44e679ecf52e7ac6c0a78e96a392dddd0dd3826625ae84fe27860b06c641ee1da4d2481260c86e2bdd6e9102c938af6365365b0b0704f5519034b6a05c9dbaab644a8cc3c2adad2d9d5e4b4f10a1d771e5447285e080ccd8cf124ed421a4c4851ed32c794a3443fd5368a8aa27c7e300e40b8641363e02b98acea4f6e1baa66a6bf70607e74cd0c4cf2bccc99bd40b11234337c2f7daa53b1bb34eb52008deaacac53dc869e9cd840af5a2c700cf4f6260662e58bc1bb01b66800b386aeaeedcb713cfdd8ab069621f1745e0c407b8b8f234963482d1caf8071622a6340f94741ce8cbbf622aa256e6669ce5a669500fe4842a0a2f580b2a88a6c7bd583c8ebe09201c83b67ebb67941c392df4e53a8ce8dbb7faab7fa77dc8bcda2f3c0c967a31ce4f78d6555ff9c495dba6d4f6d5793378eaaffb325a8dd452ba270d3f434bcb8978de7dddd47382882201340d78149579e82d0a091f89229f2de9579056f337656a36d7ca3cc6d616dc034eb544acce5a286c0892d8670a7b2bc5b9edcf9358be55bdbdb6bb25d383f0b21c7714179e35d796223895bb961ce4267751fc6ea5094dac107cdaed898bb9a68a0915767019c4a985d75ba0684081f853f4ab304f02dc8b69c521283082622a90640055724f8f217b2e9024850800d6c5339c766ad790c787ecd5e57ee69a1fc0cb03de8e994e1560c0d762b9af0a317190ee2523ce9f992e7b8ca3cea025814bb6b0c3e06851bb6bd523582ec7c592ef7e92087fadad2469557b1db6b735c47a9ce99509c89f90e32025896b922d3dbc639c0c2a5f42d37b3200e53d54cf842b4356b79e942e629fdf8cbddca615bb3add9533c2115ab84d23a97086c4a2daba23c3c345d380528dd605c22e04f94edf04e1b3e15d8e01b3c9897f8a8d3bd8ce6b69908d4ddbaeeb5e084fe92db1e7b06626a9228f6a4b11d6e312d6e15a2da6d7dc6a25d9ec0c73420a500ee60097f7de07cd0adc204be08c093fc8d529a9b9c25388301eea0f21145638a7307c37a5c0c458236a1f19565dc442f44c4f6b8f9d54badf98f2956dab2ebe4debe7e98c038e3521e744b1f5b76502173c0826bc792f0819d679999afa3f003b7b6ac8d26baefbd9d2b55bed9c965469cfd242dfb60dbd8bb121a83a21b773ead4c6b7c3bf34116e2fee51993c63c4377125d98dcfddcab5cd980b0e942ea33b61a857051de4ee8e58a177add179f9aa8929c3f45ae5fc5fb12606f4f7898150c46343c82c49181e349d84555587da61137d257aa76e4a352e94e2bf8b795ed6692f4a054a8d6bff90ea3e85150a0fe3a0a0d51471f02749ad4899db0093410a207ce2288f58207aa3c1615ce59fbc3cb9b89ebe75dd65e8558edf6a055b638dcdd9538dd24bf9b9b1eef055666c55024968e01009f24963d74fabbd267588770e6cfca2ae6297a579255a8d06751810cacd7a44271a80ada113235109933d4db403460f6017296883209696c5bb474a8254ee2e54de638ff9c7db945abd593dd898320363640740787df141e1b03d036039ddd45bbdb3d581c2b0e9183460816f61359a0ed352ed520a1d2d0712ea2b7f8aff88e179171aade06189e28a16013c38ba0e0b89c69709d10527e23682573b1f4185fe1d22640bd3496ec6b21fa219b709c1c3b0177933a2e0d30aa0fc8b163a11bbc48789fafc5bd0135df85377e163fb617de9903a796e73a58d2edbedcb5254b13fa4705e346762d4aa275c13ef700ab14dd0dcecaa01e6d9cd0cee19a94735434c4ef3a6927ebe81503cb0217e02eb8b2e5778ee3a43d3f72995b27cfb9596d17ae9dbdabf336d971f8c2e8589018b162a877481cd0676b90a48c42d37e3ee2a03de090928d5eb0c860e96fdc3b0475f7b4da5eda9ccba2736bdcc82599bffd27bf5b4cc2d40e0de54e9408bdfe42a77244e5a2dc5cacec905c33ab64663b93f9e2298bd98cf0a424c52e1b572644eed026b1bf0d01b81d37118d67105bf94f4e5e220bde7a6d39c4d58e9d76b51d882540ee93e7ba9a0c3dc831c0fbd8a868fafcfcc965a7d389f4743c98179c4a494006f5851fe1bd336e93ee93ae121e718c71aee7d404353f1f55da180ce134165ea7406d6ef3e332d22896973cfee3b64ce9482062f5ebc3311e6c436e190197a94f62b8b004be360b1ba55811ad4acb421f96f766262fe0a1587400407ff000fbf7843e8588bddf2216d11fd4a6facbbd9010a80344bd45f544f21a5ac2206e972bcc5e102fc7ebb00451945668390cddb3fa4406a106515da8ede7dd42bbebfb37da628429c7b2c9592cefeb32cdc9235465349439ee4cf1c7d4c33c38505607bdbf436e30738a7feb5992416839ccc50b915b2a8ff9507f7b2cac73b396deb25a81339250b04be81f6eb61a734b36a8158b24ae51df3bebee560ba1c3a65f22034d27d109c02c6b0bff1afcbbc754fc1de05a93a0f34eebec10094c5318966c599e22201f008bf3332c52cc08a592e24758ecbcb0d0086455c7261c3fa530465f1e339feaea5a613e83c518a8a463695f513f557f1b87a31e0297c16113cd5b00454c34e70a877f733eb94b481533a69de558e56e50f247e5719ebc34de23b57b083bfc1b2078a94299e57dfc740f7e05520351a0491c3c3f3b420baa2907b1da4b8584029e633114b3930f23707c05ea946e32ae5eca5c91cebb439a920c5c6fa2c8ed06e28ed1ea59e144d0f274901b6237f71e45732a0a076fc118553b24f5f7544ece1f2e8b13d4aeb6519d286ad6829bcc5f9e701240c58f0319529e3f2288bfd53740ef9fe15f67029bc11eec2057083056fe94b8f0e3da383a2e6b9404ec9b0608cd468fbe092750c577b19f2a9129871f69521d481b64f0d87e127da2c6e8498eec47a169cf072f7f8bc07150535f4b34ffdab8594ef78e69e4e4148906e37bb1f39d652ca94b2de99f54b75e99ff52dcd72f581df49337b0c8290f8dd7455bbe34f4e84374b2be5d864468c7017d5b8956ca01ffd9665cb14b37e1106eee6d607eed3380cae625923f6d8642f2344e121d8b6139d642a9bec2b0ae1e690564d40c04d7dec31b5a254e5ffad85121f74f415f2d5746f8b0e5f5478f40b5d7fa11bc027c02877a8d75f76549efb8ceff974e10db7c4abbea71f901ebc4c55054bf86d344118e1fabe42b0484eb78f4384e9ae80009cb367723175ea51870251c4f64153d7761fd95bb10dcaf7692ed35c824ba26301d33311b0877e81c80c1ba538483867da32ca071db315e96e3c8e82bfcb75c83a4a63eb7eca3d86e537c508e71ebbd5d04a4c56b2b942db9cbd78f26371ace340a7554780a7e22f3d2d12440aa9582b445a471e66bb0dcb7ef7409545765f4dd49d278e6b8f548f422770a0961bb840af7e11fd045feea9da619317a523a2553efa4af40b55b4d278c3243187074c865acb0f8de78835aa14508d1f4c17cc2cf8d6c74338fa23d6b872b02271d21d0abb0e6f5d7833626db1fbd9983d7fc51c5673f784385885339178d330b2534f7bb2fd17f89640f32a5eea2401bada3fe669375d23af12d8a94df04ee92aa1b0e1be7fb5b3b207f87b1a4d15a3700d1905a6ccea5d438eeb5c0bbb9f442e49f0f58a94116926af6d450a97eabfa3f6a75cdacdf9169846d94d555dd74576a117f6c844807dce68c5b626b597ea73531aafbb35f2e9fd079dbe46486cc2d81ec0b8ad941ae19c91103ab9f09d7565426f98912321bd79aa10089b191c3e5318d65be65be15214dab6a47f9e68dbce4ee5ff5f50a5cd1d4a714bbcd385fd2f64b9ca283f2c26a1a214dc0bd343c5155d395113b7460bd634b7ba7fcb99a8d060131928dbb42b4957c4839f2029d8c5d8825967843b2d9c0f5221dc66e3d1d0540ab81af660fc5210b8dabe389137efc309e7acaa9f7de196ee3fc3a9ce6dfe14fc602ec8fbc160bc2f4598896e0cb2f8cc3152c5524ccb5948fa82c8290ba5851ce31a48e2ddf45abc2787f527fa96a72eb0a33363c0706efc15ba953182eb18b214a51ee5e045093d73417b1b96c8c54db4a16ac2736d99dfea2b63d9dd9b7e78db16719b3979712eed0be7d57e1be8a5dddff6a7a47ea17c3b1dc448b6275535c06a746131f5f7614add21134083a90dbc32c795468116efa0ee2ca6843184dfb6d9d74acf1a183c16aa3282fbff7dea279ad19b57370daed3accc36a4d587af34205fb744a6b66211d1e948ae9ab023f1fbf1ea8db0400755fa4a367a21a8c79c7c52aeaf4ee46b7419f4bc7451a7c4727ce31900ef7f76ccbb801493809dcbee514d08beeb8b8cdee5d1d4dfd5584f60fe3ec116792b5d0adbca6f2a2f22ca9370f714a46dc01fda28a8f06fee847b0bfeef8115bcf1190134647c0e86488a15f235cc5d61fd8d7abe555a7b76232626fe49af54f8d19a5d9f66a171daf70800f0fd49a8ba7a1a9a23d04c39446735bd0abd26b75df8f00f047039a09e60d2ab27817abc7cf62d06ba8ee95c18f7442458de0b6e835d60a6ea8bf7d84037e05d202303a4db23f582a402fbd3d749ddaba879517229defdfdb6b271dd8a72de391e454403510bc5e794cf4e0c9808134089239f3e4e5ce7176942174fafc5989d7045fdbb13a01fc40c0f0f04ebaaab8371af66d9493f67dc58764c1dc99860c5ae1c555cfb551b77582b90cbafd6b8d23c4eae9d1a99617af003a613f13442e699c9b4b704cc6a2c9f9a2c5ac0b468fd27d991225e6d22cc398344504c71da6089d7a9eb19e49c60a13d7f42cf272e0b3f5d045f967ce339c257dbda07d82c583a8dd67840545267e9726cdeaf7061b57e4b35e1520ceeeedab517c0ad822ecc4c16e243f28d9014a0e62aa2fe298e970a1b86c50b0df7a9245358c238e874dcc2e22f35a0d18528d3f5a206370dfb4078afc519132d0b9594d3ab61996fc3bc702e8e8e4bd4a3040c5966a95c7edb48d79ffa7c63a8ae085003cc78e1daec3d0d517ed599606ec6cc6dd30d787ad34899897c61fb0f5d997be3956b02dd0ff778bcf47ba2ca388ba9cdae8376469ff5fc379eebf334ae09688772716fd677fe70612e630913610e289d94d8222acc8cb28d82999525a5c1888507a229863791b172210c47d263a521032f14ef04837a7a6e5987b8adfd82578aefe00de9100c3afd9a1de320af5e4d374b50ceede92fb87a262485ad9d33b2b0526f031202040cdffffacce51cf22b072407314f7058e3fd4d200600aa4245da47b5796a5d30aae97756e713fedbe07fbc0caefe0276a21c855f0ff773c2f0ea6a45bfd1e1caa2b805c9d90cf4521366b31a2b591061ed5ecd387a87b4a8491048b2a5cf36d957b4014f05e1304b2e84fa590b0db27ee4bbedd80180a5622baf0ca2b68a63bbeb041951083b5b3a5f3b9361fed76d1b7b519922626e9ef3f9241db318aced59fabd914d7509f75a0bf8c0201c1fc951ef45a94c857b2d0265ec3c88472f27d7a1c2383be676aef0a3bdc8995f19c73c11eb520c6a20878c6c3b0f669bc5d64c2d43aa48d450f9f8290c7673ba814d2f3ea206dbeb72fafcbc593df671537f192b87b633e2395c8c2d8e4b041eaaa41e016bce489ba51ab9bafe48e7ca0ab33d4711ddf58ca42fca6bb3f639f5f87efcce019b4dd5761d8a58d57395373fc14d8ab949da63059e2de0b5fccd917559b87cc481316fd4f25c6f39a241a3e988d8e3045755ab6ff86e326ed99a0d2bb18ba6ba0e2b95329567bf7fd3464414c9bde4b70659a9a15b3c3d4590372bafb4d25c59a8f02e9c41f4f3eae78dc3731920d59478c77415888fb0cc7b23a18d704148a52037fc2c406e6f7bc86da6390f61a0ea873f657fce975dcf119b9ab6f6d0f09f85c522e32ebebee26919c80b785ca1c18368c7e1cce332abffafddd98fe7c5e0efc5895660c394a7e4680e62339571cb649db3fe068f58df931aa88b4fe855cab65706c4818e60747d06666f6fb1953670044742f227043aaa035bd5b2e910bd735f87715386137bcd05ac7c0e922d0e1ed3755e2a91555a830afab8e7c77050d80d13b6046c491ce434d1355abfbcd70525f040895314681dc8fb83605b36ecbc57ecab19eae9b0ec7a956eda574401b2d16c45e617832dade67f56f455eeb1fc7c22d2f1885e6c12b79e12f2290d0d24382be159e0feddef26dfc236a36a7b59cedee3e755aa17fa571efbdfc8259abfd3e0afc6e1e76efc413c1f3e916d385f287332f102b52c5ac6f8714ebe563110245cd09a6ead95be21aee92e82fb4cbd16f6ebce65355075f7c2ba6bd72b7d9c25fc32de2e10093fcde2745d93926f468636f2d0f17c6ec99c3f001678fcc3822e62754009a795d3b6d916ff790f445896776d67ff546dfbd5a1254e222bf5daccb0d3f43ada36f14cb015dabe8b2b9e765e4e52d9ce7236d49e4ec4fc8b1be94eebce868bc4e95d5a5cb7c297a298dac58a9a2f95784d2ae10b58ed1608671e2970a2f63b65e7bf6cbb7f54cbfb01e1468136078adac3b5f9c6de0552913454af142ffe37df78e327e0ab63f5ce91f5bb429c1d2e65fffc7e0e74d087dfb0afe10795f565995ed70f5964c8f6e1479498d4ed892137eb3530351118c491652f05e7c139fea21f03f0406c31581e4f89f7aa285311ce9b5865ec3c43f59cd28c871d7c2515464bb5d581d99d6d37f0c30d0f14b9001defba298c1b0086353b9d2e94c9088a84d94e0bf28cc03f76439f03a88d82fc1b8b9ffbdaddd1be18dc5d399ce7e7e8faa1a59fa4934de9f45d8393a1f54f4e16de99646929883c907f3475419d60558f6a1efadf7eaf6fe0ab7080310202ca2e65c5d0c5c74fcef5e184e3d3be7112b8fef6dc3e46bf561ad6444f561f3fcfecca8c856a3f47cf0f57bbaabe2ac4a99d329193b88dca280d0ba1668e0616b84804546c086ff2db890d37c73a8afc0bf045be8f41042024820d376a512354b4bfa99d0bc809830a0241d30ada84e5db4524c557188bd2b37864e7a3c6c52d06aaef709b29e93dc005d16a4d200ec10b0e61a7310e599c639533e31c1da47fcd03b67f5e9befed0a50f73d1d9be9ca7052def7215db99d53b92130cd77297c167b21e3bc73380c78dc2626bc99cb0a13e8feb6a4c678fb2c401b49406a4723b504cce459b192cdd1f0038c04058e69147681b108774970e7d1d190d6d5eba0eb652fb50083f99efc48084d14952ed639ccf950d97dc43422086d8fcc5e43f9f0dd484af7f5321fd079030d3402ee55112166bb990cc8281b970e2bfca0552998ee3f48f0dd40b3a56c7101ea95e479497822d851857702224cb299f09c39e89c91426a5823082ebf49e66f18dc8a855dcde2a0be960c7a5ac79d9a72f1bf49885ad2bc335f135cbac3249682ed24a7727daa24b4fd6e407b2510b6b496d167a5488d7b75fb2b6ed4c979839663c3fc3899f0eb08927e1956cba3dfe0d802dcd0dbdc91e3a5b003b7560e66700153a5677643861b612cd350a439447f72f93d5c5812e4531cb14b5fb9f1be352aff2343efa0f5a5ed8ef63619b1135e643219d469be8d0fd812f065411b1e982ab72a2bbebe1793f872a5d295a8f0cbfde8ea322eecd857ae8dac5e32385152bd31431cc4e082bc35944c3a4ead919c75bcf7277d1c88b9f930672e3a7d48dcfdf0c6dc92398acdd9f021d3c57bdc4b43ec409c293e260f767b02a37480dda0a1255f3b5ff0d48fbbd26f976380b25e2fe65adfba7121e8b65c90e34cab40b0401cd907c3da7346bd2fcf544dc95924272f62613c821325cfe30ccbc2e38c2549b07ffd654e2552ca483f1b3bb8ac3d6e1418d206dcf4a72671c4140ef3745831faf3f3fe5b968f01ea19822b002a1ce720a5df4e5747698b0249ad3634d2ca9020f3020cf2e36362e43179cf52863c0fa0c112762eed30a09458674d0ff0a9f6abad296102fbf896ae238faa62dbf831f7de2b4abf03846c500f2e94ca68fb93302876bf2600f51f1364dc6079a481300e1b1a2aa24bf23785a527bf0b431a57fcc0163734d281a7c08dec68fd3a94fa895f82b22aa3f7e81dee3bd9625f9db4dd3bf667142528797136ce308e009178371dd1eab20edb9ca976b1fff4f7f8f9ca8df47b6ba90daf5640be995020eca6a450f106282d68aaaa6b25b434bf0d511ea754b0c6a0e64efe55ee49de40fdaaf56d33d3e48df6babf3d20e3fe8eaa5b5f3d0d37a7f2dd6dea3e0f4a341513e834f6a22835342d7c2cf5a1d55f9acfa3ecb9656a33d6274f7f8458bbfcc1b4bac9dbf88b77321e3298cca3a8ff5bd9b2257e81217afff4932697553f7abb8d2b016d6f41cc259a5e4308a0d2c71da97394ca69b437475b6b829a00dfcb1059fa1c4f958b16af3ef19f7d37204ff9187e4c3b9905ce57b5b2fe1f8fa403f9c17eff32d1210f287c78518e07eb30db5f44a0faa46ebd126158e20b02daed07479821a9e7274b836c83558846f815fd58d03b6422c7b9b272f18b60d51ae346f9b48effdccee9f4a77c71924d012a448feeef0abbe3ed61d23b927acf6e1e43713720bbf81451a2e1d90552f9f9e2aadceb82ef60776986fd6c4276298c727f7edb52b9aba058267770b70946d399e9a3a342de86e03c5dabce08d24c51d6dd8b97bac7db152d84ce47f11d4abd2de3347fd694d7ace40266a1bbb71760e2eb46a007a9c4e7777a54995f582877c207282eb17d767e578f69be508bc103149f711a0b494c40b9384ba3a2ad0d6643e6ef91d1fb147b4d1742a35c08aee5959d18917bb0fdcc7b171beadc486e918f79cb28f415f383079002bc9d9167ee3a4698cb5b0c5ba97092fae67f5a7e36960c657f7b75ae066afc703296d13fc1bb8f9e1f6e53572442e35b138c5266de0d276b62a061abfe76d980fdcc8986bd57d22059d629dc23f4374bed6b03635a536021daf4be7db2c68213a2d0f60db868b341210d0d4ee3a32940c84d367319fe6721a0ebed652c5f8f5b92c39e1d1c5a048f7e3b7df6dcded1ca70457814b449e4ffeaf839bd5c3c03f17b8677264238692b7a12577d8590982c8894d45f9108af0286bc3024c42acae7c8b842ee350ed3e091bbd9359ee37e2b5f8b730f3dbb4dc174213b9f5291795f4700d8515ed6303f17ad11fcea2abb6b59daeb224f27dfcc5593a379360c67ce17be75572fc212c86387e32e03f14cd86dd1b5b3cf13124c523d617784bd1979fd73ed2dcc23d9849802127d68995b908df66225df0fd2327e4abba032276562e81b4e6c031705e5b91e8e0f7a5dc28e2e6501d450585ad7eeb2014a02c40842bde232a99f58e02922b0151ba34c23bc9a9f1175d62e754e29d2638603d24fa89dd043b8ffd976aebc11e70187252799d99aad070c41769d657ae09f26b83d4b87887bf734b5b59c354dddbe6d0ec3a859f780f87ec463f7335b56fa2ba78476cdc7824688eddb9cc51f9039b7ff64beeed8a63c128b1baae3e934fcdee538531ac7bf280b0a32ec9f6b4a04bc16b956f42e5b3c3411876fc448b3c8a17aba452e1f08abf4588b2fd87119ec29db11d7e5656fcd9ab92fd12f40f4576cc91da34c4b4f2f432c7e9a8a74206f481345f69a6c2b59b636d4fdfbc8c0e825fd15184b1e2d466ebef45a5a7d1170a884fec8c00871511721f7ecf7bfec80274a5fc78dfd8e4b4c753b45b13c954df7f1008e1fa108816123f4584258f661d6da89f1fa4d4234374df8b41d68e7b0b4ac64761871bb296066b3b0fe224ed43b31d00fcd29fd6cfa36bb162cd119286e085ad54d7429d072f1d9dc40e7a62a1a57d69c5b7f0d1ea9e4be8e250d4f916ab684075e49340831d3afa7318c756a3b58e10419561ab42abd6a307ed88583761f9fc7a241e05dbd06038c7449dc4f69a1a29f06ab36660cea01907f90b3777e1b8a692fdabd3ab512210f7c8f1d4f55471bd9e7669da500558306cc7893c0d4b62a37630469c0841e11821c38b82162d20a127e7e2bc38e8a8d7d67d79ae72236afd9297dee6dc087db91c2276591d862550237a856d17e76715e45c48b9a5f8f4fd0389a2323e67f9b87a3d699d69cec808a4e56304fbfe10438eb303cfce3d3a24cf1b65d9867535170ebc9359cc121a4e792085bd0093480904e92d052d8605baa10a9105fcf2f1b074eef63ff1e226214d5ea3c53573375ac9c7bd2488a92d4c5f539341b4f781baf18a47d898af86595d97fd7c847c15db3e1ef752b87a2c2098cff8be8dda67d8aaa6e4c46082e0a5de7c49132eaead6b8cbf395b948e7ca743f4c1cb8619b8622b53ee3920a0edea66bb85df82da9cb6ceb3f9d8f03751594a6ce9cd75aa63b784136a254ddcdd529ad6d74573262cd8cb0ce3e6a2a8d76fc0d6788b5dd7e7bf333e288b514ac1a6efc5ff348eaf10f2cb38353b50cc117cd227d5ed8ba6c9a239ae1ffb612b7e8a37386c34ada81f7a7c358ef6c91b904e3ab22e502c7ba7661319e33f3914fe12b9323c61dfc3c90b74a9c18ea3c434ede1064a073c28d9a09c320abcf0f6e6e01c7fe0b5de622f42c3e5fd7d095d68d13f38771da711d89826ca447bf98801dc9c04a294d21620215d608511d5a42e0a80dea9d66fdc990b65366ad8fa79434cc117ba02a6de3fd192b8e673bb946f400a57a8b83f11157831c1a038d2dd38307baf0d0d41e57dc9ca3cfb286f9dfc91418d46428ce4963d83d5b4ddd6207c6ee6328b99950f0c348a1a4d2436df1f21608b9627ab1e20e136bd965f96cf128cd2bbad77de94c89da6ab4ae505b5b14c69fb5e261668e7e8343204c388864cd584e00a0effa61cfbe5dab51c0a8c9341a29f6c863443abf0ee651415d8b754db4fe9f800a57afcf0ab31e0b0a46fb6e8ddd1ad244ab222be81fbb4b48c8a6fe2fdb1b8d6319b8d3ad1b6015063234b3a4351d558aa21ea68aee0f067fc8326837fb26acba5a5becb51bdbf920a7c7858bb88d4ecb1216df343681d4c32a749b732996a797de86770b4eaeb093a5c03dd8a6827e315ec0b6a32a0e8be0dedf324d78431d6f44c41da2bfb04d0b92b5bc145d8076518d06b34912200301e57fb5f1e42c9dded62ce5ea032ca2d64b4d3990a8fe6b2a6b238027e5bc8881e1cc0014b12a3b641d7a492fe61161c052362cf76fae3dd9ace03de5c481e8e8e472f2c1670e28c00359001978fd515810cf6b4c8c210407ea8bb4554195f6f1341b2c268f9d2a47f10865da21cbfbc25087b7ee4c1dc43b0a826729ef034dd45c6a8932af472ffb75d1ae5fac3a908120fbcabe0930d44f17240c104c852425f51fd76a10140742792fa0eab882378a40e4f714522d5158fa5c48b3585fa6f9d42b9554cd6bba772af73cc6bc767876e884d0192eb86a26cfa7d6f83de2d5f506816becb19344fb3149bf73496f475927348998b97c2dac6480f4d9bf673782abb4a9a356686de72f440daa379fe0861ccbbb1bcc3e3ea5aa9e225cd3baec4cdabd5106d566081ffc5d5c59ccd07cd512386b39a4c990cdf4bb8b65fe07576807a3de125df301931759aba605c0469227cc4725aa422d9824a840d7b25d88b6962efed567d08ae8168696b5b3fcb2aacc6c64da6e9b490ddef1a872a6705810c97dee4c7a9c0ecd412199f59dba53db4c2b0e34da361d97089974115507964b27d225cc1757c59006a7110b3e5e7a819e66f7ba0c88ca9a8a163683e503f1e84ba32ee9cf8002d4d9a2b1cb6f92cdadfed7350a14ab905bcb90ba9a5a366d794b8dbeb7833794e695e6dfcd425736981f55c4fea4b22890256b1c82cc0b92ef05a7e651726924bc467181ff54429991a4448fd3464a3ca5e1f3a1de2ced1cc7109e7531701a84209f1bc8a79bcf53d9209a96b2e3bc35a70f615e61a12a151956b8642238c37d018369b78c2591cb4926bce057eea6024e0cc132368b32d49bc7e92913778a56b40f71f3d6c28debf4ed4c7014ff67428be6f8fe33782da11f89f7da9e13d23208dc4ffecf54ae7b35c16c8cbd87e7e6abf67c859c3e8d26ae6be84e1c9e3ab91d6bfdf60137b067b56df16d02d872849a1d0adaffe9fdfd5cdce4de0d215e55a26463103d123f49db7f0931e021abbd8d2ed8b4b2b0a40ebd4389ba5bd6558a9c40c2ef85181c5633a491829573b74c102cc253f0b6f0f6aaa78fca26ee9db79cb27a209a46ccd6fd5e225f8ff976fab77a4321fadddab81246979c1f2733a1976019bfa2e9aa0b49f5c859d7941133cc108997b4dcdbb7826992d534f409b15e1a7e5a3c80130373ea8b80ba534f24169c8c1342cf38896a0e85103d2239a051b1ed92afab41ef99b9cf504702ad08d14a4303c044534076959f5b8c812e9bedc0848efbfe7973bd17bb03ec93a5b356f522928aa9b10f37eb78e7a5a7234df1db002f0040c5df43d51af6e689658018ccd074acd222c94f2bf48a63028eb078320acb8c1e6594693cb3d15136c6f6604f11152e980830e0156f14f76318b85e38f9d441388f8e9654f30e4a0a3f20532e9eb9fef6ed387d0aa1abb46f328465cfcae1c479e296ffa4f553734a8adbf0a8d3eba13944ba6a4e3f31adf11f51c720cf0d7365ae8bac1c74675ffdc22c4cde5a25de0d60039a82f895d1db4f9b5ae2dc63e2a8c8ec96bf38a15c623b99bb16a3c5f40012d6381cd1272c4f0a089fe4c13bb9069ae21f2ac62026250b815454be37ba91ee8294a3db1a8d8a3018645e50d17b151754859541502679ce8311139ee1ae40d9540ecc0a7655a2ee921d7717dbc91028f02e6dbe780a459c6098755e6ebdcb5a641b8feb7dcc7d8e06caa691fa70e66de88f55f03ff8f04a409f3669b8d16f20ccef0345e7658b52f4c4d6f4e6cbe4953004e66e7bf8e84255fc27dda26a47c06da3f92811d359e6d9edceb54a1d8f370960812bbef9f3878126feebb43284aad4b8d2aea3e6b2e5330373bb04615682ed7307c4791f31b68a72ce0095741fcaa6c89b4e29e851889d7a126aab049ffbd786058851105649cc07c68af2f0918dc906201516d93254eb4618d4d2c5d476163c3d620d054d19529620e98a36b3fe6ac05c9b70543b271eb3b57fde84fddf457f7e9159e9234dbc9fba79a1b0a24577bc6b725eef1d4225bfa25f0150ed529310cb51bdac2ef5c48f6ee0f5962c60c0b8c41f0e8a7353f8c195f2610085796733ce6f2d07a29f27cdb4969cb171838ca3802b6349b442a10ee3ee5de6722514677f7469843efa3aca63a4503b584c35e108379df346ee71572721d019908e417880e4bb6c4636401e6b8274d8bda753c6e733414dbeba3bfed2cd2862612edd1b05b57dcb07d8d24f4d2ccea732b3039ca90c78ff159c673975d01262494f977e2537fed863ba95ac0cb61fb741f2ffd0cc4a1e4c9739efafa446f94c3f6ed381152f9f6869b9d8286dbfe8d80f0f8e641a1664a91d414f18bbbf490177115485e7af71e0f558910f61b8d829e9b522ba5a509f28299f77a595c0b465dcc33880c12b899e36ce729900a88d420f2e785d8842869056a9fbad1611c61388b648a7e48186e513fee5a68fbc015a7aec05af69c90cbe3e18b340e035e07eaac1e4aea066d71bd260f3b9aa7289b0799a58d5c6251643d2b8751c2d2c2af710bdd9929ca5810f0348dc93ea694889ea5b36d82222f814e5bbac5717bf7499b6f24eeb0b656af9e5c36c6c3b58f7d34e6871cf23df0f68a6357af63795029faf3a34e1286c06619962e55654c0c5098d8103e7ec46d712ee48cda1c702faf9e4ded48f3b36a7e531f10254ffe47d871323bd90028ecb9e46823e316555c4d773f9cabdfac2496e4ba7e61d4d3a16775462254daa42068136f2f25447d529119f2d6f32c8c41fee5d1c2309c08fa3935632107ab5fc82b237c02db06eb9b4e5a16bac291bd9e64e48773fb6ca138f11c10b2a66b4440855c16fa152cb1036fcedfc244e4bba12a1b6a0a96f9101a930fff61317efda899cec50a6b8b838e8c6c3cc6df81e0adb924e6383af1a202a982fb39047abcc67e4d76d9ddebbf692e8ee259bab1fa87a1491f39577c5a6d28fe01e5d5f4c4fe9f4b507e73ccb94323caa19b86bd5a7ec87574822325f7da8bb08842f0e237bcfef1ca5248bb750c7f856abd303e312ec18c3af75b91755ccd3873f0f1ee4ad96a2b1b66fd42fc9fe7b529a6bbc093236696bc032f64791118ca9941f36cc11fcfcb1fe2a31c708ecd7e4591796509e1510e79ffd0fa239b2e191a84ab83d90f0b80e80bd6c048e9fc388e9186c29387ef0fffbd1afaeef6f96d192d9232a8d214e245a17d59d9c044fba64b686decd7bbeb2c39da7c36a150574d5313653ffaf38786d5ea13585a0e413f66c300b9febba71f9cfab25e2d42076fa2dd5500aaab5a457e8366f2733ccaf19e4fccf576a63ff4a75953b000c35f3241c25a0f178f4ee91175c7c69602c9abfd4067541b453ce5a74b7b30564de9839e4852ffb211b88c39dc5d16b178f507c19748784e00f03f07f3398569efb36747c11d8dfe0ca88cfe8ee2dd98ac7f29758c25ead38cd20f4d060d700d9d9539b77cf6bd64234cc131bf60f7dc25841560a806f343e7c0ee853071587cb9a232cd8d01b9da0c6de93e07bb04edf46a9ac27686f9281f6fe54970b59ec245bd0089e1db68b412a87a2da95fb245c74c0baf2efe7f867d5e5b5d950547527ddd688a1cbbd8c14049af109a81fcc36c02b5ec45df555fc433df06e8755944aba7441da2d24842629a62dbef5b1e82292255717885e15d2f4868a66988a12059b4976b7da51d5170b44dae7322e21c8adffc7355b84d68ad965284113b3f09348a355b62617f766f25b9991886b446d39beadd3b63a9a046ab8d342aed90bc07822b531805e97f3d90028012f6f4cd9a80551fe96f3b42c7f10908737d6490639681e80bd141f1693a21173dabe1668320f0f49848eabc1225577321c98881b2740ae94aa14f1e370cfacfc33c21d9b4a3019354b9d4f1d780a55f62b5e0cbfa7afa673347918e684bbba61bab5fa553dd76788d0663dda41b2c098aa20bb96f36fbf35465e64757d94e857414f8863d7ef1f97f17274e6e90b1d1c88544e20663cbc8e48a814f6221a39cdafc7d72b7b913046f1cfa927242fe859e0682a424b69180335912dc0323512d6335036e3e91cbd625a8d9975f60253dd95169d5f5523f74498ed48739b31779fd5d5fc80be376a552dc3aaf3730235e53c794c585c7c883be8281bb57d10c7d64c7e186ee1e6b2f9d6d452d02c88b9b3e6af0cbdc7b444baf93e83cb1d2fd2bbd9172aea0f11a4340d31e6501e60873ec07bc12fbaa1d229abaa632d74f71d4e7e57b132545c8a0abf64f2a0e48e97ddc31acb405632522218b348456eb19ac575056a988e68f71db997295fd87bf901aa66f6f64b3bf07a46d716025bea93e6b0a7fb010a263a8dd87d55da80cf73cea316dd12ce04b4447e779907d21de407031bca109630348a204cf40b0a45e911685f66afd2578026f38294760c8159dbf41e45f4260ce96e8664c49bf05410915eaa02ebce1cdf4184083a1c512aab13afada242e5b98ad2ff2423cbfb1785ddaabcef280a9a958fa2e4428157b288fbc124654914467c8d4154f76fb491471d4734c008792566df7c6c79e01a53eafada47be3476da0fd1b92134275feb</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>diary</category>
      </categories>
  </entry>
  <entry>
    <title>2019å—äº¬ç½‘ç»œèµ›</title>
    <url>/2019/09/02/2019%E5%8D%97%E4%BA%AC%E7%BD%91%E7%BB%9C%E8%B5%9B/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>è¿™åœºç½‘ç»œèµ›ä¸€å¤§åŠæ—¶é—´éƒ½åœ¨è‡ªé—­ï¼Œï¼Œåœ¨é‚£é“å¹¿ä¹‰æ¬§æ‹‰é™å¹‚ä¸Šéšç€æ—¶é—´é€æ¸çš„ <del>é™æ™º</del> ï¼Œï¼Œï¼Œï¼Œ<del>ï¼ˆæ€ä¹ˆè¿™ä¹ˆå¤šçš„æ•°è®ºé¢˜å•Šï¼Œï¼Œï¼Œ</del></p>
<p><a href="https://www.jisuanke.com/contest/3004?view=challenges">é¢˜ç›®é“¾æ¥</a></p>
<p>æŒ‰åšé¢˜å¾ªåºæ¥ï¼š</p>
<span id="more"></span>
<h1 id="H-Holy-Grail"><a href="#H-Holy-Grail" class="headerlink" title="H. Holy Grail"></a>H. Holy Grail</h1><p>æœ€çŸ­è·¯ç­¾åˆ°ï¼Œï¼ŒæŒ‰é¢˜æ„å»ºå›¾ï¼Œï¼Œæ¯æ¬¡æ±‚ $v-&gt;u$ çš„æœ€çŸ­è·¯çš„ç›¸åæ•°ï¼Œï¼Œç„¶ååŠ è¾¹å³å¯ï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-7</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e3</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e3</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-keyword">int</span> head[maxm &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-keyword">int</span> dis[maxn];<br><span class="hljs-keyword">int</span> cnt[maxn];<br><span class="hljs-keyword">int</span> tot;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to;<br>    <span class="hljs-keyword">int</span> w;<br>    <span class="hljs-keyword">int</span> last;<br>&#125;edge[maxm &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u , <span class="hljs-keyword">int</span> v , <span class="hljs-keyword">int</span> w)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].w = w;<br>    edge[tot].last = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> u;<br>    <span class="hljs-keyword">int</span> w;<br>    node(<span class="hljs-keyword">int</span> _u , <span class="hljs-keyword">int</span> _w):u(_u) , w(_w)&#123;&#125;<br>&#125;;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(head , <span class="hljs-number">-1</span> , <span class="hljs-keyword">sizeof</span> head);<br>    tot = <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">spfa</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s , <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(vis , <span class="hljs-literal">false</span> , <span class="hljs-keyword">sizeof</span> vis);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)dis[i] = inf;<br>    vis[s] = <span class="hljs-literal">true</span>;<br>    dis[s] = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">queue</span>&lt;<span class="hljs-keyword">int</span>&gt; q;<br>    <span class="hljs-keyword">while</span>(!q.empty())q.pop();<br>    q.push(s);<br>    <span class="hljs-built_in">memset</span>(cnt , <span class="hljs-number">0</span> , <span class="hljs-keyword">sizeof</span> cnt);<br>    cnt[s] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(!q.empty())<br>    &#123;<br>        <span class="hljs-keyword">int</span> u =  q.front();<br>        q.pop();<br>        vis[u] = <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].last)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = edge[i].to;<br>            <span class="hljs-keyword">int</span> w = edge[i].w;<br>            <span class="hljs-keyword">if</span>(dis[v] &gt; dis[u] + w)<br>            &#123;<br>                dis[v] = dis[u] + w;<br>                <span class="hljs-keyword">if</span>(!vis[v])<br>                &#123;<br>                    vis[v] = <span class="hljs-literal">true</span>;<br>                    q.push(v);<br>                    <span class="hljs-keyword">if</span>(++cnt[v] &gt; n)<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>  <br>    <span class="hljs-keyword">int</span> t; <span class="hljs-built_in">cin</span> &gt;&gt; t;<br>    <span class="hljs-keyword">while</span>(t--)<br>    &#123;<br>        <span class="hljs-keyword">int</span> n, m;<span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m;<br>        init();<br>        <span class="hljs-keyword">int</span> u, v, w;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>        &#123;<br>            <span class="hljs-built_in">cin</span> &gt;&gt; u &gt;&gt; v &gt;&gt; w;<br>            ++u; ++v;<br>            addedge(u, v, w);<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">6</span>; ++i)<br>        &#123;<br>            <span class="hljs-built_in">cin</span> &gt;&gt; u &gt;&gt; v;<br>            ++u; ++v;<br>            spfa(v, n);<br>            w = dis[u];<br>            <span class="hljs-built_in">cout</span> &lt;&lt; -w &lt;&lt; <span class="hljs-built_in">endl</span>;<br>            addedge(u, v, -w);<br>        &#125;<br>    &#125;<br>    <br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="F-Greedy-Sequence"><a href="#F-Greedy-Sequence" class="headerlink" title="F. Greedy Sequence"></a>F. Greedy Sequence</h1><p>ç­¾åˆ°ä¹‹ååšçš„çœ‹çš„æ˜¯è¿™é“ï¼Œï¼Œï¼ŒåŠå¤©æ‰ç†è§£é¢˜æ„ï¼Œï¼Œç„¶åæ—è¾¹æœ‰äººè¯´æ˜¯çº¿æ®µæ ‘ï¼Œï¼Œè¿˜æœ‰è¯´æ˜¯ä¸»å¸­æ ‘çš„ï¼Œï¼Œï¼Œå› ä¸ºé˜Ÿå‹å»æäº†ï¼Œï¼Œåˆæƒ³ç€è¿™ <del>æ•°æ®ç»“æ„</del> é¢˜æ€•ä¸æ˜¯å¾—å†™åŠå¤©ï¼Œï¼Œç®—äº†çœ‹åˆ«çš„é¢˜å»äº†ï¼Œï¼Œ</p>
<p>åæ¥ä»–ä»¬çš„ç¡®æ˜¯çº¿æ®µæ ‘è¿‡çš„ï¼Œï¼Œï¼Œä»Šå¤©çœ‹åˆ°ä¸€ä¸ªç½‘ä¸Šçš„é¢˜è§£ï¼Œï¼Œè´¼ç®€å•ï¼Œï¼Œæ²¡é‚£ä¹ˆå¤šèŠ±é‡Œèƒ¡å“¨çš„ä¸œè¥¿ï¼Œï¼Œå‡ è¡Œå°±æå®šï¼Œï¼Œï¼Œ</p>
<p>é¦–å…ˆé¢˜æ„æ˜¯ç»™ä½ ä¸€ä¸ªé•¿ä¸ºnçš„æ’åˆ—ï¼Œï¼Œç„¶åè®©ä½ æ„é€ å‡ºnä¸ªåºåˆ— $s_i$ ï¼Œæ¯ä¸€ä¸ªåºåˆ—è¦é¦–å…ˆæ»¡è¶³å­—å…¸åºæœ€å¤§ï¼Œï¼Œç„¶åä»–çš„å¼€å¤´æ˜¯ i ï¼Œï¼Œå¹¶ä¸”æ˜¯ä¸€ä¸ªé€’å‡çš„åºåˆ—ã€‚ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¦æ±‚æ¯é€‰æ‹©çš„ä¸€ä¸ªæ•°çš„ä¸‹æ ‡å’Œä¸Šä¸€ä¸ªæ•°çš„ä¸‹æ ‡çš„å·®çš„ç»å¯¹å€¼ä¸å¤§äºkï¼Œï¼Œï¼Œï¼Œç„¶åé—®ä½ è¿™ä¸ªåºåˆ—çš„é•¿åº¦ï¼Œï¼Œä¸€å…±è¾“å‡ºnä¸ªåºåˆ—çš„é•¿åº¦ï¼Œï¼Œï¼Œï¼Œ</p>
<p>è¿™ä¸ªç®€å•çš„è§£æ³•æ€è·¯æ˜¯è¿™æ ·çš„ï¼š</p>
<p>é¦–å…ˆå¯¹äºç¬¬ä¸€ä¸ªåºåˆ—ï¼Œï¼Œä»–çš„é•¿åº¦è‚¯å®šæ˜¯ä¸€ï¼Œï¼Œå¯¹äºç¬¬äºŒä¸ªåºåˆ—ï¼Œï¼Œä»–çš„é•¿åº¦è‚¯å®šæœ€é•¿æ˜¯2ï¼Œï¼Œä¹Ÿå°±æ˜¯ <code>2 1</code> è¿™æ ·çš„æƒ…å†µï¼Œï¼Œå‰ææ˜¯1çš„ä¸‹æ ‡ä¸2çš„ä¸‹æ ‡çš„è·ç¦»ä¸è¶…è¿‡kï¼Œï¼Œï¼Œå¯¹äºç¬¬ä¸‰ä¸ªåºåˆ—ï¼Œï¼Œå¦‚æœ2ä¸3çš„è·ç¦»ä¸è¶…è¿‡kï¼Œï¼Œé‚£ä¹ˆç­”æ¡ˆå°±æ˜¯ <code>1 + sum[2]</code> ï¼Œï¼Œå¦è€…å°±æ˜¯1ï¼Œï¼ŒåŒç†å¯¹äºå…¶ä»–çš„åºåˆ—éƒ½å¯ä»¥é€šè¿‡å‰é¢çš„åºåˆ—æ±‚å¾—ï¼Œï¼Œï¼Œæ‰€ä»¥å…ˆå¾—åˆ°æ¯ä¸ªæ•°ä¸‹æ ‡ <code>pos[x]</code> ï¼Œï¼Œç„¶åä» 1åˆ°n éå†æ¯ä¸€ä¸ªåºåˆ—ï¼Œï¼Œå¯¹äºç¬¬iä¸ªåºåˆ—ï¼Œä»–çš„æ»¡è¶³æ¡ä»¶çš„åºåˆ—çš„é•¿åº¦å°±æ˜¯ i - 1 åˆ° 1 è¿™äº›åºåˆ—çš„ä¸­æœ€å‰é¢çš„å¹¶ä¸”è·ç¦»ä¸è¶…è¿‡kçš„é‚£ä¸ªåºåˆ—jçš„é•¿åº¦ <code>sum[j]</code> åŠ ä¸€å³å¯ï¼Œï¼Œ</p>
<p>è¿™æ ·è·‘ä¸€éå°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld; <br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-7</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e3</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><br><span class="hljs-keyword">int</span> sum[maxn], pos[maxn], a[maxn];<br><span class="hljs-keyword">int</span> n, k;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br><br>    <span class="hljs-keyword">int</span> t;<span class="hljs-built_in">cin</span> &gt;&gt; t;<br>    <span class="hljs-keyword">while</span>(t--)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; k;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; a[i];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)pos[a[i]] = i;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)sum[i] = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = i - <span class="hljs-number">1</span>; j &gt;= <span class="hljs-number">1</span>; --j)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(<span class="hljs-built_in">abs</span>(pos[i] - pos[j]) &lt;= k)<br>                &#123;<br>                    sum[i] = sum[j] + <span class="hljs-number">1</span>;<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n - <span class="hljs-number">1</span>; ++i)<span class="hljs-built_in">cout</span> &lt;&lt; sum[i] &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<span class="hljs-built_in">cout</span> &lt;&lt; sum[n] &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>å¦‚æœæ˜¯éšä¾¿ç»™çš„ä¸€ä¸ªåºåˆ—çš„è¯ï¼Œè¿™ä¸ªåšæ³•å¯èƒ½å°±ä¸è¡Œäº†ï¼Œï¼Œï¼Œ</p>
<p>æ—©çŸ¥é“å¤šæƒ³ä¸€ä¼šäº†è¿™é¢˜ï¼Œï¼Œè¯´ä¸å®šå½“æ—¶èƒ½æ—©å‡ºï¼Œï¼Œï¼ˆé›¾</p>
<h1 id="B-super-log"><a href="#B-super-log" class="headerlink" title="B. super_log"></a>B. super_log</h1><p>å¹¿ä¹‰æ¬§æ‹‰é™æ™ºå³å¯ï¼Œï¼Œå¯ä»¥çœ‹æˆ‘çš„<a href="https://www.cnblogs.com/31415926535x/p/11448002.html">è¿™ç¯‡åšå®¢ï¼Œï¼Œ</a></p>
<p>å‰©ä¸‹ä¸€å †æ²¡å­¦çš„ç®—æ³•ã€æ•°å­¦ï¼Œï¼Œï¼Œemmm</p>
]]></content>
      <tags>
        <tag>ACM</tag>
        <tag>è¡¥é¢˜</tag>
      </tags>
  </entry>
  <entry>
    <title>2019å¾å·ç½‘ç»œèµ›-The Preliminary Contest for ICPC Asia Xuzhou 2019</title>
    <url>/2019/09/07/2019%E5%BE%90%E5%B7%9E%E7%BD%91%E7%BB%9C%E8%B5%9B-%C2%96The-Preliminary-Contest-for-ICPC-Asia-Xuzhou-2019/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>å¾å·ç½‘ç»œèµ›ï¼Œï¼Œï¼Œå…¨ç¨‹å£èƒ¡+åˆ’æ°´ï¼Œï¼Œï¼Œemmmmm</p>
<p>é¢˜ç›®æ„Ÿè§‰éƒ½ä¸éš¾ï¼Œï¼Œçœ‹è§å¾ˆå¤šäººéƒ½æ˜¯8é¢˜ï¼Œï¼Œï¼Œ</p>
<p>æˆ‘ä»¬æœ€åå‡ºäº†5é¢˜ï¼Œï¼Œï¼ŒAé¢˜æˆ‘æ¯”èµ›ä¸´ç»“æŸæ—¶å†™çš„ï¼Œï¼Œç„¶åå†™ç‚¸äº†ï¼Œï¼Œ</p>
<p>ä¸¤é“å­—ç¬¦ä¸²çš„é¢˜å› ä¸ºæ²¡æœ‰å­¦è¿‡å­—ç¬¦ä¸²ä¸“é¢˜çš„å†…å®¹ï¼Œï¼Œæœ€åæ”¾å¼ƒäº†ï¼Œï¼Œï¼Œ</p>
<span id="more"></span>
<h1 id="A-Who-is-better"><a href="#A-Who-is-better" class="headerlink" title="A. Who is better?"></a>A. Who is better?</h1><p>ç®€å•çš„ æ–æ³¢é‚£å¥‘åšå¼ˆ+ä¸­å›½å‰©ä½™å®šç†ï¼Œï¼Œ</p>
<p>ä¸­å›½å‰©ä½™å®šç†ç”¨æ¥æ±‚nï¼Œï¼Œåˆ¤æ–­ä¸€ä¸‹næ˜¯ä¸æ˜¯æ–æ³¢é‚£å¥‘æ•°åˆ—çš„å€¼å³å¯ï¼Œï¼Œï¼Œnæ— è§£çš„æ—¶å€™å°±æ˜¯é¢˜ç›®çš„æ— è§£ï¼Œï¼Œ</p>
<p>ä¸€å¼€å§‹åˆ«çš„é˜Ÿçš„æè¿™æ˜¯æ–æ³¢é‚£å¥‘åšå¼ˆï¼Œï¼Œï¼Œä½†æ˜¯å¥½é•¿æ—¶é—´æ¯çœ‹åšå¼ˆï¼Œï¼Œæ²¡çœ‹å‡ºæ¥æ˜¯æ–æ³¢é‚£å¥‘åšå¼ˆï¼Œï¼Œç„¶åå› ä¸ºæ¨¡æ•°ä¸äº’è´¨ï¼Œï¼Œï¼Œæ‰€ä»¥è¦åˆ¤æ–­æ˜¯å¦æœ‰è§£ï¼Œï¼Œï¼Œå› ä¸ºæ–æ³¢é‚£å¥‘æ•°åˆ—æ±‚å°‘äº†ï¼Œï¼Œç„¶åä»¥ä¸ºæ˜¯CRTæ¿å­é”™äº†ï¼Œï¼Œï¼Œç„¶åå°±ä¸€ç›´å“‡ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-function">mt19937 <span class="hljs-title">rnd</span><span class="hljs-params">(time(<span class="hljs-number">0</span>))</span></span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-comment">// const double pi = 3.14159265358979;</span><br><span class="hljs-keyword">double</span> pi = <span class="hljs-built_in">acos</span>(<span class="hljs-number">-1.0</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">5e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e3</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br>ll f[maxn];<br><span class="hljs-function">ll <span class="hljs-title">gcd</span><span class="hljs-params">(ll a, ll b)</span></span>&#123;<br>    <span class="hljs-keyword">return</span> b ? gcd(b, a%b) : a;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">ex_gcd</span><span class="hljs-params">(ll a, ll b, ll &amp;x, ll &amp;y, ll &amp;d)</span></span>&#123;<br>    <span class="hljs-keyword">if</span> (!b) &#123;d = a, x = <span class="hljs-number">1</span>, y = <span class="hljs-number">0</span>;&#125;<br>    <span class="hljs-keyword">else</span>&#123;<br>        ex_gcd(b, a % b, y, x, d);<br>        y -= x * (a / b);<br>    &#125;<br>&#125;<br><span class="hljs-function">ll <span class="hljs-title">inv</span><span class="hljs-params">(ll t, ll p)</span></span>&#123;<span class="hljs-comment">//å¦‚æœä¸å­˜åœ¨ï¼Œè¿”å›-1 </span><br>    ll d, x, y;<br>    ex_gcd(t, p, x, y, d);<br>    <span class="hljs-keyword">return</span> d == <span class="hljs-number">1</span> ? (x % p + p) % p : <span class="hljs-number">-1</span>;<br>&#125;<br>pair&lt;ll, ll&gt; chinese_remainder(ll A[], ll B[], ll M[], int n) &#123;//æ±‚è§£A[i]x = B[i] (mod M[i]),æ€»å…±nä¸ªçº¿æ€§æ–¹ç¨‹ç»„ <br>    ll x = <span class="hljs-number">0</span>, m = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++) &#123;<br>        ll a = A[i] * m, b = B[i] - A[i]*x, d = gcd(M[i], a);<br>        <span class="hljs-keyword">if</span>(b % d != <span class="hljs-number">0</span>)  <span class="hljs-keyword">return</span> <span class="hljs-built_in">pair</span>&lt;ll, ll&gt; (<span class="hljs-number">0</span>, <span class="hljs-number">-1</span>);<span class="hljs-comment">//ç­”æ¡ˆï¼Œä¸å­˜åœ¨ï¼Œè¿”å›-1 </span><br>        ll t = b/d * inv(a/d, M[i]/d)%(M[i]/d);<br>        x = x + m*t;<br>        m *= M[i]/d;<br>    &#125;<br>    x = (x % m + m ) % m;<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">pair</span>&lt;ll, ll&gt;(x, m);<span class="hljs-comment">//è¿”å›çš„xå°±æ˜¯ç­”æ¡ˆï¼Œmæ˜¯æœ€åçš„lcmå€¼ </span><br>&#125;<br><br>ll a[maxn], b[maxn], c[maxn];<br><span class="hljs-comment">// vector&lt;ll&gt; a, b;</span><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    <span class="hljs-comment">// ios_base::sync_with_stdio(0);</span><br>    <span class="hljs-comment">// cin.tie(0);cout.tie(0);</span><br><br>    f[<span class="hljs-number">0</span>] = f[<span class="hljs-number">1</span>] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= <span class="hljs-number">70</span>; ++i)f[i] = f[i - <span class="hljs-number">1</span>] + f[i - <span class="hljs-number">2</span>];<br>    <span class="hljs-keyword">int</span> k; <span class="hljs-built_in">cin</span> &gt;&gt; k;<br>    <span class="hljs-keyword">int</span> x, y;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= k - <span class="hljs-number">1</span>; ++i)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; a[i] &gt;&gt; b[i];<br>        <span class="hljs-comment">// cin &gt;&gt; x &gt;&gt; y;</span><br>        <span class="hljs-comment">// a.push_back(x);</span><br>        <span class="hljs-comment">// b.push_back(y);</span><br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= <span class="hljs-number">10</span>; ++i)c[i] = <span class="hljs-number">1</span>;<br>    <br>    <span class="hljs-built_in">pair</span>&lt;ll, ll&gt; n = chinese_remainder(c, b, a, k);<br>    <span class="hljs-comment">// cout &lt;&lt; n &lt;&lt; endl;</span><br>    <span class="hljs-comment">// cout &lt;&lt; n.first &lt;&lt; endl;</span><br>    <span class="hljs-keyword">if</span>(n.first == <span class="hljs-number">0</span>)<br>    &#123;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;Tankernb!&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br>    <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">70</span>; ++i)<br>        <span class="hljs-keyword">if</span>(f[i] == n.first)<br>        &#123;<br>            flag = <span class="hljs-literal">true</span>;<br>            <span class="hljs-keyword">break</span>;<br>        &#125;<br>    <span class="hljs-keyword">if</span>(flag)<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;Lbnb!&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">else</span> <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;Zgxnb!&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="B-so-easy"><a href="#B-so-easy" class="headerlink" title="B. so easy"></a>B. so easy</h1><p>ä¸€å¼€å§‹æˆ‘å¼€çš„é¢˜ï¼Œï¼Œè¯»å®Œé¢˜ä¹‹åæƒ³ç€è¿™éƒ¨ç›´æ¥æš´åŠ›å°±è¡Œäº†ï¼Œï¼Œï¼Œç„¶åç”¨mapå­˜æ¯ä¸€ä¿®æ”¹çš„æ•°ï¼Œï¼Œç„¶åè¯¢é—®å°±ä¸€ç›´å¾€ä¸‹è·‘ä¸å°±è¡Œäº†ï¼Œï¼Œç¬¬ä¸€ä¸ªæ²¡æ ‡è®°çš„å°±æ˜¯ç­”æ¡ˆå•Šï¼Œï¼Œï¼Œç„¶åè¢«å¡mapäº†ï¼Œï¼Œï¼Œé˜Ÿå‹ä¸€çœ‹è¯´æ˜¯è‚¯å®šTï¼Œï¼Œç„¶åå°±æƒ³åˆ«çš„æ€è·¯äº†ï¼Œï¼Œï¼Œæœ€åä»–ä»¬å°±ç”¨å¹¶æŸ¥é›†+unordered_mapæ¥åˆå¹¶é›†åˆè¿‡çš„ï¼Œï¼Œï¼Œ</p>
<p>åˆšåˆšæˆ‘åˆè¯•äº†ä¸€ä¸‹unoredred_mapæš´åŠ›ï¼Œï¼Œå‘ç°ç›´æ¥è¿‡äº†ï¼Œï¼Œï¼Œemmmmmm</p>
<h2 id="å¹¶æŸ¥é›†åŒºé—´å’Œå¹¶"><a href="#å¹¶æŸ¥é›†åŒºé—´å’Œå¹¶" class="headerlink" title="å¹¶æŸ¥é›†åŒºé—´å’Œå¹¶"></a>å¹¶æŸ¥é›†åŒºé—´å’Œå¹¶</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//#include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stack&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;utility&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;assert.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> p_b push_back</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> e_b emplace_back</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> debug cout&lt;&lt;<span class="hljs-meta-string">&quot;!!!&quot;</span>&lt;&lt;endl;</span><br><span class="hljs-comment">//#define LOCAL</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-keyword">typedef</span> <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; pii;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">static</span> ll inf64 = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span>+<span class="hljs-number">10</span>;<br><br><span class="hljs-built_in">unordered_map</span> &lt;ll, ll&gt; fa;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">findfather</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> fa[x] == x ? x : fa[x] = findfather(fa[x]);<br>&#125;<br><br><span class="hljs-keyword">int</span> n, q;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-meta">#<span class="hljs-meta-keyword">ifdef</span> Local</span><br>    freopen(<span class="hljs-string">&quot;1.in&quot;</span>, <span class="hljs-string">&quot;r&quot;</span>, <span class="hljs-built_in">stdin</span>);<br>    freopen(<span class="hljs-string">&quot;1.out&quot;</span>, <span class="hljs-string">&quot;w&quot;</span>, <span class="hljs-built_in">stdout</span>);<br>    <span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span><br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d %d&quot;</span>, &amp;n, &amp;q);<br>    <span class="hljs-keyword">while</span>(q--)<br>    &#123;<br>        <span class="hljs-keyword">int</span> cmd;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;cmd);<br>        <span class="hljs-keyword">if</span>(cmd == <span class="hljs-number">1</span>)<br>        &#123;<br>            <span class="hljs-keyword">int</span> pos;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;pos);<br>            <span class="hljs-keyword">if</span>(fa.count(pos+<span class="hljs-number">1</span>) == <span class="hljs-number">0</span>)<br>            &#123;<br>                fa[pos] = pos;<br>                <span class="hljs-keyword">if</span>(fa.count(pos<span class="hljs-number">-1</span>) != <span class="hljs-number">0</span>)<br>                    fa[pos<span class="hljs-number">-1</span>] = findfather(pos);<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                fa[pos] = findfather(pos+<span class="hljs-number">1</span>);<br>                <span class="hljs-keyword">if</span>(fa.count(pos<span class="hljs-number">-1</span>) != <span class="hljs-number">0</span>)<br>                    fa[pos<span class="hljs-number">-1</span>] = findfather(pos);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-keyword">int</span> pos;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;pos);<br>            <span class="hljs-keyword">if</span>(fa.count(pos) == <span class="hljs-number">0</span>)<br>                <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, pos);<br>            <span class="hljs-keyword">else</span><br>                <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, findfather(pos)+<span class="hljs-number">1</span>);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">10 11</span><br><span class="hljs-comment">1 2</span><br><span class="hljs-comment">1 3</span><br><span class="hljs-comment">1 4</span><br><span class="hljs-comment">1 6</span><br><span class="hljs-comment">1 7</span><br><span class="hljs-comment">1 9</span><br><span class="hljs-comment">2 2</span><br><span class="hljs-comment">2 8</span><br><span class="hljs-comment">1 5</span><br><span class="hljs-comment">1 8</span><br><span class="hljs-comment">2 1</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure>
<h2 id="æˆ‘çš„æš´åŠ›"><a href="#æˆ‘çš„æš´åŠ›" class="headerlink" title="æˆ‘çš„æš´åŠ›"></a>æˆ‘çš„æš´åŠ›</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-function">mt19937 <span class="hljs-title">rnd</span><span class="hljs-params">(time(<span class="hljs-number">0</span>))</span></span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-comment">// const double pi = 3.14159265358979;</span><br><span class="hljs-keyword">double</span> pi = <span class="hljs-built_in">acos</span>(<span class="hljs-number">-1.0</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e3</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">bool</span>&gt; mp;<br><span class="hljs-keyword">int</span> n, q;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br><br>    <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; q;<br>    <span class="hljs-keyword">int</span> o, x;<br>    <span class="hljs-keyword">while</span>(q--)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; o &gt;&gt; x;<br>        <span class="hljs-keyword">if</span>(o == <span class="hljs-number">1</span>)<br>        &#123;<br>            mp[x] = <span class="hljs-literal">true</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-keyword">int</span> ans = <span class="hljs-number">-1</span>;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = x; i &lt;= n; ++i)<br>            &#123;<br>                <span class="hljs-comment">// cout &lt;&lt; mp[i] &lt;&lt; endl;</span><br>                <span class="hljs-keyword">if</span>(mp[i] == <span class="hljs-literal">true</span>)<span class="hljs-keyword">continue</span>;<br>                <span class="hljs-keyword">else</span><br>                &#123;<br>                    ans = i;<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>            &#125;<br>            <span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        &#125;<br>        <br>    &#125;<br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="D-Carneginon"><a href="#D-Carneginon" class="headerlink" title="D. Carneginon"></a>D. Carneginon</h1><p>kmpæ¿å­é¢˜ï¼Œï¼Œé˜Ÿå‹è¿‡çš„ï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">kmp</span><span class="hljs-params">(<span class="hljs-built_in">string</span> a,<span class="hljs-built_in">string</span> b)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> next[b.size()];<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;b.size();i++) next[i]=<span class="hljs-number">0</span>;<br>    next[<span class="hljs-number">0</span>]=<span class="hljs-number">-1</span>;<br>    next[<span class="hljs-number">1</span>]=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">2</span>;i&lt;b.size();i++)<br>    &#123;<br>        <span class="hljs-keyword">int</span> k=next[i<span class="hljs-number">-1</span>];<br>        <span class="hljs-keyword">if</span>(b[k]==b[i<span class="hljs-number">-1</span>]) next[i]=k+<span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-keyword">while</span>(k!=<span class="hljs-number">-1</span>)<br>            &#123;<br>                k=next[k];<br>                <span class="hljs-keyword">if</span>(b[k]==b[i<span class="hljs-number">-1</span>]) <span class="hljs-keyword">break</span>;<br>            &#125;<br>            next[i]=k+<span class="hljs-number">1</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>,j=<span class="hljs-number">0</span>;i&lt;a.size();)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(a[i]==b[j])<br>        &#123;<br>            i++;<br>            j++;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-keyword">if</span>(j==<span class="hljs-number">-1</span>)<br>            &#123;<br>                i++;<br>                j++;<br>            &#125;<br>            <span class="hljs-keyword">else</span> j=next[j];<br>        &#125;<br>        <span class="hljs-keyword">if</span>(j==b.size()) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> t;<br>    <span class="hljs-built_in">string</span> a,b;<br>    <span class="hljs-built_in">cin</span>&gt;&gt;a;<br>    <span class="hljs-built_in">cin</span>&gt;&gt;t;<br>    <span class="hljs-keyword">while</span>(t--)<br>    &#123;<br>        <span class="hljs-built_in">cin</span>&gt;&gt;b;<br>        <span class="hljs-keyword">if</span>(a.size()&gt;b.size())<br>        &#123;<br>            <span class="hljs-keyword">if</span>(kmp(a,b))<span class="hljs-built_in">cout</span>&lt;&lt;<span class="hljs-string">&quot;my child!&quot;</span>&lt;&lt;<span class="hljs-built_in">endl</span>;<br>            <span class="hljs-keyword">else</span> <span class="hljs-built_in">cout</span>&lt;&lt;<span class="hljs-string">&quot;oh, child!&quot;</span>&lt;&lt;<span class="hljs-built_in">endl</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(a.size()==b.size())<br>        &#123;<br>            <span class="hljs-keyword">if</span>(a==b)<span class="hljs-built_in">cout</span>&lt;&lt;<span class="hljs-string">&quot;jntm!&quot;</span>&lt;&lt;<span class="hljs-built_in">endl</span>;<br>            <span class="hljs-keyword">else</span> <span class="hljs-built_in">cout</span>&lt;&lt;<span class="hljs-string">&quot;friend!&quot;</span>&lt;&lt;<span class="hljs-built_in">endl</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-keyword">if</span>(kmp(b,a)) <span class="hljs-built_in">cout</span>&lt;&lt;<span class="hljs-string">&quot;my teacher!&quot;</span>&lt;&lt;<span class="hljs-built_in">endl</span>;<br>            <span class="hljs-keyword">else</span> <span class="hljs-built_in">cout</span>&lt;&lt;<span class="hljs-string">&quot;senior!&quot;</span>&lt;&lt;<span class="hljs-built_in">endl</span>;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="E-XKCâ€™s-basketball-team"><a href="#E-XKCâ€™s-basketball-team" class="headerlink" title="E. XKCâ€™s basketball team"></a>E. XKCâ€™s basketball team</h1><p>è¿™é¢˜æˆ‘ä¸€å¼€å§‹çš„æƒ³æ³•æ˜¯å€’ç€æƒ³ï¼Œï¼Œå¹¶ä¸”åœ¨æ¯æ±‚å‡ºç¬¬iä¸ªä½ç½®çš„å€¼åï¼Œï¼Œç»´æŠ¤çš„ä¸€ä¸ªä¸œè¥¿è¿›è¡Œæ›´æ–°ï¼Œï¼Œè¿™ä¸€è¶Ÿä¸‹æ¥å°±å¯ä»¥æ‰¾åˆ°æ‰€æœ‰çš„è§£ï¼Œï¼Œï¼Œä½†æ˜¯å°±æ˜¯æƒ³ä¸åˆ°æ€ä¹ˆå¤„ç†ï¼Œï¼Œä½†æ„Ÿè§‰ç›´è§‰æ˜¯å¯¹çš„ï¼Œï¼Œï¼Œ</p>
<p>åæ¥é˜Ÿå‹æƒ³ç€ç±»ä¼¼çº¿æ®µæ ‘ç»´æŠ¤ä¸€ä¸ªåŒºé—´æœ€å¤§å€¼ï¼Œï¼Œå¹¶ä¸”å°½å¯èƒ½çš„å¯»æ‰¾içš„å³è¾¹çš„ç‚¹ï¼Œï¼Œï¼Œ</p>
<p>å®˜æ–¹çš„é¢˜è§£å°±æ˜¯å€’ç€æ±‚ï¼Œï¼Œç”¨ä¸€ä¸ªå•è°ƒé€’å¢çš„é˜Ÿåˆ—ç»´æŠ¤æœ€å¤§å€¼ï¼Œï¼Œé˜Ÿåˆ—ä¸­é è¿‘é˜Ÿé¦–çš„ä¸€å®šæ˜¯æ•°ç»„ä¸­é å³çš„ä¸€ä¸ªè¾ƒå¤§å€¼ï¼Œï¼Œ</p>
<p>å¦‚æœå½“å‰è¿™ç‚¹çš„å€¼å¤§äºé˜Ÿå°¾ï¼Œï¼Œå…¥é˜Ÿï¼Œï¼Œå¹¶ä¸”è¯´æ˜è¿™ä¸ªç‚¹æ˜¯è¿™ä¸ªç‚¹å‘å³çš„æœ€å¤§å€¼ï¼Œï¼Œæ‰€ä»¥å®ƒçš„ç­”æ¡ˆå°±æ˜¯-1</p>
<p>å¦‚æœå°äºé˜Ÿå°¾çš„å€¼ï¼Œï¼Œè¯´æ˜å³è¾¹æœ‰ä¸€ä¸ªä½ç½®çš„å€¼å¯èƒ½å¤§äºå®ƒçš„å€¼+mï¼Œï¼Œï¼Œç›´æ¥çº¿æ€§æ‰¾è‚¯å®šä¼šTï¼Œï¼Œï¼Œä½†æ˜¯å› ä¸ºé˜Ÿåˆ—ä¸­æ˜¯å•è°ƒé€’å¢çš„ï¼Œï¼Œï¼Œæ‰€ä»¥å¯ä»¥äºŒåˆ†æ‰¾åˆ°è¿™ä¸ªå€¼ï¼Œï¼Œï¼Œè®°å½•ä¸€ä¸ªä¸‹æ ‡å°±å¯ä»¥äº†ï¼Œï¼Œï¼Œ</p>
<h2 id="é˜Ÿå‹èµ›åœºä¸Šçš„è§£æ³•"><a href="#é˜Ÿå‹èµ›åœºä¸Šçš„è§£æ³•" class="headerlink" title="é˜Ÿå‹èµ›åœºä¸Šçš„è§£æ³•"></a>é˜Ÿå‹èµ›åœºä¸Šçš„è§£æ³•</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//#include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stack&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;utility&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;assert.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> p_b push_back</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> e_b emplace_back</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> debug cout&lt;&lt;<span class="hljs-meta-string">&quot;!!!&quot;</span>&lt;&lt;endl;</span><br><span class="hljs-comment">//#define LOCAL</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-keyword">typedef</span> <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; pii;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">static</span> ll inf64 = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">5e5</span>+<span class="hljs-number">10</span>;<br><span class="hljs-keyword">int</span> n, m;<br>ll st[maxn&lt;&lt;<span class="hljs-number">2</span>];<br>ll a[maxn];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">pushup</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt)</span></span><br><span class="hljs-function"></span>&#123;<br>    st[rt] = max(st[rt&lt;&lt;<span class="hljs-number">1</span>], st[rt&lt;&lt;<span class="hljs-number">1</span>|<span class="hljs-number">1</span>]);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">buildtree</span><span class="hljs-params">(<span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r, <span class="hljs-keyword">int</span> rt)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(l == r)<br>    &#123;<br>        st[rt] = a[l];<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-keyword">int</span> mid = (l + r) &gt;&gt; <span class="hljs-number">1</span>;<br>    buildtree(l, mid, rt&lt;&lt;<span class="hljs-number">1</span>);<br>    buildtree(mid+<span class="hljs-number">1</span>, r, rt&lt;&lt;<span class="hljs-number">1</span>|<span class="hljs-number">1</span>);<br>    pushup(rt);<br>&#125;<br><br><span class="hljs-function">ll <span class="hljs-title">query</span><span class="hljs-params">(<span class="hljs-keyword">int</span> _l, <span class="hljs-keyword">int</span> _r, <span class="hljs-keyword">int</span> val, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r, <span class="hljs-keyword">int</span> rt)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//cout&lt;&lt;l&lt;&lt;&quot;---&quot;&lt;&lt;r&lt;&lt;&quot; &quot;&lt;&lt;val&lt;&lt;endl;</span><br>    <span class="hljs-keyword">if</span>(l == r)<br>        <span class="hljs-keyword">return</span> l;<br>    <span class="hljs-keyword">int</span> ret = <span class="hljs-number">-1</span>;<br>    <span class="hljs-keyword">int</span> mid = (l + r) &gt;&gt; <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">if</span>(mid &lt; _r &amp;&amp; st[rt&lt;&lt;<span class="hljs-number">1</span>|<span class="hljs-number">1</span>] &gt;= val)<br>        ret = query(_l, _r, val, mid+<span class="hljs-number">1</span>, r, rt&lt;&lt;<span class="hljs-number">1</span>|<span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">if</span>(ret != <span class="hljs-number">-1</span>)<br>        <span class="hljs-keyword">return</span> ret;<br>    <span class="hljs-keyword">if</span>(mid &gt;= _l &amp;&amp; st[rt&lt;&lt;<span class="hljs-number">1</span>] &gt;= val)<br>        ret = query(_l, _r, val, l, mid, rt&lt;&lt;<span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">return</span> ret;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-meta">#<span class="hljs-meta-keyword">ifdef</span> Local</span><br>    freopen(<span class="hljs-string">&quot;1.in&quot;</span>, <span class="hljs-string">&quot;r&quot;</span>, <span class="hljs-built_in">stdin</span>);<br>    freopen(<span class="hljs-string">&quot;1.out&quot;</span>, <span class="hljs-string">&quot;w&quot;</span>, <span class="hljs-built_in">stdout</span>);<br>    <span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span><br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>; i&lt;=n; i++)<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a[i]);<br>    buildtree(<span class="hljs-number">1</span>, n, <span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>; i&lt;=n<span class="hljs-number">-1</span>; i++)<br>    &#123;<br>        ll q = a[i] + m;<br>        ll ans = query(i, n, q, <span class="hljs-number">1</span>, n, <span class="hljs-number">1</span>);<br>        <span class="hljs-comment">//cout&lt;&lt;ans&lt;&lt;endl;</span><br>        <span class="hljs-keyword">if</span>(ans == <span class="hljs-number">-1</span>)<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;-1 &quot;</span>);<br>        <span class="hljs-keyword">else</span><br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, ans-i<span class="hljs-number">-1</span>);<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;-1&quot;</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="èµ›åçš„å®˜æ–¹è§£æ³•"><a href="#èµ›åçš„å®˜æ–¹è§£æ³•" class="headerlink" title="èµ›åçš„å®˜æ–¹è§£æ³•"></a>èµ›åçš„å®˜æ–¹è§£æ³•</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-function">mt19937 <span class="hljs-title">rnd</span><span class="hljs-params">(time(<span class="hljs-number">0</span>))</span></span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-comment">// const double pi = 3.14159265358979;</span><br><span class="hljs-keyword">double</span> pi = <span class="hljs-built_in">acos</span>(<span class="hljs-number">-1.0</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">5e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e3</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br>ll n, m;<br>ll w[maxn], ans[maxn];<br><span class="hljs-built_in">pair</span>&lt;ll, <span class="hljs-keyword">int</span>&gt; que[maxn];<br><span class="hljs-keyword">int</span> front, tail;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br><br>    front = tail = <span class="hljs-number">1</span>;<br>    <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; w[i];<br>    que[tail].first = w[n];que[tail].second = n;ans[n] = <span class="hljs-number">-1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = n - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">1</span>; --i)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(w[i] &gt; que[tail].first)<br>        &#123;<br>            ans[i] = <span class="hljs-number">-1</span>;<br>            <span class="hljs-comment">// que[++tail] = make_pair(w[i], i);</span><br>            que[++tail].first = w[i];<br>            que[tail].second = i;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-keyword">int</span> l = front, r = tail;<br>            <span class="hljs-keyword">int</span> anss = i;<br>            <span class="hljs-keyword">while</span>(l &lt;= r)<br>            &#123;<br>                <span class="hljs-keyword">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>                <span class="hljs-keyword">if</span>(que[mid].first &gt;= w[i] + m)<br>                &#123;<br>                    r = mid - <span class="hljs-number">1</span>;<br>                    anss = que[mid].second;<br>                &#125;<br>                <span class="hljs-keyword">else</span><br>                &#123;<br>                    l = mid + <span class="hljs-number">1</span>;<br>                &#125;<br>            &#125;<br>            ans[i] = anss - i - <span class="hljs-number">1</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-comment">// for(int i = 1; i &lt;= tail; ++i)cout &lt;&lt; que[i].second &lt;&lt; &quot; &quot;;cout &lt;&lt; endl;</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n - <span class="hljs-number">1</span>; ++i)<span class="hljs-built_in">cout</span> &lt;&lt; ans[i] &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<span class="hljs-built_in">cout</span> &lt;&lt; ans[n];<br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="K-Center"><a href="#K-Center" class="headerlink" title="K. Center"></a>K. Center</h1><p>ç®€å•è®¡ç®—å‡ ä½•é¢˜ï¼Œï¼Œé˜Ÿå‹æå¾—ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> ll long long</span><br><span class="hljs-keyword">int</span> n;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn=<span class="hljs-number">1e3</span>+<span class="hljs-number">5</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">point</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> x,y,hash_;<br>    point(<span class="hljs-keyword">int</span> x=<span class="hljs-number">0</span>,<span class="hljs-keyword">int</span> y=<span class="hljs-number">0</span>):x(x),y(y)&#123;hash_=x*<span class="hljs-number">1000000</span>+y;&#125;<br>&#125; po[maxn];<span class="hljs-comment">//,mid[1000005];</span><br><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">com</span><span class="hljs-params">(point p1,point p2)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(p1.x&gt;p2.x) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">if</span>(p1.x==p2.x&amp;&amp;p1.y&gt;p2.y) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><span class="hljs-comment">//int nmid=0;</span><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">5</span><br><span class="hljs-comment">1 1</span><br><span class="hljs-comment">2 2</span><br><span class="hljs-comment">2 3</span><br><span class="hljs-comment">2 1</span><br><span class="hljs-comment">2 2</span><br><span class="hljs-comment">*/</span><br><br><span class="hljs-built_in">map</span> &lt;ll,<span class="hljs-keyword">int</span>&gt; mid;<br><span class="hljs-built_in">set</span> &lt;ll&gt; p;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    ll n0=<span class="hljs-number">0</span>,temx,temy;<br>    <span class="hljs-built_in">cin</span>&gt;&gt;n;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;n;i++)<br>    &#123;<br>        <span class="hljs-built_in">cin</span>&gt;&gt;temx&gt;&gt;temy;<br>        <span class="hljs-keyword">if</span>(p.count(temx*<span class="hljs-number">1000000</span>+temy)) <span class="hljs-keyword">continue</span>;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            po[n0].x = temx;<br>            po[n0++].y = temy;<br>            p.insert(temx*<span class="hljs-number">1000000</span>+temy);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;n0;i++)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>;j&lt;n0;j++)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(i==j) <span class="hljs-keyword">continue</span>;<br>            <span class="hljs-function">point <span class="hljs-title">tem</span><span class="hljs-params">(po[i].x+po[j].x,po[i].y+po[j].y)</span></span>;<br><br>            mid[tem.hash_]++;<br>        &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;n0;i++)<br>    &#123;<br>        ll tem=po[i].x*<span class="hljs-number">1000000</span>*<span class="hljs-number">2</span>+po[i].y*<span class="hljs-number">2</span>;<br>        ++mid[tem];<br>    &#125;<br>    <span class="hljs-keyword">int</span> ma=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-built_in">map</span>&lt;ll, <span class="hljs-keyword">int</span>&gt;:: iterator i=mid.begin();i!=mid.end();i++)<br>    &#123;<br>        <span class="hljs-keyword">int</span> tem=i-&gt;second;<br>        ma= ma&gt;tem?ma:tem;<br>    &#125;<br>    <span class="hljs-built_in">cout</span>&lt;&lt;n0-ma&lt;&lt;<span class="hljs-built_in">endl</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>å­—ç¬¦ä¸²å•Šï¼Œï¼Œï¼Œï¼Œ</p>
]]></content>
      <categories>
        <category>ACM-æ¯”èµ›è¡¥é¢˜</category>
        <category>ACM-é¢˜è§£</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>åˆ·é¢˜</tag>
        <tag>ç½‘ç»œèµ›</tag>
      </tags>
  </entry>
  <entry>
    <title>2019æ²ˆé˜³ç½‘ç»œèµ›B.Dudu&#39;s maze</title>
    <url>/2019/09/14/2019%E6%B2%88%E9%98%B3%E7%BD%91%E7%BB%9C%E8%B5%9BB-Dudu-s-maze/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>å•Šï¼Œï¼Œä¸åœ¨çŠ¶æ€å•Šï¼Œï¼Œè‡ªé—­ä¸€ä¸‹åˆï¼Œï¼Œè¯»é”™é¢˜ï¼Œï¼Œç„¶åèƒŒé”…ï¼Œï¼Œï¼Œæ˜æ˜è¿™ä¸ªç®€å•çš„é¢˜ï¼Œï¼Œï¼Œ</p>
<span id="more"></span>
<p><a href="https://nanti.jisuanke.com/t/41402">è¿™é¢˜</a>é¢˜é¢ä¸å®¹æ˜“çœ‹æ‡‚ï¼Œï¼Œå¤§è‡´æ„æ€æ˜¯ç»™ä½ ä¸€å¼ å›¾ï¼Œï¼Œç„¶åä»1èŠ‚ç‚¹å¼€å§‹å¯ä»¥ä»»æ„çš„èµ°ï¼Œï¼Œ</p>
<p>æœ‰äº›èŠ‚ç‚¹æ˜¯ monster èŠ‚ç‚¹ï¼Œï¼Œè¿™æ ·çš„èŠ‚ç‚¹æ€»å…±åªèƒ½èµ°ä¸€æ¬¡ï¼Œï¼Œå…¶ä»–çš„ç‚¹æœ‰ä¸€ä¸ªç³–æœï¼Œé—®æœ€å¤§çš„å–å¾—ç³–æœçš„æœŸæœ›</p>
<p>è§£æ³•å¾ˆç®€å•ï¼Œï¼Œå…ˆæ±‚å‡ºä»1å¯ä»¥ä¸ç»è¿‡ monster çš„ç‚¹çš„ä¸ªæ•°ï¼Œï¼Œä¹Ÿå°±æ˜¯1çš„è”é€šå—ï¼Œï¼Œ</p>
<p>ç„¶åå¯¹äºæ¯ä¸€ä¸ªå’Œ1è”é€šå—çš„ monster çš„ä¸‹çš„è”é€šå—æ±‚ä»–çš„ç‚¹çš„ä¸ªæ•°ï¼Œï¼Œç‚¹æƒå°±æ˜¯ä¸ªæ•°ä¸å…¶æ‰€æœ‰ä»è¿™ç‚¹å‡ºå‘çš„è·¯å¾„æ•°çš„å•†ï¼Œï¼Œå–è¿™æ · monster çš„ç‚¹æƒæœ€å¤§åŠ å‰é¢çš„1è”é€šå—çš„ç‚¹æ•°å°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-keyword">int</span> n, m, k;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt;<br>&#125;edge[maxm &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, head[maxm &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].nxt = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-keyword">int</span> monster[maxn];<br><span class="hljs-keyword">bool</span> vismonster[maxn];<br><span class="hljs-keyword">int</span> fa[maxn];<br><span class="hljs-keyword">inline</span> <span class="hljs-keyword">int</span> _find(<span class="hljs-keyword">int</span> x)<br>&#123;<br>    <span class="hljs-keyword">if</span>(fa[x] == x)<span class="hljs-keyword">return</span> x;<br>    <span class="hljs-keyword">return</span> fa[x] = _find(fa[x]);<br>&#125;<br><span class="hljs-keyword">void</span> _union(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)<br>&#123;<br>    <span class="hljs-keyword">int</span> f1 = _find(x);<br>    <span class="hljs-keyword">int</span> f2 = _find(y);<br>    <span class="hljs-keyword">if</span>(f1 != f2)fa[f2] = f1;<br>&#125;<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-keyword">int</span> ans[maxn];<br><span class="hljs-built_in">queue</span>&lt;<span class="hljs-keyword">int</span>&gt; q;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">bfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">while</span>(!q.empty())q.pop();<br>    q.push(s);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)vis[i] = <span class="hljs-literal">false</span>;<br>    vis[s] = <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">while</span>(!q.empty())<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = q.front(); q.pop();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = edge[i].to;<br>            <span class="hljs-keyword">if</span>(vis[v] || _find(v) == _find(<span class="hljs-number">1</span>))<span class="hljs-keyword">continue</span>;<br>            <span class="hljs-keyword">if</span>(vismonster[v])<br>            &#123;<br>                _union(s, v);<br>                vis[v] = <span class="hljs-literal">true</span>;<br>                <span class="hljs-keyword">continue</span>;<br>            &#125;<br>            vis[v] = <span class="hljs-literal">true</span>;<br>            q.push(v);<br>            _union(s, v);<br>            ++ans[s];<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    <span class="hljs-comment">// ios_base::sync_with_stdio(0);</span><br>    <span class="hljs-comment">// cin.tie(0);cout.tie(0);</span><br><br>    <span class="hljs-comment">// int t; cin &gt;&gt; t;</span><br>    <span class="hljs-keyword">int</span> t; <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;t);<br>    <span class="hljs-keyword">while</span>(t--)<br>    &#123;<br>        <span class="hljs-comment">// cin &gt;&gt; n &gt;&gt; m &gt;&gt; k;</span><br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>, &amp;n, &amp;m, &amp;k);<br>        <span class="hljs-keyword">int</span> u, v;<br>        init();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)vismonster[i] = <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>        &#123;<br>            <span class="hljs-comment">// cin &gt;&gt; u &gt;&gt; v;</span><br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;u, &amp;v);<br>            addedge(u, v);<br>            addedge(v, u);<br>        &#125;<br>        <span class="hljs-comment">// for(int i = 1; i &lt;= k; ++i)cin &gt;&gt; monster[i], vismonster[monster[i]] = true;</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= k; ++i)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;monster[i]);<br>            vismonster[monster[i]] = <span class="hljs-literal">true</span>;<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)fa[i] = i;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)ans[i] = <span class="hljs-number">0</span>;<br>        ans[<span class="hljs-number">1</span>] = <span class="hljs-number">1</span>;<br>        bfs(<span class="hljs-number">1</span>);<br>        <span class="hljs-keyword">double</span> ret = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= k; ++j)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(_find(monster[j]) == _find(<span class="hljs-number">1</span>))<br>            &#123;<br>                <span class="hljs-keyword">int</span> sz = <span class="hljs-number">0</span>, sum = <span class="hljs-number">0</span>;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[monster[j]]; ~i; i = edge[i].nxt)<br>                &#123;<br>                    ++sz;<br>                    <span class="hljs-keyword">if</span>(vismonster[edge[i].to] || _find(edge[i].to) == _find(<span class="hljs-number">1</span>))<span class="hljs-keyword">continue</span>;<br>                    ans[edge[i].to] = <span class="hljs-number">0</span>;<br>                    bfs(edge[i].to);<br>                    sum += ans[edge[i].to] + <span class="hljs-number">1</span>;<br>                &#125;<br>                <span class="hljs-comment">// for(int l = 1; l &lt;= n; ++l)cout &lt;&lt; ans[l] &lt;&lt; &quot; &quot;;cout &lt;&lt; endl;</span><br>                ret = max(ret, (<span class="hljs-keyword">double</span>)sum / (<span class="hljs-keyword">double</span>)sz);<br>                <span class="hljs-comment">// cout &lt;&lt; sum &lt;&lt; &quot;-&quot; &lt;&lt; sz &lt;&lt; &quot;-&quot; &lt;&lt; ret &lt;&lt; endl;</span><br>            &#125;<br>        &#125;<br>        <span class="hljs-comment">// cout &lt;&lt; ret + (double)ans[1] &lt;&lt; endl;</span><br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%.6f\n&quot;</span>, ret + (<span class="hljs-keyword">double</span>)ans[<span class="hljs-number">1</span>]);<br>        <br>    &#125;<br>    <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>ä»Šå¤©ä¸é€‚åˆå†™ä»£ç ï¼Œï¼Œï¼Œï¼Œ</p>
]]></content>
      <tags>
        <tag>ACM</tag>
        <tag>åˆ·é¢˜</tag>
      </tags>
  </entry>
  <entry>
    <title>2019ç‰›å®¢æš‘æœŸå¤šæ ¡è®­ç»ƒè¥ï¼ˆç¬¬äºŒåœºï¼‰</title>
    <url>/2019/07/21/2019%E7%89%9B%E5%AE%A2%E6%9A%91%E6%9C%9F%E5%A4%9A%E6%A0%A1%E8%AE%AD%E7%BB%83%E8%90%A5%EF%BC%88%E7%AC%AC%E4%BA%8C%E5%9C%BA%EF%BC%89/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>èœçš„çœŸå®ï¼Œï¼Œï¼Œ</p>
<p><a href="https://ac.nowcoder.com/acm/contest/882#question">é¢˜ç›®</a></p>
<span id="more"></span>
<h1 id="F-Partition-problem"><a href="#F-Partition-problem" class="headerlink" title="F - Partition problem"></a>F - Partition problem</h1><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-comment">// #include &lt;iostream&gt;</span><br><span class="hljs-comment">// #include &lt;cstdio&gt;</span><br><span class="hljs-comment">// #include &lt;cstdlib&gt;</span><br><span class="hljs-comment">// #include &lt;string.h&gt;</span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;algorithm&gt;</span><br><span class="hljs-comment">// #include &lt;set&gt;</span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;cmath&gt;</span><br><span class="hljs-comment">// #include &lt;queue&gt;</span><br><span class="hljs-comment">// #include &lt;stack&gt;</span><br><span class="hljs-comment">// #include &lt;ctime&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br> <br>ll a[<span class="hljs-number">20</span>], b[<span class="hljs-number">20</span>], v[<span class="hljs-number">30</span>][<span class="hljs-number">30</span>], n, n2, ans;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> ai, <span class="hljs-keyword">int</span> bi, ll cnt)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(cnt &lt; ans)<span class="hljs-keyword">return</span>;<br>    <span class="hljs-keyword">if</span>(ai &gt; n || bi &gt; n)<span class="hljs-keyword">return</span>;<br>    <span class="hljs-keyword">int</span> now = ai + bi + <span class="hljs-number">1</span>;  <span class="hljs-comment">//every people</span><br>    <span class="hljs-keyword">if</span>(now &gt; n2)&#123;ans = max(ans, cnt); <span class="hljs-keyword">return</span>;&#125;<br>    ll va = cnt, vb = cnt;<br> <br>    <span class="hljs-comment">//pull this man to B</span><br>    b[bi] = now;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; bi; ++i)vb -= v[b[i]][now];<br>    dfs(ai, bi + <span class="hljs-number">1</span>, vb);<br> <br>    <span class="hljs-comment">//another</span><br>    a[ai] = now;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; ai; ++i)va -= v[now][a[i]];<br>    dfs(ai + <span class="hljs-number">1</span>, bi, va);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot; , &quot;r&quot;   , stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br> <br>    <span class="hljs-comment">//æœ‰ä¸€ä¸ªå¤–é¢çš„é›†åˆï¼Œæ€»çš„ä»·å€¼æ˜¯æ‰€æœ‰å€¼çš„å’Œï¼Œ</span><br>    <span class="hljs-comment">//æ¯æ¬¡æŠŠä¸€ä¸ªäººæ”¾åˆ°ä¸€ä¸ªé˜Ÿä¼é‡Œï¼Œ</span><br>    <span class="hljs-comment">//è¿™ä¸ªäººå’Œè¿™ä¸ªé˜Ÿä¼æ‰€æœ‰äººçš„ä»·å€¼å°±æ²¡äº†ï¼Œæ‰€ä»¥å°±å‡å»å°±è¡Œäº†</span><br>    <span class="hljs-comment">//æ¯ä¸ªäººæœ‰ä¸¤ç§é€‰æ‹©ï¼Œæ‰€ä»¥éå†éƒ½æšä¸¾å°±è¡Œäº†</span><br>    <span class="hljs-built_in">cin</span> &gt;&gt; n; n2 = n &lt;&lt; <span class="hljs-number">1</span>;<br>    ll sum = <span class="hljs-number">0</span>;ans = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n2; ++i)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n2; ++j)<br>            <span class="hljs-built_in">cin</span> &gt;&gt; v[i][j];<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n2; ++i)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt; i; ++j)<br>            sum += v[i][j];<br>    dfs(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, sum);<br>    <span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM-é¢˜è§£</category>
      </categories>
      <tags>
        <tag>åˆ·é¢˜</tag>
        <tag>å¤šæ ¡</tag>
        <tag>acm</tag>
      </tags>
  </entry>
  <entry>
    <title>2019è¥¿å®‰é‚€è¯·èµ›æ€»ç»“</title>
    <url>/2019/05/31/2019%E8%A5%BF%E5%AE%89%E9%82%80%E8%AF%B7%E8%B5%9B%E6%80%BB%E7%BB%93/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script>]]></content>
  </entry>
  <entry>
    <title>2019è¥¿å®‰é‚€è¯·èµ›è¡¥é¢˜</title>
    <url>/2019/05/31/2019%E8%A5%BF%E5%AE%89%E9%82%80%E8%AF%B7%E8%B5%9B%E8%A1%A5%E9%A2%98/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>é¸½äº†åŠä¸ªæœˆï¼Œï¼Œç»ˆäºæœ‰äº›æ—¶é—´å¯ä»¥æ¥è¡¥é¢˜äº†ï¼Œï¼Œï¼ŒT^T</p>
<p><a href="https://www.jisuanke.com/contest/2625?view=challenges">é¢˜ç›®åœ¨è®¡è’œå®¢ä¸Š</a></p>
<span id="more"></span>
<h1 id="A-Tasks"><a href="#A-Tasks" class="headerlink" title="A. Tasks"></a>A. Tasks</h1><p>ç­¾åˆ°é¢˜ï¼Œï¼Œå½“æ—¶çœ‹å®Œé¢˜å°±å†™ï¼Œï¼Œç„¶åä»¥ä¸ºæ¯”èµ›æ²¡å¼€å§‹ï¼Œï¼Œï¼Œæ‹–äº†1åˆ†é’Ÿåœ¨äº¤çš„é¢˜emmmï¼Œï¼Œï¼Œï¼ˆæœ¬æ¥å¯ä»¥åœ¨0åˆ†é’Ÿäº¤çš„ï¼Œï¼Œï¼Œ</p>
<p>è´ªå¿ƒç›´æ¥æï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-comment">// #include &lt;iostream&gt;</span><br><span class="hljs-comment">// #include &lt;cstdio&gt;</span><br><span class="hljs-comment">// #include &lt;cstdlib&gt;</span><br><span class="hljs-comment">// #include &lt;string.h&gt;</span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;algorithm&gt;</span><br><span class="hljs-comment">// #include &lt;set&gt;</span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;cmath&gt;</span><br><span class="hljs-comment">// #include &lt;queue&gt;</span><br><span class="hljs-comment">// #include &lt;stack&gt;</span><br><span class="hljs-comment">// #include &lt;ctime&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e10</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e3</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-keyword">int</span> n, t, a[maxn];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    <span class="hljs-comment">// ios_base::sync_with_stdio(0);</span><br>    <span class="hljs-comment">// cin.tie(0);cout.tie(0);</span><br>    <br>    <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; t;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; a[i];<br>    sort(a + <span class="hljs-number">1</span>, a + <span class="hljs-number">1</span> + n);<br>    <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> sum = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>    &#123;<br>        sum += a[i];<br>        <span class="hljs-keyword">if</span>(sum &lt;= t)<br>            ++ans;<br>        <span class="hljs-keyword">else</span> <br>            <span class="hljs-keyword">break</span>;<br>    &#125;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;       <br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="C-Angelâ€™s-Journey"><a href="#C-Angelâ€™s-Journey" class="headerlink" title="C. Angelâ€™s Journey"></a>C. Angelâ€™s Journey</h1><p>å¾ˆæ˜¯é—æ†¾çš„ä¸€é“é¢˜ï¼Œï¼Œå‡ ä¹ä»æ¥æ²¡å†™è¿‡è®¡ç®—å‡ ä½•çš„é¢˜ï¼Œï¼Œç„¶åç¢°åˆ°äº†è¿™é“é¢˜ï¼Œï¼Œæ€è·¯å¾ˆç®€å•ï¼Œï¼Œä½†æ˜¯å› ä¸ºä¸ç†Ÿæ‚‰æ¿å­å’Œæ•°æ®å‡ºé”™çš„é”…ï¼Œï¼Œæœ€åå†™äº†ä¸€å †ï¼Œä½†æ˜¯ç¦»acå°±å·®ä¸€ç‚¹ï¼Œï¼Œï¼ŒT^T</p>
<p>é¢˜æ„æ˜¯ç»™ä½ ä¸€ä¸ªåœ†cï¼Œå’Œä¸€ä¸ªç‚¹pï¼Œï¼Œç„¶åé—®ä½ pç‚¹åˆ°cä¸Šçš„æ­£ä¸‹æ–¹çš„é‚£ä¸ªç‚¹çš„æœ€çŸ­è·ç¦»ï¼Œï¼Œå…¶ä¸­æœ€çŸ­çš„è·¯å¾„ä¸èƒ½è¶Šè¿‡ä¸‹åŠåœ†æ‰€åœ¨çš„ç›´çº¿çš„ä¸‹æ–¹åŒºåŸŸï¼Œï¼Œä¹Ÿå°±æ˜¯è¯´ y &lt;= c.y çš„åœ°æ–¹è¦æ²¿ç€åœ†å‘¨èµ°ï¼Œï¼Œ</p>
<p>æ€è·¯å°±æ˜¯åˆ†ä¸¤ç§æƒ…å†µï¼š</p>
<ul>
<li>å½“ç‚¹påœ¨åœ†cæ‰€åœ¨çš„ç«–ç›´åŒºåŸŸå†…çš„æ—¶å€™ï¼Œï¼Œæ˜¾ç„¶æœ€çŸ­è·¯å°±æ˜¯ <strong>åˆ‡çº¿é•¿+æŸä¸ªåˆ‡ç‚¹åˆ°æœ€ä¸‹é¢ç‚¹çš„å¼§é•¿</strong></li>
<li>å¦åˆ™çš„è¯ï¼Œæœ€çŸ­è·¯å°±æ˜¯ <strong>å››åˆ†ä¹‹ä¸€åœ†+ç‚¹påˆ° ç›´çº¿ $y=cy$ ä¸åœ†çš„ä¸¤ä¸ªäº¤ç‚¹ä¸­æœ€è¿‘çš„é‚£ä¸ªç‚¹çš„è·ç¦»</strong></li>
</ul>
<p>æ¿å­ç†Ÿæ‚‰äº†ä¹‹åå¾ˆå®¹æ˜“å°±å‡ºæ¥äº†ï¼Œï¼Œqaqï¼Œï¼Œï¼Œï¼ˆéƒ½æ˜¯é—æ†¾çš„æ³ªæ°´ï¼Œï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-comment">// #include &lt;iostream&gt;</span><br><span class="hljs-comment">// #include &lt;cstdio&gt;</span><br><span class="hljs-comment">// #include &lt;cstdlib&gt;</span><br><span class="hljs-comment">// #include &lt;string.h&gt;</span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;algorithm&gt;</span><br><span class="hljs-comment">// #include &lt;set&gt;</span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;cmath&gt;</span><br><span class="hljs-comment">// #include &lt;queue&gt;</span><br><span class="hljs-comment">// #include &lt;stack&gt;</span><br><span class="hljs-comment">// #include &lt;ctime&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e3</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><br><span class="hljs-comment">//åˆ¤æ–­ä¸€ä¸ªå®æ•°å’Œ0çš„å…³ç³»</span><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">sgn</span><span class="hljs-params">(<span class="hljs-keyword">double</span> x)</span></span>&#123;<br>    <span class="hljs-keyword">if</span>(<span class="hljs-built_in">fabs</span>(x) &lt; eps)<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">if</span>(x &lt; <span class="hljs-number">0</span>)<span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>&#125;<br><br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">point</span>&#123;</span><br>    <span class="hljs-keyword">double</span> x, y;<br>    point()&#123;&#125;<br>    point(<span class="hljs-keyword">double</span> _x, <span class="hljs-keyword">double</span> _y)&#123;<br>        x = _x;<br>        y = _y;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">input</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lf%lf&quot;</span>, &amp;x, &amp;y);<br>    &#125;<br>    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span> == (point b)<span class="hljs-keyword">const</span>&#123;<br>        <span class="hljs-keyword">return</span> sgn(x - b.x) == <span class="hljs-number">0</span> &amp;&amp; sgn(y - b.y) == <span class="hljs-number">0</span>;<br>    &#125;<br>    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span> &lt; (point b)<span class="hljs-keyword">const</span>&#123;<br>        <span class="hljs-keyword">return</span> sgn(x - b.x) == <span class="hljs-number">0</span> ? sgn(y - b.y) &lt; <span class="hljs-number">0</span> : x &lt; b.x;<br>    &#125;<br>    point <span class="hljs-keyword">operator</span> - (<span class="hljs-keyword">const</span> point &amp;b)<span class="hljs-keyword">const</span>&#123;<br>        <span class="hljs-keyword">return</span> point(x - b.x, y - b.y);<br>    &#125;<br>    <span class="hljs-keyword">double</span> <span class="hljs-keyword">operator</span> ^ (<span class="hljs-keyword">const</span> point &amp;b)<span class="hljs-keyword">const</span>&#123;<br>        <span class="hljs-keyword">return</span> x * b.y - y * b.x;<br>    &#125;<br>    <span class="hljs-keyword">double</span> <span class="hljs-keyword">operator</span> * (<span class="hljs-keyword">const</span> point &amp;b)<span class="hljs-keyword">const</span>&#123;<br>        <span class="hljs-keyword">return</span> x * b.x + y * b.y;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">double</span> <span class="hljs-title">len</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> hypot(x, y);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">double</span> <span class="hljs-title">len2</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> x * x + y * y;<br>    &#125;<br>    <span class="hljs-comment">//ä¸¤ç‚¹è·ç¦»</span><br>    <span class="hljs-function"><span class="hljs-keyword">double</span> <span class="hljs-title">distance</span><span class="hljs-params">(point p)</span></span>&#123;<br>        <span class="hljs-keyword">return</span> hypot(x - p.x, y - p.y);<br>    &#125;<br>    point <span class="hljs-keyword">operator</span> + (<span class="hljs-keyword">const</span> point &amp;b)<span class="hljs-keyword">const</span>&#123;<br>        <span class="hljs-keyword">return</span> point(x + b.x, y + b.y);<br>    &#125;<br>    point <span class="hljs-keyword">operator</span> * (<span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> &amp;k)<span class="hljs-keyword">const</span>&#123;<br>        <span class="hljs-keyword">return</span> point(x * k, y * k);<br>    &#125;<br>    point <span class="hljs-keyword">operator</span> /(<span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> &amp;k)<span class="hljs-keyword">const</span>&#123;<br>        <span class="hljs-keyword">return</span> point(x / k, y / k);<br>    &#125;<br>    <span class="hljs-comment">//è®¡ç®—å½“å‰ç‚¹påˆ°ç‚¹a, bæ‰€æˆè§’çš„å¤§å°</span><br>    <span class="hljs-function"><span class="hljs-keyword">double</span> <span class="hljs-title">rad</span><span class="hljs-params">(point a, point b)</span></span>&#123;<br>        point p = *<span class="hljs-keyword">this</span>;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">fabs</span>(<span class="hljs-built_in">atan2</span>( <span class="hljs-built_in">fabs</span>((a - p) ^ (b - p)), (a - p) * (b - p) ));<br>    &#125;<br>    <span class="hljs-comment">//åŒ–ä¸ºé•¿åº¦ä¸ºrçš„å‘é‡</span><br>    <span class="hljs-function">point <span class="hljs-title">trunc</span><span class="hljs-params">(<span class="hljs-keyword">double</span> r)</span></span>&#123;<br>        <span class="hljs-keyword">double</span> l = len();<br>        <span class="hljs-keyword">if</span>(!sgn(l))<span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;<br>        r /= l;<br>        <span class="hljs-keyword">return</span> point(x * r, y * r);<br>    &#125;<br>    <span class="hljs-comment">//é€†æ—¶é’ˆæ—‹è½¬pi/2</span><br>    <span class="hljs-function">point <span class="hljs-title">rotleft</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> point(-y, x);<br>    &#125;<br>    <span class="hljs-comment">//é¡ºæ—¶é’ˆæ—‹è½¬pi/2</span><br>    <span class="hljs-function">point <span class="hljs-title">rotright</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> point(y, -x);<br>    &#125;<br>    <span class="hljs-comment">//ç»•pé€†æ—¶é’ˆæ—‹è½¬angle</span><br>    <span class="hljs-function">point <span class="hljs-title">rotate</span><span class="hljs-params">(point p, <span class="hljs-keyword">double</span> angle)</span></span>&#123;<br>        point v = (*<span class="hljs-keyword">this</span>) - p;<br>        <span class="hljs-keyword">double</span> c =- <span class="hljs-built_in">cos</span>(angle), s = <span class="hljs-built_in">sin</span>(angle);<br>        <span class="hljs-keyword">return</span> point(p.x + v.x * c - v.y * s, p.y + v.x * s + v.y * c);<br>    &#125;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">line</span>&#123;</span><br>    point s, e;<br>    line()&#123;&#125;<br>    <span class="hljs-comment">//ä¸¤ç‚¹ç¡®å®šä¸€æ¡ç›´çº¿</span><br>    line(point _s, point _e)&#123;<br>        s = _s;<br>        e = _e;<br>    &#125;<br>    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span> == (line v)&#123;<br>        <span class="hljs-keyword">return</span> (s == v.s) &amp;&amp; (e == v.e);<br>    &#125;<br>&#125;;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">circle</span>&#123;</span><br>    point p;<br>    <span class="hljs-keyword">double</span> r;<br>    circle()&#123;&#125;<br>    circle(point _p, <span class="hljs-keyword">double</span> _r)&#123;<br>        p = _p;<br>        r = _r;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">input</span><span class="hljs-params">()</span></span>&#123;<br>        p.input();<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lf&quot;</span>, &amp;r);<br>    &#125;<br>    <span class="hljs-comment">//ç‚¹å’Œåœ†çš„å…³ç³»</span><br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">relation</span><span class="hljs-params">(point b)</span></span>&#123;<br>        <span class="hljs-keyword">double</span> dst = b.distance(p);<br>        <span class="hljs-keyword">if</span>(sgn(dst - r) &lt; <span class="hljs-number">0</span>)<span class="hljs-keyword">return</span> <span class="hljs-number">2</span>;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(sgn(dst - r) == <span class="hljs-number">0</span>)<span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br>    <span class="hljs-comment">//è¿‡ä¸€ç‚¹æ±‚åœ†çš„åˆ‡çº¿ï¼Œè¿”å›çš„åˆ‡çº¿çš„ç¬¬äºŒä¸ªç‚¹ä¾¿æ˜¯åˆ‡ç‚¹</span><br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">tangentline</span><span class="hljs-params">(point q, line &amp;u, line &amp;v)</span></span>&#123;<br>        <span class="hljs-keyword">int</span> x = relation(q);<br>        <span class="hljs-keyword">if</span>(x == <span class="hljs-number">2</span>)<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">if</span>(x == <span class="hljs-number">1</span>)&#123;<br>            u = line(q, q + (q - p).rotleft());<br>            v = u;<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>        &#125;<br>        <span class="hljs-keyword">double</span> d = p.distance(q);<br>        <span class="hljs-keyword">double</span> l = r * r / d;<br>        <span class="hljs-keyword">double</span> h = <span class="hljs-built_in">sqrt</span>(r * r - l * l);<br>        u = line(q, p + ((q - p).trunc(l) + (q - p).rotleft().trunc(h)));<br>        v = line(q, p + ((q - p).trunc(l) + (q - p).rotright().trunc(h)));<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">2</span>;<br>    &#125;<br>&#125;;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">solve</span><span class="hljs-params">()</span></span>&#123;<br>    circle c;<br>    c.input();<br>    point p;<br>    p.input();<br>    <br><br>    <span class="hljs-comment">//ç‚¹åœ¨åœ†æ‰€åœ¨çš„ç«–ç›´åŒºåŸŸå†…æ—¶ï¼Œæœ€çŸ­å°±ç¦»ä¸ºåˆ‡çº¿é•¿+æœ€å°çš„åœ†å¼§</span><br>    <span class="hljs-keyword">if</span>(sgn(p.x - c.p.x + c.r) &gt;= <span class="hljs-number">0</span> &amp;&amp; sgn(p.x - c.p.x - c.r) &lt;= <span class="hljs-number">0</span>)&#123;<br>        line u, v;<br>        c.tangentline(p, u, v);     <span class="hljs-comment">//å¾—åˆ°ä¸¤æ¡åˆ‡çº¿</span><br>        <span class="hljs-keyword">double</span> ans = <span class="hljs-built_in">sqrt</span>(c.p.distance(p) * c.p.distance(p) - c.r * c.r);   <span class="hljs-comment">//æ ¹æ®rtä¸‰è§’å½¢ç®—å‡ºåˆ‡çº¿é•¿</span><br><br>        <span class="hljs-comment">// cout &lt;&lt; u.e.x &lt;&lt; &quot; &quot; &lt;&lt; u.e.y &lt;&lt; endl;</span><br>        <span class="hljs-comment">// cout &lt;&lt; v.e.x &lt;&lt; &quot; &quot; &lt;&lt; v.e.y &lt;&lt; endl;</span><br><br>        <span class="hljs-comment">//æ ¹æ®åˆ‡çº¿çš„ç¬¬äºŒä¸ªç‚¹ç¡®å®šçºµåæ ‡æœ€å°çš„åˆ‡ç‚¹ï¼Œè¿™æ ·çš„ç‚¹æ‰€å½¢æˆçš„åœ†å¼§æ˜¯æœ€çŸ­çš„</span><br>        p = sgn(u.e.y - v.e.y) &lt;= <span class="hljs-number">0</span> ? u.e : v.e;<br><br>        <span class="hljs-comment">// cout &lt;&lt; p.x &lt;&lt; &quot; &quot; &lt;&lt; p.y &lt;&lt; endl;</span><br>        <br>        <span class="hljs-comment">//ç”±åœ†å¿ƒç¡®å®šçš„æ‰‡å½¢è§’åº¦ç¡®å®šå¼§é•¿</span><br>        ans += c.r * c.p.rad(p, point(c.p.x, c.p.y - c.r));<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%.4lf\n&quot;</span>, ans);<br>    &#125;<br>    <span class="hljs-keyword">else</span>&#123;                           <span class="hljs-comment">//å››åˆ†ä¹‹ä¸€åœ†+ä¸¤ç‚¹çš„è·ç¦»</span><br>        <span class="hljs-keyword">double</span> ans = pi * c.r / <span class="hljs-number">2.0</span>;<br>        <span class="hljs-keyword">if</span>(sgn(p.x - c.p.x - c.r) &gt;= <span class="hljs-number">0</span>) ans += p.distance(point(c.p.x + c.r, c.p.y));<br>        <span class="hljs-keyword">else</span> ans += p.distance(point(c.p.x - c.r, c.p.y));<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%.4lf\n&quot;</span>, ans);<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    <span class="hljs-comment">// ios_base::sync_with_stdio(0);</span><br>    <span class="hljs-comment">// cin.tie(0);cout.tie(0);</span><br>    <br>    <span class="hljs-keyword">int</span> t;<span class="hljs-built_in">cin</span> &gt;&gt; t;<br>    <span class="hljs-keyword">while</span>(t--)&#123;<br>        solve();<br>    &#125;<br>    <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;       <br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="L-Swap"><a href="#L-Swap" class="headerlink" title="L. Swap"></a>L. Swap</h1><p>è¿™é¢˜å½“æ—¶ç”¨äº†å¥½ä¹…æ‰æå‡ºæ¥ï¼Œï¼Œæ„Ÿè§‰ä¸»è¦çš„é—®é¢˜æ˜¯å½“æ—¶é™ä¸ä¸‹å¿ƒæ¥è®¤è®¤çœŸçœŸçš„å’Œé˜Ÿå‹æ¨ä¸€ä¸‹è§„å¾‹ï¼Œï¼Œ</p>
<p>é¢˜æ„æ˜¯ç»™ä½ nä¸ªæ•°ï¼Œç„¶ååˆä¸¤ä¸ªæ“ä½œï¼Œä¸€ç§æ˜¯å‰ä¸€åŠå’Œåä¸€åŠäº¤æ¢ï¼Œï¼Œå¦ä¸€ä¸ªæ˜¯æ¯ä¸¤ä¸ªæ•°äº¤æ¢ï¼Œï¼Œç„¶åé—®ä½ æœ‰å¤šå°‘ç§ä¸åŒçš„åºåˆ—ç§æ•°ï¼Œï¼Œï¼Œ</p>
<p>å½“æ—¶æˆ‘æƒ³ç€è¿™è¯¥ä¸ä¼šæ˜¯æš´åŠ›æ¨¡æ‹Ÿå§ï¼Œï¼Œç„¶åæƒ³äº†ä¸€ä¼šå†™äº†æš´åŠ›æ¨¡æ‹Ÿçš„ä»£ç ï¼Œï¼Œç„¶åæµ‹è¯•çš„æ—¶å€™æ‡µé€¼äº†ï¼Œï¼Œæˆ‘æ˜¯æŒ‰ç…§å­—ç¬¦ä¸²å­˜çš„æ¯ä¸€ç§åºåˆ—ï¼Œï¼Œç„¶åæ”¾åˆ°setä¸­ä¿è¯æ¯ä¸€ç§åªå‡ºç°ä¸€æ¬¡ï¼Œï¼Œç„¶åæ±‚ä¸€ä¸‹æœ€åmapçš„å¤§å°å³ä¸ºç­”æ¡ˆï¼Œï¼Œï¼Œä½†æ˜¯å­—ç¬¦ä¸²å°±ä¸èƒ½å¾—åˆ°å¤§äº128çš„æƒ…å†µï¼Œï¼Œï¼Œï¼ˆè¿™æ—¶æˆ‘åº”è¯¥å»æ‰“è¡¨æ‰¾è§„å¾‹çš„ï¼Œï¼Œï¼Œç„¶åå°±æ‡µäº†åŠä¸ªå¤šå°æ—¶ï¼Œï¼Œæµªè´¹æ—¶é—´å•Šï¼Œï¼Œï¼Œ</p>
<p>åæ¥é˜Ÿå‹æ‰“è¡¨å¾—å‡ºäº†å‰20å¤šçš„ç»“æœï¼Œï¼Œåˆ†å¥‡å¶æ‰¾åˆ°è§„å¾‹å°±è¿‡äº†ï¼Œï¼Œ</p>
<p>è¿™ç§æš´åŠ›æ‰“è¡¨æ‰¾è§„å¾‹çš„é¢˜ç»ƒçš„å¤ªå°‘äº†å•Šï¼Œï¼Œæ€»æ˜¯æ¯”åˆ«äººæ…¢è®¸å¤šT^Tï¼Œï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-comment">// #include &lt;iostream&gt;</span><br><span class="hljs-comment">// #include &lt;cstdio&gt;</span><br><span class="hljs-comment">// #include &lt;cstdlib&gt;</span><br><span class="hljs-comment">// #include &lt;string.h&gt;</span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;algorithm&gt;</span><br><span class="hljs-comment">// #include &lt;set&gt;</span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;cmath&gt;</span><br><span class="hljs-comment">// #include &lt;queue&gt;</span><br><span class="hljs-comment">// #include &lt;stack&gt;</span><br><span class="hljs-comment">// #include &lt;ctime&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e10</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e3</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-keyword">int</span> n, t, a[maxn];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    <span class="hljs-comment">// ios_base::sync_with_stdio(0);</span><br>    <span class="hljs-comment">// cin.tie(0);cout.tie(0);</span><br>    <br>    <span class="hljs-built_in">cin</span> &gt;&gt; n;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; a[i];<br>    <span class="hljs-keyword">if</span>(n == <span class="hljs-number">1</span>)<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(n &amp; <span class="hljs-number">1</span>)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(n == <span class="hljs-number">3</span>)<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">6</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>((n - <span class="hljs-number">1</span>) % <span class="hljs-number">4</span> == <span class="hljs-number">0</span>)<span class="hljs-built_in">cout</span> &lt;&lt; n * <span class="hljs-number">2</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">else</span> <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">12</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        <span class="hljs-keyword">if</span>(n % <span class="hljs-number">4</span> == <span class="hljs-number">0</span>)<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">4</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">else</span> <span class="hljs-built_in">cout</span> &lt;&lt; n &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br>    <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;       <br>&#125;<br></code></pre></td></tr></table></figure>
]]></content>
  </entry>
  <entry>
    <title>2021-4-7éšç¬”</title>
    <url>/2021/04/07/2021-4-7%E9%9A%8F%E7%AC%94/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">
  <script id="hbeData" type="hbeData" data-hmacdigest="e4bb7f40ee5bbf20c21909b80fd08cbebfe9d55ba0d8530548817f9de0c1df99">2e9241384d7b9b2d36f03890934de87316fec14f6a90ee876796047dced2c8ce81932b1f9ab2c812a42cefad6751b69557c0b5a57b545cffa684ee16e74fadd9c3398c4953863c15213df155ef97321c5945d7dd089e7c2630d76b0ea324b08c1c2f7f5a848a15210d1050124aff1030c1dbc12c6343780007c92da642928a760921b60b8ffe07d16b01f29498ab739cfc8d923adf3b9354230c75251034521fc4357e8513d9d37280e7f499df3208b8c6629206932ea1234a9159b4fc07faba07a38311263aeb02f8e2b31e0324b1173a2a15962ba2fe6be5a2a9b4b614e5f8eaaa300fe176e1bbe5b3bfa2b1397eb99c03b43e5dbcc7600c95081a76f892db774ccf45b52413ea678f6d90b980fe9a0d8f06526e7edd7eb68c771a0acf3f47ef68387fb4279fdabe5717c2277406e40b4b7cbfe1d9b6773ecf7fa6a89040f631e2951f438a8e1afb827bf06998b4d405d55ba7f12a8526de837432032ce8723ae95d8b4688e472faddabd3e51fb7bd476d6d9ad0cc0dfa0bcfb1aca255128a41493e6deea805a0e4a470ab481c6768577321e1a186fff95ebfb96402b3d7b65a6db748faf170c52c02d8ef8f25c7c2d6eeb661318055c3324c36ae56540db65aa9da600b2026cbc73e98e8a49efcbb2e22d4a68b7c41833100baf38168ffffa5b199896899dcb6f9d385b13c65f35b964e3af39851bb8b5ed3ccb75eb7424317133254936f761d5d09d4d08bd661fcb33dff93fe0143fa25db06ddea3d81d202cf941cc62d1219ec3605a702f65664c0f159a0dc88d407072dda291a7f94cea5e8583175707069e34e68632b25958b4248816216bfd93f9c6d5292fadbed8f94bb24c0d632c371c71b44c9c5d5e7ea92362c7a61a87a9926d7cab58156b29bc4275526e7dc49e2002304c3f33766041d4ff65b3458fa04252b3905bfc096cbb03676edd0bcad70d4b68b290262a7919f206e4815ed5f8a14cc101beba217f54af4b7f727fcf79098fb8bd168cc822764db1aa5eac3dfed6b8a81a4adeff9f912725a00b177433433ba6f8fbc8dd98b54f30cc63914f93786c4639a17d839fb7b2b25ade0634be3f52f01afffd6a01b96f1300f959ca55751acb3d895ade26ca624414687f1f6792ec7435826793063d0029246321d9b6a336d15a9196638088a033b7e93c86a947dbd75e29c640fd6169ab71f30e5b2c703fe2deed233e4efc7506fe0ef91cce55c5e6e2a5582c76a2cfe7a49174c630afe5fd9b01c94abba940330bb719076320426c7a7ebbc4e1bd6f71724f35f5db93cf23b185ae2d3a33ef219ad606f6cd11f1d70d3ada4f93b9ca4dd72b3108dba7bd89c678b5bd2585cf3bcb91efb4b2cc61e132fe3a5ffd8fe947de00b23631d3132beb3e9bffd53437af247bf3813017ba0d691254e85573abe31534452663534aaf679fbeea65f0722bd16c41544c1a93b098a25bd6784151b0a6b0d49b34848e1ac31953a3d89ef7dba3802bc8df22e10d0820fdcede59cd241a61871d0601c43b6ea8984ac18a3cd0615a3220b84ded505ec65e87b549fa07f65feea120dc0d224a59a1cb0078b2847a54ddd96e89e21eb336750d4191bf42549aa06a87171eb9fdb8fd79480ab14e3734788283d43baaf3ffd8c1be32d8ab207c791ff52e527182f17774abb1283bf42407ca984ac57a2d285a4dd28b94aef1a9eaaa686c50b1bf819cb53bf269d7677f3cba0152b5523dd184e20e4676ff8d396bd40cd808a013279fd2fd75791c1a6b8114c3455b611f809b88c49318e71b9c84e3bd1f9298357943d82d999600651117596fb950f5af8bc10f1d06e08a7ab6a0338c8be5fec991a1e63455027c376b57a8b0991448c956697e9718baf2e55b89aa95c29a6272334cc6b97a8164e2365f50c21013fc2a6a925f88d2494bc9bb5639f8217557f2a9e5ea436c77e1ffca5afc3f50b9361cf4271daf10e49e7e6f93fe8b87ecd1e553cd7355189994d03dbcc317b7e7e6dc20a8806d60fef63b5563aaf1a1fe80683d50439b8518fc160dc101116b0fdafb0f8940913aa0c972080393da5455bd0b77f17056024040c6b3d7b6733ba57a282ac1f630b7f2bbe4c78ba998589e29ec12cad011c5e61aa8c18d9af34549a8bc3fefe83840a9b0aeb40d27d5a661565ea634a2adbd99c7950f2b5908a4b1c25c802edf086d21f073e2fef9e30063bdb4cc6a34f4262ad70fc8ea98eeb512de88be4c0e93fd72aa8ff748fa7fd91bca9becbd6dd212777e1ae166ccb2d84ebda557a0dc525821a20a825caedb91cc691e52995285cdce8d64ff4e99f3d7340c0ffc2c6cd1ea033ecd345d6fb103d2dbaa18ef722093e070cb055a70127c8ae7dcd0f3a4ab4589dcf50482025cf64ae102437e7c6c958dd5eecdeb9f5e63ea621a05e7e7a0b8fac7752769b9666f1df9d2e94c0138552b0db284a4201e834860fa86e1c5bd93884ab6c5018e2e73434957d903a39935b96a17b27e08fc2b92b1cc853d8e97e139c85e2c0fc10bb40a09d6f32db3a8c198dae5885e569de12b47a1d8fdaec5cdb7a99c979e55bd37911f2cb8274ed21688518a37aaf765ef5289efd01de1fcbf89caaa8a536bf24eb44ad530054cec4fda1c9fc86da0ac467719715fef5c81d5e9fdc7d2f2ef02cc4c8a7064d729f593aba6f9be775e87d8fbbbf5e3d28e401a590e0835826e5fc382345762274650f559352ea7eccf3b7bf3fa35a994dbcba3fe60f05b30f62e49c693aa1ba3f25b9265a1bcc0b9aa3eb6a592aa69a62fc0638bad44a4392fcdb4295a2f7c3126becae61e4db1851fe88e8f79f3d86ae2ce3b28ed657139117ad75962732e9d70ef3f85110750a231a2e4941a00a56ea8b2b0be33372a50fc0ead7763d1611710280cf4e73a49f3b0c4f91a42b3b06d4c63973ebd880259becdd2713b6b8a5658b4d54b6053455f2d80a21bd3351ee706e18cb50c454448838fe6d04e051c360508aa9b9d66267b0cd28ac6593d72a29628877f4487fc4e7eff1c9f2291acec84f2cce17372f060f847e0466b655240d0987b6d40f3e883d89542959cefafaedde94f2e855817705cbd9d1b5bd932c834e48cc2f35983f7e3b1f628ddde51d0f6a07682147ce02f559b1c629633327acfb6ba64058f3a41f39d8092ed2406aec6f4fc329f4f41870fb5d2e44ac0f83c98f9790fd9f776ccb106166a0ffea4c14b459b33650ed2d7a82311f4f452cdcf4e18d916d665337677dfaaa81461b5d1be190c2ffeaf2d332d5399911a16515d65ba927903ab526c4bcb74a2d145261223a26ef74aeff39bae7b0806981677c4a267dc5313ff1e6b1a7ace0ea9d16b6a1cfa196c952e621efb3c0245a1a5c68dc2c964042fbe738bea21262dc7815f645a5ad7dee659c3cdfc2eea3028c854cffde560852700dd457075d3d6fd1ac9ef306fe59e2ce6d0fa426238a4374454c1e43d32d3625788eabbd6e667d991b7d11bbcf12d6568c2a9693f1d8e0d3daba2f7864c9b1fb2c7603fceaf4caff6d317dac5c06d69f69a0d57bbe8249fb8a3972422828ef9b20a292eea82693029d06d9f19914a0a1915a8c00724cbfa7dfe48b55063163ab6be61765c2a71af451a2410edf25e067c116d877c0e6cf973078585acd8ce624766f0817ecc733410e34c80b43616c37415d018a4f4e593ccfc91e1a1ceec1c4dce64694e3d5b8542306f1e30df20fbb7a84c2d043af122ca545594688013803e249645d3f023bdd00269932eeccecfa2e8462d4715a4cc60e1fd2a2370aec65a8188f8bd7af710c38632daae030c258bfa98d5e5a72aa9773a260b17332cadbad0506ad0628ac0dc483bc56f5260d67382d95d9eda90a11fe55fb4b2793d0f5ddb479360a76b785606b6382087f0bbf755834a5fd773a440dedb0171cef974bdcf64bb212fcbf0a1860d57be0ae293d437d5a6b0c4d9a4df485429894b30992e1a2b535611701c117c06720d8b2d3772e8ae79745db1732bdccb248861876e987075d30ec6b1956996c6e1e9bbd06ffcf7e7393dd88cb0534f144208b5fe478d16b5956d944e61c2adc4fb29c64343270a85412c8d050abe3a87a73543baa9fd428514e3eb104b1de149fef972d057e2cdaa2e9e1369bffef9d948442851216f268073dbce0e63b0b3d68888d4c2fd40dab9c1f364449970700662653e083c416f084aee061ce37c6f7404fbe4984fa1406a72339d26afcf3502d487cdab2cd6dbc26460273e1fef13e2e40c590f8b93a031138c2df852d16ec9b469a47614dd53bde130d0cec4a81fd1d5b35d76bc6ea4a557633bd5e6efabd45e242824a4e07a3766dbb03516371aecbcf974ab30086b5eaa0668072b5d42f69633dc5bfbf8bcd4c940722989de3267d505450fe128c0395e643547905d4ec29780263e0e5bd71db95fa07b3493b9f061824806f4cadafea27239d9780aa98883af6d7d5f260a99353946500ee13d54ac0cee3dce44081f29eb399011d0c179f85fa7db7240983367a83585d2a3dfe6aa98f45f55124bc2887cc3d326fa9b2be28842d368996d4d8ccec57a147c91b124bb7fbdc34a7f15640866becd36c54263944133bd423576afd7e142cc49ca1d4e9d6875dc4a986edaa980221df0ee8e3c9bf912e5793c86aff10bdb4e7d7ae3dc2fec49745e478ab37fc5d57384732cd1320c8d3ace8eceb7e8a3c525cce3e168f4f3ee964ea976e5731568228e30f964bf86dbc7f62f54816c4d3ccce8e8ca4494aafb89927547cda80e3b80149e329921c8b036cc92f751357ac8b41e06a146c6228afd8929966a21e687655195034322c2437c943f032ecf9c1b3470c9edc56c0dad11ed052319dd69806062ebf749d9087c2ab96c2a58ae0d37a7e571f9fb28be4fba7779eb5924f5ce2d9109fd6296616980c085a640d2a8e20b7929389aeeb2489ec48ab637fc163b3c6fa53776231c8c1919b6ca95bd38323e322df900f4f6693cd7823fee21121efc0035cc3a97587971d966b459f98816499587a773c79fc69c17dd86ec9dd52e02ac1b0a63d7500895ea964a3a6a7e377eee90ea290aae3952e0dfb5b791637d008da7880564aacdf5520c1387ebeda4509c89aca45d64f8580c0a370b2c6cce24f5a4c77b80dbf3859bd0c55b6a6dcf3cd7969c5dd1ad4240972d4373ac4b8d712e9faa182e0877dcb1e9ebbf046f4d30a468722bf46c41f800ed0e915dd2034b69b090ed6b10ae642111abdced996ebc9dfedb2eb872736f27c891359f203693f4ae46c4738a54c869b36fff37c0769b7732c040c052e32a0b53773865e041623b2b8f971625c2215667f4f613149085c279c2ff5cca2c7adfaa74cb1f8d6526755f55fd86b67b2885974d691f66c81c24705f43f747932147e35f71ec0d8cffa494ea5005fe5814b21e20edc0fc70a4d4ae8e2d9631b67b3c1ace2f6bc6330ae0634d1fc0326d6bb36126e7b1f7da6a9f0bb1d77695e8183f918e85a19e473f933c20b33a1f7fa3a1c4eddc9877ae2853ba7b29d1455e3e983e0a1804ac27252ab5e8d3e08d0f358bde325fde4173e99a3e4d5efc73d940ea81eb1b7410138a66a074199bca4f1a9a32202ad50842ba8f4a8716758fac7a2bf827853d282998a9f6c931fd88b7650837bc93696ad807f17c8f03c1936e37d5c3f6ac2cd26884150b27ef8ea6e241d390fd12058cda028eff580750e96feee83b079436795ee8a8af2304cd8381c39ff522a6df4437b27db720e6b5ff75ab49af865827b630509e3fa5c8c0e4e706bfeb8bcb451295fe6704dd44e85a19881603f54a659fba4598322d05183c2002b015632e985ec78f6aab6bd09f27b6413f238cdf5f28d6524038fb3c63a47466d57623b81703bfba6af05a6a931b89e89087076032a2b1d30985d0107dad06d5330a9409d8f518328a4d6ca96dd8d654ed69db8aeadcb38871e4d172a8b82448f72aff1a93f2fc32653f889f235d38524358f45fe3536187fffe1f5d90eecefae5dd70d1045d604695f3754820400e587813d793a267169528692165674f793cc2831f97895b97a37d8f4c25af79d37f0cba8f7d2705cb69264b963d6c957de86a009f1e68391af9f6dc828f04ca19f831f1947c1a6b102d14bdfc14198e52c87fa9dc072a8fdd8493daa104cf32de81c14e89b02a0cd5f98b7d530502f9b8df85e4d46821605f9691a0d992040b67c6973e245cdd7e86a6f2ecc2b009dfb088c4d3d69f45154cbc21c35561e155cdcf0a6107961dd9383759f3809eed8727c8dd00f27ce528ce171f2ccebceb0ac313c655e0a97764e6a6d46d21f800c2399b1c2c7727703a4a4912632e70f595ecb2d18e79c0bcec6b953821e639c505980919b7a1993dc824726fcb7b02d41f47e1d7aaf2b27b4d6bb3bff22a2cac58ea5c4a967537ce796c5bc947d53cab7b08d9a608db75d23aee1b2c95f0245ebaacd58d2406479b8a5c9de031b4510a961b7ab74cc414ca4d0b207e0ffb9b284d5e651f0e054d6b83e535b6af28ab03ae6638abc430f8dd376dfdbd9d41d152f87bdf1fdaefff8220bf02b9d8d39cf4a4e7b149b18a521e91854d6328cc00c68f9e3fa4d7fdae0e502c2608c8cc0e6382e351607001d540b93595740d3676566c772fc694e267ee0a1edd47afb23e4181ca86b7e30cbdc2297f677d7fcf65fdd6d6777a77c54bfd9f65598469b15e27adcfcbe7b45a7f6f1fd8fa0e30fd6994ee7649bb0f9c18d43fa407a511af6770cb252695bee61b5dd61db27082a554d6592e8cecef83ca7b0cb30f22aa925adf5cd2d5d100007edd8339a72418f82cfa7cd89463cc9b2d88f19eeff0ffe6b49c9f37084efaba843f0129812fdceb40970e4fe51b26815fda85105aace58a964163b3f1c2b196d3814770edf686f10b490832c417b1fa2647cd32570d488314fed84e5e6b7432b0545460c50df5705d6d5adbce1f52664a2845c232f86aed442adc5b993d6c2285d966b099023fce69a91ab94ed4206248daa4183280ca84d07c1171e50da3df6158502290523b36f8107f5393609ff8521dffaadad1686b1eeeed2956f7affc3e9fdd98d8cb5a8a9fb5169804b35f163efb5683263cf41217ca8618ccc01e2320cfddd89526ced845da8970e88b66dee75714149a08a19d62293cd270ba1c444a5970f3e4c5b6d5f8c72139c207419bd7b2f978e332404fb8c0613dab11d1dd8dd2fa48a2a61454941d297c92156d87ccea6ebdc2527eb9fbbf05ebc1929a03952b80ccab341421adcc9203b9f54eecc39fca45ffc82553264c685bcf0eabbdbf169419f4abeb08f998b7b147a77f6d23bd614e90220462a56016e85a708a16998dfc868af9ca860937b85ae32f257eff4b9b71c8e6326c5363fa42fe7b525150c9133e0f91a3d4e501215fc750dc0c33b82578234e6edf40f35f2a88f9bafed6a9905870c26c416b4dd9f49ebe62c2ec5f72f314420598759bcbbcbfe473af79b1409231277d1ffd84ca1f2dfeaa96682737fe3b5dca12cd17ca041ae381286f092a0e265c29376b025b7682a99e9c2ee6e3dd50dd935674b602d81945f6a2a282ddf9bd6afba602733ff7f6d7aed04f0b53cc00b0ea5c0a20c4a95c845d3115d5ca751c90d39f85dd982afbc47de36d00e4ca871980112ee547693439f1e9eba8ab185950e03c0e60b506ee0ada7567bcf7ee2606800a90352f4876bb12428143586a128566f7831c070fe06766fa3dec1ef3fc1a73281af3a10500b99caa0544da21d423cf599c54e60a77d49a321e80c13f80c95523eae2a58039623b59f1a1444a4ccae793982eaffec2ca742709597c4c1a5f2ad09eba224c1261e5bf34af54a8b1f85cc91c13645301eea7d458efd0b2b6225a8632fbba02d6bcee216dbf1b055278bc89285fdec32313f712127fe4acfac885131d89137f3b0f2bfa9d763bfe0c87d92537158ce9e99db4beebebc03cb721144090e2617d7bb7acc819624b803f867457917c364e0ec477aa903ff0a11c0477a73375916e53653d42fd37a83d706459eb18dbab6df773f126818ccc898944de47ce37fe887a885df22151bea730d8d8aeec0ee900d8d822324cf16667fabcc80bfd630e4e349f6ec0b23a3f11f5003ea9660c188b3f0a175de3d29c016709da30130beb48ee5e422c57e8055198dbefd1039fbbb30c6f02d8ab48827bbd1efe99708603d41fba1a20deb0faa7f9ad2df7313599825a562fed2a64edec06c5c11690c1fc6e56770a5837273184607e7e8016967ad032405f56cebd9be323309060b97309adf169a7e7458322479b79de711be6d5586afbb64a65877e2ab237e388a8906b1ae8b472f1669685993ff0495a33ea272c4e1649c55800ffb14513c3c8bd83ceba20459ff1d29cce32afca9eba62bf22463686c8e41e028f01f21d046754f0cb18739d683c699b2a88b9340bd49baf8bbb1d7d7049958678a181330d69a8c1530b3136e71999db31314915936315f8ebca78fb18bd7e92073a1d76950cc13405cb01181998906a9079dc120ec84359fc15fcae95effc6693fdec6a7fff2962f71abc54507e03de9e032d5ed5ad3018ab736486919b376e0c6d35132a73d4776</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>diary</category>
      </categories>
  </entry>
  <entry>
    <title>ACM-å›¾è®º-åŒä½™æœ€çŸ­è·¯</title>
    <url>/2019/10/15/ACM-%E5%9B%BE%E8%AE%BA-%E5%90%8C%E4%BD%99%E6%9C%80%E7%9F%AD%E8%B7%AF/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>ä¸€ç§æ²¡è§è¿‡çš„å¤„ç†æ¨¡å‹ï¼Œï¼Œè®°å½•ä¸€ä¸‹ï¼Œï¼Œä¸»è¦æ˜¯ç”¨æ¥å¤„ç†ä¸€ä¸ªå¤šå…ƒä¸€æ¬¡æ–¹ç¨‹çš„è§£çš„æ•°é‡çš„é—®é¢˜ï¼Œï¼Œæ•°æ®é‡å°æ—¶å¯ä»¥ç”¨çœ‹æˆèƒŒåŒ…å¤„ç†ï¼Œï¼Œæ•°æ®å¾ˆå¤§æ—¶å¯ä»¥è½¬æ¢æˆæœ€çŸ­è·¯æ¨¡å‹+ä¸€ç‚¹æ•°å­¦æ¥å¤„ç†ï¼Œï¼Œï¼ˆä½“ç§¯æ¨¡åŸŸä¸‹çš„æœ€çŸ­è·¯çš„é—®é¢˜ï¼Œï¼Œæ±‚çš„ä¸€ä¸ªæœ€ç®€çš„è¡¨ç¤ºå½¢å¼æœ‰æ¨¡æ•°æ¥å¾—åˆ°æ‰€æœ‰è§£</p>
<span id="more"></span>
<h1 id="å¢¨å¢¨çš„ç­‰å¼"><a href="#å¢¨å¢¨çš„ç­‰å¼" class="headerlink" title="å¢¨å¢¨çš„ç­‰å¼"></a>å¢¨å¢¨çš„ç­‰å¼</h1><p><a href="https://www.luogu.org/problem/P2371">é¢˜ç›®</a></p>
<p>å› ä¸ºåªæ˜¯æ±‚æ»¡è¶³çš„è§£çš„æ•°é‡ï¼Œï¼Œæ‰€ä»¥å¯ä»¥å°†æ–¹ç¨‹è½¬æ¢æˆä¸€ä¸ªæ¨¡æ–¹ç¨‹ç»„ï¼Œï¼Œè¿™æ ·çš„æ–¹ç¨‹ç»„çš„è§£æ˜¾ç„¶ä¹Ÿæ˜¯åŸæ¥çš„è§£çš„å­é›†ï¼Œï¼ŒåŒæ—¶å¯ä»¥åˆ©ç”¨æ¨¡æ•°æ¥å¾—åˆ°æ‰€æœ‰è§£ï¼Œï¼Œ</p>
<p>æ¨¡æ•°çš„é€‰æ‹©æ˜¯æœ€å°çš„é‚£ä¸ªç³»æ•°ï¼Œï¼Œå› ä¸ºå¦‚æœä»»æ„é€‰æ‹©ï¼Œï¼Œä¼šå‡ºç°ä¸€äº›å¤šè€ƒè™‘çš„æƒ…å†µ</p>
<p>å¼„ mi ä¸ªç‚¹ï¼Œè¡¨ç¤ºä»0åˆ°mi-1çš„æ‰€æœ‰æ•°ï¼Œï¼Œå»ºè¾¹çš„æ–¹æ³•æ˜¯ <code>i-&gt;(i+a[j])%mi</code> è¾¹æƒä¸º a[j] ï¼Œï¼Œè¡¨ç¤ºä»iè¿™ä¸ªç‚¹å˜æˆåé¢ä¸€ä¸ªæ•°çš„è´¹ç”¨ï¼Œï¼Œï¼ˆå› ä¸ºä¸¤è¾¹éƒ½æ˜¯å–æ¨¡çš„ï¼Œï¼Œæ‰€ä»¥æ¯ä¸€ä¸ªæ•°å–å‡ æ¬¡åçš„å’Œçš„ä½™æ•°å°±æ˜¯é‚£äº›ç»è¿‡çš„ç‚¹ï¼Œï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€æ¡è·¯å¾„å°±æ˜¯å¾—åˆ°ä¸€ä¸ªå³è¾¹ä¸º i(mod mi) çš„ä¸€ä¸ªæœ€å°è§£ï¼Œï¼Œè¿™ä¸ªæœ€å°çš„è§£å°±æ˜¯è´¹ç”¨å’Œï¼Œï¼Œä¹Ÿå°±æ˜¯ä¸€æ¡æœ€çŸ­è·¯dis[i]</p>
<p>è¿™æ ·æˆ‘ä»¬å¯¹äºæ¯ä¸€ä¸ªå–æ¨¡çš„å³è¾¹çš„Béƒ½è®¡ç®—ä¸€ä¸‹åŒºé—´é‡Œçš„æ•°é‡ï¼Œï¼Œï¼Œ<del>ï¼ˆè®¡ç®—è¿™ç©æ„æ¨é”™äº†ä¸€æ¬¡ï¼Œï¼Œemmm</del></p>
<p><a href="https://www.luogu.org/blog/0-00-0/solution-p2371">å‚è€ƒ</a></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(TM(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">3e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e7</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br>ll n, l, r, a[maxn];<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt; ll w;<br>&#125;edge[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, head[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, ll w)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].w = w;<br>    edge[tot].nxt = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> v; ll w;<br>    node()&#123;&#125;<br>    node(<span class="hljs-keyword">int</span> _v, ll _w):v(_v), w(_w)&#123;&#125;<br>    <span class="hljs-keyword">const</span> <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>&lt;(<span class="hljs-keyword">const</span> node &amp;r)<span class="hljs-keyword">const</span>&#123;<br>        <span class="hljs-keyword">return</span> w &gt; r.w;<br>    &#125;<br>&#125;tmp;<br>ll dis[maxn];<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dijkstra</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(dis, inf, <span class="hljs-keyword">sizeof</span> dis);<br>    <span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vis);<br>    <span class="hljs-built_in">priority_queue</span>&lt;node&gt; q;<br>    <span class="hljs-keyword">while</span>(!q.empty())q.pop();<br>    q.push(node(s, <span class="hljs-number">0</span>));<br>    dis[s] = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span>(!q.empty())<br>    &#123;<br>        tmp = q.top(); q.pop();<br>        <span class="hljs-keyword">if</span>(vis[tmp.v])<span class="hljs-keyword">continue</span>;<br>        vis[tmp.v] = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[tmp.v]; ~i; i = edge[i].nxt)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = edge[i].to;<br>            <span class="hljs-keyword">if</span>(dis[v] &gt; dis[tmp.v] + edge[i].w)<br>            &#123;<br>                dis[v] = dis[tmp.v] + edge[i].w;<br>                q.push(node(v, dis[v]));<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    <br>    <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; l &gt;&gt; r;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; a[i];<br>    sort(a + <span class="hljs-number">1</span>, a + <span class="hljs-number">1</span> + n);<br>    <span class="hljs-keyword">int</span> mi = a[<span class="hljs-number">1</span>];<br>    init();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= mi - <span class="hljs-number">1</span>; ++i)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; ++j)<br>            addedge(i, (i + a[j]) % mi, a[j]);<br>    dijkstra(<span class="hljs-number">0</span>);<br>    ll ans = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= mi - <span class="hljs-number">1</span>; ++i)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(dis[i] &lt;= r)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(dis[i] == <span class="hljs-number">0</span>)dis[i] = mi;<br>            ans += (r - dis[i]) / mi + <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">if</span>(l &gt; dis[i])ans -= (l - dis[i] - <span class="hljs-number">1</span>) / mi + <span class="hljs-number">1</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="hljs-built_in">endl</span>;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="P3403-è·³æ¥¼æœº"><a href="#P3403-è·³æ¥¼æœº" class="headerlink" title="P3403 è·³æ¥¼æœº"></a>P3403 è·³æ¥¼æœº</h1><p><a href="https://www.luogu.org/problem/P3403">é¢˜ç›®</a></p>
<p>æ¯”ä¸Šé¢é‚£ä¸ªç®€å•äº›ï¼Œï¼Œå°±æ˜¯æ³¨æ„ç»†èŠ‚ï¼Œï¼Œä»1å¼€å§‹ï¼Œï¼Œæœ‰ä¸€ä¸ªæ˜¯1é‚£ä¹ˆå€¼ä¸€å®šæ˜¯hï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(TM(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">3e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e7</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br>ll n, l, r, a[maxn];<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt; ll w;<br>&#125;edge[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, head[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, ll w)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].w = w;<br>    edge[tot].nxt = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> v; ll w;<br>    node()&#123;&#125;<br>    node(<span class="hljs-keyword">int</span> _v, ll _w):v(_v), w(_w)&#123;&#125;<br>    <span class="hljs-keyword">const</span> <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>&lt;(<span class="hljs-keyword">const</span> node &amp;r)<span class="hljs-keyword">const</span>&#123;<br>        <span class="hljs-keyword">return</span> w &gt; r.w;<br>    &#125;<br>&#125;tmp;<br>ll dis[maxn];<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dijkstra</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(dis, inf, <span class="hljs-keyword">sizeof</span> dis);<br>    <span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vis);<br>    <span class="hljs-built_in">priority_queue</span>&lt;node&gt; q;<br>    <span class="hljs-keyword">while</span>(!q.empty())q.pop();<br>    q.push(node(s, <span class="hljs-number">0</span>));<br>    dis[s] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(!q.empty())<br>    &#123;<br>        tmp = q.top(); q.pop();<br>        <span class="hljs-keyword">if</span>(vis[tmp.v])<span class="hljs-keyword">continue</span>;<br>        vis[tmp.v] = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[tmp.v]; ~i; i = edge[i].nxt)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = edge[i].to;<br>            <span class="hljs-keyword">if</span>(dis[v] &gt; dis[tmp.v] + edge[i].w)<br>            &#123;<br>                dis[v] = dis[tmp.v] + edge[i].w;<br>                q.push(node(v, dis[v]));<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    <br>    <span class="hljs-built_in">cin</span> &gt;&gt; n;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">3</span>; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; a[i];<br>    sort(a + <span class="hljs-number">1</span>, a + <span class="hljs-number">1</span> + <span class="hljs-number">3</span>);<br>    <span class="hljs-keyword">if</span>(a[<span class="hljs-number">1</span>] == <span class="hljs-number">1</span>)&#123;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; n &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br>    ll mi = a[<span class="hljs-number">1</span>];<br>    init();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= mi - <span class="hljs-number">1</span>; ++i)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">2</span>; j &lt;= <span class="hljs-number">3</span>; ++j) <br>            addedge(i, (i + a[j]) % mi, a[j]);<br>    dijkstra(<span class="hljs-number">1</span>);<br>    ll ans = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= mi - <span class="hljs-number">1</span>; ++i)<br>        <span class="hljs-keyword">if</span>(dis[i] &lt;= n)<br>            ans += (n - dis[i]) / mi + <span class="hljs-number">1</span>;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="hljs-built_in">endl</span>;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="é¥è¿œçš„æ—…é€”"><a href="#é¥è¿œçš„æ—…é€”" class="headerlink" title="é¥è¿œçš„æ—…é€”"></a>é¥è¿œçš„æ—…é€”</h1><p><a href="http://www.51nod.com/Challenge/Problem.html#problemId=1326">é¢˜ç›®</a></p>
<p>è¿™é¢˜çš„å¤§è‡´æ€è·¯æ˜¯å°†dpé—®é¢˜ç”¨æœ€çŸ­è·¯æ¥ä¼˜åŒ–ï¼Œï¼Œ</p>
<p>è®¾ <code>dp[i][j]</code> è¡¨ç¤ºä»èµ·ç‚¹èµ°åˆ°iæ—¶çš„é•¿åº¦ä¸ºjçš„ä¸€æ¡è·¯æ˜¯å¦å­˜åœ¨ï¼Œï¼Œä½†æ˜¯ç©ºé—´éƒ½ä¼šçˆ†æ‰ï¼Œï¼Œ</p>
<p>è€ƒè™‘ç¬¬äºŒç»´ï¼Œå‡è®¾æ˜¯é€šè¿‡ç»è¿‡è‹¥å¹²ä¸ªç¯æ¥è¾¾åˆ°Tï¼Œï¼Œä¹Ÿå°±æ˜¯ <code>len+kw==T</code> ï¼Œï¼Œè¿™é‡Œçš„wå³ä¸ºç¯çš„é•¿åº¦çš„ä¸¤å€ï¼Œï¼Œå¦‚æœå–æ¨¡wå°±æ˜¯ <code>len%w==T%w</code> ï¼Œï¼Œè¿™æ ·å­dpæ–¹ç¨‹å°±å˜æˆäº†åˆ°è¾¾ i ç‚¹æ—¶è·¯å¾„é•¿åº¦å–æ¨¡ç­‰äºjçš„ä¸€æ¡è·¯å¾„çš„é•¿åº¦ï¼Œï¼Œåˆ©ç”¨spfaæ¥è½¬ç§»ï¼Œï¼Œåªè¦æœ€å <code>dp[n][T%w] &lt;= T</code> å°±è¡¨ç¤ºå­˜åœ¨è§£ï¼Œè¿™æ ·å­åˆ©ç”¨æ¨¡æ•°æ¥å‹ç¼©äº†çŠ¶æ€ï¼Œï¼Œæ‰¾ç­‰åŒçš„å°±è¡Œäº†ï¼Œï¼Œï¼Œ<a href="https://blog.csdn.net/crybymyself/article/details/54974562">å‚è€ƒ</a> <a href="https://www.cnblogs.com/renjianshige/p/7588125.html">å‚è€ƒ</a> </p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(TM(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e2</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e7</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br>ll n, m, T, a[maxn], ww;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt; ll w;<br>&#125;edge[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, head[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, ll w)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].w = w;<br>    edge[tot].nxt = head[u];<br>    head[u] = tot++;<br>&#125;<br>ll dp[maxn][<span class="hljs-number">20005</span>];<br><span class="hljs-keyword">bool</span> vis[maxn][<span class="hljs-number">20005</span>];<br><span class="hljs-built_in">queue</span>&lt;<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, ll&gt; &gt; q;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">spfa</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(dp, inf, <span class="hljs-keyword">sizeof</span> dp);<br>    <span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vis);<br>    <span class="hljs-keyword">while</span>(!q.empty())q.pop();<br>    dp[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>; vis[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>] = <span class="hljs-literal">true</span>;<br>    q.push(<span class="hljs-built_in">make_pair</span>(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>));<br>    <span class="hljs-keyword">while</span>(!q.empty())<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = q.front().first; ll w = q.front().second; q.pop(); <br>        vis[u][w] = <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = edge[i].to; ll vw = edge[i].w;<br>            <span class="hljs-keyword">if</span>(dp[v][(w + vw) % ww] &gt; dp[u][w] + vw)<br>            &#123;<br>                dp[v][(w + vw) % ww] = dp[u][w] + vw;<br>                <span class="hljs-keyword">if</span>(!vis[v][(w + vw) % ww])<br>                &#123;<br>                    vis[v][(w + vw) % ww] = <span class="hljs-literal">true</span>;<br>                    q.push(<span class="hljs-built_in">make_pair</span>(v, (w + vw) % ww));<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    <br>    <span class="hljs-keyword">int</span> t; <span class="hljs-built_in">cin</span> &gt;&gt; t;<br>    <span class="hljs-keyword">while</span>(t--)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m &gt;&gt; T;<br>        <span class="hljs-keyword">int</span> u, v, w;<br>        init();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>        &#123;<br>            <span class="hljs-built_in">cin</span> &gt;&gt; u &gt;&gt; v &gt;&gt; w;<br>            ++u, ++v;<br>            addedge(u, v, w);<br>            addedge(v, u, w);<br>        &#125;<br>        <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[n]; ~i; i = edge[i].nxt)<br>        &#123;<br>            ww = edge[i].w &lt;&lt; <span class="hljs-number">1</span>;<br>            spfa();<br>            <span class="hljs-keyword">if</span>(dp[n][T % ww] &lt;= T)<br>            &#123;<br>                flag = <span class="hljs-literal">true</span>;<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(flag)<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;Possible&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">else</span> <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;Impossible&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>(end)</p>
]]></content>
      <categories>
        <category>ACM-æœ€çŸ­è·¯</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>æœ€çŸ­è·¯</tag>
      </tags>
  </entry>
  <entry>
    <title>ACM-æ•°æ®ç»“æ„-æ ‘é“¾å‰–åˆ†</title>
    <url>/2019/03/24/ACM-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E6%A0%91%E9%93%BE%E5%89%96%E5%88%86/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>æ®å­¦é•¿è¯´ï¼Œæ ‘é“¾å‰–åˆ†åœ¨acmæ¯”èµ›ä¸Šä¸æ€ä¹ˆçœ‹åˆ°è¿‡ï¼Œæˆ‘æœåˆ°çš„åšå®¢ä¹Ÿéƒ½æ˜¯å‡ å¹´å‰çš„ä¸œè¥¿ï¼Œä¸è¿‡å·²ç»çœ‹è¿‡äº†ï¼Œï¼Œè¿˜æ˜¯è®°å½•ä¸€ä¸‹æŠŠï¼Œï¼Œ</p>
<span id="more"></span>
<p>æˆ‘æ˜¯ä»<a href="http://blog.sina.com.cn/s/blog_6974c8b20100zc61.html">è¿™é‡Œçœ‹çš„æ ‘é“¾å‰–åˆ†</a>çš„å†…å®¹ï¼Œï¼Œ<a href="https://blog.csdn.net/dyx404514/article/details/8718249">è¿˜æœ‰è¿™ä¸ª</a></p>
<p>çœ‹äº†å‡ éï¼Œå¤§è‡´çŸ¥é“æ ‘é“¾å‰–åˆ†å¤§è‡´æ˜¯ä¸ºäº†è§£å†³æ ‘ä¸Šçš„ä¿®æ”¹å’Œè¯¢é—®æ“ä½œçš„ä¸€ä¸ªå·¥å…·ï¼Œï¼Œå½“ç„¶ä¸€èˆ¬æ¥è¯´è¿˜è¦ä¸€ä¸ªæ•°æ®ç»“æ„ä¾‹å¦‚çº¿æ®µæ ‘ä»€ä¹ˆçš„ç»´æŠ¤ä¸€ä¸‹ï¼Œï¼Œ</p>
<p>ä»¥åå¿˜äº†çš„è¯å°±å†çœ‹é‚£ç¯‡åšå®¢å§ï¼Œï¼Œï¼Œåæ­£çŸ¥é“è¿™æ˜¯ä¸ªå•¥ï¼Œæ€ä¹ˆç”¨å°±è¡Œäº†ï¼Œï¼Œ</p>
<p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=3966">æ­ç”µ3966</a></p>
<p>è¿™ä¸ªæ˜¯ä¿®æ”¹ç‚¹æƒçš„</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-comment">// #include &lt;iostream&gt;</span><br><span class="hljs-comment">// #include &lt;cstdio&gt;</span><br><span class="hljs-comment">// #include &lt;cstdlib&gt;</span><br><span class="hljs-comment">// #include &lt;string.h&gt;</span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;queue&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stack&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, next;<br>&#125;edge[maxn];<br><span class="hljs-keyword">int</span> tot, head[maxn];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].next = head[u];<br>    head[u] = tot++;<br>&#125;<br><br><span class="hljs-keyword">int</span> fa[maxn];   <span class="hljs-comment">//fa[v] è¡¨ç¤ºvçš„çˆ¶äº²èŠ‚ç‚¹</span><br><span class="hljs-keyword">int</span> dep[maxn];  <span class="hljs-comment">//dep[v] è¡¨ç¤ºvçš„æ·±åº¦</span><br><span class="hljs-keyword">int</span> son[maxn];  <span class="hljs-comment">//son[v] è¡¨ç¤ºä¸våŒä¸€æ¡é‡é“¾ä¸Šçš„å„¿å­èŠ‚ç‚¹</span><br><span class="hljs-keyword">int</span> num[maxn];  <span class="hljs-comment">//num[v] è¡¨ç¤ºä»¥vä¸ºæ ¹çš„å­æ ‘çš„èŠ‚ç‚¹æ•°</span><br><span class="hljs-keyword">int</span> p[maxn];    <span class="hljs-comment">//p[v] è¡¨ç¤ºvåœ¨æ ‘çŠ¶æ•°ç»„ä¸­çš„ä½ç½®</span><br><span class="hljs-keyword">int</span> fp[maxn];   <span class="hljs-comment">//fp[v] ä¸p[v]ç›¸åï¼Œå³v == fp[p[v]]</span><br><span class="hljs-keyword">int</span> top[maxn];  <span class="hljs-comment">//top[v] è¡¨ç¤ºvæ‰€åœ¨é‡é“¾çš„é¡¶ç«¯èŠ‚ç‚¹</span><br><span class="hljs-keyword">int</span> pos;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>    pos = <span class="hljs-number">1</span>;    <span class="hljs-comment">//æ ‘çŠ¶æ•°ç»„</span><br>    <span class="hljs-built_in">memset</span>(son, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> son);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs1</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> pre)</span></span><br><span class="hljs-function"></span>&#123;<br>    dep[u] = dep[pre] + <span class="hljs-number">1</span>;<br>    fa[u] = pre;<br>    num[u] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].next)  <span class="hljs-comment">//éå†æ‰€æœ‰ä¸uç›¸è¿çš„èŠ‚ç‚¹</span><br>    &#123;<br>        <span class="hljs-keyword">int</span> v = edge[i].to;<br>        <span class="hljs-keyword">if</span>(v != pre)                            <span class="hljs-comment">//å¯¹äºuçš„çˆ¶äº²èŠ‚ç‚¹ä¸å¤„ç†</span><br>        &#123;<br>            dfs1(v, u);<br>            num[u] += num[v];<br>            <span class="hljs-keyword">if</span>(son[u] == <span class="hljs-number">-1</span> || num[v] &gt; num[son[u]])<br>                son[u] = v;<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs2</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> sp)</span></span><br><span class="hljs-function"></span>&#123;<br>    top[u] = sp;            <span class="hljs-comment">//è®¾ç½®uæ‰€åœ¨é‡é“¾çš„é¡¶ç«¯èŠ‚ç‚¹</span><br>    p[u] = pos++;           <span class="hljs-comment">//ç¡®å®šuåœ¨çº¿æ®µæ ‘ç­‰æ•°æ®ç»“æ„ä¸­æ‰€ç»´æŠ¤çš„æ•°ç»„çš„ä½ç½®</span><br>    fp[p[u]] = u;           <span class="hljs-comment">//ç¡®å®šä¸Šé¢é‚£ä¸ªæ•°ç»„ä¸­æ¯ä¸ªä½ç½®æ‰€ä»£è¡¨çš„èŠ‚ç‚¹</span><br>    <span class="hljs-keyword">if</span>(!~son[u])<span class="hljs-keyword">return</span>;<br>    dfs2(son[u], sp);       <span class="hljs-comment">//å°†åœ¨ä¸€æ¡é‡é“¾çš„èŠ‚ç‚¹æ”¾åœ¨é‚£ä¸ªæ•°ç»„ç›¸é‚»çš„ä½ç½®ï¼Œè¿ç»­åˆ†å¸ƒ</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].next)<br>    &#123;<br>        <span class="hljs-keyword">int</span> v = edge[i].to;<br>        <span class="hljs-keyword">if</span>(v != son[u] &amp;&amp; v != fa[u])   <span class="hljs-comment">//å¯¹äºué™¤äº†çˆ¶äº²èŠ‚ç‚¹å’Œå®ƒæ‰€åœ¨é‡é“¾ä¸Šçš„å„¿å­çš„ç‚¹ï¼Œä¸€å®šæ˜¯æ—è¾¹è½»é“¾ä¸Šçš„èµ·å§‹ç‚¹ï¼Œæ‰€ä»¥é‚£æ¡ä»¥vå¼€å¤´çš„è½»é“¾çš„top[v]=v</span><br>            dfs2(v, v);<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">int</span> <span class="hljs-title">lowbit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> x &amp; (-x);<br>&#125;<br><br><span class="hljs-keyword">int</span> c[maxn];<br><span class="hljs-keyword">int</span> n, m, pp;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">sum</span><span class="hljs-params">(<span class="hljs-keyword">int</span> i)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> s = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span>(i &gt; <span class="hljs-number">0</span>)<br>    &#123;<br>        s += c[i];<br>        i -= lowbit(i);<br>    &#125;<br>    <span class="hljs-keyword">return</span> s;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> i, <span class="hljs-keyword">int</span> val)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">while</span>(i &lt;= n)<br>    &#123;<br>        c[i] += val;<br>        i += lowbit(i);<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">change</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> val)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//æ”¹å˜u-&gt;vè·¯å¾„ä¸Šçš„ç‚¹å€¼</span><br>    <span class="hljs-keyword">int</span> f1 = top[u];    <br>    <span class="hljs-keyword">int</span> f2 = top[v];<br>    <span class="hljs-keyword">int</span> tmp = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span>(f1 != f2)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(dep[f1] &lt; dep[f2])<br>        &#123;<br>            swap(f1, f2);<br>            swap(u, v);<br>        &#125;<br>        add(p[f1], val);<br>        add(p[u] + <span class="hljs-number">1</span>, -val);<br>        u = fa[f1];<br>        f1 = top[u];<br>    &#125;<br>    <span class="hljs-keyword">if</span>(dep[u] &gt; dep[v])swap(u, v);<br>    add(p[u], val);<br>    add(p[v] + <span class="hljs-number">1</span>, -val);<br>&#125;<br><span class="hljs-keyword">int</span> a[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    <span class="hljs-comment">// ios_base::sync_with_stdio(0);</span><br>    <span class="hljs-comment">// cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">while</span>(~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>, &amp;n, &amp;m, &amp;pp))<br>    &#123;<br>        init();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a[i]);<br>        <span class="hljs-keyword">int</span> u, v;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;u, &amp;v);<br>            addedge(u, v);<br>            addedge(v, u);<br>        &#125;<br>        dfs1(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<br>        dfs2(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>);<br>        <span class="hljs-built_in">memset</span>(c, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> c);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        &#123;<br>            add(p[i], a[i]);<br>            add(p[i] + <span class="hljs-number">1</span>, -a[i]);<br>        &#125;<br>        <span class="hljs-keyword">char</span> op;<br>        <span class="hljs-keyword">int</span> c1, c2, k;<br>        <span class="hljs-keyword">while</span>(pp--)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot; %c&quot;</span>, &amp;op);<br>            <span class="hljs-keyword">if</span>(op == <span class="hljs-string">&#x27;Q&#x27;</span>)<br>            &#123;<br>                <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;u);<br>                <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, sum(p[u]));<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>, &amp;c1, &amp;c2, &amp;k);<br>                <span class="hljs-keyword">if</span>(op == <span class="hljs-string">&#x27;D&#x27;</span>)k = -k;<br>                change(c1, c2, k);<br>            &#125;<br>        &#125;<br><br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;    <br>&#125;<br></code></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>ACM-æ•°æ®ç»“æ„-æ ‘é“¾å‰–åˆ†</category>
      </categories>
      <tags>
        <tag>acm</tag>
        <tag>ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>ACM-æ•°è®º-å¹¿ä¹‰æ¬§æ‹‰é™å¹‚</title>
    <url>/2019/09/02/ACM-%E6%95%B0%E8%AE%BA-%E5%B9%BF%E4%B9%89%E6%AC%A7%E6%8B%89%E9%99%8D%E5%B9%82/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><blockquote>
<p>æ›¾ä»Šä¸€æ—¶çš„æ‡’ï¼Œé€ å°±ä»Šæ—¥çš„æ³ª</p>
</blockquote>
<p>è®°å¾—åŠå¹´å‰å»æ­¦å¤§å‚åŠ çš„çœèµ›ï¼Œå½“æ—¶çš„Aé¢˜å°±æ˜¯ä¸€ä¸ªå¹¿ä¹‰æ¬§æ‹‰é™å¹‚çš„æ¿å­é¢˜ï¼Œåæ¥å›æ¥è¡¥äº†ä¸€ä¸‹ï¼Œå› ä¸ºæ²¡æœ‰äº¤çš„åœ°æ–¹ï¼Œäºæ˜¯å°±æµ‹äº†æ•°æ®å°±æŠŠä»£ç æ‰”äº†ï¼Œï¼Œï¼Œç„¶åï¼Œï¼Œæ˜¨å¤©çš„å—äº¬ç½‘ç»œèµ›å°±ç‚¸äº†ï¼Œï¼Œï¼Œä¸€æ ·çš„å¹¿ä¹‰æ¬§æ‹‰é™å¹‚çš„æ¿å­é¢˜ï¼Œï¼Œç„¶åå› ä¸ºå¿˜è®°äº†å½“åˆè‡ªå·±æƒ³å‡ºæ¥çš„é‚£ä¸­å†™æ³•ï¼Œï¼Œä¸€ç›´æƒ³ç€å›æƒ³èµ·ä¹‹å‰çš„å†™æ³•ï¼Œï¼Œç„¶ååˆ°ç»“æŸéƒ½æ²¡å¼„å‡ºæ¥ï¼Œï¼Œï¼Œemmmmï¼Œï¼Œ</p>
<p>èµ›åçœ‹äº†ä¸€ä¸‹åˆ«äººçš„è§£æ³•ï¼Œï¼Œåˆ«äººçš„å¤„ç†æ–¹æ³•å¾ˆå·§å¦™ï¼Œï¼Œå½“ç„¶å¦ä¸€ä¸ªç§è¿”å›ä¸¤ä¸ªå€¼çš„ï¼ˆpairï¼‰çš„è§£æ³•å°±æ˜¯æ­¦å¤§çš„æ ‡ç¨‹ï¼Œï¼Œï¼Œï¼Œï¼ˆåˆ°æœ€åä¹‹å‰æƒ³å‡ºçš„å†™æ³•è¿˜æ˜¯æ¯èƒ½æ¨å‡ºæ¥ï¼Œï¼Œéƒ½å¼€å§‹æ€€ç–‘è‡ªå·±å½“æ—¶æœ‰æ²¡æœ‰çœŸçš„æ¨å‡ºæ¥ï¼Œï¼Œï¼Œï¼Œï¼Œ</p>
<span id="more"></span>
<h1 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h1><p>å¹¿ä¹‰æ¬§æ‹‰é™å¹‚æ²¡å•¥å¥½è¯´çš„ï¼Œï¼Œå°±æ˜¯é‚£ä¸ªå…¬å¼ï¼š</p>
<p>å¯¹äºæ±‚ $a^b(mod \ p)$ å¯ä»¥è½¬æ¢ä¸ºï¼š</p>
<script type="math/tex; mode=display">
    a^b = 
    \begin{cases}
    a^{b \%  \phi (p)}   &gcd(a, p)=1 \\
    a^b &gcd(a, p) \neq 1, b < \phi (p) \\
    a^{b \% \phi (p) + \phi (p)} &gcd(a, p) \neq 1, b \ge \phi (p)\\
    \end{cases}</script><p>å…¬å¼å¾ˆç®€å•ï¼Œï¼Œä½†æ˜¯å¦‚æœæ˜¯æ±‚ $a_1^{a_2^{a_3^{â€¦}}} (mod \ p)$ ç±»ä¼¼è¿™æ ·çš„å€¼çš„è¯ï¼Œæ˜¾ç„¶è¦é€’å½’ä»ä¸Šå¾€ä¸‹æ±‚ï¼ˆåˆšå¼€å§‹å¼„æˆäº†ä»ä¸‹å¾€ä¸Šæ±‚ï¼Œï¼Œå£èƒ¡äº†ä¸€æ®µæ—¶é—´ï¼Œï¼Œï¼Œï¼Œï¼‰ï¼Œï¼Œä½†æ˜¯å†é€’å½’æ±‚çš„æ—¶å€™è¦è€ƒè™‘æ¯ä¸€æ¬¡ $b$ å’Œ $\phi (p)$ çš„å…³ç³»ï¼Œï¼Œç„¶åé€‰æ‹©å“ªä¸€ä¸ªç­‰å¼ï¼Œï¼Œï¼Œè¿™æ ·å°±éº»çƒ¦äº†ï¼Œï¼Œå¯ä»¥ç”¨ä¸€ä¸ª <code>pair</code> ä»€ä¹ˆçš„æ¥ä¿å­˜ä¸€ä¸ªæ ‡å¿—å˜é‡æ¥å†³å®šé€’å½’çš„ä¸Šä¸€å±‚è¦ä¸è¦ $+ \phi (p)$ ï¼Œï¼Œå¦ä¸€ç§å·§å¦™åœ°æ–¹å¼æ˜¯ä¿®æ”¹ä¸€ä¸‹ <strong>å–æ¨¡</strong> çš„è¿‡ç¨‹ï¼Œï¼Œè¿™æ ·å°±ä¸ç”¨è€ƒè™‘äº†ï¼Œï¼Œï¼Œ<a href="https://www.cnblogs.com/ACMLCZH/p/8117161.html">å…·ä½“çš„æ¨å¯¼è¿‡ç¨‹åœ¨è¿™é‡Œ</a></p>
<p>æ‰€æœ‰çš„å–æ¨¡çš„æ­¥éª¤æ”¹æˆè¿™æ ·ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-keyword">inline</span> ll <span class="hljs-title">modulo</span><span class="hljs-params">(ll x, ll mod)</span></span>&#123;<span class="hljs-keyword">return</span> x &lt; mod ? x : x % mod + mod;&#125;<br></code></pre></td></tr></table></figure>
<p>è¿™æ ·ä¿è¯ $b \ge \phi (p)$ ï¼Œï¼Œç„¶åå°±å°‘äº†åˆ¤æ–­çš„æƒ…å†µ</p>
<h1 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><h2 id="å—äº¬ç½‘ç»œèµ›B-supper-log"><a href="#å—äº¬ç½‘ç»œèµ›B-supper-log" class="headerlink" title="å—äº¬ç½‘ç»œèµ›B supper_log"></a><a href="https://nanti.jisuanke.com/t/41299">å—äº¬ç½‘ç»œèµ›B supper_log</a></h2><p><a href="https://nanti.jisuanke.com/t/41299">å—äº¬ç½‘ç»œèµ›B supper_log</a></p>
<p>è¿™é“é¢˜æŒ‰é¢˜ç›®çš„æ„æ€æ¨å‡ é¡¹æ ·ä¾‹å°±èƒ½çœ‹å‡ºæ˜¯è¦æ±‚ä¸€ä¸ª $a^{a^{a^{a^{â€¦}}}} mod \ m ï¼ˆä¸€å…±æœ‰bä¸ªaï¼‰$ çš„å€¼ï¼Œï¼Œç›´æ¥é™å¹‚æ±‚å°±å¯ä»¥äº†ï¼Œï¼Œ è®°å¾—ç‰¹åˆ¤ b=0 çš„æƒ…å†µ</p>
<h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><h4 id="ç¾¤é‡Œå¾ˆå¤šå¤§ä½¬ç”¨çš„æ–¹æ³•ï¼Œé‡ç½®å–æ¨¡çš„æµç¨‹"><a href="#ç¾¤é‡Œå¾ˆå¤šå¤§ä½¬ç”¨çš„æ–¹æ³•ï¼Œé‡ç½®å–æ¨¡çš„æµç¨‹" class="headerlink" title="ç¾¤é‡Œå¾ˆå¤šå¤§ä½¬ç”¨çš„æ–¹æ³•ï¼Œé‡ç½®å–æ¨¡çš„æµç¨‹"></a>ç¾¤é‡Œå¾ˆå¤šå¤§ä½¬ç”¨çš„æ–¹æ³•ï¼Œé‡ç½®å–æ¨¡çš„æµç¨‹</h4><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld; <br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-7</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e3</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e3</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-function">ll <span class="hljs-title">f</span><span class="hljs-params">(ll x, ll a)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(x &lt; <span class="hljs-number">1</span>)<span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">1</span> + f((ll)(<span class="hljs-built_in">log</span>(x) / <span class="hljs-built_in">log</span>(a)), a);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">inline</span> ll <span class="hljs-title">modulo</span><span class="hljs-params">(ll x, ll mod)</span></span>&#123;<span class="hljs-keyword">return</span> x &lt; mod ? x : x % mod + mod;&#125;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> ll <span class="hljs-title">pow_</span><span class="hljs-params">(ll a, ll b, ll p)</span></span><br><span class="hljs-function"></span>&#123;<br>    ll ret = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(b)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(b &amp; <span class="hljs-number">1</span>)ret = modulo(ret * a, p);<br>        a = modulo(a * a, p);<br>        b &gt;&gt;= <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> ret;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> ll <span class="hljs-title">phi</span><span class="hljs-params">(ll x)</span></span><br><span class="hljs-function"></span>&#123;<br>    ll ans = x;<br>    <span class="hljs-keyword">for</span>(ll i = <span class="hljs-number">2</span>; i * i &lt;= x; ++i)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(x % i == <span class="hljs-number">0</span>)<br>        &#123;<br>            ans = ans / i * (i - <span class="hljs-number">1</span>);<br>            <span class="hljs-keyword">while</span>(x % i == <span class="hljs-number">0</span>)x /= i;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(x &gt; <span class="hljs-number">1</span>)ans = ans / x * (x - <span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">return</span> ans;<br>&#125;<br><span class="hljs-function">ll <span class="hljs-title">gcd</span><span class="hljs-params">(ll a, ll b)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(b == <span class="hljs-number">0</span>)<span class="hljs-keyword">return</span> a;<br>    <span class="hljs-keyword">return</span> gcd(b, a % b);<br>&#125;<br><span class="hljs-function">ll <span class="hljs-title">f</span><span class="hljs-params">(ll a, ll b, ll k, ll p)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(p == <span class="hljs-number">1</span>)<span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">if</span>(k == <span class="hljs-number">0</span>)<span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">return</span> pow_(a, f(a, a, k - <span class="hljs-number">1</span>, phi(p)), p);<br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    <span class="hljs-comment">// ios_base::sync_with_stdio(0);</span><br>    <span class="hljs-comment">// cin.tie(0);cout.tie(0);</span><br><br>    <span class="hljs-keyword">int</span> t; <span class="hljs-built_in">cin</span> &gt;&gt; t;<br>    <span class="hljs-keyword">while</span>(t--)<br>    &#123;<br>        ll a, b, m;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; a &gt;&gt; b &gt;&gt; m;<br>        <span class="hljs-comment">// cout &lt;&lt; a &lt;&lt; b &lt;&lt; m &lt;&lt; endl;</span><br>        <span class="hljs-keyword">if</span>(b == <span class="hljs-number">0</span>)<br>        &#123;<br>            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">1</span> % m &lt;&lt; <span class="hljs-built_in">endl</span>;<br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br>        ll ans = f(a, a, b, m) % m;<br>        <span class="hljs-comment">// if(a == 1)ans = 1 % m;</span><br>        <span class="hljs-comment">// cout &lt;&lt; ans &lt;&lt; &quot; &quot; &lt;&lt; ans % m &lt;&lt; endl;</span><br>        <span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br>    <br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h4 id="pairè®°å½•ä¸Šä¸€å±‚"><a href="#pairè®°å½•ä¸Šä¸€å±‚" class="headerlink" title="pairè®°å½•ä¸Šä¸€å±‚"></a>pairè®°å½•ä¸Šä¸€å±‚</h4><p>æ­¦å¤§é‚£åœºçš„æ ‡ç¨‹ï¼Œï¼Œç›´æ¥æ”¹äº†ä¸‹è¾“å…¥ï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> ll long long</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1000010</span>;<br><span class="hljs-keyword">int</span> prime[N + <span class="hljs-number">1</span>], isprime[N + <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, phi[N + <span class="hljs-number">1</span>];<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">P</span></span><br><span class="hljs-class">&#123;</span><br>    ll ans;<br>    <span class="hljs-keyword">bool</span> v;<br>    P(ll _ans, <span class="hljs-keyword">bool</span> _v)<br>    &#123;<br>        ans = _ans;<br>        v = _v;<br>    &#125;<br>&#125;;<br><span class="hljs-function">ll <span class="hljs-title">gcd</span><span class="hljs-params">(ll a, ll b)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> b ? gcd(b, a % b) : a;<br>&#125;<br><span class="hljs-function">P <span class="hljs-title">qpow</span><span class="hljs-params">(ll A, ll B, ll C)</span></span><br><span class="hljs-function"></span>&#123;<br>    ll re = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">bool</span> flag = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span> (B)<br>    &#123;<br>        <span class="hljs-keyword">if</span> (B &amp; <span class="hljs-number">1</span>)<br>        &#123;<br>            <span class="hljs-keyword">if</span> ((re *= A) &gt;= C)<br>                flag = <span class="hljs-number">0</span>;<br>            re = re % C;<br>        &#125;<br>        B = B &gt;&gt; <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span> (B)<br>        &#123;<br>            <span class="hljs-keyword">if</span> (A &gt;= C)<br>                flag = <span class="hljs-number">0</span>;<br>            A %= C;<br>            <span class="hljs-keyword">if</span> ((A *= A) &gt;= C)<br>                flag = <span class="hljs-number">0</span>;<br>            A %= C;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> P(re, flag);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">getphi</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    phi[<span class="hljs-number">1</span>] = <span class="hljs-number">1</span>;<br>    isprime[<span class="hljs-number">1</span>] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= N; i++)<br>    &#123;<br>        <span class="hljs-keyword">if</span> (!isprime[i])<br>        &#123;<br>            prime[++tot] = i;<br>            phi[i] = i - <span class="hljs-number">1</span>;<br>        &#125;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= tot &amp;&amp; i * prime[j] &lt;= N; j++)<br>        &#123;<br>            isprime[i * prime[j]] = <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">if</span> (i % prime[j] == <span class="hljs-number">0</span>)<br>            &#123;<br>                phi[i * prime[j]] = phi[i] * prime[j];<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>                phi[i * prime[j]] = phi[i] * phi[prime[j]];<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> ll <span class="hljs-title">Euler</span><span class="hljs-params">(ll x)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> phi[x];<br>    <span class="hljs-comment">//é¢˜ç›®å¯ä»¥å†å¤æ‚ä¸€ç‚¹æ¨¡æ•°å¯ä»¥åˆ°longlong</span><br>    <span class="hljs-comment">// ll ans = x;</span><br>    <span class="hljs-comment">// for (int i = 1; i &lt;= tot &amp;&amp; prime[i] * prime[i] &lt;= x; i++)</span><br>    <span class="hljs-comment">// &#123;</span><br>    <span class="hljs-comment">//     if (x % prime[i] == 0)</span><br>    <span class="hljs-comment">//     &#123;</span><br>    <span class="hljs-comment">//         ans = ans / prime[i] * (prime[i] - 1);</span><br>    <span class="hljs-comment">//         while (x % prime[i] == 0)</span><br>    <span class="hljs-comment">//             x /= prime[i];</span><br>    <span class="hljs-comment">//     &#125;</span><br>    <span class="hljs-comment">// &#125;</span><br>    <span class="hljs-comment">// if (x &gt; 1)</span><br>    <span class="hljs-comment">//     ans = ans / x * (x - 1);</span><br>    <span class="hljs-comment">// return ans;</span><br>&#125;<br><span class="hljs-function">P <span class="hljs-title">f</span><span class="hljs-params">(ll a, ll b, ll k, ll p)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (p == <span class="hljs-number">1</span>)<br>        <span class="hljs-keyword">return</span> P(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>);<br>    <span class="hljs-keyword">if</span> (k == <span class="hljs-number">0</span>)<br>        <span class="hljs-keyword">return</span> P(a % p, a &lt; p);<br>    ll ep = Euler(p);<br>    P tmp = f(b, b, k - <span class="hljs-number">1</span>, ep);<br>    <span class="hljs-keyword">if</span> (gcd(a, p) == <span class="hljs-number">1</span>)<br>        <span class="hljs-keyword">return</span> qpow(a, tmp.ans, p);<br>    <span class="hljs-keyword">if</span> (tmp.v == <span class="hljs-literal">false</span>)<br>    &#123;<br>        tmp.ans += ep;<br>    &#125;<br>    <span class="hljs-keyword">return</span> qpow(a, tmp.ans, p);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ll a, b, k, p;<br>    getphi();<br>    <span class="hljs-keyword">int</span> t;<br>    <span class="hljs-keyword">while</span> (~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;t))<br>    &#123;<br>        <span class="hljs-keyword">while</span> (t--)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lld %lld %lld&quot;</span>, &amp;a, &amp;k, &amp;p);<br>            b = a;<br>            <span class="hljs-keyword">if</span>(k == <span class="hljs-number">0</span>)<br>            &#123;<br>                <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%lld\n&quot;</span>, <span class="hljs-number">1</span> % p);<br>                <span class="hljs-keyword">continue</span>;<br>            &#125;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%lld\n&quot;</span>, f(a, b, k - <span class="hljs-number">1</span>, p).ans);<br>        &#125;<br>    &#125;<br>    <span class="hljs-comment">//cout&lt;&lt;(clock()-pp)/CLOCKS_PER_SEC;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="cf-906-D-Power-Tower"><a href="#cf-906-D-Power-Tower" class="headerlink" title="cf-906 D. Power Tower"></a><a href="https://codeforces.com/contest/906/problem/D">cf-906 D. Power Tower</a></h2><p><a href="https://codeforces.com/contest/906/problem/D">cf-906 D. Power Tower</a></p>
<p>çªç„¶å¾ˆå¤šäººäº¤è¿™é“ä¸¤å¹´å‰çš„é¢˜å•Šï¼Œï¼Œhhhhh</p>
<p>è¿™é¢˜ä¹Ÿæ˜¯é™å¹‚ï¼Œä»–æ˜¯æ±‚çš„ä¸€ä¸ªæŒ‡æ•°åºåˆ—çš„ä¸€ä¸ªåŒºé—´çš„å¹‚çš„å€¼ï¼Œï¼Œï¼Œå¥—è·¯ä¸€æ ·ï¼Œï¼Œå°±æ˜¯è¿™ä¸ªæ¨¡æ•°å¾ˆå¤§ï¼Œï¼Œä¸èƒ½æ¯æ¬¡éƒ½ç®—ä»–çš„ phi ï¼Œï¼Œä¸ç„¶ä¼šè¶…æ—¶ï¼Œï¼Œæ‰€ä»¥è¦è®°å¿†åŒ–ä¸€ä¸‹ <code>unordered_map</code> ä¸€ä¸‹ï¼Œï¼Œæˆ–è€… <strong>é¢„å¤„ç†ä¸€ä¸‹æ¨¡æ•°çš„æ‰€æœ‰phi</strong> å› ä¸ºå¯¹ä¸€ä¸ªæ•°ä¸€ç›´æ±‚ phi ä¸‹å»ï¼Œï¼Œå…¶å®ä¸ªæ•°ä¸å¤šï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld; <br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-7</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e3</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br>ll a[maxn];<br><br><span class="hljs-function"><span class="hljs-keyword">inline</span> ll <span class="hljs-title">modulo</span><span class="hljs-params">(ll x, ll mod)</span></span>&#123;<span class="hljs-keyword">return</span> x &lt; mod ? x : x % mod + mod;&#125;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> ll <span class="hljs-title">pow_</span><span class="hljs-params">(ll a, ll b, ll p)</span></span><br><span class="hljs-function"></span>&#123;<br>    ll ret = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(b)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(b &amp; <span class="hljs-number">1</span>)ret = modulo(ret * a, p);<br>        a = modulo(a * a, p);<br>        b &gt;&gt;= <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> ret;<br>&#125;<br><span class="hljs-built_in">unordered_map</span>&lt;ll, ll&gt; phi_;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> ll <span class="hljs-title">phi</span><span class="hljs-params">(ll x)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(phi_[x])<span class="hljs-keyword">return</span> phi_[x];<br>    ll ans = x;<br>    ll t = x;<br>    <span class="hljs-keyword">for</span>(ll i = <span class="hljs-number">2</span>; i * i &lt;= x; ++i)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(x % i == <span class="hljs-number">0</span>)<br>        &#123;<br>            ans = ans / i * (i - <span class="hljs-number">1</span>);<br>            <span class="hljs-keyword">while</span>(x % i == <span class="hljs-number">0</span>)x /= i;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(x &gt; <span class="hljs-number">1</span>)ans = ans / x * (x - <span class="hljs-number">1</span>);<br>    phi_[t] = ans;<br>    <span class="hljs-keyword">return</span> ans;<br>&#125;<br><span class="hljs-comment">//è¿™é‡Œæ ¹æ®é¢˜æ„æ¥æ›´æ”¹ï¼Œkè¡¨ç¤ºå…±æœ‰kä¸ªæŒ‡æ•°</span><br><span class="hljs-function">ll <span class="hljs-title">f</span><span class="hljs-params">(ll a, ll b, ll k, ll p)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(p == <span class="hljs-number">1</span>)<span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">if</span>(k == <span class="hljs-number">0</span>)<span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">return</span> pow_(a, f(a, a, k - <span class="hljs-number">1</span>, phi(p)), p);<br>&#125;<br><span class="hljs-function">ll <span class="hljs-title">f</span><span class="hljs-params">(ll l, ll r, ll p)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(p == <span class="hljs-number">1</span>)<span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">if</span>(l == r + <span class="hljs-number">1</span>)<span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">return</span> pow_(a[l], f(l + <span class="hljs-number">1</span>, r, phi(p)), p);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br><br>    ll n, m;<br>    <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; a[i];<br>    <span class="hljs-keyword">int</span> q; <span class="hljs-built_in">cin</span> &gt;&gt; q;<br>    <span class="hljs-keyword">while</span>(q--)<br>    &#123;<br>        ll l, r; <span class="hljs-built_in">cin</span> &gt;&gt; l &gt;&gt; r;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; f(l, r, m) % m &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="cf-gym-101550-E-Exponial"><a href="#cf-gym-101550-E-Exponial" class="headerlink" title="cf-gym-101550 E Exponial"></a><a href="https://codeforces.com/gym/101550/attachments">cf-gym-101550 E Exponial</a></h2><p><a href="https://codeforces.com/gym/101550/attachments">cf-gym-101550 E Exponial</a></p>
<p>è¿™é¢˜æ˜¯æ±‚ä¸€ä¸ª  $n^{{n-1}^{{n-2}^{{n-3}^{{...}^{1}}}}} mod \ p$  ï¼Œï¼Œï¼Œç”¨ä¸Šé¢çš„æ¿å­æ”¹ä¸€æ”¹å°±å¯ä»¥äº†ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld; <br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-7</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e3</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><br><span class="hljs-function"><span class="hljs-keyword">inline</span> ll <span class="hljs-title">modulo</span><span class="hljs-params">(ll x, ll mod)</span></span>&#123;<span class="hljs-keyword">return</span> x &lt; mod ? x : x % mod + mod;&#125;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> ll <span class="hljs-title">pow_</span><span class="hljs-params">(ll a, ll b, ll p)</span></span><br><span class="hljs-function"></span>&#123;<br>    ll ret = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(b)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(b &amp; <span class="hljs-number">1</span>)ret = modulo(ret * a, p);<br>        a = modulo(a * a, p);<br>        b &gt;&gt;= <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> ret;<br>&#125;<br><span class="hljs-built_in">unordered_map</span>&lt;ll, ll&gt; phi_;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> ll <span class="hljs-title">phi</span><span class="hljs-params">(ll x)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(phi_[x])<span class="hljs-keyword">return</span> phi_[x];<br>    ll ans = x;<br>    ll t = x;<br>    <span class="hljs-keyword">for</span>(ll i = <span class="hljs-number">2</span>; i * i &lt;= x; ++i)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(x % i == <span class="hljs-number">0</span>)<br>        &#123;<br>            ans = ans / i * (i - <span class="hljs-number">1</span>);<br>            <span class="hljs-keyword">while</span>(x % i == <span class="hljs-number">0</span>)x /= i;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(x &gt; <span class="hljs-number">1</span>)ans = ans / x * (x - <span class="hljs-number">1</span>);<br>    phi_[t] = ans;<br>    <span class="hljs-keyword">return</span> ans;<br>&#125;<br><br><span class="hljs-comment">// ll f(ll l, ll r, ll p)</span><br><span class="hljs-comment">// &#123;</span><br><span class="hljs-comment">//     if(p == 1)return 1;</span><br><span class="hljs-comment">//     if(l == r + 1)return 1;</span><br><span class="hljs-comment">//     return pow_(a[l], f(l + 1, r, phi(p)), p);</span><br><span class="hljs-comment">// &#125;</span><br><br><span class="hljs-function">ll <span class="hljs-title">f</span><span class="hljs-params">(ll a, ll p)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(p == <span class="hljs-number">1</span>)<span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">if</span>(a == <span class="hljs-number">1</span>)<span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">return</span> pow_(a, f(a - <span class="hljs-number">1</span>, phi(p)), p);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br><br>    ll n, m;<br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m)<span class="hljs-built_in">cout</span> &lt;&lt; f(n, m) % m &lt;&lt; <span class="hljs-built_in">endl</span>;<br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>è²Œä¼¼å¤Ÿäº†ï¼Œï¼Œï¼Œæ•°è®ºæ˜¯æœ€ä¸æƒ³ç¢°çš„ä¸œè¥¿ï¼Œï¼Œemmmmï¼Œï¼Œï¼Œä½†åˆæ—¶ä¸å¾—ä¸ç¨ç¨æŒæ¡çš„ä¸œè¥¿ï¼Œï¼Œï¼Œï¼Œ</p>
<p>(endâ€¦.)</p>
]]></content>
      <categories>
        <category>ACM-æ•°è®º</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>æ•°è®º</tag>
        <tag>å¹¿ä¹‰æ¬§æ‹‰é™å¹‚</tag>
      </tags>
  </entry>
  <entry>
    <title>ACM--ç¬”è®°</title>
    <url>/2018/05/19/ACM-%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>//è¿™ä¸€ç¯‡ä¸»è¦æ˜¯è®°å½•ä¸€äº›åšacmé¢˜æ—¶å¸¸ç”¨åˆ°çš„ä¸€äº›æŠ€å·§ã€æ–¹æ³•ï¼Œæ¯”å¦‚è¯´æ—¶å¤§ä½¬ä»¬å¸¸ç”¨çš„ä¸€äº› <strong>å¤´æ–‡ä»¶</strong>ã€<strong>æ¨¡æ¿</strong>ã€<strong>å‡½æ•°</strong>ä»€ä¹ˆçš„;</p>
<h1 id="å¤´æ–‡ä»¶ä¹‹ç±»çš„"><a href="#å¤´æ–‡ä»¶ä¹‹ç±»çš„" class="headerlink" title="å¤´æ–‡ä»¶ä¹‹ç±»çš„:"></a>å¤´æ–‡ä»¶ä¹‹ç±»çš„:</h1><ul>
<li><strong>ä¸‡èƒ½å¤´æ–‡ä»¶</strong>ï¼š#include <bits/stdc++.h>;</li>
</ul>
<h1 id="å‡½æ•°æ–¹é¢"><a href="#å‡½æ•°æ–¹é¢" class="headerlink" title="å‡½æ•°æ–¹é¢:"></a>å‡½æ•°æ–¹é¢:</h1><h2 id="å­—ç¬¦ä¸²çš„å¤„ç†"><a href="#å­—ç¬¦ä¸²çš„å¤„ç†" class="headerlink" title="å­—ç¬¦ä¸²çš„å¤„ç†:"></a>å­—ç¬¦ä¸²çš„å¤„ç†:</h2><ul>
<li>æˆªå–ä» pos å¼€å§‹ len é•¿åº¦çš„å­—ä¸²ï¼Œï¼Œstd::string::substr(size_t pos = 0, size_t len = npos);</li>
</ul>
<h1 id="æ•ˆç‡æ–¹é¢"><a href="#æ•ˆç‡æ–¹é¢" class="headerlink" title="æ•ˆç‡æ–¹é¢:"></a>æ•ˆç‡æ–¹é¢:</h1><ul>
<li>scanf()è¾“å…¥è¦æ¯”cinè¾“å…¥å¿«ä¸€äº›;</li>
</ul>
]]></content>
      <tags>
        <tag>acm</tag>
      </tags>
  </entry>
  <entry>
    <title>ACM-ç®€å•å›¾è®ºåˆ·é¢˜</title>
    <url>/2019/10/07/ACM-%E7%AE%80%E5%8D%95%E5%9B%BE%E8%AE%BA%E5%88%B7%E9%A2%98/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>åšä¸€äº›ç®€å•å›¾è®ºé¢˜ï¼Œï¼Œ <a href="https://codeforces.com/problemset?order=BY_RATING_ASC&amp;tags=graphs%2C2000-">list</a></p>
<span id="more"></span>
<h1 id="463D-Gargari-and-Permutations-å¤šä¸ªä¸²çš„LCS"><a href="#463D-Gargari-and-Permutations-å¤šä¸ªä¸²çš„LCS" class="headerlink" title="463D    Gargari and Permutations å¤šä¸ªä¸²çš„LCS"></a>463D    Gargari and Permutations å¤šä¸ªä¸²çš„LCS</h1><p>å¯¹äºæ¯ä¸€å¯¹æ•°ï¼š <code>&lt;i, j&gt;</code> ï¼Œï¼Œå¦‚æœæ¯ä¸€ä¸ªä¸²çš„jéƒ½åœ¨iå‰é¢çš„è¯è¿ä¸€æ¡è¾¹ <code>i-&gt;j</code> ï¼Œï¼Œç„¶åè·‘æ‰¾ä¸€ä¸ªæœ€é•¿è·¯ï¼Œï¼Œ<a href="https://codeforces.com/problemset/submission/463/62052575">code</a></p>
<h1 id="449B-Jzzhu-and-Cities-æœ€çŸ­è·¯åˆ¤å¿…ç»è¾¹"><a href="#449B-Jzzhu-and-Cities-æœ€çŸ­è·¯åˆ¤å¿…ç»è¾¹" class="headerlink" title="449B    Jzzhu and Cities æœ€çŸ­è·¯åˆ¤å¿…ç»è¾¹"></a>449B    Jzzhu and Cities æœ€çŸ­è·¯åˆ¤å¿…ç»è¾¹</h1><p>ç›´æ¥è·‘æœ€çŸ­è·¯å¹¶è®°å½•æ¯ä¸ªç‚¹çš„è·¯å¾„æ•°ï¼Œæœ€åå¯åˆ è¾¹å¯¹çš„ç‚¹vå¦‚æœè·¯å¾„æ•°å¤§äº1æˆ–è€…æ˜¯è¿™æ¡è¾¹çš„æƒå€¼å°äºæœ€çŸ­è·¯çš„å€¼å°±è¯´æ˜è¿™è¾¹å¯åˆ  ï¼ˆè·¯å¾„æ•°å¾ˆå¤šä»¥å•æ¨¡ï¼‰ï¼Œï¼Œï¼Œè®°å¾—å‰é¢å»é‡å°±è¡Œäº†ï¼Œï¼Œæˆ–è€…è·‘å®Œæœ€çŸ­è·¯æŠ å‡ºçš„æ–°å›¾åˆ¤è¿™ä¸ªç‚¹çš„å…¥åº¦å¤§äº1å¦ï¼Œï¼Œ</p>
<p>æœ¬æ¥æ˜¯é“ä¹±æé¢˜ï¼Œï¼Œæœ€å¼€å§‹çš„æƒ³æ³•é”™äº†äº›å°±å…¨å¦äº†ï¼Œï¼Œä¸æ–­çš„å†™å‡ç®—æ³•ï¼Œï¼Œï¼Œ<del>ï¼ˆå¤±å»ç†æ™º</del> <a href="https://codeforces.com/contest/449/submission/62090227">code</a></p>
<h1 id="558C-Amr-and-Chemistry-æš´åŠ›ï¼Ÿï¼Ÿ"><a href="#558C-Amr-and-Chemistry-æš´åŠ›ï¼Ÿï¼Ÿ" class="headerlink" title="558C    Amr and Chemistry æš´åŠ›ï¼Ÿï¼Ÿ"></a>558C    Amr and Chemistry æš´åŠ›ï¼Ÿï¼Ÿ</h1><p>ä¸€å¼€å§‹çœ‹åˆ°tagæœ‰ä¸€ä¸ªshortest path ä»¥ä¸ºæ˜¯æ ¹æ®ä¸€äº›å…³ç³»æ¥å»ºå¼ å›¾ï¼Œï¼Œç„¶åè·‘æœ€çŸ­è·¯å¾—åˆ°ç­”æ¡ˆï¼Œï¼Œï¼Œä½†æ˜¯å‘ç°ä¸ç®¡æ€ä¹ˆå»ºè¾¹ï¼Œï¼Œæœ€çŸ­è·¯éƒ½æ˜¯æ±‚å¾—çš„ï¼Œï¼Œï¼Œå’Œæœ€çŸ­è·¯æ²¡å•¥å…³ç³»ï¼Œï¼Œå¦¥å¦¥çš„æš´åŠ›ï¼Œï¼Œæœ€åçœ‹äº†å®˜æ–¹é¢˜è§£ï¼Œï¼Œæ‰å‘ç°å°†æ±‚æ¯ä¸ªæ•°çš„æƒ…å†µçš„æœç´¢çœ‹æˆäº†æœ€çŸ­è·¯ï¼Œï¼Œæˆ‘,,,emmmmmmm <a href="https://codeforces.com/contest/558/submission/62109249">code</a></p>
<h1 id="739B-Alyona-and-a-tree-dfs-è·¯å¾„äºŒåˆ†"><a href="#739B-Alyona-and-a-tree-dfs-è·¯å¾„äºŒåˆ†" class="headerlink" title="739B    Alyona and a tree dfs+è·¯å¾„äºŒåˆ†"></a>739B    Alyona and a tree dfs+è·¯å¾„äºŒåˆ†</h1><p>è¿™é¢˜ä¸é”™ï¼Œï¼Œ</p>
<p>å‡å®š $dep[u]$ è¡¨ç¤ºä»æ ¹èŠ‚ç‚¹åˆ°ç‚¹ <code>u</code> çš„ä¸€æ¡é“¾çš„å‰ç¼€è·¯å¾„é•¿åº¦ï¼Œï¼Œè¿™æ ·è¿™æ¡é“¾ä¸Šçš„ä»»æ„ä¸€æ¡è·¯å¾„é•¿åº¦å°±çŸ¥é“äº†ï¼Œï¼Œç„¶åå¯¹äºå½“å‰è®¿é—®çš„ä¸€ä¸ªç‚¹ <code>v</code> ï¼Œå…ˆè€ƒè™‘è¿™ä¸ªç‚¹å¯¹ä¸Šé¢çš„æŸäº›æ»¡è¶³æ¡ä»¶çš„ç‚¹çš„è´¡çŒ®ï¼šä¸Šé¢çš„ç‚¹ä¸­å­˜åœ¨è¿™æ ·çš„ç‚¹ <code>u</code> ï¼Œä½¿å¾— $dep[v] - dep[u] &lt;= a[v]$ ä¹Ÿå°±æ˜¯è¯´ <code>v</code> åœ¨ <code>u</code> çš„å­æ ‘ä¸­å¹¶ä¸”è·¯å¾„é•¿åº¦æ˜¯ä¸å¤§äºç‚¹æƒçš„ï¼Œï¼Œè¿™æ ·çš„è¯ <code>u</code> çš„ä¸ªæ•°åŠ ä¸€ï¼Œï¼Œ</p>
<p>åŒæ ·ï¼Œï¼Œè¿™æ®µè·¯å¾„é—´çš„ç‚¹çš„ä¹Ÿæ»¡è¶³è¿™æ ·çš„æ¡ä»¶ï¼Œï¼Œå› ä¸ºè·¯å¾„é•¿åº¦æ˜¯å•è°ƒçš„ï¼Œï¼Œæ‰€ä»¥ï¼Œï¼Œæˆ‘ä»¬åªè¦æ‰¾åˆ°ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„æœ€è¿œçš„ä¸€ä¸ªç‚¹ <code>u</code> çš„ä¸Šä¸€ä¸ªï¼Œ</p>
<p>ï¼ˆå¯»æ‰¾çš„æ–¹æ³•æ˜¯ï¼šå°†ä¸Šé¢çš„æ¡ä»¶è½¬æ¢ä»¥ä¸‹ï¼Œï¼Œ $dep[v] - a[v] &lt;= dep[u]$ åˆå› ä¸ºdepæ˜¯å•è°ƒé€’å¢çš„ï¼Œï¼Œæ‰€ä»¥æ‰¾è¿™ä¸ª <code>u</code> å°±æ˜¯æ‰¾ä¸€ä¸ªåˆšå¥½ $dep[u]$ æ˜¯å¤§äºç­‰äº $dep[v] - a[v]$ çš„ç‚¹å³å¯ï¼‰ï¼Œï¼Œï¼Œï¼Œ</p>
<p>å°†å…¶çš„ç­”æ¡ˆå‡ä¸€ï¼Œï¼Œç„¶ååˆ©ç”¨ä»–æ›´æ–°ä»–çš„ä¸Šé¢çš„ç‚¹ï¼ˆçœ‹æˆéƒ½ä¸ç®—è¿™ä¸ªç‚¹çš„è´¡çŒ®ï¼Œï¼Œè€Œ <code>u</code> åˆ° <code>v</code> çš„ç‚¹éƒ½ä¼šåŠ ä¸Šä¸€ä¸ª1ï¼‰ï¼Œï¼Œï¼Œå¯¹äºæ¯ä¸€ä¸ªç‚¹è€ƒè™‘dfsä¸­çš„æ‰€æœ‰å„¿å­èŠ‚ç‚¹çš„è´¡çŒ®å’Œå³å¯ï¼Œï¼Œ<a href="https://codeforces.com/contest/739/submission/62394729">code</a></p>
<h1 id="1217D-Coloring-Edges-åˆ¤ç¯-æŸ“è‰²"><a href="#1217D-Coloring-Edges-åˆ¤ç¯-æŸ“è‰²" class="headerlink" title="1217D    Coloring Edges åˆ¤ç¯+æŸ“è‰²"></a>1217D    Coloring Edges åˆ¤ç¯+æŸ“è‰²</h1><p><a href="https://codeforces.com/contest/1217/submission/61395907">ç›´æ¥æ‹“æ‰‘æ’åºåˆ¤ç¯æŸ“è‰²</a>ï¼Œï¼Œ<a href="https://codeforces.com/contest/1217/submission/61365723">æˆ–è€…åˆ©ç”¨dfsçš„æ€§è´¨æ¥æŸ“è‰²åˆ¤ç¯</a></p>
<h1 id="842C-Ilya-And-The-Tree-dfs-ä¼˜åŒ–"><a href="#842C-Ilya-And-The-Tree-dfs-ä¼˜åŒ–" class="headerlink" title="842C    Ilya And The Tree dfs+ä¼˜åŒ–"></a>842C    Ilya And The Tree dfs+ä¼˜åŒ–</h1><p>ä¸€é“æœç´¢é¢˜ï¼Œï¼Œåˆšå¼€å§‹æˆ‘ç›´æ¥å°†æœç´¢åˆ°çš„æ¯ä¸€æ¡è·¯å¾„çš„æ‰€æœ‰æ•°çš„å› æ•°æ‰”åˆ°äº†mapä¸­ï¼Œï¼Œç„¶åéå†å°è¯•æ‰¾ä¸€ä¸ªæœ€å¤§çš„å› æ•°å¹¶ä¸”å…¶æ•°é‡æ˜¯å¤§äºç­‰äºn-1çš„ï¼Œï¼Œï¼Œä½†æ˜¯è¿™æ ·ä¼šéšç€è·¯å¾„çš„é•¿åº¦mapçš„å¤§å°ä¸æ–­åœ°å¢åŠ ï¼Œï¼Œå³ä½¿æ§åˆ¶åå‘éå†ä¹Ÿä¼šçˆ†æ ˆç­‰ç­‰ï¼Œï¼Œå¯ä»¥å…ˆå‡è®¾æ¯ä¸€æ¡è·¯å¾„éƒ½å»æ‰æ ¹èŠ‚ç‚¹ï¼Œè¿™æ ·æ¯ä¸€ä¸ªç‚¹çš„ç­”æ¡ˆå°±æ˜¯ $ans[v]=__gcd(ans[u], a[v])$ ï¼Œï¼Œï¼Œç„¶åå¦‚æœä¸€å®šåŠ ä¸Šæ ¹èŠ‚ç‚¹çš„è¯ï¼Œç­”æ¡ˆä¸€å®šæ˜¯æ ¹èŠ‚ç‚¹çš„ä¸€ä¸ªå› æ•°ï¼Œï¼Œæ‰€ä»¥mapç›´æ¥ä¿å­˜çš„å°±æ˜¯æ ¹èŠ‚ç‚¹çš„å› æ•°ï¼Œï¼Œå†åƒä¸Šé¢é‚£æ ·éå†ä¸€éå’Œç¬¬ä¸€æ¬¡å¾—åˆ°çš„ç­”æ¡ˆå–æœ€å¤§å°±è¡Œäº†ï¼Œï¼Œ<a href="https://codeforces.com/contest/842/submission/62238501">code</a></p>
<h1 id="1213G-Path-Queries-å¹¶æŸ¥é›†"><a href="#1213G-Path-Queries-å¹¶æŸ¥é›†" class="headerlink" title="1213G    Path Queries å¹¶æŸ¥é›†"></a>1213G    Path Queries å¹¶æŸ¥é›†</h1><p>ç¦»çº¿è¯¢é—®ï¼Œç„¶ååˆ©ç”¨å¹¶æŸ¥é›†å°†ç¬¦åˆå½“å‰è¯¢é—®çš„æ‰€æœ‰ä¸¤ä¸ªç‚¹æ”¾åˆ°ä¸€å †é›†åˆä¸­ï¼Œï¼Œæ­¤æ—¶çš„ç­”æ¡ˆå°±æ˜¯æ¯ä¸€ä¸ªé›†åˆçš„è¾¹æ•° $m$ çš„ $m(m + 1)/2$ ï¼Œï¼Œï¼Œè¯¢é—®æ’åºåä¹‹å‰åŠ çš„è¾¹ä¹Ÿæ˜¯æ»¡è¶³æ¡ä»¶çš„ï¼Œï¼Œï¼Œè¿™æ ·å°±å¯ä»¥åˆ©ç”¨å‰ä¸€ä¸ªç­”æ¡ˆæ¥è·å¾—å½“å‰çš„è¯¢é—®çš„ç­”æ¡ˆï¼Œï¼Œæ›´æ–°çš„æ–¹å¼æ˜¯ï¼Œï¼Œï¼Œå°†è¿™æ¡è¾¹çš„ä¸¤ä¸ªç‚¹æ‰€åœ¨çš„é›†åˆçš„å¤§å° $a, b$ æ¸…ç©ºï¼Œï¼Œç„¶åç­”æ¡ˆ $ans = ans - (a <em> (a + 1) / 2) - (b </em> (b + 1) / 2) + ((a + b + 1) * (a + b + 2) / 2))$  ï¼Œï¼Œæœ€ååˆå¹¶é›†åˆå³å¯ï¼Œï¼Œåˆšå¼€å§‹æˆ‘æ˜¯ç”¨å¹¶æŸ¥é›†ç»´æŠ¤è¾¹ï¼Œï¼Œï¼Œå› ä¸ºè¦å»ºå›¾ï¼Œï¼Œä¸€ç›´Tï¼Œï¼Œï¼Œemmm <a href="https://codeforces.com/contest/1213/submission/62347660">code</a></p>
<h1 id="776D-The-Door-Problem-2sat"><a href="#776D-The-Door-Problem-2sat" class="headerlink" title="776D    The Door Problem 2sat"></a>776D    The Door Problem 2sat</h1><p>2satæ¿å­é¢˜å§ï¼Œï¼Œç›´æ¥æŒ‰é¢˜æ„æ‰¾å‡ºé™åˆ¶å…³ç³»å»ºå›¾åˆ¤ä»¥ä¸‹å°±è¡Œäº†ï¼Œï¼Œä¹‹å‰å†™è¿‡ï¼Œï¼Œ<a href="https://codeforces.com/contest/776/submission/52218310">code</a></p>
<h1 id="767C-Garland-dfs-è´ªå¿ƒ"><a href="#767C-Garland-dfs-è´ªå¿ƒ" class="headerlink" title="767C    Garland dfs+è´ªå¿ƒ"></a>767C    Garland dfs+è´ªå¿ƒ</h1><p>dfsæœå‡ºæ‰€æœ‰çš„ $sum/3$ å’Œ $2*sum/3$ çš„å­æ ‘ï¼Œï¼Œè®°å‰è€…ä¸º1ï¼Œåé¢çš„ä¸º2ï¼Œï¼Œ</p>
<p>è®°å½•æœçš„è¿‡ç¨‹ä¸­çš„1çš„å‡ºç°ä½ç½®ï¼Œå¦‚æœå‡ºç°ä¸€ä¸ª2ï¼Œå¹¶ä¸”å®ƒçš„å­æ ‘ä¸­æœ‰ä¸€ä¸ª1ï¼Œé‚£ä¹ˆè¿™å°±æ˜¯ä¸€ä¸ªç­”æ¡ˆï¼Œï¼Œç›´æ¥è¾“å‡ºåé€€å‡ºç¨‹åºå°±è¡Œäº†ï¼Œï¼Œæ²¡æœ‰è·³è¿‡</p>
<p>å¦‚æœæ‰¾åˆ°ä¸€ä¸ª1çš„åŒæ—¶ä»–çš„å­æ ‘ä¸­æœ‰ä¸€ä¸ª1ï¼Œï¼Œé‚£ä¹ˆè¿™ä¸ª1ä¸è¦ï¼Œï¼Œç»§ç»­æœï¼Œï¼Œï¼Œæœ€åå¦‚æœæœåˆ°çš„1è¶…è¿‡ä¸¤ä¸ªè¾“å‡ºå°±è¡Œäº†ï¼Œï¼Œæ²¡æœ‰çš„è¯å°±æ˜¯æ— è§£ï¼Œï¼Œï¼Œ<a href="https://codeforces.com/contest/767/submission/62419845">code</a></p>
<p><del>ï¼ˆå¾ˆç®€å•çš„ä¸€é“é¢˜ï¼Œï¼Œæ€è·¯å¾ˆæ—©å°±é€šäº†ï¼Œï¼Œå°±æ˜¯å®ç°çš„æ—¶å€™å› ä¸ºä¸€äº›ç»†èŠ‚ç–¯ç‹‚waï¼Œï¼Œemmmmm</del></p>
<h1 id=""><a href="#" class="headerlink" title=" "></a> </h1>]]></content>
      <categories>
        <category>Codeforces</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>åˆ·é¢˜</tag>
      </tags>
  </entry>
  <entry>
    <title>ACM-æ ‘å½¢dp</title>
    <url>/2019/07/19/ACM-%E6%A0%91%E5%BD%A2dp/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="Anniversary-party"><a href="#Anniversary-party" class="headerlink" title="Anniversary party"></a><a href="http://poj.org/problem?id=2342">Anniversary party</a></h1><span id="more"></span>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// #include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-comment">// #include &lt;set&gt;</span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;cmath&gt;</span><br><span class="hljs-comment">// #include &lt;queue&gt;</span><br><span class="hljs-comment">// #include &lt;stack&gt;</span><br><span class="hljs-comment">// #include &lt;ctime&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-keyword">int</span> n, a[maxn], dp[maxn][<span class="hljs-number">2</span>];<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt;<br>&#125;edge[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, head[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>    <span class="hljs-built_in">memset</span>(dp, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> dp);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].nxt = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> sta, <span class="hljs-keyword">int</span> fa)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(~dp[u][sta])<span class="hljs-keyword">return</span> dp[u][sta];<br>    dp[u][sta] = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>    &#123;<br>        <span class="hljs-keyword">int</span> v = edge[i].to;<br>        <span class="hljs-keyword">if</span>(v == fa)<span class="hljs-keyword">continue</span>;<br>        <span class="hljs-keyword">if</span>(sta)dp[u][sta] += dfs(v, <span class="hljs-number">0</span>, u);<br>        <span class="hljs-keyword">else</span> dp[u][sta] += max(dfs(v, <span class="hljs-number">0</span>, u), dfs(v, <span class="hljs-number">1</span>, u));<br>    &#125;<br>    <span class="hljs-keyword">if</span>(sta)dp[u][sta] += a[u];<br>    <span class="hljs-keyword">return</span> dp[u][sta];<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot; , &quot;r&quot;   , stdin); </span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    <span class="hljs-comment">// ios_base::sync_with_stdio(0);</span><br>    <span class="hljs-comment">// cin.tie(0);cout.tie(0);</span><br><br>    <span class="hljs-keyword">while</span>(~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n))<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a[i]);<br>        <span class="hljs-keyword">int</span> u, v;init();<br>        <span class="hljs-keyword">while</span>(<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;u, &amp;v) &amp;&amp; u + v)<br>            addedge(u, v), addedge(v, u);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, max(dfs(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>), dfs(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>)));<br>    &#125;<br>   <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;       <br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="Strategic-game"><a href="#Strategic-game" class="headerlink" title="Strategic game"></a><a href="http://poj.org/problem?id=1463">Strategic game</a></h1><h2 id="æ ‘å½¢dp"><a href="#æ ‘å½¢dp" class="headerlink" title="æ ‘å½¢dp"></a>æ ‘å½¢dp</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// #include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-comment">// #include &lt;set&gt;</span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;cmath&gt;</span><br><span class="hljs-comment">// #include &lt;queue&gt;</span><br><span class="hljs-comment">// #include &lt;stack&gt;</span><br><span class="hljs-comment">// #include &lt;ctime&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-keyword">int</span> n, dp[maxn][<span class="hljs-number">2</span>];<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt;<br>&#125;edge[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, head[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>    <span class="hljs-built_in">memset</span>(dp, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> dp);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].nxt = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> sta, <span class="hljs-keyword">int</span> fa)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(~dp[u][sta])<span class="hljs-keyword">return</span> dp[u][sta];<br>    dp[u][sta] = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>    &#123;<br>        <span class="hljs-keyword">int</span> v = edge[i].to;<br>        <span class="hljs-keyword">if</span>(v == fa)<span class="hljs-keyword">continue</span>;<br>        <span class="hljs-keyword">if</span>(sta) dp[u][sta] += min(dfs(v, <span class="hljs-number">1</span>, u), dfs(v, <span class="hljs-number">0</span>, u));<br>        <span class="hljs-keyword">else</span> dp[u][sta] += dfs(v, <span class="hljs-number">1</span>, u);<br>    &#125;<br>    <span class="hljs-keyword">if</span>(sta)++dp[u][sta];<br>    <span class="hljs-keyword">return</span> dp[u][sta];<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot; , &quot;r&quot;   , stdin); </span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    <span class="hljs-comment">// ios_base::sync_with_stdio(0);</span><br>    <span class="hljs-comment">// cin.tie(0);cout.tie(0);</span><br><br>    <span class="hljs-keyword">while</span>(~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n))<br>    &#123;<br>        init();<br>        <span class="hljs-keyword">int</span> u, v, num;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d:(%d) &quot;</span>, &amp;u, &amp;num);<br>            <span class="hljs-keyword">while</span>(num--)<br>            &#123;<br>                <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;v);<br>                addedge(u + <span class="hljs-number">1</span>, v + <span class="hljs-number">1</span>);<br>                addedge(v + <span class="hljs-number">1</span>, u + <span class="hljs-number">1</span>);<br>            &#125;<br>        &#125;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, min(dfs(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>), dfs(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>)));<br>    &#125;<br>   <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;       <br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="äºŒåˆ†å›¾æœ€å°ç‚¹è¦†ç›–"><a href="#äºŒåˆ†å›¾æœ€å°ç‚¹è¦†ç›–" class="headerlink" title="äºŒåˆ†å›¾æœ€å°ç‚¹è¦†ç›–"></a>äºŒåˆ†å›¾æœ€å°ç‚¹è¦†ç›–</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// #include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-comment">// #include &lt;set&gt;</span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;cmath&gt;</span><br><span class="hljs-comment">// #include &lt;queue&gt;</span><br><span class="hljs-comment">// #include &lt;stack&gt;</span><br><span class="hljs-comment">// #include &lt;ctime&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">2e3</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-keyword">int</span> n;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt;<br>&#125;edge[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, head[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].nxt = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-keyword">int</span> linker[maxn];<br><span class="hljs-keyword">bool</span> used[maxn];<br><span class="hljs-keyword">int</span> uN;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>    &#123;<br>        <span class="hljs-keyword">int</span> v = edge[i].to;<br>        <span class="hljs-keyword">if</span>(!used[v])<br>        &#123;<br>            used[v] = <span class="hljs-literal">true</span>;<br>            <span class="hljs-keyword">if</span>(linker[v] == <span class="hljs-number">-1</span> || dfs(linker[v]))<br>            &#123;<br>                linker[v] = u;<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">hungary</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(linker, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> linker);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> u = <span class="hljs-number">0</span>; u &lt; uN; ++u)<br>    &#123;<br>        <span class="hljs-built_in">memset</span>(used, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> used);<br>        <span class="hljs-keyword">if</span>(dfs(u))++res;<br>    &#125;<br>    <span class="hljs-keyword">return</span> res;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot; , &quot;r&quot;   , stdin); </span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    <span class="hljs-comment">// ios_base::sync_with_stdio(0);</span><br>    <span class="hljs-comment">// cin.tie(0);cout.tie(0);</span><br><br>    <span class="hljs-keyword">while</span>(~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n))<br>    &#123;<br>        uN = n;<br>        init();<br>        <span class="hljs-keyword">int</span> u, v, num;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d:(%d) &quot;</span>, &amp;u, &amp;num);<br>            <span class="hljs-keyword">while</span>(num--)<br>            &#123;<br>                <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;v);<br>                addedge(u, v);<br>                addedge(v, u);<br>            &#125;<br>        &#125;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, hungary() / <span class="hljs-number">2</span>);<br>    &#125;<br>   <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;       <br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM-æ ‘å½¢dp</category>
      </categories>
      <tags>
        <tag>åˆ·é¢˜</tag>
        <tag>dp</tag>
      </tags>
  </entry>
  <entry>
    <title>ACM-ç½‘ç»œæµ-è´¹ç”¨æµ</title>
    <url>/2019/08/03/ACM-%E7%BD%91%E7%BB%9C%E6%B5%81-%E8%B4%B9%E7%94%A8%E6%B5%81/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>è´¹ç”¨æµå°±æ˜¯ç½‘ç»œæµçš„ä¸€ä¸ªå˜å½¢ï¼Œï¼Œï¼Œå¹³å¸¸çš„ç½‘ç»œæµå°±æ˜¯ä¸€ä¸ªåªæœ‰æµé‡çš„ç½‘ç»œï¼Œï¼Œå¦‚æœé™åˆ¶æ¯ä¸€ä¸ªè¾¹çš„æµé‡æœ‰ä¸€ä¸ªå•ä½çš„è´¹ç”¨ï¼Œï¼Œè¦æ±‚ä¸€ä¸ªæœ€å¤§æµçš„åŒæ—¶ä¿è¯è´¹ç”¨çš„æœ€å°ï¼ˆå¤§ï¼‰å°±æ˜¯è´¹ç”¨æµçš„è§£æ³•ï¼Œï¼Œï¼Œé™¤äº†kaungbinæ¿å­ä¸Šçš„ä¸¤ä¸ªè´¹ç”¨æµçš„è§£æ³•ï¼Œï¼Œuestcåœ¨å¤šæ ¡çš„ä¸€é“é¢˜çš„æ ‡ç¨‹ä½¿ç”¨ dijkstra å®ç°çš„ï¼Œï¼Œè²Œä¼¼æ—¶æ•ˆæ€§ä¸é”™ï¼Œï¼Œè®°å½•ä¸€ä¸‹ï¼Œï¼Œ</p>
<span id="more"></span>
<h1 id="spfa"><a href="#spfa" class="headerlink" title="spfa"></a>spfa</h1><p>å·¨æ…¢ï¼Œï¼Œï¼Œï¼ˆä¹Ÿä¸ä¸€å®šï¼Œï¼Œï¼Œåæ­£ç½‘ç»œæµçš„é¢˜æ¿å­çš„å¤æ‚åº¦éƒ½æ˜¯ $O(ç„å­¦)$ ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt;<br>    ll cap, flow, cost;<br>&#125;edge[maxm &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, head[maxm &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, ll cap, ll cost)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v; edge[tot].cap = cap; edge[tot].cost = cost; edge[tot].flow = <span class="hljs-number">0</span>;<br>    edge[tot].nxt = head[u]; head[u] = tot++;<br>    edge[tot].to = u; edge[tot].cap = <span class="hljs-number">0</span>; edge[tot].cost = -cost; edge[tot].flow = <span class="hljs-number">0</span>;<br>    edge[tot].nxt = head[v]; head[v] = tot++;<br>&#125;<br>ll dis[maxn];<span class="hljs-keyword">int</span> pre[maxn];<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">spfa</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> t, <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">queue</span>&lt;<span class="hljs-keyword">int</span>&gt; q;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)<br>    &#123;<br>        dis[i] = linf;<br>        vis[i] = <span class="hljs-literal">false</span>;<br>        pre[i] = <span class="hljs-number">-1</span>;<br>    &#125;<br>    <span class="hljs-keyword">while</span>(!q.empty())q.pop();<br>    dis[s] = <span class="hljs-number">0</span>;<br>    vis[s] = <span class="hljs-literal">true</span>;<br>    q.push(s);<br>    <span class="hljs-keyword">while</span>(!q.empty())<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = q.front(); q.pop();<br>        vis[u] = <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = edge[i].to;<br>            <span class="hljs-keyword">if</span>(edge[i].cap &gt; edge[i].flow &amp;&amp; dis[u] + edge[i].cost &lt; dis[v])<br>            &#123;<br>                dis[v] = dis[u] + edge[i].cost;<br>                pre[v] = i;<br>                <span class="hljs-keyword">if</span>(!vis[v])<br>                &#123;<br>                    vis[v] = <span class="hljs-literal">true</span>;<br>                    q.push(v);<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(pre[t] == <span class="hljs-number">-1</span>)<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">MinCostMaxFlow</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> t, <span class="hljs-keyword">int</span> n, ll &amp;cost, ll &amp;flow)</span></span><br><span class="hljs-function"></span>&#123;<br>    cost = flow = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span>(spfa(s, t, n))<br>    &#123;<br>        ll min = linf;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = pre[t]; ~i; i = pre[edge[i ^ <span class="hljs-number">1</span>].to])<br>            <span class="hljs-keyword">if</span>(min &gt; edge[i].cap - edge[i].flow)<br>                min =  edge[i].cap - edge[i].flow;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = pre[t]; ~i; i = pre[edge[i ^ <span class="hljs-number">1</span>].to])<br>        &#123;<br>            edge[i].flow += min;<br>            edge[i ^ <span class="hljs-number">1</span>].flow -= min;<br>            cost += edge[i].cost * min;<br>        &#125;<br>        flow += min;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="zkw"><a href="#zkw" class="headerlink" title="zkw"></a>zkw</h1><p>è¿˜å¥½ï¼Œï¼Œæ¯”spfaå¿«å¤šäº†</p>
<p>å»ºå›¾çš„ç‚¹å‡ä¸€ï¼Œä»é›¶å¼€å§‹</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt;<br>    ll cap, flow, cost;<br>    Edge()&#123;&#125;<br>    Edge(<span class="hljs-keyword">int</span> _to, <span class="hljs-keyword">int</span> _nxt, ll _cap, ll _flow, ll _cost):to(_to), nxt(_nxt), cap(_cap), flow(_flow), cost(_cost)&#123;&#125;<br>&#125;edge[maxm];<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ZkwMinCostMaxFlow</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> tot, head[maxn];<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function">    </span>&#123;<br>        tot = <span class="hljs-number">0</span>;<br>        <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> c, <span class="hljs-keyword">int</span> w)</span></span><br><span class="hljs-function">    </span>&#123;<br>        edge[tot] = Edge(v, head[u], c, <span class="hljs-number">0</span>, w);<br>        head[u] = tot++;<br>        edge[tot] = Edge(u, head[v], <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, -w);<br>        head[v] = tot++;<br>    &#125;<br>    <span class="hljs-keyword">int</span> s, t; ll dis[maxn], cur[maxn];<br>    <span class="hljs-keyword">int</span> n; ll MaxFlow, MinCost;<br>    <span class="hljs-keyword">bool</span> vis[maxn];<br>    <span class="hljs-function">ll <span class="hljs-title">aug</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, ll flow)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">if</span>(u == t)<span class="hljs-keyword">return</span> flow;<br>        vis[u] = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = cur[u]; ~i; i = edge[i].nxt)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = edge[i].to;<br>            <span class="hljs-keyword">if</span>(edge[i].cap &gt; edge[i].flow &amp;&amp; !vis[v] &amp;&amp; dis[u] == dis[v] + edge[i].cost)<br>            &#123;<br>                ll tmp = aug(v, min(flow, edge[i].cap - edge[i].flow));<br>                edge[i].flow += tmp;<br>                edge[i ^ <span class="hljs-number">1</span>].flow -= tmp;<br>                cur[u] = i;<br>                <span class="hljs-keyword">if</span>(tmp)<span class="hljs-keyword">return</span> tmp;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">ModifyLabel</span><span class="hljs-params">()</span></span><br><span class="hljs-function">    </span>&#123;<br>        ll d = linf;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> u = <span class="hljs-number">0</span>; u &lt; n; ++u)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(vis[u])<br>            &#123;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>                &#123;<br>                    <span class="hljs-keyword">int</span> v = edge[i].to;<br>                    <span class="hljs-keyword">if</span>(edge[i].cap &gt; edge[i].flow &amp;&amp; !vis[v])<br>                    &#123;<br>                        d = min(d, dis[v] + edge[i].cost - dis[u]);<br>                    &#125;<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(d == linf)<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(vis[i])<br>            &#123;<br>                vis[i] = <span class="hljs-literal">false</span>;<br>                dis[i] += d;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">MinCostMaxFlow</span><span class="hljs-params">(<span class="hljs-keyword">int</span> _s, <span class="hljs-keyword">int</span> <span class="hljs-keyword">_t</span>, <span class="hljs-keyword">int</span> _n, ll &amp;flow, ll &amp;cost)</span></span><br><span class="hljs-function">    </span>&#123;<br>        s = _s; t = <span class="hljs-keyword">_t</span>; n = _n;<br>        MinCost = MaxFlow = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)dis[i] = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">while</span>(<span class="hljs-literal">true</span>)<br>        &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i)cur[i] = head[i];<br>            <span class="hljs-keyword">while</span>(<span class="hljs-literal">true</span>)<br>            &#123;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i)vis[i] = <span class="hljs-literal">false</span>;<br>                ll tmp = aug(s, linf);<br>                <span class="hljs-keyword">if</span>(tmp == <span class="hljs-number">0</span>)<span class="hljs-keyword">break</span>;<br>                MaxFlow += tmp;<br>                MinCost += tmp * dis[s];<br>            &#125;<br>            <span class="hljs-keyword">if</span>(!ModifyLabel())<span class="hljs-keyword">break</span>;<br>        &#125;<br>        flow = MaxFlow; cost = MinCost;<br>    &#125;  <br>&#125;;<br></code></pre></td></tr></table></figure>
<h1 id="dijkstra"><a href="#dijkstra" class="headerlink" title="dijkstra"></a>dijkstra</h1><p>æ•ˆç‡è¾ƒå¥½ï¼Œï¼Œä¸ä¸€å®š</p>
<p>è¿˜æœ‰æœ€å¤§è´¹ç”¨æœ€å°æµçš„æ±‚æ³•</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">MinCostMaxFlow</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> n, h[maxn], dis[maxn], prev[maxn], pree[maxn];<br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">    &#123;</span><br>        <span class="hljs-keyword">int</span> to, nxt, cap, cost;<br>        edge()&#123;&#125;<br>        edge(<span class="hljs-keyword">int</span> _to, <span class="hljs-keyword">int</span> _nxt, <span class="hljs-keyword">int</span> _cap, <span class="hljs-keyword">int</span> _cost):to(_to), nxt(_nxt), cap(_cap), cost(_cost)&#123;&#125;<br>    &#125;;<br>    <span class="hljs-built_in">vector</span>&lt;edge&gt; g[maxn];<br>    MinCostMaxFlow(<span class="hljs-keyword">int</span> _n)<br>    &#123;<br>        n = _n;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)g[i].clear();<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> w, <span class="hljs-keyword">int</span> c)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; u &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; v &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; w &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; c &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        g[u].push_back(edge(v, g[v].size(), w, c));<br>        g[v].push_back(edge(u, g[u].size() - <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, -c));<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">mincostmaxflow</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> t, ll f, ll &amp;flow, ll &amp;cost)</span></span><br><span class="hljs-function">    </span>&#123;<br>        flow = cost = <span class="hljs-number">0</span>;fill(h, h + n + <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">while</span>(f)<br>        &#123;<br>            <span class="hljs-built_in">priority_queue</span>&lt;<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&gt;, greater&lt;<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&gt; &gt; q;<br>            fill(dis, dis + n + <span class="hljs-number">1</span>, inf);<br>            dis[s] = <span class="hljs-number">0</span>;<br>            q.push(<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;(<span class="hljs-number">0</span>, s));<br>            <span class="hljs-keyword">while</span>(!q.empty())<br>            &#123;<br>                <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; u = q.top(); q.pop();<br>                <span class="hljs-keyword">int</span> v = u.second;<br>                <span class="hljs-keyword">if</span>(dis[v] &lt; u.first)<span class="hljs-keyword">continue</span>;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; g[v].size(); ++i)<br>                &#123;<br>                    edge &amp;e = g[v][i];<br>                    <span class="hljs-keyword">if</span>(e.cap &gt; <span class="hljs-number">0</span> &amp;&amp; dis[e.to] &gt; dis[v] + e.cost + h[v] - h[e.to])<br>                    &#123;<br>                        dis[e.to] = dis[v] + e.cost + h[v] - h[e.to];<br>                        prev[e.to] = v;<br>                        pree[e.to] = i;<br>                        q.push(<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;(dis[e.to], e.to));<br>                    &#125;<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">if</span>(dis[t] == inf)<span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)h[i] += dis[i];<br>            <span class="hljs-keyword">int</span> d = f;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> v = t; v != s; v = prev[v])d = min(d, g[prev[v]][pree[v]].cap);<br>            f -= d; flow += d; cost += d * h[t];<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> v = t; v != s; v = prev[v])<br>            &#123;<br>                edge &amp;e = g[prev[v]][pree[v]];<br>                e.cap -= d;<br>                g[v][e.nxt].cap += d;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">maxcostmaxflow</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> t, <span class="hljs-keyword">int</span> f, <span class="hljs-keyword">int</span> &amp;flow, <span class="hljs-keyword">int</span> &amp;cost)</span></span><br><span class="hljs-function">    </span>&#123;<br>        flow = cost = <span class="hljs-number">0</span>;<br>        fill(h, h + n + <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">while</span>(f)<br>        &#123;<br>            <span class="hljs-built_in">priority_queue</span>&lt;<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&gt;, greater&lt;<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&gt; &gt;q;<br>            fill(dis, dis + n + <span class="hljs-number">1</span>, -inf);<br>            dis[s] = <span class="hljs-number">0</span>;<br>            q.push(<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;(<span class="hljs-number">0</span>, s));<br>            <span class="hljs-keyword">while</span>(!q.empty())<br>            &#123;<br>                <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; u = q.top(); q.pop();<br>                <span class="hljs-keyword">int</span> v = u.second;<br>                <span class="hljs-keyword">if</span>(dis[v] &gt; u.first)<span class="hljs-keyword">continue</span>;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; g[v].size(); ++i)<br>                &#123;<br>                    edge &amp;e = g[v][i];<br>                    <span class="hljs-keyword">if</span>(e.cap &gt; <span class="hljs-number">0</span> &amp;&amp; dis[e.to] &lt; dis[v] + e.cost + h[v] - h[e.to])<br>                    &#123;<br>                        dis[e.to] = dis[v] + e.cost + h[v] - h[e.to];<br>                        prev[e.to] = v;<br>                        pree[e.to] = i;<br>                        q.push(<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;(dis[e.to], e.to));<br>                    &#125;<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">if</span>(dis[t] == -inf)<span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)h[i] += dis[i];<br>            <span class="hljs-keyword">int</span> d = f;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> v = t; v != s; v = prev[v])d = min(d, g[prev[v]][pree[v]].cap);<br>            f -= d; flow += d; cost += d * h[t];<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> v = t; v != s; v = prev[v])<br>            &#123;<br>                edge &amp;e = g[prev[v]][pree[v]];<br>                e.cap -= d;<br>                g[v][e.nxt].cap += d;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>
<h1 id="ä¾‹é¢˜"><a href="#ä¾‹é¢˜" class="headerlink" title="ä¾‹é¢˜"></a>ä¾‹é¢˜</h1><p>è¿™é“é¢˜æ˜¯æ­ç”µå¤šæ ¡çš„ä¸€é“ç½‘ç»œæµç­¾åˆ°é¢˜ï¼Œï¼Œæ²¡æœ‰å†™è¿‡ç½‘ç»œæµ24é¢˜å’Œè´¹ç”¨æµï¼Œï¼Œï¼Œå½“æ—¶æ²¡æœ‰çœ‹å‡ºæ¥ï¼Œï¼Œå³ä½¿çŸ¥é“æ˜¯è´¹ç”¨æµä¹Ÿä¸çŸ¥é“æ€ä¹ˆæï¼Œï¼Œï¼Œ</p>
<p>é¢˜æ„æ˜¯ç»™ä½ ä¸€ä¸ªæ•°ç»„ï¼Œï¼Œç„¶åå¯ä»¥æœ€å¤šé€‰å‡ºkä¸ªä¸Šå‡å­åºåˆ—ï¼Œï¼Œæ¯ä¸ªæ•°åªèƒ½é€‰æ‹©ä¸€æ¬¡ï¼Œï¼Œç„¶åé—®ä½ æœ€å¤§çš„é€‰æ‹©çš„å’Œæ˜¯å¤šå°‘ï¼Œï¼Œï¼Œ</p>
<p>è¿™é¢˜çš„æ¨¡å‹æ¥è‡ªç½‘ç»œæµä¸­çš„ä¸€ä¸ª <strong>æœ€é•¿ä¸Šå‡å­åºåˆ—</strong> çš„æ¨¡å‹ï¼Œï¼Œè¿™ä¸ªæ¨¡å‹å¯ä»¥è§£å†³ä¸€ä¸ªæ•°ç»„ä¸­é•¿åº¦ä¸ºæœ€é•¿çš„lisçš„ä¸ªæ•°ï¼Œï¼Œå½“ä¸é™åˆ¶æŸäº›æ•°çš„é€‰æ‹©æ¬¡æ•°ä¹Ÿå¯ä»¥å¾—åˆ°å…¶ç­”æ¡ˆï¼Œï¼Œ</p>
<p>è¿™é¢˜å€Ÿç”¨äº†è¿™ä¸ªå»ºå›¾çš„æ€æƒ³ï¼Œï¼Œé¦–å…ˆè¦ä¿è¯æ¯ä¸ªæ•°åªç”¨ä¸€æ¬¡ï¼Œï¼Œæ‰€ä»¥è‚¯å®šè¦æ‹†ç‚¹ï¼Œï¼Œï¼Œå®¹é‡ä¸º1ï¼Œå¯¹äºä¸¤ä¸ªç‚¹ $i, j$ æ»¡è¶³ $a[i] &lt;= a[j] \ \&amp;\&amp; \ i &lt; j$ çš„ä¸¤ç‚¹å¯ä»¥å»ºä¸€æ¡è¾¹ï¼Œï¼Œå®¹é‡ä¸º1ï¼Œè¿™æ ·ä¸€æ¡è·¯å¾„å°±æ˜¯ä¸€ä¸ªä¸Šå‡å­åºåˆ—ï¼Œï¼Œï¼Œï¼Œä½†æ˜¯å› ä¸ºæˆ‘ä»¬è¦é€‰æ‹©å°½å¯èƒ½å¤§çš„å’Œï¼Œï¼Œæ‰€ä»¥å¯ä»¥çœ‹æˆé€‰æ‹©è¿™ä¸ªç‚¹çš„ä¸€ä¸ªè´¹ç”¨ï¼Œï¼Œè¿™æ ·é€‰æ‹©ä¸€äº›ç‚¹çš„æƒå€¼å’Œå°±æ˜¯è´¹ç”¨å’Œï¼Œï¼Œï¼Œå› ä¸ºè¦å–æœ€å¤§çš„æƒå€¼å’Œï¼Œï¼Œï¼Œå¯ä»¥åç€æƒ³ï¼šå–è´¹ç”¨çš„ç›¸åæ•°ï¼Œï¼Œä½¿è´¹ç”¨æœ€å°å³å¯ï¼Œï¼Œï¼Œè¿™æ ·å°±å¯ä»¥ç”¨è´¹ç”¨æµè§£å†³ï¼Œï¼Œ</p>
<p>æœ€åï¼Œé¢˜ç›®è¦ä¿è¯æœ€å¤šå–kä¸ªï¼Œï¼Œåªè¦ä¿è¯æœ€å¤§æµæ˜¯kå³å¯ï¼Œï¼Œï¼Œä¹Ÿå°±æ˜¯æºç‚¹æ‹†ç‚¹ï¼Œï¼Œå®¹é‡ä¸ºkï¼Œï¼Œï¼Œæ±‡ç‚¹ä¹Ÿè¿™æ ·å¤„ç†ä¸€ä¸‹å°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e6</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">MinCostMaxFlow</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> n, h[maxn], dis[maxn], prev[maxn], pree[maxn];<br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">    &#123;</span><br>        <span class="hljs-keyword">int</span> to, nxt, cap, cost;<br>        edge()&#123;&#125;<br>        edge(<span class="hljs-keyword">int</span> _to, <span class="hljs-keyword">int</span> _nxt, <span class="hljs-keyword">int</span> _cap, <span class="hljs-keyword">int</span> _cost):to(_to), nxt(_nxt), cap(_cap), cost(_cost)&#123;&#125;<br>    &#125;;<br>    <span class="hljs-built_in">vector</span>&lt;edge&gt; g[maxn];<br>    MinCostMaxFlow(<span class="hljs-keyword">int</span> _n)<br>    &#123;<br>        n = _n;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)g[i].clear();<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> w, <span class="hljs-keyword">int</span> c)</span></span><br><span class="hljs-function">    </span>&#123;<br>        g[u].push_back(edge(v, g[v].size(), w, c));<br>        g[v].push_back(edge(u, g[u].size() - <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, -c));<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">mcmf</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> t, ll f, ll &amp;flow, ll &amp;cost)</span></span><br><span class="hljs-function">    </span>&#123;<br>        flow = cost = <span class="hljs-number">0</span>;fill(h, h + n + <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">while</span>(f)<br>        &#123;<br>            <span class="hljs-built_in">priority_queue</span>&lt;<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&gt;, greater&lt;<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&gt; &gt; q;<br>            fill(dis, dis + n + <span class="hljs-number">1</span>, inf);<br>            dis[s] = <span class="hljs-number">0</span>;<br>            q.push(<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;(<span class="hljs-number">0</span>, s));<br>            <span class="hljs-keyword">while</span>(!q.empty())<br>            &#123;<br>                <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; u = q.top(); q.pop();<br>                <span class="hljs-keyword">int</span> v = u.second;<br>                <span class="hljs-keyword">if</span>(dis[v] &lt; u.first)<span class="hljs-keyword">continue</span>;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; g[v].size(); ++i)<br>                &#123;<br>                    edge &amp;e = g[v][i];<br>                    <span class="hljs-keyword">if</span>(e.cap &gt; <span class="hljs-number">0</span> &amp;&amp; dis[e.to] &gt; dis[v] + e.cost + h[v] - h[e.to])<br>                    &#123;<br>                        dis[e.to] = dis[v] + e.cost + h[v] - h[e.to];<br>                        prev[e.to] = v;<br>                        pree[e.to] = i;<br>                        q.push(<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;(dis[e.to], e.to));<br>                    &#125;<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">if</span>(dis[t] == inf)<span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)h[i] += dis[i];<br>            <span class="hljs-keyword">int</span> d = f;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> v = t; v != s; v = prev[v])d = min(d, g[prev[v]][pree[v]].cap);<br>            f -= d; flow += d; cost += d * h[t];<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> v = t; v != s; v = prev[v])<br>            &#123;<br>                edge &amp;e = g[prev[v]][pree[v]];<br>                e.cap -= d;<br>                g[v][e.nxt].cap += d;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;;<br><span class="hljs-keyword">int</span> n, a[maxn], k, t;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br><br>    <span class="hljs-built_in">cin</span> &gt;&gt; t;<br>    <span class="hljs-keyword">while</span>(t--)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; k;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; a[i];<br>        <span class="hljs-comment">// MinCostMaxFlow mcmf((n + 1) &lt;&lt; 1);</span><br>        <span class="hljs-comment">// int s = 0, ss = (n &lt;&lt; 1) + 3;</span><br>        <span class="hljs-keyword">int</span> s = <span class="hljs-number">0</span>, ss = (n + <span class="hljs-number">1</span>) &lt;&lt; <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">int</span> t = (n + <span class="hljs-number">1</span>) &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>;<br>        <span class="hljs-function">MinCostMaxFlow <span class="hljs-title">mcmf</span><span class="hljs-params">(t + <span class="hljs-number">1</span>)</span></span>;<br>        mcmf.addedge(s, ss, k, <span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)mcmf.addedge(ss, i, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = i + <span class="hljs-number">1</span>; j &lt;= n; ++j)<br>                <span class="hljs-keyword">if</span>(a[i] &lt;= a[j])<br>                    mcmf.addedge(i + n, j, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)mcmf.addedge(i, i + n, <span class="hljs-number">1</span>, -a[i]);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)mcmf.addedge(i + n, t, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<br>        mcmf.addedge(t, t + <span class="hljs-number">1</span>, k, <span class="hljs-number">0</span>);<br>        ll flow, cost;<br>        flow = cost = <span class="hljs-number">0</span>;<br>        mcmf.mcmf(s, t + <span class="hljs-number">1</span>, inf, flow, cost);<br>        <span class="hljs-built_in">cout</span> &lt;&lt; cost * <span class="hljs-number">-1</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br>    <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
  </entry>
  <entry>
    <title>Codeforces-1077C</title>
    <url>/2018/11/24/Codeforces-1077C/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h1><p><a href="https://codeforces.com/problemset/problem/1077/C"><strong>é¢˜ç›®é“¾æ¥</strong></a></p>
<p>ç»™ä½ ä¸€ä¸ªæ•°ç»„ï¼Œå¦‚æœå­˜åœ¨ä¸€ä¸ªæ•°ç­‰äºå‰©ä½™çš„æ•°çš„å’Œçš„è¯ï¼Œï¼Œï¼Œå°±ç§°è¿™æ ·arrayæ˜¯good arrayï¼Œï¼Œ</p>
<p>ç„¶åé¢˜ç›®é—®ä½ å¯¹äºç»™å®šçš„æ•°ç»„å»æ‰ä¸€ä¸ªæ•°ä¹‹åæ—¶å€™æ˜¯ä¸€ä¸ªgood arrayï¼Œï¼Œï¼Œè¾“å‡ºæ‰€æœ‰çš„å»æ‰çš„æ•°çš„ä½ç½®pos</p>
<span id="more"></span>
<h1 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h1><p>ä¸€å¼€å§‹æˆ‘æƒ³è¿™ç›´æ¥æš´åŠ›å»æ±‚ï¼Œï¼Œï¼Œå¤–å¾ªç¯éå†æ•´ä¸ªæ•°ç»„æšä¸¾å¯èƒ½æ˜¯å»æ‰çš„æ•°ï¼Œï¼Œï¼Œå†…å¾ªç¯éå†å»æ‰é‚£ä¸ªæ•°ä¹‹åçš„æ•°åˆ—å¯»æ‰¾æ—¶å€™å­˜åœ¨ä¸€ä¸ªä½¿å¾—å‰©ä½™æ•°çš„å’Œç­‰äºå†…å¾ªç¯éå†çš„é‚£ä¸ªæ•°ï¼Œï¼Œï¼Œ</p>
<p>å¤æ‚åº¦åº”è¯¥æ˜¯$O(n^2)$ï¼Œï¼Œï¼Œæœä¸å…¶ç„¶çš„tleäº†ï¼Œï¼Œï¼Œï¼Œ</p>
<p>ç„¶åå»çœ‹æ ‡ç¨‹é¢˜è§£ï¼Œï¼Œï¼Œçœ‹ä¸æ‡‚QAQï¼Œï¼Œï¼Œ</p>
<p>çœ‹äº†åˆ«äººçš„æ€è·¯åæ‰å¼„å‡ºæ¥ï¼Œï¼Œï¼Œ</p>
<p>å¯¹äºè¿™æ ·ä¸€ä¸ªgood arrayï¼Œï¼Œï¼Œæ•°$a_i = sum - a_i$ï¼Œï¼Œé‚£ä¹ˆ$a_i$ä¸€å®šæ˜¯è¿™ä¸ªæ•°ç»„çš„æœ€å¤§å€¼ï¼Œï¼Œï¼Œ</p>
<p>æ‰€ä»¥å…ˆå¯ä»¥å¯¹æ•´ä¸ªæ•°ç»„æ’åºä¸€ä¸‹ï¼Œï¼Œï¼Œç„¶åçœ‹æœ€å¤§$max$å€¼æ˜¯å¦ç­‰äº$sum - max$ï¼Œï¼Œï¼Œ</p>
<p>æ³¨æ„å¦‚æœè¦æ˜¯å»æ‰ç¬¬ä¸€ä¸ªæ•°ï¼Œï¼Œæœ€å¤§å€¼å°±ä¸ºç¬¬äºŒå¤§çš„æ•°äº†ï¼Œï¼Œï¼Œï¼Œ</p>
<h1 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h1><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">2e5</span> + <span class="hljs-number">10</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">&#123;</span><br>    ll num;<br>    <span class="hljs-keyword">int</span> pos;<br>    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span> &lt; (<span class="hljs-keyword">const</span> node &amp;r) <span class="hljs-keyword">const</span><br>    &#123;<br>        <span class="hljs-keyword">return</span> r.num &lt; num;<br>    &#125;<br>&#125;node[maxn];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    <span class="hljs-keyword">int</span> n;<span class="hljs-built_in">cin</span> &gt;&gt; n;<br>    ll sum = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; node[i].num;<br>        node[i].pos = i;<br>        sum += node[i].num;<br>    &#125;<br><br>    sort(node , node + n);<br><br>    <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; ans;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i)<br>    &#123;<br>        <span class="hljs-keyword">int</span> max = (i == <span class="hljs-number">0</span>) ? node[<span class="hljs-number">1</span>].num : node[<span class="hljs-number">0</span>].num;<br>        <span class="hljs-keyword">if</span>(sum - node[i].num - max == max)<br>            ans.push_back(node[i].pos);<br>    &#125;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; ans.size() &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;::iterator it = ans.begin(); it != ans.end(); ++it)<br>        <span class="hljs-built_in">cout</span> &lt;&lt; *it + <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<p>(end)</p>
]]></content>
      <categories>
        <category>Codeforces</category>
      </categories>
      <tags>
        <tag>åˆ·é¢˜</tag>
        <tag>acm</tag>
      </tags>
  </entry>
  <entry>
    <title>ACM-é¢˜é›†</title>
    <url>/2019/03/26/ACM-%E9%A2%98%E9%9B%86/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>æŒ‰ç”¨åˆ°çš„ç®—æ³•åˆ†ç±»ä¿å­˜ä¸€ä¸‹è‡ªå·±åšçš„é¢˜</p>
<span id="more"></span>
<h1 id="æœç´¢"><a href="#æœç´¢" class="headerlink" title="æœç´¢"></a>æœç´¢</h1><p><a href="https://vjudge.net/problem/HihoCoder-1828">Saving Tang Monk II</a> bfs+ä¸‰ç»´vis+ä¼˜å…ˆé˜Ÿåˆ—</p>
<h1 id="å›¾è®º"><a href="#å›¾è®º" class="headerlink" title="å›¾è®º"></a>å›¾è®º</h1><h2 id="æ‹“æ‰‘æ’åº"><a href="#æ‹“æ‰‘æ’åº" class="headerlink" title="æ‹“æ‰‘æ’åº"></a>æ‹“æ‰‘æ’åº</h2><p><a href="https://hihocoder.com/problemset/problem/1870">HihoCoder-1870</a> äºŒåˆ†å»ºå›¾åˆ¤æ–­æ˜¯å¦æœ‰ç¯</p>
<h2 id="2-sat"><a href="#2-sat" class="headerlink" title="2-sat"></a>2-sat</h2><p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1814">hdu-1814</a>: 2satæ¿å­é¢˜</p>
<p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=3062">hdu-3062</a>: ä¹Ÿç®—æ˜¯æ¿å­é¢˜å§</p>
<p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1824">Letâ€™s go home</a>: æŒ‰é¢˜æ„å»ºå›¾å°±è¡Œäº†ï¼Œå•¥é™åˆ¶æ¡ä»¶å»ºå•¥è¾¹ï¼Œï¼Œä¸è¦å¤šä½™å°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
<p><a href="https://cn.vjudge.net/problem/UVALive-3211">UVALive-3211</a>: äºŒåˆ†æšä¸¾é™åˆ¶æ¡ä»¶å»ºå›¾è·‘2satæ±‚æœ€å€¼</p>
<p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=3622">HDU-3622-Bomb Game</a>: ä¹Ÿæ˜¯äºŒåˆ†æšä¸¾+å»ºå›¾æ±‚æœ€å€¼çš„é—®é¢˜</p>
<p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=4115">HDU-4115</a>: ä¸æ˜¯å•çº¯çš„å…¨ä¸ºçŸ›ç›¾é¡¹çš„2satï¼Œå…¶ä¸­è¿˜æœ‰ä¸€äº›å¿…é€‰é¡¹ï¼Œä¾‹å¦‚é€‰aå°±å¿…é¡»é€‰bçš„æƒ…å†µï¼ˆå¯ä»¥è½¬åŒ–æˆçŸ›ç›¾é¡¹åšï¼Œä¹Ÿå¯ä»¥ç›´æ¥åˆ©ç”¨è¿™ä¸ªæ¡ä»¶å»ºå›¾ï¼ˆéº»çƒ¦ä¸€ç‚¹ï¼‰ï¼‰</p>
<p><a href="http://poj.org/problem?id=3678">poj-3678-Katu Puzzle</a>: åŠ å¿…é€‰è¾¹å»ºå›¾è·‘2satåˆ¤æ–­æ˜¯å¦æœ‰è§£ï¼ˆè¿™é¢˜å¾ˆå¥½ï¼‰</p>
<p><a href="https://ac.nowcoder.com/acm/contest/327/F">å¤„å¥³åº§ä¸å®è—</a>: 2satåˆ¤æ–­æ˜¯å¦æœ‰è§£ï¼Œå»ºå›¾çš„æ€æƒ³å¾ˆä¸é”™ï¼Œæ²¡æœ‰åƒå‰é¢é‚£å‡ é“é¢˜é‚£ä¹ˆç›´ç™½çš„å‘Šè¯‰ä½ é™åˆ¶æ¡ä»¶</p>
<p><a href="https://codeforces.com/contest/776/problem/D">D. The Door Problem</a>ï¼š å’Œå®è—é‚£é¢˜ä¸€æ ·ï¼Œï¼Œ</p>
<h2 id="äºŒåˆ†å›¾"><a href="#äºŒåˆ†å›¾" class="headerlink" title="äºŒåˆ†å›¾"></a>äºŒåˆ†å›¾</h2><p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=2063">hdu-2063è¿‡å±±è½¦</a>: äºŒåˆ†å›¾ç®€å•çš„æ¨¡æ¿é¢˜</p>
]]></content>
      <categories>
        <category>ACM-æ•´ç†</category>
      </categories>
      <tags>
        <tag>acm</tag>
        <tag>ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>Codeforces-1084C</title>
    <url>/2018/12/13/Codeforces-1084C/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p>å¥½ä¹…æ²¡å†™åšå®¢äº†ï¼Œï¼Œï¼Œæœ€è¿‘çš„äº‹å¤ªå¤šäº†ï¼Œï¼Œå‡ ä¹æ²¡æœ‰ä¸“é—¨çœ‹ä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼Œï¼Œï¼Œä¸€ç›´åœ¨åšå„ç§çš„ç®€å•é¢˜QAQã€‚ã€‚ã€‚</p>
<span id="more"></span>
<h1 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h1><p><a href="https://codeforces.com/contest/1084/problem/C">è¿™é“é¢˜å¤§æ¦‚çš„é¢˜æ„å°±æ˜¯</a>ç»™ä½ ä¸€ä¸ªä¸²ï¼Œï¼Œï¼Œç„¶åæ‰¾å‡ºæ‰€æœ‰å¼€å¤´ç»“å°¾éƒ½æ˜¯açš„å¹¶ä¸”ä¸­é—´æœ‰bçš„å­ä¸²çš„ä¸ªæ•°ï¼Œï¼Œï¼Œå•ä¸€çš„aä¹Ÿç®—ï¼Œï¼Œï¼Œ</p>
<p>ä¸€å¼€å§‹çœ‹äº†å¥½å‡ ééƒ½æ²¡çœ‹æ‡‚é¢˜æ„ï¼Œï¼Œï¼Œä¸çŸ¥é“åœ¨æ±‚å•¥ï¼Œï¼Œï¼Œ</p>
<p><a href="https://www.cnblogs.com/wa007/p/10103272.html">ç„¶åçœ‹äº†ä¸€ä¸ªäººçš„é¢˜è§£</a>ï¼Œï¼Œç„¶åæ²¡çœ‹æ‡‚QAQ,,,,,</p>
<p>çœ‹äº†å®˜æ–¹é¢˜è§£ä¸‹çš„ä¸€ä¸ªè¯„è®ºçœ‹æ‡‚äº†ï¼Œï¼Œï¼Œï¼Œï¼Œemmmm</p>
<blockquote>
<p>It doesnâ€™t depend at all if there exists any letter other than a or b in the given string. You can for sure ignore those letters, so the editorial says to erase them. Now, what you have is a string consisting only of a and bâ€™s. Also two consecutive bâ€™s can be merged as one. So your final string will look something like (aâ€¦a)b(aâ€¦a)b(aâ€¦)â€¦</p>
<p>You can now consider this problem as sum of all possible product of subsets of a given set, where each element in the set is the number of aâ€™s delimited by b.</p>
<p>For example: In the string â€œaaabaabaaabâ€, set formed will be {3,2,3,0} (0 can be ignored). Now if you have a set {a1,a2,â€¦,aN}, then sum of all possible products of this set is equal to (1+a1)<em>(1+a2)</em>â€¦*(1+aN)-1.</p>
<p>Proof:<br>Write the required answer as follows:<br>S = Sum of products of subset with (size=1)+(size=2)+â€¦(size=N)<br>$S = (a<em>1+a_2+â€¦a_N)+(a_1<em>a_2+a_1</em>a_3â€¦â€¦+a</em>{N-1}<em>a_N)+â€¦+(a_1</em>a_2â€¦..a_N)$<br>After factorization,<br>S = (1+a1)(1+a2)â€¦(1+aN)-1</p>
</blockquote>
<p>å¤§è‡´æ„æ€å°±æ˜¯å¤„ç†æ‰€ç»™çš„å­—ç¬¦ä¸²ï¼Œï¼Œï¼Œå°±å˜æˆäº†ä¸€å †aä¸€ä¸ªbä¸€å †aä¸€ä¸ªbâ€¦.è¿™æ ·çš„ï¼Œï¼Œï¼Œ<br>ä¹Ÿå°±æ˜¯ä¸€å †açš„é›†åˆ<br>é¢˜ç›®æ‰€è¦çš„å°±æ˜¯è°ƒä¸¤ä¸ªä¸ªaçš„é›†åˆé‡Œè°ƒä¸€ä¸ªaä½œä¸ºå­ä¸²çš„é¦–å°¾ï¼Œï¼Œï¼Œè¿™æ ·çš„å°±æ˜¯æ‰€è¦çš„ä¸²ï¼Œï¼Œï¼Œ<br>äºæ˜¯æ€»å…±çš„ä¸ªæ•°å°±æ˜¯$a<em>1<em>a_2</em>a_3â€¦..a</em>{n-1}*a_{n}$,,,å¯¹äº†æ¯ä¸ªé›†åˆè¿˜è¦åŠ ä¸€ï¼Œï¼Œè¡¨ç¤ºè¿™ä¸ªé›†åˆé€‰ä¸€ä¸ªæˆ–è€…éƒ½ä¸é€‰ï¼Œï¼Œï¼Œæœ€åçš„ç­”æ¡ˆå†å‡ä¸€å°±è¡Œäº†ï¼ˆå…¨ä¸é€‰çš„æƒ…å†µä¸ç¬¦åˆé¢˜æ„ï¼‰ï¼Œï¼Œï¼Œ</p>
<p>ä»–ä¸Šé¢é‚£æ®µè¯çš„æ€è·¯æ˜¯åœ¨è®¡ç®—æ‰€æœ‰çš„å­å·çš„æƒ…å†µæ—¶ï¼Œï¼Œé•¿åº¦ä¸º1+é•¿åº¦ä¸º2+ã€‚ã€‚ã€‚é•¿åº¦ä¸ºmã€‚ã€‚ã€‚<br>è¿™æ ·çš„è¯ $sum = (a<em>1 + a_2+â€¦.+a</em>{n-1} + a<em>n) + (a_1 <em> a_2 + a_1 </em> a_3 + â€¦+ a_1 <em> a_m + a_2 </em> a_3 + â€¦â€¦+ a</em>{n-1} <em> a_n) + (a_1 </em> a_2 <em> a_3 + â€¦.) + â€¦$<br>ç„¶åè¿™ä¸ªæ±‚å’Œå¯ä»¥è½¬åŒ–æˆ$sum = (1 + a_1) </em> (a_2 + 1) <em> (a_3 + 1) + (a_4 + 1) </em> â€¦. * (a_n + 1) - 1$</p>
<blockquote>
<p>å› ä¸ºï¼š</p>
<p>$a + b + ab = (a + 1) * (b + 1) - 1$</p>
<p>$a + b + c + ab + ac + bc + abc = (a + 1) <em> (b + 1) </em> (c + 1) - 1$</p>
</blockquote>
<h1 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h1><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br>ll a[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.txt&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    <span class="hljs-keyword">int</span> n = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">string</span> s;<span class="hljs-built_in">cin</span> &gt;&gt; s;<br>    <span class="hljs-keyword">int</span> a[maxn];<br>    <span class="hljs-keyword">int</span> tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> len = s.length();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; len; ++i)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(s[i] == <span class="hljs-string">&#x27;a&#x27;</span>)<br>        &#123;<br>            <span class="hljs-keyword">int</span> cnt = <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = i; j &lt; len; ++j)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(s[j] == <span class="hljs-string">&#x27;a&#x27;</span>)<br>                    ++cnt;<br>                <span class="hljs-keyword">if</span>(s[j] == <span class="hljs-string">&#x27;b&#x27;</span> || j == len - <span class="hljs-number">1</span>)<br>                &#123;<br>                    a[tot++] = cnt + <span class="hljs-number">1</span>;<br>                    i = j;<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br><br>            &#125;<br>        &#125;<br>    &#125;<br>    ll ans = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; tot; ++i)<br>        ans = (ans * a[i]) % mod;<br>    --ans;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<p>å¤ªæ°´äº†ï¼Œï¼Œï¼Œï¼ŒQAQ</p>
]]></content>
      <categories>
        <category>Codeforces</category>
      </categories>
      <tags>
        <tag>åˆ·é¢˜</tag>
        <tag>acm</tag>
      </tags>
  </entry>
  <entry>
    <title>Codeforces-542div2</title>
    <url>/2019/03/03/Codeforces-542div2/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>codeforces-1130A~G</p>
<p>å’Œé˜Ÿå‹åšäº†ä¸€å¥—é¢˜ï¼Œï¼Œ</p>
<span id="more"></span>
<h1 id="A-Be-Positive"><a href="#A-Be-Positive" class="headerlink" title="A. Be Positive"></a>A. Be Positive</h1><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>é¢˜æ„æ˜¯ç»™ä½ ä¸€ä¸²æ•´æ•°ï¼Œï¼Œè¦æ‰¾åˆ°ä¸€ä¸ªé™¤æ•°ä½¿å¾—æ¯ä¸€ä¸ªæ•°è¢«é™¤åæ­£æ•°çš„ä¸ªæ•°å¤§äºç­‰äº $\lceil \frac{n}{2} \rceil$ï¼Œï¼Œï¼Œ</p>
<h2 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><p>ç»Ÿè®¡å‡ºæ‰€æœ‰æ­£æ•°ï¼Œè´Ÿæ•°çš„ä¸ªæ•°ï¼Œï¼Œæ­£æ•°å¤šé‚£ä¸ªé™¤æ•°å°±æ˜¯1ï¼Œè´Ÿæ•°å¤šå°±æ˜¯-1</p>
<h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//cf</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-comment">//#include &lt;iostream&gt;</span><br><span class="hljs-comment">//#include &lt;cstdio&gt;</span><br><span class="hljs-comment">//#include &lt;cstdlib&gt;</span><br><span class="hljs-comment">//#include &lt;string.h&gt;</span><br><span class="hljs-comment">//#include &lt;algorithm&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; pii;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> a[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    <span class="hljs-keyword">int</span> n; <span class="hljs-built_in">cin</span> &gt;&gt; n;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; a[i];<br>    sort(a + <span class="hljs-number">1</span>, a + <span class="hljs-number">1</span> + n);<br>    <span class="hljs-keyword">int</span> nump = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> numn = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        <span class="hljs-keyword">if</span>(a[i] &gt; <span class="hljs-number">0</span>)<br>            ++nump;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(a[i] &lt; <span class="hljs-number">0</span>)<br>            ++numn;<br>    <span class="hljs-keyword">if</span>(nump &gt;= (n + <span class="hljs-number">1</span>) / <span class="hljs-number">2</span>)<br>        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(numn &gt;= (n + <span class="hljs-number">1</span>) / <span class="hljs-number">2</span>)<br>        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">-1</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">else</span><br>        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">0</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="B-Two-Cakes"><a href="#B-Two-Cakes" class="headerlink" title="B. Two Cakes"></a>B. Two Cakes</h1><h2 id="é¢˜æ„-1"><a href="#é¢˜æ„-1" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>é¢˜æ„æ˜¯ç”±ä¸¤ç»„1~nçš„æ•°ç»„æˆçš„åºåˆ—ï¼Œï¼Œæ¯ä¸€ä¸ªäººé€‰æ‹©ä¸€ç»„ï¼Œï¼Œè´¹ç”¨æ˜¯ä¸¤ä¸ªæ ‘ä¹‹é—´çš„è·ç¦»ï¼Œï¼Œç„¶åé—®ä½ æ€»è·ç¦»æœ€å°æ˜¯å¤šå°‘ï¼Œï¼Œ</p>
<h2 id="åˆ†æ-1"><a href="#åˆ†æ-1" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><p>æˆ‘ä¸€å¼€å§‹æƒ³ç€å…ˆè´ªå¿ƒå¤„ç†ä¸€ä¸ªäººçš„é€‰æ‹©å‡ºæœ€å°‘çš„ï¼Œï¼Œå†åŠ ä¸Šå‰©ä¸‹çš„é‚£ä¸ªäººçš„ï¼Œï¼Œç„¶åå°±waäº†ï¼Œï¼Œå› ä¸ºè¿™æ ·å¹¶ä¸ä¿è¯è¿™ä¸€æ¬¡é€‰çš„å’Œä¸‹ä¸€æ¬¡é€‰çš„è·ç¦»å’Œæ˜¯æœ€å°çš„ï¼Œï¼Œè§£å†³æ–¹æ³•æ˜¯ä¸¤ä¸ªä¸€èµ·å¤„ç†ï¼Œï¼Œè€ƒè™‘æ¯ä¸€ç§é€‰æ‹©çš„æƒ…å†µï¼Œï¼Œè¿™æ ·å–æœ€å°çš„å°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
<h2 id="ä»£ç -1"><a href="#ä»£ç -1" class="headerlink" title="ä»£ç "></a>ä»£ç </h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//cf</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-comment">//#include &lt;iostream&gt;</span><br><span class="hljs-comment">//#include &lt;cstdio&gt;</span><br><span class="hljs-comment">//#include &lt;cstdlib&gt;</span><br><span class="hljs-comment">//#include &lt;string.h&gt;</span><br><span class="hljs-comment">//#include &lt;algorithm&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; pii;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> a[maxn][<span class="hljs-number">2</span>];<br><span class="hljs-keyword">bool</span> flag[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    <span class="hljs-keyword">int</span> n;<span class="hljs-built_in">cin</span> &gt;&gt; n;<br>    <span class="hljs-keyword">int</span> t;<br>    <span class="hljs-built_in">memset</span>(flag, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> flag);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">2</span> * n; ++i)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; t;<br>        <span class="hljs-keyword">if</span>(!flag[t])<br>        &#123;<br>            a[t][<span class="hljs-number">0</span>] = i;<br>            flag[t] = <span class="hljs-literal">true</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>            a[t][<span class="hljs-number">1</span>] = i;<br>    &#125;<br>    ll ans = a[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>] + a[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>] - <span class="hljs-number">2</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n - <span class="hljs-number">1</span>; ++i)<br>    &#123;<br>        <span class="hljs-keyword">int</span> p = <span class="hljs-built_in">abs</span>(a[i + <span class="hljs-number">1</span>][<span class="hljs-number">0</span>] - a[i][<span class="hljs-number">0</span>]) + <span class="hljs-built_in">abs</span>(a[i + <span class="hljs-number">1</span>][<span class="hljs-number">1</span>] - a[i][<span class="hljs-number">1</span>]);<br>        <span class="hljs-keyword">int</span> q = <span class="hljs-built_in">abs</span>(a[i + <span class="hljs-number">1</span>][<span class="hljs-number">0</span>] - a[i][<span class="hljs-number">1</span>]) + <span class="hljs-built_in">abs</span>(a[i + <span class="hljs-number">1</span>][<span class="hljs-number">1</span>] - a[i][<span class="hljs-number">0</span>]);<br>        ans += min(p, q);<br>    &#125;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="C-Connect"><a href="#C-Connect" class="headerlink" title="C. Connect"></a>C. Connect</h1><h2 id="é¢˜æ„-2"><a href="#é¢˜æ„-2" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç»™ä½ ä¸€ä¸ªåœ°å›¾ï¼Œï¼Œå…¶ä¸­é™†åœ°æ˜¯0ï¼Œæ°´åˆ™æ˜¯1ï¼Œï¼Œç„¶åç»™ä½ ä¸€ä¸ªèµ·ç‚¹ä¸€ä¸ªç»ˆç‚¹ï¼Œï¼Œä½ å¯ä»¥åœ¨ä»»æ„ä¸¤å—é™†åœ°ä¸Šå»º <strong>ä¸€æ¡</strong> éš§é“ä½¿è¿™ä¸¤ç‰‡é™†åœ°ç›¸é€šï¼Œï¼Œç„¶åé—®ä½ èµ·ç‚¹åˆ°ç»ˆç‚¹éœ€è¦çš„éš§é“çš„æœ€å°é•¿åº¦ï¼Œï¼Œï¼Œ</p>
<h2 id="åˆ†æ-2"><a href="#åˆ†æ-2" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><p>å› ä¸ºåªèƒ½å»ºä¸€æ¡éš§é“ï¼Œï¼Œæ‰€ä»¥å¦‚æœèµ·ç‚¹æ‰€åœ¨çš„é™†åœ°ä¸ç»ˆç‚¹æ‰€åœ¨çš„é™†åœ°ä¸ç›¸é€šçš„è¯ï¼Œï¼Œé‚£ä¹ˆè¿™æ¡éš§é“ä¸€å®šåœ¨è¿™ä¸¤ç‰‡é™†åœ°ä¹‹é—´ï¼Œï¼Œæ•°æ®é‡ä¸å¤§ï¼Œï¼Œç›´æ¥æšä¸¾è¿™ä¸¤ç‰‡é™†åœ°ä¸Šçš„ç‚¹ï¼Œï¼Œå–æœ€å°çš„è·ç¦»å°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
<p>åˆ¤æ–­ä¸€ä¸ªç‚¹æ˜¯å¦åœ¨èµ·ç‚¹æˆ–ç»ˆç‚¹æ‰€åœ¨çš„é™†åœ°å¯ä»¥ç°ç”¨å¹¶æŸ¥é›†æŠŠåœ°å›¾ â€œæŸ“è‰²â€ï¼Œï¼Œï¼Œè¿™æ ·å°±å¯ä»¥æšä¸¾äº†ï¼Œï¼Œï¼Œ</p>
<h2 id="ä»£ç -2"><a href="#ä»£ç -2" class="headerlink" title="ä»£ç "></a>ä»£ç </h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//cf</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-comment">//#include &lt;iostream&gt;</span><br><span class="hljs-comment">//#include &lt;cstdio&gt;</span><br><span class="hljs-comment">//#include &lt;cstdlib&gt;</span><br><span class="hljs-comment">//#include &lt;string.h&gt;</span><br><span class="hljs-comment">//#include &lt;algorithm&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; pii;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> fa[maxn];<br><span class="hljs-keyword">int</span> _find(<span class="hljs-keyword">int</span> x)<br>&#123;<br>    <span class="hljs-keyword">if</span>(fa[x] == x)<span class="hljs-keyword">return</span> x;<br>    <span class="hljs-keyword">return</span> fa[x] = _find(fa[x]);<br>&#125;<br><span class="hljs-keyword">void</span> _union(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)<br>&#123;<br>    <span class="hljs-keyword">int</span> f1 = _find(x);<br>    <span class="hljs-keyword">int</span> f2 = _find(y);<br>    <span class="hljs-keyword">if</span>(f1 != f2)fa[f1] = f2;<br>    <span class="hljs-keyword">else</span>        fa[f2] = f1;<br>&#125;<br><span class="hljs-keyword">int</span> mp[<span class="hljs-number">60</span>][<span class="hljs-number">60</span>];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">solve</span><span class="hljs-params">(<span class="hljs-keyword">int</span> i, <span class="hljs-keyword">int</span> j, <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> x1 = i / n;<br>    <span class="hljs-keyword">int</span> y1 = i - x1 * n;<br>    <span class="hljs-keyword">int</span> x2 = j / n;<br>    <span class="hljs-keyword">int</span> y2 = j - x2 * n;<br>    <span class="hljs-keyword">if</span>(y1 == <span class="hljs-number">0</span>)<br>    &#123;<br>        y1 = n;<br>        --x1;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(y2 == <span class="hljs-number">0</span>)<br>    &#123;<br>        y2 = n;<br>        --x2;<br>    &#125;<br><span class="hljs-comment">//    cout &lt;&lt; x1 &lt;&lt; y1 &lt;&lt; x2 &lt;&lt; y2 &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> (x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">int</span> n;<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br>    <span class="hljs-keyword">int</span> x1, x2, y1, y2;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d%d&quot;</span>, &amp;x1, &amp;y1, &amp;x2, &amp;y2);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>    &#123;<br>        getchar();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; ++j)<br>            mp[i][j] = (<span class="hljs-keyword">int</span>)(getchar() - <span class="hljs-string">&#x27;0&#x27;</span>);<br><br>    &#125;<br><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = n + <span class="hljs-number">1</span>; i &lt;= n + <span class="hljs-number">1</span> + n * n; ++i)fa[i] = i;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; ++j)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(mp[i - <span class="hljs-number">1</span>][j] == mp[i][j] &amp;&amp; i - <span class="hljs-number">1</span> &gt;= <span class="hljs-number">1</span>)<br>                _union(i * n + j, (i - <span class="hljs-number">1</span>) * n + j);<br>            <span class="hljs-keyword">if</span>(mp[i + <span class="hljs-number">1</span>][j] == mp[i][j] &amp;&amp; i + <span class="hljs-number">1</span> &lt;= n)<br>                _union(i * n + j, (i + <span class="hljs-number">1</span>) * n + j);<br>            <span class="hljs-keyword">if</span>(mp[i][j + <span class="hljs-number">1</span>] == mp[i][j] &amp;&amp; j + <span class="hljs-number">1</span> &lt;= n)<br>                _union(i * n + j, i * n + j + <span class="hljs-number">1</span>);<br>            <span class="hljs-keyword">if</span>(mp[i][j - <span class="hljs-number">1</span>] == mp[i][j] &amp;&amp; j - <span class="hljs-number">1</span> &gt;= <span class="hljs-number">1</span>)<br>                _union(i * n + j, i * n + j - <span class="hljs-number">1</span>);<br>        &#125;<br>    &#125;<br><span class="hljs-comment">//    for(int i = 1; i &lt;=n; ++i)</span><br><span class="hljs-comment">//    &#123;</span><br><span class="hljs-comment">//        for(int j = 1; j &lt;= n; ++j)</span><br><span class="hljs-comment">//            cout &lt;&lt; _find(i * n + j) &lt;&lt; &quot; &quot;;</span><br><span class="hljs-comment">//        cout &lt;&lt; endl;</span><br><span class="hljs-comment">//    &#125;</span><br>    <span class="hljs-keyword">int</span> s = _find(x1 * n + y1);<br>    <span class="hljs-keyword">int</span> t = _find(x2 * n + y2);<br><span class="hljs-comment">//    cout &lt;&lt; s &lt;&lt; t &lt;&lt; endl;</span><br>    <span class="hljs-keyword">int</span> ans = inf;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = n + <span class="hljs-number">1</span>; i &lt;= n + <span class="hljs-number">1</span> + n * n; ++i)<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span> + n; j &lt;= n + <span class="hljs-number">1</span> + n * n; ++j)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(_find(i) == s &amp;&amp; _find(j) == t)<br>            &#123;<br>                ans = min(ans, solve(i, j, n));<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="D1-Toy-Train"><a href="#D1-Toy-Train" class="headerlink" title="D1. Toy Train"></a>D1. Toy Train</h1><h2 id="é¢˜æ„-3"><a href="#é¢˜æ„-3" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ç”±ä¸€ä¸ªç¯å½¢çš„é“è·¯ï¼Œï¼Œä¸Šé¢æœ‰nä¸ªè½¦ç«™ï¼Œï¼Œæ¯ä¸ªè½¦ç«™æœ‰ä¸€äº›ç³–æœï¼Œï¼Œè¿™äº›ç³–æœè¦è¿åˆ° $b_i$ é‚£ä¸ªè½¦ç«™ï¼Œï¼Œï¼Œç«è½¦åªèƒ½åœ¨ä¸€ä¸ªè½¦ç«™æ‹‰ä¸Šä¸€ä¸ªç³–æœï¼Œï¼Œä½†æ˜¯å¯ä»¥æ”¾ä¸‹ä»»æ„å—ç³–æœï¼Œï¼Œï¼Œé—®ä½ ä»è¿™nä¸ªè½¦ç«™å‡ºå‘é€å®Œæ‰€æœ‰çš„ç³–æœæ‰€éœ€çš„æœ€å°‘çš„æ—¶é—´ï¼Œï¼Œ</p>
<h2 id="åˆ†æ-3"><a href="#åˆ†æ-3" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><p>æ¯æ¬¡åªèƒ½ä¸Šä¸€ä¸ªç³–æœï¼Œï¼Œæœ€åä¸‹çš„ç³–æœå°±æ˜¯ç³–æœæ•°é‡æœ€å¤šçš„è½¦ç«™çš„ï¼Œï¼Œæ‰¾ä¸€ä¸ªä»è¿™ä¸ªè½¦ç«™å‡ºå‘èŠ±è´¹æœ€å¤šçš„å¦ä¸€ä¸ªè½¦ç«™ï¼Œï¼Œè¿™æ ·æŠŠé‚£ä¸ªè½¦ç«™æ‰€æœ‰çš„ç³–æœé€å®Œæ—¶å…¶ä»–è½¦ç«™çš„ç³–æœé¡ºå¸¦ä¹Ÿå°±é€å®Œäº†ï¼Œï¼Œï¼Œ</p>
<p>æšä¸¾æ¯ä¸€ä¸ªè½¦ç«™iï¼Œï¼Œå¯¹äºè½¦ç«™iæšä¸¾æ‰€æœ‰çš„å…¶ä»–çš„è½¦ç«™ï¼Œï¼Œæ±‚å‡ºæ‰€æœ‰çš„æ—¶é—´é‡Œçš„æœ€å¤§å€¼å°±æ˜¯è¿™ä¸ªè½¦ç«™æ‰€ç”¨çš„æ—¶é—´äº†ï¼Œï¼Œï¼Œ</p>
<p><a href="https://www.cnblogs.com/luowentao/p/10434582.html">å‚è€ƒ</a></p>
<h2 id="ä»£ç -3"><a href="#ä»£ç -3" class="headerlink" title="ä»£ç "></a>ä»£ç </h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//cf</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-comment">//#include &lt;iostream&gt;</span><br><span class="hljs-comment">//#include &lt;cstdio&gt;</span><br><span class="hljs-comment">//#include &lt;cstdlib&gt;</span><br><span class="hljs-comment">//#include &lt;string.h&gt;</span><br><span class="hljs-comment">//#include &lt;algorithm&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; pii;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> num;<br>    <span class="hljs-keyword">int</span> mi;<br>&#125;node[maxm];<br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">getdis</span><span class="hljs-params">(<span class="hljs-keyword">int</span> i, <span class="hljs-keyword">int</span> j)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//get the dis of i -&gt; j</span><br>    <span class="hljs-keyword">if</span>(i &lt;= j)<span class="hljs-keyword">return</span> j - i;<br>    <span class="hljs-keyword">else</span>      <span class="hljs-keyword">return</span> n - i + j;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">solve</span><span class="hljs-params">(<span class="hljs-keyword">int</span> loc)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//find the furthest and the most candies node</span><br>    <span class="hljs-keyword">int</span> fur = loc;<br>    <span class="hljs-keyword">int</span> num = node[loc].num;<br>    <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> dis;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = loc; i &lt;= n; ++i)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(node[i].mi == inf)<span class="hljs-keyword">continue</span>;<br>        dis = getdis(loc, i) + (node[i].num - <span class="hljs-number">1</span>) * n + node[i].mi;<br>        ans = max(ans, dis);<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= loc - <span class="hljs-number">1</span>; ++i)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(node[i].mi == inf)<span class="hljs-keyword">continue</span>;<br>        dis = getdis(loc, i) + (node[i].num - <span class="hljs-number">1</span>) * n + node[i].mi;<br>        ans = max(ans, dis);<br>    &#125;<br><span class="hljs-comment">//    for(int i = loc; i &lt;= n; ++i)</span><br><span class="hljs-comment">//    &#123;</span><br><span class="hljs-comment">//        if(node[i].num &gt;= num)</span><br><span class="hljs-comment">//        &#123;</span><br><span class="hljs-comment">//            fur = i;</span><br><span class="hljs-comment">//            num = node[i].num;</span><br><span class="hljs-comment">//        &#125;</span><br><span class="hljs-comment">//    &#125;</span><br><span class="hljs-comment">//    for(int i = 1; i &lt;= loc - 1; ++i)</span><br><span class="hljs-comment">//    &#123;</span><br><span class="hljs-comment">//        if(node[i].num &gt;= num)</span><br><span class="hljs-comment">//        &#123;</span><br><span class="hljs-comment">//            fur = i;</span><br><span class="hljs-comment">//            num = node[i].num;</span><br><span class="hljs-comment">//        &#125;</span><br><span class="hljs-comment">//    &#125;</span><br><span class="hljs-comment">//    cout &lt;&lt; fur &lt;&lt; &quot; &quot;;</span><br><span class="hljs-comment">//    int ans = n * (node[fur].num - 1);</span><br><span class="hljs-comment">//    ans += getdis(loc, fur);</span><br><span class="hljs-comment">//    ans += getdis(fur, node[fur].mi);</span><br>    <span class="hljs-keyword">return</span> ans;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m;<br>    <span class="hljs-keyword">int</span> a, b;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)node[i].mi = inf;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)node[i].num = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; a &gt;&gt; b;<br>        ++node[a].num;<br>        <span class="hljs-keyword">if</span>(getdis(a, b) &lt;= node[a].mi)<br>            node[a].mi = getdis(a, b);<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        <span class="hljs-built_in">cout</span> &lt;&lt; solve(i) &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br><span class="hljs-comment">//    for(int i = 1; i &lt;= n; ++i)</span><br><span class="hljs-comment">//    &#123;</span><br><span class="hljs-comment">//        cout &lt;&lt; i &lt;&lt; &quot; &quot;;</span><br><span class="hljs-comment">//        cout &lt;&lt; solve(i) &lt;&lt; endl;</span><br><span class="hljs-comment">//    &#125;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="E-Wrong-Answer"><a href="#E-Wrong-Answer" class="headerlink" title="E. Wrong Answer"></a>E. Wrong Answer</h1><h2 id="é¢˜æ„-4"><a href="#é¢˜æ„-4" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>ä¸€ä¸ªæ•°åˆ—æ±‚å‡ºæœ€å¤§çš„ åŒºé—´å’Œä¹˜ä»¥åŒºé—´é•¿åº¦ï¼Œï¼Œ</p>
<p>ä»–ç»™çš„ç®—æ³•å½“å‰é¢ä¸€æ®µåŒºé—´å’Œå‡ºç°è´Ÿæ•°å°±èˆå¼ƒäº†ï¼Œï¼Œæ²¡æœ‰è€ƒè™‘é•¿åº¦å¯¹æœ€åç­”æ¡ˆçš„å½±å“ï¼Œï¼Œï¼Œ</p>
<p>é¢˜ç›®è¦æˆ‘ä»¬æ„é€ ä¸€ä¸ªæ•°åˆ—ï¼Œï¼Œä½¿å¾—è¿™ä¸ªæ•°åˆ—çš„æ­£ç¡®ç­”æ¡ˆæ¯”å®ƒçš„åšæ³•ç®—å‡ºçš„ç»“æœå¤§k</p>
<h2 id="åˆ†æ-4"><a href="#åˆ†æ-4" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><p>å¯ä»¥æ„é€ ä¸€ä¸ªå‰é¢1998ä¸ªéƒ½æ˜¯0ï¼Œï¼Œåé¢ä¸€ä¸ªæ•°æ˜¯-pï¼Œä¸€ä¸ªæ—¶p + q,,,</p>
<p>è¿™æ ·æ­£ç¡®çš„ç­”æ¡ˆå°±æ˜¯ $2000q$ï¼Œï¼Œï¼Œä»–ç®—å‡ºçš„ç­”æ¡ˆå°±æ˜¯ $p + q$ï¼Œï¼Œï¼Œ</p>
<p>è¦å¤§kï¼Œï¼Œå°±æ˜¯ $2000q - (p+q)=k$ï¼Œï¼Œä¹Ÿå°±æ˜¯ $q= \frac{p+k}{1999}$ ï¼Œï¼Œï¼Œä¸ºäº†ä¿è¯p,qéƒ½æ˜¯æ•´æ•°ï¼Œï¼Œï¼Œé‚£ä¹ˆå°±è®¾ $p=1999-k\%1999$ï¼Œï¼Œè¿™æ ·ç®—å‡ºçš„qå°±æ˜¯æ•´æ•°ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//cf</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-comment">//#include &lt;iostream&gt;</span><br><span class="hljs-comment">//#include &lt;cstdio&gt;</span><br><span class="hljs-comment">//#include &lt;cstdlib&gt;</span><br><span class="hljs-comment">//#include &lt;string.h&gt;</span><br><span class="hljs-comment">//#include &lt;algorithm&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; pii;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    <span class="hljs-keyword">int</span> k; <span class="hljs-built_in">cin</span> &gt;&gt; k;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">2000</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">2000</span> - <span class="hljs-number">2</span>; ++i)<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">0</span> &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>    <span class="hljs-keyword">int</span> p = <span class="hljs-number">1999</span> - k % <span class="hljs-number">1999</span>;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; -p &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; ((k + p) / <span class="hljs-number">1999</span> + p) &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>(end)</p>
]]></content>
      <categories>
        <category>Codeforces</category>
      </categories>
      <tags>
        <tag>åˆ·é¢˜</tag>
        <tag>acm</tag>
      </tags>
  </entry>
  <entry>
    <title>Diary-ç¬¬å››å‘¨å‘¨è®°</title>
    <url>/2019/03/21/Diary-%E7%AC%AC%E5%9B%9B%E5%91%A8%E5%91%A8%E8%AE%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>2019-3-11~2019-3-17</p>
<p>è¿™ä¸€å‘¨å‘ç”Ÿäº†è®¸è®¸å¤šå¤šçš„äº‹æƒ…ï¼ŒåŸæœ¬æ˜¯æ‰“ç®—åœ¨è¿™å‘¨å‘¨æœ«è®°å½•ä¸€ä¸‹çš„ï¼Œï¼Œç„¶åå°±ä¸€ç›´æ‹–ï¼Œï¼Œæ‹–åˆ°äº†ä»Šå¤©ï¼Œï¼Œå·²ç»æ˜¯ä¸‹ä¸€å‘¨çš„å‘¨å››äº†ã€‚ã€‚</p>
<span id="more"></span>
<p>é¦–å…ˆæ˜¯ä¸Šå‘¨çš„ä½“è‚²è¯¾ï¼Œå› ä¸ºä¹‹å‰æ²¡æœ‰è‡ªå·±è”ç³»è¿‡ç½‘çƒï¼ŒåŸºç¡€ç­çš„ç½‘çƒåˆå› ä¸ºä¸Šå­¦æœŸä¸€ç›´åœ¨ä¸‹é›¨åªä¸Šäº†ä¸€åŠçš„è¯¾ï¼Œï¼Œæ‰€ä»¥ç°åœ¨çš„æˆ‘å®Œå…¨ä¸æ€ä¹ˆä¼šç½‘çƒçš„å¯¹æ‰“ï¼Œï¼Œç”šè‡³è¿æ¥åˆ«äººçš„æ±‚éƒ½ä¸æ€ä¹ˆä¼šï¼Œï¼Œå¯¹é¢å’Œæˆ‘æ‰“çƒçš„åŒå­¦æ›¾ç»åˆç»ƒä¹ è¿‡ï¼Œæ„Ÿè§‰å› ä¸ºæˆ‘çš„èœå·²ç»è¿ç´¯åˆ°äº†åˆ«äººäº†ï¼Œï¼Œï¼Œæ‰€ä»¥ä¸ä»…ä¸ºäº†å¯¹é¢ä¸å«Œå¼ƒæˆ‘ï¼Œä¹Ÿä¸ºäº†è‡ªå·±æœ€åçš„çš„ä½“è‚²è¯¾èƒ½å¤Ÿé¡ºåˆ©çš„å¯¹æ‰“ä¸‹æ¥ï¼Œè¿˜æœ‰æˆ‘æ˜¯çœŸçš„æƒ³æ‰¾åˆ°ä¸€ä¸ªè‡ªå·±å–œæ¬¢çš„åŒæ—¶åˆæ“…é•¿çš„è¿åŠ¨ï¼Œæ‰€ä»¥ä¸Šä¸ªæ˜ŸæœŸçš„æˆ‘åœ¨æ™šä¸Šè‡ªå·±ç»ƒä¹ äº†ä¸€ä¼šï¼Œå¯èƒ½æ¢æˆä»¥å‰çš„æˆ‘æ ¹æœ¬å°±ä¸å¯èƒ½åšå‡ºè¿™æ ·çš„äº‹å§ï¼Œæ›¾ä»Šçš„æˆ‘æ˜¯ä¸å¯èƒ½å»ç‹¬è‡ªçš„å»è¿åŠ¨ï¼Œå°±è¿™æ ·è¿‡äº†20å¤šå¹´ï¼Œï¼Œåœ¨ä¸Šäº†å¤§å­¦ä¹‹åï¼Œè¿™æ ·çš„æ—¥å­è²Œä¼¼è¶Šæ¥è¶Šå¤šäº†ï¼Œå½“ç„¶ï¼Œè™½ç„¶ç»ƒä¹ äº†å‡ æ¬¡ï¼Œï¼Œä½†æ˜¯æˆ‘ä¹Ÿä¸å¯èƒ½ä¸€ä¸‹å­å°±è¾¾åˆ°éå¸¸ç†Ÿç»ƒçš„åœ°æ­¥ï¼Œè‡³å°‘åœ¨è¿™å‘¨ä¸€çš„ä½“è‚²è¯¾ä¸Šæˆ‘å¼€å§‹èƒ½å¤Ÿæ¥åˆ°å¯¹é¢çš„çƒäº†ï¼Œï¼Œè¿™è‡³å°‘æ˜¯ä¸€ä¸ªå¥½çš„å¼€ç«¯ã€‚</p>
<p>ç¬¬äºŒå¤©çš„å‘¨äºŒæ˜¯ä¸€æ¬¡å›¢ç”Ÿä¼šï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸€æ¬¡æ¨ä¼˜ç­ä¼šï¼Œè¿™æ—¶æˆ‘çš„ç¬¬äºŒæ¬¡ç«™åœ¨æ¨ä¼˜çš„æ¼”è®²å°ä¸Šï¼Œè‡ªæˆ‘æ„Ÿè§‰ä¸å»å¹´çš„é‚£ä¸€æ¬¡æ¼”è®²ç›¸æ¯”ï¼Œæˆ‘å·²ç»å¾ˆé•‡å®šäº†ï¼Œå¦‚æœå’Œæ›¾ç»çš„æˆ‘ç›¸æ¯”çš„è¯ï¼Œå¯èƒ½æˆ‘å·²ç»ä¸å†æ˜¯æˆ‘äº†ï¼Œæ›¾ç»çš„æˆ‘ä»æ¥ä¸æ•¢ç«™åœ¨è®²å°ä¸Šè¯´ä¸€å¥è¯ï¼Œæ›´åˆ«è¯´æ˜¯æ¼”è®²äº†ï¼Œæœ¬æ¥å¯ä»¥é”»ç‚¼æˆ‘çš„é«˜ä¸­ä¹Ÿå› ä¸ºåœ¨ä¼—å¤šå¼ºæœ‰åŠ›çš„äººçš„ç¯å¢ƒä¸‹ï¼Œè‡ªä¿¡å¿ƒæ—©å·²å˜æˆäº†é‚£æ·±æ·±çš„è‡ªå‘ï¼Œé‚£æ—¶çš„æˆ‘æ—©å·²é™·å…¥äº† æ— è®ºè‡ªå·±æ€ä¹ˆåŠªåŠ›ä¹Ÿç»ˆå°†æ˜¯ç­ä¸­çš„åå‡ å çš„æ·±æ¶¡ä¸­ï¼Œäººæ˜¯å¾ˆå®¹æ˜“æ ¹æ®ä»¥å¾€çš„æ˜ åƒå½¢æˆä¸€ä¸ªå›ºæœ‰çš„è®¤è¯†çš„ï¼Œé™¤éé‚£ä¸ªäº‹ç‰©çœŸçš„å‘ç”Ÿäº†è¶…å‡ºè‡ªå·±æ›¾ç»çš„è®¤è¯†æ—¶ï¼Œå¦åˆ™äº‹ç‰©å³ä½¿åœ¨å˜åŒ–ï¼Œä¹Ÿä¼šé»˜è®¤ä¸ºä¸€æˆä¸å˜çš„ã€‚ä¸Šäº†å¤§å­¦çš„æˆ‘å°±æƒ³ç€è¿™3å¹´é‡Œè‡³å°‘è¦é”»ç‚¼å‡ºèƒ½å¤Ÿåœ¨åˆ«äººé¢å‰è®²è¯çš„èƒ½åŠ›ï¼Œèƒ½å¤Ÿå’Œè‡ªå·±æƒ³åˆ†äº«æƒ³æ³•çš„äººè¯´å‡ºè‡ªå·±çš„æ„Ÿå—ï¼Œç°åœ¨çœ‹æ¥è™½ç„¶åšçš„æ²¡æœ‰å¤§å¤šæ•°äººåšçš„å¥½ï¼Œä½†æ˜¯å¯¹äºæˆ‘è‡ªå·±æ¥è¯´ï¼Œå·²ç»æ˜¯è¿ˆå‡ºäº†å¾ˆå¤§çš„ä¸€æ­¥ï¼Œç”šè‡³æ˜¯å¥½å‡ æ­¥ã€‚</p>
<p>ä¸­é—´çš„é‚£å‡ å¤©å¾ˆå¹³å‡¡ï¼Œæ¯å¤©éƒ½æ˜¯æ™´å¤©ï¼Œæˆ‘ä¹Ÿåƒå¾€å¸¸é‚£æ ·ç©¿æ¢­åœ¨æ•™å­¦æ¥¼ã€å¯å®¤å’Œé€¸å¤«æ¥¼ä¹‹é—´çš„å°è·¯ä¸Šã€‚äº«å—ç€åˆ°æ¥çš„æ˜¥å¤©çš„æ°”æ¯ã€‚æ¯ä¸€å¤©éƒ½å¾ˆèˆ’æœï¼Œå¾ˆè½»æ¾ã€‚</p>
<p>æœ€åçš„æ˜ŸæœŸæ—¥ï¼Œæˆ‘å†ä¸€æ¬¡å»å‚åŠ äº†cspçš„è®¤è¯è€ƒè¯•ï¼Œè¿™ä¸€æ¬¡çš„è¯•é¢˜å†…å®¹ä¸ä¸Šä¸€æ¬¡ç›¸æ¯”ç”šæ˜¯ç®€å•ï¼Œæ‰€ä»¥æˆ‘ä¹Ÿå¾ˆæœ‰æ€è·¯ï¼Œç²¾ç¥å»åšé‚£äº›é¢˜ï¼Œä½†æ˜¯ï¼Œè™½ç„¶é‚£æ—¶çš„æˆ‘è®¤ä¸ºè‡ªå·±è¿™ä¸€ä¸ªå­¦æœŸå·²ç»æœ‰æ‰€é•¿è¿›ï¼Œè¿™ä¸€æ¬¡å·²ç»å¾ˆç¨³äº†ï¼Œï¼Œä½†æ˜¯æ˜¨å¤©å‡ºæ¥çš„æˆç»©è¿˜æ˜¯è®©æˆ‘å¤§è·Œçœ¼é•œï¼Œ215ï¼Œï¼Œï¼Œå¾ˆæœ‰æŠŠæ¡çš„é¢˜æ²¡æœ‰å…¨è¿‡ï¼Œå¤ªè¿‡é«˜ä¼°è‡ªå·±çš„å®åŠ›ï¼Œå¯¼è‡´éš¾é¢˜æ²¡æœ‰çœ‹ï¼Œç®€å•çš„é¢˜æ²¡æœ‰è®¤çœŸçš„åˆ†æè€Œä¸¢åˆ†ï¼Œï¼Œå°¤å…¶æ˜¯åœ¨çŸ¥é“æœ‰å‡ ä¸ªæ²¡æœ‰æ€ä¹ˆç»ƒè¿‡å­¦å¼Ÿéƒ½å’Œæˆ‘ä¸€æ ·çš„åˆ†æ—¶ï¼ŒçœŸçš„æœ‰å†ä¸€æ¬¡å›åˆ°é‚£ä¸ªé«˜ä¸­æ—¶çš„æ„Ÿè§‰ï¼Œä¸€ç§è‡ªå·±æ— è®ºæ€ä¹ˆç»ƒéƒ½ä¸èƒ½è¿½åˆ°åˆ«äººçš„è„šæ­¥ï¼Œç”šè‡³çœ‹ä¸åˆ°å¯¹æ–¹çš„èº«å½±ï¼Œè‡ªå·±å°±åƒæ˜¯éšèº«ä¸€æ ·ç«™åœ¨è¿œå¤„ï¼Œæ³¨è§†ç€é‚£äº›å¼ºè€…ä»¬çš„ä¸€ä¸¾ä¸€åŠ¨ï¼Œè€Œè‡ªå·±è¶Šæ¥è¶Šè¿œï¼Œè¶Šæ¥è¶Šè¿œã€‚</p>
<p>ä»ä»Šå¤©å¼€å§‹çš„æˆ‘è¦çœŸæ­£çš„è®¤çœŸäº†ï¼Œï¼Œä¸èƒ½å†æµªè´¹æ¯ä¸€å¤©äº†ï¼Œä»»åŠ¡å¾ˆå¤šï¼Œä½†æ˜¯æ—¶é—´å´è¶Šæ¥è¶Šå°‘ï¼Œè‡ªå·±ä¸èƒ½å†å»é€ƒé¿æ¯ä¸€ä¸ªé‡åˆ°çš„å›°éš¾ï¼Œä¹Ÿä¸èƒ½å†å‡ºç° æ²¡æœ‰ç›®æ ‡å»è¿‡ä¸€å¤© çš„æƒ…å†µäº†ï¼Œå°±è¿™ä¸€å¹´ï¼Œæˆ–è€…è¯´å®Œå…¨æ²¡æœ‰ä¸€å¹´çš„æ—¶é—´é‡Œï¼Œæˆ‘è¦å­¦ä¹ å¾ˆå¤šå¾ˆå¤šçš„ä¸œè¥¿ï¼Œæå‡è‡ªå·±æ‰€æœ‰å¯¹è‡ªå·±ç›®å‰æ¥è¯´æœ‰ç”¨çš„é‡è¦çš„æŠ€èƒ½äº†ï¼Œä¸èƒ½å†å‡ºç°åŠªåŠ›äº†ä¸€æŠŠæ‰€å¾—åˆ°çš„è¿é‚£äº›æ²¡æœ‰åŠªåŠ›çš„äººéƒ½ä¸å¦‚çš„ç»“æœäº†ï¼</p>
<p><strong>æœ‰äº›è·¯æ³¨å®šè¦å­¤èº«ä¸€äººèµ°çš„ï¼Œæƒ³è¦åˆ°è¾¾ç¹åï¼Œå¿…ç»ä¸€æ®µè’å‡‰</strong></p>
]]></content>
      <categories>
        <category>diary</category>
      </categories>
  </entry>
  <entry>
    <title>Codeforces Round #585 (Div. 2)</title>
    <url>/2019/09/19/Codeforces-Round-585-Div-2/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>æ„Ÿè§‰å¾ˆç¡¬æ ¸å•Šè¿™åœºï¼Œï¼Œè¶Šå¾€åè¶Šåšä¸åŠ¨ï¼Œï¼Œï¼Œemmmmï¼Œï¼Œï¼Œï¼ˆè¿™åœºæ˜¯å¥”ç€æœ€åä¸€é¢˜ 2sat æ¥çš„ï¼Œï¼Œï¼Œä¸Šæ¬¡å­¦è¿™ç©æ„æ˜¯åœ¨ä»Šå¹´çš„3ã€4æœˆä»½æŠŠï¼Œï¼Œï¼Œæ—©å¿˜å¾—å·®ä¸å¤šäº†ï¼Œï¼Œï¼Œ</p>
<span id="more"></span>
<h1 id="A-Yellow-Cards"><a href="#A-Yellow-Cards" class="headerlink" title="A. Yellow Cards"></a>A. Yellow Cards</h1><p>Aé¢˜è¾ƒç®€å•ï¼Œï¼Œè´ªå¿ƒå°±è¡Œäº†ï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br> <br><span class="hljs-keyword">int</span> a[maxn], n;<br> <br> <br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br> <br>    <span class="hljs-keyword">int</span> n, a1, a2, k1, k2;<br>    <span class="hljs-built_in">cin</span> &gt;&gt; a1 &gt;&gt; a2 &gt;&gt; k1 &gt;&gt; k2 &gt;&gt; n;<br>    <span class="hljs-keyword">int</span> mi = <span class="hljs-number">0</span>, mx = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">if</span>(a1 * (k1 - <span class="hljs-number">1</span>) + a2 * (k2 - <span class="hljs-number">1</span>) &gt;= n)mi = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">else</span> mi = n - a1 * (k1 - <span class="hljs-number">1</span>) - a2 * (k2 - <span class="hljs-number">1</span>);<br> <br>    <span class="hljs-keyword">if</span>(k1 &lt;= k2)<br>    &#123;<br>        <span class="hljs-keyword">while</span>(n &gt;= k1 &amp;&amp; a1)<br>        &#123;<br>            --a1;<br>            n -= k1;<br>            ++mx;<br>        &#125;<br>        <span class="hljs-keyword">while</span>(n &gt;= k2 &amp;&amp; a2)<br>        &#123;<br>            --a2;<br>            n -= k2;<br>            ++mx;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        <span class="hljs-keyword">while</span>(n &gt;= k2 &amp;&amp; a2)<br>        &#123;<br>            --a2;<br>            n -= k2;<br>            ++mx;<br>        &#125;<br>        <span class="hljs-keyword">while</span>(n &gt;= k1 &amp;&amp; a1)<br>        &#123;<br>            --a1;<br>            n -= k1;<br>            ++mx;<br>        &#125;<br>    &#125;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; mi &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; mx &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="B-The-Number-of-Products"><a href="#B-The-Number-of-Products" class="headerlink" title="B. The Number of Products"></a>B. The Number of Products</h1><p>Aæ‰Aé¢˜ï¼Œï¼Œæ„Ÿè§‰è¿˜è¡Œï¼Œï¼Œä»¥ä¸ºåé¢çš„éƒ½å¾ˆç®€å•ï¼Œï¼Œç„¶åå°±åœ¨Bã€Cé¢˜å¡äº†åŠå¤©ï¼Œï¼Œ</p>
<p>é¢˜æ„å°±æ˜¯ä¸€ä¸ªåºåˆ—ä¸­ï¼Œæ­£åŒºé—´å’Œè´ŸåŒºé—´çš„ä¸ªæ•°æœ‰å¤šå°‘ï¼Œï¼Œè¿™é‡Œçš„åŒºé—´æŒ‡çš„æ˜¯åŒºé—´ç§¯ï¼Œï¼Œï¼Œ</p>
<p>åˆšå¼€å§‹ä»¥ä¸ºæš´åŠ›å¯è¿‡ï¼Œï¼Œ<del>ï¼ˆå£èƒ¡</del> ï¼Œï¼Œç„¶åäº¤äº†ä¸€å‘æœæ–­Täº†ï¼Œï¼Œï¼Œ</p>
<p>åˆæ¨äº†ä¸€ä¼šå‘ç°å¯ä»¥æšä¸¾å·¦ç«¯ç‚¹æ‰€åœ¨çš„åŒºé—´ï¼Œï¼Œç„¶åä»–çš„è´¡çŒ®å°±æ˜¯åé¢çš„+2,,+4,,+6ç­‰ç­‰åŒºé—´çš„å’Œçš„ç§¯ï¼Œï¼Œæ‰€ä»¥åªè¦é¢„å¤„ç†ä¸€ä¸‹æ¯ä¸€ä¸ªç”¨è´Ÿç‚¹åˆ†å‰²çš„å·¦é—­å³å¼€çš„åŒºé—´çš„é•¿åº¦ï¼Œï¼Œç„¶åå¤„ç†æˆéš”ä¸€ä¸ªçš„åç¼€å’Œå°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br> <br><span class="hljs-keyword">int</span> a[maxn], n;<br><span class="hljs-keyword">int</span> p[maxn], tot;<br>ll pp[maxn];<br> <br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br> <br>    <span class="hljs-built_in">cin</span> &gt;&gt; n;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; a[i];<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        <span class="hljs-keyword">if</span>(a[i] &lt; <span class="hljs-number">0</span>)<br>            p[++tot] = i;<br>    p[tot + <span class="hljs-number">1</span>] = n + <span class="hljs-number">1</span>; p[tot + <span class="hljs-number">2</span>] = n + <span class="hljs-number">1</span>;<br>    ll ans1 = <span class="hljs-number">0</span>, ans2 = <span class="hljs-number">0</span>;<br>    ++tot;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = tot; i &gt;= <span class="hljs-number">1</span>; --i)pp[i] = p[i] - p[i - <span class="hljs-number">1</span>];<span class="hljs-comment">//--pp[1];</span><br>    <span class="hljs-comment">// for(int i = 1; i &lt;= tot; ++i)cout &lt;&lt; pp[i] &lt;&lt; &quot; &quot;;cout &lt;&lt; endl;</span><br>    <br> <br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = tot - <span class="hljs-number">2</span>; i &gt;= <span class="hljs-number">1</span>; --i)pp[i] += pp[i + <span class="hljs-number">2</span>];<br>    <span class="hljs-comment">// for(int i = 1; i &lt;= tot; ++i)cout &lt;&lt; pp[i] &lt;&lt; &quot; &quot;;cout &lt;&lt; endl;</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= tot; ++i)<br>    &#123;<br>        <span class="hljs-comment">// int x = p[i] - p[i - 1] - 1;</span><br>        ll x = pp[i] - pp[i + <span class="hljs-number">2</span>];<br>        ll y = pp[i + <span class="hljs-number">1</span>];<br>        <span class="hljs-comment">// cout &lt;&lt; x &lt;&lt; &quot;-&quot; &lt;&lt; y &lt;&lt; endl;</span><br>        ans1 += x * y; <br>        y = pp[i + <span class="hljs-number">2</span>];<br>        ans2 += x * y;<br>        --x;<br>        <span class="hljs-keyword">while</span>(x)ans2 += x--;<br>    &#125;<br> <br>    <span class="hljs-built_in">cout</span> &lt;&lt; ans1 &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; ans2 &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="C-Swap-Letters"><a href="#C-Swap-Letters" class="headerlink" title="C. Swap Letters"></a>C. Swap Letters</h1><p>é¢˜æ„å°±æ˜¯ä¸¤ä¸ªä¸²ï¼Œï¼Œåªå«æœ‰abï¼Œï¼Œç„¶åæ¯ä¸€æ¬¡çš„æ“ä½œæ˜¯æŒ‘ç¬¬ä¸€ä¸ªä¸²ä¸­çš„ä¸€ä¸ªå’Œç¬¬äºŒä¸ªä¸²ä¸­çš„ä¸€ä¸ªäº¤æ¢ï¼Œï¼Œç„¶åé—®é¢˜æœ€å°‘çš„æ“ä½œæ¬¡æ•°ä¸‹ä½¿å¾—ä¸¤ä¸²ä¸€æ ·ï¼Œï¼Œ</p>
<p>æˆ‘å½“æ—¶çš„æ€è·¯æ˜¯ç”¨ä¸€ä¸ª r è¡¨ç¤ºå³ç«¯å·²ç»ä¿®æ”¹çš„ä½ç½®ï¼Œï¼Œç„¶åéå†ä¸€éï¼Œï¼Œå½“ç¬¬iä¸ªä½ç½®çš„ä¸åŒæ—¶ï¼Œï¼Œåˆ©ç”¨rå‘åæ‰¾ä¸€ä¸ªå¯ä»¥äº¤æ¢çš„ï¼Œï¼Œå£èƒ¡äº†ä¸€ä¸‹å°±ç›´æ¥æ•²äº†ï¼Œï¼Œï¼Œç„¶åä¸æ–­çš„å‘ç°é€»è¾‘ä¸Šçš„bugï¼Œï¼Œï¼Œemmmmï¼Œï¼Œä¸€ç›´æ”¹åˆ°æˆäº†Næ–¹çš„è§£æ³•ï¼Œï¼Œï¼Œï¼Œ</p>
<p>çœ‹äº†ä¸€ä¸‹åˆ«äººçš„æ€è·¯ï¼Œï¼Œæ˜¾ç„¶ä¼˜å…ˆè€ƒè™‘ç›¸åŒçš„ä¸¤ä¸ªè¿›è¡Œæ“ä½œï¼Œï¼Œå‰©ä¸‹çš„ä¹Ÿåªèƒ½æ“ä½œå¶æ•°ä¸ªï¼Œï¼Œä½¿ç”¨çš„æ“ä½œæ¬¡æ•°å°±æ˜¯ä¸¤æ¬¡ï¼Œï¼Œä¸€æ¬¡æ˜¯åè½¬å…¶ä¸­ä¸€ä¸ªï¼Œï¼Œç„¶ååƒå‰é¢çš„å°±è¡Œäº†ï¼Œï¼Œï¼Œï¼Œå¥‡æ•°ä¸ªå°±æ˜¯æ— è§£ï¼Œï¼Œï¼Œï¼ˆä¼šçˆ†ll</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br> <br><span class="hljs-keyword">char</span> s[maxn], t[maxn];<br><span class="hljs-keyword">int</span> n;<br> <br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br> <br>    <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; s &gt;&gt; t;<br>    <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; &gt; ans;<br>    <span class="hljs-keyword">int</span> r = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(s[i] != t[i])<br>        &#123;<br>            <span class="hljs-comment">// r = min(r, i + 1);</span><br>            r = i + <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">while</span>(!(t[r] == t[i] &amp;&amp; t[r] != s[r]) &amp;&amp; r &lt; n)++r;<br>            <span class="hljs-keyword">if</span>(r &gt;= n)<br>            &#123;<br>                r = i + <span class="hljs-number">1</span>;<br>                swap(s[i], t[i]);<br>                ans.push_back(<span class="hljs-built_in">make_pair</span>(i + <span class="hljs-number">1</span>, i + <span class="hljs-number">1</span>));<br>                <span class="hljs-comment">// cout &lt;&lt; &quot;----&quot; &lt;&lt; endl &lt;&lt; s &lt;&lt; endl &lt;&lt; t &lt;&lt; endl;</span><br>                <span class="hljs-keyword">while</span>(!(t[r] == t[i] &amp;&amp; t[r] != s[r]) &amp;&amp; r &lt; n)++r;<br>                <span class="hljs-keyword">if</span>(r &gt;= n)<br>                &#123;<br>                    <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">-1</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>                    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>                &#125;<br>            &#125;<br>            <span class="hljs-comment">// cout &lt;&lt; i + 1 &lt;&lt; r + 1 &lt;&lt; endl;</span><br>            ans.push_back(<span class="hljs-built_in">make_pair</span>(i + <span class="hljs-number">1</span>, r + <span class="hljs-number">1</span>));<br>            swap(s[i], t[r]);<br>        <span class="hljs-comment">// cout &lt;&lt; s &lt;&lt; endl &lt;&lt; t &lt;&lt; endl;</span><br>        &#125;<br>    &#125;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; ans.size() &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> &amp;i: ans)<span class="hljs-built_in">cout</span> &lt;&lt; i.first &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; i.second &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="D-Ticket-Game"><a href="#D-Ticket-Game" class="headerlink" title="D. Ticket Game"></a>D. Ticket Game</h1><p>åšå¼ˆï¼Ÿï¼Ÿ å…ˆå¼ƒäº†</p>
<p>æ„Ÿè§‰æ˜¯ä¸€ä¸ªå¥½å¤šæƒ…å†µçš„åˆ†ç±»è®¨è®ºé¢˜ï¼Œï¼Œï¼Œ</p>
<h1 id="E-Marbles"><a href="#E-Marbles" class="headerlink" title="E. Marbles"></a>E. Marbles</h1><p>çŠ¶å‹dpï¼Œï¼Œï¼Œemmmmï¼Œï¼Œæ‰”äº†ï¼Œï¼Œ</p>
<h1 id="F-Radio-Stations"><a href="#F-Radio-Stations" class="headerlink" title="F. Radio Stations"></a>F. Radio Stations</h1><p>é‡ç‚¹æ¥äº†ï¼Œï¼Œï¼Œ</p>
<p>è¿™é¢˜çš„é¢˜å¹²æ˜¯çœŸçš„é•¿ï¼Œï¼Œé•¿ç¯‡é˜…è¯»ç†è§£ï¼Œï¼Œï¼Œemmmmmm</p>
<p>é¢˜ç›®çš„å¤§æ„æ˜¯è¿™æ ·çš„ï¼šä¸€ä¸ªåŸå¸‚è¦å¼„ä¸€ä¸ªå‘å°„å¡”ï¼Œï¼Œå®ƒçš„åŠŸç‡æ˜¯ $f (1\le f \le M)$ ï¼Œ</p>
<p>æœ‰ $p$ ä¸ªèŠ‚ç›®ï¼Œï¼Œå¯¹äºæ¯ä¸€ä¸ªéƒ½æœ‰ä¸€ä¸ªéœ€è¦å‘å°„çš„åŠŸç‡èŒƒå›´ï¼š $(L_i, R_i)$ ï¼Œï¼Œä¹Ÿå°±æ˜¯è¯´å½“ $f$ åœ¨è¿™ä¸ªèŒƒå›´æ—¶ç”¨æˆ·æ‰èƒ½æ”¶åˆ°è¿™ä¸ªèŠ‚ç›®ï¼Œï¼Œï¼Œ</p>
<p>ç„¶åæœ‰ä¸€äº›éœ€æ±‚ï¼Œï¼Œæ•°é‡æ˜¯nï¼Œï¼Œï¼Œè¿™äº›éœ€æ±‚è¿™æ ·æè¿°ï¼š $(a_i, b_i)$ ï¼Œï¼Œè¡¨ç¤ºå¯¹äºç¬¬ $i$ ä¸ªéœ€æ±‚ <strong>è‡³å°‘</strong> éœ€è¦æ»¡è¶³ä¸€ä¸ªï¼Œï¼Œç®€å•è¯´å°±æ˜¯è‡³å°‘è¦æŒ‘ä¸€ä¸ªï¼Œï¼Œï¼Œ</p>
<p>è¿˜æœ‰ä¸€äº›èŠ‚ç›®é—´çš„é™åˆ¶æ¡ä»¶ï¼š $(u, v)$ ï¼Œï¼Œè¡¨ç¤ºé€‰äº† $u$ å°±ä¸èƒ½é€‰ $v$ ï¼Œï¼Œï¼Œåä¹‹äº¦ç„¶ï¼Œï¼Œ</p>
<p>ç„¶åé—®ä½ è¿™ä¸ªå‘å°„å¡”çš„é¢‘ç‡ $f$ é€‰æ‹©å¤šå°‘æ—¶ä½¿å¾— $n$ ä¸ªéœ€æ±‚éƒ½å¯ä»¥æ»¡è¶³</p>
<p>å¦‚æœè¿™é¢˜æ²¡æœ‰ $f$ è¿™ä¸ªé™åˆ¶æ¡ä»¶ï¼Œè¿™é¢˜2satå¯ç›´æ¥è¿‡ï¼Œï¼Œä½†æ˜¯ä¸è¡Œï¼Œï¼Œ</p>
<p>å½“ç„¶å¯ä»¥æšä¸¾ $f$ ï¼Œï¼Œä»1åˆ°Mï¼Œï¼Œä½†æ˜¯è¿™æ ·æ—¶é—´å¤æ‚åº¦å°±æ˜¯næ–¹ï¼Œï¼Œï¼ŒTç©¿ï¼Œï¼Œï¼Œ</p>
<p>åªèƒ½å°† $f$ æ”¾åœ¨æˆ‘ä»¬å»ºç«‹çš„é™åˆ¶å›¾ä¸­ï¼Œï¼Œä½†æ˜¯æ€ä¹ˆå»ºå‘¢ï¼Œï¼Œï¼Œ</p>
<p>ä»¥å‰åšçš„2saté¢˜ç›®éƒ½æ˜¯å›ºå®šçš„nå¯¹ç‰©å“ä¸­æ¯å¯¹ä¸­é€‰æ‹©ä¸€ä¸ªï¼Œï¼Œå…¶ä¸­ä¸€äº›ç‰©å“æœ‰é™åˆ¶æ¡ä»¶ï¼Œï¼Œè¿™æ ·åšäº†å¾ˆå¤šé¢˜ä¹‹åæ½œç§»é»˜åŒ–çš„å½¢æˆäº†ä¸€ä¸ªå›ºå®šçš„æ¨¡å‹ï¼Œï¼Œåªæœ‰è¿™nä¸ªç‰©å“å¯ä»¥è¿›è¡Œæ“ä½œï¼Œï¼Œè¿™æ ·çš„æ€æƒ³ä¹Ÿä½¿å¾—æˆ‘åœ¨åˆšè¯»æ‡‚é¢˜æ—¶å³ä½¿å‡ºç°è¿‡å°† p ä¸ªèŠ‚ç›®åˆ†æˆé€‰æˆ–ä¸é€‰è¿™æ ·å»ºå›¾ï¼Œï¼Œä½†æ˜¯å› ä¸ºè¿™æ ·ä¸ä¼šå¤„ç†fï¼Œï¼Œäºæ˜¯æ”¾å¼ƒè¿™ç§æ€è·¯ï¼Œï¼Œï¼Œå‘ç€å°†nä¸ªéœ€æ±‚ä½œä¸ºå›¾ä¸­çš„ç‚¹ï¼Œï¼Œç„¶åæœ‰é™åˆ¶çš„æ¡ä»¶é—´è¿è¾¹ï¼Œï¼Œè¿™æ ·çš„æ€è€ƒå°±ä¸å¾—ä¸å»æšä¸¾fï¼Œï¼Œï¼Œäºæ˜¯åªèƒ½è¿‡å°æ•°æ®ï¼Œï¼Œ</p>
<p>è¿™é¢˜çš„è§£å†³æ–¹æ³•æ˜¯ <strong>åœ¨nä¸ªèŠ‚ç›®çš„åé¢å†åŠ Mä¸ªå¯ä»¥é€‰æ‹©çš„fçš„æƒ…å†µ</strong> ï¼Œï¼Œï¼Œè¿™æ ·ä¸€å±‚ç‚¹è¡¨ç¤ºé€‰è¿™ä¸ªæƒ…å†µï¼Œï¼Œç¬¬äºŒå±‚çš„ç‚¹è¡¨ç¤ºä¸é€‰è¿™ä¸ªç‚¹ï¼Œï¼Œå»ºç«‹ç›¸åº”çš„é™åˆ¶å…³ç³»ï¼Œï¼Œè¿™æ ·å°±å¯ä»¥è·‘ä¸€é2satå¾—åˆ°ä¸¤ä¸ªæƒ³å¾—åˆ°çš„ä¸œè¥¿ï¼Œï¼Œï¼Œ</p>
<p>å‰é¢çš„ç‚¹çš„é™åˆ¶æ¡ä»¶å¾ˆå¥½å¤„ç†ï¼Œï¼Œï¼ŒæŒ‰é¢˜æ„æå°±è¡Œäº†</p>
<p>æ¥ä¸‹æ¥å¤„ç†åé¢çš„è¿™Mä¸ªç‚¹çš„æƒ…å†µï¼Œï¼Œï¼Œå¦‚æœæˆ‘ä»¬ç›´æ¥æšä¸¾æ¯ä¸€ä¸ªfå¯è¡Œè§£ï¼Œï¼Œï¼Œé‚£ä¹ˆå’Œå‰é¢çš„æš´åŠ›æ²¡å•¥åŒºåˆ«ï¼Œï¼Œï¼Œä¸€æ ·ä¼šTï¼Œï¼Œï¼Œ</p>
<p><a href="https://blog.csdn.net/weixin_44231553/article/details/100927625">å‚è€ƒäº†ä¸€ä¸ªåšä¸»çš„æ€è·¯</a></p>
<p>è¿™é‡Œæˆ‘çš„ç†è§£æ˜¯å¯¹äºè¿™äº›å¯è¡Œè§£éƒ½å‘å‰è¿è¾¹ï¼Œï¼Œä¹Ÿå°±æ˜¯ <code>é€‰f&gt;=l+1å¿…é¡»é€‰f&gt;=l</code> è¿™æ ·å°±å¯ä»¥å°†åŒºé—´çš„ä¸€ä¸ªè¡¨ç¤ºçš„é™åˆ¶æ¡ä»¶è½¬åŒ–æˆä¸€ä¸ªç«¯ç‚¹çš„è¡¨ç¤ºï¼Œï¼Œï¼ˆæ„Ÿè§‰æœ‰ç‚¹ç±»ä¼¼å·®åˆ†çš„æ€æƒ³ï¼Œï¼ŒåŒºé—´çš„æ“ä½œæ”¹æˆç«¯ç‚¹çš„æ“ä½œï¼Œï¼Œï¼Œ</p>
<p>è¿™æ ·å»ºå›¾ï¼Œï¼Œè·‘ä¸€è¾¹å°±è¡Œäº†ï¼Œï¼Œï¼Œï¼Œæœ€åè¾“å‡ºç­”æ¡ˆï¼Œï¼Œ</p>
<p>ç”¨tarjançš„è¯åˆ¤æ–­çš„æ¡ä»¶æ˜¯ä¸¤ä¸ªç‚¹é—´æ˜¯å¦ä¸åœ¨ä¸€ä¸ªsccä¸­ï¼Œï¼Œç„¶åå–æœ€å°å°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
<p>ç”¨æŸ“è‰²æ³•çš„è¯éœ€è¦è·‘çš„ç‚¹åªæ˜¯å‰åŠæ®µpä¸ªï¼Œï¼Œï¼Œ</p>
<h2 id="æŸ“è‰²æ³•"><a href="#æŸ“è‰²æ³•" class="headerlink" title="æŸ“è‰²æ³•"></a>æŸ“è‰²æ³•</h2><p>æ ˆå†™åäº†ï¼Œï¼Œï¼Œwaäº†å¥½å‡ å‘ï¼Œï¼Œï¼Œï¼Œï¼ˆä¸¢äººï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">4e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">4e5</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br> <br> <br><span class="hljs-keyword">int</span> n, p, M, m, all;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt;<br>&#125;edge[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, head[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].nxt = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-keyword">int</span> sta[maxn], top;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(vis[u &gt; all ? u - all : u + all])<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">if</span>(vis[u])<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    vis[u] = <span class="hljs-literal">true</span>;<br>    sta[++top] = u;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>        <span class="hljs-keyword">if</span>(!dfs(edge[i].to))    <br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">twosat</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vis);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(vis[i] || vis[i + all])<span class="hljs-keyword">continue</span>;<br>        top = <span class="hljs-number">-1</span>;<br>        <span class="hljs-keyword">if</span>(!dfs(i))<br>        &#123;<br>            <span class="hljs-keyword">while</span>(~top)vis[sta[top--]] = <span class="hljs-literal">false</span>;<br>            <span class="hljs-keyword">if</span>(!dfs(i + all))<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br> <br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br> <br>    <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; p &gt;&gt; M &gt;&gt; m;<br>    all = p + M;<br>    <span class="hljs-keyword">int</span> u, v;<br>    init();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; u &gt;&gt; v;<br>        addedge(u + all, v);<br>        addedge(v + all, u);<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= p; ++i)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; u &gt;&gt; v;<br>        addedge(i, u + p); addedge(u + p + all, i + all);<br>        <span class="hljs-keyword">if</span>(v &lt; M)addedge(v + p + <span class="hljs-number">1</span>, i + all), addedge(i, v + p + all + <span class="hljs-number">1</span>);<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; u &gt;&gt; v;<br>        addedge(u, v + all);<br>        addedge(v, u + all);<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; M; ++i)<br>    &#123;<br>        addedge(i + p + <span class="hljs-number">1</span>, i + p);<br>        addedge(i + p + all, i + p + <span class="hljs-number">1</span> + all);<br>        <span class="hljs-comment">// addedge(i + p, i + p + 1);</span><br>        <span class="hljs-comment">// addedge(i + p + 1 + all, i + p + all);</span><br>    &#125;<br>    <span class="hljs-keyword">if</span>(twosat(p))<br>    &#123;<br>        <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; ans;<br>        <span class="hljs-keyword">int</span> f = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= p; ++i)<br>            <span class="hljs-keyword">if</span>(vis[i])<br>                ans.push_back(i);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = p + <span class="hljs-number">1</span>; i &lt;= p + M; ++i)<br>            <span class="hljs-keyword">if</span>(vis[i])<br>            &#123;<br>                f = i - p;<br>            &#125;<br>        <span class="hljs-keyword">if</span>(!f)<br>        &#123;<br>            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">-1</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>        &#125;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; ans.size() &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; f &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> i: ans)<span class="hljs-built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">-1</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br>    <br> <br> <br>    <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="tarjan"><a href="#tarjan" class="headerlink" title="tarjan"></a>tarjan</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">4e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">4e5</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br> <br> <br><span class="hljs-keyword">int</span> n, p, M, m, all;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt;<br>&#125;edge[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, head[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].nxt = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-keyword">int</span> low[maxn], dfn[maxn], sta[maxn], belong[maxn];<br><span class="hljs-keyword">int</span> idx, top;<br><span class="hljs-keyword">int</span> scc;<br><span class="hljs-keyword">bool</span> insta[maxn];<br><span class="hljs-keyword">int</span> num[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">tarjan</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> v;<br>    low[u] = dfn[u] = ++idx;<br>    sta[top++] = u;<br>    insta[u] = <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>    &#123;<br>        v = edge[i].to;<br>        <span class="hljs-keyword">if</span>(!dfn[v])<br>        &#123;<br>            tarjan(v);<br>            <span class="hljs-keyword">if</span>(low[u] &gt; low[v])low[u] = low[v];<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(insta[v] &amp;&amp; low[u] &gt; dfn[v])<br>            low[u] = dfn[v];<br>    &#125;<br>    <span class="hljs-keyword">if</span>(low[u] == dfn[u])<br>    &#123;<br>        ++scc;<br>        <span class="hljs-keyword">do</span><br>        &#123;<br>            v = sta[--top];<br>            insta[v] = <span class="hljs-literal">false</span>;<br>            belong[v] = scc;<br>            ++num[scc];<br>        &#125;<br>        <span class="hljs-keyword">while</span>(v != u);<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">twosat</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(dfn, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> dfn);<br>    <span class="hljs-built_in">memset</span>(insta, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> insta);<br>    <span class="hljs-built_in">memset</span>(num, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> num);<br>    idx = scc = top = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        <span class="hljs-keyword">if</span>(!dfn[i])<br>            tarjan(i);<br>    <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; ans;<br>    <span class="hljs-keyword">int</span> f = <span class="hljs-number">0</span>;<br>    <span class="hljs-comment">// for(int i = 1; i &lt;= p; ++i)cout &lt;&lt; belong[i] &lt;&lt; &quot; &quot;;cout &lt;&lt; &quot; &quot;;</span><br>    <span class="hljs-comment">// for(int i = 1; i &lt;= M; ++i)cout &lt;&lt; belong[i + p] &lt;&lt; &quot; &quot;;cout &lt;&lt; endl;</span><br>    <span class="hljs-comment">// for(int i = 1; i &lt;= p; ++i)cout &lt;&lt; belong[i + all] &lt;&lt; &quot; &quot;;cout &lt;&lt; &quot; &quot;;</span><br>    <span class="hljs-comment">// for(int i = 1; i &lt;= M; ++i)cout &lt;&lt; belong[i + p + all] &lt;&lt; &quot; &quot;;cout &lt;&lt; endl;</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= p; ++i)<br>        <span class="hljs-keyword">if</span>(belong[i] &lt; belong[i + all])<br>            ans.push_back(i);<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(belong[i] == belong[i + all])<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= M; ++i)<br>        <span class="hljs-keyword">if</span>(belong[i + p] &lt; belong[i + p + all])<br>            f = i;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(belong[i + p] == belong[i + p + all])<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; ans.size() &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; f &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> i: ans)<span class="hljs-built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br> <br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br> <br>    <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; p &gt;&gt; M &gt;&gt; m;<br>    all = p + M;<br>    <span class="hljs-keyword">int</span> u, v;<br>    init();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; u &gt;&gt; v;<br>        addedge(u + all, v);<br>        addedge(v + all, u);<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= p; ++i)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; u &gt;&gt; v;<br>        addedge(i, u + p); addedge(u + p + all, i + all);<br>        <span class="hljs-keyword">if</span>(v &lt; M)addedge(v + p + <span class="hljs-number">1</span>, i + all), addedge(i, v + p + all + <span class="hljs-number">1</span>);<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; u &gt;&gt; v;<br>        addedge(u, v + all);<br>        addedge(v, u + all);<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; M; ++i)<br>    &#123;<br>        addedge(i + p + <span class="hljs-number">1</span>, i + p);<br>        addedge(i + p + all, i + p + <span class="hljs-number">1</span> + all);<br>        <span class="hljs-comment">// addedge(i + p, i + p + 1);</span><br>        <span class="hljs-comment">// addedge(i + p + 1 + all, i + p + all);</span><br>    &#125;<br>    <span class="hljs-keyword">if</span>(!twosat(all &lt;&lt; <span class="hljs-number">1</span>))<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">-1</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <br> <br> <br>    <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>è¿™é“é¢˜çš„å¯å‘å¾ˆå¤§ï¼Œï¼Œï¼Œ2satä¸ä¸€å®šå°±æ˜¯è§£å†³ä¸€ç§é€‰æ‹©ä¸‹çš„è§£ï¼Œï¼Œï¼Œåªè¦è¿™äº›ä¸åŒç§ç±»çš„ç‰©å“é—´æœ‰é™åˆ¶æ¡ä»¶å°±å¯ä»¥æ”¾åœ¨ä¸€èµ·ï¼Œï¼Œï¼Œ</p>
<p>ï¼ˆend)</p>
]]></content>
      <categories>
        <category>Codeforces</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>åˆ·é¢˜</tag>
      </tags>
  </entry>
  <entry>
    <title>Disqusä½¿å¾—åšå®¢ç©ºç™½</title>
    <url>/2019/03/11/Disqus%E4%BD%BF%E5%BE%97%E5%8D%9A%E5%AE%A2%E7%A9%BA%E7%99%BD/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>æ˜¨å¤©æ›´æ–°äº†ä¸€ç¯‡åšæ–‡ä¹‹åï¼Œéšæ‰‹ä¸€çœ‹å‘ç°åšå®¢å…¨æ˜¯ç™½çš„ï¼Œï¼Œä½†æ˜¯å®é™…ä¸Šæ˜¯æœ‰å­—çš„ï¼Œï¼Œå¯ä»¥é€‰æ‹©å‡ºæ¥ä½†æ˜¯å°±æ˜¯ä¸æ˜¾ç¤ºï¼ˆé€æ˜ä¸€æ ·ï¼‰ï¼Œï¼Œï¼Œ</p>
<span id="more"></span>
<p>ç„¶åæˆ‘ä»¥ä¸ºæ˜¯æˆ‘æ›´æ–°çš„æ—¶å€™ä¸­æ–­å¯¼è‡´çš„ï¼ˆè¿™ä¸ªçš„ç¡®ä½¿å¾—CNAMEå˜ç©ºäº†ï¼Œç„¶åå°±è§£æä¸åˆ°è‡ªå·±çš„åŸŸåä¸Šäº†ï¼‰ï¼Œï¼Œï¼Œå°±é‡æ–°å®‰è£…äº†ä¸€éNEXTä¸»é¢˜ï¼Œï¼Œä½†æ˜¯è¿˜æ˜¯ä¸è¡Œï¼Œï¼Œï¼Œè¯•ç€æ¢äº†å…¶ä»–çš„ä¸»é¢˜å´å¯ä»¥æ­£å¸¸æ˜¾ç¤ºï¼Œï¼Œï¼Œåæ¥ç”šè‡³åªæ˜¯chromeä¸Šä¸æ­£ç¡®æ˜¾ç¤ºï¼Œï¼Œå…¶ä»–çš„æµè§ˆå™¨æ²¡æœ‰é—®é¢˜ï¼Œï¼Œï¼Œ</p>
<p>chromeçš„å¼€å‘è€…æ¨¡å¼ä¸‹ä¼šæŠ¥ <code>Uncaught TypeError: $(...).find(...).lazyload is not a function</code> è¿™ä¹ˆä¸€ä¸ªé”™è¯¯ï¼Œï¼Œï¼Œ</p>
<p>ä¸€ç›´åˆ°æ™šä¸Šï¼ˆç°åœ¨ï¼‰æ‰åœ¨next_themeä¸‹çš„<a href="https://github.com/theme-next/hexo-theme-next/issues/673">issues</a>çœ‹åˆ°æœ‰å¾ˆå¤šç¿»è½¦çš„ï¼Œï¼Œï¼Œæ˜¯Disqusè¯„è®ºçš„é”…ï¼Œï¼Œç°åœ¨çš„è§£å†³æ–¹æ³•æ˜¯æŠŠä»–å…³äº†å°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
]]></content>
      <tags>
        <tag>hexo_blog</tag>
        <tag>next_theme</tag>
      </tags>
  </entry>
  <entry>
    <title>Educational Codeforces Round 71</title>
    <url>/2019/09/04/Educational-Codeforces-Round-71/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>ä¸Šåˆæ²¡è¯¾ï¼Œåšä¸€å¥—é¢˜ï¼Œï¼Œç»ƒä¸€ä¸‹æ‰‹æ„Ÿå’Œæ€ç»´ï¼Œï¼Œ<a href="https://codeforces.com/contest/1207">æ•™è‚²åœºçš„71</a> ï¼Œï¼Œå‰ä¸¤åˆ°æ²¡å•¥ï¼Œï¼Œåé¢å°±åšçš„ç£•ç£•å·´å·´çš„ï¼Œï¼Œï¼Œæœ‰æƒ³æ³•ä½†æ˜¯ä¸æ•¢å®ç°ï¼Œï¼Œè‡ªæˆ‘å¦å®šï¼Œï¼Œæ²¡äº†æ€è·¯å°±åªèƒ½å®˜æ–¹é¢˜è§£ï¼Œï¼Œå‘ç°å…¶å®éƒ½å¾ˆç®€å•ï¼Œï¼Œï¼Œæ€ç»´åœºæŠŠï¼Œï¼Œï¼Œï¼Œ</p>
<span id="more"></span>
<h1 id="A-There-Are-Two-Types-Of-Burgers"><a href="#A-There-Are-Two-Types-Of-Burgers" class="headerlink" title="A    There Are Two Types Of Burgers"></a>A    There Are Two Types Of Burgers</h1><p>è´ªå¿ƒå°±å®Œäº‹äº†ï¼Œï¼Œæ¨å‡ºå…¬å¼ä¸çŸ¥é“æ€ä¹ˆè¯æ˜æ˜¯æœ€ä¼˜çš„ï¼Œï¼Œï¼Œï¼ˆæ•²é”™å˜é‡è¿˜waleä¸€å‘emmm</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld; <br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-7</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e3</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br> <br> <br> <br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br> <br>    <span class="hljs-keyword">int</span> t; <span class="hljs-built_in">cin</span> &gt;&gt; t;<br>    <span class="hljs-keyword">while</span>(t--)<br>    &#123;<br>        <span class="hljs-keyword">int</span> b, p, f;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; b &gt;&gt; p &gt;&gt; f;<br>        <span class="hljs-keyword">int</span> h, c;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; h &gt;&gt; c;<br>        <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">if</span>(h &lt; c)<br>        &#123;<br>            ans = c * (min(f, b / <span class="hljs-number">2</span>));<br>            b -= <span class="hljs-number">2</span> * min(f, b / <span class="hljs-number">2</span>);<br>            ans += h * (min(p, b / <span class="hljs-number">2</span>));<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            ans = h * min(p, b / <span class="hljs-number">2</span>);<br>            b -= <span class="hljs-number">2</span> * min(p, b / <span class="hljs-number">2</span>);<br>            ans += c * min(f, b / <span class="hljs-number">2</span>);<br>        &#125;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <br>    &#125;<br> <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="B-Square-Filling"><a href="#B-Square-Filling" class="headerlink" title="B    Square Filling"></a>B    Square Filling</h1><p>é¢˜æ„å°±æ˜¯ç»™ä½ ä¸€ä¸ªçŸ©å½¢ï¼Œï¼Œç”±0ï¼Œ1ç»„æˆï¼Œç„¶åä¸€æ¬¡å¯ä»¥è¿›è¡Œä¸€ä¸ªæ“ä½œï¼šæŠŠ $(x, y), (x, y + 1), (x + 1, y), (x + 1, y + 1)$ è¿™å‡ ä¸ªç‚¹å˜æˆ1ï¼Œï¼Œç„¶åé—®ä½ ä»ä¸€ä¸ªå…¨é›¶çš„çŸ©é˜µå˜æˆè¿™ä¸ªçŸ©é˜µçš„æ“ä½œæ–¹æ³•ï¼Œï¼Œæ²¡é™åˆ¶æ“ä½œæ¬¡æ•°ï¼Œï¼Œé‚£å°±ä¹±æå°±è¡Œäº†ï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld; <br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-7</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e3</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e3</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br> <br> <br><span class="hljs-keyword">int</span> a[maxn][maxn];<br><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; &gt; ans;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">check</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(a[x][y] &amp;&amp; a[x][y + <span class="hljs-number">1</span>] &amp;&amp; a[x + <span class="hljs-number">1</span>][y] &amp;&amp; a[x + <span class="hljs-number">1</span>][y + <span class="hljs-number">1</span>])<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br> <br>    <span class="hljs-keyword">int</span> n, m;<span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; ++j)<br>            <span class="hljs-built_in">cin</span> &gt;&gt; a[i][j];<br>    <br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; ++j)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(!a[i][j])<span class="hljs-keyword">continue</span>;<br>            <span class="hljs-keyword">if</span>(check(i, j))ans.push_back(<span class="hljs-built_in">make_pair</span>(i, j));<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(check(i, j - <span class="hljs-number">1</span>))ans.push_back(<span class="hljs-built_in">make_pair</span>(i, j - <span class="hljs-number">1</span>));<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(check(i - <span class="hljs-number">1</span>, j))ans.push_back(<span class="hljs-built_in">make_pair</span>(i - <span class="hljs-number">1</span>, j));<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(check(i - <span class="hljs-number">1</span>, j - <span class="hljs-number">1</span>))ans.push_back(<span class="hljs-built_in">make_pair</span>(i - <span class="hljs-number">1</span>, j - <span class="hljs-number">1</span>));<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">-1</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>                <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>            &#125;<br>        &#125;<br>    &#125;<br>    sort(ans.begin(), ans.end());<br>    <span class="hljs-keyword">int</span> size = unique(ans.begin(), ans.end()) - ans.begin();<br>    <span class="hljs-built_in">cout</span> &lt;&lt; size &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; size; ++i)<span class="hljs-built_in">cout</span> &lt;&lt; ans[i].first &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; ans[i].second &lt;&lt; <span class="hljs-built_in">endl</span>;<br> <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="C-Gas-Pipeline"><a href="#C-Gas-Pipeline" class="headerlink" title="C    Gas Pipeline"></a>C    Gas Pipeline</h1><p>dp?! æ²¡æ€ä¹ˆè®­ç»ƒè¿‡dpï¼Œï¼Œæš‚æ—¶æ‰”äº†ï¼Œï¼Œ</p>
<h1 id="D-Number-Of-Permutations"><a href="#D-Number-Of-Permutations" class="headerlink" title="D    Number Of Permutations"></a>D    Number Of Permutations</h1><p>æ„Ÿè§‰è¿™é“é¢˜ä¸é”™ï¼Œï¼Œ</p>
<p>é¢˜æ„å°±æ˜¯å¯¹äºç»™ä½ çš„ä¸€ä¸ªäºŒå…ƒå¯¹ åºåˆ—sï¼Œï¼Œä»–çš„æ’åˆ—ä¸­ä»»æ„ä¸€ç»´æ»¡è¶³ä¸é€’å‡çš„æ’åˆ—å°±æ˜¯ åçš„æ’åˆ—ï¼Œé—®ä½ æ‰€æœ‰çš„æ’åˆ—ä¸­å¥½çš„å…±æœ‰å‡ ç§ï¼Œï¼Œ</p>
<p>ä¸€å¼€å§‹è¢«tagçš„ç»„åˆå“æ‡µäº†ï¼Œï¼Œä»¥ä¸ºæ˜¯ä»€ä¹ˆæ¨å…¬å¼çš„æ’åˆ—ç»„åˆé¢˜ï¼Œï¼Œ</p>
<p>å…¶å®è§£æ³•å¾ˆç®€å•ï¼Œï¼Œè€ƒè™‘åé¢å°±è¡Œäº†ï¼Œï¼Œï¼Œæ€»çš„æ’åˆ—çš„æƒ…å†µä¸€å…±æœ‰ $fac[n]$ ç§ï¼Œï¼Œç„¶åå¯¹äºç¬¬ä¸€ç»´ä¸é€’å‡çš„æ’åˆ—çš„ä¸ªæ•°è®°ä¸º $cnt<em>1$ ï¼ŒåŒç†ç¬¬äºŒç»´çš„å°±æ˜¯ $cnt_2$ ï¼Œï¼Œæ ¹æ®å®¹æ–¥çš„æ€æƒ³ï¼Œï¼Œè¿˜æœ‰å®ƒä¿©çš„äº¤é›† $cnt</em>{12}$ ï¼Œï¼Œæœ€åä»–ä»¬çš„ç­”æ¡ˆå°±æ˜¯ $fac[n] - cnt<em>1 - cnt_2 + cnt</em>{12}$ ï¼Œï¼Œï¼Œ</p>
<p>å‰ä¸¤ç§çš„æ±‚æ³•å°±æ˜¯æ’åºåï¼Œï¼Œå¦‚æœæ²¡æœ‰é‡å¤çš„å…ƒç´ ï¼Œé‚£å°±å°±æ˜¯ä¸€ç§æƒ…å†µï¼Œï¼Œå¦‚æœæœ‰é‡å¤çš„å…ƒç´ ï¼Œï¼Œé‚£ä¹ˆå°±æ˜¯é‡å¤å…ƒç´ çš„é˜¶ä¹˜çš„ç§¯ï¼Œï¼Œ</p>
<p>å¯¹äºæœ€åè¿™ç§äº¤é›†çš„æƒ…å†µï¼Œé¦–å…ˆè¦æŒ‰ç¬¬ä¸€ç»´æ’åºï¼Œå¦‚æœç¬¬ä¸€ç»´ç›¸ç­‰ï¼ŒæŒ‰ç¬¬äºŒç»´æ’åºï¼Œï¼Œï¼Œç„¶ååˆ¤æ–­ç¬¬äºŒç»´æ˜¯ä¸æ˜¯ä¸é€’å‡çš„ï¼Œï¼Œå¦‚æœä¸æ˜¯ä¸é€’å‡çš„ï¼Œï¼Œé‚£ä¹ˆè¿™ç§æƒ…å†µå°±æ˜¯0ç§ï¼Œï¼Œå¦è€…çš„è¯ï¼Œï¼Œå¯¹äºé‚£äº›ç›¸åŒçš„äºŒå…ƒå¯¹å°±å¯ä»¥äº’æ¢ä½ç½®ï¼Œï¼Œé‚£ä¹ˆç­”æ¡ˆå°±æ˜¯ä»–ä»¬çš„é˜¶ä¹˜çš„ç§¯ï¼Œï¼Œ</p>
<p>æœ€åç»Ÿè®¡ç­”æ¡ˆå°±è¡Œäº†ï¼Œï¼Œè®°å¾—å¤šåŠ å‡ ä¸ªæ¨¡ï¼Œï¼Œå› ä¸ºå‰ä¸¤ç§çš„æƒ…å†µå¯èƒ½å¾ˆå¤šï¼Œï¼Œï¼Œemmmmï¼Œï¼Œï¼Œwaäº†å¥½å‡ å‘ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld; <br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-7</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">3e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e3</span> + <span class="hljs-number">5</span>;<br><span class="hljs-comment">// const int mod = 1e9 + 7;</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">998244353</span>;<br><br><span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; a[maxn];<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">cmpab</span><span class="hljs-params">(<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; i, <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; j)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(i.first == j.first)<span class="hljs-keyword">return</span> i.second &lt; j.second;<br>    <span class="hljs-keyword">return</span> i.first &lt; j.first;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">cmpb</span><span class="hljs-params">(<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; i, <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; j)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> i.second &lt; j.second;<br>&#125;<br>ll fac[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    fac[<span class="hljs-number">0</span>] = fac[<span class="hljs-number">1</span>] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt; maxn; ++i)fac[i] = fac[i - <span class="hljs-number">1</span>] * i % mod;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br><br>    <span class="hljs-keyword">int</span> n; <span class="hljs-built_in">cin</span> &gt;&gt; n;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; a[i].first &gt;&gt; a[i].second;<br>    sort(a + <span class="hljs-number">1</span>, a + <span class="hljs-number">1</span> + n, cmpab);<br>    ll cnt1, cnt2, cnt12;<br>    cnt1 = cnt2 = cnt12 = <span class="hljs-number">1</span>;<br>    init();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>    &#123;<br>        <span class="hljs-keyword">int</span> l = i, r = n; <br>        <span class="hljs-keyword">int</span> k = i;<br>        <span class="hljs-keyword">while</span>(l &lt;= r)<br>        &#123;<br>            <span class="hljs-keyword">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">if</span>(a[mid].first == a[i].first)<br>            &#123;<br>                l = mid + <span class="hljs-number">1</span>;<br>                k = mid;<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                r = mid - <span class="hljs-number">1</span>;<br>            &#125;<br>        &#125;<br>        cnt1 = cnt1 * fac[k - i + <span class="hljs-number">1</span>] % mod;<br>        i = k;<br>    &#125;<br>    <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-keyword">if</span>(a[i].second &lt; a[i - <span class="hljs-number">1</span>].second)flag = <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">if</span>(flag)<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        &#123;<br>            <span class="hljs-keyword">int</span> l = i, r = n;<br>            <span class="hljs-keyword">int</span> k = i;<br>            <span class="hljs-keyword">while</span>(l &lt;= r)<br>            &#123;<br>                <span class="hljs-keyword">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>                <span class="hljs-keyword">if</span>(a[mid].first == a[i].first &amp;&amp; a[mid].second == a[i].second)<br>                &#123;<br>                    l = mid + <span class="hljs-number">1</span>;<br>                    k = mid;<br>                &#125;<br>                <span class="hljs-keyword">else</span><br>                &#123;<br>                    r = mid - <span class="hljs-number">1</span>;<br>                &#125;<br>            &#125;<br>            cnt12 = cnt12 * fac[k - i + <span class="hljs-number">1</span>] % mod;<br>            i = k;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        cnt12 = <span class="hljs-number">0</span>;<br>    &#125;<br>    <br>    sort(a + <span class="hljs-number">1</span>, a + <span class="hljs-number">1</span> + n, cmpb);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>    &#123;<br>        <span class="hljs-keyword">int</span> l = i, r = n;<br>        <span class="hljs-keyword">int</span> k = i;<br>        <span class="hljs-keyword">while</span>(l &lt;= r)<br>        &#123;<br>            <span class="hljs-keyword">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">if</span>(a[mid].second == a[i].second)<br>            &#123;<br>                l = mid + <span class="hljs-number">1</span>;<br>                k = mid;<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                r = mid - <span class="hljs-number">1</span>;<br>            &#125;<br>        &#125;<br>        cnt2 = cnt2 * fac[k - i + <span class="hljs-number">1</span>] % mod;<br>        i = k;<br>    &#125;<br>    <span class="hljs-comment">// cout &lt;&lt; fac[n] &lt;&lt; &quot; &quot; &lt;&lt; cnt1 &lt;&lt; &quot; &quot; &lt;&lt; cnt2 &lt;&lt; &quot; &quot; &lt;&lt; cnt12 &lt;&lt; endl;</span><br>    <span class="hljs-keyword">if</span>(n != <span class="hljs-number">1</span>)<span class="hljs-built_in">cout</span> &lt;&lt; (fac[n] - cnt1 - cnt2 + cnt12 + mod * <span class="hljs-number">2</span>) % mod &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">else</span> <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">0</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="E-XOR-Guessing"><a href="#E-XOR-Guessing" class="headerlink" title="E    XOR Guessing"></a>E    XOR Guessing</h1><p>ä¸€é“ç®€å•çš„äº¤äº’é¢˜ï¼Œï¼Œï¼Œ</p>
<p>é¢˜æ„å°±æ˜¯ä½ æœ‰ä¸¤æ¬¡è¯¢é—®æœºä¼šï¼Œï¼Œæ¯æ¬¡è¯¢é—®æ˜¯100 ä¸ªæ•°ï¼Œï¼Œç„¶åäº¤äº’å™¨ä¼šé€‰æ‹©ä¸€ä¸ªæ•°å’Œç­”æ¡ˆ $x$ çš„å¼‚æˆ–ä½œä¸ºè¾“å…¥ç»™ä½ ï¼Œï¼Œæœ€åä½ è¦å¾—å‡ºç­”æ¡ˆé‚£ä¸ªæ•°ï¼Œï¼Œï¼Œ</p>
<p>çœ‹åˆ°å¼‚æˆ–ï¼Œç¬¬ä¸€ååº”å°±æ˜¯ä½è¿ç®—ç›¸å…³çš„ï¼Œï¼Œï¼Œå¾€ä¸Šé å°±è¡Œäº†ï¼Œï¼Œåªæœ‰ä¸¤æ¬¡æœºä¼šçš„è¯ï¼Œï¼Œè€Œä¸”ä¹¦çš„èŒƒå›´æ˜¯14ä½å†…çš„æ­£æ•´æ•°ï¼Œï¼Œï¼Œæ‰€ä»¥è€ƒè™‘ç¬¬ä¸€æ¬¡è¯¢é—® $x$ çš„é«˜7ä½ï¼Œï¼Œåä¸€æ¬¡è¯¢é—®ä½7ä½ï¼Œï¼Œï¼Œç„¶åå°†å¾—åˆ°çš„å€¼ææ‰å‰é¢çš„ä½7ä½ï¼Œï¼Œâ€œå¹¶â€ ä¸Šåé¢ææ‰é«˜7ä½çš„å€¼å°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
<p>å¿˜è®°å°† <code>#define &#39;\n&#39; endl</code> æ³¨é‡Šileäº†ä¸€å‘ï¼Œï¼Œï¼Œemmmmm</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-comment">// #define endl &#x27;\n&#x27;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld; <br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-7</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e3</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e3</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br> <br> <br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br> <br>    <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;? &quot;</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">100</span>; ++i)<span class="hljs-built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-built_in">endl</span>;fflush(<span class="hljs-built_in">stdout</span>);<br>    ll a; <span class="hljs-built_in">cin</span> &gt;&gt; a;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;? &quot;</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">100</span>; ++i)<span class="hljs-built_in">cout</span> &lt;&lt; (i &lt;&lt; <span class="hljs-number">7</span>) &lt;&lt; <span class="hljs-string">&quot; &quot;</span>; <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-built_in">endl</span>;fflush(<span class="hljs-built_in">stdout</span>);<br>    ll b; <span class="hljs-built_in">cin</span> &gt;&gt; b;<br>    <span class="hljs-comment">// cout &lt;&lt; a &lt;&lt; b &lt;&lt; endl;</span><br>    a = a &amp; (<span class="hljs-number">0b11111110000000</span>);<br>    b = b &amp; (<span class="hljs-number">0b00000001111111</span>);<br>    <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;! &quot;</span> &lt;&lt; (a | b) &lt;&lt; <span class="hljs-built_in">endl</span>;fflush(<span class="hljs-built_in">stdout</span>);<br>    <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="F-Remainder-Problem"><a href="#F-Remainder-Problem" class="headerlink" title="F    Remainder Problem"></a>F    Remainder Problem</h1><p>è¿™é¢˜ä¹Ÿä¸é”™ï¼Œï¼Œ</p>
<p>é¢˜æ„å°±æ˜¯ä¸€ä¸ªé•¿ä¸º500000çš„æ•°ç»„ï¼Œï¼Œä¸€ä¸ªæ“ä½œæ˜¯å¯¹ ç¬¬xä½ a[x] += yï¼›å¦ä¸€ç§æ“ä½œæ˜¯è¯¢é—®æ‰€æœ‰ æ¨¡xä½™æ•°ä¸ºyä½ç½®å¤„çš„æ•°çš„å’Œï¼Œï¼Œï¼Œ</p>
<p>è‡ªå·±æƒ³çš„åšæ³•Täº†ï¼Œï¼Œï¼Œå› ä¸ºæ²¡æœ‰æƒ³åˆ° ä¿®æ”¹ä¸€ä¸ªæ•°ä»–æ‰€ä¼šå½±å“çš„å¯èƒ½è¯¢é—®è¯¥æ€ä¹ˆè¡¨ç¤ºï¼Œï¼Œï¼Œï¼Œ</p>
<p>è¿™é¢˜çš„è§£æ³•æ˜¯ï¼š ç”¨ä¸€ä¸ªæ•°ç»„ $sum[x][y]$ ä¿å­˜æ¨¡ä¸ºxæ—¶ä½™æ•°æ—¶yçš„ç­”æ¡ˆï¼Œï¼Œå› ä¸ºå½“æ¨¡æ•°å¾ˆå¤§æ—¶ï¼Œï¼Œæˆ‘ä»¬å³ä½¿æ—¶æš´åŠ›æ‰¾ï¼Œï¼Œå› ä¸ºè¿™æ—¶çš„æ•°å¾ˆå°‘ï¼Œï¼Œï¼Œæ‰€ä»¥è¯¢é—®ä¸æ€ä¹ˆè´¹æ—¶é—´ï¼Œï¼Œï¼Œä½†æ˜¯æ•°å°æ—¶ï¼Œï¼Œï¼Œå¯»æ‰¾çš„æ•°å°±å¾ˆå¤šï¼Œï¼Œï¼Œè¿™æ ·å°±ä¼šTï¼Œï¼Œï¼Œæ‰€ä»¥æˆ‘ä»¬åªä¿å­˜å‰750ä¸ªæ¨¡æ•°çš„ç­”æ¡ˆï¼Œï¼Œï¼Œ</p>
<p>æ¯æ¬¡ä¿®æ”¹ä¸€ä¸ªæ•° $a[x] += y$ åï¼Œï¼Œï¼Œå¯¹äºæ‰€æœ‰ $sum[i][x \% i]$ éƒ½ä¼šäº§ç”Ÿå½±å“ï¼Œï¼Œï¼Œè¿™é‡Œçš„iå°±æ˜¯æ¨¡æ•°ï¼Œï¼Œï¼Œ$x \% i$ ç›¸å½“äºæ˜¯è¿™ä¸ªæ¨¡æ•°ä¸‹çš„ä½™æ•°ï¼Œï¼Œå½“è¯¢é—® $(2, i, x \% i)$ æ—¶ï¼Œï¼Œï¼Œè¿™ä¸ªç­”æ¡ˆå°±å¯ä»¥ç›´æ¥å¾—åˆ°ï¼Œï¼Œï¼Œ</p>
<p>æ¯”å¦‚è¯´æˆ‘ä¿®æ”¹ a[7] çš„å€¼ï¼Œï¼Œé‚£ä¹ˆå¯¹äºä¸€ä¸ªè¯¢é—® $(x, y)={(3, 1), (4, 3), (5, 2)â€¦â€¦}$ è¿™äº›è¯¢é—®çš„å€¼ä¸€å®šä¼šæ”¹å˜ï¼Œï¼Œï¼Œä¹Ÿå°±æ˜¯å¯¹ $sum[3][1], sum[4][7 \% 4], sum[5][7 \% 5]$ è¿›è¡Œäº†ä¿®æ”¹ï¼Œï¼Œ</p>
<p>æ€è·¯ç†æ¸…ä»£ç å°±ç®€å•äº†ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld; <br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-7</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">5e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e3</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br> <br><span class="hljs-keyword">int</span> a[maxn];<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> k = <span class="hljs-number">750</span>;<br><span class="hljs-keyword">int</span> sum[k][k];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br> <br>    <span class="hljs-keyword">int</span> q; <span class="hljs-built_in">cin</span> &gt;&gt; q;<br>    <span class="hljs-keyword">int</span> o, x, y;<br>    <span class="hljs-keyword">while</span>(q--)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; o &gt;&gt; x &gt;&gt; y;<br>        <span class="hljs-keyword">if</span>(o == <span class="hljs-number">1</span>)<br>        &#123;<br>            a[x] += y;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; k; ++i)sum[i][x % i] += y;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-keyword">if</span>(x &gt;= k)<br>            &#123;<br>                <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = y; i &lt;= <span class="hljs-number">500000</span>; i += x)ans += a[i];<br>                <span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="hljs-built_in">endl</span>;<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                <span class="hljs-built_in">cout</span> &lt;&lt; sum[x][y] &lt;&lt; <span class="hljs-built_in">endl</span>;<br>            &#125;<br>            <br>        &#125;<br>        <br>    &#125;<br> <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="G-Indie-Album"><a href="#G-Indie-Album" class="headerlink" title="G    Indie Album"></a>G    Indie Album</h1><p>è²Œä¼¼æ˜¯ACè‡ªåŠ¨æœºçš„é¢˜ï¼Œï¼Œï¼Œæ²¡å¼€å­—ç¬¦ä¸²çš„ä¸“é¢˜ï¼Œï¼Œå…ˆæ‰”äº†ï¼Œï¼Œï¼Œ</p>
<p>(endâ€¦)</p>
]]></content>
      <categories>
        <category>Codeforces</category>
      </categories>
      <tags>
        <tag>åˆ·é¢˜</tag>
        <tag>Codefoces</tag>
      </tags>
  </entry>
  <entry>
    <title>Educational Codeforces Round 72 (Rated for Div. 2)</title>
    <url>/2019/09/28/Educational-Codeforces-Round-72-Rated-for-Div-2/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p><a href="https://codeforces.com/contest/1217">è¿™åœºåªåšäº†å‰å››é“</a>ï¼Œï¼Œæ„Ÿè§‰å­¦åˆ°çš„ä¸œè¥¿ä¹Ÿå¾ˆå¤šï¼Œï¼Œæœ€åä¸¤é“æ•°æ®ç»“æ„çš„é¢˜æ²¡æœ‰è¡¥ã€‚ã€‚ã€‚</p>
<span id="more"></span>
<h1 id="A-Creating-a-Character"><a href="#A-Creating-a-Character" class="headerlink" title="A. Creating a Character"></a>A. Creating a Character</h1><p>è´ªå¿ƒåŠ ä¸€å †åˆ¤æ–­å°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">15e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">4e5</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br> <br><span class="hljs-keyword">int</span> a[maxn], n;<br> <br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    <br>    <span class="hljs-keyword">int</span> t; <span class="hljs-built_in">cin</span> &gt;&gt; t;<br>    <span class="hljs-keyword">while</span>(t--)<br>    &#123;<br>        ll s, i, e;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; s &gt;&gt; i &gt;&gt; e;<br>        <span class="hljs-keyword">if</span>(s + e &lt;= i)<br>        &#123;<br>            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">0</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br>        ll x = i - s + e;<br>        x = x / <span class="hljs-number">2</span>;<br>        <span class="hljs-keyword">if</span>(s + x &lt;= i + e - x)++x;<br>        <span class="hljs-keyword">if</span>(e == <span class="hljs-number">0</span> &amp;&amp; s &gt; i)x = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(e == <span class="hljs-number">0</span> &amp;&amp; s &lt;= i)x = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span>(x &lt;= <span class="hljs-number">0</span>)x = <span class="hljs-number">0</span>;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; e - x + <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br>    <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="B-Zmei-Gorynich"><a href="#B-Zmei-Gorynich" class="headerlink" title="B. Zmei Gorynich"></a>B. Zmei Gorynich</h1><p>è´ªå¿ƒ++</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">15e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">4e5</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br> <br><span class="hljs-keyword">int</span> a[maxn], n;<br> <br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    <br>    <span class="hljs-keyword">int</span> t; <span class="hljs-built_in">cin</span> &gt;&gt; t;<br>    <span class="hljs-keyword">while</span>(t--)<br>    &#123;<br>        ll n, x; <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; x;<br>        ll mx = -inf, mxd = <span class="hljs-number">0</span>;<br>        ll d, h;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        &#123;<br>            <span class="hljs-built_in">cin</span> &gt;&gt; d &gt;&gt; h;<br>            mx = max(mx, d - h);<br>            mxd = max(mxd, d);<br>        &#125;<br>        <span class="hljs-keyword">if</span>(mx &lt;= <span class="hljs-number">0</span> &amp;&amp; mxd &lt; x)<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">-1</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">else</span> <br>        &#123;<br>            ll ans = (x - mxd + mx - <span class="hljs-number">1</span>) / mx;<br>            ++ans;<br>            <span class="hljs-keyword">if</span>(mxd &gt;= x)ans = <span class="hljs-number">1</span>;<br>            <span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="C-The-Number-Of-Good-Substrings"><a href="#C-The-Number-Of-Good-Substrings" class="headerlink" title="C. The Number Of Good Substrings"></a>C. The Number Of Good Substrings</h1><p>è²Œä¼¼æ»¡è¶³æ¡ä»¶çš„ä¸²ä¸å¤šï¼Ÿï¼Ÿï¼Ÿ</p>
<p>ç›´æ¥æšä¸¾æ¯ä¸€ä¸ª1çš„ä½ç½®ï¼Œï¼Œç„¶åå¯¹äºä»¥ä»–ä¸ºæœ€é«˜ä½çš„ä¸²è¡¨ç¤ºçš„åè¿›åˆ¶å¦‚æœå°äºä¸²çš„é•¿åº¦ä»¥åŠä»–å‰é¢çš„å‰å¯¼é›¶é•¿åº¦çš„å’Œå°±æ˜¯ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„ï¼Œï¼Œè¿™æ ·è·‘ä¸€éå°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">4e5</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br> <br><span class="hljs-keyword">char</span> s[maxn];<br> <br> <br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    <br>    <span class="hljs-keyword">int</span> t; <span class="hljs-built_in">cin</span> &gt;&gt; t;<br>    <span class="hljs-keyword">while</span>(t--)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; s;<br>        ll ans = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">int</span> lst = <span class="hljs-number">-1</span>;<br>        <span class="hljs-keyword">int</span> len = <span class="hljs-built_in">strlen</span>(s);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= len - <span class="hljs-number">1</span>; ++i)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(s[i] == <span class="hljs-string">&#x27;0&#x27;</span>)<span class="hljs-keyword">continue</span>;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                ll base = <span class="hljs-number">1</span>;<br>                ++ans;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = i + <span class="hljs-number">1</span>; j &lt;= len - <span class="hljs-number">1</span>; ++j)<br>                &#123;<br>                    base &lt;&lt;= <span class="hljs-number">1</span>;<br>                    <span class="hljs-keyword">if</span>(s[j] == <span class="hljs-string">&#x27;1&#x27;</span>)base |= <span class="hljs-number">1</span>;<br>                    <span class="hljs-keyword">if</span>(j - lst &gt;= base)++ans;<br>                    <span class="hljs-keyword">else</span> <span class="hljs-keyword">break</span>;<br>                &#125;<br>                lst = i;<br>            &#125;<br>        &#125;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br>    <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">// 010010001000</span><br></code></pre></td></tr></table></figure>
<h1 id="D-Coloring-Edges"><a href="#D-Coloring-Edges" class="headerlink" title="D. Coloring Edges"></a>D. Coloring Edges</h1><p>æ„Ÿè§‰è¿™é¢˜å¾ˆä¸é”™ï¼Œï¼Œæœ‰å‘å›¾åˆ¤ç¯ä¹‹å‰åªçŸ¥é“ç”¨æ‹“æ‰‘æ’åºï¼Œï¼Œç°åœ¨æ‰çŸ¥é“æœ‰å¥½å‡ ç§æ–¹æ³•ï¼Œï¼Œï¼Œ</p>
<p>é¢˜æ„æ˜¯ç»™ä¸€å¼ å›¾ï¼Œç„¶åå¯¹è¾¹æŸ“è‰²ï¼Œç”¨æœ€å°‘çš„é¢œè‰²æŸ“å‡ºçš„å›¾ä¸­ç›¸åŒé¢œè‰²çš„è¾¹æ²¡æœ‰æˆç¯å°±è¡Œ</p>
<p>æ˜¾ç„¶æ²¡æœ‰ç¯çš„æ—¶å€™ç­”æ¡ˆå°±æ˜¯1ï¼Œï¼Œï¼Œæœ‰ç¯çš„æ—¶å€™ç­”æ¡ˆå°±æ˜¯2ï¼Œï¼Œ</p>
<p>æ‰€ä»¥å¯ä»¥å…ˆåˆ¤ç¯ï¼Œï¼Œç„¶åæŸ“è‰²</p>
<p>è¿™æ ·åšçš„è¯æŸ“è‰²çš„ä¸€ä¸ªæŠ€å·§å°±æ˜¯å¯¹äº <code>u-&gt;v</code> è¾¹ï¼Œ $u \ge v$ ç›´æ¥æŸ“2ï¼Œï¼Œå…¶ä»–çš„æŸ“1</p>
<h2 id="dfsåˆ¤ç¯"><a href="#dfsåˆ¤ç¯" class="headerlink" title="dfsåˆ¤ç¯"></a>dfsåˆ¤ç¯</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">4e5</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br> <br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt, col;<br>&#125;edge[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, head[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].nxt = head[u];<br>    edge[tot].col = <span class="hljs-number">0</span>;<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> s)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>    &#123;<br>        <span class="hljs-keyword">int</span> v = edge[i].to;<br>        <span class="hljs-keyword">if</span>(v == s)<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">if</span>(vis[v])<span class="hljs-keyword">continue</span>;<br>        vis[v] = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">if</span>(dfs(v, s))<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br> <br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    <br> <br>    <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m;<br>    <span class="hljs-keyword">int</span> u, v;<br>    init();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; u &gt;&gt; v;<br>        addedge(u, v);<br>    &#125;<br>    <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>    &#123;<br>        <span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vis);<br>        vis[i] = <span class="hljs-literal">true</span>;<br>        flag = dfs(i, i);<br>        <span class="hljs-keyword">if</span>(flag)<span class="hljs-keyword">break</span>;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(!flag)<br>    &#123;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">2</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = head[i]; ~j; j = edge[j].nxt)<br>                <span class="hljs-keyword">if</span>(i &gt; edge[j].to)edge[j].col = <span class="hljs-number">2</span>;<br>                <span class="hljs-keyword">else</span> edge[j].col = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= tot - <span class="hljs-number">1</span>; ++i)<br>            <span class="hljs-built_in">cout</span> &lt;&lt; edge[i].col &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br>    <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="topoæ’åºåˆ¤ç¯"><a href="#topoæ’åºåˆ¤ç¯" class="headerlink" title="topoæ’åºåˆ¤ç¯"></a>topoæ’åºåˆ¤ç¯</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">4e5</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br> <br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt, col;<br>&#125;edge[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, head[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].nxt = head[u];<br>    edge[tot].col = <span class="hljs-number">0</span>;<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-keyword">int</span> du[maxn];<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">topo</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> cnt = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">queue</span>&lt;<span class="hljs-keyword">int</span>&gt; q;<br>    <span class="hljs-keyword">while</span>(!q.empty())q.pop();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        <span class="hljs-keyword">if</span>(!du[i])<br>            q.push(i);<br>    <span class="hljs-keyword">while</span>(!q.empty())<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = q.front(); q.pop();<br>        ++cnt;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>            <span class="hljs-keyword">if</span>(--du[edge[i].to] == <span class="hljs-number">0</span>)<br>                q.push(edge[i].to);<br>    &#125;<br>    <span class="hljs-keyword">return</span> cnt == n;<br>&#125;<br> <br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    <br> <br>    <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m;<br>    <span class="hljs-keyword">int</span> u, v;<br>    init();<br>    <span class="hljs-built_in">memset</span>(du, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> du);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; u &gt;&gt; v;<br>        ++du[v];<br>        addedge(u, v);<br>    &#125;<br>    <span class="hljs-keyword">if</span>(topo())<br>    &#123;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">2</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = head[i]; ~j; j = edge[j].nxt)<br>                <span class="hljs-keyword">if</span>(i &gt; edge[j].to)edge[j].col = <span class="hljs-number">2</span>;<br>                <span class="hljs-keyword">else</span> edge[j].col = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= tot - <span class="hljs-number">1</span>; ++i)<br>            <span class="hljs-built_in">cout</span> &lt;&lt; edge[i].col &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br>    <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="dfsæŸ“å›è¾¹"><a href="#dfsæŸ“å›è¾¹" class="headerlink" title="dfsæŸ“å›è¾¹"></a>dfsæŸ“å›è¾¹</h2><p>å¦ä¸€ç§åšæ³•éœ€è¦çŸ¥é“dfsçš„ä¸€äº›æ€§è´¨ï¼š</p>
<p>dfsè·‘å›¾ä¼šäº§ç”Ÿå››ç§è¾¹ï¼Œï¼Œï¼ˆç®—æ³•å¯¼è®ºä¸Šæœ‰ï¼ˆçœ‹è¿‡éƒ½å¿˜äº†ï¼Œï¼Œï¼Œï¼‰<a href="https://blog.csdn.net/c_zhangsir/article/details/98238664">è¿™äº›æ˜¯å‚è€ƒè¿™ä¸ªçš„</a></p>
<ul>
<li><strong>æ ‘è¾¹(Tree Edge)</strong> ï¼š å°±æ˜¯ <code>u-&gt;v</code> væ˜¯ç¬¬ä¸€æ¬¡è®¿é—®çš„è¾¹</li>
<li><strong>å‰å‘è¾¹(Forward Edge)</strong> ï¼š å°±æ˜¯ <code>u-&gt;v</code> væ˜¯è®¿é—®è¿‡çš„ï¼Œå¹¶ä¸”ä¸æ˜¯vçš„ç›´æ¥çš„å­©å­</li>
<li><strong>å›è¾¹(Back Edge)</strong> ï¼š å°±æ˜¯ <code>u-&gt;v</code> væ˜¯æŒ‡å‘ä»–çš„ä¸€ä¸ªç¥–å…ˆçš„è¾¹ï¼Œï¼Œï¼ˆæ˜¾ç„¶è¿™æ ·çš„è¾¹å¯èƒ½æ˜¯ç¯çš„ä¸€éƒ¨åˆ†</li>
<li><strong>è·¨è¶Šè¾¹(Cross Edge)</strong> ï¼š å°±æ˜¯ <code>u-&gt;v</code> væ˜¯æŒ‡å‘ä¸€ä¸ªè®¿é—®è¿‡çš„ç‚¹ï¼Œä½† u , v ä¹‹é—´æ²¡å…³ç³»ï¼Œï¼Œï¼ˆå¯èƒ½æ˜¯ä¸¤æ£µå­æ ‘ä¸­çš„ç‚¹ç­‰ç­‰</li>
</ul>
<p><img src="https://img-blog.csdnimg.cn/20190802211019465.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0NfWmhhbmdTaXI=,size_16,color_FFFFFF,t_70" alt=""></p>
<p>æ‰€ä»¥å¯¹äºè¿™é¢˜ï¼Œï¼Œæˆ‘ä»¬åªè¦è·‘ä¸€è¾¹dfsï¼Œï¼Œç„¶åå°†æ‰€æœ‰çš„å›è¾¹æŸ“2ï¼Œï¼Œå…¶ä»–çš„è¾¹æŸ“1å³å¯ï¼Œï¼Œï¼Œè¿™æ ·å­å°±ä¸ç”¨åˆ¤ç¯ä»€ä¹ˆçš„ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">4e5</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt, col;<br>&#125;edge[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, head[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].nxt = head[u];<br>    edge[tot].col = <span class="hljs-number">0</span>;<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-keyword">bool</span> flag;<br><span class="hljs-keyword">int</span> vis[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// å…ˆå°†å­æ ‘æ ‡è®°ä¸º1</span><br>    <span class="hljs-comment">// å¦‚æœå­æ ‘ä¸­æœ‰åˆ°å­æ ‘ä¸­çš„æŸä¸ªç‚¹æ—¶ï¼Œè¡¨ç¤ºæœ‰ç¯</span><br>    <span class="hljs-comment">// æœ€åå°†å­æ ‘æ ‡è®°ä¸º2</span><br><br>    <span class="hljs-comment">// å¯¹äºæŸ“è‰²ï¼Œæ ‘è¾¹æŸ“1ï¼ˆvis[v] == 0ï¼‰ã€å›è¾¹ï¼ˆvis[v] == 1ï¼‰æŸ“2ï¼Œå‰è¾¹ï¼ˆå°±æ˜¯è¿åˆ°å…¶ä»–æ ‘çš„è¾¹ï¼‰å’Œè·¨è¶Šè¾¹ï¼ˆè¿ç€å·²ç»èµ°è¿‡çš„ç‚¹çš„è¾¹ï¼‰æŸ“1</span><br>    vis[u] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>    &#123;<br>        <span class="hljs-keyword">int</span> v = edge[i].to;<br>        <span class="hljs-keyword">if</span>(vis[v] == <span class="hljs-number">0</span>)<br>        &#123;<br>            dfs(v);<br>            edge[i].col = <span class="hljs-number">1</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(vis[v] == <span class="hljs-number">1</span>)<br>        &#123;<br>            flag = <span class="hljs-literal">true</span>;<br>            edge[i].col = <span class="hljs-number">2</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>            edge[i].col = <span class="hljs-number">1</span>;<br>    &#125;<br>    vis[u] = <span class="hljs-number">2</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    <br><br>    <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m;<br>    <span class="hljs-keyword">int</span> u, v;<br>    init();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; u &gt;&gt; v;<br>        addedge(u, v);<br>    &#125;<br>    flag = <span class="hljs-literal">false</span>;<br>    <span class="hljs-built_in">memset</span>(vis, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> vis);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        <span class="hljs-keyword">if</span>(vis[i] == <span class="hljs-number">0</span>)<br>            dfs(i);<br>    <span class="hljs-built_in">cout</span> &lt;&lt; (flag ? <span class="hljs-number">2</span> : <span class="hljs-number">1</span>) &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= tot - <span class="hljs-number">1</span>; ++i)<br>        <span class="hljs-built_in">cout</span> &lt;&lt; edge[i].col &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>(end)</p>
]]></content>
      <categories>
        <category>Codeforces</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>åˆ·é¢˜</tag>
        <tag>cf</tag>
      </tags>
  </entry>
  <entry>
    <title>The Preliminary Contest for ICPC China Nanchang National Invitational</title>
    <url>/2019/04/21/The-Preliminary-Contest-for-ICPC-China-Nanchang-National-Invitational/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p>è¿™æ¬¡å—æ˜Œé‚€è¯·èµ›çš„ç½‘ç»œèµ›æ‰“çš„å¿ƒç´¯å•Šï¼Œï¼Œå‘ç°è‡ªå·±å•¥éƒ½ä¸ä¼šï¼Œæ™ºå•†å—é™ï¼Œï¼Œï¼Œ</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>Solved</th>
<th>A</th>
<th>B</th>
<th>C</th>
<th>D</th>
<th>E</th>
<th>F</th>
<th>G</th>
<th>H</th>
<th>I</th>
<th>J</th>
<th>K</th>
<th>L</th>
<th>M</th>
</tr>
</thead>
<tbody>
<tr>
<td>3/13</td>
<td>O</td>
<td>.</td>
<td>.</td>
<td>.</td>
<td>.</td>
<td>.</td>
<td>.</td>
<td>O</td>
<td>.</td>
<td>.</td>
<td>.</td>
<td>.</td>
<td>O</td>
</tr>
</tbody>
</table>
</div>
<p>O for passing during the contest\<br>Ã˜ for passing after the contest\<br>! for attempted but failed\<br>Â· for having not attempted yet</p>
<span id="more"></span>
<h1 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><h2 id="A-PERFECT-NUMBER-PROBLEM"><a href="#A-PERFECT-NUMBER-PROBLEM" class="headerlink" title="A. PERFECT NUMBER PROBLEM"></a>A. PERFECT NUMBER PROBLEM</h2><p>è¾“å‡ºå®Œç¾æ•°ï¼Œï¼Œç›´æ¥ç™¾åº¦è¾“å‡ºå°±è¡Œäº†ï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    <span class="hljs-comment">// ios_base::sync_with_stdio(0);</span><br>    <span class="hljs-comment">// cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">6</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">28</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">496</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">8128</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">33550336</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;       <br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="H-Coloring-Game"><a href="#H-Coloring-Game" class="headerlink" title="H. Coloring Game"></a>H. Coloring Game</h2><p>$3^{n-2}*4\%mod$</p>
<p>å½“æ—¶æ€ä¹ˆéƒ½æ¨ä¸å‡ºæ¥é‚£ä¸ªå…¬å¼ï¼Œï¼Œç„¶åæ²¡åŠæ³•çˆ†æœå‰å‡ ä¸ªnæ¥æ‰¾è§„å¾‹ï¼Œï¼Œæäº†ä¸€ä¸ªæ¶ˆå¤±è²Œä¼¼ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-keyword">inline</span> ll <span class="hljs-title">pow_</span><span class="hljs-params">(ll a, ll b, ll p)</span>    <span class="hljs-comment">//å¿«é€Ÿå¹‚</span></span><br><span class="hljs-function"></span>&#123;<br>    ll ret = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(b)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(b &amp; <span class="hljs-number">1</span>) ret = (ret * a) % p;<br>        a = (a * a) % p;<br>        b &gt;&gt;= <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> ret;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    <span class="hljs-comment">// ios_base::sync_with_stdio(0);</span><br>    <span class="hljs-comment">// cin.tie(0);cout.tie(0);</span><br>    ll n;<br>    <span class="hljs-built_in">cin</span> &gt;&gt; n;<br>    <span class="hljs-keyword">if</span>(!n)<br>        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">0</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(n == <span class="hljs-number">1</span>)<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>	<span class="hljs-keyword">else</span><br>	<span class="hljs-built_in">cout</span> &lt;&lt; (pow_(<span class="hljs-number">3</span>, n - <span class="hljs-number">2</span>, mod) * <span class="hljs-number">4</span>) % mod &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;       <br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="M-Subsequence"><a href="#M-Subsequence" class="headerlink" title="M. Subsequence"></a>M. Subsequence</h2><p>è¯¢é—®ä¸€å †ä¸²æ˜¯ä¸æ˜¯åŸä¸²çš„ä¸€ä¸ªå­åºåˆ—ï¼Œï¼Œï¼Œ</p>
<p>åºåˆ—è‡ªåŠ¨æœºæ¿å­é¢˜ï¼Œï¼Œï¼Œï¼ˆè²Œä¼¼</p>
<p>è¯»å®Œé¢˜å‘ç°ï¼Œå“ï¼Ÿï¼è¿™ä¸å°±æ˜¯ä»¥å‰åœ¨ç‰›å®¢åšçš„ä¸€é“é¢˜å—ï¼Ÿï¼Ÿï¼Ÿç›´æ¥æ‰¾åŸæ¥çš„ä»£ç ï¼Œï¼Œç„¶åå› ä¸ºä¸­é—´ä¸€ä¸ªè¾“å‡ºå¿˜è®°æ”¹ï¼Œwaäº†ä¸€å‘ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-keyword">int</span> nxt[maxn][<span class="hljs-number">200</span>];<br><span class="hljs-keyword">int</span> now[<span class="hljs-number">200</span>];<br><span class="hljs-keyword">char</span> s[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//åºåˆ—è‡ªåŠ¨æœºé¢„å¤„ç†</span><br>    <span class="hljs-built_in">memset</span>(now, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> now);            <span class="hljs-comment">//mow_iè¡¨ç¤ºç¬¬iä¸ªå­—æ¯åœ¨åŸä¸²ä¸­ä»åå‘å‰æœ€æ™šå‡ºç°çš„ä½ç½®</span><br>    <span class="hljs-keyword">int</span> len = <span class="hljs-built_in">strlen</span>(s);<br>    --len;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = len; ~i; --i)               <span class="hljs-comment">//å¤„ç†æ¯ä¸€ä¸ªå­—ç¬¦</span><br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">128</span>; ++j)        <span class="hljs-comment">//æ‰¾å‡ºç¬¬iä¸ªå­—ç¬¦åé¢çš„26ä¸ªå­—æ¯æœ€æ—©å‡ºç°çš„å­—ç¬¦çš„ä½ç½®</span><br>            nxt[i][j] = now[j];<br>        now[s[i]] = i;                <span class="hljs-comment">//ç”¨å½“å‰å­—ç¬¦æ›´æ–°å½“å‰å­—ç¬¦åœ¨åŸä¸²ä¸­ä»åå‘å‰æœ€æ™šå‡ºç°çš„ä½ç½®</span><br>    &#125;<br>&#125;<br><span class="hljs-keyword">char</span> ss[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>, s);<br>    <span class="hljs-keyword">int</span> n; <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br>    init();<br>    <span class="hljs-keyword">while</span>(n--)<br>    &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>, ss);<br>        <span class="hljs-keyword">int</span> loc = now[ss[<span class="hljs-number">0</span>]];             <span class="hljs-comment">//æ²¡æœ‰ä»¥å­ä¸²ç¬¬ä¸€ä¸ªå­—ç¬¦å‡ºç°çš„å­åºåˆ—æ—¶</span><br>        <span class="hljs-keyword">if</span>(!~loc)<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;NO\n&quot;</span>);<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">true</span>;<br>            <span class="hljs-keyword">int</span> len = <span class="hljs-built_in">strlen</span>(ss);<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; len; ++i)<br>            &#123;<br>                loc = nxt[loc][ss[i]];    <span class="hljs-comment">//å¯»æ‰¾æ¯ä¸²ä¸­å­ä¸²ç¬¬iä¸ªå­—ç¬¦ä¸‹ä¸€æ¬¡å‡ºç°çš„ä½ç½®</span><br>                <span class="hljs-keyword">if</span>(!~loc)                       <span class="hljs-comment">//æ²¡æœ‰å°±é€€å‡º</span><br>                &#123;<br>                    flag = <span class="hljs-literal">false</span>;<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">if</span>(flag)<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;YES\n&quot;</span>);<br>            <span class="hljs-keyword">else</span>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;NO\n&quot;</span>);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM-æ¯”èµ›è¡¥é¢˜</category>
      </categories>
      <tags>
        <tag>åˆ·é¢˜</tag>
        <tag>acm</tag>
      </tags>
  </entry>
  <entry>
    <title>RMQ_ç¬¬ä¸€å¼¹_Sparse Table</title>
    <url>/2018/09/21/RMQ-%E7%AC%AC%E4%B8%80%E5%BC%B9/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p><strong>RMQ (Range Minimum/Maximum Query)</strong></p>
<p>ä»è‹±æ–‡ä¾¿å¯ä»¥çœ‹å‡ºè¿™ä¸ªç®—æ³•çš„ä¸»è¦æ˜¯è¯¢é—®ä¸€ä¸ªåŒºé—´å†…çš„æœ€å€¼é—®é¢˜ï¼Œï¼Œï¼Œ</p>
<p>æš‘å‡é›†è®­çš„æ—¶å€™å­¦ä¹ äº† <strong>çº¿æ®µæ ‘</strong> ï¼Œï¼Œï¼Œ</p>
<p>ä¹Ÿå¯ä»¥å¯¹ç»™å®šæ•°ç»„æŸ¥è¯¢ä»»æ„åŒºé—´çš„æœ€å€¼é—®é¢˜ï¼Œï¼Œï¼Œï¼Œ</p>
<p>è¿™ä¸¤ä¸ªä¸»è¦çš„åŒºåˆ«å°±æ˜¯ çº¿æ®µæ ‘ å¯ä»¥è¿›è¡Œå•ç‚¹çš„ä¿®æ”¹æ“ä½œï¼Œï¼Œï¼Œè€Œ <strong>Sparse Table</strong> ç®—æ³•ä¸èƒ½è¿›è¡Œç‚¹ä¿®æ”¹ï¼Œï¼Œ</p>
<p>æˆ–è€…è¯´è¿™æ ·ä¿®æ”¹ä¸€æ¬¡é‡é¢„å¤„ç†ä¸€æ¬¡ä¸åˆ’ç®—ï¼Œï¼Œï¼Œ</p>
<p>æ‰€ä»¥è¯´ï¼Œï¼Œè¦æ˜¯é¢˜ç›®åªæ˜¯å•çº¯çš„å¤šæ¬¡æŸ¥è¯¢ä»»æ„åŒºé—´çš„æœ€å€¼ï¼Œï¼Œï¼ŒSparse Table é¦–é€‰ï¼Œï¼Œæ¯•ç«Ÿï¼Œï¼Œæ¯•ç«Ÿå†™èµ·æ¥æ¯”çº¿æ®µæ ‘ç®€å•å¾—å¤šäº†ï¼Œï¼Œï¼Œ</p>
<span id="more"></span>
<h1 id="é¢„å¤„ç†"><a href="#é¢„å¤„ç†" class="headerlink" title="é¢„å¤„ç†"></a>é¢„å¤„ç†</h1><h2 id="ç®—æ³•åŸç†"><a href="#ç®—æ³•åŸç†" class="headerlink" title="ç®—æ³•åŸç†"></a>ç®—æ³•åŸç†</h2><p>åŸºæœ¬æ€æƒ³æ˜¯dp,,,,</p>
<p><strong>dpçš„çŠ¶æ€</strong> : å¯¹äºæ•°ç»„ $a[1-n]$ , $F[i , j]$è¡¨ç¤ºä»ç¬¬ $i$ ä¸ªä½ç½®å¼€å§‹ ï¼Œ <strong>é•¿åº¦</strong> ä¸º$2^j$ ä¸ªæ•°è¿™ä¸ªåŒºé—´ä¸­çš„æœ€å€¼ï¼Œï¼Œï¼Œ;</p>
<p><strong>dpçš„åˆå§‹å€¼</strong> : $F[i , 0] = a[i]$;</p>
<p><strong>çŠ¶æ€è½¬ç§»æ–¹ç¨‹</strong> : $F[i , j] = max (F[i , j - 1] , F[i + 2^{j - 1}  , j - 1])$;</p>
<p><strong>æ€æƒ³</strong> : $F[i , j]$ å°±æ˜¯ä¸æ–­å–ä»–çš„å·¦å³è¿™ä¸¤æ®µçš„æœ€å€¼ï¼Œï¼Œè¿™ä¸¤æ®µçš„é•¿åº¦ç›¸ç­‰ï¼Œéƒ½ä¸º $2^{j - 1}$ ä¸ªå…ƒç´ ï¼Œï¼Œ</p>
<h2 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">5e4</span> + <span class="hljs-number">10</span>;<br><span class="hljs-keyword">int</span> n , q;<br><span class="hljs-keyword">int</span> a[maxn];<br><span class="hljs-keyword">int</span> mx[maxn][<span class="hljs-number">20</span>];<br><span class="hljs-keyword">int</span> mi[maxn][<span class="hljs-number">20</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">rmq</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>		mx[i][<span class="hljs-number">0</span>] = mi[i][<span class="hljs-number">0</span>] = a[i];<br><br>	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; (<span class="hljs-number">1</span> &lt;&lt; j) &lt;= n; ++j)<br>	&#123;<br>		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i + (<span class="hljs-number">1</span> &lt;&lt; j) - <span class="hljs-number">1</span> &lt;= n; ++i)<br>		&#123;<br>			mx[i][j] = max(mx[i][j - <span class="hljs-number">1</span>] , mx[i + (<span class="hljs-number">1</span> &lt;&lt; (j - <span class="hljs-number">1</span>))][j - <span class="hljs-number">1</span>]);<br>			mi[i][j] = min(mi[i][j - <span class="hljs-number">1</span>] , mi[i + (<span class="hljs-number">1</span> &lt;&lt; (j - <span class="hljs-number">1</span>))][j - <span class="hljs-number">1</span>]);<br>		&#125;<br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>è¿™é‡Œæˆ‘ä»¬éœ€è¦æ³¨æ„çš„æ˜¯å¾ªç¯çš„é¡ºåºï¼Œæˆ‘ä»¬å‘ç°å¤–å±‚æ˜¯jï¼Œå†…å±‚æ‰€iï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå¯ä»¥æ˜¯iåœ¨å¤–ï¼Œjåœ¨å†…å—ï¼Ÿ<br>ç­”æ¡ˆæ˜¯ä¸å¯ä»¥ã€‚å› ä¸ºæˆ‘ä»¬éœ€è¦ç†è§£è¿™ä¸ªçŠ¶æ€è½¬ç§»æ–¹ç¨‹çš„æ„ä¹‰ã€‚</p>
<p>çŠ¶æ€è½¬ç§»æ–¹ç¨‹çš„å«ä¹‰æ˜¯ï¼šå…ˆæ›´æ–°æ‰€æœ‰é•¿åº¦ä¸ºF[i,0]å³1ä¸ªå…ƒç´ ï¼Œç„¶åé€šè¿‡2ä¸ª1ä¸ªå…ƒç´ çš„æœ€å€¼ï¼Œè·å¾—æ‰€æœ‰é•¿åº¦ä¸ºF[i,1]å³2ä¸ªå…ƒç´ çš„æœ€å€¼ï¼Œç„¶åå†é€šè¿‡2ä¸ª2ä¸ªå…ƒç´ çš„æœ€å€¼ï¼Œè·å¾—æ‰€æœ‰é•¿åº¦ä¸ºF[i,2]å³4ä¸ªå…ƒç´ çš„æœ€å€¼ï¼Œä»¥æ­¤ç±»æ¨æ›´æ–°æ‰€æœ‰é•¿åº¦çš„æœ€å€¼ã€‚</p>
<p>è€Œå¦‚æœæ˜¯iåœ¨å¤–ï¼Œjåœ¨å†…çš„è¯ï¼Œæˆ‘ä»¬æ›´æ–°çš„é¡ºåºå°±æ˜¯F[1,0],F[1,1],F[1,2],F[1,3],è¡¨ç¤ºæ›´æ–°ä»1å¼€å§‹1ä¸ªå…ƒç´ ï¼Œ2ä¸ªå…ƒç´ ï¼Œ4ä¸ªå…ƒç´ ï¼Œ8ä¸ªå…ƒç´ ï¼ˆA[0],A[1],â€¦.A[7]ï¼‰çš„æœ€å€¼ï¼Œè¿™é‡ŒF[1,3] = max(max(A[0],A[1],A[2],A[3]),max(A[4],A[5],A[6],A[7]))çš„å€¼ï¼Œä½†æ˜¯æˆ‘ä»¬æ ¹æœ¬æ²¡æœ‰è®¡ç®—max(A[0],A[1],A[2],A[3])å’Œmax(A[4],A[5],A[6],A[7])ï¼Œæ‰€ä»¥è¿™æ ·çš„æ–¹æ³•è‚¯å®šæ˜¯é”™è¯¯çš„ã€‚</p>
<p><a href="https://blog.csdn.net/niushuai666/article/details/6624672?utm_source=copy">æœ¬æ®µæ¥è‡ªæŸå¤§ä½¬åšå®¢</a></p>
<hr>
<h1 id="æŸ¥è¯¢"><a href="#æŸ¥è¯¢" class="headerlink" title="æŸ¥è¯¢"></a>æŸ¥è¯¢</h1><h2 id="æ€æƒ³"><a href="#æ€æƒ³" class="headerlink" title="æ€æƒ³"></a>æ€æƒ³</h2><p>å‡å¦‚æˆ‘ä»¬éœ€è¦æŸ¥è¯¢çš„åŒºé—´ä¸º(i,j)ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦æ‰¾åˆ°è¦†ç›–è¿™ä¸ªé—­åŒºé—´(å·¦è¾¹ç•Œå–iï¼Œå³è¾¹ç•Œå–j)çš„æœ€å°å¹‚ï¼ˆå¯ä»¥é‡å¤ï¼Œæ¯”å¦‚æŸ¥è¯¢5ï¼Œ6ï¼Œ7ï¼Œ8ï¼Œ9ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥è¯¢5678å’Œ6789ï¼‰ã€‚</p>
<p>å› ä¸ºè¿™ä¸ªåŒºé—´çš„é•¿åº¦ä¸º $j - i + 1$ ,æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å– $k=log2( j - i + 1)$ ï¼Œåˆ™æœ‰ï¼š$RMQ(A, i, j)=max(F[i , k], F[ j - 2 ^ k + 1, k])$ã€‚</p>
<p>ä¸¾ä¾‹è¯´æ˜ï¼Œè¦æ±‚åŒºé—´[2ï¼Œ8]çš„æœ€å¤§å€¼ï¼Œ$k = log_2ï¼ˆ8 - 2 + 1ï¼‰= 2$ï¼Œå³æ±‚ $max(F[2, 2]ï¼ŒF[8 - 2 ^ 2 + 1, 2]) = max(F[2, 2]ï¼ŒF[5, 2])$ï¼›</p>
<h2 id="å®ç°-1"><a href="#å®ç°-1" class="headerlink" title="å®ç°"></a>å®ç°</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">ans</span><span class="hljs-params">(<span class="hljs-keyword">int</span> l , <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-keyword">int</span> k = <span class="hljs-number">0</span>;<br>	<span class="hljs-keyword">int</span> len = r - l + <span class="hljs-number">1</span>;<br>	<span class="hljs-keyword">while</span> ((<span class="hljs-number">1</span> &lt;&lt; (k + <span class="hljs-number">1</span>)) &lt;= len)<br>		++k;<br><br>	<span class="hljs-keyword">return</span> max (mx[l][k] , mx[r - (<span class="hljs-number">1</span> &lt;&lt; k) + <span class="hljs-number">1</span>][k]) - min (mi[l][k] , mi[r - (<span class="hljs-number">1</span> &lt;&lt; k) + <span class="hljs-number">1</span>][k]);<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="å®æˆ˜"><a href="#å®æˆ˜" class="headerlink" title="å®æˆ˜"></a>å®æˆ˜</h1><p><a href="http://poj.org/problem?id=3264">é¢˜ç›®é“¾æ¥</a></p>
<p>é¢˜ç›®å¤§æ„: ç»™å®šçš„æ•°åˆ—a[1 - n] , æ±‚å‡º[l , r]è¿™ä¸ªåŒºé—´å†…çš„æå·® ï¼Œ å³æœ€å¤§å€¼ä¸æœ€å°å€¼çš„å·®</p>
<p>ç›´æ¥å¥—æ¿å­ï¼Œï¼Œï¼Œï¼Œ</p>
<p>acä»£ç :</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">5e4</span> + <span class="hljs-number">10</span>;<br><span class="hljs-keyword">int</span> n , q;<br><span class="hljs-keyword">int</span> a[maxn];<br><span class="hljs-keyword">int</span> mx[maxn][<span class="hljs-number">20</span>];<br><span class="hljs-keyword">int</span> mi[maxn][<span class="hljs-number">20</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">rmq</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>		mx[i][<span class="hljs-number">0</span>] = mi[i][<span class="hljs-number">0</span>] = a[i];<br><br>	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; (<span class="hljs-number">1</span> &lt;&lt; j) &lt;= n; ++j)<br>	&#123;<br>		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i + (<span class="hljs-number">1</span> &lt;&lt; j) - <span class="hljs-number">1</span> &lt;= n; ++i)<br>		&#123;<br>			mx[i][j] = max(mx[i][j - <span class="hljs-number">1</span>] , mx[i + (<span class="hljs-number">1</span> &lt;&lt; (j - <span class="hljs-number">1</span>))][j - <span class="hljs-number">1</span>]);<br>			mi[i][j] = min(mi[i][j - <span class="hljs-number">1</span>] , mi[i + (<span class="hljs-number">1</span> &lt;&lt; (j - <span class="hljs-number">1</span>))][j - <span class="hljs-number">1</span>]);<br>		&#125;<br>	&#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">ans</span><span class="hljs-params">(<span class="hljs-keyword">int</span> l , <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-keyword">int</span> k = <span class="hljs-number">0</span>;<br>	<span class="hljs-keyword">int</span> len = r - l + <span class="hljs-number">1</span>;<br>	<span class="hljs-keyword">while</span> ((<span class="hljs-number">1</span> &lt;&lt; (k + <span class="hljs-number">1</span>)) &lt;= len)<br>		++k;<br><br>	<span class="hljs-keyword">return</span> max (mx[l][k] , mx[r - (<span class="hljs-number">1</span> &lt;&lt; k) + <span class="hljs-number">1</span>][k]) - min (mi[l][k] , mi[r - (<span class="hljs-number">1</span> &lt;&lt; k) + <span class="hljs-number">1</span>][k]);<br>&#125;<br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123; <br>    <span class="hljs-keyword">while</span> (<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span> , &amp;n , &amp;q) != EOF)<br>	&#123;<br>		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>			<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;a[i]);<br><br>		rmq();<br>		<br>		<span class="hljs-keyword">while</span> (q--)<br>		&#123;<br>			<span class="hljs-keyword">int</span> l , r;<br>			<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span> , &amp;l , &amp;r);<br>			<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span> , ans(l , r));<br>		&#125;<br>	&#125;<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="kuangbinçš„æ¿å­"><a href="#kuangbinçš„æ¿å­" class="headerlink" title="kuangbinçš„æ¿å­:"></a>kuangbinçš„æ¿å­:</h1><p>ä¸€ç»´:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> MAXN = <span class="hljs-number">50010</span>;<br><span class="hljs-keyword">int</span> dp[MAXN][<span class="hljs-number">20</span>];<br><span class="hljs-keyword">int</span> mm[MAXN];<br><span class="hljs-comment">//åˆå§‹åŒ– RMQ, b æ•°ç»„ä¸‹æ ‡ä» 1 å¼€å§‹ï¼Œä» 0 å¼€å§‹ç®€å•ä¿®æ”¹</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">initRMQ</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n,<span class="hljs-keyword">int</span> b[])</span></span><br><span class="hljs-function"></span>&#123;<br>    mm[<span class="hljs-number">0</span>] = âˆ’<span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>    &#123;<br>        mm[i] = ((i&amp;(iâˆ’<span class="hljs-number">1</span>)) == <span class="hljs-number">0</span>)?mm[iâˆ’<span class="hljs-number">1</span>]+<span class="hljs-number">1</span>:mm[iâˆ’<span class="hljs-number">1</span>];<br>        dp[i][<span class="hljs-number">0</span>] = b[i];<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= mm[n]; j++)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i + (<span class="hljs-number">1</span>&lt;&lt;j) âˆ’<span class="hljs-number">1</span> &lt;= n; i++)<br>            dp[i][j] = max(dp[i][jâˆ’<span class="hljs-number">1</span>],dp[i+(<span class="hljs-number">1</span>&lt;&lt;(jâˆ’<span class="hljs-number">1</span>))][jâˆ’<span class="hljs-number">1</span>]);<br>&#125;<br> <span class="hljs-comment">//æŸ¥è¯¢æœ€å¤§å€¼</span><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">rmq</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x,<span class="hljs-keyword">int</span> y)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> k = mm[yâˆ’x+<span class="hljs-number">1</span>];<br>    <span class="hljs-keyword">return</span> max(dp[x][k],dp[yâˆ’(<span class="hljs-number">1</span>&lt;&lt;k)+<span class="hljs-number">1</span>][k]);<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM-RMQ</category>
      </categories>
      <tags>
        <tag>acm</tag>
        <tag>dp</tag>
        <tag>RMQ</tag>
        <tag>ST</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>[å·¥å…·ä½¿ç”¨]-åˆ©ç”¨latexç®¡ç†åˆ›å»ºè‡ªå·±çš„ACMæ¨¡æ¿</title>
    <url>/2019/08/31/%5B%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8%5D-%E5%88%A9%E7%94%A8latex%E7%AE%A1%E7%90%86%E5%88%9B%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84ACM%E6%A8%A1%E6%9D%BF/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>ä»å¾ˆæ—©å…¥å‘ACMå¼€å§‹ï¼Œä¾¿å’Œå„ç§ç®—æ³•çš„æ¨¡æ¿æ‰“ç€äº¤é“ï¼Œè™½ç„¶kaungbinçš„æ¨¡æ¿å·²ç»è¶³å¤Ÿå¼ºå¤§ï¼Œä½†æ˜¯è‡ªå·±åœ¨å¹³å¸¸åšé¢˜ä¸­ä¹Ÿé€æ¸æœ‰ç€è‡ªå·±çš„ä¸€äº›æ¨¡æ¿ï¼Œä¹Ÿæœ‰ä¸€äº›kuangbinæ¨¡æ¿ä¸­æ²¡æœ‰çš„æ›´å¿«çš„æ¿å­ï¼Œè™½ç„¶ä¸ç¡®å®šæ—¶å€™ä»¥åä¼šç”¨åˆ°ï¼Œä½†æ˜¯èƒ½å¤Ÿè®°å½•ä¸‹æ¥å½¢æˆè‡ªå·±çš„æ¨¡æ¿æ˜¯æœ€å¥½çš„ï¼Œï¼Œè¿™æ ·ä¹Ÿå¯¹è‡ªå·±æ‰€å­¦æœ‰ä¸ªå¤§è‡´çš„æ€»ç»“ï¼Œæ‰€ä»¥åœ¨æœå¯»ç½‘ç»œä¸Šå„ç§è§£å†³æ€è·¯åï¼Œé€‰æ‹©ä¸€ä½åšä¸»çš„è§£å†³æ–¹æ³•ï¼š åˆ©ç”¨pythonç®¡ç†æ–‡ä»¶å¤¹å½¢å¼çš„æ¨¡æ¿åº“ï¼Œç”Ÿæˆ <code>latex</code> çš„ <code>.tex</code> æ–‡ä»¶ï¼Œç„¶åé€šè¿‡ä¸¤æ¬¡ç¼–è¯‘åå¾—åˆ° <code>.pdf</code> çš„æ¨¡æ¿æ–‡ä»¶ï¼Œï¼Œè¿™æ ·çš„å¥½å¤„æ˜¯æ˜¾è€Œæ˜“è§çš„ï¼Œé¦–å…ˆæ˜¯ä»£ç çš„ç®¡ç†ååˆ†çš„æ–¹ä¾¿ï¼Œåªéœ€å°†æ•´ç†çš„æ¿å­æ‰”åˆ°å¯¹åº”çš„åˆ†ç±»æ–‡ä»¶å¤¹ä¸‹ï¼Œç„¶ååœ¨éœ€è¦æ‰“å° <code>.pdf</code> çš„æ¿å­æ—¶è¿è¡Œä¸€ä¸‹pyè„šæœ¬å°±è¡Œäº†ï¼ŒåŒæ—¶ç”¨ <code>latex</code> ç”Ÿæˆçš„æ–‡ä»¶çš„æ ·å¼ä¹Ÿå¾ˆä¸ªæ€§åŒ–ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„å–œå¥½æ¥æ”¹å˜ï¼Œï¼Œæˆ‘ä¹Ÿä»ä¸­åŠ æ·±äº†å¯¹ <code>latex</code> è¯­è¨€çš„äº†è§£ã€‚</p>
<span id="more"></span>
<h1 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h1><p>ä¸ºäº†èƒ½å¤Ÿæœ€åèƒ½æ­£å¸¸çš„ç”Ÿæˆæ¿å­ï¼Œï¼Œé¦–å…ˆè¦ä¿è¯ä¸€äº›è½¯ä»¶èƒ½å¤Ÿæ­£å¸¸çš„ä½¿ç”¨ï¼š <code>python3</code>, <code>tex</code> ç­‰ç­‰</p>
<p>è¿™ä¸ª <code>Tex Live</code> æˆ‘å¾ˆæ—©ä¹‹å‰å°±å®‰è£…äº†ï¼Œæ‰€ä»¥ä¹Ÿå¿˜è®°å…·ä½“çš„å®‰è£…è¿‡ç¨‹äº†ï¼Œï¼Œåªè®°å¾—è¿™ç©æ„çš„ä¸‹è½½æ–‡ä»¶å¤šè€Œå¤§ï¼Œï¼Œå®‰è£…ä¹Ÿè´¹äº‹ï¼Œï¼Œä¸è¿‡å…·ä½“çš„å®‰è£…æ­¥éª¤ç½‘ä¸Šæœ‰å¾ˆå¤šæ•™ç¨‹ï¼ˆæ³¨æ„è¦ä¿è¯xecjkä½¿ç”¨ï¼Œï¼Œæ”¯æŒä¸­æ–‡çš„åŒ…</p>
<p>æœ€åçš„æ¿å­çš„ç®¡ç†æ–‡ä»¶å¤¹å¤§è‡´æ˜¯è¿™æ ·çš„ï¼š</p>
<figure class="highlight txt"><table><tr><td class="code"><pre><code class="hljs txt">å· æ–‡ä»¶ çš„æ–‡ä»¶å¤¹ PATH åˆ—è¡¨<br>å·åºåˆ—å·ä¸º D0B1-CFE7<br>G:.<br>â”‚  1.pdf                //ç”Ÿæˆçš„pdfæ–‡ä»¶<br>â”‚  1.tex                //ç”Ÿæˆçš„texæ–‡ä»¶<br>â”‚  logo.jpg             //æ¿å­çš„å°é¢<br>â”‚  README.md            <br>â”‚  setting.dat          //ä¿å­˜çš„é…ç½®ï¼Œåå­—å•Šç­‰ç­‰<br>â”‚  template.py          //æˆ‘ä»¬çš„è„šæœ¬<br>â”‚  tree.txt             //è¿™ä¸ªç›®å½•çš„å¤§è‡´ç»“æ„<br>â”‚  <br>â”œâ”€dp<br>â”‚      çº¿æ€§dp.cpp<br>â”‚      <br>â”œâ”€_MyTemplate<br>â”‚      init.cpp<br>â”‚      <br>â”œâ”€åšå¼ˆè®º<br>â”‚      sgå‡½æ•°.cpp<br>â”‚      <br>â”œâ”€å›¾è®º<br>â”‚  â”œâ”€2-sat<br>â”‚  â”‚      è¾“å‡ºå­—å…¸åºæœ€å°çš„è§£.cpp<br>â”‚  â”‚      <br>â”‚  â”œâ”€äºŒåˆ†å›¾<br>â”‚  â”‚      åŒˆç‰™åˆ©ç®—æ³•_é‚»æ¥çŸ©é˜µå®ç°.cpp<br>â”‚  â”‚      <br>â”‚  â”œâ”€å‰²ç‚¹ã€æ¡¥ã€è¿é€šåˆ†æ”¯<br>â”‚  â”‚      åŸºæœ¬å†…å®¹.cpp<br>â”‚  â”‚      <br>â”‚  â”œâ”€å·®åˆ†çº¦æŸ<br>â”‚  â”‚      å·®åˆ†çº¦æŸ.cpp<br>â”‚  â”‚      <br>â”‚  â”œâ”€å¼ºè¿é€šåˆ†é‡<br>â”‚  â”‚      Kosaraju.cpp<br>â”‚  â”‚      Tarjan_kuangbin.cpp<br>â”‚  â”‚      Tarjan_red_bool.cpp<br>â”‚  â”‚      <br>â”‚  â”œâ”€æ‹“æ‰‘æ’åº<br>â”‚  â”‚      æ‹“æ‰‘æ’åº.cpp<br>â”‚  â”‚      <br>â”‚  â”œâ”€æœ€çŸ­è·¯<br>â”‚  â”‚  â””â”€spfa<br>â”‚  â”‚          spfa_1_å‰å‘æ˜Ÿ.cpp<br>â”‚  â”‚          spfa_2_é‚»æ¥è¡¨_good.cpp<br>â”‚  â”‚          spfa_æ ˆä¼˜åŒ–.cpp<br>â”‚  â”‚          <br>â”‚  â””â”€ç½‘ç»œæµ<br>â”‚      â””â”€æœ€å¤§æµ<br>â”‚              dinic.cpp<br>â”‚              hlpp.cpp<br>â”‚              <br>â”œâ”€å­—ç¬¦ä¸²<br>â”‚      hash.cpp<br>â”‚      åºåˆ—è‡ªåŠ¨æœº.cpp<br>â”‚      <br>â”œâ”€æ•°æ®ç»“æ„<br>â”‚  â””â”€å¹¶æŸ¥é›†<br>â”‚          å¹¶æŸ¥é›†.cpp<br>â”‚          <br>â”œâ”€æ•°è®º<br>â”‚  â”‚  å¸¸ç”¨æ•°è®ºæ¿å­.cpp<br>â”‚  â”‚  <br>â”‚  â”œâ”€ä¸­å›½å‰©ä½™å®šç†<br>â”‚  â”‚      ä¸­å›½å‰©ä½™å®šç†_æ‰©å±•æ¬§å‡ é‡Œå¾—.cpp<br>â”‚  â”‚      ä¸­å›½å‰©ä½™å®šç†_æ¨¡æ•°ä¸ä¿è¯äº’è´¨.cpp<br>â”‚  â”‚      ä¸­å›½å‰©ä½™å®šç†_é€†å…ƒ.cpp<br>â”‚  â”‚      <br>â”‚  â”œâ”€å¤§æ•´æ•°_java<br>â”‚  â”‚      java.cpp<br>â”‚  â”‚      <br>â”‚  â””â”€å¿«é€Ÿå¹‚<br>â”‚          æœæ•™æ¿å­.cpp<br>â”‚          çŸ©é˜µå¿«é€Ÿå¹‚.cpp<br>â”‚          <br>â”œâ”€æ ‘<br>â”‚      çº¿æ®µæ ‘.cpp<br>â”‚      <br>â””â”€çº¿æ€§åŸº<br>        çº¿æ€§åŸº.cpp<br>        <br></code></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°æˆ‘ä»¬éœ€è¦åœ¨ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹æ”¾ç½®è„šæœ¬ç¨‹åºï¼Œæ¿å­çš„å°é¢ï¼Œä»¥åŠæœ€é‡è¦çš„å°±æ˜¯æˆ‘ä»¬çš„æ¿å­ï¼Œæ¯ä¸€ä¸ªæ¿å­éƒ½æ˜¯ <code>.cpp</code> æ–‡ä»¶ï¼Œç›´æ¥å°†æ¿å­æ‰”è¿›å»å°±è¡Œäº†ï¼Œï¼Œ</p>
<h1 id="è„šæœ¬"><a href="#è„šæœ¬" class="headerlink" title="è„šæœ¬"></a>è„šæœ¬</h1><p>æ€»çš„è„šæœ¬æ˜¯è¿™æ ·çš„ï¼Œç›´æ¥è¿è¡Œå°±è¡Œäº†ï¼Œï¼Œ<a href="https://blog.csdn.net/Gipsy_Danger/article/details/83311815">åŸåšä¸»</a> çš„è¿™ä¸ªç¨‹åºè²Œä¼¼åªèƒ½åœ¨ Linuxä¸‹çš„python2ä½¿ç”¨ï¼Œï¼Œæ‰€ä»¥æˆ‘åšäº†ä¸€äº›æ›´æ”¹ï¼Œåœ¨æˆ‘çš„ç¯å¢ƒä¸‹ï¼ˆwin10+python3.7ï¼‰æ˜¯å¯ä»¥æ­£å¸¸ä½¿ç”¨çš„ï¼Œï¼Œå…·ä½“çš„å†…å®¹å¯ä»¥çœ‹æ³¨é‡Š</p>
<p>æœ‰ä¸€ä¸ªå°bugï¼šç›®å½•è²Œä¼¼ä¸èƒ½æ˜¾ç¤ºå¾ˆå¤šï¼Œï¼Œï¼Œemmmmæœ‰æ—¶é—´å†æ”¹å§ï¼Œï¼Œï¼Œ</p>
<p>è¿˜æœ‰ç¼–è¯‘ä¸­é—´ä¼šæœ‰ä¸€äº›warning å¾—æ‰‹åŠ¨æŒ‰å›è½¦æ‰èƒ½è¿›è¡Œä¸‹ä¸€æ­¥</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># coding=utf-8</span><br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> sys<br><span class="hljs-keyword">import</span> json<br><br><span class="hljs-comment"># texçš„å¤´æ–‡ä»¶ï¼Œlstsetå°±æ˜¯æ¿å­çš„æ ·å¼</span><br>TexHead = <span class="hljs-string">r&quot;&quot;&quot;</span><br><span class="hljs-string">\documentclass[twocolumn, a4]&#123;article&#125;</span><br><span class="hljs-string">\usepackage[colorlinks,linkcolor=black]&#123;hyperref&#125;</span><br><span class="hljs-string">\usepackage&#123;xeCJK&#125;</span><br><span class="hljs-string">\usepackage&#123;fancyhdr&#125;</span><br><span class="hljs-string">\usepackage&#123;amsmath, amsthm&#125;</span><br><span class="hljs-string">\usepackage&#123;listings,xcolor&#125;</span><br><span class="hljs-string">\usepackage&#123;geometry&#125;</span><br><span class="hljs-string">\usepackage&#123;fontspec&#125; </span><br><span class="hljs-string">\usepackage&#123;graphicx&#125;</span><br><span class="hljs-string">\setsansfont&#123;Consolas&#125;</span><br><span class="hljs-string">\setmonofont[Mapping=&#123;&#125;]&#123;Consolas&#125;</span><br><span class="hljs-string">\newcommand&#123;\HRule&#125;&#123;\rule&#123;\linewidth&#125;&#123;0.5mm&#125;&#125;</span><br><span class="hljs-string">\geometry&#123;left=2.5cm,right=2.5cm,top=1cm,bottom=1cm&#125;</span><br><span class="hljs-string">\lstset&#123;</span><br><span class="hljs-string">    language    = c++,</span><br><span class="hljs-string">    numbers     = left,</span><br><span class="hljs-string">    numberstyle = \tiny,</span><br><span class="hljs-string">    breaklines  = true,</span><br><span class="hljs-string">    captionpos  = b,</span><br><span class="hljs-string">    tabsize     = 4,</span><br><span class="hljs-string">    frame       = shadowbox,</span><br><span class="hljs-string">    columns     = fullflexible,</span><br><span class="hljs-string">    commentstyle = \color[RGB]&#123;0,128,0&#125;,</span><br><span class="hljs-string">    keywordstyle = \color[RGB]&#123;0,0,255&#125;,</span><br><span class="hljs-string">    basicstyle   = \normalsize\ttfamily,</span><br><span class="hljs-string">    stringstyle  = \color[RGB]&#123;148,0,209&#125;\ttfamily,</span><br><span class="hljs-string">    rulesepcolor = \color&#123;red!20!green!20!blue!20&#125;,</span><br><span class="hljs-string">    showstringspaces = true,</span><br><span class="hljs-string">&#125;</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br> <br><span class="hljs-comment"># åˆå§‹åŒ–è®¾ç½®ï¼Œä¸»è¦æ˜¯æ¿å­çš„åå­—ç­‰ç­‰</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">InitSetting</span>():</span><br>    <span class="hljs-keyword">try</span>:<br>        SettingFile = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;setting.dat&#x27;</span>)<br>        SettingData = json.load(SettingFile)<br>        <span class="hljs-built_in">print</span> (<span class="hljs-string">u&#x27;è¯»å–åˆ°ä¿å­˜çš„è®¾ç½®: &#x27;</span>)<br>        <span class="hljs-keyword">for</span> key <span class="hljs-keyword">in</span> SettingData:<br>            <span class="hljs-built_in">print</span> (<span class="hljs-string">&#x27;[%s] %s&#x27;</span> % (key, SettingData[key]))<br>        op = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;æ˜¯å¦ä½¿ç”¨å·²ä¿å­˜çš„è®¾ç½®ï¼Ÿ[Y/n]&#x27;</span>)<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> op <span class="hljs-keyword">in</span> [<span class="hljs-string">&#x27;n&#x27;</span>, <span class="hljs-string">&#x27;N&#x27;</span>, <span class="hljs-string">&#x27;no&#x27;</span>, <span class="hljs-string">&#x27;No&#x27;</span>, <span class="hljs-string">&#x27;NO&#x27;</span>]:<br>            <span class="hljs-keyword">global</span> TITLE, SCHOOL, TEAM, FILE<br>            <span class="hljs-keyword">for</span> key <span class="hljs-keyword">in</span> [<span class="hljs-string">&#x27;TITLE&#x27;</span>, <span class="hljs-string">&#x27;SCHOOL&#x27;</span>, <span class="hljs-string">&#x27;TEAM&#x27;</span>, <span class="hljs-string">&#x27;FILE&#x27;</span>]:<br>                <span class="hljs-built_in">globals</span>()[key] = SettingData[key]<br>        <span class="hljs-keyword">else</span>:<br>            NewSetting()<br>    <span class="hljs-keyword">except</span>:<br>        <span class="hljs-built_in">print</span> (<span class="hljs-string">u&#x27;è¯»å–è®¾ç½®å¤±è´¥&#x27;</span>)<br>        NewSetting()<br> <br> <br><span class="hljs-comment"># è¾“å…¥ä¿¡æ¯ï¼Œä¿å­˜åˆ°æœ¬åœ°</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">NewSetting</span>():</span><br>    <span class="hljs-keyword">global</span> TITLE, SCHOOL, TEAM, FILE<br>    TITLE = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;è¯·è¾“å…¥æ ‡é¢˜: &#x27;</span>)<br>    SCHOOL = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;è¯·è¾“å…¥å­¦æ ¡: &#x27;</span>)<br>    TEAM = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;è¯·è¾“å…¥é˜Ÿå: &#x27;</span>)<br>    FILE = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;è¯·è¾“å…¥æ–‡ä»¶å: &#x27;</span>)<br>    Data = <span class="hljs-built_in">dict</span>()<br>    <span class="hljs-keyword">for</span> key <span class="hljs-keyword">in</span> [<span class="hljs-string">&#x27;TITLE&#x27;</span>, <span class="hljs-string">&#x27;SCHOOL&#x27;</span>, <span class="hljs-string">&#x27;TEAM&#x27;</span>, <span class="hljs-string">&#x27;FILE&#x27;</span>]:<br>        Data[key] = <span class="hljs-built_in">globals</span>()[key]<br>    json.dump(Data, <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;setting.dat&#x27;</span>, <span class="hljs-string">&#x27;w&#x27;</span>))<br> <br><span class="hljs-comment"># åˆ é™¤å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰ä¸­é—´ä¸´æ—¶æ–‡ä»¶</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">Clear</span>():</span><br>    <span class="hljs-keyword">for</span> suffix <span class="hljs-keyword">in</span> [<span class="hljs-string">&#x27;aux&#x27;</span>, <span class="hljs-string">&#x27;log&#x27;</span>, <span class="hljs-string">&#x27;toc&#x27;</span>, <span class="hljs-string">&#x27;out&#x27;</span>]:<br>        filename = <span class="hljs-string">&#x27;%s.%s&#x27;</span> % (FILE, suffix)<br>        <span class="hljs-keyword">if</span> os.path.exists(filename):<br>            os.remove(filename)<br> <br><span class="hljs-comment"># è°ƒç”¨ä¸¤æ¬¡ç”Ÿæˆæ¨¡æ¿æ¥ä½¿ .tex è½¬ä¸º .pdf</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">Generate</span>():</span><br>    Clear()<br>    os.system(<span class="hljs-string">&#x27;xelatex %s.tex -quiet&#x27;</span> % FILE)<br>    os.system(<span class="hljs-string">&#x27;xelatex %s.tex -quiet&#x27;</span> % FILE)			<span class="hljs-comment"># ä¸¤åˆ°ä¸‰æ¬¡çš„ç”Ÿæˆæ‰èƒ½ç”Ÿæˆç›®å½•https://zhidao.baidu.com/question/1541025230634017307.html</span><br>    Clear()<br>    os.system(<span class="hljs-string">&#x27;open %s.pdf&#x27;</span> % FILE)<br> <br><span class="hljs-comment"># å¯¹æ¯ä¸ªæ¿å­æ–‡ä»¶è¿›è¡Œè¯»å–å†™å…¥</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">ReadCpp</span>(<span class="hljs-params">file</span>):</span><br>    f = <span class="hljs-built_in">open</span>(file, <span class="hljs-string">&#x27;r&#x27;</span>, encoding=<span class="hljs-string">&#x27;UTF-8&#x27;</span>)<br>    <span class="hljs-built_in">print</span> (file + <span class="hljs-string">&#x27; 2333333333333333333333333333&#x27;</span>)<br>    Tex = <span class="hljs-number">0</span><br>    TargetFile.write(<span class="hljs-string">&#x27;\\begin&#123;lstlisting&#125;\n&#x27;</span>)<br>    <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> f:<br>        <span class="hljs-keyword">if</span> line[:-<span class="hljs-number">1</span>] == <span class="hljs-string">&#x27;// ---&#x27;</span>:<br>            Tex = <span class="hljs-keyword">not</span> Tex<br>            ToWrite = <span class="hljs-string">&#x27;\\%s&#123;lstlisting&#125;\n&#x27;</span> % (<span class="hljs-string">&#x27;begin&#x27;</span>, <span class="hljs-string">&#x27;end&#x27;</span>)[Tex]<br>            TargetFile.write(ToWrite)<br>            <span class="hljs-keyword">continue</span><br>        TargetFile.write(line[(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>)[Tex]:])<br>    TargetFile.write(<span class="hljs-string">&#x27;\\end&#123;lstlisting&#125;\n&#x27;</span>)<br>    f.close()<br> <br><span class="hljs-comment"># è¯»å…¥texæ–‡ä»¶</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">ReadTex</span>(<span class="hljs-params">file</span>):</span><br>    f = <span class="hljs-built_in">open</span>(file, <span class="hljs-string">&#x27;r&#x27;</span>)<br>    <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> f:<br>        TargetFile.write(line)<br>    f.close()<br> <br><span class="hljs-comment"># é€’å½’éå†å½“å‰æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡ä»¶</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">Search</span>(<span class="hljs-params">level, pwd, folder=<span class="hljs-string">&#x27;&#x27;</span></span>):</span><br>    ls = os.popen(<span class="hljs-string">&#x27;dir /b &quot;%s&quot;&#x27;</span> % pwd).read().split(<span class="hljs-string">&#x27;\n&#x27;</span>)[:-<span class="hljs-number">1</span>]<br>    <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> ls:<br>        <span class="hljs-built_in">print</span> (item)<br>    <span class="hljs-keyword">if</span> folder:<br>        <span class="hljs-built_in">print</span> (level)<br>        TargetFile.write(SECTION[level] % folder[<span class="hljs-number">0</span>:])<br>    <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> ls:<br>        <span class="hljs-built_in">print</span> (item + <span class="hljs-string">&#x27;2333&#x27;</span> + item[:-<span class="hljs-number">3</span>])<br>        item.replace(<span class="hljs-string">&#x27; &#x27;</span>, <span class="hljs-string">&#x27;\\ &#x27;</span>)<br>        <span class="hljs-keyword">if</span> <span class="hljs-string">&#x27;.cpp&#x27;</span> <span class="hljs-keyword">in</span> item:<br>            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> item[:<span class="hljs-number">2</span>] == <span class="hljs-string">&#x27;00&#x27;</span>:<br>                TargetFile.write(SECTION[level + <span class="hljs-number">1</span>] % item[:-<span class="hljs-number">4</span>])<br>            ReadCpp(pwd + item)<br>        <span class="hljs-keyword">elif</span> <span class="hljs-string">&#x27;.tex&#x27;</span> <span class="hljs-keyword">in</span> item:<br>            <span class="hljs-keyword">continue</span><br>            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> item[:<span class="hljs-number">2</span>] == <span class="hljs-string">&#x27;00&#x27;</span>:<br>                TargetFile.write(SECTION[level + <span class="hljs-number">1</span>] % item[:-<span class="hljs-number">4</span>])<br>            ReadTex(pwd + item)<br>        <span class="hljs-keyword">elif</span> <span class="hljs-string">&#x27;jpg&#x27;</span> <span class="hljs-keyword">in</span> item:<br>            <span class="hljs-keyword">continue</span><br>        <span class="hljs-keyword">elif</span> <span class="hljs-string">&#x27;md&#x27;</span> <span class="hljs-keyword">in</span> item:<br>            <span class="hljs-keyword">continue</span><br>        <span class="hljs-keyword">elif</span> <span class="hljs-string">&#x27;dat&#x27;</span> <span class="hljs-keyword">in</span> item:<br>            <span class="hljs-keyword">continue</span><br>        <span class="hljs-keyword">elif</span> <span class="hljs-string">&#x27;py&#x27;</span> <span class="hljs-keyword">in</span> item:<br>            <span class="hljs-keyword">continue</span><br>        <span class="hljs-keyword">elif</span> <span class="hljs-string">&#x27;txt&#x27;</span> <span class="hljs-keyword">in</span> item:<br>            <span class="hljs-keyword">continue</span><br>        <span class="hljs-keyword">elif</span> <span class="hljs-string">&#x27;pdf&#x27;</span> <span class="hljs-keyword">in</span> item:<br>            <span class="hljs-keyword">continue</span><br>        <span class="hljs-keyword">else</span>:<br>            cd = os.popen(<span class="hljs-string">&#x27;cd &quot;%s%s/&quot;&#x27;</span> % (pwd, item)).read()<br>            <span class="hljs-keyword">if</span> <span class="hljs-string">&#x27;Not a directory&#x27;</span> <span class="hljs-keyword">in</span> cd <span class="hljs-keyword">or</span> <span class="hljs-string">&#x27;No such file or directory&#x27;</span> <span class="hljs-keyword">in</span> cd:<br>                <span class="hljs-built_in">print</span> (<span class="hljs-string">&#x27;[Unknown File] %s/%s&#x27;</span> % (pwd, item))<br>            <span class="hljs-keyword">else</span>:<br>                Search(level + <span class="hljs-number">1</span>, pwd + item + <span class="hljs-string">&#x27;/&#x27;</span>, item)<br> <br> <br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    <span class="hljs-comment"># å…¨å±€è®¾ç½®</span><br>    TITLE, SCHOOL, TEAM, FILE = <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span><br>    SECTION = [<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;\\clearpage\\section&#123;%s&#125;\n&#x27;</span>,<br>               <span class="hljs-string">&#x27;\\subsection&#123;%s&#125;\n&#x27;</span>, <span class="hljs-string">&#x27;\\subsubsection&#123;%s&#125;\n&#x27;</span>, <span class="hljs-string">&#x27;\\paragraph&#123;%s&#125;\n&#x27;</span>, <span class="hljs-string">&#x27;\\subparagraph&#123;%s&#125;\n&#x27;</span>]<br> <br>    InitSetting()<br>    Clear()<br><br>    TargetFile = <span class="hljs-built_in">open</span>(<span class="hljs-string">&#x27;%s.tex&#x27;</span> % FILE, <span class="hljs-string">&#x27;w&#x27;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br> <br>    <span class="hljs-comment"># Output Head File</span><br>    TargetFile.write(TexHead)<br>    TargetFile.write(<span class="hljs-string">&#x27;\\title&#123;%s&#125;\n&#x27;</span> % TITLE)<br>    TargetFile.write(<span class="hljs-string">&#x27;\\author&#123;%s&#125;\n&#x27;</span> % TEAM)<br>    TargetFile.write(<span class="hljs-string">&#x27;\\pagestyle&#123;fancy&#125;\n\\fancyhf&#123;&#125;\n\\fancyhead[C]&#123;%s&#125;\n&#x27;</span> % (TITLE))<br>    TargetFile.write(<span class="hljs-string">&#x27;\\begin&#123;document&#125;\\small\n&#x27;</span>)<br>    TargetFile.write(<span class="hljs-string">&#x27;\\begin&#123;titlepage&#125;\n\\begin&#123;center&#125;\n\\vspace*&#123;0.5cm&#125;\\includegraphics[width=0.75\\textwidth]&#123;logo.jpg&#125; \\\\ [2cm]\n&#x27;</span>)<br>    TargetFile.write(<span class="hljs-string">&#x27;\\HRule \\\\ [1cm]\n&#x27;</span>)<br>    TargetFile.write(<span class="hljs-string">&#x27;\\textbf&#123;\\Huge&#123;%s&#125;&#125; \\\\ [0.5cm]\n&#x27;</span> % TITLE)<br>    TargetFile.write(<span class="hljs-string">&#x27;\\HRule \\\\ [4cm]\n&#x27;</span>)<br>    TargetFile.write(<span class="hljs-string">&#x27;\\textbf&#123;\\Huge&#123;%s&#125;&#125; \\\\ [1cm]\n\\LARGE&#123;%s&#125;\n&#x27;</span> % (SCHOOL, TEAM))<br>    TargetFile.write(<span class="hljs-string">&#x27;\\vfill\n\\Large&#123;\\today&#125;\n\\end&#123;center&#125;\n&#x27;</span>)<br>    TargetFile.write(<span class="hljs-string">&#x27;\\clearpage\n\end&#123;titlepage&#125;\n&#x27;</span>)<br>    TargetFile.write(<span class="hljs-string">&#x27;\\tableofcontents\\clearpage\n&#x27;</span>)<br>    TargetFile.write(<span class="hljs-string">&#x27;\\pagestyle&#123;fancy&#125;\n\\lfoot&#123;&#125;\n\\cfoot&#123;\\thepage&#125;\\rfoot&#123;&#125;\n&#x27;</span>)<br>    TargetFile.write(<span class="hljs-string">&#x27;\\setcounter&#123;section&#125;&#123;-1&#125;\n\\setcounter&#123;page&#125;&#123;1&#125;\n&#x27;</span>)<br> <br>    <span class="hljs-comment"># Search Files</span><br>    Search(<span class="hljs-number">0</span>, <span class="hljs-string">&#x27;./&#x27;</span>)<br> <br>    <span class="hljs-comment"># End Output</span><br>    TargetFile.write(<span class="hljs-string">&#x27;\n\\end&#123;document&#125;\n&#x27;</span>)<br>    TargetFile.close()<br> <br>    <span class="hljs-comment"># Gen</span><br>    Generate()<br></code></pre></td></tr></table></figure>
<p>æœ€åçš„æ•ˆæœå¦‚ä¸‹ï¼›</p>
<p><img src="https://img2018.cnblogs.com/blog/1028485/201908/1028485-20190831213235111-1169445063.png" alt=""></p>
<p>å‚è€ƒçš„åšå®¢ï¼š</p>
<p><a href="https://blog.csdn.net/Gipsy_Danger/article/details/83311815">ä¸»ç¨‹åº</a></p>
<p><a href="https://www.jianshu.com/p/28552706e811">latexè¯­æ³•çš„ä»‹ç»</a></p>
<p><a href="https://www.overleaf.com/learn/latex/Code_listing#">latexå®˜ç½‘</a></p>
<p><a href="http://dralpha.altervista.org/zh/tech/tech.htm">latexçš„æŸä¸ªå¤§ä½¬çš„ç¬”è®°</a></p>
<p>ï¼ˆåº”è¯¥æ²¡äº†å§ï¼Œï¼Œï¼Œï¼Œend</p>
]]></content>
      <categories>
        <category>ACM-æ•´ç†</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>å·¥å…·ä½¿ç”¨</tag>
        <tag>latex</tag>
      </tags>
  </entry>
  <entry>
    <title>acm-STL</title>
    <url>/2018/09/18/acm-STL/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p>c++ä¸­æœ‰å¾ˆå¤šstlæ¨¡æ¿ï¼Œï¼Œåœ¨è§£å†³ä¸€äº›é—®é¢˜æ—¶ä½¿ç”¨å®ƒä»¬å¯ä»¥åœ¨è¾ƒå°çš„æ—¶é—´å¤æ‚åº¦é‡Œå®Œæˆé¢˜ç›®ï¼Œï¼Œï¼Œ</p>
<p>æœ¬ç¯‡åšå®¢ä¸»è¦æ˜¯å¯¹ä¸€äº›å¸¸ç”¨çš„stlçš„æ€»ç»“ï¼Œï¼Œï¼Œ</p>
<p>å¤§éƒ¨åˆ†å†…å®¹æ¥è‡ªå¤§ä½¬çš„<br><a href="https://blog.csdn.net/f_zyj/article/details/51594851">åšå®¢</a>;</p>
<p>ä¸»è¦å†…å®¹æœ‰: <strong>pair</strong> , <strong>set</strong> , <strong>vector</strong> , <strong>string</strong> , <strong>stack</strong> , <strong>queue</strong> , <strong>map</strong> , <strong>bitset</strong> , <strong>iterator</strong> , <strong>algorithm</strong>.</p>
<span id="more"></span>
<h1 id="pair"><a href="#pair" class="headerlink" title="pair"></a>pair</h1><p><strong>å¤´æ–‡ä»¶</strong>: <code>#include &lt;utility&gt;</code></p>
<p><strong>ä½œç”¨</strong>: ç”¨æ¥è¡¨ç¤ºä¸€ä¸ª <strong>äºŒå…ƒç»„</strong> æˆ– <strong>å…ƒç´ å¯¹</strong> ï¼Œ ï¼ˆç›¸å½“äºå¹³é¢é‡Œçš„ä¸€ä¸ªç‚¹ï¼‰ ï¼Œ å¹¶æä¾›äº†æŒ‰ç…§å­—å…¸åºå¯¹å…ƒç´ è¿›è¡Œå¤§å°æ¯”è¾ƒè¿ç®—ç¬¦æ¨¡æ¿å‡½æ•°ï¼Œï¼Œï¼Œ</p>
<p><strong>ä½¿ç”¨</strong>: </p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span> , <span class="hljs-keyword">int</span>&gt; p;<br><span class="hljs-built_in">cin</span> &gt;&gt; p.first &gt;&gt; p.second;<br><span class="hljs-built_in">cout</span> &lt;&lt; p.first &lt;&lt; p.second;<br></code></pre></td></tr></table></figure>
<p>pairéœ€è¦ä¸¤ä¸ªå‚æ•°ï¼Œé¦–å°¾å…ƒç´ çš„æ•°æ®ç±»å‹ã€‚</p>
<p>pairæœ‰ä¸¤ä¸ªå¯¹è±¡æˆå‘˜ï¼Œ<strong>first</strong> , <strong>second</strong>;</p>
<p>åœ¨\<utility>ä¸­å·²ç»å®šä¹‰äº†pairä¸Šçš„å…­ä¸ªæ¯”è¾ƒè¿ç®—ç¬¦ï¼š&lt;ã€&gt;ã€&lt;=ã€&gt;=ã€==ã€!=ï¼Œå…¶è§„åˆ™æ˜¯å…ˆæ¯”è¾ƒfirstï¼Œfirstç›¸ç­‰æ—¶å†æ¯”è¾ƒsecondï¼Œè¿™ç¬¦åˆå¤§å¤šæ•°åº”ç”¨çš„é€»è¾‘ã€‚å½“ç„¶ï¼Œä¹Ÿå¯ä»¥é€šè¿‡é‡è½½è¿™å‡ ä¸ªè¿ç®—ç¬¦æ¥é‡æ–°æŒ‡å®šè‡ªå·±çš„æ¯”è¾ƒé€»è¾‘ã€‚<br>é™¤äº†ç›´æ¥å®šä¹‰ä¸€ä¸ªpairå¯¹è±¡å¤–ï¼Œå¦‚æœéœ€è¦å³æ—¶ç”Ÿæˆä¸€ä¸ªpairå¯¹è±¡ï¼Œä¹Ÿå¯ä»¥è°ƒç”¨åœ¨\<utility>ä¸­å®šä¹‰çš„ä¸€ä¸ªæ¨¡ç‰ˆå‡½æ•°ï¼šmake_pairã€‚make_pairéœ€è¦ä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«ä¸ºå…ƒç´ å¯¹çš„é¦–å…ƒç´ å’Œå°¾å…ƒç´ ã€‚</p>
<h1 id="set"><a href="#set" class="headerlink" title="set"></a>set</h1><h2 id="set-1"><a href="#set-1" class="headerlink" title="set"></a>set</h2><p><strong>å¤´æ–‡ä»¶</strong>: <code>#include &lt;set&gt;</code></p>
<p><strong>ä½œç”¨</strong>: setæ˜¯ä¸ <strong>é›†åˆ</strong> ç›¸å…³çš„å®¹å™¨ï¼ŒSTLä¸ºæˆ‘ä»¬æä¾›äº†setçš„å®ç°ï¼Œåœ¨ç¼–ç¨‹é¢˜ä¸­é‡è§é›†åˆé—®é¢˜ç›´æ¥è°ƒç”¨æ˜¯ååˆ†æ–¹ä¾¿çš„ã€‚</p>
<p><strong>ä½¿ç”¨</strong>: </p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-built_in">set</span>&lt;<span class="hljs-keyword">int</span>&gt; s;<br><span class="hljs-built_in">set</span>&lt;<span class="hljs-keyword">double</span>&gt; ss;<br></code></pre></td></tr></table></figure>
<p><strong>åŸºæœ¬æ“ä½œ</strong>:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp">s.begin()       <span class="hljs-comment">//  è¿”å›æŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨</span><br>s.clear()       <span class="hljs-comment">//  æ¸…é™¤æ‰€æœ‰å…ƒç´ </span><br>s.count()       <span class="hljs-comment">//  è¿”å›æŸä¸ªå€¼å…ƒç´ çš„ä¸ªæ•°</span><br>s.empty()       <span class="hljs-comment">//  å¦‚æœé›†åˆä¸ºç©ºï¼Œè¿”å›true(çœŸï¼‰</span><br>s.end()         <span class="hljs-comment">//  è¿”å›æŒ‡å‘æœ€åä¸€ä¸ªå…ƒç´ ä¹‹åçš„è¿­ä»£å™¨ï¼Œä¸æ˜¯æœ€åä¸€ä¸ªå…ƒç´ </span><br>s.equal_range() <span class="hljs-comment">//  è¿”å›é›†åˆä¸­ä¸ç»™å®šå€¼ç›¸ç­‰çš„ä¸Šä¸‹é™çš„ä¸¤ä¸ªè¿­ä»£å™¨</span><br>s.erase()       <span class="hljs-comment">//  åˆ é™¤é›†åˆä¸­çš„å…ƒç´ </span><br>s.find()        <span class="hljs-comment">//  è¿”å›ä¸€ä¸ªæŒ‡å‘è¢«æŸ¥æ‰¾åˆ°å…ƒç´ çš„è¿­ä»£å™¨</span><br>s.get_allocator()   <span class="hljs-comment">//  è¿”å›é›†åˆçš„åˆ†é…å™¨</span><br>s.insert()      <span class="hljs-comment">//  åœ¨é›†åˆä¸­æ’å…¥å…ƒç´ </span><br>s.lower_bound() <span class="hljs-comment">//  è¿”å›æŒ‡å‘å¤§äºï¼ˆæˆ–ç­‰äºï¼‰æŸå€¼çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨</span><br>s.key_comp()    <span class="hljs-comment">//  è¿”å›ä¸€ä¸ªç”¨äºå…ƒç´ é—´å€¼æ¯”è¾ƒçš„å‡½æ•°</span><br>s.max_size()    <span class="hljs-comment">//  è¿”å›é›†åˆèƒ½å®¹çº³çš„å…ƒç´ çš„æœ€å¤§é™å€¼</span><br>s.rbegin()      <span class="hljs-comment">//  è¿”å›æŒ‡å‘é›†åˆä¸­æœ€åä¸€ä¸ªå…ƒç´ çš„åå‘è¿­ä»£å™¨</span><br>s.rend()        <span class="hljs-comment">//  è¿”å›æŒ‡å‘é›†åˆä¸­ç¬¬ä¸€ä¸ªå…ƒç´ çš„åå‘è¿­ä»£å™¨</span><br>s.size()        <span class="hljs-comment">//  é›†åˆä¸­å…ƒç´ çš„æ•°ç›®</span><br>s.swap()        <span class="hljs-comment">//  äº¤æ¢ä¸¤ä¸ªé›†åˆå˜é‡</span><br>s.upper_bound() <span class="hljs-comment">//  è¿”å›å¤§äºæŸä¸ªå€¼å…ƒç´ çš„è¿­ä»£å™¨</span><br>s.value_comp()  <span class="hljs-comment">//  è¿”å›ä¸€ä¸ªç”¨äºæ¯”è¾ƒå…ƒç´ é—´çš„å€¼çš„å‡½æ•°</span><br></code></pre></td></tr></table></figure>
<h2 id="multiset"><a href="#multiset" class="headerlink" title="multiset"></a>multiset</h2><p>multisetï¼ˆå¤šé‡é›†åˆï¼‰</p>
<p><strong>ä¸setçš„åŒºåˆ«</strong>: </p>
<ul>
<li>å¤šé‡é›†åˆä¸é›†åˆçš„åŒºåˆ«åœ¨äºé›†åˆä¸­ <strong>ä¸èƒ½</strong> å­˜åœ¨ç›¸åŒå…ƒç´ ï¼Œè€Œå¤šé‡é›†åˆä¸­å¯ä»¥å­˜åœ¨ã€‚</li>
<li>multisetå’Œsetçš„åŸºæœ¬æ“ä½œç›¸ä¼¼ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé›†åˆçš„count()èƒ½è¿”å›0ï¼ˆæ— ï¼‰æˆ–è€…1ï¼ˆæœ‰ï¼‰ï¼Œè€Œå¤šé‡é›†åˆæ˜¯æœ‰å¤šå°‘ä¸ªè¿”å›å¤šå°‘ä¸ªã€‚</li>
</ul>
<p><strong>ä½¿ç”¨</strong>:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-built_in">multiset</span>&lt;<span class="hljs-keyword">int</span>&gt; s;<br><span class="hljs-built_in">multiset</span>&lt;<span class="hljs-keyword">double</span>&gt; ss;<br></code></pre></td></tr></table></figure>
<h1 id="vector"><a href="#vector" class="headerlink" title="vector"></a>vector</h1><p><strong>å¤´æ–‡ä»¶</strong>:  <code>#include &lt;vector&gt;</code></p>
<p><strong>ä½œç”¨</strong>: vector(å‘é‡å®¹å™¨æ¨¡æ¿ç±») ï¼Œ ä»¥è¿ç»­æ•°ç»„çš„æ–¹å¼å‚¨å­˜å…ƒç´ åºåˆ— ï¼Œ ä¸€èˆ¬ä½œä¸ºåŠ¨æ€æ•°ç»„æ¥ç”¨ï¼Œï¼ŒåŠ¨æ€å¢é•¿å‚¨å­˜ç©ºé—´ï¼Œ</p>
<p><strong>ä½¿ç”¨</strong>:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; s;      <br><span class="hljs-comment">//  å®šä¹‰ä¸€ä¸ªç©ºçš„vectorå¯¹è±¡ï¼Œå­˜å‚¨çš„æ˜¯intç±»å‹çš„å…ƒç´ </span><br><span class="hljs-function"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; <span class="hljs-title">s</span><span class="hljs-params">(n)</span></span>;   <br><span class="hljs-comment">//  å®šä¹‰ä¸€ä¸ªå«æœ‰nä¸ªintå…ƒç´ çš„vectorå¯¹è±¡</span><br><span class="hljs-function"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; <span class="hljs-title">s</span><span class="hljs-params">(first, last)</span></span>; <br><span class="hljs-comment">//  å®šä¹‰ä¸€ä¸ªvectorå¯¹è±¡ï¼Œå¹¶ä»ç”±è¿­ä»£å™¨firstå’Œlastå®šä¹‰çš„åºåˆ—[first, last)ä¸­å¤åˆ¶åˆå€¼</span><br></code></pre></td></tr></table></figure>
<p>vectoræ¨¡ç‰ˆç±»éœ€è¦ä¸¤ä¸ªæ¨¡ç‰ˆå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å­˜å‚¨å…ƒç´ çš„æ•°æ®ç±»å‹ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å­˜å‚¨åˆ†é…å™¨çš„ç±»å‹ï¼Œå…¶ä¸­ç¬¬äºŒä¸ªå‚æ•°æ˜¯å¯é€‰çš„ï¼Œå¦‚æœä¸ç»™å‡ºç¬¬äºŒä¸ªå‚æ•°ï¼Œå°†ä½¿ç”¨é»˜è®¤çš„åˆ†é…å™¨ã€‚</p>
<p><strong>vectorçš„åŸºæœ¬æ“ä½œ</strong>:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp">s[i]                <span class="hljs-comment">//  ç›´æ¥ä»¥ä¸‹æ ‡æ–¹å¼è®¿é—®å®¹å™¨ä¸­çš„å…ƒç´ </span><br>s.front()           <span class="hljs-comment">//  è¿”å›é¦–å…ƒç´ </span><br>s.back()            <span class="hljs-comment">//  è¿”å›å°¾å…ƒç´ </span><br>s.push_back(x)      <span class="hljs-comment">//  å‘è¡¨å°¾æ’å…¥å…ƒç´ x</span><br>s.size()            <span class="hljs-comment">//  è¿”å›è¡¨é•¿</span><br>s.empty()           <span class="hljs-comment">//  è¡¨ä¸ºç©ºæ—¶ï¼Œè¿”å›çœŸï¼Œå¦åˆ™è¿”å›å‡</span><br>s.pop_back()        <span class="hljs-comment">//  åˆ é™¤è¡¨å°¾å…ƒç´ </span><br>s.begin()           <span class="hljs-comment">//  è¿”å›æŒ‡å‘é¦–å…ƒç´ çš„éšæœºå­˜å–è¿­ä»£å™¨</span><br>s.end()             <span class="hljs-comment">//  è¿”å›æŒ‡å‘å°¾å…ƒç´ çš„ä¸‹ä¸€ä¸ªä½ç½®çš„éšæœºå­˜å–è¿­ä»£å™¨</span><br>s.insert(it, val)   <span class="hljs-comment">//  å‘è¿­ä»£å™¨itæŒ‡å‘çš„å…ƒç´ å‰æ’å…¥æ–°å…ƒç´ val</span><br>s.insert(it, n, val)<span class="hljs-comment">//  å‘è¿­ä»£å™¨itæŒ‡å‘çš„å…ƒç´ å‰æ’å…¥nä¸ªæ–°å…ƒç´ val</span><br>s.insert(it, first, last)   <br><span class="hljs-comment">//  å°†ç”±è¿­ä»£å™¨firstå’Œlastæ‰€æŒ‡å®šçš„åºåˆ—[first, last)æ’å…¥åˆ°è¿­ä»£å™¨itæŒ‡å‘çš„å…ƒç´ å‰é¢</span><br>s.erase(it)         <span class="hljs-comment">//  åˆ é™¤ç”±è¿­ä»£å™¨itæ‰€æŒ‡å‘çš„å…ƒç´ </span><br>s.erase(first, last)<span class="hljs-comment">//  åˆ é™¤ç”±è¿­ä»£å™¨firstå’Œlastæ‰€æŒ‡å®šçš„åºåˆ—[first, last)</span><br>s.reserve(n)        <span class="hljs-comment">//  é¢„åˆ†é…ç¼“å†²ç©ºé—´ï¼Œä½¿å­˜å‚¨ç©ºé—´è‡³å°‘å¯å®¹çº³nä¸ªå…ƒç´ </span><br>s.resize(n)         <span class="hljs-comment">//  æ”¹å˜åºåˆ—é•¿åº¦ï¼Œè¶…å‡ºçš„å…ƒç´ å°†ä¼šå…¨éƒ¨è¢«åˆ é™¤ï¼Œå¦‚æœåºåˆ—éœ€è¦æ‰©å±•ï¼ˆåŸç©ºé—´å°äºnï¼‰ï¼Œå…ƒç´ é»˜è®¤å€¼å°†å¡«æ»¡æ‰©å±•å‡ºçš„ç©ºé—´</span><br>s.resize(n, val)    <span class="hljs-comment">//  æ”¹å˜åºåˆ—é•¿åº¦ï¼Œè¶…å‡ºçš„å…ƒç´ å°†ä¼šå…¨éƒ¨è¢«åˆ é™¤ï¼Œå¦‚æœåºåˆ—éœ€è¦æ‰©å±•ï¼ˆåŸç©ºé—´å°äºnï¼‰ï¼Œvalå°†å¡«æ»¡æ‰©å±•å‡ºçš„ç©ºé—´</span><br>s.clear()           <span class="hljs-comment">//  åˆ é™¤å®¹å™¨ä¸­çš„æ‰€æœ‰å…ƒç´ </span><br>s.swap(v)           <span class="hljs-comment">//  å°†sä¸å¦ä¸€ä¸ªvectorå¯¹è±¡è¿›è¡Œäº¤æ¢</span><br>s.assign(first, last)<br><span class="hljs-comment">//  å°†åºåˆ—æ›¿æ¢æˆç”±è¿­ä»£å™¨firstå’Œlastæ‰€æŒ‡å®šçš„åºåˆ—[first, last)ï¼Œ[first, last)ä¸èƒ½æ˜¯åŸåºåˆ—ä¸­çš„ä¸€éƒ¨åˆ†</span><br><br><span class="hljs-comment">//  è¦æ³¨æ„çš„æ˜¯ï¼Œresizeæ“ä½œå’Œclearæ“ä½œéƒ½æ˜¯å¯¹è¡¨çš„æœ‰æ•ˆå…ƒç´ è¿›è¡Œçš„æ“ä½œï¼Œä½†å¹¶ä¸ä¸€å®šä¼šæ”¹å˜ç¼“å†²ç©ºé—´çš„å¤§å°</span><br><span class="hljs-comment">//  å¦å¤–ï¼Œvectorè¿˜æœ‰å…¶ä»–çš„ä¸€äº›æ“ä½œï¼Œå¦‚åè½¬ã€å–åç­‰ï¼Œä¸å†ä¸€ä¸€åˆ—ä¸¾</span><br><span class="hljs-comment">//  vectorä¸Šè¿˜å®šä¹‰äº†åºåˆ—ä¹‹é—´çš„æ¯”è¾ƒæ“ä½œè¿ç®—ç¬¦ï¼ˆ&gt;ã€&lt;ã€&gt;=ã€&lt;=ã€==ã€!=ï¼‰ï¼Œå¯ä»¥æŒ‰ç…§å­—å…¸åºæ¯”è¾ƒä¸¤ä¸ªåºåˆ—ã€‚</span><br></code></pre></td></tr></table></figure>
<h1 id="string"><a href="#string" class="headerlink" title="string"></a>string</h1>]]></content>
      <categories>
        <category>acm</category>
      </categories>
      <tags>
        <tag>acm</tag>
        <tag>c++</tag>
      </tags>
  </entry>
  <entry>
    <title>acm_java</title>
    <url>/2019/02/27/acm-java/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>æœ‰æ—¶ä¼šç¢°åˆ°ä¸€äº›å¤§æ•°çš„é¢˜ï¼Œï¼Œpythonä¸æ€ä¹ˆä¼šï¼Œï¼Œç”¨c++æ¨¡æ¿çš„è¯æœ‰å¤ªé•¿äº†ï¼Œï¼Œæ‰€ä»¥è¹­ç€é€‰ä¿®çš„Javaï¼Œæ­£å¥½è®°å½•ä¸€ä¸‹javaåœ¨åšé¢˜ä¸­çš„åŸºæœ¬çš„ä½¿ç”¨ï¼Œï¼Œ</p>
<span id="more"></span>
<h1 id="åŸºæœ¬çš„è¾“å…¥è¾“å‡º"><a href="#åŸºæœ¬çš„è¾“å…¥è¾“å‡º" class="headerlink" title="åŸºæœ¬çš„è¾“å…¥è¾“å‡º"></a>åŸºæœ¬çš„è¾“å…¥è¾“å‡º</h1><h2 id="å¤šç»„æ•°æ®è¯»åˆ°æ–‡ä»¶æœ«"><a href="#å¤šç»„æ•°æ®è¯»åˆ°æ–‡ä»¶æœ«" class="headerlink" title="å¤šç»„æ•°æ®è¯»åˆ°æ–‡ä»¶æœ«"></a>å¤šç»„æ•°æ®è¯»åˆ°æ–‡ä»¶æœ«</h2><figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.Scanner;<br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span></span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>        Scanner input = <span class="hljs-keyword">new</span> Scanner(System.in);<br>        <span class="hljs-keyword">int</span> a, b;<br>        <span class="hljs-keyword">while</span>(input.hasNextInt()) &#123;<br>            a = input.nextInt();<br>            b = input.nextInt();<br>            System.out.println(a+b);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="tç»„æ•°æ®"><a href="#tç»„æ•°æ®" class="headerlink" title="tç»„æ•°æ®"></a>tç»„æ•°æ®</h2><figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.*;<br><span class="hljs-keyword">import</span> java.util.*;<br><span class="hljs-keyword">import</span> java.math.*;<br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span></span>&#123;<br>	<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>		Scanner input = <span class="hljs-keyword">new</span> Scanner(System.in);<br>		<span class="hljs-keyword">int</span> t, a, b;<br>		t = input.nextInt();<br>		<span class="hljs-keyword">while</span>(t &gt; <span class="hljs-number">0</span>) &#123;<br>			--t;<br>			a = input.nextInt();<br>			b = input.nextInt();<br>			System.out.println(a + b);<br>		&#125;<br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="è¯»åˆ°è¾“å…¥çš„æ•°å­—éƒ½ä¸ºé›¶æ—¶"><a href="#è¯»åˆ°è¾“å…¥çš„æ•°å­—éƒ½ä¸ºé›¶æ—¶" class="headerlink" title="è¯»åˆ°è¾“å…¥çš„æ•°å­—éƒ½ä¸ºé›¶æ—¶"></a>è¯»åˆ°è¾“å…¥çš„æ•°å­—éƒ½ä¸ºé›¶æ—¶</h2><figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.*;<br><span class="hljs-keyword">import</span> java.util.*;<br><span class="hljs-keyword">import</span> java.math.*;<br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span></span>&#123;<br>	<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>		Scanner input = <span class="hljs-keyword">new</span> Scanner(System.in);<br>		<span class="hljs-keyword">int</span> a, b;<br>		<span class="hljs-keyword">while</span>(input.hasNextInt()) &#123;<br>			a = input.nextInt();<br>			b = input.nextInt();<br>			<span class="hljs-keyword">if</span>(a == <span class="hljs-number">0</span> &amp;&amp; b == <span class="hljs-number">0</span>)<span class="hljs-keyword">break</span>;<br>			System.out.println(a + b);<br>		&#125;<br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="è¾“å…¥nä¸ªæ•°ï¼Œnä¸ºé›¶ç»“æŸ"><a href="#è¾“å…¥nä¸ªæ•°ï¼Œnä¸ºé›¶ç»“æŸ" class="headerlink" title="è¾“å…¥nä¸ªæ•°ï¼Œnä¸ºé›¶ç»“æŸ"></a>è¾“å…¥nä¸ªæ•°ï¼Œnä¸ºé›¶ç»“æŸ</h2><figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.*;<br><span class="hljs-keyword">import</span> java.util.*;<br><span class="hljs-keyword">import</span> java.math.*;<br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span></span>&#123;<br>	<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>		Scanner input = <span class="hljs-keyword">new</span> Scanner(System.in);<br>		<span class="hljs-keyword">while</span>(input.hasNextInt()) &#123;<br>			<span class="hljs-keyword">int</span> n = input.nextInt();<br>			<span class="hljs-keyword">if</span>(n == <span class="hljs-number">0</span>)<span class="hljs-keyword">break</span>;<br>			<span class="hljs-keyword">int</span> sum = <span class="hljs-number">0</span>;<br>			<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i) &#123;<br>				<span class="hljs-keyword">int</span> t = input.nextInt();<br>				sum += t;<br>			&#125;<br>			System.out.println(sum);<br>		&#125;<br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="å­—ç¬¦çš„è¯»å…¥"><a href="#å­—ç¬¦çš„è¯»å…¥" class="headerlink" title="å­—ç¬¦çš„è¯»å…¥"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=2000">å­—ç¬¦çš„è¯»å…¥</a></h2><figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.*;<br><span class="hljs-keyword">import</span> java.util.*;<br><span class="hljs-keyword">import</span> java.math.*;<br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> 31415926535x</span><br><span class="hljs-comment"> * acm_java</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span></span>&#123;<br>	<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>		Scanner input = <span class="hljs-keyword">new</span> Scanner(System.in);<br>		String s;<br>		<span class="hljs-keyword">while</span>(input.hasNext()) &#123;<br>			s = input.nextLine();<br>			<span class="hljs-keyword">char</span>[]w = s.toCharArray();<br>			Arrays.sort(w);<br>			System.out.println(w[<span class="hljs-number">0</span>]+ <span class="hljs-string">&quot; &quot;</span> + w[<span class="hljs-number">1</span>] + <span class="hljs-string">&quot; &quot;</span> + w[<span class="hljs-number">2</span>]);<br>		&#125;<br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="å¤§æ•´æ•°çš„ä½¿ç”¨"><a href="#å¤§æ•´æ•°çš„ä½¿ç”¨" class="headerlink" title="å¤§æ•´æ•°çš„ä½¿ç”¨"></a>å¤§æ•´æ•°çš„ä½¿ç”¨</h1><p>ç”¨java çš„ä¸€ä¸ªé‡è¦åŸå› åº”è¯¥å°±æ˜¯ä½¿ç”¨å®ƒçš„å¤§æ•°ç±»äº†å§ï¼Œï¼Œï¼Œ<br>åŸºæœ¬çš„è¾“å…¥è¾“å‡ºä½¿ç”¨ï¼š</p>
<h2 id="åŠ æ³•"><a href="#åŠ æ³•" class="headerlink" title="åŠ æ³•"></a>åŠ æ³•</h2><figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.*;<br><span class="hljs-keyword">import</span> java.util.*;<br><span class="hljs-keyword">import</span> java.math.*;<br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> 31415926535x</span><br><span class="hljs-comment"> * acm_java</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span></span>&#123;<br>	<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>		Scanner input = <span class="hljs-keyword">new</span> Scanner(System.in);<br>		<span class="hljs-keyword">int</span> t = input.nextInt();<br>		<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= t; ++i)&#123;<br>			BigInteger a = input.nextBigInteger();<br>			BigInteger b = input.nextBigInteger();<br>			System.out.println(<span class="hljs-string">&quot;Case &quot;</span> + i + <span class="hljs-string">&quot;:&quot;</span>);<br>			System.out.println(a + <span class="hljs-string">&quot; + &quot;</span> + b + <span class="hljs-string">&quot; = &quot;</span> + a.add(b));<br>			<span class="hljs-keyword">if</span>(i &lt; t)System.out.println();<br>		&#125;<br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="ä¹˜æ³•"><a href="#ä¹˜æ³•" class="headerlink" title="ä¹˜æ³•"></a>ä¹˜æ³•</h2><figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.*;<br><span class="hljs-keyword">import</span> java.util.*;<br><span class="hljs-keyword">import</span> java.math.*;<br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> 31415926535x</span><br><span class="hljs-comment"> * acm_java</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span></span>&#123;<br>	<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>		Scanner input = <span class="hljs-keyword">new</span> Scanner(System.in);<br>		<span class="hljs-keyword">while</span>(input.hasNext()) &#123;<br>			BigInteger a = input.nextBigInteger();<br>			BigInteger b = input.nextBigInteger();<br>			System.out.println(a.multiply(b));<br>		&#125;<br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="å®æ•°"><a href="#å®æ•°" class="headerlink" title="å®æ•°"></a>å®æ•°</h1><p>æ•´æ•°ç»“æœå»é™¤å°æ•°ç‚¹åçš„é›¶ï¼Œç„¶åè½¬æˆå­—ç¬¦ä¸²</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.*;<br><span class="hljs-keyword">import</span> java.util.*;<br><span class="hljs-keyword">import</span> java.math.*;<br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> 31415926535x</span><br><span class="hljs-comment"> * acm_java</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span></span>&#123;<br>	<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>		Scanner input = <span class="hljs-keyword">new</span> Scanner(System.in);<br>		<span class="hljs-keyword">while</span>(input.hasNext()) &#123;<br>			BigDecimal a = input.nextBigDecimal();<br>			BigDecimal b = input.nextBigDecimal();<br>			System.out.println(a.add(b).stripTrailingZeros().toPlainString());<br>		&#125;<br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p><a href="https://blog.csdn.net/nickwong_/article/details/48035317">å‰©ä¸‹çš„ä¸€äº›ä¸œè¥¿</a></p>
]]></content>
      <tags>
        <tag>acm</tag>
        <tag>ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>acmæ€»ç»“</title>
    <url>/2018/12/15/acm%E6%80%BB%E7%BB%93/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p>å…¥çš„å‘ä¹…äº†ï¼Œï¼Œæ¥è§¦åˆ°çš„ç®—æ³•å°±å¤šäº†èµ·æ¥ï¼Œï¼Œåšçš„é¢˜ä¹Ÿå¤šäº†ï¼Œï¼Œä½†æ˜¯è®°æ€§å´ä¸€ç‚¹ä¸€ä¸å¥½</p>
<p>æ¸æ¸å‘ç°å¥½å¤šé¢˜å½“æ—¶å¼„æ‡‚äº†ï¼Œï¼Œä»£ç ä¹Ÿå†™å¥½äº†ï¼Œï¼Œåšå®¢ä¸Šåšäº†ç¬”è®°ï¼Œï¼Œå¯æ˜¯æœ€åéšç€æ—¶é—´çš„æ¨ç§»ï¼Œï¼Œå†ç†Ÿæ‚‰çš„ç®—æ³•ï¼Œæ¨¡å‹ï¼Œå¥—è·¯ä¹Ÿå¿˜è®°äº†ï¼Œï¼Œå†å»ç¿»ä¹‹å‰çš„æ–‡ç« æœ‰å¤ªè´¹äº‹ï¼Œï¼Œ</p>
<p>æ‰€ä»¥è¿™ç¯‡æ–‡ç« ä¸»è¦æ˜¯è®°å½•ä¸€ä¸‹è§åˆ°çš„æ¯ç§ç®—æ³•ä»¥åŠè§£æ³•æ€è·¯ï¼Œï¼Œä¸ºäº†ä»¥åå¿˜è®°äº†èƒ½å¤Ÿå¿«é€Ÿæƒ³èµ·æ¥ï¼Œï¼ŒåŒæ—¶ä¹Ÿæ˜¯å…¶ä¸€ä¸ªè®°å½•çš„åŠŸèƒ½å§(ã£ãƒ»Ğ”ãƒ»)ã£</p>
<p>å¤§è‡´çš„æ ¼å¼å°±æ˜¯â€œç®—æ³•-&gt;é¢˜ç›®-&gt;æ€è·¯â€,,,,</p>
<p>è²Œä¼¼æ˜¯ä¸€ä¸ªå¤§å‘Î£(*ï¾ŸĞ´ï¾Ÿï¾‰)ï¾‰</p>
<span id="more"></span>
<h1 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h1><h2 id="å„ç§æ ‘"><a href="#å„ç§æ ‘" class="headerlink" title="å„ç§æ ‘"></a>å„ç§æ ‘</h2><h3 id="çº¿æ®µæ ‘"><a href="#çº¿æ®µæ ‘" class="headerlink" title="çº¿æ®µæ ‘"></a>çº¿æ®µæ ‘</h3><h4 id="ä¸€èˆ¬çš„çº¿æ®µæ ‘"><a href="#ä¸€èˆ¬çš„çº¿æ®µæ ‘" class="headerlink" title="ä¸€èˆ¬çš„çº¿æ®µæ ‘"></a>ä¸€èˆ¬çš„çº¿æ®µæ ‘</h4><h4 id="å¸¦åŒºé—´å»¶è¿Ÿæ›´æ–°çš„çº¿æ®µæ ‘"><a href="#å¸¦åŒºé—´å»¶è¿Ÿæ›´æ–°çš„çº¿æ®µæ ‘" class="headerlink" title="å¸¦åŒºé—´å»¶è¿Ÿæ›´æ–°çš„çº¿æ®µæ ‘"></a>å¸¦åŒºé—´å»¶è¿Ÿæ›´æ–°çš„çº¿æ®µæ ‘</h4><h4 id="éé€’å½’çš„çº¿æ®µæ ‘"><a href="#éé€’å½’çš„çº¿æ®µæ ‘" class="headerlink" title="éé€’å½’çš„çº¿æ®µæ ‘"></a>éé€’å½’çš„çº¿æ®µæ ‘</h4><h4 id="å¯æŒä¹…åŒ–çº¿æ®µæ ‘ï¼ˆè¿™ä¸ªè¿˜æ²¡çœ‹QAQ"><a href="#å¯æŒä¹…åŒ–çº¿æ®µæ ‘ï¼ˆè¿™ä¸ªè¿˜æ²¡çœ‹QAQ" class="headerlink" title="å¯æŒä¹…åŒ–çº¿æ®µæ ‘ï¼ˆè¿™ä¸ªè¿˜æ²¡çœ‹QAQ)"></a>å¯æŒä¹…åŒ–çº¿æ®µæ ‘ï¼ˆè¿™ä¸ªè¿˜æ²¡çœ‹QAQ)</h4><h4 id="æ ‘çŠ¶æ•°ç»„"><a href="#æ ‘çŠ¶æ•°ç»„" class="headerlink" title="æ ‘çŠ¶æ•°ç»„"></a>æ ‘çŠ¶æ•°ç»„</h4><ul>
<li>è²Œä¼¼æ ‘çŠ¶æ•°ç»„çš„å¸¸æ•°æ¯”çº¿æ®µæ ‘çš„å¸¸æ•°å°ï¼Œï¼Œæœ‰äº›å¡å¸¸æ•°çš„é¢˜å¯èƒ½æ¢æ ‘çŠ¶æ•°ç»„å¥½ä¸€äº›ï¼ˆåŒºé—´æ›´æ–°æ²¡çœ‹ï¼‰QAQ</li>
</ul>
<h2 id="å›¾è®º"><a href="#å›¾è®º" class="headerlink" title="å›¾è®º"></a>å›¾è®º</h2><h3 id="å­˜å›¾çš„æ–¹æ³•"><a href="#å­˜å›¾çš„æ–¹æ³•" class="headerlink" title="å­˜å›¾çš„æ–¹æ³•"></a>å­˜å›¾çš„æ–¹æ³•</h3><h4 id="é‚»æ¥çŸ©é˜µï¼š"><a href="#é‚»æ¥çŸ©é˜µï¼š" class="headerlink" title="é‚»æ¥çŸ©é˜µï¼š"></a>é‚»æ¥çŸ©é˜µï¼š</h4><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//ç›´æ¥ä¸€ä¸ªäºŒç»´çŸ©é˜µï¼Œedge[u][v]è¡¨ç¤ºè¾¹u-&gt;vçš„æƒå€¼</span><br><span class="hljs-keyword">int</span> edge[maxn][maxn];<br></code></pre></td></tr></table></figure>
<h4 id="é‚»æ¥è¡¨"><a href="#é‚»æ¥è¡¨" class="headerlink" title="é‚»æ¥è¡¨"></a>é‚»æ¥è¡¨</h4><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//è¿™ç§ç”¨çš„å¾ˆå¤š</span><br><span class="hljs-comment">//1.</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> v;<br>    <span class="hljs-keyword">int</span> c;<br>    edge(<span class="hljs-keyword">int</span> _v, <span class="hljs-keyword">int</span> _c = <span class="hljs-number">0</span>):v(_v), c(_c)&#123;&#125;<br>&#125;;<br><span class="hljs-built_in">vector</span>&lt;edge&gt; e[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, itn w)</span></span><br><span class="hljs-function"></span>&#123;<br>    e[u].push_back(edge(v, w));<br>&#125;<br><br><span class="hljs-comment">//2.</span><br><span class="hljs-comment">//é€‚åˆæ— æƒçš„å›¾</span><br><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; &gt; edge;<br><span class="hljs-comment">//addedge:</span><br>edge.push_back(<span class="hljs-built_in">make_pair</span>(u, v));<br><span class="hljs-comment">//éå†</span><br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">size_t</span> i = <span class="hljs-number">0</span>; i &lt; edge.size(); ++i)<br>&#123;<br>    <span class="hljs-keyword">int</span> u = edge[i].first;<br>    <span class="hljs-keyword">int</span> v = edge[i].second;<br>    ...<br>&#125;<br><br><span class="hljs-comment">//3.</span><br><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; edge[maxn];<br></code></pre></td></tr></table></figure>
<h4 id="é“¾å¼å‰å‘æ˜Ÿ"><a href="#é“¾å¼å‰å‘æ˜Ÿ" class="headerlink" title="é“¾å¼å‰å‘æ˜Ÿ"></a>é“¾å¼å‰å‘æ˜Ÿ</h4><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//è¿™ç§å¾ˆå¤šçš„æ¿å­éƒ½æ˜¯ç”¨è¿™ä¸ªæ˜¯å®ç°çš„</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, next, cap, flow;<br>&#125;edge[maxn];<br><span class="hljs-keyword">int</span> tol;<br><span class="hljs-keyword">int</span> head[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tol = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> w, <span class="hljs-keyword">int</span> rw = <span class="hljs-number">0</span>)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tol].to = v; edge[tol].cap = w; edge[tol].flow = <span class="hljs-number">0</span>;<br>    edge[tol].next = head[u]; head[u] = tol++;<br>    ...<br>&#125;<br><span class="hljs-comment">//éå†</span><br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> u = <span class="hljs-number">1</span>; u &lt;= n; ++i)<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].next)<br>    &#123;<br>        <span class="hljs-keyword">int</span> v = edge[i].to;<br>        ...<br>    &#125;<br></code></pre></td></tr></table></figure>
<h3 id="æœ€çŸ­è·¯"><a href="#æœ€çŸ­è·¯" class="headerlink" title="æœ€çŸ­è·¯"></a>æœ€çŸ­è·¯</h3><ul>
<li>ä¸»è¦ç®—æ³•æœ‰dijkstra , bellmon , spfa , floyd</li>
<li>spfaæ®è¯´ä¼šé€€åŒ–åˆ°$O(n^2)$(æœ‰å¾…æ±‚è¯)</li>
<li>floydå¯ä»¥æ±‚çŸ©é˜µã€å›¾çš„ä¼ é€’é—­åŒ…<a href="https://vjudge.net/contest/261463#status/31415926535x/I/0/">here</a></li>
<li>å‰é¢é‚£ä¸‰ä¸ªç®—æ³•éƒ½æ˜¯æ±‚å¾—å•æºæœ€çŸ­è·¯ï¼Œï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªç‚¹åˆ°ä¸€å †ç‚¹çš„æœ€çŸ­è·¯,ï¼Œï¼Œè€Œè¦æ±‚ä¸€å †ç‚¹åˆ°ä¸€ä¸ªç‚¹çš„æœ€çŸ­è·¯å¯ä»¥å°†è·¯å¾„åå‘åè·‘ä¸€è¾¹å•æºæœ€çŸ­è·¯ï¼Œï¼Œä¹Ÿå°±æ˜¯æ±‚é€†å›¾çš„æœ€çŸ­è·¯ï¼Œï¼Œï¼Œå­˜å›¾çš„æ–¹æ³•é€‰æ‹©é‚»æ¥çŸ©é˜µå¥½ä¸€äº›ï¼Œï¼Œï¼Œ<a href="https://blog.csdn.net/zwj1452267376/article/details/50518209">here</a></li>
</ul>
<h3 id="ç½‘ç»œæµ"><a href="#ç½‘ç»œæµ" class="headerlink" title="ç½‘ç»œæµ"></a>ç½‘ç»œæµ</h3><h4 id="æœ€å¤§æµæœ€å°å‰²"><a href="#æœ€å¤§æµæœ€å°å‰²" class="headerlink" title="æœ€å¤§æµæœ€å°å‰²"></a>æœ€å¤§æµæœ€å°å‰²</h4><ul>
<li>è§£å†³æœ€å¤§æµçš„å¸¸ç”¨ç®—æ³•ï¼šdinic , sap , isap,,,è®°å¾—æ•²æ¿å­è®¤çœŸï¼Œï¼Œï¼Œå¼‚æˆ–å–è¾¹ï¼Œï¼Œéå†è¾¹ç­‰ç­‰</li>
<li>æœ€å¤§æµæœ€å°å‰²å®šç†ï¼šä¸€ä¸ªç½‘ç»œçš„æœ€å¤§æµä¹Ÿç­‰äºå…¶æœ€å°å‰²ï¼›</li>
</ul>
<h4 id="æœ€å¤§æƒé—­åˆå­å›¾"><a href="#æœ€å¤§æƒé—­åˆå­å›¾" class="headerlink" title="æœ€å¤§æƒé—­åˆå­å›¾"></a>æœ€å¤§æƒé—­åˆå­å›¾</h4><ul>
<li>ä¸€èˆ¬æ˜¯æ±‚né€‰ä¸€å¯ä»¥å¾—åˆ°ä¸€äº›åˆ©ç›Šè€Œåœ¨ä¸€äº›ç‰¹æ®Šæƒ…å†µä¸‹å¯ä»¥å¾—åˆ°æ›´å¤šçš„åˆ©ç›Šçš„é—®é¢˜å°±å¯èƒ½ä½¿ç”¨ç½‘ç»œæµæ±‚è§£ï¼Œï¼Œå¯¹äºå†²çªæƒ…å†µçš„å¤„ç†æ˜¯æ·»åŠ ä¸€æ¡infçš„è¾¹ï¼Œï¼Œå¦‚æœæ­£å‘ä¸å¥½æ±‚é‚£ä¹ˆåå‘æ±‚ï¼Œï¼Œæ€»æ”¶ç›Šæ¸å»æœ€å°ä»£ä»·ï¼Œï¼Œä¹Ÿå°±æ˜¯æœ€å¤§æƒé—­åˆå­å›¾çš„é—®é¢˜ï¼Œï¼Œ<a href="https://www.luogu.org/problemnew/solution/P4313">ä¾‹é¢˜1</a>,,<a href="https://codeforces.com/contest/1082/submission/47022828">ä¾‹é¢˜2</a>,,,</li>
</ul>
<h3 id="å¼ºè¿é€šåˆ†é‡"><a href="#å¼ºè¿é€šåˆ†é‡" class="headerlink" title="å¼ºè¿é€šåˆ†é‡"></a>å¼ºè¿é€šåˆ†é‡</h3><ul>
<li>è§£å†³å¼ºè¿é€šåˆ†é‡çš„é€šå¸¸ç®—æ³•ä¸ºTarjanï¼ŒKosarajuä¸æ€ä¹ˆç”¨</li>
<li>ä½¿ç”¨å¼ºè¿é€šåˆ†é‡çš„ä¸»è¦ç”¨é€”é™¤äº†æ±‚å›¾çš„å¼ºè¿é€šåˆ†é‡ï¼ˆå°†åŒä¸€åˆ†é‡çš„ç‚¹æŸ“è‰²ä¸ºåŒä¸€ä¸ªç¼–å·çš„ç‚¹ï¼‰å¤–ï¼Œå¯ä»¥å…ˆæ±‚å›¾çš„å¼ºè¿é€šåˆ†é‡åâ€œç¼©ç‚¹â€ï¼ˆç¼–å·ç›¸åŒçš„çœ‹ä½œä¸€ç‚¹ï¼‰ï¼Œå°†åŸå›¾è½¬åŒ–ä¸ºDAGå›¾ï¼ˆæœ‰å‘æ— ç¯å›¾ï¼‰ï¼›</li>
<li><a href="http://poj.org/problem?id=2186">ä¾‹é¢˜1</a>ï¼Œï¼Œ</li>
</ul>
<h2 id="æ•°è®º"><a href="#æ•°è®º" class="headerlink" title="æ•°è®º"></a>æ•°è®º</h2><h2 id="ç‰¹æ®Šçš„ç®—æ³•"><a href="#ç‰¹æ®Šçš„ç®—æ³•" class="headerlink" title="ç‰¹æ®Šçš„ç®—æ³•"></a>ç‰¹æ®Šçš„ç®—æ³•</h2><h2 id="codeforcesä¸Šçš„"><a href="#codeforcesä¸Šçš„" class="headerlink" title="codeforcesä¸Šçš„"></a>codeforcesä¸Šçš„</h2><h3 id="æ€æƒ³"><a href="#æ€æƒ³" class="headerlink" title="æ€æƒ³"></a>æ€æƒ³</h3><ul>
<li>äºŒè¿›åˆ¶ç”šè‡³æ˜¯nè¿›åˆ¶çš„æ€æƒ³ï¼Œå¾ˆé‡è¦å•Šï¼Œï¼Œbitmarks<a href="https://codeforces.com/contest/1117/problem/E">å°±æ¯”å¦‚è¯´è¿™ä¸ª</a></li>
<li>çº¿æ€§é€’æ¨æ–¹ç¨‹å¯ä»¥ä½¿ç”¨ <strong>çŸ©é˜µå¿«é€Ÿå¹‚åŠ é€Ÿ</strong> æˆ–è€…ç›´æ¥ä¸Š <strong>æœæ•™ç­›</strong>,,<a href="https://codeforces.com/contest/1117/problem/D">ä¾‹å¦‚</a></li>
</ul>
<h2 id="å¥‡æŠ€æ·«å·§"><a href="#å¥‡æŠ€æ·«å·§" class="headerlink" title="å¥‡æŠ€æ·«å·§"></a>å¥‡æŠ€æ·«å·§</h2><h3 id="stl"><a href="#stl" class="headerlink" title="stl"></a>stl</h3><h4 id="vector"><a href="#vector" class="headerlink" title="vector"></a>vector</h4><p>vector<int> a;</p>
<ul>
<li>sort(a.begin(), a.end()); //å‡åºæ’åº</li>
<li>sort(a.rbegin(), a.rend()); //é™åºæ’åº</li>
</ul>
<h4 id="lower-bound-upper-bound-ï¼Œï¼Œ"><a href="#lower-bound-upper-bound-ï¼Œï¼Œ" class="headerlink" title="lower_bound(), upper_bound()ï¼Œï¼Œ"></a>lower_bound(), upper_bound()ï¼Œï¼Œ</h4><p>äºŒåˆ†æŸ¥æ‰¾å€¼çš„ä¸Šä¸‹ç•Œï¼Œï¼Œ</p>
<h3 id="è¯»å…¥é—®é¢˜ä¸Š"><a href="#è¯»å…¥é—®é¢˜ä¸Š" class="headerlink" title="è¯»å…¥é—®é¢˜ä¸Š"></a>è¯»å…¥é—®é¢˜ä¸Š</h3><h4 id="å¿«è¯»"><a href="#å¿«è¯»" class="headerlink" title="å¿«è¯»"></a>å¿«è¯»</h4><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">int</span> <span class="hljs-title">read</span><span class="hljs-params">()</span>   <span class="hljs-comment">//å¿«è¯»</span></span><br><span class="hljs-function"></span>&#123;<br>    ll ans=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">char</span> ch=getchar();<br>    <span class="hljs-keyword">while</span>(!<span class="hljs-built_in">isdigit</span>(ch))<br>        ch=getchar();<br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">isdigit</span>(ch))<br>        ans=(ans&lt;&lt;<span class="hljs-number">3</span>)+(ans&lt;&lt;<span class="hljs-number">1</span>)+(ch^<span class="hljs-number">48</span>),ch=getchar();<br>    <span class="hljs-keyword">return</span> ans;<br>&#125;<br></code></pre></td></tr></table></figure>
<h4 id="æ ‡å‡†è¯»å…¥"><a href="#æ ‡å‡†è¯»å…¥" class="headerlink" title="æ ‡å‡†è¯»å…¥"></a>æ ‡å‡†è¯»å…¥</h4><ul>
<li>è¦ä¹ˆå°±åªç”¨ <code>scanf()</code> å’Œ <code>printf()</code></li>
<li>è¦ä¹ˆå°±ç”¨å…³é—­åŒæ­¥çš„ <code>cin</code> å’Œ <code>cout</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp">ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br><span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br></code></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>acm</category>
      </categories>
      <tags>
        <tag>åˆ·é¢˜</tag>
        <tag>acm</tag>
      </tags>
  </entry>
  <entry>
    <title>c++è°ƒè¯•åœ¨å®¹å™¨é‡Šæ”¾å†…å­˜æ—¶æŠ¥Unknown Signal æˆ– Trace/breakpoint trapå¼‚å¸¸</title>
    <url>/2019/09/11/c++%E8%B0%83%E8%AF%95%E5%9C%A8%E5%AE%B9%E5%99%A8%E9%87%8A%E6%94%BE%E5%86%85%E5%AD%98%E6%97%B6%E6%8A%A5Unknown-Signal-%E6%88%96-Trace-breakpoint-trap%E5%BC%82%E5%B8%B8/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>åœ¨åšä¸€é“é¢˜æ—¶ï¼Œç”¨åˆ°çš„æ¿å­ä¸­å‡ºç°äº†å¾ˆå¤šçš„å®¹å™¨çš„ä½¿ç”¨ï¼Œï¼Œä¸€å¼€å§‹éƒ½æ˜¯å¼€MAXNå¤§å°çš„å®¹å™¨ï¼Œï¼Œä½†æ˜¯æœ‰å‡ ç‡å‡ºç°ç¨‹åºè¿è¡Œå®Œåä¸æ­£å¸¸é€€å‡ºï¼Œï¼Œ</p>
<p>åœ¨å¤šæ¬¡å°è¯•æ–­ç‚¹è°ƒè¯•åï¼Œå‘ç°ä¸»è¦çš„å¼‚å¸¸æ˜¯ç¨‹åºåœ¨ç»“æŸæ—¶ï¼Œè¦è¿›è¡Œèµ„æºçš„é‡Šæ”¾ï¼Œï¼Œä½†æ˜¯å¯èƒ½ç©ºé—´å¼€çš„MAXNå’Œä½¿ç”¨çš„ä¸åŒ¹é…ï¼Œå°±ä¼šå‡ºç°æœªçŸ¥é”™è¯¯ï¼Œï¼Œæˆ–è€…æ˜¯ Trace/breakpoint trap å¼‚å¸¸ï¼Œï¼ŒæŠŠç”³è¯·æ—¶çš„ <code>vector&lt;edge&gt; g[MAXN]</code> æ”¹ä¸º <code>vector&lt;edge&gt; g[MAXN + 10]</code> å°±è¡Œäº†ï¼Œï¼Œ</p>
<p><a href="https://bbs.csdn.net/topics/392565423">å‚è€ƒ</a></p>
]]></content>
      <tags>
        <tag>æŠ¥é”™</tag>
        <tag>è§£å†³æ–¹æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>chrome PC è‡ªå®šä¹‰å­—ä½“ä½œæ­»æ”¹å˜ä¹‹åçš„æ¢å¤æ–¹æ³•</title>
    <url>/2018/09/06/chrome-PC-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AD%97%E4%BD%93%E4%BD%9C%E6%AD%BB%E6%94%B9%E5%8F%98%E4%B9%8B%E5%90%8E%E7%9A%84%E6%81%A2%E5%A4%8D%E6%96%B9%E6%B3%95/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>2018.9.6</p>
<p>ä»Šå¤©ä¸€ä¸å°å¿ƒæŠŠchromeçš„è‡ªå®šä¹‰å­—ä½“æ”¹å˜äº†ï¼Œï¼Œï¼Œ</p>
<p>ç„¶åå‘ç°åŸæ¥çš„è‡ªå®šä¹‰è®¾ç½®æ²¡äº†ï¼ï¼ï¼ï¼æ²¡äº†ï¼Œï¼Œï¼Œ</p>
<p><img src="https://i.imgur.com/4quDbHM.png" alt=""></p>
<span id="more"></span>
<p>ä¸€è„¸æ‡µé€¼ï¼Œï¼Œï¼Œå„ç§ç™¾åº¦è°·æ­Œï¼Œï¼Œå‘ç°æ²¡æœ‰ä¸€ä¸ªæœ‰ç”¨ï¼Œï¼Œï¼Œ</p>
<p>è€Œä¸”é‡è£…çš„è¯è¿˜è¦æŠŠæ‰€æœ‰çš„æ’ä»¶æ¸…æ‰ï¼Œï¼Œï¼Œ</p>
<p>åŠå…¶æ‡’å¾—æˆ‘é€‰æ‹©æ”¾å¼ƒè¿™ç§æ–¹æ³•ï¼Œï¼Œï¼Œï¼Œ</p>
<p>ç„¶åæˆ‘è¯•ç€æŠŠchromeé»˜è®¤æ•°æ®çš„é…ç½®æ–‡ä»¶åˆ æ‰ï¼Œï¼Œï¼Œ</p>
<p>å‘ç°è¿˜æ˜¯æ²¡æœ‰ç”¨ï¼Œï¼Œï¼Œå½“æŠŠå¦ä¸€ä¸ªSecure Preferencesæ–‡ä»¶åˆ æ‰ï¼Œï¼Œï¼Œ</p>
<p><img src="https://i.imgur.com/LOzRCHG.png" alt=""></p>
<p>å†æ‰“å¼€chromeå°±æ˜¯ç¬¬ä¸€æ¬¡ç”¨çš„æ—¶å€™é‚£æ ·äº†ï¼Œï¼Œï¼Œ</p>
<p>è‡ªå®šä¹‰å­—ä½“ä¹Ÿæ˜¯é»˜è®¤çš„ï¼Œï¼Œï¼Œå˜¿å˜¿å˜¿ï¼Œï¼Œï¼Œ</p>
]]></content>
      <categories>
        <category>chromeå¤§æ³•</category>
      </categories>
      <tags>
        <tag>chrome</tag>
        <tag>æŠ¥é”™è§£å†³æ–¹æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>codeforces-1080C</title>
    <url>/2018/11/25/codeforces-1080C/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p><a href="https://codeforces.com/problemset/problem/1080/C">æ˜¨å¤©æ­£å¥½æœ‰æ—¶é—´ï¼Œåšäº†è‡ªå·±ç¬¬ä¸€åœºçš„cf</a></p>
<p>åšå®ŒABä¹‹åè¢«Cå¡åˆ°æœ€åï¼Œï¼Œï¼Œä»æ¥æ²¡åšè¿‡åæ ‡å¹³é¢ä¸Šä¸¤ä¸ªçŸ©å½¢çš„é¢ç§¯å’Œï¼Œï¼Œï¼Œå› ä¸ºå­˜åœ¨ç›¸äº¤çš„å¯èƒ½ï¼Œï¼Œï¼Œæ‰€ä»¥è¦å•ç‹¬çš„å¤„ç†çŸ©å½¢é¢ç§¯äº¤ï¼Œï¼Œç„¶åè‡ªå·±å°±å†™æ‡µäº†ï¼Œï¼Œï¼Œå½“æ—¶å†™äº†å‡ åè¡Œçš„ifåˆ¤æ–­ï¼Œï¼Œï¼Œï¼Œåˆ°æœ€åéƒ½æ²¡å¼„å®Œï¼Œï¼ŒQAQ</p>
<span id="more"></span>
<h1 id="é¢˜æ„ä¸åˆ†æ"><a href="#é¢˜æ„ä¸åˆ†æ" class="headerlink" title="é¢˜æ„ä¸åˆ†æ"></a>é¢˜æ„ä¸åˆ†æ</h1><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>è¿™é“é¢˜çš„é¢˜æ„å°±æ˜¯ç»™ä½ ä¸€ä¸ªn <em> må¤§çš„æ–¹æ ¼æ¿å­ï¼Œï¼Œç±»ä¼¼å›½é™…è±¡æ£‹é‚£æ ·ï¼Œï¼Œé»‘ç™½ç›¸é—´ï¼Œï¼Œç„¶åå†ç»™ä½ ä¸¤ä¸ªçŸ©å½¢ï¼Œï¼Œç¬¬ä¸€ä¸ªçŸ©å½¢å†…çš„æ‰€æœ‰æ ¼å­æ¶‚ä¸ºç™½è‰²ï¼Œï¼Œç¬¬äºŒä¸ªæ¶‚ä¸ºé»‘è‰²ï¼Œï¼Œï¼Œé—®ä½ æœ€åç™½æ ¼å­å’Œé»‘æ ¼å­çš„æ•°é‡ï¼Œï¼Œæ£‹ç›˜çš„å¤§å°å¯èƒ½æ˜¯1e9 </em> 1e9çš„ï¼Œï¼Œï¼Œ</p>
<h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><h3 id="æˆ‘çš„æ€è·¯"><a href="#æˆ‘çš„æ€è·¯" class="headerlink" title="æˆ‘çš„æ€è·¯"></a>æˆ‘çš„æ€è·¯</h3><ul>
<li>ä¸€å¼€å§‹æˆ‘çš„æ€è·¯æ˜¯ç®—å‡ºæ‰€æœ‰çš„ç™½æ ¼å­ï¼Œé»‘æ ¼å­çš„æ•°é‡(wsum ,bsum)ï¼Œï¼Œï¼Œç„¶åwsumåŠ ä¸Šç¬¬ä¸€ä¸ªçŸ©å½¢é‡Œçš„æ‰€æœ‰é»‘æ ¼å­æ•°é‡ï¼Œï¼Œä¹‹åwsumå‡å»ç¬¬äºŒä¸ªçŸ©å½¢é‡Œç™½æ ¼å­çš„æ•°é‡ï¼Œï¼Œï¼Œæœ€åå†è€ƒè™‘æ˜¯æœ‰é¢ç§¯çš„ç›¸äº¤ï¼Œï¼Œï¼Œæœ‰çš„è¯å†è®¡ç®—ç›¸äº¤çŸ©å½¢å†…çš„ï¼Œï¼Œä½†æ˜¯ä¸­é—´çš„ä¸€äº›ç»†èŠ‚ï¼Œï¼Œï¼Œæ¯”å¦‚è¯´å¦‚ä½•è®¡ç®—ä¸åŒå·¦ä¸‹è§’åæ ‡çš„çŸ©å½¢å†…æ ¼å­æ•°ï¼Œï¼Œå¦‚ä½•åˆ¤æ˜¯å¦æœ‰ç›¸äº¤çš„çŸ©å½¢ï¼Œï¼Œå¦‚ä½•è®¡ç®—ç›¸äº¤çš„çŸ©å½¢å†…çš„æ ¼å­æ•°é‡ä»¥åŠæ€ä¹ˆè°ƒæ•´ç­‰ç­‰ï¼Œï¼Œï¼Œä»¥å‰ä»æ¥æ²¡å†™è¿‡æ²¡è€ƒè™‘è¿‡ï¼Œï¼Œï¼Œåªèƒ½ç¡¬å¤´çš®çš„å»ä¸€è·¯ifä¸‹å»ï¼Œï¼Œï¼Œåˆ°æœ€åè‡ªå·±çš„å†™æ‡µäº†ï¼Œï¼Œï¼Œ</li>
<li>ä¸­é€”æƒ³ç€ç›´æ¥æ¨¡æ‹Ÿç®—äº†ï¼Œï¼Œï¼Œç»´æŠ¤ä¸€ä¸ªå¤§çŸ©é˜µï¼Œï¼Œ1è¡¨ç¤ºç™½è‰²0è¡¨ç¤ºé»‘è‰²ï¼Œï¼Œç„¶åå¯¹ç›¸åº”çš„çŸ©å½¢å…¨éƒ¨ç½®ä¸€ç½®é›¶ï¼Œï¼Œï¼Œæœ€åæ±‚01çš„æ•°é‡ï¼Œï¼Œï¼Œç„¶åå‘ç°æ ¹æœ¬å¼€ä¸äº†é‚£ä¹ˆå¤§çš„æ•°ç»„ï¼Œï¼Œï¼Œï¼ŒQAQ</li>
</ul>
<h3 id="æœ€åä»Šå¤©çœ‹äº†å‡ºé¢˜äººçš„é¢˜è§£ï¼Œï¼Œï¼Œ"><a href="#æœ€åä»Šå¤©çœ‹äº†å‡ºé¢˜äººçš„é¢˜è§£ï¼Œï¼Œï¼Œ" class="headerlink" title="æœ€åä»Šå¤©çœ‹äº†å‡ºé¢˜äººçš„é¢˜è§£ï¼Œï¼Œï¼Œ"></a><a href="https://codeforces.com/blog/entry/63436#comment-473595">æœ€åä»Šå¤©çœ‹äº†å‡ºé¢˜äººçš„é¢˜è§£ï¼Œï¼Œï¼Œ</a></h3><h4 id="çŸ©å½¢-1-1-x-y-å†…ç™½æ ¼å­çš„æ•°é‡çš„è®¡ç®—"><a href="#çŸ©å½¢-1-1-x-y-å†…ç™½æ ¼å­çš„æ•°é‡çš„è®¡ç®—" class="headerlink" title="çŸ©å½¢(1 , 1 , x , y)å†…ç™½æ ¼å­çš„æ•°é‡çš„è®¡ç®—"></a><strong>çŸ©å½¢(1 , 1 , x , y)å†…ç™½æ ¼å­çš„æ•°é‡çš„è®¡ç®—</strong></h4><p>  $è®¾å‡½æ•°w(x , y)è¿”å›å€¼ä¸ºå·¦ä¸‹è§’(1 , 1)ä¸(x , y)çš„çŸ©å½¢å†…çš„ç™½æ ¼å­çš„æ•°é‡$</p>
<h4 id="çŸ©å½¢å†…ç™½æ ¼å­æ•°é‡çš„è®¡ç®—ï¼š"><a href="#çŸ©å½¢å†…ç™½æ ¼å­æ•°é‡çš„è®¡ç®—ï¼š" class="headerlink" title="çŸ©å½¢å†…ç™½æ ¼å­æ•°é‡çš„è®¡ç®—ï¼š"></a><strong>çŸ©å½¢å†…ç™½æ ¼å­æ•°é‡çš„è®¡ç®—</strong>ï¼š</h4><p>  $ä»»æ„ä¸€ä¸ªçŸ©å½¢(x_1 , y_1 , x_2 , y_2)å†…çš„ç™½æ ¼å­æ•°é‡=çŸ©å½¢(1 , 1 , x_2 , y_2)å†…ç™½æ ¼å­çš„æ•°é‡-çŸ©å½¢(1 , 1 , x_1 , y_2)å†…ç™½æ ¼å­çš„æ•°é‡-çŸ©å½¢(1 , 1 , x_2 , y_1)å†…ç™½æ ¼å­çš„æ•°é‡+çŸ©å½¢(1 , 1 , x_1 - 1 , y_1 - 1)å†…ç™½æ ¼å­çš„æ•°é‡ï¼Œæ‰€ä»¥ï¼š$</p>
<script type="math/tex; mode=display">W(x_1 , y_1 , x_2 , y_2) = w(x_1 , y_1) - w(x_1 - 1 , y_2) - w(x_2 , y_1 - 1) + w(x_1 - 1 , y_1 - 1)</script><h4 id="çŸ©å½¢å†…é»‘æ ¼å­æ•°é‡çš„è®¡ç®—"><a href="#çŸ©å½¢å†…é»‘æ ¼å­æ•°é‡çš„è®¡ç®—" class="headerlink" title="çŸ©å½¢å†…é»‘æ ¼å­æ•°é‡çš„è®¡ç®—"></a><strong>çŸ©å½¢å†…é»‘æ ¼å­æ•°é‡çš„è®¡ç®—</strong></h4><script type="math/tex; mode=display">B(x_1 , y_1 , x_2 , y_2) = (x_2 - x_1 + 1) * (y_2 - y_1 + 1) - W(x_1 , y_1 , x_2 , y_2)</script><h4 id="ç›¸äº¤éƒ¨åˆ†çš„åˆ¤æ–­å’Œå¤„ç†"><a href="#ç›¸äº¤éƒ¨åˆ†çš„åˆ¤æ–­å’Œå¤„ç†" class="headerlink" title="ç›¸äº¤éƒ¨åˆ†çš„åˆ¤æ–­å’Œå¤„ç†"></a><strong>ç›¸äº¤éƒ¨åˆ†çš„åˆ¤æ–­å’Œå¤„ç†</strong></h4><p>  å‡ºé¢˜äººè¯´<strong>æ˜¾ç„¶</strong>ï¼ˆæˆ‘(ï¼â€µĞ”â€²)ï¼~ â•§â•§ï¼‰å¦‚æœä¸å­˜åœ¨ç›¸äº¤çŸ©å½¢ï¼Œï¼Œé‚£ä¹ˆä¸€å®šæ»¡è¶³</p>
<script type="math/tex; mode=display">max(x_1 , x_3)>min(x_2 , x_4) \ \ or\ \  max(y_1,y_3)>min(y_2,y_4)</script><p>  æ‰€ä»¥åå‘½é¢˜å°±æ˜¯å¦‚æœå­˜åœ¨ç›¸äº¤ä¸¾è¯å³ä½¿ä¸Šé¢é‚£ä¸ªåˆ¤æ–­å–åï¼Œï¼ŒåŒæ—¶ç›¸äº¤çŸ©å½¢çš„åæ ‡æ˜¯</p>
<script type="math/tex; mode=display">(max(x_1 , x_3) \ , \ max(y_1 , y_3)\ ,\ min(x_2,x_4)\ ,\ min(y2 , y_4))</script><p>  æœ‰äº†è¿™äº›ï¼Œï¼Œæˆ‘ä»¬å°±å¯ä»¥ç®—å‡ºç›¸äº¤çŸ©å½¢å†…åŸæ¥çš„ç™½è‰²ã€é»‘è‰²çš„æ ¼å­äº†ï¼ˆå°±æ˜¯ä¸è€ƒè™‘ç¬¬ä¸€ä¸ªç¬¬äºŒä¸ªçŸ©å½¢å½±å“æ—¶çš„æ•°é‡ï¼‰ï¼Œï¼Œ</p>
<p>  å› ä¸ºåœ¨ç¬¬ä¸€ä¸ªçŸ©å½¢é‡Œå°†ç›¸äº¤çŸ©å½¢å†…çš„é»‘æ ¼å­å˜æˆäº†ç™½è‰²ï¼Œï¼Œç°åœ¨åˆè¦å˜æˆé»‘è‰²ï¼Œï¼Œæ‰€ä»¥wsumï¼ˆç™½è‰²æ ¼å­çš„æ•°é‡ï¼‰è¦å‡å»é»‘è‰²çš„æ•°é‡ï¼ˆç™½è‰²çš„æ•°é‡å·²ç»åœ¨è®¡ç®—ç¬¬äºŒä¸ªçŸ©å½¢æ—¶å‡å»äº†ï¼Œï¼Œæ‰€ä»¥å¯¹äºwsumæ˜¯å‡å»äº†ç›¸äº¤çŸ©å½¢çš„æ‰€æœ‰æ ¼å­æ•°é‡ï¼‰ï¼Œï¼ŒåŒæ—¶é»‘è‰²æ ¼å­çš„æ•°é‡bsumè¦åŠ ä¸Šé»‘è‰²çš„æ•°é‡ï¼Œï¼Œè€Œè®¡ç®—ç¬¬äºŒä¸ªçŸ©å½¢æ—¶ç›¸äº¤çŸ©å½¢é‡Œçš„ç™½è‰²å·²ç»åŠ ä¸Šäº†ï¼Œï¼Œï¼Œç›¸å½“äºåŠ ä¸Šäº†æ•´ä¸ªç›¸äº¤çŸ©å½¢çš„æ ¼å­æ•°é‡ï¼Œï¼Œï¼ˆæ‹¿ç¬”ç”»ä¸€ä¸‹è¿™ä¸ªæ­¥éª¤å°±æ›´æ¸…æ¥šäº†ï¼‰</p>
<h4 id="w-x-y-çš„å®ç°"><a href="#w-x-y-çš„å®ç°" class="headerlink" title="w(x , y)çš„å®ç°"></a><strong>w(x , y)çš„å®ç°</strong></h4><p>  é¦–å…ˆæˆ‘ä»¬å®šä¹‰è¿™æ ·æ’åˆ—çš„é»‘ç™½æ ¼å­ä¸º<strong>ç±»å‹1</strong></p>
<p>  <img src="https://codeforces.com/predownloaded/d8/6e/d86e87a66d47ec694dd7dfe9b27c72c68ce27d9d.png" alt=""><br>  è€Œè¿™æ ·çš„æ˜¯<strong>ç±»å‹2</strong><br>  <img src="https://codeforces.com/predownloaded/5e/f8/5ef88f2dba40d4f7f22774404f8c502bd950a68e.png" alt=""></p>
<ul>
<li><p>è¡Œæ•°nä¸º<strong>å¶æ•°</strong>æ—¶ï¼Œç±»å‹1ç±»å‹2çš„æ•°é‡æ˜¯å¯¹åŠçš„ï¼Œå³$\frac n2$,</p>
</li>
<li><p>è¡Œæ•°nä¸º<strong>å¥‡æ•°</strong>æ—¶ï¼Œ<strong>ç±»å‹1</strong>çš„æ•°é‡æ˜¯$\lfloor{\frac n2}\rfloor$ ï¼ˆå‘ä¸‹å–æ•´ï¼Œç›´æ¥é™¤å°±è¡Œï¼‰ï¼Œï¼Œ<strong>ç±»å‹2</strong>çš„æ•°é‡æ˜¯$\lceil{\frac n2}\rceil$ï¼ˆå‘ä¸Šå–æ•´ï¼Œæœ‰ä½™æ•°æ—¶åŠ ä¸€ä¸ªï¼‰</p>
<p>å› ä¸ºè¡Œæ•°nä¸ºå¶æ•°æ—¶ç±»å‹1çš„æ•°é‡å’Œç±»å‹2æ•°é‡ç›¸ç­‰ï¼Œä¹Ÿå°±æ˜¯è¯´$\lfloor{\frac n2}\rfloor$=$\lceil{\frac n2}\rceil$ï¼Œï¼Œæ‰€ä»¥ï¼Œï¼Œæˆ‘ä»¬å°±ä¸ç®¡è¡Œæ•°æ˜¯ä¸æ˜¯å¶æ•°å¥‡æ•°äº†ï¼Œï¼Œï¼Œç›´æ¥<strong>ç±»å‹1</strong>æ•°é‡=$\lfloor{\frac n2}\rfloor$ï¼Œ<strong>ç±»å‹2</strong>æ•°é‡=$\lceil{\frac n2}\rceil$ï¼Œï¼Œï¼Œï¼ˆæ•°å­¦çœŸå¥½ç©.jpgï¼Œï¼Œï¼Œæƒ³æƒ³æˆ‘å½“æ—¶ä¸ºäº†åˆ¤æ–­è¡Œæ•°çš„å¥‡å¶åˆ†æƒ…å†µè®¨è®ºï¼Œï¼Œå†™åedï¼Œï¼Œ(#`Ğ”Â´)ï¾‰ï¼‰</p>
<p>æŒ‰ç…§è¿™ä¸ªæ€è·¯ï¼Œï¼Œï¼ŒåŒæ ·åˆ—æ•°mä¹Ÿå°±å¯ä»¥è¿™æ ·è®¡ç®—äº†ï¼Œï¼Œï¼Œ<br>å³<strong>ç±»å‹1</strong>çš„æ•°é‡=$\lfloor{\frac m2}\rfloor$ï¼Œï¼Œ<strong>ç±»å‹2</strong>çš„æ•°é‡=$\lceil{\frac m2}\rceil$..</p>
<p>æœ‰äº†è¿™ä¸¤ä¸ªï¼Œï¼Œæˆ‘ä»¬å°±å¯ä»¥è®¡ç®—çŸ©å½¢(x , y)å†…äº†ç™½è‰²æ ¼å­çš„æ•°é‡äº†ï¼Œï¼Œï¼Œ</p>
<script type="math/tex; mode=display">w(x , y) = \lceil{\frac n2}\rceil \cdot \lceil{\frac m2}\rceil + \lfloor{\frac n2}\rfloor \cdot \lfloor{\frac m2}\rfloor</script></li>
</ul>
<h4 id="å‘ä¸Šå–æ•´çš„å®ç°"><a href="#å‘ä¸Šå–æ•´çš„å®ç°" class="headerlink" title="å‘ä¸Šå–æ•´çš„å®ç°"></a><strong>å‘ä¸Šå–æ•´çš„å®ç°</strong></h4><p>  è¿™é“é¢˜é™¤äº†è®©æˆ‘çŸ¥é“çŸ©å½¢äº¤çš„å¤„ç†ï¼Œï¼Œï¼Œè¿˜æœ‰ä¸€ä¸ªä»å¥½å‡ ä¸ªå¤§ä½¬çš„ä»£ç ä¸­æˆ‘çœ‹åˆ°äº†å‡ ä¸ªå¥½çš„æ±‚å‘ä¸Šå–æ•´çš„ä»£ç ï¼Œï¼Œï¼Œä¸åƒæˆ‘é‚£æ ·å‚»å‚»çš„ifåˆ¤æ–­(â•¬â˜‰Ğ´âŠ™)</p>
  <figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">ll <span class="hljs-title">cdiv</span><span class="hljs-params">(ll a , llb)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> a / b + (a % b &gt; <span class="hljs-number">0</span>);<br>&#125;<br><span class="hljs-comment">//or</span><br><span class="hljs-function">ll <span class="hljs-title">cdiv</span><span class="hljs-params">(ll a , ll b)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> (a + b - <span class="hljs-number">1</span>) / b;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h1><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-comment">//ceiling div</span><br><span class="hljs-function">ll <span class="hljs-title">cdiv</span><span class="hljs-params">(ll a , ll b)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> a / b + (a % b &gt; <span class="hljs-number">0</span>);<br>&#125;<br><span class="hljs-function">ll <span class="hljs-title">ccdiv</span><span class="hljs-params">(ll a , ll b)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> (a + b - <span class="hljs-number">1</span>) / b;<br>&#125;<br><span class="hljs-function">ll <span class="hljs-title">w</span><span class="hljs-params">(ll x , ll y)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> cdiv(x , <span class="hljs-number">2</span>) * cdiv(y , <span class="hljs-number">2</span>) + (x / <span class="hljs-number">2</span>) * (y / <span class="hljs-number">2</span>);<br>&#125;<br><span class="hljs-function">ll <span class="hljs-title">wsum</span><span class="hljs-params">(ll x1 , ll y1 , ll x2 , ll y2)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> w(x2 , y2) - w(x1 - <span class="hljs-number">1</span> , y2) - w(x2 , y1 - <span class="hljs-number">1</span>) + w(x1 - <span class="hljs-number">1</span> , y1 - <span class="hljs-number">1</span>);<br>&#125;<br><span class="hljs-function">ll <span class="hljs-title">bsum</span><span class="hljs-params">(ll x1 , ll y1 , ll x2 , ll y2)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> (x2 - x1 + <span class="hljs-number">1</span>) * (y2 - y1 + <span class="hljs-number">1</span>) - wsum(x1 , y1 , x2 , y2);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//freopen(&quot;233.txt&quot; , &quot;r&quot; , stdin);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    <span class="hljs-keyword">int</span> t;<span class="hljs-built_in">cin</span> &gt;&gt; t;<br>    <span class="hljs-keyword">while</span>(t--)<br>    &#123;<br>        ll n , m;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m;<br>        ll x1 , x2 , x3 , x4 , y1 , y2 , y3 , y4;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; x3 &gt;&gt; y3 &gt;&gt; x4 &gt;&gt; y4;<br>        ll w = wsum(<span class="hljs-number">1</span> , <span class="hljs-number">1</span> , m , n);<br>        ll b = bsum(<span class="hljs-number">1</span> , <span class="hljs-number">1</span> , m , n);<br>        <span class="hljs-comment">//first rec</span><br>        w = w + bsum(x1 , y1 , x2 , y2);<br>        b = b - bsum(x1 , y1 , x2 , y2);<br>        <span class="hljs-comment">//second rec(dont consider the itersection</span><br>        w = w - wsum(x3 , y3 , x4 , y4);<br>        b = b + wsum(x3 , y3 , x4 , y4);<br>        <span class="hljs-comment">//consider the itersection</span><br>        <span class="hljs-keyword">if</span>(max(x1 , x3) &lt;= min(x2 , x4) &amp;&amp; max(y1 , y3) &lt;= min(y2 , y4))<br>        &#123;<br>            w = w - bsum(max(x1 , x3) , max(y1 , y3) , min(x2 , x4) , min(y2 , y4));<br>            b = b + bsum(max(x1 , x3) , max(y1 , y3) , min(x2 , x4) , min(y2 , y4));<br>        &#125;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; w &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; b &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<h1 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h1><ul>
<li>ä¸€ç›´ä¸æ€ä¹ˆä¼šçš„å‘ä¸Šå–æ•´ã€çŸ©å½¢é¢ç§¯äº¤ç­‰ç­‰é—®é¢˜ç®—æ˜¯äº†è§£äº†ï¼Œï¼Œï¼Œè‡³å°‘ä¸ä¼šåœ¨å‡ºç°çš„æ—¶å€™å•¥éƒ½ä¸çŸ¥é“ï¼Œï¼Œåªèƒ½ä»å¤´åˆ†æï¼Œï¼Œï¼Œä¸€ä¸ªåŠ²çš„å †ifäº†(-`ã‚§Â´-â•¬)</li>
<li>cfçœŸå¥½ç©.jpgï¼Œï¼Œï¼Œä»¥ä¸ºä¼šç¬¬ä¸€å‘åªèƒ½ç°åï¼Œï¼Œæ²¡æƒ³åˆ°é’äº†ï¼Œï¼Œï¼Œå°±æ˜¯æ·±å¤œåœºå¤ªå¤šï¼Œï¼Œï¼Œä¸ç„¶èƒ½å¤©å¤©æ‰“ï¼Œï¼Œï¼Œï¼Œ</li>
<li>è¿™ç§ä»£ç ä¸å¤šçš„é¢˜é”»ç‚¼é”»ç‚¼æ€ç»´å¾ˆä¸é”™å•Šï¼Œï¼Œï¼Œæ¯•ç«Ÿç°åœ¨çº¯å¥—æ¿å­çš„é¢˜åœ¨å„ç§æ¯”èµ›ä¸­æ˜¯è¶Šæ¥è¶Šå°‘äº†ï¼Œï¼Œï¼Œï¼Œ</li>
</ul>
<p>(end)</p>
]]></content>
      <categories>
        <category>Codeforces</category>
      </categories>
      <tags>
        <tag>åˆ·é¢˜</tag>
        <tag>acm</tag>
      </tags>
  </entry>
  <entry>
    <title>codeforces_1092c</title>
    <url>/2018/12/24/codeforces-1092c/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p><a href="https://codeforces.com/contest/1092/problem/C">ä¸€é“æœ‰å…³å­—ç¬¦ä¸²å‰ç¼€åç¼€çš„é¢˜</a>ï¼Œï¼Œï¼Œè‡ªå·±è¿Ÿæ—©è¦å‘åœ¨è¿™å­—ç¬¦ä¸²çš„é¢˜ä¸Šï¼Œï¼Œï¼Œä¸€çœ‹åˆ°è¿™æ ·çš„é¢˜ï¼Œï¼Œä¸ç®¡ç®€å•è¿˜æ˜¯éš¾ä¸€äº›çš„å¿ƒé‡Œå°±å‘æ€µï¼Œï¼Œ æ˜æ˜æ€è·¯æ˜¯å¯¹çš„ï¼Œï¼Œæ€»æ˜¯è«åå…¶å¦™çš„wa,,wa,,,wa,,,,,,</p>
<span id="more"></span>
<h1 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h1><p>é¢˜æ„å¾ˆç®€å•ï¼Œï¼Œå°±æ˜¯ç»™ä½ ä¸€ä¸ªä¸²çš„æ‰€æœ‰å‰ç¼€ä¸²å’Œå®ƒçš„åç¼€ä¸²ï¼Œï¼Œï¼Œç„¶åè®©ä½ åˆ¤æ–­è¿™äº›ä¸²å¯èƒ½æ˜¯é‚£ç§ä¸²ï¼Œï¼Œï¼Œ</p>
<p>é¦–å…ˆè‚¯å®šæ˜¯è¦æ±‚å‡ºåŸä¸²å˜›ï¼Œï¼Œï¼Œä¸ç„¶æ€ä¹ˆåˆ¤æ–­ï¼Œï¼Œï¼Œå› ä¸ºæœ‰ä¸¤ä¸ªé•¿åº¦ä¸ºn-1çš„ä¸²å’Œä¸¤ä¸ªé•¿åº¦ä¸º1çš„ä¸²ï¼Œï¼Œæ‰€ä»¥å¯ä»¥ç”±æ­¤æ¥å¾—å‡ºåŸä¸²ï¼Œï¼Œï¼Œä½†æ˜¯å°±æ˜¯è¿™é‡Œï¼Œï¼Œï¼Œæˆ‘å¯»æ‰¾åŸä¸²å†™å´©äº†ï¼Œï¼Œï¼Œä¸€ç›´waï¼Œï¼Œï¼Œï¼ŒQAQï¼Œï¼Œï¼Œï¼Œæœ€åè¿˜æ˜¯çœ‹äº†åˆ«äººçš„æ€è·¯ï¼Œï¼Œï¼Œç›´æ¥ä¸å¯»æ‰¾åŸä¸²ï¼Œï¼Œï¼Œå¯¹äºæ¯ä¸€ç§å¯èƒ½å¯åŸä¸²éƒ½æ±‚ä¸€ä¸‹ç­”æ¡ˆï¼Œï¼Œï¼Œè¦æ˜¯æŸä¸ªå­ä¸²æ—¢ä¸æ˜¯å‰ç¼€ä¸²åˆä¸æ˜¯åç¼€ä¸²ï¼Œï¼Œï¼Œé‚£ä¹ˆå°±è¯´æ˜è¿™ä¸ªå¯èƒ½çš„åŸä¸²ä¸å¯¹ï¼Œï¼Œæ¢ä¸‹ä¸€ä¸ªï¼Œï¼Œç›´åˆ°ç¢°åˆ°ç¬¦åˆçš„åŸä¸²ï¼Œï¼Œè¾“å‡ºä¹‹åç»ˆæ­¢ç¨‹åºï¼Œï¼Œï¼Œ</p>
<ul>
<li>string é‡Œçš„ <code>find()</code> å‡½æ•°å¯ä»¥å¯»æ‰¾ç¬¬ä¸€ä¸å­ä¸²åŒ¹é…çš„åæ ‡(ä»é›¶å¼€å§‹)ï¼Œï¼Œ<code>rfing()</code>å¯ä»¥å¯»æ‰¾æœ€åä¸€ä¸ªä¸å­ä¸²åŒ¹é…çš„åæ ‡ã€‚ã€‚ã€‚</li>
</ul>
<h1 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h1><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-comment">//#include &lt;iostream&gt;</span><br><span class="hljs-comment">//#include &lt;cstdio&gt;</span><br><span class="hljs-comment">//#include &lt;cstdlib&gt;</span><br><span class="hljs-comment">//#include &lt;string.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">strings</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-built_in">string</span> s;<br>    <span class="hljs-keyword">int</span> id;<br>    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span> &lt; (<span class="hljs-keyword">const</span> strings &amp;r)<span class="hljs-keyword">const</span><br>    &#123;<br>        <span class="hljs-keyword">return</span> s.size() &lt; r.s.size();<br>    &#125;<br>&#125;str[<span class="hljs-number">300</span>];<br><span class="hljs-keyword">char</span> ans[<span class="hljs-number">300</span>];<br><span class="hljs-keyword">int</span> n;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">get</span><span class="hljs-params">(<span class="hljs-built_in">string</span> s)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">2</span> * n - <span class="hljs-number">2</span>; i += <span class="hljs-number">2</span>)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(s.find(str[i].s) == <span class="hljs-number">0</span> &amp;&amp; s.rfind(str[i + <span class="hljs-number">1</span>].s) == n - str[i + <span class="hljs-number">1</span>].s.length())<br>        &#123;<br>            ans[str[i].id] = <span class="hljs-string">&#x27;P&#x27;</span>;<br>            ans[str[i + <span class="hljs-number">1</span>].id] = <span class="hljs-string">&#x27;S&#x27;</span>;<br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(s.rfind(str[i].s) == n - str[i].s.length() &amp;&amp; s.find(str[i + <span class="hljs-number">1</span>].s) == <span class="hljs-number">0</span>)<br>        &#123;<br>            ans[str[i].id] = <span class="hljs-string">&#x27;S&#x27;</span>;<br>            ans[str[i + <span class="hljs-number">1</span>].id] = <span class="hljs-string">&#x27;P&#x27;</span>;<br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">2</span> * n - <span class="hljs-number">2</span>; ++i)<br>        <span class="hljs-built_in">cout</span> &lt;&lt; ans[i];<br>    <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-built_in">exit</span>(<span class="hljs-number">0</span>);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.txt&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span> &gt;&gt; n;<br>    <span class="hljs-built_in">string</span> pre , suf , t[<span class="hljs-number">2</span>];<br>    <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">int</span> cnt = <span class="hljs-number">0</span>;<br><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">2</span> * n - <span class="hljs-number">2</span>; ++i)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; str[i].s;<br>        str[i].id = i;<br>    &#125;<br><br>    sort(str + <span class="hljs-number">1</span> , str + <span class="hljs-number">1</span> + <span class="hljs-number">2</span> * n - <span class="hljs-number">2</span>);<br><br>    get(str[<span class="hljs-number">1</span>].s + str[<span class="hljs-number">2</span> * n - <span class="hljs-number">2</span>].s);<br>    get(str[<span class="hljs-number">1</span>].s + str[<span class="hljs-number">2</span> * n - <span class="hljs-number">3</span>].s);<br>    get(str[<span class="hljs-number">2</span>].s + str[<span class="hljs-number">2</span> * n - <span class="hljs-number">2</span>].s);<br>    get(str[<span class="hljs-number">2</span>].s + str[<span class="hljs-number">2</span> * n - <span class="hljs-number">3</span>].s);<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<p>èœåˆ°å“­ğŸ˜­QAQ</p>
<p><img src="https://img2018.cnblogs.com/blog/1028485/201812/1028485-20181224195910236-1750263669.png" alt=""></p>
]]></content>
      <tags>
        <tag>åˆ·é¢˜</tag>
        <tag>acm</tag>
      </tags>
  </entry>
  <entry>
    <title>codeforces-1102e</title>
    <url>/2019/02/26/codeforces-1102e/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p><a href="https://codeforces.com/problemset/problem/1102/E">è¿™é“é¢˜å¾ˆé”»ç‚¼æ€ç»´</a>ï¼Œï¼Œæ˜¯åˆ°å¥½é¢˜ï¼Œï¼Œå°±æ˜¯æˆ‘ä¸åœ¨çŠ¶æ€ï¼Œï¼Œæ²¡çœ‹å‡ºæ¥çº¿æ®µé—´çš„å…³ç³»ï¼Œï¼Œå­¦ä¼šäº†æ±‚ä¸€ä¸ªåŒºé—´é‡Œç›¸åŒå…ƒç´ çœ‹ä½œä¸€ä¸ªçº¿æ®µçš„æ€»çš„çº¿æ®µçš„æ•°é‡çš„æ–¹æ³•ï¼Œï¼Œç”¨mapä¿å­˜æœ€è¿œçš„å…ƒç´ ï¼Œéå†å¯»æ‰¾åˆ¤æ–­å°±è¡Œäº†ã€‚ã€‚ã€‚</p>
<span id="more"></span>
<h1 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h1><p>é¢˜æ„æ˜¯ç»™ä½ ä¸€ä¸ªæ•°ç»„aï¼Œï¼Œè®©ä½ æ„é€ ä¸€ä¸ªæ•°ç»„bï¼Œï¼Œæ•°ç»„bæ»¡è¶³çš„æ¡ä»¶æ˜¯ï¼š</p>
<ul>
<li>$b_1=0$ï¼Œ</li>
<li>æ•°ç»„bæ˜¯ä¸€ä¸ªä¸ä¸‹é™çš„åºåˆ—ï¼Œï¼Œ</li>
<li>å¯¹äº $a[i]=a[j]$ çš„æƒ…å†µè¦ä½¿å¾— $b[i]=b[j]$ï¼Œï¼Œï¼Œ</li>
</ul>
<p>æ±‚bçš„å¯èƒ½çš„ç§ç±»æ•°</p>
<p>ä¸€å¼€å§‹æˆ‘æŠŠå®ƒå½“æˆçº¯æ•°å­¦é¢˜ï¼Œï¼Œç„¶åæƒ³è¦æ‰¾å‡ºä¸€ä¸ªå¯èƒ½çš„å…¬å¼ï¼Œï¼Œæœ€åæƒ…å†µå¤ªå¤šï¼Œåˆ¤æ–­éº»çƒ¦æ”¾å¼ƒäº†ï¼Œï¼Œï¼Œ</p>
<p>å®˜æ–¹çš„é¢˜è§£ä¹Ÿæ²¡çœ‹è¿›å»ï¼Œï¼Œï¼Œï¼ˆä¸»è¦æ˜¯ç¬¬ä¸€çœ‹åˆ°è¿™ä¸ªæ€è·¯æ—¶æ²¡æ˜ç™½é‚£ä¸ªçº¿æ®µæ˜¯å¹²å•¥çš„ï¼Œï¼Œï¼‰</p>
<p>åæ¥çœ‹äº†<a href="https://zhanghuimeng.github.io/post/codeforces-1102e-monotonic-renumeration/">è¿™ä¸ªäººçš„æ€è·¯</a>ï¼Œï¼Œ</p>
<p>å¤§æ¦‚æ€è·¯å¦‚ä¸‹ï¼š</p>
<p>å› ä¸ºæœ€åçš„bæ˜¯ä¸€ä¸ªä¸ä¸‹é™åºåˆ—ï¼Œï¼Œæ‰€ä»¥å½“ $a[i]=a[j]$ æ—¶ï¼Œï¼Œå¿…ç„¶æœ‰ $b[i]=b[i+1]=,,,,=b[j]$ï¼Œï¼Œï¼Œ</p>
<p>ä¹Ÿå°±æ˜¯è¯´å¯¹äºaä¸­ç›¸ç­‰çš„ä¸¤ä¸ªå…ƒç´ å¯¹åº”çš„bä¹‹é—´éƒ½æ˜¯ä¸€æ®µç›¸ç­‰çš„å…ƒç´ ï¼Œï¼Œï¼Œ</p>
<p>é€šè¿‡è¿™ä¸ªæ€è·¯ï¼Œæˆ‘ä»¬å¯ä»¥æ±‚aä¸­å¯ä»¥ç”¨ä¸¤ä¸ªç›¸åŒçš„å…ƒç´ åˆ’åˆ†æˆå¤šå°‘ä¸ªçº¿æ®µï¼ˆæœ‰é‡å çš„çº¿æ®µè¦åˆå¹¶ä¸ºä¸€ä¸ªï¼Œï¼Œè¿™ä¸€æ®µçš„å…ƒç´ éƒ½ç›¸åŒï¼‰</p>
<p>ä¸ºå•¥è¦æ±‚çº¿æ®µçš„æ•°é‡ $ans$ å‘¢ï¼Œï¼Œå› ä¸ºbè¦æ»¡è¶³çš„ç¬¬ä¸‰ä¸ªæ¡ä»¶ä¸­å¯ä»¥çœ‹å‡ºä¸¤ä¸ªç›¸é‚»çš„ä¸” $a[i] \ne a[j]$ çš„ $b[i],b[j]$ åªæœ‰ä¸¤ç§å–å€¼ï¼Œï¼Œåˆå› ä¸ºçº¿æ®µå†…çš„å–å€¼ç›¸åŒï¼Œï¼Œæ‰€ä»¥bçš„æƒ…å†µå°±æ˜¯ $2^{ans-1}$äº†ï¼Œï¼Œï¼Œ</p>
<p>egï¼š$a={1,2,1,2,3}$ ä¸­1å¯¹åº”çš„çº¿æ®µæ˜¯{1,2,1}, 2å¯¹åº”çš„çº¿æ®µæ˜¯ {2,1,2} è¿˜æœ‰ {3}ï¼Œï¼Œå› ä¸ºæœ‰é‡å ï¼Œï¼Œåˆå¹¶åçš„å°±æ˜¯{1,2,1,2},{3}ï¼Œï¼Œç§ç±»æ•°å°±æ˜¯ $2^{2-1}$ä¸ª</p>
<p>é‚£ä¹ˆæ€ä¹ˆæ±‚çº¿æ®µæ•°å‘¢ï¼Œï¼Œ</p>
<p>æˆ‘ä»¬å¯ä»¥å…ˆå‡è®¾æ¯ä¸ªæ•°éƒ½è‡ªæˆä¸€ä¸ªçº¿æ®µï¼Œé‚£ä¹ˆå°±ä¸€å…±æœ‰ans=nä¸ªï¼Œï¼Œç„¶åå¯¹äºæ¯ä¸€ä¸ªå¤§çš„çº¿æ®µçš„åˆå¹¶å°±æ˜¯ $ans-=(çº¿æ®µçš„å·¦ç«¯ç‚¹-çº¿æ®µçš„å³ç«¯ç‚¹)å½“a[i]=a[j]æ—¶ï¼Œä¹Ÿå°±æ˜¯ans-=(j-i)$</p>
<p>å·¦ç«¯ç‚¹å¯ä»¥éå†æ•´ä¸ªæ•°ç»„ï¼Œï¼Œå³ç«¯ç‚¹å°±ç”¨mapä¿å­˜æ¯ä¸ªæ•°æœ€å³çš„ä½ç½®ï¼Œï¼Œä»å·¦å‘å³éå†ä¸€ä¸‹å°±å¯ä»¥ä¿è¯æ¯ä¸ªæ•°çš„æœ€å³è¾¹çš„ä½ç½®ï¼Œï¼Œï¼Œè¿™æ ·å½“æˆ‘ä»¬ä¸å½“å‰éå†çš„ç‚¹ç›¸åŒçš„ç‚¹å¯èƒ½æœ‰ä¸€ä¸ªå³ç«¯ç‚¹çš„æ—¶å€™ï¼Œï¼Œè¯´æ˜ç°åœ¨éå†çš„ä½ç½®å’Œé‚£ä¸ªç‚¹ä¹‹é—´å¯ä»¥æ„æˆä¸€ä¸ªçº¿æ®µï¼Œï¼Œå‡å»ä¸­é—´çš„çº¿æ®µçš„æ•°é‡å°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//cf</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-comment">//#include &lt;iostream&gt;</span><br><span class="hljs-comment">//#include &lt;cstdio&gt;</span><br><span class="hljs-comment">//#include &lt;cstdlib&gt;</span><br><span class="hljs-comment">//#include &lt;string.h&gt;</span><br><span class="hljs-comment">//#include &lt;algorithm&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; pii;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> a[maxn];<br><span class="hljs-keyword">inline</span> ll _pow(ll a, ll b, ll p = <span class="hljs-number">998244353</span>)<br>&#123;<br>    ll ret = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(b)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(b &amp; <span class="hljs-number">1</span>)ret = (ret * a) % p;<br>        a = (a * a) % p;<br>        b &gt;&gt;= <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> ret;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    <span class="hljs-keyword">int</span> n; <span class="hljs-built_in">cin</span> &gt;&gt; n;<br>    <span class="hljs-built_in">map</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; mp;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; a[i];<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)mp[a[i]] = i;<br>    <span class="hljs-keyword">int</span> index = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">int</span> ans = n;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>    &#123;<br>        index = max(index, i);<br>        <span class="hljs-keyword">if</span>(mp[a[i]] &gt; index)<br>        &#123;<br>            ans -= (mp[a[i]] - index);<br>            index = mp[a[i]];<br>        &#125;<br>    &#125;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; _pow(<span class="hljs-number">2</span>, ans - <span class="hljs-number">1</span>) &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>æºœäº†æºœäº†ï¼Œï¼Œè´¼å›°ä»Šå¤©ï¼Œï¼Œï¼Œ<br>(end)</p>
]]></content>
      <categories>
        <category>Codeforces</category>
      </categories>
      <tags>
        <tag>åˆ·é¢˜</tag>
        <tag>acm</tag>
      </tags>
  </entry>
  <entry>
    <title>class</title>
    <url>/2018/03/10/class/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h3 id="2018-3-22-19-22-å®Œ"><a href="#2018-3-22-19-22-å®Œ" class="headerlink" title="2018.3.22/19.22(å®Œ)"></a>2018.3.22/19.22(å®Œ)</h3><blockquote>
<p>ä¸æ„¤ä¸å¯ ï¼Œä¸æ‚±ä¸å‘ ï¼Œ ä¸¾ä¸€éš… ï¼Œ ä¸ä»¥ä¸‰éš…å ï¼Œ åˆ™ä¸å¤ä¹Ÿ</p>
</blockquote>
<h1 id="é¢å‘å¯¹è±¡çš„ç‰¹ç‚¹ï¼š"><a href="#é¢å‘å¯¹è±¡çš„ç‰¹ç‚¹ï¼š" class="headerlink" title="é¢å‘å¯¹è±¡çš„ç‰¹ç‚¹ï¼š"></a>é¢å‘å¯¹è±¡çš„ç‰¹ç‚¹ï¼š</h1><ul>
<li>æŠ½è±¡ï¼šæŒ‡å¯¹å…·ä½“é—®é¢˜ï¼ˆå¯¹è±¡ï¼‰è¿›è¡Œæ¦‚æ‹¬ï¼ŒæŠ½å‡ºä¸€ç±»å¯¹è±¡çš„å…¬å…±æ€§è´¨å¹¶åŠ ä»¥æè¿°çš„è¿‡ç¨‹ï¼›åŒ…æ‹¬<strong>æ•°æ®æŠ½è±¡</strong>ä¸<strong>è¡Œä¸ºæŠ½è±¡</strong>ï¼ˆæˆ–ç§°åŠŸèƒ½æŠ½è±¡ã€ä»£ç æŠ½è±¡ï¼‰ï¼›</li>
<li>å°è£…ï¼šæŒ‡å°†æŠ½è±¡å¾—åˆ°çš„ æ•°æ® å’Œ è¡Œä¸ºï¼ˆåŠŸèƒ½ï¼‰ç›¸ç»“åˆï¼Œå½¢æˆä¸€ä¸ªæœ‰æœºçš„æ•´ä½“ï¼Œä¹Ÿå°±æ˜¯å°†<strong>æ•°æ®</strong>ä¸<strong>æ“ä½œæ•°æ®çš„å‡½æ•°ä»£ç </strong>è¿›è¡Œæœ‰æœºçš„ç»“åˆï¼Œå½¢æˆâ€ç±»â€ï¼Œå…¶ä¸­çš„æ•°æ®å’Œå‡½æ•°éƒ½æ˜¯ç±»çš„æˆå‘˜ï¼›</li>
<li>ç»§æ‰¿ï¼šï¼ˆå°†ç‰¹æ®Šä¸ä¸€èˆ¬çš„å…³ç³»æè¿°æ¸…æ¥šï¼Œä½¿å¾—ç‰¹æ®Šæ¦‚å¿µä¹‹é—´æ—¢èƒ½å…±äº«ä¸€èˆ¬çš„å±æ€§å’Œè¡Œä¸ºï¼Œåˆèƒ½å…·æœ‰ç‰¹æ®Šçš„å±æ€§å’Œè¡Œä¸ºï¼‰å¯ä»¥åœ¨ä¿æŒåŸæœ‰ ç±» ç‰¹æ€§çš„åŸºç¡€ä¸Šï¼Œè¿›è¡Œæ›´å…·ä½“ã€æ›´è¯¦å°½çš„è¯´æ˜ï¼›</li>
<li>å¤šæ€:æŒ‡ä¸€æ®µç¨‹åºèƒ½å¤Ÿå¤„ç†å¤šç§ç±»å‹å¯¹è±¡çš„èƒ½åŠ›ï¼Œå¯ä»¥é€šè¿‡<strong>å¼ºåˆ¶å¤šæ€</strong>ã€<strong>é‡è½½å¤šæ€</strong>ã€<strong>ç±»å‹å‚æ•°åŒ–å¤šæ€</strong>ã€<strong>åŒ…å«å¤šæ€</strong>å®ç°ï¼›</li>
</ul>
<p><br/></p>
<span id="more"></span>
<h1 id="ç±»å’Œå¯¹è±¡ï¼š"><a href="#ç±»å’Œå¯¹è±¡ï¼š" class="headerlink" title="ç±»å’Œå¯¹è±¡ï¼š"></a><em>ç±»å’Œå¯¹è±¡</em>ï¼š</h1><h2 id="ç±»çš„å®šä¹‰ï¼š"><a href="#ç±»çš„å®šä¹‰ï¼š" class="headerlink" title="ç±»çš„å®šä¹‰ï¼š"></a>ç±»çš„å®šä¹‰ï¼š</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-class"><span class="hljs-keyword">class</span> ç±»åç§° </span><br><span class="hljs-class">&#123;</span><br><span class="hljs-keyword">public</span>ï¼š<br>	å¤–éƒ¨æ¥å£<br><span class="hljs-keyword">protected</span>ï¼š<br>	ä¿æŠ¤å‹æˆå‘˜<br><span class="hljs-keyword">private</span>ï¼š<br>	ç§æœ‰æˆå‘˜<br>&#125;ï¼›<br></code></pre></td></tr></table></figure>
<h2 id="ç±»æˆå‘˜çš„è®¿é—®æ§åˆ¶"><a href="#ç±»æˆå‘˜çš„è®¿é—®æ§åˆ¶" class="headerlink" title="ç±»æˆå‘˜çš„è®¿é—®æ§åˆ¶"></a>ç±»æˆå‘˜çš„è®¿é—®æ§åˆ¶</h2><ul>
<li>å¯¹ç±»æˆå‘˜çš„è®¿é—®æƒé™çš„æ§åˆ¶ï¼Œæ˜¯é€šè¿‡<strong>è®¾ç½®æˆå‘˜çš„è®¿é—®æ§åˆ¶å±æ€§</strong>è€Œå®ç°çš„ï¼›</li>
<li>è®¿é—®æ§åˆ¶å±æ€§æœ‰: <strong>å…¬æœ‰å±æ€§ï¼ˆpublicï¼‰</strong>ã€<strong>ç§æœ‰å±æ€§ï¼ˆprivateï¼‰</strong>ã€<strong>ä¿æŠ¤ç±»å‹ï¼ˆprotectedï¼‰</strong>ï¼›</li>
<li><strong>å…¬æœ‰å±æ€§</strong>å®šä¹‰äº†ç±»çš„å¤–éƒ¨æ¥å£ï¼›</li>
<li><strong>ç§æœ‰æˆå‘˜</strong>åªèƒ½è¢«æœ¬ç±»çš„æˆå‘˜å‡½æ•°è®¿é—®ï¼Œæ¥è‡ªå¤–éƒ¨çš„ä»»ä½•è®¿é—®éƒ½æ˜¯éæ³•çš„ï¼›</li>
<li><strong>ä¿æŠ¤ç±»å‹æˆå‘˜</strong>çš„æ€§è´¨å’Œç§æœ‰æˆå‘˜çš„æ€§è´¨ç›¸ä¼¼ï¼Œå…¶å·®åˆ«åœ¨äº<strong>ç»§æ‰¿</strong>è¿‡ç¨‹ä¸­å¯¹äº§ç”Ÿçš„æ–°ç±»å½±å“ä¸åŒï¼›<h2 id="å¯¹è±¡"><a href="#å¯¹è±¡" class="headerlink" title="å¯¹è±¡"></a>å¯¹è±¡</h2></li>
<li>ç±»å®é™…ä¸Šæ˜¯ä¸€ç§æŠ½è±¡æœºåˆ¶ï¼Œä»–æè¿°äº†ä¸€ç±»äº‹ç‰©çš„<strong>å…±åŒå±æ€§</strong>å’Œ<strong>è¡Œä¸º</strong>ï¼›</li>
<li>ç±»çš„å¯¹è±¡å°±æ˜¯è¯¥ç±»çš„æŸä¸€ç‰¹å®šå®ä½“ï¼ˆå®ä¾‹ï¼‰ï¼›</li>
<li>å£°æ˜ä¸€ä¸ªå¯¹è±¡å’Œå£°æ˜ä¸€ä¸ªä¸€èˆ¬å˜é‡ç›¸åŒï¼š  <figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">ç±»å å¯¹è±¡åï¼›<br></code></pre></td></tr></table></figure></li>
<li><strong>å¯¹è±¡æ‰€å æ®çš„å†…å­˜ç©ºé—´åªæ˜¯ç”¨äºå­˜æ”¾æ•°æ®æˆå‘˜ï¼Œå‡½æ•°æˆå‘˜ä¸åœ¨æ¯ä¸ªå¯¹è±¡ä¸­å‚¨å­˜å‰¯æœ¬ï¼Œæ¯ä¸ªå‡½æ•°çš„ä»£ç åœ¨å†…å­˜ä¸­åªå æ®ä¸€ä»½ç©ºé—´ï¼›</strong></li>
<li>æ•°æ®æˆå‘˜çš„è®¿é—®ï¼š  <figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp">å¯¹è±¡å.æ•°æ®æˆå‘˜å<br></code></pre></td></tr></table></figure></li>
<li>å‡½æ•°æˆå‘˜çš„è°ƒç”¨ï¼š  <figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp">å¯¹è±¡å.å‡½æ•°æˆå‘˜å(å‚æ•°è¡¨)<br></code></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="ç±»çš„æˆå‘˜å‡½æ•°"><a href="#ç±»çš„æˆå‘˜å‡½æ•°" class="headerlink" title="ç±»çš„æˆå‘˜å‡½æ•°"></a>ç±»çš„æˆå‘˜å‡½æ•°</h2><ul>
<li>ç±»çš„æˆå‘˜å‡½æ•°æè¿°çš„æ˜¯<strong>ç±»çš„è¡Œä¸º</strong>ï¼›<h3 id="æˆå‘˜å‡½æ•°çš„å®ç°"><a href="#æˆå‘˜å‡½æ•°çš„å®ç°" class="headerlink" title="æˆå‘˜å‡½æ•°çš„å®ç°"></a>æˆå‘˜å‡½æ•°çš„å®ç°</h3></li>
<li>å‡½æ•°çš„åŸå‹å£°æ˜è¦å†™åœ¨ç±»ä½“ä¸­ï¼ŒåŸå‹è¯´æ˜äº†å‡½æ•°çš„<strong>å‚æ•°è¡¨</strong>å’Œ<strong>è¿”å›å€¼ç±»å‹</strong>ï¼›</li>
<li>å‡½æ•°çš„å…·ä½“å®ç°æ˜¯åœ¨ç±»å®šä¹‰ä¹‹å¤–çš„ï¼›</li>
<li>å®ç°æˆå‘˜å‡½æ•°æ˜¯è¦æŒ‡æ˜ç±»çš„åç§°:  <figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp">è¿”å›å€¼ç±»å‹ ç±»å::å‡½æ•°æˆå‘˜å ï¼ˆå‚æ•°è¡¨ï¼‰<br>&#123;<br>	å‡½æ•°ä½“<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="æˆå‘˜å‡½æ•°è°ƒç”¨ä¸­çš„ç›®çš„å¯¹è±¡"><a href="#æˆå‘˜å‡½æ•°è°ƒç”¨ä¸­çš„ç›®çš„å¯¹è±¡" class="headerlink" title="æˆå‘˜å‡½æ•°è°ƒç”¨ä¸­çš„ç›®çš„å¯¹è±¡"></a>æˆå‘˜å‡½æ•°è°ƒç”¨ä¸­çš„ç›®çš„å¯¹è±¡</h3></li>
<li>éœ€ä½¿ç”¨â€ . â€œæ“ä½œç¬¦æŒ‡å‡ºè°ƒç”¨æ‰€é’ˆå¯¹çš„å¯¹è±¡ï¼Œè¿™ä¸€å¯¹è±¡åœ¨æœ¬æ¬¡è°ƒç”¨ä¸­ç§°ä¸º<strong>ç›®çš„å¯¹è±¡</strong>ï¼›</li>
<li>åœ¨<strong>æˆå‘˜å‡½æ•°</strong>ä¸­å¯ä»¥ä¸ä½¿ç”¨â€ . â€œæ“ä½œç¬¦ç›´æ¥å¼•ç”¨ç›®çš„å¯¹è±¡çš„æ•°æ®æˆå‘˜ï¼›</li>
<li>åœ¨æˆå‘˜å‡½æ•°ä¸­è°ƒç”¨å½“å‰ç±»çš„æˆå‘˜å‡½æ•°æ—¶ï¼Œå¦‚æœä¸ä½¿ç”¨â€ . â€œæ“ä½œç¬¦ï¼Œé‚£ä¹ˆè¿™ä¸€æ¬¡è°ƒç”¨æ‰€é’ˆå¯¹çš„ä»æ˜¯ç›®çš„å¯¹è±¡ï¼›</li>
<li>åœ¨æˆå‘˜å‡½æ•°ä¸­<strong>å¼•ç”¨å…¶ä»–å¯¹è±¡çš„å±æ€§å’Œè°ƒç”¨å…¶å®ƒå¯¹è±¡çš„æ–¹æ³•æ—¶</strong>ï¼Œéƒ½éœ€è¦ä½¿ç”¨â€ . â€œæ“ä½œç¬¦ï¼›</li>
<li>åœ¨ç±»çš„æˆå‘˜å‡½æ•°ä¸­ï¼Œæ—¢å¯ä»¥è®¿é—®ç›®çš„å¯¹è±¡çš„ç§æœ‰æˆå‘˜ï¼Œåˆå¯ä»¥è®¿é—®å½“å‰ç±»çš„å…¶ä»–å¯¹è±¡çš„ç§æœ‰æˆå‘˜ï¼›ï¼ˆå¤åˆ¶æ„é€ å‡½æ•°å¯èƒ½ä¼šç”¨åˆ°â€¦..ï¼‰<h3 id="å¸¦é»˜è®¤å½¢å‚å€¼çš„æˆå‘˜å‡½æ•°"><a href="#å¸¦é»˜è®¤å½¢å‚å€¼çš„æˆå‘˜å‡½æ•°" class="headerlink" title="å¸¦é»˜è®¤å½¢å‚å€¼çš„æˆå‘˜å‡½æ•°"></a>å¸¦é»˜è®¤å½¢å‚å€¼çš„æˆå‘˜å‡½æ•°</h3></li>
<li><p>ç±»æˆå‘˜å‡½æ•°çš„é»˜è®¤å€¼ï¼Œä¸€å®šè¦å†™åœ¨<strong>ç±»å®šä¹‰</strong>ä¸­ï¼Œä¸èƒ½å†™åœ¨ç±»å®šä¹‰ä¹‹å¤–çš„å‡½æ•°å®ç°ä¸­ï¼›</p>
<h3 id="å†…è”æˆå‘˜å‡½æ•°"><a href="#å†…è”æˆå‘˜å‡½æ•°" class="headerlink" title="å†…è”æˆå‘˜å‡½æ•°"></a>å†…è”æˆå‘˜å‡½æ•°</h3></li>
<li>å†…è”å‡½æ•°çš„å£°æ˜ï¼š<strong>éšå¼å£°æ˜</strong>ä¸<strong>æ˜¾ç¤ºå£°æ˜</strong>ï¼›</li>
<li><strong>éšå¼å£°æ˜</strong> ï¼š å°†å‡½æ•°ä½“ç›´æ¥æ”¾åœ¨ç±»å†…ï¼›</li>
<li><strong>æ˜¾å¼å£°æ˜</strong> ï¼š åœ¨å‡½æ•°å®ç°æ—¶åœ¨å‡½æ•°è¿”å›å€¼ç±»å‹å‰ä½¿ç”¨å…³é”®å­—ï¼š<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">inline</span> <br></code></pre></td></tr></table></figure>
ï¼›</li>
</ul>
<h1 id="æ„é€ å‡½æ•°å’Œææ„å‡½æ•°ï¼š"><a href="#æ„é€ å‡½æ•°å’Œææ„å‡½æ•°ï¼š" class="headerlink" title="æ„é€ å‡½æ•°å’Œææ„å‡½æ•°ï¼š"></a><em>æ„é€ å‡½æ•°å’Œææ„å‡½æ•°</em>ï¼š</h1><ul>
<li>å¯¹è±¡ä¹‹é—´çš„åŒºåˆ«æœ‰ï¼šå¯¹è±¡çš„åç§°ï¼ˆå¤–åœ¨åŒºåˆ«ï¼‰ã€å¯¹è±¡è‡ªèº«çš„å±æ€§å€¼ï¼Œæ•°æ®æˆå‘˜çš„å€¼ï¼ˆå†…åœ¨åŒºåˆ«ï¼‰ï¼›</li>
<li><strong>å¯¹è±¡çš„åˆå§‹åŒ–</strong> ï¼š åœ¨å®šä¹‰å¯¹è±¡æ—¶è¿›è¡Œçš„æ•°æ®æˆå‘˜è®¾ç½®ï¼›</li>
</ul>
<h2 id="æ„é€ å‡½æ•°"><a href="#æ„é€ å‡½æ•°" class="headerlink" title="æ„é€ å‡½æ•°"></a>æ„é€ å‡½æ•°</h2><ul>
<li><strong>æ„é€ å‡½æ•°çš„ä½œç”¨</strong> : åœ¨å¯¹è±¡è¢«åˆ›å»ºæ—¶åˆ©ç”¨ç‰¹å®šçš„å€¼æ„é€ å¯¹è±¡ï¼Œå°†å¯¹è±¡åˆå§‹åŒ–ä¸ºä¸€ä¸ªç‰¹å®šçš„çŠ¶æ€ï¼›</li>
<li>æ„é€ å‡½æ•°ä¹Ÿæ˜¯ç±»çš„ä¸€ä¸ªæˆå‘˜å‡½æ•°ï¼Œæ„é€ å‡½æ•°çš„å‡½æ•°åä¸ç±»åç›¸åŒï¼Œè€Œä¸”æ²¡æœ‰è¿”å›å€¼ï¼Œé€šå¸¸è¢«å£°æ˜ä¸ºå…¬æœ‰å‡½æ•°ï¼›</li>
<li>æ„é€ å‡½æ•°åœ¨å¯¹è±¡è¢«åˆ›å»ºæ—¶è¢«è‡ªåŠ¨è°ƒç”¨ï¼›</li>
<li><strong>é»˜è®¤æ„é€ å‡½æ•°</strong> ï¼šè°ƒç”¨æ—¶æ— éœ€æä¾›å‚æ•°çš„æ„é€ å‡½æ•°ï¼›è‹¥ç±»ä¸­æ²¡æœ‰å†™æ„é€ å‡½æ•°æ—¶ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªéšå«çš„é»˜è®¤æ„é€ å‡½æ•°ï¼Œæ„é€ å‡½æ•°çš„å‚æ•°åˆ—è¡¨å’Œå‡½æ•°ä½“çš†ä¸ºç©ºï¼›</li>
<li>æ„é€ å‡½æ•°å¯ä»¥ç›´æ¥è®¿é—®ç±»çš„æ‰€æœ‰æ•°æ®æˆå‘˜ï¼Œå¯ä»¥æ˜¯å†…è”å‡½æ•°ï¼Œå¯ä»¥å¸¦æœ‰å‚æ•°è¡¨ï¼Œå¯ä»¥å¸¦æœ‰é»˜è®¤çš„å½¢å‚å€¼ï¼Œä¹Ÿå¯ä»¥é‡è½½ï¼›<h2 id="å¤åˆ¶æ„é€ å‡½æ•°"><a href="#å¤åˆ¶æ„é€ å‡½æ•°" class="headerlink" title="å¤åˆ¶æ„é€ å‡½æ•°"></a>å¤åˆ¶æ„é€ å‡½æ•°</h2></li>
<li>å¤åˆ¶æ„é€ å‡½æ•°æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ„é€ å‡½æ•°ï¼Œå…·æœ‰ä¸€èˆ¬æ„é€ å‡½æ•°çš„æ‰€æœ‰ç‰¹æ€§ï¼Œ<strong>å…¶å½¢å‚æ˜¯æœ¬ç±»çš„å¯¹è±¡çš„å¼•ç”¨</strong>ï¼›</li>
<li>å¤åˆ¶æ„é€ å‡½æ•°çš„ä½œç”¨ ï¼šä½¿ç”¨ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å¯¹è±¡ï¼ˆç”±å¤åˆ¶æ„é€ å‡½æ•°çš„å½¢å‚æŒ‡å®šï¼‰ï¼Œå»åˆå§‹åŒ–åŒç±»çš„ä¸€ä¸ªæ–°å¯¹è±¡ï¼›</li>
<li>éšå«çš„å¤åˆ¶æ„é€ å‡½æ•°çš„åŠŸèƒ½ ï¼š æŠŠåˆå§‹å€¼å¯¹è±¡çš„æ¯ä¸€ä¸ªæ•°æ®æˆå‘˜çš„å€¼éƒ½å¤åˆ¶åˆ°æ–°å»ºç«‹çš„å¯¹è±¡ä¸­ï¼ŒåŒç±»å¯¹è±¡çš„å¤åˆ¶ï¼›</li>
<li><strong>å£°æ˜å’Œå®ç°å¤åˆ¶æ„é€ å‡½æ•°çš„æ–¹æ³•</strong>:<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-class"><span class="hljs-keyword">class</span> ç±»å</span><br><span class="hljs-class">&#123;</span><br><span class="hljs-keyword">public</span>:<br>	ç±»å (å½¢å‚è¡¨);			<span class="hljs-comment">//æ„é€ å‡½æ•°</span><br>	ç±»å (ç±»å &amp; å¯¹è±¡å);		<span class="hljs-comment">//å¤åˆ¶æ„é€ å‡½æ•°</span><br>	...<br><br>&#125;;<br><br>ç±»å :: ç±»å (ç±»å &amp; å¯¹è±¡å)	<span class="hljs-comment">//å¤åˆ¶æ„é€ å‡½æ•°çš„å®ç°</span><br>&#123;<br>	å‡½æ•°ä½“<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="å¤åˆ¶æ„é€ å‡½æ•°è¢«è°ƒç”¨çš„æƒ…å†µï¼š"><a href="#å¤åˆ¶æ„é€ å‡½æ•°è¢«è°ƒç”¨çš„æƒ…å†µï¼š" class="headerlink" title="å¤åˆ¶æ„é€ å‡½æ•°è¢«è°ƒç”¨çš„æƒ…å†µï¼š"></a><strong>å¤åˆ¶æ„é€ å‡½æ•°è¢«è°ƒç”¨çš„æƒ…å†µï¼š</strong></h3><ul>
<li><p>å½“ç”¨ç±»çš„ä¸€ä¸ªå¯¹è±¡å»åˆå§‹åŒ–è¯¥ç±»çš„å¦ä¸€ä¸ªå¯¹è±¡æ—¶ï¼›</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp">eg:<br><span class="hljs-function">Point <span class="hljs-title">a</span> <span class="hljs-params">( <span class="hljs-number">1</span> , <span class="hljs-number">2</span> )</span></span>;<br><span class="hljs-function">Point <span class="hljs-title">b</span> <span class="hljs-params">(a)</span></span>;		<span class="hljs-comment">//ç”¨å¯¹è±¡aåˆå§‹åŒ–å¯¹è±¡b ï¼Œ å¤åˆ¶æ„é€ å‡½æ•°è¢«è°ƒç”¨</span><br>Point c = a;		<span class="hljs-comment">//ç”¨å¯¹è±¡aåˆå§‹åŒ–å¯¹è±¡c ï¼Œ å¤åˆ¶æ„é€ å‡½æ•°è¢«è°ƒç”¨</span><br>					<span class="hljs-comment">//è¿™ä¸¤ç§åˆå§‹åŒ–éƒ½èƒ½è°ƒç”¨å¤åˆ¶æ„é€ å‡½æ•°ï¼Œåªæ˜¯å½¢å¼ä¸åŒ</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>å¦‚æœå‡½æ•°çš„å½¢å‚æ—¶ç±»çš„å¯¹è±¡ ï¼Œ è°ƒç”¨å‡½æ•°æ—¶ ï¼Œ è¿›è¡Œå½¢å‚å’Œå®å‚ç»“åˆæ—¶ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp">egï¼š<br><span class="hljs-keyword">void</span> (Point p)<br>&#123;<br><span class="hljs-built_in">cout</span> &lt;&lt; p.get() &lt;&lt; <span class="hljs-built_in">endl</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-function">Point <span class="hljs-title">a</span> <span class="hljs-params">( <span class="hljs-number">1</span> , <span class="hljs-number">2</span> )</span></span>;<br>	f ( a );		<span class="hljs-comment">//å‡½æ•°çš„å½¢å‚ä¸ºç±»çš„å¯¹è±¡ ï¼Œ å½“è°ƒç”¨å‡½æ•°æ—¶ ï¼Œ å¤åˆ¶æ„é€ å‡½æ•°è¢«è°ƒç”¨</span><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>å¦‚æœå‡½æ•°çš„è¿”å›å€¼æ—¶ç±»çš„å¯¹è±¡ ï¼Œ å‡½æ•°æ‰§è¡Œå®Œæˆè¿”å›è°ƒç”¨è€…æ—¶ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp">eg:<br><span class="hljs-function">Point <span class="hljs-title">g</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-function">Point <span class="hljs-title">a</span> <span class="hljs-params">( <span class="hljs-number">1</span> , <span class="hljs-number">2</span> )</span></span>;<br>	<span class="hljs-keyword">return</span> a;		<span class="hljs-comment">//å‡½æ•°çš„è¿”å›å€¼æ—¶ç±»å¯¹è±¡ ï¼Œ è¿”å›å‡½æ•°å€¼æ—¶ ï¼Œ è°ƒç”¨å¤åˆ¶æ„é€ å‡½æ•°</span><br>&#125;<br>...<br>b = g();			<span class="hljs-comment">//æ­¤å¤„ä¼šå»ºç«‹ä¸€ä¸ªæ— åä¸´æ—¶å¯¹è±¡ã€‚ã€‚ã€‚</span><br>...<br></code></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="ææ„å‡½æ•°"><a href="#ææ„å‡½æ•°" class="headerlink" title="ææ„å‡½æ•°"></a>ææ„å‡½æ•°</h2><ul>
<li>ç”¨æ¥å®Œæˆå¯¹è±¡è¢«åˆ é™¤å‰çš„ä¸€äº›æ¸…ç†å·¥ä½œï¼›</li>
<li>ææ„å‡½æ•°æ˜¯åœ¨å¯¹è±¡çš„ç”Ÿå­˜æœŸå³å°†ç»“æŸçš„æ—¶å€™è¢«è‡ªåŠ¨è°ƒç”¨çš„ï¼Œè°ƒç”¨å®Œæˆåï¼Œå¯¹è±¡æ¶ˆå¤±ï¼Œ<strong>ç›¸åº”çš„å†…å­˜ç©ºé—´ä¹Ÿè¢«é‡Šæ”¾</strong>ï¼›</li>
<li>ææ„å‡½æ•°é€šå¸¸æ˜¯ç±»çš„å…¬æœ‰å‡½æ•°æˆå‘˜ï¼Œä»–çš„åç§°æ—¶ç”±ç±»åå‰åŠ â€ ~ â€œæ„æˆ ï¼Œæ²¡æœ‰è¿”å›å€¼ï¼›</li>
<li>ææ„å‡½æ•°ä¸æ¥å—ä»»ä½•å‚æ•° ï¼Œ ä½†å¯ä»¥æ˜¯è™šå‡½æ•°ï¼›</li>
<li>å¦‚æœä¸è¿›è¡Œæ˜¾å¼è¯´æ˜ ï¼Œ ç³»ç»Ÿä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªå‡½æ•°ä½“ä¸ºç©ºçš„éšå«ææ„å‡½æ•°ï¼›</li>
<li><strong>å¦‚æœå¸Œæœ›ç¨‹åºåœ¨å¯¹è±¡è¢«åˆ é™¤ä¹‹å‰çš„æ—¶åˆ»è‡ªåŠ¨ ï¼ˆ ä¸éœ€è¦äººä¸ºçš„è¿›è¡Œå‡½æ•°è°ƒç”¨ ï¼‰ å®ŒæˆæŸäº›äº‹æƒ… ï¼Œ å°±å¯ä»¥æŠŠä»–ä»¬å†™åˆ°ææ„å‡½æ•°ä¸­</strong>ï¼›</li>
</ul>
<h1 id="ç±»çš„ç»„åˆ"><a href="#ç±»çš„ç»„åˆ" class="headerlink" title="ç±»çš„ç»„åˆ"></a><em>ç±»çš„ç»„åˆ</em></h1><h2 id="ç»„åˆï¼š"><a href="#ç»„åˆï¼š" class="headerlink" title="ç»„åˆï¼š"></a>ç»„åˆï¼š</h2><ul>
<li>è§£å†³å¤æ‚é—®é¢˜çš„æœ‰æ•ˆæ–¹æ³•å°±æ˜¯å°†å…¶å±‚å±‚åˆ†è§£ä¸ºç®€å•çš„é—®é¢˜çš„<strong>ç»„åˆ</strong>ï¼›</li>
<li>ç±»çš„æˆå‘˜æ•°æ®æ—¢å¯ä»¥æ˜¯<strong>åŸºæœ¬ç±»å‹</strong>ä¹Ÿå¯ä»¥æ˜¯<strong>è‡ªå®šä¹‰ç±»å‹</strong>ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æ˜¯<strong>ç±»çš„å¯¹è±¡</strong>ï¼Œç”±æ­¤å¯ä»¥é‡‡ç”¨éƒ¨ä»¶ç»„è£…çš„æ–¹æ³•ï¼Œåˆ©ç”¨å·²æœ‰çš„ç±»çš„å¯¹è±¡æ¥æ„æˆæ–°çš„ç±»ï¼›</li>
<li><strong>ç±»çš„ç»„åˆ</strong>æè¿°çš„å°±æ˜¯ä¸€ä¸ªç±»å†…åµŒå…¶ä»–ç±»çš„å¯¹è±¡ä½œä¸ºæˆå‘˜çš„æƒ…å†µï¼›ä»–ä»¬ä¹‹é—´çš„å…³ç³»æ˜¯åŒ…å«ä¸è¢«åŒ…å«çš„å…³ç³»ï¼›</li>
<li><strong>å½“åˆ›å»ºç±»çš„å¯¹è±¡æ—¶ï¼Œå¦‚æœè¿™ä¸ªç±»å…·æœ‰å†…åµŒå¯¹è±¡æˆå‘˜ï¼Œé‚£ä¹ˆå„ä¸ªå†…åµŒå¯¹è±¡å°†é¦–å…ˆè¢«è‡ªåŠ¨åˆ›å»º</strong>ï¼Œ<strong>å› ä¸ºéƒ¨ä»¶å¯¹è±¡æ˜¯å¤æ‚å¯¹è±¡çš„ä¸€éƒ¨åˆ†ï¼Œæ‰€ä»¥ï¼Œåœ¨åˆ›å»ºå¯¹è±¡æ—¶æ—¢è¦å¯¹æœ¬ç±»çš„åŸºæœ¬ç±»å‹æ•°æ®æˆå‘˜è¿›è¡Œåˆå§‹åŒ–ï¼Œåˆè¦å¯¹å†…åµŒå¯¹è±¡æˆå‘˜è¿›è¡Œåˆå§‹åŒ–</strong>ï¼›</li>
<li>ç»„åˆç±»æ„é€ å‡½æ•°å®šä¹‰çš„ä¸€èˆ¬å½¢å¼ï¼š<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp">ç±»å :: ç±»å (å½¢å‚è¡¨) : å†…åµŒå¯¹è±¡<span class="hljs-number">1</span> (å½¢å‚è¡¨) , å†…åµŒå¯¹è±¡<span class="hljs-number">2</span> (å½¢å‚è¡¨) ,......<br>&#123;<br>	ç±»çš„åˆå§‹åŒ–<br>&#125;<br>	<span class="hljs-comment">//&quot;å†…åµŒå¯¹è±¡1 (å½¢å‚è¡¨) , å†…åµŒå¯¹è±¡2 (å½¢å‚è¡¨) ,......&quot;ç§°ä½œåˆå§‹åŒ–åˆ—è¡¨ ï¼Œ ä½œç”¨æ˜¯å¯¹å†…åµŒå¯¹è±¡çš„åˆå§‹åŒ–ï¼›</span><br></code></pre></td></tr></table></figure></li>
<li>å¯¹åŸºæœ¬ç±»å‹çš„æ•°æ®æˆå‘˜ä¹Ÿå¯ä»¥è¿™æ ·åˆå§‹åŒ–ï¼›</li>
<li><strong>åœ¨åˆ›å»ºä¸€ä¸ªç»„åˆç±»çš„å¯¹è±¡æ—¶ï¼Œä¸ä»…å®ƒè‡ªèº«çš„æ„é€ å‡½æ•°çš„å‡½æ•°ä½“å°†è¢«æ‰§è¡Œï¼Œè€Œä¸”è¿˜å°†è°ƒç”¨å…¶å†…åµŒå¯¹è±¡çš„æ„é€ å‡½æ•°</strong> ï¼Œæ­¤æ—¶æ„é€ å‡½æ•°çš„è°ƒç”¨é¡ºåºå¦‚ä¸‹ï¼š<figure class="highlight asciidoc"><table><tr><td class="code"><pre><code class="hljs asciidoc">1.è°ƒç”¨å†…åµŒå¯¹è±¡çš„æ„é€ å‡½æ•° ï¼Œ è°ƒç”¨é¡ºåºæŒ‰ç…§å†…åµŒå¯¹è±¡åœ¨ç»„åˆç±»çš„å®šä¹‰ä¸­å‡ºç°çš„æ¬¡åºï¼›<span class="hljs-strong">**æ³¨æ„ï¼šå†…åµŒå¯¹è±¡åœ¨æ„é€ å‡½æ•°çš„åˆå§‹åŒ–åˆ—è¡¨ä¸­å‡ºç°çš„é¡ºåºä¸å¯¹è±¡æ„é€ å‡½æ•°çš„è°ƒç”¨é¡ºåºæ— å…³**</span>ï¼›<br>2.æ‰§è¡Œè¢«ç±»æ„é€ å‡½æ•°çš„å‡½æ•°ä½“ï¼›<br></code></pre></td></tr></table></figure></li>
<li>ææ„å‡½æ•°çš„è°ƒç”¨é¡ºåºä¸æ„é€ å‡½æ•°åˆšå¥½ç›¸åï¼›</li>
<li>ç»„åˆç±»çš„<strong>å¤åˆ¶æ„é€ å‡½æ•°</strong> ï¼šéœ€è¦ä¸ºå†…åµŒæˆå‘˜å¯¹è±¡çš„å¤åˆ¶æ„é€ å‡½æ•°ä¼ é€’å‚æ•°ï¼š<figure class="highlight nim"><table><tr><td class="code"><pre><code class="hljs nim">//å‡è®¾Cç±»ä¸­åŒ…å«Bç±»çš„å¯¹è±¡bä½œä¸ºæˆå‘˜ ï¼Œ Cç±»çš„å¤åˆ¶æ„é€ å‡½æ•°çš„å½¢å¼ï¼š<br>C :: C (C &amp;c1) : B (c1.b) <span class="hljs-meta">&#123;...&#125;</span><br></code></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="å‰å‘å¼•ç”¨å£°æ˜"><a href="#å‰å‘å¼•ç”¨å£°æ˜" class="headerlink" title="å‰å‘å¼•ç”¨å£°æ˜"></a>å‰å‘å¼•ç”¨å£°æ˜</h2><ul>
<li>ä¸¤ä¸ªç±»çš„ç›¸äº’å¼•ç”¨æˆä¸ºå¾ªç¯ä¾èµ–ï¼›</li>
<li>å‰å‘å¼•ç”¨å£°æ˜ï¼Œæ˜¯åœ¨å¼•ç”¨ä¸ºå®šä¹‰çš„ç±»ä¹‹å‰ ï¼Œ å°†è¯¥ç±»çš„åå­—å‘Šè¯‰ç¼–è¯‘å™¨ ï¼Œ æ˜¯ç¼–è¯‘å™¨çŸ¥é“é‚£æ˜¯ä¸€ä¸ªç±»å ï¼Œ è€Œç±»çš„å®Œæ•´å®šä¹‰å¯ä»¥åœ¨ç¨‹åºçš„å…¶ä»–åœ°æ–¹ (ç±»ä¼¼å‡½æ•°çš„å®šä¹‰QAQ);</li>
<li>å°½ç®¡ä½¿ç”¨äº†å‰å‘å¼•ç”¨å£°æ˜ ï¼Œ ä½†åœ¨æä¾›ä¸€ä¸ªå®Œæ•´çš„ç±»å®šä¹‰ä¹‹å‰ ï¼Œ ä¸èƒ½å®šä¹‰è¯¥ç±»çš„å¯¹è±¡ ï¼Œ ä¹Ÿä¸èƒ½åœ¨å†…è”æˆå‘˜å‡½æ•°ä¸­ä½¿ç”¨è¯¥ç±»çš„å¯¹è±¡ ï¼Œ å³å½“ä½¿ç”¨å‰å‘å¼•ç”¨å£°æ˜æ—¶ ï¼Œ åªèƒ½ä½¿ç”¨è¢«å£°æ˜çš„ç¬¦å· ï¼Œ è€Œä¸èƒ½æ¶‰åŠç±»çš„ä»»ä½•ç»†èŠ‚ï¼›</li>
</ul>
<h2 id="ç»„åˆç±»çš„ä¸€ä¸ªå®ä¾‹ï¼š"><a href="#ç»„åˆç±»çš„ä¸€ä¸ªå®ä¾‹ï¼š" class="headerlink" title="ç»„åˆç±»çš„ä¸€ä¸ªå®ä¾‹ï¼š"></a>ç»„åˆç±»çš„ä¸€ä¸ªå®ä¾‹ï¼š</h2><p><img src="https://i.imgur.com/OcEpTZQ.jpg" alt="1"><br><img src="https://i.imgur.com/7l6jYfh.jpg" alt="2"><br><img src="https://i.imgur.com/Slh1Fij.jpg" alt="3"></p>
<p><img src="https://i.imgur.com/AoC8mYQ.jpg" alt=""></p>
<blockquote>
<p>ç¹èŠ±ä¼¼é”¦è§…å®‰å® ï¼Œ æ·¡äº‘æµæ°´æ¸¡æ­¤ç”Ÿ</p>
</blockquote>
]]></content>
      <categories>
        <category>c++</category>
      </categories>
      <tags>
        <tag>c++</tag>
        <tag>é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡</tag>
        <tag>ç±»</tag>
      </tags>
  </entry>
  <entry>
    <title>codeforces-1111</title>
    <url>/2019/02/18/codeforces-1111/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p><a href="https://codeforces.com/contest/1111">codeforces 537 div2</a></p>
<h1 id="A"><a href="#A" class="headerlink" title="A"></a>A</h1><p>é¢˜æ„å°±æ˜¯ç»™ä½ ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œç„¶åå¦‚æœs,tçš„å¯¹åº”ä½ä¸Šçš„å­—æ¯è¦ä¹ˆéƒ½æ˜¯å…ƒéŸ³ï¼Œè¦ä¹ˆéƒ½æ˜¯è¾…éŸ³ï¼Œï¼Œå°±è¾“å‡ºYesåä¹‹è¾“å‡ºNoï¼Œï¼Œé•¿åº¦ä¸ç­‰è‚¯å®šè¾“å‡ºçš„æ˜¯Noï¼Œï¼Œï¼Œ</p>
<span id="more"></span>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-comment">//#include &lt;iostream&gt;</span><br><span class="hljs-comment">//#include &lt;cstdio&gt;</span><br><span class="hljs-comment">//#include &lt;cstdlib&gt;</span><br><span class="hljs-comment">//#include &lt;string.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;ans&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> ll <span class="hljs-title">read</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">char</span> c = getchar(); <span class="hljs-keyword">int</span> x = <span class="hljs-number">0</span>, f = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(c &lt; <span class="hljs-string">&#x27;0&#x27;</span> || c &gt; <span class="hljs-string">&#x27;9&#x27;</span>) &#123;<span class="hljs-keyword">if</span>(c == <span class="hljs-string">&#x27;-&#x27;</span>) f = <span class="hljs-number">-1</span>; c = getchar();&#125;<br>    <span class="hljs-keyword">while</span>(c &gt;= <span class="hljs-string">&#x27;0&#x27;</span> &amp;&amp; c &lt;= <span class="hljs-string">&#x27;9&#x27;</span>) x = x * <span class="hljs-number">10</span> + c - <span class="hljs-string">&#x27;0&#x27;</span>, c = getchar();<br>    <span class="hljs-keyword">return</span> x * f;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">check</span><span class="hljs-params">(<span class="hljs-keyword">char</span> a, <span class="hljs-keyword">char</span> b)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(a == <span class="hljs-string">&#x27;a&#x27;</span> || a == <span class="hljs-string">&#x27;e&#x27;</span> || a == <span class="hljs-string">&#x27;i&#x27;</span> || a == <span class="hljs-string">&#x27;o&#x27;</span> || a == <span class="hljs-string">&#x27;u&#x27;</span>)<br>        <span class="hljs-keyword">if</span>(b == <span class="hljs-string">&#x27;a&#x27;</span> || b == <span class="hljs-string">&#x27;e&#x27;</span> || b == <span class="hljs-string">&#x27;i&#x27;</span> || b == <span class="hljs-string">&#x27;o&#x27;</span> || b == <span class="hljs-string">&#x27;u&#x27;</span>)<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">else</span><br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(b != <span class="hljs-string">&#x27;a&#x27;</span> &amp;&amp; b != <span class="hljs-string">&#x27;e&#x27;</span> &amp;&amp; b != <span class="hljs-string">&#x27;i&#x27;</span> &amp;&amp; b != <span class="hljs-string">&#x27;o&#x27;</span> &amp;&amp; b != <span class="hljs-string">&#x27;u&#x27;</span>)<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>         <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">string</span> s, t;<span class="hljs-built_in">cin</span> &gt;&gt; s &gt;&gt; t;<br>    <span class="hljs-keyword">if</span>(s.length() != t.length())<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;No&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        <span class="hljs-keyword">int</span> len = s.length();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; len; ++i)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(!check(s[i], t[i]))<br>            &#123;<br>                <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;No&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>                <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;Yes&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="B"><a href="#B" class="headerlink" title="B"></a>B</h1><p>é¢˜æ„æ˜¯ç»™ä½ nä¸ªæ•°ï¼Œæœ‰ä¸¤ç§æ“ä½œï¼Œä¸€ä¸ªæ˜¯åˆ é™¤ä»»æ„çš„ä¸€ä¸ªæ•°ï¼Œå¦ä¸€ä¸ªæ˜¯å°†ä»»æ„çš„ä¸€ä¸ªæ•°åŠ ä¸€ï¼Œï¼Œå¯¹äº <strong>æ¯ä¸ªæ•°çš„æ“ä½œ</strong> æœ€å¤šæœ‰kç§ï¼Œï¼Œæ€»çš„æ“ä½œæ•°æ˜¯mï¼Œï¼Œï¼Œç„¶åé—®ä½ mä¸ªæ“ä½œåæœ€å¤§çš„å¹³å‡å€¼æ˜¯å¤šå°‘ï¼Œï¼Œ</p>
<p>é¦–å…ˆä¸ºäº†å°½å¯èƒ½çš„å¢åŠ å¹³å‡æ•°ï¼Œè¦åˆ é™¤ä¸€äº›å°çš„æ•°ï¼Œï¼Œæš´åŠ›éå†å¯èƒ½åˆ é™¤çš„æ•°çš„ä¸ªæ•°ï¼Œï¼Œæ˜¾ç„¶æœ€å¤šåˆ é™¤çš„ä¸ªæ•°æ˜¯n-1æˆ–è€…æ˜¯mï¼Œï¼Œæ‰€ä»¥éå†çš„è¾¹ç•Œæ˜¯ <code>min(m, n - 1)</code>ï¼Œï¼Œ</p>
<p>ç„¶åä¾æ¬¡åˆ å»æœ€å°çš„æ•°ï¼ˆé¢„å…ˆæ’åºä¸€ä¸‹ï¼‰ï¼Œï¼Œåˆ æ‰è¿™ä¸ªæ•°åï¼Œç®—ä¸€ä¸‹æ­¤æ—¶å‰©ä¸‹æ•°çš„å¹³å‡å€¼ï¼Œï¼Œï¼Œç„¶åå’Œä¸Šä¸€æ¬¡çš„ç»“æœæ¯”è¾ƒä¸€ä¸‹ï¼Œå–æœ€å¤§å°±è¡Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-comment">//#include &lt;iostream&gt;</span><br><span class="hljs-comment">//#include &lt;cstdio&gt;</span><br><span class="hljs-comment">//#include &lt;cstdlib&gt;</span><br><span class="hljs-comment">//#include &lt;string.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, ull&gt; pii;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">int</span> <span class="hljs-title">read</span><span class="hljs-params">()</span>   <span class="hljs-comment">//å¿«è¯»</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> ans=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">char</span> ch=getchar();<br>    <span class="hljs-keyword">while</span>(!<span class="hljs-built_in">isdigit</span>(ch))<br>        ch=getchar();<br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">isdigit</span>(ch))<br>        ans=(ans&lt;&lt;<span class="hljs-number">3</span>)+(ans&lt;&lt;<span class="hljs-number">1</span>)+(ch^<span class="hljs-number">48</span>),ch=getchar();<br>    <span class="hljs-keyword">return</span> ans;<br>&#125;<br>ll a[maxn];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    ll n, k, m;<br>    n = read(); k = read(); m = read();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)a[i] = read();<br>    sort(a + <span class="hljs-number">1</span>, a + <span class="hljs-number">1</span> + n);<br>    ll sum = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)sum += a[i];<br>    <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ans = (<span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span>)(sum + min(k * n, m)) / (<span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span>)(n);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= min(m, n - <span class="hljs-number">1</span>); ++i)<br>    &#123;<br>        sum -= a[i];<br>        <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> res = (<span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span>)(sum + min(m - i, k * (n - i))) / (<span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span>)(n - i);<br>        ans = max(ans, res);<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%.20f&quot;</span>, (<span class="hljs-keyword">double</span>)ans);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="C"><a href="#C" class="headerlink" title="C"></a>C</h1><p>é¢˜æ„æ˜¯ç»™ä½ ä¸€ä¸ªåŒºé—´é•¿åº¦ä¸º $2^n$é•¿ï¼Œï¼Œç„¶åä¸€ä¸ªæ•°ç»„a[k]ï¼Œa[i]è¡¨ç¤ºç¬¬iä¸ªä½ç½®åŠ ä¸€ï¼Œï¼Œå¯èƒ½æœ‰a[i]æ˜¯ç›¸ç­‰çš„ï¼Œï¼Œç„¶åæœ‰ä¸¤ç§æ“ä½œï¼Œä¸€ç§æ˜¯å­åŒºé—´å…¨ä¸ºé›¶æ—¶æ“ä½œçš„ä»£ä»·ä¸ºAï¼Œï¼Œå¦åˆ™ä»£ä»·ä¸º $B<em>num_{l,r}</em>len_{l, r}$ï¼Œï¼Œï¼Œé—®ä½ æ•´ä¸ªåŒºé—´çš„æœ€å°æ“ä½œä»£ä»·ï¼Œï¼Œ</p>
<p>é¢˜è§£æ˜¯é€’å½’+äºŒåˆ†æ±‚è§£ï¼Œï¼Œï¼Œ</p>
<p>æˆ‘ä¸€å¼€å§‹æƒ³åˆ°äº†é€’å½’æ¥æ±‚ï¼Œï¼Œä½†æ˜¯è‡ªå·±å†™äºŒåˆ†æ±‚åŒºé—´[l, r]çš„ $num_{l, r}$ æ—¶æ€»æ˜¯å†™çˆ†ï¼Œï¼Œï¼Œæœ€åçœ‹äº†é¢˜è§£æ‰æƒ³èµ·æ¥è¿˜æœ‰stlé‡Œçš„ <code>lower_bound</code> å’Œ <code>upper_bound</code> å¯ä»¥ç›´æ¥äºŒåˆ†æ‰¾åˆ°ï¼Œï¼Œï¼ŒQAQ </p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-comment">//#include &lt;iostream&gt;</span><br><span class="hljs-comment">//#include &lt;cstdio&gt;</span><br><span class="hljs-comment">//#include &lt;cstdlib&gt;</span><br><span class="hljs-comment">//#include &lt;string.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, ull&gt; pii;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> ll <span class="hljs-title">read</span><span class="hljs-params">()</span>   <span class="hljs-comment">//å¿«è¯»</span></span><br><span class="hljs-function"></span>&#123;<br>    ll ans=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">char</span> ch=getchar();<br>    <span class="hljs-keyword">while</span>(!<span class="hljs-built_in">isdigit</span>(ch))<br>        ch=getchar();<br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">isdigit</span>(ch))<br>        ans=(ans&lt;&lt;<span class="hljs-number">3</span>)+(ans&lt;&lt;<span class="hljs-number">1</span>)+(ch^<span class="hljs-number">48</span>),ch=getchar();<br>    <span class="hljs-keyword">return</span> ans;<br>&#125;<br><span class="hljs-built_in">vector</span>&lt;ll&gt; a;<br>ll n, k, A, B;<br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> len (r-l+1)</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> mid ((l+r)&gt;&gt;1)</span><br><span class="hljs-function">ll <span class="hljs-title">getnum</span><span class="hljs-params">(<span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    l = lower_bound(a.begin(), a.end(), l) - a.begin();<br>    r = upper_bound(a.begin(), a.end(), r) - a.begin();<br>    <span class="hljs-keyword">return</span> r - <span class="hljs-number">1</span> - l + <span class="hljs-number">1</span>;<br>&#125;<br><span class="hljs-function">ll <span class="hljs-title">solve</span><span class="hljs-params">(<span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    ll num = getnum(l, r);<br>    <span class="hljs-keyword">if</span>(!num)<span class="hljs-keyword">return</span> A;<br>    <span class="hljs-keyword">if</span>(l == r)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(num)<br>            <span class="hljs-keyword">return</span> B * num * <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">else</span><br>            <span class="hljs-keyword">return</span> A;<br>    &#125;<br>    ll a = solve(l, mid);<br>    ll b = solve(mid + <span class="hljs-number">1</span>, r);<br><span class="hljs-comment">//    cout &lt;&lt; a &lt;&lt; b &lt;&lt; &quot;---&quot; &lt;&lt; endl;</span><br>    <span class="hljs-keyword">if</span>(num)<span class="hljs-keyword">return</span> min(a+b, (ll)(B * len * num));<br>    <span class="hljs-keyword">else</span>   <span class="hljs-keyword">return</span> min(a+b, A);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    n = read(); k = read(); A = read(); B = read();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= k; ++i)<br>    &#123;<br>        <span class="hljs-keyword">int</span> t = read();<br>        a.pb(t);<br>    &#125;<br>    sort(a.begin(), a.end());<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%lld&quot;</span>, solve(<span class="hljs-number">1</span>, (<span class="hljs-number">1</span>&lt;&lt;n)));<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Codeforces</category>
      </categories>
      <tags>
        <tag>åˆ·é¢˜</tag>
        <tag>acm</tag>
      </tags>
  </entry>
  <entry>
    <title>cspåˆ·é¢˜</title>
    <url>/2018/12/13/csp%E5%88%B7%E9%A2%98/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>cspåˆ·é¢˜ç•™å­˜ï¼š</p>
<span id="more"></span>
<h1 id="Markdown"><a href="#Markdown" class="headerlink" title="Markdown"></a><a href="http://118.190.20.162/view.page?gpid=T55">Markdown</a></h1><p>åœ¨ç¬¬7ä¸ªç‚¹æŒ‚äº†ï¼Œï¼Œï¼Œä¸æ”¹äº†ï¼Œï¼Œï¼Œå¤ªæ¶å¿ƒäº†è¿™ç§é¢˜QAQï¼Œï¼Œï¼Œï¼Œ<br>æœ‰è°æƒ³æ”¹çš„æ”¹å®Œäº†å‘Šè¯‰æˆ‘ä¸€ä¸‹ï¼Œï¼Œï¼ŒQAQ<br><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e3</span> + <span class="hljs-number">5</span>;<br><span class="hljs-built_in">string</span> h1[] = &#123; <span class="hljs-string">&quot;&lt;h1&gt;&quot;</span> , <span class="hljs-string">&quot;&lt;h2&gt;&quot;</span> , <span class="hljs-string">&quot;&lt;h3&gt;&quot;</span> , <span class="hljs-string">&quot;&lt;h4&gt;&quot;</span> , <span class="hljs-string">&quot;&lt;h5&gt;&quot;</span> , <span class="hljs-string">&quot;&lt;h6&gt;&quot;</span> &#125;;<br><span class="hljs-built_in">string</span> h2[] = &#123; <span class="hljs-string">&quot;&lt;/h1&gt;&quot;</span> , <span class="hljs-string">&quot;&lt;/h2&gt;&quot;</span> , <span class="hljs-string">&quot;&lt;/h3&gt;&quot;</span> , <span class="hljs-string">&quot;&lt;/h4&gt;&quot;</span> , <span class="hljs-string">&quot;&lt;/h5&gt;&quot;</span> , <span class="hljs-string">&quot;&lt;/h6&gt;&quot;</span> &#125;;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">check</span><span class="hljs-params">(<span class="hljs-built_in">string</span> s)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> pos = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">bool</span> _ = <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">bool</span> href = <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">while</span>(s[pos] != <span class="hljs-string">&#x27;\0&#x27;</span>)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(s[pos] == <span class="hljs-string">&#x27;_&#x27;</span>)<br>        &#123;<br>            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;&lt;em&gt;&quot;</span>;<br>            <span class="hljs-keyword">int</span> pos2 = pos + <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">while</span>(s[pos2] != <span class="hljs-string">&#x27;_&#x27;</span>)++pos2;<br>            <span class="hljs-built_in">string</span> t = s.substr(pos + <span class="hljs-number">1</span> , pos2 - pos - <span class="hljs-number">1</span>);<br>            check(t);<br>            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;&lt;/em&gt;&quot;</span>;<br>            pos = pos2 + <span class="hljs-number">1</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(s[pos] == <span class="hljs-string">&#x27;[&#x27;</span>)<br>        &#123;<br>            <span class="hljs-keyword">int</span> a , b , c , d;<br>            a = b = c = d = pos;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = pos; s[i] != <span class="hljs-string">&#x27;\0&#x27;</span>; ++i)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(s[i] == <span class="hljs-string">&#x27;]&#x27;</span>)<br>                    b = i;<br>                <span class="hljs-keyword">if</span>(s[i] == <span class="hljs-string">&#x27;(&#x27;</span>)<br>                    c = i;<br>                <span class="hljs-keyword">if</span>(s[i] == <span class="hljs-string">&#x27;)&#x27;</span>)<br>                    d = i;<br>            &#125;<br>            <span class="hljs-keyword">if</span>(b != pos &amp;&amp; c != pos &amp;&amp; d != pos)<br>            &#123;<br>                <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;&lt;a href=\&quot;&quot;</span>;<br>                <span class="hljs-built_in">string</span> t = s.substr(c + <span class="hljs-number">1</span> , d - c - <span class="hljs-number">1</span>);<br>                check(t);<br>                <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;\&quot;&gt;&quot;</span>;<br>                t = s.substr(a + <span class="hljs-number">1</span> , b - a - <span class="hljs-number">1</span>);<br>                check(t);<br>                <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;&lt;/a&gt;&quot;</span>;<br>                pos = d + <span class="hljs-number">1</span>;<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>                <span class="hljs-built_in">cout</span> &lt;&lt; s[pos++];<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>            <span class="hljs-built_in">cout</span> &lt;&lt; s[pos++];<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    freopen(<span class="hljs-string">&quot;233.txt&quot;</span> , <span class="hljs-string">&quot;r&quot;</span> , <span class="hljs-built_in">stdin</span>);<br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">string</span> s;<br>    <span class="hljs-keyword">bool</span> flagul = <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">bool</span> flagp = <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">while</span>(getline(<span class="hljs-built_in">cin</span> , s))<br>    &#123;<br>        <span class="hljs-keyword">if</span>(s[<span class="hljs-number">0</span>] == <span class="hljs-string">&#x27;#&#x27;</span>)<br>        &#123;<br><br>            <span class="hljs-keyword">if</span>(flagul)<br>            &#123;<br>                <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;&lt;/ul&gt;&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>                flagul = <span class="hljs-literal">false</span>;<br>            &#125;<br>            <span class="hljs-keyword">if</span>(flagp)<br>            &#123;<br>                <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;&lt;/p&gt;&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>                flagp = <span class="hljs-literal">false</span>;<br>            &#125;<br><br>            <span class="hljs-keyword">int</span> i;<span class="hljs-keyword">int</span> sum = <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">for</span>(i = <span class="hljs-number">0</span>; i &lt;= <span class="hljs-number">5</span>; ++i)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(s[i] == <span class="hljs-string">&#x27;#&#x27;</span>)<br>                    ++sum;<br>                <span class="hljs-keyword">else</span><br>                    <span class="hljs-keyword">break</span>;<br>            &#125;<br>            <span class="hljs-keyword">int</span> pos = i;<br>            <span class="hljs-keyword">while</span>(s[pos] == <span class="hljs-string">&#x27; &#x27;</span>)++pos;<br>            <span class="hljs-built_in">cout</span> &lt;&lt; h1[sum - <span class="hljs-number">1</span>];<br>            <span class="hljs-built_in">string</span> t = s.substr(pos , s.length() - pos);<br>            check(t);<br>            <span class="hljs-built_in">cout</span> &lt;&lt; h2[sum - <span class="hljs-number">1</span>] &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(s[<span class="hljs-number">0</span>] == <span class="hljs-string">&#x27;*&#x27;</span>)<br>        &#123;<br><br>            <span class="hljs-keyword">if</span>(flagp)<br>            &#123;<br>                <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;&lt;/p&gt;&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>                flagp = <span class="hljs-literal">false</span>;<br>            &#125;<br><br>            <span class="hljs-keyword">if</span>(!flagul)<br>            &#123;<br>                <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;&lt;ul&gt;&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>                flagul = <span class="hljs-literal">true</span>;<br>            &#125;<br>            <span class="hljs-keyword">int</span> i;<br>            <span class="hljs-keyword">int</span> pos = <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; s[i] != <span class="hljs-string">&#x27;\0&#x27;</span>; ++i)<br>                <span class="hljs-keyword">if</span>(s[i] == <span class="hljs-string">&#x27; &#x27;</span> || s[i] == <span class="hljs-string">&#x27;*&#x27;</span>)<br>                    ++pos;<br>            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;&lt;li&gt;&quot;</span>;<br>            <span class="hljs-keyword">while</span>(s[pos] != <span class="hljs-string">&#x27;\0&#x27;</span>)<br>                <span class="hljs-built_in">cout</span> &lt;&lt; s[pos++];<br>            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;&lt;/li&gt;&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(s.length() == <span class="hljs-number">0</span>)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(flagp)<br>            &#123;<br>                <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;&lt;/p&gt;&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>                flagp = <span class="hljs-literal">false</span>;<br>            &#125;<br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br><br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-keyword">if</span>(flagul)<br>            &#123;<br>                <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;&lt;/ul&gt;&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>                flagul = <span class="hljs-literal">false</span>;<br>            &#125;<br><br>            <span class="hljs-keyword">if</span>(!flagp)<br>            &#123;<br>                <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;&lt;p&gt;&quot;</span>;<br>                flagp = <span class="hljs-literal">true</span>;<br>                check(s);<br>                <span class="hljs-keyword">continue</span>;<br>            &#125;<br>            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>            check(s);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(flagp)<br>        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;&lt;/p&gt;&quot;</span>;<br>    <span class="hljs-keyword">if</span>(flagul)<br>        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;&lt;/ul&gt;&quot;</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure></p>
<h1 id="çº¿æ€§é€’æ¨å¼"><a href="#çº¿æ€§é€’æ¨å¼" class="headerlink" title="çº¿æ€§é€’æ¨å¼"></a><a href="http://118.190.20.162/view.page?gpid=T74">çº¿æ€§é€’æ¨å¼</a></h1><p>æš´åŠ›è‚¯å®šè¶…æ—¶ï¼Œï¼Œï¼Œè¯•äº†è¯•æœæ•™ç­›ï¼Œï¼Œï¼Œç„¶åwa2ï¼Œï¼Œï¼Œemmmmæœ‰æ¯’ï¼Œï¼Œï¼Œä¸ç®¡äº†++</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">998244353</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> rep(i,a,n) for (int i=a;i&lt;n;i++)</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> per(i,a,n) for (int i=n-1;i&gt;=a;i--)</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> mp make_pair</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> all(x) (x).begin(),(x).end()</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> fi first</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> se second</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> SZ(x) ((int)(x).size())</span><br><span class="hljs-keyword">typedef</span> <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; VI;<br><span class="hljs-keyword">typedef</span> <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>,<span class="hljs-keyword">int</span>&gt; PII;<br><span class="hljs-function">ll <span class="hljs-title">powmod</span><span class="hljs-params">(ll a,ll b)</span> </span>&#123;ll res=<span class="hljs-number">1</span>;a%=mod; assert(b&gt;=<span class="hljs-number">0</span>); <span class="hljs-keyword">for</span>(;b;b&gt;&gt;=<span class="hljs-number">1</span>)&#123;<span class="hljs-keyword">if</span>(b&amp;<span class="hljs-number">1</span>)res=res*a%mod;a=a*a%mod;&#125;<span class="hljs-keyword">return</span> res;&#125;<br><span class="hljs-comment">// head</span><br><br><span class="hljs-keyword">int</span> _,n;<br><span class="hljs-keyword">namespace</span> linear_seq &#123;<br>    <span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N=<span class="hljs-number">10010</span>;<br>    ll res[N],base[N],_c[N],_md[N];<br><br>    <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; Md;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">mul</span><span class="hljs-params">(ll *a,ll *b,<span class="hljs-keyword">int</span> k)</span> </span>&#123;<br>        rep(i,<span class="hljs-number">0</span>,k+k) _c[i]=<span class="hljs-number">0</span>;<br>        rep(i,<span class="hljs-number">0</span>,k) <span class="hljs-keyword">if</span> (a[i]) rep(j,<span class="hljs-number">0</span>,k) _c[i+j]=(_c[i+j]+a[i]*b[j])%mod;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=k+k<span class="hljs-number">-1</span>;i&gt;=k;i--) <span class="hljs-keyword">if</span> (_c[i])<br>            rep(j,<span class="hljs-number">0</span>,SZ(Md)) _c[i-k+Md[j]]=(_c[i-k+Md[j]]-_c[i]*_md[Md[j]])%mod;<br>        rep(i,<span class="hljs-number">0</span>,k) a[i]=_c[i];<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">solve</span><span class="hljs-params">(ll n,VI a,VI b)</span> </span>&#123; <span class="hljs-comment">// a ç³»æ•° b åˆå€¼ b[n+1]=a[0]*b[n]+...</span><br><span class="hljs-comment">//        printf(&quot;%d\n&quot;,SZ(b));</span><br>        ll ans=<span class="hljs-number">0</span>,pnt=<span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">int</span> k=SZ(a);<br>        assert(SZ(a)==SZ(b));<br>        rep(i,<span class="hljs-number">0</span>,k) _md[k<span class="hljs-number">-1</span>-i]=-a[i];_md[k]=<span class="hljs-number">1</span>;<br>        Md.clear();<br>        rep(i,<span class="hljs-number">0</span>,k) <span class="hljs-keyword">if</span> (_md[i]!=<span class="hljs-number">0</span>) Md.push_back(i);<br>        rep(i,<span class="hljs-number">0</span>,k) res[i]=base[i]=<span class="hljs-number">0</span>;<br>        res[<span class="hljs-number">0</span>]=<span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">while</span> ((<span class="hljs-number">1ll</span>&lt;&lt;pnt)&lt;=n) pnt++;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> p=pnt;p&gt;=<span class="hljs-number">0</span>;p--) &#123;<br>            mul(res,res,k);<br>            <span class="hljs-keyword">if</span> ((n&gt;&gt;p)&amp;<span class="hljs-number">1</span>) &#123;<br>                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=k<span class="hljs-number">-1</span>;i&gt;=<span class="hljs-number">0</span>;i--) res[i+<span class="hljs-number">1</span>]=res[i];res[<span class="hljs-number">0</span>]=<span class="hljs-number">0</span>;<br>                rep(j,<span class="hljs-number">0</span>,SZ(Md)) res[Md[j]]=(res[Md[j]]-res[k]*_md[Md[j]])%mod;<br>            &#125;<br>        &#125;<br>        rep(i,<span class="hljs-number">0</span>,k) ans=(ans+res[i]*b[i])%mod;<br>        <span class="hljs-keyword">if</span> (ans&lt;<span class="hljs-number">0</span>) ans+=mod;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>    <span class="hljs-function">VI <span class="hljs-title">BM</span><span class="hljs-params">(VI s)</span> </span>&#123;<br>        VI C(1,1),B(1,1);<br>        <span class="hljs-keyword">int</span> L=<span class="hljs-number">0</span>,m=<span class="hljs-number">1</span>,b=<span class="hljs-number">1</span>;<br>        rep(n,<span class="hljs-number">0</span>,SZ(s)) &#123;<br>            ll d=<span class="hljs-number">0</span>;<br>            rep(i,<span class="hljs-number">0</span>,L+<span class="hljs-number">1</span>) d=(d+(ll)C[i]*s[n-i])%mod;<br>            <span class="hljs-keyword">if</span> (d==<span class="hljs-number">0</span>) ++m;<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-number">2</span>*L&lt;=n) &#123;<br>                VI T=C;<br>                ll c=mod-d*powmod(b,mod<span class="hljs-number">-2</span>)%mod;<br>                <span class="hljs-keyword">while</span> (SZ(C)&lt;SZ(B)+m) C.pb(<span class="hljs-number">0</span>);<br>                rep(i,<span class="hljs-number">0</span>,SZ(B)) C[i+m]=(C[i+m]+c*B[i])%mod;<br>                L=n+<span class="hljs-number">1</span>-L; B=T; b=d; m=<span class="hljs-number">1</span>;<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                ll c=mod-d*powmod(b,mod<span class="hljs-number">-2</span>)%mod;<br>                <span class="hljs-keyword">while</span> (SZ(C)&lt;SZ(B)+m) C.pb(<span class="hljs-number">0</span>);<br>                rep(i,<span class="hljs-number">0</span>,SZ(B)) C[i+m]=(C[i+m]+c*B[i])%mod;<br>                ++m;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> C;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">gao</span><span class="hljs-params">(VI a,ll n)</span> </span>&#123;<br>        VI c=BM(a);<br>        c.erase(c.begin());<br>        rep(i,<span class="hljs-number">0</span>,SZ(c)) c[i]=(mod-c[i])%mod;<br>        <span class="hljs-keyword">return</span> solve(n,c,VI(a.begin(),a.begin()+SZ(c)));<br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//freopen(&quot;233.txt&quot; , &quot;r&quot; , stdin);</span><br>    ll a[maxn];<br>    ll k[maxn];<br>    ll m , l , r;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lld%lld%lld&quot;</span> , &amp;m , &amp;l , &amp;r);<br>    &#123;<br>        <span class="hljs-keyword">for</span>(ll i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lld&quot;</span> , &amp;k[i]);<br>        <span class="hljs-built_in">memset</span>(a , (ll)<span class="hljs-number">0</span> , <span class="hljs-keyword">sizeof</span> a);<br>        a[<span class="hljs-number">0</span>] = (ll)<span class="hljs-number">1</span>;<br><br><br>        <span class="hljs-keyword">if</span>(r &gt;= <span class="hljs-number">20</span>)<br>        &#123;<br>            <span class="hljs-keyword">for</span>(ll i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">30</span>; ++i)<br>            &#123;<br>                ll mi = min(i, m);<br>                ll ma = (m &lt;= i) ? m : i;<br>                <span class="hljs-keyword">for</span>(ll j = i, kk = <span class="hljs-number">1</span>; kk &lt;= ma; --j, ++kk)<br>                    a[i] = (a[i] + (a[j - <span class="hljs-number">1</span>] * k[kk] % mod)) % mod;<br>            &#125;<br>            <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; v;<br>            <span class="hljs-keyword">for</span>(ll i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">30</span>; ++i)<br>                v.push_back(a[i]);<br>            <span class="hljs-keyword">for</span>(ll i = l; i &lt;= r; ++i)<br>                <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%lld\n&quot;</span>, linear_seq::gao(v, i - <span class="hljs-number">1</span>));<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-keyword">for</span>(ll i = <span class="hljs-number">1</span>; i &lt;= r; ++i)<br>            &#123;<br>                <span class="hljs-keyword">int</span> mi = min(i, m);<br>                <span class="hljs-keyword">int</span> ma = (m &lt;= i) ? m : i;<br>                <span class="hljs-keyword">for</span>(ll j = i, kk = <span class="hljs-number">1</span>; kk &lt;= ma; --j, ++kk)<br>                    a[i] = (a[i] + (a[j - <span class="hljs-number">1</span>] * k[kk] % mod)) % mod;<br>            &#125;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = l; i &lt;= r; ++i)<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%lld\n&quot;</span> , a[i]);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<h1 id="é€šä¿¡ç½‘ç»œ"><a href="#é€šä¿¡ç½‘ç»œ" class="headerlink" title="é€šä¿¡ç½‘ç»œ"></a><a href="http://118.190.20.162/view.page?gpid=T60">é€šä¿¡ç½‘ç»œ</a></h1><p>è¿™é¢˜æ·±æœå°±è¡Œäº†ï¼Œï¼Œï¼Œä»£ç ä¸¢äº†ï¼Œï¼Œï¼Œ</p>
<h1 id="é™¤æ³•"><a href="#é™¤æ³•" class="headerlink" title="é™¤æ³•"></a><a href="http://118.190.20.162/view.page?gpid=T59">é™¤æ³•</a></h1><p>è¿™é¢˜ç»™çš„æ—¶é™æ˜¯10sï¼Œï¼Œï¼Œä¸€å¼€å§‹æˆ‘è¿˜å½“ä¸€èˆ¬çš„åŒºé—´é—®é¢˜æƒ³ï¼Œï¼Œï¼Œæƒ³ç€æ€ä¹ˆç”¨åŒºé—´ä¿®æ”¹çš„çº¿æ®µæ ‘åšï¼Œï¼Œï¼Œï¼Œç„¶åå‘ç°æ—¶é™å¾ˆå¤§ï¼Œä¹‹åæœæ–­æš´åŠ›æ›´æ–°åŒºé—´çš„æ¯ä¸ªç‚¹ï¼Œï¼Œï¼Œç„¶åè¯•äº†å¥½å¤šçš„çº¿æ®µæ ‘çš„æ¿å­éƒ½åœ¨ç¬¬ä¹ä¸ªç‚¹täº†ï¼Œï¼Œï¼Œï¼Œæ¢æ ‘çŠ¶æ•°ç»„å°±æ²¡äº‹ï¼Œï¼Œemmmmmæœ‰æ¯’++,,è¿˜æœ‰è¦åˆ¤æ–­è¿™ä¸ªæ•°æ˜¯ä¸æ˜¯å·²ç»æ¯”è¦é™¤çš„æ•°å°ï¼Œï¼Œï¼Œè¿˜æœ‰æ ‡è®°ä¼˜åŒ–ï¼Œï¼Œï¼Œè¿™æ ·æ‰èƒ½è¿‡ï¼Œï¼Œï¼Œï¼Œ</p>
<p>ä»£ç æ²¡ä¿å­˜ï¼Œï¼Œï¼Œemmmmä¸ç®¡äº†ï¼Œï¼Œï¼Œï¼Œ</p>
]]></content>
  </entry>
  <entry>
    <title>hdu-1540çº¿æ®µæ ‘åˆ·é¢˜</title>
    <url>/2018/10/18/hdu-1540%E7%BA%BF%E6%AE%B5%E6%A0%91%E5%88%B7%E9%A2%98/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1540">å“‡ï¼Œï¼Œï¼Œè¿™é“çº¿æ®µæ ‘çš„é¢˜å¯ä»¥è¯´æ˜¯åˆ°ç›®å‰ä¸ºæ­¢æˆ‘æ‰€åšè¿‡çš„æœ€éš¾çš„ä¸€é“äº†å§QAQï¼Œï¼Œï¼Œ</a>ï¼Œï¼Œï¼Œ</p>
<p>ä¸€å¼€å§‹è¯»å®Œé¢˜å°±æ˜¯ä¸€è„¸æ‡µé€¼ï¼Œï¼Œï¼Œï¼Œå®Œå…¨ä¸çŸ¥é“è¯¥ä»å“ªé‡Œä¸‹æ‰‹ï¼Œï¼Œï¼Œå°±æ˜¯çŸ¥é“è¿™æ˜¯ä¸€é“çº¿æ®µæ ‘çš„é¢˜ä¹Ÿä¸çŸ¥é“è¯¥æ€ä¹ˆä¸‹æ‰‹å•Šå•Šå•Šï¼Œï¼Œï¼Œï¼Œ</p>
<p>æœ€åè¿˜æ˜¯çœ‹äº†kaungbinå¤§ä½¬çš„ä»£ç ï¼Œï¼Œï¼ŒQAQ</p>
<p>å…‰æ˜¯è¯»ä»£ç å°±èŠ±äº†ä¸€ä¸¤ä¸ªå°æ—¶ï¼Œï¼Œï¼Œï¼ˆä¸è¿‡ä¹Ÿæœ‰å¯èƒ½å’Œä»Šå¤©è´¼å›°æœ‰å…³ï¼Œï¼Œï¼Œè„‘è¢‹ä¸æ€ä¹ˆè½¬å•Š</p>
<span id="more"></span>
<h1 id="åˆ†ææ€è·¯"><a href="#åˆ†ææ€è·¯" class="headerlink" title="åˆ†ææ€è·¯"></a>åˆ†ææ€è·¯</h1><h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>å¤§æ¦‚çš„é¢˜æ„å°±æ˜¯ä¸€ä¸²åœ¨ä¸€æ¡çº¿ä¸Šçš„æ‘åº„ï¼Œï¼Œæˆ–è€…è¯´æ˜¯ç‚¹ï¼Œï¼Œï¼Œä¸€å¼€å§‹éƒ½ä¸º1ï¼Œï¼Œï¼Œç„¶åæœ‰ä¸‰ç§ä¸åŒçš„æ“ä½œï¼Œï¼Œï¼Œ</p>
<ul>
<li>d a: æ„å‘³ç€å°†aè¿™ä¸ªç‚¹ç½®ä¸º0ï¼Œï¼Œï¼Œ</li>
<li>q a: æ„å‘³ç€è¯¢é—®aå‘¨å›´æœ‰å¤šå°‘çš„1ï¼Œï¼Œï¼Œåªè¦ç¢°åˆ°é›¶å°±ä¸ç®—äº†ï¼Œï¼Œï¼Œä¾‹å¦‚110111110,,(q 5) = 5</li>
<li>r: æ„å‘³ç€å°†ä¸Šä¸€ä¸ªè¢«ç½®ä¸ºé›¶çš„ç‚¹ç½®ä¸º1 </li>
</ul>
<h2 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><h3 id="æˆ‘çš„æƒ³æ³•"><a href="#æˆ‘çš„æƒ³æ³•" class="headerlink" title="æˆ‘çš„æƒ³æ³•"></a>æˆ‘çš„æƒ³æ³•</h3><p>ä¸€å¼€å§‹æˆ‘çœ‹åˆ°æœ‰éœ€è¦ä¸Šä¸€æ¬¡æ“ä½œçš„æƒ…å†µï¼Œï¼Œå°±æƒ³ç€è¦å°†è¿™äº›dæ“ä½œä¿å­˜ä¸‹æ¥ï¼Œï¼Œé€‚åˆè¿™é“é¢˜çš„å°±æ˜¯æ ˆï¼Œï¼Œï¼Œ</p>
<p>ç„¶åå°±æ˜¯è¯¢é—®äº†ï¼Œï¼Œï¼Œæˆ‘é‚£æ—¶æƒ³ç€æ—¢ç„¶è¦æ±‚aå‘¨å›´è¿™äº›1çš„ä¸ªæ•°ï¼Œï¼Œé‚£æˆ‘å°±æ‰¾åˆ°ä¸¤ç«¯çš„0ä¸å°±è¡Œäº†ï¼Œï¼Œï¼Œç„¶åä»è¿™é‡Œå°±å½»åº•çš„è„‘æŠ½äº†ï¼Œï¼Œï¼Œåˆæƒ³ç€ç”¨çº¿æ®µæ ‘å»æ±‚è¿™æ®µåŒºé—´çš„å’Œï¼Œï¼Œï¼Œï¼Œç„¶åç»“æœæ˜¾è€Œæ˜“è§ï¼Œï¼Œï¼Œï¼Œtäº†ï¼Œï¼Œï¼Œ</p>
<p>å› ä¸ºï¼Œï¼Œè¿™ç§æƒ³æ³•çº¿æ®µæ ‘æ ¹æœ¬æ²¡æœ‰ç”¨å•Šï¼ï¼ï¼ï¼éƒ½æ‰¾å‡ºé‚£ä¸¤ç«¯çš„0æ‰€åœ¨çš„ä½ç½®ç›´æ¥å‡ä¸å°±è¡Œäº†ï¼Œï¼Œï¼Œè¿™ä¸å°±æ˜¯è£¸æš´åŠ›å—ï¼Œï¼Œï¼Œï¼Œï¼Œå“‡ï¼Œï¼Œï¼Œè¢«è‡ªå·±è ¢å“­(à¹à¥”ËƒÌ¶á—œË‚Ì¶à¹à¥“)ï¼Œï¼Œï¼Œï¼Œ</p>
<h3 id="æ–Œç¥çš„åšæ³•"><a href="#æ–Œç¥çš„åšæ³•" class="headerlink" title="æ–Œç¥çš„åšæ³•"></a>æ–Œç¥çš„åšæ³•</h3><p>é¦–å…ˆå°†è¿™æ®µçº¿åˆ’åˆ†æˆå¤šä¸ªåŒºæ®µï¼Œï¼Œï¼Œæ¯ä¸ªåŒºæ®µä¿å­˜çš„ä¿¡æ¯æœ‰ï¼š<strong>ä»è¿™å»åŒºæ®µçš„å·¦ç«¯ç‚¹å¼€å§‹æœ€é•¿çš„è¿ç»­1çš„ä¸ªæ•°ll</strong> ã€ <strong>ä»è¿™ä¸ªåŒºæ®µå³ç«¯ç‚¹å¼€å§‹çš„æœ€é•¿çš„è¿ç»­1çš„ä¸ªæ•°rl</strong> ã€ è¿˜æœ‰<strong>è¿™ä¸ªåŒºæ®µæœ€å¤§çš„è¿ç»­ç‚¹çš„ä¸ªæ•°ml</strong>ã€‚ã€‚ã€‚</p>
<p><strong>å»ºæ ‘</strong>ï¼šll = rl = ml = åŒºé—´é•¿</p>
<p><strong>æ›´æ–°</strong>ï¼š </p>
<blockquote>
<p>å¶å­èŠ‚ç‚¹ç½®ä¸€ç½®é›¶ï¼Œï¼Œï¼Œ</p>
<p>å·¦å³é€’å½’æ›´æ–°</p>
<p>å…¶ä»–åŒºé—´ï¼š(pushup())<br>çˆ¶èŠ‚ç‚¹.ll = å·¦èŠ‚ç‚¹.ll     çˆ¶èŠ‚ç‚¹.rl = å³èŠ‚ç‚¹.rl<br>çˆ¶èŠ‚ç‚¹.mlå–å·¦å³èŠ‚ç‚¹çš„æœ€å¤§çš„ä¸€ä¸ªml<br>è‹¥å·¦èŠ‚ç‚¹çš„rl + å³èŠ‚ç‚¹çš„ll &gt; çˆ¶èŠ‚ç‚¹çš„mlï¼Œï¼Œï¼Œï¼Œå°±æ›´æ–°ä¸ºå‰è€…</p>
<p>å¯¹äºçˆ¶èŠ‚ç‚¹çš„ll,rl<br>å¦‚æœå·¦èŠ‚ç‚¹çš„llä¸ºå·¦èŠ‚ç‚¹çš„é•¿åº¦ï¼Œï¼Œï¼Œå°±è¯´æ˜å·¦èŠ‚ç‚¹ä»å·¦ç«¯ç‚¹å¼€å§‹çš„è¿ç»­1çš„æœ€å¤§çš„ä¸ªæ•°å°±ä¸ºå·¦èŠ‚ç‚¹åŒ…å«çš„ç‚¹çš„ä¸ªæ•°ï¼Œï¼Œï¼Œæ‰€ä»¥æ­¤æ—¶çš„çˆ¶èŠ‚ç‚¹çš„llå°±è¦å’Œ<strong>å³èŠ‚ç‚¹çš„llåˆå¹¶</strong><br>åŒç†ï¼Œï¼Œï¼Œçˆ¶èŠ‚ç‚¹çš„rlä¹Ÿè¦è¿›è¡Œè¿™æ ·çš„åˆ¤æ–­</p>
</blockquote>
<p><strong>æŸ¥è¯¢</strong>ï¼š</p>
<p>å¯¹äºä¸€äº›ç‰¹æ®Šçš„åŒºé—´ç›´æ¥è¿”å›è¯¥åŒºé—´çš„æœ€å¤§çš„è¿ç»­1çš„ä¸ªæ•°ä¹Ÿå°±æ˜¯ml</p>
<blockquote>
<p>å½“locåœ¨ä¸­ç‚¹å·¦æ—¶ï¼Œï¼Œï¼Œå°±è¦ä»å·¦èŠ‚ç‚¹æ¥åˆ¤æ–­ï¼Œï¼Œï¼Œåˆ¤æ–­çš„æ¡ä»¶æ˜¯locæ˜¯å¦è¶…å‡ºäº†rlçš„æœ€å·¦ç«¯ï¼ˆç”»å›¾æ›´å®¹æ˜“ç†è§£ä¸€äº›ï¼‰ï¼Œï¼Œï¼Œè¶…å‡ºçš„è¯å°±è¯´æ˜locæ‰€åœ¨çš„è¿ç»­çš„1ä¸€éƒ¨åˆ†æ˜¯åœ¨å·¦èŠ‚ç‚¹çš„rlé‡Œå¦ä¸€éƒ¨åˆ†æ˜¯åœ¨å³èŠ‚ç‚¹çš„llé‡Œï¼Œï¼Œï¼Œå°±åˆ†æˆä¸¤ä¸ªç‚¹æŸ¥è¯¢ï¼Œï¼Œï¼Œä¸€ä¸ªæ˜¯åœ¨å·¦èŠ‚ç‚¹çš„locï¼Œï¼Œï¼Œå¦ä¸€ä¸ªæ—¶åœ¨å³èŠ‚ç‚¹çš„mid+1é‚£ä¸ªç‚¹<br>åŒç†ï¼Œï¼Œè‹¥åœ¨ä¸­ç‚¹çš„å³æ—¶ä¹Ÿæœ‰ç±»ä¼¼çš„åˆ¤æ–­ï¼Œï¼Œï¼Œ<br>å¤§ä½“ä¸Šè¯´å°±æ˜¯ä¸æ–­åœ°åˆ¤æ–­è¦æ‰¾åˆ°é‚£ä¸ªç‚¹ç›¸å¯¹ll,rlçš„ä½ç½®ï¼Œï¼Œï¼Œæœ€åæŠŠé€’å½’æŸ¥è¯¢åˆ°çš„ç»“æœåˆå¹¶å°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
</blockquote>
<p>å­—ä¸‘è§è°…ï¼Œï¼Œï¼Œï¼Œï¼ˆä¸è¿‡åº”è¯¥æ²¡äººçœ‹æŠŠï¼Œï¼Œï¼Œï¼Œ</p>
<p><img src="https://img2018.cnblogs.com/blog/1028485/201810/1028485-20181018204849235-921393699.jpg" alt=""></p>
<h1 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h1><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">5e5</span> + <span class="hljs-number">10</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> l;<br>    <span class="hljs-keyword">int</span> r;<br>    <span class="hljs-keyword">int</span> ml;<br>    <span class="hljs-keyword">int</span> ll;<br>    <span class="hljs-keyword">int</span> rl;<br>&#125;node[maxn &lt;&lt; <span class="hljs-number">2</span>];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">build</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt , <span class="hljs-keyword">int</span> l , <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    node[rt].l = l;<br>    node[rt].r = r;<br>    node[rt].ml = node[rt].ll = node[rt].rl = r - l + <span class="hljs-number">1</span>;    <span class="hljs-comment">//åˆšå¼€å§‹è‚¯å®šæ˜¯åŒºé—´çš„é•¿åº¦</span><br>    <span class="hljs-keyword">if</span>(l == r) <span class="hljs-keyword">return</span>;<br>    <span class="hljs-keyword">int</span> mid = (l + r) &gt;&gt; <span class="hljs-number">1</span>;<br>    build(rt &lt;&lt; <span class="hljs-number">1</span> , l , mid);<br>    build(rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span> , mid + <span class="hljs-number">1</span> , r);<br>    <span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">update</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt , <span class="hljs-keyword">int</span> loc , <span class="hljs-keyword">int</span> val)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(node[rt].l == node[rt].r)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(val) node[rt].ml = node[rt].ll = node[rt].rl = <span class="hljs-number">1</span>;    <span class="hljs-comment">//æ‘§æ¯å’Œé‡å»ºä¸¤ç§</span><br>        <span class="hljs-keyword">else</span>    node[rt].ml = node[rt].ll = node[rt].rl = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-keyword">int</span> mid = (node[rt].l + node[rt].r) &gt;&gt; <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">if</span>(loc &lt;= mid)  update(rt &lt;&lt; <span class="hljs-number">1</span> , loc , val);<br>    <span class="hljs-keyword">else</span>            update(rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span> , loc , val);<br>    <span class="hljs-comment">//é€’å½’æ›´æ–°</span><br>    <span class="hljs-comment">//å…ˆæ›´æ–°çˆ¶èŠ‚ç‚¹çš„ä¸¤ä¸ªï¼Œll,rl</span><br>    node[rt].ll = node[rt &lt;&lt; <span class="hljs-number">1</span>].ll;<br>    node[rt].rl = node[rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>].rl;<br><br>    <span class="hljs-comment">//ç„¶åæ˜¯çˆ¶èŠ‚ç‚¹çš„ml</span><br>    node[rt].ml = max(node[rt &lt;&lt; <span class="hljs-number">1</span>].ml , node[rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>].ml);<br>    node[rt].ml = max(node[rt].ml , node[rt &lt;&lt; <span class="hljs-number">1</span>].rl + node[rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>].ll);<br><br>    <span class="hljs-comment">//çˆ¶èŠ‚ç‚¹çš„ll,rlå¯èƒ½å°±æ˜¯å·¦å³èŠ‚ç‚¹çš„ll,,rl,,,,å½“åˆšå¥½æ˜¯å­èŠ‚ç‚¹çš„å…¨éƒ¨æ—¶è¿˜è¦åŠ ä¸Šå¦ä¸€ä¸ªåŒºé—´çš„ä¸€éƒ¨åˆ†</span><br>    <span class="hljs-keyword">if</span>(node[rt &lt;&lt; <span class="hljs-number">1</span>].ll == node[rt &lt;&lt; <span class="hljs-number">1</span>].r - node[rt &lt;&lt; <span class="hljs-number">1</span>].l + <span class="hljs-number">1</span>)<br>        node[rt].ll += node[rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>].ll;<br>    <span class="hljs-keyword">if</span>(node[rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>].rl == node[rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>].r - node[rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>].l + <span class="hljs-number">1</span>)<br>        node[rt].rl += node[rt &lt;&lt; <span class="hljs-number">1</span>].rl;<br>    <span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">query</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt , <span class="hljs-keyword">int</span> loc)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//ç‰¹æ®Šæƒ…å†µç›´æ¥è¿”å›ml</span><br>    <span class="hljs-keyword">if</span>(node[rt].l == node[rt].r || node[rt].ml == <span class="hljs-number">0</span> || node[rt].ml == node[rt].r - node[rt].l + <span class="hljs-number">1</span>)<br>        <span class="hljs-keyword">return</span> node[rt].ml;<br><br>    <span class="hljs-keyword">int</span> mid = (node[rt].l + node[rt].r) &gt;&gt; <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">if</span>(loc &lt;= mid)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(loc &gt;= node[rt &lt;&lt; <span class="hljs-number">1</span>].r - node[rt &lt;&lt; <span class="hljs-number">1</span>].rl + <span class="hljs-number">1</span>)<br>            <span class="hljs-keyword">return</span> query(rt &lt;&lt; <span class="hljs-number">1</span> , loc) + query(rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span> , mid + <span class="hljs-number">1</span>);<br>        <span class="hljs-keyword">else</span><br>            <span class="hljs-keyword">return</span> query(rt &lt;&lt; <span class="hljs-number">1</span> , loc);<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        <span class="hljs-keyword">if</span>(loc &lt;= node[rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>].l + node[rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>].ll - <span class="hljs-number">1</span>)<br>            <span class="hljs-keyword">return</span> query(rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span> , loc) + query(rt &lt;&lt; <span class="hljs-number">1</span> , mid);<br>        <span class="hljs-keyword">return</span> query(rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span> , loc);<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> n , m;<br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span> , &amp;n , &amp;m) != EOF)<br>    &#123;<br>        build(<span class="hljs-number">1</span> , <span class="hljs-number">1</span> , n);<br>        <span class="hljs-keyword">int</span> q[maxn];<br>        <span class="hljs-keyword">int</span> toc = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">int</span> t = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">while</span>(m--)<br>        &#123;<br>            <span class="hljs-keyword">char</span> c;<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot; %c&quot;</span> , &amp;c);<br>            <span class="hljs-keyword">if</span>(c == <span class="hljs-string">&#x27;D&#x27;</span>)<br>            &#123;<br>                <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;t);<br>                q[toc++] = t;   <span class="hljs-comment">//æŠŠæ‘§æ¯æ“ä½œä¿å­˜</span><br>                update(<span class="hljs-number">1</span> , t , <span class="hljs-number">0</span>);<br>            &#125;<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(c == <span class="hljs-string">&#x27;Q&#x27;</span>)<br>            &#123;<br>                <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;t);<br>                <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span> , query(<span class="hljs-number">1</span> , t));<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                <span class="hljs-keyword">if</span>(t)<br>                &#123;<br>                    t = q[--toc];<br>                    update(<span class="hljs-number">1</span> , t , <span class="hljs-number">1</span>);<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">//kaungbin</span><br><br></code></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM-çº¿æ®µæ ‘</category>
      </categories>
      <tags>
        <tag>åˆ·é¢˜</tag>
        <tag>acm</tag>
      </tags>
  </entry>
  <entry>
    <title>codeforces-1114F-çº¿æ®µæ ‘ç»ƒä¹ </title>
    <url>/2019/02/17/codeforces-1114F-%E7%BA%BF%E6%AE%B5%E6%A0%91%E7%BB%83%E4%B9%A0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p><a href="https://codeforces.com/problemset/problem/1114/F">è¿™æ˜¯ä¸€é“ç”¨çº¿æ®µæ ‘ç»´åŒºé—´å€¼çš„ä¸€é“é¢˜</a>ï¼Œï¼Œé¢˜æ„å¾ˆç®€å•ï¼Œï¼Œå°±æ˜¯å¯¹äºç»™å®šçš„ä¸€ä¸ªåºåˆ—ï¼Œï¼Œåˆå§‹æ—¶æ¯ä¸ªæ•°çš„å€¼ä¸å¤§äº300ï¼Œï¼Œï¼Œç„¶åæœ‰ä¸¤ä¸­æ“ä½œï¼Œï¼Œä¸€ä¸ªæ˜¯å¯¹åŒºé—´[l, r]çš„æ¯ä¸ªæ•°ä¹˜ä¸Šä»¥ä¸ªæ•°xï¼Œï¼Œä¸€ä¸ªæ˜¯è¯¢é—®åŒºé—´çš„ä¹˜ç§¯çš„æ¬§æ‹‰å‡½æ•°å€¼ï¼Œï¼Œï¼Œ</p>
<span id="more"></span>
<h1 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h1><p>é¦–å…ˆå¯¹äºç¬¬ä¸€ä¸ªæ“ä½œæ˜¾ç„¶å¯ä»¥ç”¨çº¿æ®µæ ‘çš„å»¶è¿Ÿæ›´æ–°æ¥å®Œæˆï¼Œï¼Œ</p>
<p>å¯¹äºç¬¬äºŒä¸ªæ“ä½œï¼Œï¼Œæˆ‘æœ€å…ˆæ²¡è€ƒè™‘æ•°æ®ï¼Œï¼Œå°±æƒ³ç€ç›´æ¥ç»´æŠ¤åŒºé—´çš„ä¹˜ç§¯ï¼Œï¼Œå¯¹æœ€åçš„åŒºé—´ä¹˜ç§¯æ±‚æ¬§æ‹‰å‡½æ•°å€¼ï¼Œï¼Œï¼Œä½†æ˜¯ï¼Œï¼Œï¼Œå³ä½¿æ•°æ®åˆå§‹å€¼å¾ˆå°ï¼Œï¼Œä½†æ˜¯å¤šæ¬¡ç´¯ä¹˜xåä¼šçˆ†llï¼Œç”šè‡³æ˜¯ullï¼Œï¼Œï¼Œ</p>
<p>æ­£è§£æ˜¯è¿™æ ·çš„ï¼š</p>
<p>å¯¹äºç¬¬ä¸€ä¸ªæ“ä½œï¼Œï¼Œæ¯æ¬¡éƒ½ä¿å­˜åŒºé—´æ¨¡modçš„ä¹˜ç§¯ï¼Œï¼Œï¼Œ</p>
<p>å¯¹äºç¬¬äºŒä¸ªæ“ä½œï¼Œï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯æ±‚çš„åŒºé—´ç§¯çš„æ¬§æ‹‰å‡½æ•°å€¼ï¼Œä¹Ÿå°±æ˜¯</p>
<p>$MUL<em>{l,r} \times phi(Mul</em>{l, r}) = Mul<em>{l, r} \times \prod</em>{i=l}^j {prime[i]-1 \over prime[i]}$ </p>
<p>$prime[i] æ˜¯æŒ‡ Mul_{l, r} çš„è´¨å› æ•°$</p>
<p>å› ä¸ºç›´æ¥å­˜ $Mul_{l, r}$ ä¼šçˆ†æ‰ï¼Œï¼Œè€Œæœ€åçš„ç»“æœå®åœ¨modä¸‹çš„æ•°ï¼Œï¼Œ300ä»¥é‡Œçš„è´¨æ•°ä¹Ÿåªæœ‰62ä¸ªï¼Œï¼Œæ‰€ä»¥å¯ä»¥æ ‡è®°å‡ºä¹˜ç§¯çš„æ‰€æœ‰è´¨å› æ•°ï¼Œï¼Œç”¨ä¸€ä¸ªllçš„æ•°å°±è¡Œäº†ï¼ˆçŠ¶å‹çš„æ€æƒ³ï¼‰ï¼Œï¼Œå¯¹äºä»»æ„ä¸€ä¸ªåŒºé—´çš„ä¹˜ç§¯çš„æ ‡è®°éƒ½å¯ä»¥ç”¨ä¸¤ä¸ªå­èŠ‚ç‚¹çš„æ ‡è®°å€¼çš„æˆ–è¿ç®—å¾—åˆ°ï¼Œï¼ŒåŒæ—¶æ ‡è®°å€¼ä¹Ÿåªä¼šå› ä¸ºä¹˜ä¸Šçš„é‚£ä¸ªæ•°xè€Œå¢åŠ ï¼Œï¼Œï¼Œå…¬å¼é‡Œçš„é™¤ $prime[i]$ ä¹Ÿå¯ä»¥ç”¨é€†å…ƒæå®šï¼Œï¼Œè¿™æ ·è¿™ä¸ªæ“ä½œå°±å¼„å‡ºæ¥äº†ï¼Œï¼Œ</p>
<p>ä¸€å¼€å§‹æˆ‘è‡ªå·±å†™çˆ†äº†ä¹‹åï¼Œå°±ç…§ç€åˆ«äººçš„æ€è·¯ä¸€ç‚¹ä¸€ç‚¹çš„æ”¹ï¼Œï¼Œè«åå…¶å¦™çš„tï¼Œï¼Œä¸€ç›´ä»¥ä¸ºæ˜¯çº¿æ®µæ ‘å†™ä¸‘äº†ï¼Œï¼Œï¼Œï¼Œåæ¥çœ‹åˆ°ä¸€ä¸ªäººå†™çš„å¾ˆç®€å•ä½†ä¹Ÿè¿‡äº†ï¼Œï¼Œï¼Œè‡ªå·±å°±é‡å†™äº†ä¸€éè¿‡äº†ï¼Œï¼Œæ•°è®º+çº¿æ®µæ ‘çš„é¢˜ç¬¬ä¸€æ¬¡å†™ï¼Œï¼Œå­¦åˆ°å¾ˆå¤šï¼Œï¼Œå°¤å…¶æ˜¯çŠ¶å‹çš„æ€æƒ³ï¼Œï¼Œé€†å…ƒï¼Œè¿˜æœ‰çº¿æ®µæ ‘ä½œä¸ºä¸€ä¸ªç»´æŠ¤çš„å·¥å…·çš„ä½¿ç”¨ï¼Œï¼Œï¼Œä¸¤ä¸ªå‚æ•°çš„è¿”å›å¯ä»¥ä½¿ç”¨ <code>pair&lt;int, ll&gt; pii</code> å‹æ¥è¿”å›ï¼Œï¼Œ</p>
<h1 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h1><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-comment">//#include &lt;iostream&gt;</span><br><span class="hljs-comment">//#include &lt;cstdio&gt;</span><br><span class="hljs-comment">//#include &lt;cstdlib&gt;</span><br><span class="hljs-comment">//#include &lt;string.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, ull&gt; pii;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">4e5</span> + <span class="hljs-number">5</span>;   <span class="hljs-comment">//æ³¨æ„æ•°æ®èŒƒå›´ï¼Œï¼Œï¼Œå› ä¸ºè¿™ä¸ªwaäº†ä¸€å‘ï¼Œï¼Œï¼Œï¼Œï¼ˆä¸ºå•¥ä¸æ˜¯re233ï¼‰</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">int</span> <span class="hljs-title">read</span><span class="hljs-params">()</span>   <span class="hljs-comment">//å¿«è¯»</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> ans=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">char</span> ch=getchar();<br>    <span class="hljs-keyword">while</span>(!<span class="hljs-built_in">isdigit</span>(ch))<br>        ch=getchar();<br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">isdigit</span>(ch))<br>        ans=(ans&lt;&lt;<span class="hljs-number">3</span>)+(ans&lt;&lt;<span class="hljs-number">1</span>)+(ch^<span class="hljs-number">48</span>),ch=getchar();<br>    <span class="hljs-keyword">return</span> ans;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> ll <span class="hljs-title">pow_</span><span class="hljs-params">(ll a, ll b, ll p)</span>    <span class="hljs-comment">//å¿«é€Ÿå¹‚</span></span><br><span class="hljs-function"></span>&#123;<br>    ll ret = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(b)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(b &amp; <span class="hljs-number">1</span>) ret = (ret * a) % p;<br>        a = (a * a) % p;<br>        b &gt;&gt;= <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> ret;<br>&#125;<br><span class="hljs-comment">//find all prime from 1 to 300</span><br><span class="hljs-keyword">bool</span> isprime[<span class="hljs-number">305</span>];<br><span class="hljs-keyword">int</span> prime[<span class="hljs-number">70</span>], tot = <span class="hljs-number">-1</span>;<br><span class="hljs-keyword">int</span> inv_prime[<span class="hljs-number">70</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span>     <span class="hljs-comment">//å¯»æ‰¾300ä»¥å†…çš„è´¨æ•°åŠå…¶è´¨æ•°çš„é€†å…ƒ</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= <span class="hljs-number">300</span>; ++i)isprime[i] = <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= <span class="hljs-number">300</span>; ++i)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(!isprime[i])prime[++tot] = i, inv_prime[tot] = pow_(i, mod - <span class="hljs-number">2</span>, mod);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt;= tot &amp;&amp; i * prime[j] &lt;= <span class="hljs-number">300</span>; ++j)<br>        &#123;<br>            isprime[i * prime[j]] = <span class="hljs-literal">true</span>;<br>            <span class="hljs-keyword">if</span>(i % prime[j] == <span class="hljs-number">0</span>)<span class="hljs-keyword">break</span>;<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-function">ll <span class="hljs-title">find_prime</span><span class="hljs-params">(ll x)</span> <span class="hljs-comment">//å¯»æ‰¾æ•°xçš„è´¨å› æ•°ï¼Œå­˜åœ¨åˆ™å¯¹åº”è´¨æ•°æ•°ç»„çš„indexä½ä½1ï¼Œè¿™æ ·æœ€åè¿”å›çš„å€¼çš„äºŒè¿›åˆ¶è¡¨ç¤ºå³ä¸ºçŠ¶å‹æ ‡è®°çš„ç»“æœ</span></span><br><span class="hljs-function"></span>&#123;<br>    ull ret = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= tot; ++i)<span class="hljs-keyword">if</span>(x == x / prime[i] * prime[i])ret |= ((ll)<span class="hljs-number">1</span> &lt;&lt; i);<br>    <span class="hljs-keyword">return</span> ret;<br>&#125;<br><span class="hljs-function">ll <span class="hljs-title">mull</span><span class="hljs-params">(ll a, ll b)</span> <span class="hljs-comment">//å¸¦æ¨¡çš„ä¹˜æ³•</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> a * b % mod;<br>&#125;<br>ll mul[maxn &lt;&lt; <span class="hljs-number">2</span>], vis[maxn &lt;&lt; <span class="hljs-number">2</span>], laz1[maxn &lt;&lt; <span class="hljs-number">2</span>], laz2[maxn &lt;&lt; <span class="hljs-number">2</span>];<br><span class="hljs-keyword">int</span> a[maxn];<br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> mid ((l+r)&gt;&gt;1)</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> lc (rt&lt;&lt;1)</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> rc (rt&lt;&lt;1|1)</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">pushup</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt)</span></span><br><span class="hljs-function"></span>&#123;<br>    mul[rt] = mull(mul[lc], mul[rc]);<br>    vis[rt] = vis[lc] | vis[rc];<br>    <span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">pushdown</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt, <span class="hljs-keyword">int</span> llen, <span class="hljs-keyword">int</span> rlen)</span></span><br><span class="hljs-function"></span>&#123;<br>    mul[lc] = mull(mul[lc], pow_(laz1[rt], llen, mod)); <span class="hljs-comment">//æ›´æ–°ä¹˜ç§¯</span><br>    mul[rc] = mull(mul[rc], pow_(laz1[rt], rlen, mod));<br>    laz1[lc] = mull(laz1[lc], laz1[rt]);                <span class="hljs-comment">//æ›´æ–°å­åŒºé—´ä¹˜ç§¯çš„æ‡’æƒ°æ ‡è®°å€¼</span><br>    laz1[rc] = mull(laz1[rc], laz1[rt]);<br>    laz1[rt] = <span class="hljs-number">1</span>;                                       <span class="hljs-comment">//æ¢å¤æ ¹åŒºé—´ä¹˜ç§¯çš„æ‡’æƒ°æ ‡è®°å€¼</span><br>    vis[lc] |= laz2[rt];                                <span class="hljs-comment">//æ›´æ–°æ ‡è®°</span><br>    vis[rc] |= laz2[rt];<br>    laz2[lc] |= laz2[rt];                               <span class="hljs-comment">//æ›´æ–°å­åŒºé—´æ ‡è®°çš„æ‡’æƒ°æ ‡è®°å€¼</span><br>    laz2[rc] |= laz2[rt];<br>    laz2[rt] = <span class="hljs-number">0</span>;                                       <span class="hljs-comment">//æ¢å¤æ ¹åŒºé—´æ ‡è®°çš„æ‡’æƒ°æ ‡è®°å€¼</span><br><br>    <span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">void</span> <span class="hljs-title">build</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    mul[rt] = vis[rt] = laz2[rt] = <span class="hljs-number">0</span>;<br>    laz1[rt] = <span class="hljs-number">1</span>;                       <span class="hljs-comment">//æ— æ ‡è®°æ—¶ï¼Œä¹˜ç§¯çš„æ ‡è®°çš„æ‡’æƒ°å€¼ä¸º1ï¼Œï¼Œï¼Œï¼Œï¼Œæ ‡è®°çš„ä¸º0ï¼Œï¼Œ</span><br>    <span class="hljs-keyword">if</span>(l == r)<br>    &#123;<br>        mul[rt] = a[l];<br>        vis[rt] = find_prime(mul[rt]);  <span class="hljs-comment">//å¶å­èŠ‚ç‚¹çš„æ ‡è®°å€¼ä¸ºå…¶è´¨å› æ•°å‡ºç°çš„çŠ¶å‹åçš„å€¼</span><br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    build(lc, l, mid);<br>    build(rc, mid + <span class="hljs-number">1</span>, r);<br>    pushup(rt);<br>    <span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">void</span> <span class="hljs-title">update</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r, <span class="hljs-keyword">int</span> L, <span class="hljs-keyword">int</span> R, <span class="hljs-keyword">int</span> x, ll vx)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(L &lt;= l &amp;&amp; r &lt;= R)<br>    &#123;<br>        mul[rt] = mull(mul[rt], pow_(x, r - l + <span class="hljs-number">1</span>, mod));<br>        vis[rt] |= vx;                      <span class="hljs-comment">//æ ‡è®°æ›´æ–°</span><br>        laz1[rt] = mull(laz1[rt], x);       <span class="hljs-comment">//ä¹˜ç§¯çš„æ‡’æƒ°æ ‡è®°çš„æ›´æ–°</span><br>        laz2[rt] |= vx;                     <span class="hljs-comment">//æ ‡è®°çš„æ‡’æƒ°æ ‡è®°çš„æ›´æ–°</span><br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(laz1[rt] &gt; <span class="hljs-number">1</span>)pushdown(rt, mid - l + <span class="hljs-number">1</span>, r - mid);<br>    <span class="hljs-keyword">if</span>(laz2[rt])pushdown(rt, mid - l + <span class="hljs-number">1</span>, r - mid);<br>    <span class="hljs-keyword">if</span>(R &lt;= mid)update(lc, l, mid, L, R, x, vx);<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(L &gt; mid)update(rc, mid+<span class="hljs-number">1</span>, r, L, R, x, vx);<br>    <span class="hljs-keyword">else</span> update(lc, l, mid, L, R, x, vx), update(rc, mid+<span class="hljs-number">1</span>, r, L, R, x, vx);<br><span class="hljs-comment">//    if(L &lt;= mid)update(lc, l, mid, L, R, x, vx);</span><br><span class="hljs-comment">//    if(R &gt; mid)update(rc, mid + 1, r, L, R, x, vx);</span><br>    pushup(rt);<br>    <span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> pii <span class="hljs-title">query</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r, <span class="hljs-keyword">int</span> L, <span class="hljs-keyword">int</span> R)</span><span class="hljs-comment">//è¯¢é—®åŒºé—´çš„ä¹˜ç§¯å€¼å’Œæ ‡è®°å€¼</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(L &lt;= l &amp;&amp; r &lt;= R)<br>    &#123;<br>        <span class="hljs-keyword">return</span> pii(mul[rt], vis[rt]);<br>    &#125;<br>    <span class="hljs-keyword">if</span>(laz1[rt] &gt; <span class="hljs-number">1</span>)pushdown(rt, mid - l + <span class="hljs-number">1</span>, r - mid);<span class="hljs-comment">//ä¹˜ç§¯çš„æ‡’æƒ°æ ‡è®°å¤§äºä¸€è¯´æ˜å¾…æ›´æ–°åŒºé—´</span><br>    <span class="hljs-keyword">if</span>(laz2[rt])pushdown(rt, mid - l + <span class="hljs-number">1</span>, r - mid); <span class="hljs-comment">//æ ‡è®°çš„æ‡’æƒ°å€¼éé›¶è¯´æ˜å¾…æ›´æ–°</span><br>    <span class="hljs-keyword">if</span>(R &lt;= mid)<span class="hljs-keyword">return</span> query(lc, l, mid, L, R);     <span class="hljs-comment">//è¯¢é—®åŒºé—´å†å·¦å­åŒºé—´æ—¶ï¼Œï¼Œé€’å½’è¯¢é—®å·¦å­åŒºé—´</span><br>    <span class="hljs-keyword">if</span>(L &gt;  mid)<span class="hljs-keyword">return</span> query(rc, mid + <span class="hljs-number">1</span>, r, L, R);<br>    pii a = query(lc, l, mid, L, R);                <span class="hljs-comment">//aä¸ºä½å­åŒºé—´çš„å€¼</span><br>    pii b = query(rc, mid + <span class="hljs-number">1</span>, r, L, R);            <span class="hljs-comment">//bä¸ºä¾‘å­åŒºé—´çš„å€¼</span><br>    <span class="hljs-keyword">return</span> pii(mull(a.first, b.first), (a.second | b.second));<span class="hljs-comment">//æ€»åŒºé—´çš„å€¼ä¸ºå·¦å³å­åŒºé—´çš„ä¹˜ç§¯çš„ç§¯å’Œæ ‡è®°çš„æˆ–</span><br>&#125;<br><span class="hljs-function">ll <span class="hljs-title">phi</span><span class="hljs-params">(ll mul, ull vis)</span> <span class="hljs-comment">//åˆ©ç”¨æ ‡è®°æŒ‡æ±‚å…¶æ¬§æ‹‰å‡½æ•°å€¼</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= tot; ++i)<br>        <span class="hljs-keyword">if</span>((vis &gt;&gt; i) &amp; <span class="hljs-number">1</span>)<br>            mul = mull(mul, mull(prime[i] - <span class="hljs-number">1</span>, inv_prime[i]));<br>    <span class="hljs-keyword">return</span> mul;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">int</span> n, q;<br>    <span class="hljs-comment">//n = read(); q = read();</span><br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n, &amp;q);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)a[i] = read();<br>    init();     <span class="hljs-comment">//åˆå§‹åŒ–æ‰¾å‡º300ä»¥å†…çš„æ‰€æœ‰ç´ æ•°ï¼Œå’Œå¯¹åº”çš„é€†å…ƒ</span><br>    build(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, n); <span class="hljs-comment">//å»ºæ ‘</span><br>    <span class="hljs-keyword">char</span> s[<span class="hljs-number">20</span>];<br>    <span class="hljs-keyword">int</span> l, r, x;<br><br>    <span class="hljs-keyword">while</span>(q--)<br>    &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>, s);<br>        l = read();r = read();<br>        <span class="hljs-keyword">if</span>(s[<span class="hljs-number">0</span>] == <span class="hljs-string">&#x27;M&#x27;</span>)<br>        &#123;<br>            <span class="hljs-comment">//l = read(); r = read(); x = read();</span><br>            <span class="hljs-comment">//scanf(&quot;%d&quot;, &amp;x);</span><br>            x = read();<br>            update(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, n, l, r, x, find_prime(x));<span class="hljs-comment">//æ›´æ–°æ“ä½œï¼Œæœ€åä¸€ä¸ªå‚æ•°æ˜¯xçš„è´¨å› æ•°çš„æ ‡è®°å€¼</span><br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-comment">//l = read(); r = read();</span><br>            pii tmp = query(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, n, l, r); <span class="hljs-comment">//è¿”å›åŒºé—´å€¼çš„ä¹˜ç§¯å’Œä»–çš„æ ‡è®°</span><br><span class="hljs-comment">//            cout &lt;&lt; tmp.first &lt;&lt; &quot;---&quot; &lt;&lt; tmp.second &lt;&lt; endl;</span><br><span class="hljs-comment">//            ll ans = 1;</span><br><span class="hljs-comment">//            for(int i = l; i &lt;= r; ++i)ans = mull(ans, query(1, i, i).first);</span><br><span class="hljs-comment">//            cout &lt;&lt; ans &lt;&lt; endl;</span><br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%lld\n&quot;</span>, phi(tmp.first, tmp.second));<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="æ„Ÿæƒ³"><a href="#æ„Ÿæƒ³" class="headerlink" title="æ„Ÿæƒ³"></a>æ„Ÿæƒ³</h1><p>çœ‹æ¥åªåšç®€å•é¢˜æ˜¯å­¦ä¸åˆ°æ–°ä¸œè¥¿çš„ï¼Œï¼Œï¼Œéš¾é¢˜è™½ç„¶éš¾ï¼Œï¼Œç†¬å¤œå¼„äº†ä¸¤å¤©waäº†å¥½å‡ å‘ä½†æœ€åå¼„å‡ºæ¥è¿˜æ˜¯å¾ˆæœ‰æ„ä¹‰çš„ï¼Œï¼Œï¼Œ</p>
<p>åŒæ—¶å¤šçœ‹çœ‹<a href="https://blog.csdn.net/dreaming__ldx/article/details/86981461">åˆ«äººçš„ä»£ç ä¹Ÿå¾ˆæœ‰æ„Ÿè§¦</a>ï¼Œï¼Œå­¦åˆ°å¾ˆå¤šå¥½ä¸œè¥¿ï¼Œï¼Œ</p>
<p>(end)</p>
]]></content>
      <categories>
        <category>ACM-çº¿æ®µæ ‘</category>
      </categories>
      <tags>
        <tag>åˆ·é¢˜</tag>
        <tag>acm</tag>
      </tags>
  </entry>
  <entry>
    <title>hdu-3790æœ€çŸ­è·¯åˆ·é¢˜</title>
    <url>/2018/10/20/hdu-3790%E6%9C%80%E7%9F%AD%E8%B7%AF%E5%88%B7%E9%A2%98/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=3790">ä¸€é“æœ€çŸ­è·¯çš„æ°´é¢˜</a>ï¼Œï¼Œï¼Œå°½é‡ä¸çœ‹ä»¥å‰çš„ä»£ç æ‰“å‡ºæ¥ï¼Œï¼Œï¼Œç†Ÿæ‚‰ä¸€ä¸‹dijkstraçš„æ ¼å¼å’Œé“¾å¼å‰å‘æ˜Ÿçš„å†™æ³•ï¼Œï¼Œï¼Œï¼Œ</p>
<p>è™½ç„¶æ˜¯æ°´é¢˜ï¼Œï¼Œï¼Œä½†æ˜¯ä¸€å¼€å§‹æ²¡è€ƒè™‘å–è´¹ç”¨æœ€çŸ­çš„waäº†ä¸€å‘ï¼Œï¼Œï¼Œï¼ŒQAQ</p>
<span id="more"></span>
<h1 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h1><p>é“¾å¼å‰å‘æ˜Ÿå­˜å›¾ï¼Œï¼Œå†åŠ ä¸€ä¸ªæ•°ç»„ä¿å­˜æºç‚¹åˆ°æ¯ä¸ªç‚¹çš„è´¹ç”¨cst[maxm]ï¼Œï¼Œï¼Œæ³¨æ„å–æœ€å°‘çš„è´¹ç”¨</p>
<h1 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h1><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e3</span> + <span class="hljs-number">10</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<br><br><span class="hljs-keyword">int</span> head[maxm &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-keyword">int</span> dis[maxm];<br><span class="hljs-keyword">int</span> cst[maxm];<br><span class="hljs-keyword">int</span> cnt;<br><span class="hljs-keyword">int</span> n , m;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to;<br>    <span class="hljs-keyword">int</span> w;<br>    <span class="hljs-keyword">int</span> c;<br>    <span class="hljs-keyword">int</span> last;<br>&#125;edge[maxm &lt;&lt; <span class="hljs-number">1</span>];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u , <span class="hljs-keyword">int</span> v , <span class="hljs-keyword">int</span> w , <span class="hljs-keyword">int</span> c)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[cnt].to = v;<br>    edge[cnt].w = w;<br>    edge[cnt].c = c;<br>    edge[cnt].last = head[u];<br>    head[u] = cnt++;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> u;<br>    <span class="hljs-keyword">int</span> w;<br>    node(<span class="hljs-keyword">int</span> _u , <span class="hljs-keyword">int</span> _w):u(_u) , w(_w)&#123;&#125;<br><br>    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span> &lt; (<span class="hljs-keyword">const</span> node &amp;res) <span class="hljs-keyword">const</span><br>    &#123;<br>        <span class="hljs-keyword">return</span> w &gt; res.w;<br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dijkstra</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n , <span class="hljs-keyword">int</span> s)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        dis[i] = (i == s) ? <span class="hljs-number">0</span> : inf;<br>    <span class="hljs-built_in">memset</span>(cst , inf , <span class="hljs-keyword">sizeof</span> cst);cst[s] = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(vis , <span class="hljs-literal">false</span> , <span class="hljs-keyword">sizeof</span> vis);<br><br>    <span class="hljs-built_in">priority_queue</span>&lt;node&gt; q;<br><br>    <span class="hljs-keyword">while</span>(!q.empty())   q.pop();<br><br>    q.push(node(s , <span class="hljs-number">0</span>));<br><br>    <span class="hljs-keyword">while</span>(!q.empty())<br>    &#123;<br>        node x = q.top();q.pop();<br>        <span class="hljs-keyword">int</span> u = x.u;<br><br>        <span class="hljs-keyword">if</span>(vis[u])  <span class="hljs-keyword">continue</span>;<br>        vis[u] = <span class="hljs-literal">true</span>;<br><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u] ; ~i; i = edge[i].last)<br>        &#123;<br>            <span class="hljs-keyword">int</span> to = edge[i].to;<br>            <span class="hljs-keyword">int</span> w = edge[i].w;<br>            <span class="hljs-keyword">int</span> c = edge[i].c;<br>            <span class="hljs-keyword">if</span>(!vis[to] &amp;&amp; dis[u] + w &lt;= dis[to])<br>            &#123;<br>                dis[to] = dis[u] + w;<br>                <span class="hljs-comment">//if(cst[u] + c &lt; cst[to])</span><br>                    cst[to] = cst[u] + c;<br>                q.push(node(to , dis[to]));<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span> , &amp;n , &amp;m) &amp;&amp; n &amp;&amp; m)<br>    &#123;<br>        cnt = <span class="hljs-number">0</span>;<br>        <span class="hljs-built_in">memset</span>(head , <span class="hljs-number">-1</span> , <span class="hljs-keyword">sizeof</span> head);<br>        <span class="hljs-keyword">int</span> u , v , w , c;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d%d&quot;</span> , &amp;u , &amp;v , &amp;w , &amp;c);<br>            addedge(u , v , w , c);<br>            addedge(v , u , w , c);<br>        &#125;<br>        <span class="hljs-keyword">int</span> s , t;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span> , &amp;s , &amp;t);<br><br>        dijkstra(n , s);<br><br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d %d\n&quot;</span> , dis[t] , cst[t]);<br><br>    &#125;<br>&#125;<br><br><span class="hljs-comment">//æœ€çŸ­è·¯ç›¸ç­‰æ—¶æ³¨æ„å–è´¹ç”¨æœ€çŸ­çš„</span><br><span class="hljs-comment">//</span><br><span class="hljs-comment">//5 7</span><br><span class="hljs-comment">//1 2 5 5</span><br><span class="hljs-comment">//2 3 4 5</span><br><span class="hljs-comment">//1 3 4 6</span><br><span class="hljs-comment">//3 4 2 2</span><br><span class="hljs-comment">//3 5 4 7</span><br><span class="hljs-comment">//4 5 2 4</span><br><span class="hljs-comment">//1 3 4 4</span><br><span class="hljs-comment">//1 5</span><br><span class="hljs-comment">//8 10</span><br><br></code></pre></td></tr></table></figure>
<p>å·®ä¸å¤šè®°ä½äº†çš„dijkatraçš„ä»£ç ï¼Œï¼Œï¼Œç»§ç»­ç»§ç»­</p>
<p>(end)</p>
]]></content>
      <categories>
        <category>ACM-æœ€çŸ­è·¯</category>
      </categories>
      <tags>
        <tag>åˆ·é¢˜</tag>
        <tag>acm</tag>
      </tags>
  </entry>
  <entry>
    <title>hdu-4027çº¿æ®µæ ‘ç»ƒä¹ </title>
    <url>/2018/10/10/hdu-4027%E7%BA%BF%E6%AE%B5%E6%A0%91%E7%BB%83%E4%B9%A0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p> <a href="http://acm.hdu.edu.cn/showproblem.php?pid=4027">è¿™é“çº¿æ®µæ ‘çš„é¢˜</a>å¯ä»¥è¯´æ˜¯æˆ‘è¿™ä¸€æ®µæ—¶é—´å¤ä¹ çº¿æ®µæ ‘åç¬¬ä¸€æ¬¡è®¤è®¤çœŸçœŸçš„åšçš„ç¬¬ä¸€é“çº¿æ®µæ ‘çš„é¢˜äº†å§ï¼Œï¼Œï¼Œï¼Œ</p>
<p> ç„¶åï¼Œï¼Œï¼Œçœ‹ä¼¼å¾ˆç®€å•çš„é¢˜ç¿»è½¦äº†ï¼Œï¼Œï¼Œï¼ŒQAQ</p>
 <span id="more"></span>
<h1 id="é¢˜æ„å’Œåˆ†æ"><a href="#é¢˜æ„å’Œåˆ†æ" class="headerlink" title="é¢˜æ„å’Œåˆ†æ"></a>é¢˜æ„å’Œåˆ†æ</h1><p> é¢˜æ„å¤§æ¦‚å°±æ˜¯ç»™ä½ ä¸€äº›æ•°ï¼Œï¼Œç„¶åå¯¹[l , r]è¿™ä¸ªåŒºé—´é‡Œçš„æ‰€æœ‰æ•°è¿›è¡Œå¼€å¹³æ–¹æ ¹è¿ç®—ï¼Œï¼Œï¼Œå…¶ä¸­è¿˜æœ‰ä¸€äº›è¯¢é—®[l , r]çš„åŒºé—´å’Œï¼Œï¼Œï¼Œ</p>
<p> çœ‹åˆ°ä¸€æ’æ•°åˆ—çš„åŒºé—´å’Œè¿˜æœ‰æ›´æ–°è¯¢é—®æ“ä½œçš„é¢˜å‹é“å®šæ˜¯è¦ç”¨çº¿æ®µæ ‘æ¥ç»´æŠ¤è¿™ä¸ªæ•°åˆ—äº†ï¼Œï¼Œï¼Œ</p>
<p> ä¸€å¼€å§‹æˆ‘æƒ³ç€ç»“ç‚¹ä¿å­˜ä¸¤ä¸ªåŒºé—´å’Œï¼Œï¼Œä¸€ä¸ªæ˜¯ç°åœ¨æœªæ›´æ–°çš„åŒºé—´å’Œï¼Œï¼Œå¦ä¸€ä¸ªæ˜¯æ¯ä¸ªå¼€æ–¹åçš„åŒºé—´å’Œï¼Œï¼Œï¼Œç„¶åç”¨lazyæ¥å»¶è¿Ÿæ›´æ–°ï¼Œï¼Œï¼Œç„¶åè²Œä¼¼åœ¨æ›´æ–°æ—¶è¿™æ ·ä¼šå°‘æ›´æ–°ï¼Œï¼Œï¼Œæœ€åçš„ç­”æ¡ˆè‚¯å®šå°±ä¸å¯¹äº†ï¼Œï¼Œ</p>
<p> æœ€åï¼Œï¼Œï¼Œå‘äº†ä¸¤ä¸ªå¤šå°æ—¶çš„æˆ‘è¿˜æ˜¯å»æ‰¾åˆ«äººçš„åšæ³•äº†ï¼Œï¼Œï¼Œ</p>
<p> è¿™é“é¢˜é¦–å…ˆä¸€ç‚¹å°±æ˜¯å³ä½¿æ•°å­—å¾ˆå¤§ï¼Œï¼Œï¼Œ<strong>ä½†æ˜¯ $2^{63} - 1$ ä¹Ÿå°±æœ€å¤šå¼€8æ¬¡å¹³æ–¹æ ¹</strong>ï¼Œï¼Œï¼Œ<strong>è€Œä¸”å¼€åˆ°1æ—¶å†å¼€å¹³æ–¹æ ¹è¿˜æ˜¯1</strong>ï¼Œï¼Œï¼Œï¼Œ</p>
<p> æ‰€ä»¥å†å¼€åˆ°åŒºé—´æ‰€æœ‰æ•°éƒ½ä¸º1æ—¶å°±ä¸å†å¯¹è¿™ä¸ªåŒºé—´æ›´æ–°ï¼Œï¼Œï¼Œä¹Ÿå°±æ˜¯å½“ node[rt].sum == node[rt].r - node[rt].l + 1 æ—¶å°±è¿”å›ä¸Šä¸€å±‚ï¼Œï¼Œï¼Œè¿™æ ·å°±å‡å°äº†æ›´æ–°æ—¶çš„æ“ä½œï¼Œï¼Œï¼Œ</p>
<h1 id="æœ€ç»ˆçš„ä»£ç ï¼Œï¼Œï¼Œ"><a href="#æœ€ç»ˆçš„ä»£ç ï¼Œï¼Œï¼Œ" class="headerlink" title="æœ€ç»ˆçš„ä»£ç ï¼Œï¼Œï¼Œ"></a>æœ€ç»ˆçš„ä»£ç ï¼Œï¼Œï¼Œ</h1> <figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><span class="hljs-keyword">int</span> n, q;<br>ll a[maxn];<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">tree</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> l;<br>    <span class="hljs-keyword">int</span> r;<br>    ll sum;<br>&#125;node[maxn &lt;&lt; <span class="hljs-number">2</span>];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">pushup</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt)</span></span><br><span class="hljs-function"></span>&#123;<br>    node[rt].sum = node[rt &lt;&lt; <span class="hljs-number">1</span>].sum + node[rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>].sum;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">build</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt , <span class="hljs-keyword">int</span> l , <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    node[rt].l = l;<br>    node[rt].r = r;<br><br>    <span class="hljs-keyword">if</span> (l == r)<br>    &#123;<br>        node[rt].sum = a[l];<br>        <span class="hljs-keyword">return</span>;                 <span class="hljs-comment">//è¦è®°å¾—returnï¼Œï¼Œï¼Œæœ€è¿‘å†™è¿™ä¸ªæ€»æ˜¯å¿˜è®°å†™</span><br>    &#125;<br><br>    <span class="hljs-keyword">int</span> mid = (l + r) &gt;&gt; <span class="hljs-number">1</span>;<br><br>    build(rt &lt;&lt; <span class="hljs-number">1</span> , l , mid);<br>    build(rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span> , mid + <span class="hljs-number">1</span> , r);<br>    pushup(rt);<br>    <span class="hljs-keyword">return</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">update</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt , <span class="hljs-keyword">int</span> L , <span class="hljs-keyword">int</span> R)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (node[rt].sum == node[rt].r - node[rt].l + <span class="hljs-number">1</span>)<br>        <span class="hljs-keyword">return</span>;                 <span class="hljs-comment">//åŒºé—´å…¨ä¸º1æ—¶è¿”å›ï¼Œï¼Œï¼Œä¸ç„¶ä¼štle</span><br>    <span class="hljs-keyword">if</span> (node[rt].l == node[rt].r)<br>    &#123;<br>        node[rt].sum = (ll)(<span class="hljs-built_in">sqrt</span>(node[rt].sum));    <span class="hljs-comment">//ç›´æ¥å¼€æ–¹å°±è¡Œäº†</span><br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">int</span> mid = (node[rt].l + node[rt].r) &gt;&gt; <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">if</span> (L &lt;= mid)   update(rt &lt;&lt; <span class="hljs-number">1</span> , L , R);<br>    <span class="hljs-keyword">if</span> (R &gt;  mid)   update(rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span> , L , R);<br>    pushup(rt);<br>    <span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-function">ll <span class="hljs-title">query</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt , <span class="hljs-keyword">int</span> L , <span class="hljs-keyword">int</span> R)</span></span><br><span class="hljs-function"></span>&#123;<br><br>    <span class="hljs-keyword">if</span> (L &lt;= node[rt].l &amp;&amp; node[rt].r &lt;= R)<br>    &#123;<br>        <span class="hljs-keyword">return</span> node[rt].sum;<br>    &#125;<br>    <br>    <span class="hljs-keyword">int</span> mid = (node[rt].l + node[rt].r) &gt;&gt; <span class="hljs-number">1</span>;<br>    ll ans = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">if</span> (L &lt;= mid)    ans += query(rt &lt;&lt; <span class="hljs-number">1</span> , L , R);<br>    <span class="hljs-keyword">if</span> (R &gt;  mid)    ans += query(rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span> , L , R);<br>    <span class="hljs-keyword">return</span> ans;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-keyword">int</span> argc, <span class="hljs-keyword">char</span> <span class="hljs-keyword">const</span> *argv[])</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;n) != EOF)<br>    &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Case #%d:\n&quot;</span> , ++i);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lld&quot;</span> , &amp;a[i]);<br><br>        build(<span class="hljs-number">1</span> , <span class="hljs-number">1</span> , n);<br><br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;q);<br><br>        <span class="hljs-keyword">while</span>(q--)<br>        &#123;<br>            <span class="hljs-keyword">int</span> t , l , r;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span> , &amp;t , &amp;l , &amp;r);<br>            <span class="hljs-keyword">if</span> (l &gt; r)<br>                swap(l , r);        <span class="hljs-comment">//l , rä¸ä¸€å®šä¿è¯ l &lt;= r æ‰€ä»¥è¦åˆ¤æ–­</span><br><br>            <span class="hljs-keyword">if</span> (t)<br>                <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%lld\n&quot;</span> , query(<span class="hljs-number">1</span> , l , r));<br>            <span class="hljs-keyword">else</span><br>                update(<span class="hljs-number">1</span> , l , r);<br>        &#125;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);               <span class="hljs-comment">//æ¯ç»„æµ‹è¯•æ ·ä¾‹ä¹‹é—´åŠ ç©ºè¡Œ</span><br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><ul>
<li>æ²¡çœ‹å‡ºæ¥ä¸€ä¸ªæ•°æœ€å¤šå¼€æ–¹8æ¬¡å•Šï¼Œï¼Œï¼Œ</li>
<li>è¿˜æ˜¯ä¸èƒ½ä»”ç»†çš„è¯»é¢˜ï¼Œï¼Œï¼Œæ¯”å¦‚é‚£ä¸ªè¾“å…¥çš„l , ræ¯”å¦‚é‚£ä¸ªæ¯ä¸€ç»„æµ‹è¯•æ ·ä¾‹ä¹‹é—´åŠ ç©ºè¡Œ</li>
<li>æƒ³çš„å¤ªå¤šäº†ï¼Œï¼Œï¼Œè€Œä¸”æœ€ä¸»è¦çš„æ˜¯è¿˜æ˜¯æƒ³ç€å¥—æ¨¡æ¿è§£é¢˜ï¼Œï¼Œï¼Œè€Œä¸æ˜¯å°±é¢˜è€Œé€‰æ‹©æ€ä¹ˆå†™</li>
<li>ï¼Œï¼Œï¼Œï¼Œ</li>
</ul>
<p>è¿˜æ˜¯åšçš„é¢˜å¤ªå°‘äº†ï¼Œï¼Œè¿˜æ˜¯æœ‰ç‚¹åƒæš‘å‡æ—¶è§åˆ°çº¿æ®µæ ‘å°±å¥—æ¿å­ï¼Œï¼Œå¥—æ¿å­ï¼Œï¼Œå·²ç»å¥½å‡ æ¬¡å¥—æ¿å­æ˜¯æ²¡ç”¨çš„æƒ…å†µäº†ï¼Œï¼Œï¼Œè€Œä¸”é™¤äº†å…¥é—¨çš„çº¿æ®µæ ‘çš„é¢˜ï¼Œï¼Œï¼Œéƒ½ä¸æ˜¯ä¹‹å¥—æ¿å­å°±èƒ½å‡ºç»“æœçš„ï¼Œï¼Œï¼Œéƒ½è¦åœ¨æŸäº›åœ°æ–¹åŠ ä¸€äº›åˆ¤æ–­ï¼Œï¼Œï¼Œæˆ–è€…å¯¹æ•°æ®çš„å¤„ç†ï¼Œï¼Œï¼Œçº¿æ®µæ ‘åªæ˜¯ä¼—å¤šå·¥å…·ä¹‹ä¸€å•Šï¼Œï¼Œä¸æ˜¯ä¸‡èƒ½çš„å‘ï¼Œï¼Œï¼Œï¼Œ</p>
<p>(end)</p>
<p>åŠ¨æ‰‹æ€»æ¯”åªæƒ³æ‰€å¾—åˆ°çš„å¤šä¸€äº›ï¼Œï¼Œå³ä½¿ç»“æœä¸å°½äººæ„å‘~</p>
]]></content>
      <categories>
        <category>ACM-çº¿æ®µæ ‘</category>
      </categories>
      <tags>
        <tag>åˆ·é¢˜</tag>
        <tag>acm</tag>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>hdu-5023çº¿æ®µæ ‘åˆ·é¢˜</title>
    <url>/2018/10/18/hdu-5023%E7%BA%BF%E6%AE%B5%E6%A0%91%E5%88%B7%E9%A2%98/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p>è¿™é“é¢˜å’Œä¸Šæ¬¡åšçš„é‚£é“æŸ“è‰²é—®é¢˜ä¸€æ ·ï¼Œï¼Œï¼Œè¿™æ¬¡ä¸»è¦æ˜¯çœ‹çœ‹æˆ‘å†è¿‡å»ä¸¤ä¸‰å¤©ä¹‹åï¼Œï¼Œå¤§æ¦‚å‡­å€Ÿä»¥å‰çš„è®°å¿†æ•²å‡ºæ¥å¾—å¤šé•¿çš„æ—¶é—´ï¼Œï¼Œï¼Œï¼Œ</p>
<p>ç»“æœæ˜¯ï¼Œï¼Œï¼Œå¤§ä½“çš„æ¡†æ¶æ²¡é—®é¢˜äº†ï¼Œï¼Œï¼Œï¼Œä¸€éä¸‹æ¥ç¼–è¯‘ä¹Ÿæ²¡é—®é¢˜ï¼Œï¼Œï¼Œä½†æ˜¯ï¼Œï¼Œç»†èŠ‚é—®é¢˜æœ‰ä¸¤ä¸ªï¼Œï¼Œï¼Œ</p>
<ul>
<li>æ•°ç»„å†™æˆäº†1e6è€Œä¸æ˜¯1e6+10è™½ç„¶å¯¹æœ¬é¢˜æ²¡ä»€ä¹ˆå½±å“ï¼Œï¼Œ</li>
<li>å»ºæ ‘ä¸­çš„åˆå§‹åŒ–æ“ä½œæ—¶æŸ“è‰²åˆå§‹åŒ–ä¸º2ï¼Œï¼Œï¼Œæ‰€ä»¥åº”è¯¥æ˜¯ä»å³å¾€å·¦æ•°çš„ç¬¬äºŒä¸ªbitè®°ä¸º1ï¼Œï¼Œï¼Œç„¶åæˆ‘å°±å°‘ç®—äº†ä¸€ä½ï¼Œï¼Œï¼Œå› ä¸ºbitsetå¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªä»å³å‘å·¦å¹¶ä¸”ä»0å¼€å§‹çš„æ•°ç»„ï¼Œï¼Œæ‰€ä»¥æ˜¯col[1] = 1ï¼Œï¼Œï¼Œè¿™æ ·waäº†ä¸€å‘</li>
<li>æœ€åä¸€ä¸ªï¼Œï¼Œï¼Œï¼Œè¾“å‡ºæ ¼å¼é”™è¯¯ï¼Œï¼Œï¼Œï¼Œå™—å™—å™—å™—</li>
</ul>
<span id="more"></span>
<h1 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h1><p>æ€è·¯ä¸pojé‚£ä¸€é“ä¸€æ¨¡ä¸€æ ·ï¼Œï¼Œç›´æ¥æ‰”ä»£ç </p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bitset&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e6</span> + <span class="hljs-number">10</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> l;<br>    <span class="hljs-keyword">int</span> r;<br>    <span class="hljs-keyword">int</span> laz;<br>    <span class="hljs-built_in">bitset</span>&lt;30&gt; col;<br>&#125;node[maxn &lt;&lt; <span class="hljs-number">2</span>];<br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout &lt;&lt; node[rt].col &lt;&lt; endl;</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">build</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt , <span class="hljs-keyword">int</span> l , <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    node[rt].l = l;<br>    node[rt].r = r;<br>    node[rt].laz = <span class="hljs-number">0</span>;<br>    node[rt].col = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">if</span>(node[rt].l == node[rt].r)<br>    &#123;<br>        <span class="hljs-built_in">bitset</span>&lt;30&gt; t;<br>        t.<span class="hljs-built_in">set</span>(<span class="hljs-number">1</span>);<br>        node[rt].col = t;<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-keyword">int</span> mid = (node[rt].l + node[rt].r) &gt;&gt; <span class="hljs-number">1</span>;<br><br>    build(rt &lt;&lt; <span class="hljs-number">1</span> , l , mid);<br>    build(rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span> , mid + <span class="hljs-number">1</span> , r);<br>    node[rt].col = node[rt &lt;&lt; <span class="hljs-number">1</span>].col | node[rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>].col;<br>    <span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">pushdown</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(node[rt].laz)<br>    &#123;<br>        node[rt &lt;&lt; <span class="hljs-number">1</span>].col = node[rt].col;<br>        node[rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>].col = node[rt].col;<br><br>        node[rt &lt;&lt; <span class="hljs-number">1</span>].laz = node[rt].laz;<br>        node[rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>].laz = node[rt].laz;<br><br>        node[rt].laz = <span class="hljs-number">0</span>;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">update</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt , <span class="hljs-keyword">int</span> L , <span class="hljs-keyword">int</span> R , <span class="hljs-keyword">int</span> C)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(L &lt;= node[rt].l &amp;&amp; node[rt].r &lt;= R)<br>    &#123;<br>        <span class="hljs-built_in">bitset</span>&lt;30&gt; t;<br>        t.<span class="hljs-built_in">set</span>(C - <span class="hljs-number">1</span>);<br>        node[rt].col = t;<br>        node[rt].laz = C;<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    pushdown(rt);<br><br>    <span class="hljs-keyword">int</span> mid = (node[rt].l + node[rt].r) &gt;&gt; <span class="hljs-number">1</span>;<br><br>    <span class="hljs-keyword">if</span>(L &lt;= mid)    update(rt &lt;&lt; <span class="hljs-number">1</span> , L , R , C);<br>    <span class="hljs-keyword">if</span>(R &gt;  mid)    update(rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span> , L , R , C);<br>    node[rt].col = node[rt &lt;&lt; <span class="hljs-number">1</span>].col | node[rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>].col;<br>    <span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-built_in">bitset</span>&lt;30&gt; <span class="hljs-title">query</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt , <span class="hljs-keyword">int</span> L , <span class="hljs-keyword">int</span> R)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(L &lt;= node[rt].l &amp;&amp; node[rt].r &lt;= R)<br>    &#123;<br>        <span class="hljs-keyword">return</span> node[rt].col;<br>    &#125;<br><br>    pushdown(rt);<br>    <span class="hljs-function"><span class="hljs-built_in">bitset</span>&lt;30&gt; <span class="hljs-title">ans</span><span class="hljs-params">(<span class="hljs-number">0</span>)</span></span>;<br>    <span class="hljs-keyword">int</span> mid = (node[rt].l + node[rt].r) &gt;&gt; <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">if</span>(L &lt;= mid)    ans |= query(rt &lt;&lt; <span class="hljs-number">1</span> , L , R);<br>    <span class="hljs-keyword">if</span>(R &gt;  mid)    ans |= query(rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span> , L , R);<br>    <span class="hljs-keyword">return</span> ans;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> n , m;<br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span> , &amp;n , &amp;m) &amp;&amp; n &amp;&amp; m)<br>    &#123;<br>        build(<span class="hljs-number">1</span> , <span class="hljs-number">1</span> , n);<br>        <span class="hljs-keyword">while</span>(m--)<br>        &#123;<br>            <span class="hljs-keyword">char</span> c;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot; %c&quot;</span> , &amp;c);<br>            <span class="hljs-keyword">if</span>(c == <span class="hljs-string">&#x27;P&#x27;</span>)<br>            &#123;<br>                <span class="hljs-keyword">int</span> l , r , v;<br>                <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span> , &amp;l , &amp;r , &amp;v);<br>                update(<span class="hljs-number">1</span> , l , r , v);<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                <span class="hljs-keyword">int</span> l , r;<br>                <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span> , &amp;l , &amp;r);<br>                <span class="hljs-built_in">bitset</span>&lt;30&gt; ans = query(<span class="hljs-number">1</span> , l , r);<br>                <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">true</span>;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">30</span>; ++i , ans&gt;&gt;=<span class="hljs-number">1</span>)<br>                    <span class="hljs-keyword">if</span>(ans[<span class="hljs-number">0</span>] == <span class="hljs-number">1</span>)<br>                        <span class="hljs-keyword">if</span>(flag)<br>                        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span> , i) , flag = <span class="hljs-literal">false</span>;<br>                        <span class="hljs-keyword">else</span><br>                        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; %d&quot;</span> , i);<br>                <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<p>å…ˆæ°´ä¸€é¢˜ï¼Œï¼Œï¼Œä¸‹åˆç»§ç»­QAQ</p>
<p>(end)</p>
]]></content>
      <categories>
        <category>ACM-çº¿æ®µæ ‘</category>
      </categories>
      <tags>
        <tag>åˆ·é¢˜</tag>
        <tag>acm</tag>
      </tags>
  </entry>
  <entry>
    <title>hexo Nunjucks Errors è§£å†³æ–¹æ³•</title>
    <url>/2019/09/02/hexo-Nunjucks-Errors-%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>è¿™ç©æ„æ€»ä¼šçˆ†å¥‡å¥‡æ€ªæ€ªçš„é”™ï¼Œï¼Œè¿™æ¬¡ç”Ÿæˆæ–‡ç« çš„æ—¶å€™å°±æŠ¥äº†ä¸€ä¸ª <code>Nunjucks Errors: balabala</code> åé¢è¿˜æ˜¯æ–‡ç« çš„ html ä¿¡æ¯ç­‰ç­‰ç­‰ï¼Œï¼Œè¿™ä¸ªé”™è¯¯æ˜¯å› ä¸ºæ–‡ç« é‡Œå‡ºç°äº†ä¸€äº›ç±»ä¼¼ ``{{}}`` çš„å†…å®¹ä»€ä¹ˆçš„ï¼ˆæ¯”å¦‚æˆ‘ç°åœ¨æ‰“å‡ºçš„è¿™ä¸ªï¼Œï¼Œï¼Œï¼Œç„¶å hexo çš„æ–‡ç« æ¸²æŸ“ä½¿ç”¨çš„æ˜¯ ``Nunjucks`` ï¼Œä»–ä¼šå°†é‚£å‡ ä¸ªå¤§æ‹¬å·è¯†åˆ«æˆè‡ªå·±çš„è¯­æ³•ï¼Œï¼Œè¿™æ ·ç”Ÿæˆçš„æ—¶å€™å°±ä¼šæŠ¥é”™ï¼Œï¼Œï¼Œ

<span id="more"></span>

è§£å†³æ–¹æ³•æ˜¯ï¼š å¯ä»¥æ ¹æ®ä¸‹é¢çš„æŠ¥é”™ä¿¡æ¯ï¼Œæ‰¾åˆ°å¯èƒ½å‡ºé”™çš„åœ°æ–¹ï¼Œï¼Œæ¯”å¦‚è¯´è¿™æ ·çš„ï¼Œï¼Œ``$a^{{a_1}^{{a_2}}}$`` è¿™æ ·çš„å…¬å¼ä»€ä¹ˆçš„ï¼Œï¼Œå‰ååŠ ä¸€ä¸ªè¿™ä¸ªï¼š <code>    </code> ï¼Œï¼Œ ä¹Ÿå°±æ˜¯ï¼š ``\$a^{{a_1}^{{a_2}}}$```</p>
<p>è¿™æ ·æ”¹ä¹‹ååº”è¯¥å°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
<p><a href="http://blog.tcs-y.com/2018/01/22/hexo-quote-ng2/">å‚è€ƒåšå®¢</a></p>
<p><a href="https://github.com/mozilla/nunjucks/issues/388#issuecomment-77730107">github ä¸Šçš„issue </a></p>
<p>(endâ€¦)</p>
]]></content>
      <categories>
        <category>hexo-æŠ¥é”™</category>
      </categories>
      <tags>
        <tag>æŠ¥é”™</tag>
        <tag>è§£å†³æ–¹æ³•</tag>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>hexoåšå®¢æºæ–‡ä»¶å¤‡ä»½è‡³githubè®¾ç½®</title>
    <url>/2019/03/18/hexo%E5%8D%9A%E5%AE%A2%E6%BA%90%E6%96%87%E4%BB%B6%E5%A4%87%E4%BB%BD%E8%87%B3github%E8%AE%BE%E7%BD%AE/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="èµ·å› "><a href="#èµ·å› " class="headerlink" title="èµ·å› "></a>èµ·å› </h1><p>å¼„è¿™ä¸ªçš„ä¸»è¦åŸå› æ˜¯ä¹‹å‰æå´©è¿‡ä¸¤æ¬¡åšå®¢ï¼ˆæ‰‹è´±åœ¨ä¸Šä¼ æ–‡ä»¶çš„æ—¶å€™æŒ‰ctrl+cï¼Œï¼Œåœ¨æ¢å¤çš„æ—¶å€™æ€»æ˜¯æ€•å†å‡ºé”™ï¼Œï¼Œæ¯æ¬¡éƒ½å¤‡ä»½äº†å¥½å‡ éæºæ–‡ä»¶ï¼Œï¼Œï¼Œå°¤å…¶æ˜¯é‚£äº›mdæ–‡ä»¶ï¼Œï¼Œï¼Œæ¯•ç«Ÿä¸¢äº†å°±çœŸçš„åªèƒ½é‡å†™äº†å•Šï¼Œï¼Œï¼Œ</p>
<p>ä»Šå¤©å¶ç„¶çœ‹åˆ°æœ‰äººæŠŠmdæ–‡ä»¶å’Œæ¸²æŸ“åçš„htmlæ–‡ä»¶æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­ï¼Œï¼Œï¼Œæ„Ÿè§‰ä¸é”™ï¼Œï¼Œï¼Œåæ¥çœ‹å®Œä»–çš„è®¾ç½®åï¼Œï¼Œæ„Ÿè§‰æœ‰ä¸€ç‚¹ä¸å¥½ï¼šmdæ–‡ä»¶ä¸é›†ä¸­ï¼Œï¼Œï¼ŒçœŸè¦æ‹¿å›æ‰€æœ‰çš„mdæ–‡ä»¶å¾ˆéº»çƒ¦ï¼Œï¼Œï¼Œè€Œä¸”è¿˜è¦åŠ¨é…ç½®æ–‡ä»¶ <code>_config.yml</code> ï¼Œï¼Œå®åœ¨æ˜¯ä¸æƒ³å› ä¸ºæ”¹åŠ¨è¿™ä¸ªå‡ºç°å„ç§å¥‡å¥‡æ€ªæ€ªçš„é”™è¯¯äº†ï¼Œï¼Œä¸æ˜¯è¯´ä¸ä¼šè§£å†³ï¼Œï¼Œï¼Œä¸»è¦æ˜¯å¤ªéº»çƒ¦:(ï¼Œï¼Œï¼Œï¼Œ</p>
<p>åæ¥åˆçœ‹åˆ°ç°åœ¨å¼„çš„è¿™ä¸ªæ–¹æ³•ï¼š <strong>å°†ä¸»è¦çš„æºæ–‡ä»¶å®šæœŸå¤‡ä»½åˆ°å¦ä¸€ä¸ªåˆ†æ”¯é‡Œ</strong> ï¼Œï¼Œï¼Œè¿™æ ·çš„è¯æ‰€æœ‰æ–‡ä»¶éƒ½åœ¨ä¸€ä¸ªåˆ†æ”¯é‡Œï¼Œï¼Œï¼Œç”¨çš„æ—¶å€™ç›´æ¥æ‹‰ä¸‹æ¥ï¼Œï¼Œé‡æ–°é…ç½®hexoç¯å¢ƒç­‰ç­‰å°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
<span id="more"></span>
<h1 id="ä¸»è¦æ­¥éª¤"><a href="#ä¸»è¦æ­¥éª¤" class="headerlink" title="ä¸»è¦æ­¥éª¤"></a>ä¸»è¦æ­¥éª¤</h1><p>ä¸»è¦çš„è¿‡ç¨‹æˆ‘æ˜¯æŒ‰ç…§<a href="https://blog.csdn.net/White_Idiot/article/details/80685990">ä¸€ä¸ªåšä¸»çš„æ–‡ç« </a>æ¥çš„ï¼Œï¼Œï¼Œä½†æ˜¯è‡ªå·±è®°å½•ä¸€ä¸‹ï¼Œï¼Œä»¥å…ä¹‹åå¿˜è®°æ²¡å¤„æ‰¾ï¼Œï¼Œ</p>
<h2 id="åˆ›å»ºåˆ†æ”¯ç›®å½•"><a href="#åˆ›å»ºåˆ†æ”¯ç›®å½•" class="headerlink" title="åˆ›å»ºåˆ†æ”¯ç›®å½•"></a>åˆ›å»ºåˆ†æ”¯ç›®å½•</h2><p>ç°åˆ›å»ºä¸€ä¸ªè¦å¤‡ä»½æ‰€æœ‰æ–‡ä»¶çš„æ–‡ä»¶å¤¹ï¼Œï¼Œï¼Œæˆ‘çš„æ˜¯ <code>hexoBackup</code>ï¼š</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><code class="hljs cmd">$ <span class="hljs-built_in">mkdir</span> hexoBackup<br></code></pre></td></tr></table></figure>
<p>ç„¶åå°†GitHubä¸Šçš„åšå®¢å†…å®¹ <code>clone</code> ä¸‹æ¥ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">$ git <span class="hljs-built_in">clone</span> https://github.com/yourname/yourname.github.io hexoBackup<br></code></pre></td></tr></table></figure>
<p>åˆ é™¤æ‰€æœ‰ <strong>é™¤äº† <code>.git</code> çš„æ–‡ä»¶</strong> </p>
<blockquote>
<p>ä¸»è¦æ˜¯ä¸ºäº†å¾—åˆ°ç‰ˆæœ¬ç®¡ç†çš„.git</p>
</blockquote>
<figure class="highlight cmd"><table><tr><td class="code"><pre><code class="hljs cmd">$ <span class="hljs-built_in">cd</span> hexoBackup <br>$ rm -r *<br></code></pre></td></tr></table></figure>
<p>æŠŠè¦hexoé‡Œè¦å¤‡ä»½çš„æ–‡ä»¶ã€æ–‡ä»¶å¤¹æ”¾åˆ°è¿™ä¸ªæ–‡ä»¶å¤¹é‡Œï¼š</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><code class="hljs cmd">scaffolds/<br>source/<br>themes/<br>.gitignore<br>_config.ym;<br>package.json<br></code></pre></td></tr></table></figure>
<p>ç„¶ååˆ é™¤æ‰€æœ‰çš„å¤åˆ¶è¿‡æ¥çš„æ–‡ä»¶ä¸­çš„ <code>.git</code> æ–‡ä»¶å¤¹ï¼Œï¼Œï¼Œä¸ç„¶åé¢ä¸èƒ½æäº¤</p>
<h2 id="åˆ›å»ºåˆ†æ”¯"><a href="#åˆ›å»ºåˆ†æ”¯" class="headerlink" title="åˆ›å»ºåˆ†æ”¯"></a>åˆ›å»ºåˆ†æ”¯</h2><p>åˆ›å»ºä¸€ä¸ªåä¸º <code>hexoBackup</code> çš„åˆ†æ”¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">$ git checkout -b hexoBackup<br></code></pre></td></tr></table></figure>
<p>ä¿å­˜æ‰€æœ‰æ–‡ä»¶åˆ°æš‚å­˜åŒºï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">$ git add --all<br></code></pre></td></tr></table></figure>
<p>æäº¤å˜æ›´ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">$ git commit -m <span class="hljs-string">&quot;create hexoBackup branch&quot;</span><br></code></pre></td></tr></table></figure>
<p>æ¨é€åˆ°GitHubï¼Œï¼Œå¹¶ç”¨ <code>--set-upstream</code> ä¸ <code>origin</code> åˆ›å»ºå…³è”ï¼Œï¼Œå°† <code>hexoBackup</code> è®¾ç½®ä¸ºé»˜è®¤åˆ†æ”¯</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">$ git push --set-upstream origin hexoBackup<br></code></pre></td></tr></table></figure>
<h2 id="åˆå¹¶ç®¡ç†"><a href="#åˆå¹¶ç®¡ç†" class="headerlink" title="åˆå¹¶ç®¡ç†"></a>åˆå¹¶ç®¡ç†</h2><p>æˆ‘çœ‹çš„é‚£ç¯‡åšæ–‡çš„åšä¸»å°†è¿™ä¸¤ä¸ªæ–‡ä»¶å¤¹åˆå¹¶æ“ä½œäº†ï¼ˆåº”è¯¥æ˜¯è¿™ä¸ªæ„æ€ï¼‰ï¼Œï¼Œï¼Œæˆ‘æƒ³äº†æƒ³ç®—äº†ï¼Œï¼Œï¼Œå˜¿å˜¿å˜¿</p>
<h1 id="å‘è¡¨æ–‡ç« "><a href="#å‘è¡¨æ–‡ç« " class="headerlink" title="å‘è¡¨æ–‡ç« "></a>å‘è¡¨æ–‡ç« </h1><p>åƒå¾€å¸¸é‚£æ ·å†™åšå®¢ï¼Œï¼Œï¼Œæäº¤</p>
<p>æ›´æ–°å¤‡ä»½çš„è¯å°±æ˜¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">$ git add .<br>$ git commit -m <span class="hljs-string">&quot;balabala&quot;</span><br>$ git push origin hexoBackup<br></code></pre></td></tr></table></figure>
<h1 id="è¿ç§»æ¢å¤"><a href="#è¿ç§»æ¢å¤" class="headerlink" title="è¿ç§»æ¢å¤"></a>è¿ç§»æ¢å¤</h1><ul>
<li>ç¯å¢ƒé…ç½®ï¼šgit, nodejs, npm</li>
<li>cloneä»“åº“</li>
<li>æ‰§è¡Œå‘½ä»¤:</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">$ npm install hexo-cli -g<br>$ npm install<br>$ npm install hexo-deployer-git<br></code></pre></td></tr></table></figure>
<p><a href="https://www.jianshu.com/p/baab04284923">å‚è€ƒ1</a></p>
<p><a href="https://blog.csdn.net/White_Idiot/article/details/80685990">å‚è€ƒ2</a></p>
<p><del>(end)</del></p>
<p>åˆšå†™å®Œå°±å‘ç°ä¸€ä¸ª<a href="https://github.com/coneycode/hexo-git-backup">å¤‡ä»½æ’ä»¶</a>ï¼Œï¼Œä»¥ååœ¨è¯´</p>
]]></content>
      <categories>
        <category>hexoåšå®¢ç›¸å…³</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>åšå®¢</tag>
      </tags>
  </entry>
  <entry>
    <title>hexoæ›´æ–°åŸŸåä»¥åŠé…ç½®</title>
    <url>/2020/02/21/hexo%E6%9B%B4%E6%96%B0%E5%9F%9F%E5%90%8D%E4%BB%A5%E5%8F%8A%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>ç°åœ¨è¿™ä¸ªåšå®¢çš„åŸŸåæ˜¯ç”¨çš„æ˜¯ freenom ä¸‹çš„å…è´¹åŸŸåè¿›è¡Œè§£æï¼Œæ‰€ä»¥æ¯å¹´éƒ½è¦è¿›è¡Œæ›´æ–°ä¸€æ¬¡åŸŸåï¼Œä»¥åŠå¯¹åº”çš„ cloudflare ä¸‹çš„è§£æï¼Œè¿™ç¯‡åšå®¢æ˜¯ç”¨æ¥è®°å½•è¿™ä¸€è¿‡ç¨‹ï¼Œä¸ºäº†ä¹‹åå†é‡å¤è¿™ä¸ªæ“ä½œåšä¸ªè®°å½•ã€‚</p>
<span id="more"></span>
<ul>
<li>é¦–å…ˆåœ¨ <a href="freenom.com">freenom</a> ä¸Šç”³è¯·æ–°çš„åŸŸåï¼Œè²Œä¼¼ç”³è¯·è¿‡çš„åŸŸååœ¨ä¸€å¹´åå¯ä»¥å†æ¬¡ç”³è¯·ï¼Œ2333</li>
<li>å» <a href="cloudflare.com">cloudflare</a> ä¸Šé…ç½®DNSè§£æï¼š</li>
<li>Add Site, Select Plan, Add more DNS records:</li>
<li>æ·»åŠ ä¸€é¡¹Aç±»å‹ã€åŸŸåä¸ºæ–°åŸŸåã€IP ä¸º <code>192.30.252.153</code> Auto TTLã€ DNS ONLY(ç°è‰²)è®°å½•</li>
<li>æ·»åŠ ä¸€é¡¹Aç±»å‹ã€åŸŸåä¸ºæ–°åŸŸåã€IP ä¸º <code>192.30.252.154</code> Auto TTLã€ DNS ONLY(ç°è‰²)è®°å½•</li>
<li>æ·»åŠ ä¸€é¡¹CNAMEç±»å‹ã€wwwã€31415926535x.github.ioã€Proxied(é»„è‰²)è®°å½•</li>
<li>æ›´æ”¹åŸŸåæœåŠ¡å™¨ï¼šå» freenom ä¸‹çš„ nameserversï¼Œæ·»åŠ  <code>burt.ns.cloudflare.com</code> å’Œ <code>molly.ns.cloudflare.com</code> cdnåŸŸå</li>
<li>ä¿®æ”¹ <code>hexo\source\CNAME</code> </li>
<li>ä¿®æ”¹ <code>hexo\_config.yml</code> ä¸­çš„ <code>url</code> </li>
<li>hexo æ›´æ–°å³å¯</li>
</ul>
<p>end</p>
]]></content>
  </entry>
  <entry>
    <title>microsoft_refresh_tokenè·å–é”™è¯¯ç­‰å¯¼è‡´çš„multi-factor authenticationé”™è¯¯</title>
    <url>/2021/02/25/microsoft-refresh-token%E8%8E%B7%E5%8F%96%E9%94%99%E8%AF%AF%E7%AD%89%E5%AF%BC%E8%87%B4%E7%9A%84multi-factor-authentication%E9%94%99%E8%AF%AF/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>å‰å‡ å¤©æ— èŠç”³è¯·äº†ä¸€ä¸ª Microsoft çš„å¼€å‘è€…è´¦å·ï¼Œç›®çš„å½“ç„¶æ˜¯å°è¯•ç™½å«–å¯ä»¥ç»­è®¢çš„5T OneDriveç½‘ç›˜ï¼Œï¼Œç„¶åï¼Œæ ¹æ®ç½‘ä¸Šçš„ä¸€äº›æ•™ç¨‹ï¼Œåˆ©ç”¨ cloudfare æ­å»ºäº†ä¸€ä¸ªç½‘ç›˜é¡µé¢ã€‚è¿™é‡Œéœ€è¦ç”¨åˆ° Microsoft graph çš„ä¸€äº›æœåŠ¡ï¼ŒåŒæ—¶éœ€è¦æ‰‹åŠ¨è·å–åˆ° api çš„ä¸€äº› token ã€‚æœ¬æ¥æ­å»ºçš„å¥½å¥½çš„ï¼Œå¯èƒ½æ˜¯å› ä¸º å¤šé‡éªŒè¯çš„é—®é¢˜ï¼Œå¯¼è‡´å‡ºç° </p>
<span id="more"></span>
<figure class="highlight lsl"><table><tr><td class="code"><pre><code class="hljs lsl">Uncaught (in promise) getAccessToken error <span class="hljs-string">&quot;&#123;<span class="hljs-subst">\&quot;</span>error<span class="hljs-subst">\&quot;</span>:<span class="hljs-subst">\&quot;</span>invalid_grant<span class="hljs-subst">\&quot;</span>,<span class="hljs-subst">\&quot;</span>error_description<span class="hljs-subst">\&quot;</span>:<span class="hljs-subst">\&quot;</span>AADSTS50079: Due to a configuration change made by your administrator, or because you moved to a new location, you must enroll in multi-factor authentication to access &#x27;00000003-0000-0000-c000-000000000000&#x27;.<span class="hljs-subst">\\</span>r<span class="hljs-subst">\\</span>nTrace ID: xxxxxxxxxxxxxxx<span class="hljs-subst">\\</span>r<span class="hljs-subst">\\</span>nCorrelation ID: xxxxxxxxxxxxxxxxxxxxx<span class="hljs-subst">\\</span>r<span class="hljs-subst">\\</span>nTimestamp: 2021-02-24 15:47:18Z<span class="hljs-subst">\&quot;</span>,<span class="hljs-subst">\&quot;</span>error_codes<span class="hljs-subst">\&quot;</span>:[50079],<span class="hljs-subst">\&quot;</span>timestamp<span class="hljs-subst">\&quot;</span>:<span class="hljs-subst">\&quot;</span>2021-02-24 15:47:18Z<span class="hljs-subst">\&quot;</span>,<span class="hljs-subst">\&quot;</span>trace_id<span class="hljs-subst">\&quot;</span>:<span class="hljs-subst">\&quot;</span>xxxxxxxxxxxxxxxxxx<span class="hljs-subst">\&quot;</span>,<span class="hljs-subst">\&quot;</span>correlation_id<span class="hljs-subst">\&quot;</span>:\xxxxxxxxxxxxxxxxxxxxx<span class="hljs-subst">\&quot;</span>,<span class="hljs-subst">\&quot;</span>error_uri<span class="hljs-subst">\&quot;</span>:<span class="hljs-subst">\&quot;</span>https://login.microsoftonline.com/error?code=50079<span class="hljs-subst">\&quot;</span>,<span class="hljs-subst">\&quot;</span>suberror<span class="hljs-subst">\&quot;</span>:<span class="hljs-subst">\&quot;</span>basic_action<span class="hljs-subst">\&quot;</span>&#125;&quot;</span><br></code></pre></td></tr></table></figure>
<p>çš„é”™è¯¯ï¼š <a href="https://github.com/microsoft/Partner-Center-PowerShell/issues/259">https://github.com/microsoft/Partner-Center-PowerShell/issues/259</a></p>
<p>ç„¶åå°±åªèƒ½ç”¨ rclone æ¥é‡æ–°è·å–ä¸€ä¸ª refresh_token ï¼š</p>
<figure class="highlight jboss-cli"><table><tr><td class="code"><pre><code class="hljs jboss-cli"><span class="hljs-string">./rclone</span> authorize <span class="hljs-string">&quot;onedrive&quot;</span> <span class="hljs-string">&quot;åº”ç”¨ç¨‹åº(å®¢æˆ·ç«¯)ID&quot;</span> <span class="hljs-string">&quot;åº”ç”¨ç¨‹åºå¯†ç &quot;</span><br></code></pre></td></tr></table></figure>
<p>æˆ–è€…ï¼š <a href="https://heymind.github.io/tools/microsoft-graph-api-auth">https://heymind.github.io/tools/microsoft-graph-api-auth</a></p>
<p>ç„¶åæŠŠ KV ä¸­çš„ refresh_token æ”¹äº†åº”è¯¥å°±è¡Œäº†ã€‚ã€‚</p>
<p>å¯¼è‡´å¤šé‡éªŒè¯çš„åŸå› ï¼Œå¯èƒ½æ˜¯å› ä¸ºä¹‹å‰è®¾ç½®äº† authentication app ï¼Œï¼Œç„¶åå‡ºç°äº†è¿™ä¸ªé—®é¢˜ï¼Œï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯ mover.io å¤§æ‰¹é‡æ¬æ–‡ä»¶çš„é”…ï¼ˆåº”è¯¥æ— å…³ï¼‰ï¼Œï¼Œæˆ–è€… github çš„è‡ªåŠ¨è°ƒç”¨ç»­è®¢è„šæœ¬çš„é—®é¢˜ç­‰ç­‰ã€‚ã€‚ã€‚</p>
]]></content>
      <tags>
        <tag>ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>next-ä¿®æ”¹</title>
    <url>/2019/03/31/next-%E4%BF%AE%E6%94%B9/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>æ­å»ºhexo+nextè¿™ä¸ªåšå®¢ä¹Ÿæœ‰ä¸€å¹´å¤šäº†ï¼Œï¼ŒæœŸé—´ç¢°åˆ°å¾ˆå¤šçš„äº‹æƒ…ï¼Œï¼Œæ¯”å¦‚è¯´è‡ªå·±æŠŠåšå®¢æå´©ï¼Œæ›´æ–°ç­‰ç­‰ï¼Œï¼Œï¼Œä¹‹å‰åšçš„ä¸€äº›æ”¹å˜ï¼Œç¾åŒ–ä»€ä¹ˆçš„å› ä¸ºå¤ªè¿‡ä¹…è¿œï¼Œï¼Œé‡æ–°è®¾ç½®ä¸€äº›ä¸œè¥¿è¿˜å¾—ä¸€ç‚¹ä¸€ç‚¹çš„é‡æ–°çš„å»æœï¼Œï¼Œæˆ–è€…å»ç¿»ä¹¦ç­¾è®°å½•ï¼Œï¼Œæƒ³ç€è®°å½•ä¸€ä¸‹æŠ˜è…¾è¿‡çš„ä¸œè¥¿ï¼Œï¼Œä»¥åå¯èƒ½ç”¨å¾—ä¸Šï¼Œï¼Œ</p>
<span id="more"></span>
<h1 id="åº•æ æ·»åŠ éŸ³ä¹"><a href="#åº•æ æ·»åŠ éŸ³ä¹" class="headerlink" title="åº•æ æ·»åŠ éŸ³ä¹"></a>åº•æ æ·»åŠ éŸ³ä¹</h1><p>å¾ˆæ—©ä¹‹å‰å°±å°è¯•æ·»åŠ è¿‡éŸ³ä¹ï¼Œä½†æ˜¯ç½‘æ˜“äº‘çš„å¤–é“¾æ—¶é—´ä¸€é•¿å°±æ‰äº†ï¼Œï¼Œè€Œä¸”å¾ˆä¸å¥½çœ‹ï¼Œï¼Œäºæ˜¯å°±æ”¾å¼ƒäº†ï¼Œï¼Œ</p>
<p>ä»Šå¤©åˆå°è¯•å¼„ä¸€ä¸‹ï¼Œï¼Œæ„Ÿè§‰è¿˜è¡Œï¼Œï¼Œæ·»åŠ éŸ³ä¹ä¹Ÿæ–¹ä¾¿ï¼Œï¼Œå˜¿å˜¿ï¼Œï¼Œ</p>
<p>ç”¨çš„ Aplayer è¿™ä¸ªæ’ä»¶ï¼Œï¼Œï¼Œ</p>
<p><a href="https://www.jianshu.com/p/23e33d1fdc4e">å‚è€ƒ</a></p>
<p>ä¸»è¦å˜åŒ–ï¼š</p>
<ul>
<li>åœ¨\next\source\ ä¸‹æ·»åŠ äº†dist æ–‡ä»¶å¤¹åŒæ—¶å¢åŠ ä¸€ä¸ª <code>music.js</code> æ­Œå•æ–‡ä»¶ï¼Œï¼Œä»¥åæ·»åŠ éŸ³ä¹å°±æ”¹è¿™ä¸ªå°±è¡Œäº†</li>
<li>\next\layout_layout.swigï¼Œï¼Œä¸­æ·»åŠ æ’ä»¶çš„è°ƒç”¨ï¼Œï¼Œå’Œçº¢æ˜Ÿä»€ä¹ˆçš„åœ¨ä¸€èµ·ï¼Œï¼Œ</li>
</ul>
]]></content>
      <categories>
        <category>hexoåšå®¢ç›¸å…³</category>
      </categories>
      <tags>
        <tag>hexo_blog</tag>
        <tag>next_theme</tag>
        <tag>hexo</tag>
        <tag>åšå®¢</tag>
      </tags>
  </entry>
  <entry>
    <title>poj-1151çŸ©å½¢é¢ç§¯å¹¶-çº¿æ®µæ ‘</title>
    <url>/2018/10/30/poj-1151%E7%9F%A9%E5%BD%A2%E9%9D%A2%E7%A7%AF%E5%B9%B6-%E7%BA%BF%E6%AE%B5%E6%A0%91/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p>çº¿æ®µæ ‘é—®é¢˜é‡Œçš„å¦ä¸€ä¸ªé—®é¢˜ï¼Œï¼Œï¼ŒçŸ©å½¢é¢ç§¯å¹¶ï¼Œï¼Œï¼Œï¼Œ</p>
<p>ä¹‹å‰çœ‹lazyæ›´æ–°æ—¶çœ‹åˆ°ä¸‹é¢è¿™ä¸ªçš„è®²è§£ï¼Œï¼Œï¼Œä¸€å¤§å †æ–‡å­—è¿˜æœ‰ä¸€å¤§å †çš„å›¾ï¼Œï¼Œï¼Œï¼Œå½“æ—¶æœæ–­è·³è¿‡ï¼Œï¼Œï¼Œ</p>
<p>ä»Šå¤©èŠ±äº†ä¸€ä¸‹åˆåŠ ä¸€æ™šä¸Šçš„æ—¶é—´çœ‹äº†çœ‹è¿™å—çŸ¥è¯†ï¼Œï¼Œï¼Œç„¶åå°è¯•è‡ªå·±å†™å‡ºä»£ç ï¼Œï¼Œï¼Œç®—æ˜¯ç®€å•çš„äº†è§£ä¸€ä¸‹è¿™å—ï¼Œï¼Œï¼Œ</p>
<span id="more"></span>
<h1 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h1><p><a href="http://poj.org/problem?id=1151">è¿™é“çŸ©å½¢é¢ç§¯å¹¶</a>é—®é¢˜çš„å¤§æ„æ˜¯ç»™å¾ˆå¤šä¸ªçŸ©å½¢ï¼Œï¼ŒçŸ©å½¢ä¹‹é—´å¯èƒ½æœ‰äº¤é›†ï¼Œï¼Œï¼Œç„¶åé—®ä½ è¿™ä¸€å¤§ç‰‡çš„å›¾å½¢é¢ç§¯æ˜¯å¤šå°‘ï¼Œï¼Œï¼Œï¼Œ</p>
<p>æ•°æ®é‡ä¸å¤§ï¼Œï¼Œçœ‹åˆ°æœ‰å¾ˆå¤šäººæ˜¯æš´åŠ›è¿‡çš„ï¼Œï¼Œï¼Œ</p>
<p>ä½†æ˜¯ç”¨çº¿æ®µæ ‘æ¥å½“ä½œç»ƒä¹ é¢˜é”»ç‚¼é”»ç‚¼æ€ç»´è¿˜æ˜¯å¾ˆå¥½çš„QAQ</p>
<h1 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h1><p><a href="http://www.cppblog.com/menjitianya/archive/2016/02/25/212891.html">ä¸€å¼€å§‹æˆ‘æ˜¯çœ‹è¿™ç¯‡åšå®¢æœ‰å…³çŸ©å½¢é¢ç§¯å¹¶çš„çŸ¥è¯†</a>ï¼Œï¼Œï¼Œ<br>è¿™ç¯‡åšå®¢è®²è§£çš„æ€è·¯å¾ˆä¸é”™ï¼Œï¼Œï¼Œä¸€éä¹‹åå¤§è‡´äº†è§£äº†æ•´ä¸ªè§£å†³é—®é¢˜çš„æ€è·¯ï¼Œï¼Œï¼Œï¼Œä½†æ˜¯å®ƒæ²¡æœ‰ç›¸åº”çš„ç»ƒä¹ é¢˜ä»¥åŠä»£ç ï¼Œï¼Œï¼Œï¼Œæˆ‘å®Œå…¨ä¸çŸ¥é“è¯¥ä»å“ªé‡Œä¸‹æ‰‹ï¼Œï¼Œï¼Œçº¿æ®µæ ‘çš„å…·ä½“å¦‚ä½•å®ç°ä¸€è„¸æ‡µé€¼ï¼Œï¼Œï¼Œï¼Œè¿˜æœ‰ï¼Œï¼Œï¼Œä¸€èˆ¬è¿™ç§é¢˜éƒ½æ˜¯è¦å°†ä¸€ä¸ªæ–¹å‘çš„åæ ‡ <strong>ç¦»æ•£åŒ–</strong>ï¼Œï¼Œï¼Œï¼Œå—¯ï¼Œï¼Œåˆæ˜¯è¿™ä¸ªä¸œè¥¿ï¼Œï¼Œï¼Œï¼Œæ›´æ˜¯ä¸€è„¸çš„æ‡µé€¼ï¼Œï¼Œï¼Œï¼Œ</p>
<p><a href="https://blog.csdn.net/riba2534/article/details/76851233">ç„¶åçœ‹äº†è¿™ç¯‡åšå®¢ï¼Œï¼Œ</a>å¯¹ç€ä»£ç ï¼Œï¼Œï¼Œç„¶åé¡ºç€æ€è·¯å†™å‡ºæ¥äº†ï¼Œï¼Œï¼Œ</p>
<p>ä¸»è¦çš„å‡ ç‚¹ï¼š</p>
<ul>
<li>å‰é¢ä¸¤ä¸ªåšå®¢çš„å›¾å¾ˆå½¢è±¡çš„æŠŠæ€è·¯ç†äº†ä¸€éï¼Œï¼Œï¼Œï¼Œå°±æ˜¯æšä¸¾ä¸€ä¸ªæ–¹å‘ï¼Œï¼Œæ¯”å¦‚yæ–¹å‘ï¼Œï¼Œç„¶åï¼Œï¼Œå°†xæ–¹å‘çš„åæ ‡ç¦»æ•£åŒ–ï¼Œï¼Œåˆ†æˆè‹¥å¹²ä¸ª <strong>å•ä½çº¿æ®µ</strong>ï¼Œï¼Œï¼Œï¼Œçº¿æ®µæ ‘ç»´æŠ¤è¿™ä¸ªå•ä½çº¿æ®µï¼Œï¼Œï¼Œè¿˜æ˜¯é‚£ä¸ªåšå®¢å½¢è±¡ä¸€äº›</li>
<li>æ•´ä¸ªå›¾å½¢çš„é¢ç§¯å¯ä»¥åˆ†æˆè‹¥å¹²ä¸ªå°çš„çŸ©å½¢ï¼Œï¼Œï¼Œç„¶ååŠ èµ·æ¥å°±è¡Œï¼Œï¼Œï¼Œï¼Œ</li>
</ul>
<h1 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h1><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa  cout &lt;&lt; x[r + 1] &lt;&lt; <span class="hljs-meta-string">&quot;----&quot;</span> &lt;&lt; x[l] &lt;&lt; endl;</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">205</span>;<br><span class="hljs-keyword">double</span> x[maxn &lt;&lt; <span class="hljs-number">2</span>];           <span class="hljs-comment">//æ‰€æœ‰çš„xçš„æ•°æ®</span><br><span class="hljs-comment">//æ¯ä¸€æ¡çº¿æ®µ</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">segment</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">double</span> y;<br>    <span class="hljs-keyword">double</span> l;<br>    <span class="hljs-keyword">double</span> r;<br>    <span class="hljs-keyword">int</span> flag;       <span class="hljs-comment">//1 or -1: å…¥è¾¹orå‡ºè¾¹</span><br>    segment()&#123;&#125;<br>    segment(<span class="hljs-keyword">double</span> y, <span class="hljs-keyword">double</span> l , <span class="hljs-keyword">double</span> r , <span class="hljs-keyword">int</span> flag):y(y) , l(l) , r(r) , flag(flag)&#123;&#125;<br>    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span> &lt; (<span class="hljs-keyword">const</span> segment &amp;res)<br>    &#123;<br>        <span class="hljs-keyword">return</span> y &lt; res.y;<br>    &#125;<br>&#125;seg[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><br><span class="hljs-comment">//çº¿æ®µæ ‘ç»´æŠ¤æ‰€æœ‰çš„å•ä½çº¿æ®µï¼ˆç¦»æ•£åçš„ï¼‰</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> cov;<br>    <span class="hljs-keyword">double</span> len;<br>&#125;node[maxn &lt;&lt; <span class="hljs-number">2</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">pushdown</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt , <span class="hljs-keyword">int</span> l , <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(node[rt].cov)<br>        node[rt].len = x[r + <span class="hljs-number">1</span>] - x[l];<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(l == r)<br>        node[rt].len = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">else</span><br>        node[rt].len = node[rt &lt;&lt; <span class="hljs-number">1</span>].len + node[rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>].len;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">update</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt , <span class="hljs-keyword">int</span> l , <span class="hljs-keyword">int</span> r , <span class="hljs-keyword">int</span> L , <span class="hljs-keyword">int</span> R , <span class="hljs-keyword">int</span> cov)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(L &lt;= l &amp;&amp; r &lt;= R)<br>    &#123;<br>        node[rt].cov += cov;<br>        pushdown(rt , l , r);<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-keyword">int</span> mid = (l + r) &gt;&gt; <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">if</span>(L &lt;= mid)    update(rt &lt;&lt; <span class="hljs-number">1</span> , l , mid , L , R , cov);<br>    <span class="hljs-keyword">if</span>(R &gt;  mid)    update(rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span> , mid + <span class="hljs-number">1</span> , r , L , R , cov);<br>    <span class="hljs-comment">//pushdown</span><br>    pushdown(rt , l , r);<br>    <span class="hljs-keyword">return</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> n;<br>    <span class="hljs-keyword">int</span> q = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;n) &amp;&amp; n)<br>    &#123;<br>        <span class="hljs-built_in">memset</span>(x , <span class="hljs-number">0</span> , <span class="hljs-keyword">sizeof</span> x);<br><br>        <span class="hljs-keyword">double</span> x1 , y1 , x2 , y2;<br>        <span class="hljs-keyword">int</span> count = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lf%lf%lf%lf&quot;</span> , &amp;x1 , &amp;y1 , &amp;x2 , &amp;y2);<br>            seg[count]=segment(y1 , x1 , x2 , <span class="hljs-number">1</span>);<br>            x[count++] = x1;<br>            seg[count]=segment(y2 , x1 , x2 , <span class="hljs-number">-1</span>);<br>            <span class="hljs-comment">//segment[i].y = y1;segment[i].l = x1;segment[i].r = x2;segment[i].flag = 1;</span><br>            <span class="hljs-comment">//segment[i + 1].y = y2;segment[i + n].l = x1;segment[i + n].r = x2;segment[i + n].flag = -1;</span><br><br>            x[count++] = x2;<br>        &#125;<br>        <span class="hljs-comment">//ç¦»æ•£</span><br>        sort(seg , seg + count);<br>        sort(x , x + count);<br><br>        <span class="hljs-keyword">int</span> sz = unique(x , x + count) - x;<br>        <span class="hljs-keyword">double</span> ans = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; count; ++i)<br>        &#123;<br>            <span class="hljs-keyword">int</span> l = lower_bound(x , x + sz , seg[i].l) - x;<br>            <span class="hljs-keyword">int</span> r = lower_bound(x , x + sz , seg[i].r) - x - <span class="hljs-number">1</span>;<br>            update(<span class="hljs-number">1</span> , <span class="hljs-number">0</span> , sz , l , r , seg[i].flag);<br>            ans += node[<span class="hljs-number">1</span>].len * (seg[i + <span class="hljs-number">1</span>].y - seg[i].y);<br>        &#125;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Test case #%d\nTotal explored area: %.2f\n\n&quot;</span>,q++,ans);<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>ç®—äº†ï¼Œï¼Œï¼Œå…ˆé¸½äº†ï¼Œï¼Œï¼Œç»†èŠ‚é‚£å¤©å†è¡¥ä¸€ä¸‹ï¼Œï¼Œï¼Œï¼Œ<br>(loading,,,,)</p>
]]></content>
      <tags>
        <tag>åˆ·é¢˜</tag>
        <tag>acm</tag>
      </tags>
  </entry>
  <entry>
    <title>poj-1251-æœ€å°ç”Ÿæˆæ ‘</title>
    <url>/2018/11/20/poj-1251-%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p>å‰æ®µæ—¶é—´æ•°æ®ç»“æ„çš„è¯¾ä¸Šæåˆ°äº†äº†<strong>æœ€å°ç”Ÿæˆæ ‘</strong>ï¼Œï¼Œæš‘å‡çš„é›†è®­è™½ç„¶å†å­¦å¹¶æŸ¥é›†çš„æ—¶å€™çœ‹è¿‡ä¸€äº›ï¼Œï¼Œä½†æ˜¯ä¹‹åå¥½ä¹…æ²¡å†ç”¨è¿‡ï¼Œï¼Œæ—©å°±å¿˜è®°äº†ï¼Œï¼Œï¼Œä»Šå¤©æŠ½æ—¶é—´çœ‹äº†çœ‹ï¼Œï¼ŒæŠŠæœ€å°ç”Ÿæˆæ ‘çš„ä¸¤ä¸ªä¸»è¦ç®—æ³• <strong>prim</strong> å’Œ <strong>kruskal</strong>äº†è§£äº†ä¸€ä¸‹ï¼Œï¼Œï¼Œåšå‡ é“é¢˜ï¼Œï¼ŒæŠŠè‡ªå·±çš„æ¨¡æ¿å¼„å‡ºæ¥</p>
<span id="more"></span>
<h1 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h1><p>è¿™ä¸¤ä¸ªç®—æ³•å¾ˆç®€å•ï¼Œï¼Œï¼Œçœ‹å‡ éå°±å¯ä»¥å»æ•²å»äº†ï¼Œï¼Œï¼Œ</p>
<p><a href="https://blog.csdn.net/mgsky1/article/details/77840286">æ”¾å‡ ä¸ªåˆ«äººçš„åšå®¢ï¼Œï¼Œé˜²æ­¢ä»¥åå¿˜è®°äº†èƒ½å¿«é€Ÿå›æƒ³èµ·æ¥</a><br><a href="https://blog.csdn.net/m0_37345402/article/details/76474311">è¿˜æœ‰ä¸€ä¸ª</a></p>
<p>primç®—æ³•ä¸»è¦çš„æ€è·¯æ˜¯å°†æœ€å°ç”Ÿæˆæ ‘æ…¢æ…¢çš„å˜å¤§ï¼Œï¼Œï¼Œ<br>kruskalç®—æ³•ä¸»è¦æ˜¯åˆ©ç”¨å¹¶æŸ¥é›†å°†å¤šä¸ªæ ‘ä¹Ÿå°±æ˜¯æ£®æ—æ…¢æ…¢çš„åˆå¹¶æˆæœ€åçš„æ ‘</p>
<h1 id="æ¨¡æ¿ä»£ç "><a href="#æ¨¡æ¿ä»£ç " class="headerlink" title="æ¨¡æ¿ä»£ç "></a>æ¨¡æ¿ä»£ç </h1><p><a href="http://poj.org/problem?id=1251">åšäº†ä¸€é“æ¨¡æ¿é¢˜</a>ï¼Œï¼Œé¢˜æ„å°±æ˜¯å¯¹ç»™å®šçš„ä¸€ä¸ªå›¾ï¼Œï¼Œå»æ‰ä¸€äº›è¾¹ï¼Œï¼Œæ±‚èŠ±è´¹æœ€å°çš„æ–¹æ¡ˆï¼Œï¼Œï¼Œå…¶å®å°±æ˜¯æƒå€¼å’Œæœ€å°çš„é‚£ä¸€ç§ï¼Œï¼Œ</p>
<p>primæ–¹æ³•ï¼š<br><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">30</span>;<br><br><span class="hljs-keyword">int</span> mp[maxn][maxn];<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-keyword">int</span> dis[maxn];<br><span class="hljs-keyword">int</span> n , m;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">prim</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> sum = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(vis , <span class="hljs-literal">false</span> , <span class="hljs-keyword">sizeof</span> vis);<br>    vis[<span class="hljs-number">1</span>] = <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        dis[i] = mp[<span class="hljs-number">1</span>][i];<br><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; n; ++i)<br>    &#123;<br>        <span class="hljs-keyword">int</span> m = inf;<br>        <span class="hljs-keyword">int</span> p = <span class="hljs-number">-1</span>;<br>        <span class="hljs-comment">//ä»æ‰€æœ‰çš„ä¸ºåŠ å…¥æœ€å°ç”Ÿæˆæ ‘é›†åˆçš„ç‚¹é›†é‡Œæ‰¾åˆ°ä¸€ä¸ªè¾¹æƒæœ€å°çš„</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; ++j)<br>            <span class="hljs-keyword">if</span>(!vis[j] &amp;&amp; dis[j] &lt; m)<br>            &#123;<br>                m = dis[j];<br>                p = j;<br>            &#125;<br>        <span class="hljs-keyword">if</span>(m == inf)    <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>        sum += m;<br>        vis[p] = <span class="hljs-literal">true</span>;<br>        <span class="hljs-comment">//æ›´æ–°åŠ å…¥è¿™ä¸ªç‚¹ä¹‹åèƒ½å¤Ÿåˆ°è¾¾å…¶ä»–ç‚¹çš„å€¼</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; ++j)<br>            <span class="hljs-keyword">if</span>(!vis[j] &amp;&amp; dis[j] &gt; mp[p][j])<br>                dis[j] = mp[p][j];<br>    &#125;<br>    <span class="hljs-keyword">return</span> sum;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;n) &amp;&amp; n)<br>    &#123;<br>        <span class="hljs-keyword">char</span> c1 , c2;<br>        <span class="hljs-keyword">int</span> m1 , m2;<br>        <span class="hljs-built_in">memset</span>(mp , inf , <span class="hljs-keyword">sizeof</span> mp);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            mp[i][i] = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n - <span class="hljs-number">1</span>; ++i)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot; %c%d&quot;</span> , &amp;c1 , &amp;m1);<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m1; ++j)<br>            &#123;<br>                <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot; %c%d&quot;</span> , &amp;c2 , &amp;m2);<br>                mp[c1 - <span class="hljs-string">&#x27;A&#x27;</span> + <span class="hljs-number">1</span>][c2 - <span class="hljs-string">&#x27;A&#x27;</span> + <span class="hljs-number">1</span>] = m2;<br>                mp[c2 - <span class="hljs-string">&#x27;A&#x27;</span> + <span class="hljs-number">1</span>][c1 - <span class="hljs-string">&#x27;A&#x27;</span> + <span class="hljs-number">1</span>] = m2;<br>            &#125;<br>        &#125;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span> , prim());<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure></p>
<p>kruskalæ–¹æ³•ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">200</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">int</span> father[maxn];<br><span class="hljs-keyword">int</span> n , m;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> u , v , w;<br>    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span> &lt; (<span class="hljs-keyword">const</span> edge &amp;r) <span class="hljs-keyword">const</span><br>    &#123;<br>        <span class="hljs-keyword">return</span> w &lt; r.w;<br>    &#125;<br>&#125;edge[maxn];<br><span class="hljs-keyword">int</span> tot;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> _u , <span class="hljs-keyword">int</span> _v , <span class="hljs-keyword">int</span> _w)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].u = _u;<br>    edge[tot].v = _v;<br>    edge[tot++].w = _w;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(x == father[x])  <span class="hljs-keyword">return</span> x;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> father[x] = find(father[x]);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">kruskal</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        father[i] = i;<br>    sort(edge , edge + tot);<br>    <span class="hljs-keyword">int</span> cnt = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> sum = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; tot; ++i)<br>    &#123;<br>        <span class="hljs-keyword">int</span> t1 = find(edge[i].u);<br>        <span class="hljs-keyword">int</span> t2 = find(edge[i].v);<br>        <span class="hljs-comment">//u , vå¦‚æœä¸åœ¨ä¸€ä¸ªæ£®æ—ä¸­å°±åˆå¹¶</span><br>        <span class="hljs-keyword">if</span>(t1 != t2)<br>        &#123;<br>            sum += edge[i].w;<br>            father[t1] = t2;<br>            ++cnt;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(cnt == n - <span class="hljs-number">1</span>) <span class="hljs-keyword">break</span>;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(cnt &lt; n - <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>    <span class="hljs-keyword">else</span>            <span class="hljs-keyword">return</span> sum;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;n) &amp;&amp; n)<br>    &#123;<br>        <span class="hljs-keyword">char</span> c1 , c2;<br>        <span class="hljs-keyword">int</span> m1 , m2;<br>        tot = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; n; ++i)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot; %c%d&quot;</span> , &amp;c1 , &amp;m1);<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m1; ++j)<br>            &#123;<br>                <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot; %c%d&quot;</span> , &amp;c2 , &amp;m2);<br>                addedge(c1 - <span class="hljs-string">&#x27;A&#x27;</span> + <span class="hljs-number">1</span> , c2 - <span class="hljs-string">&#x27;A&#x27;</span> + <span class="hljs-number">1</span> , m2);<br>                addedge(c2 - <span class="hljs-string">&#x27;A&#x27;</span> + <span class="hljs-number">1</span> , c1 - <span class="hljs-string">&#x27;A&#x27;</span> + <span class="hljs-number">1</span> , m2);<br>            &#125;<br>        &#125;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span> , kruskal());<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<p>(end)</p>
]]></content>
      <categories>
        <category>ACM-æœ€å°ç”Ÿæˆæ ‘</category>
      </categories>
      <tags>
        <tag>åˆ·é¢˜</tag>
        <tag>acm</tag>
      </tags>
  </entry>
  <entry>
    <title>poj-2253-poj-1797_æœ€çŸ­è·¯ç»ƒä¹ </title>
    <url>/2018/11/17/poj-2253-%E6%9C%80%E7%9F%AD%E8%B7%AF%E7%BB%83%E4%B9%A0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p><a href="http://poj.org/problem?id=2253">ä¸€é“æœ€çŸ­è·¯çš„å˜å½¢é¢˜</a>ï¼Œï¼Œè™½ç„¶è¯´è§£æ³•ä¸æ­¢è¿™ä¸€ç§ï¼Œï¼Œ</p>
<p>è¿™é“é¢˜çœ‹äº†å¥½ä¹…éƒ½æ²¡çœ‹æ‡‚é¢˜æ„ï¼Œï¼Œä¸çŸ¥åˆ°åœ¨æ±‚ä»€ä¹ˆï¼Œï¼Œï¼Œæœ€åè¿«ä¸å¾—å·²å»çœ‹äº†åˆ«äººçš„æ€è·¯ï¼Œï¼Œç†æ¸…æ€è·¯ä¹‹åï¼Œï¼Œä»£ç å°±å¥½å†™äº†ï¼Œï¼Œï¼Œåªéœ€åœ¨åŸæ¥çš„dijkstraæ¿å­ä¸Šæ”¹ä¸€æ”¹å°±è¡Œäº†ï¼Œï¼Œ</p>
<p>è¡¥ï¼šç¬¬äºŒé“é¢˜å’Œç¬¬ä¸€é“é¢˜ç±»ä¼¼ï¼Œï¼Œå†æ”¹ä¸€æ”¹å°±è¡Œäº†ï¼Œï¼Œ</p>
<span id="more"></span>
<h1 id="åˆ†æä¸æ€è·¯"><a href="#åˆ†æä¸æ€è·¯" class="headerlink" title="åˆ†æä¸æ€è·¯"></a>åˆ†æä¸æ€è·¯</h1><p>è¿™é“é¢˜çš„å¤§è‡´é¢˜æ„å°±æ˜¯ï¼šç»™ä½ nå—çŸ³å¤´çš„åæ ‡ï¼Œï¼Œç„¶åé—®ä½ ä»ç¬¬ä¸€å—çŸ³å¤´åˆ°ç¬¬äºŒå—çŸ³å¤´çš„æ‰€æœ‰å¯åˆ°çš„mæ¡è·¯å¾„ä¸­ï¼Œï¼Œé‚£mæ¡æœ€é•¿çš„è·¯ä¸­çš„æœ€å°çš„ï¼Œï¼Œ</p>
<p>æ‰€ä»¥åˆ†ä¸¤æ­¥è®¡ç®—ï¼Œï¼Œï¼Œ</p>
<ul>
<li><p>å…ˆæ±‚ i-&gt;j mæ¡è·¯å¾„ä¸­æ¯æ¡è·¯å¾„ä¸­çš„æœ€å¤§å€¼ï¼Œï¼Œ</p>
</li>
<li><p>ç„¶åæ±‚è¿™mä¸ªæœ€å¤§å€¼ä¸­çš„æœ€å°å€¼ï¼Œï¼Œï¼Œ</p>
</li>
</ul>
<p>æŒ‰ç…§è¿™ä¸ªæ€è·¯ï¼Œï¼Œdijkstraä¸­çš„æ¾å¼›æ¡ä»¶å°±è¦æ”¹æˆ</p>
<p> $dis[v] = min(dis[v] , max(dis[u] , w[u][v]))$</p>
<ul>
<li>dis[v]è¡¨ç¤ºåŸç‚¹1åˆ°vçš„æœ€å¤§è·¯ä¸­çš„æœ€å°å€¼ï¼Œï¼ŒåŒç†dis[u]ä¹Ÿä¸€æ ·</li>
<li>w[u][v]è¡¨ç¤ºu-&gt;vçš„æƒå€¼</li>
<li>æ±‚1-&gt;vçš„æœ€å¤§è·¯ä¸­çš„æœ€å°å€¼å°±ç­‰äº <strong>ä¹‹å‰ä»åˆ«çš„è·¯å¾„åˆ°vä¸­æ±‚å¾—çš„æœ€å¤§è·¯ä¸­çš„æœ€å°å€¼</strong> ä¸ <strong>1-&gt;u-&gt;vè¿™æ¡è·¯å¾„ä¸­çš„æœ€å¤§è·¯ä¸­çš„æœ€å°å€¼ï¼Œï¼Œï¼ˆä¹Ÿå°±æ˜¯ 1-&gt;u ä¸­æœ€å¤§è·¯çš„æœ€å°å€¼ å’Œ u-&gt;vçš„æƒå€¼ç›¸æ¯”è¾ƒå–æœ€å¤§çš„ï¼‰</strong> çš„æœ€å°å€¼</li>
</ul>
<p>å¯¹äº†ï¼Œï¼Œç½‘ä¸Šçœ‹åˆ°çš„åˆ«äººçš„åšå®¢å¤§å¤šéƒ½æ˜¯ç”¨é‚»æ¥çŸ©é˜µå®ç°çš„ï¼Œï¼Œï¼Œç„¶åæˆ‘å°è¯•ç”¨é‚»æ¥è¡¨å®ç°çš„ï¼Œï¼Œï¼Œæ³¨æ„å¯¹æ•°æ®çš„å¤„ç†ï¼Œï¼Œï¼Œå› ä¸ºæ˜¯ç»™çš„ç‚¹çš„åæ ‡è€Œä¸æ˜¯ç‚¹çš„ç¼–å·ï¼Œï¼Œï¼Œæ‰€ä»¥æ˜¯æ¯ä¸ªç‚¹ä¹‹é—´éƒ½æœ‰è·¯å¾„ï¼Œï¼Œï¼Œæœ€åï¼Œï¼Œç”¨é‚»æ¥è¡¨æ˜¯å®ç°è®°å¾—å¤„ç†å®Œä¸€ç»„æ•°æ®è¦æŠŠé‚»æ¥è¡¨æ¸…ç©ºï¼Œï¼Œï¼Œ<br>è¿˜æœ‰è¾“å‡ºåœ¨pojä¸Šg++ç”¨%.3f</p>
<p><a href="http://poj.org/problem?id=1797">ç¬¬äºŒé“é¢˜å°±æ˜¯å‰ä¸€é“çš„åè¿‡æ¥ï¼Œï¼Œï¼Œæ±‚æ‰€æœ‰è·¯å¾„ä¸­æœ€å°å€¼çš„æœ€å¤§å€¼ï¼Œï¼Œï¼Œ</a></p>
<h1 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h1><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//poj-2253</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e3</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> v;<br>    <span class="hljs-keyword">double</span> c;<br>    node()&#123;&#125;<br>    node(<span class="hljs-keyword">int</span> _v , <span class="hljs-keyword">double</span> _c):v(_v) , c(_c)&#123;&#125;<br>    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span> &lt; (<span class="hljs-keyword">const</span> node &amp;r) <span class="hljs-keyword">const</span><br>    &#123;<br>        <span class="hljs-keyword">return</span> c &gt; r.c;<br>    &#125;<br>&#125;;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> v;<br>    <span class="hljs-keyword">double</span> w;<br>    edge(<span class="hljs-keyword">int</span> _v = <span class="hljs-number">0</span> , <span class="hljs-keyword">double</span> _w = <span class="hljs-number">0</span>):v(_v) , w(_w)&#123;&#125;<br>&#125;;<br><span class="hljs-built_in">vector</span>&lt;edge&gt; e[maxn];<br><span class="hljs-keyword">double</span> dis[maxn];<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-keyword">int</span> n;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u , <span class="hljs-keyword">int</span> v , <span class="hljs-keyword">double</span> w)</span></span><br><span class="hljs-function"></span>&#123;<br>    e[u].push_back(edge(v , w));<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dijkstra</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(vis , <span class="hljs-literal">false</span> , <span class="hljs-keyword">sizeof</span> vis);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        dis[i] = inf;<br>    dis[<span class="hljs-number">1</span>] = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">priority_queue</span>&lt;node&gt; q;<br>    <span class="hljs-keyword">while</span>(!q.empty())   q.pop();<br>    q.push(node(<span class="hljs-number">1</span> , <span class="hljs-number">0</span>));<br>    node t;<br>    <span class="hljs-keyword">while</span>(!q.empty())<br>    &#123;<br>        t = q.top();q.pop();<br>        <span class="hljs-keyword">int</span> u = t.v;<br>        <span class="hljs-keyword">if</span>(vis[u])  <span class="hljs-keyword">continue</span>;<br>        vis[u] = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; e[u].size(); ++i)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = e[t.v][i].v;<br>            <span class="hljs-keyword">double</span> w = e[u][i].w;<br><br>            <span class="hljs-keyword">if</span>(!vis[v])<br>            &#123;<br>                dis[v] = min(dis[v] , max(dis[u] , w));<br>                q.push(node(v , dis[v]));<br>            &#125;<br><br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> q = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;n) != EOF &amp;&amp; n)<br>    &#123;<br>        <span class="hljs-keyword">double</span> x[maxn] , y[maxn];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i  &lt;= n; ++i)<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lf%lf&quot;</span> , &amp;x[i] , &amp;y[i]);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; n; ++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = i + <span class="hljs-number">1</span>; j &lt;= n; ++j)<br>            &#123;<br>                <span class="hljs-keyword">double</span> w = <span class="hljs-built_in">sqrt</span>((x[i] - x[j]) * (x[i] - x[j]) + (y[i] - y[j]) * (y[i] - y[j]));<br>                addedge(i , j , w);<br>                addedge(j , i , w);<br>            &#125;<br>        dijkstra();<br><br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Scenario #%d\nFrog Distance = %.3lf\n\n&quot;</span> , q++ , dis[<span class="hljs-number">2</span>]);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; maxn; ++i)<br>            e[i].clear();<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//1797</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e3</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> v;<br>    <span class="hljs-keyword">int</span> c;<br>    node()&#123;&#125;<br>    node(<span class="hljs-keyword">int</span> _v , <span class="hljs-keyword">int</span> _c):v(_v) , c(_c)&#123;&#125;<br>    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span> &lt; (<span class="hljs-keyword">const</span> node &amp;r) <span class="hljs-keyword">const</span><br>    &#123;<br>        <span class="hljs-keyword">return</span> c &lt; r.c;<br>    &#125;<br>&#125;;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> v;<br>    <span class="hljs-keyword">int</span> w;<br>    edge(<span class="hljs-keyword">int</span> _v = <span class="hljs-number">0</span> , <span class="hljs-keyword">int</span> _w = <span class="hljs-number">0</span>):v(_v) , w(_w)&#123;&#125;<br>&#125;;<br><span class="hljs-built_in">vector</span>&lt;edge&gt; e[maxn];<br><span class="hljs-keyword">int</span> dis[maxn];<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-keyword">int</span> n , m;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u , <span class="hljs-keyword">int</span> v , <span class="hljs-keyword">int</span> w)</span></span><br><span class="hljs-function"></span>&#123;<br>    e[u].push_back(edge(v , w));<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dijkstra</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(vis , <span class="hljs-literal">false</span> , <span class="hljs-keyword">sizeof</span> vis);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n + <span class="hljs-number">1</span>; ++i)<br>        dis[i] = <span class="hljs-number">0</span>;<br>    dis[<span class="hljs-number">1</span>] = inf;<br>    <span class="hljs-built_in">priority_queue</span>&lt;node&gt; q;<br>    <span class="hljs-keyword">while</span>(!q.empty())   q.pop();<br>    q.push(node(<span class="hljs-number">1</span> , inf));<br>    node t;<br>    <span class="hljs-keyword">while</span>(!q.empty())<br>    &#123;<br>        t = q.top();q.pop();<br>        <span class="hljs-keyword">int</span> u = t.v;<br>        <span class="hljs-keyword">if</span>(vis[u])  <span class="hljs-keyword">continue</span>;<br>        vis[u] = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; e[u].size(); ++i)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = e[t.v][i].v;<br>            <span class="hljs-keyword">int</span> w = e[u][i].w;<br>            <span class="hljs-keyword">if</span>(!vis[v])<br>            &#123;<br>                dis[v] = max(dis[v] , min(dis[u] , w));<br>                q.push(node(v , dis[v]));<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> q = <span class="hljs-number">1</span>;<span class="hljs-keyword">int</span> t;<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;t);<br>    <span class="hljs-keyword">while</span>(t--)<br>    &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span> , &amp;n , &amp;m);<br>        <span class="hljs-keyword">int</span> u , v , w;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span> , &amp;u , &amp;v , &amp;w);<br>            addedge(u , v , w);<br>            addedge(v , u , w);<br>        &#125;<br>        dijkstra();<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Scenario #%d:\n%d\n\n&quot;</span> , q++ , dis[n]);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; maxn; ++i)<br>            e[i].clear();<br>    &#125;<br>&#125;<br><br>ç¬¬äºŒé“é¢˜æ€è·¯æ˜¯å¯¹çš„ï¼Œï¼Œï¼Œæœ€åçš„è¾“å‡ºå¿˜è®°åŠ :waäº†<span class="hljs-number">4</span>æ¬¡ï¼Œï¼Œï¼Œä¸€ç›´ä»¥ä¸ºæ˜¯è‡ªå·±çš„é‚»æ¥è¡¨+ä¼˜å…ˆé˜Ÿåˆ—å†™çš„æœ‰é—®é¢˜ï¼Œï¼Œï¼Œemmmmm ï¼Œï¼Œï¼Œå‘<br></code></pre></td></tr></table></figure>
<h1 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h1><p>å› ä¸ºæœŸä¸­è€ƒè¯•ç­‰ç­‰å„ç§äº‹ï¼Œï¼Œï¼Œå¥½ä¹…æ²¡å¼„acmçš„è¿™äº›ä¸œè¥¿äº†ï¼Œï¼Œå¤§æ¦‚æœ‰ä¸‰å‘¨æˆ–åˆ™ä¸€ä¸ªæœˆäº†å§ï¼Œï¼Œï¼Œ</p>
<p>åæœå°±æ˜¯ä¹‹å‰å­¦çš„ï¼Œè®°å¾—ä¸œè¥¿åˆå¿«å¿˜è®°äº†ï¼Œï¼Œï¼Œæ¿å­ä¹Ÿä¸èƒ½è‡ªå·±çš„é»˜å†™ä¸‹æ¥äº†QAQï¼Œï¼Œ</p>
<p>æ¥ä¸‹æ¥è¿™ä¸€ä¸ªåŠæœˆå¾—å¥½å¥½çš„åŠªåŠ›ä¸€æŠŠäº†ï¼Œï¼Œï¼Œï¼Œï¼Œï¼ˆé€ƒ</p>
<p>(end)</p>
]]></content>
      <categories>
        <category>ACM-æœ€çŸ­è·¯</category>
      </categories>
      <tags>
        <tag>åˆ·é¢˜</tag>
        <tag>acm</tag>
      </tags>
  </entry>
  <entry>
    <title>poj-2421-æœ€å°ç”Ÿæˆæ ‘åˆ·é¢˜</title>
    <url>/2018/11/20/poj-2421-%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91%E5%88%B7%E9%A2%98/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p>åšäº†å‡ é“æœ€å°ç”Ÿæˆæ ‘çš„é¢˜ï¼Œï¼Œï¼Œéƒ½æ˜¯äº›æ¿å­é¢˜ï¼Œï¼Œï¼Œç›´æ¥å¥—æ¿å­å°±èƒ½è¿‡ï¼Œï¼Œï¼Œæœ‰ä¸€äº›æ˜¯åœ¨è¾“å…¥æ•°æ®åšæ–‡ç« ï¼Œï¼Œå¤„ç†ä¸€ä¸‹å†å»ºå›¾å°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
<p><a href="http://poj.org/problem?id=2421">è¿™é“æœ€å°ç”Ÿæˆæ ‘çš„é¢˜ç¨å¾®éœ€è¦å¤„ç†ä¸€ä¸‹ï¼Œï¼Œä¸è¿‡ä¹‹åä¹Ÿå°±æ˜¯å¥—æ¿å­äº†ï¼Œï¼Œï¼Œ</a></p>
<span id="more"></span>
<h1 id="é¢˜æ„åˆ†æ"><a href="#é¢˜æ„åˆ†æ" class="headerlink" title="é¢˜æ„åˆ†æ"></a>é¢˜æ„åˆ†æ</h1><p>å¤§è‡´çš„é¢˜æ„å°±æ˜¯ç»™å‡ºnä¸ªæ‘åº„ä¹‹é—´çš„è·ç¦»ï¼Œï¼Œï¼Œç„¶åå†ç»™å‡ºå‡ ä¸ªæ‘åº„ä¹‹é—´å·²ç»å­˜åœ¨çš„è·¯å¾„ï¼Œï¼Œï¼Œç„¶åè®©ä½ å†æ·»åŠ å‡ æ¡è·¯å¾„ä½¿å¾—æ‰€æœ‰çš„è·¯å¾„çš„å’Œæœ€å°ï¼Œï¼Œï¼Œé—®ä½ æ·»åŠ çš„è¿™ä¸ªå€¼æ˜¯å¤šå°‘ï¼Œï¼Œï¼Œ</p>
<p>ä¹‹å‰åšçš„é‚£å‡ é“é¢˜éƒ½æ˜¯å›¾å·²ç»å¼„å¥½ï¼Œï¼Œï¼Œè·¯å¾„æ˜¯ç»™å®šçš„é—®ä½ æœ€å°çš„æƒé‡ä¹‹å’Œï¼Œï¼Œï¼Œè¿™é“é¢˜ç›¸å½“äºç»™ä½ éƒ¨åˆ†å›¾é—®ä½ æœ€å°çš„æƒé‡å’Œï¼Œï¼Œï¼Œ</p>
<p>å…¶å®åªè¦åœ¨åŠ è¾¹å»ºå›¾çš„æ—¶å€™æŠŠç»™çš„è¾¹çš„æƒé‡ç½®ä¸º0å½“ä½œè¿™æ¡è¾¹å¯ä»¥èµ°ï¼Œä½†æˆ‘ä»¬ä¸ç®—æƒé‡ï¼Œï¼Œè¿™æ ·è·‘ä¸€éæœ€å°ç”Ÿæˆæ ‘å°±èƒ½å¾—åˆ°ç­”æ¡ˆï¼Œï¼Œï¼Œ</p>
<h1 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h1><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">100</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><br><span class="hljs-keyword">int</span> mp[maxn][maxn];<br><span class="hljs-keyword">int</span> father[maxn];<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-keyword">int</span> n , m;<br><span class="hljs-keyword">int</span> tot;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> u , v , w;<br>    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span> &lt; (<span class="hljs-keyword">const</span> edge &amp;r) <span class="hljs-keyword">const</span><br>    &#123;<br>        <span class="hljs-keyword">return</span> w &lt; r.w;<br>    &#125;<br>&#125;edge[maxm];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> _u , <span class="hljs-keyword">int</span> _v , <span class="hljs-keyword">int</span> _w)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].u = _u;<br>    edge[tot].v = _v;<br>    edge[tot++].w = _w;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(x == father[x])  <span class="hljs-keyword">return</span> x;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> father[x] = find(father[x]);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">kruskal</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        father[i] = i;<br>    sort(edge , edge + tot);<br>    <span class="hljs-keyword">int</span> cnt = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> sum = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; tot; ++i)<br>    &#123;<br>        <span class="hljs-keyword">int</span> t1 = find(edge[i].u);<br>        <span class="hljs-keyword">int</span> t2 = find(edge[i].v);<br>        <span class="hljs-keyword">if</span>(t1 != t2)<br>        &#123;<br>            father[t1] = t2;<br>            sum += edge[i].w;<br>            ++cnt;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(cnt == n - <span class="hljs-number">1</span>)    <span class="hljs-keyword">break</span>;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(n &lt; n - <span class="hljs-number">1</span>)   <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>    <span class="hljs-keyword">else</span>            <span class="hljs-keyword">return</span> sum;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;n) != EOF)<br>    &#123;<br>        <span class="hljs-keyword">int</span> u , v , w;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; ++j)<br>            &#123;<br>                <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;w);<br>                addedge(i , j , w);<br>                addedge(j , i , w);<br>            &#125;<br><br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;m);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span> , &amp;u , &amp;v);<br>            addedge(u , v , <span class="hljs-number">0</span>);<br>            addedge(v , u , <span class="hljs-number">0</span>);<br>            <span class="hljs-comment">//æ— å‘å›¾è®°å¾—æ­£åéƒ½è¦åŠ è¾¹ï¼Œï¼Œï¼Œå°‘åŠ äº†ä¸€ä¸ªwaäº†ä¸€å‘ï¼Œï¼Œï¼Œï¼ŒQAQ</span><br>        &#125;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span> , kruskal());<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<p>(end)</p>
]]></content>
      <categories>
        <category>ACM-æœ€å°ç”Ÿæˆæ ‘</category>
      </categories>
      <tags>
        <tag>åˆ·é¢˜</tag>
        <tag>acm</tag>
      </tags>
  </entry>
  <entry>
    <title>poj-2528çº¿æ®µæ ‘ç»ƒä¹ </title>
    <url>/2018/10/13/poj-2528%E7%BA%BF%E6%AE%B5%E6%A0%91%E7%BB%83%E4%B9%A0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p><a href="http://poj.org/problem?id=2528">è¿™é“é¢˜å‘äº†æˆ‘å¥½ä¹…å•Šå•Šå•Šå•Šï¼Œï¼Œï¼Œï¼Œ</a></p>
<p>åˆ°ç°åœ¨ä¹Ÿåªæ˜¯ç†è§£äº†kaungbinçš„ä»£ç ï¼Œï¼Œï¼ŒçŸ¥é“æ¯ä¸€æ­¥åšä»€ä¹ˆï¼Œï¼Œï¼Œä½†æ„Ÿè§‰å°±æ˜¯å“ªé‡Œæœ‰äº›ä¸å¯¹åŠ²çš„æ ·å­ï¼Œï¼Œï¼Œï¼Œ</p>
<p>è¿™é“é¢˜æœ‰ä¸¤ä¸ªç‚¹æ˜¯æˆ‘æ„Ÿè§‰å¾ˆé‡è¦çš„ï¼Œï¼Œï¼Œä¸€ä¸ªæ˜¯æ•°æ®çš„ç¦»æ•£åŒ–ï¼Œï¼Œï¼Œå¦ä¸€ä¸ªæ˜¯çº¿æ®µæ ‘çš„å˜å½¢ï¼Œï¼Œï¼Œä¹Ÿå°±æ˜¯å®ƒæ‰€ç»´æŠ¤çš„ä¸œè¥¿å’Œä¹‹å‰è§è¿‡çš„ä¸ä¸€æ ·äº†ï¼Œï¼Œï¼Œï¼Œ</p>
<span id="more"></span>
<h1 id="åˆ†ææ€è·¯"><a href="#åˆ†ææ€è·¯" class="headerlink" title="åˆ†ææ€è·¯"></a>åˆ†ææ€è·¯</h1><p>é¢˜æ„æ˜¯è¿™æ ·çš„ï¼Œï¼Œï¼Œåœ¨ä¸€ä¸ªå¾ˆå¤§çš„åŒºé—´é‡Œï¼Œï¼Œï¼Œä¸åœçš„ç»™æ¯ä¸€ä¸ªåŒºé—´è¦†ç›–æµ·æŠ¥ï¼Œï¼Œï¼Œæ¯ä¸ªè¦†ç›–çš„æµ·æŠ¥æ˜¯ä¸ä¸€æ ·çš„ï¼Œï¼Œç„¶åé—®ä½ æœ€åä¸€å…±æœ‰å‡ ä¸ªæµ·æŠ¥æ˜¯éœ²å‡ºæ¥çš„ï¼Œï¼Œï¼Œ</p>
<p>å¤§ä½“ä¸Šçš„æ€è·¯æ˜¯ä¸æ‰€ç»™è´´æµ·æŠ¥ç›¸åçš„é¡ºåºè´´æµ·æŠ¥ï¼Œï¼Œï¼Œè¿™æ ·çš„è¯ç¬¬ä¸€å¼ ï¼ˆä¹Ÿå°±æ˜¯åŸæ¥é¡ºåºçš„æœ€åä¸€å¼ ï¼‰ä¸€å®šæ˜¯å…¨éœ²å‡ºæ¥çš„ï¼Œï¼Œç„¶åç¬¬äºŒå¼ ï¼ˆä¹Ÿå°±æ˜¯åŸæ¥é¡ºåºçš„å€’æ•°ç¬¬äºŒå¼ ï¼‰<strong>å¦‚æœæ˜¯åœ¨ç¬¬ä¸€å¼ çš„åŒºé—´é‡Œè¯´æ˜å®ƒå°±è¢«å®Œå…¨è¦†ç›–äº†ï¼Œï¼Œå¦‚æœæ˜¯åœ¨ç¬¬ä¸€å¼ ä»¥å¤–çš„å…¶ä»–åœ°æ–¹ï¼Œï¼Œï¼Œå°±è¯´æ˜è¿™å¼ ä¹Ÿä¸€å®šæ˜¯éœ²å‡ºæ¥çš„ï¼Œï¼Œï¼Œä»¥æ­¤ç±»æ¨</strong>ï¼Œï¼Œå¯¹äºæ¯ä¸€æ¬¡åˆ¤æ–­å‡ºæ˜¯éœ²å‡ºæ¥çš„++ansï¼Œï¼Œï¼Œæœ€ç»ˆå…¨å¤„ç†äº†å°±å¾—åˆ°äº†ç­”æ¡ˆï¼Œï¼Œï¼Œæ•°æ®è¦ç¦»æ•£åå†ç”¨ï¼Œï¼Œï¼Œ</p>
<p>å¯ä»¥çœ‹å‡ºè¿™æ ·çš„å†™æ³•ä¸­çº¿æ®µæ ‘åªæ˜¯ç”¨æ¥åˆ¤æ–­æ¯ä¸€æ¬¡çš„è´´æµ·æŠ¥ï¼Œï¼Œï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œï¼Œï¼Œçº¿æ®µæ ‘åªæ˜¯ç”¨æ¥ç»´æŠ¤æ¯ä¸€ä¸ªåŒºé—´æ˜¯å¦è¢«è¦†ç›–ï¼ˆæ›´æ–°ï¼‰ï¼Œï¼Œï¼ŒåŒæ—¶è¿”å›æ‰€è¦è¦†ç›–çš„åŒºé—´æ˜¯å¦æœ‰éœ²å‡ºæ¥çš„ï¼ˆæŸ¥è¯¢ï¼‰ï¼Œï¼Œï¼Œæ‰€ä»¥æ›´æ–°å’ŒæŸ¥è¯¢çš„æ“ä½œå¯ä»¥åˆå¹¶åœ¨ä¸€èµ·ï¼Œï¼Œï¼Œï¼Œ</p>
<h1 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h1><h2 id="æ•°æ®çš„ç¦»æ•£åŒ–"><a href="#æ•°æ®çš„ç¦»æ•£åŒ–" class="headerlink" title="æ•°æ®çš„ç¦»æ•£åŒ–"></a>æ•°æ®çš„ç¦»æ•£åŒ–</h2><p>å…ˆè¯´ä¸€ä¸‹ç¦»æ•£æ€ä¹ˆå®ç°:</p>
<p>é¦–å…ˆåŸæ•°æ®ä¿å­˜åˆ°x[maxn]æ•°ç»„ï¼Œï¼Œï¼Œ</p>
<p>ç„¶åæŠŠæ‰€æœ‰çš„æ•°æ®å¤åˆ¶åˆ°å¦ä¸€ä¸ªæ•°ç»„a[maxn]ï¼Œï¼Œï¼Œ</p>
<p>å¯¹å…¶æ’åºï¼Œï¼Œï¼Œ</p>
<p>å»é‡ï¼Œï¼Œï¼Œ</p>
<p>ç„¶åå¯¹å»é‡çš„æ•°ç»„a[maxn]éå†è¿›è¡Œç¦»æ•£ï¼Œï¼Œï¼Œ</p>
<p>è¿™æ ·æƒ³è¦çŸ¥é“çŸ¥é“åŸæ¥æ•°æ®ä¸­xæ‰€å¯¹åº”ç¦»æ•£åçš„ä½ç½®å°±ä¸ºhash[x]ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp">sort(a , a + count);<br>count = unique(a , a + count) - a;<br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; count; ++i)<br>    hash[a[i]] = i;<br></code></pre></td></tr></table></figure>
<h2 id="æœ€åçš„ä»£ç "><a href="#æœ€åçš„ä»£ç " class="headerlink" title="æœ€åçš„ä»£ç "></a>æœ€åçš„ä»£ç </h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> lson rt&lt;&lt;1,l,mid</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> rson rt&lt;&lt;1|1,mid+1,r</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> l;<br>    <span class="hljs-keyword">int</span> r;<br>    <span class="hljs-keyword">bool</span> cov;       <span class="hljs-comment">//è¡¨ç¤ºè¿™ä¸ªèŠ‚ç‚¹æ‰€ä»£è¡¨çš„åŒºé—´æ˜¯å¦è¢«è¦†ç›–</span><br>&#125;node[maxn &lt;&lt; <span class="hljs-number">2</span>];<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">poster</span>       //è¡¨ç¤ºæµ·æŠ¥çš„ç»“æ„ä½“</span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> l;<br>    <span class="hljs-keyword">int</span> r;<br>&#125;poster[maxn &lt;&lt; <span class="hljs-number">2</span>];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">build</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt , <span class="hljs-keyword">int</span> l , <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    node[rt].l = l;<br>    node[rt].r = r;<br>    node[rt].cov = <span class="hljs-literal">false</span>;   <span class="hljs-comment">//æ¯ä¸€ä¸ªåŒºé—´åˆå§‹åŒ–ä¸ºæœªè¦†ç›–</span><br>    <span class="hljs-keyword">if</span>(l == r)  <span class="hljs-keyword">return</span>;<br>    <span class="hljs-keyword">int</span> mid = (l + r) &gt;&gt; <span class="hljs-number">1</span>;<br>    build(lson);<br>    build(rson);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">post</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt , <span class="hljs-keyword">int</span> l , <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//å½“å‰èŠ‚ç‚¹ï¼Œæ‰€è¦è¦†ç›–çš„é¢åŒºé—´[l , r]</span><br>    <span class="hljs-keyword">if</span>(node[rt].cov)    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;                   <span class="hljs-comment">//è‹¥è¿™ä¸ªåŒºé—´å·²ç»è¢«è¦†ç›–ç›´æ¥è¿”å›</span><br>    <span class="hljs-keyword">if</span>(node[rt].l == l &amp;&amp; node[rt].r == r)<br>    &#123;<br>        node[rt].cov = <span class="hljs-literal">true</span>;                            <span class="hljs-comment">//æœªè¦†ç›–çš„å‰æä¸‹æ‰¾åˆ°æ•´ä¸ªåŒºé—´æ—¶</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>    <span class="hljs-keyword">bool</span> res;<br>    <span class="hljs-keyword">int</span> mid = (node[rt].l + node[rt].r) &gt;&gt; <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">if</span>(r &lt;= mid)    res = post(rt &lt;&lt; <span class="hljs-number">1</span> , l , r);<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(l &gt; mid)res = post(rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span> , l , r);<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        <span class="hljs-keyword">bool</span> r1 = post(rt &lt;&lt; <span class="hljs-number">1</span> , l , mid);<br>        <span class="hljs-keyword">bool</span> r2 = post(rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span> , mid + <span class="hljs-number">1</span> , r);<br>        res = r1 || r2;                                 <span class="hljs-comment">//å½“è·¨ä¸¤ä¸ªåŒºé—´æ—¶ï¼Œï¼Œï¼Œè¦åˆ†åˆ«åˆ¤æ–­æ˜¯å¦éƒ½æ˜¯è¢«è¦†ç›–çš„ï¼Œï¼Œæœ‰ä¸€ä¸ªæ²¡è¦†ç›–å³éœ²å‡ºå°±è¯´æ˜è¿™ä¸ªåŒºé—´æœ‰éœ²å‡ºçš„</span><br>    &#125;<br><br>    <span class="hljs-keyword">if</span>(node[rt &lt;&lt; <span class="hljs-number">1</span>].cov &amp;&amp; node[rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>].cov)      <span class="hljs-comment">//ä¸¤ä¸ªå­åŒºé—´éƒ½éœ²å‡ºçˆ¶èŠ‚ç‚¹ä¹Ÿæ˜¯éœ²å‡º</span><br>        node[rt].cov = <span class="hljs-literal">true</span>;<br><br>    <span class="hljs-keyword">return</span> res;<br>&#125;<br><br><span class="hljs-keyword">int</span> a[maxn];<br><span class="hljs-keyword">int</span> hash[<span class="hljs-number">10000010</span>];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> T;<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;T);<br>    <span class="hljs-keyword">while</span>(T--)<br>    &#123;<br>        <span class="hljs-keyword">int</span> n;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;n);<br>        <span class="hljs-keyword">int</span> count = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span> , &amp;poster[i].l , &amp;poster[i].r);<br>            a[count++] = poster[i].l;<br>            a[count++] = poster[i].r;<br>            <span class="hljs-comment">//ç›¸é‚»å­˜ç‚¹</span><br>        &#125;<br>        <span class="hljs-comment">//ç¦»æ•£</span><br>        sort(a , a + count);<br>        count = unique(a , a + count) - a;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; count; ++i)<br>            hash[a[i]] = i;<br><br>        build(<span class="hljs-number">1</span> , <span class="hljs-number">0</span> , count - <span class="hljs-number">1</span>);<br><br>        <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = n - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; --i)             <span class="hljs-comment">//åç€éå†ï¼Œï¼Œæœ‰éœ²å‡ºçš„å°±å¢ä¸€</span><br>            <span class="hljs-keyword">if</span>(post(<span class="hljs-number">1</span> , hash[poster[i].l] , hash[poster[i].r]))<br>                ++ans;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span> , ans);<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">//ä¸€ä¸ªç¼ºç‚¹ï¼Œï¼Œï¼Œè¿™æ ·å•çº¯çš„ç¦»æ•£æ•°æ®ä¼šå‡ºé”™ï¼Œï¼Œï¼Œåƒè¿™ä¸€ç»„ï¼Œï¼Œï¼Œ</span><br><span class="hljs-comment">//ä½†æ˜¯pojä¸Šæ²¡æœ‰è€ƒè™‘è¿™ç§æƒ…å†µï¼Œï¼Œï¼Œï¼Œåº”è¯¥æ˜¯æ ‡ç¨‹çš„ç¦»æ•£ä¹Ÿæ˜¯è¿™æ ·æŠŠï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œ</span><br><span class="hljs-comment">//3</span><br><span class="hljs-comment">//1 10</span><br><span class="hljs-comment">//1 3</span><br><span class="hljs-comment">//6 10</span><br><span class="hljs-comment">//2</span><br><span class="hljs-comment">//åº”è¯¥æ˜¯3</span><br></code></pre></td></tr></table></figure>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><ul>
<li><p>æš‘å‡æ—¶æ¥è§¦è¿‡ä¸€æ¬¡æ•°æ®çš„ç¦»æ•£åŒ–ï¼Œï¼Œï¼Œä½†æ˜¯å½“æ—¶åªæ˜¯ä¼šç”¨å°±è¡Œï¼Œï¼Œï¼Œæœ€ç»ˆè¿˜æ˜¯å¿˜è®°äº†ï¼Œï¼Œï¼ŒåªçŸ¥é“è¿™æ ·ä¸€ä¸ªåè¯ï¼Œï¼Œï¼Œè¿™æ¬¡èŠ±äº†ç‚¹æ—¶é—´è®°å¿†äº†ä¸€ä¸‹ï¼Œï¼Œï¼Œä½†æ˜¯è¿˜æ˜¯æ²¡æœ‰ä»”ç»†æ·±å…¥çš„çœ‹çœ‹ï¼Œï¼Œï¼Œå› ä¸ºä»¥å‰çœ‹åˆ°çš„ç¦»æ•£åŒ–æ—¶ç”¨çš„lower_bound()ï¼Œï¼Œï¼Œï¼Œè€Œä¸”æ“ä½œæ›´åŠ çš„å¤æ‚ï¼Œï¼Œï¼Œè¿‡ä¸€æ®µæ—¶é—´å†çœ‹çœ‹æŠŠï¼Œï¼Œï¼Œï¼Œ</p>
</li>
<li><p>çœ‹åˆ°ç½‘ä¸Šå¥½å¤šäººç”¨çš„çº¿æ®µæ ‘çš„ç»“æ„å’Œä¹‹å‰å†™çš„é‚£æ ·ä¸€æ ·ï¼Œï¼Œï¼Œbuild(),update(),query()ï¼Œï¼Œï¼Œä½†å°±æ˜¯ç†è§£ä¸äº†ï¼Œï¼Œï¼ŒQAQï¼Œï¼Œï¼Œçœ‹äº†kuangbinçš„å†™æ³•ååˆ°ç†è§£äº†ï¼Œï¼Œï¼Œè™½ç„¶åŸºæœ¬æ˜¯ç…§æ¬è¿‡æ¥çš„ï¼Œï¼Œï¼Œï¼Œå†è¿‡å‡ å¤©è¦é‡å†™ä¸€éï¼Œï¼Œï¼Œ</p>
</li>
</ul>
<p>(end)</p>
]]></content>
      <categories>
        <category>ACM-çº¿æ®µæ ‘</category>
      </categories>
      <tags>
        <tag>åˆ·é¢˜</tag>
        <tag>acm</tag>
      </tags>
  </entry>
  <entry>
    <title>poj-2777çº¿æ®µæ ‘åˆ·é¢˜</title>
    <url>/2018/10/16/poj-2777%E7%BA%BF%E6%AE%B5%E6%A0%91%E5%88%B7%E9%A2%98/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p><a href="http://poj.org/problem?id=2777">è¿™é“é¢˜æ˜¯ä¸€é“çº¿æ®µæ ‘çš„æŸ“è‰²é—®é¢˜,,,,</a></p>
<p>åšäº†å‡ é“æŸ“è‰²çš„é—®é¢˜ï¼Œï¼Œå¥½åƒæ¸æ¸çš„ç†Ÿæ‚‰çš„æŸ“è‰²é—®é¢˜çš„å¤§æ¦‚çš„è§£ä½“æ€è·¯ï¼Œï¼Œï¼Œä¸å†åƒåˆšå¼€å§‹åšçš„æ—¶å€™é‚£æ ·ä¸€è„¸æ‡µé€¼ï¼Œï¼Œï¼Œåªèƒ½å»ç¿»åšå®¢å»çœ‹åˆ«äººçš„æ€è·¯ï¼Œï¼Œï¼Œå¥½æ­¹è¿™æ¬¡æ²¡æœ‰çœ‹åˆ«äººåšå®¢è‡ªå·±å†™å‡ºæ¥ï¼Œï¼Œï¼Œï¼ˆé™¤äº†ä¸€äº›ç»†èŠ‚æ²¡è€ƒè™‘åˆ°waçš„ä¸€å‘ï¼Œï¼Œï¼Œï¼Œé€ƒ</p>
<span id="more"></span>
<h1 id="åˆ†æä¸æ€è·¯"><a href="#åˆ†æä¸æ€è·¯" class="headerlink" title="åˆ†æä¸æ€è·¯"></a>åˆ†æä¸æ€è·¯</h1><h2 id="é¢˜é¢"><a href="#é¢˜é¢" class="headerlink" title="é¢˜é¢"></a>é¢˜é¢</h2><p>å¤§æ¦‚çš„æ„æ€å°±æ˜¯ç»™ä¸€ä¸ªåŒºé—´1~nï¼Œï¼Œï¼Œç„¶åæœ€å¤šæœ‰30ç§é¢œè‰²ï¼Œï¼Œï¼Œqæ¬¡æ“ä½œå¯¹[l,r]è¿™ä¸ªåŒºé—´æŸ“è‰²ï¼Œï¼Œï¼Œä¸­é—´æœ‰ä¸€äº›è¯¢é—®åŒºé—´[l , r]å†…ä¸€å…±æœ‰å‡ ç§é¢œè‰²ï¼Œï¼Œï¼Œ</p>
<h2 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><ul>
<li><p>é¦–å…ˆè€ƒè™‘çº¿æ®µæ ‘æ‰€ç»´æŠ¤çš„ä¸œè¥¿ï¼Œï¼Œï¼ŒæŸ“è‰²é—®é¢˜å¤§å¤šæ˜¯ç»´æŠ¤æ¯ä¸ªåŒºé—´çš„é¢œè‰²ï¼Œï¼Œï¼Œå¯¹äºè¿™é“é¢˜å°±æ˜¯ç»´æŠ¤è¯¥åŒºé—´çš„é¢œè‰²çš„ç§ç±»ï¼Œï¼Œï¼Œç„¶åå¯¹äºæ¯ä¸¤ä¸ªå­åŒºé—´éƒ½è¦å‘ä¸Šåˆå¹¶é¢œè‰²çš„ç§ç±»ï¼Œï¼Œï¼Œï¼Œç›¸åŒçš„å¿½ç•¥ä¸€è¾¹çš„ä¸åŒçš„å°±åŠ ä¸€ï¼Œï¼Œï¼Œæ±‚å‡ºçˆ¶åŒºé—´çš„ç§ç±»æ•°ï¼Œï¼Œï¼Œï¼Œä¹Ÿå°±æ˜¯æ›´æ–°æ“ä½œï¼Œï¼Œï¼Œè¯¢é—®å‘¢å°±æ˜¯å†è¯¢é—®çš„åŒºé—´[L , R]é‡Œçš„è¯ç›´æ¥è¿”æ²ªè¿™ä¸ªåŒºé—´çš„ç§ç±»æ•°ï¼Œï¼Œï¼Œè·¨åŒºé—´çš„é€’å½’ç»§ç»­å‘ä¸‹æŸ¥æ‰¾ï¼Œï¼Œï¼Œ</p>
</li>
<li><p>ç„¶åè€ƒè™‘é¢œè‰²ï¼Œï¼Œï¼Œæœ€å¤šä¸€å…±æœ‰30ç§ï¼Œï¼Œï¼Œå¦‚æœæ¯ä¸ªåŒºé—´éƒ½ç”¨ä¸€ä¸ª30é•¿çš„æ•°ç»„col[30]å»å­˜æ”¾æ¯ç§é¢œè‰²çš„ç§ç±»ï¼Œï¼Œcol[i] == 1è¡¨ç¤ºè¿™ä¸ªåŒºé—´æœ‰ç¬¬iç§é¢œè‰²åä¹‹æ²¡æœ‰çš„è¯ï¼Œï¼Œï¼Œç©ºé—´æ¶ˆè€—è¾ƒå¤§ï¼Œï¼Œï¼Œè€Œä¸”ç›¸å…³çš„æ“ä½œä¹Ÿä¸å¥½è¡¨è¾¾ï¼Œï¼Œï¼Œå› ä¸ºæ¯ä¸ªåŒºé—´çš„æ¯ç§é¢œè‰²åªæœ‰ä¸¤ç§æƒ…å†µï¼Œï¼Œï¼Œæœ‰æˆ–æ²¡æœ‰ï¼Œï¼Œï¼Œæ‰€ä»¥é€‰æ‹©çŠ¶æ€å‹ç¼©æ¥å®ç°æ¯”è¾ƒå¥½ï¼Œï¼Œï¼Œè¿™é‡Œæˆ‘æƒ³åˆ°å‰æ®µæ—¶é—´çœ‹åˆ°çš„ä¸€ä¸ªå¾ˆå¥½çš„çŠ¶å‹stlâ€”bitsetï¼Œï¼Œï¼Œä¼˜ç‚¹æœ‰å¾ˆå¤šï¼Œï¼Œï¼Œæ¯”å¦‚è¯´ï¼šä»–å°±åƒboolæ•°ç»„ä¸€æ ·ä½†æ˜¯æ¯ä¸€ä½åªå 1bitï¼Œï¼Œï¼Œè€Œä¸”æœ‰å¾ˆå¤šæˆå‘˜å‡½æ•°å¾ˆæ–¹ä¾¿ï¼Œï¼Œï¼Œå…·ä½“çš„é£Ÿç”¨æ–¹æ³•<a href="https://www.cnblogs.com/RabbitHu/p/bitset.html">æˆ³è¿™é‡Œ</a></p>
</li>
<li><p>å¦ä¸€ä¸ªéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œï¼Œï¼Œçº¿æ®µæ ‘è¦é€‰æ‹©lazyçš„ï¼Œï¼Œï¼Œè¿˜æœ‰ä¸€äº›ç»†èŠ‚ï¼š</p>
<blockquote>
<p>åŒºé—´çš„åˆå¹¶éœ€è¦<strong>æˆ–</strong>æ“ä½œï¼Œï¼Œï¼ŒåŒ…æ‹¬æ›´æ–°å’Œè¯¢é—®<br>åˆå§‹æ—¶æ‰€æœ‰åŒºé—´éƒ½ä¸º1<br>å½“æ•´ä¸ªåŒºé—´éƒ½æŸ“è‰²æ—¶æ˜¯å°†è¯¥åŒºé—´çš„node[rt].col<strong>æ”¹</strong>ä¸ºc,,,è€Œä¸æ˜¯æˆ–<br>è¿˜æœ‰ä¸€ä¸ªæœ€å‘äººçš„ï¼Œï¼Œï¼Œï¼Œé¢˜ç›®ä¸ä¿è¯l &lt;= rï¼Œï¼Œï¼Œï¼ˆpojä¸Šçš„é¢˜éƒ½è¿™æ ·çš„å—ï¼Œï¼Œå™—å™—å™—å™—</p>
</blockquote>
</li>
</ul>
<h1 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h1><p>è¿™æ¬¡åˆå†™æˆnodeç»“æ„ä½“å®ç°çš„äº†ï¼Œï¼Œï¼Œè¿˜æ˜¯å› ä¸ºè¿™ä¸ªç†è§£èµ·æ¥å¾ˆå®¹æ˜“ï¼Œï¼Œï¼Œï¼Œ</p>
<p>ä½†æ˜¯ç¼ºç‚¹æ˜¯å ç”¨çš„ç©ºé—´æ¯”è¾ƒå¤§ï¼Œï¼Œï¼Œï¼Œ</p>
<p>ä¸‹æ¬¡å†å†™è¿™é“é¢˜çš„æ—¶å€™è¦æ¢ç”¨å¦ä¸€ç§è£¸çš„äº†QAQ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bitset&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> lson rt&lt;&lt;1,l,mid</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> rson rt&lt;&lt;1|1,mid+1,r</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout &lt;&lt; node[rt].col &lt;&lt; endl;</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> l;<br>    <span class="hljs-keyword">int</span> r;<br>    <span class="hljs-keyword">int</span> laz;<br>    <span class="hljs-built_in">bitset</span>&lt;30&gt; col;         <span class="hljs-comment">//bitset,,è¡¨ç¤ºè¯¥åŒºé—´çš„é¢œè‰²çš„ç§ç±»</span><br>&#125;node[maxn &lt;&lt; <span class="hljs-number">2</span>];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">build</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt , <span class="hljs-keyword">int</span> l , <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    node[rt].l = l;<br>    node[rt].r = r;<br>    node[rt].laz = <span class="hljs-number">0</span>;<br>    node[rt].col = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">if</span>(node[rt].l == node[rt].r)<br>    &#123;<br>        node[rt].col = <span class="hljs-number">1</span>;   <span class="hljs-comment">//åˆå§‹åŒ–ä¸º1</span><br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-keyword">int</span> mid = (node[rt].l + node[rt].r) &gt;&gt; <span class="hljs-number">1</span>;<br>    build(lson);<br>    build(rson);<br>    node[rt].col = node[rt &lt;&lt; <span class="hljs-number">1</span>].col | node[rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>].col; <span class="hljs-comment">//è®°å¾—æ›´æ–°ï¼Œï¼Œç”¨æˆ–</span><br>    <span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">pushdown</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(node[rt].laz)<br>    &#123;<br>        <span class="hljs-built_in">bitset</span>&lt;30&gt; t;<br>        t.<span class="hljs-built_in">set</span>(node[rt].laz - <span class="hljs-number">1</span>);    <span class="hljs-comment">//æ ‡è®°ä¸ºlazé‚£ä¸€ä¸ªé¢œè‰²</span><br>        node[rt &lt;&lt; <span class="hljs-number">1</span>].col = t;      <span class="hljs-comment">//ä¸æ˜¯æˆ–æ“ä½œ</span><br>        node[rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>].col = t;<br><br>        node[rt &lt;&lt; <span class="hljs-number">1</span>].laz = node[rt].laz;<br>        node[rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>].laz = node[rt].laz;<br><br>        node[rt].laz = <span class="hljs-number">0</span>;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">update</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt , <span class="hljs-keyword">int</span> L , <span class="hljs-keyword">int</span> R , <span class="hljs-keyword">int</span> c)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(L &lt;= node[rt].l &amp;&amp; node[rt].r &lt;= R)<br>    &#123;<br>        <span class="hljs-built_in">bitset</span>&lt;30&gt; t;<br>        t.<span class="hljs-built_in">set</span>(c - <span class="hljs-number">1</span>);<br>        node[rt].col = t;       <span class="hljs-comment">//åŒä¸Š</span><br>        node[rt].laz = c;<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    pushdown(rt);<br>    <span class="hljs-keyword">int</span> mid = (node[rt].l + node[rt].r) &gt;&gt; <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">if</span>(L &lt;= mid)    update(rt &lt;&lt; <span class="hljs-number">1</span> , L , R , c);<br>    <span class="hljs-keyword">if</span>(R &gt;  mid)    update(rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span> , L , R , c);<br>    node[rt].col = node[rt &lt;&lt; <span class="hljs-number">1</span>].col | node[rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>].col;<br>    <span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-built_in">bitset</span>&lt;30&gt; <span class="hljs-title">query</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt , <span class="hljs-keyword">int</span> L , <span class="hljs-keyword">int</span> R)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//å¯¹æ¯ä¸¤ä¸ªå­åŒºé—´åˆå¹¶ï¼Œï¼Œï¼ŒåŒæ ·æ˜¯æˆ–æ“ä½œï¼Œï¼Œï¼Œæ‰€ä»¥å‡½æ•°è¿”å›å€¼ç±»å‹ä¸ºbitset&lt;30&gt;</span><br>    <span class="hljs-comment">//æœ€åçš„ç­”æ¡ˆä¸º è¿”å›å€¼.count()</span><br>    <span class="hljs-keyword">if</span>(L &lt;= node[rt].l &amp;&amp; node[rt].r &lt;= R)<br>    &#123;<br>        <span class="hljs-keyword">return</span> node[rt].col;<br>    &#125;<br>    pushdown(rt);<br>    <span class="hljs-keyword">int</span> mid = (node[rt].l + node[rt].r) &gt;&gt; <span class="hljs-number">1</span>;<br><br>    <span class="hljs-function"><span class="hljs-built_in">bitset</span>&lt;30&gt; <span class="hljs-title">ans</span> <span class="hljs-params">(<span class="hljs-number">0</span>)</span></span>;<br>    <span class="hljs-keyword">if</span>(L &lt;= mid)    ans |= query(rt &lt;&lt; <span class="hljs-number">1</span> , L , R);      <span class="hljs-comment">//ç”¨æˆ–åˆå¹¶</span><br>    <span class="hljs-keyword">if</span>(R &gt;  mid)    ans |= query(rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span> , L , R);<br>    <span class="hljs-comment">//cout &lt;&lt; ans &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> ans;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> n , t , m;<br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span> , &amp;n , &amp;t , &amp;m) != EOF)<br>    &#123;<br>        build(<span class="hljs-number">1</span> , <span class="hljs-number">1</span> , n);<br>        <span class="hljs-keyword">while</span>(m--)<br>        &#123;<br>            <span class="hljs-keyword">char</span> q;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot; %c&quot;</span> , &amp;q);<br>            <span class="hljs-keyword">if</span>(q == <span class="hljs-string">&#x27;C&#x27;</span>)<br>            &#123;<br>                <span class="hljs-keyword">int</span> l , r , c;<br>                <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>, &amp;l , &amp;r , &amp;c);<br>                <span class="hljs-keyword">if</span>(l &gt; r)   swap(l , r);        <span class="hljs-comment">//å·¨å‘ï¼ï¼ï¼ï¼</span><br>                update(<span class="hljs-number">1</span> , l , r , c);<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                <span class="hljs-keyword">int</span> l , r;<br>                <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span> , &amp;l , &amp;r);<br>                <span class="hljs-keyword">if</span>(l &gt; r)   swap(l , r);<br>                <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span> , query(<span class="hljs-number">1</span> , l , r).count());<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="æ„Ÿæƒ³"><a href="#æ„Ÿæƒ³" class="headerlink" title="æ„Ÿæƒ³"></a>æ„Ÿæƒ³</h1><p>ç®—äº†ä¸è¯´äº†QAQ</p>
<p>(end)</p>
]]></content>
      <categories>
        <category>ACM-çº¿æ®µæ ‘</category>
      </categories>
      <tags>
        <tag>åˆ·é¢˜</tag>
        <tag>acm</tag>
      </tags>
  </entry>
  <entry>
    <title>zoj-1610çº¿æ®µæ ‘åˆ·é¢˜</title>
    <url>/2018/10/16/zoj-1610%E7%BA%BF%E6%AE%B5%E6%A0%91%E5%88%B7%E9%A2%98/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p><a href="https://vjudge.net/contest/259382#problem/F">è¿™é“é¢˜æ˜¯ä¸€é“ç®€å•çš„çº¿æ®µæ ‘åŒºé—´æŸ“è‰²é—®é¢˜ï¼Œï¼Œï¼Œ</a></p>
<p>ä½†æ˜¯ï¼Œï¼Œï¼Œï¼Œåˆšå­¦lazyæ›´æ–°æ²¡å¤šä¹…çš„æˆ‘çœ‹åˆ°è¿™æ ·çš„é¢˜å¿ƒé‡Œè¿˜æ˜¯å‘æ€µï¼Œï¼Œï¼Œ</p>
<p>æœ¬æ¥æ˜¯ä¸€é“ç®€å•çš„é¢˜ä¸€å¼€å§‹å°±æ˜¯ä¸çŸ¥é“æ€ä¹ˆç”¨çº¿æ®µæ ‘ç»´æŠ¤æŸ“è‰²çš„åŒºé—´ï¼Œï¼Œï¼Œè¿˜æœ‰ä¸€ä¸ªè€æ¯›ç—…ï¼Œï¼Œï¼Œè¿˜æ˜¯ä¸çŸ¥é“æ€ä¹ˆæŠŠé¢˜ç›®é‡Œçš„ä¿¡æ¯æŠ½è±¡å‡ºæ¥ï¼Œï¼Œï¼Œ</p>
<p>æ˜ç¡®çº¿æ®µæ ‘æ‰€è¦ç»´æŠ¤çš„ä¿¡æ¯ä»¥åŠå¦‚ä½•å¯¹è¿™äº›ä¿¡æ¯å¦‚ä½•æ›´æ–°å’ŒæŸ¥è¯¢ï¼Œï¼Œï¼Œ</p>
<span id="more"></span>
<h1 id="æ€è·¯åˆ†æ"><a href="#æ€è·¯åˆ†æ" class="headerlink" title="æ€è·¯åˆ†æ"></a>æ€è·¯åˆ†æ</h1><ul>
<li><p>è¿™é“é¢˜å’Œå‰å‡ å¤©åšçš„é‚£é“è´´æµ·æŠ¥çš„é¢˜å¾ˆåƒï¼Œï¼Œï¼Œéƒ½æ˜¯åœ¨ä¸€ä¸ªå¾ˆå¤§çš„åŒºé—´é‡Œè¿›è¡Œè¿ç»­çš„<strong>åŒºé—´è¦†ç›–</strong>æ“ä½œï¼Œï¼Œï¼Œ</p>
</li>
<li><p>ç„¶åé—®ä½ æœ€åéœ²å‡ºæ¥çš„é¢œè‰²ã€æµ·æŠ¥æœ‰å‡ ç§ï¼Œï¼Œï¼Œåªä¸è¿‡è¿™é“é¢˜æ˜¯è¦åˆ—å‡ºæ¯ç§é¢œè‰²å‡ºç°äº†å‡ ä¸ªåŒºé—´ï¼Œï¼Œï¼Œ</p>
</li>
<li><p>é¦–å…ˆï¼Œï¼Œï¼Œè¿™é“é¢˜æŸ“è‰²æ˜¯åŒºé—´ä¹‹é—´çš„æŸ“è‰²ï¼Œï¼Œï¼Œå°±æ˜¯è¯´â€1 2 1â€æ˜¯æŒ‡åœ¨1 ï¼Œ 2è¿™ä¸ªé•¿åº¦åªæœ‰1çš„åŒºé—´é‡ŒæŸ“è‰²æˆé¢œè‰²1ï¼Œï¼Œï¼Œè€Œé‚£é“æµ·æŠ¥çš„é¢˜æ˜¯æŒ‡1 ï¼Œ 2è¿™ä¸¤ä¸ªå—è´´ä¸Šæµ·æŠ¥ï¼Œï¼Œï¼Œï¼Œè¿™å°±æ„å‘³ç€æˆ‘ä»¬ç”¨çº¿æ®µæ ‘æ¥ç»´æŠ¤æŸ“è‰²æ“ä½œæ—¶è¦å°†æ‰€ç»™çš„å·¦ç«¯ç‚¹åŠ ä¸€ï¼Œï¼Œ</p>
</li>
<li><p>å…¨éƒ¨æŸ“è‰²å®Œäº†(æ›´æ–°)ä¹‹åï¼Œï¼Œï¼Œå°±æ˜¯å¯¹æ•´ä¸ªåŒºåŸŸæŸ¥è¯¢ï¼Œï¼Œï¼Œç„¶åæŠŠæœ‰é¢œè‰²è¦†ç›–çš„åŒºåŸŸéƒ½ä¿å­˜åˆ°å¦ä¸€ä¸ªæ•°ç»„é‡Œï¼Œï¼Œï¼Œä¹Ÿå°±æ˜¯æœ€åæŸ“è‰²åçš„åŒºåŸŸï¼Œï¼Œï¼Œç„¶åéå†è¿™ä¸ªåŒºåŸŸï¼Œï¼Œï¼Œæ•°å‡ºå¯¹åº”çš„é¢œè‰²çš„ä¸ªæ•°å°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
</li>
<li><p>æ›´æ–°æ—¶ç”¨åˆ°äº†lazyæ“ä½œ</p>
</li>
</ul>
<p><a href="https://blog.csdn.net/shuangde800/article/details/8186332">å‚è€ƒ</a></p>
<h1 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h1><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> lson rt&lt;&lt;1,l,mid</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> rson rt&lt;&lt;1|1,mid+1,r</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;<span class="hljs-meta-string">&quot;2333&quot;</span>&lt;&lt;endl;</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">8005</span>;<br><br><span class="hljs-keyword">int</span> col[maxn &lt;&lt; <span class="hljs-number">2</span>];<br><span class="hljs-keyword">int</span> vis[maxn &lt;&lt; <span class="hljs-number">2</span>];<br><span class="hljs-keyword">int</span> ans[maxn &lt;&lt; <span class="hljs-number">2</span>];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">pushdown</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(~col[rt])<br>    &#123;<br>        col[rt &lt;&lt; <span class="hljs-number">1</span>] = col[rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>] = col[rt];<br>        col[rt] = <span class="hljs-number">-1</span>;<span class="hljs-comment">//çˆ¶èŠ‚ç‚¹æœ‰å¤šç§æŸ“è‰²æ ‡è®°ä¸º-1</span><br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">update</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt , <span class="hljs-keyword">int</span> l , <span class="hljs-keyword">int</span> r , <span class="hljs-keyword">int</span> L , <span class="hljs-keyword">int</span> R , <span class="hljs-keyword">int</span> val)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(L &lt;= l &amp;&amp; r &lt;= R)<br>    &#123;<br>        <span class="hljs-comment">//å½“è¯¥åŒºé—´åœ¨æ‰€è¦æŸ“è‰²çš„åŒºé—´é‡Œæ—¶æŸ“è‰²</span><br>        col[rt] = val;<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(col[rt] == val)  <span class="hljs-keyword">return</span>;<br>    <span class="hljs-keyword">int</span> mid = (l + r) &gt;&gt; <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">if</span>(~col[rt])        <span class="hljs-comment">//æŸ“è¿‡è‰²åˆè¦æŸ“å…¶ä»–é¢œè‰²æ—¶ä¸‹æ¨</span><br>        pushdown(rt);<br>    <span class="hljs-keyword">if</span>(L &lt;= mid)    update(lson , L , R , val);<br>    <span class="hljs-keyword">if</span>(R &gt;  mid)    update(rson , L , R , val);<br>    <span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">query</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt , <span class="hljs-keyword">int</span> l , <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(col[rt] &gt;= <span class="hljs-number">0</span>)<br>    &#123;<br>        <span class="hljs-comment">//æŠŠå­˜åœ¨çš„é¢œè‰²ä¿å­˜åˆ°visæ•°ç»„é‡Œ</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = l; i &lt;= r; ++i)<br>            vis[i] = col[rt];<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(col[rt] == <span class="hljs-number">-1</span> &amp;&amp; l != r)<br>    &#123;<br>        <span class="hljs-comment">//å·²ç»ä¿å­˜çš„åŒºé—´å°±ä¸å†æŸ¥è¯¢äº†</span><br>        <span class="hljs-keyword">int</span> mid = (l + r) &gt;&gt; <span class="hljs-number">1</span>;<br>        query(lson);<br>        query(rson);<br>    &#125;<br>    <span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> n;<br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;n) != EOF)<br>    &#123;<br>        <span class="hljs-comment">//åˆå§‹åŒ–æ“ä½œï¼Œï¼Œï¼Œæ— éœ€å†å»ºæ ‘</span><br>        <span class="hljs-built_in">memset</span>(col , <span class="hljs-number">-1</span> , <span class="hljs-keyword">sizeof</span>(col));<br>        <span class="hljs-built_in">memset</span>(vis , <span class="hljs-number">-1</span> , <span class="hljs-keyword">sizeof</span>(vis));<br>        <span class="hljs-built_in">memset</span>(ans , <span class="hljs-number">0</span> , <span class="hljs-keyword">sizeof</span>(ans));<br>        <span class="hljs-keyword">int</span> a , b , c;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span> , &amp;a , &amp;b , &amp;c);<br>            update(<span class="hljs-number">1</span> , <span class="hljs-number">1</span> , <span class="hljs-number">8000</span> , a + <span class="hljs-number">1</span> , b , c);<span class="hljs-comment">//å·¦ç«¯ç‚¹++</span><br>        &#125;<br><br>        query(<span class="hljs-number">1</span> , <span class="hljs-number">1</span> , <span class="hljs-number">8000</span>);<br><br>        <span class="hljs-comment">//æ•°å‡ºæ¯ä¸ªé¢œè‰²çš„ä¸ªæ•°</span><br>        <span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">while</span>(i &lt; maxn)<br>        &#123;<br>            <span class="hljs-keyword">int</span> color = vis[i];<br>            <span class="hljs-keyword">int</span> j = i + <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">if</span>(color == <span class="hljs-number">-1</span>)<br>            &#123;<br>                ++i;<br>                <span class="hljs-keyword">continue</span>;<br>            &#125;<br>            <span class="hljs-keyword">while</span>(~vis[j] &amp;&amp; vis[j] == color &amp;&amp; j &lt; maxn)   ++j;<br>            ++ans[color];<br>            i = j;<br>        &#125;<br><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; maxn; ++i)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(ans[i])  <span class="hljs-comment">//é¢œè‰²å­˜åœ¨è¾“å‡º</span><br>                <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d %d\n&quot;</span> , i , ans[i]);<br>        &#125;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><ul>
<li>è¿˜æ˜¯ä¸èƒ½æ‰¾ä¸å‡ºç»´æŠ¤çš„ä¿¡æ¯ä»¥åŠå¦‚ä½•æŸ¥è¯¢</li>
<li>æŸ“è‰²é—®é¢˜æ˜¯çº¿æ®µæ ‘çš„åŒºé—´è¦†ç›–é—®é¢˜ï¼Œï¼Œï¼ŒèŠ‚ç‚¹ä¸€èˆ¬ä¿å­˜é¢œè‰²ä¿¡æ¯</li>
</ul>
]]></content>
      <categories>
        <category>ACM-çº¿æ®µæ ‘</category>
      </categories>
      <tags>
        <tag>åˆ·é¢˜</tag>
        <tag>acm</tag>
      </tags>
  </entry>
  <entry>
    <title>poj-3268æœ€çŸ­è·¯</title>
    <url>/2018/10/13/poj-3268%E6%9C%80%E7%9F%AD%E8%B7%AF/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p>è¿™æ˜¯ä¸€é“æœ€çŸ­è·¯çš„æ¨¡æ¿é¢˜ï¼Œï¼Œï¼Œä¸è¿‡è™½ç„¶æ˜¯æ¨¡æ¿é¢˜ï¼Œï¼Œï¼Œè¿˜æ˜¯æœ‰ä¸€äº›ç»†èŠ‚çš„ï¼Œï¼Œï¼Œï¼ŒQAQ</p>
<p>åˆšå¼€å§‹æˆ‘çš„æ€è·¯æ˜¯å»ºç«‹ä¸€ä¸ªæ±‡ç‚¹ï¼Œï¼Œï¼Œç„¶åæ±‚è¿™ä¸ªç‚¹ä¸ºèµ·ç‚¹åˆ°ç»ˆç‚¹xçš„æœ€çŸ­è·¯ï¼Œï¼Œï¼Œå†æ±‚ç»ˆç‚¹åˆ°æ±‡ç‚¹çš„æœ€çŸ­è·¯ï¼Œï¼Œï¼Œæœ€åæ‰¾ä¸€ä¸ªå’Œæœ€å¤§çš„ï¼Œï¼Œï¼Œï¼Œè¿™ä¹ˆæƒ³æ˜¯å› ä¸ºå’Œä¹‹å‰åšçš„ä¸€é“é¢˜å¾ˆåƒï¼Œï¼Œï¼Œä½†åƒå½’åƒï¼Œï¼Œï¼Œç»ˆç©¶ä¸ä¸€æ ·çš„ï¼Œï¼Œï¼Œï¼Œè¿™æ ·è¿˜æ˜¯æ±‚ä¸å‡ºæœ€åçš„ç»“æœï¼Œï¼Œï¼Œå› ä¸ºå³ä½¿æ±‚å‡ºæ±‡ç‚¹åˆ°ç»ˆç‚¹çš„æœ€çŸ­è·¯ï¼Œï¼Œï¼Œä½†å¹¶ä¸æ˜¯æ¯ä¸ªç‚¹åˆ°ç»ˆç‚¹çš„æœ€çŸ­è·¯ï¼Œï¼Œï¼ŒQAQ</p>
<span id="more"></span>
<h1 id="åˆ†ææ€è·¯"><a href="#åˆ†ææ€è·¯" class="headerlink" title="åˆ†ææ€è·¯"></a>åˆ†ææ€è·¯</h1><p>é¦–å…ˆç¡®å®šæ˜¯å•å…ƒæœ€çŸ­è·¯æœ‰å…³çš„é¢˜ï¼Œï¼Œï¼Œè€Œä¸”é¢˜ç›®ä¿è¯æ­£è¾¹ï¼Œï¼Œï¼Œæ‰€ä»¥é€‰æ‹©dijkstraè§£å†³ï¼Œï¼Œï¼Œ</p>
<p>å…¶æ¬¡ï¼Œï¼Œï¼Œæˆ‘ä¹‹å‰å¥½åƒè¿˜æ˜¯å•æºæœ€çŸ­è·¯çš„ç†è§£ä¸å¤Ÿæ¸…æ¥šï¼Œï¼Œï¼Œ</p>
<p><strong>å•æºæœ€çŸ­è·¯ä¸€ä¸ªæœ€ä¸»è¦çš„æ€§è´¨å°±æ˜¯æ‰€é€‰èµ·ç‚¹åˆ°ä»»æ„ä¸€ç‚¹çš„æœ€çŸ­è·¯éƒ½å¯ä»¥æ±‚å‡ºæ¥</strong></p>
<p>è¿™é“é¢˜åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œï¼Œä¸€éƒ¨åˆ†æ˜¯æ‰€æœ‰ç‚¹åˆ°ç»ˆç‚¹xçš„æœ€çŸ­è·¯ï¼Œï¼Œï¼Œå¦ä¸€ä¸ªæ˜¯ç»ˆç‚¹åˆ°æ‰€æœ‰ç‚¹çš„æœ€çŸ­è·¯ï¼Œï¼Œï¼Œ</p>
<p>æ˜¾ç„¶åä¸€éƒ¨åˆ†å¯ä»¥ç›´æ¥è°ƒç”¨ä¸€æ¬¡dijkstraä¾¿å¯ä»¥æ±‚å‡ºï¼Œï¼Œï¼Œ</p>
<p>è€Œå‰è€…å¯ä»¥è€ƒè™‘åæ–¹å‘ï¼Œï¼Œï¼Œæ‰€æœ‰ç‚¹åˆ°ç»ˆç‚¹çš„æœ€çŸ­è·¯å°±ç›¸å½“äº<strong>æ²¿ç›¸åŒçš„æœ€çŸ­è·¯ä» ç»ˆç‚¹x åˆ° æ¯ä¸ªç‚¹ çš„æœ€çŸ­è·¯</strong>ï¼Œï¼Œï¼Œè¿™ä¸ªç›¸åŒçš„æœ€çŸ­è·¯å°±æ˜¯æŒ‡ï¼šå‡å¦‚1åˆ°3çš„æœ€çŸ­è·¯æ˜¯1-&gt;4-&gt;3é‚£ä¹ˆä»–å°±ç­‰åŒäº3-&gt;4-&gt;1ï¼Œï¼Œï¼Œæ‰€ä»¥å†æ±‚å‰ä¸€éƒ¨åˆ†å°±å¯ä»¥å°†å›¾ä¸­çš„æ¯ä¸€æ¡è·¯çš„æ–¹å‘éƒ½å–åæ–¹å‘ï¼Œï¼Œï¼Œä¹Ÿå°±æ˜¯é€†å›¾ï¼Œï¼Œï¼Œè¿™æ ·ä¸€ç»ˆç‚¹xä¸ºèµ·ç‚¹åˆ°å„ç‚¹çš„æœ€çŸ­è·¯å°±ç­‰äºå„ç‚¹åˆ°ç»ˆç‚¹xçš„æœ€çŸ­è·¯ï¼Œï¼Œï¼Œ</p>
<p>æ‰€ä»¥ä¸ºäº†å®ç°é€†å›¾é€‰æ‹© <strong>é‚»æ¥çŸ©é˜µ</strong> è¦æ¯”å…¶ä»–æ–¹å¼çš„å­˜å›¾è¦å¥½ä¸€äº›ï¼Œï¼Œï¼Œ</p>
<h1 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h1><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e3</span> + <span class="hljs-number">10</span>;<br><span class="hljs-comment">//const int maxm = 1e5 + 10;</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<br><br><span class="hljs-keyword">int</span> cost[maxn][maxn];<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-keyword">int</span> dis1[maxn];<br><span class="hljs-keyword">int</span> dis2[maxn];<br><span class="hljs-keyword">int</span> cnt;<br><span class="hljs-keyword">int</span> n , m , x;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dijkstra</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n , <span class="hljs-keyword">int</span> s , <span class="hljs-keyword">int</span> dis[] , <span class="hljs-keyword">int</span> cost[][maxn])</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//init</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        dis[i] = (i == s) ? <span class="hljs-number">0</span> : inf;<br>    <span class="hljs-built_in">memset</span>(vis , <span class="hljs-literal">false</span> , <span class="hljs-keyword">sizeof</span>(vis));<br><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i)<br>    &#123;<br>        <span class="hljs-keyword">int</span> k = <span class="hljs-number">-1</span>;<br>        <span class="hljs-keyword">int</span> m = inf;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; ++j)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(!vis[j] &amp;&amp; dis[j] &lt; m)<br>            &#123;<br>                m = dis[j];<br>                k = j;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(k == <span class="hljs-number">-1</span>) <span class="hljs-keyword">break</span>;<br>        vis[k] = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; ++j)<br>            <span class="hljs-keyword">if</span>(!vis[j] &amp;&amp; dis[k] + cost[k][j] &lt; dis[j])<br>                dis[j] = dis[k] + cost[k][j];<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> u , v , w;<br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span> , &amp;n , &amp;m , &amp;x) != EOF)<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; ++j)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(i == j)  cost[i][j] = <span class="hljs-number">0</span>;<br>                <span class="hljs-keyword">else</span>        cost[i][j] = inf;<br>            &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span> , &amp;u , &amp;v , &amp;w);<br>            cost[u][v] = min(cost[u][v] , w);<br>        &#125;<br>        dijkstra(n , x , dis1 , cost);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt; i; ++j)<br>                swap(cost[i][j] , cost[j][i]);<br>        dijkstra(n , x , dis2 , cost);<br><br>        <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            ans = max(ans , dis1[i] + dis2[i]);<br><br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span> , ans);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>(end)</p>
<p>ä»€ä¹ˆæ—¶å€™æ‰èƒ½çœŸæ­£çš„æ„Ÿè§‰è¿™æ‰æ˜¯æ°´é¢˜å•Šï¼Œï¼Œï¼ŒQAQ</p>
]]></content>
      <categories>
        <category>ACM-æœ€çŸ­è·¯</category>
      </categories>
      <tags>
        <tag>åˆ·é¢˜</tag>
        <tag>acm</tag>
      </tags>
  </entry>
  <entry>
    <title>test</title>
    <url>/2021/07/11/test/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>..</p>
<p>â€”<a href="æ³¨é‡Šã€‚ã€‚ã€‚ã€‚">æ­£æ–‡ï¼Œï¼Œï¼Œï¼Œ</a><br>-<a href="æ³¨é‡Šã€‚ã€‚ã€‚ã€‚">æ­£æ–‡ï¼Œï¼Œï¼Œï¼Œ</a><br>â€”<a href="æ³¨é‡Šã€‚ã€‚ã€‚ã€‚1">æ­£æ–‡ï¼Œï¼Œï¼Œï¼Œ</a></p>
<div class="note-body" note="(æ³¨é‡Šã€‚ã€‚ã€‚ã€‚)"><em class="note-content" style="background-color: #ff9;">æ­£æ–‡ï¼Œï¼Œï¼Œï¼Œ</em></div>
-{æ­£æ–‡ï¼Œï¼Œï¼Œï¼Œ}(æ³¨é‡Šã€‚ã€‚ã€‚ã€‚)
<div class="note-body" note="(æ³¨é‡Šã€‚ã€‚ã€‚ã€‚,)"><em class="note-content" style="background-color: #ff9;">æ­£æ–‡ï¼Œï¼Œï¼Œï¼Œ</em></div>


<p>..<br>â€¦..</p>
]]></content>
  </entry>
  <entry>
    <title>ä¸€ä¸ªç®€å•çš„çˆ¬å–bç«™upä¸‹æ‰€æœ‰è§†é¢‘çš„æ‰€æœ‰è¯„è®ºä¿¡æ¯çš„çˆ¬è™«</title>
    <url>/2020/03/03/%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E7%88%AC%E5%8F%96b%E7%AB%99up%E4%B8%8B%E6%89%80%E6%9C%89%E8%A7%86%E9%A2%91%E7%9A%84%E6%89%80%E6%9C%89%E8%AF%84%E8%AE%BA%E4%BF%A1%E6%81%AF%E7%9A%84%E7%88%AC%E8%99%AB/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>å¿ƒè¡€æ¥æ½®æäº†ä¸€ä¸ªç®€å•çš„çˆ¬è™«ï¼Œä¸»è¦æ˜¯æƒ³çŸ¥é“æŸä¸ªäººçš„bç«™è´¦å·ï¼Œä½†æ˜¯ä½ çŸ¥é“ï¼Œbç«™åœ¨æœç´¢ä¸€ä¸ªç”¨æˆ·æ—¶ï¼Œå¦‚æœè¿™ä¸ªç”¨æˆ·æ²¡æœ‰æŠ•è¿‡ç¨¿ï¼Œæ˜¯æœä¸åˆ°çš„ï¼Œï¼Œï¼Œè¿™æ—¶å°±åªèƒ½æƒ³æ–¹æ³•æåˆ°å¯¹æ–¹çš„midï¼Œï¼Œå°±æ˜¯ <code>space.bilibili.com/9444976</code> åé¢çš„é‚£ä¸€ä¸²æ•°å­—ã€‚å¶ç„¶çœ‹åˆ°è¿™ä¸ªäººå…³æ³¨äº†æŸä¸ªä¸»æ’­ï¼Œï¼Œæƒ³åˆ°å¯èƒ½è¿™ä¸ªäººä¼šå›å¤ä¸»æ’­çš„è§†é¢‘ï¼Œäºæ˜¯æƒ³ç€çˆ¬åˆ°æ‰€æœ‰upä¸‹çš„è§†é¢‘çš„è¯„è®ºå¯¹åº”çš„ç”¨æˆ·ï¼Œè¿™æ ·æˆ‘å°±å¯ä»¥åœ¨æ•°æ®åº“é‡Œæ£€ç´¢æ˜µç§°å¾—åˆ°midï¼Œï¼Œï¼Œå˜¿å˜¿å˜¿ï¼ˆç„¶è€Œå¤±è´¥äº†ï¼Œï¼Œä¸æ˜¯æ‰€æœ‰äººéƒ½åƒæˆ‘è¿™ä¹ˆæ— èŠï¼Œï¼Œï¼Œï¼Œæœ‰äº›äººçœŸçš„çœ‹è§†é¢‘ä¸ä¼šå›å¤ï¼Œï¼Œ</p>
<p><a href="https://github.com/31415926535x/CollegeProjectBackup/tree/master/BilibiliSpiders">é¡¹ç›®åœ°å€: https://github.com/31415926535x/CollegeProjectBackup/tree/master/BilibiliSpiders</a></p>
<span id="more"></span>
<p>è¿™ä¸ªçˆ¬è™«çš„ä¸»è¦åŠŸèƒ½æ˜¯çˆ¬å–æŸä¸ªæŒ‡å®šupä¸»ä¸‹çš„æ‰€æœ‰è§†é¢‘ä¸­çš„è¯„è®ºï¼ˆä¸åŒ…æ‹¬è¯„è®ºçš„å›å¤ï¼Œå½“ç„¶å¯ä»¥å®ç°ï¼Œä½†æ˜¯æ„Ÿè§‰éƒ½å·®ä¸å¤šï¼Œå°±æ²¡è€ƒè™‘è¿™å—ï¼‰ï¼Œæœ€åå°†çˆ¬åˆ°çš„ç”¨æˆ·æ•°æ®å­˜åˆ°æ•°æ®åº“é‡Œã€‚<a href="https://www.zhihu.com/question/291554395"><strong>æ•´ä¸ªé¡¹ç›®åªæ˜¯æŠ±ç€å­¦ä¹ ç›¸å…³å†…å®¹çš„å¿ƒæ€æ¥å®Œæˆï¼Œä¸è¦åšå¤§æ‰¹é‡çš„çˆ¬å–ç½‘ç«™(DDOS)åŠå…¶æ•æ„Ÿæ•°æ®çš„äº‹ï¼Œä¹Ÿä¸è¦ç”¨ä½œå•†ä¸šç”¨é€”ï¼Œï¼Œï¼ˆè™½ç„¶å†™çš„å¾ˆä¸‘ï¼Œï¼Œï¼Œï¼‰</strong></a></p>
<h1 id="ç®€è¦è¯´æ˜"><a href="#ç®€è¦è¯´æ˜" class="headerlink" title="ç®€è¦è¯´æ˜"></a>ç®€è¦è¯´æ˜</h1><p>æ•´ä¸ªé¡¹ç›®çš„åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼Œé¦–å…ˆæ˜¯çˆ¬å–æŒ‡å®šmid upçš„æ‰€æœ‰è§†é¢‘çš„avå·ï¼Œå³ <code>CrawlAllVideosOfAUP.py</code> è¿™ä¸ªè„šæœ¬ï¼Œä½¿ç”¨çš„apiæ˜¯ <code>https://api.bilibili.com/x/space/arc/search?mid=mid&amp;ps=30&amp;tid=0&amp;pn=pn&amp;keyword=&amp;order=pubdate&amp;jsonp=jsonp</code> å…·ä½“çš„è¯´æ˜è§è„šæœ¬å†…æ³¨é‡Šã€‚</p>
<p>ä¹‹åæœ‰äº†æ‰€æœ‰çš„avå·ï¼Œä½¿ç”¨ <code>CrawlCommentUsersByVideo.py</code> çˆ¬å–æŒ‡å®šavå·ä¸‹çš„æ‰€æœ‰è¯„è®ºï¼Œä½¿ç”¨çš„apiæ˜¯ <code>https://api.bilibili.com/x/v2/reply?pn=**&amp;type=1&amp;oid=***&amp;sort=2</code> çˆ¬å–avå·ä¸º oid ä¸‹ç¬¬ pn é¡µçš„è¯„è®ºçš„ä¿¡æ¯ï¼ˆsortå¯¹åº”çš„åº”è¯¥æ˜¯è¯„è®ºçš„å±•ç¤ºé¡ºåºç”¨ä¸åˆ°æ²¡ç®¡ã€‚å¯ä»¥çˆ¬å–åˆ°å¾ˆå¤šçš„ä¿¡æ¯ï¼Œæ ¹æ®è‡ªå·±éœ€æ±‚æ¥ä¿®æ”¹è„šæœ¬è®¡ç§‘ã€‚</p>
<p>æœ€åå°†è¿™ä¸¤ä¸ªæ•´åˆï¼ŒåŠ ä¸€ç‚¹ç‚¹ç»†èŠ‚å°±è¡Œäº†ï¼Œï¼Œå¤§è‡´æ˜¯ä¸€ä¸ªèƒ½ç”¨çš„è„šæœ¬ï¼ˆè™½ç„¶æœ€åæ²¡æœ‰æ‰¾åˆ°æˆ‘æƒ³è¦çš„ä¸€ä¸ªä¿¡æ¯ï¼Œï¼Œï¼Œï¼Œ</p>
<p>å…·ä½“çœ‹æ³¨é‡Šå§ï¼Œï¼Œå¾ˆç®€å•çš„ä¸€äº›ä¸œè¥¿å§ï¼Œï¼Œé•¿è§è¯†ä¸ºä¸»ï¼Œç•™å°è±¡ã€‚ã€‚ã€‚ã€‚</p>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>ä¹‹å‰å¾ˆæ—©å°±æ¥è§¦äº†Pythonçˆ¬è™«ï¼Œï¼Œä½†æ˜¯åªæ˜¯ç”¨ä¸€ä¸‹å°±æ‰”äº†ï¼Œæ²¡æœ‰è‡ªå·±å®Œå…¨çš„ç¼–å†™ä¸€ä¸ªï¼Œï¼Œæ‰€ä»¥å¿ƒè¡€æ¥æ“¦å†™ä¸€ä¸ªç»ƒç»ƒæ‰‹ï¼Œï¼Œè¯´ä¸å®šä»¥åè¿˜ä¼šé‡åˆ°è¿™æ ·ç±»ä¼¼çš„äº‹ï¼Œï¼Œï¼Œ</p>
<p>è¿™ä¸ªè„šæœ¬æœ€åå°†çˆ¬å–åˆ°çš„æ•°æ®æ‰”åˆ°äº†æ•°æ®åº“é‡Œï¼Œï¼Œå› ä¸ºä¹‹å‰çœ‹åˆ«äººçš„ä»£ç ï¼Œä»–æ˜¯è·å–ä¸€æ¡å†™å…¥ä¸€æ¡ï¼Œï¼Œæ•°æ®é‡ä¸€å¤§å°±å¾ˆæ…¢ï¼Œï¼Œï¼ˆå°¤å…¶æ˜¯ç”¨äº†çº¿ç¨‹ä¸€è¾¹è·å–ä¸€éå†™å…¥æ—¶ï¼Œå› ä¸ºçˆ¬è™«ä¸€æ¬¡ä¼šè·å¾—å¾ˆå¤šçš„æ•°æ®ï¼Œä½†æ˜¯å¦‚æœä¿å­˜æ•°æ®åº“æ—¶ä¸€æ¡ä¸€æ¡çš„ <code>commit</code> äº›ç£ç›˜çš„ioç“¶é¢ˆå°±ä¼šæ˜¾éœ²å‡ºæ¥ï¼Œï¼Œæ‰€ä»¥å¯ä»¥åŠ ä¸€ä¸ª flag ï¼Œå†™å…¥åˆ°1000æˆ–è€…æŸä¸ªå€¼æ—¶å† <code>commit</code> è¿™æ ·å°±å¾ˆæœ‰æ•ˆç‡äº†ï¼Œï¼Œè·‘åäº†ï¼‰</p>
<p>å¤§æ¦‚äº†è§£äº†ä¸€ä¸‹pythonä¸‹çš„çº¿ç¨‹çš„å†™æ³•ï¼Œæ€è·¯éƒ½æ˜¯é‚£ä¸ªæ€è·¯ï¼Œï¼Œç®—æ˜¯ç®€å•çš„è§è¯†ä¸€ä¸‹ï¼Œï¼Œï¼Œ</p>
<p>å…³äºwindowsä¸‹çš„mysqlæ•°æ®åº“ï¼šæˆ‘ä»¬é€šå¸¸ä¼šå¤‡ä»½ä¸€ä¸ªæ•°æ®åº“çš„æŸäº›è¡¨çš„ç»“æ„åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œä¾‹å¦‚ <code>233.sql</code> ï¼Œä½¿ç”¨çš„å‘½ä»¤å¯èƒ½æ˜¯ <code>mysqldump -uroot -p databases &gt; 233.sql</code> ç­‰ç­‰ç±»ä¼¼çš„ï¼Œï¼Œä½†æ˜¯è¿™ä¸ªå‘½ä»¤åœ¨windowsçš„ <code>PowerShell</code> ä¼šæœ‰bugï¼Œï¼Œå…·ä½“åŸå› æ²¡æœ‰æ·±ç©¶ï¼ˆçŒœæµ‹æ˜¯ç¼–ç çš„é”…ï¼‰ï¼Œå¯¼å‡ºçš„æ–‡ä»¶ä¸èƒ½ä½¿ç”¨ <code>source 233.sql</code> å¯¼å…¥ï¼Œï¼Œä¼šçˆ†ä»€ä¹ˆ <code>&#39;\0&#39;</code> ç­‰ ASCIIé”™è¯¯ï¼Œï¼Œè¿™æ—¶çš„è§£å†³æ–¹æ³•å°±æ˜¯æ¢ <code>cmd</code> ï¼Œï¼Œè¿™ä¸ªé”™è¯¯ç¬¬ä¸€æ¬¡è§ï¼Œï¼Œè€Œä¸”ä¸å¥½è§£å†³ï¼Œï¼Œè¿·æƒ‘æ€§å¤ªå¤§ï¼Œï¼Œå®¹æ˜“å¸¦åQAQï¼Œï¼Œï¼Œå¤ªæµªè´¹æ—¶é—´äº†ï¼Œï¼Œï¼Œ</p>
<p>å¥½åƒæ²¡å•¥äº†ã€‚ã€‚ã€‚(end)</p>
<p>å“¦å¯¹ï¼ŒåŠ ä¸ªå‚è€ƒã€‚ã€‚ã€‚</p>
<p><a href="https://github.com/airingursb/bilibili-user/blob/master/bilibili_user.py">è¿™æ˜¯ä¸€ä¸ªæš´åŠ›çˆ¬æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯çš„ï¼Œæ€è·¯å·®ä¸å¤šçš„</a></p>
<p><a href="https://github.com/zhang0peter/bilibili-user-information-spider/blob/master/spider.py">è¿™ä¸ªä¹Ÿæ˜¯ï¼Œç®€å•äº›çš„</a></p>
<p><a href="https://github.com/airingursb/bilibili-user/blob/master/user_agents.txt">user-agentsçœ‹åˆ°ä¸€ä¸ªå¾ˆå…¨çš„uaï¼Œå› ä¸ºæˆ‘çš„æ•°æ®é‡ä¸å¤§ï¼Œæ‰€ä»¥å°±æ²¡ç”¨ï¼Œè®°å½•ä¸€ä¸‹</a></p>
]]></content>
      <categories>
        <category>å·¥å…·</category>
      </categories>
      <tags>
        <tag>å·¥å…·ä½¿ç”¨</tag>
      </tags>
  </entry>
  <entry>
    <title>åŠ¨æ€è§„åˆ’-çº¿æ€§dp-hdu-4055</title>
    <url>/2019/02/23/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92-%E7%BA%BF%E6%80%A7dp-hdu-4055/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=4055">è¿™é“é¢˜æ˜¯å¤§è¿çš„æŸä¸€å¹´çš„ç°åœºèµ›çš„é¢˜hdu-4055</a><br>ï¼Œï¼Œï¼Œåˆšå¼€å§‹åšçº¿æ€§dpçš„é¢˜ï¼Œï¼Œçœ‹äº†å¥½åŠå¤©æ‰çœ‹æ‡‚è§£æ³•ï¼Œï¼Œ</p>
<span id="more"></span>
<h2 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><p><a href="https://www.cnblogs.com/rhythmic/p/5398953.html">å‚è€ƒ1</a><br><a href="https://www.cnblogs.com/ftae/p/7057372.html">å‚è€ƒ2</a></p>
<p>é¢˜ç›®çš„æ„æ€å°±æ˜¯ç»™å‡ºä¸€ä¸ªä»…æœ‰1~nç»„æˆçš„åºåˆ—çš„å…³ç³»sï¼šâ€™Iâ€™è¡¨ç¤º $a[i+1]&gt;a[i]$ï¼Œâ€™Dâ€™è¡¨ç¤º $a[i+1] &lt; a[i]$ï¼Œï¼Œâ€™?â€™è¡¨ç¤ºéƒ½å¯ä»¥ï¼Œï¼Œç„¶åé—®ä½ æ‰€æœ‰å¯èƒ½çš„æƒ…å†µçš„æ€»æ•°ï¼Œï¼Œ</p>
<p>ç”¨ $dp[i][j]$ è¡¨ç¤ºé•¿åº¦ä¸ºiå¹¶ä¸”ä»…ç”±1~iç»„æˆçš„åºåˆ—ä»¥jç»“å°¾æ—¶çš„ç§ç±»æ•°ï¼Œï¼Œ</p>
<ul>
<li><p>å½“ $s[i]= ?$ æ—¶ï¼Œï¼Œå½“å‰ç‚¹çš„å¯èƒ½æƒ…å†µå°±æ˜¯å‰é¢æ‰€æœ‰æƒ…å†µçš„å’Œï¼Œå³ $dp[i][j]=\sum_{k=1}^{i-1}dp[i-1][k]$</p>
</li>
<li><p>å½“ $s[i]=I$ æ—¶ï¼Œï¼Œå› ä¸ºç¬¬iä½å›ºå®šå°±ä¸ºjäº†ï¼Œå¹¶ä¸”å‰ä¸€ä½è¦æ»¡è¶³å°äºç­‰äºjï¼Œæ‰€ä»¥å°±è¦æ‰¾å‡ºæ‰€æœ‰é•¿åº¦ä¸ºi-1ä¸”ç»“å°¾å°äºç­‰äºj-1çš„æƒ…å†µçš„å’Œï¼Œï¼Œå³ï¼š $dp[i][j]=\sum_{k=1}^{j-1}dp[i-1][k]$</p>
</li>
<li><p>å½“ $s[i]=D$ æ—¶ï¼Œï¼Œå’Œç­‰äºIçš„æƒ…å†µç›¸åï¼Œï¼Œä¹Ÿå°±æ˜¯è¦æ‰¾åˆ°æ‰€æœ‰é•¿åº¦ä¸ºi-1ä¸”æœ€åä¸€ä½å¤§äºjçš„ç§ç±»æ•°ï¼ˆåŒæ—¶è¦å°äºi-1ï¼‰ï¼Œï¼Œä¹Ÿå°±æ˜¯è¯´å¯ä»¥ç›´æ¥ç”¨ï¼Ÿçš„ç§ç±»æ•°å‡å»Içš„ç§ç±»æ•°ï¼Œï¼Œå³ï¼š $dp[i][j]=\sum<em>{k=j}^{i-1}dp[i-1][k]=\sum</em>{k=1}^{i-1}dp[i-1][k]-\sum_{k=1}^{j-1}dp[i][k]$</p>
</li>
</ul>
<blockquote>
<p>å‡å®šæ¯æ¬¡ä½¿ç¬¬iä½ä¸ºjæ—¶ï¼Œå‰é¢å¤§äºç­‰äºjçš„å€¼éƒ½åŠ ä¸€ï¼Œï¼Œè¿™æ ·ä¿è¯å‰iä¸ªæ•°éƒ½å‡ºç°ä¸€æ¬¡ï¼Œï¼ŒåŒæ—¶i-1å˜æˆäº†iï¼Œï¼Œjå˜æˆäº†j+1ï¼Œï¼Œjå°±æ”¾åœ¨äº†åé¢ï¼Œï¼Œæ‰€ä»¥éå†ä¸­çš„kæ˜¯ä»j~i-1ï¼Œï¼Œï¼Œ</p>
</blockquote>
<p><a href="https://blog.csdn.net/lvshubao1314/article/details/46793805">å‚è€ƒ</a></p>
<p>æœ€åç”¨å‰ç¼€å’Œç»´æŠ¤ä¸€ä¸‹é‚£ä¸ªå’Œï¼Œç©ºé—´æ¢æ—¶é—´</p>
<h1 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h1><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//hdu</span><br><span class="hljs-comment">//#include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; pii;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e3</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> dp[maxn][maxn], sum[maxn][maxn];<br><span class="hljs-keyword">char</span> s[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">while</span>(~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>, s + <span class="hljs-number">2</span>))<br>    &#123;<br>        <span class="hljs-keyword">int</span> len = <span class="hljs-built_in">strlen</span>(s + <span class="hljs-number">2</span>);<br>        <span class="hljs-built_in">memset</span>(dp, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> dp);<br>        <span class="hljs-built_in">memset</span>(sum, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> sum);<br>        dp[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>] = sum[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>] = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= len + <span class="hljs-number">1</span>; ++i)<br>        &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= i; ++j)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(s[i] == <span class="hljs-string">&#x27;I&#x27;</span>)<br>                    dp[i][j] = sum[i - <span class="hljs-number">1</span>][j - <span class="hljs-number">1</span>];<br>                <span class="hljs-keyword">if</span>(s[i] == <span class="hljs-string">&#x27;D&#x27;</span>)<br>                    dp[i][j] = (sum[i - <span class="hljs-number">1</span>][i - <span class="hljs-number">1</span>] - sum[i - <span class="hljs-number">1</span>][j - <span class="hljs-number">1</span>] + mod) % mod;<br>                <span class="hljs-keyword">if</span>(s[i] == <span class="hljs-string">&#x27;?&#x27;</span>)<br>                    dp[i][j] = sum[i - <span class="hljs-number">1</span>][i - <span class="hljs-number">1</span>];<br>                sum[i][j] = (dp[i][j] + sum[i][j - <span class="hljs-number">1</span>]) % mod;<br>            &#125;<br>        &#125;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, sum[len + <span class="hljs-number">1</span>][len + <span class="hljs-number">1</span>]);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>(end)</p>
]]></content>
      <categories>
        <category>ACM-åŠ¨æ€è§„åˆ’-çº¿æ€§dp</category>
      </categories>
      <tags>
        <tag>åˆ·é¢˜</tag>
        <tag>acm</tag>
      </tags>
  </entry>
  <entry>
    <title>åŠ¨æ€è§„åˆ’-kaungbinåŸºç¡€dp</title>
    <url>/2019/02/23/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92-kaungbin%E5%9F%BA%E7%A1%80dp/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p><a href="https://vjudge.net/contest/284684#overview">kuangbinåŸºç¡€dpä¸“é¢˜</a></p>
<p>åšäº›é¢˜ç»ƒç»ƒæ‰‹</p>
<span id="more"></span>
<h1 id="A-Max-Sum-Plus-Plus-HDU-1024"><a href="#A-Max-Sum-Plus-Plus-HDU-1024" class="headerlink" title="A - Max Sum Plus Plus HDU - 1024"></a>A - Max Sum Plus Plus HDU - 1024</h1><p>è¿™é“é¢˜æœ‰ä¸¤ä¸ªå‘ç‚¹ï¼Œä¸€ä¸ªæ˜¯dpçš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹çš„æ¨å¯¼å’ŒåŒ–ç®€ä¼˜åŒ–è¿˜æœ‰ä¸€ä¸ªæ˜¯å®ç°ï¼Œï¼Œ<del>ï¼ˆåºŸè¯ï¼Œï¼Œå“ªä¸ªé¢˜ä¸æ˜¯è¿™æ ·ï¼Œï¼Œï¼‰</del>ï¼Œï¼Œï¼Œ</p>
<p>é¢˜æ„æ˜¯ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ•°ç»„ï¼Œï¼Œç„¶åä¸€ä¸ªæ•°mï¼Œï¼Œè®©ä½ æŠŠè¿™æ®µæ•°åˆ†æˆmæ®µè¿ç»­çš„å­åºåˆ—ï¼Œï¼Œè¦æ±‚æœ€ååˆ†æˆçš„è¿™mæ®µåºåˆ—çš„å’Œæ˜¯æœ€å¤§çš„ï¼Œï¼Œï¼Œ</p>
<p>é¦–å…ˆæ˜¯çŠ¶æ€çš„å®šä¹‰ï¼Œï¼Œä¸€å¼€å§‹æˆ‘æƒ³ç€è¿™è¯¥ä¸ä¼šæ˜¯åŒºé—´dpçš„é¢˜å§ï¼Œï¼Œä½†æ˜¯mæ€ä¹ˆç”¨å•Šï¼Œï¼Œï¼Œåæ¥çœ‹äº†åˆ«äººçš„çŠ¶æ€çš„å®šä¹‰å·®ä¸å¤šè‡ªå·±èƒ½æ¨ä¸‹æ¥äº†ï¼Œï¼Œ</p>
<p>$dp[i][j]$ è¡¨ç¤ºå–å‰iä¸ªæ•°ï¼ˆæœ€åä¸€ä¸ªåºåˆ—çš„ç»“å°¾ä¸€å®šæ—¶æ˜¯a[i]ï¼‰åˆ’åˆ†æˆjç»„æ—¶çš„æœ€å¤§çš„åºåˆ—å’Œï¼Œï¼Œ</p>
<p>ç„¶åæ˜¯çŠ¶æ€è½¬ç§»æ–¹ç¨‹çš„æ¨å¯¼ï¼Œï¼Œé¦–å…ˆæˆ‘ä»¬å¯ä»¥çœ‹å‡ºå¯¹äºæ•° $a[i]$ åªæœ‰ä¸¤ç§æƒ…å†µï¼š</p>
<ul>
<li>$(x_1, y_1), (x_2, y_2), (x_3, y_3),,,,,(x_j, y_j,a[i])$ï¼Œï¼Œï¼Œå³ï¼ŒæŠŠa[i]åˆ’åˆ°æœ€åä¸€ä¸ªåºåˆ—é‡Œï¼ˆä¹Ÿå°±æ˜¯ç¬¬jç»„é‡Œï¼‰ï¼Œï¼Œæˆ–è€…</li>
<li>$(x<em>1, y_1), (x_2, y_2), (x_3, y_3),,,,,(x</em>{j-1}, y_{j-1}),(a[i])$ï¼Œï¼Œï¼Œå³ï¼Œa[i]å•ç‹¬æˆä¸ºç¬¬jç»„ï¼Œï¼Œï¼Œæ³¨æ„å‰é¢çš„j-1ç»„çš„æƒ…å†µæœ‰å¾ˆå¤šï¼Œï¼Œæ‰€ä»¥æˆ‘ä»¬è¦å–å‰é¢i-1ä¸ªæ•°æ‰€ç»„æˆçš„j-1çš„æƒ…å†µé‡Œçš„æœ€å¤§å€¼</li>
</ul>
<p>ç”±ä»¥ä¸Šæˆ‘ä»¬å¯ä»¥å†™å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š</p>
<script type="math/tex; mode=display">
    dp[i][j]=
        max(dp[i-1][j] + a[i], max(dp[k][j-1] + a[i]))      \{ j-1 \leq k \leq i-1 \}</script><p>æ‰€ä»¥æ­¤æ—¶çš„æ—¶é—´å¤æ‚åº¦æ˜¯ $O(n^3)$,,,ç©ºé—´å¤æ‚åº¦æ˜¯ $O(n^2)$ï¼Œï¼Œn=1e6æ˜¾ç„¶ä¸è¡Œï¼Œï¼Œï¼Œç„¶åå°±æ˜¯dpé‡Œå¸¸è§çš„ä¼˜åŒ–ï¼š</p>
<ul>
<li>ä¼˜åŒ–ç©ºé—´ï¼šdpé‡Œå¸¸è§çš„ä¼˜åŒ–ç©ºé—´çš„æ–¹æ³•éƒ½æ˜¯å¯¹é«˜ç»´çš„dpæ•°ç»„æŸä¸€ç»´çš„å¹¶ä¸éœ€è¦å…¨å±€éå†çš„é‚£ä¸€ç»´å»æ‰ç¼©å‡ï¼Œï¼Œä¹Ÿå°±æ˜¯ <strong>æ»šåŠ¨æ•°ç»„</strong></li>
<li>æ—¶é—´ä¼˜åŒ–: è§‚å¯ŸçŠ¶æ€è½¬ç§»æ–¹ç¨‹é‡Œçš„ç¬¬äºŒç§æƒ…å†µçš„æ±‚æœ€å¤§å€¼é‚£ä¸€æ­¥ï¼Œï¼Œæˆ‘ä»¬æ¯æ¬¡éœ€è¦çš„åªæ˜¯ä¸Šä¸€æ­¥ä¸­åˆ†æˆj-1ç»„çš„æ‰€æœ‰æƒ…å†µé‡Œçš„æœ€å¤§å€¼ï¼Œï¼Œè¿™ä¸ªè¿‡ç¨‹æˆ‘ä»¬å¯ä»¥åœ¨è®¡ç®—åˆ†æˆj-1ç»„çš„æ—¶å€™å°†æœ€å¤§å€¼ç”¨ä¸€ä¸ªæ•°ç»„ä¿å­˜ä¸‹æ¥ç»™è®¡ç®—åˆ†æˆjç»„æ—¶ä½¿ç”¨ï¼Œï¼Œè¿™æ ·å°±å‡å°‘äº†ä¸€æ¬¡éå†ï¼Œï¼Œï¼Œæ—¶é—´å¤æ‚åº¦é™ä¸º $O(n^2)$ï¼Œï¼Œ</li>
</ul>
<p>æ‰€ä»¥æœ€åçš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼š</p>
<p>$dp[i]=max(dp[i-1], mmax[i-1])+a[i]$</p>
<p>mmax[i]è¡¨ç¤ºå‰iä¸ªæ•°åˆ†æˆå½“å‰ç»„æ•°-1(j-1)æ—¶çš„æœ€å¤§å€¼ï¼Œï¼Œæ»šåŠ¨æ•°ç»„ä¼˜åŒ–ååé¢é‚£ä¸ªç»„æ•°çš„ç»´åº¦å°±å»æ‰äº†ï¼Œï¼Œï¼Œæ¯ä¸€æ¬¡è®°å½•ä¸€ä¸‹å‰i-1ä¸ªæ•°åˆ†æˆj-1ç»„çš„æœ€å¤§å€¼ï¼Œæ›´æ–°ä¸€ä¸‹mmax[i-1]å°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
<p><a href="https://www.cnblogs.com/kuangbin/archive/2011/08/04/2127085.html">å‚è€ƒ1</a><br><a href="https://blog.csdn.net/pmt123456/article/details/52695470">å‚è€ƒ2</a></p>
<p>è¿™ä¸¤ç¯‡åšå®¢æ˜¯ç”¨dp[i][j]è¡¨ç¤ºå‰jä¸ªæ•°åˆ†æˆiç»„çš„æœ€å¤§å€¼ï¼Œï¼Œå’Œæˆ‘çš„å®ç°åœ¨å¾ªç¯çš„å˜é‡çš„åç§°ä¸Šæœ‰äº›ä¸ä¸€æ ·ï¼Œï¼Œï¼Œ</p>
<p>è®°å¾—ä¸­é—´å˜é‡ä¸è¦ç”¨å·²ç»æœ‰çš„mï¼Œï¼Œï¼Œï¼Œå› ä¸ºè¿™ä¸ªwa2å“­ï¼Œï¼Œï¼Œ</p>
<p>æœ€åçš„ç­”æ¡ˆå°±æ˜¯æœ€åä¸€æ¬¡æ‰¾åˆ°çš„æœ€å¤§å€¼ï¼Œï¼Œä¹Ÿå°±æ˜¯é‚£ä¸ªä¸­é—´å˜é‡ï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//hdu</span><br><span class="hljs-comment">//#include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; pii;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> a[maxn], dp[maxn], mmax[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">int</span> n, m;<br>    <span class="hljs-keyword">while</span>(~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;m, &amp;n))<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a[i]);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)dp[i] = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)mmax[i] = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">int</span> mx;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; ++j)<br>        &#123;<br>            mx = -inf;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = j; i &lt;= n; ++i)<br>            &#123;<br>                dp[i] = max(dp[i - <span class="hljs-number">1</span>], mmax[i - <span class="hljs-number">1</span>]) + a[i];<br>                mmax[i - <span class="hljs-number">1</span>] = mx;<br>                mx = max(mx, dp[i]);<br>            &#125;<br>        &#125;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, mx);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="B-Ignatius-and-the-Princess-IV-HDU-1029"><a href="#B-Ignatius-and-the-Princess-IV-HDU-1029" class="headerlink" title="B - Ignatius and the Princess IV HDU - 1029"></a>B - Ignatius and the Princess IV HDU - 1029</h1><p>é¢˜æ„å¾ˆç®€å•ï¼Œï¼Œå°±æ˜¯ç»™ä½ nä¸ªæ•°æ‰¾å‡ºå…¶ä¸­ä¸ªæ•°å¤§äºç­‰äº $(n+1)/2$ çš„é‚£ä¸ªæ•°ï¼Œï¼Œï¼Œ</p>
<p>ä¸€ç§æ–¹æ³•æ˜¯ç›´æ¥æ’åºï¼Œï¼Œæœ€ä¸­é—´çš„é‚£ä¸ªæ•°ä¸€å®šæ˜¯è¦æ‰¾çš„æ•°ï¼Œï¼Œå› ä¸ºä¸ªæ•°è¶…è¿‡ $(n+1)/2$ ä¸€å®šæœ‰ä¸€ä¸ªåœ¨æ’åºååœ¨ä¸­é—´é‚£ä¸ªä½ç½®</p>
<p>å¦ä¸€ç§æ˜¯dpçš„æ€æƒ³ï¼Œï¼Œå› ä¸ºè¦æ‰¾çš„æ˜¯ä¸ªæ•°è‡³å°‘ä¸º $(n+1)/2$ çš„æ•°ï¼Œï¼Œé‚£ä¹ˆå®ƒè‚¯å®šæ¯”å…¶ä»–æ•°çš„ä¸ªæ•°ä¸ªè‡³å°‘å¤§ä¸€ï¼Œï¼Œï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥éå†æ•´ä¸ªæ•°ç»„ï¼Œï¼ŒåŠ¨æ€çš„è®°å½•ä¸‹å‡ºç°æ¬¡æ•°æœ€å¤šçš„æ•°ä»¥åŠå®ƒå’Œå‰é¢çš„æ•°æ¯”è¾ƒåå‡ºç°çš„æ¬¡æ•°cntï¼Œä¸ºé›¶è¯´æ˜ä»–å¹¶ä¸æ˜¯æœ€å¤šçš„ï¼Œï¼Œæ¢ç°åœ¨éå†çš„æ•°ï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//hdu</span><br><span class="hljs-comment">//#include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; pii;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> a[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">int</span> n;<br>    <span class="hljs-keyword">while</span>(~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n))<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a[i]);<br>        <span class="hljs-keyword">int</span> cnt, ans;<br>        cnt = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(cnt == <span class="hljs-number">0</span>)<br>            &#123;<br>                ans = a[i];<br>                ++cnt;<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                <span class="hljs-keyword">if</span>(ans == a[i])<br>                    ++cnt;<br>                <span class="hljs-keyword">else</span><br>                    --cnt;<br>            &#125;<br>        &#125;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, ans);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//hdu</span><br><span class="hljs-comment">//#include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; pii;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> a[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">int</span> n;<br>    <span class="hljs-keyword">while</span>(~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n))<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a[i]);<br>        sort(a + <span class="hljs-number">1</span>, a + <span class="hljs-number">1</span> + n);<br>        <span class="hljs-keyword">int</span> ans = a[(n + <span class="hljs-number">1</span>) / <span class="hljs-number">2</span>];<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, ans);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="E-Super-Jumping-Jumping-Jumping-HDU-1087"><a href="#E-Super-Jumping-Jumping-Jumping-HDU-1087" class="headerlink" title="E - Super Jumping! Jumping! Jumping! HDU - 1087"></a>E - Super Jumping! Jumping! Jumping! HDU - 1087</h1><p>æ±‚ä¸€ä¸ªæ•°åˆ—çš„æœ€å¤§ä¸Šå‡å­åºåˆ—çš„å’Œå°±è¡Œäº†</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//hdu</span><br><span class="hljs-comment">//#include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; pii;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> a[maxn], dp[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">int</span> n;<br>    <span class="hljs-keyword">while</span>(~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n) &amp;&amp; n)<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a[i]);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)dp[i] = a[i];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt; i; ++j)<br>                <span class="hljs-keyword">if</span>(a[i] &gt; a[j])<br>                    dp[i] = max(dp[i], dp[j] + a[i]);<br>        <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)ans = max(ans, dp[i]);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, ans);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="F-Piggy-Bank-HDU-1114"><a href="#F-Piggy-Bank-HDU-1114" class="headerlink" title="F - Piggy-Bank HDU - 1114"></a>F - Piggy-Bank HDU - 1114</h1><p>å®Œå…¨èƒŒåŒ…çš„æ¿å­é¢˜ï¼Œï¼Œï¼Œå‡ å¤©æ²¡çœ‹ï¼Œï¼Œæœ‰äº›ç»†èŠ‚å€’å¿˜äº†qaq</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//hdu</span><br><span class="hljs-comment">//#include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; pii;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> w[maxn], c[maxn], dp[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">int</span> t;<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;t);<br>    <span class="hljs-keyword">while</span>(t--)<br>    &#123;<br>        <span class="hljs-keyword">int</span> e, f, n;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>, &amp;e, &amp;f, &amp;n);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;w[i], &amp;c[i]);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= f - e; ++i)dp[i] = inf;<br>        dp[<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = c[i]; j &lt;= f - e; ++j)<br>                dp[j] = min(dp[j], dp[j - c[i]] + w[i]);<br>        <span class="hljs-keyword">if</span>(dp[f - e] &gt;= inf)<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;This is impossible.\n&quot;</span>);<br>        <span class="hljs-keyword">else</span><br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;The minimum amount of money in the piggy-bank is %d.\n&quot;</span>, dp[f - e]);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="I-æœ€å°‘æ‹¦æˆªç³»ç»Ÿ-HDU-1257"><a href="#I-æœ€å°‘æ‹¦æˆªç³»ç»Ÿ-HDU-1257" class="headerlink" title="I-æœ€å°‘æ‹¦æˆªç³»ç»Ÿ HDU - 1257"></a>I-æœ€å°‘æ‹¦æˆªç³»ç»Ÿ HDU - 1257</h1><h2 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><p>è¿™é“é¢˜çš„é¢˜æ„æ˜¯ç»™ä½ ä¸€ä¸²æ•°ï¼Œç„¶åè®©ä½ æ‰¾å‡ºæœ€å°‘çš„å‡ ä¸ªåºåˆ—ï¼Œè¿™äº›åºåˆ—æ»¡è¶³é€’å‡çš„å¾ªåºï¼ˆä¸ä¸€å®šä¸¥æ ¼é€’å‡ï¼‰ï¼Œï¼Œæ€»æ•°æ˜¯åŸåºåˆ—çš„æ€»æ•°ï¼Œï¼Œ</p>
<p>è¯»å®Œé¢˜åç¬¬ä¸€ååº”æ˜¯æ¨¡æ‹Ÿä¸€ä¸‹è¿™ä¸ªå¯»æ‰¾è¿‡ç¨‹ï¼Œï¼Œè´ªå¿ƒçš„å»å°½å¯èƒ½çš„æ‰¾ä¸€ä¸ªæœ€é•¿çš„åºåˆ—ï¼Œï¼Œä½†è¿™å°±ä¸æ˜¯dpäº†ï¼Œï¼Œï¼Œå¯æ€ä¹ˆéƒ½æƒ³ä¸åˆ°æ€ä¹ˆç”¨dpè§£å†³ï¼Œï¼Œï¼Œ<a href="https://www.cnblogs.com/cenariusxz/p/4304567.html">çœ‹äº†ä¸€ä¸ªäººçš„é¢˜è§£åäº†è§£äº†</a>ï¼šæ±‚è¿™ä¸ªåºåˆ—çš„LISï¼Œï¼Œå¯¹äºè¿™ä¸ªLISä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½ä»£è¡¨ç€ä¸€ä¸ªæ‹¦æˆªç³»ç»Ÿçš„æœ€å°å€¼ï¼ˆä¹Ÿå°±æ˜¯ä»¥å‰è´ªå¿ƒè¦æ±‚å¾—æ¯ä¸€ä¸ªåºåˆ—çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œï¼Œå› ä¸ºåºåˆ—æ˜¯ä¸Šå‡çš„ï¼Œï¼Œæ‰€ä»¥æ¯ä¸€ä¸ªå…ƒç´ éƒ½ä¸èƒ½å†æ‹¦æˆªåºåˆ—ä¸­çš„ä¸‹ä¸€ä¸ªæ•°ï¼Œï¼Œä¹Ÿå°±æ˜¯è¯´æœ€åçš„LISå°±æ˜¯æ€»çš„ç³»ç»Ÿæ•°</p>
<h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> dp[maxn], a[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">int</span> n;<br>    <span class="hljs-keyword">while</span>(~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n))<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a[i]);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)dp[i] = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= n; ++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= i; ++j)<br>                <span class="hljs-keyword">if</span>(a[i] &gt; a[j])<br>                    dp[i] = max(dp[i], dp[j] + <span class="hljs-number">1</span>);<br>        <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            ans = max(ans, dp[i]);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, ans);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="L-Common-Subsequence-POJ-1458"><a href="#L-Common-Subsequence-POJ-1458" class="headerlink" title="L - Common Subsequence POJ - 1458"></a>L - Common Subsequence POJ - 1458</h1><p>LCS æ¿å­é¢˜</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//hdu</span><br><span class="hljs-comment">//#include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; pii;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">char</span> s1[maxn], s2[maxn];<br><span class="hljs-keyword">int</span> dp[maxn][maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">while</span>(~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s%s&quot;</span>, s1, s2))<br>    &#123;<br>        <span class="hljs-keyword">int</span> len1 = <span class="hljs-built_in">strlen</span>(s1);<br>        <span class="hljs-keyword">int</span> len2 = <span class="hljs-built_in">strlen</span>(s2);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= max(len1, len2); ++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt;= max(len1, len2); ++j)<br>                dp[i][j] = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= len1; ++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= len2; ++j)<br>                <span class="hljs-keyword">if</span>(s1[i - <span class="hljs-number">1</span>] == s2[j - <span class="hljs-number">1</span>])<br>                    dp[i][j] = dp[i - <span class="hljs-number">1</span>][j - <span class="hljs-number">1</span>] + <span class="hljs-number">1</span>;<br>                <span class="hljs-keyword">else</span><br>                    dp[i][j] = max(dp[i - <span class="hljs-number">1</span>][j], dp[i][j - <span class="hljs-number">1</span>]);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, dp[len1][len2]);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="N-Longest-Ordered-Subsequence-POJ-2533"><a href="#N-Longest-Ordered-Subsequence-POJ-2533" class="headerlink" title="N - Longest Ordered Subsequence POJ - 2533"></a>N - Longest Ordered Subsequence POJ - 2533</h1><p>LISæ¿å­é¢˜ï¼Œä¹‹å‰åšè¿‡</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//hdu</span><br><span class="hljs-comment">//#include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; pii;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> a[maxn], dp[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">int</span> n;<br>    <span class="hljs-keyword">while</span>(~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n))<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a[i]);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)dp[i] = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= n; ++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= i - <span class="hljs-number">1</span>; ++j)<br>                <span class="hljs-keyword">if</span>(a[i] &gt; a[j])<br>                    dp[i] = max(dp[i], dp[j] + <span class="hljs-number">1</span>);<br>        <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)ans = max(ans, dp[i]);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, ans);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>ACM-åŠ¨æ€è§„åˆ’</category>
      </categories>
      <tags>
        <tag>åˆ·é¢˜</tag>
        <tag>acm</tag>
      </tags>
  </entry>
  <entry>
    <title>åŠ¨æ€è§„åˆ’_èƒŒåŒ…é—®é¢˜</title>
    <url>/2018/07/30/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92-%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>èƒŒåŒ…é—®é¢˜å°±æ˜¯åŠ¨æ€è§„åˆ’çš„ä¸€ä¸ªå…¸å‹é—®é¢˜ï¼Œï¼Œï¼Œä¸ªäººè§‰å¾—é‡åœ¨è€ƒæŸ¥åŠ¨æ€è§„åˆ’çš„æ€ç»´ï¼Œï¼Œæœ‰æ—¶éœ€è¦å°†é¢˜ç›®æŠ½è±¡å‡ºæ¥ï¼Œï¼Œï¼Œæ‰¾å‡ºç›¸å¯¹åº”çš„æ¨¡å‹ï¼Œï¼Œï¼Œç„¶åä¼˜åŒ–è§£å†³ï¼Œï¼Œï¼Œè€Œä¸æ˜¯ä¸€å‘³çš„å¥—æ¨¡æ¿ã€‚ã€‚ã€‚</p>
<p>è¿™ç¯‡åšå®¢ä¸»è¦æœ‰ <strong>01èƒŒåŒ…é—®é¢˜</strong> ï¼Œ <strong>å®Œå…¨èƒŒåŒ…é—®é¢˜</strong> ï¼Œ <strong>å¤šé‡èƒŒåŒ…é—®é¢˜</strong> ï¼Œ <strong>æ··å’ŒèƒŒåŒ…é—®é¢˜</strong> è¿˜æœ‰ <strong>äºŒç»´è´¹ç”¨èƒŒåŒ…é—®é¢˜</strong>ï¼Œï¼Œï¼Œ</p>
<span id="more"></span>
<h2 id="æ¦‚å¿µçŸ¥è¯†ç‚¹"><a href="#æ¦‚å¿µçŸ¥è¯†ç‚¹" class="headerlink" title="æ¦‚å¿µçŸ¥è¯†ç‚¹"></a>æ¦‚å¿µçŸ¥è¯†ç‚¹</h2><p><a href="https://www.kancloud.cn/kancloud/pack/70124">å¤§ä½¬çš„æ–‡ç« å†™çš„ä¸é”™ï¼Œï¼Œæœ‰æ—¶é—´å¥½å¥½çœ‹çœ‹</a></p>
<h3 id="01èƒŒåŒ…é—®é¢˜"><a href="#01èƒŒåŒ…é—®é¢˜" class="headerlink" title="01èƒŒåŒ…é—®é¢˜"></a>01èƒŒåŒ…é—®é¢˜</h3><blockquote>
<p>æœ‰ N ä»¶ç‰©å“å’Œä¸€ä¸ªå®¹é‡ä¸º V çš„èƒŒåŒ…ã€‚æ”¾å…¥ç¬¬ i ä»¶ç‰©å“è€—è´¹çš„è´¹ç”¨æ˜¯ C_i ï¼Œå¾—åˆ°çš„ä»·å€¼æ˜¯ W_i ã€‚æ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…å¯ä½¿ä»·å€¼æ€»å’Œæœ€å¤§ã€‚</p>
<p>è¿™æ˜¯æœ€åŸºç¡€çš„èƒŒåŒ…é—®é¢˜ï¼Œç‰¹ç‚¹æ˜¯ï¼šæ¯ç§ç‰©å“ä»…æœ‰ä¸€ä»¶ï¼Œå¯ä»¥é€‰æ‹©æ”¾æˆ–ä¸æ”¾ã€‚</p>
</blockquote>
<p>å®šä¹‰çŠ¶æ€ï¼š</p>
<p>F[i,v]è¡¨ç¤ºæŠŠå‰iä»¶ç‰©å“æ”¾å…¥å®¹é‡ä¸ºvçš„åŒ…ä¸­å¯ä»¥è·å¾—çš„æœ€å¤§ä»·å€¼ã€‚</p>
<p>çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š</p>
<p>F(i,v) = max(F(i-1,v),F(i-1,v-Ci)+Wi)</p>
<p>ä»£ç ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">int</span> c[N];               <span class="hljs-comment">//ç¬¬iä¸ªç‰©å“çš„ä»£ä»·</span><br><span class="hljs-keyword">int</span> w[N];               <span class="hljs-comment">//ç¬¬iä¸ªç‰©å“çš„ä»·å€¼</span><br><span class="hljs-keyword">int</span> f[N][N];            <span class="hljs-comment">//f[i][j]è¡¨ç¤ºå°†å‰iä»¶ç‰©å“æ”¾å…¥å®¹é‡ä¸ºjçš„åŒ…æ˜¯çš„æœ€å¤§çš„ä»·å€¼</span><br>F[<span class="hljs-number">0</span>][<span class="hljs-number">0</span> - v] = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = c[i]; j &lt;= v; j++)<br>        f[i][j] = max(f[i - <span class="hljs-number">1</span>][j] , f[i - <span class="hljs-number">1</span>][j - c[i]] + w[i]);<br></code></pre></td></tr></table></figure>
<p>æ—¶é—´å¤æ‚åº¦ä¸ºO(v * n)</p>
<p>ç©ºé—´å¤æ‚åº¦å¯ä»¥ç»§ç»­ä¼˜åŒ–åˆ°O(v)</p>
<p>å°†äºŒç»´çš„f(i , v)æ”¹æˆä¸€ç»´çš„ï¼Œï¼Œï¼Œé€†åºæ±‚å³å¯</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp">f[<span class="hljs-number">0</span> - v] = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = v; j &gt;= c[i]; j--)<br>        f[j] = max(f[j] , f[j - c[i]] + w[i]);<br></code></pre></td></tr></table></figure>
<p><strong>åˆå§‹åŒ–ç»†èŠ‚</strong></p>
<p>è‹¥é¢˜ç›®è¦æ±‚ <strong>æ°å¥½å¥½è£…æ»¡èƒŒåŒ…çš„æœ€ä¼˜è§£</strong>ï¼Œï¼Œåˆå§‹åŒ–ï¼šf[0] = 0; f[1 - v] = -INF;</p>
<p>è‹¥é¢˜ç›®è¦æ±‚ <strong>ä¸éœ€è¦å°†èƒŒåŒ…è£…æ»¡</strong> ï¼Œï¼Œï¼Œï¼Œï¼Œåˆå§‹åŒ–ï¼šf[0 - v] = 0;</p>
<h3 id="å®Œå…¨èƒŒåŒ…"><a href="#å®Œå…¨èƒŒåŒ…" class="headerlink" title="å®Œå…¨èƒŒåŒ…"></a>å®Œå…¨èƒŒåŒ…</h3><h2 id="ä¹ é¢˜"><a href="#ä¹ é¢˜" class="headerlink" title="ä¹ é¢˜"></a>ä¹ é¢˜</h2><h3 id="Problem-A-ä¹°ä¸œè¥¿"><a href="#Problem-A-ä¹°ä¸œè¥¿" class="headerlink" title="Problem A: ä¹°ä¸œè¥¿"></a>Problem A: ä¹°ä¸œè¥¿</h3><p>Time Limit: 1 Sec  Memory Limit: 128 MB</p>
<blockquote>
<p>Description</p>
<p>ä»Šå¤©AveryBoyå»ä¸€å®¶è¯¡å¼‚çš„åº—ä¹°ä¸œè¥¿ã€‚å¦‚æœå¡ä¸Šçš„ä½™é¢&gt;=5ï¼Œå°±ä¸€å®šå¯ä»¥ä¹°åˆ°ä¸œè¥¿ï¼Œå³ä½¿ä¹°å®Œä¹‹åå¡ä¸Šä½™é¢ä¸ºè´Ÿï¼›å¦åˆ™ä¸èƒ½ä¹°åˆ°ä¸œè¥¿ï¼Œå³ä½¿å¡ä¸Šçš„ä½™é¢è¶³å¤Ÿã€‚æ‰€ä»¥æœ€åå¤§å®¶è‚¯å®šéƒ½å¸Œæœ›å¡ä¸Šçš„ä½™é¢å°½å¯èƒ½çš„å°‘ã€‚</p>
<p>ç°åœ¨å·²çŸ¥å•†åº—æœ‰nç§å•†å“å¹¶ä¸”æ¯ç§å•†å“åªæœ‰ä¸€ä¸ªï¼Œæ¯ç§å•†å“çš„ä»·æ ¼å’Œå¡ä¸Šä½™é¢ï¼Œæ±‚æœ€å°‘èƒ½ä½¿å¡ä¸Šä½™é¢ä¸ºå¤šå°‘ï¼Ÿ</p>
<p>Input</p>
<p>æœ‰å¤šç»„è¾“å…¥æ•°æ®ï¼Œå¯¹äºæ¯ç»„è¾“å…¥æ•°æ®ï¼š</p>
<p>ç¬¬ä¸€è¡Œä¸ºä¸€ä¸ªæ­£æ•´æ•°nï¼Œn&lt;=1000ï¼Œè¡¨ç¤ºå•†å“çš„ä¸ªæ•°ã€‚</p>
<p>ç¬¬äºŒè¡Œä¸ºnä¸ªæ­£æ•´æ•°ï¼Œè¡¨ç¤ºæ¯ç§å•†å“çš„ä»·æ ¼ï¼Œä»·æ ¼&lt;=50ã€‚</p>
<p>ç¬¬ä¸‰è¡Œä¸ºä¸€ä¸ªæ­£æ•´æ•°mï¼Œm&lt;=1000ï¼Œè¡¨ç¤ºå¡ä¸Šçš„ä½™é¢ã€‚</p>
<p>n=0è¡¨ç¤ºè¾“å…¥ç»“æŸã€‚</p>
<p>Output</p>
<p>å¯¹äºæ¯ç»„è¾“å…¥ï¼Œè¾“å‡ºå¡ä¸Šå¯èƒ½çš„æœ€å°‘ä½™é¢ã€‚</p>
<p>Sample Input<br>1<br>50<br>5<br>10<br>1 2 3 2 1 1 2 3 2 1<br>50<br>0</p>
<p>Sample Output<br>-45<br>32</p>
</blockquote>
<p>æˆ‘çš„ä»£ç ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//#include &lt;iostream&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> ms(a , b) memset(a , b , sizeof(a))</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e4</span>;<br><span class="hljs-keyword">int</span> f[N];<br><span class="hljs-keyword">int</span> c[N];<br><span class="hljs-keyword">int</span> n , m;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">while</span> (<span class="hljs-built_in">cin</span> &gt;&gt; n &amp;&amp; n)<br>    &#123;<br>        ms(f , <span class="hljs-number">0</span>);<br>        ms(c , <span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>        &#123;<br>            <span class="hljs-built_in">cin</span> &gt;&gt; c[i];<br>            <span class="hljs-comment">//w[i] = c[i];</span><br>        &#125;<br>        <span class="hljs-keyword">int</span> v;<span class="hljs-built_in">cin</span> &gt;&gt; v;<br>        <span class="hljs-keyword">if</span> (v &lt; <span class="hljs-number">5</span>)<br>        &#123;<br>            <span class="hljs-built_in">cout</span> &lt;&lt; v &lt;&lt; <span class="hljs-built_in">endl</span>;<br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br><br>        sort(c + <span class="hljs-number">1</span> , c + <span class="hljs-number">1</span> + n);        <span class="hljs-comment">//å°†æœ€å¤§çš„é‚£ä¸ªæ”¾æœ€å</span><br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; n; i++)     <span class="hljs-comment">//æ‰€ä»¥æ˜¯n-1ä¸ª</span><br>        &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = v - <span class="hljs-number">5</span>; j &gt;= c[i]; j--)<br>            &#123;<br>                    f[j] = max(f[j] , f[j - c[i]] + c[i]);<br>            &#125;<br>        &#125;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; v - f[v - <span class="hljs-number">5</span>] - c[n] &lt;&lt; <span class="hljs-built_in">endl</span>;    <span class="hljs-comment">//åœ¨æ·»ä¸Šæœ€åå“ªä¸€ä¸ªæœ€å¤§çš„</span><br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">//5</span><br><span class="hljs-comment">//5 4 5 4 5</span><br><span class="hljs-comment">//15</span><br><span class="hljs-comment">//1</span><br><span class="hljs-comment">//50</span><br><span class="hljs-comment">//5</span><br><span class="hljs-comment">//10</span><br><span class="hljs-comment">//1 2 3 2 1 1 2 3 2 1</span><br><span class="hljs-comment">//50</span><br><span class="hljs-comment">//0</span><br><br></code></pre></td></tr></table></figure>
<p>å­¦é•¿çš„ä»£ç ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// hdu 2546</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-keyword">int</span> dp[<span class="hljs-number">1005</span>],sz[<span class="hljs-number">1005</span>];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> n,num;<br>    <span class="hljs-keyword">while</span>(~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;n)&amp;&amp;n)<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;sz[i]);<br>        &#125;<br>        sort(sz+<span class="hljs-number">1</span>,sz+<span class="hljs-number">1</span>+n);<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;num);<br>        <span class="hljs-keyword">if</span>(num&lt;<span class="hljs-number">5</span>)<br>        &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>,num);<br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br>        <span class="hljs-built_in">memset</span>(dp,<span class="hljs-number">0</span>,<span class="hljs-keyword">sizeof</span>(dp));<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;n;i++)<br>        &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=num<span class="hljs-number">-5</span>;j&gt;=sz[i];j--)<br>            &#123;<br>                dp[j] = max(dp[j],dp[j-sz[i]]+sz[i]);<br>            &#125;<br>        &#125;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>,num-dp[num<span class="hljs-number">-5</span>]-sz[n]);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<h3 id="Problem-B-æ¸¸æˆ"><a href="#Problem-B-æ¸¸æˆ" class="headerlink" title="Problem B: æ¸¸æˆ"></a>Problem B: æ¸¸æˆ</h3><p>Time Limit: 1 Sec  Memory Limit: 128 MB</p>
<blockquote>
<p>Description</p>
<p>æœ€è¿‘AveryBoyæ²‰è¿·æ¸¸æˆï¼Œæ— æ³•è‡ªæ‹”ã€‚ä½†æ˜¯æ‰“æ€ªå‡çº§çš„æ¸¸æˆç©ä¹…äº†å¾ˆæ— è¶£ï¼Œç°åœ¨ä»–è¿˜å·®nç‚¹ç»éªŒå°±å‡åˆ°é¡¶çº§äº†ï¼Œä½†æ˜¯ä»–åªå‰©mç‚¹å¿è€åº¦ã€‚æ¯æ€ä¸€ä¸ªæ€ªï¼Œä»–ä¼šå¾—åˆ°å¯¹åº”çš„ç»éªŒå€¼ï¼Œå¹¶å‡æ‰ç›¸åº”çš„å¿è€åº¦ã€‚å½“å¿è€åº¦&lt;=0æ—¶ï¼Œä»–å°±ä¸ä¼šå†ç©æ¸¸æˆã€‚å¹¶ä¸”ä»–æœ€å¤šåªæ€såªæ€ªã€‚è¯·é—®ä»–èƒ½å‡åˆ°é¡¶çº§å—ï¼Ÿ</p>
<p>Input</p>
<p>è¾“å…¥æ•°æ®æœ‰å¤šç»„ï¼Œå¯¹äºæ¯ç»„æ•°æ®ç¬¬ä¸€è¡Œè¾“å…¥nï¼Œmï¼Œkï¼Œs(0 &lt; n,m,k,s &lt;= 100)å››ä¸ªæ­£æ•´æ•°ã€‚åˆ†åˆ«è¡¨ç¤ºè¿˜éœ€çš„ç»éªŒå€¼ï¼Œä¿ç•™çš„å¿è€åº¦ï¼Œæ€ªçš„ç§æ•°å’Œæœ€å¤šçš„æ€æ€ªæ•°ã€‚æ¥ä¸‹æ¥è¾“å…¥kè¡Œæ•°æ®ã€‚æ¯è¡Œæ•°æ®è¾“å…¥ä¸¤ä¸ªæ­£æ•´æ•°aï¼Œb(0 &lt; a,b &lt;= 20)ï¼›åˆ†åˆ«è¡¨ç¤ºæ€æ‰ä¸€åªè¿™ç§æ€ªAveryBoyä¼šå¾—åˆ°çš„ç»éªŒå€¼å’Œä¼šå‡æ‰çš„å¿è€åº¦ã€‚(æ¯ç§æ€ªéƒ½æœ‰æ— æ•°ä¸ª)</p>
<p>Output</p>
<p>è¾“å‡ºå‡åˆ°é¡¶çº§è¿˜èƒ½ä¿ç•™çš„æœ€å¤§å¿è€åº¦ï¼Œå¦‚æœæ— æ³•å‡åˆ°é¡¶çº§è¾“å‡º-1ã€‚</p>
<p>Sample Input<br>10 10 1 10<br>1 1<br>10 10 1 9<br>1 1<br>9 10 2 10<br>1 1<br>2 2</p>
<p>Sample Output<br>0<br>-1<br>1</p>
</blockquote>
<p>æˆ‘çš„ä»£ç ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//#include &lt;iostream&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">110</span>;<br><span class="hljs-keyword">int</span> f[N][N];<br><span class="hljs-keyword">int</span> c[N];<br><span class="hljs-keyword">int</span> w[N];<br><span class="hljs-keyword">int</span> n , m , k , s;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">while</span> (<span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m &gt;&gt; k &gt;&gt; s)<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= k; i++)<br>            <span class="hljs-built_in">cin</span> &gt;&gt; w[i] &gt;&gt; c[i];<br> <br>        <span class="hljs-built_in">memset</span>(f , <span class="hljs-number">0</span> , <span class="hljs-keyword">sizeof</span>(f));<br> <br>        <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; i++)            <span class="hljs-comment">//å¿è€åº¦</span><br>        &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= k; j++)         <span class="hljs-comment">//æ€ªçš„ç§æ•°</span><br>            &#123;<br>                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> l = <span class="hljs-number">1</span>; l &lt;= s; l++)    <span class="hljs-comment">//å¯æ€çš„æ€ªçš„æ•°é‡</span><br>                    <span class="hljs-keyword">if</span> (c[j] &lt;= i)<br>                        f[i][l] = max(f[i][l] , f[i - c[j]][l - <span class="hljs-number">1</span>] + w[j]);<br>            &#125;<br> <br>            <span class="hljs-keyword">if</span> (f[i][s] &gt;= n)<br>            &#123;<br>                <span class="hljs-built_in">cout</span> &lt;&lt; m - i &lt;&lt; <span class="hljs-built_in">endl</span>;<br>                flag = <span class="hljs-literal">false</span>;<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (flag)   <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;-1&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>å­¦é•¿çš„ä»£ç ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// hdu 2159</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-keyword">int</span> dp[<span class="hljs-number">105</span>][<span class="hljs-number">105</span>],a[<span class="hljs-number">105</span>],b[<span class="hljs-number">105</span>];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> n,m,k,s,tmp;<br>    <span class="hljs-keyword">while</span>(~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d%d&quot;</span>,&amp;n,&amp;m,&amp;k,&amp;s))<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=k;i++)  <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>,&amp;a[i],&amp;b[i]);<br>        <span class="hljs-built_in">memset</span>(dp,<span class="hljs-number">0</span>,<span class="hljs-keyword">sizeof</span>(dp));<br>        tmp=<span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=m;i++)<br>        &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">1</span>;j&lt;=k;j++)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(i&lt;b[j]) <span class="hljs-keyword">continue</span>;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> x=<span class="hljs-number">1</span>;x&lt;=s;x++)<br>                &#123;<br>                    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> y=<span class="hljs-number">1</span>;y&lt;=x&amp;&amp;y*b[j]&lt;=i;y++)<br>                    &#123;<br>                        dp[i][x] = max(dp[i-y*b[j]][x-y]+y*a[j],dp[i][x]);<br>                    &#125;<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">if</span>(dp[i][s]&gt;=n)<br>            &#123;<br>                tmp=i;<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(tmp==<span class="hljs-number">0</span>) <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;-1\n&quot;</span>);<br>        <span class="hljs-keyword">else</span> <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>,m-tmp);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<h3 id="Problem-C-ä¹°ä¸œè¥¿2"><a href="#Problem-C-ä¹°ä¸œè¥¿2" class="headerlink" title="Problem C: ä¹°ä¸œè¥¿2"></a>Problem C: ä¹°ä¸œè¥¿2</h3><p>Time Limit: 1 Sec  Memory Limit: 128 MB</p>
<blockquote>
<p>Description</p>
<p>ä½ æœ‰nå…ƒé’±ï¼Œå•†åº—æœ‰mç§å•†å“ï¼Œæ¯ç§å•†å“éƒ½æœ‰å…¶å¯¹åº”çš„ä»·æ ¼å’Œé‡é‡ã€‚ç°åœ¨é—®ä½ ç”¨è¿™nå…ƒæœ€å¤šèƒ½ä¹°å¤šé‡çš„å•†å“ã€‚</p>
<p>Input</p>
<p>è¾“å…¥æ•°æ®é¦–å…ˆåŒ…å«ä¸€ä¸ªæ­£æ•´æ•°Cï¼Œè¡¨ç¤ºæœ‰Cç»„æµ‹è¯•ç”¨ä¾‹ï¼Œæ¯ç»„æµ‹è¯•ç”¨ä¾‹çš„ç¬¬ä¸€è¡Œæ˜¯ä¸¤ä¸ªæ•´æ•°nå’Œm(1&lt;=n&lt;=100, 1&lt;=m&lt;=100),åˆ†åˆ«è¡¨ç¤ºç»è´¹çš„é‡‘é¢å’Œå•†å“çš„ç§ç±»ï¼Œç„¶åæ˜¯mè¡Œæ•°æ®ï¼Œæ¯è¡ŒåŒ…å«3ä¸ªæ•°pï¼Œhå’Œc(1&lt;=p&lt;=20,1&lt;=h&lt;=200,1&lt;=c&lt;=20)ï¼Œåˆ†åˆ«è¡¨ç¤ºæ¯ç§å•†å“çš„ä»·æ ¼ã€é‡é‡ä»¥åŠä¸ªæ•°ã€‚</p>
<p>Output</p>
<p>å¯¹äºæ¯ç»„æµ‹è¯•æ•°æ®ï¼Œè¯·è¾“å‡ºèƒ½å¤Ÿè´­ä¹°å•†å“çš„æœ€é‡çš„é‡é‡ï¼Œä½ å¯ä»¥å‡è®¾ç»è´¹ä¹°ä¸å…‰æ‰€æœ‰çš„å•†å“ï¼Œå¹¶ä¸”ç»è´¹ä½ å¯ä»¥ä¸ç”¨å®Œã€‚æ¯ä¸ªå®ä¾‹çš„è¾“å‡ºå ä¸€è¡Œã€‚</p>
<p>Sample Input<br>1<br>8 2<br>2 100 4<br>4 100 2</p>
<p>Sample Output<br>400</p>
</blockquote>
<p>æˆ‘çš„ä»£ç ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//#include &lt;iostream&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> ms(a , b) memset(a , b , sizeof(a))</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e4</span> + <span class="hljs-number">3</span>;<br> <br><span class="hljs-keyword">int</span> f[N];<br><span class="hljs-keyword">int</span> w[N];<br><span class="hljs-keyword">int</span> c[N];<br><span class="hljs-keyword">int</span> m[N];<br><span class="hljs-keyword">int</span> pw[N];<br><span class="hljs-keyword">int</span> pc[N];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> t;<span class="hljs-built_in">cin</span> &gt;&gt; t;<br>    <span class="hljs-keyword">while</span> (t--)<br>    &#123;<br>        ms(f , <span class="hljs-number">0</span>);<br>        ms(w , <span class="hljs-number">0</span>);<br>        ms(c , <span class="hljs-number">0</span>);<br>        ms(pw , <span class="hljs-number">0</span>);<br>        ms(pc , <span class="hljs-number">0</span>);<br>        ms(m , <span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">int</span> n , mm;<span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; mm;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= mm; i++)<br>        &#123;<br>            <span class="hljs-built_in">cin</span> &gt;&gt; pc[i];<br>            <span class="hljs-built_in">cin</span> &gt;&gt; pw[i];<br>            <span class="hljs-built_in">cin</span> &gt;&gt; m[i];<br>        &#125;<br> <br>        <span class="hljs-keyword">int</span> num = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= mm; i++)<br>        &#123;<br>            <span class="hljs-keyword">int</span> k = <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">while</span> (k &lt; m[i])<br>            &#123;<br>                w[num] = pw[i] * k;<br>                c[num] = pc[i] * k;<br>                num++;<br>                m[i] -= k;<br>                k &lt;&lt;= <span class="hljs-number">1</span>;<br>            &#125;<br>            w[num] = pw[i] * m[i];<br>            c[num] = pc[i] * m[i];<br>            num++;<br>        &#125;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; num; i++)<br>        &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = n; j &gt;= c[i]; j--)<br>            &#123;<br>                f[j] = max(f[j] , f[j - c[i]] + w[i]);<br>            &#125;<br>        &#125;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; f[n] &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>å­¦é•¿çš„ä»£ç :</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// hdu 2191</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-keyword">int</span> dp[<span class="hljs-number">105</span>],c[<span class="hljs-number">505</span>],w[<span class="hljs-number">505</span>];<br><span class="hljs-keyword">int</span> pc[<span class="hljs-number">105</span>],pw[<span class="hljs-number">105</span>],s[<span class="hljs-number">105</span>];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> t;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;t);<br>    <span class="hljs-keyword">while</span>(t--)<br>    &#123;<br>        <span class="hljs-keyword">int</span> n,m;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>,&amp;n,&amp;m);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=m;i++)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>,&amp;pc[i],&amp;pw[i],&amp;s[i]);<br>        &#125;<br><br>        <span class="hljs-comment">// äºŒè¿›åˆ¶æ‹†åˆ†</span><br>        <span class="hljs-keyword">int</span> num = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=m;i++)<br>        &#123;<br>            <span class="hljs-keyword">int</span> k = <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">while</span>(k&lt;s[i])<br>            &#123;<br>                c[num] = pc[i]*k;<br>                w[num] = pw[i]*k;<br>                num++;<br>                s[i]-=k;<br>                k&lt;&lt;=<span class="hljs-number">1</span>;<br>            &#125;<br>            c[num] = pc[i]*s[i];<br>            w[num] = pw[i]*s[i];<br>            num++;<br>        &#125;<br><br>        <span class="hljs-built_in">memset</span>(dp,<span class="hljs-number">0</span>,<span class="hljs-keyword">sizeof</span>(dp));<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;num;i++)<br>        &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=n;j&gt;=c[i];j--)<br>            &#123;<br>                dp[j] = max(dp[j],dp[j-c[i]]+w[i]);<br>            &#125;<br>        &#125;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>,dp[n]);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<h3 id="Problem-D-é€‰è¯¾"><a href="#Problem-D-é€‰è¯¾" class="headerlink" title="Problem D: é€‰è¯¾"></a>Problem D: é€‰è¯¾</h3><p>Time Limit: 2 Sec  Memory Limit: 128 MB</p>
<blockquote>
<p>Description</p>
<p>AveryBoyè¿™å­¦æœŸæœ‰né—¨è¯¾ç¨‹ï¼Œä½†ç”±äºä»–è¦å»ä¸Šç­ï¼Œå¯¼è‡´ä»–æœ€å¤šåªæœ‰må¤©å»å­¦ä¹ è¿™äº›è¯¾ç¨‹ã€‚æ¯é—¨è¯¾ç¨‹å­¦ä¹ çš„å¤©æ•°ä¸åŒä¼šå¾—åˆ°ä¸åŒçš„åˆ†æ•°ï¼Œæ±‚ä»–å¦‚ä½•å®‰æ’å­¦ä¹ è®¡åˆ’ä½¿å¾—æ€»åˆ†æ•°æœ€å¤šã€‚</p>
<p>Input</p>
<p>è¾“å…¥åŒ…å«å¤šç»„æµ‹è¯•æ•°æ®ï¼Œæ¯ç»„æµ‹è¯•æ•°æ®ç¬¬ä¸€è¡Œæ˜¯ä¸¤ä¸ªæ­£æ•´æ•°nï¼Œmã€‚è¡¨ç¤ºè¯¾ç¨‹æ•°å’Œä»–å­¦ä¹ çš„å¤©æ•°ã€‚</p>
<p>ä¹‹åæ˜¯n*mçš„çŸ©é˜µï¼ŒA[i][j]è¡¨ç¤ºç¬¬ié—¨è¯¾ç¨‹å­¦ä¹ jå¤©ä¼šè·å¾—çš„åˆ†æ•°ã€‚ï¼ˆ1&lt;=i&lt;=n&lt;=100ï¼Œ1&lt;=j&lt;=m&lt;=100ï¼Œ1&lt;=A[i][j]&lt;=50ï¼‰</p>
<p>è¾“å…¥ä»¥n=0ï¼Œm=0ç»“æŸã€‚</p>
<p>Output</p>
<p>å¯¹äºæ¯ç»„æ•°æ®ï¼Œè¾“å‡ºAveryBoyèƒ½è·å¾—çš„æœ€å¤§åˆ†æ•°ã€‚</p>
<p>Sample Input<br>2 2<br>1 2<br>1 3<br>2 2<br>2 1<br>2 1<br>2 3<br>3 2 1<br>3 2 1<br>0 0</p>
<p>Sample Output<br>3<br>4<br>6</p>
</blockquote>
<p>æˆ‘çš„ä»£ç :</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//#include &lt;iostream&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e3</span>;<br><span class="hljs-keyword">int</span> f[N];<br><span class="hljs-keyword">int</span> n , m;<br><span class="hljs-keyword">int</span> A[N][N];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">while</span> (<span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m &amp;&amp; n &amp;&amp; m)<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; j++)<br>                <span class="hljs-built_in">cin</span> &gt;&gt; A[i][j];<br> <br>        <span class="hljs-built_in">memset</span>(f , <span class="hljs-number">0</span> , <span class="hljs-keyword">sizeof</span>(f));<br> <br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> k = <span class="hljs-number">1</span>; k &lt;= n; k++)            <span class="hljs-comment">//å°†nä¸ªè¯¾ç¨‹åˆ†ç»„ä¸º1~k</span><br>        &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = m; j &gt;= <span class="hljs-number">1</span>; j--)        <br>            &#123;<br>                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; i++)    <span class="hljs-comment">//å¯¹äºæ¯ä¸€ç»„ä¸­çš„mä¸ªä¸åŒçš„æ–¹æ¡ˆ</span><br>                    <span class="hljs-keyword">if</span> (j - i &gt;= <span class="hljs-number">0</span>)             <span class="hljs-comment">//å½“å‰å¤©æ•°å¤Ÿæ—¶</span><br>                        f[j] = max(f[j] , f[j - i] + A[k][i]);<br>            &#125;<br>        &#125;<br> <br>        <span class="hljs-built_in">cout</span> &lt;&lt; f[m] &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br> <br></code></pre></td></tr></table></figure>
<p>å­¦é•¿çš„ä»£ç :</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// hdu 1712</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-keyword">int</span> sz[<span class="hljs-number">105</span>][<span class="hljs-number">105</span>],dp[<span class="hljs-number">105</span>];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> n,m;<br>    <span class="hljs-keyword">while</span>(~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>,&amp;n,&amp;m)&amp;&amp;n&amp;&amp;m)<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">1</span>;j&lt;=m;j++)<br>                <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;sz[i][j]);<br>        <span class="hljs-built_in">memset</span>(dp,<span class="hljs-number">0</span>,<span class="hljs-keyword">sizeof</span>(dp));<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++)<br>        &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=m;j&gt;=<span class="hljs-number">1</span>;j--)<br>            &#123;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> k=<span class="hljs-number">1</span>;k&lt;=m;k++)<br>                &#123;<br>                    <span class="hljs-keyword">if</span>(j-k&gt;=<span class="hljs-number">0</span>) dp[j] = max(dp[j],dp[j-k]+sz[i][k]);<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>,dp[m]);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>é¸½äº†ï¼Œï¼Œï¼Œï¼Œ</p>
]]></content>
      <tags>
        <tag>acm</tag>
        <tag>ç®—æ³•</tag>
        <tag>åŠ¨æ€è§„åˆ’</tag>
      </tags>
  </entry>
  <entry>
    <title>åŒä½™é—®é¢˜</title>
    <url>/2018/07/23/%E5%90%8C%E4%BD%99%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>æœ€è¿‘å­¦äº†å¥½å¤šæœ‰å…³æœ€å¤§å…¬çº¦æ•°çš„çŸ¥è¯†ç‚¹ï¼Œï¼Œacmé‡Œçš„åŒä½™é—®é¢˜ä¸»è¦æ˜¯å…³äºä¸€å…ƒçº¿æ€§æ–¹ç¨‹çš„è§£æ³•ç­‰ç­‰ï¼Œï¼Œï¼Œåœ¨æ­¤ç½—åˆ— <strong>æœ€å¤§å…¬çº¦æ•°gcd</strong> ï¼Œ <strong>æœ€å°å…¬å€æ•°lcm</strong> ï¼Œ <strong>æ¬§å‡ é‡Œå¾—ç®—æ³•</strong> ï¼Œ <strong>æ‰©å±•æ¬§å‡ é‡Œå¾—ç®—æ³•</strong> ï¼Œ ä»¥åŠä»–ä»¬çš„ä¸€äº›åº”ç”¨ï¼Œï¼Œï¼Œ</p>
<span id="more"></span>
<h2 id="æœ€å¤§å…¬çº¦æ•°gcdå’Œæœ€å°å…¬å€æ•°lcm"><a href="#æœ€å¤§å…¬çº¦æ•°gcdå’Œæœ€å°å…¬å€æ•°lcm" class="headerlink" title="æœ€å¤§å…¬çº¦æ•°gcdå’Œæœ€å°å…¬å€æ•°lcm"></a>æœ€å¤§å…¬çº¦æ•°gcdå’Œæœ€å°å…¬å€æ•°lcm</h2><p><a href="https://www.cnblogs.com/linyujun/p/5167914.html">å‚è€ƒæ–‡ç« </a></p>
<p>gcd(a , b)å°±æ˜¯aä¸bçš„æœ€å¤§å…¬çº¦æ•°<br>lcm(a , b)å°±æ˜¯aä¸bçš„æœ€å°å…¬å€æ•°</p>
<ul>
<li>å…¬å¼ $a<em>b=gcd</em>lcm$ï¼Œï¼Œè¯æ˜è§å¤§ä½¬çš„åšå®¢</li>
</ul>
<h3 id="è¾—è½¬ç›¸é™¤æ³•æ±‚gcd-æ¬§å‡ é‡Œå¾—ç®—æ³•"><a href="#è¾—è½¬ç›¸é™¤æ³•æ±‚gcd-æ¬§å‡ é‡Œå¾—ç®—æ³•" class="headerlink" title="è¾—è½¬ç›¸é™¤æ³•æ±‚gcd(æ¬§å‡ é‡Œå¾—ç®—æ³•)"></a>è¾—è½¬ç›¸é™¤æ³•æ±‚gcd(æ¬§å‡ é‡Œå¾—ç®—æ³•)</h3><p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//éé€’å½’å†™æ³•</span><br><span class="hljs-function">LL <span class="hljs-title">gcd</span><span class="hljs-params">(LL a, LL b)</span></span>&#123;<br>    LL t;<br>    <span class="hljs-keyword">while</span>(b)&#123;<br>        t = b;<br>        b = a % b;<br>        a = t;<br>    &#125;<br>    <span class="hljs-keyword">return</span> a;<br>&#125;<br><span class="hljs-comment">//é€’å½’å†™æ³•</span><br><span class="hljs-function">LL <span class="hljs-title">gcd</span><span class="hljs-params">(LL a, LL b)</span></span>&#123;<br>    <span class="hljs-keyword">if</span>(b == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> a;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> gcd(b, a%b);<br>&#125;<br><br><span class="hljs-function">LL <span class="hljs-title">gcd</span><span class="hljs-params">(LL a, LL b)</span></span>&#123;<br>    <span class="hljs-keyword">return</span> b ? gcd(b, a%b) : a;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼Œå¯¹äºå¤§æ•´æ•°æ¥è¯´ï¼Œå–æ¨¡è¿ç®—éå¸¸è€—æ—¶ã€‚ã€‚ã€‚è™½ç„¶è¿™å¥è¯æˆ‘è¿˜ä¸ç†è§£ï¼Œï¼Œï¼Œä½†æ˜¯å…ˆè®°åœ¨è¿™ï¼Œï¼Œï¼Œä»¥åè¯´ä¸å®šä¼šçŸ¥é“æ¥è¡¥ä¸ªç¥¨ï¼Œï¼Œï¼Œ<a href="https://blog.csdn.net/suool/article/details/14094255#">è¿™ç¯‡åšå®¢æœ‰è¯´åˆ°è¿™ä¸ªé—®é¢˜ï¼Œï¼Œä»–æ˜¯ç”¨Steinç®—æ³•è§£å†³çš„</a><br>ä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//ç®—æ³•åˆ†æ</span><br><span class="hljs-comment">//æ¸è¿‘æ—¶é—´,ç©ºé—´å¤æ‚åº¦å‡ä¸æ¬§å‡ é‡Œå¾·ç®—æ³•ç›¸åŒ</span><br><span class="hljs-comment">//åŸç†:gcd(ka,kb)=k*gcd(a,b)</span><br><span class="hljs-comment">//æœ€å¤§ç‰¹ç‚¹:åªæœ‰ç§»ä½å’ŒåŠ å‡æ³•è®¡ç®—,é¿å…äº†å¤§æ•´æ•°çš„å–æ¨¡è¿ç®—</span><br><span class="hljs-function"><span class="hljs-keyword">unsigned</span> <span class="hljs-title">MaxDivisor</span><span class="hljs-params">(<span class="hljs-keyword">unsigned</span> a, <span class="hljs-keyword">unsigned</span> b)</span> </span><br><span class="hljs-function"></span>&#123; <br>    <span class="hljs-keyword">unsigned</span> c = <span class="hljs-number">0</span>; <br>    <span class="hljs-keyword">while</span>(<span class="hljs-number">1</span>)<br>    &#123; <br>    <span class="hljs-comment">// é€€å‡ºæ¡ä»¶ </span><br>        <span class="hljs-keyword">if</span>(a==<span class="hljs-number">0</span>) <br>            <span class="hljs-keyword">return</span> b &lt;&lt; c;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(b == <span class="hljs-number">0</span>) <br>            <span class="hljs-keyword">return</span> a &lt;&lt; c;<br>    <span class="hljs-comment">// ä¸ºæé«˜é€Ÿåº¦ï¼Œé‡‡ç”¨ä½çš„ä¸è¿ç®—ï¼Œé¿å…ç”¨å–æ¨¡åˆ¤æ–­å¥‡å¶ </span><br>        <span class="hljs-keyword">if</span>(!(a &amp; <span class="hljs-number">1</span>) &amp;&amp; !(b &amp; <span class="hljs-number">1</span>)) <span class="hljs-comment">//a,b éƒ½æ˜¯å¶æ•° </span><br>        &#123; <br>            a &gt;&gt;= <span class="hljs-number">1</span>; b &gt;&gt;= <span class="hljs-number">1</span>; ++c; <br>        &#125; <br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(!(a &amp; <span class="hljs-number">1</span>) &amp;&amp; (b &amp; <span class="hljs-number">1</span>)) <span class="hljs-comment">//aå¶ bå¥‡ </span><br>        &#123; <br>            a &gt;&gt;= <span class="hljs-number">1</span>; <br>        &#125; <br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>((a &amp; <span class="hljs-number">1</span>) &amp;&amp; !(b &amp; <span class="hljs-number">1</span>)) <span class="hljs-comment">//aå¥‡ bå¶ </span><br>        &#123;<br>             b &gt;&gt;= <span class="hljs-number">1</span>; <br>        &#125; <br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>((a &amp; <span class="hljs-number">1</span>) &amp;&amp; (b &amp; <span class="hljs-number">1</span>)) <span class="hljs-comment">//a,béƒ½æ˜¯å¥‡æ•° </span><br>        &#123; <br>            <span class="hljs-keyword">unsigned</span> tmp = a&gt;b?b:a; <span class="hljs-comment">//å–è¾ƒå°çš„ä¸€ä¸ª </span><br>            a = a&gt;b?a-b:(b-a); <span class="hljs-comment">//ç»å¯¹å·®å€¼</span><br>            b = tmp; <br>        &#125; <br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></p>
<h3 id="æ±‚lcm"><a href="#æ±‚lcm" class="headerlink" title="æ±‚lcm"></a>æ±‚lcm</h3><p>æ±‚å‡ºgcdï¼Œï¼Œå°±å¯ä»¥ç”¨ä¹‹å‰çš„å…¬å¼æ¥æ±‚lcmå•¦<br>$lcm=a<em>b/gcd$<br>å› ä¸º$a</em>b$å¯èƒ½å¤ªå¤§çˆ†int,llæ‰€ä»¥å¯ä»¥å†™æˆ$lcm=a/gcd*b$</p>
<h3 id="å…¶ä»–å‡ ä¸ªå…¬å¼"><a href="#å…¶ä»–å‡ ä¸ªå…¬å¼" class="headerlink" title="å…¶ä»–å‡ ä¸ªå…¬å¼"></a>å…¶ä»–å‡ ä¸ªå…¬å¼</h3><p>$gcd(ka , kb)=k*gcd(a , b)$</p>
<p>$lcm(ka , kb)=k*lcm(a , b)$</p>
<p>è¿˜æœ‰è¿™ä¸ªï¼š</p>
<p>$lcm(s/a , s/b)=s/gcd(a , b)$</p>
<h2 id="æ‰©å±•æ¬§å‡ é‡Œå¾—ç®—æ³•"><a href="#æ‰©å±•æ¬§å‡ é‡Œå¾—ç®—æ³•" class="headerlink" title="æ‰©å±•æ¬§å‡ é‡Œå¾—ç®—æ³•"></a>æ‰©å±•æ¬§å‡ é‡Œå¾—ç®—æ³•</h2><p><a href="https://blog.csdn.net/suool/article/details/14094255#">å‚è€ƒåšå®¢</a></p>
<p>æ‰©å±•æ¬§å‡ é‡Œå¾—ç®—æ³•ä¸»è¦æ˜¯æ±‚æ–¹ç¨‹ $ax+by=gcd(a , b)$çš„è§£</p>
<p>åŸºæœ¬ç®—æ³•ï¼š</p>
<blockquote>
<p>å¯¹äºä¸å®Œå…¨ä¸º 0 çš„éè´Ÿæ•´æ•° aï¼Œbï¼Œgcdï¼ˆaï¼Œbï¼‰è¡¨ç¤º aï¼Œb çš„æœ€å¤§å…¬çº¦æ•°ï¼Œå¿…ç„¶å­˜åœ¨æ•´æ•°å¯¹ xï¼Œy ï¼Œä½¿å¾— gcdï¼ˆaï¼Œbï¼‰=ax+byã€‚</p>
</blockquote>
<p>è¯æ˜:</p>
<blockquote>
<p>è®¾ a&gt;b<br>1ï¼Œæ˜¾ç„¶å½“ b=0ï¼Œgcdï¼ˆaï¼Œbï¼‰=aã€‚æ­¤æ—¶ x=1ï¼Œy=0ï¼›<br>2ï¼Œab!=0 æ—¶</p>
<p>è®¾ :ax1+by1=gcd(a,b);<br>æ˜¾ç„¶ä¹Ÿæœ‰ï¼šbx2+(a mod b)y2=gcd(b,a mod b);</p>
<p>æ ¹æ®æœ´ç´ çš„æ¬§å‡ é‡Œå¾·åŸç†æœ‰ gcd(a,b)=gcd(b,a mod b);<br>åˆ™:ax1+by1=bx2+(a mod b)y2;<br>å³:ax1+by1=bx2+(a-(a/b)<em>b)y2=ay2+bx2-(a/b)</em>by2;<br>æ ¹æ®æ’ç­‰å®šç†å¾—ï¼šx1=y2; y1=x2-(a/b)*y2;</p>
<p>è¿™æ ·æˆ‘ä»¬å°±å¾—åˆ°äº†æ±‚è§£ x1,y1 çš„æ–¹æ³•ï¼šx1ï¼Œy1 çš„å€¼åŸºäº x2ï¼Œy2.</p>
<p>ä¸Šé¢çš„æ€æƒ³æ˜¯ä»¥é€’å½’å®šä¹‰çš„ï¼Œå› ä¸º gcd ä¸æ–­çš„é€’å½’æ±‚è§£ä¸€å®šä¼šæœ‰ä¸ªæ—¶å€™ b=0ï¼Œæ‰€ä»¥é€’å½’å¯ä»¥ç»“æŸã€‚</p>
</blockquote>
<p>æˆ‘çš„ä»£ç :<br><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">int</span> x , y;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">gcd</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a , <span class="hljs-keyword">int</span> b , <span class="hljs-keyword">int</span> &amp;x , <span class="hljs-keyword">int</span> &amp;y , <span class="hljs-keyword">int</span> &amp;d)</span>      <span class="hljs-comment">//x , y , dä¸ºå¼•ç”¨æ–¹ä¾¿æ›´æ”¹å€¼ï¼Œdä¸ºgcd(a , b)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (!b) &#123;d = a; x = <span class="hljs-number">1</span>; y = <span class="hljs-number">0</span>;&#125;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        gcd(b , a % b , y , x , d);<br>        y -= x * (a / b);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></p>
]]></content>
      <tags>
        <tag>acm</tag>
        <tag>æ•°è®º</tag>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>åšå¼ˆ</title>
    <url>/2019/07/19/%E5%8D%9A%E5%BC%88/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>åšå¼ˆè®ºï¼Œä¸€ä¸ªæ›¾ç»çœ‹äº†æ„Ÿè§‰çœ‹ä¸æ‡‚çš„ä¸œè¥¿ï¼Œï¼Œç°åœ¨ä¸å¾—ä¸å†çœ‹ä¸€ä¸‹ï¼Œï¼Œä¸è¿‡ä¹Ÿåªæ˜¯å¤§æ¦‚äº†è§£äº†ä¸€ä¸‹è¿™éƒ¨åˆ†å†…å®¹ï¼Œä¸»è¦æ˜¯sgå‡½æ•°çš„ä½¿ç”¨å§ï¼Œï¼Œ</p>
<span id="more"></span>
<h1 id="ç»å…¸åšå¼ˆ"><a href="#ç»å…¸åšå¼ˆ" class="headerlink" title="ç»å…¸åšå¼ˆ"></a>ç»å…¸åšå¼ˆ</h1><p>ç»å…¸åšå¼ˆå°±é‚£å‡ ä¸ªï¼Œï¼Œè®°ä½æ¯ç§ä¸åŒçš„å±€é¢å’Œå–æ³•ä»¥åŠå¤„ç†æ–¹å¼å°±è¡Œäº†ï¼Œï¼Œ</p>
<p><a href="https://blog.csdn.net/lgdblue/article/details/15809893">è¿™é‡Œè¿™ä¸ªåšå®¢è®²çš„å¾ˆæ¸…æ¥š</a></p>
<p><a href="https://www.cnblogs.com/frog112111/p/3199780.html">è¿˜æœ‰è¿™ä¸ª</a></p>
<p><a href="https://blog.csdn.net/strangedbly/article/details/51137432">è¿™é‡Œ</a></p>
<h1 id="å…¬å¹³ç»„åˆåšå¼ˆï¼ˆImpartial-Combinatori-Gamesï¼‰"><a href="#å…¬å¹³ç»„åˆåšå¼ˆï¼ˆImpartial-Combinatori-Gamesï¼‰" class="headerlink" title="å…¬å¹³ç»„åˆåšå¼ˆï¼ˆImpartial Combinatori Gamesï¼‰"></a>å…¬å¹³ç»„åˆåšå¼ˆï¼ˆImpartial Combinatori Gamesï¼‰</h1><p>è¿™é‡Œå°±æ˜¯sgå‡½æ•°çš„ä½¿ç”¨äº†ï¼Œï¼Œä¸»è¦æ˜¯PNç‚¹è¡¨ç¤ºå¿…è´¥å’Œå¿…èƒœæ€åœ¨sgå‡½æ•°é‡Œæ€ä¹ˆä½“ç°ã€<code>mex()</code> çš„æ±‚æ³•ï¼Œ</p>
<p>å¤šä¸ªæ¸¸æˆçš„é—®é¢˜å¯ä»¥åˆ©ç”¨ç»å…¸åšå¼ˆçš„å¼‚æˆ–æ¥æ±‚æ¯ä¸€ä¸ªæ¸¸æˆçš„sgå€¼çš„å¼‚æˆ–å’Œæ¥åˆ¤æ–­ï¼Œï¼Œ</p>
<p>ç”¨åˆ°sgå‡½æ•°çš„åšå¼ˆå¯èƒ½çš„ä¸¤ç§æ¿å­ï¼š</p>
<h2 id="æ‰“è¡¨"><a href="#æ‰“è¡¨" class="headerlink" title="æ‰“è¡¨"></a>æ‰“è¡¨</h2><p>æœ€å¸¸ç”¨ï¼Œä½†æ˜¯å¦‚æœå¤šç»„è¾“å…¥ï¼Œå¹¶ä¸”æ¯ç»„çš„å–æ³•ä¸åŒå°±å¯èƒ½ä¼šçˆ†ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//f[] ä¸ºä¸€ä¸ªæ¸¸æˆçš„å–æ³•ï¼Œä½¿ç”¨å‰åˆå§‹åŒ–ï¼Œæ’åºï¼Œsg[]å³ä¸ºçŸ³å­æ•°ä¸ºæŸä¸ªå€¼ä¸‹çš„å…ˆæ‰‹çš„ç»“æœï¼Œ0ä¸ºå¿…è´¥</span><br><span class="hljs-keyword">int</span> f[maxn], fn, sg[maxn];<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">getsg</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(sg, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> sg);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>    &#123;<br>        <span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vis);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; f[j] &lt;= i &amp;&amp; j &lt;= fn; ++j)vis[sg[i - f[j]]] = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>;; ++j)<span class="hljs-keyword">if</span>(!vis[j])&#123;sg[i] = j; <span class="hljs-keyword">break</span>;&#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="dfsè®°å¿†åŒ–æœç´¢"><a href="#dfsè®°å¿†åŒ–æœç´¢" class="headerlink" title="dfsè®°å¿†åŒ–æœç´¢"></a>dfsè®°å¿†åŒ–æœç´¢</h2><p>å½“æ‰“è¡¨å¯èƒ½çˆ†æ—¶å°±ç”¨æœç´¢æ¥æ±‚sg</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">int</span> f[<span class="hljs-number">105</span>], sg[maxn], n, m, fn;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">dfsg</span><span class="hljs-params">(<span class="hljs-keyword">int</span> num)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(~sg[num])<span class="hljs-keyword">return</span> sg[num];<br>    <span class="hljs-keyword">bool</span> vis[<span class="hljs-number">105</span>];<br>    <span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vis);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= fn &amp;&amp; f[i] &lt;= num; ++i)<br>    &#123;<br>        dfsg(num - f[i]);<br>        vis[sg[num - f[i]]] = <span class="hljs-literal">true</span>;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;; ++i)&#123;<span class="hljs-keyword">if</span>(!vis[i])<span class="hljs-keyword">return</span> sg[num] = i;&#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="ä¹ é¢˜"><a href="#ä¹ é¢˜" class="headerlink" title="ä¹ é¢˜"></a>ä¹ é¢˜</h1><p><a href="https://vjudge.net/contest/311362#overview">[kuangbin]ä¸“é¢˜36 åšå¼ˆè®ºï¼ˆâ…¡ï¼‰</a></p>
<p><a href="https://vjudge.net/contest/311361">[kuangbin]ä¸“é¢˜35 åšå¼ˆè®ºï¼ˆâ… ï¼‰</a></p>
<p>æœ‰æ—¶é—´å†å¤šè¡¥äº›é¢˜å§ï¼Œï¼Œï¼Œ</p>
<p>(end)</p>
]]></content>
      <categories>
        <category>ACM-åšå¼ˆè®º</category>
      </categories>
      <tags>
        <tag>åˆ·é¢˜</tag>
        <tag>åšå¼ˆ</tag>
      </tags>
  </entry>
  <entry>
    <title>å›¾è®º-äºŒåˆ†å›¾</title>
    <url>/2019/04/03/%E5%9B%BE%E8%AE%BA-%E4%BA%8C%E5%88%86%E5%9B%BE/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>å¾ˆä¹…ä¹‹å‰å°±äº†è§£åˆ°æœ‰äºŒåˆ†å›¾è¿™ä¹ˆä¸ªä¸œè¥¿ï¼Œï¼Œä½†æ˜¯ä¸€ç›´æ²¡çœ‹ï¼Œæ‹–åˆ°ç°åœ¨æ¥å­¦ä¸€ä¸‹ï¼Œå›¾è®ºçš„ä¸œè¥¿å‘æ¥æ˜¯ç†è®ºç®€å•ï¼Œå»ºå›¾éš¾ï¼Œï¼Œ</p>
<span id="more"></span>
<h1 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h1><p><a href="https://www.renfei.org/blog/bipartite-matching.html">æˆ‘æ˜¯åœ¨è¿™é‡Œçœ‹çš„äºŒåˆ†å›¾çš„ä¸œè¥¿</a>ï¼Œï¼Œä½†æ˜¯æœ€åçš„ä»£ç å› ä¸ºä¸€ç›´æ˜¯çœ‹kuangbinçš„æ¿å­ç†è§£ï¼Œæ‰€ä»¥ä»£ç éƒ½æ˜¯kuangbinæ¿å­ä¸Šçš„ï¼ˆå¤§åŒå°å¼‚ï¼Œä»£ç é£æ ¼ä¸ä¸€æ ·è€Œå·²</p>
<p>//å»ºå›¾æœ‰æ¯’ï¼Œï¼Œï¼Œ</p>
<h1 id="å‡ ä¸ªé‡è¦çš„æ¦‚å¿µ"><a href="#å‡ ä¸ªé‡è¦çš„æ¦‚å¿µ" class="headerlink" title="å‡ ä¸ªé‡è¦çš„æ¦‚å¿µ"></a>å‡ ä¸ªé‡è¦çš„æ¦‚å¿µ</h1><ul>
<li>æœ€å°å›¾ç€è‰²ä¸º2çš„å›¾ç§°ä¸ºäºŒåˆ†å›¾ï¼ŒäºŒåˆ†å›¾çš„åˆ¤å®šå¯ä»¥ç”¨æŸ“è‰²æ³•</li>
<li>åŒ¹é…ï¼šæŒ‡ä¸€ä¸ªè¾¹çš„é›†åˆï¼Œä»»æ„ä¸¤æ¡è¾¹éƒ½æ²¡æœ‰å…¬å…±çš„é¡¶ç‚¹</li>
<li>æœ€å¤§åŒ¹é…æ•°ï¼šè¾¹æ•°æœ€å¤šçš„åŒ¹é…ï¼Œï¼Œï¼Œ</li>
<li>å®Œç¾åŒ¹é…ï¼šåŸå›¾çš„æ¯ä¸ªç‚¹éƒ½æ˜¯æŸä¸ªåŒ¹é…çš„åŒ¹é…ç‚¹çš„åŒ¹é…</li>
<li><strong>æœ€å°ç‚¹è¦†ç›–æ•°</strong> ï¼š é€‰å–æœ€å°‘çš„ç‚¹ï¼Œä½¿å¾—ä»»æ„ä¸€æ¡è¾¹è‡³å°‘ä¸€ä¸ªé¡¶ç‚¹æ˜¯è¢«é€‰æ‹©çš„</li>
<li><strong>æœ€å°è·¯å¾„è¦†ç›–æ•°</strong> ï¼š å¯¹äºä¸€ä¸ªæœ‰å‘æ— ç¯å›¾DAGï¼Œé€‰å–æœ€å°‘çš„è·¯å¾„ï¼Œä½¿å¾—æ¯ä¸ªé¡¶ç‚¹å±äºä¸€æ¡è·¯å¾„ï¼Œè·¯å¾„é•¿åº¦å¯ä»¥ä¸ºé›¶ï¼ˆå°†æ¯ä¸ªç‚¹æ‹†ç‚¹ååšæœ€å¤§åŒ¹é…ï¼Œåˆ©ç”¨æ€§è´¨æ±‚å³å¯ï¼Œå…·ä½“çš„è·¯å¾„æ˜¯ <code>i-&gt;j&#39; j-&gt;k&#39; k-&gt;l&#39;.....</code> å’Œç½‘ç»œæµè§£å†³æ—¶çš„å¤„ç†æ–¹æ³•ä¸€è‡´ï¼Œï¼Œ<strong>ï¼ˆæ³¨æ„è¿™æ ·ç®—çš„æœ€å°è·¯å¾„è¦†ç›–æ¯ä¸€ä¸ªç‚¹éƒ½æ˜¯å±äºä¸€æ¡è·¯å¾„ï¼Œå³äº¤ç‚¹åªèƒ½èµ°ä¸€æ¬¡ï¼Œï¼Œå¦‚æœäº¤ç‚¹å¯ä»¥ç®—å¤šæ¬¡ï¼Œå…ˆè·‘ä¸€æ¬¡ä¼ é€’é—­åŒ…ï¼Œç„¶åå†æ±‚æœ€å¤§åŒ¹é…ï¼‰</strong></li>
<li>$æœ€å¤§åŒ¹é…æ•°=æœ€å°ç‚¹è¦†ç›–æ•°$ ï¼Œï¼Œkonigå®šç†</li>
<li>$æœ€å¤§ç‹¬ç«‹æ•°=æœ€å°è¾¹è¦†ç›–=æ€»ç‚¹æ•°-æœ€å¤§åŒ¹é…æ•°$ </li>
<li>$æœ€å°è·¯å¾„è¦†ç›–=æ€»ç‚¹æ•°-æœ€å¤§åŒ¹é…æ•°$</li>
<li>$æœ€å°ç‚¹è¦†ç›–=æœ€å¤§åŒ¹é…æ•°$</li>
</ul>
<p><a href="https://www.cnblogs.com/fish7/p/4088282.html">å‚è€ƒ</a></p>
<h1 id="äºŒåˆ†å›¾çš„æœ€å¤§æƒåŒ¹é…KM"><a href="#äºŒåˆ†å›¾çš„æœ€å¤§æƒåŒ¹é…KM" class="headerlink" title="äºŒåˆ†å›¾çš„æœ€å¤§æƒåŒ¹é…KM"></a>äºŒåˆ†å›¾çš„æœ€å¤§æƒåŒ¹é…KM</h1><p><a href="https://blog.csdn.net/li13168690086/article/details/81557890">è¿™ç¯‡åšå®¢è®²çš„ä¸é”™</a></p>
<p><a href="https://www.cnblogs.com/logosG/p/logos.html?tdsourcetag=s_pcqq_aiomsg">è¿™ç¯‡çš„å›¾ç¤ºä¸é”™</a></p>
<p>åœ¨å¤„ç†æœ€å°æƒåŒ¹é…æ—¶ï¼Œï¼Œkuangbin è¿™æ ·è¯´:</p>
<blockquote>
<p>è¿™é‡Œæˆ‘è¿˜è¦è¯´å‡ å¥ï¼šæœ€æ­£ç¡®è§£æœ€å°æƒåŒ¹é…çš„åŠæ³•æ˜¯ç”¨ä¸€ä¸ªå¾ˆå¤§çš„æ•°-å½“å‰è¾¹æƒå€¼ï¼Œè€Œä¸æ˜¯ç›´æ¥å¯¹è¾¹æƒå–å(è¿™æ ·åªèƒ½å¤„ç†å·¦å³ç‚¹ç›¸ç­‰çš„å®Œå…¨äºŒåˆ†å›¾ï¼Œå³K(n, n)</p>
</blockquote>
<h1 id="æœ€å°ç‚¹è¦†ç›–å¾—åˆ°ç‚¹é›†"><a href="#æœ€å°ç‚¹è¦†ç›–å¾—åˆ°ç‚¹é›†" class="headerlink" title="æœ€å°ç‚¹è¦†ç›–å¾—åˆ°ç‚¹é›†"></a>æœ€å°ç‚¹è¦†ç›–å¾—åˆ°ç‚¹é›†</h1><p><a href="https://vjudge.net/problem/UVA-11419">é¢˜ç›®</a></p>
<p>ç”¨æœ€å°‘çš„ç‚¹è¦†ç›–æ‰€æœ‰çš„è¾¹ï¼Œ</p>
<p>åšæ³•ï¼š å…ˆè·‘ä¸€éæœ€å¤§åŒ¹é…å¾—åˆ°æ•°é‡ï¼Œï¼Œç„¶åå¯¹Xé›†ä¸­çš„æœªåŒ¹é…ç‚¹å†è·‘ä¸€æ¬¡ï¼Œï¼Œä¸€è·¯æ ‡è®°ï¼Œï¼Œ<br>æœ€åçš„Xé›†ä¸­æœªæ ‡è®°ç‚¹å’ŒYé›†ä¸­æ ‡è®°ç‚¹å°±æ˜¯å¾…æ±‚ç‚¹é›†ï¼Œï¼Œ</p>
<p>kuangbinçš„æ¿å­éœ€è¦åŠ ä¸€äº›ä¸œè¥¿ï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(TM(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e7</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span>&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt;<br>&#125;edge[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, head[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v)</span></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].nxt = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-keyword">int</span> linker[maxn];<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-keyword">bool</span> ans[maxn];<br><span class="hljs-keyword">int</span> un;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span>&#123;<br>    vis[u] = <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)&#123;<br>        <span class="hljs-keyword">int</span> v = edge[i].to;<br>        <span class="hljs-keyword">if</span>(!vis[v])&#123;<br>            vis[v] = <span class="hljs-literal">true</span>;<br>            <span class="hljs-keyword">if</span>(linker[v] == <span class="hljs-number">-1</span> || dfs(linker[v]))&#123;<br>                linker[v] = u;<br>                linker[u] = v;<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">hungary</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(linker, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> linker);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> u = <span class="hljs-number">1</span>; u &lt;= un; ++u)&#123;<br>        <span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vis);<br>        <span class="hljs-keyword">if</span>(dfs(u))++res;<br>    &#125;<br>    <span class="hljs-keyword">return</span> res;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    <br>    <span class="hljs-keyword">int</span> r, c, n;<br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">cin</span> &gt;&gt; r &gt;&gt; c &gt;&gt; n &amp;&amp; (r + c + n))&#123;<br>        <span class="hljs-keyword">int</span> u, v;<br>        init();<br>        un = r;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)&#123;<br>            <span class="hljs-built_in">cin</span> &gt;&gt; u &gt;&gt; v;<br>            addedge(u, v + r);<br>            addedge(v + r, u);<br>        &#125;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; hungary() &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>        <span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vis);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= r; ++i)&#123;<br>            <span class="hljs-keyword">if</span>(linker[i] == <span class="hljs-number">-1</span>)dfs(i);<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= r; ++i)<span class="hljs-keyword">if</span>(!vis[i])<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;r&quot;</span> &lt;&lt; i &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= c; ++i)<span class="hljs-keyword">if</span>(vis[i + r])<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;c&quot;</span> &lt;&lt; i &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br>    <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="äºŒåˆ†å›¾åˆ·é¢˜"><a href="#äºŒåˆ†å›¾åˆ·é¢˜" class="headerlink" title="äºŒåˆ†å›¾åˆ·é¢˜"></a>äºŒåˆ†å›¾åˆ·é¢˜</h1><p><a href="https://vjudge.net/contest/335837#overview">kuangbinçš„é¢˜é›†</a></p>
<h2 id="A-Fire-Net-HDU-1045"><a href="#A-Fire-Net-HDU-1045" class="headerlink" title="A - Fire Net HDU - 1045"></a>A - Fire Net HDU - 1045</h2><p>å‰é¢åšè¿‡ä¸€ä¸ªè¡Œåˆ—çš„äºŒåˆ†å›¾ï¼Œï¼Œè¿™ä¸ªæ€æƒ³å·®ä¸å¤šï¼Œä¹Ÿæ˜¯å·¦é¢æ˜¯è¡¨ç¤ºè¡Œï¼Œå³é¢è¡¨ç¤ºåˆ—ï¼Œï¼Œä½†æ˜¯è¡Œåˆ—çš„ç¼–å·å¾—è‡ªå·±æŒ‡å®šï¼Œå› ä¸ºæœ‰å¢™ï¼Œï¼Œå¯¹æ¯ä¸ªç‚¹çš„æ‰€åœ¨è¡Œã€åˆ—çš„æ ‡å·è¿›è¡Œè¿è¾¹ï¼Œè¡¨ç¤ºä¸€ç§æ”¾ç½®æ–¹æ³•ï¼Œï¼Œæœ€åçš„æœ€å¤§åŒ¹é…å°±æ˜¯æ”¾çš„æ–¹æ¡ˆæ•°ï¼Œï¼Œ<a href="https://vjudge.net/solution/22317268">code</a></p>
<h2 id="B-The-Accomodation-of-Students"><a href="#B-The-Accomodation-of-Students" class="headerlink" title="B - The Accomodation of Students"></a>B - The Accomodation of Students</h2><p>å…ˆæŸ“è‰²åˆ¤æ–­ä¸€ä¸‹æ˜¯ä¸æ˜¯äºŒåˆ†å›¾ï¼Œï¼Œæ˜¯çš„è¯ç›´æ¥æŠŠ0ç‚¹æ”¾ä¸€è¾¹è·‘æœ€å¤§åŒ¹é…å°±è¡Œäº†ï¼Œï¼Œ<a href="https://vjudge.net/solution/22318944">code</a> ï¼Œï¼Œ<del>ï¼ˆæŸ“è‰²å†™ç‚¸äº†ä¸€å‘ï¼Œï¼Œï¼Œè¾¹å¼€å°äº†ä¸€å‘ï¼Œï¼Œ</del></p>
<h2 id="C-Courses"><a href="#C-Courses" class="headerlink" title="C - Courses"></a>C - Courses</h2><p>æ°´é¢˜ï¼Œï¼Œ<a href="https://vjudge.net/solution/22319191">code</a></p>
<h2 id="D-æ£‹ç›˜æ¸¸æˆ"><a href="#D-æ£‹ç›˜æ¸¸æˆ" class="headerlink" title="D - æ£‹ç›˜æ¸¸æˆ"></a>D - æ£‹ç›˜æ¸¸æˆ</h2><p>æ€ä¹ˆæˆ‘æ„Ÿè§‰é¢˜ç›®æ˜¯é”™çš„ï¼Œï¼Œï¼Œç®—äº†åæ­£æ˜¯æ°´é¢˜ï¼Œï¼Œæšä¸¾åˆ è¾¹åˆ¤æ–­æœ€å¤§åŒ¹é…æ˜¯å¦å‡å°å³å¯ï¼Œï¼Œ</p>
<h2 id="E-Swap"><a href="#E-Swap" class="headerlink" title="E - Swap"></a>E - Swap</h2><p>è¿™é¢˜ä¸é”™ï¼Œï¼Œ</p>
<p>é¦–å…ˆè¦çŸ¥é“ä¸€ä¸ªæ€§è´¨ï¼šä¸€ä¸ªçŸ©é˜µå¦‚æœå¯¹è§’çº¿å…¨æ˜¯ä¸€ï¼Œå®ƒçš„ç§©å°±æ˜¯nï¼Œï¼Œç„¶åè¡Œåˆ—å˜æ¢å¯ä»¥ä¾‘å…¨æ˜¯åˆ—å˜æ¢æˆ–è€…è¡Œå˜æ¢æ¥å¾—åˆ°ï¼Œï¼Œ</p>
<p>è¡Œåˆ—å¯¹1ç‚¹å»ºå›¾ï¼Œï¼Œç„¶åå¦‚æœæœ€å¤§åŒ¹é…æ˜¯nï¼ˆå®Œå¤‡åŒ¹é…ï¼‰å°±æ˜¯æœ‰è§£çš„ï¼Œï¼Œï¼Œç„¶åè¾“å‡ºæ–¹æ¡ˆåˆ©ç”¨åˆ°äº†ä¸Šé¢æ€§è´¨ï¼Œæ¯ä¸ªåŒ¹é…ä¹Ÿå°±æ˜¯é€‰çš„è¦äº¤æ¢çš„1ç‚¹ï¼Œï¼Œå°†ä»–ç§»åŠ¨åˆ°å¯¹åº”çš„å¯¹è§’çº¿æ‰€åœ¨çš„ä½ç½®å°±è¡Œäº†ï¼Œï¼Œç§»åŠ¨çš„æ—¶å€™è¦å°†åˆ—çš„è®°å½•ä¹ŸåŒæ—¶äº¤æ¢ï¼Œï¼Œ<a href="https://vjudge.net/solution/22409107">code</a></p>
<h2 id="F-Rain-on-your-Parade"><a href="#F-Rain-on-your-Parade" class="headerlink" title="F - Rain on your Parade"></a>F - Rain on your Parade</h2><p>ä¸€è¾¹äººï¼Œå¦ä¸€è¾¹ä¼ï¼Œç„¶åå¯¹äºæ»¡è¶³æ¡ä»¶èƒ½å¾—åˆ°ä¼çš„è¿è¾¹ï¼Œï¼Œç”¨hkæ¥è·‘ï¼Œï¼ŒåŒˆç‰™åˆ©ä¼šT<a href="https://vjudge.net/solution/22444013">code</a></p>
<h2 id="G-Oil-Skimming"><a href="#G-Oil-Skimming" class="headerlink" title="G - Oil Skimming"></a>G - Oil Skimming</h2><p>æ°´é¢˜ï¼Œï¼Œå»ºå›¾ç›´æ¥è·‘å°±è¡Œäº†<a href="https://vjudge.net/solution/22446412">code</a></p>
<h2 id="H-Antenna-Placement"><a href="#H-Antenna-Placement" class="headerlink" title="H - Antenna Placement"></a>H - Antenna Placement</h2><p>æ°´é¢˜++ï¼Œï¼Œï¼Œå»ºå›¾è·‘åŒˆç‰™åˆ©ï¼Œï¼Œç„¶åå¯¹äºæ²¡æœ‰åŒ¹é…åˆ°çš„ç‚¹åŠ åˆ°ç­”æ¡ˆé‡Œå°±è¡Œäº†ï¼Œï¼Œ<a href="https://vjudge.net/solution/22447059">code</a></p>
<h2 id="I-Strategic-Game"><a href="#I-Strategic-Game" class="headerlink" title="I - Strategic Game"></a>I - Strategic Game</h2><p>æœ€å°ç‚¹è¦†ç›–ï¼Œï¼Œå¤„ç†ä¸€ä¸‹å›¾ç„¶åè·‘æœ€å¤§åŒ¹é…å°±è¡Œäº†ï¼Œï¼Œç­‰ä»·<a href="https://vjudge.net/solution/22447904">code</a></p>
<h2 id="J-Air-Raid"><a href="#J-Air-Raid" class="headerlink" title="J - Air Raid"></a>J - Air Raid</h2><p>æœ€å°è·¯å¾„è¦†ç›–æ•°ï¼Œï¼Œæ‹†ç‚¹åè·‘æœ€å¤§åŒ¹é…ï¼Œï¼Œç­”æ¡ˆå°±æ˜¯ç‚¹æ•°å‡å–åŒ¹é…æ•°ï¼Œï¼Œ<a href="https://vjudge.net/solution/22448190">code</a></p>
<h2 id="K-Treasure-Exploration"><a href="#K-Treasure-Exploration" class="headerlink" title="K - Treasure Exploration"></a>K - Treasure Exploration</h2><p>å¯ä»¥ä¾‘ç›¸äº¤ç‚¹çš„æœ€å°è·¯å¾„è¦†ç›–ï¼Œï¼Œå…ˆä¼ é€’é—­åŒ…ä¸€æ¬¡ï¼Œè¿™æ ·å°±å¯ä»¥ä½¿å¾—ç›¸äº¤ç‚¹ç®—å¤šæ¬¡ï¼Œï¼Œ<a href="https://vjudge.net/solution/22451346">code</a></p>
<h2 id=""><a href="#" class="headerlink" title=" "></a> </h2>]]></content>
      <categories>
        <category>ACM-å›¾è®º-äºŒåˆ†å›¾</category>
      </categories>
      <tags>
        <tag>acm</tag>
        <tag>å›¾è®º</tag>
        <tag>äºŒåˆ†å›¾</tag>
      </tags>
  </entry>
  <entry>
    <title>å›¾è®º-å‰²ç‚¹ã€æ¡¥ä¸åŒè¿é€šåˆ†æ”¯</title>
    <url>/2019/03/10/%E5%9B%BE%E8%AE%BA-%E5%89%B2%E7%82%B9%E4%B8%8E%E6%A1%A5/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p>è¿™åº”è¯¥æ˜¯å›¾è®ºçš„åŸºç¡€çŸ¥è¯†ç‚¹äº†å§ï¼Œï¼Œï¼Œå½“åˆä¸Šç¦»æ•£è¯¾çš„æ—¶å€™æ²¡æœ‰å¥½å¥½å¬ï¼ˆå› ä¸ºä¸æ€ä¹ˆè€ƒã€‚ã€‚QAQï¼‰ï¼Œï¼ŒåªçŸ¥é“ä¸ªå¤§è‡´æ¦‚å¿µï¼Œï¼Œè‡³äºæ€ä¹ˆç”¨ä»£ç å»æ±‚ä¸€ä¸ªå›¾çš„å‰²ç‚¹ä¸æ¡¥ä¹‹å‰ä¹ŸåªçŸ¥é“ç”¨tarjanå¯ä»¥å®ç°ï¼Œï¼Œä½†å…·ä½“çš„ç»†èŠ‚ä¸€ç‚¹éƒ½ä¸çŸ¥é“ï¼Œï¼Œï¼Œæƒ³ç€è¿Ÿæ—©æœ‰ä¸€å¤©æ ½åœ¨ä¸ä¼šè¿™å—å†…å®¹ä¸Šï¼Œï¼Œemmmæ˜¨å¤©å°±å› ä¸ºä¸ç†Ÿæ‚‰è¿™å—å†…å®¹ç®€å•çš„æ¿å­é¢˜éƒ½æ²¡çœ‹å‡ºæ¥ï¼Œï¼Œï¼Œ</p>
<span id="more"></span>
<h1 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h1><p>é¦–å…ˆæ€»ç»“ä¸€ä¸‹ä¸€äº›è¿™å—å†…å®¹çš„çŸ¥è¯†ç‚¹ï¼š</p>
<p><a href="https://www.cnblogs.com/kuangbin/p/3184889.html">å‚è€ƒkaungbinçš„åšå®¢</a></p>
<ul>
<li><strong>å‰²ç‚¹é›†åˆ</strong>ï¼šå¯¹äºä¸€ä¸ª <strong>æ— å‘è¿é€šå›¾</strong> ï¼Œå¦‚æœæœ‰è¿™ä¹ˆä¸€ä¸ªå®šç‚¹çš„é›†åˆï¼Œä»è¿™ä¸ªå›¾åˆ å»è¿™ä¸ªç‚¹é›†ä»¥åŠå®ƒæ‰€è¿æ¥çš„è¾¹ï¼ŒåŸå›¾å˜æˆå¤šä¸ªè”é€šå—çš„å›¾ï¼Œï¼Œå°±æˆè¿™ä¸ªç‚¹é›†ä¸º <strong>å‰²ç‚¹é›†åˆ</strong>ï¼Œå°±æ˜¯è¯´åˆ é™¤ä¸€ä¸ªç‚¹é›†ä½¿å¾—è¿™ä¸ªå›¾ä¸­çš„å…¶ä»–ç‚¹ä¸å†äº’ç›¸èƒ½å¤Ÿåˆ°è¾¾ï¼Œï¼Œï¼ŒåŒç†æ¢æˆè¾¹é›†å°±æ˜¯ <strong>å‰²è¾¹é›†åˆ</strong>ï¼›</li>
<li><strong>ç‚¹è¿é€šåº¦ã€è¾¹è¿é€šåº¦</strong>ï¼š ä¸Šé¢é‚£ä¸ªå…ƒç´ æœ€å°‘çš„é›†åˆçš„ç‚¹ï¼ˆè¾¹ï¼‰æ•°å°±ç§°ä¸ºç‚¹ï¼ˆè¾¹ï¼‰è¿é€šåº¦ï¼›</li>
<li><strong>ç‚¹åŒè¿é€šå›¾</strong>ï¼šå¯¹äºä¸€ä¸ª <strong>æ— å‘è¿é€šå›¾</strong> ï¼Œå¦‚æœå®ƒçš„ <strong>ç‚¹è¿é€šåº¦</strong> å¤§äº1ï¼Œå°±ç§°è¿™ä¸ªå›¾æ˜¯ <strong>ç‚¹åŒè”é€š</strong> çš„ï¼Œï¼Œç®€ç§° <strong>åŒè”é€š</strong> æˆ– <strong>é‡è¿é€š</strong>ï¼›</li>
<li><strong>å‰²ç‚¹</strong>ï¼š ç‚¹è¿é€šåº¦ä¸º1æ—¶ï¼Œä¹Ÿå°±æ˜¯å‰²ç‚¹ç‚¹é›†çš„å¤§å°æ˜¯1æ—¶ï¼Œè¿™ä¸ªç‚¹å°±è¢«ç§°ä¸ºå‰²ç‚¹ï¼ˆä¸€ä¸ªå›¾å¯ä»¥æœ‰å¤šä¸ªå‰²ç‚¹ï¼‰</li>
<li><strong>è¾¹åŒè¿é€šã€å‰²è¾¹ï¼ˆæ¡¥ï¼‰</strong>ï¼šå’Œç‚¹çš„å®šä¹‰ä¸€æ ·ï¼Œï¼Œè¾¹è¿é€šåº¦å¤§äºä¸€å°±ç§°è¿™ä¸ªå›¾æ˜¯åŒè¿é€šï¼›è¾¹è¿é€šåº¦ç­‰äº1å°±ç§°è¿™ä¸ªå‰²è¾¹é›†åˆé‡Œçš„é‚£æ¡è¾¹æ˜¯ <strong>å‰²è¾¹ï¼ˆæ¡¥ï¼‰</strong>ï¼›</li>
<li><strong>åŒè¿é€šåˆ†æ”¯</strong>ï¼›å¯¹äºå›¾ $G$ çš„æ‰€æœ‰å­å›¾ $Gâ€™$ ï¼Œå¦‚æœ $Gâ€™$ æ˜¯åŒè¿é€šçš„ï¼Œå°±ç§° $Gâ€™$ æ˜¯ <strong>åŒè¿é€šå­å›¾</strong> ï¼Œå¯¹äºæ‰€æœ‰çš„åŒè¿é€šå­å›¾ä¸­ï¼Œæœ€å¤§çš„é‚£ä¸ªç§°ä¸º <strong>æå¤§åŒè¿é€šå­å›¾</strong>ï¼Œä¹Ÿç§°ä¸º <strong>åŒè¿é€šåˆ†æ”¯ã€é‡è¿é€šåˆ†æ”¯</strong>ï¼›ç‰¹æ®Šçš„ï¼Œç‚¹åŒè¿é€šåˆ†æ”¯ä¹Ÿç§°ä¸º <strong>å—</strong>ï¼›</li>
</ul>
<h1 id="æ±‚è§£æ–¹æ³•"><a href="#æ±‚è§£æ–¹æ³•" class="headerlink" title="æ±‚è§£æ–¹æ³•"></a>æ±‚è§£æ–¹æ³•</h1><h2 id="æ±‚å‰²ç‚¹ä¸æ¡¥"><a href="#æ±‚å‰²ç‚¹ä¸æ¡¥" class="headerlink" title="æ±‚å‰²ç‚¹ä¸æ¡¥"></a>æ±‚å‰²ç‚¹ä¸æ¡¥</h2><p>æ±‚å‰²ç‚¹å’Œæ±‚æ¡¥æ˜¯å·®ä¸å¤šçš„ï¼Œï¼Œéƒ½ç”¨tarjanç®—æ³•å°±å¯ä»¥æ±‚å‡º</p>
<p>åœ¨tarjanç®—æ³•ä¸­ï¼š</p>
<ul>
<li>dfn[i]è¡¨ç¤ºèŠ‚ç‚¹iåœ¨dfsä¸­çš„æ˜¯ç¬¬å‡ ä¸ªè¢«è®¿é—®åˆ°çš„ï¼ˆæ—¶é—´æˆ³ï¼‰</li>
<li>low[i]è¡¨ç¤ºèŠ‚ç‚¹iæ‰€èƒ½åˆ°è¾¾çš„ç‚¹ä¸­çš„æœ€å°çš„dfn</li>
</ul>
<p>å¯¹äºä¸€ä¸ªç‚¹uå’Œå®ƒåœ¨dfsæ ‘ä¸­çš„ç‚¹ $v_1, v_2,v_3,,,,,,$:</p>
<ul>
<li>å‰²ç‚¹æ»¡è¶³ï¼š$low[v_i] \geq dfn[u]$</li>
<li>æ¡¥æ»¡è¶³ï¼š $low[v_i] &gt; dfn[u]$ï¼Œï¼Œ$(u,v)$å°±æ˜¯ä¸€ä¸ªæ¡¥</li>
</ul>
<p>æœ€åå¯¹äºæœç´¢æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œç‰¹åˆ¤ä¸€ä¸‹ï¼šå¦‚æœæ ¹åªæœ‰ä¸€ä¸ªå­©å­èŠ‚ç‚¹ï¼Œï¼Œé‚£ä¹ˆå®ƒå°±ä¸æ˜¯å‰²ç‚¹</p>
<h2 id="æ±‚åŒè¿é€šåˆ†æ”¯"><a href="#æ±‚åŒè¿é€šåˆ†æ”¯" class="headerlink" title="æ±‚åŒè¿é€šåˆ†æ”¯"></a>æ±‚åŒè¿é€šåˆ†æ”¯</h2><p>ï¼ˆç•™å‘ï¼‰</p>
<h2 id="æ„é€ åŒè¿é€šå›¾"><a href="#æ„é€ åŒè¿é€šå›¾" class="headerlink" title="æ„é€ åŒè¿é€šå›¾"></a>æ„é€ åŒè¿é€šå›¾</h2><p>ï¼ˆç•™å‘ï¼‰</p>
<h1 id="ä¾‹é¢˜"><a href="#ä¾‹é¢˜" class="headerlink" title="ä¾‹é¢˜"></a>ä¾‹é¢˜</h1><h2 id="ç‰›å®¢392-I"><a href="#ç‰›å®¢392-I" class="headerlink" title="ç‰›å®¢392-I"></a><a href="https://ac.nowcoder.com/acm/contest/392/I">ç‰›å®¢392-I</a></h2><h3 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><p>é¢˜æ„å°±æ˜¯ç»™ä½ ä¸€ä¸ªæ— å‘è¿é€šå›¾ï¼Œé—®ä½ æœ‰å‡ æ¡è¿™æ ·çš„è¾¹ï¼Œåˆ å»ä¸€æ¡å›¾ä¸­çš„ç‚¹è¿˜èƒ½äº’ç›¸åˆ°è¾¾ã€‚ã€‚ã€‚</p>
<p>ä¸€å¼€å§‹æˆ‘æƒ³ç€ï¼šæ‰€æœ‰ç‚¹éƒ½åˆ°è¾¾ï¼Ÿå“ˆå¯†é¡¿é€šè·¯ï¼Ÿï¼Ÿé‚£æˆ‘ç›´æ¥æ±‚å‡ºå“ˆå¯†é¡¿é€šè·¯çš„è¾¹æ•°å†ç”¨æ€»è¾¹æ•°å‡ä¸€ä¸‹ä¸å°±è¡Œäº†å—ï¼Ÿï¼Ÿ åæ¥ä¸€æƒ³å‘ç°ä¸å¯¹ï¼Œï¼Œï¼Œ<br>æ¯”å¦‚é¢˜é‡Œé‚£ä¸ªå›¾å“ˆå¯†é¡¿é€šè·¯çš„è¾¹æ•°æ˜¯4ï¼Œï¼Œå‡å®Œä¹‹åæ˜¯1ï¼Œï¼Œï¼Œæ˜¾ç„¶ä¸å¯¹å•Šï¼Œï¼Œï¼Œ</p>
<p>å†çœ‹è¿™ä¸ªé¢˜ï¼Œï¼Œè®©æˆ‘ä»¬æ±‚æ‰€æœ‰åˆ å»ä¸€æ¡åä¸å½±å“ç‚¹çš„è¿é€šçš„è¾¹ï¼Œï¼Œä»åé¢è€ƒè™‘ï¼Œï¼Œæˆ‘ä»¬å¯ä»¥æ±‚å‡ºæ‰€æœ‰åˆ å»åç‚¹ä¸èƒ½åˆ°è¾¾çš„è¾¹ï¼Œï¼Œç„¶åç”¨æ€»è¾¹æ•°å‡å»å°±è¡Œäº†ï¼Œï¼Œï¼Œè€Œè¿™æ ·çš„è¾¹å°±æ˜¯æ¡¥ï¼Œï¼Œï¼Œæ‰€ä»¥æ±‚è¿™ä¸ªå›¾çš„æ¡¥çš„ä¸ªæ•°å°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
<h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><p>kaungbinçš„æ¿å­ï¼Œï¼Œï¼ˆå¥½é•¿å•Šï¼Œï¼Œä¸è¿‡èƒ½æ±‚å‡ºå…·ä½“çš„è¾¹ï¼‰</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">int</span> <span class="hljs-title">read</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">char</span> c = getchar(); <span class="hljs-keyword">int</span> x = <span class="hljs-number">0</span>, f = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(c &lt; <span class="hljs-string">&#x27;0&#x27;</span> || c &gt; <span class="hljs-string">&#x27;9&#x27;</span>) &#123;<span class="hljs-keyword">if</span>(c == <span class="hljs-string">&#x27;-&#x27;</span>) f = <span class="hljs-number">-1</span>; c = getchar();&#125;<br>    <span class="hljs-keyword">while</span>(c &gt;= <span class="hljs-string">&#x27;0&#x27;</span> &amp;&amp; c &lt;= <span class="hljs-string">&#x27;9&#x27;</span>) x = x * <span class="hljs-number">10</span> + c - <span class="hljs-string">&#x27;0&#x27;</span>, c = getchar();<br>    <span class="hljs-keyword">return</span> x * f;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, next;<br>    <span class="hljs-keyword">bool</span> cut;   <span class="hljs-comment">//</span><br>&#125;edge[maxn];<br><span class="hljs-keyword">int</span> head[maxn], tot;<br><span class="hljs-keyword">int</span> low[maxn], dfn[maxn], sta[maxn];<br><span class="hljs-keyword">int</span> idx, top;<br><span class="hljs-keyword">bool</span> insta[maxn];<br><span class="hljs-keyword">bool</span> cut[maxn];<br><span class="hljs-keyword">int</span> add_block[maxn];<br><span class="hljs-keyword">int</span> bridge;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].cut = <span class="hljs-literal">false</span>;<br>    edge[tot].next = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">tarjan</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> pre)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> v;<br>    low[u] = dfn[u] = ++idx;<br>    sta[top++] = u;<br>    insta[u] = <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">int</span> son = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> pre_cnt = <span class="hljs-number">0</span>;        <span class="hljs-comment">//</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].next)<br>    &#123;<br>        v = edge[i].to;<br>        <span class="hljs-keyword">if</span>(v == pre &amp;&amp; pre_cnt == <span class="hljs-number">0</span>)<br>        &#123;<br>            ++pre_cnt;<br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(!dfn[v])<br>        &#123;<br>            ++son;<br>            tarjan(v, u);<br>            <span class="hljs-keyword">if</span>(low[u] &gt; low[v])low[u] = low[v];<br>            <span class="hljs-keyword">if</span>(low[v] &gt; dfn[u])<br>            &#123;<br>                ++bridge;<br>                edge[i].cut = <span class="hljs-literal">true</span>;<br>                edge[i ^ <span class="hljs-number">1</span>].cut = <span class="hljs-literal">true</span>;<br>            &#125;<br>            <span class="hljs-keyword">if</span>(u != pre &amp;&amp; low[v] &gt;= dfn[u])<br>            &#123;<br>                cut[u] = <span class="hljs-literal">true</span>;<br>                ++add_block[u];<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(low[u] &gt; dfn[v])<br>            low[u] = dfn[v];<br>    &#125;<br>    <span class="hljs-keyword">if</span>(u == pre &amp;&amp; son &gt; <span class="hljs-number">1</span>)cut[u] = <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">if</span>(u == pre)add_block[u] = son - <span class="hljs-number">1</span>;<br>    insta[u] = <span class="hljs-literal">false</span>;<br>    --top;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">solve</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n, <span class="hljs-keyword">int</span> m)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(dfn, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> dfn);<br>    <span class="hljs-built_in">memset</span>(insta, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> insta);<br>    <span class="hljs-built_in">memset</span>(add_block, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> add_block);<br>    <span class="hljs-built_in">memset</span>(cut, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> cut);<br>    idx = top = bridge = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        <span class="hljs-keyword">if</span>(!dfn[i])<br>            tarjan(i, i);<br><span class="hljs-comment">//    int ans = 0;</span><br><span class="hljs-comment">//    for(int u = 1; u &lt;= n; ++u)</span><br><span class="hljs-comment">//        for(int i = head[u]; ~i; i = edge[i].next)</span><br><span class="hljs-comment">//            if(edge[i].cut &amp;&amp; edge[i].to &gt; u)</span><br><span class="hljs-comment">//            ++ans;</span><br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, m - bridge);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">int</span> n, m;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);<br>    <span class="hljs-keyword">int</span> u, v;<br>    init();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>    &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;u, &amp;v);<br>        addedge(u, v);<br>        addedge(v, u);<br>    &#125;<br>    solve(n, m);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<p>åªé’ˆå¯¹è¿™é“é¢˜çŸ­ä¸€ç‚¹çš„ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">int</span> <span class="hljs-title">read</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">char</span> c = getchar(); <span class="hljs-keyword">int</span> x = <span class="hljs-number">0</span>, f = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(c &lt; <span class="hljs-string">&#x27;0&#x27;</span> || c &gt; <span class="hljs-string">&#x27;9&#x27;</span>) &#123;<span class="hljs-keyword">if</span>(c == <span class="hljs-string">&#x27;-&#x27;</span>) f = <span class="hljs-number">-1</span>; c = getchar();&#125;<br>    <span class="hljs-keyword">while</span>(c &gt;= <span class="hljs-string">&#x27;0&#x27;</span> &amp;&amp; c &lt;= <span class="hljs-string">&#x27;9&#x27;</span>) x = x * <span class="hljs-number">10</span> + c - <span class="hljs-string">&#x27;0&#x27;</span>, c = getchar();<br>    <span class="hljs-keyword">return</span> x * f;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, next;<br>&#125;edge[maxn];<br><span class="hljs-keyword">int</span> head[maxn], tot;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].next = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-keyword">int</span> ans;<br><span class="hljs-keyword">int</span> low[maxn], dfn[maxn];<br><span class="hljs-keyword">int</span> idx;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">tarjan</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> pre)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> v;<br>    low[u] = dfn[u] =  ++idx;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].next)<br>    &#123;<br>        v = edge[i].to;<br>        <span class="hljs-keyword">if</span>(v == pre)<span class="hljs-keyword">continue</span>;<br>        <span class="hljs-keyword">if</span>(!dfn[v])<br>        &#123;<br>            tarjan(v, u);<br>            low[u] = min(low[u], low[v]);<br>            <span class="hljs-keyword">if</span>(low[v] &gt; dfn[u])++ans;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>            low[u] = min(low[u], dfn[v]);<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">solve</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n, <span class="hljs-keyword">int</span> m)</span></span><br><span class="hljs-function"></span>&#123;<br>    ans = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>;i &lt;= n; ++i)<br>        <span class="hljs-keyword">if</span>(!dfn[i])<br>            tarjan(i, <span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, m - ans);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">int</span> n, m;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);<br>    <span class="hljs-keyword">int</span> u, v;<br>    init();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>    &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;u, &amp;v);<br>        addedge(u, v);<br>        addedge(v, u);<br>    &#125;<br>    solve(n, m);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>(å…¶ä»–çš„ä»¥åç”¨åˆ°å†è¯´å§)</p>
]]></content>
      <categories>
        <category>ACM-å›¾è®º-å‰²ç‚¹ã€æ¡¥ä¸åŒè¿é€šåˆ†æ”¯</category>
      </categories>
      <tags>
        <tag>acm</tag>
        <tag>ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>[å·¥å…·ä½¿ç”¨]-æ–°ç‰ˆæ­£æ–¹æ•™åŠ¡ç³»ç»Ÿå¯¼å‡ºè¯¾ç¨‹è¡¨-æ²¹çŒ´è„šæœ¬</title>
    <url>/2020/01/31/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8-%E6%96%B0%E7%89%88%E6%AD%A3%E6%96%B9%E6%95%99%E5%8A%A1%E7%B3%BB%E7%BB%9F%E5%AF%BC%E5%87%BA%E8%AF%BE%E7%A8%8B%E8%A1%A8-%E6%B2%B9%E7%8C%B4%E8%84%9A%E6%9C%AC/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p><a href="https://greasyfork.org/zh-CN/scripts/395847-%E6%96%B0%E7%89%88%E6%AD%A3%E6%96%B9%E6%95%99%E5%8A%A1%E7%B3%BB%E7%BB%9F%E5%AF%BC%E5%87%BA%E8%AF%BE%E7%A8%8B%E8%A1%A8">è¿™ä¸ªæ²¹çŒ´è„šæœ¬</a>ä¸»è¦æ˜¯é’ˆå¯¹æ–°ç‰ˆçš„æ­£æ–¹æ•™åŠ¡ç³»ç»Ÿï¼Œå®ç°å°†è¯¾ç¨‹è¡¨è½¬åŒ–ä¸ºä¸€ä¸ª <code>courses.ics</code> æ–‡ä»¶ï¼Œè¿™æ ·å°±å¯ä»¥ <strong>æ„‰å¿«</strong> çš„ä½¿ç”¨ <code>Google Calendar</code> æ¥çœ‹è¯¾ç¨‹è¡¨äº†ï¼Œ<del>ï¼ˆå”‰ï¼Œæˆ‘å¥½åƒå¿«æ¯•ä¸šäº†å“ï¼Œï¼Œï¼Œ</del> ï¼Œ</p>
<span id="more"></span>
<h1 id="é£Ÿç”¨æ–¹æ³•"><a href="#é£Ÿç”¨æ–¹æ³•" class="headerlink" title="é£Ÿç”¨æ–¹æ³•"></a>é£Ÿç”¨æ–¹æ³•</h1><p>å®‰è£…æ²¹çŒ´æ‰©å±•ï¼Œç„¶åå®‰è£…è„šæœ¬</p>
<p>åœ¨ä½¿ç”¨å‰è¿›å…¥åˆ°è¦å¯¼å‡ºè¯¾ç¨‹è¡¨çš„é¡µé¢ï¼Œ<img src="https://raw.githubusercontent.com/31415926535x/CollegeProjectBackup/master/ZhengfangClassScheduleToICS/img/1.PNG" alt=""></p>
<p>ç„¶åç¡®å®šè¿™å­¦æœŸå¼€å­¦çš„ç¬¬ä¸€å‘¨çš„å‘¨ä¸€çš„æ—¥æœŸï¼Œ<img src="https://raw.githubusercontent.com/31415926535x/CollegeProjectBackup/master/ZhengfangClassScheduleToICS/img/2.PNG" alt=""></p>
<p>ç‚¹å‡» <code>ç”Ÿæˆè¯¾è¡¨</code> ç„¶åå°±ä¼šæç¤ºå¯¼å‡ºæˆåŠŸï¼Œè¿™æ—¶ç‚¹å‡»æ—è¾¹çš„ <code>ä¸‹è½½icsæ–‡ä»¶</code> å³å¯ä¸‹è½½ <code>course.ics</code> æ–‡ä»¶ï¼Œ<img src="https://raw.githubusercontent.com/31415926535x/CollegeProjectBackup/master/ZhengfangClassScheduleToICS/img/3.PNG" alt=""></p>
<p>ä¹‹åæ€ä¹ˆä½¿ç”¨å°±çœ‹ä½ äº†ï¼Œï¼Œè¿™æ ·å¯ä»¥ä¸å†ä½¿ç”¨å„ç§ **è¯¾ç¨‹è¡¨ ç­‰çœ‹ä¸ªè¯¾ç¨‹è¡¨è¿˜è¦ç­‰åŠå¤©ï¼Œçœ‹åŠå¤©å¹¿å‘Šï¼Œè€Œä¸”è¿˜å ç©ºé—´ã€‚ã€‚<del>ï¼ˆæ·±å—å…¶å®³.jpgï¼‰</del></p>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>ç¬¬ä¸€æ¬¡å†™è„šæœ¬ï¼Œjsç”¨çš„ä¹Ÿä¸ç†Ÿç»ƒï¼Œè¿™ä¸ªè„šæœ¬å‚ç…§äº†ä¸€ä¸ªå­¦é•¿ä¹‹å‰æ ¹æ®æ—§ç‰ˆæ•™åŠ¡ç³»ç»Ÿçš„è¯¾ç¨‹è¡¨å¯¼å‡ºè„šæœ¬å†™çš„ï¼Œä¸€ç›´æƒ³è‡ªå·±å†™ä¸€ä¸ªï¼Œä¸€ç›´æ‹–åˆ°äº†æ–°ç‰ˆæ•™åŠ¡ç³»ç»Ÿï¼Œï¼Œï¼Œæ— èŠæ—¶ç»ƒä¸‹æ‰‹ï¼Œæ‰€ä»¥è„šæœ¬çš„åªæ˜¯ä¸€ä¸ªå¯ä»¥ä½¿ç”¨çš„çŠ¶å†µï¼Œå…¶ä¸­çš„ä¸€äº›å¤„ç†æ²¡æœ‰è€ƒè™‘æ•ˆç‡çš„é—®é¢˜<del>ï¼ˆæ•°æ®é‡åˆä¸å¤§ï¼Œæš´åŠ›å°±å®Œäº‹äº†å˜›ï¼‰</del> ï¼Œå…¶ä¸­å¯èƒ½è¿˜å­˜åœ¨ä¸€äº›bugæ¯ä¸€å¤„ç†ï¼Œå¸Œæœ›é‡åˆ°çš„æœ‹å‹å¯ä»¥æä¸ªissuesï¼Œå˜¿å˜¿ã€‚</p>
<h1 id="TODO"><a href="#TODO" class="headerlink" title="TODO"></a>TODO</h1><p>æœ‰æ—¶é—´å°†è€ƒè¯•ä¿¡æ¯ä¹ŸåŠ ä¸Šã€‚ã€‚ã€‚</p>
]]></content>
      <categories>
        <category>å·¥å…·</category>
      </categories>
      <tags>
        <tag>å·¥å…·ä½¿ç”¨</tag>
      </tags>
  </entry>
  <entry>
    <title>å®å¤ç½‘ç»œèµ›-F-Moving On</title>
    <url>/2019/08/31/%E5%AE%81%E5%A4%8F%E7%BD%91%E7%BB%9C%E8%B5%9B-F-Moving-On/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>ä¸€é“<a href="https://nanti.jisuanke.com/t/A1766">ç®€å•çš„Floyd</a>é¢˜ï¼Œï¼Œä½†æ˜¯æ˜¯åŠ¨æ€åŠ ç‚¹æ±‚å¤šæ¬¡æœ‰é™åˆ¶çš„æœ€çŸ­è·¯ï¼Œï¼Œæ„Ÿè§‰è¿™ä¸ªæ€æƒ³å¾ˆå¥½ï¼Œï¼Œå½“ç„¶å¯ä»¥ç›´æ¥dp</p>
<span id="more"></span>
<h1 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h1><p>é¢˜ç›®ç»™ä½ ä¸€ä¸ªå›¾ï¼Œç„¶åå¯¹äºæ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªç‚¹æƒï¼Œç„¶åæœ‰qæ¬¡è¯¢é—®ï¼Œæ¯æ¬¡è¯¢é—®ä¸¤ç‚¹é—´çš„æœ€çŸ­è·ç¦»ï¼Œå¹¶ä¸”æœ€çŸ­è·¯å¾„ä¸­ä¸èƒ½é€šè¿‡ä»»æ„ä¸€ä¸ªç‚¹æƒå¤§äºç­‰äºwçš„ç‚¹ï¼Œï¼ˆé¦–å°¾ä¸ç®—ï¼‰ï¼Œï¼Œ</p>
<h1 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h1><p>ä¸€æ¬¡è¯¢é—®çš„è¯ï¼Œç›´æ¥æœ€çŸ­è·¯ä¹±æå°±è¡Œäº†ï¼Œï¼Œä½†æ˜¯è¯¢é—®æ¬¡æ•°å¾ˆå¤šçš„æ—¶å€™ï¼Œå°±ä¸èƒ½æ¯ä¸€æ¬¡å»ºå›¾è·‘ï¼Œå› ä¸ºæ˜¯ä»»æ„ä¸¤ç‚¹çš„æœ€çŸ­è·¯ï¼Œ<del>è€Œä¸”ç»™çš„å›¾æ˜¯é‚»æ¥çŸ©é˜µ</del> ï¼Œæ‰€ä»¥ç”¨Floyedï¼Œï¼Œï¼Œä½†æ˜¯æ€ä¹ˆå¤„ç†æ¯ä¸€æ¬¡çš„è¯¢é—®å‘¢ï¼Œï¼Œä¸€ç§åšæ³•æ˜¯å†åŠ ä¸€ç»´ï¼Œå¤„ç†å‡ºä»»æ„çš„åŠ å…¥å‰kä¸ªç‚¹åçš„æœ€çŸ­è·¯ï¼Œï¼Œæœ€åå›ç­”è¯¢é—®å³å¯ï¼Œï¼Œï¼Œä¹Ÿå°±æ˜¯dpçš„æ€æƒ³ï¼Œï¼Œå¦ä¸€ç§æ˜¯è¯¢é—®ç¦»çº¿ï¼ŒåŠ¨æ€å»ºå›¾è·‘qæ¬¡floyedå³å¯ï¼Œï¼Œåé¢è¿™ç§æ€è·¯ä»¥å‰è§è¿‡ä½†æ˜¯æ²¡å¥—floyedç”¨è¿‡ï¼Œï¼Œ</p>
<h1 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h1><h2 id="ç¦»çº¿"><a href="#ç¦»çº¿" class="headerlink" title="ç¦»çº¿"></a>ç¦»çº¿</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-7</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">2e2</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-keyword">int</span> d[maxn][maxn];<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">query</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> u, v, w;<br>    <span class="hljs-keyword">int</span> ans;<br>    <span class="hljs-keyword">int</span> id;<br>    <span class="hljs-keyword">const</span> <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>&lt;(<span class="hljs-keyword">const</span> query &amp;q)<span class="hljs-keyword">const</span><br>    &#123;<br>        <span class="hljs-keyword">return</span> w &lt; q.w;<br>    &#125;<br>&#125;qry[maxm];<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">cmpid</span><span class="hljs-params">(query a, query b)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> a.id &lt; b.id;<br>&#125;<br><span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; r[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>  <br>    <span class="hljs-keyword">int</span> t; <span class="hljs-built_in">cin</span> &gt;&gt; t;<br>    <span class="hljs-keyword">int</span> ca = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(t--)<br>    &#123;<br>        <span class="hljs-keyword">int</span> n, q; <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; q;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; r[i].first;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)r[i].second = i;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; ++j)<br>                <span class="hljs-built_in">cin</span> &gt;&gt; d[i][j];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= q; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; qry[i].u &gt;&gt; qry[i].v &gt;&gt; qry[i].w;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= q; ++i)qry[i].id = i;<br>        sort(qry + <span class="hljs-number">1</span>, qry + <span class="hljs-number">1</span> + q);<br>        sort(r + <span class="hljs-number">1</span>, r + <span class="hljs-number">1</span> + n);<br>        <span class="hljs-keyword">int</span> cnt = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> qi = <span class="hljs-number">1</span>; qi &lt;= q; ++qi)<br>        &#123;<br>            <span class="hljs-keyword">while</span>(cnt &lt;= n &amp;&amp; r[cnt].first &lt;= qry[qi].w)<br>            &#123;<br>                <span class="hljs-comment">//æ»¡è¶³æ¡ä»¶çš„æƒ…å†µä¸‹ï¼Œåˆ©ç”¨è¿™ä¸ªåŸå¸‚æ¥æ›´æ–°æœ€çŸ­è·¯</span><br>                <span class="hljs-keyword">int</span> k = r[cnt].second;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>                &#123;<br>                    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; ++j)<br>                    &#123;<br>                        d[i][j] = min(d[i][j], d[i][k] + d[k][j]);<br>                    &#125;<br>                &#125;<br>                ++cnt;<br>            &#125;<br>            qry[qi].ans = d[qry[qi].u][qry[qi].v];<br>        &#125;<br>        sort(qry + <span class="hljs-number">1</span>, qry + <span class="hljs-number">1</span> + q, cmpid);<br>        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;Case #&quot;</span> &lt;&lt; ca++ &lt;&lt; <span class="hljs-string">&quot;:&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= q; ++i)<span class="hljs-built_in">cout</span> &lt;&lt; qry[i].ans &lt;&lt; <span class="hljs-built_in">endl</span>;<br><br>    &#125;<br>    <br>       <br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="é¢„å¤„ç†åœ¨çº¿"><a href="#é¢„å¤„ç†åœ¨çº¿" class="headerlink" title="é¢„å¤„ç†åœ¨çº¿"></a>é¢„å¤„ç†åœ¨çº¿</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-7</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">2e2</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-keyword">int</span> d[maxn][maxn][maxn];<br><span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; r[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>  <br>    <span class="hljs-keyword">int</span> t; <span class="hljs-built_in">cin</span> &gt;&gt; t;<br>    <span class="hljs-keyword">int</span> ca = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(t--)<br>    &#123;<br>        <span class="hljs-keyword">int</span> n, q; <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; q;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; r[i].first;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)r[i].second = i;<br>        <span class="hljs-built_in">memset</span>(d, inf, <span class="hljs-keyword">sizeof</span> d);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; ++j)<br>                <span class="hljs-built_in">cin</span> &gt;&gt; d[i][j][<span class="hljs-number">0</span>];<br>        sort(r + <span class="hljs-number">1</span>, r + <span class="hljs-number">1</span> + n);<br>        <span class="hljs-keyword">int</span> cnt = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> cnt = <span class="hljs-number">1</span>; cnt &lt;= n; ++cnt)<br>        &#123;<br>            <span class="hljs-keyword">int</span> k = r[cnt].second;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; ++j)<br>                    d[i][j][cnt] = min(d[i][j][cnt - <span class="hljs-number">1</span>], d[i][k][cnt - <span class="hljs-number">1</span>] + d[k][j][cnt - <span class="hljs-number">1</span>]);<br>        &#125;<br>        <span class="hljs-comment">// sort(r + 1, r + 1 + n, [](pair&lt;int, int&gt; i, pair&lt;int, int&gt; j)&#123;return i.second &lt; j.second;&#125;);</span><br>        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;Case #&quot;</span> &lt;&lt; ca++ &lt;&lt; <span class="hljs-string">&quot;:&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">int</span> u, v, w;<br><br>        <span class="hljs-keyword">while</span>(q--)<br>        &#123;<br>            <span class="hljs-built_in">cin</span> &gt;&gt; u &gt;&gt; v &gt;&gt; w;<br>            <span class="hljs-keyword">int</span> k = <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-keyword">if</span>(r[i].first &lt;= w)k = i;<br>            <span class="hljs-built_in">cout</span> &lt;&lt; d[u][v][k] &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        &#125;<br>    &#125;<br>    <br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>çŠ¶æ€ä¸åœ¨ï¼Œæ€è·¯éƒ½ç†ä¸æ¸…ï¼Œï¼Œï¼Œemmmmmmï¼ˆè¯¥æ”¶å¿ƒåŠªåŠ›äº†å•Š314ï¼Œï¼Œï¼Œï¼Œï¼Œ</p>
<p>(end)</p>
]]></content>
      <categories>
        <category>ACM-æœ€çŸ­è·¯</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>åˆ·é¢˜</tag>
      </tags>
  </entry>
  <entry>
    <title>åºåˆ—è‡ªåŠ¨æœº</title>
    <url>/2019/03/10/%E5%BA%8F%E5%88%97%E8%87%AA%E5%8A%A8%E6%9C%BA/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>æ˜¨å¤©åœ¨ç‰›å®¢ç¢°åˆ°äº†è¿™æ ·çš„ä¸€é“é¢˜ï¼Œåˆ¤æ–­ä¸€äº›å­—ç¬¦ä¸²æ˜¯ä¸æ˜¯åŸä¸²çš„å­åºåˆ—ï¼Œï¼Œï¼Œå› ä¸ºä¹‹å‰åšè¿‡ä¸€äº›LCSå­åºåˆ—çš„é¢˜ï¼Œï¼Œï¼Œå°±æƒ³ï¼Œè¿™ä¸è´¼ç®€å•ï¼Œï¼Œç”¨lcsæ±‚ä¸€ä¸‹æ¯ä¸ªå­ä¸²å’ŒåŸä¸²ï¼Œï¼Œç„¶ååˆ¤æ–­LCSçš„é•¿åº¦æ˜¯ä¸æ˜¯ç­‰äºè¦åˆ¤æ–­çš„é‚£ä¸ªä¸²çš„é•¿åº¦ï¼Œï¼Œï¼Œç„¶åï¼Œï¼ŒTäº†ï¼Œï¼Œï¼Œ</p>
<p>å› ä¸ºdpæ±‚LCSå‡ ä¸ªä¸²è¿˜å¥½è¯´ï¼Œï¼Œä½†æ˜¯å½“ä¸²åˆå¤šåˆé•¿æ—¶ï¼Œï¼Œï¼Œä¸ä»…ä¼šTï¼Œï¼Œdpæ•°ç»„ä¸å¼„æ»šåŠ¨æ•°ç»„è¿˜ä¼šMLEï¼Œï¼Œï¼Œ</p>
<p>ä¹‹åçœ‹äº†é¢˜è§£äº†è§£åˆ°è¿™ä¸ªå¤„ç†å­åºåˆ—çš„å¥½ä¸œè¥¿ï¼Œåºåˆ—è‡ªåŠ¨æœºï¼Œï¼Œï¼Œ</p>
<span id="more"></span>
<h1 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h1><p>åºåˆ—è‡ªåŠ¨æœºå®è´¨è¿˜æ˜¯ç”¨ç©ºé—´æ¢æ—¶é—´ï¼Œï¼Œå®ƒæœ‰ä¸€ä¸ªæ•°ç»„ $nxt[i][j](nxt[maxn][26]$ï¼Œï¼Œè¡¨ç¤ºåŸä¸²sçš„ç¬¬iä½åé¢é‚£26ä¸ªå­—ç¬¦jå‡ºç°çš„æœ€æ—©çš„ <strong>ä½ç½®</strong>ï¼Œï¼Œ</p>
<p>ç›¸å½“äºå»ºäº†ä¸€æ£µæ ‘ï¼Œï¼Œæ ¹èŠ‚ç‚¹æ˜¯ä¸€ä¸ªç©ºèŠ‚ç‚¹ï¼Œï¼Œï¼Œå®ƒæœ‰26ä¸ªå­©å­ï¼Œï¼Œè¡¨ç¤ºæ¯ä¸€ä¸ªå­—æ¯æœ€æ—©å‡ºç°çš„ä½ç½®ï¼Œï¼Œï¼Œé‚£ä¹ˆåŸä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ $s[0]$ å°±ä½¿å¾— $nxt[0][s[0] - â€˜aâ€™] = 1$ï¼Œï¼Œç¬¬äºŒä¸ªå­—ç¬¦å°±æ˜¯ $nxt[0][s[1]-â€˜aâ€™]=2$ï¼Œï¼Œï¼Œç­‰ç­‰ç­‰ç­‰ï¼Œï¼Œï¼ŒåŒæ ·ç¬¬ä¸€ä¸ªå­—ç¬¦ä¹Ÿæœ‰è¿™æ ·çš„26ä¸ªå­©å­ï¼Œï¼Œï¼Œè¿™æ ·ä»æ ¹èŠ‚ç‚¹åˆ°ä»»æ„ä¸€ä¸ªå¶å­èŠ‚ç‚¹éƒ½æ˜¯åŸä¸²çš„ä¸€ä¸ªå­åºåˆ—ï¼Œï¼Œ</p>
<p>è¿™æ ·åˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²tæ˜¯ä¸æ˜¯åŸä¸²çš„å­åºåˆ—åªè¦å°†tä¸­çš„æ¯ä¸€ä¸ªå­—ç¬¦åœ¨é‚£æ£µæ ‘é‡Œè·‘ä¸€ä¸‹ï¼Œï¼Œï¼Œå¦‚æœå­˜åœ¨è¿™æ ·çš„è·¯å¾„å°±è¡¨ç¤ºtæ˜¯sçš„ä¸€ä¸ªå­åºåˆ—ï¼Œï¼Œï¼Œ</p>
<p>é‚£ä¹ˆæ€ä¹ˆå»ºæ ‘å‘¢ï¼Œï¼Œ</p>
<p>å¦‚æœæ­£ç€å»ºæ ‘çš„è¯æ¯æ¬¡éƒ½è¦æ‰¾åˆ°åé¢æœ€æ—©å‡ºç°çš„å­—ç¬¦çš„ä½ç½®ï¼Œï¼Œï¼Œä¸å¤ªå¥½å¼„ï¼Œï¼Œæ‰€ä»¥æˆ‘ä»¬å€’ç€å»ºæ ‘ï¼Œï¼Œç”¨ä¸€ä¸ª $now[26]$ æ•°ç»„è¡¨ç¤ºéå†åˆ°ç¬¬iä¸ªå­—ç¬¦æ—¶åé¢è¿™26ä¸ªå­—ç¬¦ä»åå¾€å‰çœ‹æœ€æ™šå‡ºç°çš„ä½ç½®ï¼Œï¼Œä¹Ÿå°±æ˜¯ç¬¬iä¸ªå­—ç¬¦åé¢çš„26ä¸ªå­—ç¬¦æœ€åœ¨å‡ºç°çš„ä½ç½®ï¼Œï¼Œï¼Œç”¨å®ƒæ¥æ›´æ–° $nxt[i][1 \to 26]$ï¼Œï¼Œç„¶åå†å°†è¿™ä¸ªå­—ç¬¦åœ¨ $now$ æ•°ç»„ä¸­çš„ä½ç½®æ›´æ–°ä¸ºå½“å‰çš„ä½ç½®ï¼Œï¼Œ$now[s[i]-â€˜aâ€™]=i$ï¼Œï¼Œï¼Œ</p>
<p>æœ€åçš„å®ç°å°±æ˜¯è¿™æ ·å­ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">int</span> nxt[maxn][<span class="hljs-number">30</span>];<br><span class="hljs-keyword">int</span> now[<span class="hljs-number">30</span>];<br><span class="hljs-keyword">char</span> s[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//åºåˆ—è‡ªåŠ¨æœºé¢„å¤„ç†</span><br>    <span class="hljs-built_in">memset</span>(now, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> now);            <span class="hljs-comment">//mow_iè¡¨ç¤ºç¬¬iä¸ªå­—æ¯åœ¨åŸä¸²ä¸­ä»åå‘å‰æœ€æ™šå‡ºç°çš„ä½ç½®</span><br>    <span class="hljs-keyword">int</span> len = <span class="hljs-built_in">strlen</span>(s);<br>    --len;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = len; ~i; --i)               <span class="hljs-comment">//å¤„ç†æ¯ä¸€ä¸ªå­—ç¬¦</span><br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">26</span>; ++j)        <span class="hljs-comment">//æ‰¾å‡ºç¬¬iä¸ªå­—ç¬¦åé¢çš„26ä¸ªå­—æ¯æœ€æ—©å‡ºç°çš„å­—ç¬¦çš„ä½ç½®</span><br>            nxt[i][j] = now[j];<br>        now[s[i] - <span class="hljs-string">&#x27;a&#x27;</span>] = i;                <span class="hljs-comment">//ç”¨å½“å‰å­—ç¬¦æ›´æ–°å½“å‰å­—ç¬¦åœ¨åŸä¸²ä¸­ä»åå‘å‰æœ€æ™šå‡ºç°çš„ä½ç½®</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="ä¾‹é¢˜"><a href="#ä¾‹é¢˜" class="headerlink" title="ä¾‹é¢˜"></a>ä¾‹é¢˜</h1><h2 id="ç‰›å®¢392-j"><a href="#ç‰›å®¢392-j" class="headerlink" title="ç‰›å®¢392-j"></a><a href="https://ac.nowcoder.com/acm/contest/392/J">ç‰›å®¢392-j</a></h2><h3 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><p>é¢˜æ„å°±æ˜¯åˆ¤æ–­nä¸ªå­—ç¬¦ä¸²æ˜¯ä¸æ˜¯åŸä¸²çš„å­åºåˆ—ï¼Œï¼Œï¼Œ</p>
<h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">int</span> <span class="hljs-title">read</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">char</span> c = getchar(); <span class="hljs-keyword">int</span> x = <span class="hljs-number">0</span>, f = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(c &lt; <span class="hljs-string">&#x27;0&#x27;</span> || c &gt; <span class="hljs-string">&#x27;9&#x27;</span>) &#123;<span class="hljs-keyword">if</span>(c == <span class="hljs-string">&#x27;-&#x27;</span>) f = <span class="hljs-number">-1</span>; c = getchar();&#125;<br>    <span class="hljs-keyword">while</span>(c &gt;= <span class="hljs-string">&#x27;0&#x27;</span> &amp;&amp; c &lt;= <span class="hljs-string">&#x27;9&#x27;</span>) x = x * <span class="hljs-number">10</span> + c - <span class="hljs-string">&#x27;0&#x27;</span>, c = getchar();<br>    <span class="hljs-keyword">return</span> x * f;<br>&#125;<br><span class="hljs-keyword">int</span> nxt[maxn][<span class="hljs-number">30</span>];<br><span class="hljs-keyword">int</span> now[<span class="hljs-number">30</span>];<br><span class="hljs-keyword">char</span> s[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//åºåˆ—è‡ªåŠ¨æœºé¢„å¤„ç†</span><br>    <span class="hljs-built_in">memset</span>(now, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> now);            <span class="hljs-comment">//mow_iè¡¨ç¤ºç¬¬iä¸ªå­—æ¯åœ¨åŸä¸²ä¸­ä»åå‘å‰æœ€æ™šå‡ºç°çš„ä½ç½®</span><br>    <span class="hljs-keyword">int</span> len = <span class="hljs-built_in">strlen</span>(s);<br>    --len;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = len; ~i; --i)               <span class="hljs-comment">//å¤„ç†æ¯ä¸€ä¸ªå­—ç¬¦</span><br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">26</span>; ++j)        <span class="hljs-comment">//æ‰¾å‡ºç¬¬iä¸ªå­—ç¬¦åé¢çš„26ä¸ªå­—æ¯æœ€æ—©å‡ºç°çš„å­—ç¬¦çš„ä½ç½®</span><br>            nxt[i][j] = now[j];<br>        now[s[i] - <span class="hljs-string">&#x27;a&#x27;</span>] = i;                <span class="hljs-comment">//ç”¨å½“å‰å­—ç¬¦æ›´æ–°å½“å‰å­—ç¬¦åœ¨åŸä¸²ä¸­ä»åå‘å‰æœ€æ™šå‡ºç°çš„ä½ç½®</span><br>    &#125;<br>&#125;<br><span class="hljs-keyword">char</span> ss[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>, s);<br>    <span class="hljs-keyword">int</span> n; <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br>    init();<br>    <span class="hljs-keyword">while</span>(n--)<br>    &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>, ss);<br>        <span class="hljs-keyword">int</span> loc = now[ss[<span class="hljs-number">0</span>] - <span class="hljs-string">&#x27;a&#x27;</span>];             <span class="hljs-comment">//æ²¡æœ‰ä»¥å­ä¸²ç¬¬ä¸€ä¸ªå­—ç¬¦å‡ºç°çš„å­åºåˆ—æ—¶</span><br>        <span class="hljs-keyword">if</span>(!~loc)<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;No\n&quot;</span>);<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">true</span>;<br>            <span class="hljs-keyword">int</span> len = <span class="hljs-built_in">strlen</span>(ss);<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; len; ++i)<br>            &#123;<br>                loc = nxt[loc][ss[i] - <span class="hljs-string">&#x27;a&#x27;</span>];    <span class="hljs-comment">//å¯»æ‰¾æ¯ä¸²ä¸­å­ä¸²ç¬¬iä¸ªå­—ç¬¦ä¸‹ä¸€æ¬¡å‡ºç°çš„ä½ç½®</span><br>                <span class="hljs-keyword">if</span>(!~loc)                       <span class="hljs-comment">//æ²¡æœ‰å°±é€€å‡º</span><br>                &#123;<br>                    flag = <span class="hljs-literal">false</span>;<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">if</span>(flag)<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Yes\n&quot;</span>);<br>            <span class="hljs-keyword">else</span>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;No\n&quot;</span>);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="ç‰›å®¢156-d"><a href="#ç‰›å®¢156-d" class="headerlink" title="ç‰›å®¢156-d"></a><a href="https://ac.nowcoder.com/acm/contest/156/D">ç‰›å®¢156-d</a></h2><h3 id="é¢˜æ„-1"><a href="#é¢˜æ„-1" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><p>æ‰¾å‡ºæ‰€æœ‰$abcdefghi$çš„æ’åˆ—æ˜¯åŸä¸²çš„å­åºåˆ—çš„ä¸ªæ•°ï¼Œï¼Œï¼Œ</p>
<p>åˆ¤æ–­æ¡ä»¶æ”¹ä¸€ä¸‹å°±è¡Œäº†ï¼Œï¼Œ</p>
<h3 id="ä»£ç -1"><a href="#ä»£ç -1" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">int</span> <span class="hljs-title">read</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">char</span> c = getchar(); <span class="hljs-keyword">int</span> x = <span class="hljs-number">0</span>, f = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(c &lt; <span class="hljs-string">&#x27;0&#x27;</span> || c &gt; <span class="hljs-string">&#x27;9&#x27;</span>) &#123;<span class="hljs-keyword">if</span>(c == <span class="hljs-string">&#x27;-&#x27;</span>) f = <span class="hljs-number">-1</span>; c = getchar();&#125;<br>    <span class="hljs-keyword">while</span>(c &gt;= <span class="hljs-string">&#x27;0&#x27;</span> &amp;&amp; c &lt;= <span class="hljs-string">&#x27;9&#x27;</span>) x = x * <span class="hljs-number">10</span> + c - <span class="hljs-string">&#x27;0&#x27;</span>, c = getchar();<br>    <span class="hljs-keyword">return</span> x * f;<br>&#125;<br><span class="hljs-keyword">int</span> now[<span class="hljs-number">10</span>];<br><span class="hljs-keyword">int</span> nxt[maxn][<span class="hljs-number">10</span>];<br><span class="hljs-keyword">char</span> s[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(now, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> now);<br>    <span class="hljs-keyword">int</span> len = <span class="hljs-built_in">strlen</span>(s);<br>    --len;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = len; ~i; --i)<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">9</span>; ++j)<br>            nxt[i][j] = now[j];<br>        now[s[i] - <span class="hljs-string">&#x27;a&#x27;</span>] = i;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>, s);<br>    <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">char</span> a[] = <span class="hljs-string">&quot;abcdefghi&quot;</span>;<br>    init();<br>    <span class="hljs-keyword">do</span><br>    &#123;<br>        <span class="hljs-keyword">int</span> loc = now[a[<span class="hljs-number">0</span>] - <span class="hljs-string">&#x27;a&#x27;</span>];<br>        <span class="hljs-keyword">if</span>(!~loc)<span class="hljs-keyword">continue</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; <span class="hljs-number">9</span>; ++i)<br>        &#123;<br>            loc = nxt[loc][a[i] - <span class="hljs-string">&#x27;a&#x27;</span>];<br>            <span class="hljs-keyword">if</span>(!~loc)<span class="hljs-keyword">break</span>;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(s[loc] == a[<span class="hljs-number">8</span>])++ans;<br>    &#125;<span class="hljs-keyword">while</span>(next_permutation(a, a + <span class="hljs-number">9</span>));<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, ans);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>è¿˜æœ‰ä¸€äº›åºåˆ—è‡ªåŠ¨æœºåŠ dpä»€ä¹ˆçš„ï¼Œï¼Œï¼Œä»¥åå†çœ‹æŠŠï¼Œï¼Œï¼Œ</p>
<p><a href="https://blog.csdn.net/pig_dog_baby/article/details/81145857">è¿™é‡Œæœ‰å¾ˆå¤šçŸ¥è¯†ç‚¹</a></p>
<p>(end)</p>
]]></content>
      <categories>
        <category>ACM-å­—ç¬¦ä¸²</category>
      </categories>
      <tags>
        <tag>acm</tag>
        <tag>ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>å¼ºè¿é€šåˆ†é‡Tarjan_Kosaraju</title>
    <url>/2019/02/11/%E5%BC%BA%E8%BF%9E%E9%80%9A%E5%88%86%E9%87%8FTarjan-Kosaraju/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>å›¾çš„è¿é€šæ€§æ˜¯å›¾è®ºä¸­çš„ä¸€ä¸ªåŸºç¡€çŸ¥è¯†ç‚¹ï¼Œç®—æ³•å¾ˆç®€å•ï¼Œä½†æ˜¯æ‰€æ‰€æ¶‰åŠçš„åŸºç¡€çŸ¥è¯†ç‚¹ä¹Ÿå¾ˆå¤šï¼Œåæ‚”å½“åˆç¦»æ•£æ•°å­¦æ²¡æœ‰å¥½å¥½çš„å­¦ï¼ŒQAQï¼Œï¼Œï¼Œ</p>
<p>è¿™ç¯‡ä¸»è¦æ˜¯è®°å½•ä¸€ä¸‹ä¸¤ç§æ–¹æ³•æ±‚å¼ºè¿é€šåˆ†é‡çš„ç®—æ³•ï¼ŒTarjanå’ŒKosarajuçš„æ¨¡æ¿ï¼Œ</p>
<span id="more"></span>
<h2 id="ç®—æ³•"><a href="#ç®—æ³•" class="headerlink" title="ç®—æ³•"></a>ç®—æ³•</h2><p>ï¼ˆå…·ä½“çš„ç®—æ³•çš„è¯æ˜å’Œç›¸å…³çš„å†…å®¹æ¥è‡ª<a href="https://www.cnblogs.com/five20/p/7594239.html">è¿™ç¯‡åšå®¢</a>ä»¥åŠçº¢ä¹¦ä¸Šçš„å†…å®¹ï¼‰</p>
<p>å¼ºè¿é€šåˆ†é‡å³ Strongly Connected Componentï¼Œä¸€ä¸ªæœ‰å‘å›¾ä¸­çš„äººä¸€ä¸¤ç‚¹è‹¥èƒ½ç›¸äº’åˆ°è¾¾ï¼Œå³ä¸ºå¼ºè¿é€šå›¾ï¼Œè‹¥ä¸ä¸ºå¼ºè¿é€šå›¾ï¼Œåˆ™æ”¹å›¾è‚¯å®šç”±è‹¥å¹²ä¸ªå°çš„å¼ºè¿é€šå›¾ç»„æˆï¼Œå³ä¸ºå¼ºè¿é€šåˆ†é‡ï¼Œä¾‹å¦‚<br><img src="https://images2017.cnblogs.com/blog/1240891/201709/1240891-20170926095934964-988227089.png" alt=""></p>
<p>å¯¹äºè¿™ä¸ªå›¾ï¼Œæœ‰ä¸‰ä¸ªå¼ºè¿é€šåˆ†é‡ï¼Œ{1,2,3,4},{5},{6}ï¼Œï¼Œï¼Œ</p>
<h3 id="Kosarajuç®—æ³•"><a href="#Kosarajuç®—æ³•" class="headerlink" title="Kosarajuç®—æ³•"></a>Kosarajuç®—æ³•</h3><ul>
<li>å¯¹åŸå›¾è¿›è¡Œä¸€æ¬¡æ·±æœï¼Œè®¡ç®—å‡ºæ¯ä¸€ä¸ªèŠ‚ç‚¹è¢«è®¿é—®çš„æ¬¡åºï¼ˆæ—¶é—´ï¼‰st[i]ï¼›</li>
<li>å¯¹é€†å›¾è¿›è¡Œä¸€æ¬¡æ·±æœï¼Œéå†çš„èµ·ç‚¹ä¸ºç¬¬ä¸€æ­¥èŠ‚ç‚¹ç»“æŸæ—¶é—´ä»å¤§åˆ°å°è¿›è¡Œï¼ŒåŒæ˜¯åšæ ‡è®°cnt2</li>
<li>æœ€åæ ‡è®°å€¼ç›¸åŒçš„ç‚¹å³ä¸ºä¸€ä¸ªå¼ºè¿é€šåˆ†é‡ï¼Œcolor[u]==color[v]ï¼Œè¯´æ˜u,våœ¨ç”¨ä¸€ä¸ªåˆ†é‡é‡Œï¼Œï¼Œï¼ˆkuangbinçš„æ¿å­è¿™é‡Œæ˜¯ç”¨çš„belong[i]è¡¨ç¤ºçš„ï¼‰</li>
</ul>
<h3 id="Tarjanç®—æ³•"><a href="#Tarjanç®—æ³•" class="headerlink" title="Tarjanç®—æ³•"></a>Tarjanç®—æ³•</h3><p>Tarjanç®—æ³•çš„æ€æƒ³ï¼šå¯¹äºæ¯ä¸€ä¸ªå¼ºè¿é€šåˆ†é‡sccæ‰€æ„æˆçš„æ ‘ä¸€å®šä¸ºæ·±æœæ—¶çš„dfsæ ‘ï¼Œæ‰€ä»¥æ‰¾åˆ°dfsæ ‘ä¸Šçš„æ ¹å³èƒ½ç¡®å®šä¸€ä¸ªscc</p>
<ul>
<li>dfn[i]è®°å½•çš„æ˜¯èŠ‚ç‚¹iåœ¨æ·±æœä¸­çš„è®¿é—®æ¬¡åºï¼ˆæ—¶é—´æˆ³ï¼‰</li>
<li>low[i]è®°å½•çš„æ˜¯ç‚¹iå¯ä»¥åˆ°è¾¾çš„è®¿é—®æ—¶é—´çš„æœ€æ—©ç¥–å…ˆ</li>
<li>Stackæ˜¯è®°å½•èŠ‚ç‚¹çš„æ ˆ</li>
</ul>
<p>1ã€æ·±æœæ•´ä¸ªå›¾ï¼Œä¸€è·¯ä¸Šæ ‡è®°dfnå¹¶æŠŠæ–°èŠ‚ç‚¹å‹æ ˆ<br>2ã€å¯¹äºä¸€ä¸ªèŠ‚ç‚¹iï¼Œå¦‚æœlow[i]==dfn[i]ï¼Œï¼Œè¯´æ˜ä»–æ— æ³•åˆ°è¾¾ä»–çš„ä»»ä½•ä¸€ä¸ªç¥–å…ˆ<br>3ã€æ ˆä¸­iå’Œiä¹‹åçš„ç‚¹æ˜¯ç›¸äº’å¯è¾¾çš„ï¼Œæ‰€ä»¥å¯ä»¥ç»„æˆä¸€ä¸ªæå¤§å¼ºè¿é€šåˆ†é‡ï¼Œå¯ä»¥æ•´ä½“å¼¹å‡º<br>4ã€lowçš„æ±‚æ³•ï¼šæ ¹æ®å®šä¹‰ï¼Œå¦‚æœç‚¹uè®¿é—®ä¸€ä¸ªæ–°åº—vï¼Œé‚£ä¹ˆuä¹Ÿå¯ä»¥åˆ°è¾¾low[v]ï¼Œæ‰€ä»¥å¯ä»¥ç”¨low[v]æ¥å°è¯•æ›´æ–°low[u]ï¼›å¦‚æœç‚¹uè®¿é—®ä¸€ä¸ªç¥–å…ˆkï¼Œé‚£ä¹ˆå°±ç›´æ¥ç”¨dfn[k]å°è¯•æ›´æ–°low[u]ï¼›<br>ï¼ˆçœ‹é‚£ç¯‡åšå®¢çš„å›¾æ›´å¥½ç†è§£ï¼‰</p>
<h2 id="ä¾‹é¢˜å’Œæ¨¡æ¿"><a href="#ä¾‹é¢˜å’Œæ¨¡æ¿" class="headerlink" title="ä¾‹é¢˜å’Œæ¨¡æ¿"></a>ä¾‹é¢˜å’Œæ¨¡æ¿</h2><p><a href="http://poj.org/problem?id=2186">ä¾‹é¢˜ä¸ºçº¢ä¹¦ä¸Šçš„æ¨èpoj2189</a></p>
<h3 id="é¢˜ç›®åˆ†æ"><a href="#é¢˜ç›®åˆ†æ" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h3><p>æœ‰è¿™ä¹ˆä¸€ç¾¤ç‰›ï¼Œç‰›Aå¯ä»¥è®¤ä¸ºç‰›Bæ˜¯å—æ¬¢è¿çš„ï¼ŒåŒæ—¶å¦‚æœç‰›Bè®¤ä¸ºç‰›Cæ˜¯å—æ¬¢è¿æ—¶ï¼Œå°±å¯ä»¥ç†è§£ä¸ºç‰›Aè®¤ä¸ºç‰›Cæ˜¯å—æ¬¢è¿çš„ï¼Œå³è¿™ç§å…³ç³»å…·æœ‰ä¼ é€’æ€§ï¼Œç„¶åé—®ä½ è¿™ç¾¤ç‰›ä¸­æœ‰å¤šå°‘å¤´æ˜¯è¢«å…¶ä»–æ‰€æœ‰ç‰›è®¤ä¸ºæ˜¯å—æ¬¢è¿çš„ã€‚</p>
<p>æŠ½è±¡æˆå›¾è®ºçš„æ ·å­æ¥ç†è§£å°±æ˜¯ï¼šå¯¹äºç»™å®šçš„ä¸€ä¸ªæœ‰å‘å›¾ï¼Œu-&gt;vè¡¨ç¤ºç‰›uè®¤ä¸ºç‰›væ˜¯å—æ¬¢è¿çš„ï¼Œé—®ä½ åœ¨è¿™ä¸ªå›¾ä¸­æœ‰å‡ ä¸ªç‚¹æ˜¯å…¶ä»–æ‰€æœ‰ç‚¹å¯ä»¥åˆ°è¾¾çš„ã€‚</p>
<p>æ€è·¯æ˜¯å…ˆæ±‚å‡ºæœ‰å‘å›¾çš„å¼ºè¿é€šåˆ†é‡ï¼Œå°†åŒæ„åˆ†é‡çš„ç‚¹â€œæŸ“è‰²â€æˆåŒä¸€ä¸ªç¼–å·ï¼Œï¼Œç„¶åâ€œç¼©ç‚¹â€æˆä¸€ä¸ªDAGæœ‰å‘æ— ç¯å›¾ï¼Œç„¶åæ‰¾å‡ºæ‰€æœ‰å‡ºåº¦ä¸º0çš„ç‚¹ï¼Œå¦‚æœè¿™æ ·çš„ç‚¹åªæœ‰ä¸€ä¸ªï¼Œè¯´æ˜è¿™ä¸ªç‚¹æ˜¯å¯ä»¥è¢«å…¶ä»–çš„ç‚¹åˆ°è¾¾çš„ï¼ŒåŒæ—¶ä¹Ÿè¯´æ˜è¿™ä¸ªç‚¹ï¼ˆå¼ºè¿é€šåˆ†é‡ï¼‰æ‰€åŒ…å«çš„ç‚¹ä¹Ÿæ˜¯åŸå›¾ä¸­å…¶ä»–æ‰€æœ‰ç‚¹å¯ä»¥åˆ°è¾¾çš„ï¼Œç­”æ¡ˆå°±æ˜¯è¿™ä¸ªå¼ºè¿é€šåˆ†é‡ä¸­ç‚¹çš„ä¸ªæ•°ï¼›å¦‚æœå‡ºåº¦ä¸º0ç‚¹æœ‰å¤šä¸ªï¼ŒåŠè¯´æ˜è¿™äº›å¼ºè¿é€šåˆ†é‡å—ä¹‹é—´æ˜¯æ²¡æœ‰å¯è¾¾çš„è·¯å¾„çš„ï¼ŒåŠåŸå›¾ä¸­ä¸å­˜åœ¨ä»»ä½•ä¸€ä¸ªå…¶ä»–æ‰€æœ‰ç‚¹éƒ½èƒ½åˆ°è¾¾çš„ç‚¹ï¼›</p>
<h3 id="Kosarajuå®ç°"><a href="#Kosarajuå®ç°" class="headerlink" title="Kosarajuå®ç°"></a>Kosarajuå®ç°</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//#include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> ll <span class="hljs-title">read</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">char</span> c = getchar(); <span class="hljs-keyword">int</span> x = <span class="hljs-number">0</span>, f = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(c &lt; <span class="hljs-string">&#x27;0&#x27;</span> || c &gt; <span class="hljs-string">&#x27;9&#x27;</span>) &#123;<span class="hljs-keyword">if</span>(c == <span class="hljs-string">&#x27;-&#x27;</span>) f = <span class="hljs-number">-1</span>; c = getchar();&#125;<br>    <span class="hljs-keyword">while</span>(c &gt;= <span class="hljs-string">&#x27;0&#x27;</span> &amp;&amp; c &lt;= <span class="hljs-string">&#x27;9&#x27;</span>) x = x * <span class="hljs-number">10</span> + c - <span class="hljs-string">&#x27;0&#x27;</span>, c = getchar();<br>    <span class="hljs-keyword">return</span> x * f;<br>&#125;<br><span class="hljs-comment">//kosaraju</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, next;<br>&#125;edge1[maxn], edge2[maxn];<br><span class="hljs-comment">//edge1ä¸ºåŸå›¾ï¼Œedge2ä¸ºé€†å›¾</span><br><span class="hljs-keyword">int</span> head1[maxn], head2[maxn];<br><span class="hljs-keyword">bool</span> mark1[maxn], mark2[maxn];<br><span class="hljs-keyword">int</span> tot1, tot2;<br><span class="hljs-keyword">int</span> cnt1, cnt2;<span class="hljs-comment">//cnt2å³ä¸ºå¼ºè¿é€šåˆ†é‡çš„ä¸ªæ•°scc</span><br><span class="hljs-keyword">int</span> st[maxn];<span class="hljs-comment">//å¯¹åŸå›¾è¿›è¡Œdfsï¼Œç‚¹çš„ç»“æŸæ—¶é—´ä»å°åˆ°å¤§çš„æ’åº</span><br><span class="hljs-keyword">int</span> belong[maxn];<span class="hljs-comment">//æ¯ä¸ªç‚¹å±äºé‚£ä¸ªè¿é€šåˆ†é‡çš„ç¼–å·(0~cnt2-1)</span><br><span class="hljs-keyword">int</span> num;<span class="hljs-comment">//ä¸­é—´å˜é‡ï¼Œç”¨æ¥ä¹¦æŸä¸ªè¿é€šåˆ†é‡ä¸­ç‚¹çš„ä¸ªæ•°</span><br><span class="hljs-keyword">int</span> setnum[maxn];<span class="hljs-comment">//å¼ºè¿é€šåˆ†é‡ä¸­ç‚¹çš„ä¸ªæ•°ï¼Œç¼–å·0~cnt2-1</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge1[tot1].to = v; edge1[tot1].next = head1[u]; head1[u] = tot1++;<br>    edge2[tot2].to = u; edge2[tot2].next = head2[v]; head2[v] = tot2++;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs1</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span><br><span class="hljs-function"></span>&#123;<br>    mark1[u] = <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head1[u]; ~i; i = edge1[i].next)<br>        <span class="hljs-keyword">if</span>(!mark1[edge1[i].to])<br>        dfs1(edge1[i].to);<br>    st[cnt1++] = u;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs2</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span><br><span class="hljs-function"></span>&#123;<br>    mark2[u] = <span class="hljs-literal">true</span>;<br>    ++num;<br>    belong[u] = cnt2;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head2[u]; ~i; i = edge2[i].next)<br>        <span class="hljs-keyword">if</span>(!mark2[edge2[i].to])<br>        dfs2(edge2[i].to);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">kosaraju</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(mark1, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> mark1);<br>    <span class="hljs-built_in">memset</span>(mark2, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> mark2);<br>    cnt1 = cnt2 = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        <span class="hljs-keyword">if</span>(!mark1[i])<br>            dfs1(i);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = cnt1 - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; --i)<br>        <span class="hljs-keyword">if</span>(!mark2[st[i]])<br>    &#123;<br>        num = <span class="hljs-number">0</span>;<br>        dfs2(st[i]);<br>        setnum[cnt2++] = num;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot1 = tot2 = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head1, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head1);<br>    <span class="hljs-built_in">memset</span>(head2, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head2);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">int</span> n, m;<br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n, &amp;m) != EOF)<br>    &#123;<br>        <span class="hljs-keyword">int</span> u, v;<br>        init();<br>        <span class="hljs-keyword">while</span>(m--)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;u, &amp;v);<br>            addedge(u, v);<br>        &#125;<br>        kosaraju(n);<br>        <span class="hljs-keyword">int</span> out[maxn];<span class="hljs-comment">//ç¼©ç‚¹åæ¯ä¸ªå¼ºè¿é€šåˆ†é‡ä»£è¡¨çš„ç‚¹çš„å‡ºåº¦</span><br>        <span class="hljs-built_in">memset</span>(out, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> out);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> u = <span class="hljs-number">1</span>; u &lt;= n; ++u)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head1[u]; ~i; i = edge1[i].next)<br>            &#123;<br>                <span class="hljs-keyword">int</span> v = edge1[i].to;<br>                <span class="hljs-keyword">if</span>(belong[u] != belong[v])<span class="hljs-comment">//ç¼©ç‚¹ï¼ŒåŒä¸€ç¼–å·çš„ç‚¹å³ä¸ºåŒä¸€ä¸ªå¼ºè¿é€šåˆ†é‡</span><br>                ++out[belong[u]];<br>            &#125;<br><br>        <span class="hljs-keyword">int</span> flag = <span class="hljs-number">-1</span>;<span class="hljs-comment">//å‡ºåº¦ä¸ºé›¶çš„ç‚¹çš„ç¼–å·</span><br>        <span class="hljs-keyword">int</span> num_ = <span class="hljs-number">0</span>;<span class="hljs-comment">//å‡ºåº¦ä¸ºé›¶çš„ç‚¹çš„ä¸ªæ•°</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; cnt2; ++i)<br>            <span class="hljs-keyword">if</span>(!out[i])<br>            &#123;<br>                flag = i;<br>                ++num_;<br>            &#125;<br>        <span class="hljs-keyword">if</span>(~flag &amp;&amp; num_ == <span class="hljs-number">1</span>)<br>        &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, setnum[flag]);<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;0\n&quot;</span>);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="Tarjan"><a href="#Tarjan" class="headerlink" title="Tarjan"></a>Tarjan</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//kaungbinçš„æ¿å­</span><br><span class="hljs-comment">//#include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> ll <span class="hljs-title">read</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">char</span> c = getchar(); <span class="hljs-keyword">int</span> x = <span class="hljs-number">0</span>, f = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(c &lt; <span class="hljs-string">&#x27;0&#x27;</span> || c &gt; <span class="hljs-string">&#x27;9&#x27;</span>) &#123;<span class="hljs-keyword">if</span>(c == <span class="hljs-string">&#x27;-&#x27;</span>) f = <span class="hljs-number">-1</span>; c = getchar();&#125;<br>    <span class="hljs-keyword">while</span>(c &gt;= <span class="hljs-string">&#x27;0&#x27;</span> &amp;&amp; c &lt;= <span class="hljs-string">&#x27;9&#x27;</span>) x = x * <span class="hljs-number">10</span> + c - <span class="hljs-string">&#x27;0&#x27;</span>, c = getchar();<br>    <span class="hljs-keyword">return</span> x * f;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, next;<br>&#125;edge[maxn];<br><span class="hljs-keyword">int</span> head[maxn], tot;<br><span class="hljs-keyword">int</span> low[maxn], dfn[maxn], Stack[maxn], belong[maxn];<br><span class="hljs-keyword">int</span> index, top;<br><span class="hljs-keyword">int</span> scc;<span class="hljs-comment">//å¼ºè¿é€šåˆ†é‡çš„ä¸ªæ•°</span><br><span class="hljs-keyword">bool</span> instack[maxn];<br><span class="hljs-keyword">int</span> num[maxn];<span class="hljs-comment">//æ¯ä¸ªç¼–å·çš„å¼ºè¿é€šåˆ†é‡ä¸­ç‚¹çš„ä¸ªæ•°</span><br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].next = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">tarjan</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> v;<br>    low[u] = dfn[u]= ++index;<br>    Stack[top++] = u;<br>    instack[u] = <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].next)<br>    &#123;<br>        v = edge[i].to;<br>        <span class="hljs-keyword">if</span>(!dfn[v])<br>        &#123;<br>            tarjan(v);<br>            <span class="hljs-keyword">if</span>(low[u] &gt; low[v])low[u] = low[v];<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(instack[v] &amp;&amp; low[u] &gt; dfn[v])<br>            low[u] = dfn[v];<br>    &#125;<br>    <span class="hljs-keyword">if</span>(low[u] == dfn[u])<br>    &#123;<br>        ++scc;<br>        <span class="hljs-keyword">do</span><br>        &#123;<br>            v = Stack[--top];<br>            instack[v] = <span class="hljs-literal">false</span>;<br>            belong[v] = scc;<br>            ++num[scc];<br>        &#125;<span class="hljs-keyword">while</span>(v != u);<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">solve</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(dfn, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> dfn);<br>    <span class="hljs-built_in">memset</span>(instack, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> instack);<br>    <span class="hljs-built_in">memset</span>(num, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> num);<br>    index = scc = top = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        <span class="hljs-keyword">if</span>(!dfn[i])<br>            tarjan(i);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">int</span> n, m;<br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n, &amp;m) != EOF)<br>    &#123;<br>        <span class="hljs-keyword">int</span> u, v;<br>        init();<br>        <span class="hljs-keyword">while</span>(m--)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;u, &amp;v);<br>            addedge(u, v);<br>        &#125;<br>        solve(n);<br>        <span class="hljs-keyword">int</span> out[maxn];<br>        <span class="hljs-built_in">memset</span>(out, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> out);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> u = <span class="hljs-number">1</span>; u &lt;= n; ++u)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].next)<br>            &#123;<br>                <span class="hljs-keyword">int</span> v = edge[i].to;<br>                <span class="hljs-keyword">if</span>(belong[u] != belong[v])<br>                ++out[belong[u]];<br>            &#125;<br><br>        <span class="hljs-keyword">int</span> flag = <span class="hljs-number">-1</span>;<br>        <span class="hljs-keyword">int</span> num_ = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= scc; ++i)<br>            <span class="hljs-keyword">if</span>(!out[i])<br>            &#123;<br>                flag = i;<br>                ++num_;<br>            &#125;<br>        <span class="hljs-keyword">if</span>(~flag &amp;&amp; num_ == <span class="hljs-number">1</span>)<br>        &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, num[flag]);<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;0\n&quot;</span>);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//çº¢ä¹¦çš„æ¿å­ï¼Œæ„Ÿè§‰ä¸å¤ªå‹å¥½ï¼Œè™½ç„¶çœ‹ç€èˆ’æœï¼Œä½†æ˜¯æ²¡æœ‰ä¸Šä¸€ä¸ªæ¿å­çµæ´»ï¼Œè€Œä¸”ä½¿ç”¨vectorå®ç°ï¼Œè€—æ—¶ç¨å¤§</span><br><span class="hljs-comment">//#include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> ll <span class="hljs-title">read</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">char</span> c = getchar(); <span class="hljs-keyword">int</span> x = <span class="hljs-number">0</span>, f = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(c &lt; <span class="hljs-string">&#x27;0&#x27;</span> || c &gt; <span class="hljs-string">&#x27;9&#x27;</span>) &#123;<span class="hljs-keyword">if</span>(c == <span class="hljs-string">&#x27;-&#x27;</span>) f = <span class="hljs-number">-1</span>; c = getchar();&#125;<br>    <span class="hljs-keyword">while</span>(c &gt;= <span class="hljs-string">&#x27;0&#x27;</span> &amp;&amp; c &lt;= <span class="hljs-string">&#x27;9&#x27;</span>) x = x * <span class="hljs-number">10</span> + c - <span class="hljs-string">&#x27;0&#x27;</span>, c = getchar();<br>    <span class="hljs-keyword">return</span> x * f;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">scc</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-built_in">vector</span> &lt;<span class="hljs-keyword">int</span>&gt; &amp;color;<br>    <span class="hljs-built_in">vector</span> &lt;<span class="hljs-keyword">int</span>&gt; Stack;<br>    <span class="hljs-keyword">int</span> num_scc, colorcnt, curr, *instack, *dfn, *low, *info, *next, *to;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function">    </span>&#123;<br>        dfn[x] = low[x] = ++curr;<br>        Stack.push_back(x);<br>        instack[x] = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = info[x]; j; j = next[j])<br>            <span class="hljs-keyword">if</span>(!instack[to[j]])<br>            &#123;<br>                dfs(to[j]);<br>                low[x] = min(low[x], low[to[j]]);<br>            &#125;<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(instack[to[j]] == <span class="hljs-number">1</span>)<br>            &#123;<br>                low[x] = min(low[x], dfn[to[j]]);<br>            &#125;<br><br>        <span class="hljs-keyword">if</span>(low[x] == dfn[x])<br>        &#123;<br>            <span class="hljs-keyword">while</span>(Stack.back() != x)<br>            &#123;<br>                color[Stack.back()] = colorcnt;<br>                instack[Stack.back()] = <span class="hljs-number">2</span>;<br>                Stack.pop_back();<br>            &#125;<br>            color[Stack.back()] = colorcnt++;<br>            instack[Stack.back()] = <span class="hljs-number">2</span>;<br>            Stack.pop_back();<br>            ++num_scc;<br>        &#125;<br>    &#125;<br>    <span class="hljs-comment">//edgeä¸ºå›¾, nä¸ºç‚¹æ•°, ansä¸ºæŸ“è‰²çš„ç»“æœï¼ŒåŠç¼–å·, ansnä¸ºsccçš„ä¸ªæ•°</span><br>    scc(<span class="hljs-keyword">const</span> <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; &gt; &amp;edge, <span class="hljs-keyword">int</span> n, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; &amp;ans, <span class="hljs-keyword">int</span> &amp;ansn):color(ans)<br>    &#123;<br>        color.resize(n);<br>        instack = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[n];<br>        dfn = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[n];<br>        low = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[n];<br>        info = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[n];<br>        next = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[(<span class="hljs-keyword">int</span>)edge.size() + <span class="hljs-number">5</span>];<br>        to = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[(<span class="hljs-keyword">int</span>)edge.size() + <span class="hljs-number">5</span>];<br>        fill_n(info, n, <span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">size_t</span> i = <span class="hljs-number">0</span>; i &lt; edge.size(); ++i)<br>        &#123;<br>            to[i + <span class="hljs-number">1</span>] = edge[i].second;<br>            next[i + <span class="hljs-number">1</span>] = info[edge[i].first];<br>            info[edge[i].first] = i + <span class="hljs-number">1</span>;<br>        &#125;<br>        fill_n(instack, n, <span class="hljs-number">0</span>);<br>        colorcnt = <span class="hljs-number">0</span>;<br>        curr = <span class="hljs-number">0</span>;<br>        num_scc = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i)<br>            <span class="hljs-keyword">if</span>(!instack[i])<br>                dfs(i);<br>        ansn = num_scc;<br>        <span class="hljs-keyword">delete</span>[] instack;<br>        <span class="hljs-keyword">delete</span>[] dfn;<br>        <span class="hljs-keyword">delete</span>[] low;<br>        <span class="hljs-keyword">delete</span>[] info;<br>        <span class="hljs-keyword">delete</span>[] next;<br>        <span class="hljs-keyword">delete</span>[] to;<br>    &#125;<br>&#125;;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">int</span> n, m;<br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n, &amp;m) != EOF)<br>    &#123;<br>        <span class="hljs-keyword">int</span> u, v;<br>        <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; &gt; edge;<br>        edge.clear();<br>        <span class="hljs-keyword">while</span>(m--)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;u, &amp;v);<br>            --u;--v;<br>            edge.push_back(<span class="hljs-built_in">make_pair</span>(u, v));<br>        &#125;<br>        <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; ans;<br>        ans.clear();<br>        <span class="hljs-keyword">int</span> ansn;<br>        scc(edge, n, ans, ansn);<br><br>        <span class="hljs-keyword">int</span> out[maxn];<br>        <span class="hljs-built_in">memset</span>(out, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> out);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">size_t</span> i = <span class="hljs-number">0</span>; i &lt; edge.size(); ++i)<br>            <span class="hljs-keyword">if</span>(ans[edge[i].first] != ans[edge[i].second])<br>                ++out[ans[edge[i].first]];<br>        <span class="hljs-keyword">int</span> flag = <span class="hljs-number">-1</span>;<br>        <span class="hljs-keyword">int</span> num = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; ansn; ++i)<br>            <span class="hljs-keyword">if</span>(!out[i])<br>            &#123;<br>                flag = i;<br>                ++num;<br>            &#125;<br>        <span class="hljs-keyword">if</span>(~flag &amp;&amp; num == <span class="hljs-number">1</span>)<br>        &#123;<br>            <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i)<br>                <span class="hljs-keyword">if</span>(ans[i] == flag)<br>                    ++res;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, res);<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;0\n&quot;</span>);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>Tarjanå’ŒKosarajuçš„æ—¶é—´å¤æ‚åº¦åŸºæœ¬ç›¸ç­‰ï¼Œéƒ½ä¸ºO(V + E),,,ä½†æ˜¯çœ‹å¾ˆå¤šäººçš„å»ºè®®æ˜¯å°½é‡ç”¨Tarjanåšé¢˜ï¼Œä¸æ˜“å‡ºç°çˆ†æ ˆçš„æƒ…å†µï¼Œå®é™…è¿è¡Œçš„æ—¶é—´ä¹Ÿæœ‰æ—¶å°ä¸€äº›ï¼ŒKosarajuè¾ƒå®¹æ˜“ç†è§£ï¼›</p>
<p>æ±‚å¼ºè¿é€šåˆ†é‡æ˜¯ä¸€äº›å…¶ä»–ç®—æ³•çš„åŸºç¡€ï¼Œï¼Œä¾‹å¦‚2-satï¼›<br>(end)</p>
]]></content>
      <categories>
        <category>ACM-å›¾è®º-å¼ºè¿é€šåˆ†é‡</category>
      </categories>
      <tags>
        <tag>åˆ·é¢˜</tag>
        <tag>acm</tag>
      </tags>
  </entry>
  <entry>
    <title>æ‰¹é‡å°†docæ–‡ä»¶è½¬åŒ–æˆdocx</title>
    <url>/2019/05/29/%E6%89%B9%E9%87%8F%E5%B0%86doc%E6%96%87%E4%BB%B6%E8%BD%AC%E5%8C%96%E6%88%90docx/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p>æœ€è¿‘è¦å¼„æš‘æœŸå®è®­äº†ï¼ŒçŸ¥é“è€å¸ˆç»™äº†ä¸€ä»½å›½æ ‡çš„è½¯ä»¶æ–‡æ¡£æ ‡å‡†ï¼Œï¼Œç„¶åé‡Œé¢å¾ˆå¤š <code>.doc</code> çš„æ–‡ä»¶ï¼Œï¼Œå› ä¸ºæˆ‘å·²ç»å®Œå…¨ä¹ æƒ¯äº†ç”¨mdæ¥å†™å„ç§æ–‡æ¡£ï¼Œï¼Œè€Œä¸”ç”µè„‘ä¹Ÿé…ç½®å¥½äº† <code>pandoc</code> çš„ç¯å¢ƒï¼Œï¼Œæ‰€ä»¥å°±æƒ³ç€å°† <code>doc</code> æ–‡ä»¶è½¬åŒ–æˆ <code>.md</code> æ–‡ä»¶ï¼Œï¼Œç„¶åç›´æ¥ç”¨mdçš„è¯­æ³•æ¥å†™æ–‡æ¡£ï¼Œï¼Œç„¶åç”¨ <code>pandoc</code> æ¥è½¬æ¢å†™å¥½çš„mdæ–‡æ¡£æˆ <code>docx</code>ï¼Œè‡ªåŠ¨æ’ç‰ˆï¼Œï¼Œä¸ç”¨è€ƒè™‘ä¸€äº›å¯¹é½ä»€ä¹ˆçš„æ ¼å¼é—®é¢˜ï¼Œï¼Œä½†æ˜¯ï¼Œï¼Œ<code>doc</code> æ–‡æ¡£å¾ˆå¤šï¼Œï¼Œè€Œä¸” <code>pandoc</code> ä¸æ”¯æŒç›´æ¥å°† <code>doc</code> è½¬æ¢æˆ <code>md</code> æ ¼å¼çš„æ–‡ä»¶ï¼Œï¼Œè¦å…ˆè½¬åŒ–æˆ <code>docx</code> æ–‡ä»¶æ‰èƒ½è½¬æ¢æˆ <code>md</code> æ–‡ä»¶ï¼Œï¼Œï¼Œä½†æ˜¯ä¸€ä¸ªæ–‡ä»¶è¿˜å¥½è¯´ï¼Œï¼Œä¸€å¨æ–‡ä»¶çš„è¯æ‰‹åŠ¨è½¬åŒ–å°±å¤ªéº»çƒ¦äº†ï¼Œï¼Œäºæ˜¯æ‰¾äº†ä¸€äº›å¯ä»¥è½¬åŒ–ä¸€æ•´ä¸ªæ–‡ä»¶å¤¹ä¸‹çš„ <code>doc</code> æ–‡ä»¶çš„æ–¹æ³•ï¼Œï¼Œ</p>
<span id="more"></span>
<h1 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h1><p><a href="https://www.zhihu.com/question/56463918">å‚è€ƒé“¾æ¥</a></p>
<p>ç½‘ä¸Šæœ‰å¾ˆå¤šç”¨æ’ä»¶å°±å¯ä»¥å®ç°çš„æ–¹æ³•ï¼Œï¼Œä½†æ˜¯æˆ‘å«Œå®‰è£…è½¯ä»¶éº»çƒ¦ï¼Œï¼Œè€Œä¸”å†…å¿ƒæƒ³ç€è‚¯å®šæœ‰ä¸€ç§ç”¨ä»£ç å°±å¯ä»¥è§£å†³çš„æ–¹æ³•ï¼Œï¼Œäºæ˜¯å°±æ‰¾åˆ°äº†è¿™ä¸ªï¼š <strong>åˆ©ç”¨wordä¸­çš„vbæ¥å®ç°æ‰¹é‡è½¬æ¢æ–‡ä»¶æ ¼å¼</strong> ï¼Œï¼Œï¼Œ</p>
<h2 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h2><ul>
<li>æ–°å»ºä¸€ä¸ªwordæ–‡ä»¶</li>
<li>æŒ‰ä½ <code>Alt+F11</code> è¿™æ—¶ä¼šæ‰“å¼€ä¸€ä¸ªåä¸º <code>Microsoft Visual Basic for Application</code> çš„çª—å£ï¼Œï¼Œ</li>
<li>ç‚¹å‡» <code>æ’å…¥-&gt;æ¨¡å—</code></li>
<li>åœ¨æ–°çª—å£ä¸­å¡«å†™å¦‚ä¸‹å½¢å¼çš„ä»£ç ï¼š</li>
</ul>
<figure class="highlight vb"><table><tr><td class="code"><pre><code class="hljs vb"><span class="hljs-keyword">Option</span> <span class="hljs-keyword">Explicit</span><br><span class="hljs-keyword">Sub</span> doc2docx()<br><span class="hljs-keyword">Dim</span> sEveryFile <span class="hljs-keyword">As</span> <span class="hljs-type">String</span><br><span class="hljs-keyword">Dim</span> sSourcePath <span class="hljs-keyword">As</span> <span class="hljs-type">String</span><br><span class="hljs-keyword">Dim</span> path <span class="hljs-keyword">As</span> <span class="hljs-type">String</span><br><span class="hljs-keyword">Dim</span> sNewSavePath <span class="hljs-keyword">As</span> <span class="hljs-type">String</span><br><span class="hljs-keyword">Dim</span> CurDoc <span class="hljs-keyword">As</span> <span class="hljs-type">Object</span><br>sSourcePath = <span class="hljs-string">&quot;G:\FTPé¡¹ç›®\GB8567\GB8567\è½¯ä»¶è®¾è®¡æ–‡æ¡£ï¼ˆå›½æ ‡ï¼‰\è½¯ä»¶è®¾è®¡æ–‡æ¡£å›½å®¶æ ‡å‡†_GB8567--88\&quot;</span><br>path = <span class="hljs-string">&quot;G:\FTPé¡¹ç›®\GB8567\GB8567\è½¯ä»¶è®¾è®¡æ–‡æ¡£ï¼ˆå›½æ ‡ï¼‰\è½¯ä»¶è®¾è®¡æ–‡æ¡£å›½å®¶æ ‡å‡†_GB8567--88_docx\&quot;</span><br>sEveryFile = Dir(sSourcePath &amp; <span class="hljs-string">&quot;*.doc&quot;</span>)<br><span class="hljs-keyword">Do</span> <span class="hljs-keyword">While</span> sEveryFile &lt;&gt; <span class="hljs-string">&quot;&quot;</span><br>    <span class="hljs-keyword">Set</span> CurDoc = Documents.Open(sSourcePath &amp; sEveryFile, , , , , , , , , , , msoFalse)<br>    CurDoc.Convert<br>    sNewSavePath = VBA.Strings.Replace(path &amp; sEveryFile, <span class="hljs-string">&quot;.doc&quot;</span>, <span class="hljs-string">&quot;.docx&quot;</span>)<br>    CurDoc.SaveAs2 sNewSavePath, wdFormatDocumentDefault<br>    CurDoc.Close SaveChanges:=<span class="hljs-literal">False</span><br>    sEveryFile = Dir<br><span class="hljs-keyword">Loop</span><br><span class="hljs-keyword">Set</span> CurDoc = <span class="hljs-literal">Nothing</span><br><span class="hljs-keyword">End</span> <span class="hljs-keyword">Sub</span><br></code></pre></td></tr></table></figure>
<p><strong>å…¶ä¸­ <code>sSourcePath</code> è¡¨ç¤ºä½ è¦æ‰¹é‡è½¬æ¢æ–‡æ¡£çš„æ–‡ä»¶å¤¹ï¼Œ <code>path</code> è¡¨ç¤ºæœ€åè½¬æ¢å‡ºçš„æ–‡ä»¶ä¿å­˜çš„è·¯å¾„ï¼ˆæ ¹æ®è‡ªå·±çš„éœ€æ±‚æ›´æ”¹ï¼‰</strong></p>
<ul>
<li>ç„¶åç‚¹å‡»çª—å£ï¼ˆå¦åˆ™è¿è¡Œæ²¡ååº”ï¼‰ï¼Œè¿è¡Œï¼ˆF5 æˆ–è€…ç‚¹ä¸Šé¢çš„ç»¿è‰²çš„å°ä¸‰è§’ï¼‰</li>
<li>ç­‰å¾…ï¼Œç›®æ ‡æ–‡ä»¶å¤¹å°±æœ‰äº†è½¬æ¢åçš„æ–‡æ¡£</li>
</ul>
<h2 id="å‘ç‚¹"><a href="#å‘ç‚¹" class="headerlink" title="å‘ç‚¹"></a>å‘ç‚¹</h2><ul>
<li>ä¸Šé¢ä¸¤ä¸ªè·¯å¾„è®°å¾— <strong>æœ«å°¾æ·»åŠ  \ </strong> ï¼Œå¦åˆ™ä¼šæç¤ºæ–‡ä»¶è·¯å¾„æ‰¾ä¸åˆ°ç­‰é”™è¯¯</li>
<li>å¯¹äº†ï¼Œå¦‚æœæç¤º <code>é”™è¯¯5121</code> ç­‰ç­‰çš„æŠ¥é”™ä¿¡æ¯ï¼Œï¼Œè¯•è¯•ä¹‹å‰æç¤ºçš„ä¿å­˜ <strong>å®ç¼–ç doc</strong> çš„è¿‡ç¨‹ <strong>ä¿å­˜çš„wordæ–‡ä»¶ä¸ºæ—§ç‰ˆæœ¬çš„wordæ–‡ä»¶å½¢å¼ï¼ˆæˆ‘é€‰çš„æ˜¯word2003  .docï¼‰</strong></li>
<li></li>
</ul>
]]></content>
      <tags>
        <tag>æŠ€å·§</tag>
      </tags>
  </entry>
  <entry>
    <title>æ‹“æ‰‘æ’åº</title>
    <url>/2019/02/12/%E6%8B%93%E6%89%91%E6%8E%92%E5%BA%8F/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>è²Œä¼¼ä»æ¥æ²¡æœ‰æ•²è¿‡æ‹“æ‰‘æ’åºçš„æ¿å­ï¼Œï¼Œï¼Œè®°å½•ä¸€ä¸‹</p>
<p>æ‹“æ‰‘æ’åºå°±æ˜¯å¯¹DAGæœ‰å‘æ— ç¯å›¾ä¸­çš„è¾¹u-&gt;v,è¦æ±‚æ’åºå‡ºä¸€ä¸ªç‚¹çš„åºåˆ—ï¼Œæ»¡è¶³uåœ¨vçš„å‰é¢ï¼Œï¼Œ</p>
<p>ç®—æ³•çš„æ€è·¯æ˜¯ä¸åœçš„å°†å…¥åº¦ä¸ºé›¶çš„ç‚¹uæ”¾åˆ°å‰é¢ï¼Œå¹¶ä¸”å¯¹uèƒ½åˆ°è¾¾çš„æ‰€æœ‰ç‚¹vçš„å…¥åº¦é€’å‡ï¼Œï¼Œå¾ªç¯å¤„ç†æ‰€æœ‰çš„ç‚¹å³å¯ï¼Œï¼ŒæœŸé—´å°†æ‰€æœ‰å…¥åº¦ä¸ºé›¶çš„ç‚¹æ”¾åœ¨ä¸€ä¸ªé˜Ÿåˆ—ä¸­ï¼Œï¼Œ</p>
<span id="more"></span>
<p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1285">æ¿å­é¢˜</a></p>
<p>è¿™é“é¢˜è¦æ±‚å¯¹äºå¤šç§å¯èƒ½çš„æ’åºè¾“å‡ºå­—å…¸åºæœ€å°çš„é‚£ç§ï¼Œï¼Œç”¨ä¼˜å…ˆé˜Ÿåˆ—ä»£æ›¿åŸæ¥çš„é˜Ÿåˆ—å°±è¡Œäº†ï¼Œï¼Œ</p>
<ul>
<li>æ³¨æ„æ­ç”µä¸Šä¸èƒ½ç”¨ä¸‡èƒ½å¤´æ–‡ä»¶ï¼Œè€Œä¸”ä¼˜å…ˆé˜Ÿåˆ—çš„ç”±å°åˆ°å¤§çš„å†™æ³• <code>priority_queue&lt;int, vector&lt;int&gt;, greater&lt;int&gt; &gt; q;</code>,å¤´æ–‡ä»¶è¦åŠ  <code>#include &lt;queue&gt;</code> å’Œ <code>#include &lt;functional&gt;</code> ï¼ˆä¸€ç›´ä¸çŸ¥é“ï¼Œï¼Œï¼Œ233ï¼Œï¼Œï¼Œ</li>
<li>è¿˜æœ‰å¥½ä¹…ä¸ç»ƒå¿˜è®°å¤šç»„æ•°æ®è¦è®°å¾—æ¸…é›¶é‚£äº›æ•°ç»„ï¼Œï¼Œ</li>
</ul>
<p>ä»£ç ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//#include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;functional&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> ll <span class="hljs-title">read</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">char</span> c = getchar(); <span class="hljs-keyword">int</span> x = <span class="hljs-number">0</span>, f = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(c &lt; <span class="hljs-string">&#x27;0&#x27;</span> || c &gt; <span class="hljs-string">&#x27;9&#x27;</span>) &#123;<span class="hljs-keyword">if</span>(c == <span class="hljs-string">&#x27;-&#x27;</span>) f = <span class="hljs-number">-1</span>; c = getchar();&#125;<br>    <span class="hljs-keyword">while</span>(c &gt;= <span class="hljs-string">&#x27;0&#x27;</span> &amp;&amp; c &lt;= <span class="hljs-string">&#x27;9&#x27;</span>) x = x * <span class="hljs-number">10</span> + c - <span class="hljs-string">&#x27;0&#x27;</span>, c = getchar();<br>    <span class="hljs-keyword">return</span> x * f;<br>&#125;<br><br><span class="hljs-comment">//red_book</span><br><span class="hljs-comment">//l[maxn]ä¸ºæœ€åæ’åºçš„ç»“æœ</span><br><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; g[maxn];<br><span class="hljs-keyword">int</span> du[maxn], n, m, l[maxn];<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">toposort</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(du, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> du);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; g[i].size(); ++j)<br>            ++du[g[i][j]];<br>    <span class="hljs-keyword">int</span> tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">priority_queue</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;, greater&lt;<span class="hljs-keyword">int</span>&gt; &gt; q;<span class="hljs-comment">//æŒ‰å­—å…¸åºæœ€å°çš„æ’åºæ—¶</span><br>    <span class="hljs-comment">//queue&lt;int&gt; q;</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        <span class="hljs-keyword">if</span>(!du[i])<br>            q.push(i);<br>    <span class="hljs-keyword">while</span>(!q.empty())<br>    &#123;<br>        <span class="hljs-keyword">int</span> x = q.top(); q.pop();<br>        l[tot++] = x;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; g[x].size(); ++j)<br>        &#123;<br>            <span class="hljs-keyword">int</span> t = g[x][j];<br>            --du[t];<br>            <span class="hljs-keyword">if</span>(!du[t])q.push(t);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(tot == n)<span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">else</span>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">int</span> u, v;<br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n, &amp;m) != EOF)<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)g[i].clear();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)du[i] = l[i] = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;u, &amp;v);<br>            g[u].push_back(v);<br>        &#125;<br>        toposort();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n - <span class="hljs-number">1</span>; ++i)<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, l[i]);<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, l[n - <span class="hljs-number">1</span>]);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>(end)</p>
]]></content>
      <categories>
        <category>å›¾è®º</category>
      </categories>
      <tags>
        <tag>åˆ·é¢˜</tag>
        <tag>acm</tag>
      </tags>
  </entry>
  <entry>
    <title>æ‹“æ‰‘æ’åºåˆ¤ç¯+äºŒåˆ†æšä¸¾å»ºå›¾</title>
    <url>/2019/03/16/%E6%8B%93%E6%89%91%E6%8E%92%E5%BA%8F%E5%88%A4%E7%8E%AF-%E4%BA%8C%E5%88%86%E6%9E%9A%E4%B8%BE%E5%BB%BA%E5%9B%BE/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>ä¸€é“å¯’å‡æ²¡æœ‰åšçš„é¢˜ï¼Œï¼Œï¼Œå½“æ—¶æ²¡æœ‰çœ‹æ‹“æ‰‘æ’åºï¼Œï¼Œæ‰€ä»¥å°±è·³è¿‡äº†ï¼Œï¼Œä»Šå¤©çœ‹åˆ°äº†ï¼Œï¼Œemmmå¾ˆç®€å•å•Šï¼Œï¼Œï¼Œ</p>
<span id="more"></span>
<h1 id="Applese-çš„QQç¾¤"><a href="#Applese-çš„QQç¾¤" class="headerlink" title="Applese çš„QQç¾¤"></a><a href="https://ac.nowcoder.com/acm/contest/330/F">Applese çš„QQç¾¤</a></h1><p>é¢˜æ„å°±æ˜¯ä¸€ä¸ªä¸æ–­é•¿å¤§çš„å›¾ï¼Œï¼Œåˆ¤æ–­ä»€ä¹ˆæ—¶å€™ä¼šå‡ºç°ç¯ï¼Œï¼Œ</p>
<p>åˆ¤æ–­æœ‰å‘å›¾æ˜¯å¦æœ‰ç¯ç”¨æ‹“æ‰‘æ’åº/bfsï¼Œï¼Œï¼Œå› ä¸ºå›¾ç¤ºä¸æ–­å˜å¤§çš„ï¼Œï¼Œï¼Œæ‰€ä»¥å½“å‡ºç°ä¸€ä¸ªç¯åï¼Œï¼Œåé¢çš„å°±å…¨æ˜¯noäº†ï¼Œï¼Œï¼Œæ‰€ä»¥å¯ä»¥äºŒåˆ†æšä¸¾ä¸€ä¸‹å‡ºç°ç¯æ—¶çš„å›¾ï¼Œï¼Œï¼Œ</p>
<h1 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h1><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// #include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-comment">//#include &lt;vector&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, next;<br>&#125;edge[maxn];<br><span class="hljs-keyword">int</span> tot, head[maxn];<br><span class="hljs-keyword">int</span> u[maxn], v[maxn], du[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>    <span class="hljs-built_in">memset</span>(du, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> du);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].next = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">toposort</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    init();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= x; ++i)<br>        addedge(u[i], v[i]);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= x; ++i)<br>        ++du[v[i]];<br>    <span class="hljs-built_in">queue</span>&lt;<span class="hljs-keyword">int</span>&gt; q;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        <span class="hljs-keyword">if</span>(!du[i])<br>            q.push(i);<br>    <span class="hljs-keyword">int</span> cnt = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span>(!q.empty())<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = q.front(); q.pop();<br>        ++cnt;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].next)<br>            <span class="hljs-keyword">if</span>(--du[edge[i].to] == <span class="hljs-number">0</span>)<br>                q.push(edge[i].to);<br>    &#125;<br>    <span class="hljs-keyword">return</span> cnt == n;    <br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    <span class="hljs-comment">// ios_base::sync_with_stdio(0);</span><br>    <span class="hljs-comment">// cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">int</span> n, m;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;u[i], &amp;v[i]);<br>    <span class="hljs-keyword">int</span> l = <span class="hljs-number">1</span>, r = m, ans = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span>(l &lt;= r)&#123;<br>        <span class="hljs-keyword">int</span> mid = (l + r) &gt;&gt; <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span>(toposort(mid, n))<br>        &#123;<br>            ans = mid;<br>            l = mid + <span class="hljs-number">1</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            r = mid - <span class="hljs-number">1</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= ans; ++i)<span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;Yes&quot;</span>);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = ans + <span class="hljs-number">1</span>; i &lt;= m; ++i)<span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;No&quot;</span>);<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>(end)</p>
]]></content>
      <categories>
        <category>ACM-å›¾è®º-æ‹“æ‰‘æ’åº</category>
      </categories>
      <tags>
        <tag>åˆ·é¢˜</tag>
        <tag>acm</tag>
      </tags>
  </entry>
  <entry>
    <title>æ‹¯æ•‘è€…Y720-gtx1050-window10-é…ç½®tensorflow-gpuç¯å¢ƒ</title>
    <url>/2019/03/15/%E6%8B%AF%E6%95%91%E8%80%85Y720-gtx1050-window10-%E9%85%8D%E7%BD%AEtensorflow-gpu%E7%8E%AF%E5%A2%83/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p>å› ä¸ºé€‰ä¿®äº†æ•°å­—å›¾åƒè¿™é—¨è¯¾ï¼Œï¼Œè¦åšä¸€ä¸ªäººè„¸è¯†åˆ«çš„é¡¹ç›®ï¼Œå’Œå®¤å‹æ‰“ç®—åˆ©ç”¨tensorflowæ¥è®­ç»ƒä¸€ä¸ªæ¨¡å‹ï¼Œï¼Œç„¶ååˆšå¼€å§‹çš„ç¯å¢ƒé…ç½®å°±æŠ˜è…¾äº†ä¸€å¤©ï¼Œï¼Œ</p>
<p>ç°åœ¨è®°å½•ä¸€ä¸‹å¤§è‡´çš„æµç¨‹å’Œé‡åˆ°çš„å‘ï¼Œï¼Œï¼ˆåªæ˜¯ç®€ç•¥çš„å†™å†™é…ç½®çš„è¦ç‚¹ï¼Œï¼Œå…·ä½“çš„ä¿¡æ¯åˆ«çš„åšå®¢è®²çš„å¾ˆæ¸…æ¥šäº†ï¼Œï¼Œï¼Œ</p>
<p>æœ€åçš„ç¯å¢ƒï¼š win10x64 + gtx1050 + CUDA9.0 + cuDNN9.0 + Anaconda + <strong>Tensorflow1.9.0</strong></p>
<p>è‹±ä¼Ÿè¾¾å®˜ç½‘ä½ ä¼šå‘ç°1050ä¸èƒ½ä½¿ç”¨å®ƒçš„CUDAï¼Œï¼Œä½†å®é™…ä¸Šæ˜¯å¯ä»¥ä½¿ç”¨çš„ï¼Œï¼Œåé¢å¯ä»¥çœ‹å‡ºç®—åŠ›å¤§æ¦‚æ˜¯6.1ï¼Œï¼Œ</p>
<span id="more"></span>
<h1 id="é…ç½®æµç¨‹"><a href="#é…ç½®æµç¨‹" class="headerlink" title="é…ç½®æµç¨‹"></a>é…ç½®æµç¨‹</h1><p>åªåˆ—å‡ºå¿…è¦çš„æµç¨‹ä»¥åŠæˆ‘é‡åˆ°çš„å‘ï¼Œï¼Œ</p>
<p>è¯¦ç»†çš„å®‰è£…è¿‡ç¨‹å‚è€ƒåˆ«äººçš„åšå®¢ï¼š</p>
<p><a href="https://blog.csdn.net/haishiluoshen/article/details/83413568">Win10+1050Tié…ç½®Tensorflowæ•™ç¨‹</a></p>
<p><a href="https://blog.csdn.net/weixin_39290638/article/details/80045236">Win10ä¸‹Tensorflow(GPUç‰ˆ)å®‰è£…è¶Ÿå‘å®å½•</a></p>
<p><a href="https://www.cnblogs.com/wanyu416/p/9536853.html">win10æ­å»ºtensorflow-gpuç¯å¢ƒ</a></p>
<p><a href="https://blog.csdn.net/gangeqian2/article/details/79358543">tensorflow å®‰è£…GPUç‰ˆæœ¬ï¼Œä¸ªäººæ€»ç»“ï¼Œæ­¥éª¤æ¯”è¾ƒè¯¦ç»†</a></p>
<p><a href="https://blog.csdn.net/cxy7228484/article/details/84185412">åœ¨Windows 10ä¸Šå®‰è£…TensorFlowå¹¶æ”¯æŒGPUçš„æœ€ä½³æ–¹å¼ï¼ˆæ— éœ€å®‰è£…CUDA</a></p>
<p><a href="https://blog.csdn.net/angzhangzhang123/article/details/79637346">Win10+cuda8.0+cudnn5.1+tensorflow-gpu1.2.0+gtx1050tiï¼Œtensorflowç¯å¢ƒæ­å»ºä¸é…ç½®</a></p>
<p><a href="https://www.cnblogs.com/hutao722/p/9583214.html">tensorflow ä½¿ç”¨CPUè€Œä¸ä½¿ç”¨GPUçš„é—®é¢˜è§£å†³</a></p>
<h2 id="Pythoné…ç½®"><a href="#Pythoné…ç½®" class="headerlink" title="Pythoné…ç½®"></a>Pythoné…ç½®</h2><p>é¦–å…ˆæ˜¯Pythonçš„é…ç½®ï¼Œï¼ŒPythonå¾ˆç®€å•å°±å¯ä»¥å¼„å¥½äº†ï¼Œï¼Œå»<a href="https://www.python.org/downloads/">å®˜ç½‘</a>ä¸‹è½½winçš„å®‰è£…å™¨ï¼Œï¼Œç‚¹ä¸€ç‚¹ç­‰ä¸€ç­‰å°±è¡Œäº†ï¼Œï¼Œ</p>
<h2 id="Anacondaå®‰è£…"><a href="#Anacondaå®‰è£…" class="headerlink" title="Anacondaå®‰è£…"></a>Anacondaå®‰è£…</h2><p>è¿™ä¸ªä¹Ÿæ˜¯ç›´æ¥å»å®˜ç½‘ä¸‹è½½å®‰è£…å°±è¡Œäº†ï¼Œï¼Œï¼Œå®‰è£…çš„è¿‡ç¨‹å¯èƒ½ä¼šå¾ˆé•¿ï¼Œï¼Œæ‰€ä»¥è¦ä¸€ç›´ç­‰ï¼Œï¼Œä¼šå‡ºç°ç»ˆç«¯ï¼Œï¼Œä¸è¦å‰æ‰ï¼Œï¼Œç­‰å°±å¯ä»¥äº†ï¼Œï¼Œï¼Œï¼ˆè²Œä¼¼è¿™ç©æ„å„¿2ä¸ªå¤šG</p>
<h2 id="CUDA9-0å®‰è£…"><a href="#CUDA9-0å®‰è£…" class="headerlink" title="CUDA9.0å®‰è£…"></a>CUDA9.0å®‰è£…</h2><p><a href="https://developer.nvidia.com/cuda-90-download-archive">CUDA9.0ä¸‹è½½åœ°å€</a></p>
<p>è¿™æ˜¯ä¸€ä¸ªå¤§å‘ï¼ï¼ï¼è¢«è¿™ç©æ„å‘äº†ä¸€æ¬¡ï¼Œï¼Œï¼Œ</p>
<p>é¦–å…ˆï¼Œè‹±ä¼Ÿè¾¾çš„å®˜ç½‘ä½ ç›´æ¥è¿›å»å»ä¸‹CUDAåªæ˜¾ç¤ºæœ€æ–°ç‰ˆ10.1ï¼Œï¼Œï¼Œç„¶åæˆ‘å°±æƒ³ç€æœ‰æ–°çš„å°±ç›´æ¥ä¸Šæ–°ç‰ˆæœ¬çš„ç®—äº†ï¼Œï¼Œï¼Œåæ¥æ‰å‘ç°Tensorflowåˆ°ç°åœ¨è¿˜ä¸æ”¯æŒ10.0çš„ç‰ˆæœ¬ï¼Œï¼Œï¼Œæœ€å¤šåªèƒ½ç”¨9.0çš„ï¼Œï¼Œ</p>
<p>è¿˜æœ‰ä¸€ä¸ªå‘ï¼Œï¼Œï¼Œé€‰æ‹©çš„å®‰è£…å™¨æ˜¯ç¬¬ä¸€ä¸ª(Base Installer)è¿˜æœ‰é€‰æ‹©åœ¨çº¿å®‰è£…(exe(Network))ï¼Œï¼Œï¼Œ</p>
<p>æœ€åï¼Œï¼Œå› ä¸ºæˆ‘çš„Cç›˜ä¸æ€ä¹ˆç©ºä½™äº†ï¼Œï¼Œï¼Œæ‰€ä»¥å°±æŠŠè¿™ç©æ„è£…åˆ°äº†åˆ«çš„ç›˜ï¼Œï¼Œè¿™æ ·çš„è¯ <strong>ç³»ç»Ÿç¯å¢ƒå˜é‡</strong> å¾—é‡æ–°ä¿®æ”¹ï¼Œï¼Œ</p>
<p><a href="https://www.cnblogs.com/wanyu416/p/9536853.html">å‚è€ƒåšå®¢1</a></p>
<p><a href="https://blog.csdn.net/angzhangzhang123/article/details/79637346">å‚è€ƒåšå®¢2</a></p>
<p>éƒ½å¯ä»¥</p>
<h2 id="cuDNN-v7-5-0-for-CUDA-9-0"><a href="#cuDNN-v7-5-0-for-CUDA-9-0" class="headerlink" title="cuDNN v7.5.0 for CUDA 9.0"></a>cuDNN v7.5.0 for CUDA 9.0</h2><p>è¿™ç©æ„ä¹Ÿæ˜¯ä¸€ä¸ªå‘ï¼Œï¼Œï¼Œ</p>
<p>å› ä¸ºCUDAå®‰è£…çš„æ˜¯9.0ç‰ˆæœ¬çš„ï¼Œï¼Œæ‰€ä»¥è¿™ç©æ„ä¹Ÿåªèƒ½è£…å¯¹åº”çš„ç‰ˆæœ¬ï¼Œï¼Œï¼Œ</p>
<p><a href="https://developer.nvidia.com/rdp/cudnn-download">ä¸‹è½½åœ°å€</a></p>
<p>ä¼šè¦ä½ æ³¨å†Œè´¦å·ï¼Œï¼Œæœ€ä¸»è¦çš„æ˜¯10.0ç‰ˆæœ¬çš„å¯ä»¥ç›´æ¥ä¸‹è½½ï¼Œï¼Œæ¢æˆ9.0çš„å°±å¾—è¦æ¢¯å­ï¼Œï¼Œï¼ŒæƒŠäº†ï¼Œï¼Œï¼Œ</p>
<p>ä¸‹è½½å¥½åè§£å‹ï¼Œï¼ŒæŠŠé‡Œé¢çš„é‚£ä¸‰ä¸ªæ–‡ä»¶å¤åˆ¶åˆ°cudaå¯¹åº”çš„æ–‡ä»¶å¤¹é‡Œï¼Œï¼Œå‚è€ƒä¸Šé¢é‚£å‡ ä¸ªåšå®¢çš„æ“ä½œ</p>
<h2 id="vs2017"><a href="#vs2017" class="headerlink" title="vs2017"></a>vs2017</h2><p>çœ‹åˆ°ç½‘ä¸Šæœ‰äººè¯´é…ç½®ç¯å¢ƒéœ€è¦vsæ¥ç¼–è¯‘ä»€ä¹ˆçš„ï¼Œï¼Œï¼Œå› ä¸ºæˆ‘åœ¨ä¹‹å‰å°±å·²ç»è£…å¥½äº†vs2017ï¼Œï¼Œæ‰€ä»¥å°±çœç•¥äº†è¿™ä¸€æ­¥çš„å®‰è£…ï¼Œï¼Œæ²¡æœ‰æµ‹è¯•ä¸è£…ä¼šå‘ç”Ÿä»€ä¹ˆï¼Œï¼Œ</p>
<h2 id="å®‰è£…Tensorflow-gpuâ€”1-9-0-å¹¶æµ‹è¯•"><a href="#å®‰è£…Tensorflow-gpuâ€”1-9-0-å¹¶æµ‹è¯•" class="headerlink" title="å®‰è£…Tensorflow-gpuâ€”1.9.0 å¹¶æµ‹è¯•"></a>å®‰è£…Tensorflow-gpuâ€”1.9.0 å¹¶æµ‹è¯•</h2><p>ä¹‹å‰çš„æ‰€æœ‰ä¸œè¥¿éƒ½å¼„å¥½åå°±å¯ä»¥å®‰è£… Tensorflow äº†ï¼Œï¼Œï¼Œ</p>
<p>æ‰“å¼€ Anaconda Prompt </p>
<p>å› ä¸ºåœ°ä¸‹å®¤è¿™é‡Œç½‘è¿˜ä¸é”™ï¼Œï¼Œæ‰€ä»¥å°±æ²¡æœ‰å»é…ç½®æ¸…åçš„é•œåƒï¼Œï¼Œ</p>
<p>å®‰è£…Tensorflow: <code>conda install tensorflow-gpu==1.9.0</code> å› ä¸ºç°åœ¨(2019-3-15)Tensorflowå·²ç»æ˜¯1.13.0ç‰ˆæœ¬äº†ï¼Œï¼Œç›´æ¥å®‰è£…çš„è¯å°±ä¼šæ˜¯æœ€æ–°ç‰ˆï¼Œï¼Œï¼Œä¸çŸ¥é“æ€ä¹ˆå›äº‹ï¼Œï¼Œæœ€æ–°ç‰ˆçš„è¯æˆ‘è¿™é‡Œåœ¨ä¹‹åä¸ä¼šè°ƒç”¨gpuæ¥è¿è¡Œï¼Œï¼Œç”¨è¿™ä¸ªç‰ˆæœ¬ä¹‹åå°±å¯ä»¥äº†ï¼ˆCUDAçš„é”…ï¼Ÿï¼‰ï¼Œï¼Œï¼ˆä¹Ÿæœ‰å¯èƒ½æ˜¯æˆ‘åœ¨æ”¹å˜äº†å…¶å®ƒçš„å› ç´ çš„åŸå› ï¼Œï¼Œï¼Œå¾…éªŒè¯</p>
<p><del>åˆ›å»ºè¿è¡Œç¯å¢ƒï¼› <code>conda create -n tensorflow-gpu python=3.6</code> ç­‰å¾…å®‰è£…å°±è¡Œäº†ï¼Œï¼Œ</del></p>
<p>æ¿€æ´»ç¯å¢ƒï¼š <code>conda activate tensorflow-gpu</code></p>
<h2 id="éªŒè¯"><a href="#éªŒè¯" class="headerlink" title="éªŒè¯"></a>éªŒè¯</h2><p>ç„¶åæ‰“å¼€pythonï¼Œï¼Œ</p>
<h3 id="è¾“å…¥ï¼š"><a href="#è¾“å…¥ï¼š" class="headerlink" title="è¾“å…¥ï¼š"></a>è¾“å…¥ï¼š</h3><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> tensorflow <span class="hljs-keyword">as</span> tf         //<span class="hljs-number">0</span><br>hello = tf.constant(<span class="hljs-string">&#x27;hello&#x27;</span>)<br>sess = tf.Session()             //<span class="hljs-number">1</span><br>print(sess.run(hello))          //<span class="hljs-number">2</span><br>sess.close()<br></code></pre></td></tr></table></figure>
<ul>
<li>åœ¨è¾“å®Œ0ä»£ç ä¹‹åï¼Œä¼šåœé¡¿ä¸€ä¼šï¼Œï¼Œ</li>
<li>åœ¨è¾“å®Œ1ä»£ç ä¹‹åï¼Œä¼šæ˜¾ç¤ºä¸€äº›ä¿¡æ¯ï¼Œï¼Œå¦‚æœè¯´æœ‰æœ‰å…³gpuçš„ä¿¡æ¯çš„è¯è¯æ˜è°ƒç”¨gpuæˆåŠŸï¼Œï¼Œå¦åˆ™çš„è¯åªæœ‰ä¸€æ¡cpuçš„ä¿¡æ¯ï¼Œï¼Œå¯èƒ½ä¹‹å‰çš„å®‰è£…æœ‰é—®é¢˜ï¼Œï¼Œé‡æ–°å®‰è£…è¯•è¯•ï¼Œï¼Œï¼ˆæˆ‘å°±æ˜¯å› ä¸ºè¿™ä¸ªé‡è£…äº†å¥½å‡ é</li>
<li>åœ¨è¾“å®Œ2ä»£ç ä¹‹åï¼Œæ˜¾ç¤º <code>b&#39;hello&#39;</code></li>
</ul>
<p>1çš„è¾“å‡ºç±»ä¼¼è¿™æ ·ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-number">2019</span>-<span class="hljs-number">03</span>-<span class="hljs-number">15</span> <span class="hljs-number">13</span>:<span class="hljs-number">03</span>:<span class="hljs-number">55.881573</span>: I C:\users\nwani\_bazel_nwani\ujdkfsks\execroot\org_tensorflow\tensorflow\core\platform\cpu_feature_guard.cc:<span class="hljs-number">141</span>] Your CPU supports instructions that <span class="hljs-built_in">this</span> TensorFlow binary was not compiled to use: AVX AVX2<br><span class="hljs-number">2019</span>-<span class="hljs-number">03</span>-<span class="hljs-number">15</span> <span class="hljs-number">13</span>:<span class="hljs-number">03</span>:<span class="hljs-number">56.695820</span>: I C:\users\nwani\_bazel_nwani\ujdkfsks\execroot\org_tensorflow\tensorflow\core\common_runtime\gpu\gpu_device.cc:<span class="hljs-number">1392</span>] Found device <span class="hljs-number">0</span> <span class="hljs-keyword">with</span> properties:<br>name: GeForce GTX <span class="hljs-number">1050</span> major: <span class="hljs-number">6</span> minor: <span class="hljs-number">1</span> memoryClockRate(GHz): <span class="hljs-number">1.493</span><br>pciBusID: <span class="hljs-number">0000</span>:<span class="hljs-number">01</span>:<span class="hljs-number">00</span><span class="hljs-number">.0</span><br>totalMemory: <span class="hljs-number">2.</span>00GiB freeMemory: <span class="hljs-number">1.</span>61GiB<br><span class="hljs-number">2019</span>-<span class="hljs-number">03</span>-<span class="hljs-number">15</span> <span class="hljs-number">13</span>:<span class="hljs-number">03</span>:<span class="hljs-number">56.702429</span>: I C:\users\nwani\_bazel_nwani\ujdkfsks\execroot\org_tensorflow\tensorflow\core\common_runtime\gpu\gpu_device.cc:<span class="hljs-number">1471</span>] Adding visible gpu devices: <span class="hljs-number">0</span><br><span class="hljs-number">2019</span>-<span class="hljs-number">03</span>-<span class="hljs-number">15</span> <span class="hljs-number">13</span>:<span class="hljs-number">03</span>:<span class="hljs-number">57.517589</span>: I C:\users\nwani\_bazel_nwani\ujdkfsks\execroot\org_tensorflow\tensorflow\core\common_runtime\gpu\gpu_device.cc:<span class="hljs-number">952</span>] Device interconnect StreamExecutor <span class="hljs-keyword">with</span> strength <span class="hljs-number">1</span> edge matrix:<br><span class="hljs-number">2019</span>-<span class="hljs-number">03</span>-<span class="hljs-number">15</span> <span class="hljs-number">13</span>:<span class="hljs-number">03</span>:<span class="hljs-number">57.521414</span>: I C:\users\nwani\_bazel_nwani\ujdkfsks\execroot\org_tensorflow\tensorflow\core\common_runtime\gpu\gpu_device.cc:<span class="hljs-number">958</span>]      <span class="hljs-number">0</span><br><span class="hljs-number">2019</span>-<span class="hljs-number">03</span>-<span class="hljs-number">15</span> <span class="hljs-number">13</span>:<span class="hljs-number">03</span>:<span class="hljs-number">57.523379</span>: I C:\users\nwani\_bazel_nwani\ujdkfsks\execroot\org_tensorflow\tensorflow\core\common_runtime\gpu\gpu_device.cc:<span class="hljs-number">971</span>] <span class="hljs-number">0</span>:   N<br><span class="hljs-number">2019</span>-<span class="hljs-number">03</span>-<span class="hljs-number">15</span> <span class="hljs-number">13</span>:<span class="hljs-number">03</span>:<span class="hljs-number">57.525486</span>: I C:\users\nwani\_bazel_nwani\ujdkfsks\execroot\org_tensorflow\tensorflow\core\common_runtime\gpu\gpu_device.cc:<span class="hljs-number">1084</span>] Created TensorFlow device (<span class="hljs-regexp">/job:localhost/</span>replica:<span class="hljs-number">0</span>/task:<span class="hljs-number">0</span>/device:GPU:<span class="hljs-number">0</span> <span class="hljs-keyword">with</span> <span class="hljs-number">1359</span> MB memory) -&gt; physical GPU (device: <span class="hljs-number">0</span>, <span class="hljs-attr">name</span>: GeForce GTX <span class="hljs-number">1050</span>, pci bus id: <span class="hljs-number">0000</span>:<span class="hljs-number">01</span>:<span class="hljs-number">00</span><span class="hljs-number">.0</span>, compute capability: <span class="hljs-number">6.1</span>)<br></code></pre></td></tr></table></figure>
<p><img src="https://img2018.cnblogs.com/blog/1028485/201903/1028485-20190315134928264-735455793.png" alt=""></p>
<h3 id="ä¹Ÿå¯ä»¥è¿™æ ·éªŒè¯ï¼š"><a href="#ä¹Ÿå¯ä»¥è¿™æ ·éªŒè¯ï¼š" class="headerlink" title="ä¹Ÿå¯ä»¥è¿™æ ·éªŒè¯ï¼š"></a><a href="https://www.cnblogs.com/hutao722/p/9583214.html">ä¹Ÿå¯ä»¥è¿™æ ·éªŒè¯ï¼š</a></h3><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> tensorflow.python.client <span class="hljs-keyword">import</span> device_lib<br>print(device_lib.list_local_devices())<br></code></pre></td></tr></table></figure>
<p>ä¼šè¾“å‡ºä¸€é•¿æ¡çš„ä¿¡æ¯ï¼Œï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js">&gt;&gt;&gt; <span class="hljs-keyword">from</span> tensorflow.python.client <span class="hljs-keyword">import</span> device_lib<br>&gt;&gt;&gt; print(device_lib.list_local_devices())<br><span class="hljs-number">2019</span>-<span class="hljs-number">03</span>-<span class="hljs-number">15</span> <span class="hljs-number">13</span>:<span class="hljs-number">13</span>:<span class="hljs-number">03</span><span class="hljs-number">.527577</span>: I C:\users\nwani\_bazel_nwani\ujdkfsks\execroot\org_tensorflow\tensorflow\core\common_runtime\gpu\gpu_device.cc:<span class="hljs-number">1471</span>] Adding visible gpu devices: <span class="hljs-number">0</span><br><span class="hljs-number">2019</span>-<span class="hljs-number">03</span>-<span class="hljs-number">15</span> <span class="hljs-number">13</span>:<span class="hljs-number">13</span>:<span class="hljs-number">03</span><span class="hljs-number">.545230</span>: I C:\users\nwani\_bazel_nwani\ujdkfsks\execroot\org_tensorflow\tensorflow\core\common_runtime\gpu\gpu_device.cc:<span class="hljs-number">952</span>] Device interconnect StreamExecutor <span class="hljs-keyword">with</span> strength <span class="hljs-number">1</span> edge matrix:<br><span class="hljs-number">2019</span>-<span class="hljs-number">03</span>-<span class="hljs-number">15</span> <span class="hljs-number">13</span>:<span class="hljs-number">13</span>:<span class="hljs-number">03</span><span class="hljs-number">.563464</span>: I C:\users\nwani\_bazel_nwani\ujdkfsks\execroot\org_tensorflow\tensorflow\core\common_runtime\gpu\gpu_device.cc:<span class="hljs-number">958</span>]      <span class="hljs-number">0</span> <br><span class="hljs-number">2019</span>-<span class="hljs-number">03</span>-<span class="hljs-number">15</span> <span class="hljs-number">13</span>:<span class="hljs-number">13</span>:<span class="hljs-number">03</span><span class="hljs-number">.576112</span>: I C:\users\nwani\_bazel_nwani\ujdkfsks\execroot\org_tensorflow\tensorflow\core\common_runtime\gpu\gpu_device.cc:<span class="hljs-number">971</span>] <span class="hljs-number">0</span>:   N <br><span class="hljs-number">2019</span>-<span class="hljs-number">03</span>-<span class="hljs-number">15</span> <span class="hljs-number">13</span>:<span class="hljs-number">13</span>:<span class="hljs-number">03</span><span class="hljs-number">.587662</span>: I C:\users\nwani\_bazel_nwani\ujdkfsks\execroot\org_tensorflow\tensorflow\core\common_runtime\gpu\gpu_device.cc:<span class="hljs-number">1084</span>] Created TensorFlow device (/device:GPU:<span class="hljs-number">0</span> <span class="hljs-keyword">with</span> <span class="hljs-number">1359</span> MB memory) -&gt; physical GPU (device: <span class="hljs-number">0</span>, <span class="hljs-attr">name</span>: GeForce GTX <span class="hljs-number">1050</span>, pci bus id: <span class="hljs-number">0000</span>:<span class="hljs-number">01</span>:<span class="hljs-number">00</span><span class="hljs-number">.0</span>, compute capability: <span class="hljs-number">6.1</span>)<br>[name: <span class="hljs-string">&quot;/device:CPU:0&quot;</span><br>device_type: <span class="hljs-string">&quot;CPU&quot;</span><br>memory_limit: <span class="hljs-number">268435456</span><br>locality &#123;<br>&#125;<br>incarnation: <span class="hljs-number">5406329819980989395</span><br>, <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;/device:GPU:0&quot;</span><br>device_type: <span class="hljs-string">&quot;GPU&quot;</span><br>memory_limit: <span class="hljs-number">1425578393</span><br>locality &#123;<br>  bus_id: <span class="hljs-number">1</span><br>  links &#123;<br>  &#125;<br>&#125;<br>incarnation: <span class="hljs-number">3552327620198962820</span><br>physical_device_desc: <span class="hljs-string">&quot;device: 0, name: GeForce GTX 1050, pci bus id: 0000:01:00.0, compute capability: 6.1&quot;</span><br>]<br></code></pre></td></tr></table></figure>
<p><img src="https://img2018.cnblogs.com/blog/1028485/201903/1028485-20190315134949105-834049286.png" alt=""></p>
<p>å¦‚æœå¤±è´¥çš„è¯ï¼ˆä¹Ÿå°±æ˜¯åªæœ‰cpuè¿ç®—ï¼‰å°±æ˜¯è¿™æ ·ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js">[name: <span class="hljs-string">&quot;/device:CPU:0&quot;</span><br>device_type: <span class="hljs-string">&quot;CPU&quot;</span><br>memory_limit: <span class="hljs-number">268435456</span><br>locality &#123;<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="å†æˆ–è€…è¿™æ ·ï¼š"><a href="#å†æˆ–è€…è¿™æ ·ï¼š" class="headerlink" title="å†æˆ–è€…è¿™æ ·ï¼š"></a><a href="https://blog.csdn.net/gangeqian2/article/details/79358543">å†æˆ–è€…è¿™æ ·ï¼š</a></h3><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> tensorflow <span class="hljs-keyword">as</span> tf<br>a = tf.constant([<span class="hljs-number">1.0</span>, <span class="hljs-number">2.0</span>], name=<span class="hljs-string">&quot;a&quot;</span>)<br>b = tf.constant([<span class="hljs-number">2.0</span>, <span class="hljs-number">3.0</span>], name=<span class="hljs-string">&quot;b&quot;</span>)<br>result = a + b<br>print(result)<br><br>sess = tf.InteractiveSession()<br>print(result.<span class="hljs-built_in">eval</span>())<br>sees.close()<br></code></pre></td></tr></table></figure>
<p>æ­£å¸¸æƒ…å†µä¸‹ä¹Ÿä¼šæ˜¾ç¤ºgpuç­‰ä¿¡æ¯</p>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js">&gt;&gt;&gt; <span class="hljs-keyword">import</span> tensorflow <span class="hljs-keyword">as</span> tf<br>&gt;&gt;&gt; a = tf.constant([<span class="hljs-number">1.0</span>, <span class="hljs-number">2.0</span>], name=<span class="hljs-string">&quot;a&quot;</span>)<br>&gt;&gt;&gt; b = tf.constant([<span class="hljs-number">2.0</span>, <span class="hljs-number">3.0</span>], name=<span class="hljs-string">&quot;b&quot;</span>)<br>&gt;&gt;&gt; result = a + b<br>&gt;&gt;&gt; print(result)<br>Tensor(<span class="hljs-string">&quot;add_1:0&quot;</span>, shape=(<span class="hljs-number">2</span>,), dtype=float32)<br>&gt;&gt;&gt; sess = tf.InteractiveSession()<br><span class="hljs-number">2019</span>-<span class="hljs-number">03</span>-<span class="hljs-number">15</span> <span class="hljs-number">13</span>:<span class="hljs-number">19</span>:<span class="hljs-number">57.500304</span>: I C:\users\nwani\_bazel_nwani\ujdkfsks\execroot\org_tensorflow\tensorflow\core\common_runtime\gpu\gpu_device.cc:<span class="hljs-number">1471</span>] Adding visible gpu devices: <span class="hljs-number">0</span><br><span class="hljs-number">2019</span>-<span class="hljs-number">03</span>-<span class="hljs-number">15</span> <span class="hljs-number">13</span>:<span class="hljs-number">19</span>:<span class="hljs-number">57.514303</span>: I C:\users\nwani\_bazel_nwani\ujdkfsks\execroot\org_tensorflow\tensorflow\core\common_runtime\gpu\gpu_device.cc:<span class="hljs-number">952</span>] Device interconnect StreamExecutor <span class="hljs-keyword">with</span> strength <span class="hljs-number">1</span> edge matrix:<br><span class="hljs-number">2019</span>-<span class="hljs-number">03</span>-<span class="hljs-number">15</span> <span class="hljs-number">13</span>:<span class="hljs-number">19</span>:<span class="hljs-number">57.530082</span>: I C:\users\nwani\_bazel_nwani\ujdkfsks\execroot\org_tensorflow\tensorflow\core\common_runtime\gpu\gpu_device.cc:<span class="hljs-number">958</span>]      <span class="hljs-number">0</span> <br><span class="hljs-number">2019</span>-<span class="hljs-number">03</span>-<span class="hljs-number">15</span> <span class="hljs-number">13</span>:<span class="hljs-number">19</span>:<span class="hljs-number">57.539267</span>: I C:\users\nwani\_bazel_nwani\ujdkfsks\execroot\org_tensorflow\tensorflow\core\common_runtime\gpu\gpu_device.cc:<span class="hljs-number">971</span>] <span class="hljs-number">0</span>:   N <br><span class="hljs-number">2019</span>-<span class="hljs-number">03</span>-<span class="hljs-number">15</span> <span class="hljs-number">13</span>:<span class="hljs-number">19</span>:<span class="hljs-number">57.547441</span>: I C:\users\nwani\_bazel_nwani\ujdkfsks\execroot\org_tensorflow\tensorflow\core\common_runtime\gpu\gpu_device.cc:<span class="hljs-number">1084</span>] Created TensorFlow device (<span class="hljs-regexp">/job:localhost/</span>replica:<span class="hljs-number">0</span>/task:<span class="hljs-number">0</span>/device:GPU:<span class="hljs-number">0</span> <span class="hljs-keyword">with</span> <span class="hljs-number">1359</span> MB memory) -&gt; physical GPU (device: <span class="hljs-number">0</span>, <span class="hljs-attr">name</span>: GeForce GTX <span class="hljs-number">1050</span>, pci bus id: <span class="hljs-number">0000</span>:<span class="hljs-number">01</span>:<span class="hljs-number">00</span><span class="hljs-number">.0</span>, compute capability: <span class="hljs-number">6.1</span>)<br>&gt;&gt;&gt; print(result.eval())<br>[<span class="hljs-number">3.</span> <span class="hljs-number">5.</span>]<br></code></pre></td></tr></table></figure>
<h1 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h1><p>æ¯æ¬¡ä½¿ç”¨tensorflowæ—¶ï¼Œï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯åœ¨Anacondaçš„è™šæ‹Ÿçš„ä¸€ä¸ªç¯å¢ƒé‡Œè¿è¡Œtensorflow+pythonï¼Œï¼Œæ‰€ä»¥è¦å…ˆæ¿€æ´»ç¯å¢ƒï¼š<code>conda activate tensorflow-gpu</code>ï¼Œï¼Œï¼Œï¼ˆè¿™ä¹ˆè¯´å…ˆå‰ç›´æ¥å®‰è£…çš„pythonä¸ä»…ç‰ˆæœ¬è¿‡é«˜ï¼Œï¼Œè€Œä¸”æ²¡ç”¨ä¸Šï¼‰</p>
<p>å¯¹äº†å¿…é¡»è¦åœ¨cmdé‡Œä½¿ç”¨ï¼Œï¼Œpowershellè²Œä¼¼ä¸è¡Œï¼Œï¼Œï¼Œè¿›å…¥powershellè¾“å…¥ <code>cmd</code> åˆ‡æ¢åˆ°cmdå°±è¡Œäº†ï¼Œï¼Œï¼Œæ¿€æ´»ç¯å¢ƒåå‰é¢ä¼šå¤šä¸€ä¸ªç¯å¢ƒåï¼š <code>(tensorflow-gpu)</code>ï¼Œï¼Œè¿™æ ·å†è¿›å…¥pythonç­‰ç­‰ï¼Œï¼Œï¼Œ</p>
<h1 id="ç»“æŸ"><a href="#ç»“æŸ" class="headerlink" title="ç»“æŸ"></a>ç»“æŸ</h1><p>è¿™æ ·ç¯å¢ƒçš„é…ç½®åŸºæœ¬å°±å®Œäº†ï¼Œï¼Œå¤§æ¦‚å äº†12ä¸ªå¤šGçš„å­˜å‚¨ç©ºé—´ï¼Œï¼Œï¼Œemmmmå¿ƒç–¼ç¡¬ç›˜ing</p>
<p>ä»æ˜¨å¤©æ™šä¸Šåˆ°ä»Šå¤©ä¸Šåˆï¼Œï¼ŒæŠ˜è…¾äº†å‡ éï¼Œï¼Œï¼Œæœ€åè¿˜æ˜¯å¼„å¥½äº†ï¼Œï¼Œï¼Œæœ€æ€•çš„ä¸æ˜¯å‡ºå„ç§å„æ ·çš„é”™è¯¯ï¼Œï¼Œè€Œæ˜¯æ”¾å¼ƒå§ï¼Œï¼Œï¼Œæ¯•ç«Ÿå¾ˆå¤šäººéƒ½åœ¨å¼„è¿™ä¸ªï¼Œï¼Œä¼šé‡åˆ°ä¸€æ ·çš„çŠ¶å†µï¼Œï¼Œæ€»ä¼šæ‰¾åˆ°è§£å†³çš„æ–¹æ³•çš„ï¼Œï¼Œï¼Œ</p>
<p>(çŒœæµ‹ï¼šå®‰è£…anacondaæ—¶ï¼Œï¼Œå‘ç°é‡Œé¢æœ‰cudaäº†ï¼Œï¼Œå¯èƒ½ä¸éœ€è¦å®‰è£…cudaå°±å¯ä»¥ï¼Œï¼Œç•™å‘)<br>(end)</p>
]]></content>
      <categories>
        <category>äººè„¸è¯†åˆ«</category>
      </categories>
      <tags>
        <tag>Tensorflow</tag>
        <tag>ç¯å¢ƒé…ç½®</tag>
      </tags>
  </entry>
  <entry>
    <title>æœç´¢ä¸“é¢˜</title>
    <url>/2019/07/13/%E6%90%9C%E7%B4%A2%E4%B8%93%E9%A2%98/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>æœç´¢è¿˜æ˜¯ç†Ÿç»ƒå•Šï¼Œä¸çŸ¥é“æ˜¯å¥½ä¹…ä¸ç»ƒçš„åŸå› è¿˜æ˜¯ï¼Œæ²¡æœ‰å¥½å¥½çš„åˆ·é¢˜ï¼Œï¼Œå†æ¬¡åšè¿™ç§é¢˜è¿˜æ˜¯ç£•ç£•ç¢°ç¢°å°±åƒç¬¬ä¸€æ¬¡å­¦ä¸€æ ·çš„æ„Ÿè§‰ã€‚ã€‚</p>
<span id="more"></span>
<h1 id="å“ˆå¯†é¡¿ç»•è¡Œä¸–ç•Œé—®é¢˜"><a href="#å“ˆå¯†é¡¿ç»•è¡Œä¸–ç•Œé—®é¢˜" class="headerlink" title="å“ˆå¯†é¡¿ç»•è¡Œä¸–ç•Œé—®é¢˜"></a><a href="https://vjudge.net/problem/HDU-2181">å“ˆå¯†é¡¿ç»•è¡Œä¸–ç•Œé—®é¢˜</a></h1><p>å“ˆå¯†é¡¿å›¾çš„éå†ï¼Œï¼ŒçŸ¥é“è¿™ä¸ªæ¦‚å¿µä½†æ˜¯ä»æœªå†™è¿‡è¿™æ ·çš„é¢˜ï¼Œå³ä½¿æ˜¯æ°´é¢˜ï¼Œï¼Œï¼Œï¼ˆç†Ÿæ‚‰ä¸€ä¸‹ä¹‹å‰çš„ä»£ç é£æ ¼ï¼Œï¼Œä¸€ä¸ªå¤šæœˆæ²¡åŠ¨äº†ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-comment">// #include &lt;iostream&gt;</span><br><span class="hljs-comment">// #include &lt;cstdio&gt;</span><br><span class="hljs-comment">// #include &lt;cstdlib&gt;</span><br><span class="hljs-comment">// #include &lt;string.h&gt;</span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;algorithm&gt;</span><br><span class="hljs-comment">// #include &lt;set&gt;</span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;cmath&gt;</span><br><span class="hljs-comment">// #include &lt;queue&gt;</span><br><span class="hljs-comment">// #include &lt;stack&gt;</span><br><span class="hljs-comment">// #include &lt;ctime&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, next;<br>&#125;edge[maxn];<br><span class="hljs-keyword">int</span> tot, head[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].next = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-keyword">int</span> ans[<span class="hljs-number">21</span>];<br><span class="hljs-keyword">int</span> anscnt = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">int</span> m;<br><span class="hljs-keyword">bool</span> vis[<span class="hljs-number">21</span>];<br><span class="hljs-keyword">int</span> cnt;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// cout &lt;&lt; cnt &lt;&lt; endl;</span><br>    <span class="hljs-comment">// for(int i = 1; i &lt;= 20; ++i)cout &lt;&lt; ans[i] &lt;&lt; &quot; &quot;;cout &lt;&lt; endl;</span><br>    <span class="hljs-keyword">if</span>(cnt == <span class="hljs-number">20</span>)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(u != m)<span class="hljs-keyword">return</span>;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; anscnt++ &lt;&lt; <span class="hljs-string">&quot;:  &quot;</span> &lt;&lt; m &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>        <span class="hljs-comment">// for(int i = 1; i &lt;= 20; ++i)</span><br>        <span class="hljs-comment">//     cout &lt;&lt; ans[i] &lt;&lt; &quot; &quot;;</span><br>        <span class="hljs-built_in">cout</span> &lt;&lt; ans[<span class="hljs-number">1</span>];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= <span class="hljs-number">20</span>; ++i)<br>            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; ans[i];<br>        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(cnt &amp;&amp; u == m)<span class="hljs-keyword">return</span>;<br>    <span class="hljs-keyword">int</span> tmp[<span class="hljs-number">45</span>], tmpn;<br>    tmpn = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].next)<br>        <span class="hljs-keyword">if</span>(!vis[edge[i].to])<br>            tmp[++tmpn] = edge[i].to;<br>    sort(tmp + <span class="hljs-number">1</span>, tmp + <span class="hljs-number">1</span> + tmpn);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= tmpn; i += <span class="hljs-number">2</span>)<br>    &#123;<br>        <span class="hljs-comment">// cout &lt;&lt; u &lt;&lt; &quot;-&quot; &lt;&lt; tmp[i] &lt;&lt; endl;</span><br>        vis[tmp[i]] = <span class="hljs-literal">true</span>;<br>        ans[++cnt] = tmp[i];<br>        dfs(tmp[i]);<br>        vis[tmp[i]] = <span class="hljs-literal">false</span>;<br>        --cnt;<br>    &#125;<br>    <span class="hljs-keyword">return</span>;<br>&#125;<br><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br><br>    init();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">20</span>; ++i)<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= <span class="hljs-number">3</span>; ++j)<br>        &#123;<br>            <span class="hljs-built_in">cin</span> &gt;&gt; m;<br>            addedge(i, m);<br>            addedge(m, i);<br>        &#125;    <br>    &#125;<br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">cin</span> &gt;&gt; m &amp;&amp; m)<br>    &#123;<br>        cnt = <span class="hljs-number">0</span>;<br>        anscnt = <span class="hljs-number">1</span>;<br>        <span class="hljs-built_in">memset</span>(ans, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> ans);<br>        <span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vis);<br>        dfs(m);<br>    &#125;<br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;       <br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="Maze-Escape"><a href="#Maze-Escape" class="headerlink" title="Maze Escape"></a><a href="https://vjudge.net/problem/HihoCoder-1328">Maze Escape</a></h1><p>å°è±¡ä¸­æ²¡æœ‰åšè¿‡ç”¨ç¬¬ä¸‰ç»´ä¿å­˜ä¸€ä¸ªé™åˆ¶æ¡ä»¶çš„æœç´¢é¢˜ï¼Œï¼Œï¼ˆä¹Ÿæœ‰å¯èƒ½åšäº†å¿˜è®°äº†ï¼‰</p>
<p>è¿™é¢˜ç›´æ¥ç”¨ä¸€ä¸ªç¬¬ä¸‰ç»´çš„äºŒè¿›åˆ¶æ¥è¡¨ç¤ºæ‹¿ç€ä¸åŒé’¥åŒ™æ—¶çš„æƒ…å†µï¼Œï¼Œè¿™æ ·å°±å¯ä»¥è§£å†³å¯ä»¥å€’å›å»çš„é—®é¢˜ï¼Œï¼Œï¼ˆæˆ‘çš„ç†è§£æ˜¯å¯¹äºæ‹¿ç€æ¯ä¸ªä¸åŒçš„é’¥åŒ™æ—¶æ¢ä¸€å¼ æ ‡è®°è¿™ä¸ªå›¾çš„äºŒç»´æ•°ç»„ï¼‰</p>
<p>è¿˜æœ‰ä¸€ä¸ªæ€»æ˜¯è®°ä¸ä½çš„é—®é¢˜ï¼šæ±‚æœ€çŸ­è·¯ä¸€èˆ¬éƒ½æ˜¯ <strong>bfs</strong> ï¼Œï¼Œæ·±æœæ²¡è§è¿‡å‡ æ¬¡ä¸Tçš„ï¼Œï¼Œï¼ŒåŒ…æ‹¬ä¸‹é¢è¿™é¢˜ï¼Œï¼Œï¼ŒQAQ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-comment">// #include &lt;iostream&gt;</span><br><span class="hljs-comment">// #include &lt;cstdio&gt;</span><br><span class="hljs-comment">// #include &lt;cstdlib&gt;</span><br><span class="hljs-comment">// #include &lt;string.h&gt;</span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;algorithm&gt;</span><br><span class="hljs-comment">// #include &lt;set&gt;</span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;cmath&gt;</span><br><span class="hljs-comment">// #include &lt;queue&gt;</span><br><span class="hljs-comment">// #include &lt;stack&gt;</span><br><span class="hljs-comment">// #include &lt;ctime&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">2e2</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-keyword">int</span> n, m, k;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> x, y, key;<br>&#125;;<br><span class="hljs-keyword">char</span> mp[maxn][maxn];<br><span class="hljs-keyword">int</span> vis[maxn][maxn][<span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">6</span>];<br>node s, t;<br>node key[<span class="hljs-number">10</span>];<br><span class="hljs-keyword">int</span> ans;<br><span class="hljs-keyword">int</span> dx[] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>&#125;;<br><span class="hljs-keyword">int</span> dy[] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>&#125;;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> ux, <span class="hljs-keyword">int</span> uy, <span class="hljs-keyword">int</span> cnt, <span class="hljs-keyword">int</span> Key)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// cout &lt;&lt; ux &lt;&lt; &quot; &quot; &lt;&lt; uy &lt;&lt; &quot; &quot; &lt;&lt; cnt &lt;&lt; endl;</span><br>    <span class="hljs-keyword">if</span>(ux == t.x &amp;&amp; uy == t.y)<br>    &#123;<br>        <span class="hljs-comment">// cout &lt;&lt; cnt &lt;&lt; &quot;------------------------&quot; &lt;&lt; Key &lt;&lt; endl;</span><br>        ans = min(ans, cnt);<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; ++i)<br>    &#123;<br>        <span class="hljs-keyword">int</span> nx = ux + dx[i];<br>        <span class="hljs-keyword">int</span> ny = uy + dy[i];<br>        <span class="hljs-keyword">if</span>(nx &lt; <span class="hljs-number">0</span> || nx &gt;= n || ny &lt; <span class="hljs-number">0</span> || ny &gt;= m)<span class="hljs-keyword">continue</span>;<br>        <span class="hljs-keyword">if</span>(!vis[nx][ny][Key])<br>        &#123;<br>            <span class="hljs-keyword">if</span>(mp[nx][ny] == <span class="hljs-string">&#x27;.&#x27;</span>)<br>            &#123;<br>                vis[nx][ny][Key] = <span class="hljs-literal">true</span>;<br>                dfs(nx, ny, cnt + <span class="hljs-number">1</span>, Key);<br>                vis[nx][ny][Key] = <span class="hljs-literal">false</span>;<br>            &#125;<br>            <span class="hljs-keyword">if</span>(mp[nx][ny] != <span class="hljs-string">&#x27;.&#x27;</span> &amp;&amp; mp[nx][ny] != <span class="hljs-string">&#x27;#&#x27;</span>)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(mp[nx][ny] &gt;= <span class="hljs-string">&#x27;a&#x27;</span> &amp;&amp; mp[nx][ny] &lt;= <span class="hljs-string">&#x27;z&#x27;</span>)<br>                &#123;<br>                    <span class="hljs-comment">// cout &lt;&lt; nx &lt;&lt; &quot;---&quot; &lt;&lt; ny &lt;&lt; &quot; --&quot; &lt;&lt; cnt &lt;&lt; endl;</span><br>                    <span class="hljs-keyword">int</span> key = Key | (<span class="hljs-number">1</span> &lt;&lt; (mp[nx][ny] - <span class="hljs-string">&#x27;a&#x27;</span>));<br>                    <span class="hljs-keyword">if</span>(vis[nx][ny][key])<span class="hljs-keyword">continue</span>;<br>                    vis[nx][ny][key] = <span class="hljs-literal">true</span>;<br>                    dfs(nx, ny, cnt + <span class="hljs-number">1</span>, key);<br>                    vis[nx][ny][key] = <span class="hljs-literal">false</span>;<br>                &#125;<br>                <span class="hljs-keyword">else</span><br>                &#123;<br>                    <span class="hljs-comment">// cout &lt;&lt; &quot;---&quot; &lt;&lt; Key &lt;&lt; endl;</span><br>                    <span class="hljs-keyword">if</span>(Key &amp; (<span class="hljs-number">1</span> &lt;&lt; (mp[nx][ny] - <span class="hljs-string">&#x27;A&#x27;</span>)))<br>                    &#123;<br>                        <span class="hljs-comment">// cout &lt;&lt; nx &lt;&lt; &quot;++++&quot; &lt;&lt; ny &lt;&lt; &quot;++&quot; &lt;&lt; cnt &lt;&lt; endl;</span><br>                        <span class="hljs-keyword">int</span> key = Key ^ (<span class="hljs-number">1</span> &lt;&lt; (mp[nx][ny] - <span class="hljs-string">&#x27;A&#x27;</span>));<br>                        <span class="hljs-keyword">if</span>(vis[nx][ny][key])<span class="hljs-keyword">continue</span>;<br>                        vis[nx][ny][key] = <span class="hljs-literal">true</span>;<br>                        dfs(nx, ny, cnt + <span class="hljs-number">1</span>, key);<br>                        vis[nx][ny][key] = <span class="hljs-literal">false</span>;<br>                    &#125;<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-keyword">int</span> dis[maxn][maxn][<span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">6</span>];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">bfs</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">queue</span>&lt;node&gt; q;<br>    <span class="hljs-keyword">while</span>(!q.empty())q.pop();<br>    q.push(s);  <br>    vis[s.x][s.y][s.key] = <span class="hljs-literal">true</span>;<br>    <span class="hljs-built_in">memset</span>(dis, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> dis);<br>    <span class="hljs-keyword">while</span>(!q.empty())<br>    &#123;<br>        node u = q.front(); q.pop();<br>        <span class="hljs-keyword">if</span>(u.x == t.x &amp;&amp; u.y == t.y)<span class="hljs-keyword">return</span> dis[u.x][u.y][u.key];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; ++i)<br>        &#123;<br>            node v;<br>            v.x = u.x + dx[i];<br>            v.y = u.y + dy[i];<br>            v.key = u.key;<br>            <span class="hljs-keyword">if</span>(v.x &lt; <span class="hljs-number">0</span> || v.x &gt;= n || v.y &lt; <span class="hljs-number">0</span> || v.y &gt;= m)<span class="hljs-keyword">continue</span>;<br>            <span class="hljs-keyword">if</span>(!vis[v.x][v.y][v.key])<br>            &#123;<br>                <span class="hljs-keyword">if</span>(mp[v.x][v.y] == <span class="hljs-string">&#x27;.&#x27;</span>)<br>                &#123;<br>                    <span class="hljs-comment">// cout &lt;&lt; v.x &lt;&lt; &quot; &quot; &lt;&lt; v.y &lt;&lt; endl;</span><br>                    vis[v.x][v.y][v.key] = <span class="hljs-literal">true</span>;<br>                    q.push(v);<br>                    dis[v.x][v.y][v.key] = dis[u.x][u.y][u.key] + <span class="hljs-number">1</span>;<br>                &#125;<br>                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(mp[v.x][v.y] != <span class="hljs-string">&#x27;#&#x27;</span>)<br>                &#123;<br>                    <span class="hljs-comment">// cout &lt;&lt; v.x &lt;&lt; &quot; &quot; &lt;&lt; v.y &lt;&lt; endl;</span><br>                    <span class="hljs-keyword">if</span>(mp[v.x][v.y] &gt;= <span class="hljs-string">&#x27;a&#x27;</span> &amp;&amp; mp[v.x][v.y] &lt;= <span class="hljs-string">&#x27;z&#x27;</span>)<br>                    &#123;<br>                        v.key |= (<span class="hljs-number">1</span> &lt;&lt; (mp[v.x][v.y] - <span class="hljs-string">&#x27;a&#x27;</span> + <span class="hljs-number">1</span>));<br>                        vis[v.x][v.y][v.key] = <span class="hljs-literal">true</span>;<br>                        q.push(v);<br>                        dis[v.x][v.y][v.key] = dis[u.x][u.y][u.key] + <span class="hljs-number">1</span>;<br>                    &#125;<br>                    <span class="hljs-keyword">else</span><br>                    &#123;<br>                        <span class="hljs-keyword">if</span>(v.key &amp; (<span class="hljs-number">1</span> &lt;&lt; (mp[v.x][v.y] - <span class="hljs-string">&#x27;A&#x27;</span> + <span class="hljs-number">1</span>)))<br>                        &#123;<br>                            <span class="hljs-comment">// cout &lt;&lt; v.key &lt;&lt; endl;</span><br>                            <span class="hljs-comment">// cout &lt;&lt; v.x &lt;&lt; &quot;---&quot; &lt;&lt; v.y &lt;&lt; endl;</span><br>                            v.key ^= (<span class="hljs-number">1</span> &lt;&lt; (mp[v.x][v.y] - <span class="hljs-string">&#x27;A&#x27;</span> + <span class="hljs-number">1</span>));<br>                            vis[v.x][v.y][v.key] = <span class="hljs-literal">true</span>;<br>                            q.push(v);<br>                            dis[v.x][v.y][v.key] = dis[u.x][u.y][u.key] + <span class="hljs-number">1</span>;<br>                        &#125;<br>                        <br>                    &#125;<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br><br>    <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m &gt;&gt; k;<br>    <span class="hljs-built_in">cin</span> &gt;&gt; s.x &gt;&gt; s.y &gt;&gt; t.x &gt;&gt; t.y;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; m; ++j)<br>            <span class="hljs-built_in">cin</span> &gt;&gt; mp[i][j];<br>    <span class="hljs-keyword">int</span> x, y;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= k; ++i)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; x &gt;&gt; y;<br>        mp[x][y] = <span class="hljs-string">&#x27;a&#x27;</span> + i - <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-comment">// for(int i = 0; i &lt; n; ++i)</span><br>    <span class="hljs-comment">// &#123;</span><br>    <span class="hljs-comment">//     for(int j = 0; j &lt; m; ++j)</span><br>    <span class="hljs-comment">//         cout &lt;&lt; mp[i][j];</span><br>    <span class="hljs-comment">//     cout &lt;&lt; endl;</span><br>    <span class="hljs-comment">// &#125;</span><br>    ans = inf;<br>    <span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vis);<br>    <span class="hljs-comment">// dfs(s.x, s.y, 0, 0);</span><br>    ans = bfs();<br>    <span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="hljs-built_in">endl</span>;<br><br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;       <br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="Saving-Tang-Monk-II"><a href="#Saving-Tang-Monk-II" class="headerlink" title="Saving Tang Monk II"></a><a href="https://vjudge.net/problem/HihoCoder-1828">Saving Tang Monk II</a></h1><p>è¿™é¢˜å’Œå‰é¢ä¸¤é¢˜å·®ä¸å¤šæŠŠï¼Œï¼Œä¹Ÿæ˜¯è¦ç”¨ç¬¬ä¸‰ç»´æ¥æ ‡è®°ä¸åŒçš„æ°§æ°”æ•°æ—¶çš„å›¾æ€ä¹ˆèµ°ï¼Œï¼Œå†åŠ ä¸€ä¸ªä¼˜å…ˆé˜Ÿåˆ—ï¼Œï¼Œä¸ç„¶é˜Ÿåˆ—é‡Œçš„å‰é¢çš„å¯èƒ½è§£ä¸ä¸€å®šæ˜¯æœ€ä¼˜çš„ï¼Œï¼Œè¿™æ ·çš„è¯å°±åªèƒ½éå†å®Œæ•´ä¸ªé˜Ÿåˆ—ï¼Œï¼Œä½†æ˜¯è¿™æ ·åˆæµªè´¹æ—¶é—´ä¼šTï¼Œï¼Œæ‰€ä»¥æ¢ä¸€ä¸ªä»¥è·ç¦»ä¸ºæƒçš„ä¼˜å…ˆé˜Ÿåˆ—å°±å¯ä»¥ä¿è¯ç¬¬ä¸€ä¸ªåˆ°è¾¾ç»ˆç‚¹çš„å¯è¡Œè§£å°±æ˜¯æœ€ä¼˜çš„ï¼Œï¼Œ</p>
<p>bfs+ä¸‰ç»´vis+ä¼˜å…ˆé˜Ÿåˆ—</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-comment">// #include &lt;iostream&gt;</span><br><span class="hljs-comment">// #include &lt;cstdio&gt;</span><br><span class="hljs-comment">// #include &lt;cstdlib&gt;</span><br><span class="hljs-comment">// #include &lt;string.h&gt;</span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;algorithm&gt;</span><br><span class="hljs-comment">// #include &lt;set&gt;</span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;cmath&gt;</span><br><span class="hljs-comment">// #include &lt;queue&gt;</span><br><span class="hljs-comment">// #include &lt;stack&gt;</span><br><span class="hljs-comment">// #include &lt;ctime&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">2e2</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> x, y, oxy;<br>    <span class="hljs-keyword">bool</span> b;<br>    <span class="hljs-keyword">int</span> dis;<br>    <span class="hljs-keyword">const</span> <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>&lt;(<span class="hljs-keyword">const</span> node &amp;r)<span class="hljs-keyword">const</span>&#123;<br>        <span class="hljs-keyword">return</span> dis &gt;= r.dis;<br>    &#125;<br>&#125;s, t;<br><span class="hljs-keyword">char</span> mp[maxn][maxn];<br><span class="hljs-keyword">bool</span> vis[maxn][maxn][<span class="hljs-number">6</span>];<br><span class="hljs-keyword">int</span> dx[] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>&#125;;<br><span class="hljs-keyword">int</span> dy[] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>&#125;;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">bfs</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vis);<br>    s.oxy = t.oxy = <span class="hljs-number">0</span>;<br>    s.b = t.b = <span class="hljs-literal">false</span>;<br>    s.dis = <span class="hljs-number">0</span>;<br>    <span class="hljs-comment">// queue&lt;node&gt; q;</span><br>    <span class="hljs-built_in">priority_queue</span>&lt;node&gt; q;<br>    <span class="hljs-keyword">while</span>(!q.empty())q.pop();<br>    q.push(s);<br>    <span class="hljs-keyword">int</span> ans = inf;<br>    <span class="hljs-keyword">while</span>(!q.empty())<br>    &#123;<br>        node u = q.top(); q.pop();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; ++i)<br>        &#123;<br>            node v;<br>            v.x = u.x + dx[i];<br>            v.y = u.y + dy[i];<br>            v.oxy = u.oxy;<br>            v.dis = u.dis + <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">if</span>(v.x &lt; <span class="hljs-number">1</span> || v.x &gt; n || v.y &lt; <span class="hljs-number">1</span> || v.y &gt; m)<span class="hljs-keyword">continue</span>;<br>            <span class="hljs-keyword">if</span>(mp[v.x][v.y] == <span class="hljs-string">&#x27;T&#x27;</span>)<span class="hljs-keyword">return</span> v.dis;<br>            <span class="hljs-keyword">if</span>(mp[v.x][v.y] == <span class="hljs-string">&#x27;#&#x27;</span> &amp;&amp; v.oxy == <span class="hljs-number">0</span>)<span class="hljs-keyword">continue</span>;<br>            <span class="hljs-keyword">if</span>(mp[v.x][v.y] == <span class="hljs-string">&#x27;P&#x27;</span>)--v.dis;<br>            <span class="hljs-keyword">if</span>(mp[v.x][v.y] == <span class="hljs-string">&#x27;B&#x27;</span>)<br>            &#123;<br>                v.b = <span class="hljs-literal">true</span>;<br>                ++v.oxy;v.oxy %= <span class="hljs-number">6</span>;<br>            &#125;<br>            <span class="hljs-keyword">if</span>(vis[v.x][v.y][v.oxy])<span class="hljs-keyword">continue</span>;<br>            vis[v.x][v.y][v.oxy] = <span class="hljs-literal">true</span>;<br>            <span class="hljs-keyword">if</span>(mp[v.x][v.y] == <span class="hljs-string">&#x27;#&#x27;</span>)<br>            &#123;<br>                ++v.dis;<br>                <span class="hljs-keyword">if</span>(v.oxy)<br>                    --v.oxy;<br>                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(v.b)<br>                    v.dis += <span class="hljs-number">2</span>;<br>            &#125;<br>            q.push(v);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(ans == inf)<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>    <span class="hljs-keyword">else</span><br>        <span class="hljs-keyword">return</span> ans;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br><br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m &amp;&amp; n &amp;&amp; m)<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; ++j)<br>            &#123;<br>                <span class="hljs-built_in">cin</span> &gt;&gt; mp[i][j];<br>                <span class="hljs-keyword">if</span>(mp[i][j] == <span class="hljs-string">&#x27;S&#x27;</span>)<br>                &#123;<br>                    s.x = i;<br>                    s.y = j;<br>                &#125;<br>                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(mp[i][j] == <span class="hljs-string">&#x27;T&#x27;</span>)<br>                &#123;<br>                    t.x = i;<br>                    t.y = j;<br>                &#125;<br>            &#125;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; bfs() &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br><br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;       <br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="A-Walk-Through-the-Forest"><a href="#A-Walk-Through-the-Forest" class="headerlink" title="A Walk Through the Forest"></a><a href="https://vjudge.net/problem/HDU-1142#author=0">A Walk Through the Forest</a></h1><p>dijkstra + è®°å¿†åŒ–æœç´¢</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// #include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-comment">// #include &lt;set&gt;</span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;cmath&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-comment">// #include &lt;stack&gt;</span><br><span class="hljs-comment">// #include &lt;ctime&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-keyword">int</span> dis[maxn], dp[maxn];<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt, w;<br>&#125;edge[maxm &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, head[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>    <span class="hljs-built_in">memset</span>(dp, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> dp);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> w)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].w = w;<br>    edge[tot].nxt = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> v, w;<br>    node (<span class="hljs-keyword">int</span> _v, <span class="hljs-keyword">int</span> _w)&#123;v = _v; w = _w;&#125;<br>    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">const</span> <span class="hljs-keyword">operator</span>&lt;(<span class="hljs-keyword">const</span> node &amp;r)<span class="hljs-keyword">const</span><br>    &#123;<br>        <span class="hljs-keyword">return</span> w &gt; r.w;<br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dijkstra</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vis);<br>    <span class="hljs-built_in">memset</span>(dis, inf, <span class="hljs-keyword">sizeof</span> dis);<br>    dis[s] = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">priority_queue</span>&lt;node&gt; q;<br>    <span class="hljs-keyword">while</span>(!q.empty())q.pop();<br>    q.push(node(s, <span class="hljs-number">0</span>));<br>    <span class="hljs-keyword">while</span>(!q.empty())<br>    &#123;<br>        node u = q.top(); q.pop();<br>        <span class="hljs-keyword">if</span>(vis[u.v])<span class="hljs-keyword">continue</span>;<br>        vis[u.v] = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u.v]; ~i; i = edge[i].nxt)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = edge[i].to;<br>            <span class="hljs-keyword">if</span>(dis[v] &gt;= dis[u.v] + edge[i].w)<br>            &#123;<br>                dis[v] = dis[u.v] + edge[i].w;<br>                q.push(node(v, dis[v]));<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(~dp[u])<span class="hljs-keyword">return</span> dp[u];<br>    <span class="hljs-keyword">if</span>(u == <span class="hljs-number">2</span>)<span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    dp[u] = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>        <span class="hljs-keyword">if</span>(dis[u] &gt; dis[edge[i].to])dp[u] += dfs(edge[i].to);<br>    <span class="hljs-keyword">return</span> dp[u];<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot; , &quot;r&quot;   , stdin); </span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    <span class="hljs-comment">// ios_base::sync_with_stdio(0);</span><br>    <span class="hljs-comment">// cin.tie(0);cout.tie(0);</span><br><br>    <span class="hljs-keyword">while</span>(~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n) &amp;&amp; n)<br>    &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;m);<br>        <span class="hljs-keyword">int</span> u, v, w;<br>        init();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>, &amp;u, &amp;v, &amp;w);<br>            addedge(u, v, w);<br>            addedge(v, u, w);<br>        &#125;<br>        dijkstra(<span class="hljs-number">2</span>);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, dfs(<span class="hljs-number">1</span>));<br>    &#125;<br>   <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;       <br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM-æœç´¢</category>
      </categories>
      <tags>
        <tag>åˆ·é¢˜</tag>
        <tag>æœç´¢</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°æ®çš„å…±äº«ä¸ä¿æŠ¤</title>
    <url>/2018/03/29/%E6%95%B0%E6%8D%AE%E7%9A%84%E5%85%B1%E4%BA%AB%E4%B8%8E%E4%BF%9D%E6%8A%A4/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="æ ‡è¯†ç¬¦çš„ä½œç”¨åŸŸä¸å¯è§æ€§"><a href="#æ ‡è¯†ç¬¦çš„ä½œç”¨åŸŸä¸å¯è§æ€§" class="headerlink" title="æ ‡è¯†ç¬¦çš„ä½œç”¨åŸŸä¸å¯è§æ€§"></a>æ ‡è¯†ç¬¦çš„ä½œç”¨åŸŸä¸å¯è§æ€§</h1><h2 id="ä½œç”¨åŸŸ"><a href="#ä½œç”¨åŸŸ" class="headerlink" title="ä½œç”¨åŸŸ"></a>ä½œç”¨åŸŸ</h2><ul>
<li>ä½œç”¨åŸŸæ˜¯ä¸€ä¸ªæ ‡è¯†ç¬¦åœ¨ç¨‹åºæ­£æ–‡ä¸­æœ‰æ•ˆçš„åŒºåŸŸï¼›</li>
<li>c++ä¸­æ ‡è¯†ç¬¦çš„ä½œç”¨åŸŸæœ‰ <strong>å‡½æ•°åŸå‹ä½œç”¨åŸŸ</strong> ã€ <strong>å±€éƒ¨ä½œç”¨åŸŸï¼ˆå—ä½œç”¨åŸŸï¼‰</strong> ã€ <strong>ç±»ä½œç”¨åŸŸ</strong> ã€ <strong>å‘½åç©ºé—´ä½œç”¨åŸŸ</strong>;<h3 id="å‡½æ•°åŸå‹ä½œç”¨åŸŸï¼š"><a href="#å‡½æ•°åŸå‹ä½œç”¨åŸŸï¼š" class="headerlink" title="å‡½æ•°åŸå‹ä½œç”¨åŸŸï¼š"></a>å‡½æ•°åŸå‹ä½œç”¨åŸŸï¼š</h3></li>
<li>å‡½æ•°åŸå‹ä½œç”¨åŸŸæ˜¯c++ç¨‹åºä¸­æœ€å°çš„ä½œç”¨åŸŸï¼›</li>
<li>åœ¨å‡½æ•°åŸå‹å£°æ˜æ—¶å½¢å‚çš„ä½œç”¨èŒƒå›´å°±æ˜¯å‡½æ•°åŸå‹ä½œç”¨åŸŸï¼›</li>
<li>åœ¨å‡½æ•°åŸå‹çš„å‚æ•°åˆ—è¡¨ä¸­èµ·çš„ä½œç”¨çš„åªæ˜¯å½¢å‚ç±»å‹ï¼Œæ ‡è¯†ç¬¦ä¸èµ·ä½œç”¨ï¼Œå› æ­¤å¯ä»¥çœå»ï¼Œä½†ä¸ºäº†ç¨‹åºçš„å¯è¯»æ€§ï¼Œé€šå¸¸è¿˜æ˜¯è¦åœ¨å‡½æ•°åŸå‹å£°æ˜æ—¶ç»™å‡ºå½¢å‚æ ‡è¯†ç¬¦ï¼›<h3 id="å±€éƒ¨ä½œç”¨åŸŸï¼š"><a href="#å±€éƒ¨ä½œç”¨åŸŸï¼š" class="headerlink" title="å±€éƒ¨ä½œç”¨åŸŸï¼š"></a>å±€éƒ¨ä½œç”¨åŸŸï¼š</h3></li>
<li>å‡½æ•°å½¢å‚åˆ—è¡¨ä¸­å½¢å‚çš„ä½œç”¨åŸŸï¼Œä»å½¢å‚åˆ—è¡¨ä¸­çš„å£°æ˜å¤„å¼€å§‹ï¼Œåˆ°æ•´ä¸ªå‡½æ•°ä½“ç»“æŸä¹‹å¤„ä¸ºæ­¢ï¼›</li>
<li>å‡½æ•°ä½“å†…å£°æ˜çš„å˜é‡ï¼Œå…¶ä½œç”¨åŸŸä»å£°æ˜å¤„å¼€å§‹ï¼Œä¸€ç›´åˆ°å£°æ˜æ‰€åœ¨çš„å—ç»“æŸçš„å¤§æ‹¬å·ä¸ºæ­¢ï¼›</li>
<li>å…·æœ‰å±€éƒ¨ä½œç”¨åŸŸçš„å˜é‡ä¹Ÿç§°ä½œå±€éƒ¨å˜é‡ï¼›<h3 id="ç±»ä½œç”¨åŸŸï¼š"><a href="#ç±»ä½œç”¨åŸŸï¼š" class="headerlink" title="ç±»ä½œç”¨åŸŸï¼š"></a>ç±»ä½œç”¨åŸŸï¼š</h3></li>
<li>ç±»å¯ä»¥çœ‹ä½œä¸€ç»„æœ‰åæˆå‘˜çš„é›†åˆï¼Œç±»Xçš„æˆå‘˜må…·æœ‰ç±»ä½œç”¨åŸŸï¼Œå¯¹mçš„è®¿é—®æ–¹å¼æœ‰ï¼š</li>
<li>1.å¦‚æœåœ¨Xçš„æˆå‘˜å‡½æ•°ä¸­æ²¡æœ‰å£°æ˜åŒåçš„å±€éƒ¨ä½œç”¨åŸŸæ ‡è¯†ç¬¦ï¼Œé‚£ä¹ˆåœ¨è¯¥å‡½æ•°å†…å¯ä»¥ç›´æ¥è®¿é—®æˆå‘˜mï¼›</li>
<li>2.é€šè¿‡è¡¨è¾¾å¼<code>x.m</code>æˆ–è€…<code>X::m</code>ï¼›ï¼ˆè®¿é—®å¯¹è±¡æˆå‘˜çš„æœ€åŸºæœ¬æ–¹æ³•ï¼‰ï¼›</li>
<li>3.é€šè¿‡<code>ptr-&gt;m</code>è¿™æ ·çš„è¡¨è¾¾å¼ï¼Œå…¶ä¸­pträ¸ºæŒ‡å‘Xç±»çš„ä¸€ä¸ªå¯¹è±¡çš„æŒ‡é’ˆï¼›</li>
</ul>
<span id="more"></span>
<h3 id="å‘½åç©ºé—´ä½œç”¨åŸŸï¼š"><a href="#å‘½åç©ºé—´ä½œç”¨åŸŸï¼š" class="headerlink" title="å‘½åç©ºé—´ä½œç”¨åŸŸï¼š"></a>å‘½åç©ºé—´ä½œç”¨åŸŸï¼š</h3><ul>
<li>å‘½åç©ºé—´çš„è¯­æ³•å½¢å¼ï¼š</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">namespace</span> å‘½åç©ºé—´å<br>&#123;<br>å‘½åç©ºé—´å†…çš„å„ç§å£°æ˜ (å‡½æ•°å£°æ˜ã€ç±»å£°æ˜ã€Â·Â·Â·Â·Â·Â·)<br>&#125;<br></code></pre></td></tr></table></figure>
<ul>
<li>ä¸€ä¸ªå‘½åç©ºé—´ç¡®å®šäº†ä¸€ä¸ªå‘½åç©ºé—´ä½œç”¨åŸŸï¼Œå‡¡æ˜¯åœ¨è¯¥å‘½åç©ºé—´ä¹‹å†…å£°æ˜çš„ã€ä¸å±äºå‰é¢æ‰€è¿°çš„å„ä¸ªä½œç”¨åŸŸçš„æ ‡è¯†ç¬¦ï¼Œéƒ½å±äºè¯¥å‘½åç©ºé—´ä½œç”¨åŸŸï¼›</li>
<li>åœ¨å‘½åç©ºé—´å†…éƒ¨å¯ä»¥ç›´æ¥å¼•ç”¨å½“å‰å‘½åç©ºé—´ä¸­ç”Ÿå‘½çš„æ ‡è¯†ç¬¦ï¼Œå¦‚æœéœ€è¦å¼•ç”¨å…¶ä»–å‘½åç©ºé—´çš„æ ‡è¯†ç¬¦ï¼Œéœ€è¦ä½¿ç”¨ä¸‹åˆ—è¯­æ³•ï¼š<code>å‘½åç©ºé—´å::æ ‡è¯†ç¬¦å</code></li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp">eg:<br><span class="hljs-keyword">namespace</span> SomeNs<br>&#123;<br>	<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SomeClass</span>&#123;</span>...&#125;<br>&#125;<br><span class="hljs-comment">//å¦‚æœéœ€è¦å¼•ç”¨ç±»åSomeClassæˆ–å‡½æ•°åsomeFuncï¼Œéœ€è¦ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼ï¼š</span><br>SomeNs::SomeClass obj1;			<span class="hljs-comment">//å£°æ˜ä¸€ä¸ªSomeNs::SomeClasså‹çš„å¯¹è±¡obj1;</span><br></code></pre></td></tr></table></figure>
<ul>
<li><strong>using è¯­å¥</strong>ï¼šæ€»ä½¿ç”¨è¿™æ ·çš„å‘½åç©ºé—´é™å®šä¼šæ˜¾å¾—è¿‡äºå†—é•¿<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">using</span> å‘½åç©ºé—´å::æ ‡è¯†ç¬¦åï¼›<br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> å‘½åç©ºé—´åï¼›<br></code></pre></td></tr></table></figure>
å‰ä¸€ç§å½¢å¼å°†æŒ‡å®šçš„æ ‡è¯†ç¬¦æš´éœ²åœ¨å½“å‰çš„ä½œç”¨åŸŸä¸­ï¼Œä½¿å¾—åœ¨å½“å‰ä½œç”¨åŸŸä¸­å¯ä»¥ç›´æ¥å¼•ç”¨è¯¥æ ‡è¯†ç¬¦ï¼›<br>åä¸€ç§å½¢å¼å°†æŒ‡å®šå‘½åç©ºé—´å†…çš„æ‰€æœ‰æ ‡è¯†ç¬¦æš´éœ²åœ¨å½“å‰çš„ä½œç”¨åŸŸä¸­ï¼Œä½¿å¾—åœ¨å½“å‰ä½œç”¨åŸŸä¸­å¯ä»¥ç›´æ¥å¼•ç”¨è¯¥å‘½åç©ºé—´å†…çš„ä»»ä½•æ ‡è¯†ç¬¦ï¼›</li>
<li>å‘½åç©ºé—´å…è®¸åµŒå¥—ï¼›</li>
<li><strong>å…¨å±€å‘½åç©ºé—´</strong>ï¼šæ˜¯é»˜è®¤çš„å‘½åç©ºé—´ï¼Œå­å•Šæ˜¾å¼å£°æ˜çš„å‘½åç©ºé—´ä¹‹å¤–å£°æ˜çš„æ ‡è¯†ç¬¦éƒ½åœ¨ä¸€ä¸ªå…¨å±€å‘½åç©ºé—´ä¸­ï¼›</li>
<li><strong>åŒ¿åå‘½åç©ºé—´</strong>ï¼šæ˜¯ä¸€ä¸ªéœ€è¦æ˜¾å¼å£°æ˜çš„æ²¡æœ‰æ–‡å­—çš„å‘½åç©ºé—´ï¼Œå£°æ˜æ–¹å¼ï¼š</li>
<li><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">namespace</span> <br>&#123;<br>åŒ¿åå‘½åç©ºé—´å†…çš„å„ç§å£°æ˜ (å‡½æ•°å£°æ˜ã€ç±»å£°æ˜ã€Â·Â·Â·Â·Â·Â·)<br>&#125;<br></code></pre></td></tr></table></figure></li>
<li>åœ¨åŒ…å«å¤šä¸ªæºæ–‡ä»¶çš„å·¥ç¨‹ä¸­ï¼ŒåŒ¿åå‘½åç©ºé—´å¸¸å¸¸è¢«ç”¨æ¥å±è”½ä¸å¸Œæœ›æš´éœ²ç»™å…¶ä»–æºæ–‡ä»¶çš„æ ‡è¯†ç¬¦ï¼Œè¿™æ˜¯å› ä¸ºæ¯ä¸ªæºæ–‡ä»¶çš„åŒ¿åå‘½åç©ºé—´æ˜¯å½¼æ­¤ä¸åŒçš„ï¼Œåœ¨æ¯ä¸€ä¸ªæºæ–‡ä»¶ä¸­æ²¡æœ‰åŠæ³•è®¿é—®å…¶ä»–æºæ–‡ä»¶çš„åŒ¿åå‘½åç©ºé—´ï¼›</li>
<li>å…·æœ‰å‘½åç©ºé—´ä½œç”¨åŸŸçš„å˜é‡ä¹Ÿç§°ä¸ºå…¨å±€å˜é‡ï¼›<h3 id="å¯è§æ€§ï¼š"><a href="#å¯è§æ€§ï¼š" class="headerlink" title="å¯è§æ€§ï¼š"></a>å¯è§æ€§ï¼š</h3></li>
<li>ç¨‹åºè¿è¡Œåˆ°æŸä¸€ç‚¹ï¼Œèƒ½å¤Ÿå¼•ç”¨åˆ°çš„æ ‡è¯†ç¬¦ï¼Œå°±æ˜¯è¯¥å¤„å¯è§çš„æ ‡è¯†ç¬¦ï¼›</li>
<li><strong>å‘½åç©ºé—´ä½œç”¨åŸŸ</strong>æœ€å¤§ï¼Œæ¥ä¸‹æ¥ä¾æ¬¡æ˜¯<strong>ç±»ä½œç”¨åŸŸ</strong>å’Œ<strong>å±€éƒ¨ä½œç”¨åŸŸ</strong>ï¼›</li>
<li>å¯è§æ€§è¡¨ç¤ºä»å†…å±‚ä½œç”¨åŸŸå‘å¤–å±‚ä½œç”¨åŸŸâ€œçœ‹â€æ—¶èƒ½çœ‹åˆ°ä»€ä¹ˆï¼›</li>
<li><strong>ä½œç”¨åŸŸå¯è§æ€§çš„ä¸€èˆ¬è§„åˆ™</strong>ï¼š</li>
<li>æ ‡è¯†ç¬¦è¦å£°æ˜åœ¨å‰ï¼Œå¼•ç”¨åœ¨åï¼›</li>
<li>åœ¨åŒä¸€ä½œç”¨åŸŸä¸­ï¼Œä¸èƒ½å£°æ˜åŒåçš„æ ‡è¯†ç¬¦ï¼›</li>
<li>åœ¨æ²¡æœ‰äº’ç›¸åŒ…å«å…³ç³»çš„ä¸åŒçš„ä½œç”¨åŸŸä¸­å£°æ˜çš„åŒåæ ‡è¯†ç¬¦ï¼Œäº’ä¸å½±å“ï¼›</li>
<li>å¦‚æœåœ¨ä¸¤ä¸ªæˆ–å¤šä¸ªå…·æœ‰åŒ…å«å…³ç³»çš„ä½œç”¨åŸŸä¸­å£°æ˜äº†åŒåæ ‡è¯†ç¬¦ï¼Œåˆ™å¤–å±‚æ ‡è¯†ç¬¦åœ¨å†…å±‚ä¸å¯è§ï¼›</li>
<li>ä½œç”¨åŸŸå’Œå¯è§æ€§çš„åŸåˆ™ä¸åªé€‚ç”¨äºå˜é‡åï¼Œä¹Ÿé€‚ç”¨äºå…¶ä»–å„ç§æ ‡è¯†ç¬¦ï¼ŒåŒ…æ‹¬å¸¸å˜é‡åã€ç”¨æˆ·å®šä¹‰çš„ç±»å‹åã€å‡½æ•°ååã€æšä¸¾ç±»å‹çš„å–å€¼ç­‰ï¼›</li>
</ul>
<h2 id="å¯¹è±¡çš„ç”Ÿå­˜å‘¨æœŸ"><a href="#å¯¹è±¡çš„ç”Ÿå­˜å‘¨æœŸ" class="headerlink" title="å¯¹è±¡çš„ç”Ÿå­˜å‘¨æœŸ"></a>å¯¹è±¡çš„ç”Ÿå­˜å‘¨æœŸ</h2><h3 id="é™æ€ç”Ÿå­˜å‘¨æœŸï¼š"><a href="#é™æ€ç”Ÿå­˜å‘¨æœŸï¼š" class="headerlink" title="é™æ€ç”Ÿå­˜å‘¨æœŸï¼š"></a>é™æ€ç”Ÿå­˜å‘¨æœŸï¼š</h3><ul>
<li>å¦‚æœå¯¹è±¡çš„ç”Ÿå­˜æœŸä¸ç¨‹åºçš„è¿è¡ŒæœŸç›¸åŒï¼Œåˆ™ç§°å®ƒå…·æœ‰é™æ€ç”Ÿå­˜æœŸï¼›</li>
<li>åœ¨å‘½åç©ºé—´ä½œç”¨åŸŸä¸­å£°æ˜çš„å¯¹è±¡éƒ½æ˜¯å…·æœ‰é™æ€ç”Ÿå­˜æœŸçš„ï¼›</li>
<li>å¦‚æœåœ¨å‡½æ•°å†…éƒ¨çš„å±€éƒ¨ä½œç”¨åŸŸä¸­å£°æ˜å…·æœ‰é™æ€ç”Ÿå­˜æœŸçš„å¯¹è±¡ï¼Œåˆ™è¦ä½¿ç”¨å…³é”®å­—<code>static</code>;</li>
<li>å±€éƒ¨ä½œç”¨åŸŸä¸­é™æ€å˜é‡çš„ç‰¹ç‚¹ï¼šå®ƒä¸ä¼šéšç€æ¯æ¬¡å‡½æ•°è°ƒç”¨è€Œäº§æˆä¸€ä¸ªå‰¯æœ¬ï¼Œä¹Ÿä¸ä¼šéšç€å‡½æ•°è¿”å›è€Œå¤±æ•ˆï¼›</li>
<li>å®šä¹‰æ—¶æœªæŒ‡å®šåˆå€¼çš„åŸºæœ¬é™æ€ç”Ÿå­˜æœŸå˜é‡ï¼Œä¼šè¢«èµ‹äºˆ0å€¼åˆå§‹åŒ–ï¼Œè€Œå¯¹äºåŠ¨æ€ç”Ÿå­˜æœŸå˜é‡ï¼Œä¸æŒ‡å®šåˆå€¼æ„å‘³ç€åˆå€¼ä¸ç¡®å®šï¼›<h3 id="åŠ¨æ€ç”Ÿå­˜æœŸ"><a href="#åŠ¨æ€ç”Ÿå­˜æœŸ" class="headerlink" title="åŠ¨æ€ç”Ÿå­˜æœŸ"></a>åŠ¨æ€ç”Ÿå­˜æœŸ</h3></li>
<li>åœ¨å±€éƒ¨ä½œç”¨åŸŸä¸­å£°æ˜çš„å…·æœ‰åŠ¨æ€ç”Ÿå­˜æœŸçš„å¯¹è±¡ï¼Œä¹ æƒ¯ä¸Šä¹Ÿç§°ä¸º<strong>å±€éƒ¨ç”Ÿå­˜æœŸå¯¹è±¡</strong>ï¼›</li>
<li>å±€éƒ¨ç”Ÿå­˜æœŸå¯¹è±¡è¯ç”Ÿäºå£°æ˜ç‚¹ï¼Œç»“æŸäºå£°æ˜æ‰€åœ¨çš„å—æ‰§è¡Œå®Œæ¯•ä¹‹æ—¶ï¼›</li>
<li>ç±»çš„æˆå‘˜å¯¹è±¡ä¹Ÿæœ‰å„è‡ªçš„ç”Ÿå­˜æœŸï¼Œä¸ç”¨<code>static</code>ä¿®é¥°çš„æˆå‘˜å¯¹è±¡ï¼Œå…¶ç”Ÿå­˜æœŸéƒ½ä¸å®ƒä»¬æ‰€å±å¯¹è±¡çš„ç”Ÿå­˜æœŸä¿æŒä¸€è‡´ï¼›</li>
</ul>
<h2 id="ç±»çš„é™æ€æˆå‘˜"><a href="#ç±»çš„é™æ€æˆå‘˜" class="headerlink" title="ç±»çš„é™æ€æˆå‘˜"></a>ç±»çš„é™æ€æˆå‘˜</h2><h3 id="é™æ€æ•°æ®æˆå‘˜ï¼š"><a href="#é™æ€æ•°æ®æˆå‘˜ï¼š" class="headerlink" title="é™æ€æ•°æ®æˆå‘˜ï¼š"></a>é™æ€æ•°æ®æˆå‘˜ï¼š</h3><ul>
<li>å¦‚æœæŸä¸ªå±æ€§ä¸ºæ•´ä¸ªç±»æ‰€å…±æœ‰ï¼Œä¸å±äºä»»ä½•ä¸€ä¸ªå…·ä½“å¯¹è±¡ï¼Œåˆ™é‡‡ç”¨<code>static</code>å…³é”®å­—æ¥å£°æ˜ä¸ºé™æ€æˆå‘˜ï¼Œé™æ€æˆå‘˜åœ¨æ¯ä¸ªç±»åªæœ‰ä¸€ä¸ªå‰¯æœ¬ï¼Œç”±è¯¥ç±»çš„æ‰€æœ‰å¯¹è±¡å…±åŒç»´æŠ¤å’Œä½¿ç”¨ï¼Œä»è€Œå®ç°äº†åŒä¸€ä¸ªç±»çš„ä¸åŒå¯¹è±¡ä¹‹é—´çš„æ•°æ®å…±äº«ï¼›</li>
<li><strong>ç±»å±æ€§</strong>æ˜¯æè¿°ç±»çš„æ‰€æœ‰å¯¹è±¡å…±åŒç‰¹å¾çš„ä¸€ä¸ªæ•°æ®é¡¹ï¼Œå¯¹äºä»»ä½•å¯¹è±¡å®ä¾‹ï¼Œå®ƒçš„å±æ€§å€¼æ˜¯ç›¸åŒçš„ï¼›ç±» == å·¥å‚ï¼Œå¯¹è±¡ == äº§å“ï¼Œé™æ€æˆå‘˜ == å­˜æ”¾äºå·¥å‚ä¸­ã€å±äºå·¥å‚çš„ä½†ä¸å±äºæ¯ä¸ªäº§å“çš„ä¸œè¥¿ï¼›</li>
<li>é™æ€æ•°æ®æˆå‘˜å…·æœ‰é™æ€ç”Ÿå­˜æœŸï¼Œç”±äºé™æ€æ•°æ®æˆå‘˜ä¸å±äºä»»ä½•ä¸€ä¸ªå¯¹è±¡ï¼Œå› æ­¤å¯ä»¥é€šè¿‡ç±»åå¯¹å®ƒè®¿é—®ï¼Œä¸€èˆ¬ç”¨æ³•æ˜¯ï¼š<code>ç±»å::æ ‡è¯†ç¬¦</code>ï¼›å†ç±»çš„å®šä¹‰ä¸­ä»…ä»…å¯¹é™æ€æ•°æ®æˆå‘˜è¿›è¡Œ<strong>å¼•ç”¨æ€§å£°æ˜</strong>ï¼Œå¿…é¡»åœ¨<strong>å‘½åç©ºé—´ä½œç”¨åŸŸ</strong>çš„æŸä¸ªåœ°æ–¹ä½¿ç”¨<strong>ç±»åé™å®šå®šä¹‰æ€§å£°æ˜</strong>ï¼Œè¿™æ˜¯ä¹Ÿå¯ä»¥è¿›è¡Œ<strong>åˆå§‹åŒ–</strong>ï¼›</li>
<li>ä¹‹æ‰€ä»¥ç±»çš„é™æ€æˆå‘˜éœ€è¦åœ¨ç±»çš„å®šä¹‰ä¹‹å¤–åœ¨åŠ å®šä¹‰æ˜¯å› ä¸ºéœ€è¦ä»¥è¿™ç§æ–¹å¼ä¸“é—¨ä¸ºå®ƒä»¬åˆ†é…ç©ºé—´ï¼Œéé™æ€æ•°æ®æˆå‘˜æ— éœ€ä»¥æ­¤æ–¹å¼å®šä¹‰ï¼Œå› ä¸ºå®ƒä»¬çš„ç©ºé—´æ˜¯ä¸æ‰€å±å¯¹è±¡çš„ç©ºé—´åŒæ—¶åˆ†é…çš„ï¼›</li>
<li>åœ¨å¯¹ç±»çš„é™æ€ç§æœ‰æ•°æ®æˆå‘˜åˆå§‹åŒ–çš„åŒæ—¶ï¼Œè¿˜å¯ä»¥å¼•ç”¨ç±»çš„å…¶ä»–ç§æœ‰æˆå‘˜ï¼Œä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ªç±»Tå­˜åœ¨ç±»å‹ä¸ºTçš„é™æ€ç§æœ‰å¯¹è±¡ï¼Œé‚£ä¹ˆå¯ä»¥å¼•ç”¨è¯¥ç±»çš„ç§æœ‰æ„é€ å‡½æ•°å°†å…¶åˆå§‹åŒ–ï¼›</li>
</ul>
<h3 id="é™æ€å‡½æ•°æˆå‘˜ï¼š"><a href="#é™æ€å‡½æ•°æˆå‘˜ï¼š" class="headerlink" title="é™æ€å‡½æ•°æˆå‘˜ï¼š"></a>é™æ€å‡½æ•°æˆå‘˜ï¼š</h3><ul>
<li>é™æ€æˆå‘˜å‡½æ•°ï¼šä½¿ç”¨<code>static</code>å…³é”®å­—å£°æ˜çš„å‡½æ•°æˆå‘˜ï¼›åŒé™æ€æ•°æ®æˆå‘˜ä¸€æ ·ï¼Œé™æ€æˆå‘˜å‡½æ•°ä¹Ÿå±äºæ•´ä¸ªç±»ï¼Œç”±åŒä¸€ä¸ªç±»çš„æ‰€æœ‰å¯¹è±¡å…±åŒæ‹¥æœ‰ï¼Œä¸ºè¿™äº›å¯¹è±¡æ‰€å…±äº«ï¼›</li>
<li>é™æ€æˆå‘˜å‡½æ•°å¯ä»¥é€šè¿‡ç±»åæˆ–å¯¹è±¡æ¥è°ƒç”¨ï¼Œè€Œéé™æ€æˆå‘˜å‡½æ•°åªèƒ½é€šè¿‡å¯¹è±¡åæ¥è°ƒç”¨ï¼›</li>
<li>è™½ç„¶é™æ€æˆå‘˜å‡½æ•°å¯ä»¥é€šè¿‡ç±»åå’Œå¯¹è±¡åä¸¤ç§æ–¹å¼è°ƒç”¨ï¼Œä½†ä¸€èˆ¬ä¹ æƒ¯ä¸é€šè¿‡ç±»åè°ƒç”¨ã€‚å› ä¸ºå³ä½¿é€šè¿‡å¯¹è±¡åè°ƒç”¨ï¼Œèµ·ä½œç”¨çš„ä¹Ÿåªæ˜¯å¯¹è±¡çš„ç±»å‹ä¿¡æ¯ï¼Œä¸æ‰€ä½¿ç”¨çš„å…·ä½“å¯¹è±¡æ¯«æ— å…³ç³»ï¼›</li>
<li>é™æ€æˆå‘˜å‡½æ•°å¯ä»¥ç›´æ¥è®¿é—®è¯¥ç±»çš„é™æ€æ•°æ®å’Œå‡½æ•°æˆå‘˜ã€‚è€Œè®¿é—®éé™æ€æˆå‘˜ï¼Œå¿…é¡»é€šè¿‡å¯¹è±¡åï¼›<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">A::f</span> <span class="hljs-params">(A a)</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-built_in">cout</span> &lt;&lt; x ;		<span class="hljs-comment">//å¯¹xçš„å¼•ç”¨æ˜¯é”™è¯¯çš„</span><br>	<span class="hljs-built_in">cout</span> &lt;&lt; a.x :	<span class="hljs-comment">//æ­£ç¡®</span><br>&#125;<br></code></pre></td></tr></table></figure></li>
<li>å¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡é™æ€å‡½æ•°æˆå‘˜è®¿é—®éé™æ€æˆå‘˜æ˜¯ç›¸å½“éº»çƒ¦çš„ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå®ƒä¸»è¦æ¥è®¿é—®ä¸€ä¸ªç±»ä¸­çš„é™æ€æ•°æ®æˆå‘˜ï¼Œç»´æŠ¤å¯¹è±¡ä¹‹é—´å…±äº«æ•°æ®ï¼›</li>
<li>ä¹‹æ‰€ä»¥åœ¨é™æ€æˆå‘˜å‡½æ•°ä¸­è®¿é—®ç±»çš„éé™æ€æˆå‘˜éœ€è¦æŒ‡æ˜å¯¹è±¡ï¼Œæ˜¯å› ä¸ºå¯¹é™æ€æˆå‘˜å‡½æ•°çš„è°ƒç”¨æ˜¯æ²¡æœ‰ç›®çš„å¯¹è±¡çš„ï¼Œå› æ­¤ä¸èƒ½åƒéé™æ€æˆå‘˜å‡½æ•°é‚£æ ·ï¼Œéšå«çš„é€šè¿‡ç›®çš„å¯¹è±¡è®¿é—®ç±»çš„é™æ€æˆå‘˜ï¼›</li>
</ul>
<h2 id="ç±»çš„å‹å…ƒ"><a href="#ç±»çš„å‹å…ƒ" class="headerlink" title="ç±»çš„å‹å…ƒ"></a><strong>ç±»çš„å‹å…ƒ</strong></h2><ul>
<li>å‹å…ƒå…³ç³»æä¾›äº†ä¸åŒç±»æˆ–å¯¹è±¡çš„æˆå‘˜å‡½æ•°ä¹‹é—´ã€ç±»çš„æˆå‘˜å‡½æ•°ä¸ä¸€èˆ¬å‡½æ•°ä¹‹é—´è¿›è¡Œæ•°æ®å…±äº«çš„æœºåˆ¶ï¼›</li>
<li>é€šä¿—çš„è¯´ï¼Œå‹å…ƒå…³ç³»å°±æ˜¯ä¸€ä¸ªç±»<strong>ä¸»åŠ¨</strong>å£°æ˜å“ªäº›å…¶ä»–ç±»æˆ–å‡½æ•°æ˜¯å®ƒçš„æœ‹å‹è¿›è€Œ<strong>ç»™å®ƒä»¬æä¾›å¯¹æœ¬ç±»çš„è®¿é—®ç‰¹è®¸</strong>ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œé€šè¿‡å‹å…ƒå…³ç³»æ¯ä¸€ä¸ªæ™®é€šå‡½æ•°æˆ–è€…ç±»çš„æˆå‘˜å‡½æ•°å°±å¯ä»¥è®¿é—®å°è£…ä¸å¦ä¸€ä¸ªç±»ä¸­çš„æ•°æ®ï¼›</li>
<li>åœ¨ä¸€ä¸ªç±»ä¸­ï¼Œå¯ä»¥åˆ©ç”¨å…³é”®å­—<code>friend</code>å°†å…¶ä»–å‡½æ•°æˆ–ç±»å£°æ˜ä¸ºå‹å…ƒï¼›</li>
<li>å¦‚æœå‹å…ƒæ˜¯ä¸€èˆ¬å‡½æ•°æˆ–ç±»çš„æˆå‘˜å‡½æ•°ï¼Œç§°ä¸º<strong>å‹å…ƒå‡½æ•°</strong>ï¼›</li>
<li>å¦‚æœå‹å…ƒæ˜¯ä¸€ä¸ªç±»ï¼Œåˆ™ç§°ä¸º<strong>å‹å…ƒç±»</strong>ï¼Œå‹å…ƒç±»çš„æ‰€æœ‰æˆå‘˜å‡½æ•°éƒ½è‡ªåŠ¨æˆä¸ºå‹å…ƒå‡½æ•°ï¼›</li>
</ul>
<h3 id="å‹å…ƒå‡½æ•°ï¼š"><a href="#å‹å…ƒå‡½æ•°ï¼š" class="headerlink" title="å‹å…ƒå‡½æ•°ï¼š"></a>å‹å…ƒå‡½æ•°ï¼š</h3><ul>
<li>å‹å…ƒå‡½æ•°æ˜¯åœ¨ç±»ä¸­ç”¨å…³é”®å­—<code>friend</code>ä¿®é¥°çš„éæˆå‘˜å‡½æ•°ï¼›</li>
<li>å‹å…ƒå‡½æ•°å¯ä»¥æ˜¯ä¸€ä¸ªæ™®é€šçš„å‡½æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯å…¶ä»–ç±»çš„æˆå‘˜å‡½æ•°ï¼›</li>
<li>è™½ç„¶å‹å…ƒå‡½æ•°ä¸æ˜¯æœ¬ç±»çš„æˆå‘˜å‡½æ•°ï¼Œä½†æ˜¯<strong>åœ¨å®ƒçš„å‡½æ•°ä½“ä¸­å¯ä»¥é€šè¿‡å¯¹è±¡åè®¿é—®ç±»çš„ç§æœ‰å’Œä¿æŠ¤æˆå‘˜</strong>ï¼›</li>
<li>åœ¨ç±»çš„å†…éƒ¨å£°æ˜å‹å…ƒå‡½æ•°çš„åŸå‹ï¼Œå…¶å®šä¹‰åœ¨ç±»å¤–ï¼›</li>
<li>å‹å…ƒæˆå‘˜å‡½æ•°çš„ä½¿ç”¨å’Œä¸€èˆ¬å‹å…ƒå‡½æ•°çš„ä½¿ç”¨åŸºæœ¬ç›¸åŒï¼Œåªæ˜¯è¦é€šè¿‡ç›¸åº”çš„ç±»æˆ–å¯¹è±¡æ¥è®¿é—®ï¼›</li>
</ul>
<h3 id="å‹å…ƒç±»ï¼š"><a href="#å‹å…ƒç±»ï¼š" class="headerlink" title="å‹å…ƒç±»ï¼š"></a>å‹å…ƒç±»ï¼š</h3><ul>
<li>è‹¥Aç±»ä¸ºBç±»çš„å‹å…ƒç±»ï¼Œåˆ™Aç±»çš„æ‰€æœ‰æˆå‘˜å‡½æ•°éƒ½æ˜¯Bç±»çš„å‹å…ƒå‡½æ•°ï¼Œéƒ½å¯ä»¥è®¿é—®Bç±»çš„ç§æœ‰å’Œä¿æŠ¤æˆå‘˜ï¼›</li>
<li>å£°æ˜å‹å…ƒç±»çš„è¯­æ³•å½¢å¼ï¼š<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">B</span></span><br><span class="hljs-class">&#123;</span><br>	...					<span class="hljs-comment">//Bç±»çš„æˆå‘˜å£°æ˜</span><br>	<span class="hljs-keyword">friend</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">A</span>;</span>		<span class="hljs-comment">//å£°æ˜Aä¸ºBç±»çš„å‹å…ƒç±»</span><br>	...<br>&#125;;<br></code></pre></td></tr></table></figure></li>
<li>å£°æ˜å‹å…ƒç±»ï¼Œæ˜¯å»ºç«‹ç±»ä¸ç±»ä¹‹é—´çš„è”ç³»ï¼Œå®ç°ç±»ä¹‹é—´æ•°æ®å…±äº«çš„ä¸€ç§é€”å¾„ï¼›</li>
<li><strong>Attentionï¼š</strong><br>1.<strong>å‹å…ƒå…³ç³»æ˜¯ä¸èƒ½ä¼ é€’çš„</strong>ã€‚Bç±»æ˜¯Aç±»å‹å…ƒï¼ŒCç±»æ˜¯Bç±»çš„å‹å…ƒï¼ŒCç±»ä¸Aç±»ä¹‹é—´ï¼Œå¦‚æœæ²¡æœ‰å£°æ˜ï¼Œå°±æ²¡æœ‰ä»»ä½•å‹å…ƒå…³ç³»ï¼Œä¸èƒ½è¿›è¡Œæ•°æ®å…±äº«ï¼›<br>2.<strong>å‹å…ƒå…³ç³»æ˜¯å•å‘çš„</strong>ã€‚å¦‚æœå£°æ˜Bç±»æ˜¯Aç±»çš„å‹å…ƒï¼ŒBç±»æˆå‘˜å‡½æ•°å°±å¯ä»¥è®¿é—®Aç±»çš„ç§æœ‰å’Œä¿æŠ¤æ•°æ®ï¼Œä½†Aç±»çš„æˆå‘˜å‡½æ•°å´ä¸èƒ½è®¿é—®Bç±»çš„ç§æœ‰ã€ä¿æŠ¤æˆå‘˜ï¼›<br>3.<strong>å‹å…ƒå…³ç³»æ˜¯ä¸è¢«ç»§æ‰¿çš„</strong>ã€‚å¦‚æœç±»Bæ˜¯ç±»Açš„å‹å…ƒæ˜ç±»Bçš„æ´¾ç”Ÿç±»å¹¶ä¸ä¼šè‡ªåŠ¨æˆä¸ºç±»Açš„å‹å…ƒï¼›æ‰“ä¸ªæ¯”æ–¹è¯´ï¼Œå°±å¥½åƒåˆ«äººç›¸ä¿¡ä½ ï¼Œä½†ä¸è§å¾—ç›¸ä¿¡ä½ çš„å­©å­ï¼›</li>
</ul>
<h2 id="å…±äº«æ•°æ®çš„ä¿æŠ¤"><a href="#å…±äº«æ•°æ®çš„ä¿æŠ¤" class="headerlink" title="å…±äº«æ•°æ®çš„ä¿æŠ¤"></a>å…±äº«æ•°æ®çš„ä¿æŠ¤</h2><h3 id="å¸¸å¯¹è±¡ï¼š"><a href="#å¸¸å¯¹è±¡ï¼š" class="headerlink" title="å¸¸å¯¹è±¡ï¼š"></a>å¸¸å¯¹è±¡ï¼š</h3><ul>
<li>å¸¸å¯¹è±¡æ˜¯è¿™æ ·çš„å¯¹è±¡ï¼šå®ƒçš„æ•°æ®æˆå‘˜å€¼åœ¨å¯¹è±¡çš„æ•´ä¸ªç”Ÿå­˜æœŸé—´å†…éƒ½ä¸èƒ½è¢«æ”¹å˜ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>å¸¸å¯¹è±¡å¿…é¡»è¿›è¡Œåˆå§‹åŒ–ï¼Œè€Œä¸”ä¸èƒ½è¢«æ›´æ–°</strong>ï¼›</li>
<li>å£°æ˜å¸¸å¯¹è±¡çš„è¯­æ³•å½¢å¼ï¼š<code>const ç±»å‹è¯´æ˜ç¬¦ å¯¹è±¡åï¼›</code>;(<code>const</code>å…³é”®å­—æ”¾åœ¨ç±»å‹åä¹‹åä¹Ÿæ˜¯å…è®¸çš„ï¼‰<h3 id="ç”¨constä¿®é¥°çš„ç±»æˆå‘˜ï¼š"><a href="#ç”¨constä¿®é¥°çš„ç±»æˆå‘˜ï¼š" class="headerlink" title="ç”¨constä¿®é¥°çš„ç±»æˆå‘˜ï¼š"></a>ç”¨constä¿®é¥°çš„ç±»æˆå‘˜ï¼š</h3></li>
</ul>
<h4 id="1-å¸¸æˆå‘˜å‡½æ•°ï¼š"><a href="#1-å¸¸æˆå‘˜å‡½æ•°ï¼š" class="headerlink" title="1.å¸¸æˆå‘˜å‡½æ•°ï¼š"></a>1.å¸¸æˆå‘˜å‡½æ•°ï¼š</h4><ul>
<li>ä½¿ç”¨<code>const</code>å…³é”®å­—ä¿®é¥°çš„å‡½æ•°ä¸ºå¸¸æˆå‘˜å‡½æ•°ï¼Œå¸¸æˆå‘˜å‡½æ•°å£°æ˜çš„æ ¼å¼ï¼š<code>ç±»å‹è¯´æ˜ç¬¦ å‡½æ•°å ï¼ˆå‚æ•°è¡¨ï¼‰const</code>;</li>
<li>1.constæ˜¯å‡½æ•°ç±»å‹çš„ä¸€ä¸ªç»„æˆéƒ¨åˆ†ï¼Œå› æ­¤åœ¨å‡½æ•°çš„å®šä¹‰éƒ¨åˆ†ä¹Ÿè¦å¸¦constå…³é”®å­—ï¼›</li>
<li>2.å¦‚æœå°†ä¸€ä¸ªå¯¹æˆé‚£ä¸ªè¯´æ˜ä¸ºå¸¸å¯¹è±¡ï¼Œåˆ™é€šè¿‡è¯¥å¸¸å¯¹è±¡ä¹‹èƒ½è°ƒç”¨å®ƒçš„å¸¸æˆå‘˜å‡½æ•°ï¼Œè€Œä¸èƒ½è°ƒç”¨å…¶ä»–æˆå‘˜å‡½æ•°ï¼ˆè¿™å°±æ˜¯c++ä»è¯­æ³•æœºåˆ¶ä¸Šå¯¹å¸¸å¯¹è±¡çš„ä¿æŠ¤ï¼Œä¹Ÿæ˜¯å¸¸å¯¹è±¡å”¯ä¸€çš„å¯¹å¤–æ¥å£æ–¹å¼ï¼‰ï¼›</li>
<li>3.æ— è®ºæ˜¯å¦é€šè¿‡å¸¸å¯¹è±¡è°ƒç”¨å¸¸æˆå‘˜å‡½æ•°ï¼Œåœ¨å¸¸æˆå‘˜å‡½æ•°è°ƒç”¨æœŸé—´ï¼Œç›®çš„å¯¹è±¡éƒ½èƒ½è¢«è§†åŒä¸ºå¸¸å¯¹è±¡ï¼Œå› æ­¤å¸¸æˆå‘˜å‡½æ•°ä¸èƒ½æ›´æ–°ç›®çš„å¯¹è±¡çš„æ•°æ®æˆå‘˜ï¼Œä¹Ÿä¸èƒ½é’ˆå¯¹ç›®çš„å¯¹è±¡è°ƒç”¨è¯¥ç±»ä¸­æ²¡æœ‰ç”¨constä¿®é¥°çš„æˆå‘˜å‡½æ•°ï¼ˆè¿™å°±ä¿è¯äº†å¸¸æˆå‘˜å‡½æ•°ä¸­ä¸ä¼šæ›´æ”¹ç›®çš„å¯¹è±¡çš„æ•°æ®æˆå‘˜çš„å€¼ï¼‰ï¼›</li>
<li>4.constå…³é”®å­—å¯ä»¥ç”¨äºå¯¹é‡è½½å‡½æ•°çš„åŒºåˆ†ï¼š<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">print</span><span class="hljs-params">()</span></span>;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">print</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;<br></code></pre></td></tr></table></figure></li>
<li><strong>å¦‚æœä»…ä»¥constå…³é”®å­—ä¸ºåŒºåˆ†å¯¹æˆå‘˜å‡½æ•°é‡è½½ï¼Œé‚£ä¹ˆé€šè¿‡éconstçš„å¯¹è±¡è°ƒç”¨è¯¥å‡½æ•°ï¼Œä¸¤ä¸ªé‡è½½çš„å‡½æ•°éƒ½å¯ä»¥ä¸ä¹‹åŒ¹é…ï¼Œè¿™æ—¶ç¼–è¯‘å™¨å°†é€‰æ‹©æœ€è¿‘çš„é‡è½½å‡½æ•°â€”ä¸å¸¦constå…³é”®å­—çš„å‡½æ•°ï¼›</strong><h4 id="2-å¸¸æ•°æ®æˆå‘˜ï¼š"><a href="#2-å¸¸æ•°æ®æˆå‘˜ï¼š" class="headerlink" title="2.å¸¸æ•°æ®æˆå‘˜ï¼š"></a>2.å¸¸æ•°æ®æˆå‘˜ï¼š</h4></li>
<li>å¦‚æœåœ¨ä¸€ä¸ªç±»ä¸­è¯´æ˜äº†å¸¸æ•°æ®æˆå‘˜ï¼Œé‚£ä¹ˆä»»ä½•å‡½æ•°ä¸­éƒ½ä¸èƒ½å¯¹è¯¥æˆå‘˜èµ‹å€¼ã€‚æ„é€ å‡½æ•°å¯¹è¯¥æ•°æ®æˆå‘˜è¿›è¡Œåˆå§‹åŒ– ï¼Œå°±åªèƒ½é€šè¿‡åˆå§‹åŒ–åˆ—è¡¨ï¼›<h4 id="3-å¸¸å¼•ç”¨ï¼š"><a href="#3-å¸¸å¼•ç”¨ï¼š" class="headerlink" title="3.å¸¸å¼•ç”¨ï¼š"></a>3.å¸¸å¼•ç”¨ï¼š</h4></li>
<li>å¦‚æœåœ¨å£°æ˜å¼•ç”¨æ—¶ç”¨constä¿®é¥°ï¼Œè¢«å£°æ˜çš„å¼•ç”¨å°±æ˜¯å¸¸å¼•ç”¨ï¼›</li>
<li>å¸¸å¼•ç”¨æ‰€å¼•ç”¨çš„å¯¹è±¡ä¸èƒ½è¢«æ›´æ–°ï¼›</li>
<li>éconstçš„å¼•ç”¨åªèƒ½ç»‘å®šåˆ°ä¸€ä¸ªæ™®é€šçš„å¯¹è±¡ï¼Œè€Œä¸èƒ½ç»‘å®šåˆ°å¸¸å¯¹è±¡ï¼Œä½†å¸¸å¼•ç”¨å¯ä»¥ç»‘å®šåˆ°å¸¸å¯¹è±¡ï¼›</li>
<li>ä¸€ä¸ªå¸¸å¼•ç”¨ï¼Œæ— è®ºæ˜¯ç»‘å®šåˆ°ä¸€ä¸ªæ™®é€šçš„å¯¹è±¡ï¼Œè¿˜æ˜¯å¸¸å¯¹è±¡ï¼Œé€šè¿‡è¯¥å¼•ç”¨è®¿é—®è¯¥å¯¹è±¡æ—¶ï¼Œéƒ½åªèƒ½æŠŠè¯¥å¯¹è±¡å½“ä½œå¸¸å¯¹è±¡ï¼Œå¯¹äºåŸºæœ¬æ•°æ®ç±»å‹çš„å¼•ç”¨ï¼Œåˆ™ä¸èƒ½ä¸ºæ•°æ®èµ‹å€¼å¯¹äºç±»ç±»å‹çš„å¼•ç”¨ï¼Œåˆ™ä¸èƒ½ä¿®æ”¹å®ƒçš„æ•°æ®æˆå‘˜ä»¬ä¹Ÿä¸èƒ½è°ƒç”¨å®ƒçš„éconstçš„æˆå‘˜å‡½æ•°ï¼›</li>
</ul>
<h2 id="å¤šæ–‡ä»¶ç»“æ„å’Œç¼–è¯‘é¢„å¤„ç†å‘½ä»¤"><a href="#å¤šæ–‡ä»¶ç»“æ„å’Œç¼–è¯‘é¢„å¤„ç†å‘½ä»¤" class="headerlink" title="å¤šæ–‡ä»¶ç»“æ„å’Œç¼–è¯‘é¢„å¤„ç†å‘½ä»¤"></a>å¤šæ–‡ä»¶ç»“æ„å’Œç¼–è¯‘é¢„å¤„ç†å‘½ä»¤</h2><h3 id="C-ç¨‹åºçš„ä¸€èˆ¬ç»„ç»‡ç»“æ„"><a href="#C-ç¨‹åºçš„ä¸€èˆ¬ç»„ç»‡ç»“æ„" class="headerlink" title="C++ç¨‹åºçš„ä¸€èˆ¬ç»„ç»‡ç»“æ„"></a>C++ç¨‹åºçš„ä¸€èˆ¬ç»„ç»‡ç»“æ„</h3><ul>
<li>é€šå¸¸ä¸€ä¸ªé¡¹ç›®åŒ…å«ä¸‰ä¸ªæ–‡ä»¶ï¼š<strong>ç±»å®šä¹‰æ–‡ä»¶ï¼ˆ<code>*.hæ–‡ä»¶</code>ï¼‰</strong>ã€<strong>ç±»å®ç°æ–‡ä»¶ï¼ˆ<code>*.cppæ–‡ä»¶</code>ï¼‰</strong>ã€<strong>ç±»çš„ä½¿ç”¨æ–‡ä»¶ï¼ˆ<code>*.cppä¸»å‡½æ•°æ–‡ä»¶</code>ï¼‰</strong>ï¼›<h3 id="å¤–éƒ¨å˜é‡ä¸å¤–éƒ¨å‡½æ•°"><a href="#å¤–éƒ¨å˜é‡ä¸å¤–éƒ¨å‡½æ•°" class="headerlink" title="å¤–éƒ¨å˜é‡ä¸å¤–éƒ¨å‡½æ•°"></a>å¤–éƒ¨å˜é‡ä¸å¤–éƒ¨å‡½æ•°</h3></li>
</ul>
]]></content>
      <tags>
        <tag>ç¬”è®°</tag>
        <tag>c++</tag>
        <tag>ç±»</tag>
        <tag>é¢å‘å¯¹è±¡</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°æ®ç»“æ„-é“¾è¡¨</title>
    <url>/2018/09/18/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E9%93%BE%E8%A1%A8/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p>ä½œä¸ºæ•°æ®ç»“æ„ä¸­çš„å…¥é—¨åŸºç¡€ï¼Œï¼Œè¡¨ååˆ†çš„é‡è¦ï¼Œï¼ŒåŸºæœ¬ä¸Šå¯ä»¥è¯´æ•°æ®ç»“æ„ä¸­å…¶ä»–çš„å¤§éƒ¨åˆ†çš„å®ç°éƒ½æ˜¯åŸºäºé¡ºåºè¡¨çš„ï¼Œï¼Œè€Œ <strong>é“¾è¡¨</strong> åˆ™æ˜¯é¡ºåºè¡¨ä¸­å¾ˆé‡è¦çš„ä¸€ä¸ªä¸œè¥¿ï¼Œï¼Œï¼Œ</p>
<p>ä¹‹å‰åœ¨å­¦ä¹ C/C++æ—¶å°±å·²ç»äº†è§£åˆ°äº†é“¾è¡¨ï¼Œï¼Œï¼Œé‚£æ—¶ç²—ç•¥çš„çœ‹äº†çœ‹ï¼Œï¼Œä»¥ä¸ºè‡ªå·±å¯ä»¥ç†Ÿç»ƒçš„å®ç°ï¼Œï¼Œï¼Œä½†å®é™…æ˜¯ï¼Œï¼Œæˆ‘åªä¼šåŸºäºC++çš„é“¾è¡¨çš„å®ç°ï¼Œï¼Œåœ¨ä½¿ç”¨Cæ¥å®ç°æ—¶æ€»æ˜¯åœ¨æŠ¥é”™ï¼Œï¼Œï¼Œæœ€åå‘ç°æ˜¯è‡ªå·±çš„é€»è¾‘ä¸æ¸…ï¼Œï¼Œå„ä¸ªå‡½æ•°çš„å®ç°ä¸­æŒ‡é’ˆä¹±æŒ‡ï¼Œï¼Œï¼Œæ‰å¯¼è‡´æ€»æ˜¯å‡ºç°å„ç§æŠ¥é”™ï¼Œï¼Œï¼Œ</p>
<span id="more"></span>
<h1 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h1><h2 id="é“¾è¡¨èŠ‚ç‚¹"><a href="#é“¾è¡¨èŠ‚ç‚¹" class="headerlink" title="é“¾è¡¨èŠ‚ç‚¹"></a>é“¾è¡¨èŠ‚ç‚¹</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">int</span> datatype;           <span class="hljs-comment">//è‡ªå®šä¹‰èŠ‚ç‚¹æ‰€å‚¨å­˜çš„æ•°æ®ç±»å‹ï¼Œä¾¿äºä¹‹åçš„æ›´æ”¹</span><br><br><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span></span><br><span class="hljs-class">&#123;</span><br>    datatype key;               <span class="hljs-comment">//èŠ‚ç‚¹æ‰€å‚¨å­˜çš„æ•°æ®</span><br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span> *<span class="hljs-title">next</span>;</span>          <span class="hljs-comment">//å½“å‰èŠ‚ç‚¹æŒ‡å‘ä¸‹ä¸€èŠ‚ç‚¹çš„æŒ‡é’ˆ</span><br>&#125;Node , *List;                  <span class="hljs-comment">//èŠ‚ç‚¹ï¼ŒèŠ‚ç‚¹æŒ‡é’ˆï¼ˆé“¾è¡¨æŒ‡é’ˆï¼‰</span><br><br></code></pre></td></tr></table></figure>
<p>èŠ‚ç‚¹ç»“æ„ä½“å†…å¯ä»¥æ ¹æ®éœ€è¦å¢åŠ æ›´å¤šçš„æ•°æ®ï¼Œï¼Œï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥è®¾ç½®ä¸¤ä¸ªèŠ‚ç‚¹æŒ‡é’ˆï¼Œï¼Œåˆ›å»ºåŒå‘é“¾è¡¨ã€‚ã€‚ã€‚</p>
<h2 id="å»ºç«‹é“¾è¡¨"><a href="#å»ºç«‹é“¾è¡¨" class="headerlink" title="å»ºç«‹é“¾è¡¨"></a>å»ºç«‹é“¾è¡¨</h2><h3 id="å°¾æ’æ³•å»ºç«‹é“¾è¡¨"><a href="#å°¾æ’æ³•å»ºç«‹é“¾è¡¨" class="headerlink" title="å°¾æ’æ³•å»ºç«‹é“¾è¡¨"></a>å°¾æ’æ³•å»ºç«‹é“¾è¡¨</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">List <span class="hljs-title">creat_List</span><span class="hljs-params">(<span class="hljs-keyword">int</span> len)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//å°¾æ’æ³•å®ç°é“¾è¡¨çš„å»ºç«‹</span><br>    Node *pre;              <span class="hljs-comment">//å‰ä¸€èŠ‚ç‚¹</span><br>    List L = <span class="hljs-literal">NULL</span>;          <span class="hljs-comment">//é“¾è¡¨æŒ‡é’ˆ</span><br>    List head;              <span class="hljs-comment">//å¤´èŠ‚ç‚¹</span><br><br>    head = (List)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(Node));<br>    head-&gt;next = <span class="hljs-literal">NULL</span>;<br>    pre = head;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= len; i++)<br>    &#123;<br>        datatype t;<br>        <span class="hljs-comment">//cin &gt;&gt; t;</span><br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;t);<br>        L = (List)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(Node));<br><br>        L-&gt;key = t;<br><br>        pre-&gt;next = L;<br>        pre = L;<br>    &#125;<br>    L-&gt;next = <span class="hljs-literal">NULL</span>;<br><br>    <span class="hljs-keyword">return</span> head;<br>    <span class="hljs-comment">//display_list(L);</span><br>&#125;<br></code></pre></td></tr></table></figure>
<p>å­¦æ ¡å‘çš„ä¹¦ä¸Šçš„æ–¹æ³•ç¼–è¯‘é”™è¯¯ï¼Œï¼Œï¼Œæœ€åæˆ‘é€‰æ‹©äº†è¿™ç§è¿”å›å¤´èŠ‚ç‚¹çš„æŒ‡é’ˆçš„æ–¹æ³•ï¼Œ</p>
<h3 id="å¤´æ’æ³•å»ºç«‹é“¾è¡¨"><a href="#å¤´æ’æ³•å»ºç«‹é“¾è¡¨" class="headerlink" title="å¤´æ’æ³•å»ºç«‹é“¾è¡¨"></a>å¤´æ’æ³•å»ºç«‹é“¾è¡¨</h3><p>å’Œå°¾æ’æ³•ç›¸ä¼¼ï¼Œï¼Œæ”¹ä¸€ä¸‹æŒ‡é’ˆå°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
<h2 id="æ’å…¥ä¸€ä¸ªèŠ‚ç‚¹"><a href="#æ’å…¥ä¸€ä¸ªèŠ‚ç‚¹" class="headerlink" title="æ’å…¥ä¸€ä¸ªèŠ‚ç‚¹"></a>æ’å…¥ä¸€ä¸ªèŠ‚ç‚¹</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">insert_List</span><span class="hljs-params">(List L , <span class="hljs-keyword">int</span> i , datatype k)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//åœ¨é“¾è¡¨çš„ç¬¬iä¸ªä½ç½®æ’å…¥æ•°æ®ä¸ºkçš„ç»“ç‚¹</span><br>    List p , s;                         <span class="hljs-comment">//sä¸ºè¦æ’å…¥çš„èŠ‚ç‚¹</span><br>    p = L;<br>    <span class="hljs-comment">//æ‰¾åˆ°ç¬¬i-1ä¸ªä½ç½®çš„èŠ‚ç‚¹</span><br>    <span class="hljs-keyword">if</span> (i - <span class="hljs-number">1</span>)                          <span class="hljs-comment">//è‹¥è¦åœ¨ä¸æ˜¯ç¬¬ä¸€ä¸ªä½ç½®å¤„æ’å…¥ï¼Œéå†åˆ°ç¬¬i-1èŠ‚ç‚¹å¤„</span><br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= i - <span class="hljs-number">1</span>; j++)<br>        &#123;<br>            p = p-&gt;next;<br>            <span class="hljs-keyword">if</span> (p == <span class="hljs-literal">NULL</span>)<br>                <span class="hljs-keyword">return</span>;<br>        &#125;<br><br>    &#125;<br><br>    s = (Node *)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(Node));   <span class="hljs-comment">//ä¸ºæ–°èŠ‚ç‚¹ç”³è¯·ç©ºé—´</span><br>    s-&gt;key = k;                         <span class="hljs-comment">//èµ‹å€¼</span><br>    s-&gt;next = p-&gt;next;                  <span class="hljs-comment">//æŒ‡å‘ä¸‹ä¸€èŠ‚ç‚¹ï¼ŒåŠæ’å…¥é“¾è¡¨</span><br>    p-&gt;next = s;                        <span class="hljs-comment">//ä¸Šä¸€èŠ‚ç‚¹æŒ‡å‘æ–°å»ºçš„èŠ‚ç‚¹</span><br>    <span class="hljs-keyword">return</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="åˆ é™¤ä¸€ä¸ªèŠ‚ç‚¹"><a href="#åˆ é™¤ä¸€ä¸ªèŠ‚ç‚¹" class="headerlink" title="åˆ é™¤ä¸€ä¸ªèŠ‚ç‚¹"></a>åˆ é™¤ä¸€ä¸ªèŠ‚ç‚¹</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">delete_List</span><span class="hljs-params">(List L , <span class="hljs-keyword">int</span> i <span class="hljs-comment">/*datatype &amp;x*/</span>)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//åˆ é™¤é“¾è¡¨ä¸­çš„ç¬¬iä¸ªèŠ‚ç‚¹</span><br>    List pre , cur;                     <span class="hljs-comment">//preä¸ºå‰ä¸€èŠ‚ç‚¹,curä¸ºè¦åˆ é™¤çš„èŠ‚ç‚¹</span><br>    pre = L;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= i - <span class="hljs-number">1</span>; j++)    <span class="hljs-comment">//éå†åˆ°ç¬¬i-1ä¸ªèŠ‚ç‚¹</span><br>    &#123;<br>        pre = pre-&gt;next;<br>        <span class="hljs-keyword">if</span> (pre == <span class="hljs-literal">NULL</span>)<br>            <span class="hljs-keyword">return</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">if</span> (pre-&gt;next == <span class="hljs-literal">NULL</span>)              <span class="hljs-comment">//è‹¥æ­¤æ—¶ä¸ºå°¾èŠ‚ç‚¹ï¼Œåˆ™æ— æ³•åˆ é™¤ç¬¬iä¸ªèŠ‚ç‚¹</span><br>        <span class="hljs-keyword">return</span>;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        cur = pre-&gt;next;<br>        pre-&gt;next = cur-&gt;next;<br>        <span class="hljs-built_in">free</span>(cur);                      <span class="hljs-comment">//åˆ é™¤èŠ‚ç‚¹å¹¶é‡Šæ”¾ç©ºé—´</span><br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="æ˜¾ç¤ºé“¾è¡¨ä¸­çš„æ•°æ®"><a href="#æ˜¾ç¤ºé“¾è¡¨ä¸­çš„æ•°æ®" class="headerlink" title="æ˜¾ç¤ºé“¾è¡¨ä¸­çš„æ•°æ®"></a>æ˜¾ç¤ºé“¾è¡¨ä¸­çš„æ•°æ®</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">display_list</span><span class="hljs-params">(List L)</span>       <span class="hljs-comment">//è¾“å‡ºé“¾è¡¨æ‰€å‚¨å­˜çš„æ‰€æœ‰æ•°æ®</span></span><br><span class="hljs-function"></span>&#123;<br>    List p = L;                 <span class="hljs-comment">//å®šä¹‰é“¾è¡¨çš„æŒ‡é’ˆï¼Œç”¨äºéå†è¯¥é“¾è¡¨</span><br>    <span class="hljs-keyword">if</span> (p-&gt;next)<br>    &#123;<br>        <span class="hljs-comment">//cout &lt;&lt; p-&gt;key;</span><br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span> , p-&gt;next-&gt;key);<br>        p = p-&gt;next;<br>    &#125;<br>    <span class="hljs-keyword">while</span> (p-&gt;next)<br>    &#123;<br>        <span class="hljs-comment">//cout &lt;&lt; &quot; &quot; &lt;&lt; p-&gt;key;</span><br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; %d&quot;</span> , p-&gt;next-&gt;key);<br>        p = p-&gt;next;<br>    &#125;<br>    <span class="hljs-comment">//cout &lt;&lt; endl;</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>&#125;<br><br></code></pre></td></tr></table></figure>
<h1 id="å®ä¾‹"><a href="#å®ä¾‹" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h1><h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><figure class="highlight dns"><table><tr><td class="code"><pre><code class="hljs dns">å‡è®¾åˆ©ç”¨ä¸¤ä¸ªçº¿æ€§è¡¨LAå’ŒLBåˆ†åˆ«è¡¨ç¤ºä¸¤ä¸ªé›†åˆ<span class="hljs-keyword">A</span>å’ŒBï¼ˆå³ï¼šçº¿æ€§è¡¨ä¸­çš„æ•°æ®å…ƒç´ å³ä¸ºé›†åˆä¸­çš„æˆå‘˜ï¼‰ï¼Œ<br>ç°è¦æ±‚ä¸€ä¸ªæ–°çš„é›†åˆ<span class="hljs-keyword">A</span>=<span class="hljs-keyword">A</span>âˆªBã€‚è¿™å°±è¦æ±‚å¯¹çº¿æ€§è¡¨åšå¦‚ä¸‹æ“ä½œï¼šæ‰©å¤§çº¿æ€§è¡¨LAï¼Œ<br>å°†å­˜åœ¨äºçº¿æ€§è¡¨LBä¸­è€Œä¸å­˜åœ¨äºçº¿æ€§è¡¨LAä¸­çš„æ•°æ®å…ƒç´ æ’å…¥åˆ°çº¿æ€§è¡¨LAä¸­å»ã€‚<br>åªè¦ä»çº¿æ€§è¡¨LBä¸­ä¾æ¬¡å–å¾—æ¯ä¸ªå…ƒç´ ï¼Œå¹¶ä¾å€¼åœ¨çº¿æ€§è¡¨LAä¸­è¿›è¡ŒæŸ¥è®¿ï¼Œ<br>è‹¥ä¸å­˜åœ¨ï¼Œåˆ™æ’å…¥ä¹‹ã€‚ä¸Šè¿°æ“ä½œè¿‡ç¨‹å¯ç”¨ä¸‹åˆ—ç®—æ³•æè¿°ä¹‹ã€‚<br><br>å›¾ï¼šå°†ä¸¤ä¸ªåˆ—è¡¨åˆå¹¶çš„ç®—æ³•ï¼ˆC/C++æè¿°ï¼‰<br>ä¸Šå›¾ç®—æ³•ä¸­ï¼Œåœ¨ç¬¬<span class="hljs-number">8</span>è¡Œå–å¾—é›†åˆBä¸­çš„å…ƒç´ ï¼Œç„¶åå†åœ¨ç¬¬<span class="hljs-number">10</span>è¡Œæ’å…¥åˆ°é›†åˆ<span class="hljs-keyword">A</span>ä¸­ã€‚<br>ä½ çš„ä»»åŠ¡æ˜¯å…ˆè¾“å‡ºé›†åˆ<span class="hljs-keyword">A</span>å’Œé›†åˆBä¸­çš„å…ƒç´ ï¼Œæ¯ä¸ªé›†åˆåœ¨ä¸€è¡Œä¸­è¾“å‡ºã€‚<br>ç„¶åæ¯æ¬¡åœ¨å°†é›†åˆBä¸­çš„å…ƒç´ å–å‡ºæ’å…¥åˆ°é›†åˆ<span class="hljs-keyword">A</span>å°¾éƒ¨åè¾“å‡ºé›†åˆ<span class="hljs-keyword">A</span>ä¸­çš„å…ƒç´ ã€‚<br>å½“ç„¶ä½ çš„ä»£ç å¯ä»¥å’Œä¸Šé¢çš„ä»£ç ä¸ä¸€æ ·ï¼Œåªè¦æœ‰ç›¸åŒçš„è¾“å‡ºå³å¯ã€‚<br></code></pre></td></tr></table></figure>
<h2 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h2><figure class="highlight excel"><table><tr><td class="code"><pre><code class="hljs excel">æœ‰å¤šç»„æµ‹è¯•æ•°æ®ï¼Œæ¯ç»„æµ‹è¯•æ•°æ®å ä¸¤è¡Œã€‚ç¬¬ä¸€è¡Œæ˜¯é›†åˆAï¼Œ<br>ç¬¬ä¸€ä¸ªæ•´æ•°mï¼ˆ<span class="hljs-number">0</span>&lt; m &lt; = <span class="hljs-number">100</span>ï¼‰ä»£è¡¨é›†åˆAèµ·å§‹æœ‰mä¸ªå…ƒç´ ï¼Œåé¢æœ‰mä¸ªæ•´æ•°ï¼Œä»£è¡¨Aä¸­çš„å…ƒç´ ã€‚<br>ç¬¬äºŒè¡Œæ˜¯é›†åˆBï¼Œç¬¬ä¸€ä¸ªæ•´æ•°<span class="hljs-built_in">n</span>(<span class="hljs-comment">0 &lt; n &lt; = 100</span>)ä»£è¡¨é›†åˆBèµ·å§‹æœ‰<span class="hljs-built_in">n</span>ä¸ªå…ƒç´ ï¼Œ<br>åé¢æœ‰<span class="hljs-built_in">n</span>ä¸ªæ•´æ•°ï¼Œä»£è¡¨Bä¸­çš„å…ƒç´ ã€‚æ¯è¡Œä¸­æ•´æ•°ä¹‹é—´ç”¨ä¸€ä¸ªç©ºæ ¼éš”å¼€ã€‚<br></code></pre></td></tr></table></figure>
<h2 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h2><figure class="highlight css"><table><tr><td class="code"><pre><code class="hljs css">æ¯ç»„æµ‹è¯•æ•°æ®è¾“å‡ºn+<span class="hljs-number">2</span>è¡Œï¼šå‰ä¸¤è¡Œåˆ†åˆ«è¾“å‡ºé›†åˆ<span class="hljs-selector-tag">A</span>ã€é›†åˆ<span class="hljs-selector-tag">B</span>ä¸­çš„æ•°æ®ï¼Œ<br>åé¢nè¡Œæ˜¯æ¯æ¬¡ä»<span class="hljs-selector-tag">B</span>ä¸­å–å‡ºå…ƒç´ æ’å…¥åˆ°<span class="hljs-selector-tag">A</span>å°¾éƒ¨åçš„é›†åˆ<span class="hljs-selector-tag">A</span>ã€‚<br>æ¯è¡Œæ•´æ•°ä¹‹é—´ç”¨ä¸€ä¸ªç©ºæ ¼éš”å¼€ï¼Œæ¯ç»„æµ‹è¯•æ•°æ®ä¹‹é—´ç”¨ä¸€è¡Œç©ºè¡Œéš”å¼€ã€‚<br></code></pre></td></tr></table></figure>
<h2 id="IO"><a href="#IO" class="headerlink" title="IO"></a>IO</h2><figure class="highlight apache"><table><tr><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">Sample</span> Input<br><br><span class="hljs-attribute">5</span> <span class="hljs-number">1</span> <span class="hljs-number">5</span> <span class="hljs-number">2</span> <span class="hljs-number">6</span> <span class="hljs-number">3</span><br><span class="hljs-attribute">3</span> <span class="hljs-number">1</span> <span class="hljs-number">7</span> <span class="hljs-number">9</span><br><span class="hljs-attribute">1</span> <span class="hljs-number">3</span><br><span class="hljs-attribute">2</span> <span class="hljs-number">2</span> <span class="hljs-number">7</span><br><span class="hljs-attribute">4</span> <span class="hljs-number">2</span> <span class="hljs-number">5</span> <span class="hljs-number">1</span> <span class="hljs-number">4</span><br><span class="hljs-attribute">4</span> <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">4</span> <span class="hljs-number">5</span><br><br><span class="hljs-attribute">Sample</span> Output<br><br><span class="hljs-attribute">1</span> <span class="hljs-number">5</span> <span class="hljs-number">2</span> <span class="hljs-number">6</span> <span class="hljs-number">3</span><br><span class="hljs-attribute">1</span> <span class="hljs-number">7</span> <span class="hljs-number">9</span><br><span class="hljs-attribute">1</span> <span class="hljs-number">5</span> <span class="hljs-number">2</span> <span class="hljs-number">6</span> <span class="hljs-number">3</span><br><span class="hljs-attribute">1</span> <span class="hljs-number">5</span> <span class="hljs-number">2</span> <span class="hljs-number">6</span> <span class="hljs-number">3</span> <span class="hljs-number">7</span><br><span class="hljs-attribute">1</span> <span class="hljs-number">5</span> <span class="hljs-number">2</span> <span class="hljs-number">6</span> <span class="hljs-number">3</span> <span class="hljs-number">7</span> <span class="hljs-number">9</span><br><br><span class="hljs-attribute">3</span><br><span class="hljs-attribute">2</span> <span class="hljs-number">7</span><br><span class="hljs-attribute">3</span> <span class="hljs-number">2</span><br><span class="hljs-attribute">3</span> <span class="hljs-number">2</span> <span class="hljs-number">7</span><br><br><span class="hljs-attribute">2</span> <span class="hljs-number">5</span> <span class="hljs-number">1</span> <span class="hljs-number">4</span><br><span class="hljs-attribute">1</span> <span class="hljs-number">2</span> <span class="hljs-number">4</span> <span class="hljs-number">5</span><br><span class="hljs-attribute">2</span> <span class="hljs-number">5</span> <span class="hljs-number">1</span> <span class="hljs-number">4</span><br><span class="hljs-attribute">2</span> <span class="hljs-number">5</span> <span class="hljs-number">1</span> <span class="hljs-number">4</span><br><span class="hljs-attribute">2</span> <span class="hljs-number">5</span> <span class="hljs-number">1</span> <span class="hljs-number">4</span><br><span class="hljs-attribute">2</span> <span class="hljs-number">5</span> <span class="hljs-number">1</span> <span class="hljs-number">4</span><br></code></pre></td></tr></table></figure>
<p>æˆ‘çš„ä»£ç :</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdlib.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;malloc.h&gt;</span></span><br><span class="hljs-comment">//const int maxn = 105;</span><br><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">int</span> datatype;           <span class="hljs-comment">//è‡ªå®šä¹‰èŠ‚ç‚¹æ‰€å‚¨å­˜çš„æ•°æ®ç±»å‹ï¼Œä¾¿äºä¹‹åçš„æ›´æ”¹</span><br><br><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span></span><br><span class="hljs-class">&#123;</span><br>    datatype key;               <span class="hljs-comment">//èŠ‚ç‚¹æ‰€å‚¨å­˜çš„æ•°æ®</span><br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span> *<span class="hljs-title">next</span>;</span>          <span class="hljs-comment">//å½“å‰èŠ‚ç‚¹æŒ‡å‘ä¸‹ä¸€èŠ‚ç‚¹çš„æŒ‡é’ˆ</span><br>    <span class="hljs-comment">//Node(datatype x):key(x) , next(NULL)&#123;&#125;</span><br>&#125;Node , *List;                  <span class="hljs-comment">//èŠ‚ç‚¹ï¼ŒèŠ‚ç‚¹æŒ‡é’ˆï¼ˆé“¾è¡¨æŒ‡é’ˆï¼‰</span><br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">display_list</span><span class="hljs-params">(List L)</span>       <span class="hljs-comment">//è¾“å‡ºé“¾è¡¨æ‰€å‚¨å­˜çš„æ‰€æœ‰æ•°æ®</span></span><br><span class="hljs-function"></span>&#123;<br>    List p = L;                 <span class="hljs-comment">//å®šä¹‰é“¾è¡¨çš„æŒ‡é’ˆï¼Œç”¨äºéå†è¯¥é“¾è¡¨</span><br>    <span class="hljs-keyword">if</span> (p-&gt;next)<br>    &#123;<br>        <span class="hljs-comment">//cout &lt;&lt; p-&gt;key;</span><br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span> , p-&gt;next-&gt;key);<br>        p = p-&gt;next;<br>    &#125;<br>    <span class="hljs-keyword">while</span> (p-&gt;next)<br>    &#123;<br>        <span class="hljs-comment">//cout &lt;&lt; &quot; &quot; &lt;&lt; p-&gt;key;</span><br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; %d&quot;</span> , p-&gt;next-&gt;key);<br>        p = p-&gt;next;<br>    &#125;<br>    <span class="hljs-comment">//cout &lt;&lt; endl;</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">search_List</span><span class="hljs-params">(List L , datatype k)</span>    <span class="hljs-comment">//æœç´¢å€¼ä¸ºkçš„èŠ‚ç‚¹åœ¨é“¾è¡¨ä¸­çš„ä½ç½®ï¼Œè¿”å›æ‰€åœ¨çš„ä½ç½®loc</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//æŸ¥æ‰¾é“¾è¡¨ä¸­å€¼ä¸ºkçš„èŠ‚ç‚¹çš„ä½ç½®</span><br>    List p = L-&gt;next;<br>    <span class="hljs-keyword">int</span> loc = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span> (p != <span class="hljs-literal">NULL</span> &amp;&amp; p-&gt;key != k)<br>    &#123;<br>        p = p-&gt;next;<br>        loc++;<br>    &#125;<br>    <span class="hljs-keyword">if</span> (p != <span class="hljs-literal">NULL</span>)<br>        <span class="hljs-keyword">return</span> loc;<br>    <span class="hljs-keyword">else</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;                       <span class="hljs-comment">//æ²¡æœ‰æ‰¾åˆ°è¿”å›å€¼0</span><br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">insert_List</span><span class="hljs-params">(List L , <span class="hljs-keyword">int</span> i , datatype k)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//åœ¨é“¾è¡¨çš„ç¬¬iä¸ªä½ç½®æ’å…¥æ•°æ®ä¸ºkçš„ç»“ç‚¹</span><br>    List p , s;                         <span class="hljs-comment">//sä¸ºè¦æ’å…¥çš„èŠ‚ç‚¹</span><br>    p = L;<br>    <span class="hljs-comment">//æ‰¾åˆ°ç¬¬i-1ä¸ªä½ç½®çš„èŠ‚ç‚¹</span><br>    <span class="hljs-keyword">if</span> (i - <span class="hljs-number">1</span>)                          <span class="hljs-comment">//è‹¥è¦åœ¨ä¸æ˜¯ç¬¬ä¸€ä¸ªä½ç½®å¤„æ’å…¥ï¼Œéå†åˆ°ç¬¬i-1èŠ‚ç‚¹å¤„</span><br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= i - <span class="hljs-number">1</span>; j++)<br>        &#123;<br>            p = p-&gt;next;<br>            <span class="hljs-keyword">if</span> (p == <span class="hljs-literal">NULL</span>)<br>                <span class="hljs-keyword">return</span>;<br>        &#125;<br><br>    &#125;<br><br>    s = (Node *)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(Node));   <span class="hljs-comment">//ä¸ºæ–°èŠ‚ç‚¹ç”³è¯·ç©ºé—´</span><br>    s-&gt;key = k;                         <span class="hljs-comment">//èµ‹å€¼</span><br>    s-&gt;next = p-&gt;next;                  <span class="hljs-comment">//æŒ‡å‘ä¸‹ä¸€èŠ‚ç‚¹ï¼ŒåŠæ’å…¥é“¾è¡¨</span><br>    p-&gt;next = s;                        <span class="hljs-comment">//ä¸Šä¸€èŠ‚ç‚¹æŒ‡å‘æ–°å»ºçš„èŠ‚ç‚¹</span><br>    <span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">delete_List</span><span class="hljs-params">(List L , <span class="hljs-keyword">int</span> i <span class="hljs-comment">/*datatype &amp;x*/</span>)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//åˆ é™¤é“¾è¡¨ä¸­çš„ç¬¬iä¸ªèŠ‚ç‚¹</span><br>    List pre , cur;                     <span class="hljs-comment">//preä¸ºå‰ä¸€èŠ‚ç‚¹,curä¸ºè¦åˆ é™¤çš„èŠ‚ç‚¹</span><br>    pre = L;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= i - <span class="hljs-number">1</span>; j++)    <span class="hljs-comment">//éå†åˆ°ç¬¬i-1ä¸ªèŠ‚ç‚¹</span><br>    &#123;<br>        pre = pre-&gt;next;<br>        <span class="hljs-keyword">if</span> (pre == <span class="hljs-literal">NULL</span>)<br>            <span class="hljs-keyword">return</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">if</span> (pre-&gt;next == <span class="hljs-literal">NULL</span>)              <span class="hljs-comment">//è‹¥æ­¤æ—¶ä¸ºå°¾èŠ‚ç‚¹ï¼Œåˆ™æ— æ³•åˆ é™¤ç¬¬iä¸ªèŠ‚ç‚¹</span><br>        <span class="hljs-keyword">return</span>;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        cur = pre-&gt;next;<br>        pre-&gt;next = cur-&gt;next;<br>        <span class="hljs-built_in">free</span>(cur);                      <span class="hljs-comment">//åˆ é™¤èŠ‚ç‚¹å¹¶é‡Šæ”¾ç©ºé—´</span><br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>&#125;<br><span class="hljs-function">List <span class="hljs-title">creat_List</span><span class="hljs-params">(<span class="hljs-keyword">int</span> len)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//å°¾æ’æ³•å®ç°é“¾è¡¨çš„å»ºç«‹</span><br>    Node *pre;              <span class="hljs-comment">//å‰ä¸€èŠ‚ç‚¹</span><br>    List L = <span class="hljs-literal">NULL</span>;          <span class="hljs-comment">//é“¾è¡¨æŒ‡é’ˆ</span><br>    List head;              <span class="hljs-comment">//å¤´èŠ‚ç‚¹</span><br><br>    head = (List)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(Node));<br>    head-&gt;next = <span class="hljs-literal">NULL</span>;<br>    pre = head;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= len; i++)<br>    &#123;<br>        datatype t;<br>        <span class="hljs-comment">//cin &gt;&gt; t;</span><br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;t);<br>        L = (List)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(Node));<br><br>        L-&gt;key = t;<br><br>        pre-&gt;next = L;<br>        pre = L;<br>    &#125;<br>    L-&gt;next = <span class="hljs-literal">NULL</span>;<br><br>    <span class="hljs-keyword">return</span> head;<br>    <span class="hljs-comment">//display_list(L);</span><br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> m , n;<br>    List LA;<br>    List LB;<br>    <span class="hljs-keyword">int</span> flag = <span class="hljs-number">1</span>;<br><span class="hljs-comment">//    freopen(&quot;233.txt&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;emmm.txt&quot; , &quot;w&quot; , stdout);</span><br>    <span class="hljs-keyword">while</span> (<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;m) != EOF)<br>    &#123;<br>        <span class="hljs-keyword">if</span> (flag)<br>            flag = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">else</span><br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br><span class="hljs-comment">//            cout &lt;&lt; endl;</span><br><br>        LA = creat_List(m);<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;n);<br>        LB = creat_List(n);<br><br>        display_list(LA);<br>        display_list(LB);<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>        &#123;<br>            datatype t = LB-&gt;next-&gt;key;<br>            <span class="hljs-keyword">int</span> p = search_List(LA , t);<br><span class="hljs-comment">//            printf(&quot;lb---%d\n&quot; , t);</span><br><span class="hljs-comment">//            printf(&quot;p---%d\n&quot; , p);</span><br>            <span class="hljs-keyword">if</span> (!p)<br>            &#123;<br><br>                m++;<br>                insert_List(LA , m , t);<br>                delete_List(LB , <span class="hljs-number">1</span>);<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                delete_List(LB , <span class="hljs-number">1</span>);<br>            &#125;<br>            display_list(LA);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
      <tags>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>é“¾è¡¨</tag>
        <tag>c/c++</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°è®º_å¿«é€Ÿå¹‚</title>
    <url>/2018/07/16/%E6%95%B0%E8%AE%BA_%E5%BF%AB%E9%80%9F%E5%B9%82/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>2018.7.16</p>
<p>è¿™ç¯‡ä¸»è¦æ˜¯å…³äºæ•°è®ºé‡Œçš„å¿«é€Ÿå¹‚å’ŒçŸ©é˜µçš„å¿«é€Ÿä¹˜æ³•ï¼Œï¼Œï¼Œ</p>
<h2 id="å¿«é€Ÿå¹‚å’Œå¿«é€Ÿä¹˜"><a href="#å¿«é€Ÿå¹‚å’Œå¿«é€Ÿä¹˜" class="headerlink" title="å¿«é€Ÿå¹‚å’Œå¿«é€Ÿä¹˜"></a>å¿«é€Ÿå¹‚å’Œå¿«é€Ÿä¹˜</h2><p>å¯¹äºa^nè¿™æ ·çš„è®¡ç®—ï¼Œï¼Œæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯ä¸€ä¸ªforå¾ªç¯è¿ä¹˜ä¸‹å»ï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-function">ll <span class="hljs-title">pow</span> <span class="hljs-params">(ll a , ll b)</span></span><br><span class="hljs-function"></span>&#123;<br>    ll ans = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= b; i++)<br>        ans *= a;<br>    <span class="hljs-keyword">return</span> ans;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>ä½†æ˜¯å¦‚æœa,néƒ½å¾ˆå¤§ï¼Œï¼Œå°¤å…¶æ˜¯æŸäº›é¢˜ï¼Œï¼Œï¼Œè¶…æ—¶ï¼Œï¼Œå¦¥å¦¥çš„ï¼Œï¼Œ(^_ã£^)</p>
<span id="more"></span>
<ul>
<li>æ‰€ä»¥ï¼Œå¯¹äºè¿™ç§æƒ…å†µå¯ä»¥ä½¿ç”¨å¿«é€Ÿå¹‚çš„æ–¹æ³•æ¥è®¡ç®—ï¼Œï¼Œï¼Œ</li>
<li>é¦–å…ˆï¼Œå¿«é€Ÿå¹‚çš„ä¸»è¦æ€æƒ³æ˜¯å°†å¤šä¸ªaåˆå¹¶ï¼Œï¼Œæ¯”å¦‚ï¼š</li>
</ul>
<figure class="highlight asciidoc"><table><tr><td class="code"><pre><code class="hljs asciidoc">2^11 <br><span class="hljs-section">== 2 * 2 * 2 * 2 * 2 * 2 * 2 * 2 * 2 * 2 * 2 </span><br><span class="hljs-section">== (2 * 2) * (2 * 2) * (2 * 2) * (2 * 2) * (2 * 2) * 2 </span><br><span class="hljs-section">== 4 * 4 * 4 * 4 * 4 * 2 </span><br><span class="hljs-section">== (4 * 4) * (4 * 4) * 4 * 2 </span><br><span class="hljs-section">== 16 * 16 * 4 * 2 ...</span><br></code></pre></td></tr></table></figure>
<p>è¿™æ ·å°±å°±æŠŠ10æ¬¡çš„ä¹˜æ³•æ“ä½œå‡å°‘åˆ°äº†5æ¬¡ï¼Œï¼Œï¼Œè¿™æ ·å°±å‡å°‘çš„è¿ç®—çš„æ—¶é—´ï¼Œï¼Œï¼Œå°± <strong>æœ‰å¯èƒ½</strong>ä¸ä¼šTLEï¼Œï¼Œ (å› ä¸ºæœ‰çš„é¢˜çš„æ•°æ®å¯èƒ½å¿«é€Ÿå¹‚ä¹Ÿä¼šè¶…æ—¶ï¼Œï¼Œï¼Œ<em>(:3 ã€âˆ  )</em>)</p>
<h2 id="å¿«é€Ÿå¹‚çš„æ¨¡æ¿ï¼š"><a href="#å¿«é€Ÿå¹‚çš„æ¨¡æ¿ï¼š" class="headerlink" title="å¿«é€Ÿå¹‚çš„æ¨¡æ¿ï¼š"></a><strong>å¿«é€Ÿå¹‚çš„æ¨¡æ¿ï¼š</strong></h2><h3 id="é€’æ¨çš„å†™æ³•ï¼ˆç”¨å¾ªç¯è§£å†³ï¼‰"><a href="#é€’æ¨çš„å†™æ³•ï¼ˆç”¨å¾ªç¯è§£å†³ï¼‰" class="headerlink" title="é€’æ¨çš„å†™æ³•ï¼ˆç”¨å¾ªç¯è§£å†³ï¼‰"></a><strong>é€’æ¨çš„å†™æ³•ï¼ˆç”¨å¾ªç¯è§£å†³ï¼‰</strong></h3><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> MOD = <span class="hljs-number">1e9</span>;<br><span class="hljs-function">ll <span class="hljs-title">pow</span> <span class="hljs-params">(ll a , ll b)</span></span><br><span class="hljs-function"></span>&#123;<br>    ll ans = <span class="hljs-number">1</span>;     <span class="hljs-comment">//æ³¨æ„æ˜¯1ï¼Œï¼Œï¼Œä¸‹é¢çš„å¿«ä¹˜æ˜¯0ï¼Œï¼Œ</span><br>    <span class="hljs-keyword">while</span> (b)<br>    &#123;<br>        <span class="hljs-keyword">if</span> (b &amp; <span class="hljs-number">1</span>)  ans = ans * a % MOD;    <span class="hljs-comment">//å¦‚æœb,ä¹Ÿå°±æ˜¯å½“å‰æŒ‡æ•°æ˜¯å¥‡æ•°æ—¶ï¼Œè¦ç»™ansè¡¥ä¸€ä¸ªaï¼Œï¼Œå› ä¸ºä¸‹é¢bä¼šå‡åŠ</span><br>        a = a * a % MOD;                    <span class="hljs-comment">//åˆå¹¶ä¸¤ä¸ªaï¼Œå˜æˆa^2</span><br>        b /= <span class="hljs-number">2</span>;                             <span class="hljs-comment">//bå‡åŠ</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="é€’å½’çš„å†™æ³•ï¼ˆç”¨å‡½æ•°é€’å½’è§£å†³ï¼‰"><a href="#é€’å½’çš„å†™æ³•ï¼ˆç”¨å‡½æ•°é€’å½’è§£å†³ï¼‰" class="headerlink" title="é€’å½’çš„å†™æ³•ï¼ˆç”¨å‡½æ•°é€’å½’è§£å†³ï¼‰"></a><strong>é€’å½’çš„å†™æ³•ï¼ˆç”¨å‡½æ•°é€’å½’è§£å†³ï¼‰</strong></h3><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> MOD = <span class="hljs-number">1e9</span>;<br><span class="hljs-function">ll <span class="hljs-title">pow</span> <span class="hljs-params">(ll a , ll b)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (b == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    ll ans = <span class="hljs-built_in">pow</span> (a , b / <span class="hljs-number">2</span>);<br>    ans = ans * ans % MOD;<br>    <span class="hljs-keyword">if</span> (b &amp; <span class="hljs-number">1</span>)  ans = ans * a % MOD;<br>    <span class="hljs-keyword">return</span> ans;<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="ç”¨ä½æ“ä½œçš„å†™æ³•"><a href="#ç”¨ä½æ“ä½œçš„å†™æ³•" class="headerlink" title="ç”¨ä½æ“ä½œçš„å†™æ³•"></a><strong>ç”¨ä½æ“ä½œçš„å†™æ³•</strong></h3><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> MOD = <span class="hljs-number">1e9</span>;<br><span class="hljs-function">ll <span class="hljs-title">pow</span> <span class="hljs-params">(ll a , ll b)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">while</span> (b)<br>    &#123;<br>        <span class="hljs-keyword">if</span> (b &amp; <span class="hljs-number">1</span>)  ans = ans * a % MOD;<br>         a = a * a % MOD;<br>         b &gt;&gt;= <span class="hljs-number">1</span>;                           <span class="hljs-comment">//bå³ç§»ç›¸å½“äºé™¤ä»¥äºŒ</span><br>    &#125;<br>    <span class="hljs-keyword">return</span> ans;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>åœ¨æŸäº›æ¨¡æ¿é‡Œaç”¨çš„res,,bç”¨çš„n</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> MOD = <span class="hljs-number">1e9</span>;<br><span class="hljs-function">ll <span class="hljs-title">pow</span> <span class="hljs-params">(ll x , ll n)</span></span><br><span class="hljs-function"></span>&#123;<br>    ll res = x;<br>    ll ans = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span> (n)<br>    &#123;<br>        <span class="hljs-keyword">if</span> (n &amp; <span class="hljs-number">1</span>)  ans = ans * res % MOD;<br>         res = res * res % MOD;<br>         n &gt;&gt;= <span class="hljs-number">1</span>;                           <span class="hljs-comment">//bå³ç§»ç›¸å½“äºé™¤ä»¥äºŒ</span><br>    &#125;<br>    <span class="hljs-keyword">return</span> ans;<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="å¿«é€Ÿä¹˜"><a href="#å¿«é€Ÿä¹˜" class="headerlink" title="å¿«é€Ÿä¹˜"></a><strong>å¿«é€Ÿä¹˜</strong></h3><p> æœ‰äº†å¿«é€Ÿå¹‚å°±æœ‰äº† <strong>å¿«é€Ÿä¹˜</strong>ï¼Œåªè¦æŠŠä¹˜è¯¥æˆåŠ å°±OKå•¦ï¼Œï¼Œï¼Œ(ã‚âˆ€ï½¥)<br><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> MOD = <span class="hljs-number">1e9</span>;<br><span class="hljs-function">ll <span class="hljs-title">mul</span> <span class="hljs-params">(ll x , ll n)</span></span><br><span class="hljs-function"></span>&#123;<br>    ll res = x;<br>    ll ans = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span> (n)<br>    &#123;<br>        <span class="hljs-keyword">if</span> (n &amp; <span class="hljs-number">1</span>)  ans = (ans + res) % MOD;<br>         res = (res + res) % MOD;<br>         n &gt;&gt;= <span class="hljs-number">1</span>;                           <span class="hljs-comment">//bå³ç§»ç›¸å½“äºé™¤ä»¥äºŒ</span><br>    &#125;<br>    <span class="hljs-keyword">return</span> ans;<br>&#125;<br></code></pre></td></tr></table></figure><br>å¯¹äº†ï¼Œï¼Œï¼Œå¿«é€Ÿå¹‚é‡Œçš„ä¹˜æ³•è¿ç®—ä¹Ÿå¯ä»¥æ¢æˆå¿«é€Ÿä¹˜ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br>ll MOD;<br><span class="hljs-function">ll <span class="hljs-title">mul</span> <span class="hljs-params">(ll a , ll b)</span></span><br><span class="hljs-function"></span>&#123;<br>    ll ans = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span> (b)<br>    &#123;<br>        <span class="hljs-keyword">if</span> (b &amp; <span class="hljs-number">1</span>)  ans = (ans + a) % MOD;<br>        a = (a + a) % MOD;<br>        b &gt;&gt;= <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> ans;<br>&#125;<br><span class="hljs-function">ll <span class="hljs-title">pow</span> <span class="hljs-params">(ll a , ll b)</span></span><br><span class="hljs-function"></span>&#123;<br>    ll ans = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span> (b)<br>    &#123;<br>        <span class="hljs-keyword">if</span> (b &amp; <span class="hljs-number">1</span>)  ans = mul(ans , a);<br>        a = mul(a , a);<br>        b &gt;&gt;= <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> ans;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="çŸ©é˜µå¿«é€Ÿå¹‚ï¼š"><a href="#çŸ©é˜µå¿«é€Ÿå¹‚ï¼š" class="headerlink" title="çŸ©é˜µå¿«é€Ÿå¹‚ï¼š"></a>çŸ©é˜µå¿«é€Ÿå¹‚ï¼š</h2><p>å¥½äº†ï¼Œï¼Œï¼Œ(ã€ãƒ»Ï‰ãƒ»)ã€ã†ãƒ¼ï¼(ï¼ãƒ»Ï‰ãƒ»)ï¼ã«ã‚ƒãƒ¼ï¼å¿«é€Ÿå¹‚å’Œå¿«é€Ÿä¹˜éƒ½æ¸…æ¥šäº†ï¼Œï¼Œè¿™æ—¶æ¥çœ‹å¦ä¸€ä¸ªä¸œè¥¿ï¼Œï¼Œ<strong>çŸ©é˜µå¿«é€Ÿå¹‚</strong>(Ïƒâ€²â–½â€µ)â€²â–½â€µ)Ïƒ<br>é¦–å…ˆï¼Œï¼Œï¼Œæˆ‘ä»¬å…ˆå®ç°ä¸€ä¸ªçŸ©é˜µç»“æ„ä½“ï¼Œï¼Œï¼Œ<br><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">100</span>;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Matrix</span></span><br><span class="hljs-class">&#123;</span><br>    ll m[N][N];<br>&#125;ans , res;                                 <span class="hljs-comment">//ansæ˜¯æœ€ç»ˆçš„ç»“æœï¼Œï¼Œresæ˜¯ä¸­é—´åˆå¹¶æ“ä½œçš„å˜é‡ï¼Œç±»ä¼¼a*aç­‰ç­‰</span><br></code></pre></td></tr></table></figure></p>
<p><del>ç„¶åï¼Œï¼Œemmmmå…ˆé¸½äº†ï¼Œï¼Œï¼Œç¢è§‰ï½·ï¾€â”â”â”â”(ï¾Ÿâˆ€ï¾Ÿ)â”â”â”â”!!</del></p>
<p>ç„¶åï¼Œï¼Œå®ç°ä¸¤çŸ©é˜µçš„ç›¸ä¹˜ï¼Œï¼Œï¼Œ(ï¾‰&gt;Ï‰&lt;)ï¾‰</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">Matrix <span class="hljs-title">mul</span> <span class="hljs-params">(Matrix a , Matrix b , <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    Matrix t;                               <span class="hljs-comment">//ä¸´æ—¶çŸ©é˜µ</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)             <span class="hljs-comment">//åˆå§‹åŒ–ä¸º0</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; n; j++)<br>            t.m[i][j] = <span class="hljs-number">0</span>;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)             <span class="hljs-comment">//çŸ©é˜µçš„ç›¸ä¹˜</span><br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; n; j++)<br>        &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> k = <span class="hljs-number">0</span>; k &lt; n; k++)<br>            &#123;<br>                t.m[i][j] = (t.m[i][j] + (a.m[i][k] * b.m[k][j]) % MOD) % MOD;  <span class="hljs-comment">//å¯¹æ¯ä¸€ä¸ªæ•°å–æ¨¡</span><br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> t;                               <span class="hljs-comment">//è¿”å›ç»“æœ</span><br>&#125;<br></code></pre></td></tr></table></figure>
<p>ç„¶åå°±æ˜¯æœ€é‡è¦çš„ï¼Œï¼Œï¼Œ<strong>çŸ©é˜µçš„å¿«é€Ÿå¹‚</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">matrixmul</span> <span class="hljs-params">(<span class="hljs-keyword">int</span> nn , <span class="hljs-keyword">int</span> n)</span>             <span class="hljs-comment">//nnæ˜¯æŒ‡æ•°ï¼Œï¼Œï¼Œnæ˜¯é˜¶æ•°</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)             <span class="hljs-comment">//å…ˆå°†ansçŸ©é˜µåˆå§‹åŒ–ä¸ºå•ä½çŸ©é˜µ</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; n; j++)<br>            <span class="hljs-keyword">if</span> (i == j)<br>                ans.m[i][j] = <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">else</span><br>                ans.m[i][j] = <span class="hljs-number">0</span>;<br><br>    <span class="hljs-keyword">while</span> (nn)                              <span class="hljs-comment">//çŸ©é˜µçš„å¿«é€Ÿå¹‚ï¼Œï¼ŒæŠŠä»¥å‰çš„ä¹˜å·æ”¹æˆä¸Šé¢çš„mulå‡½æ•°å°±å¯ä»¥äº†ï¼Œï¼Œï¼Œ</span><br>    &#123;<br>        <span class="hljs-keyword">if</span> (nn &amp; <span class="hljs-number">1</span>)  ans = mul (ans , res , n);<br>        res = mul (res , res , n);<br>        nn &gt;&gt;= <span class="hljs-number">1</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>å¥½äº†ï¼Œï¼Œï¼Œè¿™æ ·ä¸»é¢˜çš„æ¡†æ¶å°±æœ‰äº†ï¼Œï¼Œï¼Œ</p>
<p>æ¥ä¸‹æ¥å°±æ˜¯æ ¹æ®é€’æ¨å¼æ¥è½¬åŒ–æˆçŸ©é˜µçš„è¿ç®—ï¼Œï¼Œï¼Œ</p>
<p>åˆ©ç”¨çŸ©é˜µå¿«é€Ÿå¹‚çš„é¢˜ä¸€èˆ¬ä¼šæ ¹æ®é¢˜æ„æ¥å¾—åˆ°ä¸€ä¸ªå…³äºf(n)çš„é€’æ¨å¼ï¼Œï¼Œ</p>
<p>å¦‚æœåªæ˜¯ç®€å•çš„ç”¨å¾ªç¯é€’å½’æ¥å®ç°ï¼Œï¼Œåœ¨æœ‰äº›é¢˜é‡Œnå¾ˆå¤§æ—¶ä¼štle ï¼Œï¼Œï¼Œå¦‚æœåœ¨å¼€å§‹æ—¶é¢„å…ˆç®—å‡ºæ¥f(n)å‚¨å­˜ï¼Œæœ‰å¯èƒ½mleï¼Œï¼Œï¼Œæ‰€ä»¥è¿™ç§æƒ…å†µä¸‹å¯ä»¥è¯•è¯•çŸ©é˜µçš„å¿«é€Ÿå¹‚æ¥è§£ä½“ï¼Œï¼Œï¼Œ</p>
<p>æˆ‘ä»¬çš„ä»»åŠ¡å°±æ˜¯æ ¹æ®è¿™ä¸ªé€’æ¨å¼æ¥è½¬åŒ–ä¸ºä¸€ä¸ªçŸ©é˜µçš„é€’æ¨å¼ï¼Œï¼Œè¿™ä¸ªçŸ©é˜µä¸€èˆ¬æ˜¯ä¸€ä¸ªå«æœ‰f(n)çš„çŸ©é˜µç­‰äºä¸€ä¸ªf(n-1)*Açš„å½¢å¼ï¼Œï¼Œç„¶åæ ¹æ®é€’æ¨å¼å°±å¯ä»¥å°†è¿™ä¸ªæ–°çš„çŸ©é˜µé€’æ¨å¼è½¬åŒ–æˆä¸€ä¸ªå«æœ‰f(n)çš„çŸ©é˜µç­‰äºä¸€ä¸ªå«æœ‰f(a)ç­‰å¸¸æ•°çš„çŸ©é˜µä¹˜ä¸€ä¸ªå¸¸æ•°çŸ©é˜µAçš„n-mæ¬¡å¹‚ï¼Œï¼Œï¼Œï¼ˆè¿™é‡Œçš„aã€méƒ½æ˜¯ä¸€ä¸ªä¸å®šçš„å¸¸æ•°ï¼Œï¼Œï¼‰</p>
<p>ä¾‹å¦‚ï¼Œæ–æ³¢é‚£å¥‘æ•°åˆ—f(n) = f(n - 1) + f(n - 2)å†™æˆçŸ©é˜µçš„å½¢å¼å°±æ˜¯</p>
<p>$</p>
<p>\left[<br>\begin{matrix}<br>f(n) &amp; f(n - 1)<br>\end{matrix}</p>
<h1 id="right"><a href="#right" class="headerlink" title="\right]"></a>\right]</h1><p>\left[<br>\begin{matrix}<br>f(n - 1) &amp; f(n - 2)<br>\end{matrix}<br>\right]</p>
<p>*</p>
<p>\left[<br>\begin{matrix}<br>1 &amp; 1\<br>1 &amp; 0<br>\end{matrix}<br>\right]</p>
<p>$<br>ç„¶åï¼Œï¼Œï¼Œ æŠŠ$</p>
<p>\left[<br>\begin{matrix}<br>f(n - 1) &amp; f(n - 2)<br>\end{matrix}<br>\right]</p>
<p>å†å±•å¼€ï¼Œï¼Œï¼Œå°±å¯ä»¥å¾—åˆ°å¾ˆå¤šçš„A(<br>\left[<br>\begin{matrix}<br>1 &amp; 1\<br>1 &amp; 0<br>\end{matrix}<br>\right]<br>)$ç›¸ä¹˜ï¼Œï¼Œï¼Œ</p>
<p>ä¹Ÿå°±æ˜¯$</p>
<p>\left[<br>\begin{matrix}<br>f(n) &amp; f(n - 1)<br>\end{matrix}<br>\right]</p>
<p>\== </p>
<p>\left[<br>\begin{matrix}<br>f(2) &amp; f(1)<br>\end{matrix}<br>\right]</p>
<ul>
<li>$A^n$$</li>
</ul>
<p>mé˜¶çŸ©é˜µAçš„ç›¸ä¹˜çš„æ—¶é—´å¤æ‚åº¦æ˜¯O($m^3$)ï¼Œï¼ŒçŸ©é˜µå¿«é€Ÿå¹‚ä¸ºO(logn)</p>
<p>æ‰€ä»¥è¿™ä¸ªçš„æ—¶é—´å¤æ‚åº¦æ˜¯ 8*log1000 &lt; 1000è¿™æ ·å°±å‡å°äº†è¿ç®—æ—¶é—´ï¼Œï¼Œï¼Œ<a href="https://www.cnblogs.com/chsobin/p/8417356.html">å‚è€ƒ</a></p>
<p>è¿˜æœ‰ä¸€äº›å…¶ä»–çš„é€’æ¨å…¬å¼çš„æ¨å¯¼ï¼Œï¼Œï¼Œçœ‹<a href="https://blog.csdn.net/wust_zzwh/article/details/52058209">è¿™é‡Œï¼Œï¼Œï¼Œ</a>ï¼Œï¼Œï¼Œ</p>
<p>ç„¶åæ˜¯ä¸€äº›<a href="https://blog.csdn.net/chenguolinblog/article/details/10309423">ç»ƒä¹ é¢˜</a>ï¼Œï¼Œï¼Œ</p>
]]></content>
      <tags>
        <tag>acm</tag>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°è®ºæ¨¡æ¿</title>
    <url>/2019/02/17/%E6%95%B0%E8%AE%BA%E6%A8%A1%E6%9D%BF/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>è‡ªå·±è™½ç„¶æ²¡æœ‰å¥½å¥½çœ‹è¿‡æ•°è®ºçš„çŸ¥è¯†ï¼Œï¼Œä½†æ˜¯å®é™…çš„åšé¢˜ä¸­æœ‰ä¸€äº›å¤„ç†æ€»æ˜¯éœ€è¦æ•°è®ºçš„æ¿å­ï¼Œï¼Œæ€»æ˜¯å†åšé¢˜çš„æ—¶å€™ç¿»åˆ«äººçš„åšå®¢æŠ„å¾ˆè€½è¯¯äº‹ï¼Œï¼Œè€Œä¸”å¯¹è‡ªå·±ä¹Ÿä¸å¥½ï¼Œï¼Œæ‰€ä»¥æ€»ç»“ä¸€ä¸‹å¹³å¸¸ç”¨é“çš„æ•°è®ºçš„æ¿å­ï¼Œï¼Œ</p>
<span id="more"></span>
<h1 id="æ±‚ç´ æ•°"><a href="#æ±‚ç´ æ•°" class="headerlink" title="æ±‚ç´ æ•°"></a>æ±‚ç´ æ•°</h1><h2 id="åŸƒç­›"><a href="#åŸƒç­›" class="headerlink" title="åŸƒç­›"></a>åŸƒç­›</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦ä¸ºè´¨æ•°</span><br><span class="hljs-keyword">bool</span> prime[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt; maxn; ++i)prime[i] = <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i * i &lt; maxn; ++i)<br>        <span class="hljs-keyword">if</span>(prime[i])<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = i * i; j &lt; maxn; j += i)<br>                prime[j] = <span class="hljs-literal">false</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="çº¿ç­›"><a href="#çº¿ç­›" class="headerlink" title="çº¿ç­›"></a>çº¿ç­›</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">bool</span> prime[maxn];<br><span class="hljs-keyword">int</span> p[maxn], tot;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt; maxn; ++i)prime[i] = <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt; maxn; ++i)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(prime[i])p[tot++] = i;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; tot &amp;&amp; i * p[j] &lt; maxn; ++j)<br>        &#123;<br>            prime[i * p[j]] = <span class="hljs-literal">false</span>;<br>            <span class="hljs-keyword">if</span>(i % p[j] == <span class="hljs-number">0</span>)<span class="hljs-keyword">break</span>;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="ç­›è´¨æ•°çš„åŒæ—¶æ±‚è´¨æ•°çš„é€†å…ƒï¼Œï¼Œï¼ˆæ¬§æ‹‰å‡½æ•°å¯èƒ½ç”¨ï¼‰"><a href="#ç­›è´¨æ•°çš„åŒæ—¶æ±‚è´¨æ•°çš„é€†å…ƒï¼Œï¼Œï¼ˆæ¬§æ‹‰å‡½æ•°å¯èƒ½ç”¨ï¼‰" class="headerlink" title="ç­›è´¨æ•°çš„åŒæ—¶æ±‚è´¨æ•°çš„é€†å…ƒï¼Œï¼Œï¼ˆæ¬§æ‹‰å‡½æ•°å¯èƒ½ç”¨ï¼‰"></a>ç­›è´¨æ•°çš„åŒæ—¶æ±‚è´¨æ•°çš„é€†å…ƒï¼Œï¼Œï¼ˆæ¬§æ‹‰å‡½æ•°å¯èƒ½ç”¨ï¼‰</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//find all prime from 1 to maxn</span><br><span class="hljs-keyword">bool</span> isprime[maxn];<br><span class="hljs-keyword">int</span> prime[maxn], tot = <span class="hljs-number">-1</span>;<br><span class="hljs-keyword">int</span> inv_prime[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span>     <span class="hljs-comment">//å¯»æ‰¾maxnä»¥å†…çš„è´¨æ•°åŠå…¶è´¨æ•°çš„é€†å…ƒ</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= maxn; ++i)isprime[i] = <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= maxn; ++i)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(!isprime[i])prime[++tot] = i, inv_prime[tot] = pow_(i, mod - <span class="hljs-number">2</span>, mod);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt;= tot &amp;&amp; i * prime[j] &lt;= maxn; ++j)<br>        &#123;<br>            isprime[i * prime[j]] = <span class="hljs-literal">true</span>;<br>            <span class="hljs-keyword">if</span>(i % prime[j] == <span class="hljs-number">0</span>)<span class="hljs-keyword">break</span>;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="é¢„å¤„ç†æ¯ä¸ªæ•°çš„è´¨å› æ•°"><a href="#é¢„å¤„ç†æ¯ä¸ªæ•°çš„è´¨å› æ•°" class="headerlink" title="é¢„å¤„ç†æ¯ä¸ªæ•°çš„è´¨å› æ•°"></a>é¢„å¤„ç†æ¯ä¸ªæ•°çš„è´¨å› æ•°</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; prime_factor[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt; maxn; ++i)<br>        <span class="hljs-keyword">if</span>(prime_factor[i].size() == <span class="hljs-number">0</span>)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = i; j &lt; maxn; j += i)<br>                prime_factor[j].push_back(i);<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="é¢„å¤„ç†æ¯ä¸ªæ•°çš„æ‰€æœ‰å› æ•°"><a href="#é¢„å¤„ç†æ¯ä¸ªæ•°çš„æ‰€æœ‰å› æ•°" class="headerlink" title="é¢„å¤„ç†æ¯ä¸ªæ•°çš„æ‰€æœ‰å› æ•°"></a>é¢„å¤„ç†æ¯ä¸ªæ•°çš„æ‰€æœ‰å› æ•°</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; factor[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= maxn; ++i)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = i; j &lt;= maxn; j += i)<br>            factor[j].push_back(i);<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="é¢„å¤„ç†æ¯ä¸ªæ•°çš„-è´¨å› æ•°åˆ†è§£"><a href="#é¢„å¤„ç†æ¯ä¸ªæ•°çš„-è´¨å› æ•°åˆ†è§£" class="headerlink" title="é¢„å¤„ç†æ¯ä¸ªæ•°çš„ è´¨å› æ•°åˆ†è§£"></a>é¢„å¤„ç†æ¯ä¸ªæ•°çš„ è´¨å› æ•°åˆ†è§£</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//18 2 3 3</span><br><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; prime_factor[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> tmp;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= maxn; ++i)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(prime_factor[i].size() == <span class="hljs-number">0</span>)<br>        &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = i; j &lt;= maxn; j += i)<br>            &#123;<br>                tmp = j;<br>                <span class="hljs-keyword">while</span>(tmp == tmp / i * i)<span class="hljs-comment">//ç›´æ¥å–æ¨¡è²Œä¼¼å¾ˆè´¹æ—¶</span><br>                &#123;<br>                    prime_factor[j].push_back(i);<br>                    tmp /= i;<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="æ¬§æ‹‰å‡½æ•°"><a href="#æ¬§æ‹‰å‡½æ•°" class="headerlink" title="æ¬§æ‹‰å‡½æ•°"></a>æ¬§æ‹‰å‡½æ•°</h2><h2 id="æ™®é€šåšæ³•"><a href="#æ™®é€šåšæ³•" class="headerlink" title="æ™®é€šåšæ³•"></a>æ™®é€šåšæ³•</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">phi</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<br>    <span class="hljs-keyword">int</span> ans = x;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i * i &lt;= x; ++i)<br>        <span class="hljs-keyword">if</span>(x % i == <span class="hljs-number">0</span>)&#123;<br>            ans = ans / i * (i - <span class="hljs-number">1</span>);<br>            <span class="hljs-keyword">while</span>(x % i == <span class="hljs-number">0</span>)x /= i;<br>        &#125;<br>    <span class="hljs-keyword">if</span>(x &gt; <span class="hljs-number">1</span>) ans = ans / x * (x - <span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">return</span> ans;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="ç±»ä¼¼åŸƒç­›çš„åšæ³•"><a href="#ç±»ä¼¼åŸƒç­›çš„åšæ³•" class="headerlink" title="ç±»ä¼¼åŸƒç­›çš„åšæ³•"></a>ç±»ä¼¼åŸƒç­›çš„åšæ³•</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">int</span> phi[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">euler</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    phi[<span class="hljs-number">1</span>] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= maxn; ++i)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(!phi[i])<br>        &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = i; j &lt;= maxn; j += i)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(!phi[j])<br>                    phi[j] = j;<br>                phi[j] = phi[j] / i * (i - <span class="hljs-number">1</span>);<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="æ›´å¿«çš„åšæ³•"><a href="#æ›´å¿«çš„åšæ³•" class="headerlink" title="æ›´å¿«çš„åšæ³•"></a>æ›´å¿«çš„åšæ³•</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">int</span> phi[maxn], prime[maxn];<br><span class="hljs-keyword">int</span> tot;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">euler</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    phi[<span class="hljs-number">1</span>] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= maxn; ++i)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(!phi[i])<br>        &#123;<br>            phi[i] = i - <span class="hljs-number">1</span>;<br>            prime[tot++] = i;<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; tot &amp;&amp; <span class="hljs-number">1ll</span> * i * prime[j] &lt;= maxn; ++j)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(i % prime[j])phi[i * prime[j]] = phi[i] * (prime[j] - <span class="hljs-number">1</span>);<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                phi[i * prime[j]] = phi[i] * prime[j];<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="å¿«é€Ÿå¹‚"><a href="#å¿«é€Ÿå¹‚" class="headerlink" title="å¿«é€Ÿå¹‚"></a>å¿«é€Ÿå¹‚</h1><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-keyword">inline</span> ll <span class="hljs-title">pow_</span><span class="hljs-params">(ll a, ll b, ll p)</span>    <span class="hljs-comment">//å¿«é€Ÿå¹‚</span></span><br><span class="hljs-function"></span>&#123;<br>    ll ret = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(b)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(b &amp; <span class="hljs-number">1</span>) ret = (ret * a) % p;<br>        a = (a * a) % p;<br>        b &gt;&gt;= <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> ret;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="æ±‚aåœ¨modä¸‹çš„é€†å…ƒ"><a href="#æ±‚aåœ¨modä¸‹çš„é€†å…ƒ" class="headerlink" title="æ±‚aåœ¨modä¸‹çš„é€†å…ƒ"></a>æ±‚aåœ¨modä¸‹çš„é€†å…ƒ</h1><h2 id="è´¹é©¬å°å®šç†æ³•"><a href="#è´¹é©¬å°å®šç†æ³•" class="headerlink" title="è´¹é©¬å°å®šç†æ³•"></a>è´¹é©¬å°å®šç†æ³•</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-keyword">inline</span> ll <span class="hljs-title">pow_</span><span class="hljs-params">(ll a, ll b, ll p)</span>    <span class="hljs-comment">//å¿«é€Ÿå¹‚</span></span><br><span class="hljs-function"></span>&#123;<br>    ll ret = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(b)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(b &amp; <span class="hljs-number">1</span>) ret = (ret * a) % p;<br>        a = (a * a) % p;<br>        b &gt;&gt;= <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> ret;<br>&#125;<br><br><span class="hljs-comment">//inv(a)=a^(mod-2)(mod) è´¹é©¬å°å®šç†</span><br><span class="hljs-function">ll <span class="hljs-title">inv</span><span class="hljs-params">(ll a, ll p)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> pow_(a, p - <span class="hljs-number">2</span>, p);<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="æ‰©å±•æ¬§å‡ é‡Œå¾—æ³•"><a href="#æ‰©å±•æ¬§å‡ é‡Œå¾—æ³•" class="headerlink" title="æ‰©å±•æ¬§å‡ é‡Œå¾—æ³•"></a>æ‰©å±•æ¬§å‡ é‡Œå¾—æ³•</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">ex_gcd</span><span class="hljs-params">(ll a, ll b, ll &amp;x, ll &amp;y, ll &amp;d)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(!b)&#123;d = a, x = <span class="hljs-number">1</span>, y = <span class="hljs-number">0</span>;&#125;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        ex_gcd(b, a % b, y, x, d);<br>        y -= x * (a / b);<br>    &#125;<br>&#125;<br><span class="hljs-function">ll <span class="hljs-title">inv</span><span class="hljs-params">(ll a, ll p)</span></span><br><span class="hljs-function"></span>&#123;<br>    ll d, x, y;<br>    ex_gcd(a, p, x, y, d);<br>    <span class="hljs-keyword">return</span> d == <span class="hljs-number">1</span> ? (x % p + p) % p : <span class="hljs-number">-1</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="é€’å½’æ³•"><a href="#é€’å½’æ³•" class="headerlink" title="é€’å½’æ³•"></a>é€’å½’æ³•</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">ll <span class="hljs-title">inv</span><span class="hljs-params">(ll a, ll p)</span><span class="hljs-comment">//æ±‚tå…³äºpçš„é€†å…ƒï¼Œæ³¨æ„:tè¦å°äºpï¼Œæœ€å¥½ä¼ å‚å‰å…ˆæŠŠt%pä¸€ä¸‹ </span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> a == <span class="hljs-number">1</span> ? <span class="hljs-number">1</span> : (p - p / a) * inv(p % a, p) % p;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="çº¿æ€§é€’æ¨"><a href="#çº¿æ€§é€’æ¨" class="headerlink" title="çº¿æ€§é€’æ¨"></a>çº¿æ€§é€’æ¨</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">int</span> inv[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	inv[<span class="hljs-number">1</span>] = <span class="hljs-number">1</span>;<br>	<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt; maxn; ++i)inv[i] = (mod - mod / i) * <span class="hljs-number">1ll</span> * inv[mod % i] % mod;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="gcd-lcm"><a href="#gcd-lcm" class="headerlink" title="gcd, lcm"></a>gcd, lcm</h1><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">ll <span class="hljs-title">gcd</span><span class="hljs-params">(ll a, ll b)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(b == <span class="hljs-number">0</span>)<span class="hljs-keyword">return</span> a;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> gcd(b, a % b);<br>&#125;<br></code></pre></td></tr></table></figure>
<p>$lcm = a * b / gcd(a, b)$</p>
<h1 id="ä½è¿ç®—çš„å¿«è¯»"><a href="#ä½è¿ç®—çš„å¿«è¯»" class="headerlink" title="ä½è¿ç®—çš„å¿«è¯»"></a>ä½è¿ç®—çš„å¿«è¯»</h1><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">int</span> <span class="hljs-title">read</span><span class="hljs-params">()</span>   <span class="hljs-comment">//å¿«è¯»</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> ans=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">char</span> ch=getchar();<br>    <span class="hljs-keyword">while</span>(!<span class="hljs-built_in">isdigit</span>(ch))<br>        ch=getchar();<br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">isdigit</span>(ch))<br>        ans=(ans&lt;&lt;<span class="hljs-number">3</span>)+(ans&lt;&lt;<span class="hljs-number">1</span>)+(ch^<span class="hljs-number">48</span>),ch=getchar();<br>    <span class="hljs-keyword">return</span> ans;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>æ•°è®º</category>
      </categories>
      <tags>
        <tag>acm</tag>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>æœ€å¤§æƒé—­åˆå­å›¾</title>
    <url>/2018/12/15/%E6%9C%80%E5%A4%A7%E6%9D%83%E9%97%AD%E5%90%88%E5%AD%90%E5%9B%BE/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p>æŸä¸€å¤©åœ¨ç¿»cfä¸Šçš„contestæ—¶ï¼Œï¼Œå‘ç°æœ€è¿‘çš„æŸä¸€åœºçš„Gé¢˜æ˜¯ç½‘ç»œæµçš„é¢˜ï¼Œï¼Œï¼Œæ­£å¥½æœ€è¿‘çœ‹äº†çœ‹ç½‘ç»œæµçš„é¢˜ï¼Œï¼Œæƒ³ç€æŠŠä»–å¼„å‡ºæ¥ï¼Œï¼Œï¼Œç„¶åæŸ¥äº†ä¸€ä¸‹å‘ç°æ˜¯ç½‘ç»œæµé‡Œ<strong>æœ€å¤§æƒé—­åˆå­å›¾</strong>çš„é—®é¢˜ï¼Œï¼Œäºæ˜¯å°±ä¸€ç›´æ‹–åˆ°ç°åœ¨æ‰åŸºæœ¬å¼„æ‡‚ã€‚ã€‚ã€‚ã€‚æœ€å¤§æƒé—­åˆå­å›¾çš„è§£æ³•å¾ˆç®€å•ï¼Œï¼Œï¼Œå…¶ä¸­ä¸€éƒ¨åˆ†çš„è®¡ç®—åˆ©ç”¨åˆ°äº†æ±‚è§£ç½‘ç»œçš„æœ€å¤§æµçš„é‚£å‡ ä¸ªç®—æ³•ï¼Œï¼Œä¸»è¦æ˜¯ç†è§£å®ƒçš„æ€§è´¨å’Œ<strong>å»ºå›¾</strong>ï¼Œï¼Œï¼Œï¼Œ</p>
<span id="more"></span>
<h1 id="é¢˜ç›®åˆ†æ"><a href="#é¢˜ç›®åˆ†æ" class="headerlink" title="é¢˜ç›®åˆ†æ"></a>é¢˜ç›®åˆ†æ</h1><p>é¦–å…ˆæ˜¯cfçš„é‚£é“é¢˜ï¼Œï¼Œï¼Œ<a href="https://codeforces.com/contest/1082/problem/G">ä¼ é€é—¨</a>ï¼Œï¼Œï¼Œ</p>
<h2 id="é¢˜ç›®çš„æ„æ€"><a href="#é¢˜ç›®çš„æ„æ€" class="headerlink" title="é¢˜ç›®çš„æ„æ€"></a>é¢˜ç›®çš„æ„æ€</h2><p>å¤§è‡´æ„æ€æ˜¯ä»–å®šä¹‰äº†ä¸€ä¸ªç½‘ç»œçš„å­å›¾æ˜¯<em>å­å›¾ä¸­çš„ç‚¹çš„åç»§èŠ‚ç‚¹ä¹Ÿåœ¨å­å›¾ä¸­</em>ï¼Œï¼Œï¼ˆåç»§èŠ‚ç‚¹å°±æ˜¯æŒ‡1-&gt;2-&gt;3 , 2å°±æ˜¯1çš„åç»§èŠ‚ç‚¹ï¼Œï¼Œ3å°±æ˜¯2çš„åç»§èŠ‚ç‚¹ï¼‰ï¼Œï¼Œç„¶åè¦ä½ æ‰¾å‡ºæœ€å¤§çš„å­å›¾çš„æƒï¼Œï¼Œï¼Œï¼Œ</p>
<p>é¢˜ç›®çš„æè¿°çš„å…¶å®å°±æ˜¯é—­åˆå­å›¾çš„æ€§è´¨ï¼Œï¼Œï¼Œæ‰€é—®å…¶å®ä¹Ÿå°±æ˜¯æœ€å¤§æƒé—­åˆå­å›¾ï¼Œï¼Œï¼Œ</p>
<p>æ¥ä¸‹æ¥æ˜¯æœ‰å…³æœ€å¤§æƒé—­åˆå­å›¾çš„ä¸€äº›æ¦‚å¿µ</p>
<h2 id="æœ€å¤§æƒé—­åˆå­å›¾"><a href="#æœ€å¤§æƒé—­åˆå­å›¾" class="headerlink" title="æœ€å¤§æƒé—­åˆå­å›¾"></a>æœ€å¤§æƒé—­åˆå­å›¾</h2><p><a href="https://www.cnblogs.com/dilthey/p/7565206.html">ä»¥ä¸‹èµ„æ–™å¼•ç”¨è‡ªè¿™é‡Œ</a></p>
<p><a href="https://www.cnblogs.com/TreeDream/p/5942354.html#_labelTop">è¿˜æœ‰è¿™é‡Œ</a>ï¼Œï¼Œï¼Œ<br>(æœ¬æ–‡æ‰€å¼•ç”¨å†…å®¹ç‰ˆæƒå½’åŸä½œè€…æ‰€æœ‰)</p>
<p>é¦–å…ˆå¯¹äºä¸€ä¸ªæœ‰ç‚¹æƒçš„æœ‰å‘è¿é€šå›¾ï¼š</p>
<p><img src="https://images2017.cnblogs.com/blog/1103198/201709/1103198-20170920131516868-1508739899.png" alt=""></p>
<p>ç”¨è¶…çº§æºç‚¹så’Œè¶…çº§æ±‡ç‚¹tå°†æ­£æƒå€¼çš„ç‚¹è¿åˆ°sè´Ÿæƒå€¼çš„è¿åˆ°tä¸Šï¼Œï¼Œè¿™æ ·å¯ä»¥å°†ç‚¹æƒå›¾è½¬åŒ–ä¸ºä¸€ä¸ªè¾¹æƒå›¾ï¼Œï¼Œï¼Œï¼š</p>
<p><img src="https://images2017.cnblogs.com/blog/1103198/201709/1103198-20170920133616665-1270622724.png" alt=""></p>
<h3 id="ç»“è®º"><a href="#ç»“è®º" class="headerlink" title="ç»“è®º"></a>ç»“è®º</h3><ul>
<li>è¯¥å¸¦è¾¹æƒçš„æœ‰å‘å›¾çš„s-tæœ€å°å‰²æ˜¯ç®€å•å‰²ï¼Œï¼Œï¼ˆç®€å•å‰²å°±æ˜¯å‰²é›†ä¸­çš„æ‰€æœ‰ç‚¹éƒ½ä¸sæˆ–tç›¸è¿ï¼‰ï¼Œï¼Œæ‰€ä»¥æœ€å°å‰²ä¸ä¼šå‡ºç°åœ¨infçš„è¾¹ä¸Šï¼Œï¼Œè¿™æ ·çš„å›¾ä¹Ÿæ˜¯äºŒåˆ†å›¾ï¼Œï¼Œï¼Œï¼ˆè¿™é‡Œçœ‹ä¸æ‡‚äº†ï¼Œï¼Œä¸è¿‡ä¸å½±å“ï¼Œï¼Œï¼‰</li>
<li>è¯¥å›¾ä¸­æ¯ä¸€ä¸ªç®€å•å‰²äº§ç”Ÿçš„ä¸¤ä¸ªå­å›¾ä¸­ï¼Œå«æœ‰sçš„å­å›¾æ˜¯<strong>é—­åˆå›¾</strong></li>
<li><p><strong>é—­åˆå›¾</strong>ï¼šåœ¨ä¸€ä¸ªå›¾ä¸­ï¼Œé€‰å–ä¸€äº›ç‚¹æ„æˆé›†åˆï¼Œè‹¥é›†åˆä¸­çš„ä»»ä¸€ç‚¹è¿æ¥ç‚¹çš„ä»»æ„å‡ºå¼§ï¼Œå…¶æŒ‡å‘çš„ç‚¹ä¹Ÿåœ¨é›†åˆä¸­ï¼Œï¼Œï¼Œåˆ™è¿™ä¸ªé›†åˆæ„æˆçš„å›¾å°±æ˜¯é—­åˆå›¾ï¼Œï¼Œ</p>
</li>
<li><p>ä¾‹å¦‚ï¼š<br><img src="https://media.hihocoder.com/problem_images/20161008/14759139776998.jpg" alt=""></p>
</li>
</ul>
<p>è¿™ä¸ªå›¾çš„é—­åˆå­å›¾å°±æœ‰8ä¸ªï¼š$âˆ…,{3},{4},{2,4},{3,4},{1,3,4},{2,3,4},{1,2,3,4}$</p>
<ul>
<li><strong>æœ€å°å‰²äº§ç”Ÿçš„å­å›¾s,tï¼Œå›¾sæ˜¯æœ€å¤§æƒé—­åˆå­å›¾</strong></li>
<li>è¯æ˜å¦‚ä¸‹ï¼š<blockquote>
<p>å› ä¸ºå‰²é›†ä¸­æ‰€æœ‰çš„è¾¹ï¼Œä¸æ˜¯è¿æ¥åœ¨sä¸Šï¼Œå°±æ˜¯è¿æ¥åœ¨tä¸Šï¼›</p>
</blockquote>
</li>
</ul>
<blockquote>
<p>æˆ‘ä»¬è®°å‰²é›†ä¸­ï¼Œæ‰€æœ‰è¿æ¥åœ¨sä¸Šçš„è¾¹çš„æƒå€¼å’Œä¸º$x_1$ï¼Œæ‰€æœ‰è¿æ¥åœ¨tä¸Šçš„è¾¹çš„æƒå€¼å’Œä¸º$x_2$ï¼Œè€Œå‰²é›†ä¸­æ‰€æœ‰è¾¹æƒå€¼å’Œä¸º$X=x_1+x_2ï¼›$</p>
<p>åˆï¼Œè®°å›¾Sä¸­æ‰€æœ‰ç‚¹çš„æƒå€¼å’Œä¸º$W$ï¼Œè®°å…¶ä¸­æ­£æƒå€¼ä¹‹å’Œä¸º$w_1$ï¼Œè´Ÿæƒå€¼ä¹‹å’Œä¸º$-w_2$ï¼Œæ•…$W = w_1 - w_2ï¼›$</p>
<p>è€Œ $W + X = w_1 - w_2 + x_1 + x_2$ï¼Œç”±äº$x_2 = w_2$ï¼ˆå› ä¸ºå›¾Sä¸­æ‰€æœ‰è´Ÿæƒå€¼çš„ç‚¹ï¼Œå¿…ç„¶è¿æ¥åˆ°tç‚¹ï¼Œè€Œå›¾Så¿…ç„¶è¦ä¸tåˆ†å‰²å¼€ï¼›æ•…å‰²é›†ä¸­ï¼Œâ€œè¿æ¥åœ¨tç‚¹ä¸Šçš„è¾¹æƒå€¼å’Œâ€å°±æ˜¯â€œå›¾Sä¸­æ‰€æœ‰è´Ÿæƒå€¼ç‚¹çš„æƒå€¼ä¹‹å’Œï¼Œå–è´Ÿâ€ï¼‰</p>
<p>å› è€Œ$W + X = w_1 + x_1ï¼›$</p>
<p>ã€€ã€€è€Œæ˜¾ç„¶çš„ï¼Œ$w_1 + x_1$æ˜¯æ•´ä¸ªå›¾ä¸­æ‰€æœ‰æ­£æƒå€¼ä¹‹å’Œï¼Œè®°ä¸º$SUM$ï¼›</p>
<p>ã€€ã€€æ•…$W = SUM - X$ï¼Œå³ <strong>â€œå›¾Sä¸­æ‰€æœ‰ç‚¹çš„æƒå€¼å’Œâ€ = â€œæ•´ä¸ªå›¾ä¸­æ‰€æœ‰æ­£æƒå€¼ä¹‹å’Œâ€  - â€œå‰²é›†ä¸­æ‰€æœ‰è¾¹æƒå€¼å’Œâ€</strong>ï¼›</p>
<p>ã€€ã€€ç„¶åï¼Œå› ä¸º$SUM$ä¸ºå®šå€¼ï¼Œåªè¦æˆ‘ä»¬å–æœ€å°å‰²ï¼Œåˆ™â€œå›¾Sä¸­æ‰€æœ‰ç‚¹çš„æƒå€¼å’Œâ€å°±æ˜¯æœ€å¤§çš„ï¼Œå³æ­¤æ—¶å›¾Sä¸ºå›¾Sä¸ºæœ€å¤§æƒé—­åˆå­å›¾ï¼›</p>
</blockquote>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æ ¹æ®ä»¥ä¸Šçš„è®ºè¿°ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¾—åˆ°æ±‚è§£ä¸€èˆ¬çš„æœ€å¤§æƒé—­åˆå­å›¾çš„æ­¥(tao)éª¤(lu):</p>
<ul>
<li>è®°å½•å›¾ä¸­çš„æ‰€æœ‰ç‚¹æƒä¸ºæ­£çš„å’Œï¼š$sum$</li>
<li>ç„¶åå»ºå›¾ï¼Œå»ºå›¾çš„å¤§æ¦‚æµç¨‹æ˜¯ï¼šæ­£ç‚¹æƒçš„ç‚¹ä¸æºç‚¹sç›¸è¿ï¼Œè¾¹æƒä¸ºç‚¹æƒï¼Œï¼Œè´Ÿç‚¹æƒçš„ç‚¹ä¸æ±‡ç‚¹tç›¸è¿ï¼Œï¼Œè¾¹æƒä¸ºç‚¹æƒçš„ç›¸åæ•°ï¼Œï¼Œæœ€åæ­£è´Ÿç‚¹ä¹‹é—´ç›¸è¿ï¼Œï¼Œè¾¹æƒä¸º$inf$</li>
<li>æœ€åè·‘ç½‘ç»œè·¯çš„æœ€å¤§æµå¾—åˆ°æœ€å¤§æµ$maxflow$,,,æœ€å¤§æƒé—­åˆå­å›¾çš„æƒå€¼å°±æ˜¯ï¼š$sum - maxflow$</li>
</ul>
<p>æœ‰äº†è¿™äº›ï¼Œï¼Œè¿™é“æ¿å­é¢˜å…¶å®ä¹Ÿå°±å·®ä¸å¤šäº†ï¼Œï¼Œï¼Œå’Œæ±‚æœ€å¤§æµçš„ä¸åŒåªæœ‰å»ºå›¾å’Œæœ€åçš„å¤„ç†äº†ï¼Œï¼Œï¼Œ</p>
<h1 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h1><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//codefroces1082G</span><br><span class="hljs-comment">//https://codeforces.com/contest/1082/submission/47022828</span><br><span class="hljs-comment">//#include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> n , m;<br><span class="hljs-keyword">int</span> a[maxn];<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to , next , cap , flow;<br>&#125;edge[maxm];<br><span class="hljs-keyword">int</span> tol;<br><span class="hljs-keyword">int</span> head[maxn];<br><span class="hljs-keyword">int</span> gap[maxn] , dep[maxn] , cur[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tol = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head , <span class="hljs-number">-1</span> , <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u , <span class="hljs-keyword">int</span> v , <span class="hljs-keyword">int</span> w , <span class="hljs-keyword">int</span> rw  = <span class="hljs-number">0</span>)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tol].to = v; edge[tol].cap = w;edge[tol].flow = <span class="hljs-number">0</span>;<br>    edge[tol].next = head[u]; head[u] = tol++;<br>    edge[tol].to = u; edge[tol].cap = rw;edge[tol].flow = <span class="hljs-number">0</span>;<br>    edge[tol].next = head[v];head[v] = tol++;<br>&#125;<br><span class="hljs-keyword">int</span> q[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">bfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s , <span class="hljs-keyword">int</span> t)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(dep , <span class="hljs-number">-1</span> , <span class="hljs-keyword">sizeof</span> dep);<br>    <span class="hljs-built_in">memset</span>(gap , <span class="hljs-number">0</span> , <span class="hljs-keyword">sizeof</span> gap);<br>    gap[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">int</span> front = <span class="hljs-number">0</span> , rear = <span class="hljs-number">0</span>;<br>    dep[t] = <span class="hljs-number">0</span>;<br>    q[rear++] = t;<br>    <span class="hljs-keyword">while</span>(front != rear)<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = q[front++];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].next)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = edge[i].to;<br>            <span class="hljs-keyword">if</span>(~dep[v])<span class="hljs-keyword">continue</span>;<br>            q[rear++] = v;<br>            dep[v] = dep[u] + <span class="hljs-number">1</span>;<br>            ++gap[dep[v]];<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-keyword">int</span> stck[maxn];<br><span class="hljs-function">ll <span class="hljs-title">isap</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s , <span class="hljs-keyword">int</span> t , <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    bfs(s , t);<br>    <span class="hljs-built_in">memcpy</span>(cur , head , <span class="hljs-keyword">sizeof</span> head);<br>    <span class="hljs-comment">//for(int i = 0; i &lt;= n; ++i)cur[i] = head[i];</span><br>    <span class="hljs-keyword">int</span> top = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> u = s;<br>    ll ans = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span>(dep[s] &lt; n)<br>    &#123;<br>        <span class="hljs-comment">//cout &lt;&lt; u &lt;&lt; endl;</span><br>        <span class="hljs-keyword">if</span>(u == t)<br>        &#123;<br>            <span class="hljs-comment">//cout &lt;&lt; u &lt;&lt; endl;</span><br>            <span class="hljs-keyword">int</span> mi = inf;<br>            <span class="hljs-keyword">int</span> inser;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; top; ++i)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(mi &gt; edge[stck[i]].cap - edge[stck[i]].flow)<br>                &#123;<br>                    mi = edge[stck[i]].cap - edge[stck[i]].flow;<br>                    inser = i;<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; top; ++i)<br>            &#123;<br>                edge[stck[i]].flow += mi;<br>                edge[stck[i] ^ <span class="hljs-number">1</span>].flow -= mi;<br>            &#125;<span class="hljs-comment">//cout &lt;&lt; mi &lt;&lt; &quot;  ---&quot; &lt;&lt; inf &lt;&lt; endl;</span><br>            ans += mi;<br>            top = inser;<br>            u = edge[stck[top] ^ <span class="hljs-number">1</span>].to;<br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br>        <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">int</span> v;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = cur[u]; ~i; i = edge[i].next)<br>        &#123;<br>            v = edge[i].to;<br>            <span class="hljs-keyword">if</span>(edge[i].cap - edge[i].flow &amp;&amp; dep[v] + <span class="hljs-number">1</span> == dep[u])<br>            &#123;<br>                flag = <span class="hljs-literal">true</span>;<br>                cur[u] = i;<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(flag)<br>        &#123;<br>            stck[top++] = cur[u];<br>            u = v;<br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br>        <span class="hljs-keyword">int</span> mi = n;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].next)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(edge[i].cap - edge[i].flow &amp;&amp; dep[edge[i].to] &lt; mi)<br>            &#123;<br>                mi = dep[edge[i].to];<br>                cur[u] = i;<br>            &#125;<br>        &#125;<br>        --gap[dep[u]];<br>        <span class="hljs-keyword">if</span>(!gap[dep[u]])<span class="hljs-keyword">return</span> ans;<br>        dep[u] = mi + <span class="hljs-number">1</span>;<br>        ++gap[dep[u]];<br>        <span class="hljs-keyword">if</span>(u != s)u = edge[stck[--top] ^ <span class="hljs-number">1</span>].to;<br>    &#125;<br>    <span class="hljs-keyword">return</span> ans;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.txt&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    init();<br>    <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m;<br>    <span class="hljs-keyword">int</span> x;<br>    <span class="hljs-keyword">int</span> s = <span class="hljs-number">0</span>;<span class="hljs-keyword">int</span> t = n + m + <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; x;<br>        addedge(i , t , x);<br>    &#125;<br>    <span class="hljs-keyword">int</span> u , v , w;<br>    ll ans = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; u &gt;&gt; v &gt;&gt; w;<br>        addedge(n + i , u , inf);<br>        addedge(n + i , v , inf);<br>        addedge(s , n + i , w);<br>        ans += w;<br>    &#125;<br>    ans -= isap(s , t , n + m + <span class="hljs-number">2</span>);<br>    <span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>ä¹‹ååˆæ‰¾äº†ä¸€é“è¿™æ ·çš„é¢˜ï¼Œï¼Œï¼Œè¿˜æ˜¯åœ¨å»ºå›¾ä¸Šåšæ–‡ç« ï¼Œï¼Œï¼Œå°±æ˜¯å’Œä¸Šä¸€é“ä¸€æ ·çš„æ•²é”™äº†æ¿å­ï¼Œï¼Œï¼Œæ­»æ´»è¿è¡Œä¸æ­£ç¡®ï¼Œemmmmmï¼Œï¼Œï¼Œè¿˜æœ‰åˆå§‹åŒ–å‡½æ•°init()æ€»æ˜¯å¿˜è®°è°ƒç”¨ï¼Œï¼Œï¼Œèœçš„æµæ³ªï¼Œï¼Œï¼Œï¼ŒQAQ</p>
<p><a href="https://www.luogu.org/problemnew/show/P4313">é¢˜ç›®é“¾æ¥</a></p>
<p>é¢˜ç›®å¤§æ¦‚æ„æ€æ˜¯ä¸€ä¸ªç­çš„äººé€‰ç†ç§‘æ»¡æ„åº¦åŠ å¤šå°‘å¤šå°‘ï¼Œï¼Œé€‰æ–‡ç§‘åŠ å¤šå°‘å¤šå°‘ï¼Œï¼Œå¦‚æœä¸€ä¸ªäººçš„å‰åå·¦å³é€‰çš„å’Œä»–ä¸€æ ·ä¹ŸåŠ å¤šå°‘å¤šå°‘ï¼Œï¼Œé—®ä½ æœ€å¤§çš„æ»¡æ„å€¼æ˜¯å¤šå°‘ï¼Œï¼Œï¼Œ<br>æ€è·¯æ˜¯ç»™è¿™n*mä¸ªç‚¹å’Œsç‚¹è¿çš„è¾¹æƒæ˜¯æ–‡ç§‘çš„é‚£ä¸ªå€¼ï¼Œï¼Œå’Œtç‚¹è¿çš„è¾¹æƒæ˜¯ç†ç§‘é‚£ä¸ªå€¼ï¼Œï¼Œç„¶ååŠ ä¸€ä¸ªæ–°çš„ç‚¹cntï¼Œï¼Œå’Œsç‚¹è¿ï¼Œï¼Œè¾¹æƒä¸ºç¬¬ä¸‰ç»„æ»¡æ„åº¦ï¼Œï¼Œå’Œå…¶å¯¹åº”çš„ç›¸é‚»åŒå­¦è¿infçš„è¾¹ï¼Œï¼Œé€‰ç†ç§‘ä¹Ÿå°±æ˜¯å’Œtè¿çš„æ–°ç‚¹åŒç†ï¼Œï¼Œæœ€åè·‘ç½‘ç»œæµå°±è¡Œï¼Œï¼Œè¦æ±‚çš„æ»¡æ„å€¼å°±æ˜¯æ€»çš„æ»¡æ„å€¼-æœ€å°å‰²çš„</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//è®°å¾—è¾¹æ•°å¼€å¤§ç‚¹ï¼Œï¼Œè²Œä¼¼èƒ½æœ‰ç‚¹æ•°çš„30å€å·¦å³ï¼Œï¼Œï¼Œä¹‹å‰reäº†ä¸€å‘QAQ</span><br><span class="hljs-comment">//https://www.luogu.org/problemnew/show/P4313</span><br><span class="hljs-comment">//https://www.luogu.org/record/show?rid=14708566</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">3e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<br><br><span class="hljs-keyword">int</span> dx[<span class="hljs-number">6</span>] = &#123;<span class="hljs-number">0</span> , <span class="hljs-number">0</span> , <span class="hljs-number">0</span> , <span class="hljs-number">-1</span> , <span class="hljs-number">1</span>&#125;;<br><span class="hljs-keyword">int</span> dy[<span class="hljs-number">6</span>] = &#123;<span class="hljs-number">0</span> , <span class="hljs-number">-1</span> , <span class="hljs-number">1</span> , <span class="hljs-number">0</span> , <span class="hljs-number">0</span>&#125;;<br><span class="hljs-keyword">int</span> tol;<br><span class="hljs-keyword">int</span> head[maxn];<br><span class="hljs-keyword">int</span> gap[maxn] , dep[maxn] , cur[maxn];<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to , next , cap , flow;<br>&#125;edge[maxm];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tol = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head , <span class="hljs-number">-1</span> , <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u , <span class="hljs-keyword">int</span> v , <span class="hljs-keyword">int</span> w , <span class="hljs-keyword">int</span> rw = <span class="hljs-number">0</span>)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tol].to = v;edge[tol].cap = w;edge[tol].flow = <span class="hljs-number">0</span>;<br>    edge[tol].next = head[u];head[u] = tol++;<br>    edge[tol].to = u;edge[tol].cap = rw; edge[tol].flow = <span class="hljs-number">0</span>;<br>    edge[tol].next = head[v];head[v] = tol++;<br>&#125;<br><span class="hljs-keyword">int</span> q[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">bfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s , <span class="hljs-keyword">int</span> t)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(dep , <span class="hljs-number">-1</span> , <span class="hljs-keyword">sizeof</span> dep);<br>    <span class="hljs-built_in">memset</span>(gap , <span class="hljs-number">0</span> , <span class="hljs-keyword">sizeof</span> gap);<br>    gap[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">int</span> front = <span class="hljs-number">0</span> , rear = <span class="hljs-number">0</span>;<br>    dep[t] = <span class="hljs-number">0</span>;<br>    q[rear++] = t;<br>    <span class="hljs-keyword">while</span>(front != rear)<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = q[front++];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].next)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = edge[i].to;<br>            <span class="hljs-keyword">if</span>(~dep[v])<span class="hljs-keyword">continue</span>;<br>            q[rear++] = v;<br>            dep[v] = dep[u] + <span class="hljs-number">1</span>;<br>            ++gap[dep[v]];<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-keyword">int</span> stck[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">isap</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s , <span class="hljs-keyword">int</span> t , <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    bfs(s , t);<br>    <span class="hljs-built_in">memcpy</span>(cur , head , <span class="hljs-keyword">sizeof</span> head);<br>    <span class="hljs-keyword">int</span> top = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> u = s;<br>    <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span>(dep[s] &lt; n)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(u == t)<br>        &#123;<br>            <span class="hljs-keyword">int</span> mi = inf;<br>            <span class="hljs-keyword">int</span> inser;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; top; ++i)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(mi &gt; edge[stck[i]].cap - edge[stck[i]].flow)<br>                &#123;<br>                    mi = edge[stck[i]].cap - edge[stck[i]].flow;<br>                    inser = i;<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; top; ++i)<br>            &#123;<br>                edge[stck[i]].flow += mi;<br>                edge[stck[i] ^ <span class="hljs-number">1</span>].flow -= mi;<br>            &#125;<br>            ans += mi;<br>            top = inser;<br>            u = edge[stck[top] ^ <span class="hljs-number">1</span>].to;<br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br>        <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">int</span> v;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = cur[u]; ~i; i = edge[i].next)<br>        &#123;<br>            v = edge[i].to;<br>            <span class="hljs-keyword">if</span>(edge[i].cap - edge[i].flow &amp;&amp; dep[v] + <span class="hljs-number">1</span> == dep[u])<br>            &#123;<br>                flag = <span class="hljs-literal">true</span>;<br>                cur[u] = i;<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(flag)<br>        &#123;<br>            stck[top++] = cur[u];<br>            u = v;<br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br>        <span class="hljs-keyword">int</span> mi = n;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].next)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(edge[i].cap - edge[i].flow &amp;&amp; dep[edge[i].to] &lt; mi)<br>            &#123;<br>                mi = dep[edge[i].to];<br>                cur[u] = i;<br>            &#125;<br>        &#125;<br>        --gap[dep[u]];<br>        <span class="hljs-keyword">if</span>(!gap[dep[u]])<span class="hljs-keyword">return</span> ans;<br>        dep[u] = mi + <span class="hljs-number">1</span>;<br>        ++gap[dep[u]];<br>        <span class="hljs-keyword">if</span>(u != s)u = edge[stck[--top] ^ <span class="hljs-number">1</span>].to;<br>    &#125;<br>    <span class="hljs-keyword">return</span> ans;<br>&#125;<br><span class="hljs-keyword">int</span> m;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">getid</span><span class="hljs-params">(<span class="hljs-keyword">int</span> i , <span class="hljs-keyword">int</span> j)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> (i - <span class="hljs-number">1</span>) * m + j;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//freopen(&quot;233.txt&quot;,  &quot;r&quot; , stdin);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    <span class="hljs-keyword">int</span> n;<br>    <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m;<br>    <span class="hljs-keyword">int</span> u , v , w;<br>    <span class="hljs-keyword">int</span> s = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> t = n * m + <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">int</span> sum = <span class="hljs-number">0</span>;<br>    init();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; ++j)<br>        &#123;<br>            <span class="hljs-built_in">cin</span> &gt;&gt; w;<br>            sum += w;<br>            u = s;<br>            v = getid(i , j);<br>            addedge(u , v , w);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; ++j)<br>        &#123;<br>            <span class="hljs-built_in">cin</span> &gt;&gt; w;<br>            sum += w;<br>            u = getid(i , j);<br>            v = t;<br>            addedge(u , v , w);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">int</span> cnt = n * m + <span class="hljs-number">1</span>;<span class="hljs-comment">//é¢å¤–çš„ç‚¹</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; ++j)<br>        &#123;<br>            <span class="hljs-built_in">cin</span> &gt;&gt; w;<br>            sum += w;<br>            v = getid(i , j);<br>            ++cnt;<br>            addedge(s , cnt , w);<br>            addedge(cnt , v , inf);<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> k = <span class="hljs-number">1</span>; k &lt;= <span class="hljs-number">4</span>; ++k)<br>                <span class="hljs-keyword">if</span>(i + dx[k] &gt;= <span class="hljs-number">1</span> &amp;&amp; i + dx[k] &lt;= n &amp;&amp; j + dy[k] &gt;= <span class="hljs-number">1</span> &amp;&amp; j + dy[k] &lt;= m)<br>                    addedge(cnt , getid(i + dx[k] , j + dy[k]) , inf);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; ++j)<br>        &#123;<br>            <span class="hljs-built_in">cin</span> &gt;&gt; w;<br>            sum += w;<br>            u = getid(i , j);<br>            ++cnt;<br>            addedge(cnt , t , w);<br>            addedge(u , cnt , inf);<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> k = <span class="hljs-number">1</span>; k &lt;= <span class="hljs-number">4</span>; ++k)<br>                <span class="hljs-keyword">if</span>(i + dx[k] &gt;= <span class="hljs-number">1</span> &amp;&amp; i + dx[k] &lt;= n &amp;&amp; j + dy[k] &gt;= <span class="hljs-number">1</span> &amp;&amp; j + dy[k] &lt;= m)<br>                    addedge(getid(i + dx[k] , j + dy[k]) , cnt , inf);<br>        &#125;<br>    &#125;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; sum - isap(s , t , cnt + <span class="hljs-number">1</span>) &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<p><strong>å‰‘ä¹‹æ‰€æŒ‡ï¼Œå¿ƒä¹‹æ‰€å‘ï¼Œèº«ä¹‹æ‰€å¾€ï¼ï¼</strong></p>
<p>(end)</p>
]]></content>
      <categories>
        <category>ACM-ç½‘ç»œæµ-æœ€å¤§æƒé—­åˆå­å›¾</category>
      </categories>
      <tags>
        <tag>åˆ·é¢˜</tag>
        <tag>acm</tag>
      </tags>
  </entry>
  <entry>
    <title>æ ˆ</title>
    <url>/2018/05/10/%E6%A0%88/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="æ ˆ"><a href="#æ ˆ" class="headerlink" title="æ ˆ"></a>æ ˆ</h1><h2 id="æ ˆçš„å®šä¹‰ï¼š"><a href="#æ ˆçš„å®šä¹‰ï¼š" class="headerlink" title="æ ˆçš„å®šä¹‰ï¼š"></a>æ ˆçš„å®šä¹‰ï¼š</h2><ul>
<li>æ ˆï¼ˆstack)æ˜¯ä¸€ç§å…ƒç´ æ»¡è¶³åè¿›å…ˆå‡ºï¼ˆLast in first out,LIFO) è§„åˆ™çš„çº¿æ€§è¡¨ï¼›</li>
<li>å¯¹æ ˆçš„æ“ä½œæ˜¯åœ¨ è¡¨å°¾ è¿›è¡Œï¼›</li>
<li><strong> æ ˆåº• ï¼ˆbottom)</strong>ï¼šæ ˆçš„è¡¨å¤´ï¼Œ<strong> æ ˆé¡¶ (top)</strong>ï¼šæ ˆçš„è¡¨å°¾ï¼›</li>
<li><strong> å…¥æ ˆ (push)</strong>ï¼šå‘æ ˆå†…æ·»åŠ å…ƒç´ ï¼Œ<strong> å‡ºæ ˆ (pop)</strong>ï¼šåˆ é™¤å…ƒç´ ï¼›</li>
<li><strong> ç©ºæ ˆ </strong>ï¼šæ²¡æœ‰ä»»ä½•å…ƒç´ çš„æ ˆï¼›</li>
<li>æ ˆçš„ä¸»è¦æ“ä½œï¼šå…¥æ ˆã€å‡ºæ ˆã€åˆ¤æ–­æ ˆç©ºï¼›</li>
</ul>
<span id="more"></span>
<h2 id="c-æ ˆçš„å®ç°ï¼š"><a href="#c-æ ˆçš„å®ç°ï¼š" class="headerlink" title="c++æ ˆçš„å®ç°ï¼š"></a>c++æ ˆçš„å®ç°ï¼š</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> DataType&gt; <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Stack</span></span><br><span class="hljs-class">&#123;</span><br><span class="hljs-keyword">public</span>:<br>    Stack(<span class="hljs-keyword">int</span> size)<br>    &#123;<br>        maxSize = size;                     <span class="hljs-comment">//è®¾ç½®æœ€å¤§å®¹é‡</span><br>        top = <span class="hljs-number">-1</span>;                           <span class="hljs-comment">//åˆå§‹åŒ–ä¸ºç©ºæ ˆ</span><br>        elements = <span class="hljs-keyword">new</span> DataType[size];      <span class="hljs-comment">//åˆ†é…ç©ºé—´</span><br>    &#125;<br>    ~Stack()<br>    &#123;<br>        <span class="hljs-keyword">delete</span> [] elements;<br>    &#125;<br><br>    <span class="hljs-comment">//å…¥æ ˆæ“ä½œ</span><br>    <span class="hljs-function">Bool <span class="hljs-title">push</span> <span class="hljs-params">(DataType data)</span></span>;<br>    <span class="hljs-comment">//å‡ºæ ˆæ“ä½œ</span><br>    <span class="hljs-function">DataType <span class="hljs-title">pop</span><span class="hljs-params">()</span></span>;<br><span class="hljs-keyword">private</span>:<br>    DataType *elements;                     <span class="hljs-comment">//æ•°æ®åŸŸæŒ‡é’ˆ</span><br>    <span class="hljs-keyword">int</span> top;                                <span class="hljs-comment">//æ ˆé¡¶</span><br>    <span class="hljs-keyword">int</span> maxSize;                            <span class="hljs-comment">//æ ˆçš„æœ€å¤§å®¹é‡</span><br>&#125;;<br><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> DataType&gt; DataType Stack&lt;DataType&gt;::push(DataType data)<br>&#123;<br>    <span class="hljs-keyword">if</span> (top == maxSize)                     <span class="hljs-comment">//åˆ¤æ–­æ˜¯å¦æ ˆæ»¡</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    elements[++top] = data;                 <span class="hljs-comment">//ä»æ ˆé¡¶å‹å…¥å…ƒç´ </span><br>    <span class="hljs-keyword">return</span> ture;<br>&#125;<br><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> DataType&gt; DataTpye Stack&lt;DataType&gt;::pop()<br>&#123;<br>    <span class="hljs-keyword">if</span> (pop == <span class="hljs-number">-1</span>)                          <span class="hljs-comment">//åˆ¤æ–­æ˜¯å¦æ ˆç©º</span><br>        <span class="hljs-built_in">exit</span>(<span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">return</span> elements[top--];                 <span class="hljs-comment">//è¿”å›æ ˆé¡¶å…ƒç´ </span><br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    Stack&lt;<span class="hljs-keyword">int</span>&gt; s = Stack&lt;<span class="hljs-keyword">int</span>&gt;(<span class="hljs-number">6</span>);<br>    <span class="hljs-keyword">int</span> temp;<br>    temp = s.push(<span class="hljs-number">23</span>);<br>    <span class="hljs-built_in">cout</span> &lt;&lt; temp &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    temp = s.pop();<br>    <span class="hljs-built_in">cout</span> &lt;&lt; temp &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<h2 id="c-stackçš„ä½¿ç”¨ï¼š"><a href="#c-stackçš„ä½¿ç”¨ï¼š" class="headerlink" title="c++ stackçš„ä½¿ç”¨ï¼š"></a>c++ stackçš„ä½¿ç”¨ï¼š</h2><ul>
<li>å¤´æ–‡ä»¶ï¼š<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stack&gt;</span></span><br></code></pre></td></tr></table></figure></li>
<li>å£°æ˜ä¸€ä¸ªæ ˆï¼š<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-built_in">std</span>::<span class="hljs-built_in">stack</span> &lt;DataType&gt; p;<br></code></pre></td></tr></table></figure></li>
<li>ç›¸å…³å‡½æ•°ï¼š<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp">p.empty();		<span class="hljs-comment">//å¦‚æœæ˜¯ç©ºæ ˆï¼Œè¿”å›çœŸå€¼ï¼Œå¦åˆ™è¿”å›å‡å€¼</span><br>p.size();		<span class="hljs-comment">//è¿”å›æ ˆä¸­å…ƒç´ çš„ä¸ªæ•°</span><br>p.top();		<span class="hljs-comment">//è¿”å›æ ˆé¡¶å…ƒç´ çš„**å€¼**ï¼Œä½†ä¸åˆ é™¤è¯¥å…ƒç´ </span><br>p.pop();		<span class="hljs-comment">//åˆ é™¤æ ˆé¡¶å…ƒç´ ï¼Œä½†ä¸è¿”å›å…¶å€¼</span><br>p.push(k);		<span class="hljs-comment">//å‹å…¥æ–°å…ƒç´ k</span><br></code></pre></td></tr></table></figure>
</li>
</ul>
<p>å¦‚æœæ˜¯è§£é¢˜ï¼Œä½¿ç”¨stackæ¨¡æ¿æ›´å¿«ä¸”ä¸æ˜“å‡ºé”™ï¼Œï¼Œï¼Œ<br>ä½†æ˜¯ä¹Ÿè¦äº†è§£å…¶å¦‚ä½•å®ç°çš„ã€‚ã€‚ã€‚ã€‚(à¹‘â€¢Ì€ã…‚â€¢Ì)Ùˆâœ§</p>
<p>Endâ€”</p>
]]></content>
      <tags>
        <tag>acm</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>æ±‚æ ‘çš„ç›´å¾„ã€æ ‘ä¸­æœ€é•¿è·¯</title>
    <url>/2019/03/16/%E6%B1%82%E6%A0%91%E7%9A%84%E7%9B%B4%E5%BE%84%E3%80%81%E6%A0%91%E4%B8%AD%E6%9C%80%E9%95%BF%E8%B7%AF/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p>å¯¹äºä¸€é¢—æœ‰è¾¹æƒçš„æ ‘ï¼Œï¼Œå®ƒçš„ç›´å¾„è¡¨ç¤ºæ ‘ä¸­æœ€è¿œçš„ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´çš„è·ç¦»ï¼Œï¼Œï¼Œ</p>
<p>å¯ä»¥é€šè¿‡ä¸¤æ¬¡æ·±æœï¼ˆå¹¿æœï¼‰æ¥æ±‚å‡ºç›´å¾„</p>
<span id="more"></span>
<h1 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h1><p>ä»ä»»æ„èµ·ç‚¹så¼€å§‹ï¼Œï¼Œæ±‚å‡ºåˆ°sçš„æœ€è¿œçš„èŠ‚ç‚¹nodeï¼Œï¼Œç„¶åå†ä»nodeå¼€å§‹æ±‚å‡ºåˆ°nodeæœ€è¿œçš„èŠ‚ç‚¹ï¼Œï¼Œï¼Œæœç´¢çš„è¿‡ç¨‹ä¸­æ›´æ–°èŠ‚ç‚¹çš„å€¼å’Œè·ç¦»ï¼Œï¼Œ</p>
<p><a href="https://www.cnblogs.com/ywjblog/p/9254997.html">ï¼ˆè²Œä¼¼è¿˜å¯ä»¥ç”¨æ ‘å½¢dpæ¥æ±‚ï¼Œï¼Œï¼Œ</a></p>
<h1 id="ä¾‹é¢˜"><a href="#ä¾‹é¢˜" class="headerlink" title="ä¾‹é¢˜"></a>ä¾‹é¢˜</h1><h2 id="æ—…è¡Œå•†é—®é¢˜"><a href="#æ—…è¡Œå•†é—®é¢˜" class="headerlink" title="æ—…è¡Œå•†é—®é¢˜"></a><a href="https://ac.nowcoder.com/acm/contest/547/E">æ—…è¡Œå•†é—®é¢˜</a></h2><p>åˆšåˆšåšçš„ä¸€é“é¢˜ï¼Œï¼Œå½“æ—¶æ„Ÿè§‰æ˜¯ä¸¤å€çš„æƒå€¼å’Œå‡å»ä¸€ä¸ªæœ€è¿œçš„è·¯ï¼Œï¼Œï¼Œä½†æ˜¯å½“æ—¶ä¸ä¼šæ±‚æœ€è¿œçš„è·¯çš„è·ç¦»ï¼Œï¼Œå°±æ”¾å¼ƒäº†ï¼Œï¼Œï¼Œåæ¥æœ‰äººè¯´å°±æ˜¯è¿™ä¸ªæ€æƒ³ï¼Œï¼Œï¼Œå°±çœ‹äº†ä¸€ä¸‹æ ‘çš„ç›´å¾„æ€ä¹ˆæ±‚ï¼Œï¼Œï¼Œå½“ç„¶è¿™é¢˜æ˜¯æ±‚å‡ºåˆ°èŠ‚ç‚¹1æœ€è¿œçš„è·¯ï¼Œï¼Œä¸æ˜¯ç›´å¾„ï¼Œï¼Œï¼Œ</p>
<p>çº¢ä¹¦ä¸Šçš„æ¿å­æœ‰ç‚¹é•¿ï¼Œï¼Œè€Œä¸”å»ºå›¾æ–¹å¼ä¸æ€ä¹ˆç”¨ï¼Œï¼Œå°±ä¸ç®¡äº†ï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// #include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-comment">//#include &lt;vector&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, next, w;<br>&#125;edge[maxn];<br><span class="hljs-keyword">int</span> tot, head[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> w)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].w = w;<br>    edge[tot].next = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-keyword">int</span> ans, node, sum;<br><span class="hljs-keyword">int</span> dis[maxn];<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].next)<br>    &#123;<br>        <span class="hljs-keyword">int</span> v = edge[i].to;<br>        <span class="hljs-keyword">if</span>(!vis[v])<br>        &#123;<br>            vis[v] = <span class="hljs-literal">true</span>;<br>            dis[v] = dis[u] + edge[i].w;<br>            <span class="hljs-keyword">if</span>(dis[v] &gt; ans)<br>            &#123;<br>                ans = dis[v];<br>                node = v;<br>            &#125;<br>            dfs(v);<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">bfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">queue</span>&lt;<span class="hljs-keyword">int</span>&gt; q;<br>    <span class="hljs-keyword">while</span>(!q.empty())q.pop();<br>    q.push(s);<br>    vis[s] = <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">while</span>(!q.empty())<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = q.front(); q.pop();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].next)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = edge[i].to;<br>            <span class="hljs-keyword">if</span>(!vis[v])<br>            &#123;<br>                vis[v] = <span class="hljs-literal">true</span>;<br>                dis[v] = dis[u] + edge[i].w;<br>                q.push(v);<br>                <span class="hljs-keyword">if</span>(dis[v] &gt; ans)<br>                &#123;<br>                    ans = dis[v];<br>                    node = v;<br>                &#125;<br>            &#125;<br>        &#125;    <br>    &#125;<br>    <br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">solve</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// memset(dis, 0, sizeof dis);</span><br>    <span class="hljs-comment">// memset(vis, false, sizeof vis);</span><br>    <span class="hljs-comment">// ans = 0;</span><br>    <span class="hljs-comment">// node = 0;</span><br>    <span class="hljs-comment">// vis[1] = true;</span><br>    <span class="hljs-comment">// dfs(1);</span><br>    <span class="hljs-built_in">memset</span>(dis, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> dis);<br>    <span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vis);<br>    ans = <span class="hljs-number">0</span>;<br>    node = <span class="hljs-number">0</span>;<br>    vis[<span class="hljs-number">1</span>] = <span class="hljs-literal">true</span>;<br>    bfs(<span class="hljs-number">1</span>, n);<br>    ans = sum * <span class="hljs-number">2</span> - ans;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="hljs-built_in">endl</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    <span class="hljs-keyword">int</span> n; <span class="hljs-built_in">cin</span> &gt;&gt; n;<br>    <span class="hljs-keyword">int</span> u, v, w;<br>    init();<br>    sum = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n - <span class="hljs-number">1</span>; ++i)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; u &gt;&gt; v &gt;&gt; w;<br>        addedge(u, v, w);<br>        addedge(v, u, w);<br>        sum += w;<br>    &#125;<br>    solve(n);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<h2 id="Roads-in-the-North"><a href="#Roads-in-the-North" class="headerlink" title="Roads in the North"></a><a href="http://poj.org/problem?id=2631">Roads in the North</a></h2><p>è£¸é¢˜ï¼Œï¼Œæ±‚æ ‘çš„æœ€é•¿è·¯ï¼Œï¼Œä¹Ÿå°±æ˜¯ç›´å¾„ï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// #include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-comment">//#include &lt;vector&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, next, w;<br>&#125;edge[maxn];<br><span class="hljs-keyword">int</span> tot, head[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> w)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].w = w;<br>    edge[tot].next = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-keyword">int</span> dis[maxn];<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-keyword">int</span> ans, node;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].next)<br>    &#123;<br>        <span class="hljs-keyword">int</span> v = edge[i].to;<br>        <span class="hljs-keyword">if</span>(!vis[v])<br>        &#123;<br>            dis[v] = dis[u] + edge[i].w;<br>            vis[v] =<span class="hljs-literal">true</span>;<br>            <span class="hljs-keyword">if</span>(dis[v] &gt; ans)<br>            &#123;<br>                ans = dis[v];<br>                node = v;<br>            &#125;<br>            dfs(v);<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">solve</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vis);<br>    <span class="hljs-built_in">memset</span>(dis, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> dis);<br>    ans = <span class="hljs-number">0</span>;<br>    node = <span class="hljs-number">0</span>;<br>    vis[<span class="hljs-number">1</span>] = <span class="hljs-literal">true</span>;<br>    dfs(<span class="hljs-number">1</span>);<br><br>    <span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vis);<br>    <span class="hljs-built_in">memset</span>(dis, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> dis);<br>    vis[node] = <span class="hljs-literal">true</span>;<br>    ans = <span class="hljs-number">0</span>;<br>    dfs(node);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, ans);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    <span class="hljs-comment">// ios_base::sync_with_stdio(0);</span><br>    <span class="hljs-comment">// cin.tie(0);cout.tie(0);</span><br>    init();<br>    <span class="hljs-keyword">int</span> u, v, w;<br>    <span class="hljs-keyword">while</span>(~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>, &amp;u, &amp;v, &amp;w))<br>    &#123;<br>        addedge(u, v, w);<br>        addedge(v, u, w);<br>    &#125;<br>    solve();<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<p>(end)</p>
]]></content>
      <categories>
        <category>ACM-å›¾è®º-æ ‘çš„ç›´å¾„</category>
      </categories>
      <tags>
        <tag>åˆ·é¢˜</tag>
        <tag>acm</tag>
      </tags>
  </entry>
  <entry>
    <title>æ±‡ç¼–ç¬”è®°_ç¬¬ä¸€ç« </title>
    <url>/2018/12/25/%E6%B1%87%E7%BC%96%E7%AC%94%E8%AE%B0-%E7%AC%AC%E4%B8%80%E7%AB%A0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p>é©¬ä¸Šè¦æœŸæœ«äº†ï¼Œï¼Œï¼Œæµªäº†ä¸€å­¦æœŸï¼Œï¼Œç°åœ¨å¼€å§‹å¤(yu)ä¹ (xi)äº†ï¼Œï¼Œï¼ŒQAQ</p>
<p>æ±‡ç¼–å…¶å®ä¸éš¾ï¼Œï¼ŒæŠŠæ¦‚å¿µè®°ä½åŸºæœ¬å°±æ²¡é—®é¢˜äº†ï¼Œï¼Œ</p>
<p>æ‰€ä»¥ï¼Œå†™è¿™å‡ ç¯‡åšå®¢çš„ç›®çš„å°±æ˜¯åšä¸ªå¤ä¹ çš„ç¬”è®°ï¼Œï¼ŒæŠŠæˆ‘è®¤ä¸ºï¼ˆæˆ–è€…è¯´å¯¹äºæˆ‘æ¥è¯´ï¼‰é‡è¦çš„ä¸œè¥¿è®°å½•ä»¥ä¸‹ï¼Œï¼Œå¦‚æœæœ‰ä»€ä¹ˆé”™è¯¯çš„åœ°æ–¹ä¹Ÿå¸Œæœ›èƒ½æŒ‡å‡ºæ¥ï¼Œï¼Œ</p>
<p>ä¸»è¦å†…å®¹éƒ½æ˜¯ <em>ç‹çˆ½ã€Šæ±‡ç¼–è¯­è¨€ã€‹</em> è¿™æœ¬ä¹¦å’Œè€å¸ˆçš„pptä¸Šçš„æ‘˜æŠ„ï¼Œç†è§£</p>
<span id="more"></span>
<h1 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h1><h2 id="æ±‡ç¼–è¯­è¨€å®šä¹‰"><a href="#æ±‡ç¼–è¯­è¨€å®šä¹‰" class="headerlink" title="æ±‡ç¼–è¯­è¨€å®šä¹‰"></a>æ±‡ç¼–è¯­è¨€å®šä¹‰</h2><blockquote>
<p>æ±‡ç¼–è¯­è¨€æ˜¯ä¸€ç§ <strong>ç¬¦å·åŒ–çš„æœºå™¨è¯­è¨€</strong> ï¼Œå³ç”¨ <strong>æŒ‡ä»¤åŠ©è®°ç¬¦</strong> ã€ <strong>ç¬¦å·åœ°å€</strong> ã€ <strong>æ ‡å·</strong> ç­‰ç¬¦å·ä¹¦å†™ç¨‹åºçš„è¯­è¨€ã€‚</p>
</blockquote>
<h2 id="ç”¨æ±‡ç¼–è¯­è¨€ç¼–å†™ç¨‹åºçš„å·¥ä½œè¿‡ç¨‹"><a href="#ç”¨æ±‡ç¼–è¯­è¨€ç¼–å†™ç¨‹åºçš„å·¥ä½œè¿‡ç¨‹" class="headerlink" title="ç”¨æ±‡ç¼–è¯­è¨€ç¼–å†™ç¨‹åºçš„å·¥ä½œè¿‡ç¨‹"></a>ç”¨æ±‡ç¼–è¯­è¨€ç¼–å†™ç¨‹åºçš„å·¥ä½œè¿‡ç¨‹</h2><p><strong>æ±‡ç¼–å™¨(assembler)</strong>: ä¸€ç§å·¥å…·ç¨‹åºï¼Œå°† æ±‡ç¼–ç¨‹åº è½¬åŒ–ä¸º æœºå™¨è¯­è¨€ï¼›<br><strong>é“¾æ¥å™¨(linker)</strong>: æŠŠ æ±‡ç¼–ç”Ÿæˆçš„å•ä¸ªæ–‡ä»¶ ç»„åˆæˆä¸€ä¸ª å¯æ‰§è¡Œæ–‡ä»¶ï¼›<br><strong>è°ƒè¯•å™¨(debugger)</strong>: åœ¨ç¨‹åºè¿è¡Œæ—¶ï¼Œè·Ÿè¸ª ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ å’Œ å„å™¨ä»¶çŠ¶æ€ï¼›</p>
<h2 id="æ±‡ç¼–è¯­è¨€çš„ç»„æˆ"><a href="#æ±‡ç¼–è¯­è¨€çš„ç»„æˆ" class="headerlink" title="æ±‡ç¼–è¯­è¨€çš„ç»„æˆ"></a>æ±‡ç¼–è¯­è¨€çš„ç»„æˆ</h2><p>æ±‡ç¼–è¯­è¨€æœ‰3ç±»æŒ‡ä»¤ç»„æˆï¼š</p>
<ul>
<li>æ±‡ç¼–æŒ‡ä»¤ï¼š æœºå™¨ç çš„åŠ©è®°ç¬¦ï¼Œæœ‰å¯¹åº”çš„æœºå™¨ç ï¼›</li>
<li>ä¼ªæŒ‡ä»¤ï¼š ç”±ç¼–è¯‘å™¨æ‰§è¡Œï¼Œæ²¡æœ‰å¯¹åº”çš„æœºå™¨ç ï¼Œè®¡ç®—æœºä¸æ‰§è¡Œï¼›</li>
<li>å…¶ä»–ç¬¦å·ï¼š ç”±ç¼–è¯‘å™¨è¯†åˆ«ï¼Œæ²¡æœ‰å¯¹åº”çš„æœºå™¨ç ï¼Œå¦‚+ã€-ã€*ã€/ç­‰</li>
</ul>
<h2 id="æŒ‡ä»¤ç³»ç»Ÿçš„çš„åˆ†ç±»ï¼š"><a href="#æŒ‡ä»¤ç³»ç»Ÿçš„çš„åˆ†ç±»ï¼š" class="headerlink" title="æŒ‡ä»¤ç³»ç»Ÿçš„çš„åˆ†ç±»ï¼š"></a>æŒ‡ä»¤ç³»ç»Ÿçš„çš„åˆ†ç±»ï¼š</h2><ul>
<li>ç®—é€»è¿ç®—ç±»</li>
<li>æ•°æ®ä¼ é€ç±»</li>
<li>æŒ‡ä»¤æ§åˆ¶ç±»</li>
<li>I/Oç±»</li>
<li>å…¶ä»–</li>
</ul>
<h2 id="I-Oå­ç³»ç»Ÿ"><a href="#I-Oå­ç³»ç»Ÿ" class="headerlink" title="I/Oå­ç³»ç»Ÿ"></a>I/Oå­ç³»ç»Ÿ</h2><p>I/Oè½¯ä»¶è¢«ç»„ç»‡æˆä»é«˜åˆ°ä½çš„å››ä¸ªå±‚æ¬¡ï¼š</p>
<ul>
<li>ç”¨æˆ·å±‚I/Oè½¯ä»¶ï¼ˆI/Oå‡½æ•°è°ƒç”¨ç³»ç»Ÿè°ƒç”¨ï¼‰</li>
<li>ä¸è®¾å¤‡æ— å…³çš„æ“ä½œç³»ç»ŸI/Oè½¯ä»¶</li>
<li>è®¾å¤‡é©±åŠ¨ç¨‹åº</li>
<li>I/Oä¸­æ–­å¤„ç†ç¨‹åº</li>
</ul>
<h2 id="å‚¨å­˜å™¨"><a href="#å‚¨å­˜å™¨" class="headerlink" title="å‚¨å­˜å™¨"></a>å‚¨å­˜å™¨</h2><ul>
<li>å‚¨å­˜å™¨è¢«åˆ’åˆ†ä¸ºè‹¥å¹²ä¸ª <strong>å‚¨å­˜å•å…ƒ</strong>ï¼Œæ¯ä¸ªå•å…ƒä»0å¼€å§‹é¡ºåºç¼–å·ï¼›</li>
<li>å‚¨å­˜çš„ä¿¡æ¯ï¼š <strong>æŒ‡ä»¤</strong> å’Œ <strong>æ•°æ®</strong> ï¼Œ åœ¨å†…å­˜æˆ–ç£ç›˜ä¸ŠäºŒè€…æ²¡æœ‰åŒºåˆ«éƒ½æ˜¯äºŒè¿›åˆ¶ä¿¡æ¯ï¼›</li>
</ul>
<h3 id="å†…å­˜è¯»å†™"><a href="#å†…å­˜è¯»å†™" class="headerlink" title="å†…å­˜è¯»å†™"></a>å†…å­˜è¯»å†™</h3><p>CPUè¦è¿›è¡Œæ•°æ®çš„è¯»å†™ï¼Œå¿…é¡»å’Œå¤–éƒ¨å™¨ä»¶è¿›è¡Œ3ç±»ä¿¡æ¯çš„äº¤äº’ï¼š</p>
<ul>
<li>åœ°å€ä¿¡æ¯ï¼šå‚¨å­˜å•å…ƒçš„åœ°å€</li>
<li>æ§åˆ¶ä¿¡æ¯ï¼šå™¨ä»¶çš„é€‰æ‹©ï¼Œè¯»æˆ–å†™çš„å‘½ä»¤</li>
<li>æ•°æ®ä¿¡æ¯ï¼šè¯»æˆ–å†™çš„æ•°æ®</li>
</ul>
<p>è®¡ç®—æœºä¸­ä¸“é—¨ç”± <strong>è¿æ¥CPU</strong> å’Œ <strong>å…¶ä»–èŠ¯ç‰‡</strong> çš„ <strong>å¯¼çº¿</strong>ï¼Œé€šå¸¸ä¸º <strong>æ€»çº¿</strong>ï¼›</p>
<p>ç‰©ç†ä¸Šï¼šä¸€æ ¹æ ¹å¯¼çº¿çš„é›†åˆï¼›<br>é€»è¾‘ä¸Šåˆ’åˆ†ä¸ºï¼š <strong>åœ°å€æ€»çº¿</strong> ã€ <strong>æ•°æ®æ€»çº¿</strong> ã€ <strong>æ§åˆ¶æ€»çº¿</strong>ï¼›</p>
<h3 id="æ€»çº¿"><a href="#æ€»çº¿" class="headerlink" title="æ€»çº¿"></a>æ€»çº¿</h3><h4 id="åœ°å€æ€»çº¿"><a href="#åœ°å€æ€»çº¿" class="headerlink" title="åœ°å€æ€»çº¿"></a>åœ°å€æ€»çº¿</h4><p>CPUæ˜¯é€šè¿‡åœ°å€æ€»çº¿æ¥åˆ¶å®šå­˜å‚¨çš„å•å…ƒçš„ï¼›</p>
<p>æ€»çº¿çš„å®½åº¦å†³å®šäº† <strong>ç‰©ç†å¯»å€çš„èŒƒå›´</strong>ï¼›</p>
<p>ä¸€ä¸ªCPUæœ‰ $N$ æ ¹åœ°å€æ€»çº¿ï¼ŒCPUæœ€å¤šå¯ä»¥å¯»æ‰¾ $2^N$ä¸ªå†…å­˜å•å…ƒï¼›</p>
<h4 id="æ•°æ®æ€»çº¿"><a href="#æ•°æ®æ€»çº¿" class="headerlink" title="æ•°æ®æ€»çº¿"></a>æ•°æ®æ€»çº¿</h4><p>æ•°æ®æ€»çº¿çš„å®½åº¦å†³å®šäº† <strong>CPUå’Œå¤–ç•Œè¿›è¡Œä¸€æ¬¡æ•°æ®ä¼ é€</strong> çš„ <strong>ä½æ•°</strong>ï¼›</p>
<p>ä¾‹å¦‚ï¼Œ8æ ¹æ•°æ®æ€»çº¿ä¸€æ¬¡å¯ä»¥ä¼ é€ä¸€ä¸ª8ä¸ºäºŒè¿›åˆ¶æ•°æ®ï¼ˆå³ä¸€ä¸ªå­—èŠ‚ï¼‰ï¼Œ16çš„å°±æ˜¯ä¸¤ä¸ªå­—èŠ‚ï¼›</p>
<h4 id="æ§åˆ¶æ€»çº¿"><a href="#æ§åˆ¶æ€»çº¿" class="headerlink" title="æ§åˆ¶æ€»çº¿"></a>æ§åˆ¶æ€»çº¿</h4><p>ä¸åŒçš„æ§åˆ¶çº¿çš„é›†åˆï¼Œæ§åˆ¶æ€»çº¿çš„å®½åº¦å†³å®šäº† <strong>CPUå¯¹å¤–éƒ¨å™¨ä»¶çš„æ§åˆ¶èƒ½åŠ›</strong>ï¼›</p>
<h1 id="ä¾‹é¢˜"><a href="#ä¾‹é¢˜" class="headerlink" title="ä¾‹é¢˜"></a>ä¾‹é¢˜</h1><ul>
<li>ä¸€ä¸ªCPUçš„å¯»å€èƒ½åŠ›ä¸º8KBï¼Œé‚£ä¹ˆå®ƒçš„åœ°å€æ€»çº¿çš„å®½åº¦ä¸º13ï¼›1kB = 1024B,8kB = $2^{13}$ B</li>
<li>1KBçš„å­˜å‚¨å™¨å¯ä»¥å­˜å‚¨ $2^{13}$ ä¸ªbit,1024ä¸ªByte;1Byte = 8bit,1KB = $2^{10} Byte = $8 * 2^{10}$ bit = $2^{13}$ bit</li>
</ul>
<p>(end)</p>
]]></content>
      <categories>
        <category>æ±‡ç¼–è¯­è¨€</category>
      </categories>
      <tags>
        <tag>ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>æ±‡ç¼–ç¬”è®°_ç¬¬ä¸ƒç« </title>
    <url>/2018/12/26/%E6%B1%87%E7%BC%96%E7%AC%94%E8%AE%B0-%E7%AC%AC%E4%B8%83%E7%AB%A0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="æ›´çµæ´»çš„å®šä½å†…å­˜åœ°å€çš„æ–¹æ³•"><a href="#æ›´çµæ´»çš„å®šä½å†…å­˜åœ°å€çš„æ–¹æ³•" class="headerlink" title="æ›´çµæ´»çš„å®šä½å†…å­˜åœ°å€çš„æ–¹æ³•"></a>æ›´çµæ´»çš„å®šä½å†…å­˜åœ°å€çš„æ–¹æ³•</h1><h2 id="andå’ŒoræŒ‡ä»¤"><a href="#andå’ŒoræŒ‡ä»¤" class="headerlink" title="andå’ŒoræŒ‡ä»¤"></a>andå’ŒoræŒ‡ä»¤</h2><ul>
<li>andæŒ‡ä»¤ï¼šé€»è¾‘ä¸æŒ‡ä»¤ï¼ŒæŒ‰ä½è¿›è¡Œä¸è¿ç®—ï¼›</li>
<li>é€šè¿‡è¯¥æŒ‡ä»¤å¯ä»¥å°†æ“ä½œå¯¹è±¡çš„ç›¸åº”ä¸ºè®¾ä¸º0ï¼Œå…¶ä»–ä½ä¸å˜ï¼Œä¾‹å¦‚å°†alçš„ç¬¬6ä¸ºè®¾ä¸º0çš„æŒ‡ä»¤æ˜¯ï¼š<code>and al,10111111B</code></li>
</ul>
<span id="more"></span>
<ul>
<li>oræŒ‡ä»¤ï¼Œé€»è¾‘æˆ–æŒ‡ä»¤ï¼ŒæŒ‰ä½è¿›è¡Œæˆ–è¿ç®—ï¼›</li>
<li>åŒæ ·ï¼Œæˆ–è¿ç®—å¯ä»¥å°†æ“ä½œå¯¹è±¡çš„ç›¸åº”è®¾ä¸º1ï¼Œå…¶ä»–ä½ä¸å˜ï¼š<code>or al,01000000B</code>ï¼›</li>
</ul>
<h2 id="å­—ç¬¦å¤§å°å†™è½¬æ¢"><a href="#å­—ç¬¦å¤§å°å†™è½¬æ¢" class="headerlink" title="å­—ç¬¦å¤§å°å†™è½¬æ¢"></a>å­—ç¬¦å¤§å°å†™è½¬æ¢</h2><ul>
<li>æ±‡ç¼–ç¨‹åºä¸­ï¼Œç”¨<code>&#39;...&#39;</code>æ¥æŒ‡æ˜æ•°æ®æ˜¯ä»¥å­—ç¬¦çš„å½¢å¼ç»™å‡ºçš„ï¼Œç¼–è¯‘å™¨å°†æŠŠä»–ä»¬è½¬åŒ–æˆå¯¹åº”çš„ASCIIç ï¼›</li>
<li>å¯¹æ¯”å¤§å†™å­—æ¯å’Œå°å†™å­—æ¯çš„äºŒè¿›åˆ¶ï¼Œå°å†™å­—æ¯çš„asciiç å€¼æ¯”å¤§å­¦å­—æ¯çš„å¤§ <strong>20H</strong>ï¼Œè€Œä¸”é™¤ç¬¬5ä½ä»¥å¤–å…¶ä»–ä½éƒ½ä¸€æ ·ï¼Œå¤§å†™å­—æ¯çš„ç¬¬äº”ä½ä¸º0ï¼Œå°å†™å­—æ¯çš„ä¸º1ï¼›</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th>å¤§å†™</th>
<th>äºŒè¿›åˆ¶</th>
<th>å°å†™</th>
<th>äºŒè¿›åˆ¶</th>
</tr>
</thead>
<tbody>
<tr>
<td>A</td>
<td>01000001</td>
<td>a</td>
<td>01100001</td>
</tr>
<tr>
<td>B</td>
<td>01000010</td>
<td>b</td>
<td>01100010</td>
</tr>
<tr>
<td>C</td>
<td>01000011</td>
<td>c</td>
<td>01100011</td>
</tr>
<tr>
<td>D</td>
<td>01000100</td>
<td>d</td>
<td>01100100</td>
</tr>
</tbody>
</table>
</div>
<p>æ‰€ä»¥å¯ä»¥é€šè¿‡ä¸æˆ–æ“ä½œæ¥å®ç°ï¼š</p>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">...</span><br><span class="hljs-keyword">add</span> al,<span class="hljs-number">11011111</span>B<span class="hljs-comment">;å˜å¤§å†™å­—æ¯</span><br><span class="hljs-symbol">...</span><br><span class="hljs-symbol">or</span> al,<span class="hljs-number">00100000</span>B<span class="hljs-comment">;å˜å°å†™å­—æ¯</span><br><span class="hljs-symbol">...</span><br></code></pre></td></tr></table></figure>
<h2 id="bx-idata"><a href="#bx-idata" class="headerlink" title="[bx + idata]"></a>[bx + idata]</h2><figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-keyword">mov</span> al,[<span class="hljs-keyword">bx</span> + <span class="hljs-number">5</span>]<br><span class="hljs-keyword">mov</span> al,[<span class="hljs-number">5</span> + bx]<br><span class="hljs-keyword">mov</span> al,<span class="hljs-number">5</span>[bx]<br><br><span class="hljs-keyword">mov</span> al,[<span class="hljs-keyword">bx</span> + <span class="hljs-number">0</span>]<br><span class="hljs-keyword">mov</span> al,[<span class="hljs-number">0</span> + bx]<br><span class="hljs-keyword">mov</span> al,<span class="hljs-number">0</span>[bx]<br><br>éƒ½æ˜¯ç­‰ä»·çš„<br></code></pre></td></tr></table></figure>
<h2 id="SIå’ŒDI"><a href="#SIå’ŒDI" class="headerlink" title="SIå’ŒDI"></a>SIå’ŒDI</h2><ul>
<li>SIå’ŒDIæ˜¯8086CPUä¸­å’ŒbxåŠŸèƒ½ç›¸è¿‘çš„å¯„å­˜å™¨ï¼›</li>
<li>ä»–ä»¬ä¸èƒ½åˆ†æˆä¸¤ä¸ª8ä½å¯„å­˜å™¨ä½¿ç”¨ï¼›</li>
<li><p>å¯ä»¥ä½¿ç”¨[bx + si]ã€[bx + di]æŒ‡æ˜å†…å­˜å•å…ƒï¼ŒæŒ‡ä»¤<code>mov ax,[bx + si]</code>å¯ä»¥å†™æˆ<code>mov ax,[bx][si]</code>ï¼›</p>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-keyword">mov</span> ax[bx+si+idata]<br>å¯ä»¥å†™æˆï¼š<br><span class="hljs-keyword">mov</span> ax,[bx+<span class="hljs-number">200</span>+si]<br><span class="hljs-keyword">mov</span> ax,[<span class="hljs-number">200</span>+bx+si]<br><span class="hljs-keyword">mov</span> ax,<span class="hljs-number">200</span>[bx][si]<br><span class="hljs-keyword">mov</span> ax,[bx].<span class="hljs-number">200</span>[si]<br><span class="hljs-keyword">mov</span> ax,[bx][si].<span class="hljs-number">200</span><br></code></pre></td></tr></table></figure>
<h2 id="ä¸åŒçš„å¯»å€æ–¹å¼çš„çµæ´»è¿ç”¨"><a href="#ä¸åŒçš„å¯»å€æ–¹å¼çš„çµæ´»è¿ç”¨" class="headerlink" title="ä¸åŒçš„å¯»å€æ–¹å¼çš„çµæ´»è¿ç”¨"></a>ä¸åŒçš„å¯»å€æ–¹å¼çš„çµæ´»è¿ç”¨</h2></li>
<li><p>ä¸€èˆ¬æ¥è¯´ï¼Œåœ¨éœ€è¦æš‚å­˜æ•°æ®çš„æ—¶å€™ï¼Œéœ€è¦æ ˆæ¥ä¿å­˜ï¼›</p>
</li>
<li>ä¾‹å¦‚ï¼š<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-comment">//å°†æ¯ä¸€è¡Œçš„å­—æ¯éƒ½å˜ä¸ºå¤§å†™</span><br><br><span class="hljs-symbol">assume</span> cs:codesg,ds:datasg,ss:stacksg<br><span class="hljs-symbol">datasg</span> segment<br><span class="hljs-symbol">db</span> <span class="hljs-string">&#x27;ibm           &#x27;</span><br><span class="hljs-symbol">db</span> <span class="hljs-string">&#x27;dec           &#x27;</span><br><span class="hljs-symbol">db</span> <span class="hljs-string">&#x27;dos           &#x27;</span><br><span class="hljs-symbol">db</span> <span class="hljs-string">&#x27;vax           &#x27;</span><br><span class="hljs-symbol">datasg</span> ends<br><br><span class="hljs-symbol">stacksg</span> segment<br><span class="hljs-symbol">dw</span> <span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span><br><span class="hljs-symbol">stacksg</span> ends<br><br><span class="hljs-symbol">cosesg</span> segment<br><br><span class="hljs-symbol">start:</span><br><span class="hljs-keyword">mov</span> ax,stacksg<br><span class="hljs-keyword">mov</span> ss,ax<br><span class="hljs-keyword">mov</span> ds,ax<br><span class="hljs-keyword">mov</span> bx,<span class="hljs-number">0</span><br><br><span class="hljs-keyword">mov</span> cx,<span class="hljs-number">4</span><br><br><span class="hljs-symbol">s0:</span><br><span class="hljs-keyword">push</span> cx     <span class="hljs-comment">//ä¿å­˜å¤–å±‚å¾ªç¯çš„cx</span><br><span class="hljs-keyword">mov</span> si,<span class="hljs-number">0</span><br><span class="hljs-symbol">mob</span> cx,<span class="hljs-number">3</span>    <span class="hljs-comment">//è®¾ç½®å†…å±‚å¾ªç¯çš„cx</span><br><br>s:<br><span class="hljs-keyword">mov</span> al,[bx+si]<br><span class="hljs-keyword">and</span> al,<span class="hljs-number">11011111</span>b<br><span class="hljs-keyword">mov</span> [bx+si],al<br><span class="hljs-symbol">inc</span> si<br><span class="hljs-symbol">loop</span> s<br><br><span class="hljs-keyword">add</span> bx,<span class="hljs-number">16</span><br><span class="hljs-keyword">pop</span> cx      <span class="hljs-comment">//æ¢å¤å¤–å±‚å¾ªç¯cxçš„å€¼</span><br><span class="hljs-symbol">loop</span> <span class="hljs-built_in">s0</span><br><br><span class="hljs-keyword">mov</span> <span class="hljs-number">4</span>c00h<br><span class="hljs-symbol">int</span> <span class="hljs-number">21</span>h<br><br><span class="hljs-symbol">codesg</span> ends<br><span class="hljs-symbol">end</span> start<br></code></pre></td></tr></table></figure>
</li>
</ul>
<p>(end)</p>
]]></content>
      <categories>
        <category>æ±‡ç¼–è¯­è¨€</category>
      </categories>
      <tags>
        <tag>ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>æ±‡ç¼–ç¬”è®°_ç¬¬ä¸‰ç« </title>
    <url>/2018/12/26/%E6%B1%87%E7%BC%96%E7%AC%94%E8%AE%B0-%E7%AC%AC%E4%B8%89%E7%AB%A0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="å¯„å­˜å™¨å†…å­˜è®¿é—®"><a href="#å¯„å­˜å™¨å†…å­˜è®¿é—®" class="headerlink" title="å¯„å­˜å™¨å†…å­˜è®¿é—®"></a>å¯„å­˜å™¨å†…å­˜è®¿é—®</h1><h2 id="å†…å­˜å™¨ä¸­å­—çš„å­˜å‚¨"><a href="#å†…å­˜å™¨ä¸­å­—çš„å­˜å‚¨" class="headerlink" title="å†…å­˜å™¨ä¸­å­—çš„å­˜å‚¨"></a>å†…å­˜å™¨ä¸­å­—çš„å­˜å‚¨</h2><ul>
<li>å¤§ç«¯æ–¹å¼ï¼šé«˜ä½å­—èŠ‚æ’æ”¾åœ¨å†…å­˜çš„ä½åœ°å€ç«¯ï¼Œä½ä½å­—èŠ‚å­˜æ”¾åœ¨é«˜åœ°å€ç«¯ï¼›ï¼ˆç°åœ¨è§åˆ°çš„éƒ½æ˜¯å¤§ç«¯æ–¹å¼ï¼‰</li>
<li>å°ç«¯æ–¹å¼ï¼šä½ä½å­—èŠ‚å­˜æ”¾åœ¨å†…å­˜çš„ä½åœ°å€ç«¯ï¼Œé«˜ä½å­—èŠ‚å­˜æ”¾åœ¨é«˜åœ°å€ç«¯ï¼›</li>
</ul>
<span id="more"></span>
<h2 id="DSå’Œ-address"><a href="#DSå’Œ-address" class="headerlink" title="DSå’Œ[address]"></a>DSå’Œ[address]</h2><ul>
<li>æ‰§è¡ŒæŒ‡ä»¤æ—¶ï¼Œ8086CPUè‡ªåŠ¨å–DSä¸­çš„æ•°æ®ä½œä¸ºå†…å­˜å•å…ƒçš„æ®µåœ°å€ï¼›</li>
<li>ä¸èƒ½ç›´æ¥å°†æ•°æ®é€åˆ°DSä¸­ï¼Œå¿…é¡» <em>æ•°æ®-&gt;ä¸€èˆ¬çš„å¯„å­˜å™¨-&gt;æ®µå¯„å­˜å™¨</em>ï¼›</li>
</ul>
<p>ä¾‹å¦‚ï¼š</p>
<p><code>mov bx,1000H</code></p>
<p><code>mov ds,bx</code></p>
<p><code>mov [0],al</code></p>
<h2 id="å­—çš„ä¼ é€"><a href="#å­—çš„ä¼ é€" class="headerlink" title="å­—çš„ä¼ é€"></a>å­—çš„ä¼ é€</h2><ul>
<li>8086CPUæ˜¯16ä½ç»“æ„ï¼Œæœ‰16æ ¹æ•°æ®çº¿ï¼Œä¸€æ¬¡å¯ä»¥ä¼ é€16ä½çš„æ•°æ®ï¼Œä¹Ÿå°±æ˜¯ä¸€æ¬¡å¯ä»¥ä¼ é€ä¸€ä¸ªå­—ï¼›(P50çš„é—®é¢˜3.3ã€3.4)</li>
</ul>
<h2 id="movã€addã€subæŒ‡ä»¤"><a href="#movã€addã€subæŒ‡ä»¤" class="headerlink" title="movã€addã€subæŒ‡ä»¤"></a>movã€addã€subæŒ‡ä»¤</h2><p>movæŒ‡ä»¤çš„å‡ ç§å½¢å¼ï¼š</p>
<figure class="highlight css"><table><tr><td class="code"><pre><code class="hljs css">mov å¯„å­˜å™¨,æ•°æ®<br><br>mov å¯„å­˜å™¨,å¯„å­˜å™¨<br><br>mov å¯„å­˜å™¨,å†…å­˜å•å…ƒ<br><br>mov å†…å­˜å•å…ƒ,å¯„å­˜å™¨<br><br>mov æ®µå¯„å­˜å™¨,å¯„å­˜å™¨<br></code></pre></td></tr></table></figure>
<h2 id="æ ˆ"><a href="#æ ˆ" class="headerlink" title="æ ˆ"></a>æ ˆ</h2><ul>
<li>8086CPUä¸­çš„å…¥æ ˆå’Œå‡ºæ ˆæ“ä½œéƒ½æ˜¯ä»¥ <strong>å­—</strong> ä¸ºå•ä½çš„ï¼›</li>
<li>ä»»æ„æ—¶åˆ»ï¼ŒSS:SPæŒ‡å‘æ ˆé¡¶å…ƒç´ ï¼›</li>
</ul>
<h3 id="pushæŒ‡ä»¤çš„æ‰§è¡Œè¿‡ç¨‹"><a href="#pushæŒ‡ä»¤çš„æ‰§è¡Œè¿‡ç¨‹" class="headerlink" title="pushæŒ‡ä»¤çš„æ‰§è¡Œè¿‡ç¨‹"></a>pushæŒ‡ä»¤çš„æ‰§è¡Œè¿‡ç¨‹</h3><p><code>push ax</code></p>
<ul>
<li>SP = SP - 2;</li>
<li>å°†axä¸­çš„å†…å®¹é€å…¥åˆ°SS:SPæŒ‡å‘çš„å†…å­˜å•å…ƒå¤„ï¼ŒSS:SPæ­¤æ—¶æŒ‡å‘æ–°æ ˆé¡¶ï¼›</li>
<li>æ ˆç©ºæ—¶ï¼ŒSS:SPæŒ‡å‘æ ˆç©ºé—´æœ€é«˜åœ°å€å•å…ƒçš„ä¸‹ä¸€ä¸ªå•å…ƒï¼›</li>
</ul>
<h3 id="popæŒ‡ä»¤çš„æ‰§è¡Œè¿‡ç¨‹"><a href="#popæŒ‡ä»¤çš„æ‰§è¡Œè¿‡ç¨‹" class="headerlink" title="popæŒ‡ä»¤çš„æ‰§è¡Œè¿‡ç¨‹"></a>popæŒ‡ä»¤çš„æ‰§è¡Œè¿‡ç¨‹</h3><p><code>pop ax</code></p>
<ul>
<li>å°†SS:SPæŒ‡å‘çš„å†…å­˜å•å…ƒå‡ºçš„æ•°æ®é€å…¥axä¸­ï¼›</li>
<li>SP = SP + 2ï¼›</li>
</ul>
<h2 id="æ ˆé¡¶è¶…ç•Œçš„é—®é¢˜"><a href="#æ ˆé¡¶è¶…ç•Œçš„é—®é¢˜" class="headerlink" title="æ ˆé¡¶è¶…ç•Œçš„é—®é¢˜"></a>æ ˆé¡¶è¶…ç•Œçš„é—®é¢˜</h2><ul>
<li>å½“ <strong>æ ˆæ»¡çš„æ—¶å€™å†ä½¿ç”¨pushæŒ‡ä»¤å…¥æ ˆ</strong> ã€ <strong>æ ˆç©ºçš„æ—¶å€™å†ä½¿ç”¨popæŒ‡ä»¤å‡ºæ ˆ</strong> éƒ½ä¼šå‘ç”Ÿæ ˆé¡¶è¶…ç•Œé—®é¢˜ï¼›</li>
<li>8086CPUä¸ä¿è¯å¯¹æ ˆçš„æ“ä½œä¸ä¼šè¶…ç•Œï¼›</li>
</ul>
<h3 id="pushã€popæŒ‡ä»¤"><a href="#pushã€popæŒ‡ä»¤" class="headerlink" title="pushã€popæŒ‡ä»¤"></a>pushã€popæŒ‡ä»¤</h3><ul>
<li><p><code>push/pop å¯„å­˜å™¨ã€æ®µå¯„å­˜å™¨ã€å†…å­˜å•å…ƒ</code></p>
</li>
<li><p>æ ˆå¯ä»¥ä¿å­˜å¯„å­˜å™¨çš„æ•°æ®ï¼Œæ¢å¤æ—¶å‡ºæ ˆçš„é¡ºåºè¦å’Œå…¥æ ˆçš„é¡ºåºç›¸åï¼›</p>
</li>
<li>æ ˆå¯ä»¥å‘ä¸€ä¸ªåœ°å€å¤„çš„å†…å­˜å•å…ƒå†™å…¥æ•°æ®ï¼Œå…ˆè®¾ç½®ss,spçš„å€¼ç„¶åpushï¼›</li>
<li>æ ˆé¡¶spçš„å˜åŒ–èŒƒå›´ä¸º0~FFFFHï¼›</li>
</ul>
<h2 id="æ®µåœ°ç»¼è¿°"><a href="#æ®µåœ°ç»¼è¿°" class="headerlink" title="æ®µåœ°ç»¼è¿°"></a>æ®µåœ°ç»¼è¿°</h2><ul>
<li>å¯¹äºæ•°æ®æ®µï¼Œæ®µåœ°å€å­˜æ”¾åœ¨DSä¸­</li>
<li>å¯¹äºä»£ç æ®µï¼Œæ®µåœ°å€å­˜æ”¾åœ¨CSï¼Œæ®µä¸­çš„ç¬¬ä¸€æ¡æŒ‡ä»¤çš„åç§»åœ°å€åœ¨IPä¸­ï¼›</li>
<li>å¯¹äºæ ˆæ®µï¼Œæ®µåœ°å€å­˜æ”¾åœ¨SSä¸­ï¼Œæ ˆé¡¶çš„åç§»åœ°å€å­˜æ”¾åœ¨SPä¸­ï¼›</li>
</ul>
]]></content>
      <categories>
        <category>æ±‡ç¼–è¯­è¨€</category>
      </categories>
      <tags>
        <tag>ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>æ±‡ç¼–ç¬”è®°_ç¬¬ä¹ç« </title>
    <url>/2018/12/27/%E6%B1%87%E7%BC%96%E7%AC%94%E8%AE%B0-%E7%AC%AC%E4%B9%9D%E7%AB%A0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="è½¬ç§»æŒ‡ä»¤çš„åŸç†"><a href="#è½¬ç§»æŒ‡ä»¤çš„åŸç†" class="headerlink" title="è½¬ç§»æŒ‡ä»¤çš„åŸç†"></a>è½¬ç§»æŒ‡ä»¤çš„åŸç†</h1><p>8086CPUçš„è½¬ç§»æŒ‡ä»¤åˆ†ä¸ºä»¥ä¸‹å‡ ç±»ï¼š</p>
<ul>
<li>æ— æ¡ä»¶è½¬ç§»æŒ‡ä»¤ï¼ˆå¦‚ï¼š<code>jmp</code>ï¼‰</li>
<li>æ¡ä»¶è½¬ç§»æŒ‡ä»¤</li>
<li>å¾ªç¯æŒ‡ä»¤ï¼ˆå¦‚ï¼š<code>loop</code>ï¼‰</li>
<li>è¿‡ç¨‹</li>
<li>ä¸­æ–­</li>
</ul>
<span id="more"></span>
<h2 id="æ“ä½œç¬¦offset"><a href="#æ“ä½œç¬¦offset" class="headerlink" title="æ“ä½œç¬¦offset"></a>æ“ä½œç¬¦offset</h2><p>offsetçš„åŠŸèƒ½æ˜¯ <strong>å–å¾—æ ‡å·çš„åç§»åœ°å€</strong>ï¼Œæ˜¯ä¼ªæ“ä½œç¬¦ï¼›</p>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">assume</span> cs:codesg<br><span class="hljs-symbol">codesg</span> segment<br><span class="hljs-symbol">start:</span><br><span class="hljs-keyword">mov</span> ax,offset start <span class="hljs-comment">;ç›¸å½“äºmov ax,0</span><br>s:<br><span class="hljs-keyword">mov</span> ax,offset s     <span class="hljs-comment">;ç›¸å½“äºmov ax,3</span><br><span class="hljs-symbol">codesg</span> ends<br><span class="hljs-symbol">end</span> start<br></code></pre></td></tr></table></figure>
<p>ä¾‹é¢˜ï¼š</p>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">assume</span> cs:codesg<br><span class="hljs-symbol">codesg</span> segment<br><br><span class="hljs-symbol">start:</span><br><span class="hljs-keyword">mov</span> ax,<span class="hljs-keyword">bx</span>   <span class="hljs-comment">;mov ax,bxçš„æœºå™¨ç å ä¸¤ä¸ªå­—èŠ‚</span><br><span class="hljs-keyword">mov</span> si,offset start<br><span class="hljs-keyword">mov</span> di,offset <span class="hljs-built_in">s0</span><br><br><span class="hljs-keyword">mov</span> ax,cs:[si]<br><span class="hljs-keyword">mov</span> cs:[di],ax<br><br><span class="hljs-symbol">s0:</span><br><span class="hljs-keyword">nop</span>         <span class="hljs-comment">;nopçš„æœºå™¨ç å ä¸€ä¸ªå­—èŠ‚</span><br><span class="hljs-symbol">nop</span><br><br><span class="hljs-symbol">codesg</span> ends<br><span class="hljs-symbol">end</span> start<br></code></pre></td></tr></table></figure>
<h2 id="jmpæŒ‡ä»¤"><a href="#jmpæŒ‡ä»¤" class="headerlink" title="jmpæŒ‡ä»¤"></a>jmpæŒ‡ä»¤</h2><ul>
<li>jmpä¸ºæ— æ¡ä»¶è½¬ç§»ï¼Œå¯ä»¥åªä¿®æ”¹IPï¼Œä¹Ÿå¯ä»¥åŒæ—¶ä¿®æ”¹CSå’ŒIPï¼›</li>
<li>jmpæŒ‡ä»¤è¦ç»™å‡ºä¸¤ç§ä¿¡æ¯ï¼š<strong>è½¬ç§»çš„ç›®çš„åœ°å€</strong>ã€<strong>è½¬ç§»çš„è·ç¦»ï¼ˆæ®µé—´è½¬ç§»ã€æ®µå†…çŸ­è½¬ç§»ã€æ®µå†…è¿‘è½¬ç§»ï¼‰</strong>ï¼›</li>
</ul>
<h2 id="ä¾æ®ä½ç§»è¿›è¡Œè½¬ç§»çš„jmpæŒ‡ä»¤"><a href="#ä¾æ®ä½ç§»è¿›è¡Œè½¬ç§»çš„jmpæŒ‡ä»¤" class="headerlink" title="ä¾æ®ä½ç§»è¿›è¡Œè½¬ç§»çš„jmpæŒ‡ä»¤"></a>ä¾æ®ä½ç§»è¿›è¡Œè½¬ç§»çš„jmpæŒ‡ä»¤</h2><p><code>jmp short æ ‡å·ï¼ˆè½¬åˆ°æ ‡å·å¤„æ‰§è¡ŒæŒ‡ä»¤ï¼‰</code></p>
<ul>
<li>æ®µå†…çŸ­è½¬ç§»</li>
<li>IPçš„ä¿®æ”¹èŒƒå›´ä¸º <strong>-128~127</strong>ï¼›</li>
</ul>
<p><code>jmp short æ ‡å·</code>çš„åŠŸèƒ½ä¸ºï¼š</p>
<ul>
<li>(IP)=(IP)+8ä½ä½ç§»ï¼›</li>
<li>8ä½ä½ç§»=â€œæ ‡å·â€å¤„çš„åœ°å€-jmpæŒ‡ä»¤åçš„ç¬¬ä¸€ä¸ªå­—èŠ‚çš„åœ°å€ï¼›</li>
<li>shortæŒ‡æ˜æ­¤å¤„çš„ä½ç§»ä½8ä½ä½ç§»ï¼›</li>
<li>8ä½ä½ç§»çš„èŒƒå›´ä½-128~127ï¼Œç”¨è¡¥ç è¡¨ç¤ºï¼›</li>
<li>8ä½ä½ç§»ç”±ç¼–è¯‘ç¨‹åºåœ¨ç¼–è¯‘æ—¶ç®—å‡ºï¼›</li>
</ul>
<p>CPUåœ¨æ‰§è¡Œjmp short æ ‡å·æŒ‡ä»¤æ—¶åªéœ€çŸ¥é“è½¬ç§»çš„ä½ç§»å°±è¡Œï¼›</p>
<p><code>jmp near ptr æ ‡å·</code></p>
<p>å®ç° æ®µå†…è¿‘è½¬ç§»ï¼Œ(IP)=(IP)+16ä½ä½ç§»ï¼›</p>
<ul>
<li>16ä½ä½ç§»=â€œæ ‡å·â€å¤„çš„åœ°å€-jmpæŒ‡ä»¤åçš„ç¬¬ä¸€ä¸ªå­—èŠ‚çš„åœ°å€ï¼›</li>
<li>near ptræŒ‡æ˜æ­¤å¤„çš„ä½ç§»ä½16ä½ä½ç§»ï¼›</li>
<li>16ä½ä½ç§»çš„èŒƒå›´ä½-32769~32767ï¼Œç”¨è¡¥ç è¡¨ç¤ºï¼›</li>
<li>16ä½ä½ç§»ç”±ç¼–è¯‘ç¨‹åºåœ¨ç¼–è¯‘æ—¶ç®—å‡º</li>
</ul>
<h2 id="è½¬ç§»çš„ç›®çš„åœ°å€-åœ¨æŒ‡ä»¤ä¸­-çš„jmpæŒ‡ä»¤"><a href="#è½¬ç§»çš„ç›®çš„åœ°å€-åœ¨æŒ‡ä»¤ä¸­-çš„jmpæŒ‡ä»¤" class="headerlink" title="è½¬ç§»çš„ç›®çš„åœ°å€ åœ¨æŒ‡ä»¤ä¸­ çš„jmpæŒ‡ä»¤"></a>è½¬ç§»çš„ç›®çš„åœ°å€ <strong>åœ¨æŒ‡ä»¤ä¸­</strong> çš„jmpæŒ‡ä»¤</h2><p>ä¸Šé¢ä¸¤ä¸ªjmpæŒ‡ä»¤ç›¸å½“äºå½“å‰IPçš„è½¬ç§»ä½ç§»ï¼›</p>
<p><code>jmp far ptr æ ‡å·</code>å®ç°çš„æ˜¯ <strong>æ®µé—´è½¬ç§»ï¼Œåˆç§°è¿œè½¬ç§»</strong>ï¼›</p>
<ul>
<li>(CS)=æ ‡å·æ‰€åœ¨æ®µçš„æ®µåœ°å€ï¼›</li>
<li>(IP)=æ ‡å·æ‰€åœ¨æ®µä¸­çš„åç§»åœ°å€ï¼›</li>
<li>far ptræŒ‡æ˜äº†æŒ‡ä»¤ç”¨æ ‡å·çš„æ®µåœ°å€å’Œåç§»åœ°å€ä¿®æ”¹CSå’ŒIPï¼›</li>
</ul>
<h2 id="è½¬ç§»åœ°å€åœ¨-å¯„å­˜å™¨-ä¸­çš„jmpæŒ‡ä»¤"><a href="#è½¬ç§»åœ°å€åœ¨-å¯„å­˜å™¨-ä¸­çš„jmpæŒ‡ä»¤" class="headerlink" title="è½¬ç§»åœ°å€åœ¨ å¯„å­˜å™¨ ä¸­çš„jmpæŒ‡ä»¤"></a>è½¬ç§»åœ°å€åœ¨ <strong>å¯„å­˜å™¨</strong> ä¸­çš„jmpæŒ‡ä»¤</h2><p>æŒ‡ä»¤æ ¼å¼ï¼š</p>
<p><code>jmp 16ä½å¯„å­˜å™¨</code></p>
<p>åŠŸèƒ½ï¼šIP=(16ä½å¯„å­˜å™¨)ï¼›</p>
<h2 id="è½¬ç§»æŒ‡ä»¤åœ¨-å†…å­˜-ä¸­çš„jmpæŒ‡ä»¤"><a href="#è½¬ç§»æŒ‡ä»¤åœ¨-å†…å­˜-ä¸­çš„jmpæŒ‡ä»¤" class="headerlink" title="è½¬ç§»æŒ‡ä»¤åœ¨ å†…å­˜ ä¸­çš„jmpæŒ‡ä»¤"></a>è½¬ç§»æŒ‡ä»¤åœ¨ <strong>å†…å­˜</strong> ä¸­çš„jmpæŒ‡ä»¤</h2><p><code>jmp word ptr å†…å­˜çš„å•å…ƒåœ°å€ï¼ˆæ®µå†…è½¬ç§»ï¼‰</code></p>
<p>åŠŸèƒ½ï¼šä»å†…å­˜çš„å•å…ƒåœ°å€å¤„å¼€å§‹å­˜æ”¾ç€ä¸€ä¸ªå­—ï¼Œäº‹è½¬ç§»çš„ç›®çš„åç§»åœ°å€ï¼›</p>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-keyword">mov</span> ax,<span class="hljs-number">0123</span>h<br><span class="hljs-keyword">mov</span> ds:[<span class="hljs-number">0</span>],ax<br><span class="hljs-symbol">jmp</span> word ptr ds<span class="hljs-comment">;[0]</span><br><br>æ‰§è¡Œå(<span class="hljs-built_in">IP</span>)<span class="hljs-number">=0123</span>h<br><br><span class="hljs-keyword">mov</span> ax,<span class="hljs-number">0123</span>h<br><span class="hljs-keyword">mov</span> [bx],ax<br><span class="hljs-symbol">jmp</span> word ptr [bx]<br></code></pre></td></tr></table></figure>
<p><code>jmp dword ptr å†…å­˜å•å…ƒåœ°å€ï¼ˆæ®µé—´è½¬ç§»ï¼‰</code></p>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-keyword">mov</span> ax,<span class="hljs-number">0123</span>h<br><span class="hljs-keyword">mov</span> ds:[<span class="hljs-number">0</span>],ax<br><span class="hljs-keyword">mov</span> word ptr ds:[<span class="hljs-number">2</span>],<span class="hljs-number">0</span><br><span class="hljs-symbol">jmp</span> dword ptr ds:[<span class="hljs-number">0</span>]<br><br>æ‰§è¡Œå(CS)<span class="hljs-number">=0</span>,(<span class="hljs-built_in">IP</span>)<span class="hljs-number">=0123</span>h,CS:<span class="hljs-built_in">IP</span>æŒ‡å‘<span class="hljs-number">0000</span>:<span class="hljs-number">0123</span><br><br><span class="hljs-keyword">mov</span> ax,<span class="hljs-number">0123</span>h<br><span class="hljs-keyword">mov</span> [bx],ax<br><span class="hljs-keyword">mov</span> word ptr [bx+<span class="hljs-number">2</span>],<span class="hljs-number">0</span><br><span class="hljs-symbol">jmp</span> dword ptr[bx]<br></code></pre></td></tr></table></figure>
<h2 id="jcxzæŒ‡ä»¤"><a href="#jcxzæŒ‡ä»¤" class="headerlink" title="jcxzæŒ‡ä»¤"></a>jcxzæŒ‡ä»¤</h2><ul>
<li>jcxzæŒ‡ä»¤ä½æœ‰æ¡ä»¶è½¬ç§»æŒ‡ä»¤ï¼›</li>
<li>æ‰€æœ‰çš„æœ‰æ¡ä»¶è½¬ç§»æŒ‡ä»¤éƒ½æ˜¯ <strong>çŸ­è½¬ç§»</strong>ï¼›</li>
<li>å¯¹åº”çš„æœºå™¨ç ä¸­åŒ…å«è½¬ç§»çš„ <strong>ä½ç§»</strong>ï¼Œè€Œä¸æ˜¯ç›®çš„åœ°å€ï¼Œå¯¹IPçš„ä¿®æ”¹èŒƒå›´éƒ½ä¸º-128~127ï¼›</li>
<li>æŒ‡ä»¤æ ¼å¼: <code>jcxz æ ‡å·</code>ï¼Œï¼ˆå¦‚æœ(cx)=0ï¼Œåˆ™è½¬ç§»åˆ°æ ‡å·å¤„æ‰§è¡Œï¼‰ï¼›</li>
</ul>
<p>ä¾‹é¢˜ï¼šåˆ©ç”¨ jcxz æŒ‡ä»¤ï¼Œå®ç°åœ¨å†…å­˜2000hæ®µä¸­æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå€¼ä¸º0çš„å­—èŠ‚ï¼Œæ‰¾åˆ°åå°†åç§»åœ°å€å­˜å‚¨åˆ°dxä¸­ï¼š</p>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">assume</span> cs:<span class="hljs-meta">code</span><br><br><span class="hljs-symbol">code</span> segment<br><br><span class="hljs-symbol">start:</span><br><span class="hljs-keyword">mov</span> ax,<span class="hljs-number">2000</span>h<br><span class="hljs-keyword">mov</span> ds,ax<br><span class="hljs-keyword">mov</span> bx,<span class="hljs-number">0</span><br><br>s:<br><span class="hljs-keyword">mov</span> ch,<span class="hljs-number">0</span><br><span class="hljs-keyword">mov</span> cl,ds:[bx]<br><span class="hljs-symbol">jcxz</span> ok<br><span class="hljs-symbol">inc</span> bx<br><span class="hljs-symbol">jmp</span> short s<br><br><span class="hljs-symbol">ok:</span><br><span class="hljs-keyword">mov</span> dx,bx<br><br><span class="hljs-keyword">mov</span> ax,<span class="hljs-number">4</span>c00h<br><span class="hljs-symbol">int</span> <span class="hljs-number">21</span>h<br><br><span class="hljs-symbol">code</span> ends<br><span class="hljs-symbol">end</span> start<br></code></pre></td></tr></table></figure>
<h2 id="loopæŒ‡ä»¤"><a href="#loopæŒ‡ä»¤" class="headerlink" title="loopæŒ‡ä»¤"></a>loopæŒ‡ä»¤</h2><ul>
<li>loopä¸ºå¾ªç¯æŒ‡ä»¤ï¼›</li>
<li>æ‰€æœ‰çš„å¾ªç¯æŒ‡ä»¤éƒ½æ˜¯çŸ­è½¬ç§»ï¼›</li>
</ul>
<p>loop æ ‡å·ï¼š</p>
<ul>
<li>(cx)=(cx)-1;</li>
<li>å¦‚æœ $(cx) \neq 0$,(IP)=(IP)+8ä½ä½ç§»ï¼›</li>
<li>8ä½ä½ç§»=â€œæ ‡å·â€å¤„çš„åœ°å€-loopæŒ‡ä»¤åçš„ç¬¬ä¸€ä¸ªå­—èŠ‚çš„åœ°å€ï¼›</li>
</ul>
<p>ä¾‹é¢˜ï¼š</p>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-comment">;æ‰¾åˆ°2000hæ®µä¸­ç¬¬ä¸€ä¸ªå€¼ä¸º0çš„å­—èŠ‚</span><br><br><span class="hljs-symbol">assume</span> cs:<span class="hljs-meta">code</span><br><span class="hljs-symbol">code</span> segment<br><span class="hljs-symbol">start:</span><br><span class="hljs-keyword">mov</span> ax,<span class="hljs-number">2000</span>H<br><span class="hljs-symbol">mob</span> ds,ax<br><span class="hljs-keyword">mov</span> bx,<span class="hljs-number">0</span><br><br>s:<br><span class="hljs-keyword">mov</span> al,[bx]<br><span class="hljs-keyword">mov</span> ch,<span class="hljs-number">0</span><br><span class="hljs-symbol">inc</span> cx  <span class="hljs-comment">;è‹¥è¯¥å­—èŠ‚ä¸ºé›¶ï¼Œé‚£ä¹ˆç°åœ¨é€’å¢ä¸º1ï¼Œä¹‹åçš„loopä¼šä½¿cxå‡ä¸€ä¸ºé›¶è‡ªåŠ¨é€€å‡ºå¾ªç¯ï¼Œ</span><br><span class="hljs-symbol">inc</span> bx<br><span class="hljs-symbol">loop</span> s<br><br><span class="hljs-symbol">ok:</span><br><span class="hljs-symbol">dec</span> <span class="hljs-keyword">bx</span>      <span class="hljs-comment">;decæŒ‡ä»¤çš„åŠŸèƒ½å’Œincç›¸å</span><br><span class="hljs-keyword">mov</span> dx,bx<br><span class="hljs-keyword">mov</span> ax,<span class="hljs-number">4</span>c00h<br><span class="hljs-symbol">int</span> <span class="hljs-number">21</span>h<br><br><span class="hljs-symbol">code</span> ends<br><span class="hljs-symbol">end</span> start<br></code></pre></td></tr></table></figure>
<h2 id="æ ¹æ®ä½ç§»è¿›è¡Œè½¬ç§»çš„æ„ä¹‰"><a href="#æ ¹æ®ä½ç§»è¿›è¡Œè½¬ç§»çš„æ„ä¹‰" class="headerlink" title="æ ¹æ®ä½ç§»è¿›è¡Œè½¬ç§»çš„æ„ä¹‰"></a>æ ¹æ®ä½ç§»è¿›è¡Œè½¬ç§»çš„æ„ä¹‰</h2><p><code>jmp short æ ‡å·</code></p>
<p><code>jmp near ptr æ ‡å·</code></p>
<p><code>jcxz æ ‡å·</code></p>
<p><code>loop æ ‡å·</code></p>
<p>å¯¹IPçš„ä¿®æ”¹æ˜¯æ ¹æ®è½¬ç§»ç›®çš„åœ°å€å’Œè½¬ç§»èµ·å§‹åœ°å€ä¹‹é—´çš„ <strong>ä½ç§»</strong> æ¥è¿›è¡Œçš„ï¼Œè¿™æ ·è®¾è®¡æ–¹ä¾¿ç¨‹åºæ®µåœ¨å†…å­˜ä¸­çš„æµ®åŠ¨è£…é…ï¼›</p>
<h2 id="ç¼–è¯‘å™¨å¯¹è½¬ç§»ä½ç§»è¶…ç•Œçš„æ£€æµ‹"><a href="#ç¼–è¯‘å™¨å¯¹è½¬ç§»ä½ç§»è¶…ç•Œçš„æ£€æµ‹" class="headerlink" title="ç¼–è¯‘å™¨å¯¹è½¬ç§»ä½ç§»è¶…ç•Œçš„æ£€æµ‹"></a>ç¼–è¯‘å™¨å¯¹è½¬ç§»ä½ç§»è¶…ç•Œçš„æ£€æµ‹</h2><p>åŸç¨‹åºä¸­å‡ºç°è½¬ç§»èŒƒå›´è¶…ç•Œçš„é—®é¢˜æ—¶ï¼Œç¼–è¯‘æŠ¥é”™ï¼›<br>ä¾‹å¦‚ï¼š</p>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">assume</span> cs:<span class="hljs-meta">code</span><br><span class="hljs-symbol">code</span> segment<br><span class="hljs-symbol">start:</span><br><span class="hljs-symbol">jmp</span> short s<br><span class="hljs-symbol">db</span> <span class="hljs-number">128</span> dup(<span class="hljs-number">0</span>)<br>s:<br><span class="hljs-keyword">mov</span> ax,<span class="hljs-number">0</span>ffffh<br><span class="hljs-symbol">code</span> ends<br><span class="hljs-symbol">end</span> start<br></code></pre></td></tr></table></figure>
<p><code>jmp short s</code>çš„è½¬ç§»èŒƒå›´ä¸º-128~127ï¼ŒIPæœ€å¤šå‘åç§»åŠ¨127ä¸ªå­—èŠ‚ï¼›</p>
<p>ä½†å¦‚æœåœ¨debugä¸­ä½¿ç”¨æ±‡ç¼–æŒ‡ä»¤<code>jmp 2000:0100</code>å°±æ²¡æœ‰é—®é¢˜ï¼Œå¦‚æœåœ¨æºç¨‹åºé‡Œä½¿ç”¨ä¹Ÿä¼šæŠ¥é”™ï¼›</p>
<p>(end)</p>
]]></content>
      <categories>
        <category>æ±‡ç¼–è¯­è¨€</category>
      </categories>
      <tags>
        <tag>ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>æ±‡ç¼–ç¬”è®°_ç¬¬äºŒç« </title>
    <url>/2018/12/25/%E6%B1%87%E7%BC%96%E7%AC%94%E8%AE%B0-%E7%AC%AC%E4%BA%8C%E7%AB%A0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="å¯„å­˜å™¨"><a href="#å¯„å­˜å™¨" class="headerlink" title="å¯„å­˜å™¨"></a>å¯„å­˜å™¨</h1><p>8086å¯„å­˜å™¨ç»„</p>
<p>ä¸€å…±14ä¸ªå¯„å­˜å™¨</p>
<ul>
<li>æ•°æ®å¯„å­˜å™¨ï¼šAX , BX , CX , DX;</li>
<li>æ®µå¯„å­˜å™¨ï¼šCS , DS , ES , SS;</li>
<li>åœ°å€å¯„å­˜å™¨ï¼šSI , DI , SP , BP;</li>
<li>æ§åˆ¶å¯„å­˜å™¨ï¼š IP , PSW(FLAGS)</li>
</ul>
<span id="more"></span>
<h2 id="é€šç”¨å¯„å­˜å™¨"><a href="#é€šç”¨å¯„å­˜å™¨" class="headerlink" title="é€šç”¨å¯„å­˜å™¨"></a>é€šç”¨å¯„å­˜å™¨</h2><ul>
<li>æ‰€æœ‰çš„å¯„å­˜å™¨éƒ½æ˜¯16ä½çš„ï¼Œå¯ä»¥å­˜æ”¾ä¸¤ä¸ªå­—èŠ‚ï¼›</li>
<li>AX , BX , CX , DXé€šå¸¸ç”¨æ¥å­˜æ”¾ä¸€èˆ¬æ•°æ®ï¼Œè¢«ç§°ä¸ºé€šç”¨å¯„å­˜å™¨ï¼›</li>
<li>ä¸€ä¸ª16ä½å¯„å­˜å™¨æ‰€èƒ½å­˜å‚¨çš„æ•°æ®æœ€å¤§å€¼ä¸ºï¼š $2^{16} - 1$;</li>
</ul>
<h2 id="æ®µå¯„å­˜å™¨"><a href="#æ®µå¯„å­˜å™¨" class="headerlink" title="æ®µå¯„å­˜å™¨"></a>æ®µå¯„å­˜å™¨</h2><ul>
<li>æ®µå¯„å­˜å™¨å°±æ˜¯æä¾›æ®µåœ°å€çš„ï¼Œè®¿é—®å†…å­˜æ—¶ï¼Œæœ‰ç€4ä¸ªæ®µå¯„å­˜å™¨æä¾›å†…å­˜å•å…ƒçš„æ®µåœ°å€ï¼›</li>
<li>4ä¸ªæ®µå¯„å­˜å™¨ï¼šCS , DS , SS , ES;</li>
</ul>
<h1 id="å†…å­˜åœ°å€çš„åˆ†é…"><a href="#å†…å­˜åœ°å€çš„åˆ†é…" class="headerlink" title="å†…å­˜åœ°å€çš„åˆ†é…"></a>å†…å­˜åœ°å€çš„åˆ†é…</h1><h2 id="ç‰©ç†åœ°å€çš„å½¢æˆ"><a href="#ç‰©ç†åœ°å€çš„å½¢æˆ" class="headerlink" title="ç‰©ç†åœ°å€çš„å½¢æˆ"></a>ç‰©ç†åœ°å€çš„å½¢æˆ</h2><ul>
<li>8086æœ‰ <strong>20ä½</strong> åœ°å€æ€»çº¿ï¼Œå¯ä»¥ä¼ é€20ä½åœ°å€ï¼Œ<strong>å¯»å€èƒ½åŠ›ä¸º1M</strong>ï¼›</li>
<li>8086å†…éƒ¨ä¸º16ä½ç»“æ„ï¼Œåœ°å€16ä½ï¼›</li>
<li>å­˜å‚¨å™¨é‡‡ç”¨ <strong>åˆ†æ®µç®¡ç†</strong>ï¼Œå°†å­˜å‚¨å™¨åˆ’åˆ†ä½è‹¥å¹² <strong>é€»è¾‘æ®µ</strong>ï¼Œæ¯æ®µæœ€å¤§64Kå­—èŠ‚å•å…ƒï¼Œæœ€å°16Bï¼›</li>
<li>é€»è¾‘æ®µçš„å¤§å°å¯å˜ï¼›</li>
<li>å†…å­˜å•å…ƒåœ°å€çš„æè¿°ï¼š <strong>æ®µåŸºå€:åç§»é‡</strong>ï¼›</li>
<li>åœ°å€åŠ æ³•å™¨åˆæˆç‰©ç†åœ°å€çš„æ–¹æ³•ï¼š <strong>ç‰©ç†åœ°å€=æ®µåœ°å€*16 + åç§»åœ°å€</strong>ï¼›</li>
<li>åœ¨å­˜å‚¨å™¨ä¸­ï¼Œæ¯16ä¸ªå­—èŠ‚å•å…ƒä¸ºä¸€å°æ®µï¼›</li>
<li>ä¾‹å¦‚ï¼šæŸå†…å­˜å•å…ƒçš„åœ°å€ä¸º1234:5678Hï¼Œåˆ™ç‰©ç†åœ°å€ä¸º $12340H + 5678H = 179B8H$;</li>
<li>CPUå¯ä»¥ç”¨ä¸åŒçš„æ®µåœ°å€å’Œåç§»åœ°å€å½¢æˆåŒä¸€ä¸ªç‰©ç†åœ°å€ï¼›</li>
</ul>
<h2 id="æ®µçš„ç±»å‹"><a href="#æ®µçš„ç±»å‹" class="headerlink" title="æ®µçš„ç±»å‹"></a>æ®µçš„ç±»å‹</h2><ul>
<li>é€»è¾‘æ®µæœ‰å››ç§ç±»å‹ï¼š <strong>ä»£ç æ®µ</strong> ã€ <strong>æ•°æ®æ®µ</strong> ã€ <strong>é™„åŠ æ®µ</strong> ã€ <strong>å †æ ˆæ®µ</strong>ï¼›</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">æ®µå</th>
<th style="text-align:center">æ®µå¯„å­˜å™¨</th>
<th>åç§»åœ°å€</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">ä»£ç æ®µ</td>
<td style="text-align:center">CS</td>
<td>IP</td>
</tr>
<tr>
<td style="text-align:center">æ•°æ®æ®µ</td>
<td style="text-align:center">DS</td>
<td>BX,SI,DIç­‰åœ°å€å¯„å­˜å™¨</td>
</tr>
<tr>
<td style="text-align:center">é™„åŠ æ®µ</td>
<td style="text-align:center">ES</td>
<td>BX,SI,DIç­‰åœ°å€å¯„å­˜å™¨</td>
</tr>
<tr>
<td style="text-align:center">å †æ ˆæ®µ</td>
<td style="text-align:center">SS</td>
<td>SPæˆ–BP</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>ä¾‹é¢˜ï¼šç»™å®šæ®µåœ°å€ä¸º0001Hï¼Œä»…é€šè¿‡å˜åŒ–åç§»åœ°å€å¯»å€ï¼ŒCPUçš„å¯»å€èŒƒå›´ä¸º <em>00010H</em> åˆ° <em>1000FH</em>;</li>
</ul>
<p>è§£ï¼šç‰©ç†åœ°å€=SA*16+EA</p>
<p>EAå˜åŒ–èŒƒå›´ä¸º0H~FFFFH</p>
<p>æ‰€ä»¥ç‰©ç†åœ°å€çš„å˜åŒ–èŒƒå›´ä¸ºï¼š$(0001H<em>16 + 0H)~(0001H</em>16 + FFFFH)$;</p>
<p>å°±æ˜¯00010H~1000FH;</p>
<ul>
<li>ä¾‹é¢˜ï¼šæœ‰ä¸€æ•°æ®å­˜æ”¾åœ¨å†…å­˜20000Hå•å…ƒä¸­ï¼Œç°ç»™å®šæ®µåœ°å€SAï¼Œè‹¥æƒ³ç”¨åç§»åœ°å€å¯»æ‰¾åˆ°æ­¤å•å…ƒï¼ŒSAæ»¡è¶³çš„æ¡ä»¶æ˜¯ï¼šæœ€å°æ˜¯<em>1001H</em>ï¼Œæœ€å¤§ä¸º<em>2000H</em>;</li>
</ul>
<p>è§£ï¼› </p>
<script type="math/tex; mode=display">\mathrm{
20000H=SA*16+EA
}</script><script type="math/tex; mode=display">\mathrm{
SA = (20000H - EA)/16
}</script><script type="math/tex; mode=display">\mathrm{
SA = 2000H - EA/16
}</script><script type="math/tex; mode=display">\mathrm{
EA\in[0000H , FFFFH]
}</script><script type="math/tex; mode=display">\mathrm{
SA\in[1001H , 2000H]
}</script><h1 id="ç‰¹æ®Šå¯„å­˜å™¨CSå’ŒIP"><a href="#ç‰¹æ®Šå¯„å­˜å™¨CSå’ŒIP" class="headerlink" title="ç‰¹æ®Šå¯„å­˜å™¨CSå’ŒIP"></a>ç‰¹æ®Šå¯„å­˜å™¨CSå’ŒIP</h1><ul>
<li>CSä¸º <strong>ä»£ç æ®µå¯„å­˜å™¨</strong></li>
<li>IPä¸º <strong>æŒ‡ä»¤æŒ‡é’ˆå¯„å­˜å™¨</strong></li>
<li>CPUå°†CS:IPæŒ‡å‘çš„å†…å­˜å•å…ƒä¸­çš„å†…å®¹çœ‹ä½œæŒ‡ä»¤</li>
<li>8086pcå·¥ä½œè¿‡ç¨‹ï¼š1ã€ä»CS:IPæŒ‡å‘çš„å†…å­˜çš„å•å…ƒè¯»å–æŒ‡ä»¤ï¼Œè¯»å–çš„æŒ‡ä»¤è¿›å…¥æŒ‡ä»¤ç¼“å†²å™¨ï¼›2ã€IP=IP+æ‰€è¯»å–çš„æŒ‡ä»¤çš„é•¿åº¦ï¼Œä»è€ŒæŒ‡å‘ä¸‹ä¸€æ¡æŒ‡ä»¤ï¼›3ã€æ‰§è¡ŒæŒ‡ä»¤ï¼Œè½¬åˆ°æ­¥éª¤1ï¼›</li>
<li>åŠ ç”µå¯åŠ¨æˆ–å¤ä½åCS=FFFFH , IP=0000H</li>
<li>ä¿®æ”¹CS,IPçš„å€¼ï¼š</li>
<li><code>jmp æ®µåœ°å€:åç§»åœ°å€//åŒæ—¶ä¿®æ”¹CSã€IP</code>,<br> <code>jmp å¯„å­˜å™¨//ç”¨å¯„å­˜å™¨ä¸­çš„å€¼ä¿®æ”¹IP</code></li>
</ul>
<h1 id="å¤–éƒ¨è®¾å¤‡åŠIOåœ°å€ç©ºé—´"><a href="#å¤–éƒ¨è®¾å¤‡åŠIOåœ°å€ç©ºé—´" class="headerlink" title="å¤–éƒ¨è®¾å¤‡åŠIOåœ°å€ç©ºé—´"></a>å¤–éƒ¨è®¾å¤‡åŠIOåœ°å€ç©ºé—´</h1><ul>
<li>æ¯ä¸ªå¤–éƒ¨è®¾å¤‡çš„æ¥å£éƒ½æœ‰ä¸€ç»„å¯„å­˜å™¨ï¼Œæ¯ä¸ªå¯„å­˜å™¨éƒ½æœ‰ä¸€ä¸ªç«¯å£åœ°å€ï¼›</li>
<li>8086æä¾›çš„IOåœ°å€æ€»çº¿å®½åº¦æ€»æ˜¯16ä½çš„ï¼Œæ‰€ä»¥å…è®¸çš„æœ€å¤§çš„IOå¯»å€ç©ºé—´ä½64KBï¼Œå¯»å€èŒƒå›´ä¸º0000H~FFFFHï¼›</li>
<li>pcæœºä¸­ï¼Œç”±äºIOåœ°å€ç©ºé—´æ˜¯ç‹¬ç«‹ç¼–å€çš„ï¼Œæ‰€ä»¥ç³»ç»Ÿéœ€è¦æä¾›ç‹¬ç«‹çš„ è®¿é—®å¤–è®¾æŒ‡ä»¤(IOæŒ‡ä»¤)ï¼šIN,OUT</li>
</ul>
<h1 id="æŒ‡ä»¤çš„å¯»å€æ–¹å¼"><a href="#æŒ‡ä»¤çš„å¯»å€æ–¹å¼" class="headerlink" title="æŒ‡ä»¤çš„å¯»å€æ–¹å¼"></a>æŒ‡ä»¤çš„å¯»å€æ–¹å¼</h1><p>æ“ä½œæ•°çš„ç‰©ç†åœ°å€=æ®µåœ°å€*10H + EA</p>
<h2 id="ç«‹å³å¯»å€æ–¹å¼"><a href="#ç«‹å³å¯»å€æ–¹å¼" class="headerlink" title="ç«‹å³å¯»å€æ–¹å¼"></a>ç«‹å³å¯»å€æ–¹å¼</h2><p><code>mov al,5</code></p>
<p><code>mov ax,3060H</code></p>
<h2 id="å¯„å­˜å™¨å¯»å€æ–¹å¼"><a href="#å¯„å­˜å™¨å¯»å€æ–¹å¼" class="headerlink" title="å¯„å­˜å™¨å¯»å€æ–¹å¼"></a>å¯„å­˜å™¨å¯»å€æ–¹å¼</h2><p><code>mov ax,bx</code></p>
<h2 id="ç›´æ¥å¯»å€æ–¹å¼"><a href="#ç›´æ¥å¯»å€æ–¹å¼" class="headerlink" title="ç›´æ¥å¯»å€æ–¹å¼"></a>ç›´æ¥å¯»å€æ–¹å¼</h2><h3 id="å­˜å‚¨å™¨è¯»æ“ä½œ"><a href="#å­˜å‚¨å™¨è¯»æ“ä½œ" class="headerlink" title="å­˜å‚¨å™¨è¯»æ“ä½œ"></a>å­˜å‚¨å™¨è¯»æ“ä½œ</h3><p><code>mov ax,ds:[2000H]</code></p>
<h3 id="å­˜å‚¨å™¨å†™æ“ä½œ"><a href="#å­˜å‚¨å™¨å†™æ“ä½œ" class="headerlink" title="å­˜å‚¨å™¨å†™æ“ä½œ"></a>å­˜å‚¨å™¨å†™æ“ä½œ</h3><p><code>mov ds:[4000H],ax</code></p>
<h3 id="ç¬¦å·åœ°å€"><a href="#ç¬¦å·åœ°å€" class="headerlink" title="ç¬¦å·åœ°å€"></a>ç¬¦å·åœ°å€</h3><p><code>mov ax,[value]</code></p>
<h3 id="æ®µè¶…è¶Š"><a href="#æ®µè¶…è¶Š" class="headerlink" title="æ®µè¶…è¶Š"></a>æ®µè¶…è¶Š</h3><p><code>mov ax,es:[value]</code></p>
<h2 id="é—´æ¥å¯»å€æ–¹å¼"><a href="#é—´æ¥å¯»å€æ–¹å¼" class="headerlink" title="é—´æ¥å¯»å€æ–¹å¼"></a>é—´æ¥å¯»å€æ–¹å¼</h2><p><code>mov ax,[bx]</code></p>
<p>$æ“ä½œæ•°çš„ç‰©ç†åœ°å€=(ds)*10H + {(bx) , (si) , (di)};$</p>
<p>$æ“ä½œæ•°çš„ç‰©ç†åœ°å€=(ss)*10H + (bp);$</p>
<p>å››ä¸ªé—´æ¥å¯»å€å¯„å­˜å™¨ï¼š<strong>BX , BP , SI , DI</strong>;</p>
<p><code>mov ax,[bx]</code></p>
<p>æŒ‡ä»¤æ‰§è¡Œå‰ï¼š</p>
<p>$DS = 1500H$</p>
<p>$BX = 4580H$</p>
<p>$AX = 1010H$</p>
<p>$19580H = 64H$</p>
<p>$19581H = 23H$</p>
<p>$EA = BX = 4580H$</p>
<p>æŒ‡ä»¤æ‰§è¡Œåï¼š</p>
<p>$AX = 2364H$</p>
<h2 id="å¯„å­˜å™¨ç›¸å¯¹å¯»å€æ–¹å¼"><a href="#å¯„å­˜å™¨ç›¸å¯¹å¯»å€æ–¹å¼" class="headerlink" title="å¯„å­˜å™¨ç›¸å¯¹å¯»å€æ–¹å¼"></a>å¯„å­˜å™¨ç›¸å¯¹å¯»å€æ–¹å¼</h2><p><code>mov AX,TOP[SI]</code></p>
<p>æŒ‡ä»¤æ‰§è¡Œå‰ï¼›</p>
<p>$DS =1500H$</p>
<p>$SI = 7310H$</p>
<p>$AX = 1010H$</p>
<p>$TOP = 25H$</p>
<p>$1C335H = 28H$</p>
<p>$1C336H = 24H$</p>
<p>$EA = TOP + SI = 7335H$</p>
<p>æŒ‡ä»¤æ‰§è¡Œåï¼›</p>
<p>$AX = 2428H$</p>
<h2 id="åŸºå€å˜å€å¯»å€æ–¹å¼"><a href="#åŸºå€å˜å€å¯»å€æ–¹å¼" class="headerlink" title="åŸºå€å˜å€å¯»å€æ–¹å¼"></a>åŸºå€å˜å€å¯»å€æ–¹å¼</h2><p><code>mov AX,[BX + DI]</code></p>
<p>æ‰§è¡Œå‰ï¼š</p>
<p>$DS = 2100H$</p>
<p>$BX = 0158H$</p>
<p>$DI = 10A5H$</p>
<p>$AX = 0FFFFH$</p>
<p>$221FDH = 34H$</p>
<p>$221FE - 12H$</p>
<p>æœ‰æ•ˆåœ°å€:</p>
<p>$EA=BX+DI=0158+10A5=11FDH$</p>
<p>$ç‰©ç†åœ°å€=21000 + 11FD = 221FDH$</p>
<p>æ‰§è¡Œåï¼š</p>
<p>$AX=1234H$</p>
<h2 id="ç›¸å¯¹åŸºå€å˜å€å¯»å€æ–¹å¼"><a href="#ç›¸å¯¹åŸºå€å˜å€å¯»å€æ–¹å¼" class="headerlink" title="ç›¸å¯¹åŸºå€å˜å€å¯»å€æ–¹å¼"></a>ç›¸å¯¹åŸºå€å˜å€å¯»å€æ–¹å¼</h2><p><code>mov AX,MASJ[BX[SI]</code></p>
<p><code>mov AX,[MASK + BX + SI]</code></p>
<p><code>mov AX,[BX + SI].MASK</code></p>
<p>æœ‰æ•ˆåœ°å€ï¼š</p>
<p>$EA = MASK + BX + SI$</p>
<p>$ç‰©ç†åœ°å€=DS + EA$</p>
<p>çœ‹ä¸æ‡‚233ï¼Œï¼Œï¼Œï¼Œï¼Œ</p>
<p>(end)</p>
]]></content>
      <categories>
        <category>æ±‡ç¼–è¯­è¨€</category>
      </categories>
      <tags>
        <tag>ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>æ±‡ç¼–ç¬”è®°_ç¬¬å…«ç« </title>
    <url>/2018/12/27/%E6%B1%87%E7%BC%96%E7%AC%94%E8%AE%B0-%E7%AC%AC%E5%85%AB%E7%AB%A0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="æ•°æ®å¤„ç†çš„ä¸¤ä¸ªåŸºæœ¬é—®é¢˜"><a href="#æ•°æ®å¤„ç†çš„ä¸¤ä¸ªåŸºæœ¬é—®é¢˜" class="headerlink" title="æ•°æ®å¤„ç†çš„ä¸¤ä¸ªåŸºæœ¬é—®é¢˜"></a>æ•°æ®å¤„ç†çš„ä¸¤ä¸ªåŸºæœ¬é—®é¢˜</h1><h2 id="ä¸¤ä¸ªæè¿°æ€§ç¬¦å·"><a href="#ä¸¤ä¸ªæè¿°æ€§ç¬¦å·" class="headerlink" title="ä¸¤ä¸ªæè¿°æ€§ç¬¦å·"></a>ä¸¤ä¸ªæè¿°æ€§ç¬¦å·</h2><ul>
<li>å¯„å­˜å™¨reg:åŒ…æ‹¬ax,bx,cx,dx,sp,bp,si,di</li>
<li>æ®µå¯„å­˜å™¨sreg:åŒ…æ‹¬ds,ss,cs,es</li>
</ul>
<span id="more"></span>
<h2 id="bx-si-di-bp"><a href="#bx-si-di-bp" class="headerlink" title="bx,si,di,bp"></a>bx,si,di,bp</h2><ul>
<li>8086CPUä¸­åªæœ‰è¿™å››ä¸ªå¯„å­˜å™¨å¯ä»¥ç”¨<code>[...]</code>æ¥å¯»å€ï¼Œåƒ<code>mov ax,[cx]</code>å°±æ˜¯é”™è¯¯çš„ï¼›</li>
<li>åœ¨<code>[...]</code>ä¸­ï¼Œè¿™å››ä¸ªå¯„å­˜å™¨å¯ä»¥çš„é‚£ä¸ªå‡ºç°ï¼Œæˆ– <strong>åªèƒ½ä»¥å››ç§ç»„åˆå‡ºç°ï¼šbxå’Œsiã€bxå’Œdiã€bpå’Œsi ä»¥åŠ bpå’Œdi</strong>ï¼Œ<code>mov ax,[bx+bp]</code>æ˜¯é”™è¯¯çš„ï¼›</li>
<li>åªè¦åœ¨<code>[...]</code>ä¸­ä½¿ç”¨å¯„å­˜å™¨ <strong>bp</strong>,è€ŒæŒ‡ä»¤ä¸­æ²¡æœ‰æ˜¾ç¤ºçš„ç»™å‡ºæ®µåœ°å€ï¼Œæ®µåœ°å€å°±é»˜è®¤åœ¨ <strong>ss</strong>ä¸­ï¼Œæ¯”å¦‚ï¼š<code>mov ax,[bp+si+idata]</code>çš„å«ä¹‰æ˜¯ï¼š<code>(ax)=((ss)*16+(bp)+(si)+idata)</code>ï¼›</li>
</ul>
<h2 id="æœºå™¨æŒ‡ä»¤å¤„ç†çš„æ•°æ®æ‰€åœ¨çš„ä½ç½®"><a href="#æœºå™¨æŒ‡ä»¤å¤„ç†çš„æ•°æ®æ‰€åœ¨çš„ä½ç½®" class="headerlink" title="æœºå™¨æŒ‡ä»¤å¤„ç†çš„æ•°æ®æ‰€åœ¨çš„ä½ç½®"></a>æœºå™¨æŒ‡ä»¤å¤„ç†çš„æ•°æ®æ‰€åœ¨çš„ä½ç½®</h2><ul>
<li>æ•°æ®çš„å¤„ç†å¯åˆ†ä¸ºä¸‰ç±»ï¼šè¯»å–ã€å†™å…¥ã€è¿ç®—</li>
<li>æœºå™¨æŒ‡ä»¤å¹¶ä¸å…³å¿ƒæ•°æ®çš„å€¼ï¼Œè€Œå…³å¿ƒæ•°æ®æ‰€åœ¨çš„ä½ç½®ï¼šcpuå†…éƒ¨ã€å†…å­˜ã€ç«¯å£ï¼›</li>
</ul>
<h2 id="æ±‡ç¼–è¯­è¨€ä¸­æ•°æ®ä½ç½®çš„è¡¨è¾¾"><a href="#æ±‡ç¼–è¯­è¨€ä¸­æ•°æ®ä½ç½®çš„è¡¨è¾¾" class="headerlink" title="æ±‡ç¼–è¯­è¨€ä¸­æ•°æ®ä½ç½®çš„è¡¨è¾¾"></a>æ±‡ç¼–è¯­è¨€ä¸­æ•°æ®ä½ç½®çš„è¡¨è¾¾</h2><p>æ±‡ç¼–è¯­è¨€ä¸­ç”¨ä¸‰ç§æ¦‚å¿µæ¥è¡¨è¾¾æ•°æ®çš„ä½ç½®ï¼š<strong>ç«‹å³æ•°(idata)</strong>ã€<strong>å¯„å­˜å™¨</strong>ã€<strong>æ®µåœ°å€(SA)å’Œåç§»åœ°å€(EA)</strong>ï¼›</p>
<h2 id="å¯»å€æ–¹å¼"><a href="#å¯»å€æ–¹å¼" class="headerlink" title="å¯»å€æ–¹å¼"></a>å¯»å€æ–¹å¼</h2><div class="table-container">
<table>
<thead>
<tr>
<th>å¯»å€æ–¹å¼</th>
<th style="text-align:center">å«ä¹‰</th>
<th>åç§°</th>
<th>å¸¸ç”¨æ ¼å¼ä¸¾ä¾‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>[idata]</td>
<td style="text-align:center">SA=(ds);EA=idata</td>
<td>ç›´æ¥å¯»å€</td>
<td>[idata]</td>
</tr>
<tr>
<td>[bx] <br> [si] <br> [di] <br> [bp]</td>
<td style="text-align:center">SA=(ds);EA=(bx) <br> SA=(ds);EA=(si) <br> SA=(ds);EA=(di) <br> SA=(ss);EA=(bp)</td>
<td>å¯„å­˜å™¨é—´æ¥å¯»å€</td>
<td>[bx]</td>
</tr>
<tr>
<td>[bx+idata] <br> [si+idata] <br> [di+idata] <br> [bp+idata]</td>
<td style="text-align:center">SA=(ds);EA=(bx)+idata <br> SA=(ds);EA=(si)+idata <br> SA=(ds);EA=(di)+idata <br> SA=(ss);EA=(bp)+idata</td>
<td>å¯„å­˜å™¨ç›¸å¯¹å¯»å€</td>
<td>ç”¨äºç»“æ„ä½“ï¼š[bx].idata; <br> ç”¨äºæ•°ç»„ï¼šidata[si],idata[di]; <br> ç”¨äºäºŒç»´æ•°ç»„ï¼š[bx][idata]</td>
</tr>
<tr>
<td>[bx+si] <br> [bx+di] <br> [bp+si] <br> [bp+di]</td>
<td style="text-align:center">SA=(ds);EA=(bx)+(si) <br> SA=(ds);EA=(bx)+(di) <br> SA=(ss);EA=(bp)+(si) <br> SA=(ss);EA=(bp)+(di)</td>
<td>åŸºå€å˜å€å¯»å€</td>
<td>ç”¨äºäºŒç»´æ•°ç»„ï¼š[bx][si]</td>
</tr>
<tr>
<td>[bx+si+idata] <br> [bx+di+idata] <br> [bp+si+idata] <br> [bp+di+idata]</td>
<td style="text-align:center">SA=(ds);EA=(bx)+(si)+idata <br> SA=(ds);EA=(bx)+(di)+idata <br> SA=(ss);EA=(bp)+(si)+idata <br> SA=(ss);EA=(bp)+(di)+idata</td>
<td>ç›¸å¯¹åŸºå€å˜å€å¯»å€</td>
<td>ç”¨äºè¡¨æ ¼ï¼ˆç»“æ„ï¼‰ä¸­çš„æ•°æ®é¡¹ï¼š[bx].idata[si] <br> ç”¨äºäºŒä½æ•°ç»„ï¼šidata[bx][si]</td>
</tr>
</tbody>
</table>
</div>
<h2 id="æŒ‡ä»¤å¤„ç†çš„æ•°æ®çš„é•¿åº¦"><a href="#æŒ‡ä»¤å¤„ç†çš„æ•°æ®çš„é•¿åº¦" class="headerlink" title="æŒ‡ä»¤å¤„ç†çš„æ•°æ®çš„é•¿åº¦"></a>æŒ‡ä»¤å¤„ç†çš„æ•°æ®çš„é•¿åº¦</h2><ul>
<li>8086CPUçš„æŒ‡ä»¤ï¼Œå¯ä»¥å¤„ç†ä¸¤ç§é•¿åº¦çš„æ•°æ®ï¼š<strong>byte</strong>ã€<strong>word</strong>ï¼›</li>
</ul>
<h3 id="æŒ‡æ˜æ–¹å¼"><a href="#æŒ‡æ˜æ–¹å¼" class="headerlink" title="æŒ‡æ˜æ–¹å¼"></a>æŒ‡æ˜æ–¹å¼</h3><h4 id="å¯„å­˜å™¨æŒ‡æ˜"><a href="#å¯„å­˜å™¨æŒ‡æ˜" class="headerlink" title="å¯„å­˜å™¨æŒ‡æ˜"></a>å¯„å­˜å™¨æŒ‡æ˜</h4><figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-keyword">mov</span> al,ds:[<span class="hljs-number">0</span>]   <span class="hljs-comment">//æŒ‰å­—èŠ‚æ“ä½œ</span><br><span class="hljs-keyword">mov</span> ax,ds:[<span class="hljs-number">0</span>]   <span class="hljs-comment">//æŒ‰å­—æ“ä½œ</span><br></code></pre></td></tr></table></figure>
<h4 id="ç”¨æ“ä½œç¬¦-X-ptr-æŒ‡æ˜ï¼ˆX-word-byteï¼‰"><a href="#ç”¨æ“ä½œç¬¦-X-ptr-æŒ‡æ˜ï¼ˆX-word-byteï¼‰" class="headerlink" title="ç”¨æ“ä½œç¬¦ X ptr æŒ‡æ˜ï¼ˆX=word/byteï¼‰"></a>ç”¨æ“ä½œç¬¦ <strong>X ptr</strong> æŒ‡æ˜ï¼ˆX=word/byteï¼‰</h4><figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-keyword">add</span> word ptr [bx],<span class="hljs-number">2</span>     <span class="hljs-comment">//æŒ‰å­—æ“ä½œ</span><br><span class="hljs-keyword">mov</span> byte ptr ds:[<span class="hljs-number">0</span>],<span class="hljs-number">1</span>   <span class="hljs-comment">//æŒ‰å­—èŠ‚æ“ä½œ</span><br></code></pre></td></tr></table></figure>
<h4 id="å…¶ä»–æ–¹å¼"><a href="#å…¶ä»–æ–¹å¼" class="headerlink" title="å…¶ä»–æ–¹å¼"></a>å…¶ä»–æ–¹å¼</h4><p>æœ‰äº›æŒ‡ä»¤é»˜è®¤æ˜¯è®¿é—®å­—å•å…ƒè¿˜æ˜¯å­—èŠ‚å•å…ƒï¼Œä¾‹å¦‚ï¼špush æŒ‡ä»¤åªè¿›è¡Œå­—æ“ä½œï¼›</p>
<h2 id="å¯»å€æ–¹å¼çš„ç»¼åˆåº”ç”¨"><a href="#å¯»å€æ–¹å¼çš„ç»¼åˆåº”ç”¨" class="headerlink" title="å¯»å€æ–¹å¼çš„ç»¼åˆåº”ç”¨"></a>å¯»å€æ–¹å¼çš„ç»¼åˆåº”ç”¨</h2><p>ä¸€èˆ¬æ¥è¯´ï¼Œå¯ä»¥ç”¨ <code>[bx+idata+si]</code>çš„æ–¹å¼æ¥è®¿é—®ç»“æ„ä½“ä¸­çš„æ•°æ®ï¼›</p>
<ul>
<li>ç”¨bxå®šä½æ•´ä¸ªç»“æ„ä½“ï¼Œç”¨idataå®šä½ç»“æ„ä½“ä¸­çš„æŸä¸€ä¸ªæ•°æ®é¡¹ï¼Œç”¨siå®šä½æ•°ç»„é¡¹ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼›</li>
<li><p>æ±‡ç¼–çš„å†™æ³•ï¼š<code>[bx].idata , [bx].idata[si]</code>ï¼›</p>
</li>
<li><p>ä¾‹å¦‚cä¸­: <code>dec.cp[i]</code>ï¼ŒdecæŒ‡æ˜äº†ç»“æ„ä½“å˜é‡çš„çš„åœ°å€ï¼›cpæŒ‡æ˜äº†æ•°æ®é¡¹cpçš„åœ°å€ï¼›iç”¨æ¥å®šä½cpä¸­çš„æ¯ä¸€ä¸ªå­—ç¬¦ï¼›æ±‡ç¼–è¯­è¨€ï¼š<code>bx.10h[si]</code>ï¼›</p>
</li>
</ul>
<h2 id="divæŒ‡ä»¤"><a href="#divæŒ‡ä»¤" class="headerlink" title="divæŒ‡ä»¤"></a>divæŒ‡ä»¤</h2><ul>
<li>div æ˜¯å‡ºé™¤æ³•æŒ‡ä»¤ï¼›</li>
<li>é™¤æ•°ï¼šåœ¨å¯„å­˜å™¨æˆ–å†…å­˜å•å…ƒä¸­ï¼›</li>
<li>è¢«é™¤æ•°ï¼šï¼ˆé»˜è®¤ï¼‰æ”¾åœ¨AXæˆ–DXå’ŒAXä¸­ï¼›</li>
<li>ç»“æœï¼š8ä½çš„å•†åœ¨ALä¸­ï¼Œä½™æ•°åœ¨AHä¸­ï¼›16ä½çš„å•†åœ¨AXä¸­ï¼Œä½™æ•°åœ¨DXä¸­</li>
<li><p>divæŒ‡ä»¤æ ¼å¼ï¼š<code>div reg</code>æˆ–<code>div å†…å­˜å•å…ƒ</code>ï¼›</p>
</li>
<li><p><code>div byte ptr ds:[0]</code> <br> å«ä¹‰ï¼š <br> <code>(al)=(ax)/((ds)*16+0)çš„å•†</code> <br> <code>(al)=(ax)/((ds)*16+0)çš„ä½™æ•°</code></p>
</li>
<li><p><code>div word ptr es:[0]</code> <br> å«ä¹‰ï¼š<br> <code>(ax)=[(dx)*10000H+(ax)]/((es)*16+0)çš„å•†</code> <br> <code>(dx)=[(dx)*10000H+(ax)]/((es)*16+0)çš„ä½™æ•°</code></p>
</li>
</ul>
<h2 id="ä¼ªæŒ‡ä»¤dd"><a href="#ä¼ªæŒ‡ä»¤dd" class="headerlink" title="ä¼ªæŒ‡ä»¤dd"></a>ä¼ªæŒ‡ä»¤dd</h2><p>ddæ˜¯ç”¨æ¥å®šä¹‰ <strong>dword(double wordåŒå­—)</strong> å‹æ•°æ®çš„ï¼›</p>
<h2 id="dup"><a href="#dup" class="headerlink" title="dup"></a>dup</h2><ul>
<li>dupæ˜¯ä¸€ä¸ªæ“ä½œç¬¦ï¼ŒåŒdb,dw,ddä¸€æ ·ç”±ç¼–è¯‘å™¨è¯†åˆ«å¤„ç†ï¼›</li>
<li>å’Œdb,dw,ddç­‰ä¼ªæŒ‡ä»¤é…åˆä½¿ç”¨ï¼Œç”¨æ¥ <strong>æ•°æ®çš„é‡å¤</strong>ï¼›</li>
</ul>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">dup</span>çš„ä½¿ç”¨æ ¼å¼ï¼š<br><span class="hljs-symbol">db</span> é‡å¤çš„æ¬¡æ•° dup (é‡å¤çš„å­—èŠ‚å‹æ•°æ®)<br><span class="hljs-symbol">dw</span> é‡å¤çš„æ¬¡æ•° dup (é‡å¤çš„å­—å‹æ•°æ®)<br><span class="hljs-symbol">dd</span> é‡å¤çš„æ¬¡æ•° dup (é‡å¤çš„åŒå­—æ•°æ®)<br><br><span class="hljs-symbol">eg:</span><br><span class="hljs-symbol">db</span> <span class="hljs-number">3</span> dup (<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>)<br>ç›¸å½“äºï¼š<br><span class="hljs-symbol">db</span> <span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span><br></code></pre></td></tr></table></figure>
<p>(end)</p>
]]></content>
      <categories>
        <category>æ±‡ç¼–è¯­è¨€</category>
      </categories>
      <tags>
        <tag>ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>æ±‡ç¼–ç¬”è®°_ç¬¬å…­ç« </title>
    <url>/2018/12/26/%E6%B1%87%E7%BC%96%E7%AC%94%E8%AE%B0-%E7%AC%AC%E5%85%AD%E7%AB%A0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="åŒ…å«å¤šä¸ªæ®µçš„ç¨‹åº"><a href="#åŒ…å«å¤šä¸ªæ®µçš„ç¨‹åº" class="headerlink" title="åŒ…å«å¤šä¸ªæ®µçš„ç¨‹åº"></a>åŒ…å«å¤šä¸ªæ®µçš„ç¨‹åº</h1><h2 id="åœ¨ä»£ç æ®µä¸­ä½¿ç”¨æ•°æ®"><a href="#åœ¨ä»£ç æ®µä¸­ä½¿ç”¨æ•°æ®" class="headerlink" title="åœ¨ä»£ç æ®µä¸­ä½¿ç”¨æ•°æ®"></a>åœ¨ä»£ç æ®µä¸­ä½¿ç”¨æ•°æ®</h2><p>å…ˆçœ‹ç¨‹åºï¼š</p>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">assume</span> cs:codesg<br><span class="hljs-symbol">codesg</span> segment<br><span class="hljs-symbol">dw</span> <span class="hljs-number">0123</span>h,<span class="hljs-number">0456</span>h,<span class="hljs-number">0789</span>h,<span class="hljs-number">0</span>abch,<span class="hljs-number">0</span>fedh,<span class="hljs-number">0</span>cbah,<span class="hljs-number">0987</span>h<br><span class="hljs-symbol">start:</span><br><span class="hljs-keyword">mov</span> bx,<span class="hljs-number">0</span><br><span class="hljs-keyword">mov</span> ax,<span class="hljs-number">0</span><br><span class="hljs-keyword">mov</span> cx,<span class="hljs-number">8</span><br>s:<br><span class="hljs-keyword">add</span> ax,cx:[bx]<br><span class="hljs-keyword">add</span> bx,<span class="hljs-number">2</span><br><span class="hljs-symbol">loop</span> s<br><span class="hljs-keyword">mov</span> ax,<span class="hljs-number">4</span>c00h<br><span class="hljs-symbol">int</span> <span class="hljs-number">21</span>h<br><span class="hljs-symbol">codesg</span> ends<br><span class="hljs-symbol">end</span> start<br></code></pre></td></tr></table></figure>
<span id="more"></span>
<ul>
<li>dw çš„å«ä¹‰æ˜¯å®šä¹‰å­—å‹æ•°æ®ï¼›</li>
<li>ç¨‹åºçš„ç¬¬ä¸€æ¡æŒ‡ä»¤å‰åŠ äº†æ ‡å·startï¼Œè¿™ä¸ªæ ‡å·åˆåœ¨endåå‡ºç°ï¼Œè¿™æ ·endé™¤äº†å¯ä»¥åŒå€¼ç¼–è¯‘å™¨ç»“æŸç¨‹åºå¤–ï¼Œè¿˜å¯ä»¥é€šçŸ¥ç¼–è¯‘å™¨çš„å…¥å£åœ¨å“ªé‡Œï¼Œå³ï¼Œè‹¥è¦CPUä»ä½•å¤„å¡æ˜¯æ‰§è¡Œç¨‹åºï¼Œåªè¦åœ¨æºç¨‹åºä¸­ç”¨<code>end æ ‡å·</code>æŒ‡æ˜å°±è¡Œï¼›</li>
</ul>
<p>æ‰€ä»¥ç¨‹åºçš„æ¡†æ¶å¯ä»¥ä¸ºï¼š</p>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">assume</span> cs:<span class="hljs-meta">code</span><br><br><span class="hljs-symbol">cdoe</span> segment<br><span class="hljs-symbol">...</span><br>æ•°æ®<br><span class="hljs-symbol">...</span><br><span class="hljs-symbol">start:</span><br><span class="hljs-symbol">...</span><br>ä»£ç <br><span class="hljs-symbol">...</span><br><span class="hljs-symbol">code</span> ends<br><br><span class="hljs-symbol">end</span> start<br></code></pre></td></tr></table></figure>
<h2 id="å°†æ•°æ®ã€ä»£ç ã€æ ˆæ”¾å…¥ä¸åŒçš„æ®µ"><a href="#å°†æ•°æ®ã€ä»£ç ã€æ ˆæ”¾å…¥ä¸åŒçš„æ®µ" class="headerlink" title="å°†æ•°æ®ã€ä»£ç ã€æ ˆæ”¾å…¥ä¸åŒçš„æ®µ"></a>å°†æ•°æ®ã€ä»£ç ã€æ ˆæ”¾å…¥ä¸åŒçš„æ®µ</h2><ul>
<li>æ”¾åˆ°ä¸€ä¸ªæ®µä¸­ä½¿å¾—ç¨‹åºå¾ˆæ··ä¹±</li>
<li>å½“å¤„ç†çš„æ•°æ®ã€æ ˆã€ä»£ç éœ€è¦çš„ç©ºé—´è¶…è¿‡64KBæ—¶ï¼Œå°±ä¸èƒ½æ”¾åœ¨ä¸€ä¸ªæ®µä¸­ï¼›</li>
</ul>
<p>ä¼ªæŒ‡ä»¤ï¼›</p>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">assume</span><br><span class="hljs-symbol">cs:</span><span class="hljs-meta">code</span>,ds:<span class="hljs-meta">data</span>,ss:stack<br><br><span class="hljs-symbol">...</span><br><br><span class="hljs-keyword">mov</span> ax,stack<br><span class="hljs-keyword">mov</span> ss,ax<br><br><span class="hljs-keyword">mov</span> ax,<span class="hljs-meta">data</span><br><span class="hljs-keyword">mov</span> ds,ax<br><br></code></pre></td></tr></table></figure>
<p>ss:spå°±æŒ‡å‘stack:16ï¼ŒCPUæŠŠstackæ®µå½“æ ˆç©ºé—´ç”¨ï¼›</p>
<p>æŠŠæ•°æ®æ®µã€å †æ ˆæ®µæ”¾åœ¨ä»£ç æ®µå‰ï¼Œå…¶å¯¹åº”çš„æ®µåœ°å€æ˜¯x-1ã€x-2<br>æ”¾åœ¨åé¢ç´§è·Ÿä»£ç æ®µåé¢ï¼ˆè²Œä¼¼ï¼‰</p>
<p>(end)</p>
]]></content>
      <categories>
        <category>æ±‡ç¼–è¯­è¨€</category>
      </categories>
      <tags>
        <tag>ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>æ±‡ç¼–ç¬”è®°_ç¬¬åä¸€ç« </title>
    <url>/2018/12/30/%E6%B1%87%E7%BC%96%E7%AC%94%E8%AE%B0-%E7%AC%AC%E5%8D%81%E4%B8%80%E7%AB%A0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="æ ‡å¿—å¯„å­˜å™¨"><a href="#æ ‡å¿—å¯„å­˜å™¨" class="headerlink" title="æ ‡å¿—å¯„å­˜å™¨"></a>æ ‡å¿—å¯„å­˜å™¨</h1><p>æ ‡å¿—å¯„å­˜å™¨çš„ä½œç”¨ï¼š</p>
<ul>
<li>ç”¨æ¥å­˜å‚¨ç›¸å…³æŒ‡ä»¤çš„æŸäº›æ‰§è¡Œç»“æœ</li>
<li>ç”¨æ¥ä¸ºCPUæ‰§è¡Œç›¸å…³æŒ‡ä»¤æä¾›è¡Œä¸ºä¾æ®</li>
<li><p>ç”¨æ¥æ§åˆ¶CPUçš„ç›¸å…³å·¥ä½œæ–¹å¼</p>
</li>
<li><p>æ ‡å¿—å¯„å­˜å™¨ç”±16ä½ï¼ŒæŒ‰ä½èµ·ä½œç”¨ï¼Œ0,2,4,6,7,8,9,10,11æœ‰ç‰¹æ®Šçš„å«ä¹‰ï¼Œå…¶ä»–çš„æ²¡æœ‰ä»»ä½•å«ä¹‰ï¼›</p>
</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th>15</th>
<th>14</th>
<th>13</th>
<th>12</th>
<th>11</th>
<th>10</th>
<th>9</th>
<th>8</th>
<th>7</th>
<th>6</th>
<th>5</th>
<th>4</th>
<th>3</th>
<th>2</th>
<th>1</th>
<th>0</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td>OF</td>
<td>DF</td>
<td>IF</td>
<td>TF</td>
<td>SF</td>
<td>ZF</td>
<td></td>
<td>AF</td>
<td></td>
<td>PF</td>
<td></td>
<td>CF</td>
</tr>
</tbody>
</table>
</div>
<span id="more"></span>
<p><br><br>æ ‡å¿—ä½çš„ç¬¦å·</p>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th style="text-align:center"></th>
<th style="text-align:center"></th>
</tr>
</thead>
<tbody>
<tr>
<td>é›¶æ ‡å¿—ZF(Zero flag)</td>
<td style="text-align:center">ZR(1)</td>
<td style="text-align:center">NZ(0)</td>
</tr>
<tr>
<td>å¥‡å¶æ ‡å¿—PF(Parity flag)</td>
<td style="text-align:center">PE(1)</td>
<td style="text-align:center">PO(0)</td>
</tr>
<tr>
<td>ç¬¦å·æ ‡å¿—SF(Sign flag)</td>
<td style="text-align:center">NG(1)</td>
<td style="text-align:center">PL(0)</td>
</tr>
<tr>
<td>è¿›ä½æ ‡å¿—CF(Carry flag)</td>
<td style="text-align:center">CY(1)</td>
<td style="text-align:center">NC(0)</td>
</tr>
<tr>
<td>æº¢å‡ºæ ‡å¿—OF(Over flow flag)</td>
<td style="text-align:center">OV(1)</td>
<td style="text-align:center">NV(0)</td>
</tr>
<tr>
<td>æ–¹å‘æ ‡å¿—DF(Direction flag)</td>
<td style="text-align:center">DN(1)</td>
<td style="text-align:center">UP(0)</td>
</tr>
<tr>
<td>ä¸­æ–­æ ‡å¿—IF(Interrupt flag)</td>
<td style="text-align:center">EI(1)</td>
<td style="text-align:center">DI(0)</td>
</tr>
<tr>
<td>è¾…åŠ©æ ‡å¿—AF(Auxiliary carry flag)</td>
<td style="text-align:center">AC(1)</td>
<td style="text-align:center">NA(0)</td>
</tr>
</tbody>
</table>
</div>
<h2 id="é›¶æ ‡å¿—ZF"><a href="#é›¶æ ‡å¿—ZF" class="headerlink" title="é›¶æ ‡å¿—ZF"></a>é›¶æ ‡å¿—ZF</h2><p>flagçš„ç¬¬6ä½</p>
<p>å®ƒè®°å½•ç›¸å…³æŒ‡ä»¤æ‰§è¡Œåï¼Œ<br></p>
<ul>
<li>ç»“æœä¸º0ï¼ŒZF=1ï¼›</li>
<li>ç»“æœéé›¶ï¼ŒZF=0ï¼›</li>
</ul>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-keyword">mov</span> ax,<span class="hljs-number">1</span><br><span class="hljs-keyword">sub</span> ax,<span class="hljs-number">1</span><br><br><span class="hljs-keyword">mov</span> ax,<span class="hljs-number">1</span><br><span class="hljs-keyword">and</span> ax,<span class="hljs-number">0</span><br></code></pre></td></tr></table></figure>
<p>æŒ‡ä»¤æ‰§è¡Œåï¼Œç»“æœä¸º0ï¼Œåˆ™ZF=1ï¼›</p>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-keyword">mov</span> ax,<span class="hljs-number">2</span><br><span class="hljs-keyword">sub</span> ax,<span class="hljs-number">1</span><br><br><span class="hljs-keyword">mov</span> ax,<span class="hljs-number">1</span><br><span class="hljs-symbol">or</span> ax,<span class="hljs-number">1</span><br></code></pre></td></tr></table></figure>
<p>æŒ‡ä»¤æ‰§è¡Œåï¼Œç»“æœä¸º1ï¼Œåˆ™ZF=0ï¼›</p>
<p>åœ¨8086CPUçš„æŒ‡ä»¤é›†ä¸­ï¼Œæœ‰çš„æŒ‡ä»¤çš„æ‰§è¡Œäº‹å½±å“æ ‡å¿—å¯„å­˜å™¨çš„ï¼Œä¾‹å¦‚:add,sub,mul,div,inc,or,andç­‰ã€‚æœ‰çš„ä¸å½±å“ï¼Œå¦‚:mov push,popç­‰ä¼ é€æŒ‡ä»¤ï¼›</p>
<h2 id="å¥‡å¶æ ‡å¿—PF"><a href="#å¥‡å¶æ ‡å¿—PF" class="headerlink" title="å¥‡å¶æ ‡å¿—PF"></a>å¥‡å¶æ ‡å¿—PF</h2><p>flagçš„ç¬¬äºŒä½</p>
<p>å®ƒè®°å½•æŒ‡ä»¤æ‰§è¡Œåï¼Œç»“æœçš„æ‰€æœ‰äºŒè¿›åˆ¶ä½ä¸­1çš„ä¸ªæ•°ï¼š</p>
<ul>
<li>ä¸ºå¶æ•°ï¼ŒPF=1ï¼›</li>
<li>ä¸ºå¥‡æ•°ï¼ŒPF=0ï¼›</li>
</ul>
<p>ä¾‹å¦‚ï¼š<br><figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-keyword">mov</span> al,<span class="hljs-number">1</span><br><span class="hljs-keyword">add</span> al,<span class="hljs-number">10</span><br></code></pre></td></tr></table></figure><br>æ‰§è¡Œåï¼ŒPF=0ï¼›<br><figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-keyword">mov</span> al,<span class="hljs-number">1</span><br><span class="hljs-symbol">or</span> al,<span class="hljs-number">10</span><br></code></pre></td></tr></table></figure><br>æ‰§è¡Œåï¼ŒPF=1ï¼›</p>
<h2 id="ç¬¦å·æ ‡å¿—SF"><a href="#ç¬¦å·æ ‡å¿—SF" class="headerlink" title="ç¬¦å·æ ‡å¿—SF"></a>ç¬¦å·æ ‡å¿—SF</h2><p>flagçš„ç¬¬ä¸ƒä½</p>
<p>å®ƒè®°å½•æŒ‡ä»¤æ‰§è¡Œåï¼š</p>
<ul>
<li>ç»“æœä¸ºè´Ÿï¼ŒSF=1ï¼›</li>
<li>ç»“æœä¸ºæ­£ï¼ŒSF=0ï¼›</li>
</ul>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-keyword">mov</span> al,<span class="hljs-number">10000001</span>b<br><span class="hljs-keyword">add</span> al,<span class="hljs-number">1</span><br></code></pre></td></tr></table></figure>
<p>æ‰§è¡ŒåSF=1ï¼›</p>
<h2 id="è¿›ä½æ ‡å¿—CF"><a href="#è¿›ä½æ ‡å¿—CF" class="headerlink" title="è¿›ä½æ ‡å¿—CF"></a>è¿›ä½æ ‡å¿—CF</h2><p>flagçš„ç¬¬0ä½</p>
<p>åœ¨è¿›è¡Œ <strong>æ— ç¬¦å·æ•°è¿ç®—</strong> çš„æ—¶å€™ï¼Œå®ƒè®°å½•çš„è¿ç®—ç»“æœçš„æœ€é«˜æœ‰æ•ˆä½é¡¹æ›´é«˜ä½çš„è¿›ä½å€¼ï¼Œæˆ–ä»æ›´é«˜ä½çš„å€Ÿä½å€¼ï¼›</p>
<p>ä¾‹ï¼š</p>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-keyword">mov</span> al,<span class="hljs-number">98</span>h<br><span class="hljs-keyword">add</span> al,al   <span class="hljs-comment">;(al)=30h,cf=1</span><br><span class="hljs-keyword">add</span> al,al   <span class="hljs-comment">;(al)=30h,cf=1</span><br></code></pre></td></tr></table></figure>
<h2 id="æº¢å‡ºæ ‡å¿—OF"><a href="#æº¢å‡ºæ ‡å¿—OF" class="headerlink" title="æº¢å‡ºæ ‡å¿—OF"></a>æº¢å‡ºæ ‡å¿—OF</h2><p>flagçš„ç¬¬11ä½</p>
<p>åœ¨è¿›è¡Œ <strong>æœ‰ç¬¦å·æ•°è¿ç®—</strong> çš„æ—¶å€™ï¼Œå¦‚æœç»“æœè¶…å‡ºäº†åŠå…¶æ‰€èƒ½è¡¨ç¤ºçš„èŒƒå›´ç§°ä¸ºæº¢å‡ºï¼›</p>
<p>æº¢å‡ºæ—¶OF=1ï¼›</p>
<p>æ³¨æ„ï¼š</p>
<ul>
<li>CFæ˜¯å¯¹ <strong>æ— ç¬¦å·</strong> æ•°è¿ç®—æœ‰æ„ä¹‰çš„æ ‡å¿—ä½ï¼›</li>
<li>OFæ˜¯å¯¹ <strong>æœ‰ç¬¦å·</strong> æ•°è¿ç®—æœ‰æ„ä¹‰çš„æ ‡å¿—ä½ï¼›</li>
</ul>
<p>ä¾‹å¦‚ï¼š<br><figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-keyword">mov</span> al,<span class="hljs-number">0</span>F0H<br><span class="hljs-keyword">add</span> al,<span class="hljs-number">78</span>H<br></code></pre></td></tr></table></figure><br>CF=1,OF=0ï¼›<br>å¯¹äºæ— ç¬¦å·è¿ç®—ï¼Œ0F0H+78Hæœ‰è¿›ä½ï¼ŒCF=1ï¼›å¯¹äºæœ‰ç¬¦å·æ•°è¿ç®—ï¼Œä¸å‘ç”Ÿæº¢å‡ºï¼ŒOF=0ï¼›</p>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-keyword">sub</span> al,al<br><span class="hljs-comment">;0h=0000 0000b</span><br><span class="hljs-comment">;CF=0    OF=0    SF=0    ZF=1    PF=1</span><br><br><span class="hljs-keyword">mov</span> al,<span class="hljs-number">10</span>h<br><span class="hljs-comment">;10h=0001 0000b</span><br><span class="hljs-comment">;CF=0    OF=0    SF=0    ZF=1    PF=1</span><br><br><span class="hljs-keyword">add</span> al,<span class="hljs-number">90</span>h<br><span class="hljs-comment">;90h=1001 0000b</span><br><span class="hljs-comment">;ans=1010 0000b</span><br><span class="hljs-comment">;CF=0   OF=0    SF=1    ZF=0    PF=1</span><br><br><span class="hljs-keyword">mov</span> al,<span class="hljs-number">80</span>h<br><span class="hljs-comment">;80h=1000 0000b</span><br><span class="hljs-comment">;CF=0   OF=0    SF=1    ZF=0    PF=1</span><br><br><span class="hljs-keyword">add</span> al,<span class="hljs-number">80</span>h<br><span class="hljs-comment">;80h=1000 0000b=128d</span><br><span class="hljs-comment">;ans=1 0000 0000b=256d</span><br><span class="hljs-comment">;CF=1   OF=1    SF=0    ZF=1    PF=1</span><br><br><span class="hljs-keyword">mov</span> al,<span class="hljs-number">0</span>FCH<br><span class="hljs-comment">;0FCH=1111 1100b=252d</span><br><span class="hljs-comment">;CF=1   OF=1    SF=0    ZF=1    PF=1</span><br><br><span class="hljs-keyword">add</span> al,<span class="hljs-number">05</span>h<br><span class="hljs-comment">;05h=0000 0101b</span><br><span class="hljs-comment">;ans=1 0000 0001b=257d</span><br><span class="hljs-comment">;CF=1   OF=0    SF=0    ZF=0    PF=0</span><br><br><span class="hljs-keyword">mov</span> al,<span class="hljs-number">7</span>DH<br><span class="hljs-comment">;7DH=0111 1101b=125d</span><br><span class="hljs-comment">;CF=1   OF=0    SF=0    ZF=0    PF=0</span><br><br><span class="hljs-keyword">add</span> al,<span class="hljs-number">0</span>BH<br><span class="hljs-comment">;0BH=0000 1011b=11d</span><br><span class="hljs-comment">;ans=1000 1000b=136d</span><br><span class="hljs-comment">;CF=0   OF=1    SF=1    ZF=0    PF=1</span><br><br></code></pre></td></tr></table></figure>
<p>æ€»ç»“ï¼š</p>
<ul>
<li>CFåªçœ‹å…«ä½äºŒè¿›åˆ¶è®¡ç®—åçš„ç¬¬ä¹ä½çš„å€¼</li>
<li>OFçœ‹è®¡ç®—åçš„å€¼æ˜¯å¦åœ¨-128~127å†…</li>
<li>SFåªçœ‹æœ‰ç¬¦å·æ•°çš„ç¬¬8ä½</li>
<li>ZFçœ‹8ä½æ˜¯å¦éƒ½ä¸º0</li>
<li>PFçœ‹8ä½é‡Œçš„1çš„ä¸ªæ•°</li>
<li>æ ‡å¿—å¯„å­˜å™¨çš„æ”¹å˜ä»…åœ¨éä¼ é€æŒ‡ä»¤æ‰§è¡Œæ—¶</li>
</ul>
<h2 id="adcæŒ‡ä»¤"><a href="#adcæŒ‡ä»¤" class="headerlink" title="adcæŒ‡ä»¤"></a>adcæŒ‡ä»¤</h2><p>adcæ˜¯å¸¦è¿›ä½åŠ æ³•æŒ‡ä»¤ï¼Œä»–åˆ©ç”¨äº†CFä½ä¸Šè®°å½•çš„è¿›ä½å€¼ï¼›</p>
<p>æ ¼å¼ï¼š<br><code>adc æ“ä½œå¯¹è±¡1ï¼Œæ“ä½œå¯¹è±¡2</code></p>
<p>åŠŸèƒ½ï¼š<br><code>æ“ä½œå¯¹è±¡1=æ“ä½œå¯¹è±¡2+CF</code></p>
<p>ä¾‹å¦‚ï¼š<code>adc ax,bx</code>==<code>(ax)=(ax)+(bx)+CF</code></p>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-keyword">mov</span> ax,<span class="hljs-number">2</span><br><span class="hljs-keyword">mov</span> bx,<span class="hljs-number">1</span><br><span class="hljs-keyword">sub</span> bx,ax<br><span class="hljs-keyword">adc</span> ax,<span class="hljs-number">1</span><br><br>(ax)=(ax)+<span class="hljs-number">1</span>+CF<span class="hljs-number">=4</span><br></code></pre></td></tr></table></figure>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-keyword">mov</span> al,<span class="hljs-number">98</span>h<br><span class="hljs-keyword">add</span> al,al<br><span class="hljs-keyword">adc</span> al,<span class="hljs-number">3</span><br><br>(ax)=(ax)+<span class="hljs-number">3</span>+CF<span class="hljs-number">=30</span>H+<span class="hljs-number">3</span>+<span class="hljs-number">1</span><span class="hljs-number">=34</span>H<br></code></pre></td></tr></table></figure>
<ul>
<li>adcæŒ‡ä»¤å’ŒaddæŒ‡ä»¤ç›¸é…åˆå¯ä»¥å¯¹æ›´å¤§çš„æ•°æ®è¿›è¡ŒåŠ æ³•è¿ç®—ï¼›</li>
<li>adcæŒ‡ä»¤åŠ ä¸ŠCFå€¼çš„å«ä¹‰ç”±adcä¹‹å‰çš„æŒ‡ä»¤å†³å®šï¼Œå¦‚æœCFæ˜¯ç”±subè®¾ç½®ï¼Œå®ƒçš„å«ä¹‰å°±æ˜¯å€Ÿä½å€¼ï¼Œç”±addè®¾ç½®å°±æ˜¯é‡‘ä¸ºç©å€¼ï¼›</li>
</ul>
<p>ç¼–å†™ä¸€ä¸ªå¯¹ä¸¤ä¸ª128ä½è¿›åˆ¶æ•°æ®è¿›è¡Œç›¸åŠ çš„å­ç¨‹åºï¼š</p>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">add128:</span><br><span class="hljs-keyword">push</span> ax<br><span class="hljs-keyword">push</span> cx<br><span class="hljs-keyword">push</span> si<br><span class="hljs-keyword">push</span> di<br><span class="hljs-keyword">sub</span> ax,ax   <span class="hljs-comment">;ç½®CFä¸ºé›¶</span><br><span class="hljs-keyword">mov</span> cx,<span class="hljs-number">8</span><br><br>s:<br><span class="hljs-keyword">mov</span> ax,[si]<br><span class="hljs-keyword">adc</span> ax,[si]<br><span class="hljs-keyword">mov</span> [si],ax<br><br><span class="hljs-symbol">inc</span> si<br><span class="hljs-symbol">inc</span> si<br><span class="hljs-symbol">inc</span> di<br><span class="hljs-symbol">inc</span> di<br><span class="hljs-comment">;æ³¨æ„è¿™é‡Œåªèƒ½è¿™ä¹ˆå†™ï¼Œä¸èƒ½æ”¹æˆadd si,2ï¼Œå¦åˆ™ä¼šç½®CFä¸ºé›¶</span><br><br><span class="hljs-symbol">loop</span> s<br><span class="hljs-keyword">pop</span> di<br><span class="hljs-keyword">pop</span> si<br><span class="hljs-keyword">pop</span> cx<br><span class="hljs-keyword">pop</span> ax<br></code></pre></td></tr></table></figure>
<h2 id="sbbæŒ‡ä»¤"><a href="#sbbæŒ‡ä»¤" class="headerlink" title="sbbæŒ‡ä»¤"></a>sbbæŒ‡ä»¤</h2><p>sbbæ˜¯å¸¦å€Ÿä½å‡æ³•æŒ‡ä»¤ï¼Œåˆ©ç”¨äº†CFä½ä¸Šè®°å½•çš„å€Ÿä½å€¼</p>
<p>æ ¼å¼ï¼š<br><code>sbb æ“ä½œå¯¹è±¡1ï¼Œæ“ä½œå¯¹è±¡2</code></p>
<p>åŠŸèƒ½ï¼š<br><code>æ“ä½œå¯¹è±¡1=æ“ä½œå¯¹è±¡1-æ“ä½œå¯¹è±¡2-CF</code></p>
<p>æ¯”å¦‚ï¼š<br><code>sbb ax,bx</code>å®ç°ï¼š<code>(ax)=(ax)-(bx)-CF</code></p>
<p>sbbæŒ‡ä»¤æ‰§è¡Œåï¼Œå°†å¯¹CFè¿›è¡Œè®¾ç½®ï¼›</p>
<h2 id="cmpæŒ‡ä»¤"><a href="#cmpæŒ‡ä»¤" class="headerlink" title="cmpæŒ‡ä»¤"></a>cmpæŒ‡ä»¤</h2><p>cmpæ˜¯æ¯”è¾ƒæŒ‡ä»¤ï¼ŒåŠŸèƒ½ç›¸å½“äºå‡æ³•æŒ‡ä»¤ï¼Œä½† <strong>ä¸ä¿å­˜ç»“æœ</strong>ï¼›</p>
<p>cmpæŒ‡ä»¤æ‰§è¡Œåï¼Œå°†å¯¹æ ‡å¿—å¯„å­˜å™¨äº§ç”Ÿå½±å“ï¼›</p>
<p>æ ¼å¼ï¼š<br><code>cmp æ“ä½œå¯¹è±¡1ï¼Œæ“ä½œå¯¹è±¡2</code></p>
<p>åŠŸèƒ½ï¼šè®¡ç®—æ“ä½œå¯¹è±¡1-æ“ä½œå¯¹è±¡2</p>
<p>ä¸ä¿å­˜ç»“æœï¼Œä»…ä»…æ ¹æ®è®¡ç®—ç»“æœå¯¹æ ‡å¿—å¯„å­˜å™¨è¿›è¡Œè®¾ç½®ï¼›</p>
<p>ä¾‹å¦‚ï¼š<br><figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-keyword">cmp</span> ax,ax<br><br><span class="hljs-symbol">ZF</span><span class="hljs-number">=1</span><br><span class="hljs-symbol">PF</span><span class="hljs-number">=1</span><br><span class="hljs-symbol">SF</span><span class="hljs-number">=0</span><br><span class="hljs-symbol">CF</span><span class="hljs-number">=0</span><br><span class="hljs-symbol">OF</span><span class="hljs-number">=0</span><br></code></pre></td></tr></table></figure></p>
<p><code>cmp ax,bx</code> æŒ‡ä»¤æ‰§è¡Œåï¼Œå¯ä»¥æ ¹æ®ç›¸å…³çš„æ ‡å¿—ä½çš„å€¼çœ‹å‡ºæ¯”è¾ƒçš„ç»“æœï¼š</p>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>å¦‚æœ(ax)=(bx)</td>
<td>(ax)-(bx)=0</td>
<td>ZF=1</td>
</tr>
<tr>
<td>å¦‚æœ(ax) $\neq$ (bx)</td>
<td>(ax)-(bx) $\neq$ 0</td>
<td>ZF=0</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>å¦‚æœ(ax) $\lt$ (bx)</td>
<td>(ax)-(bx)å°†äº§ç”Ÿå€Ÿä½</td>
<td>CF=1</td>
</tr>
<tr>
<td>å¦‚æœ(ax) $\ge$ (bx)</td>
<td>(ax)-(bx)ä¸å¿…å€Ÿä½</td>
<td>CF=0</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>å¦‚æœ(ax) $\gt$ (bx)</td>
<td>(ax)-(bx)æ—¢ä¸å¿…å€Ÿä½ï¼Œç»“æœåˆä¸ä¸ºé›¶</td>
<td>CF=0å¹¶ä¸”ZF=0</td>
</tr>
<tr>
<td>å¦‚æœ(ax) $\le$ (bx)</td>
<td>(ax)-(bx)æ—¢å¯èƒ½å€Ÿä½ï¼Œç»“æœå¯èƒ½ä¸ºé›¶</td>
<td>CF=1æˆ–ZF=1</td>
</tr>
</tbody>
</table>
</div>
<p>cmpä¸addã€subä¸€æ ·æ—¢å¯ä»¥å¯¹æ— ç¬¦å·æ•°æ¯”è¾ƒä¹Ÿå¯ä»¥å¯¹æœ‰ç¬¦å·æ•°æ¯”è¾ƒï¼›</p>
<p>ä¸èƒ½å•çº¯çš„çœ‹SFçš„å€¼æ¥åˆ¤æ–­ä¸¤ä¸ªæ“ä½œå¯¹è±¡çš„å¤§å°ï¼Œå› ä¸ºæº¢å‡ºçš„é—®é¢˜ï¼›</p>
<p><code>cmp ah,bh</code></p>
<ul>
<li>å¦‚æœSF=1ï¼ŒOF=0ï¼šOF=0è¯´æ˜æ²¡æœ‰æº¢å‡ºï¼Œé€»è¾‘ä¸ŠçœŸæ­£çš„ç»“æœçš„æ­£è´Ÿå’Œå®é™…ç»“æœçš„ç›¸åŒï¼›SF=1ï¼Œå®é™…ç»“æœä¸ºè´Ÿï¼Œæ‰€ä»¥é€»è¾‘ä¸Šä¸ºè´Ÿï¼Œ(ah) $\lt$ (bh)ï¼›</li>
<li>å¦‚æœSF=1ï¼ŒOF=1ï¼šå› ä¸ºæº¢å‡ºå¯¼è‡´å®é™…ç»“æœä¸ºè´Ÿï¼Œé‚£ä¹ˆé€»è¾‘ä¸ŠçœŸæ­£ç»“æœä¸ºæ­£ï¼Œè¯´æ˜ (ah) $\gt$ (bh)ï¼›</li>
<li>å¦‚æœSF=0ï¼ŒOF=1ï¼šå› ä¸ºæº¢å‡ºå¯¼è‡´å®é™…ç»“æœä¸ºæ­£ï¼Œé‚£ä¹ˆé€»è¾‘ä¸ŠçœŸæ­£çš„ç»“æœå¿…ç„¶ä¸ºè´Ÿï¼Œè¯´æ˜ (ah) $\lt$ (bh)ï¼›</li>
<li>å¦‚æœSF=0ï¼ŒOF=0ï¼š (ah) $\ge$ (bh)ï¼›</li>
</ul>
<h2 id="æ¡ä»¶è½¬ç§»æŒ‡ä»¤"><a href="#æ¡ä»¶è½¬ç§»æŒ‡ä»¤" class="headerlink" title="æ¡ä»¶è½¬ç§»æŒ‡ä»¤"></a>æ¡ä»¶è½¬ç§»æŒ‡ä»¤</h2><p>æ‰€æœ‰æ¡ä»¶è½¬ç§»æŒ‡ä»¤çš„è½¬ç§»ä½ç§»æ˜¯[-128,127]ï¼›</p>
<p>é€šå¸¸å’Œcmpç›¸é…åˆï¼›</p>
<p>cmpæŒ‡ä»¤çš„æ¯”è¾ƒç»“æœè¿›è¡Œè½¬ç§»çš„æŒ‡ä»¤åˆ†ä¸ºï¼š</p>
<ul>
<li>æ ¹æ® <strong>æ— ç¬¦å·æ•´æ•°</strong> çš„æ¯”è¾ƒç»“æœè¿›è¡Œè½¬ç§»çš„æ¡ä»¶è½¬ç§»æŒ‡ä»¤ï¼Œæ£€æµ‹ZFã€CFçš„å€¼ï¼›</li>
<li>æ ¹æ® <strong>æœ‰ç¬¦å·æ•´æ•°</strong> çš„æ¯”è¾ƒç»“æœè¿›è¡Œè½¬ç§»çš„æ¡ä»¶è½¬ç§»æŒ‡ä»¤ï¼Œæ£€æµ‹SFã€OFã€å’ŒZFçš„å€¼ï¼›</li>
</ul>
<p>æ ¹æ®æ— ç¬¦å·æ•°çš„æ¯”è¾ƒç»“æœè¿›è¡Œè½¬ç§»çš„æ¡ä»¶è½¬ç§»æŒ‡ä»¤ï¼š</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>æŒ‡ä»¤</th>
<th style="text-align:center">å«ä¹‰</th>
<th style="text-align:center">æ£€æµ‹çš„ç›¸å…³æ ‡å¿—ä½</th>
</tr>
</thead>
<tbody>
<tr>
<td>je</td>
<td style="text-align:center">ç­‰äºåˆ™è½¬ç§»</td>
<td style="text-align:center">ZF=1</td>
</tr>
<tr>
<td>jne</td>
<td style="text-align:center">ä¸ç­‰äºåˆ™è½¬ç§»</td>
<td style="text-align:center">ZF=0</td>
</tr>
<tr>
<td>jb</td>
<td style="text-align:center">ä½äºåˆ™è½¬ç§»</td>
<td style="text-align:center">CF=1</td>
</tr>
<tr>
<td>jnb</td>
<td style="text-align:center">ä¸ä½äºåˆ™è½¬ç§»</td>
<td style="text-align:center">CF=0</td>
</tr>
<tr>
<td>ja</td>
<td style="text-align:center">é«˜äºåˆ™è½¬ç§»</td>
<td style="text-align:center">CF=0,ZF=0</td>
</tr>
<tr>
<td>jan</td>
<td style="text-align:center">ä¸é«˜äºåˆ™è½¬ç§»</td>
<td style="text-align:center">CF=1æˆ–ZF=1</td>
</tr>
</tbody>
</table>
</div>
<h2 id="DFæ ‡å¿—å’Œä¸²ä¼ é€æŒ‡ä»¤"><a href="#DFæ ‡å¿—å’Œä¸²ä¼ é€æŒ‡ä»¤" class="headerlink" title="DFæ ‡å¿—å’Œä¸²ä¼ é€æŒ‡ä»¤"></a>DFæ ‡å¿—å’Œä¸²ä¼ é€æŒ‡ä»¤</h2><p>flagçš„ç¬¬10ä½</p>
<p>åŠŸèƒ½ï¼šåœ¨ä¸²å¤„ç†æŒ‡ä»¤ä¸­ï¼Œæ§åˆ¶æ¯æ¬¡æ“ä½œåsi,diçš„å¢å‡ï¼›</p>
<ul>
<li>DF=0ï¼šæ¯æ¬¡æ“ä½œåsi,dié€’å¢ï¼›</li>
<li>DF=1ï¼šæ¯æ¬¡æ“ä½œåsi,dié€’å‡ï¼›</li>
</ul>
<p>æ ¼å¼1ï¼š<code>movsb</code></p>
<p>åŠŸèƒ½ï¼šä»¥å­—èŠ‚ä¸ºå•ä½ä¼ é€ï¼›</p>
<ul>
<li>((es)<em>16+(di))=((ds)</em>16+(si))</li>
<li>if(df==0): (si)=(si)=1,(di)=(di)+1;</li>
<li>if(df=0): (si)=(si)-1,(di)=(di)-1;</li>
</ul>
<p>æ ¼å¼2ï¼š <code>movsw</code></p>
<p>åŠŸèƒ½ï¼šä»¥å­—ä¸ºå•ä½ä¼ é€</p>
<p><code>rep mobsb</code> or <code>rep movsw</code></p>
<p>ä¸€èˆ¬ï¼Œ<code>movsb</code> å’Œ <code>movsw</code> å’Œ <code>rep</code> é…åˆä½¿ç”¨ï¼Œrepçš„ä½œç”¨æ˜¯æ ¹æ®cxçš„å€¼ï¼Œé‡å¤æ‰§è¡Œåé¢çš„ä¸²ä¼ é€æŒ‡ä»¤ï¼›</p>
<p>å¯¹DFä½çš„è®¾ç½®ï¼š</p>
<ul>
<li><code>cld</code>æŒ‡ä»¤ï¼šå°†æ ‡å¿—å¯„å­˜å™¨çš„DFä½ç½®0</li>
<li><code>std</code>æŒ‡ä»¤ï¼šå°†æ ‡å¿—å¯„å­˜å™¨çš„DFä½ç½®1</li>
</ul>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">data</span> segment <br>    db <span class="hljs-string">&#x27;Welcome to masn!&#x27;</span><br>    db <span class="hljs-number">16</span> dup(<span class="hljs-number">0</span>)<br><span class="hljs-symbol">data</span> ends<br><span class="hljs-comment">;å°†dataæ®µä¸­çš„ç¬¬ä¸€ä¸ªä¸²é€åˆ°åé¢çš„ç©ºé—´</span><br><br><span class="hljs-comment">;ä¼ é€çš„è®¾ç½®ï¼š</span><br><span class="hljs-comment">;ä¼ é€çš„åŸå§‹ä½ç½®ï¼šds:si</span><br><span class="hljs-comment">;ä¼ é€çš„ç›®çš„åœ°å€ï¼šes:di</span><br><span class="hljs-comment">;ä¼ é€çš„é•¿åº¦ï¼šcx</span><br><span class="hljs-comment">;ä¼ é€çš„æ–¹å‘ï¼šDF</span><br><br><span class="hljs-keyword">mov</span> ax,<span class="hljs-meta">data</span><br><span class="hljs-keyword">mov</span> ds,ax<br><span class="hljs-keyword">mov</span> si,<span class="hljs-number">0</span><br><span class="hljs-keyword">mov</span> es,ax<br><span class="hljs-keyword">mov</span> di,<span class="hljs-number">16</span><br><span class="hljs-keyword">mov</span> cx,<span class="hljs-number">16</span><br><span class="hljs-symbol">cld</span><br><span class="hljs-symbol">rep</span> movsb<br></code></pre></td></tr></table></figure>
<h2 id="pushfå’Œpopf"><a href="#pushfå’Œpopf" class="headerlink" title="pushfå’Œpopf"></a>pushfå’Œpopf</h2><ul>
<li><code>pushf</code>: å°†æ ‡å¿—å¯„å­˜å™¨çš„å€¼å‹æ ˆ</li>
<li><code>popf</code>: ä»æ ˆä¸­å¼¹å‡ºæ•°æ®ï¼Œé€å…¥åˆ°æ ‡å¿—å¯„å­˜å™¨ä¸­</li>
</ul>
<p>(end)</p>
]]></content>
      <categories>
        <category>æ±‡ç¼–è¯­è¨€</category>
      </categories>
      <tags>
        <tag>ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>æ±‡ç¼–ç¬”è®°_ç¬¬åä¸‰ç« </title>
    <url>/2019/01/02/%E6%B1%87%E7%BC%96%E7%AC%94%E8%AE%B0-%E7%AC%AC%E5%8D%81%E4%B8%89%E7%AB%A0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="ä¸­æ–­ç¨‹åºè®¾è®¡"><a href="#ä¸­æ–­ç¨‹åºè®¾è®¡" class="headerlink" title="ä¸­æ–­ç¨‹åºè®¾è®¡"></a>ä¸­æ–­ç¨‹åºè®¾è®¡</h1><h2 id="int-æŒ‡ä»¤"><a href="#int-æŒ‡ä»¤" class="headerlink" title="int æŒ‡ä»¤"></a>int æŒ‡ä»¤</h2><p><code>int n</code>ï¼šnä¸ºä¸­æ–­ç±»å‹ç ï¼ŒåŠŸèƒ½æ˜¯å¼•å‘ä¸­æ–­è¿‡ç¨‹</p>
<span id="more"></span>
<h2 id="å®šåˆ¶è‡ªå·±çš„ä¸­æ–­"><a href="#å®šåˆ¶è‡ªå·±çš„ä¸­æ–­" class="headerlink" title="å®šåˆ¶è‡ªå·±çš„ä¸­æ–­"></a>å®šåˆ¶è‡ªå·±çš„ä¸­æ–­</h2><p>egï¼šå°†dataæ®µä¸­çš„å­—ç¬¦è½¬åŒ–ä¸ºå¤§å†™<br><figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">assume</span> cs:<span class="hljs-meta">code</span><br><span class="hljs-symbol">data</span> segment <br>    db <span class="hljs-string">&#x27;coversation&#x27;</span>,<span class="hljs-number">0</span><br><span class="hljs-symbol">data</span> ends<br><br><span class="hljs-symbol">code</span> segment<br><span class="hljs-symbol">start:</span><br>    <span class="hljs-keyword">mov</span> ax,<span class="hljs-meta">data</span><br>    <span class="hljs-keyword">mov</span> ds,ax<br>    <span class="hljs-keyword">mov</span> si,<span class="hljs-number">0</span><br><br>    int <span class="hljs-number">7</span>ch<br><br>    <span class="hljs-keyword">mov</span> ax,<span class="hljs-number">4</span>c00h<br>    int <span class="hljs-number">21</span>h<br><br><span class="hljs-symbol">code</span> ends<br><span class="hljs-symbol">end</span> start<br><br><br><br><span class="hljs-symbol">capital:</span><br>    <span class="hljs-keyword">push</span> cx<br>    <span class="hljs-keyword">push</span> si<br><span class="hljs-symbol">change:</span><br>    <span class="hljs-keyword">mov</span> cl,[si]<br>    <span class="hljs-keyword">mov</span> ch,<span class="hljs-number">0</span><br>    jcxz ok<br>    <span class="hljs-keyword">and</span> byte ptr [si],<span class="hljs-number">0</span>DFH<br>    inc si<br>    jmp short change<br><br><span class="hljs-symbol">ok:</span><br>    <span class="hljs-keyword">pop</span> si<br>    <span class="hljs-keyword">pop</span> cx<br>    iret<br><br><span class="hljs-symbol">capitalend:</span>nop<br></code></pre></td></tr></table></figure></p>
<h2 id="è½¯ä»¶ä¸­æ–­å­ç¨‹åºçš„ç¼–å†™"><a href="#è½¯ä»¶ä¸­æ–­å­ç¨‹åºçš„ç¼–å†™" class="headerlink" title="è½¯ä»¶ä¸­æ–­å­ç¨‹åºçš„ç¼–å†™"></a>è½¯ä»¶ä¸­æ–­å­ç¨‹åºçš„ç¼–å†™</h2><ul>
<li>ä¿å­˜ç°åœº</li>
<li>STIå¼€ä¸­æ–­æŒ‡ä»¤ï¼›å¦‚å…è®¸ä¸­æ–­åµŒå¥—ï¼Œåˆ™å¼€ä¸­æ–­</li>
<li>å¤„ç†ä¸­æ–­</li>
<li>CLIå…³ä¸­æ–­æŒ‡ä»¤</li>
<li>æ¢å¤ç°åœº</li>
<li>IRETæŒ‡ä»¤ï¼Œè¿”å›è¢«ä¸­æ–­çš„ç¨‹åº</li>
</ul>
<h2 id="å¯¹int-iretå’Œæ ˆçš„æ·±å…¥ç†è§£"><a href="#å¯¹int-iretå’Œæ ˆçš„æ·±å…¥ç†è§£" class="headerlink" title="å¯¹int,iretå’Œæ ˆçš„æ·±å…¥ç†è§£"></a>å¯¹int,iretå’Œæ ˆçš„æ·±å…¥ç†è§£</h2><p>ç”¨7chä¸­æ–­å®ŒæˆloopæŒ‡ä»¤çš„åŠŸèƒ½</p>
<p>bxï¼šä¿å­˜ä½ç§»ï¼ˆè´Ÿçš„ï¼‰<br>cx: ä¿å­˜å¾ªç¯æ¬¡æ•°</p>
<p>æ‰€ä»¥7chçš„åŠŸèƒ½æœ‰ï¼š</p>
<ul>
<li>dec cx</li>
<li>åˆ¤æ–­(cx)ï¼Œä¸ä¸ºé›¶å¾ªç¯ï¼Œä¸ºé›¶å‘ä¸‹æ‰§è¡Œ</li>
</ul>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">assume</span> cs:<span class="hljs-meta">code</span><br><span class="hljs-symbol">code</span> segment<br><span class="hljs-symbol">start:</span><br>    <span class="hljs-keyword">mov</span> ax,<span class="hljs-number">0</span>b800h<br>    <span class="hljs-keyword">mov</span> es,ax<br>    <span class="hljs-keyword">mov</span> di,<span class="hljs-number">160</span>*<span class="hljs-number">12</span><br><br>    <span class="hljs-keyword">mov</span> bx,offset s-offset se<br>    <span class="hljs-keyword">mov</span> cx,<span class="hljs-number">80</span><br><br>  s:<br>    <span class="hljs-keyword">mov</span> byte ptr es:[di],<span class="hljs-string">&#x27;!&#x27;</span><br>    <span class="hljs-keyword">add</span> di,<span class="hljs-number">2</span><br>    int <span class="hljs-number">7</span>ch<br><span class="hljs-symbol">  se:</span>nop<br><br>  <span class="hljs-keyword">mov</span> ax,<span class="hljs-number">4</span>c00h<br>  int <span class="hljs-number">21</span>h<br><br><span class="hljs-symbol">code</span> ends<br><span class="hljs-symbol">end</span> start<br><br><br><span class="hljs-comment">;int 7ch:</span><br><span class="hljs-comment">;ç›´æ¥ä¿®æ”¹IPçš„å€¼åˆ°så¤„å®ç°å¾ªç¯</span><br><span class="hljs-comment">;è®¿é—®æ ˆéœ€è¦ä½¿ç”¨bp</span><br><br><span class="hljs-symbol">lp:</span><br>    <span class="hljs-keyword">push</span> bp<br>    <span class="hljs-keyword">mov</span> bp,<span class="hljs-built_in">sp</span><br>    dec cx<br>    jcxz lpret<br>    <span class="hljs-keyword">add</span> [bp+<span class="hljs-number">2</span>],<span class="hljs-keyword">bx</span>   <span class="hljs-comment">;[bp+2]å³ä¸ºIP</span><br><span class="hljs-symbol">lpret:</span><br>    <span class="hljs-keyword">pop</span> bp<br>    iret<br></code></pre></td></tr></table></figure>
<h2 id="BIOSå’ŒDOSä¸­æ–­ä¾‹ç¨‹"><a href="#BIOSå’ŒDOSä¸­æ–­ä¾‹ç¨‹" class="headerlink" title="BIOSå’ŒDOSä¸­æ–­ä¾‹ç¨‹"></a>BIOSå’ŒDOSä¸­æ–­ä¾‹ç¨‹</h2><p>romä¸­å­˜æ”¾ç€BIOSï¼ˆåŸºæœ¬è¾“å…¥è¾“å‡ºç³»ç»Ÿï¼‰ï¼š</p>
<ul>
<li>ç¡¬ä»¶ç³»ç»Ÿçš„æ£€æµ‹å’Œåˆå§‹åŒ–ç¨‹åº</li>
<li>å¤–éƒ¨ä¸­æ–­å’Œå†…éƒ¨ä¸­æ–­ä¾‹ç¨‹</li>
<li>ç”¨äºå¯¹ç¡¬ä»¶è®¾å¤‡è¿›è¡ŒIOæ“ä½œçš„ä¸­æ–­ä¾‹ç¨‹</li>
<li>å…¶ä»–å’Œç¡¬ä»¶ç³»ç»Ÿç›¸å…³çš„ä¸­æ–­ä¾‹ç¨‹</li>
</ul>
<h2 id="BIOSå’ŒDOSä¸­æ–­ä¾‹ç¨‹çš„å®‰è£…è¿‡ç¨‹"><a href="#BIOSå’ŒDOSä¸­æ–­ä¾‹ç¨‹çš„å®‰è£…è¿‡ç¨‹" class="headerlink" title="BIOSå’ŒDOSä¸­æ–­ä¾‹ç¨‹çš„å®‰è£…è¿‡ç¨‹"></a>BIOSå’ŒDOSä¸­æ–­ä¾‹ç¨‹çš„å®‰è£…è¿‡ç¨‹</h2><ul>
<li>CPUå¼€æœºåŠ ç”µåï¼Œåˆå§‹åŒ–(CS)=0FFFFH,(IP)=0ï¼Œè‡ªåŠ¨ä»FFFF:0å•å…ƒå¼€å§‹æ‰§è¡Œç¨‹åºï¼ˆè¯¥å•å…ƒå¤„ä¸ºä¸€æ¡è·³è½¬æŒ‡ä»¤ï¼ŒCPUä¼šè½¬å»æ‰§è¡ŒBIOSä¸­çš„ç¡¬ä»¶ç³»ç»Ÿæ£€æµ‹å’Œåˆå§‹åŒ–ç¨‹åºï¼‰</li>
<li>åˆå§‹åŒ–ç¨‹åºå°†å»ºç«‹BIOSæ‰€æ”¯æŒçš„ä¸­æ–­å‘é‡ï¼Œå°†BIOSæä¾›çš„ä¸­æ–­ä¾‹ç¨‹çš„å…¥å£åœ°å€ç™»è®°åœ¨ä¸­æ–­å‘é‡è¡¨ä¸­</li>
<li>ç¡¬ä»¶ç³»ç»Ÿæ£€æµ‹å’Œåˆå§‹åŒ–å®Œæˆåï¼Œè°ƒç”¨ <code>int 19h</code> è¿›è¡Œæ“ä½œç³»ç»Ÿçš„åº”é“ï¼Œä»è€Œå°†è®¡ç®—æœºäº¤ç”±æ“ä½œç³»ç»Ÿæ§åˆ¶</li>
<li>DOSå¯åŠ¨åï¼Œé™¤å®Œæˆå…¶ä»–å·¥ä½œå¤–ï¼Œè¿˜å°†å®ƒæä¾›çš„ä¸­æ–­ä¾‹ç¨‹è£…å…¥å†…å­˜ï¼Œå¹¶å»ºç«‹ç›¸åº”çš„ä¸­æ–­å‘é‡</li>
</ul>
<h2 id="BIOSä¸­æ–­"><a href="#BIOSä¸­æ–­" class="headerlink" title="BIOSä¸­æ–­"></a>BIOSä¸­æ–­</h2><p>BIOSä¸»è¦åˆ†ä¸ºï¼š</p>
<ul>
<li>ç³»ç»Ÿç¡¬ä»¶æ£€æµ‹å’Œåˆå§‹åŒ–ç¨‹åº</li>
<li>å†…ä¸­æ–­çš„ä¸­æ–­å¤„ç†ç¨‹åº</li>
<li>ç¡¬ä»¶ä¸­æ–­çš„ä¸­æ–­å¤„ç†ç¨‹åº</li>
<li>IOè®¾å¤‡åŠæ¥å£æ§åˆ¶ç­‰åŠŸèƒ½æ¨¡å—</li>
</ul>
<h2 id="å±å¹•åŠå…‰æ ‡æ§åˆ¶-int-10h"><a href="#å±å¹•åŠå…‰æ ‡æ§åˆ¶-int-10h" class="headerlink" title="å±å¹•åŠå…‰æ ‡æ§åˆ¶ int 10h"></a>å±å¹•åŠå…‰æ ‡æ§åˆ¶ int 10h</h2><h3 id="å…‰æ ‡æ§åˆ¶"><a href="#å…‰æ ‡æ§åˆ¶" class="headerlink" title="å…‰æ ‡æ§åˆ¶"></a>å…‰æ ‡æ§åˆ¶</h3><ul>
<li><p>å…‰æ ‡å¤§å°æ§åˆ¶</p>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">ah</span><span class="hljs-number">=01</span>h<br><span class="hljs-symbol">ch</span>=å…‰æ ‡å¼€å§‹è¡Œ<br><span class="hljs-symbol">cl</span>=å…‰æ ‡ç»“æŸè¡Œ<br><span class="hljs-symbol">int</span> <span class="hljs-number">10</span>h<br></code></pre></td></tr></table></figure>
</li>
<li><p>è®¾ç½®å…‰æ ‡ä½ç½®</p>
</li>
</ul>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">ah</span><span class="hljs-number">=01</span>h<br><span class="hljs-symbol">dh</span>=è¡Œå·<br><span class="hljs-symbol">dl</span>=åˆ—å·<br><span class="hljs-symbol">bh</span>=é¡µå·<br><span class="hljs-symbol">int</span> <span class="hljs-number">10</span>h<br></code></pre></td></tr></table></figure>
<ul>
<li>è¯»å…‰æ ‡ä½ç½®</li>
</ul>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">ah</span><span class="hljs-number">=03</span>h<br><span class="hljs-symbol">bh</span>=é¡µå·<br><span class="hljs-symbol">int</span> <span class="hljs-number">10</span>h<br><br>è¿”å›å€¼ï¼š<br><span class="hljs-symbol">dh</span>=è¡Œå·<br><span class="hljs-symbol">dl</span>=åˆ—å·<br><span class="hljs-symbol">cx</span>=å…‰æ ‡å¤§å°<br></code></pre></td></tr></table></figure>
<h3 id="å·å±ã€æ¸…å±ã€å¼€çª—å£"><a href="#å·å±ã€æ¸…å±ã€å¼€çª—å£" class="headerlink" title="å·å±ã€æ¸…å±ã€å¼€çª—å£"></a>å·å±ã€æ¸…å±ã€å¼€çª—å£</h3><ul>
<li>é€‰æ‹©æ˜¾ç¤ºé¡µ</li>
</ul>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">ah</span><span class="hljs-number">=05</span>h<br><span class="hljs-symbol">al</span>=é¡µå·<br><span class="hljs-symbol">int</span> <span class="hljs-number">10</span>h<br></code></pre></td></tr></table></figure>
<ul>
<li>å±å¹•å¼€çª—å£</li>
</ul>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">ah</span><span class="hljs-number">=06</span>h<br><span class="hljs-symbol">al</span><span class="hljs-number">=0</span><br><span class="hljs-symbol">bh</span>=çª—å£é¢œè‰²å±æ€§<br><span class="hljs-symbol">ch</span>=å·¦ä¸Šè§’è¡Œå·<br><span class="hljs-symbol">cl</span>=å·¦ä¸Šè§’åˆ—å·<br><span class="hljs-symbol">dh</span>=å³ä¸‹è§’è¡Œå·<br><span class="hljs-symbol">dl</span>=å³ä¸‹è§’åˆ—å·<br><span class="hljs-symbol">int</span> <span class="hljs-number">10</span>h<br></code></pre></td></tr></table></figure>
<ul>
<li>å±å¹•ä¸Šå·</li>
</ul>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">ah</span><span class="hljs-number">=06</span>h<br><span class="hljs-symbol">al</span>=ä¸Šå·è¡Œæ•°<br><span class="hljs-symbol">bh</span>=å·å…¥è¡Œå±æ€§<br><span class="hljs-symbol">ch</span>=å·¦ä¸Šè§’è¡Œå·<br><span class="hljs-symbol">cl</span>=å·¦ä¸Šè§’åˆ—å·<br><span class="hljs-symbol">dh</span>=å³ä¸‹è§’è¡Œå·<br><span class="hljs-symbol">dl</span>=å³ä¸‹è§’åˆ—å·<br><span class="hljs-symbol">int</span> <span class="hljs-number">10</span>h<br></code></pre></td></tr></table></figure>
<ul>
<li>å±å¹•ä¸‹å·</li>
</ul>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">ah</span><span class="hljs-number">=07</span>h<br></code></pre></td></tr></table></figure>
<h3 id="å­—ç¬¦è¯»ä¸æ˜¾ç¤º"><a href="#å­—ç¬¦è¯»ä¸æ˜¾ç¤º" class="headerlink" title="å­—ç¬¦è¯»ä¸æ˜¾ç¤º"></a>å­—ç¬¦è¯»ä¸æ˜¾ç¤º</h3><ul>
<li>è¯»å½“å‰å…‰æ ‡å¤„å­—ç¬¦å’Œå±æ€§</li>
</ul>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">ah</span><span class="hljs-number">=08</span>h<br><span class="hljs-symbol">bh</span>=é¡µå·<br><span class="hljs-symbol">int</span> <span class="hljs-number">10</span>h<br><br>è¿”å›å€¼ï¼š<br><span class="hljs-symbol">ah</span>=å±æ€§<br><span class="hljs-symbol">al</span>=å­—ç¬¦<br></code></pre></td></tr></table></figure>
<ul>
<li>æ˜¾ç¤ºå¤šä¸ªå¸¦å±æ€§çš„ç›¸åŒå­—ç¬¦</li>
</ul>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">ah</span><span class="hljs-number">=09</span>h<br><span class="hljs-symbol">bh</span>=é¡µå·<br><span class="hljs-symbol">cx</span>=å­—ç¬¦é‡å¤ä¸ªæ•°<br><span class="hljs-symbol">al</span>=å­—ç¬¦<br><span class="hljs-symbol">bl</span>=å±æ€§<br><span class="hljs-symbol">int</span> <span class="hljs-number">10</span>h<br><br><br><span class="hljs-number">7</span>   <span class="hljs-number">6</span> <span class="hljs-number">5</span> <span class="hljs-number">4</span>  <span class="hljs-number">3</span>  <span class="hljs-number">2</span> <span class="hljs-number">1</span> <span class="hljs-number">0</span><br><span class="hljs-keyword">bl</span>  r g <span class="hljs-keyword">b</span>  i  r g b<br>é—ªçƒ èƒŒæ™¯ é«˜äº® å‰æ™¯<br></code></pre></td></tr></table></figure>
<h2 id="DOSä¸­æ–­"><a href="#DOSä¸­æ–­" class="headerlink" title="DOSä¸­æ–­"></a>DOSä¸­æ–­</h2><p>æ˜¾ç¤ºåŠŸèƒ½è°ƒç”¨</p>
<ul>
<li>æ˜¾ç¤ºä¸€ä¸ªå­—ç¬¦</li>
</ul>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">ah</span><span class="hljs-number">=02</span>h<br><span class="hljs-symbol">dl</span>=å­—ç¬¦<br><span class="hljs-symbol">int</span> <span class="hljs-number">21</span>h<br>åŠŸèƒ½ï¼šå±å¹•ä¸Šæ˜¾ç¤ºä¸€ä¸ªå­—ç¬¦ï¼Œå…‰æ ‡è·Ÿéšå­—ç¬¦ç§»åŠ¨ã€‚æ£€éªŒDLæ˜¯å¦ä¸ºCtrl_Breakã€‚<br></code></pre></td></tr></table></figure>
<ul>
<li>æ˜¾ç¤ºä¸€ä¸ªå­—ç¬¦</li>
</ul>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">ah</span><span class="hljs-number">=06</span>h<br><span class="hljs-symbol">dl</span>=å­—ç¬¦<br><span class="hljs-symbol">int</span> <span class="hljs-number">21</span>h<br>åŠŸèƒ½ï¼šå±å¹•ä¸Šæ˜¾ç¤ºä¸€ä¸ªå­—ç¬¦ï¼Œå…‰æ ‡è·Ÿéšå­—ç¬¦ç§»åŠ¨ã€‚ä¸æ£€éªŒCtrl_Breakã€‚<br></code></pre></td></tr></table></figure>
<ul>
<li>æ˜¾ç¤ºä¸€ä¸²å­—ç¬¦</li>
</ul>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">ah</span><span class="hljs-number">=09</span>h<br><span class="hljs-symbol">ds:</span>dx=å­—ç¬¦ä¸²åœ°å€<br><span class="hljs-symbol">int</span> <span class="hljs-number">21</span>h<br>åŠŸèƒ½ï¼šå±å¹•ä¸Šæ˜¾ç¤ºä¸€ä¸²å­—ç¬¦ï¼Œå…‰æ ‡è·Ÿéšå­—ç¬¦ç§»åŠ¨ã€‚è¦æ±‚å­—ç¬¦ä¸²å¿…é¡»ä»¥$ç»“å°¾ã€‚<br></code></pre></td></tr></table></figure>
<p>è¾“å…¥</p>
<ul>
<li>é”®å…¥ä¸€ä¸ªå­—ç¬¦å¹¶å›æ˜¾</li>
</ul>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">ah</span><span class="hljs-number">=01</span>h<br><span class="hljs-symbol">int</span> <span class="hljs-number">21</span>h<br>è¿”å›å€¼ï¼šAL=å­—ç¬¦çš„ASCIIç ã€‚<br></code></pre></td></tr></table></figure>
<ul>
<li>é”®å…¥ä¸€ä¸ªå­—ç¬¦ä¸å›æ˜¾</li>
</ul>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">ah</span><span class="hljs-number">=07</span>h<br><span class="hljs-symbol">int</span> <span class="hljs-number">21</span>h<br>è¿”å›å€¼ï¼šAL=å­—ç¬¦çš„ASCIIç ã€‚ä¸æ£€éªŒé”®å…¥çš„å­—ç¬¦æ˜¯å¦ä¸ºCtrl_Breakã€‚<br></code></pre></td></tr></table></figure>
<p>(end)</p>
]]></content>
      <categories>
        <category>æ±‡ç¼–è¯­è¨€</category>
      </categories>
      <tags>
        <tag>ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>æ±‡ç¼–ç¬”è®°_ç¬¬åäºŒç« </title>
    <url>/2019/01/01/%E6%B1%87%E7%BC%96%E7%AC%94%E8%AE%B0-%E7%AC%AC%E5%8D%81%E4%BA%8C%E7%AB%A0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="å†…ä¸­æ–­"><a href="#å†…ä¸­æ–­" class="headerlink" title="å†…ä¸­æ–­"></a>å†…ä¸­æ–­</h1><h2 id="ä¸­æ–­çš„äº§ç”Ÿ"><a href="#ä¸­æ–­çš„äº§ç”Ÿ" class="headerlink" title="ä¸­æ–­çš„äº§ç”Ÿ"></a>ä¸­æ–­çš„äº§ç”Ÿ</h2><p><strong>ä¸­æ–­</strong>ï¼š<br>ä¸­æ–­åˆ†ä¸º <em>è½¯ä»¶ä¸­æ–­</em> å’Œ <em>ç¡¬ä»¶ä¸­æ–­</em>ï¼Œå‰è€…åˆç§°ä¸ºå†…ä¸­æ–­åè€…åˆç§°ä¸ºå¤–éƒ¨ä¸­æ–­ï¼›</p>
<p><strong>è½¯ä»¶ä¸­æ–­</strong>ï¼š ç”±CPUå†…éƒ¨çš„æŸäº›äº‹ä»¶å¼•èµ·çš„ï¼Œä¸å—ä¸­æ–­å…è®¸æ ‡å¿—IFçš„æ§åˆ¶ã€‚åŒ…æ‹¬ï¼š</p>
<span id="more"></span>
<ul>
<li>ç”±ç»ˆç«¯æŒ‡ä»¤ <code>int n</code> å¼•èµ·ï¼ŒnæŒ‡å‡ºä¸­æ–­ç±»å‹</li>
<li>ç”±CPUçš„æŸäº›é”™è¯¯å¼•èµ·ï¼Œé™¤æ³•é”™ä¸­æ–­ï¼ˆç±»å‹å·0ï¼‰ã€æº¢å‡ºä¸­æ–­ï¼ˆç±»å‹å·4ï¼‰</li>
<li>ä¸ºè°ƒè¯•ç¨‹åºDebugè®¾ç½®çš„ä¸­æ–­ï¼Œå•æ­¥ä¸­æ–­ï¼ˆç±»å‹å·1ï¼‰ã€æ–­ç‚¹ä¸­æ–­ï¼ˆç±»å‹å·3ï¼‰</li>
</ul>
<p><strong>ç¡¬ä»¶ä¸­æ–­</strong>ï¼š ç”±è¾“å…¥è¾“å‡ºå¤–è®¾äº§ç”Ÿçš„ä¸­æ–­è¯·æ±‚å¼•èµ·çš„ä¸­æ–­ã€‚<br>8086ç³»ç»Ÿçš„ç¡¬ä»¶ä¸­æ–­å¯åˆ†ä¸º <em>å¯å±è”½ä¸­æ–­</em> å’Œ <em>ä¸å¯å±è”½ä¸­æ–­</em>ã€‚æ‰€æœ‰çš„ä¸­æ–­è¯·æ±‚éƒ½æœ‰å¯¹åº”çš„ä¸­æ–­å¤„ç†å­ç¨‹åºä¸ä¹‹å¯¹åº”ï¼›</p>
<p>è¡¥å……ï¼š</p>
<ul>
<li>å†…ä¸­æ–­ä¸­ï¼Œint nå’ŒintoæŒ‡ä»¤äº§ç”Ÿçš„ä¸­æ–­ä»¥åŠå‡ºå‘é”™ä¸­æ–­éƒ½ä¸èƒ½è¢«ç¦æ­¢ï¼Œå¹¶ä¸”æ¯”ä»»ä½•å¤–éƒ¨ä¸­æ–­çš„ä¼˜å…ˆçº§éƒ½é«˜ï¼›</li>
<li>8086ç³»ç»Ÿçš„ç¡¬ä»¶ä¸­æ–­éƒ½æ˜¯é€šè¿‡CPUçš„å¼•è„šå¼•å…¥ä¸­æ–­è¯·æ±‚å‹å·ï¼Œä¸å¯å±è”½ä¸­æ–­è¯·æ±‚ä¿¡å·æ¥åˆ°CPUçš„NMIå¼•è„šä¸Šï¼Œå½“å‘ç”Ÿç”µæºæ•…éšœï¼Œå¥‡å¶æ£€éªŒé”™ï¼Œioé€šé“æ ¡éªŒé”™ç­‰ç´§æ€¥æƒ…å†µæ—¶æœ‰ç³»ç»Ÿè‡ªåŠ¨äº§ç”Ÿï¼ŒNMIä¸å¯å±è”½ä¸­æ–­çš„ç±»å‹å·ä¸º2ï¼›</li>
<li>å¯å±è”½ä¸­æ–­æ˜¯é”®ç›˜ã€æ˜¾ç¤ºå™¨ã€æ‰“å°æœºã€ç£ç›˜ã€ä¸²å£ã€å¹¶å£ç­‰å¤–è®¾å‘å‡ºçš„ã€‚ç”±äºå¯å±è”½ä¸­æ–­ç§ç±»è¾ƒå¤šï¼Œç³»ç»Ÿä¸“é—¨æœ‰8259Aä¸­æ–­æ§åˆ¶å™¨æ¥ç®¡ç†è¿™äº›ä¸­æ–­ã€‚å¯å±è”½ä¸­æ–­æŒ‡è¿™äº›å¤–è®¾å¯ä»¥ç”¨è½¯ä»¶è®¾ç½®å…è®¸æˆ–ç¦æ­¢å™¨å‘å‡ºä¸­æ–­è¯·æ±‚ã€‚8086å¯å±è”½ä¸­æ–­çš„ä¸­æ–­ç±»å‹å·ä¸º08H~0FHï¼›</li>
<li>ä¼˜å…ˆçº§ç”±é«˜åˆ°ä½ï¼šå†…éƒ¨ä¸­æ–­-éå±è”½ä¸­æ–­-å¯å±è”½ä¸­æ–­-å•æ­¥ä¸­æ–­ï¼›</li>
<li>ç¡¬ä»¶ä¸­æ–­æ—¶ï¼ŒCPUæ‰§è¡Œå®Œä¸€æ¡æŒ‡ä»¤åéƒ½ä¼šè¯»å–INTRå¼•è„šä¿¡å·ï¼›</li>
<li>è½¯ä»¶ä¸­æ–­æ—¶ï¼Œè‹¥ä¸º0-4å·ä¸­æ–­ï¼ŒCPUæŒ‰ç›¸åº”çš„æ–¹å¼å¤„ç†ï¼Œå¦‚æœæ˜¯int næŒ‡ä»¤ï¼Œåˆ™ç”±nè·å–ä¸­æ–­å‘é‡è½¬è€Œæ‰§è¡Œä¸­æ–­å¤„ç†ç¨‹åºï¼›</li>
<li>å•æ­¥ä¸­æ–­æ˜¯int 1(TF=1)ï¼›</li>
</ul>
<h2 id="ä¸­æ–­å¤„ç†ç¨‹åº"><a href="#ä¸­æ–­å¤„ç†ç¨‹åº" class="headerlink" title="ä¸­æ–­å¤„ç†ç¨‹åº"></a>ä¸­æ–­å¤„ç†ç¨‹åº</h2><p>CPUçš„è®¾è®¡è€…å¿…é¡»åœ¨ä¸­æ–­ä¿¡æ¯å’Œå…¶å¤„ç†ç¨‹åºçš„å…¥å£åœ°å€ä¹‹é—´å»ºç«‹æŸç§è”ç³»ï¼Œä½¿å¾—CPUå¯ä»¥æ ¹æ®ä¸­æ–­ä¿¡æ¯å¯ä»¥æ‰¾åˆ°å“Ÿå•Šæ‰§è¡Œçš„å¤„ç†ç¨‹åºï¼›</p>
<h2 id="ä¸­æ–­ç±»å‹å’Œä¸­æ–­å‘é‡è¡¨"><a href="#ä¸­æ–­ç±»å‹å’Œä¸­æ–­å‘é‡è¡¨" class="headerlink" title="ä¸­æ–­ç±»å‹å’Œä¸­æ–­å‘é‡è¡¨"></a>ä¸­æ–­ç±»å‹å’Œä¸­æ–­å‘é‡è¡¨</h2><p>8086æä¾›äº†256ä¸ªä¸­æ–­ç±»å‹ï¼Œç±»å‹å·ä¸º0~FFHï¼›</p>
<p>CPUç”¨8ä½çš„ä¸­æ–­ç±»å‹ç é€šè¿‡ä¸­æ–­å‘é‡è¡¨æ‰¾åˆ°ç›¸åº”çš„ä¸­æ–­å¤„ç†ç¨‹åºçš„å…¥ååœ°å€ï¼›</p>
<p>ç”¨ä¸­æ–­ç±»å‹ç æ‰¾åˆ°ä¸­æ–­å‘é‡ï¼Œå¹¶ç”¨å®ƒè®¾ç½®CSå’ŒIPï¼Œè¿™ä¸ªå·¥ä½œæ˜¯ç”±CPUçš„ç¡¬ä»¶è‡ªåŠ¨å®Œæˆçš„ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸º <strong>ä¸­æ–­è¿‡ç¨‹</strong>ï¼›</p>
<p>8086ä¸­ä¸“é—¨å»ºç«‹äº†ä¸€å¼ ä¸­æ–­å‘é‡è¡¨ç”¨äºä¿å­˜æ‰€æœ‰çš„ä¸­æ–­å‘é‡ã€‚è¡¨ä½äºå†…å­˜æœ€ä½åœ°å€åŒº0å¼€å§‹çš„1KBå•å…ƒã€‚æ¯ä¸ªä¸­æ–­å‘é‡å ç”¨4ä¸ªå­—èŠ‚ï¼Œé«˜ä½æ”¾æ®µåœ°å€ï¼Œä½ä½æ”¾åç§»åœ°å€ï¼›</p>
<p>ä¸­æ–­å‘é‡è¡¨çš„åœ°å€ä¸ºï¼š00000H~003FCHï¼›</p>
<p>å…¶ä¸­ï¼Œ</p>
<ul>
<li><strong>5ä¸ªä¸“ç”¨ä¸­æ–­</strong>ï¼šç±»å‹0ä¸­æ–­ï¼ˆå‡ºå‘å‡ºé”™ï¼‰00000H~00003Hï¼Œä¿å­˜ipå’Œcså†…å®¹ã€ç±»å‹1ä¸­æ–­ï¼ˆå•æ­¥ä¸­æ–­ï¼‰00004H~00007Hã€ç±»å‹2ä¸­æ–­ï¼ˆNMIï¼‰00008H~0000BHã€ç±»å‹3ä¸­æ–­ï¼ˆæ–­ç‚¹ä¸­æ–­ï¼‰0000CH~0000FHã€ç±»å‹4ä¸­æ–­ï¼ˆæº¢å‡ºä¸­æ–­ï¼‰00010H~00013Hï¼›</li>
<li><strong>27ä¸ªç³»ç»Ÿä¿ç•™ä¸­æ–­</strong>ï¼šç±»å‹5ä¸­æ–­~ç±»å‹31ä¸­æ–­00014H~0007FHï¼›</li>
<li><strong>224ä¸ªç”¨æˆ·è‡ªå®šä¹‰ä¸­æ–­</strong>ï¼š ç±»å‹32ä¸­æ–­~ç±»å‹255ä¸­æ–­00080H~003FCHï¼›</li>
</ul>
<h2 id="ä¸­æ–­è¿‡ç¨‹"><a href="#ä¸­æ–­è¿‡ç¨‹" class="headerlink" title="ä¸­æ–­è¿‡ç¨‹"></a>ä¸­æ–­è¿‡ç¨‹</h2><p>8086CPUçš„ä¸­æ–­è¿‡ç¨‹ï¼š</p>
<p>1ã€å–å¾—ä¸­æ–­ç±»å‹ç </p>
<p>2ã€æ ‡å¿—å¯„å­˜å™¨çš„æŒ‡å…¥æ ˆ</p>
<p>3ã€è®¾ç½®æ ‡å¿—å¯„å­˜å™¨çš„ç¬¬8ä½TFå’Œç¬¬9ä½IFçš„å€¼0</p>
<p>4ã€CSçš„å†…å®¹å…¥æ ˆ</p>
<p>5ã€IPçš„å†…å®¹å…¥æ ˆ</p>
<p>6ã€ä»å†…å­˜åœ°å€ä½ä¸­æ–­ç±»å‹ç *4å’Œä¸­æ–­ç±»å‹ç *4+2çš„ä¸¤ä¸ªå­—çš„å•å…ƒä¸­è¯»å–ä¸­æ–­å¤„ç†ç¨‹åºçš„å…¥å£åœ°å€è®¾ç½®IPå’ŒCS</p>
<ul>
<li>åœ¨ä½¿ç”¨callæŒ‡ä»¤è°ƒç”¨å­ç¨‹åºæ—¶æœ‰åŒæ ·çš„é—®é¢˜ï¼Œå­ç¨‹åºæ‰§è¡Œåè¿˜è¦è¿”å›åˆ°åŸæ¥çš„æ‰§è¡Œç‚¹ç»§ç»­æ‰§è¡Œï¼Œæ‰€ä»¥ï¼ŒcallæŒ‡ä»¤å…ˆä¿å­˜å½“å‰CSå’ŒIPå€¼ï¼Œç„¶åè®¾ç½®CSå’ŒIPè·³è½¬ï¼›</li>
</ul>
<h2 id="ä¸­æ–­å¤„ç†ç¨‹åºå’ŒiretæŒ‡ä»¤"><a href="#ä¸­æ–­å¤„ç†ç¨‹åºå’ŒiretæŒ‡ä»¤" class="headerlink" title="ä¸­æ–­å¤„ç†ç¨‹åºå’ŒiretæŒ‡ä»¤"></a>ä¸­æ–­å¤„ç†ç¨‹åºå’ŒiretæŒ‡ä»¤</h2><p>CPUè¦éšæ—¶éƒ½å¯èƒ½æ‰§è¡Œä¸­æ–­ç¨‹åºï¼Œæ‰€ä»¥ä¸­æ–­å¤„ç†ç¨‹åºå¿…é¡»ä¸€ç›´åœ¨å†…å­˜çš„æŸæ®µç©ºé—´ä¸­ï¼›åŒæ—¶ï¼Œä¸­æ–­ç¨‹åºçš„å…¥å£åœ°å€ï¼Œå³ä¸­æ–­å‘é‡å¿…é¡»å‚¨å­˜åœ¨å¯¹åº”çš„ä¸­æ–­å‘é‡è¡¨è¡¨é¡¹ä¸­ï¼›</p>
<p>ä¸­æ–­å¤„ç†ç¨‹åºçš„ç¼–å†™æ–¹æ³•ï¼š</p>
<ul>
<li>1ã€ä¿å­˜ç”¨åˆ°çš„å¯„å­˜å™¨</li>
<li>2ã€å¤„ç†ä¸­æ–­</li>
<li>3ã€æ¢å¤ç”¨åˆ°çš„å¯„å­˜å™¨</li>
<li>4ã€ç”¨ <code>iret</code> æŒ‡ä»¤è¿”å›</li>
</ul>
<p>iretæŒ‡ä»¤çš„åŠŸèƒ½ç”¨æ±‡ç¼–è¯­æ³•æè¿°ä¸ºï¼š</p>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-keyword">pop</span> <span class="hljs-built_in">IP</span><br><span class="hljs-keyword">pop</span> CS<br><span class="hljs-symbol">popf</span><br></code></pre></td></tr></table></figure>
<p>ireté€šå¸¸å’Œç¡¬ä»¶è‡ªåŠ¨å®Œæˆçš„ä¸­æ–­ç¨‹åºé…åˆä½¿ç”¨ï¼›</p>
<p>å…¥æ ˆçš„é¡ºåºæ—¶æ ‡å¿—å¯„å­˜å™¨ã€CSã€IPï¼Œå’Œiretçš„å‡ºæ ˆç›¸åï¼›</p>
<h2 id="ç¼–å†™å¤„ç†0å·ä¸­æ–­"><a href="#ç¼–å†™å¤„ç†0å·ä¸­æ–­" class="headerlink" title="ç¼–å†™å¤„ç†0å·ä¸­æ–­"></a>ç¼–å†™å¤„ç†0å·ä¸­æ–­</h2><p>å½“å‘ç”Ÿå‡ºå‘æº¢å‡ºæ—¶ï¼ŒCPUå°†è¿›è¡Œä»¥ä¸‹å·¥ä½œï¼š</p>
<ul>
<li>1ã€å–å¾—ä¸­æ–­ç±»å‹ç 0</li>
<li>2ã€æ ‡å¿—å¯„å­˜å™¨å…¥æ ˆï¼ŒTFã€IFè®¾ç½®ä¸º0</li>
<li>3ã€CSã€IPå…¥æ ˆ</li>
<li>4ã€(IP)=(0*4),(CS)=(0*4+2)</li>
</ul>
<p>ä¸­æ–­å¤„ç†ç¨‹åºdo0ï¼Œåªéœ€æ˜¾ç¤ºâ€overflow!â€</p>
<ul>
<li>1ã€ç›¸å…³å¤„ç†</li>
<li>2ã€å‘æ˜¾ç¤ºç¼“å†²åŒºé€å…¥å­—ç¬¦ä¸²â€overflow!â€</li>
<li>3ã€è¿”å›dos</li>
</ul>
<p>å› ä¸ºé™¤æ³•æº¢å‡ºéšæ—¶å¯èƒ½å‘ç”Ÿï¼ŒCPUéšæ—¶å¯èƒ½å°†cs:ipæŒ‡å‘do0çš„å…¥å£ï¼Œæ‰§è¡Œç¨‹åºï¼Œæ‰€ä»¥ä¸ºäº†ç®€å•å¯ä»¥å°†ä¸­æ–­å¤„ç†ç¨‹åºdo0æ”¾åˆ°ä¸­æ–­å‘é‡è¡¨çš„0000:0200å¤„ï¼›</p>
<p>æ‰€ä»¥æœ€åçš„å¤„ç†æ˜¯ï¼›</p>
<ul>
<li>1ã€ç¼–å†™å¯ä»¥æ˜¾ç¤ºâ€overflow!â€çš„ä¸­æ–­ç¨‹åºdo0ï¼›</li>
<li>2ã€å°†do0é€åˆ°å†…å­˜0000:0200å¤„</li>
<li>3ã€å°†do0çš„å…¥å£åœ°å€0000:0200å­˜å‚¨åœ¨ä¸­æ–­å‘é‡è¡¨0å·è¡¨é¡¹ä¸­</li>
</ul>
<p>å¤§è‡´çš„æ¡†æ¶ï¼š<br><figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">assume</span> cs:<span class="hljs-meta">code</span><br><span class="hljs-symbol">code</span> segment<br><span class="hljs-symbol">start:</span><br>    do0å®‰è£…ç¨‹åº<br>    è®¾ç½®ä¸­æ–­å‘é‡è¡¨<br>    <span class="hljs-keyword">mov</span> ax,<span class="hljs-number">4</span>c00h<br>    int <span class="hljs-number">21</span>h<br><br><span class="hljs-symbol">do0:</span><br>    æ˜¾ç¤ºå­—ç¬¦ä¸²:<span class="hljs-string">&quot;overflow!&quot;</span><br>    <span class="hljs-keyword">mov</span> ax,<span class="hljs-number">4</span>c00h<br>    int <span class="hljs-number">21</span>h<br><span class="hljs-comment">;do0ç¨‹åºåœ¨è¿™æ®µç¨‹åºä¸­å¹¶ä¸æ‰§è¡Œï¼Œåªæ˜¯ä½œä¸ºæ•°æ®ä¼ é€åˆ°ä¸­æ–­å‘é‡è¡¨ä¸­ï¼Œå³å®‰è£…ç¨‹åº</span><br><span class="hljs-symbol">code</span> ends<br><span class="hljs-symbol">end</span> start<br></code></pre></td></tr></table></figure></p>
<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>ä¸­æ–­ç¨‹åºçš„å®‰è£…å¯ä»¥ä½¿ç”¨ <code>rep movsb</code> æ¥å°†do0çš„ä»£ç é€å…¥åˆ°0000:0200å¤„ï¼›</p>
<p>å¤§è‡´æ¡†æ¶ï¼š<br><figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">assume</span> cs:<span class="hljs-meta">code</span><br><span class="hljs-symbol">code</span> segment<br><span class="hljs-symbol">start:</span><br>    è®¾ç½®es:diæŒ‡å‘ç›®çš„åœ°å€<br>    è®¾ç½®ds:siæŒ‡å‘æºåœ°å€<br>    è®¾ç½®cxçš„é•¿åº¦<br>    è®¾ç½®ä¼ é€æ–¹å‘ä¸ºæ­£<br>    rep movsb<br><br>    è®¾ç½®ä¸­æ–­å‘é‡è¡¨<br><br>    <span class="hljs-keyword">mov</span> ax,<span class="hljs-number">4</span>c00h<br>    int <span class="hljs-number">21</span>h<br><br><span class="hljs-symbol">do0:</span><br>    æ˜¾ç¤ºå­—ç¬¦ä¸²:<span class="hljs-string">&quot;overflow!&quot;</span><br>    <span class="hljs-keyword">mov</span> ax,<span class="hljs-number">4</span>c00h<br>    int <span class="hljs-number">21</span>h<br><br><span class="hljs-symbol">code</span> ends<br><span class="hljs-symbol">end</span> start<br></code></pre></td></tr></table></figure></p>
<p>ä½¿ç”¨ <code>rep movsb</code> è¦ç¡®å®šçš„ä¿¡æ¯ï¼š</p>
<ul>
<li>ç›®çš„åœ°å€ï¼š0000:0200</li>
<li>æºåœ°å€ï¼šcode:offset do0</li>
<li>ä¼ é€çš„é•¿åº¦cx: do0çš„ä»£ç çš„é•¿åº¦</li>
<li>ä¼ é€æ–¹å‘ä¸ºæ­£ï¼š <code>cld</code></li>
</ul>
<p>å› ä¸ºdo0çš„é•¿åº¦æ ¹æ®ä¸åŒçš„åºæ±‚éœ€æ±‚ä¼šæ”¹å˜ï¼Œæ²¡æœ‰å¿…è¦æ¯ä¸€æ¬¡éƒ½è®¡ç®—ï¼Œå¯ä»¥åœ¨æœ€ååŠ ä¸€ä¸ª <code>do0end:nop</code>ï¼Œè¿™æ · <code>mov cx,offset do0end-offset do0</code>å³å¯ï¼Œâ€-â€œæ˜¯ç¼–è¯‘å™¨è¯†åˆ«çš„è¿ç®—ç¬¦å·ï¼Œç¼–è¯‘å™¨å¯ä»¥ç”¨å®ƒæ¥è¿›è¡Œä¸¤ä¸ª <strong>å¸¸æ•°</strong> çš„å‡æ³•ï¼ŒåŒæ—¶ï¼Œä¹Ÿå¯ä»¥å¤„ç†è¡¨è¾¾å¼ï¼›</p>
<p>æœ€åçš„å®‰è£…ç¨‹åºï¼š<br><figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">assume</span> cs:<span class="hljs-meta">code</span><br><span class="hljs-symbol">code</span> segment<br><span class="hljs-symbol">start:</span><br>    <span class="hljs-keyword">mov</span> ax,<span class="hljs-number">0</span><br>    <span class="hljs-keyword">mov</span> es,ax<br>    <span class="hljs-keyword">mov</span> di,<span class="hljs-number">0200</span>h        <span class="hljs-comment">;ç›®çš„åœ°å€</span><br>    <span class="hljs-keyword">mov</span> ax,cs<br>    <span class="hljs-keyword">mov</span> ds,ax<br>    <span class="hljs-keyword">mov</span> si,offset do0   <span class="hljs-comment">;æºåœ°å€</span><br>    <span class="hljs-keyword">mov</span> cx,offset do0end-offset do0<br>    cld<br>    rep movsb<br><br>    è®¾ç½®ä¸­æ–­å‘é‡è¡¨<br><br>    <span class="hljs-keyword">mov</span> ax,<span class="hljs-number">4</span>c00h<br>    int <span class="hljs-number">21</span>h<br><br><span class="hljs-symbol">do0:</span><br>    æ˜¾ç¤ºå­—ç¬¦ä¸²:<span class="hljs-string">&quot;overflow!&quot;</span><br>    <span class="hljs-keyword">mov</span> ax,<span class="hljs-number">4</span>c00h<br>    int <span class="hljs-number">21</span>h<br><span class="hljs-symbol">do0end:</span>nop<br><br><span class="hljs-symbol">code</span> ends<br><span class="hljs-symbol">end</span> start<br></code></pre></td></tr></table></figure></p>
<h2 id="do0"><a href="#do0" class="headerlink" title="do0"></a>do0</h2><p>do0çš„ä»»åŠ¡æ˜¯æ˜¾ç¤ºå­—ç¬¦ä¸²ï¼Œå¤§è‡´çš„æ¡†æ¶ï¼š<br><figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">do0:</span><br>    è®¾ç½®ds:siæŒ‡å‘å­—ç¬¦ä¸²<br>    <span class="hljs-keyword">mov</span> ax,<span class="hljs-number">0</span>b800h<br>    <span class="hljs-keyword">mov</span> es,ax<br>    <span class="hljs-keyword">mov</span> di,<span class="hljs-number">12</span>*<span class="hljs-number">160</span>+<span class="hljs-number">36</span>*<span class="hljs-number">2</span><br>    <span class="hljs-comment">;è®¾ç½®es:diæŒ‡å‘æ˜¾å­˜ç©ºé—´ä¸­é—´ä½ç½®</span><br><br>    <span class="hljs-keyword">mov</span> cx,<span class="hljs-number">9</span>    <span class="hljs-comment">;è®¾ç½®cxä¸ºå­—ç¬¦ä¸²é•¿åº¦</span><br>  s:<br>    <span class="hljs-keyword">mov</span> al,[si]<br>    <span class="hljs-keyword">mov</span> es:[di],al<br>    inc si<br>    <span class="hljs-keyword">add</span> di,<span class="hljs-number">2</span><br>    loop s<br><br>    <span class="hljs-keyword">mov</span> ax,<span class="hljs-number">4</span>c00h<br>    int <span class="hljs-number">21</span>h<br><br><span class="hljs-symbol">do0end:</span>nop<br></code></pre></td></tr></table></figure></p>
<p>è¿™é‡Œçš„å­—ç¬¦ä¸²çš„å­˜æ”¾ä¸èƒ½åƒä¹‹å‰çš„ç¨‹åºé‚£æ ·æ”¾åœ¨æ€»ç¨‹åºçš„æ•°æ®æ®µä¸­ï¼Œå› ä¸ºå½“æ€»ç¨‹åºè¿è¡Œå®Œåæ•°æ®æ®µä¹Ÿå°±é‡Šæ”¾ï¼Œä¸èƒ½ä¿è¯ä¸­æ–­ç¨‹åºæ‰€æ˜¾ç¤ºçš„å­—ç¬¦ä¸²è¿˜æ˜¯â€overflow!â€ï¼›</p>
<p>æ‰€ä»¥è¦å°†å­—ç¬¦ä¸²æ”¾åœ¨do0ä¸­ï¼Œå°†å…¶ä»¥é€šé€åˆ°ä¸­æ–­å‘é‡è¡¨çš„0000:0200å¤„ï¼›</p>
<p>è¿™æ ·åœ¨å‘ç”Ÿé™¤æ³•æº¢å‡ºæ—¶ï¼Œcsä¸­å­˜æ”¾çš„æ˜¯do0çš„æ®µåœ°å€ï¼ŒåŒæ—¶ä¹Ÿæ˜¯å­—ç¬¦ä¸²çš„æ®µåœ°å€ï¼Œè€Œå› ä¸ºç¨‹åºè¦è·³è¿‡å­—ç¬¦ä¸²ï¼Œä¸æŠŠä»–å½“ä½œä»£ç æ‰§è¡Œï¼Œæ‰€ä»¥åœ¨å­—ç¬¦ä¸²ä¹‹å‰è¦æœ‰ä¸€ä¸ªjmpæŒ‡ä»¤è·³è¿‡å­—ç¬¦ä¸²åˆ°å®é™…çš„ä»£ç å¤„ï¼Œæ‰€ä»¥å­—ç¬¦ä¸²çš„åç§»åœ°å€å°±ä¸º0000:0200åŠ 2å³0000:0202å¤„ï¼ˆjmpå ä¸¤ä¸ªå­—èŠ‚ï¼‰</p>
<p>æœ€åçš„ç¨‹åºï¼š<br><figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">do0:</span><br>    jmp short do0start<br>    db <span class="hljs-string">&quot;overflow!&quot;</span><br><br><span class="hljs-symbol">do0start:</span><br>    <span class="hljs-keyword">mov</span> ax,cs<br>    <span class="hljs-keyword">mov</span> ds,ax<br>    <span class="hljs-keyword">mov</span> si,<span class="hljs-number">0202</span>h<br>    <span class="hljs-comment">;è®¾ç½®ds:siæŒ‡å‘å­—ç¬¦ä¸²</span><br><br>    <span class="hljs-keyword">mov</span> ax,<span class="hljs-number">0</span>b800h<br>    <span class="hljs-keyword">mov</span> es,ax<br>    <span class="hljs-keyword">mov</span> di,<span class="hljs-number">12</span>*<span class="hljs-number">160</span>+<span class="hljs-number">36</span>*<span class="hljs-number">2</span><br>    <br>    <span class="hljs-keyword">mov</span> cx,<span class="hljs-number">9</span><br><br>  s:<br>    <span class="hljs-keyword">mov</span> al,[si]<br>    <span class="hljs-keyword">mov</span> es:[di],al<br>    inc si<br>    <span class="hljs-keyword">add</span> di,<span class="hljs-number">2</span><br>    loop s<br><br>    <span class="hljs-keyword">mov</span> ax,<span class="hljs-number">4</span>c00h<br>    int <span class="hljs-number">21</span>h<br><br><span class="hljs-symbol">do0end:</span>nop<br></code></pre></td></tr></table></figure></p>
<h2 id="è®¾ç½®ä¸­æ–­å‘é‡"><a href="#è®¾ç½®ä¸­æ–­å‘é‡" class="headerlink" title="è®¾ç½®ä¸­æ–­å‘é‡"></a>è®¾ç½®ä¸­æ–­å‘é‡</h2><p>è®¾ç½®ä¸­æ–­å‘é‡å³ä¸ºå°†do0çš„å…¥ååœ°å€0000:0200å†™å…¥åˆ°ä¸­æ–­å‘é‡è¡¨çš„0å·è¡¨é¡¹ä¸­ï¼Œä½¿do0æˆä¸º0å·ä¸­æ–­çš„ä¸­æ–­å¤„ç†ç¨‹åºï¼›</p>
<p>0å·è¡¨é¡¹çš„åœ°å€ä¸º0:0ï¼Œå…¶ä¸­0:0å­—å•å…ƒå­˜æ”¾åç§»åœ°å€(ip)ï¼Œ0:2å­—å•å…ƒå­˜æ”¾æ®µåœ°å€(cs)ï¼Œ</p>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-keyword">mov</span> ax,<span class="hljs-number">0</span><br><span class="hljs-keyword">mov</span> es,ax<br><span class="hljs-keyword">mov</span> word ptr es:[<span class="hljs-number">0</span>*<span class="hljs-number">4</span>],<span class="hljs-number">0200</span>h<br><span class="hljs-keyword">mov</span> word ptr es:[<span class="hljs-number">0</span>*<span class="hljs-number">4</span>+<span class="hljs-number">2</span>],<span class="hljs-number">0</span><br></code></pre></td></tr></table></figure>
<p>ç»¼ä¸Šï¼Œæœ€åçš„ç¨‹åºå¦‚ä¸‹ï¼š<br><figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">assume</span> cs:<span class="hljs-meta">code</span><br><span class="hljs-symbol">code</span> segment<br><span class="hljs-symbol">start:</span><br>	<span class="hljs-keyword">mov</span> ax,<span class="hljs-number">0</span><br>	<span class="hljs-keyword">mov</span> es,ax<br>	<span class="hljs-keyword">mov</span> di,<span class="hljs-number">0200</span>h<br>	<span class="hljs-keyword">mov</span> ax,cs<br>	<span class="hljs-keyword">mov</span> ds,ax<br>	<span class="hljs-keyword">mov</span> si,offset do0<br>	<span class="hljs-keyword">mov</span> cx,offset do0end-offset do0<br>	cld<br>	rep movsb<br>	<br>	<span class="hljs-keyword">mov</span> ax,<span class="hljs-number">0</span><br>	<span class="hljs-keyword">mov</span> es,ax<br>	<span class="hljs-keyword">mov</span> word ptr es:[<span class="hljs-number">0</span>*<span class="hljs-number">4</span>],<span class="hljs-number">0200</span>h<br>	<span class="hljs-keyword">mov</span> word ptr es:[<span class="hljs-number">0</span>*<span class="hljs-number">4</span>+<span class="hljs-number">2</span>],<span class="hljs-number">0</span><br>	<br>	<span class="hljs-keyword">mov</span> ax,<span class="hljs-number">1000</span>h<br>	<span class="hljs-keyword">mov</span> bh,<span class="hljs-number">1</span><br>	div bh<br>	<br>	<span class="hljs-keyword">mov</span> ax,<span class="hljs-number">4</span>c00h<br>	int <span class="hljs-number">21</span>h<br>	<br><span class="hljs-symbol">do0:</span><br>	jmp short do0start<br>	db <span class="hljs-string">&quot;overflow!&quot;</span><br><span class="hljs-symbol">do0start:</span><br>	<span class="hljs-keyword">mov</span> ax,cs<br>	<span class="hljs-keyword">mov</span> ds,ax<br>	<span class="hljs-keyword">mov</span> si,<span class="hljs-number">202</span>h<br>	<br>	<span class="hljs-keyword">mov</span> ax,<span class="hljs-number">0</span>b800h<br>	<span class="hljs-keyword">mov</span> es,ax<br>	<span class="hljs-keyword">mov</span> di,<span class="hljs-number">12</span>*<span class="hljs-number">160</span>+<span class="hljs-number">36</span>*<span class="hljs-number">2</span><br>	<br>	<span class="hljs-keyword">mov</span> cx,<span class="hljs-number">9</span><br>	<br>  s:<br>  	<span class="hljs-keyword">mov</span> al,[si]<br>  	<span class="hljs-keyword">mov</span> es:[di],al<br>  	inc si<br>  	<span class="hljs-keyword">add</span> di,<span class="hljs-number">2</span><br>  	loop s<br>  	<br>  	<span class="hljs-keyword">mov</span> ax,<span class="hljs-number">4</span>c00h<br>  	int <span class="hljs-number">21</span>h<br>  	<br><span class="hljs-symbol">do0end:</span>nop<br><br><span class="hljs-symbol">code</span> ends<br><span class="hljs-symbol">end</span> start<br></code></pre></td></tr></table></figure></p>
<h2 id="å•æ­¥ä¸­æ–­"><a href="#å•æ­¥ä¸­æ–­" class="headerlink" title="å•æ­¥ä¸­æ–­"></a>å•æ­¥ä¸­æ–­</h2><p>CPUåœ¨æ‰§è¡Œå®Œä¸€æ¡æŒ‡ä»¤åï¼Œå¦‚æœæ£€æµ‹åˆ°æ ‡å¿—å¯„å­˜å™¨çš„TFä½ä¸º1ï¼Œåˆ™äº§ç”Ÿå•æ­¥ä¸­æ–­ï¼Œå•æ­¥ä¸­æ–­çš„ä¸­æ–­ç±»å‹ç ä¸º1ï¼›</p>
<p>ä»–å¼•å‘çš„ä¸­æ–­ç±»å‹å¦‚ä¸‹ï¼š</p>
<ul>
<li>1ã€å–å¾—ä¸­æ–­ç±»å‹ç 1</li>
<li>æ ‡å¿—å¯„å­˜å™¨å…¥æ ˆï¼ŒTFã€IFç½®0</li>
<li>CSï¼ŒIPå…¥æ ˆ</li>
<li>(IP)=(1<em>4),(CS)=(1</em>4+2)</li>
</ul>
<p>ä½¿ç”¨tå‘½ä»¤æ—¶ï¼Œdebugå°†TFè®¾ç½®ä¸º1ï¼Œä½¿å¾—cpuæ‰§è¡Œå®Œè¿™æ¡æŒ‡ä»¤åå¼•å‘å•æ­¥ä¸­æ–­ï¼›</p>
<p>æ‰§è¡Œå•æ­¥ä¸­æ–­çš„ä¸­æ–­ç¨‹åºï¼Œæ‰€æœ‰å¯„å­˜å™¨çš„å†…å®¹æ˜¾ç¤ºï¼Œç­‰å¾…è¾“å…¥ï¼›</p>
<blockquote>
<p>ä¸­æ–­å¤„ç†ç¨‹åºä¹Ÿæ˜¯ç”±ä¸€æ¡æ¡æŒ‡ä»¤ç»„æˆçš„ï¼Œå¦‚æœåœ¨æ‰§è¡Œä¸­æ–­å¤„ç†ç¨‹åºä¹‹å‰ï¼ŒTF=1ï¼Œåˆ™CPUåœ¨æ‰§è¡Œå®Œä¸­æ–­å¤„ç†ç¨‹åºçš„ç¬¬ä¸€æ¡æŒ‡ä»¤åï¼Œåˆè¦äº§ç”Ÿå•æ­¥ä¸­æ–­ï¼Œåˆ™åˆè¦è½¬å»æ‰§è¡Œå•æ­¥ä¸­æ–­çš„ä¸­æ–­å¤„ç†ç¨‹åºâ€¦â€¦ ?</p>
</blockquote>
<p>è§£å†³æ–¹æ³•æ˜¯åœ¨è¿›å…¥ä¸­æ–­ç¨‹åºä¹‹å‰è®¾ç½®TF=0ï¼Œä¹Ÿå°±æ˜¯åœ¨å‰é¢è¯´çš„ä¸­æ–­è¿‡ç¨‹ä¸­çš„ç¬¬äºŒæ­¥æ ‡å¿—å¯„å­˜å™¨å…¥æ ˆåè®¾ç½®TF=0çš„åŸå› ï¼›</p>
<p>CPUæä¾›å•æ­¥ä¸­æ–­åŠŸèƒ½çš„åŸå› å°±æ˜¯ï¼Œä¸ºå•æ­¥è·Ÿè¸ªçš„æ‰§è¡Œè¿‡ç¨‹ï¼Œæä¾›äº†å®ç°æœºåˆ¶ã€‚</p>
<h2 id="å“åº”ä¸­æ–­çš„ç‰¹æ®Šæƒ…å†µ"><a href="#å“åº”ä¸­æ–­çš„ç‰¹æ®Šæƒ…å†µ" class="headerlink" title="å“åº”ä¸­æ–­çš„ç‰¹æ®Šæƒ…å†µ"></a>å“åº”ä¸­æ–­çš„ç‰¹æ®Šæƒ…å†µ</h2><p>æœ‰äº›æƒ…å†µä¸‹ï¼ŒCPUåœ¨æ‰§è¡Œå®Œå½“å‰æŒ‡ä»¤åï¼Œå³ä½¿å‘ç”Ÿä¸­æ–­ï¼Œä¹Ÿä¸ç›¸åº”ï¼Œä¾‹å¦‚ï¼šåœ¨æ‰§è¡Œå®Œå‘sså¯„å­˜å™¨ä¼ é€æ•°æ®çš„æŒ‡ä»¤åï¼Œå‘ç”Ÿä¸­æ–­æ—¶ï¼ŒCPUä¹Ÿä¸ä¼šå“åº”ï¼Œå› ä¸ºï¼Œss:spè”åˆæŒ‡å‘æ ˆé¡¶ï¼Œå¯¹ä»–ä»¬çš„è®¾ç½®åº”è¯¥è¿ç»­å®Œæˆï¼›</p>
<blockquote>
<p>å¦‚æœåœ¨æ‰§è¡Œå®Œè®¾ç½®ssçš„æŒ‡ä»¤åï¼ŒCPUå“åº”ä¸­æ–­ï¼Œå¼•å‘ä¸­æ–­è¿‡ç¨‹ï¼Œè¦åœ¨æ ˆä¸­å‹å…¥æ ‡å¿—å¯„å­˜å™¨ã€CSå’ŒIPçš„å€¼ã€‚<br>è€Œssæ”¹å˜ï¼Œspå¹¶æœªæ”¹å˜ï¼Œss:spæŒ‡å‘çš„ä¸æ˜¯æ­£ç¡®çš„æ ˆé¡¶ï¼Œå°†å¼•èµ·é”™è¯¯ã€‚</p>
<p>æ‰€ä»¥CPUåœ¨æ‰§è¡Œå®Œè®¾ç½®ssçš„æŒ‡ä»¤åï¼Œä¸å“åº”ä¸­æ–­ã€‚<br>è¿™ç»™è¿ç»­è®¾ç½® sså’Œspï¼ŒæŒ‡å‘æ­£ç¡®çš„æ ˆé¡¶æä¾›äº†ä¸€ä¸ªæ—¶æœºã€‚<br>  å³ï¼Œæˆ‘ä»¬åº”è¯¥åˆ©ç”¨è¿™ä¸ªç‰¹æ€§ï¼Œå°†è®¾ç½®sså’Œspçš„æŒ‡ä»¤è¿ç»­å­˜æ”¾ï¼Œä½¿å¾—è®¾ç½®spçš„æŒ‡ä»¤ç´§æ¥ç€è®¾ç½®ssçš„æŒ‡ä»¤æ‰§è¡Œï¼Œè€Œåœ¨æ­¤ä¹‹é—´ï¼ŒCPUä¸ä¼šå¼•å‘ä¸­æ–­è¿‡ç¨‹</p>
</blockquote>
<p><em>è§£é‡Šäº†å®éªŒ2ä¸­çš„ï¼ˆ3ï¼‰</em></p>
<blockquote>
<p>Debug åˆ©ç”¨å•æ­¥ä¸­æ–­æ¥å®ç°Tå‘½ä»¤çš„åŠŸèƒ½ï¼Œ<br>  ä¹Ÿå°±æ˜¯è¯´ï¼Œç”¨Tå‘½ä»¤æ‰§è¡Œä¸€æ¡æŒ‡ä»¤åï¼ŒCPUå“åº”å•æ­¥ä¸­æ–­ï¼Œæ‰§è¡ŒDebugè®¾ç½®å¥½çš„å¤„ç†ç¨‹åºï¼Œæ‰èƒ½åœ¨å±å¹•ä¸Šæ˜¾ç¤ºå¯„å­˜å™¨çš„çŠ¶æ€ï¼Œå¹¶ç­‰å¾…å‘½ä»¤çš„è¾“å…¥ã€‚</p>
<p>è€Œåœ¨mov ss,axæŒ‡ä»¤æ‰§è¡Œåï¼ŒCPUæ ¹æœ¬å°±ä¸å“åº”ä»»ä½•ä¸­æ–­ï¼Œå…¶ä¸­ä¹ŸåŒ…æ‹¬å•æ­¥ä¸­æ–­ï¼Œ</p>
<p>æ‰€ä»¥Debugè®¾ç½®å¥½çš„ç”¨æ¥æ˜¾ç¤ºå¯„å­˜å™¨çŠ¶æ€å’Œç­‰å¾…è¾“å…¥å‘½ä»¤çš„ä¸­æ–­å¤„ç†ç¨‹åºæ ¹æœ¬æ²¡æœ‰å¾—åˆ°æ‰§è¡Œï¼Œæ‰€ä»¥æˆ‘ä»¬çœ‹ä¸åˆ°é¢„æœŸçš„ç»“æœã€‚</p>
<p>CPUæ¥ç€å‘ä¸‹æ‰§è¡Œåé¢çš„æŒ‡ä»¤mov sp,10hï¼Œç„¶åå“åº”å•æ­¥ä¸­æ–­ï¼Œæˆ‘ä»¬æ‰çœ‹åˆ°æ­£å¸¸çš„ç»“æœ</p>
</blockquote>
<p>ï¼ˆä»¥ä¸Šå¼•ç”¨æ¥è‡ªæ±‡ç¼–è€å¸ˆçš„è¯¾ä»¶ï¼Œè½¬è½½è¯·æ³¨æ˜åœ°å€ï¼‰</p>
<p>(end)</p>
]]></content>
      <categories>
        <category>æ±‡ç¼–è¯­è¨€</category>
      </categories>
      <tags>
        <tag>ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>æ±‡ç¼–ç¬”è®°_ç¬¬åç« </title>
    <url>/2018/12/28/%E6%B1%87%E7%BC%96%E7%AC%94%E8%AE%B0-%E7%AC%AC%E5%8D%81%E7%AB%A0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="callå’ŒretæŒ‡ä»¤"><a href="#callå’ŒretæŒ‡ä»¤" class="headerlink" title="callå’ŒretæŒ‡ä»¤"></a>callå’ŒretæŒ‡ä»¤</h1><h2 id="retå’Œretf"><a href="#retå’Œretf" class="headerlink" title="retå’Œretf"></a>retå’Œretf</h2><ul>
<li>retæŒ‡ä»¤ç”¨æ ˆä¸­çš„æ•°æ®ï¼Œä¿®æ”¹IPçš„å†…å®¹ï¼Œä»è€Œæ˜¯å®ç° <strong>è¿‘è½¬ç§»</strong>ï¼Œ<br> (IP)=((ss)*16+(sp)) <br> (sp)=(sp)+2ï¼›</li>
<li>retfæŒ‡ä»¤ç”¨æ ˆä¸­çš„æ•°æ®ï¼Œä¿®æ”¹ <strong>CSå’ŒIP</strong> çš„å†…å®¹ï¼Œä»è€Œå®ç° <strong>è¿œè½¬ç§»</strong>ï¼Œ <br> (IP)=((ss)<em>16+(sp)) <br> (sp)=(sp)+2 <br> (cs)=((ss)</em>16+(sp)) <br> (sp)=(sp)+2ï¼›</li>
<li>å‰è€…ç›¸å½“äºï¼š<br> <code>pop IP</code>ï¼Œ<br> åè€…ç›¸å½“äº <br> <code>pop IP</code> <br> <code>pop CS</code></li>
</ul>
<span id="more"></span>
<h2 id="callæŒ‡ä»¤"><a href="#callæŒ‡ä»¤" class="headerlink" title="callæŒ‡ä»¤"></a>callæŒ‡ä»¤</h2><p>CPUæ‰§è¡ŒcallæŒ‡ä»¤ï¼Œè¿›è¡Œä¸¤æ­¥æ“ä½œï¼š</p>
<ul>
<li>å°†å½“å‰çš„IPæˆ–CSå’ŒIPå‹å…¥æ ˆä¸­ï¼›</li>
<li>è½¬ç§»</li>
</ul>
<p>callæŒ‡ä»¤ <strong>ä¸èƒ½å®ç°çŸ­è½¬ç§»</strong>ï¼Œé™¤æ­¤ä¹‹å¤–ä¸jmpçš„åŸç†ç›¸åŒï¼›</p>
<h2 id="ä¾æ®ä½ç§»è¿›è¡Œè½¬ç§»"><a href="#ä¾æ®ä½ç§»è¿›è¡Œè½¬ç§»" class="headerlink" title="ä¾æ®ä½ç§»è¿›è¡Œè½¬ç§»"></a>ä¾æ®ä½ç§»è¿›è¡Œè½¬ç§»</h2><p>æŒ‡ä»¤æ ¼å¼ï¼š<br><code>call æ ‡å·</code><br>å°†å½“å‰çš„IPå‹æ ˆåï¼Œè½¬åˆ°æ ‡å·å¤„æ‰§è¡Œï¼›ï¼ˆå…¥æ ˆçš„æ˜¯callæŒ‡ä»¤åçš„ç¬¬ä¸€ä¸ªå­—èŠ‚åç§»åœ°å€å…¥æ ˆï¼‰ï¼Œæ®µå†…è½¬ç§»ï¼›</p>
<ul>
<li>(sp)=(sp)-2;((ss)*16+(sp))(ip)</li>
<li>(ip)=(ip)+16ä½ä½ç§»</li>
</ul>
<p>ç›¸å½“äºï¼š</p>
<p><code>push IP</code></p>
<p><code>jmp near ptr æ ‡å·</code></p>
<p>eg:</p>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm">å†…å­˜åœ°å€    æœºå™¨ç     æ±‡ç¼–æŒ‡ä»¤<br><span class="hljs-number">1000</span>:<span class="hljs-number">0</span>     b8 <span class="hljs-number">00</span> <span class="hljs-number">00</span>  <span class="hljs-keyword">mov</span> ax,<span class="hljs-number">0</span><br><span class="hljs-number">1000</span>:<span class="hljs-number">3</span>     e8 <span class="hljs-number">01</span> <span class="hljs-number">00</span>  call s<br><span class="hljs-number">1000</span>:<span class="hljs-number">6</span>     <span class="hljs-number">40</span>        inc ax<br><span class="hljs-number">1000</span>:<span class="hljs-number">7</span>     <span class="hljs-number">58</span>        s:<span class="hljs-keyword">pop</span> ax<br><br>æœ€åaxçš„å€¼ä¸ºï¼š<span class="hljs-number">6</span>hï¼Œå› ä¸ºæ‰§è¡Œcall sæ—¶ï¼Œ<span class="hljs-keyword">push</span> <span class="hljs-built_in">ip</span> (<span class="hljs-built_in">ip</span>)<span class="hljs-number">=6</span>hï¼Œä¹‹å<span class="hljs-keyword">pop</span> axï¼Œ(ax)<span class="hljs-number">=6</span>h<br></code></pre></td></tr></table></figure>
<h2 id="è½¬ç§»çš„ç›®çš„åœ°å€åœ¨æŒ‡ä»¤ä¸­"><a href="#è½¬ç§»çš„ç›®çš„åœ°å€åœ¨æŒ‡ä»¤ä¸­" class="headerlink" title="è½¬ç§»çš„ç›®çš„åœ°å€åœ¨æŒ‡ä»¤ä¸­"></a>è½¬ç§»çš„ç›®çš„åœ°å€åœ¨æŒ‡ä»¤ä¸­</h2><ul>
<li><code>call far ptr æ ‡å·</code>å®ç°çš„æ˜¯æ®µé—´è½¬ç§»ï¼›</li>
<li>(sp)=(sp)-2</li>
<li>((ss)*16+(sp))=(cs)</li>
<li>(sp)=(sp)-2</li>
<li><p>((ss)*16+(sp))=(ip)</p>
</li>
<li><p>(cs)=æ ‡å·æ‰€åœ¨çš„æ®µåœ°å€ï¼›</p>
</li>
<li>(ip)=æ ‡å·æ‰€åœ¨çš„åç§»åœ°å€ï¼›</li>
</ul>
<p>eg:<br><figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm">å†…å­˜åœ°å€    æœºå™¨ç           æ±‡ç¼–æŒ‡ä»¤<br><span class="hljs-number">1000</span>:<span class="hljs-number">0</span>     b8 <span class="hljs-number">00</span> <span class="hljs-number">00</span>        <span class="hljs-keyword">mov</span> ax,<span class="hljs-number">0</span><br><span class="hljs-number">1000</span>:<span class="hljs-number">3</span>     <span class="hljs-number">9</span>A <span class="hljs-number">09</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">10</span>  call far ptr s<br><span class="hljs-number">1000</span>:<span class="hljs-number">8</span>     <span class="hljs-number">40</span>              inc ax<br><span class="hljs-number">1000</span>:<span class="hljs-number">9</span>     <span class="hljs-number">58</span>              s:<span class="hljs-keyword">pop</span> ax<br>                           <span class="hljs-keyword">add</span> ax,ax<br>                           <span class="hljs-keyword">pop</span> bx<br>                           <span class="hljs-keyword">add</span> ax,bx<br></code></pre></td></tr></table></figure><br>æŒ‡ä»¤æ‰§è¡Œåï¼Œ(ax)=1010h</p>
<p>æ‰§è¡Œcallæ—¶ï¼Œpush cs , push ipï¼Œ(cs)=1000h,(ip)=8hï¼›</p>
<p>pop axåï¼Œ(ax)=8h,add ax,axå(ax)=10h,pop bxå(bx)=1000h,æœ€åadd ax,bx,(ax)=1010h;</p>
<h2 id="è½¬ç§»åœ°å€åœ¨å¯„å­˜å™¨ä¸­"><a href="#è½¬ç§»åœ°å€åœ¨å¯„å­˜å™¨ä¸­" class="headerlink" title="è½¬ç§»åœ°å€åœ¨å¯„å­˜å™¨ä¸­"></a>è½¬ç§»åœ°å€åœ¨å¯„å­˜å™¨ä¸­</h2><p>æ ¼å¼ï¼š<br><code>call 16ä½å¯„å­˜å™¨</code></p>
<p>åŠŸèƒ½ï¼š</p>
<ul>
<li>(sp)=(sp)-2</li>
<li>((ss)*16+(sp))=(ip)</li>
<li>(ip)=(16ä½å¯„å­˜å™¨)</li>
</ul>
<p>ç›¸å½“äºè¿›è¡Œï¼š</p>
<p><code>push ip</code> <br><br><code>jmp 16ä½reg</code></p>
<p>eg:</p>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm">å†…å­˜åœ°å€    æœºå™¨ç     æ±‡ç¼–æŒ‡ä»¤<br><span class="hljs-number">1000</span>:<span class="hljs-number">0</span>     b8 <span class="hljs-number">06</span> <span class="hljs-number">00</span>  <span class="hljs-keyword">mov</span> ax,<span class="hljs-number">6</span><br><span class="hljs-number">1000</span>:<span class="hljs-number">3</span>     ff <span class="hljs-built_in">d0</span>     call ax<br><span class="hljs-number">1000</span>:<span class="hljs-number">5</span>     <span class="hljs-number">40</span>        inc ax<br><span class="hljs-number">1000</span>:<span class="hljs-number">6</span>               <span class="hljs-keyword">mov</span> bp,<span class="hljs-built_in">sp</span><br>                     <span class="hljs-keyword">add</span> ax,[bp]<br></code></pre></td></tr></table></figure>
<p>ç¨‹åºæ‰§è¡Œå®Œåï¼Œ(ax)=0bhï¼›</p>
<h2 id="è½¬ç§»åœ°å€åœ¨å†…å­˜ä¸­"><a href="#è½¬ç§»åœ°å€åœ¨å†…å­˜ä¸­" class="headerlink" title="è½¬ç§»åœ°å€åœ¨å†…å­˜ä¸­"></a>è½¬ç§»åœ°å€åœ¨å†…å­˜ä¸­</h2><p>ä¸¤ç§æ ¼å¼ï¼š</p>
<ul>
<li><code>call word ptr å†…å­˜å•å…ƒåœ°å€</code> </li>
</ul>
<p>ç›¸å½“äºï¼š<br><br><code>push ip</code><br><code>jmp word ptr å†…å­˜å•å…ƒåœ°å€</code></p>
<ul>
<li><code>call dword ptr å†…å­˜å•å…ƒåœ°å€</code></li>
</ul>
<p>ç›¸å½“äºï¼š<br><br><br><code>push cs</code><br><br><code>push ip</code><br><br><code>jmp dword ptr å†…å­˜å•å…ƒåœ°å€</code></p>
<p>eg:</p>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">assume</span> cs:<span class="hljs-meta">code</span><br><span class="hljs-symbol">stack</span> segment<br><span class="hljs-symbol">dw</span> <span class="hljs-number">8</span> dup (<span class="hljs-number">0</span>)<br><span class="hljs-symbol">stack</span> ends<br><span class="hljs-symbol">code</span> segment<br><span class="hljs-symbol">start:</span><br><span class="hljs-keyword">mov</span> ax,atack<br><span class="hljs-keyword">mov</span> ss,ax<br><span class="hljs-keyword">mov</span> <span class="hljs-built_in">sp</span>,<span class="hljs-number">16</span><br><span class="hljs-keyword">mov</span> ds,ax<br><span class="hljs-keyword">mov</span> ax,<span class="hljs-number">0</span><br><span class="hljs-symbol">call</span> word ptr ds:[<span class="hljs-number">0</span>EH]<br><span class="hljs-symbol">inc</span> cx      <span class="hljs-comment">;è®¾è¿™ä¸ªåœ°æ–¹çš„åœ°å€ä¸º0000:xx</span><br><span class="hljs-symbol">inc</span> cx<br><span class="hljs-symbol">inc</span> cx<br><br><span class="hljs-keyword">mov</span> ax,<span class="hljs-number">4</span>c00h<br><span class="hljs-symbol">int</span> <span class="hljs-number">21</span>h<br><br><span class="hljs-symbol">code</span> ends<br><span class="hljs-symbol">end</span> start<br></code></pre></td></tr></table></figure>
<p>ç¨‹åºæ‰§è¡Œåˆ°callå‰ï¼Œå †æ ˆæ®µå’Œæ•°æ®æ®µåˆå¹¶ï¼Œæ‰§è¡Œcallæ—¶(ip)=xï¼Œå…¥æ ˆï¼Œä¹Ÿæ˜¯æ•°æ®æ®µds:[0EH]å¤„çš„æ•°æ®ä¸ºxï¼Œè¿™æ˜¯è·³åˆ°xå¤„çš„æŒ‡ä»¤ä¹Ÿå°±æ˜¯<code>inc ax</code>ï¼Œï¼Œä¸‰æ¬¡incå(ax)=3hï¼›</p>
<h2 id="callå’Œretçš„é…åˆä½¿ç”¨"><a href="#callå’Œretçš„é…åˆä½¿ç”¨" class="headerlink" title="callå’Œretçš„é…åˆä½¿ç”¨"></a>callå’Œretçš„é…åˆä½¿ç”¨</h2><figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">assume</span> cs:<span class="hljs-meta">code</span><br><span class="hljs-symbol">code</span> segment<br><span class="hljs-symbol">start:</span><br><span class="hljs-keyword">mov</span> ax,<span class="hljs-number">1</span><br><span class="hljs-keyword">mov</span> cx,<span class="hljs-number">3</span><br><br><span class="hljs-symbol">call</span> s<br><span class="hljs-keyword">mov</span> bx,ax<br><span class="hljs-keyword">mov</span> ax,<span class="hljs-number">4</span>c00h<br><span class="hljs-symbol">int</span> <span class="hljs-number">21</span>h<br><br>s:<br><span class="hljs-keyword">add</span> ax,ax<br><span class="hljs-symbol">loop</span> s<br><span class="hljs-symbol">ret</span><br><br><span class="hljs-symbol">code</span> ends<br><span class="hljs-symbol">end</span> start<br></code></pre></td></tr></table></figure>
<p>cpuæ‰§è¡Œçš„ä¸»è¦è¿‡ç¨‹ï¼š</p>
<ul>
<li>CPUæ‰§è¡Œåˆ°<code>call s</code>æŒ‡ä»¤æ—¶ï¼ŒipæŒ‡å‘åä¸€å¥<code>mov bx,ax</code>å¤„ï¼Œå¹¶å°†å…¶å‹æ ˆï¼Œä¹‹åä¿®æ”¹ipåˆ°så¤„ï¼Œå®ç°ç¨‹åºçš„è·³è½¬ï¼›</li>
<li>åœ¨sä¸­ï¼Œså®ç°çš„æ—¶æ±‚ $2^{cx}$ï¼Œcxçš„å€¼ç”±æœ€å¼€å§‹çš„æŒ‡ä»¤ç»™å‡ºï¼›</li>
<li>æ‰§è¡Œå®Œåï¼ŒretæŒ‡ä»¤å°†æ ˆä¸­çš„å€¼å¼¹å‡ºèµ‹ç»™ipï¼Œç¨‹åºè·³è½¬åˆ°callåçš„<code>mov bx,ax</code>å¤„ï¼Œæœ€åç»“æŸï¼›</li>
</ul>
<p><strong>å­ç¨‹åºçš„æ¡†æ¶</strong>ï¼›</p>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm">æ ‡å·:<br>    æŒ‡ä»¤<br>    ret<br></code></pre></td></tr></table></figure>
<h2 id="æ¨¡å—åŒ–ç¨‹åºçš„è®¾è®¡"><a href="#æ¨¡å—åŒ–ç¨‹åºçš„è®¾è®¡" class="headerlink" title="æ¨¡å—åŒ–ç¨‹åºçš„è®¾è®¡"></a>æ¨¡å—åŒ–ç¨‹åºçš„è®¾è®¡</h2><h3 id="ä¼ªæŒ‡ä»¤proc"><a href="#ä¼ªæŒ‡ä»¤proc" class="headerlink" title="ä¼ªæŒ‡ä»¤proc"></a>ä¼ªæŒ‡ä»¤proc</h3><p>æ ¼å¼ï¼š</p>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm">å­ç¨‹åºå <span class="hljs-meta">PROC</span> å±æ€§<br><span class="hljs-symbol">......</span><br>å­ç¨‹åºå <span class="hljs-meta">ENDP</span><br></code></pre></td></tr></table></figure>
<h2 id="è¿‡ç¨‹å±æ€§"><a href="#è¿‡ç¨‹å±æ€§" class="headerlink" title="è¿‡ç¨‹å±æ€§"></a>è¿‡ç¨‹å±æ€§</h2><ul>
<li>å±æ€§åˆ†ä¸ºNEARå±æ€§å’ŒFARå±æ€§ï¼Œé»˜è®¤ä¸ºNEARï¼Œä¸»ç¨‹åºå’Œå­ç¨‹åºåœ¨ <strong>åŒä¸€ä¸ªä»£ç çŸ­</strong> ä½¿ç”¨ <strong>NEAR</strong> å±æ€§ï¼Œå¦åˆ™ä½¿ç”¨ <strong>FAR</strong> å±æ€§ï¼›</li>
<li>callæ‰§è¡Œæ—¶ï¼Œç³»ç»Ÿæ ¹æ®å­ç¨‹åºåçš„å±æ€§å†³å®šä¿å­˜æ–­ç‚¹çš„æ®µåœ°å€å’Œåç§»åœ°å€ï¼›</li>
</ul>
<h4 id="è¿‘ç¨‹è°ƒç”¨NEAR"><a href="#è¿‘ç¨‹è°ƒç”¨NEAR" class="headerlink" title="è¿‘ç¨‹è°ƒç”¨NEAR"></a>è¿‘ç¨‹è°ƒç”¨NEAR</h4><figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">code</span> segment<br>    main <span class="hljs-meta">proc</span> far<br>        ...<br>        call subr1<br>        ...<br><br><br>    subr1 <span class="hljs-meta">proc</span> near<br>        ...<br>        ret<br>    subr1 <span class="hljs-meta">endp</span><br><br><br>    main <span class="hljs-meta">endp</span><br><br><span class="hljs-symbol">code</span> ends<br></code></pre></td></tr></table></figure>
<p>æˆ–<br><figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">code</span> segment<br>    main prco far<br>        ...<br>        call sunr1<br>        ...<br>    main <span class="hljs-meta">endp</span><br><br>    subr1 <span class="hljs-meta">proc</span> near<br>        ...<br>        ret<br>    subr1 endr<br><br><span class="hljs-symbol">code</span> ends<br></code></pre></td></tr></table></figure></p>
<h4 id="è¿œç¨‹è°ƒç”¨NEAR"><a href="#è¿œç¨‹è°ƒç”¨NEAR" class="headerlink" title="è¿œç¨‹è°ƒç”¨NEAR"></a>è¿œç¨‹è°ƒç”¨NEAR</h4><figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">code1</span> segment<br>    main <span class="hljs-meta">proc</span> far<br>        ...<br>        call subrx<br>        ...<br>        <span class="hljs-keyword">mov</span> ah,<span class="hljs-number">4</span>ch<br>        int <span class="hljs-number">21</span>h<br>    main <span class="hljs-meta">endp</span><br><span class="hljs-symbol">code1</span> ends<br><br><span class="hljs-symbol">code2</span> segment<br>    ...<br>    call subrx<br>    ...<br><br>    subrx <span class="hljs-meta">proc</span> far<br>        ...<br>        ret<br>    subrx <span class="hljs-meta">endp</span><br><br><span class="hljs-symbol">code2</span> ends<br></code></pre></td></tr></table></figure>
<h3 id="ç°åœºä¿æŠ¤"><a href="#ç°åœºä¿æŠ¤" class="headerlink" title="ç°åœºä¿æŠ¤"></a>ç°åœºä¿æŠ¤</h3><p>ä¸»ç¨‹åºè°ƒç”¨å­ç¨‹åºæ—¶å¯èƒ½å¯„å­˜å™¨çš„å€¼ä¼šè¢«æ”¹å˜ï¼Œéœ€è¦ä¿å­˜æ­¤æ—¶çš„å€¼åå†è¿›å…¥å­ç¨‹åºï¼Œä¸€èˆ¬çš„å®ç°æ˜¯åˆ©ç”¨æ ˆæ¥ä¿å­˜å¯èƒ½æ”¹å˜çš„å¯„å­˜å™¨çš„å€¼ï¼Œé€€å‡ºå­ç¨‹åºæ—¶popæ¢å¤ç°åœºï¼›</p>
<h2 id="mulæŒ‡ä»¤"><a href="#mulæŒ‡ä»¤" class="headerlink" title="mulæŒ‡ä»¤"></a>mulæŒ‡ä»¤</h2><ul>
<li>mulæ˜¯æ— ç¬¦å·æ•°ä¹˜æ³•æŒ‡ä»¤ï¼›</li>
<li>æ ¼å¼: <br> <code>mul reg</code> <br> <code>mul å†…å­˜å•å…ƒ</code></li>
</ul>
<p>ä¸åŒä½çš„ç›¸ä¹˜ï¼š</p>
<ul>
<li>8ä½ï¼šalå’Œ9ä½å¯„å­˜å™¨æˆ–å†…å­˜å•å…ƒç›¸ä¹˜ï¼Œç»“æœåœ¨alä¸­ï¼›</li>
<li>16ä½ï¼šaxå’Œ16ä½å¯„å­˜å™¨æˆ–å†…å­˜å•å…ƒç›¸ä¹˜ï¼Œç»“æœé«˜ä½åœ¨dxä¸­ï¼Œä½ä½åœ¨axä¸­ï¼›<br><br><br></li>
<li>ç›¸ä¹˜çš„ä¸¤ä¸ªæ•°è¦ä¹ˆæ˜¯8ä½è¦ä¹ˆæ˜¯16ä½ï¼›</li>
</ul>
<p>å†…å­˜å•å…ƒå¯ç”¨ä¸åŒçš„å¯»å€æ–¹å¼ç»™å‡ºï¼š</p>
<ul>
<li><code>mul byte ptr ds:[0]</code><br>å«ä¹‰:<code>(ax)=(al)*((ds)*16+0)</code></li>
<li><p><code>mul word ptr [bx+si+8]</code><br>å«ä¹‰:<br><code>(ax)=(al)*((ds)*16+(bx)+(si)+8)</code><br><code>(dx)=(al)*((ds)*16+(bx)+(si)+8)</code></p>
</li>
<li><p>ç»“æœå¤§äº255å°±ç”¨16ä½çš„</p>
</li>
</ul>
<h2 id="xchgæŒ‡ä»¤"><a href="#xchgæŒ‡ä»¤" class="headerlink" title="xchgæŒ‡ä»¤"></a>xchgæŒ‡ä»¤</h2><ul>
<li>æŒ‡ä»¤æ ¼å¼ï¼š<code>xchg oprd1,oprd2</code></li>
<li>åŠŸèƒ½ï¼šå°†ä¸€ä¸ªå­—èŠ‚æˆ–ä¸€ä¸ªå­—çš„æºæ“çºµæ•°å’Œç›®çš„æ“ä½œæ•°ç›¸äº¤æ¢ï¼›</li>
<li>äº¤æ¢çš„æŒ‡ä»¤å¯ä»¥åœ¨å¯„å­˜å™¨ä¹‹é—´ï¼Œå¯„å­˜å™¨ä¸å‚¨å­˜å™¨ä¹‹é—´ï¼š</li>
</ul>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">xchg</span> reg,reg<br><span class="hljs-symbol">xchg</span> reg,mem<br><span class="hljs-symbol">xchg</span> mem,reg<br></code></pre></td></tr></table></figure>
<p>xchg æŒ‡ä»¤ä¸å…è®¸çš„æƒ…å†µï¼š</p>
<ul>
<li>ä¸èƒ½åŒæ—¶éƒ½ä¸ºå†…å­˜æ“ä½œæ•°</li>
<li>ä»»ä½•ä¸€ä¸ªæ“ä½œæ•°éƒ½ä¸èƒ½ä¸ºæ®µå¯„å­˜å™¨</li>
<li>ä»»ä½•ä¸€ä¸ªæ“ä½œæ•°ä¸èƒ½ä¸ºç«‹å³æ•°</li>
<li>ä¸¤ä¸ªæ“ä½œæ•°çš„é•¿åº¦å¿…é¡»ç›¸ç­‰</li>
</ul>
<p>(end)</p>
]]></content>
      <categories>
        <category>æ±‡ç¼–è¯­è¨€</category>
      </categories>
      <tags>
        <tag>ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>æ±‡ç¼–ç¬”è®°_ç¬¬å››ã€äº”ç« </title>
    <url>/2018/12/26/%E6%B1%87%E7%BC%96%E7%AC%94%E8%AE%B0-%E7%AC%AC%E5%9B%9B%E3%80%81%E4%BA%94%E7%AB%A0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="ç¬¬å››ç« -ç¬¬ä¸€ä¸ªç¨‹åº"><a href="#ç¬¬å››ç« -ç¬¬ä¸€ä¸ªç¨‹åº" class="headerlink" title="ç¬¬å››ç«  ç¬¬ä¸€ä¸ªç¨‹åº"></a>ç¬¬å››ç«  ç¬¬ä¸€ä¸ªç¨‹åº</h1><h2 id="ç¨‹åºæ‰§è¡Œçš„åŸºæœ¬è¿‡ç¨‹"><a href="#ç¨‹åºæ‰§è¡Œçš„åŸºæœ¬è¿‡ç¨‹" class="headerlink" title="ç¨‹åºæ‰§è¡Œçš„åŸºæœ¬è¿‡ç¨‹"></a>ç¨‹åºæ‰§è¡Œçš„åŸºæœ¬è¿‡ç¨‹</h2><p>ç¼–å†™-&gt;ç¼–è¯‘-&gt;è¿æ¥-&gt;æ‰§è¡Œ</p>
<p>ç¼–ç¨‹-&gt;1.asm-&gt;ç¼–è¯‘-&gt;1.obj-&gt;è¿æ¥-&gt;1.exe-&gt;åŠ è½½-&gt;å†…å­˜ä¸­çš„ç¨‹åº</p>
<h2 id="ç¨‹åºçš„åŸºæœ¬ç»“æ„"><a href="#ç¨‹åºçš„åŸºæœ¬ç»“æ„" class="headerlink" title="ç¨‹åºçš„åŸºæœ¬ç»“æ„"></a>ç¨‹åºçš„åŸºæœ¬ç»“æ„</h2><h3 id="ä¼ªæŒ‡ä»¤"><a href="#ä¼ªæŒ‡ä»¤" class="headerlink" title="ä¼ªæŒ‡ä»¤"></a>ä¼ªæŒ‡ä»¤</h3><p>æ±‡ç¼–è¯­è¨€æºç¨‹åºä¸­ï¼ŒåŒ…å«ä¸¤ç§æŒ‡ä»¤ï¼Œ <strong>æ±‡ç¼–æŒ‡ä»¤</strong> å’Œ <strong>ä¼ªæŒ‡ä»¤</strong>ï¼›</p>
<ul>
<li>æ±‡ç¼–æŒ‡ä»¤æ˜¯å¯¹åº”çš„æœºå™¨ç çš„æŒ‡ä»¤ï¼Œå¯ä»¥è¢«ç¼–è¯‘ä¸ºæœºå™¨æŒ‡ä»¤ï¼›</li>
<li>ä¼ªæŒ‡ä»¤æ²¡æœ‰å¯¹åº”çš„æœºå™¨æŒ‡ä»¤ï¼Œç”±ç¼–è¯‘å™¨æ¥æ‰§è¡Œã€‚</li>
</ul>
<span id="more"></span>
<p>ä¼ªæŒ‡ä»¤æœ‰ï¼š</p>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm">æ®µå segment<br><span class="hljs-symbol">...</span><span class="hljs-comment">//å®šä¹‰ä¸€ä¸ªæ®µ</span><br>æ®µå ends<br></code></pre></td></tr></table></figure>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">end</span><span class="hljs-comment">//æ±‡ç¼–ç¨‹åºçš„ç»“æŸæ ‡è®°</span><br></code></pre></td></tr></table></figure>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">assume</span> <span class="hljs-comment">//ç¼–è¯‘ç¨‹åºå°†æ®µå¯„å­˜å™¨å’ŒæŸä¸€å…·ä½“çš„æ®µç›¸è”ç³»</span><br><span class="hljs-symbol">assume</span> cs:codesg<br></code></pre></td></tr></table></figure>
<h3 id="æ ‡å·"><a href="#æ ‡å·" class="headerlink" title="æ ‡å·"></a>æ ‡å·</h3><ul>
<li>ä¸€ä¸ªæ ‡å·æŒ‡ä»£äº†ä¸€ä¸ªåœ°å€</li>
<li>codesg:æ”¾åœ¨segmentå‰ï¼Œä½œä¸ºä¸€ä¸ªæ®µåç§°ï¼Œæœ€ç»ˆç¼–è¯‘è¿æ¥å¤„ç†åä¸º <strong>ä¸€ä¸ªæ®µçš„æ®µåœ°å€</strong>ï¼›</li>
</ul>
<h3 id="ç¨‹åºçš„åŸºæœ¬ç»“æ„-1"><a href="#ç¨‹åºçš„åŸºæœ¬ç»“æ„-1" class="headerlink" title="ç¨‹åºçš„åŸºæœ¬ç»“æ„"></a>ç¨‹åºçš„åŸºæœ¬ç»“æ„</h3><ul>
<li>å®šä¹‰ä¸€ä¸ªæ®µ</li>
<li>å®ç°å¤„ç†ä»»åŠ¡</li>
<li>ç¨‹åºç»“æŸ</li>
<li><strong>æ®µä¸å¯„å­˜å™¨å…³è”</strong></li>
</ul>
<p>eg:</p>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-symbol">assume</span> cs:abc<br><br><span class="hljs-symbol">abc</span> segment<br><br><span class="hljs-keyword">mov</span> ax,<span class="hljs-number">2</span><br><span class="hljs-keyword">add</span> ax,ax<br><span class="hljs-keyword">add</span> ax,ax<br><br><span class="hljs-symbol">abc</span> ends<br><br><span class="hljs-symbol">end</span><br></code></pre></td></tr></table></figure>
<h3 id="ç¨‹åºè¿”å›"><a href="#ç¨‹åºè¿”å›" class="headerlink" title="ç¨‹åºè¿”å›"></a>ç¨‹åºè¿”å›</h3><p>åœ¨ç¨‹åºçš„æœ«å°¾æ·»åŠ  <strong>è¿”å›çš„ç¨‹åºæ®µ</strong></p>
<figure class="highlight armasm"><table><tr><td class="code"><pre><code class="hljs armasm"><span class="hljs-keyword">mov</span> ax,<span class="hljs-number">4</span>c00H<br><span class="hljs-symbol">int</span> <span class="hljs-number">21</span>H<br></code></pre></td></tr></table></figure>
<h3 id="ä¸ç»“æŸç›¸å…³çš„æ¦‚å¿µ"><a href="#ä¸ç»“æŸç›¸å…³çš„æ¦‚å¿µ" class="headerlink" title="ä¸ç»“æŸç›¸å…³çš„æ¦‚å¿µ"></a>ä¸ç»“æŸç›¸å…³çš„æ¦‚å¿µ</h3><div class="table-container">
<table>
<thead>
<tr>
<th>ç›®çš„</th>
<th>ç›¸å…³æŒ‡ä»¤</th>
<th style="text-align:center">æŒ‡ä»¤æ€§è´¨</th>
<th>æŒ‡ä»¤æ‰§è¡Œè€…</th>
</tr>
</thead>
<tbody>
<tr>
<td>é€šçŸ¥ç¼–è¯‘å™¨ä¸€ä¸ªæ®µç»“æŸ</td>
<td>æ®µå ends</td>
<td style="text-align:center">ä¼ªæŒ‡ä»¤</td>
<td>ç¼–è¯‘æ—¶ï¼Œç”±ç¼–è¯‘å™¨æ‰§è¡Œ</td>
</tr>
<tr>
<td>é€šçŸ¥ç¼–è¯‘å™¨ç¨‹åºç»“æŸ</td>
<td>end</td>
<td style="text-align:center">ä¼ªæŒ‡ä»¤</td>
<td>ç¼–è¯‘æ—¶ï¼Œç”±ç¼–è¯‘å™¨æ‰§è¡Œ</td>
</tr>
<tr>
<td>ç¨‹åºè¿”å›</td>
<td>mov ax,4c00H int 21H</td>
<td style="text-align:center">æ±‡ç¼–æŒ‡ä»¤</td>
<td>æ‰§è¡Œæ—¶ï¼Œç”±CPUæ‰§è¡Œ</td>
</tr>
</tbody>
</table>
</div>
<h2 id="ç¨‹åºçš„è¿è¡Œ"><a href="#ç¨‹åºçš„è¿è¡Œ" class="headerlink" title="ç¨‹åºçš„è¿è¡Œ"></a>ç¨‹åºçš„è¿è¡Œ</h2><ul>
<li>åœ¨dosä¸­ç›´æ¥æ‰§è¡Œ1.exeæ—¶ï¼Œæ­£åœ¨è¿è¡Œçš„commandå°†1.exeä¸­çš„ç¨‹åºåŠ è½½å¦‚å†…å­˜ï¼›</li>
<li>commandè®¾ç½®CPUçš„CS:IPæŒ‡å‘ç¨‹åºçš„ç¬¬ä¸€æ¡æŒ‡ä»¤ï¼ˆåŠç¨‹åºçš„å…¥å£ï¼‰ï¼Œä»è€Œä½¿ç¨‹åºå¾—ä»¥è¿è¡Œï¼›</li>
<li>ç¨‹åºè¿è¡Œç»“æŸåï¼Œè¿”å›åˆ°commandä¸­ï¼ŒCPUç»§ç»­è¿è¡Œcommandï¼›</li>
</ul>
<h2 id="ç¨‹åºçš„æ‰§è¡Œå’Œè¿‡ç¨‹çš„è·Ÿè¸ª"><a href="#ç¨‹åºçš„æ‰§è¡Œå’Œè¿‡ç¨‹çš„è·Ÿè¸ª" class="headerlink" title="ç¨‹åºçš„æ‰§è¡Œå’Œè¿‡ç¨‹çš„è·Ÿè¸ª"></a>ç¨‹åºçš„æ‰§è¡Œå’Œè¿‡ç¨‹çš„è·Ÿè¸ª</h2><ul>
<li>å¯ä»¥ç”¨Debugæ¥è·Ÿè¸ªä¸€ä¸ªç¨‹åºçš„è¿è¡Œè¿‡ç¨‹ï¼›</li>
<li>Debugä¸æ”¾å¼ƒå¯¹CPUçš„æ§åˆ¶ï¼›</li>
<li><p>Rå‘½ä»¤æŸ¥çœ‹ä¸ªå¯„å­˜å™¨çš„è®¾ç½®æƒ…å†µï¼Œcxä¿å­˜ç¨‹åºçš„é•¿åº¦ï¼›</p>
</li>
<li><p>ç¨‹åºåŠ è½½åï¼Œdsä¿å­˜ç€ç¨‹åºæ‰€åœ¨çš„å†…å­˜åŒºçš„æ®µåœ°å€ï¼Œä¹‹å256ä¸ªå­—èŠ‚ä¸ºPSPï¼Œä¸ºç¨‹åºå’Œdosè¿›è¡Œé€šè®¯ï¼Œä¹‹åçš„ç©ºé—´å­˜æ”¾ç¨‹åºï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç¨‹åºçš„åœ°å€ä¸ºSA+10H:0ï¼›</p>
</li>
<li>è¦ä½¿ç”¨På‘½ä»¤æ‰§è¡Œint 21Hï¼›</li>
<li>åŠ è½½çš„é¡ºåºä¸ºï¼šcommandåŠ è½½debugåŠ è½½1.exeï¼›</li>
<li>è¿”å›çš„é¡ºåºä¸ºï¼š1.exeè¿”å›åˆ°debugè¿”å›åˆ°commandï¼›</li>
</ul>
<h1 id="ç¬¬äº”ç« -bx-å’ŒloopæŒ‡ä»¤"><a href="#ç¬¬äº”ç« -bx-å’ŒloopæŒ‡ä»¤" class="headerlink" title="ç¬¬äº”ç«  [bx]å’ŒloopæŒ‡ä»¤"></a>ç¬¬äº”ç«  [bx]å’ŒloopæŒ‡ä»¤</h1><h2 id="bx-å’Œå†…å­˜çš„å•å…ƒçš„æè¿°"><a href="#bx-å’Œå†…å­˜çš„å•å…ƒçš„æè¿°" class="headerlink" title="[bx]å’Œå†…å­˜çš„å•å…ƒçš„æè¿°"></a>[bx]å’Œå†…å­˜çš„å•å…ƒçš„æè¿°</h2><ul>
<li>[bx]è¡¨ç¤ºä¸€ä¸ªå†…å­˜å•å…ƒï¼Œå®ƒçš„åç§»åœ°å€åœ¨bxä¸­ï¼›</li>
<li>è¦å®Œæ•´çš„æè¿°ä¸€ä¸ªå†…å­˜å•å…ƒï¼Œéœ€è¦ä¸¤ç§ä¿¡æ¯ï¼šå†…å­˜å•å…ƒçš„åœ°å€ã€å†…å­˜å•å…ƒçš„é•¿åº¦ï¼ˆç±»å‹ï¼‰ï¼›</li>
<li><code>mov ax,[bx]</code>ç›¸å½“äº<code>(ax)=(ds*16 + (bx))</code>è¿™é‡Œçš„(ax)è¡¨ç¤ºaxä¸­çš„å†…å®¹ï¼›</li>
</ul>
<h2 id="loopæŒ‡ä»¤"><a href="#loopæŒ‡ä»¤" class="headerlink" title="loopæŒ‡ä»¤"></a>loopæŒ‡ä»¤</h2><ul>
<li>æŒ‡ä»¤æ ¼å¼ï¼š<code>loop æ ‡å·</code>ï¼›</li>
<li>CPUæ‰§è¡ŒloopæŒ‡ä»¤æ—¶ï¼Œè¿›è¡Œä¸¤æ­¥æ“ä½œï¼š1ã€<code>(cx)=(cx)-1</code>ï¼Œ2ã€åˆ¤æ–­cxä¸­çš„å€¼ï¼Œä¸ä¸ºé›¶åˆ™è½¬è‡³æ ‡å·å‡ºæ‰§è¡Œç¨‹åºï¼Œä¸ºé›¶åˆ™å‘ä¸‹æ‰§è¡Œï¼Œå³cxä¸ºå¾ªç¯çš„æ¬¡æ•°ï¼›</li>
</ul>
<h2 id="æ®µå‰ç¼€"><a href="#æ®µå‰ç¼€" class="headerlink" title="æ®µå‰ç¼€"></a>æ®µå‰ç¼€</h2><p>æ˜¾å¼çš„æŒ‡æ˜å†…å­˜å•å…ƒçš„æ®µåœ°å€çš„ï¼šds: , cs: , ss: , es:ï¼Œåœ¨æ±‡ç¼–ä¸­ç§°ä¸ºæ®µå‰ç¼€ï¼›</p>
<h2 id="æŒ‡ä»¤çš„ä¸åŒå¤„ç†"><a href="#æŒ‡ä»¤çš„ä¸åŒå¤„ç†" class="headerlink" title="æŒ‡ä»¤çš„ä¸åŒå¤„ç†"></a>æŒ‡ä»¤çš„ä¸åŒå¤„ç†</h2><ul>
<li>debugä¸­<code>mov al,[0]</code>æŒ‡çš„å°±æ˜¯å°†ds:[0]å¤„çš„æ•°æ®é€åˆ°alä¸­ï¼›</li>
<li>ç¼–è¯‘å™¨ä¸­åˆ™è§£é‡Šä¸ºå°†alèµ‹å€¼ä¸º0ï¼›</li>
<li>åªæœ‰<code>mov al,[bx]</code>è¿™æ ·çš„æ‰èƒ½è§£é‡Šä¸ºå°†ds:[bx]å¤„çš„æ•°æ®é€åˆ°alé‡Œï¼›</li>
</ul>
<h2 id="ä¸€æ®µå®‰å…¨çš„ç©ºé—´"><a href="#ä¸€æ®µå®‰å…¨çš„ç©ºé—´" class="headerlink" title="ä¸€æ®µå®‰å…¨çš„ç©ºé—´"></a>ä¸€æ®µå®‰å…¨çš„ç©ºé—´</h2><ul>
<li>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œdoså’Œå…¶ä»–åˆæ³•ç¨‹åºéƒ½ä¸ä¼šä½¿ç”¨0:200H~0:2FFH 256ä¸ªå­—èŠ‚çš„ç©ºé—´ï¼›</li>
</ul>
<p>(end)</p>
]]></content>
      <categories>
        <category>æ±‡ç¼–è¯­è¨€</category>
      </categories>
      <tags>
        <tag>ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>æ·±æœå’Œå¹¿æœ1</title>
    <url>/2018/05/19/%E6%B7%B1%E6%90%9C%E5%92%8C%E5%B9%BF%E6%90%9C1/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>2018.5.19</p>
<p>è¿™ä¸€ç¯‡ä¸»è¦æ˜¯å…³äºæ·±æœå’Œå¹¿æœå®ç°çš„ä¸€äº›æ€»ç»“ï¼Œå› ä¸ºä¸€äº›æ¨¡æ¿å’Œæ•°æ®ç»“æ„è¿˜æœªå­¦ä¹ ï¼Œï¼Œæ‰€ä»¥è¿™ä¸€ç¯‡æ·±æœå¹¿æœéƒ½æ˜¯ä½¿ç”¨åŸºæœ¬çš„æ–¹æ³•ï¼Œï¼Œè™½ç„¶ä¾¿äºç†è§£ï¼Œï¼Œä½†æ˜¯å¦‚è¦è§£å†³é—®é¢˜acmä¹‹ç±»è¿˜æ˜¯ä½¿ç”¨å¸¦æœ‰æ¨¡æ¿çš„æ›´é«˜æ•ˆçš„æ–¹æ³•ã€‚ã€‚ã€‚ã€‚</p>
<p>æœç´¢æ˜¯ä¸€ç§æ±‚è§£çš„æ–¹æ³•ï¼Œé€šå¸¸æ¥è¯´å°±æ˜¯å°†æ‰€æœ‰æƒ…å†µæ¢ç´¢ä¸€éï¼Œæ‰¾å‡ºå…¶ä¸­ç¬¦åˆè¦æ±‚çš„æƒ…å†µä½œä¸ºæœ€åçš„è§£ã€‚æŒ‰ç…§ <strong>ç”Ÿæˆè§£çš„é¡ºåº</strong> æœ‰ä¸¤ç§åŸºæœ¬çš„æ±‚è§£é¡ºåºï¼š<strong>æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDepth-first Searchï¼‰</strong> å’Œ <strong>å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBreadth-first searchï¼‰</strong>ã€‚^â€”&gt;<br><span id="more"></span></p>
<h1 id="æ·±æœ"><a href="#æ·±æœ" class="headerlink" title="æ·±æœ:"></a>æ·±æœ:</h1><h2 id="æ€æƒ³"><a href="#æ€æƒ³" class="headerlink" title="æ€æƒ³:"></a>æ€æƒ³:</h2><ul>
<li>æ·±æœä¸»è¦ä¾é é€’å½’å®ç°ï¼Œé€šå¸¸çš„æ–¹æ³•å°±æ˜¯æŠŠæ¯ä¸€ç§å¯èƒ½éƒ½å°è¯•ä¸€é,æ¯”å¦‚ç±»ä¼¼è¿·å®«é‡Œçš„å¤šä¸ªæ–¹å‘æŒ‰æŸä¸€é¡ºåºè¿›è¡Œå°è¯•ï¼Œå¯ä»¥ä½¿ç”¨forå¾ªç¯éå†ï¼Œbfs()å‡½æ•°æ˜¯ä¸ºäº†è§£å†³å½“å‰è¿™ä¸€æ­¥ï¼Œï¼Œè€Œä¸‹ä¸€æ­¥æ€ä¹ˆåšå°±äº¤ç»™bfs(step+1)å°±å¯ä»¥äº†ï¼Œä¸‹ä¸€æ­¥çš„è§£å†³æ–¹æ³•å’Œå½“å‰è¿™ä¸€æ­¥çš„è§£å†³æ–¹æ³•æ˜¯å®Œå…¨ä¸€æ ·çš„;</li>
<li>bfs()é€‚ç”¨äºéœ€è¦æ±‚è§£å‡ºæ‰€æœ‰å¯èƒ½è§£çš„é—®é¢˜ï¼Œåœ¨åˆ°è¾¾é—®é¢˜ç•Œé™ä¹‹å‰ä¼šä¸€ç›´é€’å½’ä¸‹å»,æ‰€ä»¥è¦åœ¨bfs()é‡Œå¢åŠ æ¡ä»¶åˆ¤æ–­;^â€”&gt;</li>
<li>ä¸€èˆ¬ä½¿ç”¨æœç´¢çš„é—®é¢˜éƒ½éœ€è¦ä¸¤ä¸ªæ•°ç»„ï¼Œä¸€ä¸ªæ˜¯é—®é¢˜æ‰€ç»™çš„åœ°å›¾map[][]ï¼Œä¸€ä¸ªåˆ™æ˜¯æ ‡è®°ç”¨çš„flag[][];</li>
</ul>
<h2 id="åŸºæœ¬å®ç°æ¨¡æ¿"><a href="#åŸºæœ¬å®ç°æ¨¡æ¿" class="headerlink" title="åŸºæœ¬å®ç°æ¨¡æ¿:"></a>åŸºæœ¬å®ç°æ¨¡æ¿:</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp">dfs(æ¯ä¸€æ¬¡å°è¯•çš„å‚æ•°è¡¨ , step)<br>&#123;<br>    <span class="hljs-comment">//åˆ¤æ–­å½“å‰å°è¯•æ˜¯å¦è¶…å‡ºé—®é¢˜çš„ç•Œé™</span><br>    <span class="hljs-keyword">if</span> (...)    <span class="hljs-keyword">return</span>;<br><br>    <span class="hljs-comment">//å°è¯•å½“å‰çŠ¶æ€ä¸‹çš„æ¯ä¸€ç§å¯èƒ½æ€§ï¼Œï¼Œï¼Œä½¿ç”¨é€’å½’æ–¹æ³•</span><br>    <span class="hljs-keyword">for</span> (i i&lt;n i++)<br>    &#123;<br>        <span class="hljs-comment">//åˆ¤æ–­å½“å‰å°è¯•æ˜¯å¦å·²ç»è¢«æœç´¢è¿‡ï¼Œï¼Œï¼Œ(æ­¤åˆ¤æ–­ä¸ä¸€å®šåœ¨forå¾ªç¯é‡Œ)</span><br>        <span class="hljs-keyword">if</span>(iè¿˜æœªè¢«æœç´¢è¿‡) <br>        &#123;<br>            æ ‡è®°ä¸€ä¸‹...flag[][]<br>            <span class="hljs-comment">//æ²¡æœ‰æœç´¢è¿‡å°±å°è¯•ä¸‹ä¸€æ­¥</span><br>            dfs(step+<span class="hljs-number">1</span>);<br>            <span class="hljs-comment">//è¿˜åŸæ ‡è®°(å°†flag[][]ç½®ä¸ºå°è¯•å‰çš„å€¼ï¼Œï¼Œï¼Œ(ä¸å¹¿æœçš„ä¸åŒå¤„ï¼Œï¼Œï¼Œï¼Œ))</span><br>        &#125;  <br>    &#125;<br>    <span class="hljs-keyword">return</span>; <br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“:"></a>æ€»ç»“:</h2><ul>
<li>ä¾é äºé€’å½’çš„æ·±æœå¤§ä½“ç»“æ„æ˜¯ä¸ä¼šå˜åŒ–çš„ã€‚éœ€è¦æ³¨æ„çš„ç‚¹æœ‰ï¼š</li>
<li>å‚æ•°è®°å½•çš„çŠ¶æ€(é€’å½’æ—¶è¦æ›´æ–°å‚æ•°è¡¨ï¼Œï¼Œä¹Ÿå°±æ˜¯è¦æ›´æ–°å°è¯•çš„å‚æ•°)ã€</li>
<li>è¿‡æ»¤æ‰ä¸å¯èƒ½çš„çŠ¶æ€(ä¾‹å¦‚é—®é¢˜çš„ç•Œé™ã€å·²ç»è¢«æœç´¢è¿‡çš„åœ°æ–¹)ã€</li>
<li>çŠ¶æ€çš„ä¿å­˜å’Œè¿˜åŸ(åœ¨ä¸€æ¬¡å°è¯•å‰è¦æ ‡è®°flagï¼Œä»£è¡¨è¿™ä¸€æ­¥èµ°è¿‡äº†ï¼Œï¼Œåœ¨å°è¯•åè¦è¿˜åŸflagä¿å­˜çš„å€¼ï¼Œä»£è¡¨è¿™æ¬¡çš„å°è¯•å…¨éƒ¨å®Œæˆ)ã€‚^â€”&gt;</li>
</ul>
<h1 id="å¹¿æœ"><a href="#å¹¿æœ" class="headerlink" title="å¹¿æœ:"></a>å¹¿æœ:</h1><h2 id="æ€æƒ³-1"><a href="#æ€æƒ³-1" class="headerlink" title="æ€æƒ³:"></a>æ€æƒ³:</h2><ul>
<li>å¹¿æœä¸æ·±æœä¸åŒçš„åœ°æ–¹åœ¨äºï¼Œåè€…ä¸»è¦è¿ç”¨äº†é€’å½’çš„æ€æƒ³æ¥éå†æ¯ä¸€ç§å¯èƒ½æ€§ï¼Œï¼Œè€Œå‰è€…åˆ™æ˜¯å±‚å±‚é€’è¿›çš„æ€æƒ³å³å±‚çº§éå†æ¯ä¸€ç§å¯èƒ½æ€§;</li>
<li>å¹¿æœä½¿ç”¨åˆ°äº†<a href="http://www.31415.cf/2018/03/29/%E9%98%9F%E5%88%97%E3%80%81%E9%93%BE%E8%A1%A8/">é˜Ÿåˆ—</a>,ç”¨é˜Ÿåˆ—å°†æ¯ä¸€ç§å¯èƒ½æ€§ä¿å­˜ä¸‹æ¥,ä¼˜å…ˆé€‰æ‹©çœ‹ä¼¼æœ€ä¼˜çš„çŠ¶æ€è¿›è¡Œæ‹“å±•ï¼Œä»¥è¾¾åˆ°æœ€å…ˆæ‰©å±•åˆ°ç›®æ ‡ä½ç½®çš„ç›®çš„;</li>
<li>ä¸æ·±æœä¸€æ ·ï¼Œå¹¿æœä¹Ÿå¯èƒ½éœ€è¦ä¸¤ä¸ªæ•°ç»„ï¼Œä¸€ä¸ªä¿å­˜åœ°å›¾ä¿¡æ¯ï¼Œä¸€ä¸ªä¿å­˜æ ‡è®°ä¿¡æ¯(è¿·å®«é—®é¢˜);æ­¤å¤–å¤§å¤šæ•°æƒ…å†µä¸‹éœ€è¦ä¸€ä¸ªç»“æ„ä½“æ•°ç»„ä½œä¸ºé˜Ÿåˆ—æ¥ä¿å­˜çŠ¶æ€(å°±ç›®å‰æˆ‘æ‰€å­¦çš„æ–¹æ³•æ¥è¯´ï¼Œï¼Œï¼ŒÎ£( Â° â–³ Â°|||)ï¸´)ï¼Œï¼Œï¼Œ(å½“ç„¶åº”è¯¥ä½¿ç”¨#include &lt; queue &gt;æ¥çš„æ›´å¿«ä¸€äº›ï¼Œï¼Œï¼Œå“ªå¤©å†å­¦ä¹ ä¸€ä¸‹ï¼Œï¼Œï¼ŒÊ…ï¼ˆÂ´â—”à±ªâ—”ï¼‰Êƒ)</li>
</ul>
<h2 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°:"></a>å®ç°:</h2><h3 id="åŸºæœ¬å®ç°æ¨¡æ¿-1"><a href="#åŸºæœ¬å®ç°æ¨¡æ¿-1" class="headerlink" title="åŸºæœ¬å®ç°æ¨¡æ¿:"></a>åŸºæœ¬å®ç°æ¨¡æ¿:</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp">bfs()<br>&#123;<br>    <span class="hljs-comment">//é˜Ÿåˆ—åˆå§‹åŒ–ï¼Œï¼Œï¼Œ</span><br>    <span class="hljs-comment">//æ¯”å¦‚head,tail,èµ·å§‹ç‚¹ç­‰ç­‰</span><br>    <span class="hljs-comment">/************************/</span><br>    <span class="hljs-keyword">while</span> (head &lt; tail)     <span class="hljs-comment">//é˜Ÿåˆ—éç©ºæ—¶;</span><br>    &#123;<br>        <span class="hljs-comment">//æšä¸¾å½“å‰ä½ç½®ä¸‹çš„æ‰€æœ‰å¯èƒ½æ€§</span><br>        <span class="hljs-keyword">for</span> (...)<br>        &#123;<br>            <span class="hljs-comment">//åˆ¤æ–­å½“å‰å°è¯•æ˜¯å¦è¶…å‡ºé—®é¢˜çš„ç•Œé™,è¶…å‡ºç»§ç»­ä¸‹ä¸€ä¸ªå°è¯•</span><br>            <span class="hljs-keyword">if</span> (...)    <span class="hljs-keyword">continue</span>;<br><br>            <span class="hljs-comment">//å½“è¯¥ä½ç½®åˆæ³•ä¸”æœªè¢«æœç´¢è¿‡æ—¶å…¥é˜Ÿ(è®°å¾—æ›´æ–°æ­¥æ•°å’Œtail,å¹¶å°†fæŒ‡å‘headå³f=head)</span><br>            <span class="hljs-comment">//å¦‚æœè¯¥ç‚¹è¢«æœç´¢è¿‡ï¼Œåˆ™è¯´æ˜ä»æ­¤è·¯å¾„æ¥è¯¥ä½ç½®ä¸æ˜¯æœ€çŸ­çš„æ–¹æ³•ï¼Œï¼Œ</span><br>            <span class="hljs-comment">//è¿™æ˜¯å› ä¸ºå¹¿æœå¯¹æ¯ä¸ªä½ç½®çš„å¤„ç†æ—¶ï¼Œå¯¹åº”çš„è·ç¦»æ˜¯ä¸¥æ ¼é€’å¢çš„&lt;(Ë‰^Ë‰)&gt;</span><br><br>            <span class="hljs-comment">//åˆ¤æ–­æ˜¯å¦æ­¤æ¬¡å°è¯•æ‰¾åˆ°äº†æ‰€æ‰¾çš„</span><br>            <span class="hljs-comment">//è‹¥æ‰¾åˆ°flag = 1,å¹¶ä¸”è·³å‡ºforå¾ªç¯</span><br>        &#125;<br><br>        <span class="hljs-comment">//åˆ¤æ–­flagçœŸå‡</span><br>        <span class="hljs-comment">//è‹¥çœŸè¯´æ˜æ‰¾åˆ°äº†é¢˜è§£,é€€å‡ºwhileå¾ªç¯</span><br>        **è‹¥å‡è¯´æ˜è¿™ä¸€å±‚è¿˜æœªæ‰¾åˆ°é¢˜è§£ï¼Œé˜Ÿåˆ—å¤´å¢head++;ç»§ç»­å¯¹åé¢çš„ç‚¹æ‰©å±•**  Î£(ï½€Ğ´â€²*ãƒ)ãƒ<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="ç»“æ„ä½“å®ç°é˜Ÿåˆ—"><a href="#ç»“æ„ä½“å®ç°é˜Ÿåˆ—" class="headerlink" title="ç»“æ„ä½“å®ç°é˜Ÿåˆ—:"></a>ç»“æ„ä½“å®ç°é˜Ÿåˆ—:</h3><ul>
<li>å¦‚è¦ä½¿ç”¨ç»“æ„ä½“å®ç°é˜Ÿåˆ—ï¼Œï¼Œå¯ä»¥è¿™æ ·:(é’ˆå¯¹è¿·å®«é—®é¢˜)<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">note</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> x;<br>    <span class="hljs-keyword">int</span> y;<br>    <span class="hljs-keyword">int</span> f;      <span class="hljs-comment">//çˆ¶äº²åœ¨é˜Ÿåˆ—ä¸­çš„ç¼–å·,ç”±æ­¤å¯ä»¥è¾“å‡ºé¢˜è§£è·¯å¾„</span><br>    <span class="hljs-keyword">int</span> step;   <span class="hljs-comment">//è¯¥æ”¯è·¯ä¸­è¯¥ç‚¹çš„æ­¥æ•°,</span><br>                <span class="hljs-comment">//å¯¹äºé¢˜è§£æ¥è¯´queue[tail-1].stepå³ä¸ºé¢˜è§£çš„æœ€çŸ­é•¿åº¦</span><br>&#125;;<br></code></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="ç»“æ„ä½“-è·¯å¾„çš„è¾“å‡º"><a href="#ç»“æ„ä½“-è·¯å¾„çš„è¾“å‡º" class="headerlink" title="ç»“æ„ä½“-è·¯å¾„çš„è¾“å‡º:"></a>ç»“æ„ä½“-è·¯å¾„çš„è¾“å‡º:</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//éå†ä¸€éé˜Ÿåˆ—</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span> , j = <span class="hljs-number">0</span>; i &lt; tail; i++)<br>        <span class="hljs-comment">//å½“éå†æ‰€å¯¹åº”ä½ç½®çš„fç­‰äºè¯¥è·¯å¾„ä¸­ä¸Šä¸€ä¸ªç‚¹çš„fä¹Ÿå°±æ˜¯jæ—¶è¾“å‡º</span><br>        <span class="hljs-keyword">if</span>(que[i].f == j)<br>        &#123;<br>            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;(&quot;</span> &lt;&lt; que[i].x &lt;&lt; <span class="hljs-string">&quot;, &quot;</span> &lt;&lt; que[i].y &lt;&lt; <span class="hljs-string">&quot;)&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>            j = i;      <span class="hljs-comment">//æ›´æ–°jä¸ºå½“å‰èŠ‚ç‚¹ï¼Œï¼Œä¸ºä¸‹æ¬¡æŸ¥æ‰¾åšå‡†å¤‡</span><br>        &#125;   <br></code></pre></td></tr></table></figure>
<ul>
<li>è‡ªæˆ‘æ„Ÿè§‰è¿™ç§è¾“å‡ºæœ‰äº›ç¬¨ï¼Œï¼Œåº”è¯¥æœ‰æ›´å¥½çš„æ–¹æ³•ï¼Œï¼Œä½†æ˜¯ç›®å‰æƒ³ä¸å‡ºæ¥å•Šå•Šå•Šï¼Œï¼Œï¼Œâ†’)â•¥ï¹â•¥)</li>
</ul>
<h2 id="æ€»ç»“-1"><a href="#æ€»ç»“-1" class="headerlink" title="æ€»ç»“:"></a>æ€»ç»“:</h2><ul>
<li>bfsä¸»è¦æ€è·¯æ˜¯å¯¹ä¸‹ä¸€ä¸ªçŠ¶æ€çš„é€‰å–å’ŒçŠ¶æ€çš„éå†ï¼Œåœ¨éå†æ ‘çš„æ—¶å€™ï¼ŒèŠ‚ç‚¹ä¼šæŒ‰ç…§å±‚æ¬¡ä»¥æ­¤æ·»åŠ åˆ°é˜Ÿåˆ—ä¸­ï¼Œåœ¨å¤„ç†å®Œä¸€å±‚ä¹‹åï¼Œä¸‹ä¸€å±‚ä¹Ÿè‡ªç„¶è€Œç„¶çš„æ·»åŠ åˆ°äº†é˜Ÿåˆ—ä¸­;^â€”&gt;</li>
<li>å¹¿æœå¤§è‡´æ€è·¯:                             ^â€”&gt;&gt;</li>
</ul>
<p>1.ä»èµ·ç‚¹å¼€å§‹ï¼Œå…ˆå°†å…¶åŠ å…¥é˜Ÿåˆ—ï¼Œè®¾ç½®è·ç¦»ä¸º0;</p>
<p>2.ä»é˜Ÿåˆ—é¦–ç«¯å–å‡ºä½ç½®ï¼Œå°†ä»è¿™ä¸ªä½ç½®èƒ½å¤Ÿåˆ°è¾¾çš„ä½ç½®åŠ å…¥é˜Ÿåˆ—ï¼Œå¹¶ä¸”è®©è¿™äº›ä½ç½®çš„è·ç¦»ä¸ºä¸Šä¸€ä¸ªä½ç½®çš„è·ç¦»åŠ ä¸Š1;</p>
<p>3.å¾ªç¯2ç›´åˆ°å°†ç»ˆç‚¹æ·»åŠ åˆ°é˜Ÿåˆ—ä¸­ï¼Œè¿™è¯´æ˜æˆ‘ä»¬å·²ç»æ‰¾åˆ°äº†è·¯å¾„;</p>
<p>æ³¨æ„åˆ°åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œ<strong>æ¯æ¬¡å¤„ç†çš„ä½ç½®æ‰€å¯¹åº”çš„è·ç¦»æ˜¯ä¸¥æ ¼é€’å¢çš„ï¼Œå› æ­¤ä¸€æ—¦æ‰¾åˆ°ç»ˆç‚¹ï¼Œå½“æ—¶çš„è·ç¦»å°±æ˜¯æœ€çŸ­è·ç¦»</strong>;</p>
<p>åŒæ ·åŸºäºè¿™ä¸ªåŸå› ï¼Œæœç´¢å¯ç§»åŠ¨åˆ°çš„ä½ç½®æ‰€ä½¿ç”¨çš„åˆ¤æ–­æ¡ä»¶ä¸­ä¸ä»…ä»…æ˜¯ä¸ç¢°å¢™å£ã€ä¸è¶…è¿‡è¾¹ç•Œï¼Œè¿˜æœ‰ä¸€ä¸ªå°±æ˜¯æ²¡æœ‰åˆ°è¾¾è¿‡ï¼Œå› ä¸º<strong>å¦‚æœå·²ç»åˆ°è¾¾äº†è¿™ä¸ªä½ç½®ï¼Œè¿™è¯´æ˜å·²ç»æœ‰æ›´çŸ­çš„è·¯å¾„åˆ°è¾¾è¿™ä¸ªä½ç½®ï¼Œè¿™æ¬¡åˆ°è¾¾è¿™ä¸ªä½ç½®çš„è·¯å¾„æ˜¯æ›´å·®çš„ï¼Œä¸å¯èƒ½å¾—åˆ°æ›´å¥½çš„æœ€ç»ˆè§£</strong>;</p>
<ul>
<li>å¹¿æœä¸éœ€è¦åƒæ·±æœä¸€æ ·åœ¨æ¯æ¬¡å°è¯•åå°†æ ‡è®°å¤åŸ;</li>
<li>é€‚ç”¨äºæ‰¾æœ€çŸ­è·¯å¾„ï¼Œæœ€å°‘æ“ä½œæ•°;</li>
</ul>
<h1 id="ç›¸å…³é¢˜ç›®"><a href="#ç›¸å…³é¢˜ç›®" class="headerlink" title="ç›¸å…³é¢˜ç›®:"></a>ç›¸å…³é¢˜ç›®:</h1><p><a href="http://poj.org/problem?id=2386">___1</a><br><a href="http://poj.org/problem?id=3984">___2</a></p>
<h1 id="æ€»ç»“-2"><a href="#æ€»ç»“-2" class="headerlink" title="æ€»ç»“:"></a>æ€»ç»“:</h1><ul>
<li>æ·±æœå¹¿æœå±äºå›¾çš„æœç´¢,ç›®å‰è§åˆ°çš„é¢˜å¤§å¤šéƒ½æ˜¯è¿·å®«é—®é¢˜:ç»™ä¸€ä¸ªm*nçš„å›¾ä¸­æœ‰éšœç¢å’Œè·¯å¾„ä»€ä¹ˆçš„ï¼Œå¯»æ‰¾æœ€çŸ­çš„è·¯å¾„æˆ–è€…æ—¶æœ€çŸ­çš„æ­¥æ•°ï¼Œï¼Œå†è€…æ˜¯å¯¹å›¾ä¸­çš„æŸäº›ç‚¹æœç´¢ï¼Œï¼Œå¯»æ‰¾é›†åˆç­‰ç­‰;</li>
<li>ä¸ªäººæ„Ÿè§‰æ·±æœå¹¿æœä¸»è¦æ˜¯ç†è§£ç®—æ³•ï¼Œï¼Œè®°ä½å¤§æ¦‚çš„æ¨¡æ¿å°±è¡Œï¼Œï¼Œå®ç°ä»€ä¹ˆçš„è¿˜æ˜¯åœ¨åŸºç¡€çš„çŸ¥è¯†å¤§è‡´æŒæ¡åä»¥åŠæ ¹æ®é¢˜ç›®å…·ä½“åˆ†æå§ï¼Œï¼Œï¼Œ(æˆ‘å¯æ²¡è¯´å®ç°ä¸é‡è¦ï¼Œï¼Œï¼Œä¸ç„¶æ€ä¹ˆåšå‡ºé¢˜â€¦..((/- -)/)</li>
<li>å¤§æ¦‚å°±è¿™æ ·ï¼Œï¼Œï¼Œä»¥åæœ‰å•¥æƒ³æ³•å†è¡¥å……ï¼Œï¼Œï¼Œä¸ç„¶ä¸ºå•¥é¢˜ç›®æœ‰ä¸ª1ï¼Œï¼Œï¼Œï¼Œ(â€¾â—¡â—)</li>
</ul>
<h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ:"></a>å‚è€ƒ:</h1><p>^â€”&gt;<a href="http://sumygg.com/2017/09/11/breadth-first-search-and-depth-first-search-one-two-three/#%E6%80%BB%E7%BB%93">å‚è€ƒdalaoçš„åšæ–‡_1</a></p>
<p>^â€”&gt;&gt;<a href="https://blog.csdn.net/baidu_35643793/article/details/55099472">å‚è€ƒdalaoçš„åšæ–‡_2</a></p>
<ul>
<li>ç®—æ³•å¥½éš¾å•Šï¼Œï¼Œï¼Œacmå¥½è´¹ç²¾åŠ›å‘ï¼Œï¼Œï¼Œå†™åšå®¢ä¹Ÿæ˜¯T_Tï¼Œï¼Œï¼Œä¸€å¤©å°±å†™äº†è¿™ä¸€ä¸ªï¼Œï¼Œï¼Œï¼Œ(é€ƒï¼Œï¼Œï¼Œï¼Œ</li>
</ul>
]]></content>
      <tags>
        <tag>acm</tag>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>ç‰›å®¢å°ç™½æœˆèµ›12</title>
    <url>/2019/03/10/%E7%89%9B%E5%AE%A2%E5%B0%8F%E7%99%BD%E6%9C%88%E8%B5%9B12/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p><a href="https://ac.nowcoder.com/acm/contest/392#question">https://ac.nowcoder.com/acm/contest/392#question</a></p>
<p>å­¦åˆ°å¾ˆå¤šä¸œè¥¿ï¼Œï¼Œï¼Œ</p>
<span id="more"></span>
<h1 id="Aååå¬æœˆæœˆå”±æ­Œ"><a href="#Aååå¬æœˆæœˆå”±æ­Œ" class="headerlink" title="Aååå¬æœˆæœˆå”±æ­Œ"></a>Aååå¬æœˆæœˆå”±æ­Œ</h1><p>æ’åºç„¶åæšä¸¾å·¦ç«¯ç‚¹ï¼Œï¼Œï¼ŒåŒºé—´çš„é¢˜æ€»æ˜¯ä¸æ€ä¹ˆä¼šï¼Œï¼Œï¼Œ</p>
<blockquote>
<p>å°†æ‰€æœ‰åŒºé—´æŒ‰ç…§å·¦ç«¯ç‚¹æ’åºï¼Œä»å·¦å¾€å³éå†ã€‚ç”¨ä¸€ä¸ªå˜é‡ç»´æŠ¤æˆ‘ä»¬å½“å‰æœ€è¿œå¯ä»¥å¤Ÿåˆ°çš„å³ç«¯ç‚¹ï¼Œç„¶åæšä¸¾å·¦ç«¯ç‚¹ä¸è¶…è¿‡å³ç«¯ç‚¹+1çš„æ‰€æœ‰åŒºé—´ï¼Œé€‰æ‹©å³ç«¯ç‚¹æœ€é å³çš„ä¸€ä¸ªå³å¯ã€‚</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> l, r;<br>    <span class="hljs-keyword">const</span> <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span> &lt;(<span class="hljs-keyword">const</span> node &amp;rr)<span class="hljs-keyword">const</span><br>    &#123;<br>        <span class="hljs-keyword">if</span>(l == rr.l)<span class="hljs-keyword">return</span> r &lt; rr.r;<br>        <span class="hljs-keyword">return</span> l &lt; rr.l;<br>    &#125;<br>&#125;node[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    <span class="hljs-keyword">int</span> n, m;<br>    <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; node[i].l &gt;&gt; node[i].r;<br>    sort(node + <span class="hljs-number">1</span>, node + <span class="hljs-number">1</span> + m);<br>    <span class="hljs-keyword">int</span> r = <span class="hljs-number">0</span>, ans = <span class="hljs-number">0</span>, mx = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(node[i].l &lt;= mx + <span class="hljs-number">1</span>)r = max(r, node[i].r);<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            mx = r;<br>            r = <span class="hljs-number">0</span>;<br>            ++ans;<br>            <span class="hljs-keyword">if</span>(node[i].l &lt;= mx + <span class="hljs-number">1</span>)<br>            &#123;<br>                r = max(r, node[i].r);<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>                <span class="hljs-keyword">break</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(mx != n)<br>    &#123;<br>        ++ans;<br>        mx = r;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(mx != n)<br>        ans = <span class="hljs-number">-1</span>;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="Bååæ•™æœˆæœˆåšæ•°å­¦"><a href="#Bååæ•™æœˆæœˆåšæ•°å­¦" class="headerlink" title="Bååæ•™æœˆæœˆåšæ•°å­¦"></a>Bååæ•™æœˆæœˆåšæ•°å­¦</h1><p>æ±‚$A^B(mod)$ï¼Œï¼Œç¬¬ä¸€ååº”æ˜¯å¿«é€Ÿå¹‚ï¼Œï¼Œç„¶åä¸€çœ‹æ ·ä¾‹ï¼Œï¼Œå¥½å¤§çš„æ•°ï¼Œï¼Œç›´æ¥ä¸Šjavaï¼Œï¼Œï¼Œ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.*;<br><span class="hljs-keyword">import</span> java.util.*;<br><span class="hljs-keyword">import</span> java.math.*;<br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> 31415926535x</span><br><span class="hljs-comment"> * acm_java</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span></span>&#123;<br>	<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;<br>		Scanner input = <span class="hljs-keyword">new</span> Scanner(System.in);<br>		<span class="hljs-keyword">int</span> t = input.nextInt();<br>		<span class="hljs-keyword">while</span>(t &gt; <span class="hljs-number">0</span>) &#123;<br>			BigInteger a = input.nextBigInteger();<br>			BigInteger b = input.nextBigInteger();<br>			BigInteger c = input.nextBigInteger();<br>			BigInteger ans = a.modPow(b, c);<br>			System.out.println(ans);<br>			--t;<br>		&#125;<br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="Cååç»™æœˆæœˆå‡ºé¢˜"><a href="#Cååç»™æœˆæœˆå‡ºé¢˜" class="headerlink" title="Cååç»™æœˆæœˆå‡ºé¢˜"></a>Cååç»™æœˆæœˆå‡ºé¢˜</h1><p>æ–°çŸ¥è¯†ç‚¹getï¼Œï¼Œï¼Œç§¯æ€§å‡½æ•°+çº¿æ€§ç­›ï¼Œï¼Œ</p>
<p>å¯¹äºå‡½æ•° $f(x)=x^n$ä»–æ˜¯ä¸€ä¸ªå®Œå…¨ç§¯æ€§å‡½æ•°ï¼Œï¼Œä»€ä¹ˆæ˜¯ç§¯æ€§å‡½æ•°å‘¢ï¼Œï¼Œå°±æ˜¯æ»¡è¶³ $f(xy)=f(x)*f(y)$çš„å‡½æ•°å…¶ä¸­xyæ»¡è¶³ $(x, y)=1(gcd(x,y)=1)$ï¼Œï¼Œï¼Œå®Œå…¨ç§¯æ€§å‡½æ•°å°±æ˜¯å¯¹äºä»»æ„çš„xyéƒ½æ»¡è¶³ä¸Šå¼çš„å‡½æ•°ï¼Œï¼Œï¼Œ</p>
<p>å¯¹äºç´ æ•°çš„næ¬¡å¹‚ç›´æ¥ç”¨å¿«é€Ÿå¹‚æ±‚å°±è¡Œäº†ï¼Œï¼Œå¯¹äºå…¶ä»–çš„åˆæ•° num å¯ä»¥è¡¨ç¤ºæˆ  $num = i <em> prime[j]$ ï¼Œï¼Œï¼Œè¿™æ ·å®ƒçš„næ¬¡å¹‚å°±å¯ä»¥ç”¨ç§¯æ€§å‡½æ•°æ¢æˆåé¢è¿™ä¸¤ä¸ªæ•°çš„næ¬¡å¹‚çš„ç§¯æ¥æ±‚å¾—ï¼Œï¼Œä¹Ÿå°±æ˜¯ $a[i </em> prime[j]]=a[i] * a[prime[j]] \% mod$ ï¼Œï¼Œ</p>
<p>å¯¹äºä¸€ä¸ªåˆæ•°åªè¦ç”¨å®ƒçš„æœ€å°çš„è´¨å› æ•°å’Œä¸€ä¸ªæ•°çš„ç§¯æ±‚å‡ºæ¥å°±è¡Œäº†ï¼Œï¼Œä¸ç„¶ä¸€ç›´ç®—ä¸‹å»æµªè´¹æ—¶é—´ä¼šT</p>
<p>æ±‚å‡ºæ‰€æœ‰1~nçš„æ•°næ¬¡å¹‚åå¼‚æˆ–å’Œå°±è¡Œäº†</p>
<p><a href="https://blog.csdn.net/consciousman/article/details/77888386">å…·ä½“çš„ç§¯æ€§å‡½æ•°çš„å†…å®¹çœ‹è¿™é‡Œ</a></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1.3e7</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">int</span> <span class="hljs-title">read</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">char</span> c = getchar(); <span class="hljs-keyword">int</span> x = <span class="hljs-number">0</span>, f = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(c &lt; <span class="hljs-string">&#x27;0&#x27;</span> || c &gt; <span class="hljs-string">&#x27;9&#x27;</span>) &#123;<span class="hljs-keyword">if</span>(c == <span class="hljs-string">&#x27;-&#x27;</span>) f = <span class="hljs-number">-1</span>; c = getchar();&#125;<br>    <span class="hljs-keyword">while</span>(c &gt;= <span class="hljs-string">&#x27;0&#x27;</span> &amp;&amp; c &lt;= <span class="hljs-string">&#x27;9&#x27;</span>) x = x * <span class="hljs-number">10</span> + c - <span class="hljs-string">&#x27;0&#x27;</span>, c = getchar();<br>    <span class="hljs-keyword">return</span> x * f;<br>&#125;<br>ll a[maxn], prime[maxn], tot;<br><span class="hljs-keyword">bool</span> isprime[maxn];<br><span class="hljs-function">ll <span class="hljs-title">pow_</span><span class="hljs-params">(ll a, ll b)</span></span><br><span class="hljs-function"></span>&#123;<br>    ll ret = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(b)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(b &amp; <span class="hljs-number">1</span>)ret = (ret * a) % mod;<br>        a = (a * a) % mod;<br>        b &gt;&gt;= <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> ret;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)isprime[i] = <span class="hljs-literal">true</span>;<br>    a[<span class="hljs-number">1</span>] = <span class="hljs-number">1</span>;<br>    tot = <span class="hljs-number">-1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= n; ++i)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(isprime[i])                  <span class="hljs-comment">//å¯¹äºè´¨æ•°æ¥è¯´</span><br>        &#123;<br>            prime[++tot] = i;           <span class="hljs-comment">//åŠ ä¸€ä¸ªè´¨æ•°</span><br>            a[i] = pow_(i, n);          <span class="hljs-comment">//ç´ æ•°ç›´æ¥å¿«é€Ÿå¹‚æ±‚å°±è¡Œäº†</span><br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= tot &amp;&amp; i * prime[j] &lt;= n; ++j)<br>        &#123;<br>            isprime[i * prime[j]] = <span class="hljs-literal">false</span>;                  <span class="hljs-comment">//æ ‡è®°ä¸ºåˆæ•°</span><br>            a[i * prime[j]] = (a[i] * a[prime[j]]) % mod;   <span class="hljs-comment">//ç§¯æ€§å‡½æ•°çš„æ€§è´¨</span><br>            <span class="hljs-keyword">if</span>(!(i % prime[j]))<span class="hljs-keyword">break</span>;           <span class="hljs-comment">//å¯¹äºæ¯ä¸ªåˆæ•°ç”¨å®ƒæœ€å°çš„è´¨å› æ•°æ±‚å‡ºæ¥å°±è¡Œäº†ï¼Œï¼Œå¦åˆ™ä¼šé‡å¤è®¡ç®—ä¼šT</span><br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    ll n; <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lld&quot;</span>, &amp;n);<br>    init(n);<br>    ll ans = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        ans ^= a[i];<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%lld&quot;</span>, ans);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="Eååç»™æœˆæœˆå‡†å¤‡ç¤¼ç‰©"><a href="#Eååç»™æœˆæœˆå‡†å¤‡ç¤¼ç‰©" class="headerlink" title="Eååç»™æœˆæœˆå‡†å¤‡ç¤¼ç‰©"></a>Eååç»™æœˆæœˆå‡†å¤‡ç¤¼ç‰©</h1><p>å“‡ï¼Œè¿™æ˜¯ç­¾åˆ°é¢˜å•Šï¼Œï¼Œï¼Œæˆ‘å½“æ—¶æ²¡çœ‹å‡ºæ¥ï¼Œï¼Œæ²¡æ€è·¯å°±è·‘å»åšå›¾è®ºçš„é¢˜äº†ï¼Œï¼Œï¼ˆæœ€åå›¾è®ºçš„é¢˜ä¹Ÿæ²¡å‡ºæ¥ï¼Œï¼Œï¼Œèœçš„çœŸå®ï¼Œï¼Œï¼Œ</p>
<p>äºŒåˆ†ç­”æ¡ˆåˆ¤æ–­ä¸€ä¸‹å»æœ€å€¼å°±è¡Œäº†ï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">int</span> a[maxn], n, k;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; k;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; a[i];<br>    <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> l = <span class="hljs-number">1</span>, r = a[max_element(a + <span class="hljs-number">1</span>, a + <span class="hljs-number">1</span> + n) - a];<br>    <span class="hljs-keyword">while</span>(l &lt;= r)<br>    &#123;<br>        <span class="hljs-keyword">int</span> mid = (l + r) &gt;&gt; <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">int</span> sum = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            sum += a[i] / mid;<br>        <span class="hljs-keyword">if</span>(sum &gt;= k)<br>            ans = max(ans, mid);<br>        <span class="hljs-keyword">if</span>(sum &lt; k)<br>            r = mid - <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">else</span><br>            l = mid + <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="Gååå¯¹æœˆæœˆçš„å¿ è¯š"><a href="#Gååå¯¹æœˆæœˆçš„å¿ è¯š" class="headerlink" title="Gååå¯¹æœˆæœˆçš„å¿ è¯š"></a>Gååå¯¹æœˆæœˆçš„å¿ è¯š</h1><p>å½“æ—¶çœ‹è¿™æ ·ä¾‹æ¨äº†ä¸¤ä¸‹ï¼ŒçŒœæµ‹ $(F_{n-1},F{n})=(A,B)$ï¼Œï¼Œè€Œä¸”nè¿˜é‚£ä¹ˆå¤§ï¼Œï¼Œï¼Œè‚¯å®šä¸æ˜¯å§è¿™ä¸¤é¡¹ç®—å‡ºæ¥çš„ï¼Œï¼Œï¼Œæœæ–­äº¤äº†</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">ll <span class="hljs-title">gcd</span><span class="hljs-params">(ll a, ll b)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(b == <span class="hljs-number">0</span>)<span class="hljs-keyword">return</span> a;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> gcd(b, a % b);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    ll a, b;<br>    <span class="hljs-built_in">string</span> s;<br>    <span class="hljs-built_in">cin</span> &gt;&gt; a &gt;&gt; b &gt;&gt; s;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; gcd(a, b) &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="Iååå’Œæœˆæœˆé€›å…¬å›­"><a href="#Iååå’Œæœˆæœˆé€›å…¬å›­" class="headerlink" title="Iååå’Œæœˆæœˆé€›å…¬å›­"></a>Iååå’Œæœˆæœˆé€›å…¬å›­</h1><p>ç”¨tarjanæ±‚æ¡¥çš„ä¸ªæ•°å°±è¡Œäº†ï¼Œï¼Œå½“æ—¶æ²¡çœ‹å‡ºæ¥ï¼Œï¼Œä¸­åˆçœ‹äº†ä¸€ä¼šå‰²ç‚¹æ¡¥çš„å†…å®¹ï¼ˆåœ¨ä¸Šä¸€ç¯‡åšå®¢</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">int</span> <span class="hljs-title">read</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">char</span> c = getchar(); <span class="hljs-keyword">int</span> x = <span class="hljs-number">0</span>, f = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(c &lt; <span class="hljs-string">&#x27;0&#x27;</span> || c &gt; <span class="hljs-string">&#x27;9&#x27;</span>) &#123;<span class="hljs-keyword">if</span>(c == <span class="hljs-string">&#x27;-&#x27;</span>) f = <span class="hljs-number">-1</span>; c = getchar();&#125;<br>    <span class="hljs-keyword">while</span>(c &gt;= <span class="hljs-string">&#x27;0&#x27;</span> &amp;&amp; c &lt;= <span class="hljs-string">&#x27;9&#x27;</span>) x = x * <span class="hljs-number">10</span> + c - <span class="hljs-string">&#x27;0&#x27;</span>, c = getchar();<br>    <span class="hljs-keyword">return</span> x * f;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, next;<br>    <span class="hljs-keyword">bool</span> cut;   <span class="hljs-comment">//</span><br>&#125;edge[maxn];<br><span class="hljs-keyword">int</span> head[maxn], tot;<br><span class="hljs-keyword">int</span> low[maxn], dfn[maxn], sta[maxn];<br><span class="hljs-keyword">int</span> idx, top;<br><span class="hljs-keyword">bool</span> insta[maxn];<br><span class="hljs-keyword">bool</span> cut[maxn];<br><span class="hljs-keyword">int</span> add_block[maxn];<br><span class="hljs-keyword">int</span> bridge;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].cut = <span class="hljs-literal">false</span>;<br>    edge[tot].next = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">tarjan</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> pre)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> v;<br>    low[u] = dfn[u] = ++idx;<br>    sta[top++] = u;<br>    insta[u] = <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">int</span> son = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> pre_cnt = <span class="hljs-number">0</span>;        <span class="hljs-comment">//</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].next)<br>    &#123;<br>        v = edge[i].to;<br>        <span class="hljs-keyword">if</span>(v == pre &amp;&amp; pre_cnt == <span class="hljs-number">0</span>)<br>        &#123;<br>            ++pre_cnt;<br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(!dfn[v])<br>        &#123;<br>            ++son;<br>            tarjan(v, u);<br>            <span class="hljs-keyword">if</span>(low[u] &gt; low[v])low[u] = low[v];<br>            <span class="hljs-keyword">if</span>(low[v] &gt; dfn[u])<br>            &#123;<br>                ++bridge;<br>                edge[i].cut = <span class="hljs-literal">true</span>;<br>                edge[i ^ <span class="hljs-number">1</span>].cut = <span class="hljs-literal">true</span>;<br>            &#125;<br>            <span class="hljs-keyword">if</span>(u != pre &amp;&amp; low[v] &gt;= dfn[u])<br>            &#123;<br>                cut[u] = <span class="hljs-literal">true</span>;<br>                ++add_block[u];<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(low[u] &gt; dfn[v])<br>            low[u] = dfn[v];<br>    &#125;<br>    <span class="hljs-keyword">if</span>(u == pre &amp;&amp; son &gt; <span class="hljs-number">1</span>)cut[u] = <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">if</span>(u == pre)add_block[u] = son - <span class="hljs-number">1</span>;<br>    insta[u] = <span class="hljs-literal">false</span>;<br>    --top;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">solve</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n, <span class="hljs-keyword">int</span> m)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(dfn, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> dfn);<br>    <span class="hljs-built_in">memset</span>(insta, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> insta);<br>    <span class="hljs-built_in">memset</span>(add_block, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> add_block);<br>    <span class="hljs-built_in">memset</span>(cut, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> cut);<br>    idx = top = bridge = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        <span class="hljs-keyword">if</span>(!dfn[i])<br>            tarjan(i, i);<br><span class="hljs-comment">//    int ans = 0;</span><br><span class="hljs-comment">//    for(int u = 1; u &lt;= n; ++u)</span><br><span class="hljs-comment">//        for(int i = head[u]; ~i; i = edge[i].next)</span><br><span class="hljs-comment">//            if(edge[i].cut &amp;&amp; edge[i].to &gt; u)</span><br><span class="hljs-comment">//            ++ans;</span><br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, m - bridge);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">int</span> n, m;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);<br>    <span class="hljs-keyword">int</span> u, v;<br>    init();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>    &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;u, &amp;v);<br>        addedge(u, v);<br>        addedge(v, u);<br>    &#125;<br>    solve(n, m);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="JæœˆæœˆæŸ¥ååçš„æ‰‹æœº"><a href="#JæœˆæœˆæŸ¥ååçš„æ‰‹æœº" class="headerlink" title="JæœˆæœˆæŸ¥ååçš„æ‰‹æœº"></a>JæœˆæœˆæŸ¥ååçš„æ‰‹æœº</h1><p>å½“æ—¶åšè¿™é“é¢˜çš„æ—¶å€™ä»¥ä¸ºæ˜¯è°ƒç”¨næ¬¡çš„LCSï¼Œï¼Œï¼Œç„¶åæ˜¾ç¤ºMLEç„¶åä¸€ç›´Tï¼Œï¼Œï¼Œ</p>
<p>åæ¥çœ‹äº†é¢˜è§£æ‰çŸ¥é“æ˜¯åºåˆ—è‡ªåŠ¨æœºï¼Œï¼Œï¼Œï¼ˆåº”è¯¥åœ¨ä¸Šä¸Šç¯‡åšå®¢ï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">int</span> <span class="hljs-title">read</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">char</span> c = getchar(); <span class="hljs-keyword">int</span> x = <span class="hljs-number">0</span>, f = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(c &lt; <span class="hljs-string">&#x27;0&#x27;</span> || c &gt; <span class="hljs-string">&#x27;9&#x27;</span>) &#123;<span class="hljs-keyword">if</span>(c == <span class="hljs-string">&#x27;-&#x27;</span>) f = <span class="hljs-number">-1</span>; c = getchar();&#125;<br>    <span class="hljs-keyword">while</span>(c &gt;= <span class="hljs-string">&#x27;0&#x27;</span> &amp;&amp; c &lt;= <span class="hljs-string">&#x27;9&#x27;</span>) x = x * <span class="hljs-number">10</span> + c - <span class="hljs-string">&#x27;0&#x27;</span>, c = getchar();<br>    <span class="hljs-keyword">return</span> x * f;<br>&#125;<br><span class="hljs-keyword">int</span> nxt[maxn][<span class="hljs-number">30</span>];<br><span class="hljs-keyword">int</span> now[<span class="hljs-number">30</span>];<br><span class="hljs-keyword">char</span> s[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//åºåˆ—è‡ªåŠ¨æœºé¢„å¤„ç†</span><br>    <span class="hljs-built_in">memset</span>(now, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> now);            <span class="hljs-comment">//mow_iè¡¨ç¤ºç¬¬iä¸ªå­—æ¯åœ¨åŸä¸²ä¸­ä»åå‘å‰æœ€æ™šå‡ºç°çš„ä½ç½®</span><br>    <span class="hljs-keyword">int</span> len = <span class="hljs-built_in">strlen</span>(s);<br>    --len;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = len; ~i; --i)               <span class="hljs-comment">//å¤„ç†æ¯ä¸€ä¸ªå­—ç¬¦</span><br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">26</span>; ++j)        <span class="hljs-comment">//æ‰¾å‡ºç¬¬iä¸ªå­—ç¬¦åé¢çš„26ä¸ªå­—æ¯æœ€æ—©å‡ºç°çš„å­—ç¬¦çš„ä½ç½®</span><br>            nxt[i][j] = now[j];<br>        now[s[i] - <span class="hljs-string">&#x27;a&#x27;</span>] = i;                <span class="hljs-comment">//ç”¨å½“å‰å­—ç¬¦æ›´æ–°å½“å‰å­—ç¬¦åœ¨åŸä¸²ä¸­ä»åå‘å‰æœ€æ™šå‡ºç°çš„ä½ç½®</span><br>    &#125;<br>&#125;<br><span class="hljs-keyword">char</span> ss[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>, s);<br>    <span class="hljs-keyword">int</span> n; <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br>    init();<br>    <span class="hljs-keyword">while</span>(n--)<br>    &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>, ss);<br>        <span class="hljs-keyword">int</span> loc = now[ss[<span class="hljs-number">0</span>] - <span class="hljs-string">&#x27;a&#x27;</span>];             <span class="hljs-comment">//æ²¡æœ‰ä»¥å­ä¸²ç¬¬ä¸€ä¸ªå­—ç¬¦å‡ºç°çš„å­åºåˆ—æ—¶</span><br>        <span class="hljs-keyword">if</span>(!~loc)<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;No\n&quot;</span>);<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">true</span>;<br>            <span class="hljs-keyword">int</span> len = <span class="hljs-built_in">strlen</span>(ss);<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; len; ++i)<br>            &#123;<br>                loc = nxt[loc][ss[i] - <span class="hljs-string">&#x27;a&#x27;</span>];    <span class="hljs-comment">//å¯»æ‰¾æ¯ä¸²ä¸­å­ä¸²ç¬¬iä¸ªå­—ç¬¦ä¸‹ä¸€æ¬¡å‡ºç°çš„ä½ç½®</span><br>                <span class="hljs-keyword">if</span>(!~loc)                       <span class="hljs-comment">//æ²¡æœ‰å°±é€€å‡º</span><br>                &#123;<br>                    flag = <span class="hljs-literal">false</span>;<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">if</span>(flag)<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Yes\n&quot;</span>);<br>            <span class="hljs-keyword">else</span>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;No\n&quot;</span>);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>åˆ·é¢˜</tag>
        <tag>acm</tag>
      </tags>
  </entry>
  <entry>
    <title>æ·±æœå’Œå¹¿æœ2</title>
    <url>/2018/07/23/%E6%B7%B1%E6%90%9C%E5%92%8C%E5%B9%BF%E6%90%9C2/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>æ¥æ¥æ¥ï¼Œï¼Œï¼Œè¡¥ç¥¨äº†ï¼Œï¼Œï¼Œ</p>
<p>å‰å‡ ä¸ªæœˆçœ‹äº†ä¸€äº›bfs , dfs ï¼Œ è‡ªä»¥ä¸ºè‡ªå·±å­¦ä¼šäº†æœç´¢çš„åŸºæœ¬ç®—æ³•ï¼Œï¼Œä½†ä»Šå¤©çš„é›†è®­ç»ƒä¹ æ°´çš„å•ŠçœŸæ˜¯ä¸€æŠŠæŠŠæˆ‘æµ‡é†’äº†ï¼Œï¼Œï¼Œä¸èƒ½å†è¿™æ ·è‡ªä»¥ä¸ºå­¦è¿‡çš„ä¸œè¥¿å°±å…¨ä¼šäº†ï¼Œï¼Œï¼Œ</p>
<span id="more"></span>
<h2 id="dfs"><a href="#dfs" class="headerlink" title="dfs"></a>dfs</h2><p>ä»Šå¤©çš„é›†è®­é¦–å…ˆä¸€ä¸ªæ”¶è·å°±æ˜¯ä¸¤ä¸ªæ¨¡æ¿ï¼Œï¼Œï¼Œé¦–å…ˆæ˜¯dfsçš„ã€‚ã€‚ã€‚</p>
<p>ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> Size =  <span class="hljs-number">10</span>;<br><span class="hljs-keyword">int</span> Map[Size][Size];<br><span class="hljs-keyword">bool</span> book[Size][Size];<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f3f3f</span>;<br><span class="hljs-comment">//int d[4][2] = &#123;1 , 0 ,    0 , 1 ,    -1 , 0 ,    0 , -1&#125;;</span><br><span class="hljs-keyword">int</span> dx[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">1</span> , <span class="hljs-number">-1</span> , <span class="hljs-number">0</span> , <span class="hljs-number">0</span>&#125;;                                   <span class="hljs-comment">//å››ä¸ªæ–¹å‘çš„æ§åˆ¶æ•°ç»„ï¼Œï¼Œï¼Œæ„Ÿè§‰è¿˜æ˜¯åˆ†å¼€å†™å¥½ä¸€äº›ï¼Œï¼Œï¼Œç›´è§‚ï¼Œï¼Œè™½ç„¶å†™çš„éº»çƒ¦</span><br><span class="hljs-keyword">int</span> dy[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">0</span> , <span class="hljs-number">0</span> , <span class="hljs-number">1</span> , <span class="hljs-number">-1</span>&#125;;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">step</span>                                                     //æ¯ä¸€æ­¥çš„ç»“æ„ä½“ï¼Œï¼Œ<span class="hljs-title">x</span> ï¼Œ<span class="hljs-title">y</span>è¡¨ç¤ºå½“å‰æ­¥çš„åæ ‡ï¼Œï¼Œ<span class="hljs-title">step_count</span>è¡¨ç¤ºåœ¨è¿™ä¸€æ­¥çš„æ€»æ­¥æ•°</span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> x , y;<br>    <span class="hljs-keyword">int</span> step_count;<br>&#125;Start , End;                                                   <span class="hljs-comment">//èµ·å§‹å’Œç»“æŸçš„ä¸¤ä¸ªç‚¹</span><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">can_move</span><span class="hljs-params">(step s)</span>                                           <span class="hljs-comment">//åˆ¤æ–­ç§»åŠ¨æ˜¯å¦åˆæ³•</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> s.x &gt;= <span class="hljs-number">0</span> &amp;&amp; s.y &gt;= <span class="hljs-number">0</span> &amp;&amp; s.x &lt;= Size &amp;&amp; s.y &lt;= Size &amp;&amp; !book[s.x][s.y] ? <span class="hljs-literal">true</span> : <span class="hljs-literal">false</span>;<br>&#125;<br><span class="hljs-keyword">int</span> ans = inf;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span> <span class="hljs-params">(step now)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (now.x == End.x &amp;&amp; now.y == End.y)                       <span class="hljs-comment">//è¾¹ç•Œå€¼ï¼Œï¼Œè¡¨ç¤ºæ‰¾åˆ°ï¼Œï¼Œå›æº¯ä¸Šä¸€å±‚</span><br>    &#123;<br>        ans = min(ans , now.step_count);<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br><br>    step next;                                                  <span class="hljs-comment">//æœç´¢æ¯ä¸€ç§å¯èƒ½</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; i++)<br>    &#123;<br>        book[now.x][now.y] = <span class="hljs-literal">true</span>;                              <span class="hljs-comment">//æ ‡è®°ä¸ºå·²ç»èµ°è¿‡</span><br>        next.x = now.x + d[i][<span class="hljs-number">0</span>];<br>        next.y = now.y + d[i][<span class="hljs-number">1</span>];<br>        next.step_count = now.step_count + <span class="hljs-number">1</span>;                   <span class="hljs-comment">//å‘ä¸‹æ¯ä¸€æ­¥æœç´¢æ­¥æ•°å¢ä¸€</span><br>        <span class="hljs-keyword">if</span> (can_move(next))<br>            dfs(next);<br>        next.step_count--;<br>        book[now.x][now.y] = <span class="hljs-literal">false</span>;                             <span class="hljs-comment">//å–æ¶ˆæ ‡è®°</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="bfs"><a href="#bfs" class="headerlink" title="bfs"></a>bfs</h2><p>å¹¿æœçš„æ¨¡æ¿ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">bfs</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    book[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = <span class="hljs-literal">false</span>;                                     <br>    <span class="hljs-built_in">queue</span>&lt;step&gt; q;                                              <span class="hljs-comment">//æ¯ä¸€å±‚çš„é˜Ÿåˆ—</span><br>    q.push(Start);                                              <span class="hljs-comment">//èµ·ç‚¹å…¥é˜Ÿ</span><br>    book[Start.x][Start.y] = <span class="hljs-literal">true</span>;                              <span class="hljs-comment">//æ ‡è®°ä¸ºå·²èµ°</span><br>    <span class="hljs-keyword">while</span> (!q.empty())                                          <span class="hljs-comment">//å½“é˜Ÿåˆ—ä¸ä¸ºç©ºæ—¶å¾ªç¯æœç´¢</span><br>    &#123;<br>         step now = q.front();                                  <span class="hljs-comment">//å¯¹æ¯ä¸€å±‚çš„æ¯ä¸€ç§æƒ…å†µåˆ†æ</span><br>         q.pop();                                           <br>         <span class="hljs-keyword">if</span> (now.x == End.x &amp;&amp; now.y == End.y)                  <span class="hljs-comment">//æ»¡è¶³æ¡ä»¶è·³å‡ºæœç´¢è¿”å›æ­¥æ•°(å·²ç»æœ€å°))</span><br>            <span class="hljs-keyword">return</span> now.step_count;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; i++)                             <span class="hljs-comment">//æœç´¢æ¯ä¸€ç§å¯èƒ½æ€§</span><br>        &#123;<br>            step t;<br>            t.x = now.x + d[i][<span class="hljs-number">0</span>];<br>            t.y = now.y + d[i][<span class="hljs-number">1</span>];<br>            <span class="hljs-keyword">if</span> (can_move(t))<br>            &#123;<br>                book[t.x][t.y] = <span class="hljs-literal">true</span>;                          <span class="hljs-comment">//æ ‡è®°ä¸ºå·²èµ°</span><br>                node next;<br>                next.x = t.x;<br>                next.y = t.y;<br>                next.step_count = now.step_count + <span class="hljs-number">1</span>;<br>                q.push(next);                                   <span class="hljs-comment">//å¯èƒ½çš„æƒ…å†µå…¥é˜Ÿ</span><br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="é›†è®­çš„é¢˜"><a href="#é›†è®­çš„é¢˜" class="headerlink" title="é›†è®­çš„é¢˜:"></a>é›†è®­çš„é¢˜:</h2><h3 id="Problem-A-AveryBoyä¸è¿è¿çœ‹"><a href="#Problem-A-AveryBoyä¸è¿è¿çœ‹" class="headerlink" title="Problem A: AveryBoyä¸è¿è¿çœ‹"></a>Problem A: AveryBoyä¸è¿è¿çœ‹</h3><blockquote>
<p>Description</p>
<p>AveryBoyæœ€è¿‘è¿·ä¸Šäº†è¿è¿çœ‹æ¸¸æˆï¼Œäºæ˜¯ä»–è‡ªå·±å†™äº†ä¸€ä¸ªç¨‹åºæ¥ç©ï¼Œä¸è¿‡ç”±äºä»–å­¦è‰ºä¸ç²¾å¯¼è‡´ä»–å†™çš„è¿è¿çœ‹æ¸¸æˆè¿çº¿ä¸èƒ½ä»å¤–é¢ç»•è¿‡ã€‚</p>
<p>æ¸¸æˆè§„åˆ™ï¼šåœ¨ä¸€ä¸ªæ£‹ç›˜ä¸­ï¼Œæ”¾äº†å¾ˆå¤šçš„æ£‹å­ã€‚å¦‚æœæŸä¸¤ä¸ªç›¸åŒçš„æ£‹å­ï¼Œå¯ä»¥é€šè¿‡ä¸€æ¡çº¿è¿èµ·æ¥ï¼ˆè¿™æ¡çº¿ä¸èƒ½ç»è¿‡å…¶å®ƒæ£‹å­ï¼‰ï¼Œè€Œä¸”çº¿çš„è½¬æŠ˜æ¬¡æ•°ä¸è¶…è¿‡ä¸¤æ¬¡ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªæ£‹å­å°±å¯ä»¥åœ¨æ£‹ç›˜ä¸Šæ¶ˆå»ã€‚ç©å®¶é¼ æ ‡å…ˆåç‚¹å‡»ä¸¤å—æ£‹å­ï¼Œè¯•å›¾å°†ä»–ä»¬æ¶ˆå»ï¼Œç„¶åæ¸¸æˆçš„åå°åˆ¤æ–­è¿™ä¸¤ä¸ªæ–¹æ ¼èƒ½ä¸èƒ½æ¶ˆå»ã€‚ç°åœ¨ä½ çš„ä»»åŠ¡å°±æ˜¯å†™è¿™ä¸ªåå°ç¨‹åºã€‚</p>
<p>Input</p>
<p>è¾“å…¥æ•°æ®æœ‰å¤šç»„ã€‚æ¯ç»„æ•°æ®çš„ç¬¬ä¸€è¡Œæœ‰ä¸¤ä¸ªæ­£æ•´æ•°n,m(0&lt;n&lt;=1000,0&lt;m&lt;1000)ï¼Œåˆ†åˆ«è¡¨ç¤ºæ£‹ç›˜çš„è¡Œæ•°ä¸åˆ—æ•°ã€‚</p>
<p>åœ¨æ¥ä¸‹æ¥çš„nè¡Œä¸­ï¼Œæ¯è¡Œæœ‰mä¸ªéè´Ÿæ•´æ•°æè¿°æ£‹ç›˜çš„æ–¹æ ¼åˆ†å¸ƒã€‚0è¡¨ç¤ºè¿™ä¸ªä½ç½®æ²¡æœ‰æ£‹å­ï¼Œæ­£æ•´æ•°è¡¨ç¤ºæ£‹å­çš„ç±»å‹ã€‚æ¥ä¸‹æ¥çš„ä¸€è¡Œæ˜¯ä¸€ä¸ªæ­£æ•´æ•°q(0&lt;q&lt;50)ï¼Œè¡¨ç¤ºä¸‹é¢æœ‰qæ¬¡è¯¢é—®ã€‚åœ¨æ¥ä¸‹æ¥çš„qè¡Œé‡Œï¼Œæ¯è¡Œæœ‰å››ä¸ªæ­£æ•´æ•°x1,y1,x2,y2,è¡¨ç¤ºè¯¢é—®ç¬¬x1è¡Œy1åˆ—çš„æ£‹å­ä¸ç¬¬x2è¡Œy2åˆ—çš„æ£‹å­èƒ½ä¸èƒ½æ¶ˆå»ã€‚n=0,m=0æ—¶ï¼Œè¾“å…¥ç»“æŸã€‚</p>
<p>Output</p>
<p>æ¯ä¸€ç»„è¾“å…¥æ•°æ®å¯¹åº”ä¸€è¡Œè¾“å‡ºã€‚å¦‚æœèƒ½æ¶ˆå»åˆ™è¾“å‡ºâ€YESâ€,ä¸èƒ½åˆ™è¾“å‡ºâ€NOâ€ã€‚</p>
</blockquote>
<p>Sample Input<br>3 4<br>1 2 3 4<br>0 0 0 0<br>4 3 2 1<br>4<br>1 1 3 4<br>1 1 2 4<br>1 1 3 3<br>2 1 2 4<br>3 4<br>0 1 4 3<br>0 2 4 1<br>0 0 0 0<br>2<br>1 1 2 4<br>1 3 2 3<br>0 0<br>Sample Output<br>YES<br>NO<br>NO<br>NO<br>NO<br>YES<br>HINT<br>æ³¨æ„ï¼šè¯¢é—®ä¹‹é—´æ— å…ˆåå…³ç³»ï¼Œéƒ½æ˜¯é’ˆå¯¹å½“å‰çŠ¶æ€çš„ï¼</p>
<p>æˆ‘çš„åšæ³•ï¼Œï¼Œï¼Œå¼€å§‹è¢«è¾¹ç•Œåˆ¤æ–­å¡æ­»QAQå¿ƒç´¯ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> Size1 = <span class="hljs-number">1005</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> Size2 = <span class="hljs-number">1005</span>;<br><span class="hljs-keyword">int</span> Map[Size1][Size2];<br><span class="hljs-keyword">bool</span> book[Size1][Size2];<br><span class="hljs-keyword">int</span> dx[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">1</span> , <span class="hljs-number">0</span> , <span class="hljs-number">0</span> , <span class="hljs-number">-1</span>&#125;;<br><span class="hljs-keyword">int</span> dy[<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">0</span> , <span class="hljs-number">1</span> , <span class="hljs-number">-1</span> , <span class="hljs-number">0</span>&#125;;<br><span class="hljs-keyword">int</span> n , m;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">step</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> x , y;<br>    <span class="hljs-keyword">int</span> lx , ly;<br>    <span class="hljs-comment">//int step_count;</span><br>&#125;Start , End;<br><span class="hljs-keyword">int</span> step_count;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">can_move</span><span class="hljs-params">(step s)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> s.x &gt;= <span class="hljs-number">1</span> &amp;&amp; s.y &gt;= <span class="hljs-number">1</span> &amp;&amp; s.x &lt;= n &amp;&amp; s.y &lt;= m &amp;&amp; !book[s.x][s.y] ? <span class="hljs-literal">true</span> : <span class="hljs-literal">false</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">is_turn</span><span class="hljs-params">(step now , step next)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (now.lx == next.x + <span class="hljs-number">1</span> &amp;&amp; now.ly == next.y - <span class="hljs-number">1</span>)<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (now.lx == next.x - <span class="hljs-number">1</span> &amp;&amp; now.ly == next.y + <span class="hljs-number">1</span>)<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (now.lx == next.x + <span class="hljs-number">1</span> &amp;&amp; now.ly == next.y + <span class="hljs-number">1</span>)<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (now.lx == next.x - <span class="hljs-number">1</span> &amp;&amp; now.ly == next.y - <span class="hljs-number">1</span>)<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">false</span>;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">dfs</span> <span class="hljs-params">(step now)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (step_count &gt; <span class="hljs-number">2</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">if</span> (step_count &lt;= <span class="hljs-number">2</span>)<br>    &#123;<br>        <span class="hljs-keyword">if</span> (now.x == End.x &amp;&amp; now.y == End.y)<br>        &#123;<br>            flag = <span class="hljs-literal">true</span>;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">if</span> (Map[now.x][now.y] != <span class="hljs-number">0</span>)<br>        <span class="hljs-keyword">if</span> (now.x != End.x || now.y != End.y)<br>        &#123;<br>            <span class="hljs-keyword">if</span> (now.x != Start.x || now.y != Start.y)<br>            &#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>            &#125;<br>        &#125;<br>    step next;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; i++)<br>    &#123;<br>        book[now.x][now.y] = <span class="hljs-literal">true</span>;<br>        next.x = now.x + dx[i];<br>        next.y = now.y + dy[i];<br>        next.lx = now.x;<br>        next.ly = now.y;<br><br>        <span class="hljs-keyword">if</span> (is_turn(now , next))<br>        &#123;<br>            step_count++;<br>        &#125;<br><br>        <span class="hljs-keyword">if</span> (can_move(next))<br>            dfs(next);<br>        <span class="hljs-keyword">if</span> (flag)   <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">if</span> (is_turn(now , next))<br>            step_count--;<br><br>        book[now.x][now.y] = <span class="hljs-literal">false</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> flag;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;A.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;test.out&quot; , &quot;w&quot; , stdout);</span><br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span> , &amp;n , &amp;m) &amp;&amp; n &amp;&amp; m)<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; j++)<br>            &#123;<br>                <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;Map[i][j]);<br>            &#125;<br><br>        <span class="hljs-keyword">int</span> t;<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;t);<br>        <span class="hljs-built_in">memset</span>(book , <span class="hljs-literal">false</span> , <span class="hljs-keyword">sizeof</span>(book));<br>        <span class="hljs-keyword">while</span> (t--)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d%d&quot;</span> , &amp;Start.x , &amp;Start.y , &amp;End.x , &amp;End.y);<br>            Start.lx = Start.x;Start.ly = Start.y;step_count = <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">if</span> (Map[Start.x][Start.y] != Map[End.x][End.y] || Map[Start.x][Start.y] == <span class="hljs-number">0</span> || Map[End.x][End.y] == <span class="hljs-number">0</span>)<br>            &#123;<br>                <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;NO&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>                <span class="hljs-keyword">continue</span>;<br>            &#125;<br><br>            <span class="hljs-keyword">if</span> (dfs(Start))<br>                <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;YES&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>            <span class="hljs-keyword">else</span><br>                <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;NO&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>            flag = <span class="hljs-literal">false</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">//4 4</span><br><span class="hljs-comment">//1 2 3 4</span><br><span class="hljs-comment">//0 0 0 0</span><br><span class="hljs-comment">//1 0 1 0</span><br><span class="hljs-comment">//1 0 1 0</span><br><span class="hljs-comment">//5</span><br>ä¸è¿‡è¿™ä¸ªæ²¡æœ‰å¥½å¥½å‰ªæï¼Œï¼Œï¼Œé›†è®­å­¦é•¿é€ çš„æ•°æ®è¿‡äº†ï¼Œï¼Œï¼Œæ­ç”µä¸Šçš„æ²¡è¿‡ï¼Œï¼Œï¼ŒQAQï¼Œï¼Œï¼Œ<br></code></pre></td></tr></table></figure>
<p><del>é¸½äº†ï¼Œï¼Œï¼Œ2018-7-23-22-52</del><br>å­¦é•¿çš„ä»£ç :<br><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// hdu 1175</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br> <br><span class="hljs-keyword">int</span> maze[<span class="hljs-number">1010</span>][<span class="hljs-number">1010</span>];<br><span class="hljs-keyword">bool</span> vis[<span class="hljs-number">1010</span>][<span class="hljs-number">1010</span>];<br><span class="hljs-keyword">int</span> sx,sy,ex,ey;<br><span class="hljs-keyword">bool</span> flag;<br><span class="hljs-keyword">int</span> n,m,q;<br><span class="hljs-keyword">int</span> dicx[]=&#123;<span class="hljs-number">1</span>,<span class="hljs-number">-1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>&#125;;<br><span class="hljs-keyword">int</span> dicy[]=&#123;<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">-1</span>&#125;;<br> <br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x,<span class="hljs-keyword">int</span> y,<span class="hljs-keyword">int</span> dic,<span class="hljs-keyword">int</span> turns)</span></span>&#123;<br>    <span class="hljs-keyword">if</span>(turns&gt;<span class="hljs-number">2</span>||flag) <span class="hljs-keyword">return</span>;<span class="hljs-comment">//è½¬å¼¯æ¬¡æ•°å¤§äº2æˆ–è€…å·²ç»æ‰¾åˆ°å°±ç»ˆæ­¢ </span><br>    <span class="hljs-keyword">if</span>(turns==<span class="hljs-number">2</span>&amp;&amp;(x-ex)!=<span class="hljs-number">0</span>&amp;&amp;(y-ey)!=<span class="hljs-number">0</span>) <span class="hljs-keyword">return</span>;<span class="hljs-comment">//å‰ªæï¼šåˆ¤æ–­ä¸¤æ¬¡è½¬å¼¯åæ˜¯å¦ä¸ç›®æ ‡åœ¨åŒä¸€ç›´çº¿ä¸Š </span><br>    <span class="hljs-keyword">if</span>(x==ex&amp;&amp;y==ey&amp;&amp;turns&lt;=<span class="hljs-number">2</span>)&#123;<span class="hljs-comment">//æœç´¢ç»ˆç‚¹ </span><br>        flag=<span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">4</span>;++i)&#123;<span class="hljs-comment">//æœç´¢å››ä¸ªæ–¹å‘ </span><br>        <span class="hljs-keyword">int</span> xx=x+dicx[i];<br>        <span class="hljs-keyword">int</span> yy=y+dicy[i];<br>        <span class="hljs-keyword">if</span>(xx&lt;<span class="hljs-number">1</span>||xx&gt;n||yy&lt;<span class="hljs-number">1</span>||yy&gt;m||vis[xx][yy]) <span class="hljs-keyword">continue</span>;<span class="hljs-comment">//è¾¹ç•Œæƒ…å†µ </span><br>        <span class="hljs-keyword">if</span>(maze[xx][yy]==<span class="hljs-number">0</span>||(xx==ex&amp;&amp;yy==ey))&#123;<br>            vis[xx][yy]=<span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">if</span>(dic==<span class="hljs-number">-1</span>||dic==i)<span class="hljs-comment">//å¦‚æœåœ¨èµ·ç‚¹æˆ–è€…åŒå‘çš„æƒ…å†µturnsä¸å˜åŠä¸è½¬å‘,å¹¶å°†å½“å‰æ–¹å‘è®°ä¸ºi </span><br>                dfs(xx,yy,i,turns);<br>            <span class="hljs-keyword">else</span><br>                dfs(xx,yy,i,turns+<span class="hljs-number">1</span>);<span class="hljs-comment">//å¦åˆ™turns+1 </span><br>            vis[xx][yy]=<span class="hljs-number">0</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span>;<br>&#125;<br> <br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-keyword">while</span>(~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>,&amp;n,&amp;m))&#123;<br>        <span class="hljs-keyword">if</span>(n==<span class="hljs-number">0</span>&amp;&amp;m==<span class="hljs-number">0</span>)<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-built_in">memset</span>(maze,<span class="hljs-number">0</span>,<span class="hljs-keyword">sizeof</span>(maze));<br>        <br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">1</span>;j&lt;=m;++j)<br>                <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;maze[i][j]);<br>        <br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;q);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;q;++i)&#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d%d&quot;</span>,&amp;sx,&amp;sy,&amp;ex,&amp;ey);<br>            <span class="hljs-built_in">memset</span>(vis,<span class="hljs-number">0</span>,<span class="hljs-keyword">sizeof</span>(vis));<br>            <br>            flag=<span class="hljs-number">0</span>;<span class="hljs-comment">//åˆå§‹åŒ– </span><br>            <span class="hljs-keyword">if</span>(maze[sx][sy]==maze[ex][ey]&amp;&amp;maze[sx][sy]) <br>                dfs(sx,sy,<span class="hljs-number">-1</span>,<span class="hljs-number">0</span>);<span class="hljs-comment">//å°†åˆå§‹æ–¹å‘è®¾ä¸º-1 </span><br>                <br>            <span class="hljs-keyword">if</span>(flag) <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;YES\n&quot;</span>);<br>            <span class="hljs-keyword">else</span> <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;NO\n&quot;</span>);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure></p>
<h3 id="Problem-C-AveryBoyä¸è¿·å®«2"><a href="#Problem-C-AveryBoyä¸è¿·å®«2" class="headerlink" title="Problem C: AveryBoyä¸è¿·å®«2"></a>Problem C: AveryBoyä¸è¿·å®«2</h3><p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1253">æ­ç”µé“¾æ¥</a></p>
<blockquote>
<p>Description</p>
<p>è¿™æ¬¡AveryBoyè¢«å›°åœ¨ä¸€ä¸ªä¸‰ç»´è¿·å®«ä¸­ï¼Œä»–å¿…é¡»æƒ³åŠæ³•åœ¨Tåˆ†é’Ÿå†…ç¦»å¼€è¿·å®«ï¼ˆåŒ…æ‹¬Tï¼‰ã€‚è¿·å®«æ˜¯ä¸€ä¸ªA<em>B</em>Cçš„ç«‹æ–¹ä½“ï¼Œèµ·ç‚¹åœ¨ï¼ˆ0ï¼Œ0ï¼Œ0ï¼‰ä½ç½®ï¼Œç»ˆç‚¹åœ¨ï¼ˆA-1ï¼ŒB-1ï¼ŒC-1ï¼‰ä½ç½®ã€‚å¦‚æœä»–èƒ½ç¦»å¼€è¿·å®«ï¼Œè¾“å‡ºç¦»å¼€è¿·å®«æ‰€éœ€æœ€çŸ­æ—¶é—´ï¼Œå¦åˆ™è¾“å‡º-1ã€‚</p>
<p>Input</p>
<p>è¾“å…¥æ•°æ®çš„ç¬¬ä¸€è¡Œæ˜¯ä¸€ä¸ªæ­£æ•´æ•°K,è¡¨æ˜æµ‹è¯•æ•°æ®çš„æ•°é‡.æ¯ç»„æµ‹è¯•æ•°æ®çš„ç¬¬ä¸€è¡Œæ˜¯å››ä¸ªæ­£æ•´æ•°A,B,Cå’ŒT(1&lt;=A,B,C&lt;=50,1&lt;=T&lt;=1000),å®ƒä»¬åˆ†åˆ«ä»£è¡¨è¿·å®«çš„å¤§å°å’Œç¦»å¼€çš„æ—¶é—´.ç„¶åæ˜¯Aå—è¾“å…¥æ•°æ®(å…ˆæ˜¯ç¬¬0å—,ç„¶åæ˜¯ç¬¬1å—,ç¬¬2å—â€¦â€¦),æ¯å—è¾“å…¥æ•°æ®æœ‰Bè¡Œ,æ¯è¡Œæœ‰Cä¸ªæ­£æ•´æ•°,ä»£è¡¨è¿·å®«çš„å¸ƒå±€,å…¶ä¸­0ä»£è¡¨è·¯,1ä»£è¡¨å¢™.</p>
<p>Output</p>
<p>å¯¹äºæ¯ç»„æµ‹è¯•æ•°æ®,å¦‚æœAveryBoyèƒ½ç¦»å¼€è¿·å®«,é‚£ä¹ˆè¯·è¾“å‡ºä»–æœ€å°‘éœ€è¦å¤šå°‘åˆ†é’Ÿ,å¦åˆ™è¾“å‡º-1.</p>
<p>Sample Input</p>
</blockquote>
<p>1<br>3 3 4 20<br>0 1 1 1<br>0 0 1 1<br>0 1 1 1<br>1 1 1 1<br>1 0 0 1<br>0 1 1 1<br>0 0 0 0<br>0 1 1 0<br>0 1 1 0</p>
<blockquote>
<p>Sample Output</p>
</blockquote>
<p>11</p>
<p>æˆ‘çš„ä»£ç :</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">55</span>;<br><span class="hljs-keyword">int</span> a , b , c , T;<br><span class="hljs-keyword">int</span> Map[N][N][N];<br><span class="hljs-keyword">bool</span> book[N][N][N];<br><span class="hljs-keyword">int</span> dx[<span class="hljs-number">6</span>] = &#123;<span class="hljs-number">1</span> , <span class="hljs-number">-1</span> , <span class="hljs-number">0</span> , <span class="hljs-number">0</span> , <span class="hljs-number">0</span> , <span class="hljs-number">0</span> &#125;;<br><span class="hljs-keyword">int</span> dy[<span class="hljs-number">6</span>] = &#123;<span class="hljs-number">0</span> , <span class="hljs-number">0</span> , <span class="hljs-number">1</span> , <span class="hljs-number">-1</span> , <span class="hljs-number">0</span> , <span class="hljs-number">0</span> &#125;;<br><span class="hljs-keyword">int</span> dz[<span class="hljs-number">6</span>] = &#123;<span class="hljs-number">0</span> , <span class="hljs-number">0</span> , <span class="hljs-number">0</span> , <span class="hljs-number">0</span> , <span class="hljs-number">1</span> , <span class="hljs-number">-1</span> &#125;;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">step</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> x , y , z , t;<br>&#125;Start , End;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">can_move</span><span class="hljs-params">(step t)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (t.x &gt;= <span class="hljs-number">1</span> &amp;&amp; t.y &gt;= <span class="hljs-number">1</span> &amp;&amp; t.z &gt;= <span class="hljs-number">1</span> &amp;&amp; t.x &lt;= a &amp;&amp; t.y &lt;= b &amp;&amp; t.z &lt;= c)<br>        <span class="hljs-keyword">if</span> (!book[t.x][t.y][t.z] &amp;&amp; !Map[t.x][t.y][t.z])<br>            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">fabs</span>(t.x - a) + <span class="hljs-built_in">fabs</span>(t.y - b) + <span class="hljs-built_in">fabs</span>(t.z - c) + t.t &lt;= T)<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">bfs</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    book[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>][<span class="hljs-number">1</span>] = <span class="hljs-literal">false</span>;<br>    <span class="hljs-built_in">queue</span>&lt;step&gt; q;<br>    q.push(Start);<br>    book[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>][<span class="hljs-number">1</span>] = <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">while</span> (!q.empty())<br>    &#123;<br>        step now = q.front();<br>        q.pop();<br>        <span class="hljs-keyword">if</span> (now.x == End.x &amp;&amp; now.y == End.y &amp;&amp; now.z == End.z &amp;&amp; now.t &lt;= T)<br>            <span class="hljs-keyword">return</span> now.t;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">6</span>; i++)<br>        &#123;<br>            step temp;<br>            temp.x = now.x + dx[i];temp.y = now.y + dy[i];temp.z = now.z + dz[i];temp.t = now.t + <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">if</span> (can_move(temp))<br>            &#123;<br>                book[temp.x][temp.y][temp.z] = <span class="hljs-literal">true</span>;<br>                q.push(temp);<br>            &#125;<br><br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> k;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;k);<br>    <span class="hljs-keyword">while</span> (k--)<br>    &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d%d&quot;</span> , &amp;a , &amp;b , &amp;c , &amp;T);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= a; i++)<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= b; j++)<br>                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> l = <span class="hljs-number">1</span>; l &lt;= c; l++)<br>                    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;Map[i][j][l]);<br>        Start.x = Start.y = Start.z = <span class="hljs-number">1</span>;Start.t = <span class="hljs-number">0</span>;<br>        End.x = a;<br>        End.y = b;<br>        End.z = c;<br>        <span class="hljs-built_in">memset</span>(book , <span class="hljs-literal">false</span> , <span class="hljs-keyword">sizeof</span>(book));<br><br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span> , bfs());<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>å­¦é•¿çš„ä»£ç :</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// hdu 1253</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-keyword">int</span> sz[<span class="hljs-number">55</span>][<span class="hljs-number">55</span>][<span class="hljs-number">55</span>],vis[<span class="hljs-number">55</span>][<span class="hljs-number">55</span>][<span class="hljs-number">55</span>];<br><span class="hljs-keyword">int</span> dir[<span class="hljs-number">6</span>][<span class="hljs-number">3</span>]=&#123;<span class="hljs-number">-1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">-1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">-1</span>&#125;;<br><span class="hljs-keyword">int</span> a,b,c,k;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span>&#123;</span><br>    <span class="hljs-keyword">int</span> x,y,z,m;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">bfs</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    Node p,tmp;<br>    <span class="hljs-built_in">queue</span>&lt;Node&gt;q;<br>    p.x=<span class="hljs-number">1</span>,p.y=<span class="hljs-number">1</span>,p.z=<span class="hljs-number">1</span>,p.m=<span class="hljs-number">0</span>;<br>    vis[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>][<span class="hljs-number">1</span>]=<span class="hljs-number">1</span>;<br>    q.push(p);<br>    <span class="hljs-keyword">while</span>(!q.empty())<br>    &#123;<br>        p=q.front(),q.pop();<br>        <span class="hljs-keyword">if</span>(p.x==a&amp;&amp;p.y==b&amp;&amp;p.z==c&amp;&amp;p.m&lt;=k) <span class="hljs-keyword">return</span> p.m;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">6</span>;i++)<br>        &#123;<br><br>            tmp.x=p.x+dir[i][<span class="hljs-number">0</span>],tmp.y=p.y+dir[i][<span class="hljs-number">1</span>],tmp.z=p.z+dir[i][<span class="hljs-number">2</span>],tmp.m=p.m+<span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">if</span>(tmp.x&lt;<span class="hljs-number">1</span>||tmp.x&gt;a||tmp.y&lt;<span class="hljs-number">1</span>||tmp.y&gt;b||tmp.z&lt;<span class="hljs-number">1</span>||tmp.z&gt;c) <span class="hljs-keyword">continue</span>;<br>            <span class="hljs-keyword">if</span>(sz[tmp.x][tmp.y][tmp.z]||vis[tmp.x][tmp.y][tmp.z]) <span class="hljs-keyword">continue</span>;<br>            <span class="hljs-keyword">if</span>(<span class="hljs-built_in">abs</span>(tmp.x-a)+<span class="hljs-built_in">abs</span>(tmp.y-b)+<span class="hljs-built_in">abs</span>(tmp.z-c)+tmp.m&gt;k) <span class="hljs-keyword">continue</span>;<br>            vis[tmp.x][tmp.y][tmp.z]=<span class="hljs-number">1</span>;<br>            q.push(tmp);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> T;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;T);<br>    <span class="hljs-keyword">while</span>(T--)<br>    &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d%d&quot;</span>,&amp;a,&amp;b,&amp;c,&amp;k);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=a;i++)<br>        &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">1</span>;j&lt;=b;j++)<br>            &#123;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> s=<span class="hljs-number">1</span>;s&lt;=c;s++)<br>                &#123;<br>                    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;sz[i][j][s]);<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-built_in">memset</span>(vis,<span class="hljs-number">0</span>,<span class="hljs-keyword">sizeof</span>(vis));<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>,bfs());<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<p>è¿˜æœ‰ä¸€é“ <em>è“æ¡¥æ¯-å†å±Šè¯•é¢˜-ä¹å®«é‡æ’</em>ï¼Œï¼Œä¸è¿‡è¿˜æ²¡åšï¼Œï¼Œï¼ŒQAQï¼Œï¼Œå…ˆæ”¾ç€å§ï¼Œï¼Œï¼Œï¼Œ</p>
]]></content>
      <tags>
        <tag>acm</tag>
        <tag>ç®—æ³•</tag>
        <tag>å›¾è®º</tag>
      </tags>
  </entry>
  <entry>
    <title>ç¬”è®°-JVMå­¦ä¹ </title>
    <url>/2021/05/19/%E7%AC%94%E8%AE%B0-JVM%E5%AD%A6%E4%B9%A0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><hr>
<p>typora-root-url: ./</p>
<hr>
<p>[toc]</p>
<h1 id="JVMå­¦ä¹ å‰è¨€"><a href="#JVMå­¦ä¹ å‰è¨€" class="headerlink" title="JVMå­¦ä¹ å‰è¨€"></a>JVMå­¦ä¹ å‰è¨€</h1><p><a href="https://www.bilibili.com/video/BV1iJ411d7jS">å­¦ä¹ è§†é¢‘åœ°å€</a></p>
<ul>
<li>è°ˆè°ˆä½ å¯¹JVMçš„ç†è§£ï¼›Java8è™šæ‹Ÿæœºä¸ä¹‹å‰ç­‰å¾…å˜åŒ–</li>
<li>OOMï¼Œæ ˆæº¢å‡ºStackOverFlowErrorï¼Œå¦‚ä½•åˆ†æ</li>
<li>JVMçš„å¸¸ç”¨è°ƒä¼˜å‚æ•°</li>
<li>å†…å­˜å¿«ç…§å¦‚ä½•æŠ“å–ï¼Œå¦‚ä½•åˆ†æDumpæ–‡ä»¶</li>
<li>JVMä¸­ç±»åŠ è½½å™¨</li>
</ul>
<h1 id="JVMä½“ç³»ç»“æ„"><a href="#JVMä½“ç³»ç»“æ„" class="headerlink" title="JVMä½“ç³»ç»“æ„"></a>JVMä½“ç³»ç»“æ„</h1><p><img src="https://img-blog.csdnimg.cn/2021051920414595.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BpMzE0MTU5MjY1MzV4,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>æ›´åŠ è¯¦ç»†çš„ç»“æ„ä¸ºï¼š</p>
<p><img src="https://img-blog.csdnimg.cn/20210519204201327.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BpMzE0MTU5MjY1MzV4,size_16,color_FFFFFF,t_70" alt=""></p>
<h1 id="ç±»åŠ è½½å™¨"><a href="#ç±»åŠ è½½å™¨" class="headerlink" title="ç±»åŠ è½½å™¨"></a>ç±»åŠ è½½å™¨</h1><p>ä½œç”¨ï¼šåŠ è½½.classæ–‡ä»¶</p>
<p>æµç¨‹å¤§è‡´ä¸ºï¼š<img src="https://img-blog.csdnimg.cn/2021051920422179.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BpMzE0MTU5MjY1MzV4,size_16,color_FFFFFF,t_70" alt=""></p>
<p>åˆ†ç±»ï¼šæŒ‰ç…§ä»ä½åˆ°é«˜å¯åˆ†ä¸ºï¼š</p>
<ul>
<li>è™šæ‹ŸæœºåŠ è½½å™¨ï¼ˆå¼•å¯¼ç±»åŠ è½½å™¨ï¼‰</li>
<li>æ‰©å±•ç±»åŠ è½½å™¨</li>
<li>ç³»ç»Ÿç±»ï¼ˆå¯åŠ¨ç±»ï¼‰åŠ è½½å™¨</li>
<li>åº”ç”¨ç±»åŠ è½½å™¨</li>
</ul>
<h2 id="åŒäº²å§”æ´¾æœºåˆ¶"><a href="#åŒäº²å§”æ´¾æœºåˆ¶" class="headerlink" title="åŒäº²å§”æ´¾æœºåˆ¶"></a>åŒäº²å§”æ´¾æœºåˆ¶</h2><p>æŸä¸ªç‰¹å®šçš„ç±»åŠ è½½å™¨åœ¨æ¥åˆ°åŠ è½½ç±»çš„è¯·æ±‚æ—¶ï¼Œé¦–å…ˆå°†åŠ è½½ä»»åŠ¡å§”æ‰˜ç»™çˆ¶ç±»åŠ è½½å™¨ï¼Œä¾æ¬¡é€’å½’ï¼Œå¦‚æœçˆ¶ç±»åŠ è½½å™¨å¯ä»¥å®Œæˆç±»åŠ è½½ä»»åŠ¡ï¼Œå°±æˆåŠŸè¿”å›ï¼›åªæœ‰çˆ¶ç±»åŠ è½½å™¨æ— æ³•å®Œæˆæ­¤åŠ è½½ä»»åŠ¡æ—¶ï¼Œæ‰è‡ªå·±å»åŠ è½½ã€‚</p>
<p>å…¨éƒ½æ‰¾ä¸åˆ°æŠ¥ï¼š <code>Class Not Found</code> </p>
<h2 id="æ²™ç®±å®‰å…¨æœºåˆ¶"><a href="#æ²™ç®±å®‰å…¨æœºåˆ¶" class="headerlink" title="æ²™ç®±å®‰å…¨æœºåˆ¶"></a>æ²™ç®±å®‰å…¨æœºåˆ¶</h2><p><img src="https://img-blog.csdnimg.cn/20210519204237272.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BpMzE0MTU5MjY1MzV4,size_16,color_FFFFFF,t_70" alt=""></p>
<p>åœ¨æ—©æœŸçš„jvmä¸­ï¼Œå¯¹äºæœ¬åœ°ä»£ç ä¿¡ä»»ï¼Œå¯ä»¥ç›´æ¥è¿è¡Œï¼Œè€Œè¿œç¨‹ä»£ç æ˜¯æ”¾ç½®åœ¨æ²™ç®±ä¸­è¿è¡Œï¼Œé™åˆ¶å¯¹ç³»ç»Ÿèµ„æºçš„è®¿é—®ã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/20210519204249762.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BpMzE0MTU5MjY1MzV4,size_16,color_FFFFFF,t_70" alt=""></p>
<p>æ­¤åå¢åŠ äº† <strong>å®‰å…¨ç­–ç•¥</strong>ï¼Œå¯ä»¥åœ¨ç»™å®šä¸€äº›æƒé™åå¯¹æœ¬åœ°èµ„æºè®¿é—®ã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/20210519204308442.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BpMzE0MTU5MjY1MzV4,size_16,color_FFFFFF,t_70" alt=""></p>
<p>ç„¶ååˆå¢åŠ äº† <strong>ä»£ç ç­¾å</strong>ï¼ŒæŒ‰ç…§ç”¨æˆ·çš„å®‰å…¨ç­–ç•¥è®¾å®šï¼Œåˆç±»åŠ è½½å™¨æ¥åŠ è½½é“è™šæ‹Ÿæœºä¸­æƒé™ä¸åŒçš„è¿è¡Œç©ºé—´è¿è¡Œ</p>
<p><img src="https://img-blog.csdnimg.cn/20210519204321181.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BpMzE0MTU5MjY1MzV4,size_16,color_FFFFFF,t_70" alt=""></p>
<p>ç°åœ¨çš„å®‰å…¨æœºåˆ¶å¼•å…¥ <strong>åŸŸ</strong> çš„æ¦‚å¿µï¼Œè™šæ‹Ÿæœºå°†æ‰€æœ‰çš„ä»£åŠ è½½ä¸åŒçš„ç³»ç»ŸåŸŸå’Œåº”ç”¨åŸŸä¸­ï¼Œç³»ç»ŸåŸŸè´Ÿè´£å…³é”®èµ„æºï¼Œåº”ç”¨åŸŸé€šè¿‡ç³»ç»ŸåŸŸçš„éƒ¨åˆ†ä»£ç†æ¥æ“ä½œèµ„æºã€‚ä¸åŒçš„å—ä¿æŠ¤åŸŸå¯¹åº”ä¸åŒçš„æƒé™ã€‚</p>
<p>ç»„æˆæ²™ç®±çš„åŸºæœ¬æ¡ä»¶ï¼š</p>
<ul>
<li><p><strong>å­—èŠ‚ç æ ¡éªŒå™¨</strong>ï¼š ç¡®ä¿Javaæ–‡ä»¶éµå¾ªJavaè¯­è¨€è§„èŒƒï¼Œå¸®åŠ©Javaç¨‹åºå®ç°å†…å­˜ä¿æŠ¤ï¼Œä½†ä¸æ˜¯æ‰€æœ‰çš„ç±»æ–‡ä»¶éƒ½ä¼šç»è¿‡èŠ‚ç æ ¡éªŒï¼ˆæ ¸å¿ƒç±»ï¼‰</p>
</li>
<li><p><strong>ç±»è£…è½½å™¨</strong>ï¼š ç±»è£…è½½å™¨åœ¨3ä¸ªåœ°æ–¹å¯¹Javaæ²™ç®±èµ·ä½œç”¨ï¼š</p>
<ul>
<li><p>æ”¾ç½®æ¶æ„ä»£ç å¹²æ¶‰å–„æ„ä»£ç </p>
</li>
<li><p>å®ˆæŠ¤è¢«ä¿¡ä»»çš„ç±»åº“è¾¹ç•Œ</p>
</li>
<li><p>å°†ä»£ç å½’å…¥ä¿æŠ¤åŸŸ</p>
<p>è™šæ‹Ÿæœºä¸ºä¸åŒçš„ç±»åŠ è½½å™¨æä¾›ä¸åŒçš„å‘½åç©ºé—´ï¼Œæœ‰å”¯ä¸€çš„æ ‡è¯†ï¼Œä¸”ç”±Javaè™šæ‹Ÿæœºçš„æ¯ä¸€ä¸ªç±»è£…è½½å™¨ç»´æŠ¤ï¼Œç›¸äº’ä¸å¯è§</p>
</li>
</ul>
</li>
</ul>
<p>â€‹    ç±»åŠ è½½å™¨ä½¿ç”¨çš„æ˜¯åŒäº²å§”æ´¾æœºåˆ¶ï¼š    </p>
<ul>
<li><p>ä»æœ€å†…å±‚jvmè‡ªå¸¦ç±»åŠ è½½å™¨å¼€å§‹åŠ è½½ï¼Œå¤–å±‚æ¶æ„åŒåç±»å¾—ä¸åˆ°åŠ è½½ä»è€Œæ— æ³•ä½¿ç”¨</p>
</li>
<li><p>ç”±äºä¸¥æ ¼é€šè¿‡åŒ…æ¥åŒºåˆ†è®¿é—®åŸŸï¼Œå¤–å±‚æ¶æ„çš„ç±»é€šè¿‡å†…ç½®ä»£ç ä¹Ÿæ— æ³•è·å¾—æƒé™è®¿é—®é“å†…å±‚ç±»ï¼Œç ´åä»£ç è‡ªç„¶æ— æ³•ç”Ÿæ•ˆ</p>
</li>
</ul>
<ul>
<li><strong>å­˜å–æ§åˆ¶å™¨</strong>ï¼š å­˜å–æ§åˆ¶å™¨å¯ä»¥æ§åˆ¶æ ¸å¿ƒAPIå¯¹æ“ä½œç³»ç»Ÿçš„å­˜å–æƒé™ï¼Œæ§åˆ¶çš„ç­–ç•¥å¯ä»¥é€šè¿‡ç”¨æˆ·æŒ‡å®š</li>
<li><strong>å®‰å…¨ç®¡ç†å™¨</strong>ï¼šæ˜¯æ ¸å¿ƒAPIå’Œæ“ä½œç³»ç»Ÿä¹‹é—´çš„ä¸»è¦æ¥å£ã€‚å®ç°æƒé™æ§åˆ¶ï¼Œæ¯”å­˜å–æ§åˆ¶å™¨ä¼˜å…ˆçº§é«˜</li>
<li><strong>å®‰å…¨è½¯ä»¶åŒ…</strong>ï¼š <code>java.security</code> ä¸‹çš„ç±»å’Œæ‰©å±•åŒ…ä¸‹çš„ç±»ï¼Œå…è®¸ç”¨æˆ·ä¸ºè‡ªå·±çš„åº”ç”¨å¢åŠ æ–°çš„å®‰å…¨ç‰¹æ€§ï¼š<ul>
<li>å®‰å…¨æä¾›è€…</li>
<li>æ¶ˆæ¯æ‘˜è¦</li>
<li>æ•°å­—ç­¾å</li>
<li>åŠ å¯†</li>
<li>é‰´åˆ«</li>
</ul>
</li>
</ul>
<h1 id="Native"><a href="#Native" class="headerlink" title="Native"></a>Native</h1><p>nativeï¼šå‡¡æ˜¯ä½¿ç”¨ <code>native</code> å…³é”®å­—ä¿®é¥°çš„ï¼Œè¯´æ˜Javaçš„ä½œç”¨èŒƒå›´è¾¾ä¸åˆ°ï¼Œä¼šè°ƒç”¨åº•å±‚C/C++çš„åº“æ–‡ä»¶ç­‰ç­‰</p>
<p>è°ƒç”¨ <code>native</code> ä¿®é¥°çš„æ–¹æ³•ä¼šè¿›å…¥ <strong>æœ¬åœ°æ–¹æ³•æ ˆ</strong> ï¼Œç„¶åé€šè¿‡ <strong>æœ¬åœ°æ–¹æ³•æ¥å£JNI</strong> è°ƒç”¨æœ¬åœ°æ–¹æ³•ã€‚</p>
<p>æ‰€ä»¥JNIçš„ä½œç”¨å°±æ˜¯æ‰©å±•Javaçš„ä½¿ç”¨ï¼Œèåˆä¸åŒçš„ç¼–ç¨‹è¯­è¨€ä¸ºJavaä½¿ç”¨ã€‚jvmä¼šåœ¨å†…å­˜åŒºåŸŸä¸­å¼€è¾Ÿä¸€ä¸ªæ ‡è®°åŒºåŸŸï¼Œå³<strong>æœ¬åœ°æ–¹æ³•æ ˆ</strong>ï¼Œç™»è®°æ‰€æœ‰çš„nativeæ–¹æ³•ï¼Œåœ¨æœ€ç»ˆæ‰§è¡Œæ—¶é€šè¿‡JNIåŠ è½½æœ¬åœ°æ–¹æ³•åº“ä¸­çš„æ–¹æ³•ã€‚ï¼ˆä¸åŒè™šæ‹Ÿæœºè¿™é‡Œä¼šæœ‰æ‰€ä¸åŒï¼‰</p>
<h1 id="PC"><a href="#PC" class="headerlink" title="PC"></a>PC</h1><p>ç¨‹åºè®¡æ•°å™¨</p>
<h1 id="æ–¹æ³•åŒº"><a href="#æ–¹æ³•åŒº" class="headerlink" title="æ–¹æ³•åŒº"></a>æ–¹æ³•åŒº</h1><p>æ–¹æ³•åŒºæ˜¯è¢«æ‰€æœ‰çº¿ç¨‹å…±äº«ï¼Œæ‰€æœ‰å­—æ®µå’Œæ–¹æ³•å­—èŠ‚ç ï¼Œä»¥åŠä¸€äº›ç‰¹æ®Šæ–¹æ³•ï¼ˆæ„é€ å‡½æ•°ã€æ¥å£ä»£ç ï¼‰éƒ½åœ¨æ­¤å®šä¹‰ã€‚æ‰€æœ‰å®šä¹‰çš„æ–¹æ³•çš„ä¿¡æ¯éƒ½ä¿å­˜åœ¨æ­¤åŒºåŸŸï¼Œ<strong>æ­¤åŒºåŸŸå±äºå…±äº«åŒºé—´</strong></p>
<p>==é™æ€å˜é‡(static)ã€å¸¸é‡(final)ã€ç±»ä¿¡æ¯(class)ï¼ˆæ„é€ æ–¹æ³•ã€æ¥å£ï¼‰ã€è¿è¡Œä½¿å¾—å¸¸é‡æ±  éƒ½å­˜æ”¾åœ¨æ–¹æ³•åŒºä¸­ï¼Œä½†æ˜¯ï¼Œå®ä¾‹å˜é‡å­˜åœ¨å †ä¸­ï¼Œä¸æ˜¯æ–¹æ³•åŒº==</p>
<p><img src="https://img-blog.csdnimg.cn/2021051920435444.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BpMzE0MTU5MjY1MzV4,size_16,color_FFFFFF,t_70" alt=""></p>
<p>ï¼ˆæœ€ä¸‹æ–¹å°±æ˜¯æ–¹æ³•åŒºï¼Œå­˜å‚¨ä¸Šé¢æåˆ°çš„ä¸œè¥¿ï¼‰</p>
<p><img src="https://img-blog.csdnimg.cn/20210519204951106.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BpMzE0MTU5MjY1MzV4,size_16,color_FFFFFF,t_70" alt=""></p>
<h1 id="æ ˆï¼ˆè™šæ‹Ÿæœºæ ˆï¼‰"><a href="#æ ˆï¼ˆè™šæ‹Ÿæœºæ ˆï¼‰" class="headerlink" title="æ ˆï¼ˆè™šæ‹Ÿæœºæ ˆï¼‰"></a>æ ˆï¼ˆè™šæ‹Ÿæœºæ ˆï¼‰</h1><p>æ ˆå†…å­˜ï¼Œä¸»ç®¡ç¨‹åºçš„è¿è¡Œï¼Œç”Ÿå‘½å‘¨æœŸå’Œçº¿ç¨‹åŒæ­¥</p>
<p>çº¿ç¨‹ç»“æŸï¼Œæ ˆå†…å­˜ä¹Ÿé‡Šæ”¾ï¼Œå¯¹äºæ ˆæ¥è¯´ï¼Œä¸å­˜åœ¨åƒåœ¾å›æ”¶é—®é¢˜</p>
<p>æ ˆä¸­çš„ç±»å‹ï¼š8å¤§åŸºæœ¬ç±»å‹+å¯¹è±¡ç±»å‹+å®ä¾‹æ–¹æ³•</p>
<p>å®é™…çš„æ ˆä¸­å­˜å‚¨çš„æ˜¯ä¸€ä¸ªä¸ªçš„æ ˆå¸§ï¼Œç»“æ„å¤§è‡´å¦‚ä¸‹ï¼š</p>
<p><img src="https://img-blog.csdnimg.cn/20210519204412241.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BpMzE0MTU5MjY1MzV4,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<h1 id="ä¸‰ç§JVM"><a href="#ä¸‰ç§JVM" class="headerlink" title="ä¸‰ç§JVM"></a>ä¸‰ç§JVM</h1><ul>
<li>sunï¼š HotSpot ï¼ˆopenjdkï¼‰</li>
<li>BEA JRockit</li>
<li>IBM J9 VM</li>
</ul>
<h1 id="å †"><a href="#å †" class="headerlink" title="å †"></a>å †</h1><h2 id="ç»“æ„"><a href="#ç»“æ„" class="headerlink" title="ç»“æ„"></a>ç»“æ„</h2><p>Heapï¼Œä¸€ä¸ªJVMä»…æœ‰ä¸€ä¸ªå †å†…å­˜ï¼Œå¯è°ƒèŠ‚å¤§å°</p>
<p>å †ä¸­ä¿å­˜çš„æ˜¯ å®ä¾‹åŒ–çš„ç±»åŠæ–¹æ³•ã€å¸¸é‡ã€å˜é‡ç­‰</p>
<p>å †å†…å­˜åˆ†ä¸ºï¼š</p>
<ul>
<li>æ–°ç”ŸåŒºï¼ˆä¼Šç”¸å›­åŒºï¼‰young</li>
<li>è€å¹´åŒº old </li>
<li>æ°¸ä¹…åŒº permï¼ˆ1.8æ”¹ä¸ºå…ƒç©ºé—´ï¼‰</li>
</ul>
<p>GCåƒåœ¾å›æ”¶ï¼Œä¸»è¦æ˜¯åœ¨ä¼Šç”¸å›­åŒºå’Œå…»è€åŒºï¼Œï¼Œå¦‚æœå†…å­˜æ»¡äº†å°±ä¼šå‡ºç°OOM</p>
<p><a href="https://www.processon.com/view/60a25c38f346fb1df41ec011">å…·ä½“çš„ç»“æ„å¯ä»¥çœ‹è¿™é‡Œï¼šhttps://www.processon.com/view/60a25c38f346fb1df41ec011</a></p>
<h2 id="æ–°ç”ŸåŒºå’Œè€å¹´åŒº"><a href="#æ–°ç”ŸåŒºå’Œè€å¹´åŒº" class="headerlink" title="æ–°ç”ŸåŒºå’Œè€å¹´åŒº"></a>æ–°ç”ŸåŒºå’Œè€å¹´åŒº</h2><ul>
<li>æ‰€æœ‰å®ä¾‹åŒ– è¯ç”Ÿå’Œæˆé•¿çš„åœ°æ–¹ï¼Œç”šè‡³æ­»äº¡</li>
<li>ä¸»è¦åˆ†ä¸º <strong>ä¼Šç”¸å›­åŒº</strong>ï¼Œ<strong>å¹¸å­˜è€…åŒº(S0, S1)</strong> </li>
</ul>
<p>å½“ä¼Šç”¸å›­åŒºæ»¡åï¼Œä¼šè¿›è¡Œä¸€æ¬¡è½»é‡çº§åƒåœ¾å›æ”¶ï¼Œå¯¹äºè¿˜å­˜åœ¨çš„å¯¹è±¡å°†è½¬åˆ°å¹¸å­˜è€…åŒºã€‚å¦‚æœæ–°ç”ŸåŒºè€å¹´åŒºæ»¡äº†ä¼šè¿›è¡Œä¸€æ¬¡é‡é‡çº§åƒåœ¾å›æ”¶ï¼Œå°†å­˜æ´»çš„è½¬åˆ°è€å¹´åŒºï¼Œå…¨éƒ¨æ»¡äº†è¡¨ç¤ºæ²¡æœ‰å†…å­˜ç©ºé—´ï¼Œå³OOM</p>
<p>æ•´ä¸ªæµç¨‹å¤§è‡´å¦‚ä¸‹ï¼š<img src="https://img-blog.csdnimg.cn/20210519204431577.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BpMzE0MTU5MjY1MzV4,size_16,color_FFFFFF,t_70" alt=""></p>
<h2 id="æ°¸ä¹…åŒºï¼ˆå…ƒç©ºé—´ï¼‰"><a href="#æ°¸ä¹…åŒºï¼ˆå…ƒç©ºé—´ï¼‰" class="headerlink" title="æ°¸ä¹…åŒºï¼ˆå…ƒç©ºé—´ï¼‰"></a>æ°¸ä¹…åŒºï¼ˆå…ƒç©ºé—´ï¼‰</h2><p>å¸¸é©»å†…å­˜ï¼Œç”¨æ¥å­˜æ”¾JDKè‡ªèº«æºå¸¦çš„Classå¯¹è±¡ã€‚Interfaceå…ƒæ•°æ®ï¼Œå­˜å‚¨çš„æ˜¯Javaè¿è¡Œæ—¶çš„ä¸€äº›ç¯å¢ƒæˆ–ç±»ä¿¡æ¯ï¼Œä¸å­˜åœ¨åƒåœ¾å›æ”¶ï¼Œä»…åœ¨å…³é—­è™šæ‹Ÿæœºæ—¶é‡Šæ”¾</p>
<p>ä¸€ä¸ªå¯åŠ¨ç±»ï¼Œå¦‚æœåŠ è½½å¤§é‡çš„ç¬¬ä¸‰æ–¹jaråŒ…ï¼Œå¦‚Tomcatéƒ¨ç½²å¤ªå¤šåº”ç”¨ï¼Œå¤§é‡åŠ¨æ€ç”Ÿæˆåå°„ç±»ç­‰ï¼Œä¼šå¯¼è‡´OOM</p>
<ul>
<li>1.6å‰ï¼š æ°¸ä¹…ä»£ï¼Œå¸¸é‡æ± åœ¨æ–¹æ³•åŒº</li>
<li>1.7ï¼š æ°¸ä¹…ä»£ï¼Œä½†æ˜¯é€€åŒ– <em>å»æ°¸ä¹…ä»£</em> ï¼Œå¸¸é‡æ± åœ¨å †ä¸­</li>
<li>1.8ï¼š æ— æ°¸ä¹…ä»£ï¼Œå¸¸é‡æ± åœ¨å…ƒç©ºé—´</li>
</ul>
<p><code>Runtime.getRuntime().maxMemroy()</code> å’Œ <code>Runtime.getRuntime().totalMemroy()</code> å¯ä»¥è·å–jvmå¯ä»¥ä½¿ç”¨çš„æœ€å¤§å†…å­˜ä»¥åŠå½“å‰åˆå§‹åŒ–çš„å†…å­˜å¤§å°ã€‚</p>
<p><code>Xms1024m -Xmx1024m -XX:+PrintGCDetails</code> å¯ä»¥è®¾ç½®åˆå§‹åŒ–å†…å­˜å¤§å°(1/64)ä¸æœ€å¤§å†…å­˜å¤§å°(1/4)ã€‚</p>
<p>åˆå§‹å†…å­˜å¤§å°=æ–°ç”ŸåŒº+è€å¹´åŒºï¼Œå…ƒæ•°æ®åŒºåœ¨å¦ä¸€ä¸ªåœ°æ–¹</p>
<p>å‡ºç°OOMçš„å°è¯•è§£å†³æ–¹æ³•ï¼š</p>
<ul>
<li>Debugåˆ†æ</li>
<li>å†…å­˜å¿«ç…§å·¥å…·åˆ†æDumpæ–‡ä»¶ï¼šMATã€Jprofiler</li>
</ul>
<p><strong>MAT Jprofilerçš„ä½œç”¨</strong>ï¼š</p>
<ul>
<li>åˆ†æDumpå†…å­˜æ–‡ä»¶ï¼Œå¿«é€Ÿå®šä½å†…å­˜æ³„æ¼</li>
<li>è·å¾—å †ä¸­çš„æ•°æ®</li>
<li>è·å¾—å¤§çš„å¯¹è±¡</li>
<li>ã€‚ã€‚ã€‚</li>
</ul>
<p>Javaè™šæ‹Ÿæœºdumpï¼š <code>-Xms1m -Xmx8m -XX:+HeapDumpOnOutOfMemoryError[path]</code>  </p>
<h1 id="GCï¼šåƒåœ¾å›æ”¶"><a href="#GCï¼šåƒåœ¾å›æ”¶" class="headerlink" title="GCï¼šåƒåœ¾å›æ”¶"></a>GCï¼šåƒåœ¾å›æ”¶</h1><p>gcä½œç”¨äºæ–¹æ³•åŒºå’Œå †</p>
<p>gcåˆ†ç±»ï¼šè½»GC(YGC)ã€é‡GC(Full GC)</p>
<p><strong>gcçš„ç®—æ³•</strong>ï¼šæ ‡è®°æ¸…é™¤æ³•ã€æ ‡è®°æ•´ç†ã€å¤åˆ¶ç®—æ³•ã€åˆ†ä»£æ”¶é›†ï¼Œ</p>
<p><strong>åˆ¤æ–­å¯¹è±¡æ˜¯å¦å­˜æ´»çš„æ–¹æ³•</strong>ï¼šå¼•ç”¨è®¡æ•°æ³•å’Œå¯è¾¾æ€§åˆ†æ</p>
<h2 id="å¼•ç”¨è®¡æ•°æ³•"><a href="#å¼•ç”¨è®¡æ•°æ³•" class="headerlink" title="å¼•ç”¨è®¡æ•°æ³•"></a>å¼•ç”¨è®¡æ•°æ³•</h2><p>é¡¾åæ€ä¹‰ï¼Œè®°å½•æ¯ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨æ•°ï¼Œå¯¹äºæ²¡æœ‰å¼•ç”¨çš„æ¸…ç†å³å¯</p>
<h2 id="å¯è¾¾æ€§åˆ†æ"><a href="#å¯è¾¾æ€§åˆ†æ" class="headerlink" title="å¯è¾¾æ€§åˆ†æ"></a>å¯è¾¾æ€§åˆ†æ</h2><h2 id="å¤åˆ¶ç®—æ³•"><a href="#å¤åˆ¶ç®—æ³•" class="headerlink" title="å¤åˆ¶ç®—æ³•"></a>å¤åˆ¶ç®—æ³•</h2><p>æ–°ç”ŸåŒºä¸­ï¼Œä¼Šç”¸å›­åŒºå’Œä¸¤ä¸ªå¹¸å­˜åŒºé—´ä¸­éç©ºçš„å°†å­˜æ´»çš„å¯¹è±¡å¤åˆ¶åˆ°ç©ºçš„å¹¸å­˜åŒºã€‚å…¶ä¸­ä¸ºç©ºçš„æ˜¯ to ï¼Œå¦ä¸€ä¸ªæ˜¯ from </p>
<p>å½“ä¸€ä¸ªå¯¹è±¡ç»å†15æ¬¡gcä»å­˜æ´»è¿›å…¥è€å¹´åŒºï¼Œé€šè¿‡ <code>-XX:MaxTenuringThreshold=5</code> å¯ä»¥è®¾ç½®è¿›å…¥è€å¹´åŒºçš„æ—¶é—´</p>
<ul>
<li>å¥½å¤„ï¼š æ²¡æœ‰å†…å­˜ç¢ç‰‡</li>
<li>åå¤„ï¼šæµªè´¹äº†ä¸€éƒ¨åˆ†ç©ºé—´ï¼Œtoæ˜¯ç©ºçš„</li>
</ul>
<p>æœ€ä½³ä½¿ç”¨åœºæ™¯ï¼šå¯¹è±¡å­˜æ´»åº¦è¾ƒä½æ—¶ã€‚</p>
<h2 id="æ ‡è®°æ¸…é™¤"><a href="#æ ‡è®°æ¸…é™¤" class="headerlink" title="æ ‡è®°æ¸…é™¤"></a>æ ‡è®°æ¸…é™¤</h2><p>å¯¹å­˜æ´»å¯¹è±¡æ ‡è®°ï¼Œç„¶åæ¸…é™¤</p>
<ul>
<li>ä¼˜ç‚¹ï¼šä¸éœ€è¦é¢å¤–ç©ºé—´</li>
<li>ç¼ºç‚¹ï¼šä¸¤æ¬¡æ‰«æè´¹æ—¶ã€å†…å­˜ç¢ç‰‡</li>
</ul>
<h2 id="æ ‡è®°æ•´ç†"><a href="#æ ‡è®°æ•´ç†" class="headerlink" title="æ ‡è®°æ•´ç†"></a>æ ‡è®°æ•´ç†</h2><p>å¯¹æ ‡è®°æ¸…é™¤åçš„æ•´ç†å‹ç¼©ï¼Œï¼Œå‡å°‘ç¢ç‰‡</p>
<h2 id="åˆ†ä»£æ”¶é›†"><a href="#åˆ†ä»£æ”¶é›†" class="headerlink" title="åˆ†ä»£æ”¶é›†"></a>åˆ†ä»£æ”¶é›†</h2><p>å¯¹äºæ–°ç”Ÿä»£ï¼šä½¿ç”¨å¤åˆ¶ç®—æ³•</p>
<p>å¯¹äºè€å¹´ä»£ï¼šä½¿ç”¨æ ‡è®°æ¸…é™¤ï¼ˆæ•´ç†ï¼‰ç®—æ³•</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>å†…å­˜æ•ˆç‡ï¼šå¤åˆ¶ç®—æ³•&gt;æ ‡è®°æ¸…é™¤&gt;æ ‡è®°æ•´ç†</p>
<p>å†…å­˜æ•´é½åº¦ï¼šå¤åˆ¶ç®—æ³•=æ ‡è®°æ•´ç†&gt;æ ‡è®°æ¸…é™¤</p>
<p>å†…å­˜åˆ©ç”¨ç‡ï¼šæ ‡è®°æ•´ç†=æ ‡è®°æ¸…é™¤&gt;å¤åˆ¶ç®—æ³•</p>
<p>æ‰€ä»¥ä½¿ç”¨åˆ†ä»£æ”¶é›†ç®—æ³•ï¼Œå°½å¯èƒ½çš„æé«˜æ€§èƒ½</p>
<p>ï¼ˆJMMæŒ‡çš„æ˜¯Javaçš„å†…å­˜æ¨¡å‹ï¼Œä¸»è¦ä¸å¤šçº¿ç¨‹æœ‰å…³ç³»ï¼Œå°±æ˜¯é‚£8ç§æ–¹å¼ï¼‰</p>
<p><strong>ä¸€äº›æ¯”è¾ƒå¥½çš„æ€»ç»“</strong>ï¼š</p>
<p><a href="https://www.processon.com/view/5ec5d7c60791290fe0768668">https://www.processon.com/view/5ec5d7c60791290fe0768668</a></p>
<p><a href="https://www.processon.com/view/60a25c38f346fb1df41ec011">https://www.processon.com/view/60a25c38f346fb1df41ec011</a></p>
<p><img src="https://img-blog.csdnimg.cn/20210519200638618.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BpMzE0MTU5MjY1MzV4,size_16,color_FFFFFF,t_70" alt=""></p>
<p><a href="https://blog.csdn.net/qq_42261668/article/details/109149428">å¯¹äºCMSçš„å­¦ä¹ </a></p>
<p><a href="https://www.processon.com/view/603709716376896cd606078d#map">ä»¥ä¸Šå†…å®¹çš„æ€»ç»“</a></p>
]]></content>
  </entry>
  <entry>
    <title>ç¬”è®°-Javaæ³¨è§£åå°„</title>
    <url>/2021/03/19/%E7%AC%94%E8%AE%B0-Java%E6%B3%A8%E8%A7%A3%E5%8F%8D%E5%B0%84/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>æœ¬æ–‡ä¸ºè‡ªå­¦ Javaæ³¨è§£å’Œåå°„æœºåˆ¶çš„ä¸ªäººå­¦ä¹ ç¬”è®°ï¼Œå› ä¸ªäººä¹ æƒ¯å’Œæ—¶é—´å…³ç³»ï¼Œä»…è®°å½•äº†æœ¬äººä¸ºæ›¾äº†è§£å’Œå’Œè®¤ä¸ºé‡è¦çš„çŸ¥è¯†ç‚¹ï¼Œæ‰€ä»¥å¦‚è¦å­¦ä¹ å»ºè®®<a href="https://www.bilibili.com/video/BV1p4411P7V3">è§‚çœ‹åŸè§†é¢‘å­¦ä¹ </a></p>
<h1 id="æ³¨è§£"><a href="#æ³¨è§£" class="headerlink" title="æ³¨è§£"></a>æ³¨è§£</h1><p>åŸºç¡€çš„æ³¨è§£æ¦‚å¿µçš„è§£é‡Šå¯ä»¥æŸ¥çœ‹<a href="https://www.runoob.com/w3cnote/java-annotation.html">è¿™é‡Œ</a>ï¼š</p>
<p>ä¸€ä¸ªç®€å•çš„è‡ªå®ç°çš„æ³¨è§£å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Documented</span><br><span class="hljs-meta">@Target(ElementType.TYPE)</span><br><span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span><br><span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> MyAnnotation1 &#123;<br>	<span class="hljs-function">String <span class="hljs-title">name</span><span class="hljs-params">()</span></span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>å…¶ä¸­ï¼Œå‚æ•°çš„æ ¼å¼æ˜¯ <code>ç±»å‹ åå­—()</code> ã€‚</p>
<ul>
<li><p><code>@interface</code> æ¥å®šä¹‰ä¸€ä¸ªæ³¨è§£</p>
</li>
<li><p><code>@Target</code> æè¿°äº†æ³¨è§£çš„ä½¿ç”¨èŒƒå›´</p>
</li>
<li><code>@Retention</code> è¡¨è¿°éœ€è¦åœ¨ä»€ä¹ˆçº§åˆ«ä¿å­˜è¯¥æ³¨é‡Šä¿¡æ¯ï¼Œç”¨äºæè¿°æ³¨è§£çš„ç”Ÿå‘½å‘¨æœŸï¼Œå…¶ä¸­ (<code>SOURCE&lt;CLASS&lt;RUNTIME</code>)</li>
<li><code>@Document</code> è¯´æ˜è¯¥æ³¨è§£å°†åŒ…å«åœ¨ javadocä¸­</li>
</ul>
<p>ï¼ˆå…·ä½“æ³¨è§£å®é™…ä½¿ç”¨æ–¹å¼å¯ä»¥çœ‹æœ€åä¸€èŠ‚ç« å…³äº ä½¿ç”¨åå°„å¯¹è±¡æ¥è·å–æ‰€æ³¨è§£å¯¹è±¡çš„æ³¨è§£ä¿¡æ¯çš„ä»‹ç»ã€‚ï¼‰</p>
<h1 id="åå°„-reflection"><a href="#åå°„-reflection" class="headerlink" title="åå°„ reflection"></a>åå°„ reflection</h1><h2 id="åå°„æ¦‚è¿°"><a href="#åå°„æ¦‚è¿°" class="headerlink" title="åå°„æ¦‚è¿°"></a>åå°„æ¦‚è¿°</h2><p>åå°„æœºåˆ¶    å…è®¸ç¨‹åºæ‰§è¡ŒæœŸé—´å€ŸåŠ© <code>Reflection API</code> æ¥è·å–ä»»ä½•ç±»çš„å†…éƒ¨å±æ€§å’Œæ–¹æ³•ã€‚</p>
<p>æ­£å¸¸æ–¹å¼    ï¼š å¼•å…¥â€œåŒ…ç±»â€çš„åç§°-&gt;newå®ä¾‹åŒ–-&gt;è·å¾—å®ä¾‹åŒ–å¯¹è±¡<br>åå°„æ–¹å¼ï¼š å®ä¾‹åŒ–å¯¹è±¡-&gt;getClass()æ–¹æ³•-&gt;è·å¾—å®Œæ•´çš„â€œåŒ…ç±»â€åç§°</p>
<h2 id="è·å¾—åå°„å¯¹è±¡"><a href="#è·å¾—åå°„å¯¹è±¡" class="headerlink" title="è·å¾—åå°„å¯¹è±¡"></a>è·å¾—åå°„å¯¹è±¡</h2><h3 id="javaåå°„æœºåˆ¶æä¾›çš„åŠŸèƒ½ï¼š"><a href="#javaåå°„æœºåˆ¶æä¾›çš„åŠŸèƒ½ï¼š" class="headerlink" title="javaåå°„æœºåˆ¶æä¾›çš„åŠŸèƒ½ï¼š"></a>javaåå°„æœºåˆ¶æä¾›çš„åŠŸèƒ½ï¼š</h3><ul>
<li>åœ¨è¿è¡Œæ—¶åˆ¤æ–­ä»»æ„ä¸€ä¸ªå¯¹è±¡æ‰€å±çš„ç±»</li>
<li>åœ¨è¿è¡Œæ—¶æ„é€ ä»»æ„ä¸€ä¸ªç±»çš„å¯¹è±¡</li>
<li>åœ¨è¿è¡Œæ—¶åˆ¤æ–­ä»»æ„ä¸€ä¸ªç±»æ‰€å…·æœ‰çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•</li>
<li>åœ¨è¿è¡Œæ—¶è·å–æ³›å‹ä¿¡æ¯</li>
<li>åœ¨è¿è¡Œæ—¶è°ƒç”¨ä»»æ„ä¸€ä¸ªå¯¹è±¡çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•</li>
<li>åœ¨è¿è¡Œæ—¶å¤„ç† <strong>æ³¨è§£</strong></li>
<li><strong>ç”ŸæˆåŠ¨æ€ä»£ç†</strong> (AOP)</li>
</ul>
<h3 id="åå°„çš„ä¼˜ç¼ºç‚¹"><a href="#åå°„çš„ä¼˜ç¼ºç‚¹" class="headerlink" title="åå°„çš„ä¼˜ç¼ºç‚¹:"></a>åå°„çš„ä¼˜ç¼ºç‚¹:</h3><ul>
<li>ä¼˜ç‚¹ï¼š å¯ä»¥å®ç°åŠ¨æ€åˆ›å»ºå¯¹è±¡å’Œç¼–è¯‘ï¼Œçµæ´»</li>
<li>ç¼ºç‚¹ï¼šå¯¹æ€§èƒ½æœ‰å½±å“ã€‚åå°„å®é™…ä¸Šæ˜¯ä¸€ç§<em>è§£é‡Šæ“ä½œ</em>ï¼Œéœ€è¦å‘Šè¯‰JVMéœ€è¦åšä»€ä¹ˆå’Œè¦æ±‚ï¼Œè¦æ…¢äºç›´æ¥(new)æ‰§è¡Œç›¸åŒçš„æ“ä½œã€‚</li>
</ul>
<h4 id="åå°„ç›¸å…³çš„API"><a href="#åå°„ç›¸å…³çš„API" class="headerlink" title="åå°„ç›¸å…³çš„API"></a>åå°„ç›¸å…³çš„API</h4><ul>
<li><code>java.lang.Class</code> ä»£è¡¨ä¸€ä¸ªç±»</li>
<li><code>java.lang.reflect.Method</code> ä»£è¡¨ç±»çš„æ–¹æ³•</li>
<li><code>java.lang.reflect.Field</code> ä»£è¡¨ç±»çš„æˆå‘˜å˜é‡</li>
<li><code>java.lang.reflect.Constructor</code> ä»£è¡¨ç±»çš„æ„é€ å™¨</li>
</ul>
<h4 id="è·å¾—åå°„å¯¹è±¡-1"><a href="#è·å¾—åå°„å¯¹è±¡-1" class="headerlink" title="è·å¾—åå°„å¯¹è±¡"></a>è·å¾—åå°„å¯¹è±¡</h4><figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> reflection;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Reflection0</span> </span>&#123;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ClassNotFoundException </span>&#123;<br>        <span class="hljs-comment">//  é€šè¿‡åå°„æ¥è·å–ç±»çš„classå¯¹è±¡</span><br>        Class cl1 = Class.forName(<span class="hljs-string">&quot;reflection.User&quot;</span>);<br>        <span class="hljs-comment">// Class cl2 = Class.forName(&quot;reflection.Reflection0&quot;);</span><br>        Class cl2 = User.class;<br>        <span class="hljs-comment">// Class cl3 = Class.forName(&quot;reflection.Reflection0&quot;);</span><br>        Class cl3 = (<span class="hljs-keyword">new</span> User()).getClass();<br><br>        <span class="hljs-comment">// ä¸€ä¸ªç±»åœ¨å†…å­˜ä¸­åªæœ‰ä¸€ä¸ªClasså¯¹è±¡</span><br>        <span class="hljs-comment">// ä¸€ä¸ªç±»è¢«åŠ è½½åï¼Œç±»çš„æ•´ä¸ªç»“æ„éƒ½ä¼šè¢«å°è£…åœ¨Classå¯¹è±¡ä¸­</span><br>        System.out.println(cl1.hashCode());<br>        System.out.println(cl2.hashCode());<br>        System.out.println(cl3.hashCode());<br><br>    &#125;<br><br>&#125;<br><br><br><span class="hljs-comment">// pojo:</span><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span></span>&#123;<br>    String name;<br>    <span class="hljs-keyword">int</span> age;<br>    <span class="hljs-keyword">int</span> id;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">User</span><span class="hljs-params">()</span> </span>&#123;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">User</span><span class="hljs-params">(String name, <span class="hljs-keyword">int</span> age, <span class="hljs-keyword">int</span> id)</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.name = name;<br>        <span class="hljs-keyword">this</span>.age = age;<br>        <span class="hljs-keyword">this</span>.id = id;<br>    &#125;<br><br><span class="hljs-comment">//    getter setteræ–¹æ³•</span><br>&#125;<br></code></pre></td></tr></table></figure>
<p>ä¸€åˆ‡ç±»çš„çˆ¶ç±» <code>Object</code> ä¸­çš„ <code>getClass()</code> æ–¹æ³•è¿”å›å€¼å³ä¸ºJavaåå°„çš„æºå¤´ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡å¯¹è±¡åå°„æ¥æ±‚å‡ºç±»çš„åç§°ã€‚</p>
<p>ä»»ä½•ä¸€ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„classå¯¹è±¡ï¼Œæä¾›äº†è¯¥ç±»çš„å±æ€§ã€æ–¹æ³•ã€æ„é€ å™¨ã€å®ç°çš„æ¥å£ã€‚ä¸”å¯¹è±¡ä»…èƒ½é€šè¿‡ç³»ç»Ÿåˆ›å»ºã€åœ¨JVMä¸­åªæœ‰ä¸€ä¸ªClasså®ä¾‹ã€ä¸€ä¸ªClasså¯¹è±¡å¯¹åº”ä¸€ä¸ªåŠ è½½åˆ°JVMä¸­çš„.classæ–‡ä»¶ã€æ¯ä¸ªç±»çš„å®ä¾‹éƒ½è®°ç€è‡ªå·±æ˜¯ç”±é‚£ä¸ªClasså¯¹è±¡ç”Ÿæˆã€é€šè¿‡Classå¯¹è±¡å¯ä»¥å®Œæ•´çš„è·å–åˆ°ä¸€ä¸ªç±»è¢«åŠ è½½çš„ç»“æ„ã€<strong>Classå¯¹è±¡æ˜¯Reflectionçš„æ ¹æºï¼Œè·å–ç›¸åº”çš„Classå¯¹è±¡åæ‰èƒ½åŠ¨æ€åŠ è½½å’Œè¿è¡ŒæŸä¸ªç±»</strong></p>
<p>Classç±»çš„å¸¸ç”¨æ–¹æ³•ï¼š<br><img src="https://img-blog.csdnimg.cn/20210318153739618.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BpMzE0MTU5MjY1MzV4,size_16,color_FFFFFF,t_70" alt=""></p>
<h4 id="é‚£äº›ç±»å‹å¯ä»¥æœ‰Classå¯¹è±¡ï¼š"><a href="#é‚£äº›ç±»å‹å¯ä»¥æœ‰Classå¯¹è±¡ï¼š" class="headerlink" title="é‚£äº›ç±»å‹å¯ä»¥æœ‰Classå¯¹è±¡ï¼š"></a>é‚£äº›ç±»å‹å¯ä»¥æœ‰Classå¯¹è±¡ï¼š</h4><ul>
<li>class :å¤–éƒ¨ç±»ã€æˆå‘˜ã€å±€éƒ¨å†…éƒ¨ç±»ã€åŒ¿åå†…éƒ¨ç±»</li>
<li>interfaceï¼š</li>
<li>[]</li>
<li>enum</li>
<li>annotation</li>
<li>primitive type: åŸºæœ¬æ•°æ®ç±»å‹</li>
<li>void</li>
</ul>
<p><strong>åªè¦å…ƒç´ ç±»å‹å’Œç»´åº¦ä¸€è‡´ï¼Œclasså°±ç›¸åŒ</strong></p>
<h3 id="ç±»çš„åˆå§‹åŒ–"><a href="#ç±»çš„åˆå§‹åŒ–" class="headerlink" title="ç±»çš„åˆå§‹åŒ–"></a>ç±»çš„åˆå§‹åŒ–</h3><p>åªæœ‰åœ¨ <strong>ç±»çš„ä¸»åŠ¨å¼•ç”¨</strong> ä¼šå‘ç”Ÿç±»çš„åˆå§‹åŒ–ï¼Œå¦‚ï¼š</p>
<ul>
<li>main</li>
<li>new </li>
<li>è°ƒç”¨éå¸¸é‡çš„é™æ€èµ„æº</li>
<li>reflectåŒ…ä¸­çš„åå°„è°ƒç”¨</li>
<li>å½“åˆå§‹åŒ–ä¸€ä¸ªç±»æ—¶ï¼Œçˆ¶ç±»æœªè¢«åˆå§‹åŒ–ä¼šå…ˆåˆå§‹åŒ–çˆ¶ç±»</li>
</ul>
<p><strong>ç±»çš„è¢«åŠ¨å¼•ç”¨</strong> ä¸ä¼šå‘ç”Ÿç±»çš„åˆå§‹åŒ–ï¼Œ å¦‚æœï¼š</p>
<ul>
<li>è®¿é—®é™æ€åŸŸï¼Œä»…çœŸæ­£å£°æ˜è¯¥åŸŸçš„ç±»ä¼šåˆå§‹åŒ–ï¼ˆé€šè¿‡å­ç±»è°ƒç”¨çˆ¶ç±»çš„é™æ€å˜é‡ï¼Œå­ç±»ä¸åˆå§‹åŒ–ï¼‰</li>
<li>æ•°ç»„å¼•ç”¨</li>
<li>å¼•ç”¨å¸¸é‡ï¼ˆå¸¸é‡åœ¨é“¾æ¥é˜¶æ®µå°±å·²å­˜å…¥åˆ°è°ƒç”¨ç±»çš„ å¸¸é‡æ± ä¸­äº†ï¼‰</li>
</ul>
<h3 id="ç±»åŠ è½½å™¨çš„ä½œç”¨"><a href="#ç±»åŠ è½½å™¨çš„ä½œç”¨" class="headerlink" title="ç±»åŠ è½½å™¨çš„ä½œç”¨"></a>ç±»åŠ è½½å™¨çš„ä½œç”¨</h3><p>ç±»åŠ è½½çš„ä½œç”¨ï¼šå°†classæ–‡ä»¶å­—èŠ‚ç å†…å®¹åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œå¹¶å°†è¿™äº›é™æ€æ•°æ®è½¬åŒ–ä¸ºæ–¹æ³•åŒºçš„è¿è¡Œæ—¶çš„æ•°æ®ç»“æ„ï¼Œç„¶ååœ¨å †ä¸­ç”Ÿæˆä¸€ä¸ªä»£è¡¨è¿™ä¸ªç±»çš„java.lang.Classå¯¹è±¡ï¼Œä½œä¸ºæ–¹æ³•åŒºä¸­ç±»æ•°æ®çš„è®¿é—®å…¥å£</p>
<p>åŠ è½½çš„ç±»ä¼šè¿›è¡Œç±»ç¼“å­˜</p>
<p>ç±»åŠ è½½å™¨çš„ç±»å‹ï¼š</p>
<ul>
<li>å¼•å¯¼ç±»åŠ è½½å™¨ï¼šC++ç¼–å†™ï¼ŒJVMè‡ªå¸¦åŠ è½½å™¨ï¼Œ<strong>è´Ÿè´£Javaå¹³å°æ ¸å¿ƒåº“</strong> ç”¨æ¥è£…è½½æ ¸å¿ƒç±»åº“ã€‚è¯¥åŠ è½½å™¨æ— æ³•ç›´æ¥è·å–</li>
<li>æ‰©å±•ç±»åŠ è½½å™¨ï¼šè´Ÿè´£jre/lib/extä¸‹çš„jaråŒ…æˆ–è€… <code>-D java.ext.dirs</code> æŒ‡å®šçš„jaråŒ…è£…å…¥å·¥ä½œåº“</li>
<li>ç³»ç»Ÿç±»åŠ è½½å™¨ï¼šè´Ÿè´£ <code>java -classpath</code> æˆ– <code>-D java.class.path</code> æ‰€æŒ‡ç›®å½•ä¸‹çš„ç±»ä¸jaråŒ…è£…å…¥å·¥ä½œï¼Œæ˜¯æœ€å¸¸ç”¨çš„åŠ è½½å™¨</li>
</ul>
<p>æŸ¥çœ‹æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> reflection;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ClassLoaderTest</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ClassNotFoundException </span>&#123;<br>        <span class="hljs-comment">// è·å– ç³»ç»Ÿç±»åŠ è½½å™¨</span><br>        ClassLoader systemClassLoader = ClassLoader.getSystemClassLoader();<br>        System.out.println(systemClassLoader);<br><br>        <span class="hljs-comment">// è·å– ç³»ç»Ÿç±»åŠ è½½å™¨çš„çˆ¶ç±»åŠ è½½å™¨ï¼š æ‰©å±•ç±»åŠ è½½å™¨</span><br>        ClassLoader parent = systemClassLoader.getParent();<br>        System.out.println(parent);<br><br>        <span class="hljs-comment">// è·å– æ‰©å±•ç±»çš„çˆ¶ç±»åŠ è½½å™¨ï¼šæ ¹åŠ è½½å™¨ï¼šå¼•å¯¼ç±»åŠ è½½å™¨ï¼ˆC/C++ï¼‰</span><br>        ClassLoader parentParent = parent.getParent();<br>        System.out.println(parentParent);<br><br><br>        <span class="hljs-comment">// æµ‹è¯•å½“å‰ç±»æ˜¯å“ªä¸ªåŠ è½½å™¨åŠ è½½çš„</span><br>        ClassLoader classLoader = Class.forName(<span class="hljs-string">&quot;reflection.ClassLoaderTest&quot;</span>).getClassLoader();<br>        System.out.println(classLoader);<br>        <span class="hljs-comment">// æ˜¾ç„¶ï¼Œè¯¥ç±»æ˜¯ç”¨æˆ·è‡ªå®šä¹‰ç±»ï¼Œæ•…ä¸ºç³»ç»Ÿç±»åŠ è½½å™¨åŠ è½½</span><br><br>        <span class="hljs-comment">// æµ‹è¯•JDKå†…ç½®ç±»æ˜¯å“ªä¸ªåŠ è½½å™¨åŠ è½½çš„</span><br>        ClassLoader classLoader1 = Class.forName(<span class="hljs-string">&quot;java.lang.Object&quot;</span>).getClassLoader();<br>        System.out.println(classLoader1);<br>        <span class="hljs-comment">// æ˜¾ç„¶æ˜¯æ ¸å¿ƒåŠ è½½çš„</span><br><br>        <span class="hljs-comment">// ç³»ç»Ÿç±»åŠ è½½å™¨å¯ä»¥åŠ è½½çš„è·¯å¾„ï¼š</span><br>        System.out.println(System.getProperty(<span class="hljs-string">&quot;java.class.path&quot;</span>));<br>        <span class="hljs-comment">/*</span><br><span class="hljs-comment">            D:\JavaDevelopmentKit8\jre\lib\charsets.jar;</span><br><span class="hljs-comment">            D:\JavaDevelopmentKit8\jre\lib\deploy.jar;</span><br><span class="hljs-comment">            ...</span><br><span class="hljs-comment">            D:\JavaDevelopmentKit8\jre\lib\rt.jar;</span><br><span class="hljs-comment">            G:\learning\spring\annotation&amp;reflection\target\classes;</span><br><span class="hljs-comment">            D:\JetBrains\IntelliJ IDEA 2020.1.3\lib\idea_rt.jar</span><br><span class="hljs-comment">         */</span><br>        <br>        <span class="hljs-comment">// å…¶æ¬¡ åŒäº²å§”æ´¾æœºåˆ¶ å¯ä»¥ä¿è¯ç±»çš„åŠ è½½çš„å®‰å…¨æœ‰æ•ˆæ€§</span><br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<figure class="highlight apache"><table><tr><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">sun</span>.misc.Launcher$AppClassLoader@<span class="hljs-number">18</span>b<span class="hljs-number">4</span>aac<span class="hljs-number">2</span><br><span class="hljs-attribute">sun</span>.misc.Launcher$ExtClassLoader@<span class="hljs-number">1</span>b<span class="hljs-number">6</span>d<span class="hljs-number">3586</span><br><span class="hljs-attribute">null</span><br><span class="hljs-attribute">sun</span>.misc.Launcher$AppClassLoader@<span class="hljs-number">18</span>b<span class="hljs-number">4</span>aac<span class="hljs-number">2</span><br><span class="hljs-attribute">null</span><br></code></pre></td></tr></table></figure>
<h3 id="é€šè¿‡åå°„æ¥æ“ä½œå¯¹è±¡ï¼šï¼ˆå®ä¾‹åŒ–ã€è°ƒç”¨æ–¹æ³•ã€è®¿é—®å±æ€§ç­‰"><a href="#é€šè¿‡åå°„æ¥æ“ä½œå¯¹è±¡ï¼šï¼ˆå®ä¾‹åŒ–ã€è°ƒç”¨æ–¹æ³•ã€è®¿é—®å±æ€§ç­‰" class="headerlink" title="é€šè¿‡åå°„æ¥æ“ä½œå¯¹è±¡ï¼šï¼ˆå®ä¾‹åŒ–ã€è°ƒç”¨æ–¹æ³•ã€è®¿é—®å±æ€§ç­‰"></a>é€šè¿‡åå°„æ¥æ“ä½œå¯¹è±¡ï¼šï¼ˆå®ä¾‹åŒ–ã€è°ƒç”¨æ–¹æ³•ã€è®¿é—®å±æ€§ç­‰</h3><figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> reflection;<br><br><span class="hljs-keyword">import</span> pojo.User;<br><br><span class="hljs-keyword">import</span> java.lang.reflect.Constructor;<br><span class="hljs-keyword">import</span> java.lang.reflect.Field;<br><span class="hljs-keyword">import</span> java.lang.reflect.InvocationTargetException;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * date: 2021/3/19 14:51</span><br><span class="hljs-comment"> * author: 31415926535x</span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-comment">// åŠ¨æ€åˆ›å»ºå¯¹è±¡</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DynamicInstance</span> </span>&#123;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ClassNotFoundException, IllegalAccessException, InstantiationException, NoSuchMethodException, InvocationTargetException, NoSuchFieldException </span>&#123;<br>        <span class="hljs-comment">// é€šè¿‡åŒ…åè·¯å¾„è·å¾—Classå¯¹è±¡</span><br>        Class cl = Class.forName(<span class="hljs-string">&quot;pojo.User&quot;</span>);<br><br>        <span class="hljs-comment">// ä½¿ç”¨newInstance()æ„é€ å¯¹è±¡</span><br>        <span class="hljs-comment">// æœ¬è´¨æ˜¯è°ƒç”¨ç±»çš„æ— å‚æ„é€ å™¨</span><br>        User user = (User)cl.newInstance();<br>        System.out.println(user);<br><br>        System.out.println(<span class="hljs-string">&quot;=================&quot;</span>);<br><br>        <span class="hljs-comment">// é€šè¿‡æ„é€ å™¨åˆ›å»ºå¯¹è±¡</span><br><br>        Constructor constructor = cl.getConstructor(String.class, <span class="hljs-keyword">int</span>.class, <span class="hljs-keyword">int</span>.class);<br>        user = (User)constructor.newInstance(<span class="hljs-string">&quot;2333&quot;</span>, <span class="hljs-number">233</span>, <span class="hljs-number">666</span>);<br>        System.out.println(user);<br><br>        System.out.println(<span class="hljs-string">&quot;=================&quot;</span>);<br><br>        <span class="hljs-comment">// é€šè¿‡åå°„è°ƒç”¨æ™®é€šæ–¹æ³•</span><br>        <span class="hljs-comment">// å³ method.invoke(å¯¹è±¡ï¼Œ æ–¹æ³•çš„å€¼) è°ƒç”¨æ™®é€šæ–¹æ³•</span><br>        User user2 = (User)cl.newInstance();<br>        cl.getDeclaredMethod(<span class="hljs-string">&quot;setName&quot;</span>, String.class).invoke(user2, <span class="hljs-string">&quot;emmmm&quot;</span>);<br>        System.out.println(user2);<br><br>        System.out.println(<span class="hljs-string">&quot;=================&quot;</span>);<br><br>        <span class="hljs-comment">// é€šè¿‡åå°„æ“ä½œå±æ€§</span><br>        <span class="hljs-comment">// privateå±æ€§ä¸èƒ½è®¿é—®</span><br>        <span class="hljs-comment">// å¯ä»¥é€šè¿‡è®¾ç½®setAccessibleä¸ºtrue</span><br>        <span class="hljs-comment">// å‚æ•°å€¼ä¸ºtrueæŒ‡ç¤ºåå°„çš„å¯¹è±¡åœ¨ä½¿ç”¨æ—¶åº”è¯¥å–æ¶ˆJavaè¯­è¨€è®¿é—®æ£€æŸ¥ï¼Œå¯ä»¥ä½¿å¾—æé«˜åå°„çš„æ•ˆç‡ï¼Œå¹¶èƒ½è®¿é—®ç§æœ‰æˆå‘˜</span><br>        <br>        User user3 = (User)cl.newInstance();<br>        <span class="hljs-keyword">try</span> &#123;<br>            cl.getDeclaredField(<span class="hljs-string">&quot;name&quot;</span>).set(user3, <span class="hljs-string">&quot;user3&quot;</span>);<br>            System.out.println(user3);<br>        &#125;<span class="hljs-keyword">catch</span> (Exception e)&#123;<br>            e.printStackTrace();<br>            System.out.println(<span class="hljs-string">&quot;ä¸èƒ½ç›´æ¥ä¿®æ”¹privateå±æ€§&quot;</span>);<br>        &#125;<br><br>        System.out.println(<span class="hljs-string">&quot;=================&quot;</span>);<br><br>        Field name = cl.getDeclaredField(<span class="hljs-string">&quot;name&quot;</span>);<br>        name.setAccessible(<span class="hljs-keyword">true</span>);<br>        name.set(user3, <span class="hljs-string">&quot;user3&quot;</span>);<br>        System.out.println(user3);<br><br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure>
<figure class="highlight asciidoc"><table><tr><td class="code"><pre><code class="hljs asciidoc">User&#123;name=<span class="hljs-emphasis">&#x27;null&#x27;</span>, age=0, id=0&#125;<br>=================<br>User&#123;name=<span class="hljs-emphasis">&#x27;2333&#x27;</span>, age=233, id=666&#125;<br>=================<br>User&#123;name=<span class="hljs-emphasis">&#x27;emmmm&#x27;</span>, age=0, id=0&#125;<br>=================<br>ä¸èƒ½ç›´æ¥ä¿®æ”¹privateå±æ€§<br>=================<br>User&#123;name=<span class="hljs-emphasis">&#x27;user3&#x27;</span>, age=0, id=0&#125;<br>java.lang.IllegalAccessException: Class reflection.DynamicInstance can not access a member of class pojo.User with modifiers &quot;&quot;<br><span class="hljs-code">	at sun.reflect.Reflection.ensureMemberAccess(Reflection.java:102)</span><br><span class="hljs-code">	at java.lang.reflect.AccessibleObject.slowCheckMemberAccess(AccessibleObject.java:296)</span><br><span class="hljs-code">	at java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:288)</span><br><span class="hljs-code">	at java.lang.reflect.Field.set(Field.java:761)</span><br><span class="hljs-code">	at reflection.DynamicInstance.main(DynamicInstance.java:49)</span><br></code></pre></td></tr></table></figure>
<h4 id="æ•ˆç‡åˆ†æ"><a href="#æ•ˆç‡åˆ†æ" class="headerlink" title="æ•ˆç‡åˆ†æ"></a>æ•ˆç‡åˆ†æ</h4><p>ç†è®ºä¸Šï¼Œç›´æ¥newå®ä¾‹åŒ– &gt; å…³é—­æ£€æµ‹setAcessible(true) &gt; ä¸å…³é—­çš„åå°„æ–¹å¼</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> reflection;<br><br><span class="hljs-keyword">import</span> pojo.User;<br><br><span class="hljs-keyword">import</span> java.lang.reflect.InvocationTargetException;<br><span class="hljs-keyword">import</span> java.lang.reflect.Method;<br><span class="hljs-keyword">import</span> java.sql.Time;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * date: 2021/3/19 15:18</span><br><span class="hljs-comment"> * author: 31415926535x</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SetAccessibleTest</span> </span>&#123;<br><br>    <span class="hljs-comment">// æ™®é€šæ–¹å¼è°ƒç”¨</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test1</span><span class="hljs-params">()</span></span>&#123;<br>        User user = <span class="hljs-keyword">new</span> User();<br>        <span class="hljs-keyword">long</span> st = System.currentTimeMillis();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100000000</span>; i++) &#123;<br>            user.getName();<br>        &#125;<br>        <span class="hljs-keyword">long</span> et = System.currentTimeMillis();<br>        System.out.println(<span class="hljs-string">&quot;æ™®é€šæ–¹å¼è°ƒç”¨: &quot;</span> + (et - st) + <span class="hljs-string">&quot;ms&quot;</span>);<br>    &#125;<br><br><br>    <span class="hljs-comment">// åå°„æ–¹å¼è°ƒç”¨</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test2</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> ClassNotFoundException, NoSuchMethodException, InvocationTargetException, IllegalAccessException </span>&#123;<br>        User user = <span class="hljs-keyword">new</span> User();<br>        Class cl = Class.forName(<span class="hljs-string">&quot;pojo.User&quot;</span>);<br>        Method getName = cl.getDeclaredMethod(<span class="hljs-string">&quot;getName&quot;</span>, <span class="hljs-keyword">null</span>);<br><br>        <span class="hljs-keyword">long</span> st = System.currentTimeMillis();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100000000</span>; i++) &#123;<br>            getName.invoke(user, <span class="hljs-keyword">null</span>);<br>        &#125;<br>        <span class="hljs-keyword">long</span> et = System.currentTimeMillis();<br>        System.out.println(<span class="hljs-string">&quot;åå°„æ–¹å¼è°ƒç”¨: &quot;</span> + (et - st) + <span class="hljs-string">&quot;ms&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-comment">// å…³é—­æ£€æµ‹</span><br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test3</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> ClassNotFoundException, NoSuchMethodException, InvocationTargetException, IllegalAccessException </span>&#123;<br>        User user = <span class="hljs-keyword">new</span> User();<br>        Class cl = Class.forName(<span class="hljs-string">&quot;pojo.User&quot;</span>);<br>        Method getName = cl.getDeclaredMethod(<span class="hljs-string">&quot;getName&quot;</span>, <span class="hljs-keyword">null</span>);<br>        getName.setAccessible(<span class="hljs-keyword">true</span>);<br><br>        <span class="hljs-keyword">long</span> st = System.currentTimeMillis();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100000000</span>; i++) &#123;<br>            getName.invoke(user, <span class="hljs-keyword">null</span>);<br>        &#125;<br>        <span class="hljs-keyword">long</span> et = System.currentTimeMillis();<br>        System.out.println(<span class="hljs-string">&quot;åå°„æ–¹å¼è°ƒç”¨: &quot;</span> + (et - st) + <span class="hljs-string">&quot;ms&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ClassNotFoundException, NoSuchMethodException, IllegalAccessException, InvocationTargetException </span>&#123;<br>        test1();<br>        test2();<br>        test3();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<figure class="highlight makefile"><table><tr><td class="code"><pre><code class="hljs makefile"><span class="hljs-section">æ™®é€šæ–¹å¼è°ƒç”¨: 0ms</span><br><span class="hljs-section">åå°„æ–¹å¼è°ƒç”¨: 171ms</span><br>åå°„æ–¹å¼è°ƒç”¨ å…³é—­æ£€æµ‹: 125ms<br></code></pre></td></tr></table></figure>
<h3 id="è·å–æ³›å‹ä¿¡æ¯"><a href="#è·å–æ³›å‹ä¿¡æ¯" class="headerlink" title="è·å–æ³›å‹ä¿¡æ¯"></a>è·å–æ³›å‹ä¿¡æ¯</h3><p>å¯¹äºåå°„è·å–åˆ°çš„ä¸€ä¸ªæ–¹æ³•methodï¼Œå¯ä»¥é€šè¿‡ <code>getGenericParameterTypes</code>ç­‰æ–¹æ³•æ¥è·å–åˆ°å‚æ•°ã€è¿”å›å€¼ç­‰æ³›å‹æ•°æ®çš„ä¿¡æ¯ã€‚ï¼ˆæ³›å‹æ•°æ®ä¿¡æ¯ä¼šåœ¨ç¼–è¯‘å™¨è¢«ä¸¢å¼ƒï¼Œæ•…å¯ä»¥é€šè¿‡æ­¤æ–¹æ³•æ¥é‡æ–°è·å–åˆ°ï¼‰ </p>
<h2 id="é€šè¿‡åå°„å¯¹è±¡æ¥è·å–æ³¨è§£ä¿¡æ¯"><a href="#é€šè¿‡åå°„å¯¹è±¡æ¥è·å–æ³¨è§£ä¿¡æ¯" class="headerlink" title="é€šè¿‡åå°„å¯¹è±¡æ¥è·å–æ³¨è§£ä¿¡æ¯"></a>é€šè¿‡åå°„å¯¹è±¡æ¥è·å–æ³¨è§£ä¿¡æ¯</h2><p>é€šè¿‡åå°„è·å–çš„classå¯¹è±¡å¯ä»¥è·å–å…¶èº«ä¸Šæ‰€æ ‡æ³¨çš„æ³¨è§£çš„å€¼ï¼Œé€šè¿‡æ­¤å³å¯è¾¾åˆ°ä½¿ç”¨æ³¨è§£æ¥è®¾å®šæŸäº›å¯¹è±¡çš„å±æ€§å€¼ï¼Œå³å„ç§æ¡†æ¶ä¸­æ³¨è§£çš„æ‰§è¡Œæœºåˆ¶ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> reflection;<br><br><span class="hljs-keyword">import</span> java.lang.annotation.*;<br><span class="hljs-keyword">import</span> java.lang.reflect.Field;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * date: 2021/3/19 15:34</span><br><span class="hljs-comment"> * author: 31415926535x</span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-comment">// åå°„æ“ä½œæ³¨è§£</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AnnotationAndReflection</span> </span>&#123;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> ClassNotFoundException, NoSuchFieldException </span>&#123;<br>        Class cl = Class.forName(<span class="hljs-string">&quot;reflection.Student&quot;</span>);<br><br>        <span class="hljs-comment">// é€šè¿‡åå°„çš„æ–¹å¼è·å–æ³¨è§£</span><br>        Annotation[] annotations = cl.getAnnotations();<br>        <span class="hljs-keyword">for</span> (Annotation annotation : annotations) &#123;<br>            System.out.println(annotation);<br>        &#125;<br><br>        <span class="hljs-comment">// è·å–æ³¨è§£çš„å€¼</span><br>        TableClassAnnotation tableClassAnnotation = (TableClassAnnotation) cl.getAnnotation(TableClassAnnotation.class);<br>        System.out.println(tableClassAnnotation.value());<br>        <span class="hljs-comment">// è¿™é‡Œçš„æ“ä½œå³å¯è§£é‡Šå„ç§æ¡†æ¶ä¸­çš„æ³¨è§£æ‰€è®¾å®šçš„ value å€¼çš„ä½œç”¨æœºåˆ¶äº†</span><br>        <span class="hljs-comment">// å³ï¼Œé€šè¿‡è®¾å®šæ³¨è§£çš„å€¼ï¼Œå¦‚ Controller(value=&quot;./static&quot;) å³åˆ¶å®šäº†Controllerè¿™ä¸ªæ³¨è§£å¯¹è±¡çš„å€¼</span><br>        <span class="hljs-comment">// ç›¸å…³æ¡†æ¶å³å¯é€šè¿‡ä»¥ä¸Šæ–¹å¼è·å–å€¼ï¼Œè¿›è€Œå®ç°æŒ‡å®šæ³¨è§£å€¼æ¥è®¾ç½®ç›¸å…³ç±»çš„æŸä¸ªï¼ˆç±»ã€å±æ€§ï¼‰çš„å€¼</span><br><br><br>        <span class="hljs-comment">// è·å¾—ç±»æŒ‡å®šçš„æ³¨è§£</span><br>        Field name = cl.getDeclaredField(<span class="hljs-string">&quot;name&quot;</span>);<br>        TableFieldAnnotation annotation = name.getAnnotation(TableFieldAnnotation.class);<br>        System.out.println(annotation.columnName());<br>        System.out.println(annotation.type());<br>        System.out.println(annotation.length());<br>    &#125;<br><br><br>&#125;<br><br><br><span class="hljs-comment">// è‡ªå®šä¹‰æ³¨è§£</span><br><br><span class="hljs-comment">// ç±»åæ³¨è§£</span><br><span class="hljs-meta">@Target(ElementType.TYPE)</span><br><span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span><br><span class="hljs-meta">@interface</span> TableClassAnnotation&#123;<br>    <span class="hljs-function">String <span class="hljs-title">value</span><span class="hljs-params">()</span></span>;<br>&#125;<br><br><span class="hljs-comment">// å±æ€§çš„æ³¨è§£</span><br><span class="hljs-comment">// å¯ä»¥ç†è§£ä¸ºå¯¹åº”æ•°æ®åº“ä¸­æ¯ä¸ªå­—æ®µçš„å±æ€§</span><br><span class="hljs-meta">@Target(ElementType.FIELD)</span><br><span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span><br><span class="hljs-meta">@interface</span> TableFieldAnnotation&#123;<br>    <span class="hljs-function">String <span class="hljs-title">columnName</span><span class="hljs-params">()</span></span>;<br>    <span class="hljs-function">String <span class="hljs-title">type</span><span class="hljs-params">()</span></span>;<br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">length</span><span class="hljs-params">()</span></span>;<br>&#125;<br><span class="hljs-meta">@TableClassAnnotation(&quot;db_studnet&quot;)</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Student</span></span>&#123;<br>    <span class="hljs-meta">@TableFieldAnnotation(columnName = &quot;db_name&quot;, type = &quot;varchar&quot;, length = 20)</span><br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-meta">@TableFieldAnnotation(columnName = &quot;db_age&quot;, type = &quot;int&quot;, length = 10)</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> age;<br>    <span class="hljs-meta">@TableFieldAnnotation(columnName = &quot;db_id&quot;, type = &quot;int&quot;, length = 10)</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> id;<br><br><br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Student</span><span class="hljs-params">()</span> </span>&#123;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Student</span><span class="hljs-params">(String name, <span class="hljs-keyword">int</span> age, <span class="hljs-keyword">int</span> id)</span> </span>&#123;<br><br>        <span class="hljs-keyword">this</span>.name = name;<br>        <span class="hljs-keyword">this</span>.age = age;<br>        <span class="hljs-keyword">this</span>.id = id;<br>    &#125;<br><br><span class="hljs-comment">//     get set tostringæ–¹æ³•ï¼š</span><br>&#125;<br></code></pre></td></tr></table></figure>
<figure class="highlight reasonml"><table><tr><td class="code"><pre><code class="hljs reasonml">@reflection.<span class="hljs-constructor">TableClassAnnotation(<span class="hljs-params">value</span>=<span class="hljs-params">db_studnet</span>)</span><br>db_studnet<br>db_name<br>varchar<br><span class="hljs-number">20</span><br></code></pre></td></tr></table></figure>
]]></content>
  </entry>
  <entry>
    <title>ç¬”è®°-onedrive-cfé…ç½®è®°å½•</title>
    <url>/2021/06/14/%E7%AC%94%E8%AE%B0-onedrive-cf%E9%85%8D%E7%BD%AE%E8%AE%B0%E5%BD%95/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>æœ¬æ–‡ä¸»è¦è®°å½•ä¸€ä¸‹é…ç½®OneDriveçš„ä¸œè¥¿ï¼Œ<a href="https://github.com/spencerwooo/onedrive-cf-index/blob/main/README-CN.md">å…·ä½“å¯è§æ­¤å¤„</a></p>
<p>OneDriveæä¾›ä¸€ä¸ªå¼€å‘è€…è´¦å·ï¼Œå¯ä»¥ç™½å«–1T+çš„ç©ºé—´ï¼Œæ‰€ä»¥å¯ä»¥å°†å…¶ä½œä¸ºä¸€ä¸ªç½‘ç›˜ï¼Œæœ¬æ–‡æ­å»ºä¸€ä¸ªåŸºäºcfçš„ç½‘é¡µç½‘ç›˜é¡¹ç›®ï¼Œè€Œä¿è¯è´¦å·çš„å­˜æ´»éœ€è¦å‚çœ‹æœ‰å…³e5è‡ªåŠ¨ç»­è´¹çš„é…ç½®ã€‚</p>
<h1 id="è·å–OneDriveçš„å„ç§token"><a href="#è·å–OneDriveçš„å„ç§token" class="headerlink" title="è·å–OneDriveçš„å„ç§token"></a>è·å–OneDriveçš„å„ç§token</h1><ul>
<li>æ‰“å¼€ <a href="https://portal.azure.com/#blade/Microsoft_AAD_RegisteredApps/ApplicationsListBlade">Microsoft Azure App registrations</a> åˆ›å»ºä¸€ä¸ªapiï¼Œï¼ˆè²Œä¼¼é•¿æ—¶é—´ä¸è°ƒç”¨ï¼Œapiå°±ä¼šå¤±æ•ˆï¼‰</li>
<li><a href="https://github.com/spencerwooo/onedrive-cf-index/blob/main/README-CN.md">ç›´æ¥æŒ‰ç…§è¿™ä¸ªæ¥ï¼Œä¸€æ­¥åˆ°ä½</a></li>
</ul>
<p>(ä»¥ä¸‹ä¸ºå¤‡ä»½ï¼šï¼‰</p>
<p>ç”Ÿæˆ OneDrive API ä»¤ç‰Œ<br>è®¿é—®æ­¤ URL åˆ›å»ºæ–°çš„ Blade appï¼šMicrosoft Azure App registrationsï¼ˆæ™®é€šç‰ˆ OneDriveï¼‰æˆ– Microsoft Azure.cn App registrationsï¼ˆOneDrive ä¸–çºªäº’è”ç‰ˆæœ¬ï¼‰ï¼Œå»ºè®®å°†è¯­è¨€è®¾ç½®ä¸ºã€Œè‹±è¯­ã€ä»¥ä¿è¯ä»¥ä¸‹æ­¥éª¤ä¸­æåˆ°çš„æ¨¡å—å’ŒæŒ‰é’®çš„åç§°ä¸€è‡´ï¼š</p>
<p>ä½¿ç”¨ä½ çš„ Microsoft è´¦æˆ·ç™»å½•ï¼Œé€‰æ‹© New registrationï¼›<br>åœ¨ Name å¤„è®¾ç½® Blade app çš„åç§°ï¼Œæ¯”å¦‚ my-onedrive-cf-indexï¼›<br>å°† Supported account types è®¾ç½®ä¸º Accounts in any organizational directory (Any Azure AD directory - Multitenant) and personal Microsoft accounts (e.g. Skype, Xbox)ã€‚OneDrive ä¸–çºªäº’è”ç”¨æˆ·è®¾ç½®ä¸ºï¼šä»»ä½•ç»„ç»‡ç›®å½•ï¼ˆä»»ä½• Azure AD ç›®å½• - å¤šç§Ÿæˆ·ï¼‰ä¸­çš„å¸æˆ·ï¼›<br>å°† Redirect URI (optional) è®¾ç½®ä¸º Webï¼ˆä¸‹æ‹‰é€‰é¡¹æ¡†ï¼‰ä»¥åŠ <a href="http://localhostï¼ˆURL">http://localhostï¼ˆURL</a> åœ°å€ï¼‰ï¼›<br>ç‚¹å‡» Register.</p>
<p>åœ¨ Overview é¢æ¿è·å–ä½ çš„ Application (client) ID - client_idï¼š</p>
<p>æ‰“å¼€ Certificates &amp; secrets é¢æ¿ï¼Œç‚¹å‡» New client secretï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„å«åš client_secret çš„ Client secretï¼Œå¹¶å°† Expires è®¾ç½®ä¸º Neverã€‚ç‚¹å‡» Add å¹¶å¤åˆ¶ client_secret çš„ Value å¹¶ä¿å­˜ä¸‹æ¥ ï¼ˆä»…æœ‰æ­¤ä¸€æ¬¡æœºä¼šï¼‰ï¼š</p>
<p>æ‰“å¼€ API permissions é¢æ¿ï¼Œé€‰æ‹© Microsoft Graphï¼Œé€‰æ‹© Delegated permissionsï¼Œå¹¶æœç´¢ offline_access, Files.Read, Files.Read.All è¿™ä¸‰ä¸ªæƒé™ï¼Œé€‰æ‹©è¿™ä¸‰ä¸ªæƒé™ï¼Œå¹¶ç‚¹å‡» Add permissionsï¼š</p>
<p>ä½ åº”è¯¥æˆåŠŸå¼€å¯è¿™ä¸‰ä¸ªæƒé™ï¼š</p>
<p>è·å– refresh_tokenï¼Œåœ¨æœ¬æœºï¼ˆéœ€è¦ Node.js å’Œ npm ç¯å¢ƒï¼Œå®‰è£…å’Œæ¨èé…ç½®è¯·å‚è€ƒ å‡†å¤‡å·¥ä½œï¼‰ä¸Šé¢æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p>
<p>npx @beetcb/ms-graph-cli<br>demo gif<br>æ ¹æ®ä½ è‡ªå·±çš„æƒ…å†µé€‰æ‹©åˆé€‚çš„é€‰é¡¹ï¼Œå¹¶è¾“å…¥æˆ‘ä»¬ä¸Šé¢è·å–åˆ°çš„ä¸€ç³»åˆ— token ä»¤ç‰Œé…ç½®ç­‰ï¼Œå…¶ä¸­ redirect_url å¯ä»¥ç›´æ¥è®¾ç½®ä¸º <a href="http://localhostã€‚æœ‰å…³å‘½ä»¤è¡Œå·¥å…·çš„å…·ä½“ä½¿ç”¨æ–¹æ³•è¯·å‚è€ƒï¼šbeetcb/ms-graph-cliã€‚">http://localhostã€‚æœ‰å…³å‘½ä»¤è¡Œå·¥å…·çš„å…·ä½“ä½¿ç”¨æ–¹æ³•è¯·å‚è€ƒï¼šbeetcb/ms-graph-cliã€‚</a></p>
<p>æœ€åï¼Œåœ¨æˆ‘ä»¬çš„ OneDrive ä¸­åˆ›å»ºä¸€ä¸ªå…¬å…±åˆ†äº«æ–‡ä»¶å¤¹ï¼Œæ¯”å¦‚ /Public å³å¯ã€‚å»ºè®®ä¸è¦ç›´æ¥åˆ†äº«æ ¹ç›®å½•!</p>
<p>æœ€åï¼Œè¿™ä¹ˆæŠ˜è…¾å®Œï¼Œæˆ‘ä»¬åº”è¯¥æˆåŠŸæ‹¿åˆ°å¦‚ä¸‹çš„å‡ ä¸ªå‡­è¯ï¼š</p>
<p>refresh_token<br>client_id<br>client_secret<br>redirect_uri<br>baseï¼šé»˜è®¤ä¸º /Publicã€‚</p>
<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li>client_secret çš„ Value ç°åœ¨åªèƒ½è®¾ç½®æœ€é•¿2å¹´äº†</li>
</ul>
<h1 id="cfé…ç½®"><a href="#cfé…ç½®" class="headerlink" title="cfé…ç½®"></a>cfé…ç½®</h1><p>è·å–åˆ°ä»¥ä¸Šçš„tokenåï¼Œ<code>wrangler login</code> ç™»å½•cf</p>
<p>ä¿®æ”¹ src/config/default.jsï¼š</p>
<p>client_idï¼šåˆšåˆšè·å–çš„ OneDrive client_idï¼›</p>
<p>ä½¿ç”¨ wrangler æ·»åŠ  Cloudflare Workers ç¯å¢ƒå˜é‡</p>
<figure class="highlight vala"><table><tr><td class="code"><pre><code class="hljs vala"><span class="hljs-meta"># æ·»åŠ æˆ‘ä»¬çš„ refresh_token å’Œ client_secret</span><br>wrangler secret put REFRESH_TOKEN<br><span class="hljs-meta"># ... å¹¶åœ¨è¿™é‡Œç²˜è´´æˆ‘ä»¬çš„ refresh_token</span><br><br>wrangler secret put CLIENT_SECRET<br><span class="hljs-meta"># ... å¹¶åœ¨è¿™é‡Œç²˜è´´æˆ‘ä»¬çš„ client_secret</span><br><br>wrangler secret put AUTH_PASSWORD<br><span class="hljs-meta"># ... åœ¨è¿™é‡Œè¾“å…¥æˆ‘ä»¬è‡ªå·±è®¾ç½®çš„è®¤è¯å¯†ç </span><br></code></pre></td></tr></table></figure>
<p>å‘å¸ƒï¼š <code>wrangler publish</code></p>
]]></content>
  </entry>
  <entry>
    <title>ç¬”è®°-ä»é‡åŒ–å®½æ¾åˆ°å½“ä»Šä¸–ç•Œçš„é‡‘èæ¸¸æˆ</title>
    <url>/2021/05/16/%E7%AC%94%E8%AE%B0-%E4%BB%8E%E9%87%8F%E5%8C%96%E5%AE%BD%E6%9D%BE%E5%88%B0%E5%BD%93%E4%BB%8A%E4%B8%96%E7%95%8C%E7%9A%84%E9%87%91%E8%9E%8D%E6%B8%B8%E6%88%8F/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">
  <script id="hbeData" type="hbeData" data-hmacdigest="58c11c1ea371ab02bf55c5dca2678e3a3e6ba033c8bae2499a6b12a11f11c7d8">351fea9dffbb0cf1ff6c6b27295278ba964573ac3f9c1c2b81d357804ee9a3b63deed544aea779b1f5f5fb347342e231ccb28751fedd70754c5bac472aaa11c836c8cf38fc8ba8be3ff6fa26d28b71c9c9d14279fc361045978362034fbcd869c9a268710118709d1ddba4d5096221d1ae7e6b34948534e47251dcf7a739905049f0cca2328add89b9c3e82d5cfb2563ca4e075a374879fcb3fff85468582881410e35f8c7341cc43d6383dbd8adfb15a591e80df994bf9e944a7b8de29e37c82ba6a7468345de04c98cb9559859fab4c1f52eb847dea06829a485a93916890a605ff79f12bfbeaabf2dbc8609574406ca53dc90589cd58ce5444ddd83a7d6260b6a758d9323c2102502f5a1d7337ed4fcb83c4e91472e09233527057faf024e9697baa9a974fc0b9bbdd427107762268383d99ed19031bedc60e855e2b8f586c5822ae31070d7a098f86aa583c8620b241df603575eb587fa6a2cc83d61610019a04379a41f36958952fea8b6b73b54d55fbcaaa144b58d7c78a5a1a042a45d6f938c44241e3bb084f46257a1c8dd8414f4e7661a35f2d3e95e67710279c9cc8a4efe6fe0f5c23dcb961d1c12bb612fd4810bc4db759ec2bb62e74229d5ccd9a7fd8a16b9539af0b55dcc35f9fe3ed48a5dc2c447e51402faba7570a60d1abd609ecbde3aa1360eed52c93174eda68f4384b22f238e768eec8959a15a0bf18ca03ecbfebec158312da71c061566867a4d695e2e915a150516a237ab20556a740531ef0890fa1739e3e8522b7270a2fa97fba2a663e4ef98476826b9fdefaf492609560d3a5ebb338e099e51283d5223c934344bed6194990683f5f734ef0bbbb1d19fc26d77a03dc6820fcd5bfae95ad78ffdefb1eb47a3a73236ca1f5f2bddd987e92a86ab4e0f462140d6b10e0b233ea119be5c5c1c079278a17dbe4a19bf9e4ec12787eec1952209ec674dfacc9b630fee50822c849b51538e4f37d7e479bb0bf3d47e363e3a394ebdf44305e322b250ee5ee35844a3df5e7415e3d36ab7428549ff8e6b8165859828c15a0bd5cfecd8c5c04bdfc5bc15b9806fc291f5130493089122bec2e8a349d38ecb884ecd2ff0d003de2e7daec18f06ab8e7698f1591799c2148d2ad222b049b8008699e60994d138419235d918322ab5a8d5dc7c9fc0a8c396683d54666bfe41a52e744d133d6afddb5a54e54a5ae92374af707ff33aac3f7f36384d918da299f546bdf5c9f6970b2e5c7ed173617f238c9b031d2cbc84d28988fdd2bcd84d9c8bb79605137314355fcd48209a6f87f04e63e1d45f35bf36e9809a1f7947be7349729ac4134d9a35b13162f9b8290085e0d9e2858cd73d8644858b647c6152bf9f8b333040670eded42afc4260f675955da6e1a75345bcd73e686117e6cc6c9ceb161cf36d39f5a0e03ab041fdf298f279c5c659a6f6e37a6cd13264b7c991a844755d092bbf72c2fa349ee2de8edd0268f82d34d4a534c1c11911b8b1323372821fb6d60336e6d7d3280fcab6a81a1590a4766e0f1416ee0d80ec05a34a3500397f4fbd1e0b71bf483d4313c7a9c7d906605a425961a9c79aa771d8adc5b22cd83e49f1446d430e003dba2ccd8f1864cbceec272a2a3ab58b8d7fa6f6b09f5f90bda0ba6ff08d634d11a2c13c6ab589adca3c12957d7a8b02dea2c84f9f0ca003cc14700dc4077272bd5385f0f3da6dd0db918d25f32164be6e0c3cebe245498d0ae5c4ad9fbf2fb2a865490800691c9fbdb2f60c7bb94ce10de07e5a72dd3ef564dcd0bdb9366626b148de359833517d5c0fd814f770277b8f157b59d39d61d795a34d2d4e3af9968ac40eeec2e1cb160998e6fbada59c9314d30c7ab72d511767e9362683d2ccfa8cb5e5491dced9e5d33463a649390a61fc6aad92c78ce734a8e79eafd2248b726225011a1edd0808b6071c70b2ef1fe7a682f86848e69396b4da4426c64751eb45658fe38a700455801f50900a8cc19f9b07a8e59aa51f85cd618bbb8eb32142b8f85b1bfd297494e201de30ccaddcaf7ddc6f7c10b996e9c0b536ae2f1ebefed3d20140430757749fde2c4a78ecf4274f02b0b55f7b1b8a77b7b4760eaad0e26ff6b6d4cb1b211b5440d2f5992ccd81f3ca55e05259ab50d9c66b15854b328efa354d03290909dc54a85883100596cf55f5a472a8fd8dfbe46fe3b3feccdac3fb8a6e8604f115dda0641d95c1ceb4db26907188095272b0fffd8eb2c76301cd4cfbed348857ae9164d42caff18532518da6c650a98b64f5ba23ab201bb6fee17f10522d3d17747d462b30d3f8ae1db65bca255b545df8dc9422f6aaca4b1a1a5274b0de28f9abb7d9b97caca4302fe3d5c2689004b668e60d226edab99a096c83cca539f4eb786b64a6ef3d0a873565005c92b324e98bea55b9677f236f0e5eebb6aee091b20fc8091b97c901313e6b34e9bbf2a44194b83d2ea9904321f9840aeedad0e666013f36a16e5f14d6664231b356e66ae21d84d3e16a2f35f75f15ade26c2fb137be5017bff01def4e82156b52644dafd8931626b3767e9bfcdb20d503d56dc62671753dc41341cd2a1536d96d93e7d02867363c63f4649cd5d21c5d07c011f2dce9a624087e0caaf291d5258e5f3eebfe226eb3259c7df77ed0c4deaa72c3e864e386f0a6b7c6db58e5547259c12b4a804bb9981555178aceac9fd6a7c65d6875d8deac1d80bc49bace8c6defd18401f313d0ff62ad7ba1965b139894b38509b5003672949ff823e40651598a705a8f8baa41468b566abb3565f6944f6d2dfbfde213a739036b175b9cd1c3fd0c09abba24b3321ac95bfe5b739f5198ac6c5c23f467c0172d2a544ec4a7304e16dd2eb33baee5bb8377e46cf59ce0f7a3a0a0ff9590a2d9e609b3ebe6a02e4b3e407d8c02ace05b6a32c7307ca5b75101eb020bb865155fc062ac914c9c70a73460f26f9dcfbff28f0626ef391b3f5ae7225a2670ec75037ac14ff924ffb3bb72fb625e700d95d2ab3d5e2a4649ce4c89a4c06ba8eb99ce035ebd5d41770b0b96110026c01dd8ac4f51f2348158c0956cc41aed875ae3d86ff3b29a5821c627439408d1ca72a173c5c0be7769f050f123caf38126845dd946d0534c56623a8d0fa43e14d890defdc4b7cf235e15917b9c62c4105ffd22c8f54545630151f895cfff80e1962076a3a72928842eb8d9765c8a1cee26e3cb7e75a8a0ffbb6bcd9606485610e509755de2d0e568e93527215680fc053a888513666286c0ebf325603b191d960f6d2104dd873df6cfae762396c73b491f57f6c91092ae10aea911c42093beae9d9e9bb91ca3cc3b5016bfd170308370cdb2cb347bb9658b64f97850740e0dbaec2c2c428b1110ef382751a80cdfad5db4d541bb61e469080a62060dcc4073a5495dc38cc778d37a4953acb8b918a12b99ba7782c380a577351ceb2efa6ca0093e6bbc4fff1514ff59de452dea733e8c4d69b2377e90a0a713df8205f2c62c9f5ca42c4d9d71ab6436824196a37aa67f324bda20de3661fb11d12bdfba16ec76ba5e267ca91759c4b3bad10fbd91afe7405baccf50f436500860a1127869ef7f908b1e2752f64f05ff122e5f92340299f12f65d86731813710aacc44b1d835da8e9a57cbb0e066eb3e5a1cc83a7164452e4bd1e777226dc8e828ea2071b4e254911ef173dadcf2e266b68ef3c562c0e88f7342a294930e878c1f6f9d76d137e2e41f50c64b42db2cf96e625ed4e100b40541c9d9ace57dd5ba872c253c6fc72eaf4722d4b57a891e60217fe174f83a856a58a59ba7467ae866b6d7e3014de0327b8b721cb221a3c0adf2b86052f2b27058f1dec892aad4d1dc2c7ed9be7a5ee22f95c22dbcec4b52c004f2e93b628b5b35e9584f28b1c5dc874d2730686cc17177baf88bfcaa4e3af0a8e6636ce754cd27b80be475543cf4908797f8ad64bd0b32559358ce88f1c7f4296257fb98b812465256d4f0d32ba9380e279c712abe6db2da4af283bd020078032560af3c51e12d8ee74f95afe6c49c7856618b5e9c9fe7985f0a6afcc756b5027e5c9309037af7be80c149a41bece6d423e979857d9b388db39a299b5e4e075f3c26670be7db41a1754c1a0d397584419f515028b171201478629accbf789af87a51d323cf48613bb281b4b623f9d9c7cd47bd16a63c6d0782c9825acb4c961a4817b161978dd8dd71343f39e118bf58871f933a112caf2f9c505c1e447704aac93e5c581bfaa2201dd974619b0cf16b9901ebffbcf587d01c9ea77848ec3008c82d3f9aea16fe5358aab94ce7108349b72e3c0951f1260a624ecfd9cb3a69228a4344560d9922b86ef2923e6c459becf7b4efc4d8169e11c45e40511e4bbefec068d192d405c2eddfb3f76936a529ca9f29db69ed589c4165bbf4147f05e6ff66b673c5793537db741b1279a49b6ad887fbd426ad6559a6b950c9c5ad5ac30d003cefc01e773394f2446067436b2a144fabe736fc3ad1d2827443660048f6974147afc239a0dbc99429d2f3167fb1edb8f4b84a9aefb8e56a34717e4adb1d0b70b123d05397b345aa73aa6f06722d0c4082a965f480240547a8c837b50d71a13c26b5b1bfa02504149344e8ce1ba90cf9668dadb464b5c7e5d7d65a44c7ea6420520454358ee619e673fdbd90ccf5c2a6850844eb99885b0769c461aca1fc4b2d1b7296ca34515bb1240f905aa1f959f30b29bb244f38cb259da9a1416bd6cbe3f5f9179a7f122d2bee24ef527207b629a6a369b3b90558ee5329321e421f4650cd8c12a5bd01d312d69dc35f885c2d0988e28d7df452069608d68e318ca74f620f256d1c731e19030412cccf11f64e1fa653a77e050d4a0895d743b3ae1258ba1cf575c8cf6efbe1b64ca8a685ce46e4cc59e91feb1be5eaa45e27278f814daeb42e9e8038629d012b01d667452604698e338801d0de02def8d5ade0908e8c02b39b3cb1acfd5c47cf86a2a0de70ac04ec995f9251899b4f236c2d678f4196601c4f3cac26ef848b46c4d187c4ed66c471f7a8cdcb9ccdddd1c1e4e52757f14e8c25af48843cc2548bbdb58de7786a09e4544bc7de9a870ccbd41de6f37b41fb333fe0810a0e7665fd00d822d6406c37555e778ba7c2232588a2d81ef413b43e9c913eb9ab65332f11042c89f3c9430a72f83dfe4c4cfdefbb6519a2784bee09364ee9711b1ca2e36dc22ac8a86c9bd19376a80bb6900840480b9c2c461943f8fbf1f5908379ed0702693acffaa2976cfa7b0b89ac0dc22b2903110f983fd500b6d12c356cb98eb781e93d72bd64e06419bacf4d02f33401e2a2dc5b8b183382ca11ecec8289bde5f591456ec9629b4000c3990b51b06ce195a12477b08f037db2984aed4b15346efa25764020506d420152b8b199841cbb5789922ff05d7e7c28dc9aee6baa340d3bb731885b8a842063cadc6e47954df3ae87e581d511a73ba344f686c01cdc5d2d35</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
  </entry>
  <entry>
    <title>[ç¬”è®°]åº”ç”¨å†™ä½œ</title>
    <url>/2019/12/21/%E7%AC%94%E8%AE%B0-%E5%BA%94%E7%94%A8%E5%86%99%E4%BD%9C/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="ç»ªè®º"><a href="#ç»ªè®º" class="headerlink" title="ç»ªè®º"></a>ç»ªè®º</h1><ul>
<li>å†™ä½œçš„åˆ†ç±»ï¼š <strong>æ–‡å­¦åˆ›ä½œ</strong> è‰ºæœ¯å†™ä½œã€ <strong>åº”ç”¨å†™ä½œ</strong> å®ç”¨å†™ä½œï¼›</li>
<li>åº”ç”¨å†™ä½œçš„å‘å±•ï¼š <strong>èŒèŠ½æœŸ</strong> ï¼š ä¸Šå¤è‡³å…ˆç§¦æ—¶æœŸï¼ˆå‘¨æ˜“Â·ç³»è¾ã€å°šä¹¦ï¼ˆå…¸ã€è°Ÿã€è®­ã€è¯°ã€èª“ã€å‘½ï¼‰ï¼‰ <strong>åˆæ­¥å½¢æˆæ—¶æœŸ</strong> ï¼š ç§¦æ±‰æ—¶æœŸï¼ˆææ–¯ ã€Šè°é€å®¢ä¹¦ã€‹ æ™ç›– ã€Šè®ºè´µç²Ÿä¹¦ã€‹ å¸é©¬è¿ ã€ŠæŠ¥ä»»å®‰ä¹¦ã€‹ï¼‰<strong>å‘å±•æœŸ</strong> ï¼š ä¸‰å›½é­æ™‹å—åŒ—æœ ï¼ˆæ›¹æ“ ã€Šæ±‚è´¤ä»¤ã€‹ è¯¸è‘›äº®ã€Šå‡ºå¸ˆè¡¨ã€‹ <strong>æˆç†ŸæœŸ</strong> ï¼š å”å®‹æ—¶æœŸï¼ˆè‹è½¼ã€Šç­”åˆ˜å·¨æµä¹¦ã€‹ï¼‰ <strong>å®Œå–„æœŸ</strong> ï¼šå…ƒæ˜æ¸… åˆ†ä¸Šè¡Œã€å¹³è¡Œã€ä¸‹è¡Œæ–‡ <strong>æ”¹é©æœŸ</strong> ï¼š è¾›äº¥é©å‘½è‡³ä»Š</li>
<li>åº”ç”¨å†™ä½œçš„ç‰¹ç‚¹ï¼š åŠŸèƒ½å®ç”¨æ€§ã€å†…å®¹çš„çœŸå®æ€§ã€ä½“å¼çš„è§„å®šæ€§ã€è¡¨è¿°çš„ç®€çº¦æ€§ã€è¿ä½œçš„æ—¶æ•ˆæ€§</li>
<li>å­¦ä¹ åº”ç”¨å†™ä½œçš„åŸå› ï¼š ç¤¾ä¼š-éœ€è¦æ°å‡ºçš„è¡¨è¾¾è€…ã€ä¸ªäºº-ä¸ªäººåŸºæœ¬ç´ è´¨ï¼ŒæŠ€èƒ½ä¹‹ä¸€ã€è‡ªèº«ç‰¹ç‚¹å‘å±•è¶‹åŠ¿</li>
</ul>
<span id="more"></span>
<h1 id="ç³»ç»Ÿå†™ä½œç†è®º"><a href="#ç³»ç»Ÿå†™ä½œç†è®º" class="headerlink" title="ç³»ç»Ÿå†™ä½œç†è®º"></a>ç³»ç»Ÿå†™ä½œç†è®º</h1><h2 id="ç³»ç»Ÿå†™ä½œç†è®º-1"><a href="#ç³»ç»Ÿå†™ä½œç†è®º-1" class="headerlink" title="ç³»ç»Ÿå†™ä½œç†è®º"></a>ç³»ç»Ÿå†™ä½œç†è®º</h2><ul>
<li>ç³»ç»Ÿè®ºçš„æ ¸å¿ƒæ€æƒ³æ˜¯ <strong>ç³»ç»Ÿçš„æ•´ä½“è§‚å¿µ</strong> ï¼Œåˆ†æç³»ç»Ÿçš„ç»“æ„åŠŸèƒ½ï¼Œ ç ”ç©¶ç³»ç»Ÿã€è¦ç´ ã€ç¯å¢ƒ ä¸‰è€…çš„ç›¸äº’å…³ç³»å’Œå˜åŠ¨è§„å¾‹</li>
<li>åŸºæœ¬å†…å®¹ï¼š è€ƒå¯Ÿç³»ç»Ÿçš„ <strong>è¯­å¢ƒã€åŠŸèƒ½ã€ç»“æ„åŠå…¶æ¼”åŒ–è§„å¾‹</strong></li>
<li><strong>æ–‡ä½“åˆ†ç±»</strong> ï¼š è®¤çŸ¥åŠŸèƒ½æ–‡ä½“ã€è¡Œäº‹åŠŸèƒ½æ–‡ä½“ã€äººé™…åŠŸèƒ½æ–‡ä½“</li>
</ul>
<h2 id="æ–‡æœ¬è¯­å¢ƒ"><a href="#æ–‡æœ¬è¯­å¢ƒ" class="headerlink" title="æ–‡æœ¬è¯­å¢ƒ"></a>æ–‡æœ¬è¯­å¢ƒ</h2><ul>
<li>æ–‡æœ¬çš„éè¯­è¨€è¯­å¢ƒï¼šæŒ‡ä¸ä»¥æ–‡æœ¬æ–‡å­—å½¢å¼å­˜åœ¨çš„è¯­å¢ƒå› ç´ ï¼ŒåŒ…æ‹¬ <strong>æƒ…æ™¯è¯­å¢ƒ</strong> å’Œ <strong>æ–‡åŒ–è¯­å¢ƒ</strong></li>
<li>æƒ…æ™¯è¯­å¢ƒï¼š æŒ‡æ„æˆè¯´è¯å’Œå†™ä½œæ´»åŠ¨çš„ç°å®æ¡ä»¶ï¼ŒåŒ…æ‹¬ <strong>è¯­ç¯‡èŒƒå›´ï¼ˆå†™ä½œå¯¹è±¡ï¼‰</strong> ã€ <strong>è¯­ç¯‡æ–¹å¼ï¼ˆå†™ä½œæ–¹å¼ï¼‰</strong> ã€ <strong>è¯­ç¯‡åŸºè°ƒï¼ˆå†™ä½œä¸»ä½“ï¼‰</strong> ã€å†™ä½œæ—¶é—´å’Œåœºæ‰€</li>
<li>è¯­ç¯‡åŸºè°ƒï¼ˆå†™ä½œä¸»ä½“ï¼‰ï¼š ä½œè€…ã€åä½œè€…ã€è¯»è€…</li>
<li>è¯­è¨€è¯­å¢ƒï¼š æŒ‡ä»¥è¯­è¨€æ–‡å­—å½¢å¼å­˜åœ¨çš„è¯­å¢ƒå› ç´ ï¼ŒåŒ…æ‹¬ <strong>ç¯‡é™…è¯­å¢ƒ</strong> å’Œ <strong>ç¯‡å†…è¯­å¢ƒ</strong></li>
<li>ç¯‡é™…è¯­å¢ƒï¼š å³ç”Ÿäº§çš„æ–‡æœ¬ä¸ <strong>å…¶ä»–</strong> æ–‡æœ¬ä¹‹é—´çš„è¯­å¢ƒå…³ç³»</li>
<li>ç¯‡å†…è¯­å¢ƒï¼š åŒ…æ‹¬ <strong>ç¯‡ ä¸ å„éƒ¨åˆ†çš„è¯­å¢ƒ</strong> å’Œ **ç¯‡ä¸­å„éƒ¨åˆ†çš„è¯­å¢ƒï¼ˆä¸Šä¸‹æ–‡å…³ç³»ï¼‰</li>
</ul>
<h2 id="æ–‡æœ¬åŠŸèƒ½ä¸ç»“æ„"><a href="#æ–‡æœ¬åŠŸèƒ½ä¸ç»“æ„" class="headerlink" title="æ–‡æœ¬åŠŸèƒ½ä¸ç»“æ„"></a>æ–‡æœ¬åŠŸèƒ½ä¸ç»“æ„</h2><ul>
<li>æ–‡æœ¬çš„ä¸‰å¤§åŠŸèƒ½ï¼š çŸ¥è¡ŒåŠŸèƒ½ï¼ˆå†™ä½œå¯¹è±¡ï¼‰ã€äººé™…åŠŸèƒ½ï¼ˆå†™ä½œä¸»ä½“ï¼‰ã€è¯­ç¯‡åŠŸèƒ½ï¼ˆå†™ä½œæ–¹å¼ï¼‰</li>
</ul>
<h2 id="æ–‡æœ¬ç”Ÿäº§è¿‡ç¨‹"><a href="#æ–‡æœ¬ç”Ÿäº§è¿‡ç¨‹" class="headerlink" title="æ–‡æœ¬ç”Ÿäº§è¿‡ç¨‹"></a>æ–‡æœ¬ç”Ÿäº§è¿‡ç¨‹</h2><ul>
<li>æ–‡æœ¬ç”Ÿäº§è¿‡ç¨‹é˜¶æ®µåˆ’åˆ†ï¼š <strong>å‡†å¤‡é˜¶æ®µ</strong> ã€ <strong>èµ·è‰é˜¶æ®µ</strong> ã€ <strong>ä¿®æ”¹é˜¶æ®µ</strong></li>
<li>æ–‡æœ¬ç”Ÿäº§ç­–ç•¥ï¼š <strong>è®¤çŸ¥å›¾å¼ç­–ç•¥</strong> ã€ <strong>ä¸»ä½“äº’åŠ¨ç­–ç•¥</strong> ã€ <strong>åˆ›æ–°æ€ç»´ç­–ç•¥</strong> ã€</li>
</ul>
<h1 id="æ–°é—»å†™ä½œ"><a href="#æ–°é—»å†™ä½œ" class="headerlink" title="æ–°é—»å†™ä½œ"></a>æ–°é—»å†™ä½œ</h1><h2 id="æ–°é—»æ–‡ä½“"><a href="#æ–°é—»æ–‡ä½“" class="headerlink" title="æ–°é—»æ–‡ä½“"></a>æ–°é—»æ–‡ä½“</h2><p>æ–°é—»çš„å®šä¹‰ï¼š</p>
<ul>
<li>åæ˜ è¯´ï¼š æ–°é—»æ˜¯æ–°è¿‘å‘ç”Ÿäº‹å®çš„åæ˜ ï¼›</li>
<li>åŠŸèƒ½è¯´ï¼š æ–°é—»æ˜¯æŠ¥é“æˆ–è¯„è¿°é‡è¦äº‹å®ä»¥å½±å“èˆ†è®ºçš„ç‰¹æ®Šæ‰‹æ®µï¼›</li>
<li>äº‹å®è¯´ï¼š æ–°é—»æ˜¯ä¸€ç§æ–°çš„é‡è¦äº‹å®ï¼›</li>
<li><strong>å…¬è®¤å®šä¹‰</strong> ï¼šæ–°é—»æ˜¯ å‘ç¤¾ä¼šæˆå‘˜ä¼ é€’å…·æœ‰æ–°é—»ä»·å€¼çš„çœŸå®ä¿¡æ¯ï¼›</li>
</ul>
<p>æ–°é—»çš„åŸåˆ™ï¼šè¿½æ±‚çœŸå®çš„åŸåˆ™ã€å…¬æ­£æŠ¥é“çš„åŸåˆ™ã€å‡†ç¡®æŠ¥é“çš„åŸåˆ™ã€å®¢è§‚æŠ¥é“çš„åŸåˆ™</p>
<p>æ¶ˆæ¯ä¸€è¯æœ€æ—©å‡ºç°åœ¨ ã€Šæ˜“ç»ã€‹</p>
<p>æ¶ˆæ¯çš„ç‰¹ç‚¹ï¼š çŸ­ã€å¿«ã€æ–°ã€çœŸã€ç¤¾ä¼šä»·å€¼</p>
<p>æ¶ˆæ¯=äº‹å®+ä»·å€¼+ä¼ æ’­</p>
<p>åæ˜ æ–°é—»ä»·å€¼çš„è¦ç´ ï¼š æ—¶é—´æ€§ã€æ˜¾è‘—æ€§ã€æ¥è¿‘æ€§ã€æ–°å¥‡æ€§ã€é‡è¦æ€§ã€äººæƒ…å‘³</p>
<h2 id="æ¶ˆæ¯å†™ä½œ"><a href="#æ¶ˆæ¯å†™ä½œ" class="headerlink" title="æ¶ˆæ¯å†™ä½œ"></a>æ¶ˆæ¯å†™ä½œ</h2><ul>
<li>æ¶ˆæ¯çš„ç»“æ„ï¼š æ ‡é¢˜ã€<strong>æ¶ˆæ¯å¤´</strong> ã€å¯¼è¯­ã€ä¸»ä½“ã€ç»“å°¾</li>
<li>æ¶ˆæ¯å¤´æ˜¯æ¶ˆæ¯å‰é¢é‚£æ®µï¼š <strong><em>å‡ºç‰ˆç¤¾</em></strong>ç”µï¼ˆè®°è€…<em>*</em>ï¼‰ ä½œç”¨ï¼šå£°æ˜ç‰ˆæƒã€å‘ç¨¿æ¥æºã€æ—¶é—´ç­‰</li>
<li>æ¶ˆæ¯çš„ç»å…¸ç»“æ„ï¼š å€’é‡‘å­—å¡”ç»“æ„ï¼Œå…¶ä»–ç»“æ„ï¼š æ‚¬å¿µå¼ç»“æ„ï¼ˆé‡‘å­—å¡”ç»“æ„ï¼‰ã€æ—¶é—´å¾ªåºç»“æ„</li>
<li>å€’é‡‘å­—å¡”ç»“æ„ï¼š æ ‡é¢˜ã€å¯¼è¯­ã€ä¸»ä½“</li>
</ul>
<h2 id="æ¶ˆæ¯æ ‡é¢˜çš„å†™ä½œ"><a href="#æ¶ˆæ¯æ ‡é¢˜çš„å†™ä½œ" class="headerlink" title="æ¶ˆæ¯æ ‡é¢˜çš„å†™ä½œ"></a>æ¶ˆæ¯æ ‡é¢˜çš„å†™ä½œ</h2><ul>
<li>å¤šè¡Œæ ‡é¢˜ï¼š å¼•é¢˜/çœ‰é¢˜ã€æ­£é¢˜/ä¸»é¢˜ã€å‰¯é¢˜/è¾…é¢˜</li>
<li>åŒè¡Œæ ‡é¢˜ã€è™šå®ç»“åˆï¼š å¼•é¢˜+æ­£é¢˜ã€æ­£é¢˜+å‰¯é¢˜</li>
</ul>
<h2 id="æ¶ˆæ¯å¯¼è¯­ã€ä¸»ä½“ã€èƒŒæ™¯çš„å†™ä½œ"><a href="#æ¶ˆæ¯å¯¼è¯­ã€ä¸»ä½“ã€èƒŒæ™¯çš„å†™ä½œ" class="headerlink" title="æ¶ˆæ¯å¯¼è¯­ã€ä¸»ä½“ã€èƒŒæ™¯çš„å†™ä½œ"></a>æ¶ˆæ¯å¯¼è¯­ã€ä¸»ä½“ã€èƒŒæ™¯çš„å†™ä½œ</h2><p>æ¶ˆæ¯çš„å¯¼è¯­ï¼š </p>
<ul>
<li>ä½ç½®ï¼š æ¶ˆæ¯çš„ç¬¬ä¸€æ®µ</li>
<li>åŠŸèƒ½ï¼š ç®€çŸ­ç¬”å¢¨åæ˜ è¦ç‚¹ã€ä¸ºæ•´ç¯‡æŠ¥é“å®šä¸‹åŸºè°ƒã€å”¤èµ·è¯»è€…çš„æ³¨æ„</li>
<li><strong>å†™æ³•</strong> ï¼šå™è¿°å¼ã€æå†™å¼ã€å¼•ç”¨å¼ã€è¯„è®ºå¼ç­‰</li>
</ul>
<p>æ¶ˆæ¯çš„ä¸»ä½“ï¼š</p>
<ul>
<li>ä½ç½®ï¼š å¯¼è¯­ä¹‹åå±•å¼€çš„éƒ¨åˆ†</li>
<li>åŠŸèƒ½ï¼š å¯¹æ–°é—»äº‹å®åšå……åˆ†è€Œå…·ä½“çš„æŠ¥é“å’Œè¯´æ˜ï¼Œæˆ–å¯¹å¯¼è¯­è¿›è¡Œè§£é‡Šã€æ·±åŒ–ï¼Œæˆ–è¡¥å……æ–°çš„äº‹å®</li>
<li>æ³¨æ„ï¼š ç´§æ‰£ä¸»é¢˜ï¼›å…·ä½“å……å®ï¼›é¿å…é‡å¤</li>
</ul>
<p>æ¶ˆæ¯çš„èƒŒæ™¯ï¼š</p>
<ul>
<li>è§£é‡Šã€çƒ˜æ‰˜å’Œæ·±åŒ–ä¸»é¢˜ï¼Œå¸®åŠ©è¯»è€…ç†è§£æ–°é—»äº‹å®</li>
<li>ä»£æ›¿è®°è€…å‘è¡¨è®®è®ºï¼Œä½¿æŠ¥çš„ç°å¾—å®¢è§‚</li>
<li>è¡¥å……æƒ…å†µã€ä»‹ç»çŸ¥è¯†</li>
</ul>
<h1 id="è°ƒæŸ¥æŠ¥å‘Š"><a href="#è°ƒæŸ¥æŠ¥å‘Š" class="headerlink" title="è°ƒæŸ¥æŠ¥å‘Š"></a>è°ƒæŸ¥æŠ¥å‘Š</h1><h2 id="ä½•ä¸ºè°ƒæŸ¥"><a href="#ä½•ä¸ºè°ƒæŸ¥" class="headerlink" title="ä½•ä¸ºè°ƒæŸ¥"></a>ä½•ä¸ºè°ƒæŸ¥</h2><ul>
<li>è°ƒæŸ¥çš„è¿‡ç¨‹ï¼š ç¡®ç«‹è°ƒæŸ¥ä¸»é¢˜ã€è®¾è®¡è°ƒæŸ¥æ–¹æ¡ˆã€å®æ–½è°ƒæŸ¥æ–¹æ¡ˆã€ç»Ÿè®¡åˆ†æè°ƒæŸ¥èµ„æ–™ã€æ’°å†™å¹¶ä¿®æ”¹è°ƒæŸ¥æŠ¥å‘Š</li>
</ul>
<h2 id="è°ƒæŸ¥çš„ä¸»è¦æ–¹æ³•"><a href="#è°ƒæŸ¥çš„ä¸»è¦æ–¹æ³•" class="headerlink" title="è°ƒæŸ¥çš„ä¸»è¦æ–¹æ³•"></a>è°ƒæŸ¥çš„ä¸»è¦æ–¹æ³•</h2><ul>
<li>ä¸»è¦æ–¹æ³•ï¼š æ–‡ä»¶è°ƒæŸ¥ã€å®éªŒç ”ç©¶ã€å®åœ°è€ƒå¯Ÿã€æ–‡çŒ®æŸ¥é˜…</li>
</ul>
<h2 id="è°ƒæŸ¥çš„åŠŸèƒ½ã€åˆ†ç±»ã€å†™ä½œ"><a href="#è°ƒæŸ¥çš„åŠŸèƒ½ã€åˆ†ç±»ã€å†™ä½œ" class="headerlink" title="è°ƒæŸ¥çš„åŠŸèƒ½ã€åˆ†ç±»ã€å†™ä½œ"></a>è°ƒæŸ¥çš„åŠŸèƒ½ã€åˆ†ç±»ã€å†™ä½œ</h2><ul>
<li>åŠŸèƒ½ï¼š é€šè¿‡å®šé‡å’Œå®šæ€§çš„åˆ†ææ–¹æ³•ï¼Œè·å–çœŸå®çš„ä¿¡æ¯åæ˜ å®¢è§‚æƒ…å†µã€ç»éªŒã€é—®é¢˜æˆ–è€…è§„å¾‹æ€§çš„ä¸œè¥¿ï¼Œæ»¡è¶³è¯»è€…çš„è®¤çŸ¥éœ€æ±‚</li>
<li>ç±»å‹ï¼š <strong>æƒ…å†µè°ƒæŸ¥å‹ã€å…¸å‹åˆ†æå‹ã€æ¢è®¨ç ”ç©¶å‹</strong></li>
<li>å†™ä½œçš„ç»“æ„ï¼š æ ‡é¢˜ã€æ¦‚è¦ã€æ­£æ–‡ã€ç»“å°¾ã€é™„ä»¶</li>
<li>å†™ä½œè¿‡ç¨‹ï¼š ç¡®å®šé€‰é¢˜å¹¶ä¸æ–­ä¼˜åŒ–ã€ç§‘å­¦åˆ†æã€ç»“æ„åˆç†ã€è®ºè¯å……åˆ†ã€æ·±åŒ–ç ”ç©¶æˆæœ</li>
</ul>
<h1 id="æ¼”è®²ç¨¿ä¸æ±‚èŒä¿¡"><a href="#æ¼”è®²ç¨¿ä¸æ±‚èŒä¿¡" class="headerlink" title="æ¼”è®²ç¨¿ä¸æ±‚èŒä¿¡"></a>æ¼”è®²ç¨¿ä¸æ±‚èŒä¿¡</h1><h2 id="æ¼”è®²ä¸æ¼”è®²ç¨¿"><a href="#æ¼”è®²ä¸æ¼”è®²ç¨¿" class="headerlink" title="æ¼”è®²ä¸æ¼”è®²ç¨¿"></a>æ¼”è®²ä¸æ¼”è®²ç¨¿</h2><ul>
<li>æ¼”è®²ç¨¿çš„ç‰¹ç‚¹ï¼š ä½¿äººä¿¡ï¼ˆè®°å™ã€æè¿°ï¼‰ã€ä½¿äººçŸ¥ï¼ˆä¿®è¾ï¼‰ã€ä½¿äººè¡Œï¼ˆè®®è®ºï¼‰</li>
<li>æ¼”è®²ç¨¿çš„çªå‡ºç‰¹ç‚¹ï¼š é’ˆå¯¹æ€§ã€é²œæ˜æ€§ã€é€šä¿—æ€§ã€é¼“åŠ¨æ€§</li>
<li>å†™ä½œç‰¹ç‚¹ï¼š å› æ—¶è€Œå‘ã€å› äº‹è€Œå‘ã€å› æ™¯è€Œå‘ã€å› æƒ…è€Œå‘</li>
<li>æ¼”è®²ç¨¿çš„ç»“æ„ï¼š æ ‡é¢˜ã€å¼€å¤´ã€ä¸»ä½“ã€ç»“å°¾</li>
<li>æ ‡é¢˜çš„åˆ†ç±»ï¼š æ¦‚æ‹¬å¼ã€è®¾é—®å¼ã€é¼“åŠ¨å¼ã€æ¯”å–»å¼</li>
<li>å¼€å¤´çš„åˆ†ç±»ï¼š å¼€é—¨è§å±±å¼ã€æå‡ºé—®é¢˜å¼ã€å¼•ç”¨åå¥å¼ã€å®ä¾‹å¯¼å…¥å¼ã€ç°åœºå¼•å…¥å¼</li>
<li>ä¸»ä½“çš„åˆ†ç±»ï¼š å¹¶åˆ—å¼ã€é€’è¿›å¼ã€æ—¶é—´é¡ºåºå¼</li>
<li>ç»“å°¾çš„åˆ†ç±»ï¼š å‘å‡ºå·å¬ã€æå‡ºå»ºè®®ã€å±•æœ›æœªæ¥ã€æ€»ç»“è¦ç‚¹</li>
</ul>
<h2 id="æ±‚èŒä¿¡"><a href="#æ±‚èŒä¿¡" class="headerlink" title="æ±‚èŒä¿¡"></a>æ±‚èŒä¿¡</h2><ul>
<li>æ±‚èŒä¿¡çš„åŸºæœ¬å†…å®¹ï¼š æ±‚èŒç›®æ ‡ã€æ±‚èŒç¼˜èµ·ã€æ±‚èŒæ¡ä»¶</li>
<li>æ±‚èŒä¿¡çš„ç»“æ„ï¼š ç§°å‘¼ã€å¼€å¤´ã€ä¸»ä½“ã€ç»“å°¾ã€è½æ¬¾ã€é™„ä»¶</li>
</ul>
<h1 id="è§„ç« åˆ¶åº¦"><a href="#è§„ç« åˆ¶åº¦" class="headerlink" title="è§„ç« åˆ¶åº¦"></a>è§„ç« åˆ¶åº¦</h1><h1 id="å…šæ”¿æœºå…³å…¬æ–‡"><a href="#å…šæ”¿æœºå…³å…¬æ–‡" class="headerlink" title="å…šæ”¿æœºå…³å…¬æ–‡"></a>å…šæ”¿æœºå…³å…¬æ–‡</h1><h2 id="å…šæ”¿æœºå…³å…¬æ–‡-1"><a href="#å…šæ”¿æœºå…³å…¬æ–‡-1" class="headerlink" title="å…šæ”¿æœºå…³å…¬æ–‡"></a>å…šæ”¿æœºå…³å…¬æ–‡</h2><ul>
<li>å…šæ”¿æœºå…³å…¬æ–‡çš„æ¦‚å¿µï¼š å…šæ”¿æœºå…³å…¬æ–‡æ˜¯ å…šæ”¿æœºå…³å®æ–½é¢†å¯¼ã€å±¥è¡ŒèŒèƒ½ã€å¤„ç†äº‹åŠ¡ çš„å…·æœ‰ <strong>ç‰¹å®šæ•ˆåŠ›</strong> å’Œ <strong>è§„èŒƒä½“å¼</strong> çš„æ–‡ä¹¦ï¼›</li>
<li>ç‰¹ç‚¹ï¼š æƒå¨æ€§ã€è§„èŒƒæ€§</li>
<li>åˆ†ç±»ï¼šæŒ‰è¡Œæ–‡å…³ç³»å’Œè¡Œæ–‡æ–¹å‘ï¼š ä¸‹è¡Œæ–‡ï¼ˆ11ç§ï¼‰ã€å¹³è¡Œæ–‡ï¼ˆ4ç§ï¼‰ã€ä¸Šè¡Œæ–‡ï¼ˆ3ç§ï¼‰ï¼Œå…¶ä¸­æ„è§ä¸‰ä¸ªéƒ½æœ‰ï¼Œé€šçŸ¥æ˜¯ä¸‹è¡Œæ–‡å’Œå¹³è¡Œæ–‡éƒ½æœ‰</li>
<li>å†³è®®ï¼š é€‚ç”¨äº ä¼šè®®è®¨è®ºé€šè¿‡çš„é‡å¤§å†³ç­–äº‹é¡¹</li>
<li>å†³å®šï¼š é€‚ç”¨äº å¯¹é‡è¦äº‹é¡¹ä½œå‡ºå†³ç­–å’Œéƒ¨ç½²ã€å¥–æƒ©æœ‰å…³å•ä½å’Œäººå‘˜ã€å˜æ›´æˆ–è€…æ’¤é”€ä¸‹çº§æœºå…³ä¸é€‚å½“çš„å†³å®š</li>
<li>å‘½ä»¤ï¼š é€‚ç”¨äº å…¬å¸ƒè¡Œæ”¿æ³•è§„å’Œè§„ç« ã€å®£å¸ƒå®æ–½é‡å¤§å¼ºåˆ¶æ€§æªæ–½ã€æ‰¹å‡†æˆäºˆå’Œæ™‹çº§è¡”çº§ã€å˜‰å¥–æœ‰å…³å•ä½å’Œäººå‘˜</li>
<li>å…¬æŠ¥ï¼š é€‚ç”¨äº å…¬å¸ƒé‡è¦å†³è®®æˆ–é‡å¤§äº‹é¡¹</li>
<li>å…¬å‘Šï¼š é€‚ç”¨äº å‘å›½å†…å¤–å®£å¸ƒé‡è¦äº‹é¡¹æˆ–è€…æ³•å®šäº‹é¡¹</li>
<li>é€šå‘Šï¼š é€‚ç”¨äº åœ¨ä¸€å®šèŒƒå›´å†…å…¬å¸ƒåº”å½“éµå®ˆæˆ–å‘¨çŸ¥çš„äº‹é¡¹</li>
<li>å…šæ”¿æœºå…³å…¬æ–‡çš„æ ¼å¼ï¼š é¡¹ç›®å’Œç‰ˆå¼</li>
<li>æ ¼å¼ç±»å‹ï¼š æ–‡ä»¶æ ¼å¼ã€ä¿¡å‡½æ ¼å¼ã€å‘½ä»¤æ ¼å¼ã€çºªè¦æ ¼å¼</li>
<li>æ–‡ä»¶æ ¼å¼è¦ç´ ä¸‰éƒ¨åˆ†ï¼š ç‰ˆå¤´ã€ä¸»ä½“ã€ç‰ˆè®°</li>
</ul>
<h2 id="é€šçŸ¥"><a href="#é€šçŸ¥" class="headerlink" title="é€šçŸ¥"></a>é€šçŸ¥</h2><ul>
<li>é€šçŸ¥çš„åŠŸèƒ½ï¼š é€‚ç”¨äºå‘å¸ƒã€ä¼ è¾¾è¦æ±‚ <strong>ä¸‹çº§</strong> æœºå…³æ‰§è¡Œå’Œæœ‰å…³å•ä½å‘¨çŸ¥æˆ–è€…æ‰§è¡Œçš„äº‹é¡¹ï¼Œæ‰¹è½¬ã€è½¬å‘å…¬æ–‡</li>
<li>é€šçŸ¥çš„ç‰¹å¾ï¼š å¹¿æ³›æ€§ã€æŒ‡ç¤ºæ€§ã€çŸ¥ç…§æ€§ã€æ—¶æ•ˆæ€§</li>
<li>é€šçŸ¥çš„åˆ†ç±»ï¼š å‘å¸ƒæ€§é€šçŸ¥ï¼ˆå°å‘æ€§é€šçŸ¥ã€æ‰¹è½¬æ€§é€šçŸ¥ã€è½¬å‘æ€§é€šçŸ¥ï¼‰ã€ æŒ‡ç¤ºæ€§é€šçŸ¥ï¼ˆå‘ä¸‹çº§æœºå…³å®‰æ’å·¥ä½œï¼‰ã€ ä¼šè®®é€šçŸ¥ ã€ çŸ¥ç…§æ€§é€šçŸ¥</li>
<li>å‘å¸ƒæ€§é€šçŸ¥çš„ç»“æ„ï¼š è¢«å‘å¸ƒæ–‡ä»¶ã€å‘å¸ƒæ ¹æ®ã€å‘å¸ƒè¯­ã€æ‰§è¡Œè¦æ±‚</li>
<li>æŒ‡ç¤ºæ€§é€šçŸ¥ï¼š ç¼˜ç”±ï¼ˆç”¨è¿‡åº¦è¯­å¥å¼•èµ·ä¸‹æ–‡ï¼‰ã€äº‹é¡¹ã€ç»“å°¾</li>
<li>ä¼šè®®é€šçŸ¥ï¼š ç¼˜ç”±ã€äº‹é¡¹ã€ç»“å°¾</li>
<li>çŸ¥ç…§æ€§é€šçŸ¥ï¼š ç¼˜ç”±ã€äº‹é¡¹ã€ç»“å°¾</li>
</ul>
<h2 id="é€šæŠ¥"><a href="#é€šæŠ¥" class="headerlink" title="é€šæŠ¥"></a>é€šæŠ¥</h2><ul>
<li>é€šæŠ¥çš„æ–‡ç§ç‰¹å¾ï¼š å®ä¾‹çš„å…¸å‹æ€§ã€é‡è¦æ€§ï¼Œå†…å®¹çš„çŸ¥ç…§æ€§ï¼Œæ•™è‚²çš„çŸ¥æ™“æ€§</li>
<li>é€šæŠ¥çš„åˆ†ç±»ï¼š è¡¨å½°æ€§é€šæŠ¥ã€æ‰¹è¯„æ€§é€šæŠ¥ã€ä¼ è¾¾æ€§é€šæŠ¥</li>
</ul>
<h1 id="æŠ¥å‘Š"><a href="#æŠ¥å‘Š" class="headerlink" title="æŠ¥å‘Š"></a>æŠ¥å‘Š</h1><ul>
<li>æŠ¥å‘Šçš„åŠŸèƒ½ï¼š é€‚ç”¨äºå‘ä¸Šçº§æ±‡æŠ¥å·¥ä½œã€åæ˜ æƒ…å†µã€å›å¤ä¸Šçº§æœºå…³çš„è¯¢é—®</li>
<li>æŠ¥å‘Šçš„ç‰¹ç‚¹ï¼š é™ˆè¿°æ€§</li>
<li>æŠ¥å‘Šçš„åˆ†ç±»ï¼š å·¥ä½œæŠ¥å‘Šã€æƒ…å†µæŠ¥å‘Šã€ç­”å¤æŠ¥å‘Šã€æŠ¥é€æŠ¥å‘Š</li>
<li>å·¥ä½œæŠ¥å‘Šçš„ç»“æ„ï¼š æŠ¥å‘Šå‰è¨€ã€æŠ¥å‘Šä¸»ä½“ã€æŠ¥å‘Šç»“è¯­</li>
</ul>
<h1 id="è¯·ç¤ºä¸æ‰¹å¤"><a href="#è¯·ç¤ºä¸æ‰¹å¤" class="headerlink" title="è¯·ç¤ºä¸æ‰¹å¤"></a>è¯·ç¤ºä¸æ‰¹å¤</h1><ul>
<li>è¯·ç¤ºçš„åŠŸèƒ½ï¼š å‘ä¸Šçº§æœºå…³è¯·æ±‚æŒ‡ç¤ºã€æ‰¹å‡†ï¼› ç¥ˆè¯·æ€§</li>
<li>è¯·ç¤ºçš„åˆ†ç±»ï¼š è¯·æ±‚æŒ‡ç¤ºæ€§è¯·ç¤ºã€è¯·æ±‚æ‰¹å‡†æ€§è¯·ç¤º</li>
<li>æ‰¹å¤çš„åŠŸèƒ½ï¼š ç­”å¤ä¸‹çº§æœºå…³è¯·ç¤ºäº‹é¡¹ï¼› é’ˆå¯¹æ€§ã€æ”¿ç­–æ€§</li>
<li>æ‰¹å¤çš„åˆ†ç±»ï¼š æŒ‡ç¤ºæ€§æ‰¹å¤ã€å®¡æ‰¹æ€§æ‰¹å¤</li>
<li>æ‰¹å¤çš„ç»“æ„ï¼š æ‰¹å¤ç¼˜ç”±ã€æ‰¹å¤æ„è§ã€ç»“è¯­</li>
</ul>
<h1 id="å‡½"><a href="#å‡½" class="headerlink" title="å‡½"></a>å‡½</h1><ul>
<li>å‡½çš„åˆ†ç±»ï¼š ä¸¤ç±»å…­ç§ï¼š <strong>å‘å‡½</strong> ï¼šå•†æ´½æ€§å‘å‡½ã€è¯¢é—®æ€§å‘å‡½ã€å®¡æ‰¹æ€§å‘å‡½ï¼› <strong>å¤å‡½</strong> ï¼š å•†æ´½æ€§å¤å‡½ã€ç­”å¤æ€§å¤å‡½ã€å®¡æ‰¹æ€§å¤å‡½</li>
</ul>
]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>ç¬”è®°-è§‚è§†é¢‘-æœªæ›¾è®¾æƒ³çš„é“è·¯</title>
    <url>/2020/03/01/%E7%AC%94%E8%AE%B0-%E8%A7%82%E8%A7%86%E9%A2%91-%E6%9C%AA%E6%9B%BE%E8%AE%BE%E6%83%B3%E7%9A%84%E9%81%93%E8%B7%AF/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>è§‚è§†é¢‘-æœªæ›¾è®¾æƒ³çš„é“è·¯-ç¬”è®°<br><a href="https://www.bilibili.com/video/av92679623">https://www.bilibili.com/video/av92679623</a><br>åˆ¶åº¦å˜è¿æœ‰ä¸¤ç§é“è·¯ï¼š1. ï¼ˆä¼ ç»Ÿçš„å†å²å”¯ç‰©ä¸»ä¹‰ï¼Œç”Ÿäº§åŠ›çš„å˜åŒ–å¼•è‡´ç”Ÿäº§å…³ç³»çš„å˜åŒ–ï¼‰ç”Ÿäº§åŠ›å†³å®šç”Ÿäº§å…³ç³»ï¼Œç»æµåŸºç¡€å†³å®šä¸Šå±‚å»ºç­‘ï¼Œè‡ªä¸‹è€Œä¸Šçš„è¿›è¡Œåˆ¶åº¦çš„å˜è¿ï¼Œä¾‹å¦‚ï¼šå°å»ºé¢†ä¸»å‘å°å»ºåœ°ä¸»åˆ¶çš„å˜åŒ–ä¸ºä½•ä¼šå‘ç”Ÿåœ¨æˆ˜å›½æœ«æœŸï¼Œå‘ç”Ÿåœ¨ç§¦å›½ï¼Ÿç»“åˆè€ƒå¤å²æ–™æ¥çœ‹ï¼Œå°±æ˜¯ç§¦å›½çš„å†œä¸šç”Ÿäº§å‡ºç°äº†å‡çº§ï¼Œä¸»è¦æ˜¯é“å™¨å’Œè€•ç‰›çš„ä½¿ç”¨ï¼Œä½¿å¾—å°å†œç»æµçš„å‡ºç°æˆä¸ºå¯èƒ½ï¼Œä»è€Œä¸ºå•†é…å˜æ³•ç­‰ä¸€ç³»åˆ—æ”¹é©æä¾›äº†åœŸå£¤ã€‚ 2. å®Œå…¨åè¿‡æ¥ï¼Œé€šè¿‡å…ˆæ”¹å˜ç”Ÿäº§å…³ç³»ï¼Œä»è€Œä¿ƒè¿›äº†ç”Ÿäº§åŠ›ï¼Œè‡ªä¸Šè€Œä¸‹çš„è¿›è¡Œåˆ¶åº¦çš„å˜è¿ï¼Œä¹Ÿå°±æ˜¯ä¸€æ¡â€œæœªæ›¾è®¾æƒ³çš„é“è·¯â€ã€‚ä½†æ˜¯è¿™ç§é“è·¯æ˜¯åœ¨å¶ç„¶æ€§å’Œæœºé‡ä¹‹ä¸‹æ‰ä¼šå½¢æˆçš„ï¼Œæ¯”å¦‚ï¼Œè‹±å›½å½“å¹´ä¼šèµ°ä¸Šèµ„æœ¬ä¸»ä¹‰ï¼Œå…¶å®å°±æ˜¯ä¸€æ¡è‹±å›½äººâ€œæœªæ›¾è®¾æƒ³çš„é“è·¯â€</p>
<span id="more"></span>
<p>åˆ—å®åœ¨ã€Šè®ºæˆ‘å›½é©å‘½ã€‹æå‡ºä¸¤ä¸ªé—®é¢˜ï¼š1.ä¸–ç•Œå†å²æ˜¯ç”±ä¸€èˆ¬æ€§å’Œç‰¹æ®Šæ€§å…±åŒç»„æˆï¼Œæ‰€ä»¥ç¬¬äºŒå›½é™…çš„æ‰¹è¯„å®¶ç‰‡é¢çš„å¼ºè°ƒäº†ä¸€èˆ¬æ€§ï¼Œè€Œå¿½ç•¥äº†ä¸–ç•Œå†å²çš„ç‰¹æ®Šçš„åŸåˆ™ã€‚2.å‡­ä»€ä¹ˆä¸èƒ½å¤Ÿå…ˆå¤ºå–ä¸Šå±‚å»ºç­‘ï¼Œç„¶ååœ¨æ–‡åŒ–ä¸Šæˆ–è€…åœ¨ç”Ÿäº§åŠ›ä¸Šèµ¶ä¸Šå…ˆè¿›å›½å®¶çš„æ°´å¹³å‘¢ã€‚ï¼ˆæ˜¯å¯¹ä¼ ç»Ÿçš„å†å²å”¯ç‰©ä¸»ä¹‰çš„ä¸€ä¸ªåˆ›é€ æ€§çš„è§£é‡Šã€‚ï¼‰</p>
<p>è‘›å…°è¥¿è®² åæœˆé©å‘½ æ˜¯ä¸€åœºåå¯¹èµ„æœ¬è®ºçš„é©å‘½ï¼Œæ˜¯ä¸€åœºåå¯¹å†å²å”¯ç‰©ä¸»ä¹‰çš„é©å‘½ã€‚</p>
<p>ç”Ÿäº§åŠ›æ°´å¹³çš„è´¨çš„æé«˜æ˜¯ å´­æ–°çš„ç»æµç¤¾ä¼šå½¢æ€ç¡®ç«‹çš„å‰æã€‚</p>
<p>é“å™¨å’Œç‰›è€•çš„ä½¿ç”¨ä½¿ä¸€å®¶ä¸€æˆ·çš„å°å†œç»æµæœ‰å¯èƒ½å­˜åœ¨ï¼Œæ‰€ä»¥è¿™æ˜¯å•†é…å˜æ³•ä¸­é‡‡å– <strong>ææˆ·</strong> æ”¿ç­–çš„ç”Ÿäº§åŠ›åŸºç¡€ã€‚</p>
<p>ç¾å›½UCLAçš„å†å²å­¦å®¶ï¼šç½—ä¼¯ç‰¹Â·ä¿ç½—Â·å¸ƒä¼¦çº³çš„ç ”ç©¶ï¼š14ä¸–çºªåˆ°16ä¸–çºªæ¬§æ´²ä¸‰ä¸ªä¸åŒåœ°åŒºçš„åˆ¶åº¦å˜è¿çš„è½¨è¿¹ï¼šè‹±æ ¼å…°ã€æ³•å›½ã€æ˜“åŒ—æ²³ä»¥ä¸œçš„ä¸œæ¬§åœ°åŒºã€‚14ä¸–çºªæ—¶æœŸï¼Œä¸‰ä¸ªåœ°åŒºçš„ç”Ÿäº§åŠ›æ°´å¹³å¤§ä½“ä¸€è‡´ï¼Œå¹¶ä¸”å†œå¥´åˆ¶éƒ½å·²ç»å‡ºç°è§£ä½“ã€‚è€Œ16ä¸–çºªåï¼Œ</p>
<ul>
<li>è‹±æ ¼å…°ï¼šé»‘æ­»ç—…é€ æˆå†œå¥´å¤§é‡æ­»äº¡ï¼Œï¼ˆ8:06ä¸ºé˜»æ­¢æ–‡è‰ºè”“å»¶è‡³åŒ—æ–¹â€œé¼ ç–«å°é•‡â€äºšå§†æ‘æ°‘æ‹’ç»é€ƒç¦»ï¼‰ã€å°å»ºå›ä¸»é—´çš„å…¼å¹¶æˆ˜äº‰å¯¼è‡´è‹±å›½è´µæ—æ•°é‡å¤§é‡å‡å°‘ï¼Œåæœæ˜¯ <em>å¤§åœŸåœ°æ‰€æœ‰åˆ¶</em> â€”åœˆåœ°è¿åŠ¨ï¼ˆå…°å¼€æ–¯ç‰¹å®¶æ—å’Œçº¦å…‹å®¶æ—ä¸ºäº†äº‰å¤ºç‹ä½è€Œå¼•å‘å†…æˆ˜ï¼Œåˆç§°â€œç«ç‘°æˆ˜äº‰â€ï¼‰ã€‚è‹±æ ¼å…°ç”±å†œå¥´åˆ¶è½¬å‘å†œä¸šçš„èµ„æœ¬ä¸»ä¹‰ç”Ÿäº§å…³ç³»çš„é›å½¢ï¼šè´µæ—å°†åœŸåœ°ç§Ÿç»™å–„äºé‡ç‚¹çš„å†œå¥´ï¼Œå†œå¥´ä¹‹é—´ä¸ºåœŸåœ°çš„ç§Ÿçº¦è¿›è¡Œç«äº‰ï¼Œæ‹¿åˆ°åœ°çš„å†œå¥´é›‡ä½£å…¶ä»–çš„å†œå¥´â€”&gt; é©¬å…‹æ€åœ¨èµ„æœ¬è®ºä¸­ç ”ç©¶è¿‡çš„ä¸€ç§é˜¶çº§ç»“æ„ï¼šåœŸåœ°æ‰€æœ‰è€…ã€ç§Ÿåœ°çš„å†œåœºä¸»ã€å†œä¸šçš„é›‡ä½£å·¥äººã€‚åŸå› ï¼šç‰¹æ®Šå†å²å½¢åŠ¿é€ æˆé˜¶çº§æ–—äº‰å½¢åŠ¿çš„å˜åŒ–ã€‚æ‰€æœ‰äººä¸ºäº†åˆ©ç›Šçš„æœ€å¤§åŒ–ï¼Œå¯¼è‡´å†œä¸šçš„æŠ€æœ¯è¿›æ­¥ä¹Ÿå°±æ˜¯ç”Ÿäº§åŠ›çš„å‘å±•ã€‚å¸ƒä¼¦çº³æå‡ºè‹±å›½èµ„æœ¬ä¸»ä¹‰çš„å†œä¸šèµ·æºçš„ç†è®ºã€‚</li>
<li>ä¸œæ¬§ï¼šä¸‰åå¹´æˆ˜äº‰å’Œå¾·å›½å†œæ°‘èµ·ä¹‰å¯¼è‡´ä¸œæ¬§å·¥å•†ä¸šå¤§é‡ç ´åï¼Œä½¿å†œå¥´åˆ¶å¾—ä»¥å¤è¾Ÿï¼Œç»å¯¹ä¸»ä¹‰é›†æƒçš„å›ä¸»åˆ¶ã€‚</li>
<li>æ³•å›½ï¼šæ³•å›½èµ„äº§é˜¶çº§é©å‘½æ‘§æ¯äº†æ—§çš„åœŸåœ°å…³ç³»ï¼Œå°†è´µæ—å’Œæ•™ä¼šçš„åœŸåœ°åˆ†ç»™å†œæ°‘ï¼Œä½¿å¾—å¹¿æ³›å»ºç«‹èµ·å°ç”Ÿäº§è€…ä¸ªä½“ç»æµã€‚ä¼ ç»Ÿçš„å†œå¥´å…³ç³»å‘ä¸€ç§æ±ªæ´‹å¤§æµ·èˆ¬çš„å°å†œç»æµè¿‡æ¸¡</li>
</ul>
<p>å¸ƒä¼¦çº³å½’ç»“ä¸ºä¸‰ä¸ªåœ°åŒºé˜¶çº§æ–—äº‰çš„å…·ä½“å½¢åŠ¿ï¼Œä¸åŒé˜¶çº§åŠ›é‡æ–—äº‰å…³ç³»å¯¹æ¯”çš„å˜åŒ–ã€‚å±äºç¬¬äºŒæ¡é“è·¯ï¼Œå˜é©çš„åŠ¨åŠ›æ¥è‡ªä¸Šå±‚å»ºç­‘</p>
]]></content>
      <categories>
        <category>ç¬”è®°</category>
        <category>æ€æƒ³è®°å½•</category>
      </categories>
      <tags>
        <tag>ç¬”è®°</tag>
        <tag>æ‚è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>[çºªå½•ç‰‡ç¬”è®°]-åå°”è¡—</title>
    <url>/2019/08/29/%E7%BA%AA%E5%BD%95%E7%89%87%E7%AC%94%E8%AE%B0-%E5%8D%8E%E5%B0%94%E8%A1%97/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>æœ¬æ–‡åªæ˜¯æ— èŠæ—¶åœ¨çœ‹çºªå½•ç‰‡ <em>åå°”è¡—</em> æ—¶é‡åˆ°çš„ä¸€äº›æ²¡å¬è¯´è¿‡çš„çŸ¥è¯†çš„è®°å½•ï¼Œï¼Œ<a href="https://www.bilibili.com/video/av13814927?">è§†é¢‘åœ°å€</a> ï¼Œï¼Œï¼Œè™½ç„¶ä¸æ˜¯å­¦é‡‘èçš„ï¼Œä½†æ˜¯ä¸€ç›´å¯¹é‡‘èæ„Ÿå…´è¶£ï¼Œï¼Œï¼Œ2333</p>
<span id="more"></span>
<h1 id="æ‚è®°"><a href="#æ‚è®°" class="headerlink" title="æ‚è®°"></a>æ‚è®°</h1><ul>
<li>åå°”è¡—æœ€æ—©æ˜¯ç”±è·å…°äººåœ¨ æ–°é˜¿å§†æ–¯ç‰¹ä¸¹ å»ºç«‹çš„ä¸€é“å¢™ï¼Œï¼ŒWall Streat</li>
<li>æ–°é˜¿å§†æ–¯ç‰¹ä¸¹åæ¥åœ¨ è‹±è·æˆ˜äº‰ä¹‹åï¼Œï¼Œè‹±å›½å é¢†äº†ä¹‹åæ›´åä¸º æ–°çº¦å…‹</li>
<li>ç°åœ¨çš„äº¤æ˜“æ‰€ã€é“¶è¡Œéƒ½æ˜¯ç”±è·å…°äººæ‰€æå‡ºå»ºç«‹çš„ï¼Œæœ€æ—©çš„è‚¡ä»½åˆ¶ä¹Ÿæ˜¯è·å…°æˆç«‹çš„è·å…°ä¸œå°åº¦å…¬å¸æ‰€å»ºç«‹çš„</li>
<li>è‹±å›½ï¼š å…‰è£é©å‘½ï¼š è‹±å›½è®®ä¼šä¸è‹±å›½å›½ç‹çš„ä¸€åœºæƒåŠ›çš„æ–—äº‰ï¼Œæ ‡å¿—ç€è‹±å›½å›ä¸»ç«‹å®ªåˆ¶çš„å»ºç«‹</li>
<li>è‹±è·æˆ˜äº‰ä¹‹åï¼Œä¼¦æ•¦å–ä»£äº†çº½çº¦</li>
<li>æœ€æ—©çš„æˆåŠŸçš„è·¨å›½é“¶è¡Œï¼š ç½—æ–¯æŸ´å°”å¾·é“¶è¡Œ</li>
<li>ç¬¬ä¸€ä¸ªç°ä»£æ„ä¹‰ä¸Šçš„ä¸­å¤®é“¶è¡Œ(center bank)ï¼š è‹±æ ¼å…°é“¶è¡Œ</li>
<li>ç°åœ¨çš„åå°”è¡—æŒ‡18ä¸–çºª90å¹´ä»£çš„ã€Šæ¢§æ¡æ ‘åè®®ã€‹</li>
<li>ç¾å›½çš„ç¬¬ä¸€ä»»è´¢æ”¿éƒ¨éƒ¨é•¿ï¼š äºšå†å±±å¤§.æ±‰å¯†å°”é¡¿</li>
<li>æ—‹è½¬é—¨è®¡åˆ’ï¼šç¾å›½å»ºå›½åˆæœŸï¼Œæœ‰è®¸å¤šçš„å€ºåˆ¸ä»¥åŠæ—§çš„è´§å¸ï¼Œæ”¿åºœå‘è¡Œæ–°è´§å¸ä¸€æ¯”ä¸€æ¢å–äººä»¬æ‰‹ä¸Šçš„æ—§è´§å¸ï¼Œå¸‚åœºä¸Šå°±å…¨ä¸ºæ–°è´§å¸ï¼Œç„¶åå‘è¡Œæ–°å€ºåˆ¸ï¼Œæ–°å€ºåˆ¸ç”¨æ–°è´§å¸è´­ä¹°ï¼Œæ–°è´§å¸å›æµåˆ°æ”¿åºœï¼Œç„¶åç”¨è¿™ç¬”é’±å›è´­æ‰€æœ‰çš„æ—§å€ºåˆ¸ï¼Œæ—§å€ºå˜æ–°å€ºï¼Œç›®çš„ä¿ä½æ”¿åºœä¿¡ç”¨ï¼Œ å¤–å€ºå˜å†…å€º</li>
<li>æ°æ–é€Šå’Œæ±‰å¯†å°”é¡¿çš„åˆ†æ­§=&gt; ç¾å›½çš„æ°‘ä¸»å…šå’Œå…±å’Œå…šï¼Œ æ”¿åºœæ˜¯å¦åº”è¯¥è¿›å…¥å¸‚åœº</li>
<li>ã€Šåˆ¶å®ªä¼šè®®ã€‹ï¼Œæ±‰å¯†å°”é¡¿ä½œä¸ºä¸»è¦çš„å¬é›†äºº</li>
<li>ç›é“è®ºäº‰è®ºçš„æ ¸å¿ƒæ˜¯æ¡‘å¼˜ç¾Šä¹‹é¦–çš„å€¡å¯¼çš„æ˜¯å›½è¥å„æ–­å’Œè‡ªç”±ç»æµä¹‹äº‰è®º</li>
<li>çº½äº¤æ‰€æˆç«‹åï¼Œåå°”è¡—å‡ºç°ç¬¬ä¸€ä¸ªå·¥ç¨‹å€ºåˆ¸ï¼Œä¼Šåˆ©è¿æ²³å€ºåˆ¸</li>
<li>é»‘çƒèˆªçº¿ï¼š çº½çº¦åˆ°è‹±å›½åˆ©ç‰©æµ¦çš„å®šæœŸé‚®è½®</li>
<li>ç‰›å¸‚ä¸ç†Šå¸‚æ˜¯è‚¡ç¥¨å¸‚åœºè¡Œæƒ…é¢„æ–™çš„ä¸¤ç§ä¸åŒè¶‹åŠ¿ã€‚ç‰›å¸‚æ˜¯é¢„æ–™è‚¡å¸‚è¡Œæƒ…çœ‹æ¶¨ï¼Œå‰æ™¯ä¹è§‚çš„ä¸“é—¨æœ¯è¯­ï¼Œç†Šå¸‚æ˜¯é¢„æ–™è‚¡å¸‚è¡Œæƒ…çœ‹è·Œï¼Œå‰æ™¯æ‚²è§‚çš„ä¸“é—¨æœ¯è¯­</li>
<li>åº“å…‹å‘å”®æˆ˜äº‰å€ºåˆ¸ï¼šå°†5äº¿çš„å€ºåˆ¸åˆ†æˆå°å€ºåˆ¸ï¼Œå‘¼åçˆ±å›½ä¸»ä¹‰æ¥ä½¿äººæ°‘æ¥è´­ä¹°å€ºåˆ¸ï¼Œè·å¾—èµ„é‡‘ï¼Œï¼ˆçˆ±å›½çƒ­æƒ…-&gt;æˆ˜äº‰å€ºåˆ¸</li>
<li><a href="https://zhidao.baidu.com/question/1240393995521832699.html">å››ç§å„æ–­ç»„ç»‡ï¼š</a> å¡ç‰¹å°”ã€è¾›è¿ªåŠ ã€æ‰˜æ‹‰æ–¯ã€åº·é‡‡æ©</li>
<li><a href="https://blog.csdn.net/kk55guang2/article/details/82082313">https://blog.csdn.net/kk55guang2/article/details/82082313</a></li>
</ul>
]]></content>
      <tags>
        <tag>çºªå½•ç‰‡</tag>
        <tag>ç»æµ</tag>
        <tag>éšç¬”</tag>
      </tags>
  </entry>
  <entry>
    <title>çº¿æ®µæ ‘-æœ€å°é€†åºæ•°</title>
    <url>/2018/10/12/%E7%BA%BF%E6%AE%B5%E6%A0%91-%E6%9C%80%E5%B0%8F%E9%80%86%E5%BA%8F%E6%95%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p>è¿™æ˜¯ä¸€é“ç®€å•çš„çº¿æ®µæ ‘çš„é¢˜ï¼Œï¼Œï¼Œå½“ç„¶è¿˜æœ‰å¾ˆå¤šå…¶ä»–çš„åšæ³•ï¼Œï¼Œï¼Œç”šè‡³æ—¶æš´åŠ›éƒ½å¯ä»¥ï¼Œï¼Œï¼Œ</p>
<p>ç”¨çº¿æ®µæ ‘ä¸»è¦æ˜¯ä¸ºäº†åœ¨ç»ƒä¸€ç»ƒçº¿æ®µæ ‘çš„ä½¿ç”¨ï¼Œï¼Œï¼Œè€Œä¸”è¿™æ¬¡ï¼Œï¼Œæˆ‘æ¢äº†ä¸€ç§å†™çº¿æ®µæ ‘çš„æ–¹æ³•ï¼Œï¼Œï¼Œ</p>
<p>è²Œä¼¼ä¹Ÿæ˜¯å¾ˆå¤šå¤§ä½¬éƒ½åœ¨ç”¨çš„ä¸€ç§å†™æ³•ï¼Œï¼Œï¼Œ</p>
<p>ä¹‹å‰ä¸€ç›´ç”¨çš„å…¥é—¨æ—¶ä¸ºäº†å¥½ç†è§£çš„ä¸€ç§å†™æ³•ï¼šèŠ‚ç‚¹ç”¨ç»“æ„ä½“nodeè¡¨ç¤ºï¼Œï¼Œï¼Œå¹¶ä¸”ä¸ºäº†ç†è§£è¿˜æ·»äº†æ¯ä¸€ä¸ªèŠ‚ç‚¹æ‰€å¯¹åº”çš„å·¦å³è¾¹ç•Œï¼Œï¼Œï¼Œ</p>
<p>ä½†å®é™…ä¸Šï¼Œï¼Œè¿™äº›ä¿¡æ¯æ˜¯æ²¡æœ‰ç”¨çš„ï¼Œï¼Œï¼Œæˆ–è€…è¯´æ˜¯å¤šä½™çš„ï¼Œï¼Œï¼Œç›´æ¥åœ¨ä½¿ç”¨æ—¶è®¡ç®—æˆ–è€…ç›´æ¥ä½œä¸ºå‡½æ•°çš„å½¢å‚ä¼ é€’å°±è¡Œäº†ï¼Œï¼Œï¼Œï¼Œ</p>
<p>è¿™æ ·çš„å†™æ³•ä»£ç é‡æ›´åŠ çš„å°‘è€Œå†™å†™èµ·æ¥ä¹Ÿæ–¹ä¾¿ï¼Œï¼Œï¼Œå ç”¨çš„ç©ºé—´ä¹Ÿå°‘äº†äº›ï¼Œï¼Œï¼Œ</p>
<span id="more"></span>
<h1 id="é¢˜ç›®çš„åˆ†æ"><a href="#é¢˜ç›®çš„åˆ†æ" class="headerlink" title="é¢˜ç›®çš„åˆ†æ"></a>é¢˜ç›®çš„åˆ†æ</h1><p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1394">è¿™é“é¢˜ä¸åƒä¹‹å‰åšçš„çº¿æ®µæ ‘çš„é¢˜é‚£æ ·æ‰€ç»´æŠ¤çš„å€¼å°±æ˜¯æœ€ç»ˆè¦æ±‚çš„ç­”æ¡ˆï¼Œï¼Œï¼Œè€Œæ˜¯ä¸­é—´çš„æŸä¸€è¿‡ç¨‹é‡ï¼Œï¼Œï¼Œ</a></p>
<p>é¦–å…ˆï¼Œï¼Œé¢˜ç›®çš„æ„æ€å°±æ˜¯å¯¹äºä¸€ä¸ªç»™å®šçš„æ•°åˆ— $a<em>0 , a_1 , a_2 , ,,, ,a</em>{n-1}$,,,æ¯æ¬¡å°†ç¬¬ä¸€ä¸ªæ•°ç§»åŠ¨åˆ°åé¢ï¼Œï¼Œï¼Œè¿™æ ·ä¸€å…±æœ‰nç§åºåˆ—ï¼Œï¼Œï¼Œç„¶åå¯¹äºæ¯ä¸€ç§åºåˆ—éƒ½æœ‰ä¸€ä¸ª <strong>é€†åºæ•°</strong> ï¼Œï¼Œé—®ä½ åœ¨è¿™äº›é€†åºæ•°ä¸­æœ€å°çš„é‚£ä¸ªæ˜¯å¤šå°ï¼Œï¼Œï¼Œï¼Œ</p>
<ul>
<li><p>è¿™é“é¢˜åªè¦çŸ¥é“å…¶ä¸­ä¸€ä¸ªåºåˆ—çš„é€†åºæ•°ï¼Œï¼Œå®ƒçš„ç›¸é‚»ä¸€ä¸ªé€†åºæ•°ä¹Ÿå°±å¯ä»¥æ¨å‡ºæ¥ï¼Œï¼Œï¼Œå…·ä½“æ˜¯è¿™æ ·çš„ï¼š</p>
<p>   $å½“å·²çŸ¥ç¬¬iä¸ªåºåˆ—çš„é€†åºæ•°sum_iæ—¶ï¼Œï¼Œ$</p>
<p>   $ç¬¬i+1ä¸ªåºåˆ—çš„é€†åºæ•°ä¸ºsum_{i+1}=sum_i + n - a[i] - 1 - a[i],,,,$</p>
<p>   $å°±æ˜¯è¯´å½“å°†ç¬¬ä¸€ä¸ªæ•°ç§»åˆ°æœ€åå‰ï¼Œï¼Œï¼Œ$</p>
<p>   $å®ƒä»¥å‰çš„é€†åºæ•°æœ‰ a[i] ä¸ªæ‰€ä»¥è¦å‡å»è¿™äº›ï¼Œï¼Œ$</p>
<p>   $è€Œå½“å®ƒè¢«ç§»åˆ°æœ€åæ—¶ï¼Œï¼Œï¼Œ$</p>
<p>   $å‰é¢åˆå¤šäº† n - a[i] - 1 ä¸ªï¼Œï¼Œï¼Œ$</p>
<p>   $æœ€åçš„sumå°±æ±‚å‡ºæ¥äº†ï¼Œï¼Œï¼Œ$</p>
</li>
<li><p>å½“çŸ¥é“ä¸Šé¢è¿™ä¸ªé€’æ¨å¼åï¼Œï¼Œï¼Œæˆ‘ä»¬çš„ä»»åŠ¡å°±æ˜¯æ±‚å‡ºæ‰€è¾“å…¥å‡ºçš„æ•°åˆ—çš„é€†åºæ•°ï¼Œï¼Œï¼Œç„¶åå†æ ¹æ®é€’æ¨å¼æ‰¾å‡ºæœ€å°çš„é‚£ä¸€ä¸ªè¾“å‡ºå°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
</li>
<li>å¯¹äºæ±‚è¿™ä¸ªæ•°åˆ—çš„é€†åºæ•°ç”¨çº¿æ®µæ ‘çš„æ–¹æ³•æ˜¯ï¼Œï¼Œï¼Œå…ˆå»ºä¸€ä¸ªç©ºçš„æ•°ï¼Œï¼Œï¼Œç„¶åæ¯è¾“å…¥ä¸€ä¸ªæ•°ï¼Œï¼Œæ ‡è®°ä¸€ä¸‹ï¼Œï¼Œä¸è¿‡æ ‡è®°åœ¨æœ€åçš„æ›´æ–°å®Œæˆï¼Œï¼Œï¼Œå…ˆæ±‚å‡ºå®ƒä¹‹å‰æ‰€è¾“å…¥çš„æ‰€æœ‰æ•°ä¸­æ¯”å®ƒå¤§çš„æ•°(ä¹Ÿå°±æ˜¯çœ‹è¿™ä¸ªæ•°åˆ°n-1ä¸€å…±æœ‰å‡ ä¸ªå‡ºç°åœ¨ä¹‹å‰çš„è¾“å…¥ä¸­ï¼Œï¼Œï¼Œä¹Ÿå°±æ˜¯çœ‹æ ‡è®°çš„å’Œ)ï¼Œï¼Œï¼Œä¹Ÿå°±æ˜¯ä»¥å®ƒæ„æˆçš„é€†åºåˆ—ï¼Œï¼Œï¼Œç„¶åæŠŠå®ƒåŠ (æ ‡è®°)åˆ°è¿™ä¸ªæ ‘é‡Œï¼ˆæ›´æ–°ï¼‰ï¼Œï¼Œï¼Œå¯ä»¥çœ‹å‡ºå¦‚æœæŠŠæ ‡è®°æ”¹ä¸ºå­˜æ”¾è¿™ä¸ªæ•°ï¼Œï¼Œçº³é—·è¿™æ£µæ ‘çš„å¶å­èŠ‚ç‚¹å°±æ˜¯æ’åºå¥½çš„1~n-1æ•°åˆ—ï¼Œï¼Œï¼Œï¼Œè¿™ä¸€æ®µç”»ä¸ªå›¾å°±å¥½ç†è§£äº†ï¼Œï¼Œï¼Œ</li>
</ul>
<h1 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h1><p>code:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> lson rt&lt;&lt;1,l,mid</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> rson rt&lt;&lt;1|1,mid+1,r</span><br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">5005</span>;<br><span class="hljs-keyword">int</span> sum[maxn &lt;&lt; <span class="hljs-number">2</span>];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">pushup</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt)</span></span><br><span class="hljs-function"></span>&#123;<br>    sum[rt] = sum[rt &lt;&lt; <span class="hljs-number">1</span>] + sum[rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>];<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">build</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt , <span class="hljs-keyword">int</span> l , <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    sum[rt] = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">if</span>(l == r)<br>        <span class="hljs-keyword">return</span>;<br><br>    <span class="hljs-keyword">int</span> mid = (l + r) &gt;&gt; <span class="hljs-number">1</span>;<br><br>    build(lson);<br>    build(rson);<br>    pushup(rt);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">update</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt , <span class="hljs-keyword">int</span> l , <span class="hljs-keyword">int</span> r , <span class="hljs-keyword">int</span> loc)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(l == r)<br>    &#123;<br>        ++sum[rt];<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">int</span> mid = (l + r) &gt;&gt; <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">if</span>(loc &lt;= mid)  update(lson , loc);<br>    <span class="hljs-keyword">else</span>            update(rson , loc);<br>    pushup(rt);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">query</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt , <span class="hljs-keyword">int</span> l , <span class="hljs-keyword">int</span> r , <span class="hljs-keyword">int</span> L , <span class="hljs-keyword">int</span> R)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(L &lt;= l &amp;&amp; r &lt;= R)<br>        <span class="hljs-keyword">return</span> sum[rt];<br><br>    <span class="hljs-keyword">int</span> mid = (l + r) &gt;&gt; <span class="hljs-number">1</span>;<br><br>    <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">if</span>(L &lt;= mid)    ans += query(lson , L , R);<br>    <span class="hljs-keyword">if</span>(R &gt;  mid)    ans += query(rson , L , R);<br>    <span class="hljs-keyword">return</span> ans;<br>&#125;<br><span class="hljs-keyword">int</span> a[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> n;<br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;n) != EOF)<br>    &#123;<br>        build(<span class="hljs-number">1</span> , <span class="hljs-number">0</span> , n);<br><br>        <span class="hljs-keyword">int</span> sm = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;a[i]);<br>            sm += query(<span class="hljs-number">1</span> , <span class="hljs-number">0</span> , n - <span class="hljs-number">1</span> , a[i] , n - <span class="hljs-number">1</span>);<br>            update(<span class="hljs-number">1</span> , <span class="hljs-number">0</span> , n - <span class="hljs-number">1</span> , a[i]);<br>        &#125;<br><br>        <span class="hljs-keyword">int</span> ret = sm;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i)<br>        &#123;<br>            sm += n - a[i] - <span class="hljs-number">1</span> - a[i];<br>            ret = min(sm , ret);<br>        &#125;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span> , ret);<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>ACM-çº¿æ®µæ ‘</category>
      </categories>
      <tags>
        <tag>åˆ·é¢˜</tag>
        <tag>acm</tag>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>çº¿æ€§ç­›ç´ æ•°</title>
    <url>/2018/07/19/%E7%BA%BF%E6%80%A7%E7%AD%9B%E7%B4%A0%E6%95%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>2018-7-19</p>
<p>è¿™ç¯‡ä¸»è¦æ˜¯å…³äºæ•°è®ºä¸­ç´ æ•°çš„ç­›æ³•çš„çŸ¥è¯†ç‚¹æ€»ç»“ï¼Œï¼Œï¼Œå…¶ä¸­æˆ‘æ„Ÿå—æœ€æ·±çš„å°±æ˜¯çº¿ç­›ä»¥åŠå¯¹æŸä¸€ä¸ªæ•´æ•°næ±‚å…¶æ‰€æœ‰çš„è´¨å› æ•°åŠå…¶ä¸ªæ•°çš„æ¨¡æ¿äº†ï¼Œï¼Œï¼Œä¸€å®šè¦ç†è§£å¥½ï¼Œï¼Œå¹¶ä¸”æ˜¯é€‚åˆè‡ªå·±çš„æ¨¡æ¿ï¼Œï¼Œï¼Œæ¸…æ¥šæ¯ä¸€ä¸ªå˜é‡ï¼Œï¼Œä¸ç„¶åœ¨åšé¢˜æ—¶å¥—æ¨¡æ¿å¯èƒ½å‡ºç°å„ç§å„æ ·çš„é”™è¯¯ï¼Œï¼Œï¼Œ</p>
<h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>ä¸€èˆ¬æ¥è¯´ï¼Œæ±‚ç´ æ•°çš„æ–¹æ³•æœ‰å¾ˆå¤šï¼Œï¼Œï¼Œæœ‰ <strong>ç›´æ¥éå†</strong> ï¼Œ <strong>åŸƒç­›</strong> ï¼Œ <strong>çº¿ç­›</strong>ï¼Œï¼Œå…¶ä¸­çº¿ç­›æˆ‘è®¤ä¸ºæœ€ä¸ºé‡è¦ï¼Œï¼Œï¼Œ</p>
<span id="more"></span>
<h2 id="ç›´æ¥éå†çš„æ–¹æ³•"><a href="#ç›´æ¥éå†çš„æ–¹æ³•" class="headerlink" title="ç›´æ¥éå†çš„æ–¹æ³•"></a>ç›´æ¥éå†çš„æ–¹æ³•</h2><p>æ ¹æ®ç´ æ•°çš„å®šä¹‰ï¼Œï¼Œï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“å°±æƒ³åˆ°ä¸€ç§æ–¹æ³•ã€‚ã€‚ä»1åˆ°néå†ä¸€éï¼Œï¼Œï¼Œå‡è‹¥nèƒ½æ•´é™¤å…¶ä¸­çš„æŸä¸€ä¸ªæ•°ï¼Œï¼Œï¼Œé‚£ä¹ˆnå°±æ˜¯åˆæ•° ï¼Œï¼Œï¼Œåä¹‹ï¼Œï¼Œå‡è‹¥éå†åˆ°n-1éƒ½æ²¡æœ‰æ•°è¢«æ•´é™¤ï¼Œï¼Œï¼Œé‚£ä¹ˆå°±è¯´æ˜nå³ä¸ºç´ æ•°ï¼Œï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">prime</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<span class="hljs-comment">//åˆ¤æ–­xæ˜¯ä¸æ˜¯è´¨æ•°ï¼Œæ˜¯è¿”å›trueï¼Œä¸æ˜¯è¿”å›false </span><br>    <span class="hljs-keyword">if</span>(x &lt;= <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt; x; i ++)&#123;<br>        <span class="hljs-keyword">if</span>(x % i == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>å…¶ä¸­ï¼Œï¼Œï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å†ä¼˜åŒ–ä¸€ä¸‹ï¼Œï¼Œåªéå†åˆ°æ ¹å·nå³å¯ï¼Œï¼Œï¼Œå› ä¸ºéªŒè¯æ ¹å·nä¹‹å‰çš„ä¸€ä¸ªæ•°çš„åŒæ—¶ä¹Ÿå°±éªŒè¯äº†æ ¹å·nä¹‹åå¯¹åº”çš„ä¸€ä¸ªæ•°ï¼Œï¼Œï¼Œè¿™æ ·æ—¶é—´å¤æ‚åº¦å°±æ˜¯O(âˆšn)ï¼Œï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">prime</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<span class="hljs-comment">//åˆ¤æ–­xæ˜¯ä¸æ˜¯è´¨æ•°ï¼Œæ˜¯è¿”å›trueï¼Œä¸æ˜¯è¿”å›false </span><br>    <span class="hljs-keyword">if</span>(x &lt;= <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= <span class="hljs-built_in">sqrt</span>(x + <span class="hljs-number">0.5</span>); i ++)&#123;<span class="hljs-comment">//0.5æ˜¯é˜²æ­¢æ ¹å·çš„ç²¾åº¦è¯¯å·® </span><br>        <span class="hljs-keyword">if</span>(x % i == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-comment">//å¦ä¸€ç§æ–¹æ³•ï¼Œä¸éœ€è¦æ ¹å· </span><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">prime</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<span class="hljs-comment">//åˆ¤æ–­xæ˜¯ä¸æ˜¯è´¨æ•°ï¼Œæ˜¯è¿”å›trueï¼Œä¸æ˜¯è¿”å›false </span><br>    <span class="hljs-keyword">if</span>(x &lt;= <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i * i &lt;= x; i ++)&#123;<span class="hljs-comment">//ç”¨ä¹˜æ³•é¿å…æ ¹å·çš„ç²¾åº¦è¯¯å·® </span><br>        <span class="hljs-keyword">if</span>(x % i == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-comment">//æ ¹æ®é¢˜ç›®ä¸åŒï¼Œå¦‚æœi*iä¼šçˆ†intï¼Œè®°å¾—å¼€longlong</span><br></code></pre></td></tr></table></figure>
<p>ä½†æ˜¯ï¼Œï¼Œï¼Œå¯¹äºå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œï¼Œï¼Œæˆ‘ä»¬å¹¶ä¸ä»…ä»…è¦çŸ¥é“nè¿™ä¸€ä¸ªæ•°æ˜¯å¦ä¸ºç´ æ•°ï¼Œï¼Œï¼Œé€šå¸¸æƒ…å†µä¸‹æ˜¯è¦åˆ¤æ–­[1 , n]æ‰€æœ‰æ•°é‚£äº›æ—¶ç´ æ•°ï¼Œï¼Œï¼Œè¿™æ ·å°±å¾—å†æ¥ä¸€ä¸ªå¾ªç¯æ¥éå†ä¸€éï¼Œï¼Œï¼Œè¿™æ ·çš„æ—¶é—´å¤æ‚åº¦å°±æ˜¯O(n*âˆšn)ï¼Œï¼Œï¼Œ<br><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">100000</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">bool</span> prime[N];<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">is_prime</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<br>    <span class="hljs-keyword">if</span>(x &lt;= <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i * i &lt;= x; i ++)&#123;<br>        <span class="hljs-keyword">if</span>(x % i == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; N; i ++)&#123;<br>        prime[i] = is_prime(i);<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    init();<br>&#125;<br></code></pre></td></tr></table></figure><br>ä½†è¿™æ ·çš„ç®—æ³•è¿˜æ˜¯å¾ˆæ…¢çš„ï¼Œï¼Œï¼Œæ‰€ä»¥æˆ‘ä»¬æœ‰ä¸‹é¢è¿™ä¸ªç®—æ³•ï¼Œï¼Œï¼Œï¼Œ</p>
<h2 id="åŸƒç­›"><a href="#åŸƒç­›" class="headerlink" title="åŸƒç­›"></a>åŸƒç­›</h2><p>æˆ‘ä¸ªäººçš„å¯¹åŸƒç­›çš„ç†è§£æ˜¯è¿™æ ·çš„ï¼Œï¼Œï¼Œç”¨ä¸€ä¸ªæ•°ç»„prime[n]æ¥è¡¨ç¤º[1 , n]æ‰€æœ‰æ•°ï¼Œï¼Œï¼Œç„¶åä»2å¼€å§‹ï¼Œï¼Œ,2æ ‡è®°ä¸ºtrueï¼Œï¼Œï¼Œï¼Œ2çš„æ‰€æœ‰å€æ•°æ ‡è®°ä¸ºfalseï¼Œï¼Œï¼ŒåŒæ ·3ä¹Ÿæ˜¯è¿™æ ·ï¼Œï¼Œï¼Œ5ä¹Ÿæ˜¯è¿™æ ·ï¼Œï¼Œï¼Œç­‰ç­‰ï¼Œï¼Œï¼ŒåŒæ—¶æ ‡è®°è¿‡çš„åˆæ•°ä¸å†æ ‡è®°è·³è¿‡ï¼Œï¼Œï¼Œ<br>ä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">100000</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">bool</span> prime[N];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt; N; i ++) prime[i] = <span class="hljs-literal">true</span>;<span class="hljs-comment">//å…ˆå…¨éƒ¨åˆå§‹åŒ–ä¸ºè´¨æ•° </span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt; N; i ++)&#123;<br>        <span class="hljs-keyword">if</span>(prime[i])&#123;                           <span class="hljs-comment">//å¦‚æœiæ˜¯è´¨æ•° </span><br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">2</span>*i; j &lt; N; j += i)&#123;    <span class="hljs-comment">//ä»içš„ä¸¤å€å¼€å§‹çš„æ‰€æœ‰å€æ•° </span><br>                prime[j] = <span class="hljs-literal">false</span>; <br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    init();<br>&#125;<br></code></pre></td></tr></table></figure><br>åŸƒç­›çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(nloglogn)ï¼Œï¼Œï¼Œæ¥è¿‘O(n)ï¼Œï¼Œï¼Œï¼Œ</p>
<h2 id="çº¿ç­›"><a href="#çº¿ç­›" class="headerlink" title="çº¿ç­›"></a>çº¿ç­›</h2><p><del>é¸½ï¼Œï¼Œï¼Œ</del><br>çº¿ç­›å¯ä»¥ä¿è¯æ¯ä¸ª <strong>åˆæ•°</strong> éƒ½è¢«ä»–çš„æœ€å° <strong>è´¨å› æ•°</strong> ç­›å»ï¼Œï¼Œï¼Œæ‰€ä»¥æ¯ä¸ªæ•°ä¹‹ç»å†ä¸€æ¬¡ï¼Œï¼Œï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(n)<br>ä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">100000</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">bool</span> prime[N];                                      <span class="hljs-comment">//prime[i]è¡¨ç¤ºiæ˜¯ä¸æ˜¯è´¨æ•° </span><br><span class="hljs-keyword">int</span> p[N], tot;                                      <span class="hljs-comment">//p[N]ç”¨æ¥å­˜è´¨æ•° </span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt; N; i ++) prime[i] = <span class="hljs-literal">true</span>;    <span class="hljs-comment">//åˆå§‹åŒ–ä¸ºè´¨æ•° </span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt; N; i++)&#123;<br>        <span class="hljs-keyword">if</span>(prime[i]) p[tot ++] = i;                 <span class="hljs-comment">//æŠŠè´¨æ•°å­˜èµ·æ¥ </span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; tot &amp;&amp; i * p[j] &lt; N; j++)&#123;<br>            prime[i * p[j]] = <span class="hljs-literal">false</span>;<br>            <span class="hljs-keyword">if</span>(i % p[j] == <span class="hljs-number">0</span>) <span class="hljs-keyword">break</span>;                <span class="hljs-comment">//ä¿è¯æ¯ä¸ªåˆæ•°è¢«å®ƒæœ€å°çš„è´¨å› æ•°ç­›å» </span><br>        &#125;<br>    &#125;    <br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    init();<br>&#125;<br></code></pre></td></tr></table></figure></p>
<h2 id="å…¶ä»–åº”ç”¨"><a href="#å…¶ä»–åº”ç”¨" class="headerlink" title="å…¶ä»–åº”ç”¨"></a>å…¶ä»–åº”ç”¨</h2><p>åŸºäºç´ æ•°çš„ç­›æ³•ï¼Œï¼Œæˆ‘ä»¬å¯ä»¥å¹²å…¶ä»–çš„ä¸€äº›äº‹ï¼Œï¼Œï¼Œ</p>
<h3 id="å¤„ç†æŸä¸ªæ•°çš„è´¨å› æ•°åŠå…¶ä¸ªæ•°"><a href="#å¤„ç†æŸä¸ªæ•°çš„è´¨å› æ•°åŠå…¶ä¸ªæ•°" class="headerlink" title="å¤„ç†æŸä¸ªæ•°çš„è´¨å› æ•°åŠå…¶ä¸ªæ•°"></a>å¤„ç†æŸä¸ªæ•°çš„è´¨å› æ•°åŠå…¶ä¸ªæ•°</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-class"><span class="hljs-keyword">struct</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> num;<br>    <span class="hljs-keyword">int</span> p;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function">    </span>&#123;<br>        num = p = <span class="hljs-number">0</span>;<br>    &#125;<br>&#125;a[N];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init_3</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span>          <span class="hljs-comment">//ç”¨åŸƒç­›çº¿ç­›å¤„ç†ä¹‹åçš„è´¨æ•°æ•°ç»„</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> cnt = <span class="hljs-number">2</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>        a[i].init();<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= n; i++)<br>    &#123;<br>        <span class="hljs-keyword">while</span> (prime_2[i] &amp;&amp; n % i == <span class="hljs-number">0</span>)<br>        &#123;<br>            a[i].p = i;<br>            a[i].num++;<br>            n /= i;<br>        &#125;<br>        cnt++;<br>        <span class="hljs-keyword">if</span> (n == <span class="hljs-number">1</span>) <span class="hljs-keyword">break</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="é¢„å¤„ç†æ¯ä¸ªæ•°çš„æ‰€æœ‰è´¨å› æ•°"><a href="#é¢„å¤„ç†æ¯ä¸ªæ•°çš„æ‰€æœ‰è´¨å› æ•°" class="headerlink" title="é¢„å¤„ç†æ¯ä¸ªæ•°çš„æ‰€æœ‰è´¨å› æ•°"></a>é¢„å¤„ç†æ¯ä¸ªæ•°çš„æ‰€æœ‰è´¨å› æ•°</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">100000</span> + <span class="hljs-number">5</span>;<br><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span> &gt; prime_factor[N];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt; N; i ++)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(prime_factor[i].size() == <span class="hljs-number">0</span>)<br>        &#123;                                   <span class="hljs-comment">//å¦‚æœiæ˜¯è´¨æ•° </span><br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = i; j &lt; N; j += i)<br>            &#123;<br>                prime_factor[j].push_back(i); <br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    init();<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="é¢„å¤„ç†æ¯ä¸ªæ•°çš„æ‰€æœ‰å› æ•°"><a href="#é¢„å¤„ç†æ¯ä¸ªæ•°çš„æ‰€æœ‰å› æ•°" class="headerlink" title="é¢„å¤„ç†æ¯ä¸ªæ•°çš„æ‰€æœ‰å› æ•°"></a>é¢„å¤„ç†æ¯ä¸ªæ•°çš„æ‰€æœ‰å› æ•°</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">100000</span> + <span class="hljs-number">5</span>;<br><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span> &gt; factor[N];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt; N; i ++)<br>    &#123; <br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = i; j &lt; N; j += i)<br>        &#123;<br>            factor[j].push_back(i); <br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    init();<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="é¢„å¤„ç†æ¯ä¸ªæ•°çš„è´¨å› æ•°åˆ†è§£"><a href="#é¢„å¤„ç†æ¯ä¸ªæ•°çš„è´¨å› æ•°åˆ†è§£" class="headerlink" title="é¢„å¤„ç†æ¯ä¸ªæ•°çš„è´¨å› æ•°åˆ†è§£"></a>é¢„å¤„ç†æ¯ä¸ªæ•°çš„è´¨å› æ•°åˆ†è§£</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">100000</span> + <span class="hljs-number">5</span>;<br><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span> &gt; prime_factor[N];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-keyword">int</span> temp;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt; N; i ++)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(prime_factor[i].size() == <span class="hljs-number">0</span>)<br>        &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = i; j &lt; N; j += i)<br>            &#123;<br>                temp = j;<br>                <span class="hljs-keyword">while</span>(temp % i == <span class="hljs-number">0</span>)<br>                &#123;<br>                    prime_factor[j].push_back(i);<br>                    temp /= i;<br>                &#125;  <br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    init();<br>&#125;<br></code></pre></td></tr></table></figure>
<p>å—¯ï¼Œï¼Œï¼Œå°±è¿™äº†å§ ï¼Œï¼Œï¼Œåšå®¢ä¹Ÿä¸æ˜¯å¥½æ°´çš„ï¼Œï¼Œï¼Œï¼Œè¿˜æœ‰ä¸€å †çš„å‘æ²¡è¡¥QAQ</p>
<p><a href="https://www.cnblogs.com/linyujun/p/5198832.html">å‚è€ƒçš„dalaoåšå®¢</a></p>
<h2 id="æœ‰å…³ç´ æ•°çš„å‡ ä¸ªå®šç†"><a href="#æœ‰å…³ç´ æ•°çš„å‡ ä¸ªå®šç†" class="headerlink" title="æœ‰å…³ç´ æ•°çš„å‡ ä¸ªå®šç†"></a>æœ‰å…³ç´ æ•°çš„å‡ ä¸ªå®šç†</h2><ul>
<li><p>æ¯ä¸€ä¸ªå¤§äº$1$çš„æ­£æ•´æ•°$n$éƒ½å¯ä»¥è¡¨ç¤ºæˆç´ æ•°ä¹‹ç§¯çš„å½¢å¼:<br>$n = p_1^{a1}p_2^{a2}p_3^{a3}p_4^{a4}$â€¦..</p>
</li>
<li><p>è®¾$d(n)$æ˜¯$n$çš„æ­£å› å­çš„ä¸ªæ•°ï¼Œ$sum(n)$æ˜¯$n$çš„æ‰€æœ‰å› å­ä¹‹å’Œ:</p>
<p>  $d(n) = (a_1 + 1)<em>(a_2 + 1)</em>(a_3 + 1)â€¦$</p>
<p>  $Sum(n) = (1 + p_1 + p_1^2 + â€¦ + p_1 ^ {a_1}) * (1 + p_2 + p_2^2 + â€¦ + p_2^{a_2})â€¦$</p>
</li>
</ul>
]]></content>
      <tags>
        <tag>acm</tag>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>çº¿æ®µæ ‘</title>
    <url>/2018/07/17/%E7%BA%BF%E6%AE%B5%E6%A0%91/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>2018-7-17</p>
<p>è¿™ç¯‡ä¸»è¦æ˜¯å…³äºæ ‘é‡Œçš„ <strong>çº¿æ®µæ ‘</strong> çš„ä¸€äº›ä¸œè¥¿ï¼Œï¼Œï¼Œ</p>
<h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><ul>
<li>é¦–å…ˆï¼Œï¼Œçº¿æ®µæ ‘çš„ä½¿ç”¨åœºæ™¯ä¸»è¦æ˜¯å¯¹äºä¸€ä¸ªçº¿æ€§çš„ç‚¹(å¯èƒ½ä»£è¡¨æ•°ï¼Œä¹Ÿå¯èƒ½æ˜¯å…¶ä»–))ï¼Œï¼Œå¤šæ¬¡æ±‚åŒºé—´[l , r]ä¹‹é—´çš„å’Œï¼Œæœ€å€¼ï¼Œå¥‡å¶å’Œä»€ä¹ˆçš„ï¼Œï¼Œï¼ŒåŒæ—¶è¦èƒ½å¤Ÿä¿®æ”¹æŸä¸ªç‚¹çš„åŒæ—¶æ›´æ–°ä¸Šè¿°æ‰€æ±‚ï¼Œï¼Œï¼Œ</li>
<li>å¦‚æœç”¨æ™®é€šæ•°ç»„å®ç°æ—¶ï¼Œï¼Œå½“é¢å¯¹è¾ƒå¤§çš„æ•°æ®é‡æ—¶å¾€å¾€ä¼štleï¼Œï¼Œï¼Œæ­¤æ—¶å¯ä»¥ä½¿ç”¨çº¿æ®µæ ‘æ¥ç»´æŠ¤è¿™æ®µæ•°æ®ï¼Œï¼Œï¼Œ</li>
<li>åŸç†å°±æ˜¯å°†åŒºé—´ä¸º[1 , n]äºŒåˆ†ä¸ºè‹¥å¹²ä¸ªå­åŒºé—´ï¼Œï¼Œï¼Œï¼ˆæ•°é‡ä¸è¶…è¿‡4 <em> nï¼‰ï¼Œå°†åŒºé—´[l , r]éƒ½åˆ†æˆç‰¹å®šå­åŒºé—´ï¼Œï¼Œç„¶åå¯¹è¿™äº›å­åŒºé—´è¿›è¡Œ <strong>ä¿®æ”¹</strong> å’Œ <em>*ç»Ÿè®¡</em></em> ä»¥å®ç°å¯¹[l , r]åŒºé—´çš„ä¿®æ”¹å’Œç»Ÿè®¡ï¼Œï¼Œï¼Œ</li>
<li>çº¿æ®µæ ‘å¯¹ç¼–å·è¿ç»­çš„ç‚¹è¿›è¡Œä¿®æ”¹æˆ–è€…ç»Ÿè®¡æ“ä½œçš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O($log_2$n)ï¼Œï¼Œï¼Œ</li>
</ul>
<span id="more"></span>
<ul>
<li>çº¿æ®µæ ‘çš„ç»Ÿè®¡çš„ä¸œè¥¿å¿…é¡»æ»¡è¶³ <strong>åŒºé—´å¯åŠ æ€§</strong> ï¼Œå¦åˆ™ä¸èƒ½é€šè¿‡åˆ†æˆçš„å­åŒºé—´æ¥å¾—åˆ°[l , r]çš„ç»Ÿè®¡çš„ç»“æœï¼Œï¼Œ</li>
</ul>
<blockquote>
<ul>
<li>ç¬¦åˆ <strong>åŒºé—´åŠ æ³•</strong> çš„ä¾‹å­ï¼š</li>
<li>æ•°å­—ä¹‹å’Œâ€”â€”æ€»æ•°å­—ä¹‹å’Œ = å·¦åŒºé—´æ•°å­—ä¹‹å’Œ + å³åŒºé—´æ•°å­—ä¹‹å’Œ</li>
<li>æœ€å¤§å…¬å› æ•°(GCD)â€”â€”æ€»GCD = gcd( å·¦åŒºé—´GCD , å³åŒºé—´GCD );</li>
<li>æœ€å¤§å€¼â€”â€”æ€»æœ€å¤§å€¼=max(å·¦åŒºé—´æœ€å¤§å€¼ï¼Œå³åŒºé—´æœ€å¤§å€¼)</li>
<li><strong>ä¸ç¬¦åˆåŒºé—´åŠ æ³•</strong> çš„ä¾‹å­ï¼š</li>
<li>ä¼—æ•°â€”â€”åªçŸ¥é“å·¦å³åŒºé—´çš„ä¼—æ•°ï¼Œæ²¡æ³•æ±‚æ€»åŒºé—´çš„ä¼—æ•°</li>
<li>01åºåˆ—çš„æœ€é•¿è¿ç»­é›¶â€”â€”åªçŸ¥é“å·¦å³åŒºé—´çš„æœ€é•¿è¿ç»­é›¶ï¼Œæ²¡æ³•çŸ¥é“æ€»çš„æœ€é•¿è¿ç»­é›¶</li>
</ul>
<p><a href="https://blog.csdn.net/yitongjun/article/details/53193724">å‚è€ƒåšæ–‡</a></p>
</blockquote>
<h2 id="åŸºç¡€å®ç°"><a href="#åŸºç¡€å®ç°" class="headerlink" title="åŸºç¡€å®ç°"></a>åŸºç¡€å®ç°</h2><h3 id="å»ºæ ‘"><a href="#å»ºæ ‘" class="headerlink" title="å»ºæ ‘"></a>å»ºæ ‘</h3><p>å»ºæ ‘ä¹‹å‰å…ˆå¾—æ„å»ºä¸€ä¸ªèŠ‚ç‚¹æ•°ç»„ï¼Œï¼Œæ ¹æ®æˆ‘ä»¬çš„éœ€æ±‚ï¼Œï¼ŒèŠ‚ç‚¹è¦æœ‰ä¸¤ä¸ªå€¼l , ræ¥ä¿å­˜è¯¥èŠ‚ç‚¹çš„åŒºé—´ï¼Œï¼ŒåŒæ—¶ï¼Œï¼Œï¼Œæ ¹æ®é¢˜ç›®çš„ä¸åŒèŠ‚ç‚¹é‡Œä¹Ÿè¦æœ‰sumâ€”ç”¨æ¥ä¿å­˜è¯¥åŒºé—´çš„å’Œæˆ–å·®ï¼Œï¼Œï¼Œmax,minæ¥ä¿å­˜è¯¥åŒºé—´å†…çš„æœ€å€¼ï¼Œodd,evenä¿å­˜è¯¥åŒºé—´çš„å¥‡å¶å’Œç­‰ç­‰ï¼Œï¼Œï¼Œæ€»ä¹‹èŠ‚ç‚¹é‡Œçš„ä¸œè¥¿è¦çµæ´»çš„æ ¹æ®é¢˜æ„æ¥å˜é€šï¼Œï¼Œï¼Œ<br>åŸºäºä»¥ä¸Šï¼Œï¼Œæˆ‘ä»¬å¤§å¤šæ•°æƒ…å†µä¸‹çš„èŠ‚ç‚¹æ„å»ºå¦‚ä¸‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> MAXN = <span class="hljs-number">10</span>;<br><span class="hljs-keyword">int</span> a[MAXN];                                 <span class="hljs-comment">//a[MAXN]æ˜¯å¾…å¤„ç†çš„æ•°æ®</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">tree</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> l;<br>    <span class="hljs-keyword">int</span> r;<br>    <span class="hljs-keyword">int</span> sum;<br>&#125;Node[MAXN &lt;&lt; <span class="hljs-number">2</span>];                            <span class="hljs-comment">//å…¶ä¸­MAXN &lt;&lt; 2çš„æ„æ€æ˜¯å¼€4å€çš„MAXNçš„æ•°ç»„ï¼Œï¼Œï¼Œ</span><br></code></pre></td></tr></table></figure>
<p>èŠ‚ç‚¹æœ‰äº†ï¼Œï¼Œä¹‹åä¾¿æ˜¯å»ºæ ‘å“©ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//build(1 , 1 , n)                          //è°ƒç”¨æ–¹å¼</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">build</span> <span class="hljs-params">(<span class="hljs-keyword">int</span> rt , <span class="hljs-keyword">int</span> l , <span class="hljs-keyword">int</span> r)</span>         <span class="hljs-comment">//rtæŒ‡çš„æ˜¯æ ¹èŠ‚ç‚¹å³å½“å‰èŠ‚ç‚¹ï¼Œl , rå³å·¦å³åŒºé—´å€¼</span></span><br><span class="hljs-function"></span>&#123;<br>    Node[rt].l = l;                         <span class="hljs-comment">//è®°å½•å½“å‰çš„å·¦åŒºé—´</span><br>    Node[rt].r = r;                         <span class="hljs-comment">//è®°å½•å½“å‰çš„å³åŒºé—´</span><br>    Node[rt].sum = <span class="hljs-number">0</span>;                       <span class="hljs-comment">//å°†è¯¥åŒºé—´çš„åŒºé—´å’Œåˆå§‹åŒ–ä¸º0</span><br>    <span class="hljs-keyword">if</span> (l == r)                             <span class="hljs-comment">//å½“å·¦å³åŒºé—´å€¼ç›¸ç­‰æ—¶ï¼Œè¯´æ˜ç°åœ¨è®¿é—®åˆ°äº†å¶å­èŠ‚ç‚¹ï¼Œå³è¯¥èŠ‚ç‚¹ä¿å­˜æ•°æ®çš„å€¼</span><br>    &#123;<br>        Node[rt].sum = a[l];<br>        <span class="hljs-keyword">return</span>;                             <span class="hljs-comment">//è®°å¾—returnåˆ°ä¸Šä¸€å±‚ï¼Œï¼Œè·³å‡ºè¿™ä¸€æ¡çº¿</span><br>    &#125;<br>    <span class="hljs-keyword">int</span> mid = l + r;                        <span class="hljs-comment">//è®¡ç®—åŒºé—´ä¸­ç‚¹å€¼</span><br>    mid /= <span class="hljs-number">2</span>;<br>    build (rt &lt;&lt; <span class="hljs-number">1</span> , l , mid);              <span class="hljs-comment">//å‘å·¦åŠæ”¯é€’å½’å»ºæ ‘</span><br>    build ((rt &lt;&lt; <span class="hljs-number">1</span>) | <span class="hljs-number">1</span> , mid + <span class="hljs-number">1</span> , r);    <span class="hljs-comment">//å‘å³åŠæ”¯å»ºæ ‘</span><br>    pushUp (rt);                            <span class="hljs-comment">//æ›´æ–°èŠ‚ç‚¹rtçš„sumå€¼</span><br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="pushUp-å‡½æ•°çš„å®ç°"><a href="#pushUp-å‡½æ•°çš„å®ç°" class="headerlink" title="pushUp()å‡½æ•°çš„å®ç°:"></a>pushUp()å‡½æ•°çš„å®ç°:</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">pushUp</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt)</span>                         <span class="hljs-comment">//æ›´æ–°èŠ‚ç‚¹çš„sumçš„å€¼</span></span><br><span class="hljs-function"></span>&#123;<br>    Node[rt].sum = Node[rt &lt;&lt; <span class="hljs-number">1</span>].sum + Node[(rt &lt;&lt; <span class="hljs-number">1</span>) | <span class="hljs-number">1</span>].sum;<br>&#125;<br></code></pre></td></tr></table></figure>
<ul>
<li>æ³¨æ„ï¼šå»ºæ ‘çš„æ¨¡æ¿ç»ˆç©¶æ˜¯æ¨¡æ¿ï¼Œï¼Œä¸è¦æ­»å¥—ï¼Œï¼Œè¦æ ¹æ®å…·ä½“çš„é—®é¢˜å…·ä½“åˆ†æï¼Œï¼Œæ›´æ”¹ä¸­é—´çš„ä»£ç ï¼Œï¼Œï¼Œä¸€èˆ¬æ¥è¯´æœ‰å…³sumçš„åœ°æ–¹æ”¹åŠ¨æ¯”è¾ƒå¤§ï¼Œï¼Œï¼Œ</li>
<li>rt &lt;&lt; 1æŒ‡çš„æ˜¯rt * 2ï¼Œä¹Ÿå°±æ˜¯å·¦å„¿å­ï¼Œå¯¹åº”çš„rt &lt;&lt; 1 | 1æŒ‡çš„æ˜¯å³å„¿å­ï¼Œï¼Œï¼Œ</li>
<li>å»ºæ ‘çš„ä¸»è¦æ€æƒ³æ˜¯é€’å½’å®ç°ï¼Œï¼Œï¼Œå¯¹å·¦å³åˆ†æ”¯åˆ†åˆ«é€’å½’ï¼Œï¼Œï¼Œå½“åŒºé—´å€¼ç›¸ç­‰æ—¶ä¾¿å‚¨å­˜æ•°æ®å€¼ï¼Œï¼Œï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç”¨å¾ªç¯ä»ä¸‹å‘ä¸Šå®ç°å®ç°ï¼Œï¼Œ</li>
<li>å¯¹äºæ‰€å»ºç«‹çš„æ ‘ï¼Œï¼Œæ¯ä¸€ä¸ªæ ¹èŠ‚ç‚¹Node[rt]çš„å·¦å„¿å­ä¸ºNode[rt &lt;&lt; 1]ï¼Œå³å„¿å­ä¸ºNode[rt &lt;&lt; 1 | 1]ï¼Œï¼ŒåŒæ—¶ï¼Œï¼Œï¼Œæˆ‘ä»¬çš„æ ‘çš„å®ç°æ˜¯å»ºç«‹åœ¨ä¸€ä¸ªä¸€ç»´æ•°ç»„åŸºç¡€ä¸Šçš„ï¼Œï¼Œï¼Œ</li>
</ul>
<h3 id="æ›´æ–°"><a href="#æ›´æ–°" class="headerlink" title="æ›´æ–°"></a>æ›´æ–°</h3><p><del>+ å¤ªæ™šäº†ï¼Œï¼Œï¼Œå…ˆé¸½äº†ï¼Œï¼Œï¼Œ(<em>Â´Ï‰<code>)äºº(Â´Ï‰</code></em>)ï¼Œï¼Œï¼Œï¼Œ2018-7-17-22-50ï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œ</del></p>
<ul>
<li>çº¿æ®µæ ‘æœ€é‡è¦çš„ä¸¤ä¸ªæ“ä½œå°±æ˜¯ <strong>æ›´æ–°</strong> å’Œ <strong>æŸ¥è¯¢</strong>ï¼Œï¼Œ å…ˆçœ‹æ’å…¥ï¼š</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//update(1, loc , value)</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">update</span> <span class="hljs-params">(<span class="hljs-keyword">int</span> rt , <span class="hljs-keyword">int</span> loc , <span class="hljs-keyword">int</span> value)</span>  <span class="hljs-comment">//æ›´æ–°æŸä¸€ä½ç½®å¤„locçš„å€¼</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (Node[rt].l == Node[rt].r)           <span class="hljs-comment">//å½“å·¦å³èŠ‚ç‚¹å€¼ç›¸ç­‰è¯´æ˜æ‰¾åˆ°è¦æ‰¾çš„å¶å­èŠ‚ç‚¹</span><br>    &#123;<br>        Node[rt].sum = value;               <span class="hljs-comment">//æ”¹å˜è¯¥å¶å­èŠ‚ç‚¹çš„å€¼ï¼Œå¹¶è¿”å›ä¸Šä¸€å±‚</span><br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-keyword">if</span> (loc &lt;= (Node[rt].l + Node[rt].r) &gt;&gt; <span class="hljs-number">1</span>)    update (rt &lt;&lt; <span class="hljs-number">1</span> , loc , value);                                 <span class="hljs-comment">//ä»å·¦åŠæ”¯é€’å½’</span><br>    <span class="hljs-keyword">else</span>                                          update (rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span> , loc , value);                           <span class="hljs-comment">//ä»å³åŠæ”¯é€’å½’</span><br>    pushUp (rt);                            <span class="hljs-comment">//æ›´æ–°è¯¥èŠ‚ç‚¹çš„å€¼</span><br>    <span class="hljs-keyword">return</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>æ›´æ–°æ“ä½œä¸€èˆ¬çš„è°ƒç”¨æ–¹å¼æ˜¯update(1 , loc , value)ï¼Œï¼Œå³ä»æ ¹èŠ‚ç‚¹é€’å½’è¿›è¡Œæ›´æ–°æ“ä½œ</p>
<p>å¤§è‡´çš„æ€è·¯å°±æ˜¯åˆ©ç”¨å¸¦æ›´æ–°çš„ä½ç½®locå’Œå½“å‰æ ¹èŠ‚ç‚¹æ‰€å‚¨å­˜çš„åŒºé—´ç«¯ç‚¹çš„ä¸­é—´å€¼è¿›è¡Œæ¯”è¾ƒï¼Œï¼Œå°äºå°±æ„å‘³ç€ä»å·¦åŠæ”¯é€’å½’ï¼Œï¼Œå¤§äºå°±æ„å‘³ç€ä»å³åŠæ”¯é€’å½’ï¼Œï¼Œç›¸ç­‰å°±æ„å‘³ç€æ‰¾åˆ°å¾…æ›´æ–°çš„å¶å­èŠ‚ç‚¹ï¼Œï¼Œï¼Œç„¶åè¿”å›åˆ°ä¸Šä¸€å±‚ï¼Œï¼Œï¼Œç”±ä¸‹å‘ä¸Šçš„è¿›è¡ŒåŒºé—´æ›´æ–°ï¼Œï¼Œï¼Œ</p>
<h3 id="æŸ¥è¯¢"><a href="#æŸ¥è¯¢" class="headerlink" title="æŸ¥è¯¢"></a>æŸ¥è¯¢</h3><p>æŸ¥è¯¢ä¸»è¦æ˜¯æŒ‡æŸ¥è¯¢æŸä¸ªåŒºé—´[l , r]çš„æŸä¸ªæ•°æ®ï¼Œï¼Œå¦‚åŒºé—´å’Œï¼Œï¼ŒåŒºé—´æœ€å€¼ç­‰ç­‰ï¼Œï¼Œï¼Œ<br>ä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//query(1 , l , r)</span><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">query</span> <span class="hljs-params">(<span class="hljs-keyword">int</span> rt , <span class="hljs-keyword">int</span> l , <span class="hljs-keyword">int</span> r)</span>          <span class="hljs-comment">//rtå½“å‰èŠ‚ç‚¹,l,rå·¦å³åŒºé—´ç«¯ç‚¹</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (l == Node[rt].l &amp;&amp; r == Node[rt].r) <span class="hljs-comment">//å¶å­èŠ‚ç‚¹ç›´æ¥è¿”å›å…¶å€¼</span><br>    &#123;<br>        <span class="hljs-keyword">return</span> Node[rt].sum;                <br>    &#125;<br>    <span class="hljs-keyword">int</span> mid = Node[rt].l + Node[rt].r;      <br>    mid /= <span class="hljs-number">2</span>;<br>    <span class="hljs-keyword">if</span> (r &lt;= mid)     <span class="hljs-keyword">return</span> query(rt &lt;&lt; <span class="hljs-number">1</span> , l , r);    <span class="hljs-comment">//å·¦å³æ”¯åˆ†åˆ«æŸ¥æ‰¾</span><br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (l &gt; mid) <span class="hljs-keyword">return</span> query(rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span> , l , r);<br>    <span class="hljs-keyword">else</span>                                                <span class="hljs-comment">//è·¨æ”¯æ‹†åˆ†æŸ¥æ‰¾å„è‡ªçš„ï¼Œæœ€åç›¸åŠ </span><br>    &#123;<br>        <span class="hljs-keyword">return</span> query(rt &lt;&lt; <span class="hljs-number">1</span> , l , mid) + query(rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span> , mid + <span class="hljs-number">1</span> , r);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></p>
<h2 id="æœ€ååˆèµ·æ¥çš„æ¨¡æ¿"><a href="#æœ€ååˆèµ·æ¥çš„æ¨¡æ¿" class="headerlink" title="æœ€ååˆèµ·æ¥çš„æ¨¡æ¿"></a>æœ€ååˆèµ·æ¥çš„æ¨¡æ¿</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> MAXN = <span class="hljs-number">10</span>;<br><span class="hljs-keyword">int</span> a[MAXN];<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">tree</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> l;<br>    <span class="hljs-keyword">int</span> r;<br>    <span class="hljs-keyword">int</span> sum;<br>&#125;Node[MAXN &lt;&lt; <span class="hljs-number">2</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">pushUp</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt)</span></span><br><span class="hljs-function"></span>&#123;<br>    Node[rt].sum = Node[rt &lt;&lt; <span class="hljs-number">1</span>].sum + Node[(rt &lt;&lt; <span class="hljs-number">1</span>) | <span class="hljs-number">1</span>].sum;<br>&#125;<br><span class="hljs-comment">//build(1 , 1 , n)</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">build</span> <span class="hljs-params">(<span class="hljs-keyword">int</span> rt , <span class="hljs-keyword">int</span> l , <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    Node[rt].l = l;<br>    Node[rt].r = r;<br>    Node[rt].sum = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">if</span> (l == r)<br>    &#123;<br>        Node[rt].sum = a[l];<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-keyword">int</span> mid = l + r;<br>    mid /= <span class="hljs-number">2</span>;<br>    build (rt &lt;&lt; <span class="hljs-number">1</span> , l , mid);<br>    build ((rt &lt;&lt; <span class="hljs-number">1</span>) | <span class="hljs-number">1</span> , mid + <span class="hljs-number">1</span> , r);<br>    pushUp (rt);<br>&#125;<br><span class="hljs-comment">//update(1, loc , value)</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">update</span> <span class="hljs-params">(<span class="hljs-keyword">int</span> rt , <span class="hljs-keyword">int</span> loc , <span class="hljs-keyword">int</span> value)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (Node[rt].l == Node[rt].r)<br>    &#123;<br>        Node[rt].sum = value;<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-keyword">if</span> (loc &lt;= (Node[rt].l + Node[rt].r) &gt;&gt; <span class="hljs-number">1</span>)    update (rt &lt;&lt; <span class="hljs-number">1</span> , loc , value);<br>    <span class="hljs-keyword">else</span>                                          update (rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span> , loc , value);<br>    pushUp (rt);<br>    <span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">query</span> <span class="hljs-params">(<span class="hljs-keyword">int</span> rt , <span class="hljs-keyword">int</span> l , <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (l == Node[rt].l &amp;&amp; r == Node[rt].r)<br>    &#123;<br>        <span class="hljs-keyword">return</span> Node[rt].sum;<br>    &#125;<br>    <span class="hljs-keyword">int</span> mid = Node[rt].l + Node[rt].r;<br>    mid /= <span class="hljs-number">2</span>;<br>    <span class="hljs-keyword">if</span> (r &lt;= mid)     <span class="hljs-keyword">return</span> query(rt &lt;&lt; <span class="hljs-number">1</span> , l , r);<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (l &gt; mid) <span class="hljs-keyword">return</span> query(rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span> , l , r);<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        <span class="hljs-keyword">return</span> query(rt &lt;&lt; <span class="hljs-number">1</span> , l , mid) + query(rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span> , mid + <span class="hljs-number">1</span> , r);<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> n;<span class="hljs-built_in">cin</span> &gt;&gt; n;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>        <span class="hljs-built_in">cin</span> &gt;&gt; a[i];<br>    build(<span class="hljs-number">1</span> , <span class="hljs-number">1</span> , n);<br>    <span class="hljs-built_in">cout</span> &lt;&lt; query(<span class="hljs-number">1</span> , <span class="hljs-number">3</span> , <span class="hljs-number">5</span>) &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-built_in">cin</span> &gt;&gt; a[<span class="hljs-number">2</span>];<br>    update(<span class="hljs-number">1</span> , <span class="hljs-number">2</span> , a[<span class="hljs-number">2</span>]);<br>    <span class="hljs-built_in">cout</span> &lt;&lt; query(<span class="hljs-number">1</span>, <span class="hljs-number">1</span> , <span class="hljs-number">4</span>) &lt;&lt; <span class="hljs-built_in">endl</span>;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>çº¿æ®µæ ‘çš„åŸºæœ¬å†…å®¹å°±æ˜¯è¿™äº›ï¼Œï¼Œï¼Œåšé¢˜çš„æ—¶å€™å¥—æ¨¡æ¿ç„¶åæ ¹æ®é¢˜æ„æ”¹ä¸€æ”¹å°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
<p>end~~2018-7-23-11-06</p>
]]></content>
      <tags>
        <tag>acm</tag>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>çº¿æ®µæ ‘å»¶è¿Ÿæ›´æ–°</title>
    <url>/2018/10/10/%E7%BA%BF%E6%AE%B5%E6%A0%91%E5%BB%B6%E8%BF%9F%E6%9B%B4%E6%96%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p>æš‘å‡é›†è®­çš„æ—¶å€™å¥½å¤šä¸œè¥¿åªå­¦äº†ä¸ªçš®æ¯›ï¼Œï¼Œï¼Œå¯¹ä»˜æ¨¡æ¿é¢˜è¿˜èƒ½è¯•è¯•ï¼Œï¼Œï¼Œä½†æ˜¯ä¸€çœ‹ä¸€äº›ç¨éš¾çš„ä¸€äº›é¢˜æ—¶ï¼Œï¼Œï¼Œè‚¯å®šå•çº¯çš„å¥—æ¨¡æ¿æ˜¯ä¸è¡Œå¾—äº†ï¼Œï¼Œï¼Œé‚£æ ·å¤šæ²¡æ„æ€å•Šï¼Œï¼Œï¼Œ</p>
<p>å»¶è¿Ÿæ›´æ–°ä¹‹å‰å°±çœ‹åˆ°è¿‡ï¼Œï¼Œï¼Œå½“åˆçš„æ˜ åƒå°±æ˜¯åœ¨æ™®é€šçš„çº¿æ®µæ ‘é‡ŒåŠ ä¸€ä¸ªlazyï¼Œï¼Œï¼Œç„¶åå¯ä»¥å»¶è¿Ÿæ›´æ–°åŒºé—´ï¼Œï¼Œï¼Œè¿™åœ¨å¯¹åŒºé—´æ•´æ®µçš„æ›´æ–°å¾ˆæœ‰ç”¨ï¼Œï¼Œï¼Œå› ä¸ºä¸ç”¨å¯¹æ›´æ–°åŒºé—´çš„æ¯ä¸€ä¸ªç‚¹æ›´æ–°ï¼Œï¼Œè¿™æ ·å°±èƒ½çœä¸‹å¾ˆå¤šæ—¶é—´ï¼Œï¼Œï¼Œ</p>
<p>ä½†æ˜¯ï¼Œï¼Œé‚£æ—¶æ²¡æ—¶é—´ä¹Ÿçœ‹ä¸æ‡‚ï¼Œï¼Œï¼Œè·Ÿåˆ«ææ€ä¹ˆæ“ä½œäº†ï¼Œï¼Œï¼Œï¼Œ</p>
<span id="more"></span>
<p>å›½åº†çš„æ—¶å€™ä¸“é—¨çœ‹çœ‹äº†çœ‹è¿™å—çŸ¥è¯†ï¼Œï¼Œï¼Œå¤§æ¦‚äº†è§£äº†lazyçš„ä½œç”¨ä»¥åŠè¯¥æ€ä¹ˆä½¿ç”¨ä»–ï¼Œï¼Œ</p>
<p><a href="https://www.cnblogs.com/AC-King/p/7789013.html">å½“æ—¶æ˜¯çœ‹è¿™ç¯‡åšå®¢çš„</a></p>
<h1 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h1><p>å•çº¯çš„çº¿æ®µæ ‘ä¸»è¦æ˜¯ <strong>å•ç‚¹ä¿®æ”¹ï¼ŒåŒºé—´æŸ¥è¯¢</strong> ï¼Œï¼Œï¼Œ</p>
<p>è‹¥æ˜¯ä¸æ›´æ”¹è¿›è¡ŒåŒºé—´çš„ä¿®æ”¹æ—¶ï¼Œï¼Œï¼Œåªèƒ½å¯¹åŒºé—´é‡Œçš„æ¯ä¸€ä¸ªæ•°è¿›è¡Œå•ç‚¹ä¿®æ”¹ï¼Œï¼Œï¼Œå½“æ•°æ®é‡å¾ˆå¤§æ—¶ï¼Œï¼Œè¿™æ ·çš„æ“ä½œå¾ˆè´¹æ—¶é—´ï¼Œï¼Œï¼Œ</p>
<p>æ‰€ä»¥å¯ä»¥å¯¹æ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½åŠ ä¸€ä¸ªlazyæ ‡è®°ï¼Œï¼Œï¼Œå½“è¿™ä¸€æ®µè¦æ›´æ–°æ—¶ï¼Œï¼Œçˆ¶èŠ‚ç‚¹çš„lazyæ›´æ–°ï¼Œï¼Œç„¶ååŒºé—´æ‰€ç»´æŠ¤çš„sumåŠ ä¸Šç›¸åº”çš„å‡ å€çš„lazyï¼Œï¼Œï¼Œï¼Œè¿™æ ·è¯¥èŠ‚ç‚¹å¯¹ä¸Šæ—¶æ›´æ–°åçš„å€¼ï¼Œï¼Œå‘ä¸Šæ­£ç¡®ï¼Œï¼Œï¼Œè€Œå¯¹äºå®ƒçš„ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼Œï¼Œï¼Œåªå°†lazyæ›´æ–°è¡¨æ˜è¿™é‡Œéœ€è¦æ›´æ–°ï¼Œï¼Œï¼Œä½†æ˜¯å¹¶æ²¡æœ‰ç»§ç»­å‘ä¸‹æ›´æ–°ï¼Œï¼Œï¼Œè¿™ä¸€æ®µçš„æ“ä½œç”±pushdown()å‡½æ•°å®Œæˆï¼Œï¼Œï¼Œ</p>
<h1 id="å®ç°å’Œç»ƒä¹ "><a href="#å®ç°å’Œç»ƒä¹ " class="headerlink" title="å®ç°å’Œç»ƒä¹ "></a>å®ç°å’Œç»ƒä¹ </h1><p>çœ‹ä¸ªå…·ä½“çš„ä¾‹å­:<a href="http://acm.hdu.edu.cn/showproblem.php?pid=1698">é¢˜ç›®é“¾æ¥</a>ï¼Œï¼Œï¼Œ</p>
<p>é¢˜ç›®æ„æ€å¾ˆç®€å•ï¼Œï¼Œï¼Œå°±æ˜¯åˆå§‹é•¿åº¦ä¸ºnçš„ä¸€ä¸ªæ•°åˆ—å€¼å…¨ä¸º1ï¼Œï¼Œ</p>
<p>ç„¶åå¯¹æŸäº›åŒºé—´è¿›è¡Œèµ‹ä¸º1 , 2 , 3çš„æ“ä½œï¼Œï¼Œï¼Œæœ€åé—®ä½ åœ¨è¿™äº›æ“ä½œä¹‹åè¿™ä¸€æ®µçš„å’Œæ˜¯å¤šå°‘ï¼Œï¼Œï¼Œ</p>
<p>å…·ä½“çš„å®ç°å¦‚ä¸‹:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//#include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> ll long long</span><br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-comment">//å› ä¸ºåˆå§‹å€¼å…¨ä¸ºä¸€æ‰€ä»¥æ²¡æœ‰a[maxn]</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">tree</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> l;<br>    <span class="hljs-keyword">int</span> r;<br>    ll sum;<br>    ll lazy;        <span class="hljs-comment">//lazyæ ‡è®°</span><br>&#125;node[maxn &lt;&lt; <span class="hljs-number">2</span>];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">pushup</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt)</span></span><br><span class="hljs-function"></span>&#123;<br>    node[rt].sum = node[rt &lt;&lt; <span class="hljs-number">1</span>].sum + node[rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>].sum;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">pushdown</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt , <span class="hljs-keyword">int</span> nl , <span class="hljs-keyword">int</span> nr)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//rtæŒ‡å½“å‰èŠ‚ç‚¹ï¼Œï¼Œï¼Œ</span><br>    <span class="hljs-comment">//nlæŒ‡å·¦èŠ‚ç‚¹æœ‰nlä¸ªéœ€è¦è¢«èµ‹å€¼ä¸ºlazy</span><br>    <span class="hljs-comment">//åŒç†ï¼Œï¼ŒnræŒ‡å³èŠ‚ç‚¹æœ‰nrä¸ªéœ€è¦è¢«èµ‹å€¼ä¸ºlazy</span><br>    <span class="hljs-keyword">if</span>(node[rt].lazy)<br>    &#123;<br>        <span class="hljs-comment">//å½“è¿™èŠ‚ç‚¹lazyä¸ä¸º0æ—¶ï¼Œï¼Œè¦å‘ä¸‹æ›´æ–°ä¸€ä¸‹</span><br>        node[rt &lt;&lt; <span class="hljs-number">1</span>].sum = node[rt].lazy * nl; <span class="hljs-comment">//ä¿®æ”¹sum</span><br>        node[rt &lt;&lt; <span class="hljs-number">1</span>].lazy = node[rt].lazy; <span class="hljs-comment">//ä¸‹æ¨lazy</span><br><br>        node[rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>].sum = node[rt].lazy * nr;<br>        node[rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>].lazy = node[rt].lazy;<br><br>        node[rt].lazy = <span class="hljs-number">0</span>;      <span class="hljs-comment">//æ ‡è®°æ¸…é™¤</span><br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">build</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt , <span class="hljs-keyword">int</span> l , <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    node[rt].l = l;<br>    node[rt].r = r;<br>    node[rt].sum = <span class="hljs-number">0</span>;<br>    node[rt].lazy = <span class="hljs-number">0</span>;      <span class="hljs-comment">//ä¸è¦å¿˜äº†</span><br><br>    <span class="hljs-keyword">if</span>(l == r)<br>    &#123;<br>        node[rt].sum = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">int</span> mid = node[rt].l + ((node[rt].r - node[rt].l) &gt;&gt; <span class="hljs-number">1</span>);<br><br>    build(rt &lt;&lt; <span class="hljs-number">1</span> , l , mid);<br>    build(rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span> , mid + <span class="hljs-number">1</span> , r);<br><br>    pushup(rt);<br><br>    <span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">update</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt , <span class="hljs-keyword">int</span> L , <span class="hljs-keyword">int</span> R , <span class="hljs-keyword">int</span> C)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(L &lt;= node[rt].l &amp;&amp; node[rt].r &lt;= R)<br>    &#123;<br>        <span class="hljs-comment">//å½“è¯¥èŠ‚ç‚¹å¯¹åº”çš„åŒºé—´åœ¨æ‰€è¦æ“ä½œçš„åŒºé—´é‡Œæ—¶æ›´æ–°</span><br>        node[rt].sum = (node[rt].r - node[rt].l + <span class="hljs-number">1</span>) * C;<br>        node[rt].lazy = C;<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">int</span> mid = node[rt].l + ((node[rt].r - node[rt].l) &gt;&gt; <span class="hljs-number">1</span>);<br>    <span class="hljs-comment">//ä¸‹æ¨lazyæ ‡è®°ï¼Œï¼Œæƒ³ä¸Šä¿è¯æ­£ç¡®</span><br>    pushdown(rt , mid - node[rt].l + <span class="hljs-number">1</span> , node[rt].r - mid);<br><br>    <span class="hljs-keyword">if</span>(L &lt;= mid)    update(rt &lt;&lt; <span class="hljs-number">1</span> , L , R , C);<br>    <span class="hljs-keyword">if</span>(R &gt;  mid)    update(rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span> , L , R , C);<br>    pushup(rt);<br>    <span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-function">ll <span class="hljs-title">query</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt , <span class="hljs-keyword">int</span> L , <span class="hljs-keyword">int</span> R)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(L &lt;= node[rt].l &amp;&amp; node[rt].r &lt;= R)<br>    &#123;<br>        <span class="hljs-keyword">return</span> node[rt].sum;<br>    &#125;<br><br>    <span class="hljs-keyword">int</span> mid = node[rt].l + ((node[rt].r - node[rt].l) &gt;&gt; <span class="hljs-number">1</span>);<br><br>    pushdown(rt , mid - node[rt].l + <span class="hljs-number">1</span> , node[rt].r - mid);<br><br>    ll ans = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">if</span>(L &lt;= mid)    ans += query(rt &lt;&lt; <span class="hljs-number">1</span> , L , R);<br>    <span class="hljs-keyword">if</span>(R &gt;  mid)    ans += query(rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span> , L , R);<br>    <span class="hljs-keyword">return</span> ans;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-keyword">int</span> argc, <span class="hljs-keyword">char</span> <span class="hljs-keyword">const</span> *argv[])</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> T;<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;T);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= T; ++i)<br>    &#123;<br>        <span class="hljs-keyword">int</span> n , q;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span> , &amp;n , &amp;q);<br><br>        build(<span class="hljs-number">1</span> , <span class="hljs-number">1</span> , n);<br><br>        <span class="hljs-keyword">while</span>(q--)<br>        &#123;<br>            <span class="hljs-keyword">int</span> a , b , c;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span> , &amp;a , &amp;b , &amp;c);<br><br>            update(<span class="hljs-number">1</span> , a , b , c);<br>        &#125;<br><br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Case %d: The total value of the hook is %lld.\n&quot;</span> , i , query(<span class="hljs-number">1</span> , <span class="hljs-number">1</span> , n));<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>å¤§æ¦‚å°±æ˜¯è¿™ä¹ˆå¤šï¼Œï¼Œï¼Œåªè¦ç†è§£äº†lazyçš„ä½œç”¨ï¼Œï¼Œï¼Œä»¥åŠä¸‹æ¨çš„æ„æ€ï¼Œï¼Œï¼ŒåŸºæœ¬å°±okäº†ï¼Œï¼Œï¼Œï¼Œ</p>
<p>(end)</p>
]]></content>
      <categories>
        <category>ACM-çº¿æ®µæ ‘</category>
      </categories>
      <tags>
        <tag>acm</tag>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>ç»„åˆæ•°å­¦ä¸æ•°è®º</title>
    <url>/2018/07/25/%E7%BB%84%E5%90%88%E6%95%B0%E5%AD%A6%E4%B8%8E%E6%95%B0%E8%AE%BA/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>è¿™ç¯‡åšå®¢ä¸»è¦æ˜¯ä¸€äº›æ•°è®ºé‡Œæœ‰å…³ç»„åˆæ•°å­¦çš„ä¸€äº›ä¸œè¥¿ï¼Œï¼Œï¼Œæœ‰ <strong>é”™æ’é—®é¢˜</strong> ï¼Œ<strong>æŠ½å±‰åŸç†ï¼ˆé¸½å·¢åŸç†ï¼‰</strong> , <strong>ä¸­å›½å‰©ä½™å®šç†ï¼ˆå­™å­å®šç†ï¼‰</strong> ï¼Œ <strong>æ¬§æ‹‰å‡½æ•°</strong></p>
<p>æ•°è®ºå¥½éš¾å•Šï¼Œï¼Œï¼Œ</p>
<span id="more"></span>
<h2 id="é”™æ’é—®é¢˜"><a href="#é”™æ’é—®é¢˜" class="headerlink" title="é”™æ’é—®é¢˜"></a>é”™æ’é—®é¢˜</h2><blockquote>
<p>åæœ¬ä¸åŒçš„ä¹¦æ”¾åœ¨ä¹¦æ¶ä¸Šã€‚ç°åœ¨é‡æ–°æ‘†æ”¾ï¼Œä½¿æ¯æœ¬ä¹¦éƒ½åœ¨ä¸åŒçš„ä½ç½®ä¸Šã€‚æœ‰å‡ ç§æ‘†æ³•ï¼Ÿ</p>
<p>æ¨å¹¿ä¸€ä¸‹ï¼Œå°±æ˜¯ç»å…¸çš„é”™æ’é—®é¢˜ï¼š</p>
<p>ä¸€ä¸ªæœ‰nä¸ªå…ƒç´ çš„æ’åˆ—ï¼Œè‹¥ä¸€ä¸ªæ’åˆ—ä¸­æ‰€æœ‰çš„å…ƒç´ éƒ½ä¸åœ¨è‡ªå·±åŸæ¥çš„ä½ç½®ä¸Šï¼Œé‚£ä¹ˆè¿™æ ·çš„æ’åˆ—å°±ç§°ä¸ºåŸæ’åˆ—çš„ä¸€ä¸ªé”™æ’ã€‚ nä¸ªå…ƒç´ çš„é”™æ’æ•°è®°ä¸ºD(n)ã€‚</p>
</blockquote>
<p>$<br>D(1)=0\<br>D(2)=1\<br>D(n)=(n-1)*(D(n-1)+D(n-2))<br>$</p>
<p>å½“nä¸ªç¼–å·å…ƒç´ æ”¾åœ¨nä¸ªç¼–å·ä½ç½®ï¼Œå…ƒç´ ç¼–å·ä¸ä½ç½®ç¼–å·å„ä¸å¯¹åº”çš„æ–¹æ³•æ•°ç”¨M(n)è¡¨ç¤ºï¼Œé‚£ä¹ˆM(n-1)å°±è¡¨ç¤ºn-1ä¸ªå…ƒç´ æ”¾åœ¨n-1ä¸ªä½ç½®ä¸Šçš„æ–¹æ³•æ•°</p>
<p>ç¬¬ä¸€æ­¥ï¼ŒæŠŠç¬¬nä¸ªå…ƒç´ æ”¾åœ¨ä¸€ä¸ªä½ç½®ä¸Šï¼Œæ¯”å¦‚kï¼Œä¸€å…±æœ‰n-1ç§æ–¹æ³•ã€‚<br>ç¬¬äºŒæ­¥ï¼Œæ”¾ç¼–å·ä¸ºkçš„å…ƒç´ ï¼Œæ­¤æ—¶æœ‰ä¸¤ç§æƒ…å†µï¼š<br>1 æ”¾åœ¨ç¼–å·ä¸ºnçš„ä½ç½®å¤„ï¼Œæ­¤æ—¶å¯¹äºå‰©ä¸‹çš„n-2ä¸ªå…ƒç´ ï¼Œæœ‰n-2ç§æ–¹æ³•ã€‚<br>2 kå·å…ƒç´ ä¸æ”¾åœ¨ä½ç½®nä¸Šï¼Œæ­¤æ—¶è¿™n-1ä¸ªå…ƒç´ æœ‰n-1ä¸ªä½ç½®å¯ä»¥æ”¾ã€‚</p>
<p>ç»¼ä¸Šï¼š</p>
<p>$<br>D(1)=0\<br>D(2)=1\<br>D(n)=(n-1)*(D(n-1)+D(n-2))<br>$</p>
<h2 id="æŠ½å±‰åŸç†ï¼ˆé¸½å·¢åŸç†ï¼‰"><a href="#æŠ½å±‰åŸç†ï¼ˆé¸½å·¢åŸç†ï¼‰" class="headerlink" title="æŠ½å±‰åŸç†ï¼ˆé¸½å·¢åŸç†ï¼‰"></a>æŠ½å±‰åŸç†ï¼ˆé¸½å·¢åŸç†ï¼‰</h2><blockquote>
<p>n+1åªé¸½å­é£å›é¸½ç¬¼è‡³å°‘æœ‰ä¸€ä¸ªé¸½ç¬¼å«æœ‰ä¸å°‘äº2åªçš„é¸½å­</p>
<p>è¯æ˜ï¼šè®¾a1,a2,a3â€¦.,anæ˜¯æ­£æ•´æ•°çš„åºåˆ—ï¼Œè¯•è¯æ˜è‡³å°‘å­˜åœ¨æ•´æ•°kå’Œlï¼Œ$1 &lt;= k &lt; l &lt;= n$ï¼Œä½¿å¾—$ak+â€¦al$æ˜¯nçš„å€æ•°</p>
<p>æ¨è®º1ï¼š måªé¸½å­ï¼Œnä¸ªé¸½å·¢ï¼Œåˆ™è‡³å°‘æœ‰ä¸€ä¸ªé¸½å·¢é‡Œæœ‰ä¸å°‘äº$(m-1)/n+1$åªé¸½å­</p>
<p>æ¨è®º2ï¼š è‹¥å–$n(m-1)+1$ä¸ªçƒæ”¾è¿›nä¸ªç›’å­ï¼Œåˆ™è‡³å°‘æœ‰1ä¸ªç›’å­æœ‰mä¸ªçƒã€‚</p>
<p>æ¨è®º3ï¼š è‹¥$m1,m2,â€¦,mn$æ˜¯nä¸ªæ•´æ•°ï¼Œä¸”<br>$(m1+m2+â€¦+mn)/n&gt;r-1$<br>åˆ™$m1,m2,â€¦,mn$ä¸­è‡³å°‘æœ‰ä¸€ä¸ªæ•°ä¸å°äºr</p>
<p>æœ‰366äººï¼Œé‚£ä¹ˆè‡³å°‘æœ‰ä¸¤äººåŒä¸€å¤©å‡ºç”Ÿ</p>
<p>æœ‰13äººï¼Œé‚£ä¹ˆè‡³å°‘æœ‰ä¸¤äººåŒä¸€æœˆå‡ºç”Ÿ</p>
<p>è¿™å°±æ˜¯æŠ½å±‰åŸç†</p>
</blockquote>
<p>å…¶å®æŠ½å±‰åŸç†æœ‰ä¸¤ä¸ª</p>
<h3 id="ç¬¬ä¸€æŠ½å±‰åŸç†"><a href="#ç¬¬ä¸€æŠ½å±‰åŸç†" class="headerlink" title="ç¬¬ä¸€æŠ½å±‰åŸç†"></a>ç¬¬ä¸€æŠ½å±‰åŸç†</h3><blockquote>
<p>åŸç†1ï¼š æŠŠå¤šäºn+kä¸ªçš„ç‰©ä½“æ”¾åˆ°nä¸ªæŠ½å±‰é‡Œï¼Œåˆ™è‡³å°‘æœ‰ä¸€ä¸ªæŠ½å±‰é‡Œçš„ä¸œè¥¿ä¸å°‘äºä¸¤ä»¶ã€‚</p>
<p>åŸç†2 ï¼šæŠŠå¤šäºmn(mä¹˜ä»¥n)+1ï¼ˆnä¸ä¸º0ï¼‰ä¸ªçš„ç‰©ä½“æ”¾åˆ°nä¸ªæŠ½å±‰é‡Œï¼Œåˆ™è‡³å°‘æœ‰ä¸€ä¸ªæŠ½å±‰é‡Œæœ‰ä¸å°‘äºï¼ˆm+1ï¼‰çš„ç‰©ä½“ã€‚</p>
<p>åŸç†3 ï¼šæŠŠæ— ç©·å¤šä»¶ç‰©ä½“æ”¾å…¥nä¸ªæŠ½å±‰ï¼Œåˆ™è‡³å°‘æœ‰ä¸€ä¸ªæŠ½å±‰é‡Œ æœ‰æ— ç©·ä¸ªç‰©ä½“ã€‚</p>
<p>åŸç†1 ã€2 ã€3éƒ½æ˜¯ç¬¬ä¸€æŠ½å±‰åŸç†çš„è¡¨è¿°ã€‚</p>
</blockquote>
<h3 id="ç¬¬äºŒæŠ½å±‰åŸç†"><a href="#ç¬¬äºŒæŠ½å±‰åŸç†" class="headerlink" title="ç¬¬äºŒæŠ½å±‰åŸç†"></a>ç¬¬äºŒæŠ½å±‰åŸç†</h3><blockquote>
<p>æŠŠï¼ˆmnï¼1ï¼‰ä¸ªç‰©ä½“æ”¾å…¥nä¸ªæŠ½å±‰ä¸­ï¼Œå…¶ä¸­å¿…æœ‰ä¸€ä¸ªæŠ½å±‰ä¸­è‡³å¤šæœ‰ï¼ˆmâ€”1ï¼‰ä¸ªç‰©ä½“(ä¾‹å¦‚ï¼Œå°†3Ã—5-1=14ä¸ªç‰©ä½“æ”¾å…¥5ä¸ªæŠ½å±‰ä¸­ï¼Œåˆ™å¿…å®šæœ‰ä¸€ä¸ªæŠ½å±‰ä¸­çš„ç‰©ä½“æ•°å°‘äºç­‰äº3-1=2)ã€‚</p>
</blockquote>
<p>é›†è®­çš„ä¸€é“é¢˜ï¼Œï¼Œï¼Œåœ¨åˆ¤æ–­ä¼˜åŒ–æ—¶ç”¨åˆ°äº†æŠ½å±‰åŸç†ï¼Œï¼Œï¼Œ</p>
<blockquote>
<p>Description</p>
<p>ç»™ä½ ä¸€ä¸ªåºåˆ—ï¼Œé•¿åº¦ä¸ºnã€‚é—®æ˜¯å¦å­˜åœ¨ä¸€ä¸ªè¿ç»­çš„å­åºåˆ—å’Œæ˜¯mçš„å€æ•°</p>
<p>Input</p>
<p>ç¬¬ä¸€è¡Œè¾“å…¥ä¸€ä¸ªæ•´æ•°Tï¼ˆ1&lt;=T&lt;=10ï¼‰\<br>ç¬¬ä¸€è¡Œè¾“å…¥n,mï¼ˆ1â‰¤nâ‰¤100000, 1â‰¤mâ‰¤5000ï¼‰\<br>ç¬¬äºŒè¡Œè¾“å…¥nä¸ªæ•°å­—x(1â‰¤xâ‰¤100)\</p>
<p>Output</p>
<p>è¾“å‡ºæœ‰Tè¡Œï¼Œæ¯è¡Œè¾“å‡ºYESæˆ–è€…NO</p>
<p>Sample Input<br>3<br>3 3<br>1 2 3<br>4 7<br>1 2 3 4<br>4 8<br>1 2 3 4</p>
<p>Sample Output<br>YES<br>YES<br>NO</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//#include &lt;iostream&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> ms(a , b) memset(a , b , sizeof(a))</span><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br>ll a[N];<br>ll b[N];<br>ll n , m;<br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br> <br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> t;<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;t);<br>    <span class="hljs-keyword">while</span> (t--)<br>    &#123;<br>        ms(a , <span class="hljs-number">0</span>);<br>        ms(b , <span class="hljs-number">0</span>);<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lld%lld&quot;</span> , &amp;n , &amp;m);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%lld&quot;</span> , &amp;a[i]);<br> <br>        <span class="hljs-keyword">if</span> (n &gt; m)                      <span class="hljs-comment">//è¿™é‡Œæ³¨æ„ä¸€ä¸‹</span><br>        &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;YES\n&quot;</span>);<br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br>    <br>        b[<span class="hljs-number">1</span>] = a[<span class="hljs-number">1</span>];<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= n; i++)<br>            b[i] = b[i - <span class="hljs-number">1</span>] + a[i];<br> <br>        <span class="hljs-keyword">bool</span> ans = <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">if</span> (b[n] % m == <span class="hljs-number">0</span>)    ans = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n &amp;&amp; !ans; i++)<br>            &#123;<br>                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = i; j &lt;= n; j++)<br>                    <span class="hljs-keyword">if</span> ((b[j] - b[i - <span class="hljs-number">1</span>]) % m == <span class="hljs-number">0</span>)<br>                        &#123;<br>                            ans = <span class="hljs-literal">true</span>;<br>                            <span class="hljs-keyword">break</span>;<br>                        &#125;<br>            &#125;<br>        &#125;<br> <br>        <span class="hljs-keyword">if</span> (ans)<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;YES\n&quot;</span>);<br>        <span class="hljs-keyword">else</span><br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;NO\n&quot;</span>);<br>        &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p><a href="https://www.cnblogs.com/linyujun/p/5210466.html">å¤§ä½¬å¦‚æ˜¯è¯´ï¼š</a></p>
<p>å…¶å®è¿™é¢˜çš„nè™½ç„¶èŒƒå›´å¤§ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥åŠ ä¸€ä¸ªåˆ¤æ–­ï¼Œn&gt;mçš„è¯ï¼Œå¿…ç„¶è¾“å‡ºYES</p>
<p>ä¸ºä»€ä¹ˆï¼Ÿæ ¹æ®æŠ½å±‰åŸç†å‘—</p>
<p>å…ˆæ±‚å‰ç¼€å’Œæ±‚ä½™mï¼Œ</p>
<p>å¦‚æœæœ‰m+1ä¸ªæ•°ï¼Œé‚£ä¹ˆå°±ä¼šäº§ç”Ÿm+1ä¸ªå‰ç¼€å’Œï¼Œæ±‚ä½™å®Œmï¼Œå°±ä¼šæœ‰m+1ä¸ªä½™æ•°</p>
<p>æˆ‘ä»¬çŸ¥é“æ±‚ä½™å®Œmä¼šäº§ç”Ÿ0~m-1æ€»å…±mä¸ªä½™æ•°</p>
<p>é‚£ä¹ˆæ ¹æ®æŠ½å±‰åŸç†ï¼Œè‡³å°‘æœ‰ä¸¤ä¸ªç›¸åŒçš„ä½™æ•°</p>
<p>é‚£ä¹ˆä»–ä»¬ä¹‹é—´çš„æ•°çš„å’Œæ±‚ä½™må°±è‚¯å®šæ˜¯0ï¼Œæ‰€ä»¥n&gt;mçš„è¯ï¼Œå¿…ç„¶è¾“å‡ºYES</p>
<p>æ¯”å¦‚</p>
<p>å–ä¸¤ä¸ªä¸‹æ ‡iå’Œjï¼ˆi &lt; jï¼‰</p>
<p>(a1+a2+â€¦+ai) % m = k</p>
<p>(a1+a2+â€¦+aj) % m = k</p>
<p>é‚£ä¹ˆ(ai+â€¦+aj) %m = 0</p>
<p>ç®€å•ä¸€ç‚¹è¯´å°±æ˜¯åœ¨n&gt;mçš„æ—¶å€™ä¸€å®šä¼šå‡ºç°ä¸¤ä¸ªä½™æ•°ç›¸åŒçš„å‰ç¼€å’Œï¼Œï¼Œï¼Œè¿™æ—¶ä»–ä»¬ä¸¤ä¹‹é—´çš„æ•°çš„å’Œå°±ä¸€å®šèƒ½è¢«mæ•´é™¤ï¼Œï¼Œï¼Œåˆ©ç”¨è¿™ä¸€ä¸ªå°±å¯ä»¥æŠŠå¤æ‚åº¦é™ä½åˆ°åªæœ‰nçš„æƒ…å†µï¼Œï¼Œï¼Œ</p>
<h2 id="ä¸­å›½å‰©ä½™å®šç†ï¼ˆå­™å­å®šç†ï¼‰"><a href="#ä¸­å›½å‰©ä½™å®šç†ï¼ˆå­™å­å®šç†ï¼‰" class="headerlink" title="ä¸­å›½å‰©ä½™å®šç†ï¼ˆå­™å­å®šç†ï¼‰"></a>ä¸­å›½å‰©ä½™å®šç†ï¼ˆå­™å­å®šç†ï¼‰</h2><p>å­˜åœ¨ä¸€ä¸ªæ•°xï¼Œé™¤ä»¥3ä½™2ï¼Œé™¤ä»¥5ä½™ä¸‰ï¼Œé™¤ä»¥7ä½™äºŒï¼Œç„¶åæ±‚è¿™ä¸ªæ•°ã€‚</p>
<p>å®šç†1ï¼šå‡ ä¸ªæ•°ç›¸åŠ ï¼Œå¦‚æœå­˜åœ¨ä¸€ä¸ªåŠ æ•°ï¼Œä¸èƒ½è¢«æ•´æ•°aæ•´é™¤ï¼Œé‚£ä¹ˆå®ƒä»¬çš„å’Œï¼Œå°±ä¸èƒ½è¢«æ•´æ•°aæ•´é™¤ã€‚<br>å®šç†2ï¼šä¸¤æ•°ä¸èƒ½æ•´é™¤ï¼Œè‹¥é™¤æ•°æ‰©å¤§ï¼ˆæˆ–ç¼©å°ï¼‰äº†å‡ å€ï¼Œè€Œè¢«é™¤æ•°ä¸å˜ï¼Œåˆ™å…¶å•†å’Œä½™æ•°ä¹ŸåŒæ—¶æ‰©å¤§ï¼ˆæˆ–ç¼©å°ï¼‰ç›¸åŒçš„å€æ•°ï¼ˆä½™æ•°å¿…å°äºé™¤æ•°ï¼‰ã€‚</p>
<p>é‚£ä¹ˆå‡å¦‚æˆ‘ä»¬å…ˆæ±‚å‡ºè¿™æ ·çš„3ä¸ªæ•°k1,k2,k3ï¼Œæ»¡è¶³k1ä¸3äº’è´¨ä¸”æ˜¯5å’Œ7çš„å€æ•°ï¼Œk2ä¸5äº’è´¨ä¹Ÿæ˜¯3å’Œ7çš„å€æ•°ï¼Œk3ä¸7äº’è´¨ä¸”æ˜¯3å’Œ5çš„å€æ•°ã€‚é‚£ä¹ˆæ ¹æ®å®šç†2ï¼Œä¸€å®šæœ‰k1<em>2+k2</em>3+k3*2æ»¡è¶³æ¡ä»¶ã€‚</p>
<p>æ±‚å‡º3,5,7çš„æœ€å°å…¬å€æ•°105<br>ä»¤$x1=105/3=35,x2=105/5=21,x3=105/7=15$<br>ç„¶åæ±‚è§£ä»¥ä¸‹æ–¹ç¨‹</p>
<p>$<br>a<em>x_1\%3=1\<br>b</em>x_2\%5=1\<br>c*x_3\%7=1<br>$</p>
<p>é‚£ä¹ˆ$ans=(a<em>x1</em>2+b<em>x2</em>3+c<em>x3</em>2)\%lcm$<br>æ¨å¹¿ä¸€ä¸‹ï¼š<br>è®¾æ­£æ•´æ•°m1,m2,â€¦,mkä¸¤ä¸¤äº’ç´ ï¼Œåˆ™åŒä½™æ–¹ç¨‹ç»„ï¼š</p>
<p>$<br>xâ‰¡a_1(mod m_1)\<br>xâ‰¡a_2(mod m_2)\<br>xâ‰¡a_3(mod m_3)\<br>xâ‰¡a_4(mod m_4)\<br>â€¦\<br>xâ‰¡a_n(mod m_k)\<br>$</p>
<p>æœ‰æ•´æ•°è§£ã€‚ä»¤$M=m_1<em>m_2</em>m_3*â€¦m_k$</p>
<p>$M_1=M/m1,M2=M/m2â€¦.$</p>
<p>$xâ‰¡(a_1<em>M_1</em>M_1^{-1}+a_2<em>M_2</em>M_2^{-1}+â€¦)mod M$</p>
<p>$M_1*M_1^{-1} â‰¡1 mod m_1$</p>
<p>é‚£ä¹ˆç°åœ¨å¦‚æœa,b,cä¸äº’è´¨æ€ä¹ˆåŠï¼Ÿ</p>
<p>$X=a_1*x_1+b_1$</p>
<p>$X=a_2*x_2+b_2$</p>
<p>åˆå¹¶ï¼š$ax<em>x_1+a_2</em>x_2=b_2-x_1$ ä¸å®šæ–¹ç¨‹å‡ºç°äº†ï¼ï¼<br>æ±‚å‡ºæœ€å°æ­£æ•´æ•°è§£$x_1$</p>
<p>æ±‚å‡ºæœ€å°æ­£æ•´æ•°è§£x1   $Xâ€™=a1<em>x1+b1$ã€‚kæ˜¯ä¸€ä¸ªç‰¹è§£ï¼ŒXæ˜¯é€šè§£ï¼Œæ‰€ä»¥æœ‰æ–¹ç¨‹ï¼š<br>$X=Xâ€™+k</em>lcm(a_1,a_2)$<br>å¦‚æ­¤è¿›è¡Œä¸‹å»å³å¯ã€‚<br>ä»£ç å¦‚ä½•å†™ï¼š<br><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">LL <span class="hljs-title">work</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123; <br>     LL M=m[<span class="hljs-number">1</span>],A=a[<span class="hljs-number">1</span>],t,d,x,y;<span class="hljs-keyword">int</span> i; <br>    <span class="hljs-keyword">for</span>(i=<span class="hljs-number">2</span>;i&lt;=n;i++)<br>    &#123;   <br>     d=exgcd(M,m[i],x,y);<span class="hljs-comment">//è§£æ–¹ç¨‹ </span><br>     <span class="hljs-keyword">if</span>((a[i]-A)%d)<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<span class="hljs-comment">//æ— è§£ </span><br>     x*=(a[i]-A)/d,t=m[i]/d,x=(x%t+t)%t;<span class="hljs-comment">//æ±‚x       </span><br>     A=M*x+A,M=M/d*m[i],A%=M;<br>    &#125;<br>     A=(A%M+M)%M; <br>     <span class="hljs-keyword">return</span> A; <br>&#125;<br></code></pre></td></tr></table></figure></p>
<h2 id="æ¬§æ‹‰å‡½æ•°"><a href="#æ¬§æ‹‰å‡½æ•°" class="headerlink" title="æ¬§æ‹‰å‡½æ•°"></a>æ¬§æ‹‰å‡½æ•°</h2><p>å¯¹äºæ­£æ•´æ•°nï¼Œæ¬§æ‹‰å‡½æ•°æ˜¯å°äºnçš„æ­£æ•´æ•°ä¸näº’è´¨çš„ä¸ªæ•°ã€‚<br>$Ï†(1)=1$</p>
<p>æ¬§æ‹‰å‡½æ•°å…¬å¼ï¼š</p>
<p>$euler(x) = x*(1-1/p1)(1-1/p2)â€¦â€¦(1-1/pn)$,pä¸ºxçš„è´¨å› æ•°</p>
<p>æ ¹æ®è¿™ä¸ªå…¬å¼ï¼Œå†™ä¸‹ä»£ç </p>
<p>å¦‚ä½•æ±‚å‡ºå‰nä¸ªæ•°çš„æ¬§æ‹‰å‡½æ•°ï¼Ÿ</p>
<p>æœ€åï¼Œï¼Œï¼Œå°±æ˜¯é¸½ï¼Œï¼Œï¼Œï¼Œï¼Œ2018-7-25-22-56</p>
]]></content>
      <tags>
        <tag>acm</tag>
        <tag>æ•°è®º</tag>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>ç»§æ‰¿ä¸æ´¾ç”Ÿ</title>
    <url>/2018/05/21/%E7%BB%A7%E6%89%BF%E4%B8%8E%E6%B4%BE%E7%94%9F/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="ç±»çš„ç»§æ‰¿ä¸æ´¾ç”Ÿ"><a href="#ç±»çš„ç»§æ‰¿ä¸æ´¾ç”Ÿ" class="headerlink" title="ç±»çš„ç»§æ‰¿ä¸æ´¾ç”Ÿ:"></a>ç±»çš„ç»§æ‰¿ä¸æ´¾ç”Ÿ:</h1><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹:"></a>ç®€ä»‹:</h2><ul>
<li>ç±»çš„ç»§æ‰¿æœºåˆ¶å…è®¸ç¨‹åºå‘˜åœ¨ä¿æŒåŸæœ‰ç±»ç‰¹æ€§çš„åŸºç¡€ä¸Šï¼Œè¿›è¡Œæ›´å…·ä½“ã€æ›´è¯¦ç»†çš„ç±»çš„å®šä¹‰;</li>
<li>æ´¾ç”Ÿæ–°ç±»çš„è¿‡ç¨‹ä¸€èˆ¬åŒ…æ‹¬: 1)<strong>å¸æ”¶å·²æœ‰ç±»çš„æˆå‘˜</strong> ã€ 2)<strong>è°ƒæ•´å·²æœ‰ç±»æˆå‘˜</strong> ã€ 3)<strong>æ·»åŠ æ–°çš„æˆå‘˜</strong>;</li>
<li><strong>åŸæœ‰çš„ç±»</strong> æˆä¸º <strong>åŸºç±»</strong> æˆ– <strong>çˆ¶ç±»</strong>ï¼Œ<strong>äº§ç”Ÿçš„æ–°ç±»</strong> ç§°ä¸º <strong>æ´¾ç”Ÿç±»</strong> æˆ– <strong>å­ç±»</strong>;</li>
</ul>
<span id="more"></span>
<h2 id="æ´¾ç”Ÿç±»çš„å®šä¹‰"><a href="#æ´¾ç”Ÿç±»çš„å®šä¹‰" class="headerlink" title="æ´¾ç”Ÿç±»çš„å®šä¹‰:"></a>æ´¾ç”Ÿç±»çš„å®šä¹‰:</h2><ul>
<li>æ´¾ç”Ÿç±»çš„ä¸€èˆ¬å®šä¹‰è¯­æ³•:<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-class"><span class="hljs-keyword">class</span> æ´¾ç”Ÿç±»å:</span>ç»§æ‰¿æ–¹å¼  åŸºç±»å<span class="hljs-number">1</span> , ç»§æ‰¿æ–¹å¼  åŸºç±»å<span class="hljs-number">2</span> , Â·Â·Â· , ç»§æ‰¿æ–¹å¼  åŸºç±»ån<br>&#123;<br>    æ´¾ç”Ÿç±»æˆå‘˜å£°æ˜;<br>&#125;;<br></code></pre></td></tr></table></figure></li>
<li>ä¸€ä¸ªç±»ä»çˆ¶ç±»ç»§æ‰¿æ¥çš„ç‰¹å¾ä¹Ÿå¯ä»¥è¢«å…¶ä»–æ–°çš„ç±»æ‰€ç»§æ‰¿ï¼Œä¸€ä¸ªçˆ¶ç±»çš„ç‰¹å¾ï¼Œå¯ä»¥åŒæ—¶è¢«å¤šä¸ªå­ç±»ç»§æ‰¿ï¼Œè¿™æ ·å°±å½¢æˆç±»ä¸€ä¸ªç›¸äº’å…³è”çš„å®¶æ—ï¼Œæœ‰æ—¶ä¹Ÿç§°ä¸º <strong>ç±»æ—</strong>;</li>
<li>åœ¨ç±»æ—ä¸­ï¼Œç›´æ¥å‚ä¸æ´¾ç”Ÿå‡ºæŸç±»çš„åŸºç±»æˆä¸º <strong>ç›´æ¥åŸºç±»</strong>;</li>
<li>åŸºç±»çš„åŸºç±»ç”šè‡³æ›´é«˜å±‚çš„åŸºç±»ç§°ä¸º <strong>é—´æ¥åŸºç±»</strong>;</li>
<li><strong>ç»§æ‰¿æ–¹å¼</strong>: ç»§æ‰¿æ–¹å¼è§„å®šäº†å¦‚ä½•è®¿é—®ä»åŸºç±»ç»§æ‰¿çš„æˆå‘˜;</li>
<li>ç»§æ‰¿æ–¹å¼çš„å…³é”®å­—ä¸º: <em>public</em> , <em>protected</em> , <em>private</em>;</li>
<li>å¦‚æœä¸æ˜¾å¼åœ°ç»™å‡ºç»§æ‰¿æ–¹å¼å…³é”®å­—ï¼Œç³»ç»Ÿé»˜è®¤å€¼å°±è®¤ä¸ºæ˜¯ <strong>ç§æœ‰ç»§æ‰¿(private)</strong>;</li>
<li>ç±»çš„ç»§æ‰¿æ–¹å¼æŒ‡å®šäº†æ´¾ç”Ÿç±»æˆå‘˜ä»¥åŠç±»å¤–å¯¹è±¡å¯¹äºä»åŸºç±»ç»§æ‰¿æ¥çš„æˆå‘˜çš„è®¿é—®æƒé™;</li>
<li><strong>æ´¾ç”Ÿç±»æˆå‘˜</strong> æ˜¯æŒ‡é™¤äº†ä»åŸºç±»ç»§æ‰¿æ¥çš„æ‰€æœ‰æˆå‘˜ä¹‹å¤–ï¼Œæ–°å¢åŠ çš„ <strong>æ•°æ®</strong> å’Œ <strong>å‡½æ•°æˆå‘˜</strong>;</li>
</ul>
<h2 id="æ´¾ç”Ÿç±»ç”Ÿæˆè¿‡ç¨‹"><a href="#æ´¾ç”Ÿç±»ç”Ÿæˆè¿‡ç¨‹" class="headerlink" title="æ´¾ç”Ÿç±»ç”Ÿæˆè¿‡ç¨‹:"></a>æ´¾ç”Ÿç±»ç”Ÿæˆè¿‡ç¨‹:</h2><ul>
<li>ç»§æ‰¿ä¸æ´¾ç”Ÿçš„ä¸»è¦ç›®çš„æ˜¯ <strong>å®ç°ä»£ç çš„é‡ç”¨å’Œæ‰©å……</strong>;</li>
<li>æ´¾ç”Ÿæ–°ç±»çš„æ­¥éª¤ï¼š1)<strong>å¸æ”¶åŸºç±»æˆå‘˜</strong> ã€ 2)<strong>æ”¹é€ åŸºç±»æˆå‘˜</strong>  ã€ 3)<strong>æ·»åŠ æ–°çš„æˆå‘˜</strong>;</li>
<li><ol>
<li><strong>å¸æ”¶åŸºç±»æˆå‘˜</strong>: ç±»ç»§æ‰¿ä¸­ï¼Œç¬¬ä¸€æ­¥æ˜¯ <strong>å°†åŸºç±»çš„æˆå‘˜å…¨ç›˜æ¥æ”¶</strong>ï¼Œé™¤äº†åŸºç±»ä¸­çš„ <strong>æ„é€ å’Œææ„å‡½æ•°</strong>;    </li>
<li><strong>æ”¹é€ åŸºç±»æˆå‘˜</strong>: å¯¹åŸºç±»æˆå‘˜çš„æ”¹é€ åŒ…æ‹¬ä¸¤ä¸ªæ–¹é¢ï¼Œä¸€ä¸ªæ˜¯ <strong>åŸºç±»æˆå‘˜çš„è®¿é—®æ§åˆ¶é—®é¢˜</strong> ä¸»è¦ä¾é æ´¾ç”Ÿç±»å®šä¹‰æ—¶çš„ç»§æ‰¿æ–¹å¼æ¥æ§åˆ¶ï¼›å¦ä¸€ä¸ªæ˜¯å¯¹ <strong>åŸºç±»æ•°æ®æˆ–å‡½æ•°æˆå‘˜çš„è¦†ç›–æˆ–éšè—</strong>ï¼Œè¦†ç›–çš„æ¦‚å¿µåœ¨ <em>å¤šæ€æ€§</em> ä¸­ï¼Œéšè—å°±æ˜¯ç®€å•çš„åœ¨æ´¾ç”Ÿç±»ä¸­å£°æ˜ä¸€ä¸ªå’ŒåŸºç±»æ•°æ®æˆ–å‡½æ•°åŒåçš„æˆå‘˜;</li>
</ol>
<ul>
<li>å¦‚æœæ´¾ç”Ÿç±»å£°æ˜äº†ä¸€ä¸ªå’ŒåŸºç±»æˆå‘˜åŒåçš„æ–°æˆå‘˜ï¼ˆè‹¥æœæ˜¯ <strong>æˆå‘˜å‡½æ•°</strong>ï¼Œåˆ™å‚æ•°è¡¨ä¹Ÿè¦ç›¸åŒï¼Œ <strong>å‚æ•°ä¸åŒçš„æƒ…å†µå±äºé‡è½½</strong> ï¼‰ï¼Œæ´¾ç”Ÿçš„æ–°æˆå‘˜å°±éšè—äº†å¤–å±‚åŒåæˆå‘˜; <em>(æ‹¬å·é‡Œé‚£å¥è¯æœ‰æ¯’ï¼Œï¼Œï¼Œæ…¢æ…¢ç†è§£)</em>;</li>
<li>è¿™æ—¶åœ¨æ´¾ç”Ÿç±»ä¸­æˆ–è€…é€šè¿‡æ´¾ç”Ÿç±»çš„å¯¹è±¡ï¼Œç›´æ¥ä½¿ç”¨æˆå‘˜åå°±åªèƒ½è®¿é—®åˆ°æ´¾ç”Ÿç±»ä¸­å£°æ˜çš„åŒåæˆå‘˜ï¼Œï¼Œç§°ä¸º <strong>åŒåéšè—</strong>;</li>
</ul>
<ol>
<li><strong>æ·»åŠ æ–°çš„æˆå‘˜</strong>: å¯ä»¥åœ¨æ´¾ç”Ÿç±»ä¸­æ·»åŠ é€‚å½“çš„æ•°æ®å’Œå‡½æ•°æˆå‘˜ï¼ŒåŒæ—¶ï¼Œå› ä¸ºç»§æ‰¿ä¸­ä¸ä¼šç»§æ‰¿åŸºç±»çš„æ„é€ å’Œææ„å‡½æ•°ï¼Œæ‰€ä»¥æœ‰æ—¶è¦åœ¨æ´¾ç”Ÿç±»ä¸­æ·»åŠ æ–°çš„æ„é€ å’Œææ„å‡½æ•°;</li>
</ol>
</li>
</ul>
<h1 id="è®¿é—®æ§åˆ¶"><a href="#è®¿é—®æ§åˆ¶" class="headerlink" title="è®¿é—®æ§åˆ¶:"></a>è®¿é—®æ§åˆ¶:</h1><ul>
<li>ç±»çš„ç»§æ‰¿æ–¹å¼æœ‰ï¼š <strong>public(å…¬æœ‰ç»§æ‰¿)</strong> ã€ <strong>protected(ä¿æŠ¤ç»§æ‰¿)</strong> ã€ **private(ç§æœ‰ç»§æ‰¿);</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">åŸºç±»çš„è®¿é—®ç‰¹æ€§</th>
<th style="text-align:center">ç±»çš„ç»§æ‰¿ç‰¹æ€§</th>
<th style="text-align:center">å­ç±»çš„è®¿é—®ç‰¹æ€§</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">public</td>
<td style="text-align:center">public</td>
<td style="text-align:center">public</td>
</tr>
<tr>
<td style="text-align:center">protected</td>
<td style="text-align:center">public</td>
<td style="text-align:center">protected</td>
</tr>
<tr>
<td style="text-align:center">private</td>
<td style="text-align:center">public</td>
<td style="text-align:center">No access</td>
</tr>
<tr>
<td style="text-align:center">â€”</td>
<td style="text-align:center">â€”</td>
<td style="text-align:center">â€”</td>
</tr>
<tr>
<td style="text-align:center">public</td>
<td style="text-align:center">protected</td>
<td style="text-align:center">protected</td>
</tr>
<tr>
<td style="text-align:center">protected</td>
<td style="text-align:center">protected</td>
<td style="text-align:center">protected</td>
</tr>
<tr>
<td style="text-align:center">private</td>
<td style="text-align:center">protected</td>
<td style="text-align:center">No access</td>
</tr>
<tr>
<td style="text-align:center">â€”</td>
<td style="text-align:center">â€”</td>
<td style="text-align:center">â€”</td>
</tr>
<tr>
<td style="text-align:center">public</td>
<td style="text-align:center">private</td>
<td style="text-align:center">private</td>
</tr>
<tr>
<td style="text-align:center">protected</td>
<td style="text-align:center">private</td>
<td style="text-align:center">private</td>
</tr>
<tr>
<td style="text-align:center">private</td>
<td style="text-align:center">private</td>
<td style="text-align:center">No access</td>
</tr>
<tr>
<td style="text-align:center">â€”</td>
<td style="text-align:center">â€”</td>
<td style="text-align:center">â€”</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>ç§æœ‰ç»§æ‰¿ å’Œ ä¿æŠ¤ç»§æ‰¿ åœ¨ç›´æ¥çš„æ´¾ç”Ÿç±»ä¸­ï¼Œæ‰€æœ‰çš„æˆå‘˜çš„è®¿é—®å±æ€§éƒ½æ˜¯å®Œå…¨ç›¸åŒçš„ï¼Œä½†æ˜¯å½“æ´¾ç”Ÿç±»ä½œä¸ºæ–°çš„åŸºç±»ç»§ç»­æ´¾ç”Ÿæ—¶ï¼Œå‰è€…çš„æˆå‘˜ä¸å†å¯ä»¥è¢«è®¿é—®ï¼Œè€Œåè€…å¯ä»¥;</li>
<li>ä¿æŠ¤æˆå‘˜å¯èƒ½è¢«ä»–çš„ æ´¾ç”Ÿç±» è®¿é—®ï¼Œä½†æ˜¯ç»ä¸å¯èƒ½è¢«å…¶ä»–å¤–éƒ¨ä½¿ç”¨è€…è®¿é—®ï¼š</li>
</ul>
<h1 id="ç±»å‹å…¼å®¹è§„åˆ™"><a href="#ç±»å‹å…¼å®¹è§„åˆ™" class="headerlink" title="ç±»å‹å…¼å®¹è§„åˆ™:"></a>ç±»å‹å…¼å®¹è§„åˆ™:</h1><ul>
<li><strong>ç±»å‹å…¼å®¹è§„åˆ™</strong> æ˜¯æŒ‡åœ¨éœ€è¦åŸºç±»å¯¹è±¡çš„ä»»ä½•åœ°æ–¹ï¼Œéƒ½å¯ä»¥ä½¿ç”¨ <strong>å…±æœ‰æ´¾ç”Ÿç±»</strong> çš„å¯¹è±¡æ¥æ›¿ä»£;</li>
<li>å…¬æœ‰æ´¾ç”Ÿç±»å®é™…å…·å¤‡äº†åŸºç±»çš„æ‰€æœ‰åŠŸèƒ½ï¼Œå‡¡æ˜¯åŸºç±»èƒ½è§£å†³çš„é—®é¢˜ï¼Œå…¬æœ‰æ´¾ç”Ÿç±»éƒ½å¯ä»¥è§£å†³;</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">ç±»å‹å…¼å®¹è§„åˆ™ä¸­æ‰€æŒ‡çš„ æ›¿ä»£ åŒ…æ‹¬ä»¥ä¸‹çš„æƒ…å†µ:</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">1.æ´¾ç”Ÿç±»çš„å¯¹è±¡å¯ä»¥ <strong>éšå«çš„è½¬æ¢ä¸ºåŸºç±»å¯¹è±¡</strong></td>
</tr>
<tr>
<td style="text-align:left">2.æ´¾ç”Ÿç±»çš„å¯¹è±¡å¯ä»¥ <strong>åˆå§‹åŒ–åŸºç±»çš„å¼•ç”¨</strong></td>
</tr>
<tr>
<td style="text-align:left">3.æ´¾ç”Ÿç±»çš„æŒ‡é’ˆå¯ä»¥ <strong>éšå«çš„è½¬æ¢ä¸ºåŸºç±»çš„å¼•ç”¨</strong></td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>åœ¨æ›¿ä»£ä¹‹åï¼Œæ´¾ç”Ÿç±»å¯¹è±¡å°±å¯ä»¥ä½œä¸ºåŸºç±»çš„å¯¹è±¡ä½¿ç”¨ï¼Œä½†åªèƒ½ä½¿ç”¨ä»åŸºç±»ç»§æ‰¿çš„æˆå‘˜;</li>
<li>ç”±äºç±»å‹å…¼å®¹è§„åˆ™çš„å¼•å…¥ï¼Œå¯¹äºåŸºç±»åŠå…¶å…¬æœ‰æ´¾ç”Ÿç±»çš„å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨ç›¸åŒçš„å‡½æ•°ç»Ÿä¸€è¿›è¡Œå¤„ç†;</li>
<li>å› ä¸ºçš„å½“å‡½æ•°çš„å½¢å‚ä¸ºåŸºç±»çš„å¯¹è±¡ï¼ˆæˆ–å¼•ç”¨ã€æŒ‡é’ˆï¼‰æ—¶ï¼Œå®å‚å¯ä»¥æ˜¯æ´¾ç”Ÿäº†çš„å¯¹è±¡ï¼ˆæˆ–æŒ‡é’ˆï¼‰ï¼Œè€Œæ²¡å¿…è¦ä¸ºæ¯ä¸€ä¸ªç±»è®¾è®¡å•ç‹¬çš„æ¨¡å—;</li>
<li>ç±»å‹å…¼å®¹è§„åˆ™æ˜¯ å¤šæ€æ€§ çš„é‡è¦åŸºç¡€ä¹‹ä¸€;</li>
</ul>
<h1 id="æ´¾ç”Ÿç±»çš„æ„é€ å’Œææ„å‡½æ•°"><a href="#æ´¾ç”Ÿç±»çš„æ„é€ å’Œææ„å‡½æ•°" class="headerlink" title="æ´¾ç”Ÿç±»çš„æ„é€ å’Œææ„å‡½æ•°:"></a>æ´¾ç”Ÿç±»çš„æ„é€ å’Œææ„å‡½æ•°:</h1><ul>
<li>æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°åªè´Ÿè´£å¯¹æ´¾ç”Ÿç±»æ–°å¢çš„æˆå‘˜è¿›è¡Œåˆå§‹åŒ–ï¼Œå¯¹æ‰€æœ‰ä»åŸºç±»ç»§æ‰¿ä¸‹æ¥çš„æˆå‘˜ï¼Œå…¶åˆå§‹åŒ–å·¥ä½œè¿˜æ˜¯ç”±åŸºç±»çš„æ„é€ å‡½æ•°å®Œæˆ;</li>
</ul>
<h2 id="æ„é€ å‡½æ•°"><a href="#æ„é€ å‡½æ•°" class="headerlink" title="æ„é€ å‡½æ•°:"></a>æ„é€ å‡½æ•°:</h2><ul>
<li>æ´¾ç”Ÿç±»çš„æˆå‘˜å¯¹è±¡ç”± <strong>æ‰€æœ‰åŸºç±»çš„æˆå‘˜å¯¹è±¡</strong> ä¸ <strong>æ´¾ç”Ÿç±»æ–°å¢çš„æˆå‘˜å¯¹è±¡</strong> å…±åŒç»„æˆ,æ‰€ä»¥ æ„é€ æ´¾ç”Ÿç±»çš„å¯¹è±¡æ—¶ï¼Œå°±è¦å¯¹ åŸºç±»çš„æˆå‘˜å¯¹è±¡ å’Œ æ–°å¢æˆå‘˜å¯¹è±¡ è¿›è¡Œåˆå§‹åŒ–;</li>
<li>å¯¹åŸºç±»æˆå‘˜å¯¹è±¡çš„åˆå§‹åŒ–å·¥ä½œè¦é€šè¿‡ è°ƒç”¨åŸºç±»çš„æ„é€ å‡½æ•° å®Œæˆ;</li>
<li>æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°éœ€è¦å·²åˆé€‚çš„åˆå€¼ä½œä¸ºå‚æ•°ï¼Œå…¶ä¸­ä¸€äº›å‚æ•° è¦ä¼ é€’ç»™åŸºç±»çš„æ„é€ å‡½æ•°ï¼Œç”¨äºåˆå§‹åŒ–ç›¸åº”çš„æˆå‘˜ï¼Œ   å¦ä¸€äº›å‚æ•° ç”¨äºå¯¹æ´¾ç”Ÿç±»æ–°å¢çš„æˆå‘˜å¯¹è±¡è¿›è¡Œåˆå§‹åŒ–;</li>
<li>æ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°çš„ä¸€èˆ¬è¯­æ³•å½¢å¼ä¸º:<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp">æ´¾ç”Ÿç±»å::æ´¾ç”Ÿç±»å(å‚æ•°è¡¨):åŸºç±»å<span class="hljs-number">1</span>(åŸºç±»<span class="hljs-number">1</span>åˆå§‹åŒ–å‚æ•°è¡¨) ,Â·Â·Â·Â·Â·Â·, åŸºç±»ån(åŸºç±»nåˆå§‹åŒ–å‚æ•°è¡¨) , æˆå‘˜å¯¹è±¡å<span class="hljs-number">1</span>(æˆå‘˜å¯¹è±¡<span class="hljs-number">1</span>åˆå§‹åŒ–å‚æ•°è¡¨) ,Â·Â·Â·Â·Â·Â·, æˆå‘˜å¯¹è±¡åm(æˆå‘˜å¯¹è±¡måˆå§‹åŒ–å‚æ•°è¡¨)<br>&#123;<br>    æ´¾ç”Ÿç±»æ„é€ å‡½æ•°çš„å…¶ä»–åˆå§‹åŒ–æ“ä½œ;<br>&#125;<br></code></pre></td></tr></table></figure></li>
<li>å½“ä¸€ä¸ªç±»åŒæ—¶ç”±å¤šä¸ªåŸºç±»æ—¶ï¼Œå¯¹äºæ‰€æœ‰éœ€è¦ç»™äºˆå‚æ•°è¿›è¡Œåˆå§‹åŒ–çš„åŸºç±»ï¼Œéƒ½è¦æ˜¾å¼ç»™å‡ºåŸºç±»åå’Œå‚æ•°è¡¨ï¼Œå¯¹äºä½¿ç”¨é»˜è®¤æ„é€ å‡½æ•°çš„åŸºç±»ï¼Œå¯ä»¥ä¸ç»™å‡ºç±»å;</li>
<li>å¯¹äºåŸºç±»åˆå§‹åŒ–æ—¶ï¼Œéœ€è¦è°ƒç”¨åŸºç±»çš„å¸¦æœ‰å½¢å‚è¡¨çš„æ„é€ å‡½æ•°æ—¶ï¼Œæ´¾ç”Ÿç±»å°±å¿…é¡»å£°æ˜æ„é€ å‡½æ•°;</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">æ´¾ç”Ÿç±»æ„é€ å‡½æ•°æ‰§è¡Œçš„ä¸€èˆ¬æ¬¡åº</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">1.è°ƒç”¨ <strong>åŸºç±»æ„é€ å‡½æ•°</strong> ï¼Œè°ƒç”¨é¡ºåºæŒ‰ç…§ä»–ä»¬ è¢«ç»§æ‰¿æ—¶ <strong>å£°æ˜</strong> çš„é¡ºåº(ä»å·¦å‘å³)</td>
</tr>
<tr>
<td style="text-align:left">2.å¯¹æ´¾ç”Ÿç±»æ–°å¢çš„æˆå‘˜å¯¹è±¡åˆå§‹åŒ–ï¼Œè°ƒç”¨é¡ºåºæŒ‰ç…§ä»–ä»¬åœ¨ <strong>ç±»ä¸­å£°æ˜çš„é¡ºåº</strong></td>
</tr>
<tr>
<td style="text-align:left">3.æ‰§è¡Œæ´¾ç”Ÿç±»çš„æ„é€ å‡½æ•°ä½“ä¸­çš„å†…å®¹</td>
</tr>
</tbody>
</table>
</div>
<h2 id="å¤åˆ¶æ„é€ å‡½æ•°"><a href="#å¤åˆ¶æ„é€ å‡½æ•°" class="headerlink" title="å¤åˆ¶æ„é€ å‡½æ•°:"></a>å¤åˆ¶æ„é€ å‡½æ•°:</h2><ul>
<li>æ´¾ç”Ÿç±»çš„å¤åˆ¶æ„é€ å‡½æ•°çš„å½¢å¼:<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//å‡è®¾Derivedç±»æ˜¯Baseç±»çš„æ´¾ç”Ÿç±»ï¼Œ</span><br>Derived::Derived(<span class="hljs-keyword">const</span> Derived &amp;v) : Base(v)&#123;Â·Â·Â·&#125;<br></code></pre></td></tr></table></figure></li>
<li>è¿™é‡Œä½¿ç”¨äº†ç±»çš„å…¼å®¹è§„åˆ™ï¼Œå³ç”¨ <strong>æ´¾ç”Ÿç±»çš„å¯¹è±¡</strong> å» <strong>åˆå§‹åŒ–åŸºç±»çš„å¼•ç”¨</strong>ï¼Œå› æ­¤å½“å‡½æ•°çš„å½¢å‚æ˜¯åŸºç±»çš„å¼•ç”¨æ—¶ï¼Œå®å‚å¯ä»¥æ˜¯æ´¾ç”Ÿç±»çš„å¯¹è±¡;</li>
</ul>
<h2 id="ææ„å‡½æ•°"><a href="#ææ„å‡½æ•°" class="headerlink" title="ææ„å‡½æ•°:"></a>ææ„å‡½æ•°:</h2><ul>
<li>æ´¾ç”Ÿç±»çš„ææ„å‡½æ•°çš„å£°æ˜æ–¹æ³•ä¸æ²¡æœ‰ç»§æ‰¿å…³ç³»çš„ç±»ä¸­ææ„å‡½æ•°çš„å£°æ˜æ–¹æ³•ç›¸åŒï¼Œ <strong>åªéœ€åœ¨å‡½æ•°ä½“ä¸­è´Ÿè´£æŠŠæ´¾ç”Ÿç±»æ–°å¢çš„éå¯¹è±¡æˆå‘˜çš„æ¸…ç†å·¥ä½œåšå¥½å°±è¡Œ</strong> ï¼Œç³»ç»Ÿä¼šè‡ªå·±è°ƒç”¨åŸºç±»åŠå¯¹è±¡æˆå‘˜çš„ææ„å‡½æ•°æ¥å¯¹åŸºç±»åŠå¯¹è±¡æˆå‘˜è¿›è¡Œæ¸…ç†;</li>
<li>ææ„å‡½æ•°çš„æ‰§è¡Œæ¬¡åºä¸æ„é€ å‡½æ•°å®Œå…¨ç›¸åï¼Œ1.é¦–å…ˆ æ‰§è¡Œææ„å‡½æ•°çš„å‡½æ•°ä½“ï¼Œ2.ç„¶å å¯¹æ´¾ç”Ÿç±»æ–°å¢çš„ç±»ç±»å‹çš„æˆå‘˜çš„å¯¹è±¡è¿›è¡Œæ¸…ç†ï¼Œ3.æœ€å å¯¹æ‰€æœ‰åŸºç±»ç»§æ‰¿æ¥çš„æˆå‘˜è¿›è¡Œæ¸…ç†;</li>
<li>è¿™äº›æ¸…ç†å·¥ä½œåˆ†åˆ«è°ƒç”¨ æ´¾ç”Ÿç±»ææ„å‡½æ•°ä½“ ã€ è°ƒç”¨ç±»ç±»å‹çš„æ´¾ç”Ÿç±»å¯¹è±¡æˆå‘˜æ‰€åœ¨ç±»çš„ææ„å‡½æ•° å’Œ è°ƒç”¨åŸºç±»ææ„å‡½æ•°;</li>
</ul>
<h1 id="æ´¾ç”Ÿç±»æˆå‘˜çš„æ ‡è¯†å’Œè®¿é—®"><a href="#æ´¾ç”Ÿç±»æˆå‘˜çš„æ ‡è¯†å’Œè®¿é—®" class="headerlink" title="æ´¾ç”Ÿç±»æˆå‘˜çš„æ ‡è¯†å’Œè®¿é—®:"></a>æ´¾ç”Ÿç±»æˆå‘˜çš„æ ‡è¯†å’Œè®¿é—®:</h1><ul>
<li>åœ¨æ´¾ç”Ÿç±»ä¸­ï¼Œæˆå‘˜å¯ä»¥æŒ‰ <strong>è®¿é—®å±æ€§</strong> åˆ’ä¸ºä»¥ä¸‹å››ç§:</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">åç§°</th>
<th style="text-align:center">ç‰¹ç‚¹</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">ä¸å¯è®¿é—®æˆå‘˜</td>
<td style="text-align:center">ä»åŸºç±»ç§æœ‰æˆå‘˜ç»§æ‰¿ï¼Œæ´¾ç”Ÿç±»æˆ–å»ºç«‹æ´¾ç”Ÿåˆ—å¯¹è±¡çš„æ¨¡å—éƒ½æ— æ³•è®¿é—®ä»–ä»¬ å¦‚æœç»§ç»­æ´¾ç”Ÿæ–°ç±»ï¼Œä»æ— æ³•è®¿é—®</td>
</tr>
<tr>
<td style="text-align:center">ç§æœ‰æˆå‘˜</td>
<td style="text-align:center">åŒ…æ‹¬ä»åŸºç±»ç»§æ‰¿æ¥çš„æˆå‘˜ä»¥åŠæ–°å¢åŠ çš„æˆå‘˜ï¼Œæ´¾ç”Ÿç±»å†…éƒ¨å¯è®¿é—®ï¼Œä½†åœ¨å»ºç«‹æ´¾ç”Ÿç±»å¯¹è±¡çš„æ¨¡å—ä¸­æ— æ³•è®¿é—®ï¼Œç»§ç»­æ´¾ç”Ÿï¼Œå°±å˜æˆç±»æ–°çš„æ´¾ç”Ÿç±»ä¸­çš„ä¸å¯è®¿é—®æˆå‘˜</td>
</tr>
<tr>
<td style="text-align:center">ä¿æŠ¤æˆå‘˜</td>
<td style="text-align:center">å¯èƒ½æ˜¯æ–°å¢äº¦æˆ–ä»åŸºç±»ç»§æ‰¿è¿‡æ¥çš„ï¼Œæ´¾ç”Ÿç±»å†…éƒ¨æˆå‘˜å¯ä»¥è®¿é—®ï¼Œå»ºç«‹æ´¾ç”Ÿç±»å¯¹è±¡çš„æ¨¡æ¿æ— æ³•è®¿é—®ï¼Œè¿›ä¸€æ­¥æ´¾ç”Ÿåï¼Œåœ¨æ–°çš„æ´¾ç”Ÿç±»ä¸­å¯èƒ½æˆä¸º ç§æœ‰æˆå‘˜ æˆ–è€…æ˜¯ ä¿æŠ¤æ€§æˆå‘˜</td>
</tr>
<tr>
<td style="text-align:center">å…¬æœ‰æˆå‘˜</td>
<td style="text-align:center">æ´¾ç”Ÿç±»ã€å»ºç«‹æ´¾ç”Ÿç±»çš„æ¨¡å—éƒ½å¯ä»¥è®¿é—®ï¼Œç»§ç»­æ´¾ç”Ÿï¼Œå¯ä»¥æ˜¯æ–°æ´¾ç”Ÿç±»ä¸­çš„ç§æœ‰ã€ä¿æŠ¤æˆ–è€…å…¬æœ‰æˆå‘˜</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>åœ¨å¯¹æ´¾ç”Ÿç±»çš„è®¿é—®ä¸­ã€‚æœ‰ä¸¤ä¸ªé—®é¢˜éœ€è¦è§£å†³: <em>å”¯ä¸€æ ‡è¯†é—®é¢˜</em> å’Œ <em>æˆå‘˜æœ¬èº«çš„å±æ€§é—®é¢˜(å¯è§æ€§é—®é¢˜)</em>;</li>
<li>äºŒä¹‰æ€§: é€šè¿‡æŸä¸€ä¸ªè¡¨è¾¾å¼èƒ½å¼•ç”¨çš„æˆå‘˜ä¸åªä¸€ä¸ª;</li>
</ul>
<h2 id="ä½œç”¨åŸŸåˆ†è¾¨ç¬¦"><a href="#ä½œç”¨åŸŸåˆ†è¾¨ç¬¦" class="headerlink" title="ä½œç”¨åŸŸåˆ†è¾¨ç¬¦:"></a>ä½œç”¨åŸŸåˆ†è¾¨ç¬¦:</h2><ul>
<li>ä½œç”¨åŸŸåˆ†è¾¨ç¬¦æ˜¯æŒ‡: â€˜ :: â€˜ , å¯ä»¥ç”¨æ¥é™å®šè¦è®¿é—®çš„æˆå‘˜æ‰€åœ¨çš„ç±»çš„åç§°;</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp">ç±»å::æˆå‘˜å            <span class="hljs-comment">//æ•°æ®æˆå‘˜</span><br>ç±»å::æˆå‘˜å(å‚æ•°è¡¨)    <span class="hljs-comment">//å‡½æ•°æˆå‘˜</span><br></code></pre></td></tr></table></figure>
<ul>
<li>å¯è§æ€§åŸåˆ™: å¦‚æœå­˜åœ¨ä¸¤ä¸ªæˆ–å¤šä¸ªå…·æœ‰åŒ…å«å…³ç³»çš„ä½œç”¨åŸŸï¼Œå¤–å±‚å£°æ˜äº†ä¸€ä¸ªæ ‡è¯†ç¬¦ï¼Œè€Œå†…å±‚æ²¡æœ‰å†æ¬¡å£°æ˜åŒåæ ‡è¯†ç¬¦ï¼Œé‚£ä¹ˆå¤–å±‚æ ‡è¯†ç¬¦åœ¨å†…å±‚ä»ç„¶å¯è§;</li>
<li>éšè—è§„åˆ™: å¦‚æœåœ¨å†…å±‚å£°æ˜äº†åŒåæ ‡è¯†ç¬¦ï¼Œåˆ™å¤–å±‚æ ‡è¯†ç¬¦åœ¨å†…å±‚ä¸å¯è§ï¼Œè¿™æ—¶ç§°å†…å±‚æ ‡è¯†ç¬¦éšè—ç±»å¤–å±‚åŒåæ ‡è¯†ç¬¦;</li>
<li>åœ¨ç±»çš„æ´¾ç”Ÿå±‚æ¬¡ç»“æ„ä¸­ï¼ŒåŸºç±»å’Œæ´¾ç”Ÿç±»æ–°å¢çš„æˆå‘˜éƒ½å…·æœ‰ç±»ä½œç”¨åŸŸï¼ŒäºŒè€…çš„ä½œç”¨èŒƒå›´ä¸åŒï¼Œæ˜¯äº’ç›¸åŒ…å«çš„ä¸¤ä¸ªå±‚ï¼Œ <strong>æ´¾ç”Ÿç±»åœ¨å†…å±‚</strong> ï¼›è¿™æ—¶å¦‚æœæ´¾ç”Ÿç±»å£°æ˜ç±»ä¸€ä¸ªå’ŒæŸä¸ªåŸºç±»æˆå‘˜åŒåçš„æ–°æˆå‘˜ï¼Œ <strong>æ´¾ç”Ÿç±»çš„æ–°æˆå‘˜å°±éšè—äº†å¤–å±‚åŒåæˆå‘˜</strong> ï¼Œ <strong>ç›´æ¥ä½¿ç”¨æˆå‘˜ååªèƒ½è®¿é—®åˆ°æ´¾ç”Ÿç±»çš„æˆå‘˜</strong>;</li>
<li>å¦‚æœæ´¾ç”Ÿç±»ä¸­å£°æ˜ç±»ä¸åŸºç±»æˆå‘˜åŒåçš„æ–°å‡½æ•°ï¼Œå³ä½¿å‡½æ•°çš„å‚æ•°è¡¨ä¸åŒï¼Œä»åŸºç±»ç»§æ‰¿çš„åŒåå‡½æ•°çš„æ‰€æœ‰é‡è½½å½¢å¼ä¹Ÿéƒ½ä¼šè¢«éšè—ï¼Œå¦‚æœè¦è®¿é—®è¢«éšè—çš„æˆå‘˜ï¼Œå°±éœ€è¦ä½¿ç”¨ <strong>ä½œç”¨åŸŸåˆ†è¾¨ç¬¦</strong> å’Œ <strong>åŸºç±»</strong> å‘½æ¥é™å®š;</li>
<li>å¯¹äºå¤šç»§æ‰¿æƒ…å†µï¼Œï¼Œå½“æ‰€æœ‰åŸºç±»éƒ½æ²¡æœ‰ä¸Šçº§åŸºç±»æ—¶ï¼Œï¼Œå¦‚æœå¤šä¸ªåŸºç±»æ‹¥æœ‰åŒåæˆå‘˜ï¼Œæ´¾ç”Ÿç±»ä¹Ÿæ–°å¢è¿™æ ·çš„åŒåæˆå‘˜ï¼Œæ´¾ç”Ÿç±»æˆå‘˜å°†éšè—æ‰€æœ‰åŸºç±»çš„åŒåæˆå‘˜ï¼Œï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨ â€œå¯¹è±¡å.æˆå‘˜åâ€ æˆ– â€œå¯¹è±¡æŒ‡é’ˆ-&gt;æˆå‘˜åâ€  çš„æ–¹å¼æ¥è®¿é—®æ–°å¢æˆå‘˜ï¼Œï¼ŒåŸºç±»çš„è€ŒåŒåæˆå‘˜å¯ä»¥ä½¿ç”¨ <strong>åŸºç±»å</strong> å’Œ <strong>ä½œç”¨åŸŸåˆ†è¾¨ç¬¦</strong> è®¿é—®;ä½†å¦‚æœæ´¾ç”Ÿç±»ä¸­æ²¡æœ‰åŒåæˆæˆå‘˜ï¼Œä¸Šè¿°æ–¹æ³•å°±æ— æ³•å”¯ä¸€æ ‡è¯†æˆå‘˜ï¼Œå¿…é¡»é€šè¿‡åŸºç±»åå’Œä½œç”¨åŸŸåˆ†è¾¨ç¬¦æ¥æ ‡è¯†æˆå‘˜;</li>
<li>å¦‚æœå­ç±»ä¸­å®šä¹‰çš„å‡½æ•°ä¸çˆ¶ç±»çš„å‡½æ•°åŒåä½†å…·æœ‰ä¸åŒçš„ <strong>å‚æ•°æ•°é‡æˆ–å‚æ•°ç±»å‹(å½¢å‚è¡¨ä¸åŒ)</strong> ï¼Œ ä¸å±äº <strong>å‡½æ•°é‡è½½</strong>ã€‚è¿™æ—¶å­ç±»ä¸­çš„å‡½æ•°å°†ä½¿çˆ¶ç±»ä¸­çš„å‡½æ•°éšè—ï¼Œè°ƒç”¨çˆ¶ç±»ä¸­çš„å‡½æ•°å¿…é¡»ä½¿ç”¨çˆ¶ç±»åç§°æ¥é™å®šï¼Œ <strong>åªç”¨åœ¨ç›¸åŒçš„ä½œç”¨åŸŸä¸­å®šä¹‰çš„å‡½æ•°æ‰å¯ä»¥é‡è½½</strong> ;</li>
<li><strong>using å…³é”®å­—</strong>: usingçš„ä¸€èˆ¬åŠŸèƒ½æ˜¯å°†ä¸€ä¸ªä½œç”¨åŸŸä¸­çš„åå­—å¼•å…¥åˆ°å¦ä¸€ä¸ªä½œç”¨åŸŸä¸­ï¼Œå®ƒè¿˜æœ‰ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„ç”¨æ³•: å°†usingç”¨åŸŸåŸºç±»ä¸­çš„å‡½æ•°åï¼Œè¿™æ ·æ´¾ç”Ÿç±»ä¸­å¦‚æœå®šä¹‰åŒåä½†å‚æ•°ä¸åŒçš„å‡½æ•°ï¼ŒåŸºç±»çš„å‡½æ•°å°±ä¸ä¼šè¢«éšè—ï¼Œä¸¤ä¸ªé‡è½½çš„å‡½æ•°å°†ä¼šå¹¶å­˜åœ¨æ´¾ç”Ÿç±»çš„ä½œç”¨åŸŸä¸­;ä¾‹å¦‚:</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Derived2</span>:</span> <span class="hljs-keyword">public</span> Base1<br>&#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-keyword">using</span> Base1::fun;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">fun</span><span class="hljs-params">(<span class="hljs-keyword">int</span> i)</span></span>&#123;,,,&#125;<br>&#125;;<br></code></pre></td></tr></table></figure>
<p>è¿™æ—¶ï¼Œä½¿ç”¨Derived2çš„å¯¹è±¡ï¼Œæ—¢å¯ä»¥ç›´æ¥è°ƒç”¨æ— å‚æ•°çš„funå‡½æ•°ï¼Œåˆå¯ä»¥ç›´æ¥è°ƒç”¨å¸¦intå‹å‚æ•°çš„funå‚æ•°;</p>
<ul>
<li>å¦‚æœæŸä¸ªæ´¾ç”Ÿç±»çš„éƒ¨åˆ†æˆ–å…¨éƒ¨ç›´æ¥åŸºç±»æ—¶ä»å¦ä¸€ä¸ªå…±åŒçš„åŸºç±»æ´¾ç”Ÿè€Œæ¥ï¼Œåœ¨è¿™äº›ç›´æ¥åŸºç±»ä¸­ï¼Œä»ä¸Šä¸€çº§åŸºç±»ç»§æ‰¿æ¥çš„æˆå‘˜å°±æ‹¥æœ‰ç›¸åŒçš„åç§°ï¼Œå› æ­¤æ´¾ç”Ÿç±»ä¸­ä¹Ÿå°±ä¼šäº§ç”ŸåŒåçš„ç°è±¡ï¼Œå¯¹è¿™ç§ç±»å‹çš„åŒåæˆå‘˜ä¹Ÿè¦ä½¿ç”¨ä½œç”¨åŸŸåˆ†è¾¨ç¬¦æ¥å”¯ä¸€æ ‡è¯†ï¼Œè€Œä¸”å¿…é¡»ç”¨ç›´æ¥åŸºç±»æ¥è¿›è¡Œé™å®š;</li>
<li></li>
</ul>
]]></content>
      <tags>
        <tag>ç¬”è®°</tag>
        <tag>c++</tag>
        <tag>ç±»</tag>
        <tag>é¢å‘å¯¹è±¡</tag>
      </tags>
  </entry>
  <entry>
    <title>ç½‘ç»œæµ-é¢„æµæ¨è¿› å’Œ æœ€é«˜æ ‡å·é¢„æµæ¨è¿›HLPP</title>
    <url>/2019/08/02/%E7%BD%91%E7%BB%9C%E6%B5%81-%E9%A2%84%E6%B5%81%E6%8E%A8%E8%BF%9B-%E5%92%8C-%E6%9C%80%E9%AB%98%E6%A0%87%E5%8F%B7%E9%A2%84%E6%B5%81%E6%8E%A8%E8%BF%9BHLPP/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>2019.8.2ã€‚ã€‚ã€‚ã€‚ã€‚äºæ˜¯ï¼Œå»å¹´çš„ç½‘ç»œæµçš„åç»­å­¦ä¹ å°±è¿™ä¹ˆçš„æ‹–åˆ°äº†ä¸€å¹´åçš„ä»Šå¤©ï¼Œï¼Œæ›¾ç»çš„æ‡’ï¼Œå¦‚ä»Šçš„æ³ªï¼Œï¼Œå‡ æ¬¡æ ¡èµ›å‡ºç°çš„ç½‘ç»œæµç­¾åˆ°é¢˜éƒ½å› ä¸ºæ›¾ä»Šæ²¡æœ‰å¥½å¥½çš„åˆ·é¢˜ï¼Œç©ºæœ‰ä¸€èº«æ¦‚å¿µè€Œæ²¡æœ‰å®é™…çš„åšé¢˜ç»éªŒï¼Œé¢å¯¹ç»å…¸æ¨¡æ¿é¢˜æ— ä»ä¸‹æ‰‹ï¼Œï¼Œæ²¡åŠæ³•ï¼Œæ¬ ä¸‹çš„æ€»è¦æ‰¾æ—¶é—´è¡¥ï¼Œï¼Œäºæ˜¯ï¼Œï¼Œï¼Œï¼Œ</p>
<span id="more"></span>
<p>ä¸‹é¢çš„å†…å®¹éƒ¨åˆ†å€Ÿé‰´ <a href="https://www.luogu.org/blog/ONE-PIECE/jiu-ji-di-zui-tai-liu-suan-fa-isap-yu-hlpp">è¿™ç¯‡åšå®¢</a> ä»¥åŠ <a href="https://www.luogu.org/blog/105496/solution-p4722">è¿™ç¯‡åšå®¢</a></p>
<h1 id="é¢„æµæ¨è¿›ç®—æ³•"><a href="#é¢„æµæ¨è¿›ç®—æ³•" class="headerlink" title="é¢„æµæ¨è¿›ç®—æ³•"></a>é¢„æµæ¨è¿›ç®—æ³•</h1><p>ç½‘ç»œæµçš„è§£æ³•</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-7</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">int</span> MAXN, <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">T</span> =</span> <span class="hljs-keyword">int</span>&gt;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">HLPP</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">const</span> T INF = numeric_limits&lt;T&gt;::max();<br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">    &#123;</span><br>        <span class="hljs-keyword">int</span> to, nxt;<br>        T flow;<br>        edge(<span class="hljs-keyword">int</span> _to, <span class="hljs-keyword">int</span> _nxt, T _flow):to(_to), nxt(_nxt), flow(_flow)&#123;&#125;<br>    &#125;;<br>    <span class="hljs-keyword">int</span> s = MAXN - <span class="hljs-number">1</span>, t = MAXN - <span class="hljs-number">2</span>;<br>    <span class="hljs-built_in">vector</span>&lt;edge&gt; g[MAXN];<br>    <span class="hljs-built_in">deque</span>&lt;<span class="hljs-keyword">int</span>&gt; lst[MAXN];<br>    <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; gap[MAXN];<br>    <span class="hljs-keyword">int</span> ptr[MAXN];<br>    T excess[MAXN];<br>    <span class="hljs-keyword">int</span> highest, height[MAXN], cnt[MAXN], work;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, T flow, <span class="hljs-keyword">bool</span> isDirected = <span class="hljs-literal">true</span>)</span></span><br><span class="hljs-function">    </span>&#123;<br>        g[u].push_back(edge(v, g[v].size(), flow));<br>        g[v].push_back(edge(u, g[u].size() - <span class="hljs-number">1</span>, isDirected ? <span class="hljs-number">0</span> : flow));<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">upHeight</span><span class="hljs-params">(<span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> nh)</span></span><br><span class="hljs-function">    </span>&#123;<br>        ++work;<br>        <span class="hljs-keyword">if</span>(height[v] != MAXN)--cnt[height[v]];<br>        height[v] = nh;<br>        <span class="hljs-keyword">if</span>(nh == MAXN)<span class="hljs-keyword">return</span>;<br>        ++cnt[nh]; highest = nh;<br>        gap[nh].push_back(v);<br>        <span class="hljs-keyword">if</span>(excess[v] &gt; <span class="hljs-number">0</span>)lst[nh].push_back(v), ++ptr[nh];<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">globalRelabel</span><span class="hljs-params">()</span></span><br><span class="hljs-function">    </span>&#123;<br>        work = <span class="hljs-number">0</span>;<br>        fill(begin(height), end(height), MAXN);<br>        fill(begin(cnt), end(cnt), <span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= highest; ++i)lst[i].clear(), gap[i].clear();<br>        height[t] = <span class="hljs-number">0</span>;<br>        <span class="hljs-function"><span class="hljs-built_in">queue</span>&lt;<span class="hljs-keyword">int</span>&gt; <span class="hljs-title">q</span><span class="hljs-params">(&#123;t&#125;)</span></span>;<br>        <span class="hljs-keyword">while</span>(!q.empty())<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = q.front(); q.pop();<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> &amp;e: g[v])<br>                <span class="hljs-keyword">if</span>(height[e.to] == MAXN &amp;&amp; g[e.to][e.nxt].flow &gt; <span class="hljs-number">0</span>)<br>                    q.push(e.to), upHeight(e.to, height[v] + <span class="hljs-number">1</span>);<br>            highest = height[v];<br>        &#125;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">push</span><span class="hljs-params">(<span class="hljs-keyword">int</span> v, edge &amp;e)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">if</span>(excess[e.to] == <span class="hljs-number">0</span>)lst[height[e.to]].push_back(e.to), ++ptr[height[e.to]];<br>        T df = min(excess[v], e.flow);<br>        e.flow -= df; g[e.to][e.nxt].flow += df;<br>        excess[v] -= df; excess[e.to] += df;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">discharge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">int</span> nh = MAXN;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> &amp;e: g[v])<br>        &#123;<br>            <span class="hljs-keyword">if</span>(e.flow &gt; <span class="hljs-number">0</span>)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(height[v] == height[e.to] + <span class="hljs-number">1</span>)<br>                &#123;<br>                    push(v, e);<br>                    <span class="hljs-keyword">if</span>(excess[v] &lt;= <span class="hljs-number">0</span>)<span class="hljs-keyword">return</span>;<br>                &#125;<br>                <span class="hljs-keyword">else</span> <br>                    nh = min(nh, height[e.to] + <span class="hljs-number">1</span>);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(cnt[height[v]] &gt; <span class="hljs-number">1</span>)upHeight(v, nh);<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = height[v]; i &lt; MAXN; ++i)<br>            &#123;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> j: gap[i])upHeight(j, MAXN);<br>                gap[i].clear(); ptr[i] = <span class="hljs-number">0</span>;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-function">T <span class="hljs-title">MaxFlow</span><span class="hljs-params">(<span class="hljs-keyword">int</span> heur_n = MAXN)</span></span><br><span class="hljs-function">    </span>&#123;<br>        fill(begin(excess), end(excess), <span class="hljs-number">0</span>);<br>        excess[s] = INF; excess[t] = -INF;<br>        globalRelabel();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> &amp;e: g[s])push(s, e);<br>        <span class="hljs-keyword">for</span>(; highest &gt;= <span class="hljs-number">0</span>; --highest)<br>        &#123;<br>            <span class="hljs-keyword">while</span>(!lst[highest].empty())<br>            &#123;<br>                <span class="hljs-keyword">int</span> v = lst[highest].back();<br>                lst[highest].pop_back();<br>                discharge(v);<br>                <span class="hljs-keyword">if</span>(work &gt; heur_n &lt;&lt; <span class="hljs-number">2</span>)globalRelabel();<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> excess[t] + INF;<br>    &#125;<br>&#125;;<br><br>HLPP&lt;maxn, <span class="hljs-keyword">int</span>&gt; hlpp;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>  <br>    <span class="hljs-keyword">int</span> n, m, s, t;<br>    <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m &gt;&gt; s &gt;&gt; t;<br>    hlpp.s = s; hlpp.t = t;<br>    <span class="hljs-keyword">int</span> u, v; ll f;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; u &gt;&gt; v &gt;&gt; f;<br>        hlpp.addedge(u, v, f, <span class="hljs-literal">true</span>);<br>    &#125;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; hlpp.MaxFlow() &lt;&lt; <span class="hljs-built_in">endl</span>;<br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
  </entry>
  <entry>
    <title>[èµ„æº]ä¸€äº›ç”µå­ä¹¦ä¸‹è½½é›†åˆ</title>
    <url>/2020/09/30/%E8%B5%84%E6%BA%90-%E4%B8%80%E4%BA%9B%E7%94%B5%E5%AD%90%E4%B9%A6%E4%B8%8B%E8%BD%BD%E9%9B%86%E5%90%88/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>(ä»…ç½—åˆ—èµ„æºï¼Œä¸ä»£è¡¨ä»»ä½•ç«‹åœºï¼‰</p>
<ul>
<li><a href="https://github.com/sxcool1024/Machinery-Industry-Press">https://github.com/sxcool1024/Machinery-Industry-Press</a> æ–‡ä»¶æå–ç ï¼š2014 æ–‡ä»¶è§£å‹å¯†ç ï¼š1024</li>
<li><a href="https://github.com/fuhmmin/it-ebooks-cn">https://github.com/fuhmmin/it-ebooks-cn</a> <a href="http://it-ebooks.flygon.net/">http://it-ebooks.flygon.net/</a></li>
<li><a href="https://github.com/programthink/books">https://github.com/programthink/books</a></li>
<li><a href="https://jikbook.com/">https://jikbook.com/</a> ç¼ºç‚¹ï¼šç™¾åº¦äº‘</li>
</ul>
]]></content>
  </entry>
  <entry>
    <title>éšæœºç”Ÿæˆä¸­æ–‡å§“å</title>
    <url>/2019/09/25/%E9%9A%8F%E6%9C%BA%E7%94%9F%E6%88%90%E4%B8%AD%E6%96%87%E5%A7%93%E5%90%8D/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>åšé¡¹ç›®çš„æ—¶å€™æœ‰æ—¶ä¼šç”¨åˆ°è‡ªå·±é€ ä¸€ä¸ªæ•°æ®åº“ï¼Œæ•°å€¼ä¿¡æ¯éƒ½å¯ä»¥éšä¾¿randå‡ºæ¥ï¼Œï¼Œä½†æ˜¯ä¸­æ–‡å§“åä¸å¤ªå¥½å¤„ç†ï¼Œï¼Œ<a href="https://www.cnblogs.com/kindom/p/3963610.html">æœ€åå€Ÿé‰´äº†è¿™ç¯‡åšå®¢</a> ï¼Œï¼Œ æŠŠä»–çš„ä¸€äº›ä¸œè¥¿æ”¹äº†æ”¹ï¼Œå¤Ÿç”¨äº†ï¼Œï¼Œ</p>
<span id="more"></span>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;random&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-function">mt19937 <span class="hljs-title">rnd</span><span class="hljs-params">(time(<span class="hljs-number">0</span>))</span></span>;<br><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">NAME</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	srand(time(<span class="hljs-literal">NULL</span>));<br>	<span class="hljs-comment">//ç™¾å®¶å§“-å•å§“</span><br>	<span class="hljs-built_in">string</span> NA1[<span class="hljs-number">444</span>] = &#123; <span class="hljs-string">&quot;èµµ&quot;</span>, <span class="hljs-string">&quot;é’±&quot;</span>, <span class="hljs-string">&quot;å­™&quot;</span>, <span class="hljs-string">&quot;æ&quot;</span>, <span class="hljs-string">&quot;å‘¨&quot;</span>, <span class="hljs-string">&quot;å´&quot;</span>, <span class="hljs-string">&quot;éƒ‘&quot;</span>, <span class="hljs-string">&quot;ç‹&quot;</span>, <span class="hljs-string">&quot;å†¯&quot;</span>, <span class="hljs-string">&quot;é™ˆ&quot;</span>, <span class="hljs-string">&quot;è¤š&quot;</span>, <span class="hljs-string">&quot;å«&quot;</span>, <span class="hljs-string">&quot;è’‹&quot;</span>, <span class="hljs-string">&quot;æ²ˆ&quot;</span>, <span class="hljs-string">&quot;éŸ©&quot;</span>, <span class="hljs-string">&quot;æ¨&quot;</span>, <span class="hljs-string">&quot;æœ±&quot;</span>, <span class="hljs-string">&quot;ç§¦&quot;</span>, <span class="hljs-string">&quot;å°¤&quot;</span>, <span class="hljs-string">&quot;è®¸&quot;</span>, <span class="hljs-string">&quot;ä½•&quot;</span>, <span class="hljs-string">&quot;å•&quot;</span>, <span class="hljs-string">&quot;æ–½&quot;</span>, <span class="hljs-string">&quot;å¼ &quot;</span>, <span class="hljs-string">&quot;å­”&quot;</span>, <span class="hljs-string">&quot;æ›¹&quot;</span>, <span class="hljs-string">&quot;ä¸¥&quot;</span>, <span class="hljs-string">&quot;å&quot;</span>, <span class="hljs-string">&quot;é‡‘&quot;</span>, <span class="hljs-string">&quot;é­&quot;</span>, <span class="hljs-string">&quot;é™¶&quot;</span>, <span class="hljs-string">&quot;å§œ&quot;</span>, <span class="hljs-string">&quot;æˆš&quot;</span>, <span class="hljs-string">&quot;è°¢&quot;</span>, <span class="hljs-string">&quot;é‚¹&quot;</span>, <span class="hljs-string">&quot;å–»&quot;</span>, <span class="hljs-string">&quot;æŸ&quot;</span>, <span class="hljs-string">&quot;æ°´&quot;</span>, <span class="hljs-string">&quot;çª¦&quot;</span>, <span class="hljs-string">&quot;ç« &quot;</span>, <span class="hljs-string">&quot;äº‘&quot;</span>, <span class="hljs-string">&quot;è‹&quot;</span>, <span class="hljs-string">&quot;æ½˜&quot;</span>, <span class="hljs-string">&quot;è‘›&quot;</span>, <span class="hljs-string">&quot;å¥š&quot;</span>, <span class="hljs-string">&quot;èŒƒ&quot;</span>, <span class="hljs-string">&quot;å½­&quot;</span>, <span class="hljs-string">&quot;éƒ&quot;</span>, <span class="hljs-string">&quot;é²&quot;</span>, <span class="hljs-string">&quot;éŸ¦&quot;</span>, <span class="hljs-string">&quot;æ˜Œ&quot;</span>, <span class="hljs-string">&quot;é©¬&quot;</span>, <span class="hljs-string">&quot;è‹—&quot;</span>, <span class="hljs-string">&quot;å‡¤&quot;</span>, <span class="hljs-string">&quot;èŠ±&quot;</span>, <span class="hljs-string">&quot;æ–¹&quot;</span>, <span class="hljs-string">&quot;ä¿&quot;</span>, <span class="hljs-string">&quot;ä»»&quot;</span>, <span class="hljs-string">&quot;è¢&quot;</span>, <span class="hljs-string">&quot;æŸ³&quot;</span>, <span class="hljs-string">&quot;é…†&quot;</span>, <span class="hljs-string">&quot;é²&quot;</span>, <span class="hljs-string">&quot;å²&quot;</span>, <span class="hljs-string">&quot;å”&quot;</span>, <span class="hljs-string">&quot;è´¹&quot;</span>, <span class="hljs-string">&quot;å»‰&quot;</span>, <span class="hljs-string">&quot;å²‘&quot;</span>, <span class="hljs-string">&quot;è–›&quot;</span>, <span class="hljs-string">&quot;é›·&quot;</span>, <span class="hljs-string">&quot;è´º&quot;</span>, <span class="hljs-string">&quot;å€ª&quot;</span>, <span class="hljs-string">&quot;æ±¤&quot;</span>, <span class="hljs-string">&quot;æ»•&quot;</span>, <span class="hljs-string">&quot;æ®·&quot;</span>, <span class="hljs-string">&quot;ç½—&quot;</span>, <span class="hljs-string">&quot;æ¯•&quot;</span>, <span class="hljs-string">&quot;éƒ&quot;</span>, <span class="hljs-string">&quot;é‚¬&quot;</span>, <span class="hljs-string">&quot;å®‰&quot;</span>, <span class="hljs-string">&quot;å¸¸&quot;</span>, <span class="hljs-string">&quot;ä¹&quot;</span>, <span class="hljs-string">&quot;äº&quot;</span>, <span class="hljs-string">&quot;æ—¶&quot;</span>, <span class="hljs-string">&quot;å‚…&quot;</span>, <span class="hljs-string">&quot;çš®&quot;</span>, <span class="hljs-string">&quot;å&quot;</span>, <span class="hljs-string">&quot;é½&quot;</span>, <span class="hljs-string">&quot;åº·&quot;</span>, <span class="hljs-string">&quot;ä¼&quot;</span>, <span class="hljs-string">&quot;ä½™&quot;</span>, <span class="hljs-string">&quot;å…ƒ&quot;</span>, <span class="hljs-string">&quot;åœ&quot;</span>, <span class="hljs-string">&quot;é¡¾&quot;</span>, <span class="hljs-string">&quot;å­Ÿ&quot;</span>, <span class="hljs-string">&quot;å¹³&quot;</span>, <span class="hljs-string">&quot;é»„&quot;</span>, <span class="hljs-string">&quot;å’Œ&quot;</span>, <span class="hljs-string">&quot;ç©†&quot;</span>, <span class="hljs-string">&quot;è§&quot;</span>, <span class="hljs-string">&quot;å°¹&quot;</span>, <span class="hljs-string">&quot;å§š&quot;</span>, <span class="hljs-string">&quot;é‚µ&quot;</span>, <span class="hljs-string">&quot;æ¹›&quot;</span>, <span class="hljs-string">&quot;æ±ª&quot;</span>, <span class="hljs-string">&quot;ç¥&quot;</span>, <span class="hljs-string">&quot;æ¯›&quot;</span>, <span class="hljs-string">&quot;ç¦¹&quot;</span>, <span class="hljs-string">&quot;ç‹„&quot;</span>, <span class="hljs-string">&quot;ç±³&quot;</span>, <span class="hljs-string">&quot;è´&quot;</span>, <span class="hljs-string">&quot;æ˜&quot;</span>, <span class="hljs-string">&quot;è‡§&quot;</span>, <span class="hljs-string">&quot;è®¡&quot;</span>, <span class="hljs-string">&quot;ä¼&quot;</span>, <span class="hljs-string">&quot;æˆ&quot;</span>, <span class="hljs-string">&quot;æˆ´&quot;</span>, <span class="hljs-string">&quot;è°ˆ&quot;</span>, <span class="hljs-string">&quot;å®‹&quot;</span>, <span class="hljs-string">&quot;èŒ…&quot;</span>, <span class="hljs-string">&quot;åº&quot;</span>, <span class="hljs-string">&quot;ç†Š&quot;</span>, <span class="hljs-string">&quot;çºª&quot;</span>, <span class="hljs-string">&quot;èˆ’&quot;</span>, <span class="hljs-string">&quot;å±ˆ&quot;</span>, <span class="hljs-string">&quot;é¡¹&quot;</span>, <span class="hljs-string">&quot;ç¥&quot;</span>, <span class="hljs-string">&quot;è‘£&quot;</span>, <span class="hljs-string">&quot;æ¢&quot;</span>, <span class="hljs-string">&quot;æœ&quot;</span>, <span class="hljs-string">&quot;é˜®&quot;</span>, <span class="hljs-string">&quot;è“&quot;</span>, <span class="hljs-string">&quot;é—µ&quot;</span>, <span class="hljs-string">&quot;å¸­&quot;</span>, <span class="hljs-string">&quot;å­£&quot;</span>, <span class="hljs-string">&quot;éº»&quot;</span>, <span class="hljs-string">&quot;å¼º&quot;</span>, <span class="hljs-string">&quot;è´¾&quot;</span>, <span class="hljs-string">&quot;è·¯&quot;</span>, <span class="hljs-string">&quot;å¨„&quot;</span>, <span class="hljs-string">&quot;å±&quot;</span>, <span class="hljs-string">&quot;æ±Ÿ&quot;</span>, <span class="hljs-string">&quot;ç«¥&quot;</span>, <span class="hljs-string">&quot;é¢œ&quot;</span>, <span class="hljs-string">&quot;éƒ­&quot;</span>, <span class="hljs-string">&quot;æ¢…&quot;</span>, <span class="hljs-string">&quot;ç››&quot;</span>, <span class="hljs-string">&quot;æ—&quot;</span>, <span class="hljs-string">&quot;åˆ&quot;</span>, <span class="hljs-string">&quot;é’Ÿ&quot;</span>, <span class="hljs-string">&quot;å¾&quot;</span>, <span class="hljs-string">&quot;é‚±&quot;</span>, <span class="hljs-string">&quot;éª†&quot;</span>, <span class="hljs-string">&quot;é«˜&quot;</span>, <span class="hljs-string">&quot;å¤&quot;</span>, <span class="hljs-string">&quot;è”¡&quot;</span>, <span class="hljs-string">&quot;ç”°&quot;</span>, <span class="hljs-string">&quot;æ¨Š&quot;</span>, <span class="hljs-string">&quot;èƒ¡&quot;</span>, <span class="hljs-string">&quot;å‡Œ&quot;</span>, <span class="hljs-string">&quot;éœ&quot;</span>, <span class="hljs-string">&quot;è™&quot;</span>, <span class="hljs-string">&quot;ä¸‡&quot;</span>, <span class="hljs-string">&quot;æ”¯&quot;</span>, <span class="hljs-string">&quot;æŸ¯&quot;</span>, <span class="hljs-string">&quot;æ˜&quot;</span>, <span class="hljs-string">&quot;ç®¡&quot;</span>, <span class="hljs-string">&quot;å¢&quot;</span>, <span class="hljs-string">&quot;è«&quot;</span>, <span class="hljs-string">&quot;ç»&quot;</span>, <span class="hljs-string">&quot;æˆ¿&quot;</span>, <span class="hljs-string">&quot;è£˜&quot;</span>, <span class="hljs-string">&quot;ç¼ª&quot;</span>, <span class="hljs-string">&quot;å¹²&quot;</span>, <span class="hljs-string">&quot;è§£&quot;</span>, <span class="hljs-string">&quot;åº”&quot;</span>, <span class="hljs-string">&quot;å®—&quot;</span>, <span class="hljs-string">&quot;ä¸&quot;</span>, <span class="hljs-string">&quot;å®£&quot;</span>, <span class="hljs-string">&quot;è´²&quot;</span>, <span class="hljs-string">&quot;é‚“&quot;</span>, <span class="hljs-string">&quot;éƒ&quot;</span>, <span class="hljs-string">&quot;å•&quot;</span>, <span class="hljs-string">&quot;æ­&quot;</span>, <span class="hljs-string">&quot;æ´ª&quot;</span>, <span class="hljs-string">&quot;åŒ…&quot;</span>, <span class="hljs-string">&quot;è¯¸&quot;</span>, <span class="hljs-string">&quot;å·¦&quot;</span>, <span class="hljs-string">&quot;çŸ³&quot;</span>, <span class="hljs-string">&quot;å´”&quot;</span>, <span class="hljs-string">&quot;å‰&quot;</span>, <span class="hljs-string">&quot;é’®&quot;</span>, <span class="hljs-string">&quot;é¾š&quot;</span>, <span class="hljs-string">&quot;ç¨‹&quot;</span>, <span class="hljs-string">&quot;åµ‡&quot;</span>, <span class="hljs-string">&quot;é‚¢&quot;</span>, <span class="hljs-string">&quot;æ»‘&quot;</span>, <span class="hljs-string">&quot;è£´&quot;</span>, <span class="hljs-string">&quot;é™†&quot;</span>, <span class="hljs-string">&quot;è£&quot;</span>, <span class="hljs-string">&quot;ç¿&quot;</span>, <span class="hljs-string">&quot;è€&quot;</span>, <span class="hljs-string">&quot;ç¾Š&quot;</span>, <span class="hljs-string">&quot;æ–¼&quot;</span>, <span class="hljs-string">&quot;æƒ &quot;</span>, <span class="hljs-string">&quot;ç”„&quot;</span>, <span class="hljs-string">&quot;éº´&quot;</span>, <span class="hljs-string">&quot;å®¶&quot;</span>, <span class="hljs-string">&quot;å°&quot;</span>, <span class="hljs-string">&quot;èŠ®&quot;</span>, <span class="hljs-string">&quot;ç¾¿&quot;</span>, <span class="hljs-string">&quot;å‚¨&quot;</span>, <span class="hljs-string">&quot;é³&quot;</span>, <span class="hljs-string">&quot;æ±²&quot;</span>, <span class="hljs-string">&quot;é‚´&quot;</span>, <span class="hljs-string">&quot;ç³œ&quot;</span>, <span class="hljs-string">&quot;æ¾&quot;</span>, <span class="hljs-string">&quot;äº•&quot;</span>, <span class="hljs-string">&quot;æ®µ&quot;</span>, <span class="hljs-string">&quot;å¯Œ&quot;</span>, <span class="hljs-string">&quot;å·«&quot;</span>, <span class="hljs-string">&quot;ä¹Œ&quot;</span>, <span class="hljs-string">&quot;ç„¦&quot;</span>, <span class="hljs-string">&quot;å·´&quot;</span>, <span class="hljs-string">&quot;å¼“&quot;</span>, <span class="hljs-string">&quot;ç‰§&quot;</span>, <span class="hljs-string">&quot;éš—&quot;</span>, <span class="hljs-string">&quot;å±±&quot;</span>, <span class="hljs-string">&quot;è°·&quot;</span>, <span class="hljs-string">&quot;è½¦&quot;</span>, <span class="hljs-string">&quot;ä¾¯&quot;</span>, <span class="hljs-string">&quot;å®“&quot;</span>, <span class="hljs-string">&quot;è“¬&quot;</span>, <span class="hljs-string">&quot;å…¨&quot;</span>, <span class="hljs-string">&quot;éƒ—&quot;</span>, <span class="hljs-string">&quot;ç­&quot;</span>, <span class="hljs-string">&quot;ä»°&quot;</span>, <span class="hljs-string">&quot;ç§‹&quot;</span>, <span class="hljs-string">&quot;ä»²&quot;</span>, <span class="hljs-string">&quot;ä¼Š&quot;</span>, <span class="hljs-string">&quot;å®«&quot;</span>, <span class="hljs-string">&quot;å®&quot;</span>, <span class="hljs-string">&quot;ä»‡&quot;</span>, <span class="hljs-string">&quot;æ ¾&quot;</span>, <span class="hljs-string">&quot;æš´&quot;</span>, <span class="hljs-string">&quot;ç”˜&quot;</span>, <span class="hljs-string">&quot;é’­&quot;</span>, <span class="hljs-string">&quot;å‰&quot;</span>, <span class="hljs-string">&quot;æˆ&quot;</span>, <span class="hljs-string">&quot;ç¥–&quot;</span>, <span class="hljs-string">&quot;æ­¦&quot;</span>, <span class="hljs-string">&quot;ç¬¦&quot;</span>, <span class="hljs-string">&quot;åˆ˜&quot;</span>, <span class="hljs-string">&quot;æ™¯&quot;</span>, <span class="hljs-string">&quot;è©¹&quot;</span>, <span class="hljs-string">&quot;æŸ&quot;</span>, <span class="hljs-string">&quot;é¾™&quot;</span>, <span class="hljs-string">&quot;å¶&quot;</span>, <span class="hljs-string">&quot;å¹¸&quot;</span>, <span class="hljs-string">&quot;å¸&quot;</span>, <span class="hljs-string">&quot;éŸ¶&quot;</span>, <span class="hljs-string">&quot;éƒœ&quot;</span>, <span class="hljs-string">&quot;é»&quot;</span>, <span class="hljs-string">&quot;è“Ÿ&quot;</span>, <span class="hljs-string">&quot;è–„&quot;</span>, <span class="hljs-string">&quot;å°&quot;</span>, <span class="hljs-string">&quot;å®¿&quot;</span>, <span class="hljs-string">&quot;ç™½&quot;</span>, <span class="hljs-string">&quot;æ€€&quot;</span>, <span class="hljs-string">&quot;è’²&quot;</span>, <span class="hljs-string">&quot;é‚°&quot;</span>, <span class="hljs-string">&quot;ä»&quot;</span>, <span class="hljs-string">&quot;é„‚&quot;</span>, <span class="hljs-string">&quot;ç´¢&quot;</span>, <span class="hljs-string">&quot;å’¸&quot;</span>, <span class="hljs-string">&quot;ç±&quot;</span>, <span class="hljs-string">&quot;èµ–&quot;</span>, <span class="hljs-string">&quot;å“&quot;</span>, <span class="hljs-string">&quot;è”º&quot;</span>, <span class="hljs-string">&quot;å± &quot;</span>, <span class="hljs-string">&quot;è’™&quot;</span>, <span class="hljs-string">&quot;æ± &quot;</span>, <span class="hljs-string">&quot;ä¹”&quot;</span>, <span class="hljs-string">&quot;é˜´&quot;</span>, <span class="hljs-string">&quot;éƒ&quot;</span>, <span class="hljs-string">&quot;èƒ¥&quot;</span>, <span class="hljs-string">&quot;èƒ½&quot;</span>, <span class="hljs-string">&quot;è‹&quot;</span>, <span class="hljs-string">&quot;åŒ&quot;</span>, <span class="hljs-string">&quot;é—»&quot;</span>, <span class="hljs-string">&quot;è˜&quot;</span>, <span class="hljs-string">&quot;å…š&quot;</span>, <span class="hljs-string">&quot;ç¿Ÿ&quot;</span>, <span class="hljs-string">&quot;è°­&quot;</span>, <span class="hljs-string">&quot;è´¡&quot;</span>, <span class="hljs-string">&quot;åŠ³&quot;</span>, <span class="hljs-string">&quot;é€„&quot;</span>, <span class="hljs-string">&quot;å§¬&quot;</span>, <span class="hljs-string">&quot;ç”³&quot;</span>, <span class="hljs-string">&quot;æ‰¶&quot;</span>, <span class="hljs-string">&quot;å µ&quot;</span>, <span class="hljs-string">&quot;å†‰&quot;</span>, <span class="hljs-string">&quot;å®°&quot;</span>, <span class="hljs-string">&quot;éƒ¦&quot;</span>, <span class="hljs-string">&quot;é›&quot;</span>, <span class="hljs-string">&quot;èˆ„&quot;</span>, <span class="hljs-string">&quot;ç’©&quot;</span>, <span class="hljs-string">&quot;æ¡‘&quot;</span>, <span class="hljs-string">&quot;æ¡‚&quot;</span>, <span class="hljs-string">&quot;æ¿®&quot;</span>, <span class="hljs-string">&quot;ç‰›&quot;</span>, <span class="hljs-string">&quot;å¯¿&quot;</span>, <span class="hljs-string">&quot;é€š&quot;</span>, <span class="hljs-string">&quot;è¾¹&quot;</span>, <span class="hljs-string">&quot;æ‰ˆ&quot;</span>, <span class="hljs-string">&quot;ç‡•&quot;</span>, <span class="hljs-string">&quot;å†€&quot;</span>, <span class="hljs-string">&quot;éƒ&quot;</span>, <span class="hljs-string">&quot;æµ¦&quot;</span>, <span class="hljs-string">&quot;å°š&quot;</span>, <span class="hljs-string">&quot;å†œ&quot;</span>, <span class="hljs-string">&quot;æ¸©&quot;</span>, <span class="hljs-string">&quot;åˆ«&quot;</span>, <span class="hljs-string">&quot;åº„&quot;</span>, <span class="hljs-string">&quot;æ™&quot;</span>, <span class="hljs-string">&quot;æŸ´&quot;</span>, <span class="hljs-string">&quot;ç¿&quot;</span>, <span class="hljs-string">&quot;é˜&quot;</span>, <span class="hljs-string">&quot;å……&quot;</span>, <span class="hljs-string">&quot;æ…•&quot;</span>, <span class="hljs-string">&quot;è¿&quot;</span>, <span class="hljs-string">&quot;èŒ¹&quot;</span>, <span class="hljs-string">&quot;ä¹ &quot;</span>, <span class="hljs-string">&quot;å®¦&quot;</span>, <span class="hljs-string">&quot;è‰¾&quot;</span>, <span class="hljs-string">&quot;é±¼&quot;</span>, <span class="hljs-string">&quot;å®¹&quot;</span>, <span class="hljs-string">&quot;å‘&quot;</span>, <span class="hljs-string">&quot;å¤&quot;</span>, <span class="hljs-string">&quot;æ˜“&quot;</span>, <span class="hljs-string">&quot;æ…&quot;</span>, <span class="hljs-string">&quot;æˆˆ&quot;</span>, <span class="hljs-string">&quot;å»–&quot;</span>, <span class="hljs-string">&quot;åº¾&quot;</span>, <span class="hljs-string">&quot;ç»ˆ&quot;</span>, <span class="hljs-string">&quot;æš¨&quot;</span>, <span class="hljs-string">&quot;å±…&quot;</span>, <span class="hljs-string">&quot;è¡¡&quot;</span>, <span class="hljs-string">&quot;æ­¥&quot;</span>, <span class="hljs-string">&quot;éƒ½&quot;</span>, <span class="hljs-string">&quot;è€¿&quot;</span>, <span class="hljs-string">&quot;æ»¡&quot;</span>, <span class="hljs-string">&quot;å¼˜&quot;</span>, <span class="hljs-string">&quot;åŒ¡&quot;</span>, <span class="hljs-string">&quot;å›½&quot;</span>, <span class="hljs-string">&quot;æ–‡&quot;</span>, <span class="hljs-string">&quot;å¯‡&quot;</span>, <span class="hljs-string">&quot;å¹¿&quot;</span>, <span class="hljs-string">&quot;ç¦„&quot;</span>, <span class="hljs-string">&quot;é˜™&quot;</span>, <span class="hljs-string">&quot;ä¸œ&quot;</span>, <span class="hljs-string">&quot;æ®´&quot;</span>, <span class="hljs-string">&quot;æ®³&quot;</span>, <span class="hljs-string">&quot;æ²ƒ&quot;</span>, <span class="hljs-string">&quot;åˆ©&quot;</span>, <span class="hljs-string">&quot;è”š&quot;</span>, <span class="hljs-string">&quot;è¶Š&quot;</span>, <span class="hljs-string">&quot;å¤”&quot;</span>, <span class="hljs-string">&quot;éš†&quot;</span>, <span class="hljs-string">&quot;å¸ˆ&quot;</span>, <span class="hljs-string">&quot;å·©&quot;</span>, <span class="hljs-string">&quot;å&quot;</span>, <span class="hljs-string">&quot;è‚&quot;</span>, <span class="hljs-string">&quot;æ™&quot;</span>, <span class="hljs-string">&quot;å‹¾&quot;</span>, <span class="hljs-string">&quot;æ•–&quot;</span>, <span class="hljs-string">&quot;è&quot;</span>, <span class="hljs-string">&quot;å†·&quot;</span>, <span class="hljs-string">&quot;è¨¾&quot;</span>, <span class="hljs-string">&quot;è¾›&quot;</span>, <span class="hljs-string">&quot;é˜š&quot;</span>, <span class="hljs-string">&quot;é‚£&quot;</span>, <span class="hljs-string">&quot;ç®€&quot;</span>, <span class="hljs-string">&quot;é¥¶&quot;</span>, <span class="hljs-string">&quot;ç©º&quot;</span>, <span class="hljs-string">&quot;æ›¾&quot;</span>, <span class="hljs-string">&quot;æ¯‹&quot;</span>, <span class="hljs-string">&quot;æ²™&quot;</span>, <span class="hljs-string">&quot;ä¹œ&quot;</span>, <span class="hljs-string">&quot;å…»&quot;</span>, <span class="hljs-string">&quot;é &quot;</span>, <span class="hljs-string">&quot;é¡»&quot;</span>, <span class="hljs-string">&quot;ä¸°&quot;</span>, <span class="hljs-string">&quot;å·¢&quot;</span>, <span class="hljs-string">&quot;å…³&quot;</span>, <span class="hljs-string">&quot;è’¯&quot;</span>, <span class="hljs-string">&quot;ç›¸&quot;</span>, <span class="hljs-string">&quot;æŸ¥&quot;</span>, <span class="hljs-string">&quot;å¾Œ&quot;</span>, <span class="hljs-string">&quot;è†&quot;</span>, <span class="hljs-string">&quot;çº¢&quot;</span>, <span class="hljs-string">&quot;æ¸¸&quot;</span>, <span class="hljs-string">&quot;ç«º&quot;</span>, <span class="hljs-string">&quot;æƒ&quot;</span>, <span class="hljs-string">&quot;é€¯&quot;</span>, <span class="hljs-string">&quot;ç›–&quot;</span>, <span class="hljs-string">&quot;ç›Š&quot;</span>, <span class="hljs-string">&quot;æ¡“&quot;</span>, <span class="hljs-string">&quot;å…¬&quot;</span>, <span class="hljs-string">&quot;ä»‰&quot;</span>, <span class="hljs-string">&quot;ç£&quot;</span>, <span class="hljs-string">&quot;æ™‹&quot;</span>, <span class="hljs-string">&quot;æ¥š&quot;</span>, <span class="hljs-string">&quot;é—«&quot;</span>, <span class="hljs-string">&quot;æ³•&quot;</span>, <span class="hljs-string">&quot;æ±&quot;</span>, <span class="hljs-string">&quot;é„¢&quot;</span>, <span class="hljs-string">&quot;æ¶‚&quot;</span>, <span class="hljs-string">&quot;é’¦&quot;</span>, <span class="hljs-string">&quot;å½’&quot;</span>, <span class="hljs-string">&quot;æµ·&quot;</span>, <span class="hljs-string">&quot;å²³&quot;</span>, <span class="hljs-string">&quot;å¸…&quot;</span>, <span class="hljs-string">&quot;ç¼‘&quot;</span>, <span class="hljs-string">&quot;äº¢&quot;</span>, <span class="hljs-string">&quot;å†µ&quot;</span>, <span class="hljs-string">&quot;å&quot;</span>, <span class="hljs-string">&quot;æœ‰&quot;</span>, <span class="hljs-string">&quot;ç´&quot;</span>, <span class="hljs-string">&quot;å•†&quot;</span>, <span class="hljs-string">&quot;ç‰Ÿ&quot;</span>, <span class="hljs-string">&quot;ä½˜&quot;</span>, <span class="hljs-string">&quot;ä½´&quot;</span>, <span class="hljs-string">&quot;ä¼¯&quot;</span>, <span class="hljs-string">&quot;èµ&quot;</span>, <span class="hljs-string">&quot;å¢¨&quot;</span>, <span class="hljs-string">&quot;å“ˆ&quot;</span>, <span class="hljs-string">&quot;è°¯&quot;</span>, <span class="hljs-string">&quot;ç¬ª&quot;</span>, <span class="hljs-string">&quot;å¹´&quot;</span>, <span class="hljs-string">&quot;çˆ±&quot;</span>, <span class="hljs-string">&quot;é˜³&quot;</span>, <span class="hljs-string">&quot;ä½Ÿ&quot;</span>, <span class="hljs-string">&quot;è¨€&quot;</span>, <span class="hljs-string">&quot;ç¦&quot;</span> &#125;;<br><br>	<span class="hljs-comment">//ç™¾å®¶å§“-å¤å§“</span><br>	<span class="hljs-built_in">string</span> NA2[<span class="hljs-number">59</span>] = &#123; <span class="hljs-string">&quot;ä¸‡ä¿Ÿ&quot;</span>, <span class="hljs-string">&quot;å¸é©¬&quot;</span>, <span class="hljs-string">&quot;ä¸Šå®˜&quot;</span>, <span class="hljs-string">&quot;æ¬§é˜³&quot;</span>, <span class="hljs-string">&quot;å¤ä¾¯&quot;</span>, <span class="hljs-string">&quot;è¯¸è‘›&quot;</span>, <span class="hljs-string">&quot;é—»äºº&quot;</span>, <span class="hljs-string">&quot;ä¸œæ–¹&quot;</span>, <span class="hljs-string">&quot;èµ«è¿&quot;</span>, <span class="hljs-string">&quot;çš‡ç”«&quot;</span>, <span class="hljs-string">&quot;å°‰è¿Ÿ&quot;</span>, <span class="hljs-string">&quot;å…¬ç¾Š&quot;</span>, <span class="hljs-string">&quot;æ¾¹å°&quot;</span>, <span class="hljs-string">&quot;å…¬å†¶&quot;</span>, <span class="hljs-string">&quot;å®—æ”¿&quot;</span>, <span class="hljs-string">&quot;æ¿®é˜³&quot;</span>, <span class="hljs-string">&quot;æ·³äº&quot;</span>, <span class="hljs-string">&quot;å•äº&quot;</span>, <span class="hljs-string">&quot;å¤ªå”&quot;</span>, <span class="hljs-string">&quot;ç”³å± &quot;</span>, <span class="hljs-string">&quot;å…¬å­™&quot;</span>, <span class="hljs-string">&quot;ä»²å­™&quot;</span>, <span class="hljs-string">&quot;è½©è¾•&quot;</span>, <span class="hljs-string">&quot;ä»¤ç‹&quot;</span>, <span class="hljs-string">&quot;é’Ÿç¦»&quot;</span>, <span class="hljs-string">&quot;å®‡æ–‡&quot;</span>, <span class="hljs-string">&quot;é•¿å­™&quot;</span>, <span class="hljs-string">&quot;æ…•å®¹&quot;</span>, <span class="hljs-string">&quot;é²œäº&quot;</span>, <span class="hljs-string">&quot;é—¾ä¸˜&quot;</span>, <span class="hljs-string">&quot;å¸å¾’&quot;</span>, <span class="hljs-string">&quot;å¸ç©º&quot;</span>, <span class="hljs-string">&quot;äº“å®˜&quot;</span>, <span class="hljs-string">&quot;å¸å¯‡&quot;</span>, <span class="hljs-string">&quot;å­è½¦&quot;</span>, <span class="hljs-string">&quot;é¢›å­™&quot;</span>, <span class="hljs-string">&quot;ç«¯æœ¨&quot;</span>, <span class="hljs-string">&quot;å·«é©¬&quot;</span>, <span class="hljs-string">&quot;å…¬è¥¿&quot;</span>, <span class="hljs-string">&quot;æ¼†é›•&quot;</span>, <span class="hljs-string">&quot;ä¹æ­£&quot;</span>, <span class="hljs-string">&quot;å£¤é©·&quot;</span>, <span class="hljs-string">&quot;å…¬è‰¯&quot;</span>, <span class="hljs-string">&quot;æ‹“è·‹&quot;</span>, <span class="hljs-string">&quot;å¤¹è°·&quot;</span>, <span class="hljs-string">&quot;å®°çˆ¶&quot;</span>, <span class="hljs-string">&quot;è°·æ¢&quot;</span>, <span class="hljs-string">&quot;ç™¾é‡Œ&quot;</span>, <span class="hljs-string">&quot;ä¸œéƒ­&quot;</span>, <span class="hljs-string">&quot;å—é—¨&quot;</span>, <span class="hljs-string">&quot;å‘¼å»¶&quot;</span>, <span class="hljs-string">&quot;ç¾ŠèˆŒ&quot;</span>, <span class="hljs-string">&quot;å¾®ç”Ÿ&quot;</span>, <span class="hljs-string">&quot;æ¢ä¸˜&quot;</span>, <span class="hljs-string">&quot;å·¦ä¸˜&quot;</span>, <span class="hljs-string">&quot;ä¸œé—¨&quot;</span>, <span class="hljs-string">&quot;è¥¿é—¨&quot;</span>, <span class="hljs-string">&quot;å—å®«&quot;</span>, <span class="hljs-string">&quot;ç¬¬äº”&quot;</span> &#125;;<br><br>	<span class="hljs-comment">//ç”·æ€§å¸¸ç”¨å</span><br>	<span class="hljs-built_in">string</span> ME1m[<span class="hljs-number">140</span>] = &#123; <span class="hljs-string">&quot;ä¼Ÿ&quot;</span>, <span class="hljs-string">&quot;åˆš&quot;</span>, <span class="hljs-string">&quot;å‹‡&quot;</span>, <span class="hljs-string">&quot;æ¯…&quot;</span>, <span class="hljs-string">&quot;ä¿Š&quot;</span>, <span class="hljs-string">&quot;å³°&quot;</span>, <span class="hljs-string">&quot;å¼º&quot;</span>, <span class="hljs-string">&quot;å†›&quot;</span>, <span class="hljs-string">&quot;å¹³&quot;</span>, <span class="hljs-string">&quot;ä¿&quot;</span>, <span class="hljs-string">&quot;ä¸œ&quot;</span>, <span class="hljs-string">&quot;æ–‡&quot;</span>, <span class="hljs-string">&quot;è¾‰&quot;</span>, <span class="hljs-string">&quot;åŠ›&quot;</span>, <span class="hljs-string">&quot;æ˜&quot;</span>, <span class="hljs-string">&quot;æ°¸&quot;</span>, <span class="hljs-string">&quot;å¥&quot;</span>, <span class="hljs-string">&quot;ä¸–&quot;</span>, <span class="hljs-string">&quot;å¹¿&quot;</span>, <span class="hljs-string">&quot;å¿—&quot;</span>, <span class="hljs-string">&quot;ä¹‰&quot;</span>, <span class="hljs-string">&quot;å…´&quot;</span>, <span class="hljs-string">&quot;è‰¯&quot;</span>, <span class="hljs-string">&quot;æµ·&quot;</span>, <span class="hljs-string">&quot;å±±&quot;</span>, <span class="hljs-string">&quot;ä»&quot;</span>, <span class="hljs-string">&quot;æ³¢&quot;</span>, <span class="hljs-string">&quot;å®&quot;</span>, <span class="hljs-string">&quot;è´µ&quot;</span>, <span class="hljs-string">&quot;ç¦&quot;</span>, <span class="hljs-string">&quot;ç”Ÿ&quot;</span>, <span class="hljs-string">&quot;é¾™&quot;</span>, <span class="hljs-string">&quot;å…ƒ&quot;</span>, <span class="hljs-string">&quot;å…¨&quot;</span>, <span class="hljs-string">&quot;å›½&quot;</span>, <span class="hljs-string">&quot;èƒœ&quot;</span>, <span class="hljs-string">&quot;å­¦&quot;</span>, <span class="hljs-string">&quot;ç¥¥&quot;</span>, <span class="hljs-string">&quot;æ‰&quot;</span>, <span class="hljs-string">&quot;å‘&quot;</span>, <span class="hljs-string">&quot;æ­¦&quot;</span>, <span class="hljs-string">&quot;æ–°&quot;</span>, <span class="hljs-string">&quot;åˆ©&quot;</span>, <span class="hljs-string">&quot;æ¸…&quot;</span>, <span class="hljs-string">&quot;é£&quot;</span>, <span class="hljs-string">&quot;å½¬&quot;</span>, <span class="hljs-string">&quot;å¯Œ&quot;</span>, <span class="hljs-string">&quot;é¡º&quot;</span>, <span class="hljs-string">&quot;ä¿¡&quot;</span>, <span class="hljs-string">&quot;å­&quot;</span>, <span class="hljs-string">&quot;æ°&quot;</span>, <span class="hljs-string">&quot;æ¶›&quot;</span>, <span class="hljs-string">&quot;æ˜Œ&quot;</span>, <span class="hljs-string">&quot;æˆ&quot;</span>, <span class="hljs-string">&quot;åº·&quot;</span>, <span class="hljs-string">&quot;æ˜Ÿ&quot;</span>, <span class="hljs-string">&quot;å…‰&quot;</span>, <span class="hljs-string">&quot;å¤©&quot;</span>, <span class="hljs-string">&quot;è¾¾&quot;</span>, <span class="hljs-string">&quot;å®‰&quot;</span>, <span class="hljs-string">&quot;å²©&quot;</span>, <span class="hljs-string">&quot;ä¸­&quot;</span>, <span class="hljs-string">&quot;èŒ‚&quot;</span>, <span class="hljs-string">&quot;è¿›&quot;</span>, <span class="hljs-string">&quot;æ—&quot;</span>, <span class="hljs-string">&quot;æœ‰&quot;</span>, <span class="hljs-string">&quot;åš&quot;</span>, <span class="hljs-string">&quot;å’Œ&quot;</span>, <span class="hljs-string">&quot;å½ª&quot;</span>, <span class="hljs-string">&quot;åš&quot;</span>, <span class="hljs-string">&quot;è¯š&quot;</span>, <span class="hljs-string">&quot;å…ˆ&quot;</span>, <span class="hljs-string">&quot;æ•¬&quot;</span>, <span class="hljs-string">&quot;éœ‡&quot;</span>, <span class="hljs-string">&quot;æŒ¯&quot;</span>, <span class="hljs-string">&quot;å£®&quot;</span>, <span class="hljs-string">&quot;ä¼š&quot;</span>, <span class="hljs-string">&quot;æ€&quot;</span>, <span class="hljs-string">&quot;ç¾¤&quot;</span>, <span class="hljs-string">&quot;è±ª&quot;</span>, <span class="hljs-string">&quot;å¿ƒ&quot;</span>, <span class="hljs-string">&quot;é‚¦&quot;</span>, <span class="hljs-string">&quot;æ‰¿&quot;</span>, <span class="hljs-string">&quot;ä¹&quot;</span>, <span class="hljs-string">&quot;ç»&quot;</span>, <span class="hljs-string">&quot;åŠŸ&quot;</span>, <span class="hljs-string">&quot;æ¾&quot;</span>, <span class="hljs-string">&quot;å–„&quot;</span>, <span class="hljs-string">&quot;åš&quot;</span>, <span class="hljs-string">&quot;åº†&quot;</span>, <span class="hljs-string">&quot;ç£Š&quot;</span>, <span class="hljs-string">&quot;æ°‘&quot;</span>, <span class="hljs-string">&quot;å‹&quot;</span>, <span class="hljs-string">&quot;è£•&quot;</span>, <span class="hljs-string">&quot;æ²³&quot;</span>, <span class="hljs-string">&quot;å“²&quot;</span>, <span class="hljs-string">&quot;æ±Ÿ&quot;</span>, <span class="hljs-string">&quot;è¶…&quot;</span>, <span class="hljs-string">&quot;æµ©&quot;</span>, <span class="hljs-string">&quot;äº®&quot;</span>, <span class="hljs-string">&quot;æ”¿&quot;</span>, <span class="hljs-string">&quot;è°¦&quot;</span>, <span class="hljs-string">&quot;äº¨&quot;</span>, <span class="hljs-string">&quot;å¥‡&quot;</span>, <span class="hljs-string">&quot;å›º&quot;</span>, <span class="hljs-string">&quot;ä¹‹&quot;</span>, <span class="hljs-string">&quot;è½®&quot;</span>, <span class="hljs-string">&quot;ç¿°&quot;</span>, <span class="hljs-string">&quot;æœ—&quot;</span>, <span class="hljs-string">&quot;ä¼¯&quot;</span>, <span class="hljs-string">&quot;å®&quot;</span>, <span class="hljs-string">&quot;è¨€&quot;</span>, <span class="hljs-string">&quot;è‹¥&quot;</span>, <span class="hljs-string">&quot;é¸£&quot;</span>, <span class="hljs-string">&quot;æœ‹&quot;</span>, <span class="hljs-string">&quot;æ–Œ&quot;</span>, <span class="hljs-string">&quot;æ¢&quot;</span>, <span class="hljs-string">&quot;æ ‹&quot;</span>, <span class="hljs-string">&quot;ç»´&quot;</span>, <span class="hljs-string">&quot;å¯&quot;</span>, <span class="hljs-string">&quot;å…‹&quot;</span>, <span class="hljs-string">&quot;ä¼¦&quot;</span>, <span class="hljs-string">&quot;ç¿”&quot;</span>, <span class="hljs-string">&quot;æ—­&quot;</span>, <span class="hljs-string">&quot;é¹&quot;</span>, <span class="hljs-string">&quot;æ³½&quot;</span>, <span class="hljs-string">&quot;æ™¨&quot;</span>, <span class="hljs-string">&quot;è¾°&quot;</span>, <span class="hljs-string">&quot;å£«&quot;</span>, <span class="hljs-string">&quot;ä»¥&quot;</span>, <span class="hljs-string">&quot;å»º&quot;</span>, <span class="hljs-string">&quot;å®¶&quot;</span>, <span class="hljs-string">&quot;è‡´&quot;</span>, <span class="hljs-string">&quot;æ ‘&quot;</span>, <span class="hljs-string">&quot;ç‚&quot;</span>, <span class="hljs-string">&quot;å¾·&quot;</span>, <span class="hljs-string">&quot;è¡Œ&quot;</span>, <span class="hljs-string">&quot;æ—¶&quot;</span>, <span class="hljs-string">&quot;æ³°&quot;</span>, <span class="hljs-string">&quot;ç››&quot;</span> &#125;;<br>	<span class="hljs-built_in">string</span> ME2m[<span class="hljs-number">140</span>] = &#123; <span class="hljs-string">&quot;ä¼Ÿ&quot;</span>, <span class="hljs-string">&quot;åˆš&quot;</span>, <span class="hljs-string">&quot;å‹‡&quot;</span>, <span class="hljs-string">&quot;æ¯…&quot;</span>, <span class="hljs-string">&quot;ä¿Š&quot;</span>, <span class="hljs-string">&quot;å³°&quot;</span>, <span class="hljs-string">&quot;å¼º&quot;</span>, <span class="hljs-string">&quot;å†›&quot;</span>, <span class="hljs-string">&quot;å¹³&quot;</span>, <span class="hljs-string">&quot;ä¿&quot;</span>, <span class="hljs-string">&quot;ä¸œ&quot;</span>, <span class="hljs-string">&quot;æ–‡&quot;</span>, <span class="hljs-string">&quot;è¾‰&quot;</span>, <span class="hljs-string">&quot;åŠ›&quot;</span>, <span class="hljs-string">&quot;æ˜&quot;</span>, <span class="hljs-string">&quot;æ°¸&quot;</span>, <span class="hljs-string">&quot;å¥&quot;</span>, <span class="hljs-string">&quot;ä¸–&quot;</span>, <span class="hljs-string">&quot;å¹¿&quot;</span>, <span class="hljs-string">&quot;å¿—&quot;</span>, <span class="hljs-string">&quot;ä¹‰&quot;</span>, <span class="hljs-string">&quot;å…´&quot;</span>, <span class="hljs-string">&quot;è‰¯&quot;</span>, <span class="hljs-string">&quot;æµ·&quot;</span>, <span class="hljs-string">&quot;å±±&quot;</span>, <span class="hljs-string">&quot;ä»&quot;</span>, <span class="hljs-string">&quot;æ³¢&quot;</span>, <span class="hljs-string">&quot;å®&quot;</span>, <span class="hljs-string">&quot;è´µ&quot;</span>, <span class="hljs-string">&quot;ç¦&quot;</span>, <span class="hljs-string">&quot;ç”Ÿ&quot;</span>, <span class="hljs-string">&quot;é¾™&quot;</span>, <span class="hljs-string">&quot;å…ƒ&quot;</span>, <span class="hljs-string">&quot;å…¨&quot;</span>, <span class="hljs-string">&quot;å›½&quot;</span>, <span class="hljs-string">&quot;èƒœ&quot;</span>, <span class="hljs-string">&quot;å­¦&quot;</span>, <span class="hljs-string">&quot;ç¥¥&quot;</span>, <span class="hljs-string">&quot;æ‰&quot;</span>, <span class="hljs-string">&quot;å‘&quot;</span>, <span class="hljs-string">&quot;æ­¦&quot;</span>, <span class="hljs-string">&quot;æ–°&quot;</span>, <span class="hljs-string">&quot;åˆ©&quot;</span>, <span class="hljs-string">&quot;æ¸…&quot;</span>, <span class="hljs-string">&quot;é£&quot;</span>, <span class="hljs-string">&quot;å½¬&quot;</span>, <span class="hljs-string">&quot;å¯Œ&quot;</span>, <span class="hljs-string">&quot;é¡º&quot;</span>, <span class="hljs-string">&quot;ä¿¡&quot;</span>, <span class="hljs-string">&quot;å­&quot;</span>, <span class="hljs-string">&quot;æ°&quot;</span>, <span class="hljs-string">&quot;æ¶›&quot;</span>, <span class="hljs-string">&quot;æ˜Œ&quot;</span>, <span class="hljs-string">&quot;æˆ&quot;</span>, <span class="hljs-string">&quot;åº·&quot;</span>, <span class="hljs-string">&quot;æ˜Ÿ&quot;</span>, <span class="hljs-string">&quot;å…‰&quot;</span>, <span class="hljs-string">&quot;å¤©&quot;</span>, <span class="hljs-string">&quot;è¾¾&quot;</span>, <span class="hljs-string">&quot;å®‰&quot;</span>, <span class="hljs-string">&quot;å²©&quot;</span>, <span class="hljs-string">&quot;ä¸­&quot;</span>, <span class="hljs-string">&quot;èŒ‚&quot;</span>, <span class="hljs-string">&quot;è¿›&quot;</span>, <span class="hljs-string">&quot;æ—&quot;</span>, <span class="hljs-string">&quot;æœ‰&quot;</span>, <span class="hljs-string">&quot;åš&quot;</span>, <span class="hljs-string">&quot;å’Œ&quot;</span>, <span class="hljs-string">&quot;å½ª&quot;</span>, <span class="hljs-string">&quot;åš&quot;</span>, <span class="hljs-string">&quot;è¯š&quot;</span>, <span class="hljs-string">&quot;å…ˆ&quot;</span>, <span class="hljs-string">&quot;æ•¬&quot;</span>, <span class="hljs-string">&quot;éœ‡&quot;</span>, <span class="hljs-string">&quot;æŒ¯&quot;</span>, <span class="hljs-string">&quot;å£®&quot;</span>, <span class="hljs-string">&quot;ä¼š&quot;</span>, <span class="hljs-string">&quot;æ€&quot;</span>, <span class="hljs-string">&quot;ç¾¤&quot;</span>, <span class="hljs-string">&quot;è±ª&quot;</span>, <span class="hljs-string">&quot;å¿ƒ&quot;</span>, <span class="hljs-string">&quot;é‚¦&quot;</span>, <span class="hljs-string">&quot;æ‰¿&quot;</span>, <span class="hljs-string">&quot;ä¹&quot;</span>, <span class="hljs-string">&quot;ç»&quot;</span>, <span class="hljs-string">&quot;åŠŸ&quot;</span>, <span class="hljs-string">&quot;æ¾&quot;</span>, <span class="hljs-string">&quot;å–„&quot;</span>, <span class="hljs-string">&quot;åš&quot;</span>, <span class="hljs-string">&quot;åº†&quot;</span>, <span class="hljs-string">&quot;ç£Š&quot;</span>, <span class="hljs-string">&quot;æ°‘&quot;</span>, <span class="hljs-string">&quot;å‹&quot;</span>, <span class="hljs-string">&quot;è£•&quot;</span>, <span class="hljs-string">&quot;æ²³&quot;</span>, <span class="hljs-string">&quot;å“²&quot;</span>, <span class="hljs-string">&quot;æ±Ÿ&quot;</span>, <span class="hljs-string">&quot;è¶…&quot;</span>, <span class="hljs-string">&quot;æµ©&quot;</span>, <span class="hljs-string">&quot;äº®&quot;</span>, <span class="hljs-string">&quot;æ”¿&quot;</span>, <span class="hljs-string">&quot;è°¦&quot;</span>, <span class="hljs-string">&quot;äº¨&quot;</span>, <span class="hljs-string">&quot;å¥‡&quot;</span>, <span class="hljs-string">&quot;å›º&quot;</span>, <span class="hljs-string">&quot;ä¹‹&quot;</span>, <span class="hljs-string">&quot;è½®&quot;</span>, <span class="hljs-string">&quot;ç¿°&quot;</span>, <span class="hljs-string">&quot;æœ—&quot;</span>, <span class="hljs-string">&quot;ä¼¯&quot;</span>, <span class="hljs-string">&quot;å®&quot;</span>, <span class="hljs-string">&quot;è¨€&quot;</span>, <span class="hljs-string">&quot;è‹¥&quot;</span>, <span class="hljs-string">&quot;é¸£&quot;</span>, <span class="hljs-string">&quot;æœ‹&quot;</span>, <span class="hljs-string">&quot;æ–Œ&quot;</span>, <span class="hljs-string">&quot;æ¢&quot;</span>, <span class="hljs-string">&quot;æ ‹&quot;</span>, <span class="hljs-string">&quot;ç»´&quot;</span>, <span class="hljs-string">&quot;å¯&quot;</span>, <span class="hljs-string">&quot;å…‹&quot;</span>, <span class="hljs-string">&quot;ä¼¦&quot;</span>, <span class="hljs-string">&quot;ç¿”&quot;</span>, <span class="hljs-string">&quot;æ—­&quot;</span>, <span class="hljs-string">&quot;é¹&quot;</span>, <span class="hljs-string">&quot;æ³½&quot;</span>, <span class="hljs-string">&quot;æ™¨&quot;</span>, <span class="hljs-string">&quot;è¾°&quot;</span>, <span class="hljs-string">&quot;å£«&quot;</span>, <span class="hljs-string">&quot;ä»¥&quot;</span>, <span class="hljs-string">&quot;å»º&quot;</span>, <span class="hljs-string">&quot;å®¶&quot;</span>, <span class="hljs-string">&quot;è‡´&quot;</span>, <span class="hljs-string">&quot;æ ‘&quot;</span>, <span class="hljs-string">&quot;ç‚&quot;</span>, <span class="hljs-string">&quot;å¾·&quot;</span>, <span class="hljs-string">&quot;è¡Œ&quot;</span>, <span class="hljs-string">&quot;æ—¶&quot;</span>, <span class="hljs-string">&quot;æ³°&quot;</span>, <span class="hljs-string">&quot;ç››&quot;</span> &#125;;<br><br><br>	<span class="hljs-comment">//å¥³æ€§å¸¸ç”¨å</span><br>	<span class="hljs-built_in">string</span> ME1f[<span class="hljs-number">165</span>] = &#123; <span class="hljs-string">&quot;ç§€&quot;</span>, <span class="hljs-string">&quot;å¨Ÿ&quot;</span>, <span class="hljs-string">&quot;è‹±&quot;</span>, <span class="hljs-string">&quot;å&quot;</span>, <span class="hljs-string">&quot;æ…§&quot;</span>, <span class="hljs-string">&quot;å·§&quot;</span>, <span class="hljs-string">&quot;ç¾&quot;</span>, <span class="hljs-string">&quot;å¨œ&quot;</span>, <span class="hljs-string">&quot;é™&quot;</span>, <span class="hljs-string">&quot;æ·‘&quot;</span>, <span class="hljs-string">&quot;æƒ &quot;</span>, <span class="hljs-string">&quot;ç &quot;</span>, <span class="hljs-string">&quot;ç¿ &quot;</span>, <span class="hljs-string">&quot;é›…&quot;</span>, <span class="hljs-string">&quot;èŠ&quot;</span>, <span class="hljs-string">&quot;ç‰&quot;</span>, <span class="hljs-string">&quot;è&quot;</span>, <span class="hljs-string">&quot;çº¢&quot;</span>, <span class="hljs-string">&quot;å¨¥&quot;</span>, <span class="hljs-string">&quot;ç²&quot;</span>, <span class="hljs-string">&quot;èŠ¬&quot;</span>, <span class="hljs-string">&quot;èŠ³&quot;</span>, <span class="hljs-string">&quot;ç‡•&quot;</span>, <span class="hljs-string">&quot;å½©&quot;</span>, <span class="hljs-string">&quot;æ˜¥&quot;</span>, <span class="hljs-string">&quot;èŠ&quot;</span>, <span class="hljs-string">&quot;å…°&quot;</span>, <span class="hljs-string">&quot;å‡¤&quot;</span>, <span class="hljs-string">&quot;æ´&quot;</span>, <span class="hljs-string">&quot;æ¢…&quot;</span>, <span class="hljs-string">&quot;ç³&quot;</span>, <span class="hljs-string">&quot;ç´ &quot;</span>, <span class="hljs-string">&quot;äº‘&quot;</span>, <span class="hljs-string">&quot;è²&quot;</span>, <span class="hljs-string">&quot;çœŸ&quot;</span>, <span class="hljs-string">&quot;ç¯&quot;</span>, <span class="hljs-string">&quot;é›ª&quot;</span>, <span class="hljs-string">&quot;è£&quot;</span>, <span class="hljs-string">&quot;çˆ±&quot;</span>, <span class="hljs-string">&quot;å¦¹&quot;</span>, <span class="hljs-string">&quot;éœ&quot;</span>, <span class="hljs-string">&quot;é¦™&quot;</span>, <span class="hljs-string">&quot;æœˆ&quot;</span>, <span class="hljs-string">&quot;èº&quot;</span>, <span class="hljs-string">&quot;åª›&quot;</span>, <span class="hljs-string">&quot;è‰³&quot;</span>, <span class="hljs-string">&quot;ç‘&quot;</span>, <span class="hljs-string">&quot;å‡¡&quot;</span>, <span class="hljs-string">&quot;ä½³&quot;</span>, <span class="hljs-string">&quot;å˜‰&quot;</span>, <span class="hljs-string">&quot;ç¼&quot;</span>, <span class="hljs-string">&quot;å‹¤&quot;</span>, <span class="hljs-string">&quot;ç&quot;</span>, <span class="hljs-string">&quot;è´&quot;</span>, <span class="hljs-string">&quot;è‰&quot;</span>, <span class="hljs-string">&quot;æ¡‚&quot;</span>, <span class="hljs-string">&quot;å¨£&quot;</span>, <span class="hljs-string">&quot;å¶&quot;</span>, <span class="hljs-string">&quot;ç’§&quot;</span>, <span class="hljs-string">&quot;ç’&quot;</span>, <span class="hljs-string">&quot;å¨…&quot;</span>, <span class="hljs-string">&quot;ç¦&quot;</span>, <span class="hljs-string">&quot;æ™¶&quot;</span>, <span class="hljs-string">&quot;å¦&quot;</span>, <span class="hljs-string">&quot;èŒœ&quot;</span>, <span class="hljs-string">&quot;ç§‹&quot;</span>, <span class="hljs-string">&quot;çŠ&quot;</span>, <span class="hljs-string">&quot;è&quot;</span>, <span class="hljs-string">&quot;é”¦&quot;</span>, <span class="hljs-string">&quot;é»›&quot;</span>, <span class="hljs-string">&quot;é’&quot;</span>, <span class="hljs-string">&quot;å€©&quot;</span>, <span class="hljs-string">&quot;å©·&quot;</span>, <span class="hljs-string">&quot;å§£&quot;</span>, <span class="hljs-string">&quot;å©‰&quot;</span>, <span class="hljs-string">&quot;å¨´&quot;</span>, <span class="hljs-string">&quot;ç‘¾&quot;</span>, <span class="hljs-string">&quot;é¢–&quot;</span>, <span class="hljs-string">&quot;éœ²&quot;</span>, <span class="hljs-string">&quot;ç‘¶&quot;</span>, <span class="hljs-string">&quot;æ€¡&quot;</span>, <span class="hljs-string">&quot;å©µ&quot;</span>, <span class="hljs-string">&quot;é›&quot;</span>, <span class="hljs-string">&quot;è““&quot;</span>, <span class="hljs-string">&quot;çº¨&quot;</span>, <span class="hljs-string">&quot;ä»ª&quot;</span>, <span class="hljs-string">&quot;è·&quot;</span>, <span class="hljs-string">&quot;ä¸¹&quot;</span>, <span class="hljs-string">&quot;è“‰&quot;</span>, <span class="hljs-string">&quot;çœ‰&quot;</span>, <span class="hljs-string">&quot;å›&quot;</span>, <span class="hljs-string">&quot;ç´&quot;</span>, <span class="hljs-string">&quot;è•Š&quot;</span>, <span class="hljs-string">&quot;è–‡&quot;</span>, <span class="hljs-string">&quot;è&quot;</span>, <span class="hljs-string">&quot;æ¢¦&quot;</span>, <span class="hljs-string">&quot;å²š&quot;</span>, <span class="hljs-string">&quot;è‹‘&quot;</span>, <span class="hljs-string">&quot;ç­ &quot;</span>, <span class="hljs-string">&quot;æŸ”&quot;</span>, <span class="hljs-string">&quot;ç«¹&quot;</span>, <span class="hljs-string">&quot;éœ­&quot;</span>, <span class="hljs-string">&quot;å‡&quot;</span>, <span class="hljs-string">&quot;æ™“&quot;</span>, <span class="hljs-string">&quot;æ¬¢&quot;</span>, <span class="hljs-string">&quot;éœ„&quot;</span>, <span class="hljs-string">&quot;æ«&quot;</span>, <span class="hljs-string">&quot;èŠ¸&quot;</span>, <span class="hljs-string">&quot;è²&quot;</span>, <span class="hljs-string">&quot;å¯’&quot;</span>, <span class="hljs-string">&quot;æ¬£&quot;</span>, <span class="hljs-string">&quot;æ»¢&quot;</span>, <span class="hljs-string">&quot;ä¼Š&quot;</span>, <span class="hljs-string">&quot;äºš&quot;</span>, <span class="hljs-string">&quot;å®œ&quot;</span>, <span class="hljs-string">&quot;å¯&quot;</span>, <span class="hljs-string">&quot;å§¬&quot;</span>, <span class="hljs-string">&quot;èˆ’&quot;</span>, <span class="hljs-string">&quot;å½±&quot;</span>, <span class="hljs-string">&quot;è”&quot;</span>, <span class="hljs-string">&quot;æ&quot;</span>, <span class="hljs-string">&quot;æ€&quot;</span>, <span class="hljs-string">&quot;ä¸½&quot;</span>, <span class="hljs-string">&quot;ç§€&quot;</span>, <span class="hljs-string">&quot;é£˜&quot;</span>, <span class="hljs-string">&quot;è‚²&quot;</span>, <span class="hljs-string">&quot;é¦¥&quot;</span>, <span class="hljs-string">&quot;ç¦&quot;</span>, <span class="hljs-string">&quot;æ™¶&quot;</span>, <span class="hljs-string">&quot;å¦&quot;</span>, <span class="hljs-string">&quot;èŒœ&quot;</span>, <span class="hljs-string">&quot;ç§‹&quot;</span>, <span class="hljs-string">&quot;çŠ&quot;</span>, <span class="hljs-string">&quot;è&quot;</span>, <span class="hljs-string">&quot;é”¦&quot;</span>, <span class="hljs-string">&quot;é»›&quot;</span>, <span class="hljs-string">&quot;é’&quot;</span>, <span class="hljs-string">&quot;å€©&quot;</span>, <span class="hljs-string">&quot;å©·&quot;</span>, <span class="hljs-string">&quot;å®&quot;</span>, <span class="hljs-string">&quot;è““&quot;</span>, <span class="hljs-string">&quot;çº¨&quot;</span>, <span class="hljs-string">&quot;è‹‘&quot;</span>, <span class="hljs-string">&quot;å©•&quot;</span>, <span class="hljs-string">&quot;é¦¨&quot;</span>, <span class="hljs-string">&quot;ç‘—&quot;</span>, <span class="hljs-string">&quot;ç°&quot;</span>, <span class="hljs-string">&quot;éŸµ&quot;</span>, <span class="hljs-string">&quot;è&quot;</span>, <span class="hljs-string">&quot;å›­&quot;</span>, <span class="hljs-string">&quot;è‰º&quot;</span>, <span class="hljs-string">&quot;å’&quot;</span>, <span class="hljs-string">&quot;å¿&quot;</span>, <span class="hljs-string">&quot;èª&quot;</span>, <span class="hljs-string">&quot;æ¾œ&quot;</span>, <span class="hljs-string">&quot;çº¯&quot;</span>, <span class="hljs-string">&quot;æ¯“&quot;</span>, <span class="hljs-string">&quot;æ‚¦&quot;</span>, <span class="hljs-string">&quot;æ˜­&quot;</span>, <span class="hljs-string">&quot;å†°&quot;</span>, <span class="hljs-string">&quot;çˆ½&quot;</span>, <span class="hljs-string">&quot;ç¬&quot;</span>, <span class="hljs-string">&quot;èŒ—&quot;</span>, <span class="hljs-string">&quot;ç¾½&quot;</span>, <span class="hljs-string">&quot;å¸Œ&quot;</span> &#125;;<br>	<span class="hljs-built_in">string</span> ME2f[<span class="hljs-number">165</span>] = &#123; <span class="hljs-string">&quot;ç§€&quot;</span>, <span class="hljs-string">&quot;å¨Ÿ&quot;</span>, <span class="hljs-string">&quot;è‹±&quot;</span>, <span class="hljs-string">&quot;å&quot;</span>, <span class="hljs-string">&quot;æ…§&quot;</span>, <span class="hljs-string">&quot;å·§&quot;</span>, <span class="hljs-string">&quot;ç¾&quot;</span>, <span class="hljs-string">&quot;å¨œ&quot;</span>, <span class="hljs-string">&quot;é™&quot;</span>, <span class="hljs-string">&quot;æ·‘&quot;</span>, <span class="hljs-string">&quot;æƒ &quot;</span>, <span class="hljs-string">&quot;ç &quot;</span>, <span class="hljs-string">&quot;ç¿ &quot;</span>, <span class="hljs-string">&quot;é›…&quot;</span>, <span class="hljs-string">&quot;èŠ&quot;</span>, <span class="hljs-string">&quot;ç‰&quot;</span>, <span class="hljs-string">&quot;è&quot;</span>, <span class="hljs-string">&quot;çº¢&quot;</span>, <span class="hljs-string">&quot;å¨¥&quot;</span>, <span class="hljs-string">&quot;ç²&quot;</span>, <span class="hljs-string">&quot;èŠ¬&quot;</span>, <span class="hljs-string">&quot;èŠ³&quot;</span>, <span class="hljs-string">&quot;ç‡•&quot;</span>, <span class="hljs-string">&quot;å½©&quot;</span>, <span class="hljs-string">&quot;æ˜¥&quot;</span>, <span class="hljs-string">&quot;èŠ&quot;</span>, <span class="hljs-string">&quot;å…°&quot;</span>, <span class="hljs-string">&quot;å‡¤&quot;</span>, <span class="hljs-string">&quot;æ´&quot;</span>, <span class="hljs-string">&quot;æ¢…&quot;</span>, <span class="hljs-string">&quot;ç³&quot;</span>, <span class="hljs-string">&quot;ç´ &quot;</span>, <span class="hljs-string">&quot;äº‘&quot;</span>, <span class="hljs-string">&quot;è²&quot;</span>, <span class="hljs-string">&quot;çœŸ&quot;</span>, <span class="hljs-string">&quot;ç¯&quot;</span>, <span class="hljs-string">&quot;é›ª&quot;</span>, <span class="hljs-string">&quot;è£&quot;</span>, <span class="hljs-string">&quot;çˆ±&quot;</span>, <span class="hljs-string">&quot;å¦¹&quot;</span>, <span class="hljs-string">&quot;éœ&quot;</span>, <span class="hljs-string">&quot;é¦™&quot;</span>, <span class="hljs-string">&quot;æœˆ&quot;</span>, <span class="hljs-string">&quot;èº&quot;</span>, <span class="hljs-string">&quot;åª›&quot;</span>, <span class="hljs-string">&quot;è‰³&quot;</span>, <span class="hljs-string">&quot;ç‘&quot;</span>, <span class="hljs-string">&quot;å‡¡&quot;</span>, <span class="hljs-string">&quot;ä½³&quot;</span>, <span class="hljs-string">&quot;å˜‰&quot;</span>, <span class="hljs-string">&quot;ç¼&quot;</span>, <span class="hljs-string">&quot;å‹¤&quot;</span>, <span class="hljs-string">&quot;ç&quot;</span>, <span class="hljs-string">&quot;è´&quot;</span>, <span class="hljs-string">&quot;è‰&quot;</span>, <span class="hljs-string">&quot;æ¡‚&quot;</span>, <span class="hljs-string">&quot;å¨£&quot;</span>, <span class="hljs-string">&quot;å¶&quot;</span>, <span class="hljs-string">&quot;ç’§&quot;</span>, <span class="hljs-string">&quot;ç’&quot;</span>, <span class="hljs-string">&quot;å¨…&quot;</span>, <span class="hljs-string">&quot;ç¦&quot;</span>, <span class="hljs-string">&quot;æ™¶&quot;</span>, <span class="hljs-string">&quot;å¦&quot;</span>, <span class="hljs-string">&quot;èŒœ&quot;</span>, <span class="hljs-string">&quot;ç§‹&quot;</span>, <span class="hljs-string">&quot;çŠ&quot;</span>, <span class="hljs-string">&quot;è&quot;</span>, <span class="hljs-string">&quot;é”¦&quot;</span>, <span class="hljs-string">&quot;é»›&quot;</span>, <span class="hljs-string">&quot;é’&quot;</span>, <span class="hljs-string">&quot;å€©&quot;</span>, <span class="hljs-string">&quot;å©·&quot;</span>, <span class="hljs-string">&quot;å§£&quot;</span>, <span class="hljs-string">&quot;å©‰&quot;</span>, <span class="hljs-string">&quot;å¨´&quot;</span>, <span class="hljs-string">&quot;ç‘¾&quot;</span>, <span class="hljs-string">&quot;é¢–&quot;</span>, <span class="hljs-string">&quot;éœ²&quot;</span>, <span class="hljs-string">&quot;ç‘¶&quot;</span>, <span class="hljs-string">&quot;æ€¡&quot;</span>, <span class="hljs-string">&quot;å©µ&quot;</span>, <span class="hljs-string">&quot;é›&quot;</span>, <span class="hljs-string">&quot;è““&quot;</span>, <span class="hljs-string">&quot;çº¨&quot;</span>, <span class="hljs-string">&quot;ä»ª&quot;</span>, <span class="hljs-string">&quot;è·&quot;</span>, <span class="hljs-string">&quot;ä¸¹&quot;</span>, <span class="hljs-string">&quot;è“‰&quot;</span>, <span class="hljs-string">&quot;çœ‰&quot;</span>, <span class="hljs-string">&quot;å›&quot;</span>, <span class="hljs-string">&quot;ç´&quot;</span>, <span class="hljs-string">&quot;è•Š&quot;</span>, <span class="hljs-string">&quot;è–‡&quot;</span>, <span class="hljs-string">&quot;è&quot;</span>, <span class="hljs-string">&quot;æ¢¦&quot;</span>, <span class="hljs-string">&quot;å²š&quot;</span>, <span class="hljs-string">&quot;è‹‘&quot;</span>, <span class="hljs-string">&quot;ç­ &quot;</span>, <span class="hljs-string">&quot;æŸ”&quot;</span>, <span class="hljs-string">&quot;ç«¹&quot;</span>, <span class="hljs-string">&quot;éœ­&quot;</span>, <span class="hljs-string">&quot;å‡&quot;</span>, <span class="hljs-string">&quot;æ™“&quot;</span>, <span class="hljs-string">&quot;æ¬¢&quot;</span>, <span class="hljs-string">&quot;éœ„&quot;</span>, <span class="hljs-string">&quot;æ«&quot;</span>, <span class="hljs-string">&quot;èŠ¸&quot;</span>, <span class="hljs-string">&quot;è²&quot;</span>, <span class="hljs-string">&quot;å¯’&quot;</span>, <span class="hljs-string">&quot;æ¬£&quot;</span>, <span class="hljs-string">&quot;æ»¢&quot;</span>, <span class="hljs-string">&quot;ä¼Š&quot;</span>, <span class="hljs-string">&quot;äºš&quot;</span>, <span class="hljs-string">&quot;å®œ&quot;</span>, <span class="hljs-string">&quot;å¯&quot;</span>, <span class="hljs-string">&quot;å§¬&quot;</span>, <span class="hljs-string">&quot;èˆ’&quot;</span>, <span class="hljs-string">&quot;å½±&quot;</span>, <span class="hljs-string">&quot;è”&quot;</span>, <span class="hljs-string">&quot;æ&quot;</span>, <span class="hljs-string">&quot;æ€&quot;</span>, <span class="hljs-string">&quot;ä¸½&quot;</span>, <span class="hljs-string">&quot;ç§€&quot;</span>, <span class="hljs-string">&quot;é£˜&quot;</span>, <span class="hljs-string">&quot;è‚²&quot;</span>, <span class="hljs-string">&quot;é¦¥&quot;</span>, <span class="hljs-string">&quot;ç¦&quot;</span>, <span class="hljs-string">&quot;æ™¶&quot;</span>, <span class="hljs-string">&quot;å¦&quot;</span>, <span class="hljs-string">&quot;èŒœ&quot;</span>, <span class="hljs-string">&quot;ç§‹&quot;</span>, <span class="hljs-string">&quot;çŠ&quot;</span>, <span class="hljs-string">&quot;è&quot;</span>, <span class="hljs-string">&quot;é”¦&quot;</span>, <span class="hljs-string">&quot;é»›&quot;</span>, <span class="hljs-string">&quot;é’&quot;</span>, <span class="hljs-string">&quot;å€©&quot;</span>, <span class="hljs-string">&quot;å©·&quot;</span>, <span class="hljs-string">&quot;å®&quot;</span>, <span class="hljs-string">&quot;è““&quot;</span>, <span class="hljs-string">&quot;çº¨&quot;</span>, <span class="hljs-string">&quot;è‹‘&quot;</span>, <span class="hljs-string">&quot;å©•&quot;</span>, <span class="hljs-string">&quot;é¦¨&quot;</span>, <span class="hljs-string">&quot;ç‘—&quot;</span>, <span class="hljs-string">&quot;ç°&quot;</span>, <span class="hljs-string">&quot;éŸµ&quot;</span>, <span class="hljs-string">&quot;è&quot;</span>, <span class="hljs-string">&quot;å›­&quot;</span>, <span class="hljs-string">&quot;è‰º&quot;</span>, <span class="hljs-string">&quot;å’&quot;</span>, <span class="hljs-string">&quot;å¿&quot;</span>, <span class="hljs-string">&quot;èª&quot;</span>, <span class="hljs-string">&quot;æ¾œ&quot;</span>, <span class="hljs-string">&quot;çº¯&quot;</span>, <span class="hljs-string">&quot;æ¯“&quot;</span>, <span class="hljs-string">&quot;æ‚¦&quot;</span>, <span class="hljs-string">&quot;æ˜­&quot;</span>, <span class="hljs-string">&quot;å†°&quot;</span>, <span class="hljs-string">&quot;çˆ½&quot;</span>, <span class="hljs-string">&quot;ç¬&quot;</span>, <span class="hljs-string">&quot;èŒ—&quot;</span>, <span class="hljs-string">&quot;ç¾½&quot;</span>, <span class="hljs-string">&quot;å¸Œ&quot;</span> &#125;;<br><br>	<span class="hljs-keyword">int</span> NA1Roll = rnd() % <span class="hljs-number">444</span>;<span class="hljs-comment">//å•å§“</span><br>	<span class="hljs-keyword">int</span> NA2Roll = rnd() % <span class="hljs-number">59</span>;<span class="hljs-comment">//å¤å§“</span><br>	<span class="hljs-keyword">int</span> ME1mRoll = rnd() % <span class="hljs-number">140</span>;<span class="hljs-comment">//ç”·å</span><br>	<span class="hljs-keyword">int</span> ME2mRoll = rnd() % <span class="hljs-number">140</span>;<span class="hljs-comment">//ç”·å</span><br>	<span class="hljs-keyword">int</span> ME1fRoll = rnd() % <span class="hljs-number">165</span>;<span class="hljs-comment">//å¥³å</span><br>	<span class="hljs-keyword">int</span> ME2fRoll = rnd() % <span class="hljs-number">165</span>;<span class="hljs-comment">//å¥³å</span><br><br>	<span class="hljs-comment">//å•å§“å•åç”·</span><br>	<span class="hljs-built_in">cout</span> &lt;&lt; NA1[NA1Roll] &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; ME1m[ME1mRoll] &lt;&lt; <span class="hljs-string">&quot; ç”·&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br><br>	NA1Roll = rnd() % <span class="hljs-number">444</span>;<span class="hljs-comment">//å•å§“</span><br>	ME1mRoll = rnd() % <span class="hljs-number">140</span>;<span class="hljs-comment">//ç”·å</span><br>	<span class="hljs-comment">//å•å§“å•åå¥³</span><br>	<span class="hljs-built_in">cout</span> &lt;&lt; NA1[NA1Roll] &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; ME1f[ME1fRoll] &lt;&lt; <span class="hljs-string">&quot; å¥³&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br><br>	NA1Roll = rnd() % <span class="hljs-number">444</span>;<span class="hljs-comment">//å•å§“</span><br>	ME1mRoll = rnd() % <span class="hljs-number">140</span>;<span class="hljs-comment">//ç”·å</span><br>	ME2mRoll = rnd() % <span class="hljs-number">140</span>;<span class="hljs-comment">//ç”·å</span><br>	<span class="hljs-comment">//å•å§“åŒåç”·</span><br>	<span class="hljs-built_in">cout</span> &lt;&lt; NA1[NA1Roll] &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; ME1m[ME1mRoll] &lt;&lt; ME1m[ME2mRoll] &lt;&lt; <span class="hljs-string">&quot; ç”·&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br><br>	NA1Roll = rnd() % <span class="hljs-number">444</span>;<span class="hljs-comment">//å•å§“</span><br>	ME1fRoll = rnd() % <span class="hljs-number">165</span>;<span class="hljs-comment">//å¥³å</span><br>	ME2fRoll = rnd() % <span class="hljs-number">165</span>;<span class="hljs-comment">//å¥³å</span><br>	<span class="hljs-comment">//å•å§“åŒåå¥³</span><br>	<span class="hljs-built_in">cout</span> &lt;&lt; NA1[NA1Roll] &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; ME1f[ME1fRoll] &lt;&lt; ME1f[ME2fRoll] &lt;&lt; <span class="hljs-string">&quot; å¥³&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br><br>	<span class="hljs-keyword">if</span>(rnd() % <span class="hljs-number">2</span> == <span class="hljs-number">1</span>)<br>	&#123;<br>		<br>		NA2Roll = rnd() % <span class="hljs-number">59</span>;<span class="hljs-comment">//å¤å§“</span><br>		ME1mRoll = rnd() % <span class="hljs-number">140</span>;<span class="hljs-comment">//ç”·å</span><br>		<span class="hljs-comment">//å¤å§“å•åç”·</span><br>		<span class="hljs-built_in">cout</span> &lt;&lt; NA2[NA2Roll] &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; ME1m[ME1mRoll] &lt;&lt; <span class="hljs-string">&quot; ç”·&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>	&#125;<br>	<span class="hljs-keyword">else</span><br>	&#123;<br>		NA2Roll = rnd() % <span class="hljs-number">59</span>;<span class="hljs-comment">//å¤å§“</span><br>		ME1fRoll = rnd() % <span class="hljs-number">165</span>;<span class="hljs-comment">//å¥³å</span><br>		<span class="hljs-comment">//å¤å§“å•åå¥³</span><br>		<span class="hljs-built_in">cout</span> &lt;&lt; NA2[NA2Roll] &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; ME1f[ME1fRoll] &lt;&lt; <span class="hljs-string">&quot; å¥³&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>	&#125;<br>	<span class="hljs-keyword">if</span>(rnd() % <span class="hljs-number">2</span> == <span class="hljs-number">1</span>)<br>	&#123;<br>		NA2Roll = rnd() % <span class="hljs-number">59</span>;<span class="hljs-comment">//å¤å§“</span><br>		ME1mRoll = rnd() % <span class="hljs-number">140</span>;<span class="hljs-comment">//ç”·å</span><br>		ME2mRoll = rnd() % <span class="hljs-number">140</span>;<span class="hljs-comment">//ç”·å</span><br>		<span class="hljs-comment">//å¤å§“åŒåç”·</span><br>		<span class="hljs-built_in">cout</span> &lt;&lt; NA2[NA2Roll] &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; ME1m[ME1mRoll] &lt;&lt; ME2m[ME2mRoll] &lt;&lt; <span class="hljs-string">&quot; ç”·&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>	&#125;<br>	<span class="hljs-keyword">else</span><br>	&#123;<br>		<br>		NA2Roll = rnd() % <span class="hljs-number">59</span>;<span class="hljs-comment">//å¤å§“</span><br>		ME1fRoll = rnd() % <span class="hljs-number">165</span>;<span class="hljs-comment">//å¥³å</span><br>		ME2fRoll = rnd() % <span class="hljs-number">165</span>;<span class="hljs-comment">//å¥³å</span><br>		<span class="hljs-comment">//å¤å§“åŒåå¥³</span><br>		<span class="hljs-built_in">cout</span> &lt;&lt; NA2[NA2Roll] &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; ME1f[ME1fRoll] &lt;&lt; ME2f[ME2fRoll] &lt;&lt; <span class="hljs-string">&quot; å¥³&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>	&#125;<br>	<span class="hljs-comment">// cout &lt;&lt; &quot;\n&quot; &lt;&lt; endl;</span><br><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>	freopen(<span class="hljs-string">&quot;name.txt&quot;</span>, <span class="hljs-string">&quot;w&quot;</span>, <span class="hljs-built_in">stdout</span>);<br>	<span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">10</span>; ++i)NAME();<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>æœ€åç”Ÿæˆçš„å§“åï¼Œå§“ã€åæ˜¯åˆ†å¼€çš„ä»¥åŠå¯¹åº”çš„æ€§åˆ«ï¼Œï¼Œ</p>
<p>ç±»ä¼¼è¿™æ ·ï¼Œï¼Œï¼Œ</p>
<figure class="highlight text"><table><tr><td class="code"><pre><code class="hljs text">åŒ… æ¢ ç”·<br>ä¼Š è‹‘ å¥³<br>èŠ® å…‰åŠŸ ç”·<br>ä» èŠèŒœ å¥³<br>æ¾¹å° çº¯ å¥³<br>å®—æ”¿ è¶…å¾· ç”·<br>é’® ç”Ÿ ç”·<br>æ¹› ç«¹ å¥³<br>å¶ æ³°å›º ç”·<br>ä»° å½©ç§‹ å¥³<br>å¤ªå” èŠ å¥³<br>å‘¼å»¶ ä¿Šè¿› ç”·<br>ç» è°¦ ç”·<br>å®“ å¨¥ å¥³<br>éŸ© è´µæœ‰ ç”·<br></code></pre></td></tr></table></figure>
<p>(end)</p>
]]></content>
      <categories>
        <category>å°å·¥å…·</category>
      </categories>
      <tags>
        <tag>ç¬”è®°</tag>
        <tag>å·¥ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title>éšç¬”-å¯¹å½“å‰å›½é™…é‡‘èçš„â€œæ‹…å¿§â€åŠä¸ªäººçœ‹æ³•</title>
    <url>/2021/05/11/%E9%9A%8F%E7%AC%94-%E5%AF%B9%E5%BD%93%E5%89%8D%E5%9B%BD%E9%99%85%E9%87%91%E8%9E%8D%E7%9A%84%E2%80%9C%E6%8B%85%E5%BF%A7%E2%80%9D%E5%8F%8A%E4%B8%AA%E4%BA%BA%E7%9C%8B%E6%B3%95/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">
  <script id="hbeData" type="hbeData" data-hmacdigest="93c98b8dd8046bdc1cefb8a6778a2369e9057667ca8475125c45dcf5cf38c404">5dfd32f88e67af1fe04d89d16b439ff9a7d7b62a60e7a8824250962c12b41c55fd092a2480ff65d017c4293785d4edf162ef411d835957f9e51d8035664a3d18d13b5796aad48126b71b05668d8d9df9ac12e589a7601d64dc68414f8cf6608f028e55ac1bf2729b2a50c55c5ad3a69c637dfa296908da8683f69b4f60819ac005516a489444281690789ac65495f4073ecff343a25a5a1d05dccb22de5c4aeee66923734389fd5d975b5f8a9e05ee011b2583755c3fd140a196b748ae9ef9007bbaed9123a7288a9f0be03a1e3eeba2f6c6b8ef56971190d13e41067c965374442f442402175a46f924467830e967b928c276ecc025caf76083643380bb72d0778ae0c967a6171642dc705e4f8bb5e04b4e24b75f3311e434921ba795bc46d7d3435e4d84625d8c75e4dc59cc1af578748a05294fb15cb8dd683e2e4b75b97b643e731d511aa01dda7e1425bba559b037f13ce6d29ee6c9289166d11d227a642103bfa8285c38c03e5e657135a4896457962403e8d344a6c2732d54ea51ffc1f6526e5bfea16270f5ad5adda93ee1ac49afab63de3fae76553e285e0ebc4b60d3ca3fb2e7daa0884cadbfec0ac391cd8ecf92a87f096177eb6431e07c14bac15a178ce5c2408f7fcdd88f2cdc45650f14650c999c573083df0846dbf7895c3539935cb7b47c48ce8a4d65a8da45ad441a08215224bf4b76b62108770495fa2db0f481af564d51fc2d9430b151d5e97d290f55306f6a5397b98ceb01cad7fbf4217b95400fa809cd3dc813b2ade5cd13e195279472f6ac3854eb105e935df25a0d278fb70acea77359933b25b5cced749ac4b33aa5c15f89c537cac4bd9a3aa096bae3c34ec804ef0112637609a17c8a704feaafb0a302c71ae0d139f3609f6e772799c2427fc20c055381b6aeb984f7fbe07e25d508b995f6a5d18a4cf506a9c33ad34e5340e776a984aa66775782937d3963b39d8ff80b195d8c933fff3a37f2eacc5a6dd38bfbd5f760c92aff7d4dfd30803d661633c3dfa14f6e5484e5d7a887d3abfad168d64b79590935e8fe55ca272dee5e54e62c1a7c915d0694222ca69eaab8306f4ad6946190491cf27bc86d9d5f2f00bdd2791380ea52046bd3e9da2b9ed9c5f517c6a2713644c842dcc07e72157fd5a294117275c7119139bf281a77bc8406eda189764ccdad3ea016a78f4e87dc472e1e11ac1c20a3da11178b1d29d94b066c2f9cdfa31ca06670a99d274d1c8fb7e932169d82aac622d74e5e42cf6284cac4dbeff2ca77d2f236332250ae235fd7f29d96cde5608df6e80c346ad6f4e23dbea6f9f4c7d4389e7528372bb585c15b2d1dccffa27a5d738b6633bd2516d3299e9eae3d19ea762c769282b10741217e4a967a5250958ccff1dd6717c6b3fbb97fda9e672da18bfe0e7c1c7d88ae93ac1457a1bac10358c7e8fcfe815a35f9a6dbf2bfa7bf3b30a352b0f74a783c677219a3c435c36393c201eebbf272be6ef77239da360e6b91b2dc42a5f97f7baf352b621a9cad03c032ff83457fb35b2131ad9fa2fb0f3a489691c8fd122076e70d8dce9bd7f2a081b37f4f7f410a1bd4720f983bb5e00947a798748ebda53ce8791ab0f490b8e3d87a4d194ad69a5c090b8ab4903a46b73dc14d126b934fd5350c98ff2ace1704093be59774b64407315276775a748bb708518df18d13c4cea793c3fc8a41befd90a02c75da4e91c1193dbef41f38787bf184ad5f936097a5bb3b64f0826c122a421728f3d95c61383dae45fc6e95e53cf16dafad1803045a533704d5fa65b9656fdcf3945b29dda3ffdca1ee825cac04fbe73329ba1d74fa93f88c3a5c4155031c19c53fdb75af67d8be628d602eda78beb0f5df8f98278520b89ffae33828ae29dcbad1b82049ce8ddbacd45ce69506d049414658b29ad233fbcb6f10d1b42771f87952a158b34bee0d6ef2f8a4edeb8a75cd7b5f88144d9706162bccf79570eb80129d33b3d8adbc5400219a85b22b912011135b9ee93ff9594b00ae8bd6b393e6670e6e35dfa01a041c791dbcb45c75a62c8b9abab294dcf3cd257549079738f8fd661f0d3583f0d00517a1ec0fa4c0d930c525cb72d52f60ede267a241bd7f347fcaf2aa108d3734dc2bde0057462ea6aec4adf1d14fddb25bda4123433e512c16d52655e03e033e3c5ef7dac69c6f96fa9342a4f25950b323dce68834c85b8f3c7b6cad2cc69a2296feb131239db6dea19d9f4dc28d4d3a55118bfa759872d1e320e0293dd320da94fb75a994237cafe3563e404de2afd5390a33c52820191d807a15c100eceeb93ada2415bfc3a1c7b8914e38bdcc16e847ea1a70dfc54913becdb78ea42f2151c56c2d8b534f8072b5b2b8bcdafee32d3823ceff708ff606a815a273cbb8a40d6624ca4bb0d1345dd8e64d445892694c9314a6483ec56f9bbd7f7864d31a43b4eb183ef416f9e1589fb0c1245edd812be4a70abc1209acaaa2787b1e7a2b477b8aeade2c0087b1a0637bc2e3d8595d7e52cfced5cdcf57bbcebad713b66c874f70a44dd2bac45b8933a33808680af2035b66c91a5060a97590df895f70e7e53335754fdb28dc1737614bb5233ab9586949890cbe122191aec12efb85e8d6f6e62fc91f3e10df5c907d53916f05671a0236ba7e4f67d3a4cc4b9e156832812ae789fc17fb2ba36366885a8cdbc529d248b8ed03cd5c914fcf1152494751e434374d7fa43f4e46321b370ee6326644ddea3efac7b39457969d08dad5e38506d3edb4d155a6d8707647d62fa1ca79baf0abb31280b321bb35a79774ed041e356f2c0e012e00a7ff35b506eba9486ae2cb7cf567f32f7466f7664cd2e4ba5b5daa9499dd58411b9764ab72979456e18647ed5cd477886e0422e96e7c8e1d1c0195d498e766c3ba673e51bcd89cba4b2705c981181224abeec08e53c6d1964b4d96056dce5296ea87be26b92aa1211118b3dea82c7755cf375bae2a61b2280d4ed12ca29881527c3336bd05a9102091454fa89664a2f00d85633425117d9cca362138433897fcc36bc948b5862f7e64e023a5ebc83d443dc1bdf7ce0683f76479e1f2ccda69806f7a5a0f90654b0a9a739d8d32667cc04adb5fcd730bc712f6091fb81fefb5eeb710eb6c18f66a2e5e25a9d6b871c6fd9b6a1f2b2699dd77869b14ad98098f9e62220a20dd395c7cc0f3e6730fdde7debf76cd0188210f3ff864ebdb8d494db9e5eabf8cbadcee17a3094a0025776df7c0881782b76dedcd4efcea207ceb1e90737ec64614eaf299913c00253bce70844c4b7cd0e7c0efbf0a5b4f5c704258fcc0f6bdbb160adda5c817644ba57bdf4e92d1efb3373a47db1a52f984ef986900dabf87b078c0f388b062bb5efb410200436a6c67191592b845874d2d389582e0a15121f8370789a9ea199d2724af75826263897851c242e74cb23684f52e8bb74d7e45d4b33c283c85cb4cb28521791d96df53b482645392d9db9f420d21f4a0ffd5f46e751d1a54f1b731de87c8ce607b9262a89d0ccc7c3bfb5ae1591cfc8d7f4e94995525114f50aed0e183984f748f5955433cef9642886d0b808c3aad41be2b3d58536e1e8d4f899952bdc694aaea7a0c0cf15f572d8c2dd25157fd889997d38a99193b2c0111e07c495c09dbcc5a530ddaf951c6d6734cca81eae19529b67fc3c56ee9032ae0dc9cc8c72710eabdd7010ac1d535b4220bc70047857aa91fffe3a7667a30fa30eb2cc51a8801d19bdd416931cf22d333b42f8e5daa4bf78c9e9689b96c7cebb92af33111bdae14e8b1882f13791704622a860d0f2cbb2f37daf81ba5e924c33f46dbf709fa76d854d3362d1af9397bc11b3932be409316efa4652fc317234cc883a514ee1f910eb4153c4524d1c277ee82106f95b4156a14cbbf1f2d1fbd76f7306a7e0ecbd9e6d0dd00393f8129</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
  </entry>
  <entry>
    <title>2019-ccpcç§¦çš‡å²›ç°åœºèµ›</title>
    <url>/2019/10/05/2019-ccpc%E7%A7%A6%E7%9A%87%E5%B2%9B%E7%8E%B0%E5%9C%BA%E8%B5%9B/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>æ˜¨å¤©å’Œé˜Ÿå‹æ¨¡æ‹Ÿäº†ä¸‹ä»Šå¹´ç§¦çš‡å²›çš„åŒºåŸŸèµ›ï¼Œï¼Œï¼Œ<del>ï¼ˆæˆ‘å…¨ç¨‹åœ¨æ¼”</del></p>
<p><a href="https://codeforces.com/gym/102361">é¢˜ç›®é“¾æ¥</a></p>
<span id="more"></span>
<h1 id="D-Decimal"><a href="#D-Decimal" class="headerlink" title="D - Decimal"></a>D - Decimal</h1><p>ç­¾åˆ°é¢˜ï¼Œï¼Œï¼Œ<del>ï¼ˆæ„Ÿè§‰åœ¨cfä¸Šåšè¿‡ï¼Œï¼Œ</del></p>
<p><del>ï¼ˆç„¶åå†™åè¾“å‡ºç™½ç™½waä¸€å‘,,,,,emmmmmmmm</del></p>
<h1 id="F-Forest-Program"><a href="#F-Forest-Program" class="headerlink" title="F - Forest Program"></a>F - Forest Program</h1><p>è¿™é¢˜æˆ‘æ„Ÿè§‰æ˜¯ç¬¬äºŒé“ç­¾åˆ°é¢˜ï¼Œï¼Œï¼Œå¾ˆç®€å•ï¼Œï¼Œä½†æ˜¯æˆ‘ä¸€ä¸ªäººè¯»å®Œé¢˜åå°±æƒ³ç€æ€ä¹ˆå†™ä»£ç ï¼Œï¼Œï¼Œç„¶åwaäº†æ— æ•°å‘æ‰ååº”è¿‡æ¥è¿˜è¦è€ƒè™‘æ ‘è¾¹çš„æƒ…å†µï¼Œï¼Œï¼Œ<del>ä¸§å¤±ç†æ™º</del> ï¼Œï¼Œï¼Œï¼Œ</p>
<p>é¢˜æ„å°±æ˜¯ç»™ä¸€ä¸ª <strong>ä»™äººæŒå›¾</strong> ï¼Œï¼Œä»™äººæŒå›¾å°±æ˜¯å¯¹äºæ¯ä¸€æ¡è¾¹éƒ½æœ€å¤šå±äºä¸€ä¸ªç®€å•ç¯ä¸­ï¼Œï¼Œï¼Œç„¶åé—®ä½ åˆ å»ä¸€äº›è¾¹ä½¿å¾—æœ€åçš„å›¾æ˜¯ä¸€ç‰‡æ£®æ—çš„æ–¹æ¡ˆæ•°ï¼Œï¼Œï¼Œæ˜¾ç„¶ç­”æ¡ˆå°±æ˜¯æ¯ä¸€ä¸ªç¯è‡³å°‘åˆ å»ä¸€ä¸ªè¾¹ï¼Œï¼Œè¿™æ ·æ¯ä¸€ä¸ªç¯çš„è´¡çŒ®å°±æ˜¯ $2^i-1$ ï¼Œï¼Œç´¯ä¹˜æ¯ä¸€ä¸ªç¯ä¾¿æ˜¯ç¯çš„æƒ…å†µï¼Œï¼Œï¼Œç„¶åè¿˜è¦è€ƒè™‘å‰©ä½™è¾¹çš„æƒ…å†µï¼Œï¼Œç„¶åæˆ‘å°±æ˜¯å¿˜è®°è¿™ä¸ªwaçš„æ€€ç–‘äººç”Ÿï¼Œï¼Œï¼Œ</p>
<p>æ‰¾å›¾çš„ç¯ç›´æ¥dfså°±å¯ä»¥ä¸ªäº†ï¼Œï¼Œç”¨ä¸€ä¸ªdisæ•°ç»„è®°å½•ä¸€ä¸‹åˆ°æœ€åˆçš„ç‚¹çš„è·ç¦»ï¼Œï¼Œç¢°åˆ°ä¸€ä¸ªç¯å°±ç›´æ¥ç›¸å‡å°±èƒ½å¾—åˆ°åˆ°ç¯çš„é•¿åº¦ï¼Œï¼Œï¼Œ<del>(åˆšå¥½å‰å‡ å¤©è§è¿‡è¿™æ ·çš„dfsåˆ¤ç¯å’Œæ±‚ç¯å¤§å°çš„é—®é¢˜</del></p>
<p><del>ï¼ˆä¸ºä»€ä¹ˆå¼§ä¼˜åŒ–åè¿˜æ…¢äº†å•Šï¼Œï¼Œï¼Œemmmmm</del></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">4e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">6e5</span> + <span class="hljs-number">233</span>;<br><span class="hljs-comment">// const int mod = 1e9 + 7;</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">998244353</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt;<br>    <span class="hljs-keyword">bool</span> flag;<br>&#125;edge[maxm &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, head[maxm &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].flag = <span class="hljs-literal">false</span>;<br>    edge[tot].nxt = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-built_in">vector</span>&lt;ll&gt; ans;<br><span class="hljs-keyword">int</span> vis[maxn];<br>ll dis[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, ll len)</span></span><br><span class="hljs-function"></span>&#123;<br>    vis[u] = <span class="hljs-number">1</span>; dis[u] = len;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> &amp;i = head[u]; ~i; i = edge[i].nxt)<br>    &#123;<br>        <span class="hljs-keyword">int</span> v = edge[i].to;<br>        <span class="hljs-keyword">if</span>(edge[i].flag)<span class="hljs-keyword">continue</span>;<br>        edge[i].flag = edge[i ^ <span class="hljs-number">1</span>].flag = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">if</span>(vis[v] == <span class="hljs-number">1</span>)<br>        &#123;<br>            ans.push_back(len - dis[v] + <span class="hljs-number">1</span>);<br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br>        dfs(v, len + <span class="hljs-number">1</span>);<br>    &#125;<br>    vis[u] = <span class="hljs-number">2</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> ll <span class="hljs-title">pow_</span><span class="hljs-params">(ll a, ll b)</span></span><br><span class="hljs-function"></span>&#123;<br>    ll ret = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(b)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(b &amp; <span class="hljs-number">1</span>)ret = (ret * a) % mod;<br>        a = (a * a) % mod;<br>        b &gt;&gt;= <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> ret;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br><br>    <span class="hljs-keyword">int</span> n, m; <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m;<br>    init();<br>    <span class="hljs-keyword">int</span> u, v;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; u &gt;&gt; v;<br>        addedge(u, v);<br>        addedge(v, u);<br>    &#125;<br>    ans.clear();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)vis[i] = <span class="hljs-number">-1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        <span class="hljs-keyword">if</span>(vis[i] != <span class="hljs-number">2</span>)<br>            dfs(i, <span class="hljs-number">0</span>);<br>    <br>    <span class="hljs-comment">// for(auto i: ans)cout &lt;&lt; i &lt;&lt; &quot; &quot;;cout &lt;&lt; endl;</span><br><br>    ll ret = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; ans.size(); ++i)<br>        ret = ret * ((pow_(<span class="hljs-number">2</span>, ans[i]) - <span class="hljs-number">1</span>) + mod) % mod;<br>    ll sum = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; ans.size(); ++i)sum += ans[i];<br>    sum = pow_(<span class="hljs-number">2</span>, m - sum) % mod;<br>    <span class="hljs-keyword">if</span>(ret == <span class="hljs-number">0</span>)ret = sum;<br>    <span class="hljs-keyword">else</span> ret = (ret * sum) % mod;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; ret &lt;&lt; <span class="hljs-built_in">endl</span>;<br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="I-Invoker"><a href="#I-Invoker" class="headerlink" title="I - Invoker"></a>I - Invoker</h1><p><del>ï¼ˆåœ¨æˆ‘è‡ªé—­çš„æ—¶å€™</del> ï¼Œï¼Œé˜Ÿå‹è¿‡äº†è¿™é¢˜ï¼Œï¼Œè¿™é¢˜çš„é¢˜ç›®å¾ˆåƒ <del>ï¼ˆåŸºæœ¬å®Œå…¨ä¸€è‡´</del> æˆ‘ä»¬çš„æ–°ç”Ÿèµ›ï¼Œï¼Œåªæ˜¯æ±‚å¾—ä¸œè¥¿åäº†è¿‡æ¥ï¼Œï¼Œï¼Œé˜Ÿå‹æƒ³äº†æš´åŠ›+dpè¿‡çš„ï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">3e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">5e5</span> + <span class="hljs-number">233</span>;<br><span class="hljs-comment">// const int mod = 1e9 + 7;</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">998244353</span>;<br><span class="hljs-built_in">map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-keyword">int</span>&gt; mp;<br><span class="hljs-built_in">map</span>&lt;<span class="hljs-keyword">char</span>, <span class="hljs-keyword">int</span>&gt; special;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> skill[] = &#123;<span class="hljs-string">&#x27;Q&#x27;</span>, <span class="hljs-string">&#x27;W&#x27;</span>, <span class="hljs-string">&#x27;E&#x27;</span>&#125;;<br><span class="hljs-keyword">int</span> dis[<span class="hljs-number">30</span>][<span class="hljs-number">30</span>];<br><br><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; g[<span class="hljs-number">15</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">3</span>; i++)<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>; j&lt;<span class="hljs-number">3</span>; j++)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> k=<span class="hljs-number">0</span>; k&lt;<span class="hljs-number">3</span>; k++)<br>            &#123;<br>                <span class="hljs-built_in">string</span> tmp = <span class="hljs-string">&quot;&quot;</span>;<br>                tmp += skill[i];<br>                tmp += skill[j];<br>                tmp += skill[k];<br>                mp[tmp] = i*<span class="hljs-number">9</span> + j*<span class="hljs-number">3</span> + k;<br>            &#125;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> a=<span class="hljs-number">0</span>; a&lt;<span class="hljs-number">27</span>; a++)<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> b=<span class="hljs-number">0</span>; b&lt;<span class="hljs-number">27</span>; b++)<br>        &#123;<br>            <span class="hljs-keyword">int</span> i = a, j = b;<br>            <span class="hljs-built_in">string</span> tmpi = <span class="hljs-string">&quot;&quot;</span>;<br>            <span class="hljs-built_in">string</span> tmpj = <span class="hljs-string">&quot;&quot;</span>;<br>            tmpi += skill[i/<span class="hljs-number">9</span>];<br>            i %= <span class="hljs-number">9</span>;<br>            tmpi += skill[i/<span class="hljs-number">3</span>];<br>            i %= <span class="hljs-number">3</span>;<br>            tmpi += skill[i];<br>            tmpj += skill[j/<span class="hljs-number">9</span>];<br>            j %= <span class="hljs-number">9</span>;<br>            tmpj += skill[j/<span class="hljs-number">3</span>];<br>            j %= <span class="hljs-number">3</span>;<br>            tmpj += skill[j];<br>            <span class="hljs-keyword">if</span>(tmpi == tmpj)<br>                dis[a][b] = <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(tmpi[<span class="hljs-number">1</span>] == tmpj[<span class="hljs-number">0</span>] &amp;&amp; tmpi[<span class="hljs-number">2</span>] == tmpj[<span class="hljs-number">1</span>])<br>                dis[a][b] = <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(tmpi[<span class="hljs-number">2</span>] == tmpj[<span class="hljs-number">0</span>])<br>                dis[a][b] = <span class="hljs-number">2</span>;<br>            <span class="hljs-keyword">else</span><br>                dis[a][b] = <span class="hljs-number">3</span>;<br>        &#125;<br>    &#125;<br>    special[<span class="hljs-string">&#x27;Y&#x27;</span>] = <span class="hljs-number">0</span>;<br>    special[<span class="hljs-string">&#x27;V&#x27;</span>] = <span class="hljs-number">1</span>;<br>    special[<span class="hljs-string">&#x27;G&#x27;</span>] = <span class="hljs-number">2</span>;<br>    special[<span class="hljs-string">&#x27;C&#x27;</span>] = <span class="hljs-number">3</span>;<br>    special[<span class="hljs-string">&#x27;X&#x27;</span>] = <span class="hljs-number">4</span>;<br>    special[<span class="hljs-string">&#x27;Z&#x27;</span>] = <span class="hljs-number">5</span>;<br>    special[<span class="hljs-string">&#x27;T&#x27;</span>] = <span class="hljs-number">6</span>;<br>    special[<span class="hljs-string">&#x27;F&#x27;</span>] = <span class="hljs-number">7</span>;<br>    special[<span class="hljs-string">&#x27;D&#x27;</span>] = <span class="hljs-number">8</span>;<br>    special[<span class="hljs-string">&#x27;B&#x27;</span>] = <span class="hljs-number">9</span>;<br>    g[<span class="hljs-number">0</span>].push_back(mp[<span class="hljs-string">&quot;QQQ&quot;</span>]);<br>    g[<span class="hljs-number">1</span>].push_back(mp[<span class="hljs-string">&quot;QQW&quot;</span>]);<br>    g[<span class="hljs-number">1</span>].push_back(mp[<span class="hljs-string">&quot;QWQ&quot;</span>]);<br>    g[<span class="hljs-number">1</span>].push_back(mp[<span class="hljs-string">&quot;WQQ&quot;</span>]);<br>    g[<span class="hljs-number">2</span>].push_back(mp[<span class="hljs-string">&quot;QQE&quot;</span>]);<br>    g[<span class="hljs-number">2</span>].push_back(mp[<span class="hljs-string">&quot;QEQ&quot;</span>]);<br>    g[<span class="hljs-number">2</span>].push_back(mp[<span class="hljs-string">&quot;EQQ&quot;</span>]);<br>    g[<span class="hljs-number">3</span>].push_back(mp[<span class="hljs-string">&quot;WWW&quot;</span>]);<br>    g[<span class="hljs-number">4</span>].push_back(mp[<span class="hljs-string">&quot;QWW&quot;</span>]);<br>    g[<span class="hljs-number">4</span>].push_back(mp[<span class="hljs-string">&quot;WQW&quot;</span>]);<br>    g[<span class="hljs-number">4</span>].push_back(mp[<span class="hljs-string">&quot;WWQ&quot;</span>]);<br>    g[<span class="hljs-number">5</span>].push_back(mp[<span class="hljs-string">&quot;WWE&quot;</span>]);<br>    g[<span class="hljs-number">5</span>].push_back(mp[<span class="hljs-string">&quot;WEW&quot;</span>]);<br>    g[<span class="hljs-number">5</span>].push_back(mp[<span class="hljs-string">&quot;EWW&quot;</span>]);<br>    g[<span class="hljs-number">6</span>].push_back(mp[<span class="hljs-string">&quot;EEE&quot;</span>]);<br>    g[<span class="hljs-number">7</span>].push_back(mp[<span class="hljs-string">&quot;QEE&quot;</span>]);<br>    g[<span class="hljs-number">7</span>].push_back(mp[<span class="hljs-string">&quot;EQE&quot;</span>]);<br>    g[<span class="hljs-number">7</span>].push_back(mp[<span class="hljs-string">&quot;EEQ&quot;</span>]);<br>    g[<span class="hljs-number">8</span>].push_back(mp[<span class="hljs-string">&quot;WEE&quot;</span>]);<br>    g[<span class="hljs-number">8</span>].push_back(mp[<span class="hljs-string">&quot;EWE&quot;</span>]);<br>    g[<span class="hljs-number">8</span>].push_back(mp[<span class="hljs-string">&quot;EEW&quot;</span>]);<br>    g[<span class="hljs-number">9</span>].push_back(mp[<span class="hljs-string">&quot;QWE&quot;</span>]);<br>    g[<span class="hljs-number">9</span>].push_back(mp[<span class="hljs-string">&quot;QEW&quot;</span>]);<br>    g[<span class="hljs-number">9</span>].push_back(mp[<span class="hljs-string">&quot;WQE&quot;</span>]);<br>    g[<span class="hljs-number">9</span>].push_back(mp[<span class="hljs-string">&quot;WEQ&quot;</span>]);<br>    g[<span class="hljs-number">9</span>].push_back(mp[<span class="hljs-string">&quot;EWQ&quot;</span>]);<br>    g[<span class="hljs-number">9</span>].push_back(mp[<span class="hljs-string">&quot;EQW&quot;</span>]);<br>&#125;<br><br><span class="hljs-keyword">char</span> s[maxn];<br><span class="hljs-keyword">int</span> dp[maxn][<span class="hljs-number">6</span>];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    init();<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>, s);<br>    <span class="hljs-keyword">int</span> len = <span class="hljs-built_in">strlen</span>(s);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;len; i++)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>; j&lt;<span class="hljs-number">6</span>; j++)<br>            dp[i][j] = inf;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;g[special[s[<span class="hljs-number">0</span>]]].size(); i++)<br>        dp[<span class="hljs-number">0</span>][i] = <span class="hljs-number">3</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>; i&lt;len; i++)<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>; j&lt;g[special[s[i<span class="hljs-number">-1</span>]]].size(); j++)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> k=<span class="hljs-number">0</span>; k&lt;g[special[s[i]]].size(); k++)<br>            &#123;<br>                <span class="hljs-keyword">int</span> tmpj = g[special[s[i<span class="hljs-number">-1</span>]]][j];<br>                <span class="hljs-keyword">int</span> tmpk = g[special[s[i]]][k];<br>                dp[i][k] = min(dp[i][k], dp[i<span class="hljs-number">-1</span>][j] + dis[tmpj][tmpk]);<br>            &#125;<br>    &#125;<br>    <span class="hljs-keyword">int</span> ans = inf;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">6</span>; i++)<br>        ans = min(ans, dp[len<span class="hljs-number">-1</span>][i]);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, ans+len);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="J-MUV-LUV-EXTRA"><a href="#J-MUV-LUV-EXTRA" class="headerlink" title="J - MUV LUV EXTRA"></a>J - MUV LUV EXTRA</h1><p>è¿™é¢˜æˆ‘è¯»å®Œé¢˜ä¹‹åæ„Ÿè§‰æ˜¯å­—ç¬¦ä¸²çš„é¢˜ï¼Œï¼Œä¸çŸ¥é“æ€ä¹ˆæï¼Œï¼Œæœ€åé˜Ÿå‹å¼„å‡ºæ¥çš„ï¼Œï¼Œ</p>
<p>æšä¸¾+kmp</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> LL long long</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br>LL a, b;<br><span class="hljs-keyword">const</span> LL inf=<span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> LL maxn=<span class="hljs-number">1e7</span>+<span class="hljs-number">7</span>;<br><span class="hljs-built_in">string</span> tem,s=<span class="hljs-string">&quot;&quot;</span>;<br>LL nex[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>&gt;&gt;a&gt;&gt;b;<br>    <span class="hljs-built_in">cin</span>&gt;&gt;tem;<br>    <span class="hljs-keyword">for</span>(LL i=tem.size()<span class="hljs-number">-1</span>;i&gt;=<span class="hljs-number">0</span>;i--)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(tem[i]!=<span class="hljs-string">&#x27;.&#x27;</span>) s+=tem[i];<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">break</span>;<br>    &#125;<br>    nex[<span class="hljs-number">0</span>]=<span class="hljs-number">-1</span>;<br>    <span class="hljs-keyword">for</span>(LL i=<span class="hljs-number">1</span>;i&lt;=s.size();i++)<br>    &#123;<br>        nex[i]=<span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">int</span> k=nex[i<span class="hljs-number">-1</span>];<br>        <span class="hljs-keyword">while</span>(k!=<span class="hljs-number">-1</span>)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(s[i<span class="hljs-number">-1</span>]==s[k]) &#123;nex[i]=k+<span class="hljs-number">1</span>;<span class="hljs-keyword">break</span>;&#125;<br>            <span class="hljs-keyword">else</span> k=nex[k];<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;s.size();i++) nex[i]=nex[i+<span class="hljs-number">1</span>];<br>    <span class="hljs-comment">//for(int i =0;i&lt;s.size();i++) cout&lt;&lt;nex[i]&lt;&lt;&#x27; &#x27;;</span><br>    LL ans=-inf;<br>    <span class="hljs-keyword">for</span>(LL i=<span class="hljs-number">0</span>;i&lt;s.size();i++)<br>    &#123;<br>        LL tem=a*(i+<span class="hljs-number">1</span>)-b*(i+<span class="hljs-number">1</span>-nex[i]);<br>        ans=ans&gt;tem?ans:tem;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(ans==-inf) <span class="hljs-built_in">cout</span>&lt;&lt;<span class="hljs-number">0</span>&lt;&lt;<span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">else</span> <span class="hljs-built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="E-Escape"><a href="#E-Escape" class="headerlink" title="E - Escape"></a>E - Escape</h1><p>æ™šä¸Šçœ‹çš„è¿™é¢˜ï¼Œï¼Œç½‘ç»œæµç®€å•é¢˜ï¼Œï¼Œä¸»è¦æ˜¯å»ºå›¾çš„æ–¹å¼ï¼Œï¼Œï¼Œ</p>
<p>é¢˜æ„å°±æ˜¯ä¸€ä¸ªçŸ©å½¢çš„è¿·å®«ï¼ˆæˆ–è€…åœ°å›¾ï¼‰ï¼Œï¼Œæœ‰äº›éšœç¢ï¼Œï¼Œè€Œå…¶ä»–çš„åœ°æ–¹å¯ä»¥æ”¾ç½®ä¸€ä¸ªè½¬å‘å™¨ï¼Œï¼Œè¿™ä¸ªè½¬å‘å™¨æœ‰4ä¸­ç±»å‹ï¼Œï¼Œç„¶ååœ°å›¾çš„ä¸Šæ–¹æœ‰aä¸ªæœºå™¨äººï¼Œï¼Œä¸‹æ–¹æœ‰bä¸ªå‡ºå£ï¼Œï¼Œé—®ä½ åœ¨éšæ„æ·»åŠ ä¸€äº›è½¬å‘å™¨åçš„åœ°å›¾ä¸­ï¼Œï¼Œæœºå™¨äººèƒ½å¦å…¨éƒ¨è¿›å…¥å‡ºå£ï¼Œï¼Œ</p>
<p><a href="https://blog.csdn.net/weixin_43826249/article/details/101616967">ä»¥ä¸‹å†…å®¹å‚è€ƒè‡ª</a></p>
<p>é¦–å…ˆï¼Œï¼Œä»»æ„ä¸¤ä¸ªæœºå™¨äººå¦‚æœåœ¨æŸä¸€æ®µçš„è·¯çº¿ä¸€è‡´ï¼Œï¼Œé‚£ä¹ˆä¸€å®šä¼šè¿›å…¥åŒä¸€ä¸ªå‡ºå£ï¼Œï¼Œè€Œä¸”å¦‚æœä¸¤ä¸ªæœºå™¨äººçš„è·¯çº¿ç›¸åä¸€å®šä¼šå»åˆ°å¯¹æ–¹çš„èµ·ç‚¹ï¼Œï¼Œ</p>
<p>äºæ˜¯ï¼Œï¼Œå¯ä»¥çœ‹å‡ºå¦‚æœä¸€ä¸ªæœºå™¨äººç»è¿‡ä¸€ä¸ªè½¬å‘å™¨ï¼Œï¼Œå…¶ä»–çš„æœºå™¨äººæ˜¯ä¸ä¼šç»è¿‡è¿™ä¸ªè½¬å‘å™¨çš„ï¼Œï¼Œ</p>
<p>å› ä¸ºä¸€å¼€å§‹çš„æœºå™¨äººéƒ½æ˜¯å…ˆä¸‹èµ°çš„ï¼Œï¼Œå¦‚æœä¸¤ä¸ªè¿›å…¥åŒä¸€ä¸ªè½¬å‘å™¨Aï¼Œï¼Œé‚£ä¹ˆå…¶ä¸­ä¸€ä¸ªä¸€å®šä¹‹å‰ç»è¿‡ä¸€ä¸ªè½¬å‘å™¨Bï¼Œï¼Œè€Œä¸”è¿™ä¸ªè½¬å‘å™¨Bä¼šåœ¨Açš„ä¸€ç«¯çš„é‚£ä¸ªæ–¹å‘ï¼Œï¼Œè¿™æ ·å­çš„è¯å‰é¢é‚£ä¸ªæœºå™¨äººåˆåˆ°ä¸äº†è½¬å‘å™¨Aäº†ï¼Œï¼Œï¼Œæ‰€ä»¥æ˜¯çŸ›ç›¾çš„ï¼Œï¼Œå› æ­¤ä¸€ä¸ªè½¬å‘å™¨ä¸Šåªä¼šç»è¿‡ä¸€ä¸ªæœºå™¨äººï¼Œï¼Œï¼Œä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªç‚¹åªèƒ½ç»è¿‡ä¸€æ¬¡ï¼Œï¼Œï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœå°†è¿™ä¸ªç‚¹çœ‹æˆä¸€ä¸ªè½¬å‘å™¨çš„è¯ï¼Œï¼Œä»–åªèƒ½ç»è¿‡ä¸€æ¬¡ï¼Œï¼Œå°±æ˜¯æµé‡æ˜¯1ï¼Œï¼Œ</p>
<p>å†è€ƒè™‘æŸä¸ªç‚¹ä¸æ˜¯è½¬å‘å™¨çš„æƒ…å†µ: æ˜¾ç„¶ä¸æ˜¯è½¬å‘å™¨çš„è¯ï¼Œï¼Œè¿™ä¸ªç‚¹å¯ä»¥ç»è¿‡ä¸¤æ¬¡ï¼š ä¸€æ¬¡æ¨ªçš„ä¸€æ¬¡ç«–çš„ï¼Œï¼Œï¼Œä¹Ÿå°±æ˜¯è¯´å°†è¿™ç‚¹çœ‹æˆä¸¤ä¸ªè¾¹ï¼š ç«–çš„ä¸€æ¡è¾¹å’Œæ¨ªç€ä¸€æ¡è¾¹ï¼Œï¼Œä»–ä»¬çš„æµé‡éƒ½æ˜¯1ï¼Œï¼Œï¼Œ</p>
<p>ä½†æ˜¯æœ‰äº†ç«–è¾¹å’Œæ¨ªè¾¹æ€ä¹ˆè¡¨ç¤ºè½¬å‘å‘¢ï¼Œï¼Œç›´æ¥å°†è¿èµ·æ¥ä¸å°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
<p>è¿™æ ·ï¼Œï¼Œå¦‚æœä¸€æ¡æµæ˜¯ç»è¿‡ç«–è¾¹è¡¨ç¤ºä»è¿™ä¸ªç‚¹ç»è¿‡ï¼Œï¼Œç„¶åæƒ³ç€ç«–ç›´æ–¹å‘èµ°ä¸‹å»ï¼Œï¼ŒåŒç†æ¨ªè¾¹ï¼Œï¼Œï¼Œè€Œå¦‚æœæ˜¯ç»è¿‡ç«–è¾¹-&gt;ä¸­é—´è¾¹-&gt;æ¨ªè¾¹ï¼Œï¼Œæˆ–è€…åè¿‡æ¥å°±è¡¨ç¤ºæ˜¯è¿™ä¸ªç‚¹æ˜¯ä¸€ä¸ªè½¬å‘å™¨ï¼Œï¼Œè€Œä¸”ï¼Œï¼Œï¼Œè¿™æ ·çš„ç½‘ç»œä¹Ÿä¼šä¿è¯æ¯ä¸ªç‚¹åªå¯èƒ½æ˜¯ä¸€ä¸ªè½¬å‘å™¨æˆ–è€…ä¸æ˜¯ï¼Œï¼Œ</p>
<p>æœ€åå°†æœºå™¨äººè¿å‘å¯¹åº”çš„æœ€ä¸Šé¢çš„ç‚¹ï¼Œï¼Œè¡¨ç¤ºæœºå™¨äººåªèƒ½ç«–ç›´å‘ä¸‹èµ°ï¼Œï¼ŒåŒç†å‡ºå£ï¼Œï¼ŒåŠ ä¸Šæºæ±‡ç‚¹è·‘æœ€å¤§æµï¼Œï¼Œå¦‚æœæµé‡ç­‰äºæœºå™¨äººæ•°å°±æ˜¯è¯´æœ‰ä¸€ç§æ–¹æ¡ˆä½¿å¾—æ¯ä¸€ä¸ªæœºå™¨äººè¿›å…¥å‡ºå£ï¼Œï¼Œï¼Œ</p>
<p>ç„¶åæˆ‘ç¬¬ä¸€æ¬¡å†™çš„å»ºå›¾æ–¹å¼ä¼šè®¿é—®åˆ°ç¬¬0è¡Œå’Œç¬¬n+1è¡Œï¼Œï¼Œåªæƒ³äº†ç¬¬0è¡Œä¸ä¼šäº§ç”Ÿå½±å“ï¼Œï¼Œå¿˜è®°äº†åé¢çš„é‚£è¡Œä¼šè¢«å¤šç»„æ•°æ®è¦†ç›–ï¼Œï¼Œwaåˆ°æ€€ç–‘æ¿å­æŠ„é”™-&gt;å»ºå›¾æœ‰é”…ï¼Œï¼Œï¼Œ</p>
<p><del>è¯è¯´isapä¸ºä»€ä¹ˆä¼šè·‘å‡º <code>998ms</code> ï¼Œï¼Œè¿™ä¸ªå¯æ€•ï¼Œï¼Œï¼Œé‚£ç°åœºèµ›ä¸æ˜¯ä¼šæœ‰ä¸€å †äººTç©¿ï¼Œï¼Œï¼Œhlpp å°±æ˜¯å‹å¥½çš„ <code>233ms</code> ,, å¥½å§ï¼Œï¼Œæ˜¯æ•°ç»„å¼€å¤§äº†ï¼Œï¼Œï¼Œï¼Œ</del></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e6</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt, cap, flow;<br>&#125;edge[maxm];<br><span class="hljs-keyword">int</span> tot, head[maxm];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> w, <span class="hljs-keyword">int</span> rw = <span class="hljs-number">0</span>)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// cout &lt;&lt; u &lt;&lt; &quot; &quot; &lt;&lt; v &lt;&lt; endl;</span><br>    edge[tot].to = v; edge[tot].cap = w; edge[tot].nxt = head[u];<br>    edge[tot].flow = <span class="hljs-number">0</span>; head[u] = tot++;<br>    edge[tot].to = u; edge[tot].cap = rw; edge[tot].nxt = head[v];<br>    edge[tot].flow = <span class="hljs-number">0</span>; head[v] = tot++;<br>&#125;<br><span class="hljs-keyword">int</span> gap[maxm], dep[maxm], pre[maxm], cur[maxm];<br><span class="hljs-keyword">int</span> que[maxm];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">bfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> t)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(dep, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> dep);<br>    <span class="hljs-built_in">memset</span>(gap, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> gap);<br>    gap[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">int</span> front = <span class="hljs-number">0</span>, rear = <span class="hljs-number">0</span>;<br>    dep[t] = <span class="hljs-number">0</span>;<br>    que[rear++] = t;<br>    <span class="hljs-keyword">while</span>(front != rear)<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = que[front++];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = edge[i].to;<br>            <span class="hljs-keyword">if</span>(dep[v] != <span class="hljs-number">-1</span>)<span class="hljs-keyword">continue</span>;<br>            que[rear++] = v;<br>            dep[v] = dep[u] + <span class="hljs-number">1</span>;<br>            ++gap[dep[v]];<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-keyword">int</span> sta[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">isap</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> t, <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    bfs(s, t);<br>    <span class="hljs-built_in">memcpy</span>(cur, head, <span class="hljs-keyword">sizeof</span> head);<br>    <span class="hljs-keyword">int</span> u = s;<br>    <span class="hljs-keyword">int</span> top = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> maxflow = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span>(dep[s] &lt; n)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(u == t)<br>        &#123;<br>            <span class="hljs-keyword">int</span> mi = inf;<br>            <span class="hljs-keyword">int</span> inser;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; top; ++i)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(mi &gt; edge[sta[i]].cap - edge[sta[i]].flow)<br>                &#123;<br>                    mi = edge[sta[i]].cap - edge[sta[i]].flow;<br>                    inser = i;<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; top; ++i)<br>            &#123;<br>                edge[sta[i]].flow += mi;<br>                edge[sta[i] ^ <span class="hljs-number">1</span>].flow -= mi;<br>            &#125;<br>            maxflow += mi;<br>            top = inser;<br>            u = edge[sta[top] ^ <span class="hljs-number">1</span>].to;<br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br>        <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">int</span> v;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = cur[u]; ~i; i = edge[i].nxt)<br>        &#123;<br>            v = edge[i].to;<br>            <span class="hljs-keyword">if</span>(edge[i].cap - edge[i].flow &amp;&amp; dep[v] + <span class="hljs-number">1</span> == dep[u])<br>            &#123;<br>                flag = <span class="hljs-literal">true</span>;<br>                cur[u] = i;<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(flag)<br>        &#123;<br>            sta[top++] = cur[u];<br>            u = v;<br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br>        <span class="hljs-keyword">int</span> mi = n;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(edge[i].cap - edge[i].flow &amp;&amp; dep[edge[i].to] &lt; mi)<br>            &#123;<br>                mi = dep[edge[i].to];<br>                cur[u] = i;<br>            &#125;<br>        &#125;<br>        --gap[dep[u]];<br>        <span class="hljs-keyword">if</span>(!gap[dep[u]])<span class="hljs-keyword">return</span> maxflow;<br>        dep[u] = mi + <span class="hljs-number">1</span>;<br>        ++gap[dep[u]];<br>        <span class="hljs-keyword">if</span>(u != s)u = edge[sta[--top] ^ <span class="hljs-number">1</span>].to;<br>    &#125;<br>    <span class="hljs-keyword">return</span> maxflow;<br>&#125;<br><span class="hljs-keyword">int</span> n, m, a, b;<br><span class="hljs-keyword">char</span> mp[<span class="hljs-number">105</span>][<span class="hljs-number">105</span>];<br><span class="hljs-keyword">int</span> bots[<span class="hljs-number">105</span>], exits[<span class="hljs-number">105</span>];<br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-title">getidx</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span></span>&#123;<span class="hljs-keyword">return</span> x * m + y;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br><br>    <span class="hljs-keyword">int</span> ca; <span class="hljs-built_in">cin</span> &gt;&gt; ca;<br>    <span class="hljs-keyword">while</span>(ca--)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m &gt;&gt; a &gt;&gt; b;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; mp[i] + <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= a; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; bots[i];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= b; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; exits[i];<br>        init();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)mp[n + <span class="hljs-number">1</span>][i] = <span class="hljs-string">&#x27;0&#x27;</span>;<br>        <span class="hljs-keyword">int</span> sum = (n + <span class="hljs-number">2</span>) * m;<br>        <span class="hljs-keyword">int</span> s = <span class="hljs-number">0</span>, t = sum * <span class="hljs-number">2</span> + <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= a; ++i)addedge(s, bots[i], <span class="hljs-number">1</span>);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; ++j)<br>                <span class="hljs-keyword">if</span>(mp[i][j] != <span class="hljs-string">&#x27;1&#x27;</span> &amp;&amp; mp[i + <span class="hljs-number">1</span>][j] != <span class="hljs-string">&#x27;1&#x27;</span>)<br>                    addedge(getidx(i, j), getidx(i + <span class="hljs-number">1</span>, j), <span class="hljs-number">1</span>),<br>                    addedge(getidx(i + <span class="hljs-number">1</span>, j), getidx(i, j), <span class="hljs-number">1</span>);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m - <span class="hljs-number">1</span>; ++j)<br>                <span class="hljs-keyword">if</span>(mp[i][j] != <span class="hljs-string">&#x27;1&#x27;</span> &amp;&amp; mp[i][j + <span class="hljs-number">1</span>] != <span class="hljs-string">&#x27;1&#x27;</span>)<br>                    addedge(getidx(i, j) + sum, getidx(i, j + <span class="hljs-number">1</span>) + sum, <span class="hljs-number">1</span>),<br>                    addedge(getidx(i, j + <span class="hljs-number">1</span>) + sum, getidx(i, j) + sum, <span class="hljs-number">1</span>);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; ++j)<br>                <span class="hljs-keyword">if</span>(mp[i][j] != <span class="hljs-string">&#x27;1&#x27;</span>)<br>                    addedge(getidx(i, j), getidx(i, j) + sum, <span class="hljs-number">1</span>),<br>                    addedge(getidx(i, j) + sum, getidx(i, j), <span class="hljs-number">1</span>);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= b; ++i)addedge(getidx(n + <span class="hljs-number">1</span>, exits[i]), t, <span class="hljs-number">1</span>);<br>        <span class="hljs-keyword">if</span>(isap(s, t, t + <span class="hljs-number">1</span>) == a)<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;Yes&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">else</span> <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;No&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br><br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>è¿™ä¸ªæ‹†ç‚¹çš„æ–¹å¼å¾ˆä¸é”™ï¼Œï¼Œï¼Œ</p>
<p>(end)</p>
]]></content>
      <categories>
        <category>Codeforces</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>åˆ·é¢˜</tag>
      </tags>
  </entry>
  <entry>
    <title>ACM-å›¾è®ºåˆ·é¢˜</title>
    <url>/2019/10/01/ACM-%E5%9B%BE%E8%AE%BA%E5%88%B7%E9%A2%98/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>è‡ªç§°æ˜¯ä¸€ä¸ªå›¾è®ºé€‰æ‰‹ï¼Œï¼Œ<del>ï¼ˆä½†æ˜¯åˆ°å¤´æ¥åªæ˜¯ä¸€ä¸ªæ¿å­ç‹</del>ï¼Œï¼Œï¼Œç¨å¾®å˜ä¸€å˜çš„å›¾è®ºé¢˜å°±ä¸æ€ä¹ˆä¼šè§£å†³äº†ï¼Œï¼Œï¼Œæ‰€ä»¥å†³å®šåˆ·ä¸€æ®µæ—¶é—´çš„å›¾è®ºé¢˜ï¼Œï¼Œ</p>
<span id="more"></span>
<p><a href="https://codeforces.com/problemset?order=BY_RATING_ASC&amp;tags=graphs%2C2600-">ProblemsList</a></p>
<h1 id="786B-Legacy-åŒºé—´å›¾æœ€çŸ­è·¯"><a href="#786B-Legacy-åŒºé—´å›¾æœ€çŸ­è·¯" class="headerlink" title="786B Legacy åŒºé—´å›¾æœ€çŸ­è·¯"></a>786B Legacy åŒºé—´å›¾æœ€çŸ­è·¯</h1><p>åŒºé—´å›¾æœ€çŸ­è·¯æ¿å­é¢˜ï¼Œï¼Œå…³äºä»€ä¹ˆæ˜¯åŒºé—´å›¾æœ€çŸ­è·¯ä¸Šä¸€ç¯‡åšå®¢æœ‰å†™ï¼Œï¼Œï¼Œ</p>
<h1 id="741C-Arpaâ€™s-overnight-party-and-Mehrdadâ€™s-silent-entering-æ„é€ -äºŒåˆ†å›¾æŸ“è‰²"><a href="#741C-Arpaâ€™s-overnight-party-and-Mehrdadâ€™s-silent-entering-æ„é€ -äºŒåˆ†å›¾æŸ“è‰²" class="headerlink" title="741C    Arpaâ€™s overnight party and Mehrdadâ€™s silent entering æ„é€ +äºŒåˆ†å›¾æŸ“è‰²"></a>741C    Arpaâ€™s overnight party and Mehrdadâ€™s silent entering æ„é€ +äºŒåˆ†å›¾æŸ“è‰²</h1><p>äºŒåˆ†å›¾æŸ“è‰²å§ï¼Œï¼ŒäºŒåˆ†å›¾ï¼Œï¼Œä¸€ä¸ªä¼¼æ‡‚éæ‡‚çš„çŸ¥è¯†ç‚¹ï¼Œï¼Œæ¯æ¬¡çœ‹åˆ°åƒäºŒåˆ†å›¾çš„é¢˜å°±æƒ³ç€é‚£å‡ ä¸ªç»å…¸çš„è§£æ³•ï¼Œï¼Œç„¶åå‘ç°ä¸æ˜¯å°±ä¹±æƒ³å…¶ä»–çš„æ¨¡å‹ï¼Œï¼Œï¼Œå°±æ˜¯ä¸ä¼šåˆ©ç”¨åˆ°äºŒåˆ†å›¾è¿™ä¸ªä¸œè¥¿çš„ä¸€äº›çŸ¥è¯†ç‚¹ï¼Œï¼Œç„¶åæœå°±å®Œäº‹äº†ï¼Œï¼Œï¼Œ</p>
<p>è¿™é¢˜çš„é¢˜æ„å°±æ˜¯2*nä¸ªç‚¹ï¼Œï¼Œç»™å‡ºnå¯¹å…³ç³»ï¼Œï¼Œç„¶åè¦ä¿è¯è¿™nå¯¹å…³ç³»çš„ç‚¹ä»¥åŠç›¸é‚»çš„ä¸‰ä¸ªç‚¹ä¸­è‡³å°‘ä¸¤ä¸ªæ˜¯ ä¸åŒçš„ï¼Œï¼Œï¼Œç±»ä¼¼æŸ“è‰²ï¼Œï¼ŒæŸ“æˆä¸¤ç§é¢œè‰²ï¼Œï¼Œï¼Œ</p>
<p>æ¯æ¬¡çœ‹åˆ°äºŒåˆ†å›¾çš„é¢˜æ€»æ˜¯å±€é™åˆ°å·¦å³ä¸¤è¾¹nä¸ªç‚¹ï¼Œï¼Œç„¶åæ±‚ä¸€äº›åŒ¹é…ç­‰ç­‰çš„ä¸œè¥¿ï¼Œï¼Œï¼Œæ€»æ˜¯å¿˜è®°æœ€åŸºæœ¬çš„é‚£äº›ï¼Œï¼Œ</p>
<p>è¿™é¢˜è¦ä¿è¯ä¸€äº›ç‚¹é—´æ˜¯ä¸åŒçš„ï¼Œï¼Œå¯ä»¥çœ‹æˆä¸æ–­çš„æŸ“è‰²ï¼Œï¼Œä¸€å±‚1ï¼Œä¸€å±‚2ï¼Œï¼Œè¿™æ ·å­ï¼Œï¼Œï¼Œ</p>
<p>å¯¹äºç¬¬äºŒä¸ªé™åˆ¶æ¡ä»¶ï¼Œï¼Œç›´æ¥ä¿è¯ç›¸é‚»çš„ä¸¤ä¸ªç‚¹ä¸åŒå°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
<p>ä¸€æ¡è¾¹çš„ä¸¤ç«¯ä¸åŒå°±æ˜¯è§£ï¼Œï¼Œ</p>
<p><img src="https://img-blog.csdn.net/20161214222817695?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcnpPX0tRUF9Pcno=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""></p>
<p>åŒæ—¶è¿™æ ·å­å»ºå›¾å¯ä»¥ä¿è¯å½¢æˆçš„ç¯æ˜¯ç®€å•ç¯ï¼Œï¼Œå› ä¸ºæ˜¾ç„¶æ¯ä¸€ä¸ªç‚¹åªæœ‰é¢˜ç›®ç»™å‡ºçš„ä¸€æ¡è¾¹ï¼Œï¼Œè¿˜æœ‰æˆ‘ä»¬è‡ªå·±å»ºçš„ä¸€æ¡è¾¹ï¼Œï¼Œæ‰€ä»¥åº¦æ•°éƒ½æ˜¯2ï¼Œï¼Œï¼Œå› æ­¤ä¸€å®šæ˜¯ä¸€ä¸ªäºŒåˆ†å›¾ï¼Œï¼Œï¼Œä¹Ÿå°±æ˜¯ä¸€å®šæœ‰è§£ï¼Œï¼Œ</p>
<p><strong>ä¸å­˜åœ¨å¥‡ç¯çš„å›¾ï¼ˆä¹Ÿå°±æ˜¯ç¯éƒ½æ˜¯å¶æ•°ï¼‰ä¸€å®šæ˜¯äºŒåˆ†å›¾</strong></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">4e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e7</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt;<br>&#125;edge[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, head[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].nxt = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-keyword">int</span> col[maxn];<br><span class="hljs-built_in">queue</span>&lt;<span class="hljs-keyword">int</span>&gt; q;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">bfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">while</span>(!q.empty())q.pop();<br>    col[s] = <span class="hljs-number">0</span>;<br>    q.push(s);<br>    <span class="hljs-keyword">while</span>(!q.empty())<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = q.front(); q.pop();<br>        <span class="hljs-keyword">if</span>(vis[u])<span class="hljs-keyword">continue</span>;<br>        vis[u] = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = edge[i].to;<br>            <span class="hljs-keyword">if</span>(vis[v])<span class="hljs-keyword">continue</span>;<br>            col[v] = col[u] ^ <span class="hljs-number">1</span>;<br>            q.push(v);<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; p[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br><br>    <span class="hljs-keyword">int</span> n; <span class="hljs-built_in">cin</span> &gt;&gt; n;<br>    <span class="hljs-keyword">int</span> u, v;<br>    init();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; u &gt;&gt; v;<br>        p[i].first = u; p[i].second = v;<br>        addedge(u, v);<br>        addedge(v, u);<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n - <span class="hljs-number">1</span>; ++i)<br>    &#123;<br>        addedge(i &lt;&lt; <span class="hljs-number">1</span>, i &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>);<br>        addedge(i &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>, i &lt;&lt; <span class="hljs-number">1</span>);<br>    &#125;<br>    addedge(n &lt;&lt; <span class="hljs-number">1</span>, <span class="hljs-number">1</span>);<br>    addedge(<span class="hljs-number">1</span>, n &lt;&lt; <span class="hljs-number">1</span>);<br>    <span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vis);<br>    <span class="hljs-built_in">memset</span>(col, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> col);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">2</span> * n; ++i)<span class="hljs-keyword">if</span>(!vis[i])bfs(i);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">cout</span> &lt;&lt; col[p[i].first] + <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; col[p[i].second] + <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br><br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="567E-President-and-Roads-æœ€çŸ­è·¯-DAGå¿…ç»è·¯"><a href="#567E-President-and-Roads-æœ€çŸ­è·¯-DAGå¿…ç»è·¯" class="headerlink" title="567E    President and Roads æœ€çŸ­è·¯+DAGå¿…ç»è·¯"></a>567E    President and Roads æœ€çŸ­è·¯+DAGå¿…ç»è·¯</h1><p><a href="https://codeforces.com/contest/567/problem/E">é¢˜ç›®</a></p>
<p>è¿™é¢˜ç”¨åˆ°çš„çŸ¥è¯†ç‚¹æ˜¯ <strong>æœ€çŸ­è·¯+DAGå¿…ç»è·¯</strong> ï¼Œï¼Œï¼Œ</p>
<p>å¿…ç»è·¯æ˜¯ä»€ä¹ˆå‘¢ï¼Œï¼Œé¦–å…ˆå•æºæœ€çŸ­è·¯ä¸­æœ‰äº›ç‚¹æ˜¯åˆ°ä¸äº†ç»ˆç‚¹çš„ï¼Œï¼Œæœ‰ä¸€äº›ç‚¹ï¼ˆè¾¹ï¼‰æ˜¯å¿…é¡»è¦èµ°çš„ï¼Œï¼Œè€Œå¦ä¸€äº›å°±æ˜¯å¤šæ¡æœ€çŸ­è·¯ä¸­ä¸åŒçš„åˆ†æ”¯ï¼Œï¼Œï¼Œè¿™äº›è¾¹æ˜¯å¯ä»¥ä»»æ„é€‰æ‹©ä¸€æ¡è·¯å¾„çš„ï¼Œï¼Œ</p>
<p>æ±‚æœ€çŸ­è·¯ä¸­å¿…ç»è¾¹æˆ‘æ‰¾åˆ°ä¸¤ç§æ–¹æ³•ï¼Œä¸€ç§æ˜¯åœ¨è·‘dijkstraæ—¶å¢åŠ ä¸€ä¸ªä¿¡æ¯ï¼šå½“å‰ç‚¹çš„æœ€çŸ­è·¯çš„æ•°é‡ï¼Œï¼Œå¦ä¸€ç§æ˜¯å°†å›¾è½¬ä¸ºæ— å‘å›¾æ‰¾æ¡¥ï¼Œï¼Œ</p>
<h2 id="æœ€çŸ­è·¯å¾„æ•°é‡è§£æ³•"><a href="#æœ€çŸ­è·¯å¾„æ•°é‡è§£æ³•" class="headerlink" title="æœ€çŸ­è·¯å¾„æ•°é‡è§£æ³•"></a>æœ€çŸ­è·¯å¾„æ•°é‡è§£æ³•</h2><p>æˆ‘ä»¬å‡è®¾æ­£ç€æ±‚ä¸€è¾¹æœ€çŸ­è·¯çš„disä¸º <code>dis[0][i]</code> ï¼Œï¼Œè€Œå®ƒçš„åå›¾çš„disæ˜¯ <code>dis[1][i]</code> ï¼Œï¼Œ åˆ©ç”¨è¿™ä¸¤ä¸ªä¿¡æ¯æˆ‘ä»¬å¯ä»¥ç®€å•çš„åˆ¤æ–­ä¸€æ¡è¾¹ <code>u-&gt;v</code> æ˜¯ä¸æ˜¯æŸä¸€ä¸ªæœ€çŸ­è·¯å¾„ä¸­çš„ä¸€æ¡è¾¹ï¼Œï¼Œåˆ¤æ–­æ–¹æ³•æ˜¯ï¼š <code>dis[0][u] + w + dis[1][v] == dis[0][t]</code> è¿™é‡Œçš„wå³ä¸ºè¾¹æƒï¼Œï¼Œæ»¡è¶³è¿™ä¸ªæ¡ä»¶å°±è¯´æ˜è¿™æ¡è¾¹æ˜¯æœ€çŸ­è·¯çš„ä¸€æ¡è·¯ï¼Œï¼Œä½†æ˜¯ï¼Œï¼Œè¿™å¹¶ä¸èƒ½ä¹Ÿè¯´æ˜ä»–æ˜¯æœ€çŸ­è·¯çš„ä¸€æ¡å¿…ç»è¾¹ï¼Œï¼Œï¼Œ</p>
<p>æ‰€ä»¥æˆ‘ä»¬éœ€è¦å¦ä¸€ä¸ªä¿¡æ¯ï¼š æœ€çŸ­è·¯å¾„æ•°é‡ï¼Œï¼Œç”¨ <code>num[0][u]</code> è¡¨ç¤ºæ­£å›¾ä¸­ä»æºç‚¹åˆ° <code>u</code> è¿™ä¸ªç‚¹çš„æœ€çŸ­è·¯çš„è·¯å¾„æ•°é‡ï¼Œï¼Œï¼ŒåŒç†å¯¹äºè¿”å›¾ç”¨ <code>num[1][v]</code> è¡¨ç¤º</p>
<p>æˆ‘ä»¬åœ¨è·‘æœ€çŸ­è·¯çš„æ—¶å€™å¦‚æœå½“å‰éå†çš„è¾¹ <code>u-&gt;v</code> æ˜¯å¯ä»¥ç¼©å°åˆ°è¿™ä¸ªç‚¹ <code>v</code> çš„æœ€çŸ­è·¯çš„å¤§å°çš„ï¼Œï¼Œé‚£ä¹ˆåˆ°è¿™ä¸ªç‚¹ <code>v</code> çš„æœ€çŸ­è·¯çš„æ•°é‡å°±ç­‰äºåˆ° <code>u</code> è¿™ä¸ªç‚¹çš„æœ€çŸ­è·¯çš„æ•°é‡ï¼Œï¼Œè€Œå¯¹äºé‚£äº›ä»ä¸åŒ <code>u</code> åˆ° <code>v</code> çš„è·¯å¾„ä¸”æœ€çŸ­è·¯å¤§å°ç›¸åŒçš„æƒ…å†µï¼Œï¼Œç´¯åŠ å³å¯ï¼Œï¼Œï¼Œ</p>
<p>å½“å¾—åˆ°è¿™äº›ä¿¡æ¯åï¼Œï¼Œå¯¹äºä»»æ„ä¸€æ¡è¾¹ <code>u-&gt;v</code> ï¼Œï¼Œå½“ä»–æ»¡è¶³ç¬¬ä¸€ä¸ªæ¡ä»¶æ—¶ï¼Œï¼Œå³ä»–æ˜¯ä¼—å¤šæœ€çŸ­è·¯æ–¹æ¡ˆä¸­çš„ä¸€æ¡è¾¹æ—¶ï¼Œï¼Œå¦‚æœæ»¡è¶³åˆ° <code>u</code> çš„è·¯å¾„æ•° ä¹˜ä¸Š åˆ° <code>v</code> çš„è·¯å¾„æ•° æ•²å¥½ç­‰äºä»åŸç‚¹åˆ°ç»ˆç‚¹çš„æœ€çŸ­è·¯çš„æ•°é‡æ—¶ï¼Œï¼Œï¼Œè¯´æ˜è¿™æ¡è¾¹ä¸€å®šæ˜¯å¿…ç»è·¯ï¼Œï¼Œ</p>
<p>æ³¨æ„ï¼š æœ€çŸ­è·¯çš„è·¯å¾„æ•°å¯èƒ½å¾ˆå¤šï¼Œï¼Œçˆ†llæƒ…å†µï¼Œï¼Œï¼Œæ‰€ä»¥å¯ä»¥å–ä¸ªæ¨¡ï¼Œï¼Œä½†æ˜¯åªå–ä¸€æ¬¡æ¨¡å¯èƒ½ <del>ï¼ˆä¸€å®šï¼‰</del> è¢«å¡æ‰ï¼Œï¼Œå¯ä»¥æ¢ä¸€ä¸ªä¸å¸¸è§çš„æ¨¡æ•°ï¼Œï¼Œæˆ–è€…ç›´æ¥åŒæ¨¡å³å¯ï¼Œï¼Œ</p>
<h2 id="åˆ¤æ¡¥"><a href="#åˆ¤æ¡¥" class="headerlink" title="åˆ¤æ¡¥"></a>åˆ¤æ¡¥</h2><p>ä»ä¸Šé¢çš„åˆ†æä¹Ÿå¯ä»¥çœ‹å‡ºï¼Œï¼Œæˆ‘ä»¬é€‰æ‹©å‡ºçš„å¿…ç»è·¯ä¸€å®šæ˜¯ <strong>æœ€çŸ­è·¯å¾„</strong> ä¸­çš„æ¡¥ï¼Œï¼Œï¼Œåˆ å»æŸä¸€åº§æ¡¥ï¼Œï¼ŒåŸç‚¹ä¸€å®šä¸å¯è¾¾ç»ˆç‚¹ï¼Œï¼Œï¼ˆæ³¨æ„æ˜¯æœ€çŸ­è·¯è·¯å¾„ä¸­çš„è¾¹ç»„æˆçš„æ–°çš„æ— å‘å›¾ä¸­çš„æ¡¥ï¼Œï¼Œç”¨ä¸Šé¢çš„ç¬¬ä¸€ä¸ªæ¡ä»¶åˆ¤æ–­å³å¯ï¼Œï¼Œ</p>
<p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨è·‘å®Œæ­£åå›¾çš„æœ€çŸ­è·¯ä¹‹åï¼Œï¼ŒæŒ‘å‡ºæœ€çŸ­è·¯çš„è¾¹ç»„æˆä¸€ä¸ªæ–°å›¾ï¼ˆæœ€çŸ­è·¯DAGï¼‰ï¼Œï¼Œè·‘ä¸€è¾¹ tarjan æ¥æ±‚å‡ºæ‰€æœ‰çš„æ¡¥å³å¯ï¼Œï¼Œ</p>
<h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><p>è¿™é“é¢˜çš„é¢˜æ„å°±æ˜¯ä¸€ä¸ªæœ‰å‘å›¾ï¼Œï¼Œé¦–å…ˆåˆ¤æ–­ä¸€æ¡è¾¹æ˜¯ä¸æ˜¯æœ€çŸ­è·¯ä¸Šçš„è¾¹ï¼Œï¼Œç„¶åå¯¹äºä¸€å®šè¦èµ°çš„è¾¹è¾“å‡ºYESï¼Œï¼Œè€Œä¸ä¸€å®šéå¾—èµ°çš„è¾“å‡ºä¸€ä¸ªå‡å°‘çš„å€¼ï¼Œï¼Œä½¿å¾—è¿™æ¡è¾¹çš„è¾¹æƒå‡å°åçš„æœ€çŸ­è·¯ç»è¿‡è¿™æ¡è¾¹ï¼Œï¼Œï¼Œ</p>
<h3 id="æœ€çŸ­è·¯è·¯å¾„æ•°è§£æ³•"><a href="#æœ€çŸ­è·¯è·¯å¾„æ•°è§£æ³•" class="headerlink" title="æœ€çŸ­è·¯è·¯å¾„æ•°è§£æ³•"></a>æœ€çŸ­è·¯è·¯å¾„æ•°è§£æ³•</h3><p>æ¨¡æ•°æ˜¯ <code>1e9+7</code> ä¼šå†²çªï¼Œï¼Œï¼Œæ¢ä¸€ä¸ªæˆ–è€…åŒæ¨¡æ•°ï¼Œï¼Œ</p>
<h4 id="å•æ¨¡"><a href="#å•æ¨¡" class="headerlink" title="å•æ¨¡"></a>å•æ¨¡</h4><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e7</span> + <span class="hljs-number">233</span>;<br><span class="hljs-comment">// const int mod = 1e9 + 7;</span><br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">258280327</span>;<br> <br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt; ll w;<br>&#125;edge[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, head[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, ll w)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].w = w;<br>    edge[tot].nxt = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">e</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> u, v; ll w;<br>&#125;e[maxn];<br> <br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> v;<br>    ll w;<br>    node()&#123;&#125;;<br>    node(<span class="hljs-keyword">int</span> _v, ll _w):v(_v), w(_w)&#123;&#125;<br>    <span class="hljs-keyword">const</span> <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>&lt;(<span class="hljs-keyword">const</span> node &amp;r)<span class="hljs-keyword">const</span>&#123;<br>        <span class="hljs-keyword">return</span> w &gt; r.w;<br>    &#125;<br>&#125;tmp;<br>ll dis[<span class="hljs-number">2</span>][maxn];<br><span class="hljs-keyword">bool</span> vis[<span class="hljs-number">2</span>][maxn];<br>ll num[<span class="hljs-number">2</span>][maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dijkstra</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> n, <span class="hljs-keyword">int</span> m, <span class="hljs-keyword">bool</span> flag)</span></span><br><span class="hljs-function"></span>&#123;<br>    init();<br>    <span class="hljs-keyword">int</span> u, v; ll w;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>    &#123;<br>        u = e[i].u; v = e[i].v; w = e[i].w;<br>        <span class="hljs-keyword">if</span>(flag)swap(u, v);<br>        addedge(u, v, w);<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)dis[flag][i] = linf;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)vis[flag][i] = <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)num[flag][i] = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">priority_queue</span>&lt;node&gt; p;<br>    <span class="hljs-keyword">while</span>(!p.empty())p.pop();<br>    dis[flag][s] = <span class="hljs-number">0</span>;<br>    num[flag][s] = <span class="hljs-number">1</span>;<br>    p.push(node(s, <span class="hljs-number">0</span>));<br>    <span class="hljs-keyword">while</span>(!p.empty())<br>    &#123;<br>        tmp = p.top(); p.pop();<br>        <span class="hljs-keyword">if</span>(vis[flag][tmp.v])<span class="hljs-keyword">continue</span>;<br>        vis[flag][tmp.v] = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[tmp.v]; ~i; i = edge[i].nxt)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(vis[flag][edge[i].to])<span class="hljs-keyword">continue</span>;<br>            <span class="hljs-keyword">if</span>(dis[flag][edge[i].to] &gt; dis[flag][tmp.v] + edge[i].w)<br>            &#123;<br>                dis[flag][edge[i].to] = dis[flag][tmp.v] + edge[i].w;<br>                num[flag][edge[i].to] = num[flag][tmp.v];<br>                p.push(node(edge[i].to, dis[flag][edge[i].to]));<br>            &#125;<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(dis[flag][edge[i].to] == dis[flag][tmp.v] + edge[i].w)<br>            &#123;<br>                num[flag][edge[i].to] = (num[flag][edge[i].to] + num[flag][tmp.v]) % mod;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br> <br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br> <br>    <span class="hljs-keyword">int</span> n, m, s, t;<br>    <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m &gt;&gt; s &gt;&gt; t;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; e[i].u &gt;&gt; e[i].v &gt;&gt; e[i].w;<br>    dijkstra(t, n, m, <span class="hljs-literal">true</span>);<br>    dijkstra(s, n, m, <span class="hljs-literal">false</span>);<br>    ll mi = dis[<span class="hljs-number">0</span>][t];<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(dis[<span class="hljs-number">0</span>][e[i].u] + e[i].w + dis[<span class="hljs-number">1</span>][e[i].v] == dis[<span class="hljs-number">0</span>][t] &amp;&amp; (num[<span class="hljs-number">0</span>][e[i].u] * num[<span class="hljs-number">1</span>][e[i].v]) % mod == num[<span class="hljs-number">0</span>][t])<br>            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;YES&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(dis[<span class="hljs-number">0</span>][t] - dis[<span class="hljs-number">0</span>][e[i].u] - dis[<span class="hljs-number">1</span>][e[i].v] - <span class="hljs-number">1</span> &gt; <span class="hljs-number">0</span>)<br>            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;CAN &quot;</span> &lt;&lt; e[i].w - (dis[<span class="hljs-number">0</span>][t] - dis[<span class="hljs-number">0</span>][e[i].u] - dis[<span class="hljs-number">1</span>][e[i].v] - <span class="hljs-number">1</span>) &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">else</span><br>            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;NO&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br> <br> <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="åŒæ¨¡"><a href="#åŒæ¨¡" class="headerlink" title="åŒæ¨¡"></a>åŒæ¨¡</h3><p>åŒæ¨¡æ¯”å•æ¨¡éƒ½å¿«ï¼Œï¼Œä»€ä¹ˆæƒ…å†µï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e7</span> + <span class="hljs-number">233</span>;<br><span class="hljs-comment">// const int mod = 1e9 + 7;</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod1 = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod2 = <span class="hljs-number">1e9</span> + <span class="hljs-number">9</span>;<br> <br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt; ll w;<br>&#125;edge[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, head[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, ll w)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].w = w;<br>    edge[tot].nxt = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">e</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> u, v; ll w;<br>&#125;e[maxn];<br> <br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> v;<br>    ll w;<br>    node()&#123;&#125;;<br>    node(<span class="hljs-keyword">int</span> _v, ll _w):v(_v), w(_w)&#123;&#125;<br>    <span class="hljs-keyword">const</span> <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>&lt;(<span class="hljs-keyword">const</span> node &amp;r)<span class="hljs-keyword">const</span>&#123;<br>        <span class="hljs-keyword">return</span> w &gt; r.w;<br>    &#125;<br>&#125;tmp;<br>ll dis[<span class="hljs-number">2</span>][maxn];<br><span class="hljs-keyword">bool</span> vis[<span class="hljs-number">2</span>][maxn];<br>ll num1[<span class="hljs-number">2</span>][maxn];<br>ll num2[<span class="hljs-number">2</span>][maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dijkstra</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> n, <span class="hljs-keyword">int</span> m, <span class="hljs-keyword">bool</span> flag)</span></span><br><span class="hljs-function"></span>&#123;<br>    init();<br>    <span class="hljs-keyword">int</span> u, v; ll w;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>    &#123;<br>        u = e[i].u; v = e[i].v; w = e[i].w;<br>        <span class="hljs-keyword">if</span>(flag)swap(u, v);<br>        addedge(u, v, w);<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)dis[flag][i] = linf;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)vis[flag][i] = <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)num1[flag][i] = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)num2[flag][i] = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">priority_queue</span>&lt;node&gt; p;<br>    <span class="hljs-keyword">while</span>(!p.empty())p.pop();<br>    dis[flag][s] = <span class="hljs-number">0</span>;<br>    num1[flag][s] = num2[flag][s] = <span class="hljs-number">1</span>;<br>    p.push(node(s, <span class="hljs-number">0</span>));<br>    <span class="hljs-keyword">while</span>(!p.empty())<br>    &#123;<br>        tmp = p.top(); p.pop();<br>        <span class="hljs-keyword">if</span>(vis[flag][tmp.v])<span class="hljs-keyword">continue</span>;<br>        vis[flag][tmp.v] = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[tmp.v]; ~i; i = edge[i].nxt)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(vis[flag][edge[i].to])<span class="hljs-keyword">continue</span>;<br>            <span class="hljs-keyword">if</span>(dis[flag][edge[i].to] &gt; dis[flag][tmp.v] + edge[i].w)<br>            &#123;<br>                dis[flag][edge[i].to] = dis[flag][tmp.v] + edge[i].w;<br>                num1[flag][edge[i].to] = num1[flag][tmp.v];<br>                num2[flag][edge[i].to] = num2[flag][tmp.v];<br>                p.push(node(edge[i].to, dis[flag][edge[i].to]));<br>            &#125;<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(dis[flag][edge[i].to] == dis[flag][tmp.v] + edge[i].w)<br>            &#123;<br>                num1[flag][edge[i].to] = (num1[flag][edge[i].to] + num1[flag][tmp.v]) % mod1;<br>                num2[flag][edge[i].to] = (num2[flag][edge[i].to] + num2[flag][tmp.v]) % mod2;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br> <br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br> <br>    <span class="hljs-keyword">int</span> n, m, s, t;<br>    <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m &gt;&gt; s &gt;&gt; t;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; e[i].u &gt;&gt; e[i].v &gt;&gt; e[i].w;<br>    dijkstra(t, n, m, <span class="hljs-literal">true</span>);<br>    dijkstra(s, n, m, <span class="hljs-literal">false</span>);<br>    ll mi = dis[<span class="hljs-number">0</span>][t];<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(dis[<span class="hljs-number">0</span>][e[i].u] + e[i].w + dis[<span class="hljs-number">1</span>][e[i].v] == dis[<span class="hljs-number">0</span>][t] &amp;&amp;<br>         (num1[<span class="hljs-number">0</span>][e[i].u] * num1[<span class="hljs-number">1</span>][e[i].v]) % mod1 == num1[<span class="hljs-number">0</span>][t] &amp;&amp;<br>         (num2[<span class="hljs-number">0</span>][e[i].u] * num2[<span class="hljs-number">1</span>][e[i].v]) % mod2 == num2[<span class="hljs-number">0</span>][t])<br>            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;YES&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(dis[<span class="hljs-number">0</span>][t] - dis[<span class="hljs-number">0</span>][e[i].u] - dis[<span class="hljs-number">1</span>][e[i].v] - <span class="hljs-number">1</span> &gt; <span class="hljs-number">0</span>)<br>            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;CAN &quot;</span> &lt;&lt; e[i].w - (dis[<span class="hljs-number">0</span>][t] - dis[<span class="hljs-number">0</span>][e[i].u] - dis[<span class="hljs-number">1</span>][e[i].v] - <span class="hljs-number">1</span>) &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">else</span><br>            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;NO&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br> <br> <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="æ±‚æ¡¥"><a href="#æ±‚æ¡¥" class="headerlink" title="æ±‚æ¡¥"></a>æ±‚æ¡¥</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e7</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt; ll w;<br>&#125;edge[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, head[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, ll w)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].w = w;<br>    edge[tot].nxt = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">e</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> u, v; ll w;<br>&#125;e[maxn];<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> v;<br>    ll w;<br>    node()&#123;&#125;;<br>    node(<span class="hljs-keyword">int</span> _v, ll _w):v(_v), w(_w)&#123;&#125;<br>    <span class="hljs-keyword">const</span> <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>&lt;(<span class="hljs-keyword">const</span> node &amp;r)<span class="hljs-keyword">const</span>&#123;<br>        <span class="hljs-keyword">return</span> w &gt; r.w;<br>    &#125;<br>&#125;tmp;<br>ll dis[<span class="hljs-number">2</span>][maxn];<br><span class="hljs-keyword">bool</span> vis[<span class="hljs-number">2</span>][maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dijkstra</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> n, <span class="hljs-keyword">int</span> m, <span class="hljs-keyword">bool</span> flag)</span></span><br><span class="hljs-function"></span>&#123;<br>    init();<br>    <span class="hljs-keyword">int</span> u, v; ll w;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>    &#123;<br>        u = e[i].u; v = e[i].v; w = e[i].w;<br>        <span class="hljs-keyword">if</span>(flag)swap(u, v);<br>        addedge(u, v, w);<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)dis[flag][i] = linf;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)vis[flag][i] = <span class="hljs-literal">false</span>;<br>    <span class="hljs-built_in">priority_queue</span>&lt;node&gt; p;<br>    <span class="hljs-keyword">while</span>(!p.empty())p.pop();<br>    dis[flag][s] = <span class="hljs-number">0</span>;<br>    p.push(node(s, <span class="hljs-number">0</span>));<br>    <span class="hljs-keyword">while</span>(!p.empty())<br>    &#123;<br>        tmp = p.top(); p.pop();<br>        <span class="hljs-keyword">if</span>(vis[flag][tmp.v])<span class="hljs-keyword">continue</span>;<br>        vis[flag][tmp.v] = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[tmp.v]; ~i; i = edge[i].nxt)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(vis[flag][edge[i].to])<span class="hljs-keyword">continue</span>;<br>            <span class="hljs-keyword">if</span>(dis[flag][edge[i].to] &gt; dis[flag][tmp.v] + edge[i].w)<br>            &#123;<br>                dis[flag][edge[i].to] = dis[flag][tmp.v] + edge[i].w;<br>                p.push(node(edge[i].to, dis[flag][edge[i].to]));<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// get bridges</span><br><span class="hljs-built_in">map</span>&lt;ll, <span class="hljs-keyword">bool</span>&gt; bridges;<br><br><span class="hljs-comment">// æ— å‘å›¾æ±‚æ¡¥</span><br><span class="hljs-keyword">bool</span> vist[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> low[maxn], dfn[maxn], idx;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">tarjan</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span><br><span class="hljs-function"></span>&#123;<br>    low[u] = dfn[u] = ++idx;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>    &#123;<br>        <span class="hljs-keyword">int</span> v = edge[i].to;<br>        <span class="hljs-keyword">if</span>(vist[i])<span class="hljs-keyword">continue</span>;        <span class="hljs-comment">// èµ°è¿‡çš„è¾¹ä¸å†èµ°</span><br>        vist[i] = vist[i ^ <span class="hljs-number">1</span>] = <span class="hljs-literal">true</span>;   <span class="hljs-comment">// æ ‡è®°è¾¹å·²èµ°è¿‡</span><br>        <span class="hljs-keyword">if</span>(!dfn[v])<br>        &#123;<br>            tarjan(v);<br>            low[u] = min(low[u], low[v]);<br>            <span class="hljs-keyword">if</span>(dfn[u] &lt; low[v])bridges[u * maxn + v] = <span class="hljs-literal">true</span>;    <span class="hljs-comment">// æ¡¥</span><br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(low[u] &gt; dfn[v])<br>            low[u] = dfn[v];<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br><br>    <span class="hljs-keyword">int</span> n, m, s, t;<br>    <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m &gt;&gt; s &gt;&gt; t;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; e[i].u &gt;&gt; e[i].v &gt;&gt; e[i].w;<br>    dijkstra(t, n, m, <span class="hljs-literal">true</span>);<br>    dijkstra(s, n, m, <span class="hljs-literal">false</span>);<br>    <span class="hljs-comment">// for(int i = 1; i &lt;= m; ++i)addedge(e[i].v, e[i].u, e[i].w);</span><br>    init();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>        <span class="hljs-keyword">if</span>(dis[<span class="hljs-number">0</span>][e[i].u] + e[i].w + dis[<span class="hljs-number">1</span>][e[i].v] == dis[<span class="hljs-number">0</span>][t])<br>            addedge(e[i].u, e[i].v, i), addedge(e[i].v, e[i].u, i);<br>    <span class="hljs-built_in">memset</span>(low, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> low);<br>    <span class="hljs-built_in">memset</span>(dfn, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> dfn);<br>    <span class="hljs-built_in">memset</span>(vist, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vist);<br>    idx = <span class="hljs-number">0</span>; bridges.clear();<br>    tarjan(s);<br>    ll mi = dis[<span class="hljs-number">0</span>][t];<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(dis[<span class="hljs-number">0</span>][e[i].u] + e[i].w + dis[<span class="hljs-number">1</span>][e[i].v] == dis[<span class="hljs-number">0</span>][t] &amp;&amp; bridges[e[i].u * maxn + e[i].v])<br>            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;YES&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(dis[<span class="hljs-number">0</span>][t] - dis[<span class="hljs-number">0</span>][e[i].u] - dis[<span class="hljs-number">1</span>][e[i].v] - <span class="hljs-number">1</span> &gt; <span class="hljs-number">0</span>)<br>            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;CAN &quot;</span> &lt;&lt; e[i].w - (dis[<span class="hljs-number">0</span>][t] - dis[<span class="hljs-number">0</span>][e[i].u] - dis[<span class="hljs-number">1</span>][e[i].v] - <span class="hljs-number">1</span>) &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">else</span><br>            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;NO&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br><br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p><a href="https://codeforces.com/gym/101986/attachments">è¿™é“é¢˜ä¹Ÿæ˜¯è¿™ä¸ªç±»å‹çš„</a></p>
<p><a href="https://blog.csdn.net/u010372095/article/details/47346035">tarjanæ±‚æ¡¥çš„å†™æ³•éƒ¨åˆ†å‚è€ƒè¿™ä¸ª</a> kuangbinçš„æ±‚å¾—ä¸œè¥¿å¤šï¼Œï¼Œå¯¹äºè¿™é“é¢˜æœ‰ç‚¹ç¹çï¼Œï¼Œ</p>
<p><a href="https://blog.csdn.net/qq_41848675/article/details/100583051">åœ¨ç†è§£æœ€çŸ­è·¯å¾„æ•°æ—¶å‚è€ƒäº†è¿™ä¸ª</a></p>
<h1 id="527E-Data-Center-Drama-æ¬§æ‹‰å›è·¯-å¼§ä¼˜åŒ–"><a href="#527E-Data-Center-Drama-æ¬§æ‹‰å›è·¯-å¼§ä¼˜åŒ–" class="headerlink" title="527E Data Center Drama æ¬§æ‹‰å›è·¯+å¼§ä¼˜åŒ–"></a>527E Data Center Drama æ¬§æ‹‰å›è·¯+å¼§ä¼˜åŒ–</h1><p><del>ï¼ˆå“‡ï¼Œï¼Œè¢«è¿™é¢˜æå¾—å¤±å»ç†æ™ºå¥½ä¹…ï¼Œï¼Œï¼ˆä¸»è¦æ˜¯é‚£ä¸ªå¼§ä¼˜åŒ–</del></p>
<p>é¢˜æ„å°±æ˜¯é¢„å…ˆç»™ä½ ä¸€ä¸ªæ— å‘å›¾ï¼Œï¼Œå¢åŠ æœ€å°‘çš„è¾¹ï¼Œï¼Œç„¶åå¯¹æ¯ä¸€æ¡è¾¹æŒ‡å®šä¸€ä¸ªæ–¹å‘ <del>ï¼ˆå°±æ˜¯å˜æˆæœ‰å‘è¾¹ï¼‰</del> ä½¿å¾—æ¯ä¸€ä¸ªç‚¹çš„å‡ºåº¦å’Œå…¥åº¦éƒ½æ˜¯å¶æ•°ï¼Œï¼Œ</p>
<p>å¦‚æœä¸€ä¸ªå›¾æ˜¯æ¬§æ‹‰å›è·¯çš„è¯ï¼Œï¼Œæˆ‘ä»¬åªè¦ä¸€å¥‡ä¸€å¶çš„ç¡®å®šæ–¹å‘å°±è¡Œäº†ï¼Œï¼Œè€Œå¦‚ä½•åŠ è¾¹å°±æ˜¯ä¸¤ä¸¤çš„å°†å¥‡åº¦çš„ç‚¹è¿èµ·æ¥ï¼Œï¼Œå¯¹äºæœ€åå¦‚æœå‰©ä¸‹ä¸€ä¸ªå¥‡åº¦ç‚¹çš„è¯å°±åŠ ä¸€ä¸ªè‡ªç¯ï¼Œï¼Œï¼ˆä¹Ÿå°±æ˜¯è¾¹æ•°ä¸ºå¥‡æ•°çš„æƒ…å†µï¼Œï¼Œ</p>
<p>æœ€åè·‘ä¸€è¾¹dfsï¼Œï¼Œæ‰¾å‡ºæ‰€æœ‰çš„å›è·¯å³å¯ï¼Œï¼Œ</p>
<p>ä½†æ˜¯è¿™é¢˜è¾¹æ•°å¾ˆå¤šï¼Œï¼Œç›´æ¥dfsçš„è¯ä¼šæœ‰å¤šæ¬¡å›æº¯è®¿é—®é‡å¤è¾¹ï¼Œï¼Œæ‰€ä»¥è¦åˆ è¾¹ï¼Œï¼Œä¹Ÿå°±æ˜¯æ²¡èµ°è¿‡ä¸€æ¡è¾¹å°±ä½¿åé¢ä¸ä¼šå†è®¿é—®ï¼š <code>for(int &amp;i = head[u]; ~i; i = edge[i].nxt)</code> ï¼Œï¼Œä½†æ˜¯è¿™æ ·ä¼šæœ‰ä¸€é—®é¢˜ï¼Œï¼Œå¦‚æœæŸä¸ªç‚¹ <code>u</code> ç»è¿‡å¥½å¤šæ¬¡åä¸èƒ½å†èµ°ï¼Œï¼Œè¿™ä¸ªç‚¹çš„æ‰€æœ‰è¾¹çš„ <code>edge[i].nxt</code> éƒ½ä¸º-1äº†ä¹Ÿå°±æ˜¯è¯´ <code>head[u] == -1</code> äº†ï¼Œï¼Œä¹Ÿå°±æ˜¯è¯´æ­¤æ—¶çš„ <code>i</code> çš„å€¼åœ¨dfså®Œåè¢«ä¿®æ”¹æˆäº† <code>-1</code> ï¼Œï¼Œè¿™ä¸ªæ—¶å€™è¿›è¡Œ <code>i</code> å€¼çš„æ›´æ–°å°±æˆäº† <code>i=edge[i == -1].nxt</code> ï¼Œï¼Œå¦‚æœedgeæ•°ç»„å’Œç¼–è¯‘å™¨å‹å¥½çš„è¯è¿™æ—¶ä¹Ÿä¸ä¼šæŠ¥é”™ï¼Œï¼Œä¹Ÿèƒ½æ­£å¸¸çš„å–ä¸Šç•Œæº¢å‡ºçš„å€¼ï¼Œï¼Œå¯èƒ½æ˜¯0ï¼Œï¼Œç„¶å <code>i==0</code> å°±ä»è¿™ç‚¹è®¿é—®ç¬¬ä¸€æ¡è¾¹å»äº†ï¼Œï¼Œï¼Œä½†å®é™…ä¸Šè¿™ä¸ªç‚¹æ˜¯ä¸èƒ½å†èµ°çš„ï¼ˆå› ä¸ºå‰é¢çš„dfså·²ç»ä¿è¯éƒ½èµ°å®Œäº†ä¸èƒ½å†èµ°äº†ï¼Œï¼Œï¼‰ï¼Œï¼Œåº”è¯¥æ˜¯å›é€€åˆ°ä¸Šä¸€å±‚dfsçš„ï¼Œï¼Œè¿™æ ·å­å°±æˆäº† è·³åˆ°ç¬¬ä¸€æ¡è¾¹dfsï¼Œï¼Œï¼Œè¿™æ ·å­å¦‚æœåœ¨dfsä¸­è®°å½•è®¿é—®çš„è¾¹çš„è¯å°±ä¼šå‡ºé”™ï¼Œï¼Œï¼Œ<code>u-&gt;v</code> ä¸­çš„ <code>v</code> è¢«æ”¹å˜äº†ï¼Œï¼Œ</p>
<p>æˆ‘çš„è§£å†³çš„æ–¹æ³•æ˜¯æ¯ä¸€æ¬¡ä»ä¸Šä¸€å±‚çš„dfsè·³å‡ºçš„æ—¶å€™åˆ¤æ–­ä¸€ä¸‹iæ˜¯å¦ä¸º-1ï¼Œï¼Œï¼Œæ˜¯çš„è¯è¡¨ç¤ºè¿™ä¸ªç‚¹æ˜¯æ— è¾¹å¯èµ°çš„è·³å‡ºå³å¯ï¼Œï¼Œï¼Œ</p>
<p>çœ‹åˆ°å¾ˆå¤šäººæ²¡æœ‰ç®¡è¿™ä¸ªé—®é¢˜ï¼Œï¼Œéƒ½æ˜¯è®°å½•çš„å›è·¯çš„ç¼–å·ï¼Œï¼Œè¿™æ ·è™½ç„¶å¯ä»¥ä¿è¯ä¸ç®¡dfsä¸­çš„å˜åŒ–è€Œç»“æœæ˜¯å¯¹çš„ï¼Œï¼Œä½†æ˜¯æ€»æ„Ÿè§‰å‘ç°é—®é¢˜ä¸è§£å†³ä»¥åä¼šå‡ºå¤§äº‹ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e7</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt;<br>    <span class="hljs-keyword">bool</span> flag;<br>&#125;edge[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, head[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].flag = <span class="hljs-literal">false</span>;<br>    edge[tot].nxt = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; &gt; ans;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> &amp;i = head[u]; ~i; i = edge[i].nxt)<br>    &#123;<br>        <span class="hljs-keyword">int</span> v = edge[i].to;<br>        <span class="hljs-keyword">if</span>(edge[i].flag)<span class="hljs-keyword">continue</span>;<br>        edge[i].flag = edge[i ^ <span class="hljs-number">1</span>].flag = <span class="hljs-literal">true</span>;<br>        dfs(v);<br>        ans.push_back(<span class="hljs-built_in">make_pair</span>(u, v));<br>        <span class="hljs-keyword">if</span>(!~i)<span class="hljs-keyword">break</span>;<br>    &#125;<br>&#125;<br><span class="hljs-keyword">int</span> du[maxn];<br><br><span class="hljs-built_in">priority_queue</span>&lt;<span class="hljs-keyword">int</span>&gt; p;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br><br>    <span class="hljs-keyword">int</span> n, m; <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m;<br>    init();<br>    <span class="hljs-built_in">memset</span>(du, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> du);<br>    <span class="hljs-keyword">int</span> u, v;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; u &gt;&gt; v;<br>        ++du[u]; ++du[v];<br>        addedge(u, v);<br>        addedge(v, u);<br>    &#125;<br>    <span class="hljs-keyword">while</span>(!p.empty())p.pop();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-keyword">if</span>(du[i] &amp; <span class="hljs-number">1</span>)p.push(i);<br>    <span class="hljs-keyword">while</span>(!p.empty())<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = p.top(); p.pop();<br>        <span class="hljs-keyword">if</span>(p.empty())<span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">int</span> v = p.top(); p.pop();<br>        addedge(u, v); addedge(v, u);<br>    &#125;<br>    <span class="hljs-keyword">if</span>(tot &gt;&gt; <span class="hljs-number">1</span> &amp; <span class="hljs-number">1</span>)addedge(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>), addedge(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>);<br>    ans.clear();<br>    dfs(<span class="hljs-number">1</span>);<br>    <span class="hljs-built_in">cout</span> &lt;&lt; ans.size() &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; ans.size(); ++i)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(i &amp; <span class="hljs-number">1</span>)<span class="hljs-built_in">cout</span> &lt;&lt; ans[i].second &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; ans[i].first &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">else</span> <span class="hljs-built_in">cout</span> &lt;&lt; ans[i].first &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; ans[i].second &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br>    <br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="1147D-Palindrome-XOR-é™åˆ¶å…³ç³»å»ºå›¾æ‰¾æ–¹æ¡ˆæ•°"><a href="#1147D-Palindrome-XOR-é™åˆ¶å…³ç³»å»ºå›¾æ‰¾æ–¹æ¡ˆæ•°" class="headerlink" title="1147D Palindrome XOR é™åˆ¶å…³ç³»å»ºå›¾æ‰¾æ–¹æ¡ˆæ•°"></a>1147D Palindrome XOR é™åˆ¶å…³ç³»å»ºå›¾æ‰¾æ–¹æ¡ˆæ•°</h1><p>è¿™é¢˜æœ‰ç‚¹å·®åˆ†çº¦æŸå’Œ2satçš„æ„Ÿè§‰ï¼Œï¼Œä½†æ˜¯åˆä¸åƒé‚£ä¸¤ä¸ªæ¨¡å‹çš„è§£å†³æ–¹æ³•ï¼Œï¼Œ</p>
<p>é¦–å…ˆbäºŒè¿›åˆ¶è¡¨ç¤ºä¸€å®šæ˜¯å’Œsä¸€æ ·é•¿çš„ï¼Œé•¿åº¦ä¸ºnï¼Œï¼Œç„¶åæˆ‘ä»¬å¯¹açš„é•¿åº¦mè¿›è¡Œæšä¸¾ï¼Œï¼Œå»ºå›¾è¿›è¡Œåˆ¤æ–­æ˜¯å¦æœ‰è§£ï¼Œå¹¶ç´¯åŠ è§£çš„æ•°é‡ï¼Œï¼Œ</p>
<p>å»º <code>n + m + 2</code> ä¸ªç‚¹ï¼Œï¼Œå‰é¢ä¸¤ä¸ªè¡¨ç¤ºå¯¹åº”æ¯ä¸€ä½çš„æƒ…å†µï¼Œï¼Œåé¢ä¿©ä¸ªä¸€ä¸ªæ˜¯ <code>0ç‚¹</code> , å¦ä¸€ä¸ªæ˜¯ <code>1ç‚¹</code> ï¼Œï¼Œï¼Œå¹¶ä¸”è§„å®šåˆä¸¤ç§è¾¹ï¼Œï¼Œ<code>0è¾¹</code> è¡¨ç¤º <code>u-&gt;v</code> çš„ä¸¤ç‚¹æ˜¯ç›¸åŒçš„ï¼Œï¼Œåä¹‹ï¼Œï¼Œ <code>1è¾¹</code> è¡¨ç¤ºæ˜¯ä¸åŒçš„ï¼Œï¼Œè¿™æ ·å­å»ºå›¾å°±èƒ½ä¿è¯ <code>0è¾¹</code> çš„ä¸¤ç‚¹å¼‚æˆ–ä¸€å®šæ˜¯0ï¼Œï¼Œåè€…æ˜¯1ï¼Œï¼Œï¼Œæ˜¾ç„¶å¯¹äºaçš„mä½ç”¨å¯¹åº”çš„sæ¥åˆ¤æ–­ä»¥ä¸‹è¿è¾¹å°±è¡Œäº†ï¼Œï¼Œï¼Œè¿™æ˜¯ä¸€ç§é™åˆ¶å…³ç³»ï¼Œï¼Œ</p>
<p>å¦ä¸€ç§æ˜¯ä¸€äº›ç¡®å®šçš„é™åˆ¶å…³ç³»ï¼Œï¼Œæ¯”å¦‚è¯´å¯¹äºaã€bæ¥è¯´é¦–ä½ä¸€å®šæ˜¯1ï¼Œï¼Œå’Œaå¯¹åº”æ—¶æœ‰ä¸€äº›ç©ºå‡ºä½çš„æƒ…å†µä¹Ÿä¸€å®šæ˜¯ç¡®å®šçš„ï¼Œï¼Œè¿™ç§æƒ…å†µæˆ‘ä»¬å¯¹åº”è¿ <code>0ç‚¹</code> å’Œ <code>1ç‚¹</code> ï¼Œï¼Œï¼Œ</p>
<p>è¿™æ ·å»ºå›¾å¯ä»¥çœ‹å‡ºä¸€æ—¦ä¸€ä¸ªç‚¹çš„å–å€¼ç¡®å®šï¼Œï¼Œé‚£ä¹ˆä¸ä¹‹ç›¸è¿çš„ä¸€ä¸ªè”é€šå—çš„å–å€¼æƒ…å†µä¹Ÿæ˜¯ç¡®å®šçš„ï¼ˆæ ¹æ®å½“å‰ç‚¹çš„æƒ…å†µå’Œè¾¹çš„ç±»å‹ï¼‰ï¼Œï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªè”é€šå—çš„å–å€¼æƒ…å†µåªæœ‰ä¸¤ç§ï¼Œï¼Œï¼Œæ ¹æ®ä¹˜æ³•åŸç†å°±å¯ä»¥çŸ¥é“mçš„ä¸€ç§å–å€¼æ˜¯çš„æ–¹æ¡ˆæ•°æ˜¯ $2^C$ ï¼Œï¼Œä½†æ˜¯å› ä¸ºå’Œ <code>0ç‚¹</code> å’Œ <code>1ç‚¹</code> çš„å–å€¼æ˜¯ç¡®å®šçš„ï¼Œï¼Œæ‰€ä»¥è¿™äº›è¿é€šå—æ˜¯ä¸ç®—çš„ï¼Œï¼Œæœ€åçš„ç­”æ¡ˆå°±æ˜¯ $2^{C-1}$ ï¼Œï¼Œï¼ŒåŒæ—¶ï¼Œï¼Œå¦‚æœä¸€ä¸ªè”é€šå—æ ¹æ®è¾¹çš„é™åˆ¶å…³ç³»çº¦æŸä¸‹æ˜¯ä¸æ»¡è¶³çš„ï¼Œï¼Œè¯´æ˜è¿™ç§å–å€¼ä¸‹çš„mæ˜¯æ— è§£çš„ï¼Œä¸ºé›¶ï¼Œï¼Œï¼Œ</p>
<p>æ•´ä¸ªè¿‡ç¨‹å°±æ˜¯ä¸€ä¸ªæ ¹æ®è¾¹çš„é™åˆ¶å…³ç³»æ¥æŸ“è‰²ï¼Œï¼Œå¹¶åˆ¤æ–­æ˜¯å¦æœ‰è§£ï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e7</span> + <span class="hljs-number">233</span>;<br><span class="hljs-comment">// const int mod = 1e9 + 7;</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">998244353</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt, w;<br>&#125;edge[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, head[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> w)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].w = w;<br>    edge[tot].nxt = head[u];<br>    head[u] = tot++;<br><br>    edge[tot].to = u;<br>    edge[tot].w = w;<br>    edge[tot].nxt = head[v];<br>    head[v] = tot++;<br>&#125;<br><span class="hljs-keyword">int</span> col[maxn];<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> w)</span></span><br><span class="hljs-function"></span>&#123;<br>    col[u] = w;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>    &#123;<br>        <span class="hljs-keyword">int</span> v = edge[i].to;<br>        <span class="hljs-keyword">if</span>(col[v] != <span class="hljs-number">-1</span>)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(col[v] != (edge[i].w ^ w))<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(!dfs(v, edge[i].w ^ w))<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-function">ll <span class="hljs-title">pow_</span><span class="hljs-params">(ll a, ll b)</span></span><br><span class="hljs-function"></span>&#123;<br>    ll ret = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(b)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(b &amp; <span class="hljs-number">1</span>)ret = ret * a % mod;<br>        a = a * a % mod;<br>        b &gt;&gt;= <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> ret;<br>&#125;<br><span class="hljs-keyword">char</span> s[<span class="hljs-number">1005</span>];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br><br>    <span class="hljs-built_in">cin</span> &gt;&gt; (s + <span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">int</span> n = <span class="hljs-built_in">strlen</span>(s + <span class="hljs-number">1</span>);reverse(s + <span class="hljs-number">1</span>, s + <span class="hljs-number">1</span> + n);<br>    <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> m = <span class="hljs-number">1</span>; m &lt;= n - <span class="hljs-number">1</span>; ++m)<br>    &#123;<br>        init();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n / <span class="hljs-number">2</span>; ++i)addedge(i, n - i + <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m / <span class="hljs-number">2</span>; ++i)addedge(n + i, n + m - i + <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<br>        addedge(n + <span class="hljs-number">1</span>, n + n + <span class="hljs-number">2</span>, <span class="hljs-number">0</span>); addedge(n + <span class="hljs-number">1</span>, n + m + <span class="hljs-number">1</span>, <span class="hljs-number">1</span>);<br>        addedge(n + m, n + n + <span class="hljs-number">2</span>, <span class="hljs-number">0</span>); addedge(n + m, n + m + <span class="hljs-number">1</span>, <span class="hljs-number">1</span>);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>            <span class="hljs-keyword">if</span>(s[i] == <span class="hljs-string">&#x27;1&#x27;</span>)addedge(i, n + i, <span class="hljs-number">1</span>);<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(s[i] == <span class="hljs-string">&#x27;0&#x27;</span>)addedge(i, n + i, <span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = m + <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            <span class="hljs-keyword">if</span>(s[i] == <span class="hljs-string">&#x27;1&#x27;</span>)addedge(i, n + m + <span class="hljs-number">2</span>, <span class="hljs-number">0</span>), addedge(i, n + m + <span class="hljs-number">1</span>, <span class="hljs-number">1</span>);<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(s[i] == <span class="hljs-string">&#x27;0&#x27;</span>)addedge(i, n + m + <span class="hljs-number">1</span>, <span class="hljs-number">0</span>), addedge(i, n + m + <span class="hljs-number">2</span>, <span class="hljs-number">1</span>);<br>        <span class="hljs-built_in">memset</span>(col, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> col);<br>        <span class="hljs-keyword">int</span> c = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n + m + <span class="hljs-number">2</span>; ++i)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(col[i] == <span class="hljs-number">-1</span>)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(dfs(i, <span class="hljs-number">0</span>))++c;<br>                <span class="hljs-keyword">else</span> <br>                &#123;<br>                    c = <span class="hljs-number">0</span>;<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(c)ans = (ans + pow_(<span class="hljs-number">2</span>, c - <span class="hljs-number">1</span>)) % mod;<br>    &#125;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="hljs-built_in">endl</span>;<br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id=""><a href="#" class="headerlink" title=" "></a> </h1>]]></content>
      <categories>
        <category>Codeforces</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>åˆ·é¢˜</tag>
      </tags>
  </entry>
  <entry>
    <title>Codeforces-541div2</title>
    <url>/2019/02/23/Codeforces-541div2/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>codeforces-1131A~G</p>
<p><a href="https://codeforces.com/contest/1131">è¿™åœºå¾ˆå¤šé¢˜éƒ½å¾ˆç®€å•</a>ï¼Œï¼Œåº”è¯¥æ˜¯è¦èƒ½è‡³å°‘åšå‡º4é“çš„ï¼Œï¼Œä½†æ˜¯æˆ‘ä¸€é“waäº†æ‡µé€¼ä¸€é“ä¸çŸ¥é“å¦‚ä½•å†™ä»£ç å®ç°é“¾è¡¨ï¼Œï¼Œåˆæ˜¯æ‰åˆ†åœºï¼Œï¼ŒQAQï¼Œï¼Œï¼Œ</p>
<span id="more"></span>
<h1 id="A-Sea-Battle"><a href="#A-Sea-Battle" class="headerlink" title="A. Sea Battle"></a>A. Sea Battle</h1><p>æ±‚ä¸¤ä¸ªå·¦å¯¹é½çš„çŸ©å½¢çš„å¤–å›´ä¸€åœˆçš„é¢ç§¯ï¼ˆæ–¹æ ¼æ•°ï¼‰ï¼Œï¼Œï¼Œä¸€å¼€å§‹å»æƒ³ç€ä¸€å±‚ä¸€å±‚çš„æ‰¾è§„å¾‹å»æ¨å…¬å¼å»äº†ï¼Œï¼Œï¼Œæ¨åˆ°ä¸€åŠå‘ç°è¶Šæ¥è¶Šä¹±ï¼Œï¼Œåˆæƒ³äº†ä¸€ä¼šæ‰æƒ³èµ·ç›´æ¥åˆ†æˆä¸¤ä¸ªçŸ©å½¢ï¼šçº¢è‰²çš„æ‰©å¤§ä¸€åœˆåçš„å’Œå»æ‰ä¸€å±‚åçš„è“è‰²çš„çŸ©å½¢çš„é¢ç§¯å’Œå‡å»åŸæ¥ä¸¤ä¸ªçŸ©å½¢çš„é¢ç§¯å’Œå°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//cf</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-comment">//#include &lt;iostream&gt;</span><br><span class="hljs-comment">//#include &lt;cstdio&gt;</span><br><span class="hljs-comment">//#include &lt;cstdlib&gt;</span><br><span class="hljs-comment">//#include &lt;string.h&gt;</span><br><span class="hljs-comment">//#include &lt;algorithm&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, ull&gt; pii;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    ll w1, w2, h1, h2;<br>    <span class="hljs-built_in">cin</span> &gt;&gt; w1 &gt;&gt; h1 &gt;&gt; w2 &gt;&gt; h2;<br>    ll ans = (w1 + <span class="hljs-number">2</span>) * (h1 + <span class="hljs-number">2</span>) + (w2 + <span class="hljs-number">2</span>) * h2 - w1 * h1 - w2 * h2;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="B-Draw"><a href="#B-Draw" class="headerlink" title="B. Draw!"></a>B. Draw!</h1><p>è¿™é“é¢˜çš„é¢˜æ„æ˜¯ç»™ä½ è¶³çƒæ¯”èµ›æŸä¸ªæ—¶åˆ»çš„æ¯”åˆ†ï¼Œç„¶åé—®ä½ å¯èƒ½çš„æœ€å¤§å¹³åˆ†çš„æƒ…å†µç”±å‡ ç§ï¼Œï¼Œï¼Œ</p>
<p>é¢˜æ„å¾ˆç®€å•ï¼Œï¼Œï¼Œå°±æ˜¯æˆ‘å½“æ—¶åœ¨åšçš„çš„æ—¶å€™æ¨çš„æ–¹æ³•é”™äº†ï¼Œï¼Œç„¶åwaï¼Œï¼Œå› ä¸ºä½†æ˜¯æ€è·¯ä¹Ÿä¸æ¸…æ™°ï¼Œï¼Œç»§ç»­æƒ³ä¸‹å»è€½è¯¯æ—¶é—´åˆæ—¶é”™çš„å°±æ”¾å¼ƒäº†è¿™é“é¢˜ï¼Œï¼Œï¼ˆç°åœ¨çœ‹æ¥åº”è¯¥åšå®ŒCå»ç»§ç»­æƒ³ä¸€ä¸‹Bçš„ï¼Œï¼Œï¼Œ</p>
<p>æ˜¾ç„¶ä¸ºäº†å‡ºç°å¹³åˆ†çš„æƒ…å†µï¼Œå¯¹äºå¹³åˆ†xè‚¯å®šæ»¡è¶³ï¼š $a \leq x \leq c ,b \leq x \leq d$,å…¶ä¸­(a,b),(c,d)ä»£è¡¨ç›¸é‚»çš„ä¸¤ä¸ªæ—¶åˆ»çš„æ¯”åˆ†ï¼Œ(a,b)å‡ºç°çš„æ—¶åˆ»æ—©ä¸€äº›ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æ¨å‡º $max(a,b) \leq x \leq min(c,d)$ï¼Œï¼Œï¼ˆæˆ‘å°±è¿™é‡Œæ²¡æƒ³å‡ºæ¥ï¼Œï¼Œå½“æ—¶è„‘è¢‹æ˜¯ç³Šçš„ï¼Œï¼Œï¼Œï¼‰ç„¶åä»‹äºè¿™ä¸¤ä¸ªæ—¶åˆ»çš„æ¯”åˆ†ä¹‹é—´çš„å¯èƒ½å¹³åˆ†æ•°å°±æ˜¯ $min(c,d)-max(a,b)+1 \ å½“ä¸”ä»…å½“å¼å­çš„å€¼å¤§äºç­‰äºé›¶$ï¼Œï¼Œå¦‚æœä¸­é—´æ—¶åˆ»å‡ºç°ä¸€ä¸ªæ¯”åˆ†ç›¸åŒçš„å°±æ„å‘³ç€å¤šåŠ äº†ä¸€æ¬¡ï¼Œå‡æ‰ï¼Œï¼Œå¯¹äºæœ€åçš„æ¯”åˆ†å¦‚æœç›¸ç­‰è¿˜è¦å†åŠ ä¸€ä¸ªï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//cf</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-comment">//#include &lt;iostream&gt;</span><br><span class="hljs-comment">//#include &lt;cstdio&gt;</span><br><span class="hljs-comment">//#include &lt;cstdlib&gt;</span><br><span class="hljs-comment">//#include &lt;string.h&gt;</span><br><span class="hljs-comment">//#include &lt;algorithm&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; pii;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> a[maxn], b[maxn];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    <span class="hljs-keyword">int</span> n;<span class="hljs-built_in">cin</span> &gt;&gt; n;<br>    <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>, la, lb, a, b;<br>    la = lb = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; a &gt;&gt; b;<br>        <span class="hljs-keyword">if</span>(min(a, b) - max(la, lb) + <span class="hljs-number">1</span> &gt;= <span class="hljs-number">0</span>)<br>            ans += min(a, b) - max(la , lb) + <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span>(a == b)--ans;<br>        la = a;lb = b;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(la == lb)++ans;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="C-Birthday"><a href="#C-Birthday" class="headerlink" title="C. Birthday"></a>C. Birthday</h1><p>cé¢˜å¾ˆç®€å•ï¼Œå°±æ˜¯ç»™ä½ ä¸€ç»„æ•°ï¼Œç„¶åè®©é‚£å¼„å‡ºä¸€ä¸ªåºåˆ—ï¼Œæ»¡è¶³æ‰€æœ‰ç›¸é‚»ä¸¤ä¸ªæ•°çš„å·®å€¼çš„æœ€å¤§å€¼æœ€å°ï¼Œï¼Œ</p>
<p>çœ‹æ ·ä¾‹å°±çŸ¥é“åº”è¯¥è¾“å‡ºä¸€ä¸ªä¸­é—´é«˜ä¸¤è¾¹ä½çš„åºåˆ—å°±å¥½äº†ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//cf</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-comment">//#include &lt;iostream&gt;</span><br><span class="hljs-comment">//#include &lt;cstdio&gt;</span><br><span class="hljs-comment">//#include &lt;cstdlib&gt;</span><br><span class="hljs-comment">//#include &lt;string.h&gt;</span><br><span class="hljs-comment">//#include &lt;algorithm&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; pii;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> a[maxn], b[maxn];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    <span class="hljs-keyword">int</span> n; <span class="hljs-built_in">cin</span> &gt;&gt; n;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; a[i];<br>    sort(a + <span class="hljs-number">1</span>, a + <span class="hljs-number">1</span> + n);<br>    <span class="hljs-keyword">if</span>(n &amp; <span class="hljs-number">1</span>)<br>    &#123;<br>        <span class="hljs-keyword">int</span> p = n / <span class="hljs-number">2</span> + <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = n; i &gt;= <span class="hljs-number">1</span>; i -= <span class="hljs-number">2</span>)<br>            b[p--] = a[i];<br>        p = n / <span class="hljs-number">2</span> + <span class="hljs-number">2</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = n - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">1</span>; i -= <span class="hljs-number">2</span>)<br>            b[p++] = a[i];<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        <span class="hljs-keyword">int</span> p = n / <span class="hljs-number">2</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = n; i &gt;= <span class="hljs-number">1</span>; i -= <span class="hljs-number">2</span>)<br>            b[p--] = a[i];<br>        p = n / <span class="hljs-number">2</span> + <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = n - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">1</span>; i -= <span class="hljs-number">2</span>)<br>            b[p++] = a[i];<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">cout</span> &lt;&lt; b[i] &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="D-Gourmet-choice"><a href="#D-Gourmet-choice" class="headerlink" title="D. Gourmet choice"></a>D. Gourmet choice</h1><p>è¿™é“é¢˜åœ¨æ¯”èµ›çš„æ—¶å€™æœ‰äººåœ¨ç¾¤é‡Œè¯´äº†ä¸€å¥â€œå·®åˆ†çº¦æŸâ€ï¼Œï¼Œçœ‹è¿™ä¸ªé¢˜é¢çš„ç¡®åƒæ˜¯å·®åˆ†çº¦æŸçš„é¢˜ï¼Œï¼Œï¼Œåæ¥åˆçœ‹åˆ°å¾ˆå¤šäººç”¨çš„æ˜¯ <strong>å¹¶æŸ¥é›†ç¼©ç‚¹+æ‹“æ‰‘æ’åº</strong>ï¼Œï¼Œï¼Œï¼ˆç¬¬ä¸€å¬è¯´èƒ½ç”¨å¹¶æŸ¥é›†ç¼©ç‚¹çš„ï¼Œï¼Œä»¥å‰å€¼è§è¿‡è·‘Tarjanç¼©ç‚¹çš„ï¼Œï¼Œï¼‰</p>
<p>é¢˜é¢çš„æ„æ€æ˜¯ä¸¤ç»„èœï¼Œä¸€ç»„æ˜¯né“ä¸€ç»„æ˜¯mé“ï¼Œï¼Œç„¶åç»™å‡ºè¿™äº›èœç›´æ¥çš„è¯„åˆ†å…³ç³»ï¼Œç„¶åè®©ä½ æ±‚å‡ºæ¯é“èœå…·ä½“å¯èƒ½çš„æ•°å€¼æ˜¯å¤šå°‘ï¼ˆè¦æ»¡è¶³æ‰€ç»™çš„å¤§å°å…³ç³»ï¼‰ï¼Œï¼Œè¾“å‡ºç»“æœ</p>
<h2 id="å¹¶æŸ¥é›†ç¼©ç‚¹-æ‹“æ‰‘æ’åº"><a href="#å¹¶æŸ¥é›†ç¼©ç‚¹-æ‹“æ‰‘æ’åº" class="headerlink" title="å¹¶æŸ¥é›†ç¼©ç‚¹+æ‹“æ‰‘æ’åº"></a>å¹¶æŸ¥é›†ç¼©ç‚¹+æ‹“æ‰‘æ’åº</h2><p>é¦–å…ˆé¢˜ç›®è¦æˆ‘ä»¬æ±‚ä¸€ä¸ªæ•°åˆ—ï¼Œä½¿å¾—è¿™n+mä¸ªæ•°çš„å¤§å°å…³ç³»æ»¡è¶³é¢˜ç›®æ‰€ç»™çš„è¦æ±‚ï¼Œï¼Œè¿™æ—¶æˆ‘ä»¬å¯ä»¥å°†é¢˜ç›®æ‰€æ±‚çœ‹æˆæ±‚ä¸€ä¸ªæœ€å¤§å€¼æœ€å°é“¾ï¼Œé“¾ä¸­çš„è¾¹(u,v)è¡¨ç¤ºvæ‰€ä»£è¡¨çš„å€¼å¤§äºæˆ–ç­‰äºuçš„å€¼ï¼Œï¼Œè¿™æ ·å°±å°†é—®é¢˜è½¬åŒ–æˆäº†ä¸€ä¸ªn+mçš„å›¾ï¼Œï¼Œå…¶ä¸­å½“s[i][j]ä¸ºâ€™&gt;â€™å·æ—¶ï¼Œå°±åŠ ä¸€æ¡n+j-&gt;içš„è¾¹ï¼Œï¼Œç„¶ååˆ¤æ–­è¿™ä¸ªå›¾æ˜¯å¦æ˜¯DAGå›¾ï¼Œï¼Œä¸æ˜¯çš„è¯è¯æ˜æœ‰ç¯ï¼Œï¼Œæ— è§£ï¼Œï¼Œæ²¡æœ‰ç¯çš„æƒ…å†µä¸‹ç”¨ æ‹“æ‰‘æ’åº æ±‚å›¾çš„æœ€é•¿é“¾ï¼Œï¼ŒåŒæ—¶æ ‡è®°æ¯ä¸ªç‚¹çš„å€¼åº”è¯¥æ˜¯ä¸Šä¸€ä¸ªç‚¹çš„åŠ ä¸€</p>
<p>å¯¹äºç›¸ç­‰è¯„åˆ†çš„i,jï¼Œï¼Œæˆ‘ä»¬å°†å®ƒä»¬åˆ’åœ¨åŒä¸€ä¸ªé›†åˆé‡Œï¼Œï¼Œè¿™æ ·ç”¨ä¸€ä¸ªç‚¹è¡¨ç¤ºè¿™ä¸ªé›†åˆé‡Œçš„æ‰€æœ‰ç‚¹ï¼Œï¼Œå®ƒæœ€åçš„è¯„åˆ†å’Œé›†åˆé‡Œçš„æ‰€æœ‰ç‚¹çš„è¯„åˆ†ä¸€æ ·ï¼ˆç¼©ç‚¹ï¼‰ï¼Œï¼Œè¿™é‡Œçš„ç¼©ç‚¹è¿‡ç¨‹ç”¨å¹¶æŸ¥é›†æ¥å®ç°ï¼Œï¼Œæœ€åçš„ç‚¹éƒ½æ˜ å°„åˆ°äº†æ–°çš„ç‚¹ä¸­</p>
<p>è¿™æ ·æˆ‘ä»¬ç›´æ¥å¯¹æ¯ä¸€ä¸ªç”¨åˆ°åŸæ¥1-&gt;n+mçš„ç‚¹éƒ½æ±‚ä¸€ä¸‹å®ƒæ‰€åœ¨çš„ç‚¹é›†ï¼Œï¼Œç”¨å¹¶æŸ¥é›†çš„ <code>_find(x)</code> å°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
<p>æœ€åéå†ä¸€éæ‰€æœ‰çš„n+mä¸ªç‚¹çœ‹æ‰€åœ¨çš„é›†åˆæ˜¯å¦éƒ½è¢«æ ‡è®°äº†ï¼Œï¼Œæœ‰ä¸€ä¸ªæ²¡æœ‰çš„è¯å°±æ˜¯æ— è§£çš„å•¦ï¼Œï¼Œï¼Œ</p>
<p>è¾“å‡ºçš„æ—¶å€™ä¾æ¬¡è¾“å‡ºå‰nä¸ªç‚¹æ‰€åœ¨ç‚¹é›†çš„æ ‡å·ï¼Œç„¶ååmä¸ªç‚¹æ‰€åœ¨ç‚¹é›†çš„æ ‡å·ï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//cf</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-comment">//#include &lt;iostream&gt;</span><br><span class="hljs-comment">//#include &lt;cstdio&gt;</span><br><span class="hljs-comment">//#include &lt;cstdlib&gt;</span><br><span class="hljs-comment">//#include &lt;string.h&gt;</span><br><span class="hljs-comment">//#include &lt;algorithm&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; pii;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> a[maxn], b[maxn];<br><span class="hljs-keyword">int</span> fa[maxn];<br><span class="hljs-keyword">int</span> _find(<span class="hljs-keyword">int</span> x)<br>&#123;<br>    <span class="hljs-keyword">if</span>(fa[x] == x)<span class="hljs-keyword">return</span> x;<br>    <span class="hljs-keyword">return</span> fa[x] = _find(fa[x]);<br>&#125;<br><span class="hljs-keyword">void</span> _union(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)<br>&#123;<br>    <span class="hljs-keyword">int</span> f1 = _find(x);<br>    <span class="hljs-keyword">int</span> f2 = _find(y);<br>    <span class="hljs-keyword">if</span>(f1 &gt; f2)fa[f1] = f2;<br>    <span class="hljs-keyword">else</span>       fa[f2] = f1;<br>&#125;<br><span class="hljs-comment">//toposort</span><br><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; g[maxn];<br><span class="hljs-keyword">int</span> du[maxn], n, m, l[maxn];<br><span class="hljs-keyword">int</span> ans[maxn];      <span class="hljs-comment">//ä¿å­˜æ‰€æœ‰ç‚¹çš„ç¼–å·</span><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">toposort</span><span class="hljs-params">(<span class="hljs-keyword">int</span> cnt)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">queue</span>&lt;<span class="hljs-keyword">int</span>&gt; q;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n + m; ++i)<br>        <span class="hljs-keyword">if</span>(!du[_find(i)] &amp;&amp; fa[i] == i)<br>            q.push(_find(i)), ans[_find(i)] = <span class="hljs-number">1</span>;<span class="hljs-comment">//æ‰€æœ‰å…¥åº¦ä¸ºé›¶çš„ç‚¹çš„é›†åˆæ ‡è®°ä¸º1</span><br>    <span class="hljs-keyword">while</span>(!q.empty())<br>    &#123;<br>        <span class="hljs-keyword">int</span> x = q.front(); q.pop();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; g[x].size(); ++i)<br>        &#123;<br>            <span class="hljs-keyword">int</span> t = g[x][i];<br>            --du[t];<br>            <span class="hljs-keyword">if</span>(!du[t])q.push(t), ans[t] = ans[x] + <span class="hljs-number">1</span>;<span class="hljs-comment">//è¿™æ¡é“¾ä¸Šçš„ä¸‹ä¸€ä¸ªç‚¹çš„ç¼–å·æ¯”ä¸Šä¸€ä¸ªå¤§1ï¼Œï¼Œä¹Ÿå°±æ˜¯æ»¡è¶³é¢˜å¹²çš„&gt;</span><br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n + m; ++i)<span class="hljs-comment">//å¦‚æœæœ‰ä¸€ä¸ªç‚¹æ²¡æœ‰è¢«ç¼–å·ï¼Œå³æœ€é•¿é“¾é‡Œæ²¡æœ‰å®ƒå°±è¯´æ˜æ— è§£</span><br>        <span class="hljs-keyword">if</span>(!ans[_find(i)])<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-keyword">char</span> s[<span class="hljs-number">1005</span>][<span class="hljs-number">1005</span>];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n , &amp;m);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>, s[i] + <span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n + m; ++i)fa[i] = i;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n + m; ++i)du[i] = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> cnt = n + m;<br>    <span class="hljs-comment">//ç”¨å¹¶æŸ¥é›†ç¼©ç‚¹ååˆ¤æ–­æ˜¯ä¸æ˜¯DAGå›¾</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; ++j)<br>            <span class="hljs-keyword">if</span>(s[i][j] == <span class="hljs-string">&#x27;=&#x27;</span>)<br>                _union(i, n + j), --cnt;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; ++j)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(s[i][j] == <span class="hljs-string">&#x27;&lt;&#x27;</span>)<br>                g[_find(i)].push_back(_find(n + j)), ++du[_find(n + j)];<br>            <span class="hljs-keyword">if</span>(s[i][j] == <span class="hljs-string">&#x27;&gt;&#x27;</span>)<br>                g[_find(n + j)].push_back(_find(i)), ++du[_find(i)];<br>        &#125;<br>    <span class="hljs-keyword">if</span>(toposort(cnt))<br>    &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Yes\n&quot;</span>);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, ans[_find(i)]);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; ++j)<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, ans[_find(j + n)]);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;No\n&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p><a href="https://www.e-learn.cn/content/qita/2031478">å‚è€ƒ</a></p>
<h2 id="å·®åˆ†çº¦æŸ"><a href="#å·®åˆ†çº¦æŸ" class="headerlink" title="å·®åˆ†çº¦æŸ"></a>å·®åˆ†çº¦æŸ</h2><p><del>spfaè·‘çš„æ—¶å€™å®¹æ˜“tï¼Œï¼Œï¼ˆå“ªå¤©åœ¨è¡¥è¿™é“é¢˜å§</del></p>
<p>å·®åˆ†çº¦æŸçš„è¯ç›´æ¥æŒ‰é¢˜æ„å»ºå›¾å°±è¡Œäº†ï¼Œï¼Œï¼Œæ³¨æ„ä¸€ä¸‹ç»†èŠ‚ï¼Œï¼Œï¼Œ<a href="https://www.cnblogs.com/31415926535x/p/10463112.html">å¯ä»¥çœ‹è¿™é‡Œæœ€åçš„é‚£é‡Œ</a></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//cf</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-comment">//#include &lt;iostream&gt;</span><br><span class="hljs-comment">//#include &lt;cstdio&gt;</span><br><span class="hljs-comment">//#include &lt;cstdlib&gt;</span><br><span class="hljs-comment">//#include &lt;string.h&gt;</span><br><span class="hljs-comment">//#include &lt;algorithm&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; pii;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> v, w;<br>    edge(<span class="hljs-keyword">int</span> _v, <span class="hljs-keyword">int</span> _w):v(_v), w(_w)&#123;&#125;<br>&#125;;<br><span class="hljs-built_in">vector</span>&lt;edge&gt; e[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> w)</span></span><br><span class="hljs-function"></span>&#123;<br>    e[u].push_back(edge(v, w));<br>&#125;<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-keyword">int</span> cnt[maxn], dis[maxn], sta[maxn];<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">spfa</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)vis[i] = <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)cnt[i] = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)dis[i] = inf;<br>    vis[s] = <span class="hljs-literal">true</span>;<br>    cnt[s] = <span class="hljs-number">1</span>;<br>    dis[s] = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> top = <span class="hljs-number">-1</span>;<br>    sta[++top] = s;<br>    <span class="hljs-keyword">while</span>(~top)<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = sta[top--];<br>        vis[u] = <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; e[u].size(); ++i)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = e[u][i].v;<br>            <span class="hljs-keyword">int</span> w = e[u][i].w;<br>            <span class="hljs-keyword">if</span>(dis[v] &gt; dis[u] + w)<br>            &#123;<br>                dis[v] = dis[u] + w;<br>                <span class="hljs-keyword">if</span>(!vis[v])<br>                &#123;<br>                    vis[v] = <span class="hljs-literal">true</span>;<br>                    sta[++top] = v;<br>                    <span class="hljs-keyword">if</span>(++cnt[v] &gt; n)<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-keyword">char</span> s[<span class="hljs-number">1005</span>][<span class="hljs-number">1005</span>];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">int</span> n, m; <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>, s[i] + <span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; ++j)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(s[i][j] == <span class="hljs-string">&#x27;&gt;&#x27;</span>)<br>                addedge(i, j + n, <span class="hljs-number">-1</span>);<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(s[i][j] == <span class="hljs-string">&#x27;&lt;&#x27;</span>)<br>                addedge(j + n, i, <span class="hljs-number">-1</span>);<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                addedge(i, j + n, <span class="hljs-number">0</span>);<br>                addedge(j + n, i, <span class="hljs-number">0</span>);<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n + m; ++i)<br>        addedge(<span class="hljs-number">0</span>, i, <span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">if</span>(spfa(<span class="hljs-number">0</span>, n + m))<br>    &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Yes\n&quot;</span>);<br>        <span class="hljs-keyword">int</span> k = *min_element(dis + <span class="hljs-number">1</span>, dis + <span class="hljs-number">1</span> + n + m);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, dis[i] - k + <span class="hljs-number">1</span>);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span> + n; i &lt;= n + m; ++i)<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, dis[i] - k + <span class="hljs-number">1</span>);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;No\n&quot;</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="E-String-Multiplication"><a href="#E-String-Multiplication" class="headerlink" title="E. String Multiplication"></a>E. String Multiplication</h1><p>ç•™å‘</p>
<h1 id="F-Asya-And-Kittens"><a href="#F-Asya-And-Kittens" class="headerlink" title="F. Asya And Kittens"></a>F. Asya And Kittens</h1><p>å½“æ—¶è¿‡è¿™é“é¢˜çš„äººå¾ˆå¤šï¼Œï¼Œç›´æ¥å¹¶æŸ¥é›†+é“¾è¡¨æ¨¡æ‹Ÿä¸€ä¸‹å°±å¯ä»¥äº†ï¼Œï¼Œï¼Œ</p>
<p>å¯æƒœæˆ‘å½“æ—¶ä¸çŸ¥é“é“¾è¡¨æ€ä¹ˆå®ç°ï¼ˆå…³é”®æ˜¯ä¸çŸ¥é“stlçš„listæœ‰åˆå¹¶ä¸¤ä¸ªé“¾è¡¨çš„å‡½æ•°ï¼Œï¼Œï¼Œä¸ç„¶å°±ä¸æ˜¯æ‰åˆ†åœºäº†QAQ</p>
<p>æ¯æ·»åŠ ä¸€å¯¹çŒ«ï¼Œï¼Œåˆ¤æ–­ä»–ä»¬æ˜¯ä¸æ˜¯åœ¨ä¸€ä¸ªé›†åˆé‡Œï¼Œï¼Œä¸åœ¨çš„è¯å°±æŠŠä»–ä»¬æ”¾åœ¨ä¸€ä¸ªé›†åˆé‡Œï¼ˆå¹¶æŸ¥é›†å®ç°ï¼‰ï¼Œï¼Œç„¶ååˆå¹¶è¿™ä¸¤åªå–µæ‰€åœ¨çš„é“¾è¡¨ï¼Œï¼Œç”¨ <code>std::list.splice()</code> ä½œç”¨æ˜¯ï¼šå¯¹ä¸¤ä¸ªé“¾è¡¨è¿›è¡Œç»“åˆ(ä¸‰ä¸ªé‡è½½å‡½æ•°) ç»“åˆåç¬¬äºŒä¸ªé“¾è¡¨æ¸…ç©ºï¼Œï¼Œï¼Œ ï¼Œï¼Œè®°å¾—è®°å½•ä¸‹è¿™ä¸ªé“¾è¡¨çš„ä½ç½®ï¼Œï¼Œï¼Œ</p>
<p><del>è”¡é˜Ÿç”¨çš„æ˜¯ropeåˆå¹¶çš„ï¼Œï¼Œæœ‰æ—¶é—´äº†è§£ä¸€ä¸‹è¿™ç©æ„ï¼Œï¼Œ</del></p>
<h2 id="å¹¶æŸ¥é›†-é“¾è¡¨æ¨¡æ‹Ÿ"><a href="#å¹¶æŸ¥é›†-é“¾è¡¨æ¨¡æ‹Ÿ" class="headerlink" title="å¹¶æŸ¥é›†+é“¾è¡¨æ¨¡æ‹Ÿ"></a>å¹¶æŸ¥é›†+é“¾è¡¨æ¨¡æ‹Ÿ</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//cf</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-comment">//#include &lt;iostream&gt;</span><br><span class="hljs-comment">//#include &lt;cstdio&gt;</span><br><span class="hljs-comment">//#include &lt;cstdlib&gt;</span><br><span class="hljs-comment">//#include &lt;string.h&gt;</span><br><span class="hljs-comment">//#include &lt;algorithm&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; pii;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> father[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(father[x] == x)<span class="hljs-keyword">return</span> x;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> father[x] = find(father[x]);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">unionset</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> f1 = find(x);<br>    <span class="hljs-keyword">int</span> f2 = find(y);<br>    <span class="hljs-keyword">if</span>(f1 != f2)father[f2] = f1;<br>&#125;<br><span class="hljs-built_in">list</span>&lt;ll&gt; lst[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    <span class="hljs-keyword">int</span> n; <span class="hljs-built_in">cin</span> &gt;&gt; n;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)father[i] = i, lst[i].pb(i);<br>    <span class="hljs-keyword">int</span> a, b, ans;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n - <span class="hljs-number">1</span>; ++i)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; a &gt;&gt; b;<br>        <span class="hljs-keyword">int</span> pa = find(a);<br>        <span class="hljs-keyword">int</span> pb = find(b);<br>        lst[pa].splice(lst[pa].end(), lst[pb]);<br>        unionset(a, b);<br>        ans = pa;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> p : lst[ans])<span class="hljs-built_in">cout</span> &lt;&lt; p &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="å¹¶æŸ¥é›†-ropeæ¨¡æ‹Ÿ"><a href="#å¹¶æŸ¥é›†-ropeæ¨¡æ‹Ÿ" class="headerlink" title="å¹¶æŸ¥é›†+ropeæ¨¡æ‹Ÿ"></a>å¹¶æŸ¥é›†+ropeæ¨¡æ‹Ÿ</h2><p>ropeæ˜¯ä¸€ä¸ªå—çŠ¶é“¾è¡¨ï¼Œï¼Œ</p>
<p>éœ€è¦åœ¨g++ä¸­ä½¿ç”¨ï¼Œï¼ŒåŒæ—¶åŠ ä¸Šç‰¹å®šçš„å¤´æ–‡ä»¶ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;ext/rope&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> __gnu_cxx;<br></code></pre></td></tr></table></figure>
<p>å¸¸ç”¨æ“ä½œæœ‰ï¼š</p>
<ul>
<li>pusb_back(x): åœ¨æœ«å°¾è¿½åŠ x</li>
<li>insert(pos, x): åœ¨posæ’å…¥x</li>
<li>erase(pos, x): åœ¨poså¼€å§‹åˆ é™¤è¿ç»­xä¸ªå…ƒç´ </li>
<li>replace(pos, x): ä»poså¼€å§‹æ›¿æ¢æˆx</li>
<li>substr(pos, x): æå»ä»poså¼€å§‹çš„xä¸ªå…ƒç´ </li>
<li>at(x) or [x]: è®¿é—®ç¬¬xä¸ªå…ƒç´ </li>
</ul>
<p>insert() ,substr() å’Œ erase()è¿ç”¨å¯ä»¥å®ç°å¯¹ä¸€æ®µæ•°æ®çš„è½¬ç§»ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp">å®ç°å¯¹aæ•°ç»„ä¸­[x, y]çš„æ•°å­—æ”¾åˆ°æœ€å‰é¢<br>a.insert(<span class="hljs-number">0</span>, a.substr(x - <span class="hljs-number">1</span>, y));<br>a.erase(x + y - <span class="hljs-number">1</span>, y);<br></code></pre></td></tr></table></figure>
<p>è¿™é“é¢˜è²Œä¼¼ç›´æ¥æ”¾åœ¨ä¸€ä¸ªé“¾è¡¨çš„åé¢ç”¨ â€œ+=â€ ï¼Œå°±è¡Œäº†ï¼Œï¼Œï¼Œï¼ˆæ²¡æ‰¾åˆ°ä»‹ç»é‡è½½ â€œ+=â€çš„åšå®¢ï¼‰ï¼Œï¼Œï¼Œ</p>
<p>æ®è¯´è¿™ç©æ„çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(ç„å­¦),,emmmï¼Œï¼Œæ¯”ä¸Šé¢é‚£ç§è¿˜æ…¢ä¸€ç‚¹ï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//cf</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-comment">//#include &lt;iostream&gt;</span><br><span class="hljs-comment">//#include &lt;cstdio&gt;</span><br><span class="hljs-comment">//#include &lt;cstdlib&gt;</span><br><span class="hljs-comment">//#include &lt;string.h&gt;</span><br><span class="hljs-comment">//#include &lt;algorithm&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; pii;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> fa[maxn];<br><span class="hljs-keyword">int</span> _find(<span class="hljs-keyword">int</span> x)<br>&#123;<br>    <span class="hljs-keyword">if</span>(fa[x] == x)<span class="hljs-keyword">return</span> x;<br>    <span class="hljs-keyword">return</span> fa[x] = _find(fa[x]);<br>&#125;<br><span class="hljs-keyword">void</span> _union(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)<br>&#123;<br>    <span class="hljs-keyword">int</span> f1 = _find(x);<br>    <span class="hljs-keyword">int</span> f2 = _find(y);<br>    <span class="hljs-keyword">if</span>(f1 &gt; f2)fa[f1] = f2;<br>    <span class="hljs-keyword">else</span>       fa[f2] = f1;<br>&#125;<br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;ext/rope&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> __gnu_cxx;<br>rope&lt;<span class="hljs-keyword">int</span>&gt; a[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    <span class="hljs-keyword">int</span> n;<span class="hljs-built_in">cin</span> &gt;&gt; n;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)fa[i] = i, a[i].push_back(i);<br>    <span class="hljs-keyword">int</span> x, y;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n - <span class="hljs-number">1</span>; ++i)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; x &gt;&gt; y;<br>        x = _find(x); y = _find(y);<br>        fa[y] = x;<br>        a[x] += a[y];<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        <span class="hljs-keyword">if</span>(_find(i) == i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; a[i].size(); ++j)<br>                <span class="hljs-built_in">cout</span> &lt;&lt; a[i][j] &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="G-Most-Dangerous-Shark"><a href="#G-Most-Dangerous-Shark" class="headerlink" title="G. Most Dangerous Shark"></a>G. Most Dangerous Shark</h1><p>ç•™å‘</p>
]]></content>
      <categories>
        <category>Codeforces</category>
      </categories>
      <tags>
        <tag>åˆ·é¢˜</tag>
        <tag>acm</tag>
      </tags>
  </entry>
  <entry>
    <title>Educational Codeforces Round 60</title>
    <url>/2019/04/08/Educational-Codeforces-Round-60/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>å‘ç°ç°åœ¨çš„æˆ‘ä¸ä»…ä»…æ˜¯ä¸“é—¨çš„ç®—æ³•çŸ¥è¯†å­¦çš„ä¸å¤Ÿï¼Œï¼Œå¹³å¸¸çš„ç­¾åˆ°é¢˜é‚£æ ·çš„è€ƒéªŒä»£ç èƒ½åŠ›çš„é¢˜ä¹Ÿä¸æ˜¯å¾ˆç¨³å®šçš„èƒ½å¤Ÿå†™å‡ºæ¥ï¼Œæ¯”å¦‚è¯´cfdiv2çš„ABCé¢˜ï¼Œï¼Œæ‰€ä»¥å†³å®šç»ƒä¸€æ®µæ—¶é—´çš„cfçš„é¢˜ï¼Œï¼Œ</p>
<p>è¿™å¥—é¢˜æ„Ÿè§‰é‡åœ¨è€ƒå¯Ÿæ€æƒ³å’Œä»£ç èƒ½åŠ›ï¼Œ</p>
<span id="more"></span>
<h1 id="A-Best-Subsegment"><a href="#A-Best-Subsegment" class="headerlink" title="A. Best Subsegment"></a>A. Best Subsegment</h1><p>é¢˜æ„å°±æ˜¯æ±‚ä¸€ä¸ªæ•°ç»„ä¸­å¹³å‡å€¼æœ€å¤§çš„å­åŒºé—´çš„é•¿åº¦ï¼Œï¼Œæœ‰å¤šä¸ªç›¸åŒçš„æœ€å¤§å¹³å‡å€¼åŒºé—´å–é•¿åº¦æœ€å¤§çš„ï¼Œï¼Œ</p>
<p>ä¸€å¼€å§‹æˆ‘æƒ³ç€ç›´æ¥æšä¸¾é•¿åº¦ï¼Œç”¨å‰ç¼€å’Œæ¥æ±‚å­åŒºé—´çš„å¹³å‡å€¼ï¼Œï¼Œä½†æ˜¯è¿™æ ·æ—¶é—´å¤æ‚åº¦æ˜¯næ–¹ï¼Œtäº†ï¼Œï¼Œ</p>
<p>é¦–å…ˆé¢˜æ„è¦è¦ä¿è¯å¹³å‡å€¼æœ€å¤§ï¼Œç„¶åæ‰æ˜¯ä¿è¯é•¿åº¦æœ€é•¿ï¼Œæ‰€ä»¥å…ˆæ‰¾åˆ°å€¼æœ€å¤§çš„å…ƒç´ ï¼Œï¼Œå¦‚æœæœ‰è¿ç»­çš„æœ€å¤§å€¼å‡ºç°ï¼Œæ±‚å‡ºæœ€é•¿é•¿åº¦ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">4e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e7</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-keyword">int</span> a[maxn], n;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span> &gt;&gt; n;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; a[i];<br>    <span class="hljs-keyword">int</span> mx = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)mx = max(a[i], mx);<br>    <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(a[i] == mx)<br>        &#123;<br>            <span class="hljs-keyword">int</span> r = i;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = i; j &lt;= n; ++j)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(a[j] == mx)<br>                    r = j;<br>                <span class="hljs-keyword">else</span><br>                    <span class="hljs-keyword">break</span>;<br>            &#125;<br>            ans = max(ans, r - i + <span class="hljs-number">1</span>);<br>            i = r;<br>        &#125;<br>    &#125;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;   <br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="D-Magic-Gems"><a href="#D-Magic-Gems" class="headerlink" title="D. Magic Gems"></a>D. Magic Gems</h1><p>é¢˜æ„ï¼šç»™ä½ ä¸€ä¸²æ•°ï¼Œç„¶åå¯ä»¥é‡å¤çš„é€‰å–mä¸ªï¼Œä½†æ˜¯åŒä¸€ä¸ªä¸èƒ½è¿ç»­é€‰è¶…è¿‡kä¸ªï¼Œé—®ä½ æœ€å¤§çš„é€‰çš„å’Œï¼Œï¼Œ</p>
<p>æ—¢ç„¶è¦é€‰å’Œæœ€å¤§ï¼Œé‚£ä¹ˆæ¯æ¬¡é€‰æœ€å¤§çš„ï¼Œè¶…å‡ºkä¸ªé€‰ä¸€æ¬¡ç¬¬äºŒå¤§çš„ï¼Œç„¶åç»§ç»­è¿™æ ·é€‰ï¼Œï¼Œ</p>
<p>llä¹Ÿä¸ä¼šçˆ†ï¼Œï¼Œ</p>
<p>ä¸€å¼€å§‹æ¨å‡ºå…¬å¼æ¢æˆä»£ç è¿˜å¿˜è®°ä¹˜äº†ä¸€æ•°ï¼Œwaäº†ä¸€å‘</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp">ll n, m, k, a[maxn];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m &gt;&gt; k;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; a[i];<br>    sort(a + <span class="hljs-number">1</span>, a + <span class="hljs-number">1</span> + n);<br>    ll ans = m / (k + <span class="hljs-number">1</span>) * (k * a[n] + a[n - <span class="hljs-number">1</span>]);<br>    <span class="hljs-keyword">if</span>(m / (k + <span class="hljs-number">1</span>) * (k + <span class="hljs-number">1</span>) != m)<br>        ans += (m - m / (k + <span class="hljs-number">1</span>) * (k + <span class="hljs-number">1</span>)) * a[n];<br>    <span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;       <br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="C-Magic-Ship"><a href="#C-Magic-Ship" class="headerlink" title="C. Magic Ship"></a>C. Magic Ship</h1><p>è¿™é“é¢˜å¾ˆä¸é”™å•Šï¼Œï¼Œ</p>
<p>é¢˜æ„ï¼šèˆ¹çš„èµ·ç‚¹æ˜¯sè¦åˆ°çš„ç»ˆç‚¹æ˜¯tï¼Œç„¶åæ¯èµ°ä¸€æ­¥ä¼šæœ‰å››ä¸ªæ–¹å‘çš„é£çš„åŠ æˆï¼Œé—®ä½ èƒ½åˆ°è¾¾ç»ˆç‚¹æ—¶çš„æœ€å°æ—¶é—´ï¼Œï¼Œé£åœ¨å˜åŒ–å®Œä¸€è½®ä¹‹åä¼šä»ä¸€å¼€å§‹ç»§ç»­ï¼Œï¼Œ</p>
<p>è¯»å®Œé¢˜ä¹‹åä¸€ç‚¹æ€è·¯éƒ½æ²¡æœ‰ï¼Œé¦–å…ˆè¿™ä¸ªé£å‘çš„å˜åŒ–å°±ä¸çŸ¥é“æ€ä¹ˆå¤„ç†ï¼Œå³ä½¿çœ‹åˆ°äº†ä¸‹é¢çš„tagæ˜¯äºŒåˆ†ä¹Ÿä¸çŸ¥é“æ€ä¹ˆå¼„ï¼Œï¼Œ</p>
<p>åæ¥çœ‹äº†é¢˜è§£ï¼Œå¤§è‡´çš„æ€è·¯æ˜¯è¿™æ ·çš„ï¼š</p>
<p>é¦–å…ˆè€ƒè™‘è¿™ä¸ªé£ï¼Œå¦‚æœè¦æ˜¯æ¯ä¸€æ­¥éƒ½è€ƒè™‘è¿™ä¸ªé£çš„å½±å“è‚¯å®šæ˜¯ä¸è¡Œçš„ï¼Œå¤ªéº»çƒ¦äº†ï¼Œï¼Œæ³¨æ„åˆ°é£å¯¹èˆ¹æ¯ä¸€æ­¥çš„å½±å“éƒ½ç›¸å½“äºæ˜¯ä¸€å¼€å§‹å…¨éƒ½å¯¹èˆ¹å½±å“ï¼Œå°±æ˜¯æŠŠæ¯ä¸€å¤©çš„é£çš„åŠ æˆåçš„ä½ç½®åœ¨ä¸€å¼€å§‹å°±è®¡ç®—å‡ºæ¥ï¼ˆå‰ç¼€å’Œçš„æ€æƒ³+æ¨å…¬å¼ï¼‰ï¼Œç„¶åå†åœ¨è¿™ä¸ªæ–°çš„ä½ç½®å‡ºå‘å»ç»ˆç‚¹ï¼Œï¼Œ</p>
<p>è¿™æ ·æƒ³ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥è®¡ç®—å‡ºåœ¨dayå¤©åï¼Œèˆ¹çš„ä½ç½®é¦–å…ˆå› ä¸ºé£çš„å½±å“ç”± $s$ å˜åˆ°äº† $sâ€™$ï¼Œï¼Œç„¶ååˆ¤æ–­è¿™dayå¤©èˆ¹æ˜¯å¦å¯ä»¥åœ¨ $sâ€™$ åˆ°è¾¾ç»ˆç‚¹tï¼Œï¼Œï¼Œè€Œä¸”å³ä½¿ä»è¿™ä¸ªç‚¹ $sâ€™$ å‡ºå‘åˆ°ç»ˆç‚¹çš„æœ€çŸ­æ—¶é—´æ¯”dayå°‘ä¹Ÿæ²¡å…³ç³»ï¼Œå› ä¸ºé¢˜ä¸­è¯´èˆ¹å¯ä»¥é€‰æ‹©ä¸åŠ¨ï¼Œè¿™æ ·å•ç‹¬å—é£çš„å½±å“å°±è¡Œäº†ï¼Œï¼Œ</p>
<p>è€Œè¿™ä¸ªæœ€å°çš„dayå°±å¯ä»¥äºŒåˆ†æ‰¾å‡ºæ¥ï¼Œï¼Œå› ä¸ºä¸€å®šæ˜¯dayä¹‹å‰çš„éƒ½ä¸å¯è¡Œï¼Œè€Œåé¢çš„dayä¸€ä¸ªæ¯”ä¸€ä¸ªå¤§ï¼Œï¼Œè¿™æ ·æ»¡è¶³ä½¿ç”¨äºŒåˆ†çš„æ¡ä»¶ï¼Œï¼Œï¼Œï¼ˆäºŒåˆ†åˆå†™å´©++ï¼Œï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">4e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e7</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-built_in">pair</span>&lt;ll, ll&gt; s, t;<br><span class="hljs-built_in">string</span> str;<br>ll n;<br><span class="hljs-built_in">pair</span>&lt;ll, ll&gt; d[maxn];<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">check</span><span class="hljs-params">(ll day)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">pair</span>&lt;ll, ll&gt; tmp;<br>    tmp.first = s.first + (day / n) * d[n].first + d[(day % n)].first;<br>    tmp.second = s.second + (day / n) * d[n].second + d[(day % n)].second;<br>    ll ans = <span class="hljs-built_in">abs</span>(tmp.first - t.first) + <span class="hljs-built_in">abs</span>(tmp.second - t.second);<br>    <span class="hljs-keyword">return</span> ans &lt;= day;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span> &gt;&gt; s.first &gt;&gt; s.second &gt;&gt; t.first &gt;&gt; t.second &gt;&gt; n &gt;&gt; str;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i)<br>    &#123;<br>        d[i + <span class="hljs-number">1</span>] = d[i];<br>        <span class="hljs-keyword">if</span>(str[i] == <span class="hljs-string">&#x27;U&#x27;</span>)++d[i + <span class="hljs-number">1</span>].second;<br>        <span class="hljs-keyword">if</span>(str[i] == <span class="hljs-string">&#x27;D&#x27;</span>)--d[i + <span class="hljs-number">1</span>].second;<br>        <span class="hljs-keyword">if</span>(str[i] == <span class="hljs-string">&#x27;L&#x27;</span>)--d[i + <span class="hljs-number">1</span>].first;<br>        <span class="hljs-keyword">if</span>(str[i] == <span class="hljs-string">&#x27;R&#x27;</span>)++d[i + <span class="hljs-number">1</span>].first;<br>    &#125;<br>    ll l = <span class="hljs-number">0</span>, r = <span class="hljs-number">1e18</span>;<br>    ll ans = <span class="hljs-number">-1</span>;<br>    <span class="hljs-keyword">while</span>(l &lt;= r)<br>    &#123;<br>        ll mid = (l + r) &gt;&gt; <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span>(check(mid))<br>        &#123;<br>            ans = mid;<br>            r = mid - <span class="hljs-number">1</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span> l = mid + <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;       <br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="D-Magic-Gems-1"><a href="#D-Magic-Gems-1" class="headerlink" title="D. Magic Gems"></a>D. Magic Gems</h1><p>è¿™é¢˜çš„é¢˜æ„å¾ˆç®€å•ï¼Œï¼Œå°±æ˜¯å¤„ç†çš„æ–¹æ³•æˆ‘æ²¡è§è¿‡ï¼Œï¼Œæ¶¨çŸ¥è¯†ingï¼Œï¼Œï¼Œ</p>
<p>é¢˜æ„å°±æ˜¯ä¸€å—é­”æ³•å®çŸ³å¯ä»¥å˜æˆmå—æ™®é€šçš„å®çŸ³ï¼Œç„¶åé­”æ³•å®çŸ³å’Œæ™®é€šå®çŸ³éƒ½å ä¸€ä¸ªç©ºé—´ï¼Œç»™ä½ ä¸€å †é­”æ³•å®çŸ³é—®ä½ æœ‰å‡ ç§æƒ…å†µä½¿å¾—å çš„ç©ºé—´æ­£å¥½æ˜¯nï¼Œï¼Œ</p>
<p>è¿™é¢˜æœ‰ä¸¤ç§è§£æ³•ï¼Œï¼Œä¸€ç§æ˜¯ <strong>æ¨dpæ–¹ç¨‹çŸ©é˜µåŠ é€Ÿå¹‚åŠ é€Ÿ</strong> ï¼Œå¦ä¸€ç§æ˜¯ <strong>ç›´æ¥ä¸Šæœæ•™ç­›</strong> ..</p>
<p><a href="https://blog.csdn.net/qq_37632935/article/details/87889975">å‚è€ƒ1</a><br><a href="https://blog.csdn.net/moon_sky1999/article/details/87974954">å‚è€ƒ2</a></p>
<h2 id="dp-çŸ©é˜µå¿«é€Ÿå¹‚"><a href="#dp-çŸ©é˜µå¿«é€Ÿå¹‚" class="headerlink" title="dp+çŸ©é˜µå¿«é€Ÿå¹‚"></a>dp+çŸ©é˜µå¿«é€Ÿå¹‚</h2><h3 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><p>é¦–å…ˆå®šä¹‰ $dp_i$ è¡¨ç¤º <em>æ°å¥½å ç”¨iä¸ªå•å…ƒç©ºé—´æ—¶çš„é€‰æ‹©æ–¹æ³•ä¸ªæ•°</em> ï¼Œï¼Œ</p>
<p>ç„¶åå»æ¨çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š å¯ä»¥çœ‹å‡ºï¼ˆemmæˆ‘å°±æ²¡çœ‹å‡ºï¼Œï¼Œï¼‰å¯¹äºæ¯ä¸€ä¸ªç»™å®šçš„ç©ºé—´æœ‰ä¸¤ç§å¯ä»¥ä¸åŒçš„é€‰æ‹©æ–¹æ³•ï¼Œä¸€ç§æ˜¯ <em>ä¸æ‹†åˆ†é­”æ³•å®çŸ³æ‰€å¾—</em> ï¼Œ å¦ä¸€ç§æ˜¯ <em>æ‹†åˆ†ä¸€å—é­”æ³•å®çŸ³æ‰€å¾—</em> ï¼Œï¼Œï¼Œè¿™æ ·çš„è¯å‰è€…å°±å¯ä»¥è¡¨ç¤ºä¸º $dp<em>{i-1}$ ï¼Œ åè€…å¯ä»¥è¡¨ç¤ºä¸º $dp</em>{i-m}$ ï¼ŒåŠ èµ·æ¥å°±æ˜¯è¿™ä¸ªç©ºé—´ä¸‹æ‰€æœ‰çš„å¯èƒ½é€‰æ‹©çš„æ–¹æ³•æ•°äº†ï¼Œï¼Œ</p>
<script type="math/tex; mode=display">
    dp_i=dp_{i-1}+dp_{i-m}</script><p>ä½†æ˜¯å¦‚æœåªæ˜¯æŒ‰ç…§å¹³å¸¸çš„dpé—®é¢˜å»æ±‚ $dp_n$ æ˜¾ç„¶æ—¶ç©ºéƒ½ä¼šçˆ†ï¼Œï¼Œï¼ˆnå¯èƒ½æ˜¯1e18ï¼‰ï¼Œï¼Œï¼Œæ‰€ä»¥è¿™æ ·åšè¦ä¼˜åŒ–ï¼Œï¼Œè½¬åŒ–æˆæ±‚çŸ©é˜µå¿«é€Ÿå¹‚çš„å½¢å¼å°±è¡Œäº†ï¼Œï¼Œ</p>
<p>æŠŠé‚£ä¸ªçŠ¶æ€è½¬ç§»æ–¹ç¨‹ $dp<em>n=dp</em>{n-1}+dp_{n-m}$ å¤šæ¨å‡ é¡¹ï¼š</p>
<script type="math/tex; mode=display">
    dp_{n}=dp_{n-1}+dp_{n-m}\\
    dp_{n-1}=dp_{n-2}+dp_{n-m-1}\\
    dp_{n-2}=dp_{n-3}+dp_{n-m-2}\\
            \cdots</script><p>ç”¨çŸ©é˜µå¿«é€Ÿå¹‚è¿›è¡Œé€’æ¨å¼åŠ é€Ÿæ—¶çš„ä¸€èˆ¬å½¢å¼æ˜¯æŠŠåŸé€’æ¨å¼è½¬åŒ–æˆï¼š</p>
<script type="math/tex; mode=display">
    \begin{bmatrix}
        f[n]\\
        f[n-1]\\
        f[n-2]\\
        \vdots
    \end{bmatrix}

    = 

    A^k

    \begin{bmatrix}
        f[n-1]\\
        f[n-2]\\
        \vdots
    \end{bmatrix}</script><p>è¿™æ ·çš„å½¢å¼ï¼Œï¼Œå¯¹äºè¿™é“é¢˜çš„é€’æ¨æ–¹ç¨‹å°±å¯ä»¥è½¬åŒ–æˆï¼š</p>
<script type="math/tex; mode=display">
    \begin{bmatrix}
        dp[n]\\
        dp[n-1]\\
        dp[n-2]\\
        \vdots\\
        dp[n-m+1]\\
    \end{bmatrix}

    =

    A

    \begin{bmatrix}
        dp[n-1]\\
        dp[n-2]\\
        dp[n-3]\\
        \vdots\\
        dp[n-m]\\
    \end{bmatrix}</script><p>æ ¹æ®ç­‰å¼é—´çš„å…³ç³»ï¼Œä¸ºäº†å¾—åˆ°å·¦è¾¹ç¬¬ä¸€é¡¹ $dp[n]$ ï¼ŒAçš„ç¬¬ä¸€è¡Œè¦æ˜¯ $[1,0,0,\cdots, 1]$ ï¼Œè¿™æ ·æ‰èƒ½å¾—åˆ°é€’æ¨å…¬å¼ä¸ºæˆ‘ä»¬æ‰€ç”¨ï¼Œï¼Œ</p>
<p>è€Œåé¢é‚£å‡ é¡¹æ˜¾ç„¶éƒ½ç­‰äºå¯¹åº”å±‚çš„ä¸Šä¸€å±‚çš„å€¼ï¼Œï¼Œï¼Œä¹Ÿå°±æ˜¯è¯´Aä¸­å¯¹åº”çš„æ˜¯1å°±å¯ä»¥äº†ï¼Œï¼Œ</p>
<p>å®é™…ä¸Šåªç”¨åˆ°äº†åˆšåˆšå¾€åæ¨çš„ä¸€ä¸¤é¡¹ï¼Œï¼Œ</p>
<p>æ‰€ä»¥Aå°±åº”è¯¥æ˜¯è¿™æ ·çš„ï¼Œï¼Œ</p>
<script type="math/tex; mode=display">
    A=
    \begin{bmatrix}
        1 & 0 & 0 & 0 & 0 & 0 & \cdots & 1 \\
        1 & 0 & 0 & 0 & 0 & 0 & \cdots & 0 \\
        0 & 1 & 0 & 0 & 0 & 0 & \cdots & 0 \\
        \vdots & \vdots & \vdots & \vdots & \vdots & \vdots & \vdots & \vdots \\
        0 & \cdots & 0 & 0 & 0 & 0 & 1 & 0 \\
        0 & \cdots & 0 & 0 & 0 & 0 & 0 & 1 \\
    \end{bmatrix}</script><p>æœ€åæŠŠAåé¢çš„é‚£ä¸ªçŸ©é˜µè½¬åŒ–æˆä¸€ä¸ªå¸¸æ•°çŸ©é˜µï¼Œï¼Œè§‚å¯Ÿä¹‹åå¯ä»¥çœ‹å‡ºåé¢é‚£ä¸ªçŸ©é˜µæœ€ä¸‹é¢æœ€å°æ˜¯ $dp[1]$ è¿™ç§æƒ…å†µä¸‹è¡¨ç¤ºç©ºé—´ä¸º1æ—¶çš„æ–¹æ¡ˆæ•°ï¼Œï¼Œè‚¯å®šæ˜¯é€‰æ‹©ä¸€ä¸ªé­”æ³•å®çŸ³ä¸æ‹†å•¦ï¼Œï¼Œï¼ŒåŒç†ä¸€ç›´åˆ°m-1çš„ç©ºé—´éƒ½æ˜¯1ï¼Œï¼Œè€Œ $dp[m]$ å°±å¯ä»¥æœ‰ä¸¤ç§é€‰æ‹©ï¼Œï¼Œè¦ä¹ˆéƒ½æ˜¯é­”æ³•å®çŸ³ï¼Œè¦ä¹ˆä¸€ä¸ªé­”æ³•å®çŸ³æ‹†åˆ†må—æ™®é€šå®çŸ³ï¼Œï¼Œä¹Ÿå°±æ˜¯2ï¼Œï¼Œï¼Œæ‰€ä»¥æœ€åçš„çŸ©é˜µé€’æ¨å¼å°±æ˜¯ï¼š</p>
<script type="math/tex; mode=display">
    \begin{bmatrix}
        dp[n]\\
        dp[n-1]\\
        dp[n-2]\\
        \vdots\\
        dp[n-m+1]\\
    \end{bmatrix}

    = 

    A^k

    \begin{bmatrix}
        2\\
        1\\
        1\\
        \vdots\\
        1\\
    \end{bmatrix}</script><p>æ¨ä¸€ä¸‹çš„è¯å°±çŸ¥é“ $k=n-m$ çœ‹å³è¾¹çŸ©é˜µçš„æœ€ä¸Šé¢é‚£ä¸€é¡¹çš„å˜åŒ–å€¼çš„å·®</p>
<h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><p>ä¸Šä¸€æ¬¡å†™çŸ©é˜µå¿«é€Ÿå¹‚è¿˜æ˜¯æš‘å‡çš„é›†è®­é˜Ÿå­¦çš„æ—¶å€™å†™çš„ï¼Œï¼Œç°åœ¨æ—©å°±å¿˜è®°äº†ï¼Œï¼Œæ­£å¥½è®°å½•ä¸€ä¸‹æ¿å­ï¼Œï¼Œ</p>
<p>æœ€åçš„å¤æ‚åº¦å¤§æ¦‚æ˜¯ $O(n^3logn)$</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-comment">// #include &lt;iostream&gt;</span><br><span class="hljs-comment">// #include &lt;cstdio&gt;</span><br><span class="hljs-comment">// #include &lt;cstdlib&gt;</span><br><span class="hljs-comment">// #include &lt;string.h&gt;</span><br><span class="hljs-comment">// #include &lt;algorithm&gt;</span><br><span class="hljs-comment">// #include &lt;set&gt;</span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;cmath&gt;</span><br><span class="hljs-comment">// #include &lt;queue&gt;</span><br><span class="hljs-comment">// #include &lt;stack&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e10</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e7</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br>ll n, m;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> len = <span class="hljs-number">105</span>;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">matrix</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-comment">// int m;</span><br>    ll num[<span class="hljs-number">105</span>][<span class="hljs-number">105</span>];<br>    <span class="hljs-comment">// matrix()&#123;&#125;</span><br>    matrix()&#123;<span class="hljs-built_in">memset</span>(num, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> num);&#125;<br>    matrix <span class="hljs-keyword">operator</span> *(<span class="hljs-keyword">const</span> matrix &amp;x)<br>    &#123;<br>        matrix c;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; ++j)<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> k = <span class="hljs-number">1</span>; k &lt;= m; ++k)<br>                    c.num[i][j] = (c.num[i][j] + num[i][k] * x.num[k][j]) % mod;<br>        <span class="hljs-keyword">return</span> c;<br>    &#125;<br>    matrix &amp;<span class="hljs-keyword">operator</span> =(<span class="hljs-keyword">const</span> matrix &amp;x)<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; ++j)<br>                num[i][j] = x.num[i][j];<br>        <span class="hljs-keyword">return</span> *<span class="hljs-keyword">this</span>;<br>    &#125;<br>    <span class="hljs-function">matrix <span class="hljs-title">pow_</span><span class="hljs-params">(matrix x, ll k)</span></span><br><span class="hljs-function">    </span>&#123;<br>        matrix ans;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)ans.num[i][i] = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">while</span>(k)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(k &amp; <span class="hljs-number">1</span>)ans = ans * x;<br>            x = x * x;<br>            k &gt;&gt;= <span class="hljs-number">1</span>;<br>        &#125;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>    <br>&#125;;<br><br>ll f[len];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m;<br>    <span class="hljs-keyword">if</span>(n &lt; m)<br>    &#123;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br>    matrix a = matrix();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= m; ++i)a.num[i][i - <span class="hljs-number">1</span>] = <span class="hljs-number">1</span>;<br>    a.num[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>] = a.num[<span class="hljs-number">1</span>][m] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)f[i] = <span class="hljs-number">1</span>;<br>    f[m] = <span class="hljs-number">2</span>;<br>    a = a.pow_(a, n - m);<br>    ll ans = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>        ans = (ans + a.num[<span class="hljs-number">1</span>][i] * f[m - i + <span class="hljs-number">1</span>]) % mod;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;       <br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="æœæ•™çº¿æ€§ç­›"><a href="#æœæ•™çº¿æ€§ç­›" class="headerlink" title="æœæ•™çº¿æ€§ç­›"></a>æœæ•™çº¿æ€§ç­›</h3><p>å¥½ä¹…ä¹‹å‰å°±å¬è¯´è¿‡æœæ•™ç­›ï¼Œï¼Œä½†æ˜¯ä¸€ç›´æ²¡æœ‰ç”¨è¿‡ï¼Œï¼Œæ­£å¥½é‡åˆ°äº†ï¼Œï¼Œè®°å½•ä¸€ä¸‹è¿™ä¸ªå¼ºå¤§çš„æ¿å­ï¼Œï¼Œï¼Œè¿™é“é¢˜ç›´æ¥æš´åŠ›ç®—å‡ºå‰200é¡¹ç„¶åæŠŠç»“æœä¸¢åˆ°æœæ•™ç­›ä¸­è·‘ä¸€ä¸‹å°±è¡Œäº†ï¼Œï¼Œï¼Œï¼Œæ—¶é—´å¤æ‚åº¦å¥½åƒæ˜¯ $O(n^{2/3})$ ï¼Œï¼Œï¼Œä¸Šä¸€ä¸ªå¤§æ¦‚è·‘1så¤šï¼Œï¼Œè¿™ä¸ªç›´æ¥30msï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-comment">// #include &lt;iostream&gt;</span><br><span class="hljs-comment">// #include &lt;cstdio&gt;</span><br><span class="hljs-comment">// #include &lt;cstdlib&gt;</span><br><span class="hljs-comment">// #include &lt;string.h&gt;</span><br><span class="hljs-comment">// #include &lt;algorithm&gt;</span><br><span class="hljs-comment">// #include &lt;set&gt;</span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;cmath&gt;</span><br><span class="hljs-comment">// #include &lt;queue&gt;</span><br><span class="hljs-comment">// #include &lt;stack&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e10</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e7</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-keyword">namespace</span> linear_seq<br>&#123;<br>    <br>    <span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> rep(i,a,n) for (int i=a;i&lt;n;++i)</span><br>    <span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> per(i,a,n) for (int i=n-1;i&gt;=a;--i)</span><br>    <span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br>    <span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> mp make_pair</span><br>    <span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> all(x) (x).begin(),(x).end();</span><br>    <span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> fi first</span><br>    <span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> se second</span><br>    <span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> SZ(x) ((int)(x).size())</span><br>    <span class="hljs-keyword">typedef</span> <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; VI;<br>    <span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br>    <span class="hljs-keyword">typedef</span> <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>,<span class="hljs-keyword">int</span>&gt; PII;<br>    <span class="hljs-keyword">const</span> ll mod=<span class="hljs-number">1e9</span>+<span class="hljs-number">7</span>;<br><br>    <span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N=<span class="hljs-number">10010</span>;<br>    ll _, n;<br>    ll res[N], base[N], _c[N], _md[N];<br>    <span class="hljs-built_in">vector</span>&lt;ll&gt; Md;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">mul</span><span class="hljs-params">(ll *a, ll *b, <span class="hljs-keyword">int</span> k)</span></span><br><span class="hljs-function">    </span>&#123;<br>        rep(i,<span class="hljs-number">0</span>,k+k) _c[i] = <span class="hljs-number">0</span>;<br>        rep(i,<span class="hljs-number">0</span>,k)<span class="hljs-keyword">if</span>(a[i])rep(j,<span class="hljs-number">0</span>,k)_c[i+j]=(_c[i+j]+a[i]*b[j])%mod;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=k+k<span class="hljs-number">-1</span>; i&gt;=k; --i)<span class="hljs-keyword">if</span>(_c[i])<br>            rep(j,<span class="hljs-number">0</span>,SZ(Md))_c[i-k+Md[j]]=(_c[i-k+Md[j]]-_c[i]*_md[Md[j]])%mod;<br>        rep(i,<span class="hljs-number">0</span>,k)a[i]=_c[i];<br>    &#125;<br>    <span class="hljs-function">ll <span class="hljs-title">powmod</span><span class="hljs-params">(ll a, ll b)</span></span><br><span class="hljs-function">    </span>&#123;<br>        ll res = <span class="hljs-number">1</span>;<br>        a %= mod;<br>        assert(b&gt;=<span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">for</span>(; b; b&gt;&gt;=<span class="hljs-number">1</span>)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(b&amp;<span class="hljs-number">1</span>)res=res*a%mod;<br>            a=a*a%mod;<br>        &#125;<br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">solve</span><span class="hljs-params">(ll n, VI a, VI b)</span></span><br><span class="hljs-function">    </span>&#123;<br>        ll ans = <span class="hljs-number">0</span>, pnt = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">int</span> k = SZ(a);<br>        assert(SZ(a) == SZ(b));<br>        rep(i,<span class="hljs-number">0</span>,k) _md[k<span class="hljs-number">-1</span>-i]=-a[i];<br>        _md[k]=<span class="hljs-number">1</span>;<br>        Md.clear();<br>        rep(i,<span class="hljs-number">0</span>,k)<span class="hljs-keyword">if</span>(_md[i]!=<span class="hljs-number">0</span>)Md.push_back(i);<br>        rep(i,<span class="hljs-number">0</span>,k)res[i]=base[i]=<span class="hljs-number">0</span>;<br>        res[<span class="hljs-number">0</span>]=<span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">while</span>((<span class="hljs-number">1ll</span>&lt;&lt;pnt)&lt;=n)++pnt;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> p = pnt; p&gt;=<span class="hljs-number">0</span>; --p)<br>        &#123;<br>            mul(res, res, k);<br>            <span class="hljs-keyword">if</span>((n&gt;&gt;p)&amp;<span class="hljs-number">1</span>)<br>            &#123;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=k<span class="hljs-number">-1</span>; i&gt;=<span class="hljs-number">0</span>; --i)res[i+<span class="hljs-number">1</span>]=res[i];<br>                res[<span class="hljs-number">0</span>]=<span class="hljs-number">0</span>;<br>                rep(j,<span class="hljs-number">0</span>,SZ(Md))res[Md[j]]=(res[Md[j]]-res[k]*_md[Md[j]])%mod;<br>            &#125;<br>        &#125;<br>        rep(i,<span class="hljs-number">0</span>,k)ans=(ans+res[i]*b[i])%mod;<br>        <span class="hljs-keyword">if</span>(ans&lt;<span class="hljs-number">0</span>)ans+=mod;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>    <span class="hljs-function">VI <span class="hljs-title">BM</span><span class="hljs-params">(VI s)</span></span><br><span class="hljs-function">    </span>&#123;<br>        VI C(1,1), B(1,1);<br>        <span class="hljs-keyword">int</span> L=<span class="hljs-number">0</span>, m=<span class="hljs-number">1</span>, b=<span class="hljs-number">1</span>;<br>        rep(n, <span class="hljs-number">0</span>, SZ(s))<br>        &#123;<br>            ll d = <span class="hljs-number">0</span>;<br>            rep(i,<span class="hljs-number">0</span>,L+<span class="hljs-number">1</span>)d=(d+(ll)C[i]*s[n-i])%mod;<br>            <span class="hljs-keyword">if</span>(d==<span class="hljs-number">0</span>) ++m;<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-number">2</span>*L&lt;=n)<br>            &#123;<br>                VI T=C;<br>                ll c=mod-d*powmod(b,mod<span class="hljs-number">-2</span>)%mod;<br>                <span class="hljs-keyword">while</span>(SZ(C)&lt;SZ(B)+m)C.pb(<span class="hljs-number">0</span>);<br>                rep(i,<span class="hljs-number">0</span>,SZ(B))C[i+m]=(C[i+m]+c*B[i])%mod;<br>                L=n+<span class="hljs-number">1</span>-L;<br>                B=T;<br>                b=d;<br>                m=<span class="hljs-number">1</span>;<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                ll c=mod-d*powmod(b,mod<span class="hljs-number">-2</span>)%mod;<br>                <span class="hljs-keyword">while</span>(SZ(C)&lt;SZ(B)+m)C.pb(<span class="hljs-number">0</span>);<br>                rep(i,<span class="hljs-number">0</span>,SZ(B))C[i+m]=(C[i+m]+c*B[i])%mod;<br>                ++m;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> C;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">gao</span><span class="hljs-params">(VI a, ll n)</span></span><br><span class="hljs-function">    </span>&#123;<br>        VI c=BM(a);<br>        c.erase(c.begin());<br>        rep(i,<span class="hljs-number">0</span>,SZ(c))c[i]=(mod-c[i])%mod;<br>        <span class="hljs-keyword">return</span> solve(n,c,VI(a.begin(),a.begin()+SZ(c)));<br>    &#125;<br>&#125;; <span class="hljs-comment">// linear_seq</span><br><br>ll f[<span class="hljs-number">205</span>];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    ll n, m;<br>    <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)f[i] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = m; i &lt;= <span class="hljs-number">200</span>; ++i)f[i] = (f[i - <span class="hljs-number">1</span>] + f[i - m]) % mod;<br>    <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; v;<br>    ++n;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">200</span>; ++i)v.push_back(f[i]);<br>    <span class="hljs-built_in">cout</span> &lt;&lt; linear_seq::gao(v, n - <span class="hljs-number">1</span>) % (ll)mod &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;       <br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="E-Decypher-the-String"><a href="#E-Decypher-the-String" class="headerlink" title="E. Decypher the String"></a>E. Decypher the String</h1><h2 id="åˆ†æ-1"><a href="#åˆ†æ-1" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><h3 id="è§£æ³•ä¸€"><a href="#è§£æ³•ä¸€" class="headerlink" title="è§£æ³•ä¸€"></a>è§£æ³•ä¸€</h3><p>ä¸€é“è¿›åˆ¶æ€æƒ³çš„äº¤äº’é¢˜ï¼Œï¼Œä»æ¥æ²¡æœ‰å†™è¿‡äº¤äº’é¢˜ï¼ˆå› ä¸ºéƒ½æ˜¯é åçš„é¢˜ï¼Œï¼Œæ‰€ä»¥ä»¥å‰ä»æ¥æ²¡æœ‰çœ‹è¿‡ï¼Œï¼Œï¼Œ</p>
<p>è¿™é“é¢˜çš„é¢˜æ„æ˜¯ï¼šç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²tï¼Œï¼Œtæ˜¯sç»è¿‡ä¸€å®šäº¤æ¢è§„åˆ™å¾—åˆ°çš„å­—ç¬¦ä¸²ï¼Œç„¶åä½ å¯ä»¥ç»™äº¤äº’å™¨æœ€å¤šä¸‰æ¬¡çš„ä¸‰ä¸ªé•¿åº¦ä¸€æ ·çš„å­—ç¬¦ä¸²ï¼Œç„¶åä»–ä¼šè¿”å›ä¸€ä¸ªåŒæ ·è§„åˆ™å˜æ¢åçš„å­—ç¬¦ä¸²ï¼Œï¼Œç„¶åè®©ä½ æ ¹æ®è¿™äº›ä¿¡æ¯æ¥æ¨æ–­å‡ºå…·ä½“çš„äº¤æ¢çš„è§„åˆ™ï¼Œï¼Œç„¶åè¾“å‡ºåŸæ¥çš„sï¼Œï¼Œï¼Œ</p>
<p>é¦–å…ˆçœ‹ä¸€ä¸ªä¾‹å­ï¼šé•¿åº¦ä¸è¿‡9çš„s: <code>xyz</code>ï¼Œï¼Œå¦‚æœæˆ‘ä»¬çš„äº¤æ¢è§„åˆ™æ˜¯ <code>(1, 2), (2, 3)</code> ï¼Œä¹Ÿå°±æ˜¯è¯´å˜æ¢åå¾—åˆ°çš„tå°±æ˜¯ <code>yzx</code> ï¼Œï¼Œ</p>
<p>å¦‚æœæˆ‘ä»¬å‘äº¤äº’å™¨è¯¢é—®ä¸€ä¸ªæœ‰åºçš„å­—ç¬¦ä¸² <code>abc</code> ï¼Œï¼Œé‚£ä¹ˆäº¤äº’å™¨å°±å¯ä»¥é€šè¿‡é‚£ä¸ªè§„åˆ™è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸² <code>bca</code> ï¼Œï¼Œè€Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡è¿™ä¸ªè¿”å›çš„å­—ç¬¦ä¸²å’Œä¹‹å‰çš„é‚£ä¸ªæœ‰åºçš„å­—ç¬¦ä¸²å¾—å‡ºäº¤æ¢çš„è§„åˆ™ï¼š å¯¹äºs <code>123</code> å˜æ¢åçš„tå°±æ˜¯ <code>231</code> ï¼ˆæ„æ€æ˜¯æŠŠç¬¬ä¸€ä¸ªæ¢æˆç¬¬2ä¸ªï¼Œç¬¬äºŒä¸ªæ¢æˆç¬¬3ä¸ªï¼Œç¬¬ä¸‰ä¸ªæ¢æˆç¬¬1ä¸ªï¼‰ï¼Œï¼Œï¼Œ</p>
<p>è¿™æ ·å°±çŸ¥é“äº† <code>s-&gt;t</code> çš„å˜æ¢è§„åˆ™ï¼Œï¼Œè€Œç°åœ¨æˆ‘ä»¬çŸ¥é“å˜æ¢åçš„tï¼Œï¼Œé‚£ä¹ˆå°±åœ¨åä¸€æ¬¡å°±å¯ä»¥å¾—åˆ° <code>t-&gt;s</code> çš„å˜æ¢è§„åˆ™ï¼Œï¼ˆä¹Ÿå°±æ˜¯å°†tçš„ç¬¬2ä¸ªå˜æˆç¬¬ä¸€ä¸ªï¼Œç¬¬3ä¸ªå˜æˆç¬¬äºŒä¸ªï¼Œç¬¬1ä¸ªå˜æˆç¬¬ä¸‰ä¸ªï¼Œï¼Œæ­£å¥½å’Œä¸Šé¢çš„å˜åŒ–ç›¸åï¼Œï¼Œï¼‰ï¼Œï¼Œä¹Ÿå°±æ˜¯ï¼š <code>rev=[312]</code> ï¼Œï¼Œ è¿™æ · $s<em>i=t</em>{rev_i}$ ï¼Œï¼Œï¼Œè¿™æ ·åŸºæœ¬çš„å¤„ç†å°±å¼„æ˜ç™½äº†ï¼Œï¼Œï¼Œ<strong>ç›¸å½“äºé€šè¿‡å˜æ¢ä¸€ä¸ªæœ‰åºçš„ä¸‹æ ‡åºåˆ—ï¼Œç„¶åå¾—çŸ¥å˜æ¢çš„æ–¹æ³•</strong></p>
<p>ä½†æ˜¯å¦‚æœå­—ç¬¦ä¸²çš„é•¿åº¦å¤§äº9æˆ‘ä»¬è¿˜å¯ä»¥ç”¨å­—æ¯è¡¨ç¤ºï¼Œä½†æ˜¯å½“æ˜¯1e4çš„èŒƒå›´æ—¶ï¼Œï¼Œå°±ä¸èƒ½ç”¨ä¸€ä¸ªå­—ç¬¦æ¥è¡¨ç¤ºå­—ç¬¦ä¸²çš„æ¯ä¸€ä¸ªä¸‹æ ‡äº†ï¼Œï¼Œè¿™æ—¶å°±ç”¨åˆ°äº†è¿›åˆ¶çš„è¡¨ç¤ºï¼Œå› ä¸ºæ¯ä¸€æ¬¡è¯¢é—®åªèƒ½æ˜¯å°å†™å­—æ¯ï¼Œæ‰€ä»¥å°±ç”¨26è¿›åˆ¶æ¥è¡¨ç¤ºæ¯ä¸€ä¸ªä¸‹æ ‡çš„åè¿›åˆ¶ï¼Œï¼Œå› ä¸ºä¸‰ä½çš„26è¿›åˆ¶ <code>aaa~zzz</code> å°±å¯ä»¥è¡¨ç¤º $26^3 &gt; 1e4$ ï¼Œï¼Œè¿™æ ·å°±å¯ä»¥ç”¨ä¸€ä¸ªä¸‰ä½çš„å­—ç¬¦ä¸²æ¥è¡¨ç¤ºæ¯ä¸€ä¸ªä¸‹æ ‡ï¼Œï¼Œä½†æ˜¯å› ä¸ºæ¯æ¬¡è¯¢é—®åªèƒ½æ˜¯é•¿åº¦ä¸ºnçš„ä¸²ï¼Œï¼Œæ‰€ä»¥å°±æŠŠè¿™ä¸‰ä½æ‹†å¼€ç»„æˆä¸‰ä¸ªä¸²æ¥è¯¢é—®ï¼Œï¼Œå› ä¸ºæ¯ä¸€ä¸ªæ”¹å˜çš„ä¸‹æ ‡åœ¨æ¯æ¬¡è¯¢é—®ä¸­éƒ½ä¼šæ”¹å˜çš„ï¼Œï¼Œæ‰€ä»¥è¯¢é—®ä¸‰æ¬¡ç´¯åŠ ä¸€ä¸‹æ¯ä¸€ä¸ªä¸‹æ ‡å¯¹åº”çš„å€¼å°±è¡Œäº†ï¼Œï¼Œï¼Œæœ€åå°±å¯ä»¥å¾—åˆ°ä¸Šé¢ç±»ä¼¼çš„å˜æ¢è§„åˆ™ï¼Œï¼Œç„¶ååä¸€ä¸‹ï¼Œï¼Œæ±‚å‡ºså°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
<p><a href="https://blog.csdn.net/Mitsuha_/article/details/87794531">å‚è€ƒåšå®¢1</a></p>
<p><a href="https://blog.csdn.net/BUAA_Alchemist/article/details/87705287">å‚è€ƒåšå®¢2</a>é‚£ä¸ªå°ç™½é¼ çš„é—®é¢˜ä¸é”™2333ï¼Œï¼Œï¼Œ</p>
<h3 id="è§£æ³•äºŒ"><a href="#è§£æ³•äºŒ" class="headerlink" title="è§£æ³•äºŒ"></a>è§£æ³•äºŒ</h3><p>å¯¹äº†ï¼Œ<a href="https://codeforces.com/blog/entry/65365">è¯„è®ºåŒº</a>é‡Œçœ‹åˆ°æœ‰äººè¯´è¿™é¢˜ä¹Ÿå¯ä»¥ç”¨ä¸­å›½å‰©ä½™å®šç†æ¥è§£å†³ <em>(saeed_odak)</em> ï¼Œï¼Œï¼Œé¢˜ç›®çš„tagé‡Œä¹Ÿæœ‰CRTï¼Œï¼Œï¼Œæ‰€ä»¥åˆçœ‹äº†çœ‹è¿™ç§è§£æ³•ï¼Œï¼Œ</p>
<p>è¿™ç§è§£æ³•çš„å¤§è‡´æ€æƒ³å’Œä¸Šé¢é‚£ç§3ä½26è¿›åˆ¶çš„æ€æƒ³å·®ä¸å¤šï¼Œéƒ½æ˜¯ç”¨ä¸€ä¸ªä¸œè¥¿è¡¨ç¤ºå­—ç¬¦ä¸²çš„ä¸‹æ ‡ï¼Œç„¶åè¯¢é—®ä¸‰æ¬¡ï¼Œä¿è¯æ¯ä¸€ä½éƒ½è¢«è¯¢é—®è¿‡ï¼Œç„¶åç»„åˆèµ·æ¥ï¼Œåœ¨åä¸€ä¸‹æ±‚å‡ºç­”æ¡ˆï¼Œï¼Œï¼Œä¸åŒçš„åœ°æ–¹åœ¨äºç”¨ä»€ä¹ˆè¡¨ç¤ºä¸‹æ ‡ï¼Œï¼Œï¼Œ</p>
<p>ä¸‹é¢çš„ä¸œè¥¿æˆ‘æ˜¯çœ‹è¯„è®ºåŒº <em>Varun_Shah</em> è¿™ä½å¤§ä½¬çš„å›å¤å¤§è‡´æ‡‚å¾—ï¼š</p>
<p>ï¼ˆæ„Ÿè§‰å…ˆçœ‹ä»–çš„åŸè¯æ¯”è¾ƒå®¹æ˜“æ‡‚è¿™ä¸ªè§£æ³•çš„æ€æƒ³ï¼Œï¼Œï¼Œï¼‰</p>
<h4 id="å…ˆè¯´ä¸€ä¸‹ä¸ºä»€ä¹ˆè¦ç”¨ä½™æ•°ï¼š"><a href="#å…ˆè¯´ä¸€ä¸‹ä¸ºä»€ä¹ˆè¦ç”¨ä½™æ•°ï¼š" class="headerlink" title="å…ˆè¯´ä¸€ä¸‹ä¸ºä»€ä¹ˆè¦ç”¨ä½™æ•°ï¼š"></a>å…ˆè¯´ä¸€ä¸‹ä¸ºä»€ä¹ˆè¦ç”¨ä½™æ•°ï¼š</h4><p>å‡å¦‚ç»™ä½ ä¸¤ä¸ªæ•°2ï¼Œ3ï¼Œé‚£ä¹ˆ $0 \% 2 = 0, 0 \% 3 = 0$ï¼Œå°±å¯ä»¥çœ‹æˆä¸€ä¸ªå¯¹(pair): $(0, 0)$ ï¼Œï¼ŒåŒç†ä¸€å…±æœ‰ 6 ä¸ªè¿™æ ·çš„å¯¹ï¼ˆ0~5å¯¹åº”çš„ä½™æ•°ç»„æˆçš„å¯¹ï¼‰ï¼Œ<strong>è€Œä¸”æ¯ä¸€ä¸ªå¯¹éƒ½æ˜¯ä¸åŒçš„</strong> ï¼Œï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å¯ä»¥ç”¨ä¸¤ä¸ªæ•°å­—2ï¼Œ3çš„ä½™æ•°çš„å¯¹æ¥è¡¨ç¤º6ä¸ªæ•°å­—ï¼Œ0~5ï¼Œï¼Œ$(0, 0), (1, 1), (0, 2), (1, 0), (0, 1), (1, 2)$</p>
<p>è¿™ä¸ªæ€æƒ³å°±æœ‰ç‚¹åƒ26è¿›åˆ¶æ¯ä¸€ä¸ªå­—ç¬¦ä¸²è¡¨ç¤ºä¸åŒçš„å”¯ä¸€çš„æ•°å­—ä¸€æ ·ï¼Œï¼Œ</p>
<p><strong>ä½†æ˜¯ä¸€å®šè¦ä¿è¯è¢«æ¨¡æ•°ä¸¤ä¸¤äº’è´¨</strong> ï¼Œï¼Œ</p>
<h4 id="å†å›åˆ°è¿™é“é¢˜ä¸Šï¼Œï¼Œ"><a href="#å†å›åˆ°è¿™é“é¢˜ä¸Šï¼Œï¼Œ" class="headerlink" title="å†å›åˆ°è¿™é“é¢˜ä¸Šï¼Œï¼Œ"></a>å†å›åˆ°è¿™é“é¢˜ä¸Šï¼Œï¼Œ</h4><p>å½“n=5æ—¶ï¼Œä¸¤ä¸ªå­—ç¬¦ä¸²ï¼š</p>
<p>ababab ,å¾ªç¯èŠ‚ä¸º2<br>abcabc ,å¾ªç¯èŠ‚ä¸º3</p>
<p>åœ¨è¿™ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œaå¦‚æœè¡¨ç¤ºä¸º0ï¼Œbä¸º1ï¼Œï¼Œé‚£ä¹ˆæ‰€æœ‰çš„aæ‰€å¤„çš„ä½ç½®å°±æ˜¯æ‰€æœ‰æ¨¡2ä¸ºé›¶çš„ä½ç½®ï¼Œï¼Œä¹Ÿå°±æ˜¯0ï¼Œ2ï¼Œ4â€¦åŒç†béƒ½æ˜¯æ¨¡2ä¸º1çš„ä½ç½®ï¼Œï¼Œ</p>
<p>åŒç†å¯¹äºç¬¬äºŒä¸ªå­—ç¬¦ä¸²ï¼Œa=0,b=1,c=2ï¼Œï¼Œï¼Œ</p>
<p>ç„¶åæŠŠè¿™ä¸¤ä¸ªå­—ç¬¦ä¸²å‘é€ç»™äº¤äº’å™¨ï¼Œä¼šå¾—åˆ°ä¸¤ä¸ªæ”¹å˜åçš„å­—ç¬¦ä¸²ï¼Œï¼Œå‡å¦‚è¯´å¯¹äºç¬¬0ä¸ªä½ç½®å¤„çš„å­—ç¬¦å¾—åˆ°çš„æ˜¯ä¸€ä¸ªb,ä¸€ä¸ªcï¼Œï¼Œæˆ‘ä»¬æŠŠè¿™ä¸¤ä¸ªç”¨ä¸Šé¢çš„æ•°å­—æ¥è¡¨ç¤ºï¼Œç¬¬ä¸€ä¸ªç»´åº¦è¡¨ç¤ºæ˜¯ç¬¬ä¸€ä¸ªä¸²ä¸­çš„ä½ç½®ï¼Œç¬¬äºŒä¸ªç»´åº¦å°±æ˜¯ç¬¬äºŒä¸ªä¸²ä¸­å‡ºç°çš„ä½ç½®ï¼Œï¼Œä¹Ÿå°±æ˜¯(1,2),,å¦‚æœå’Œä¸Šé¢é‚£ä¸ªå¯¹æ¯”ä¸€ä¸‹ï¼Œå‘ç° (1,2)è¡¨ç¤ºçš„æ˜¯5ï¼Œä¹Ÿå°±æ˜¯è¯´0ä½å¤„çš„å­—ç¬¦å’Œç¬¬5ä½å¤„çš„å­—ç¬¦äº¤æ¢æ‰€å¾—ï¼Œï¼Œï¼Œ</p>
<p>ç„¶åå¯¹äºåˆšå¼€å§‹æ²¡æœ‰è¯¢é—®æ—¶ï¼Œç¬¬0ä½å¤„çš„å¯èƒ½äº¤æ¢ä½ç½®æ˜¯æ‰€æœ‰çš„ä½ç½®ï¼Œï¼Œ</p>
<p>ç„¶åç¬¬ä¸€æ¬¡è¯¢é—®å¾—åˆ°bï¼Œè¡¨ç¤ºå¯èƒ½çš„äº¤æ¢ä½ç½®æ˜¯ {1,3,5}ï¼Œï¼Œ</p>
<p>ç„¶åç¬¬äºŒæ¬¡è¯¢é—®å¾—åˆ°cï¼Œå¯èƒ½çš„äº¤æ¢ä½ç½®å°±åªæœ‰äº†{5}ï¼Œï¼Œï¼Œ</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œ3æ¬¡è¯¢é—®çš„äº¤é›†å°±æ˜¯æœ€åè¿™ä¸ªä½ç½®å’Œå¦ä¸€ä¸ªä½ç½®äº¤æ¢çš„è§£ï¼Œï¼Œ</p>
<p>æˆ‘ä»¬0~n-1æšä¸¾æ¯ä¸€ä¸ªå­—ç¬¦ä¸‰æ¬¡è¯¢é—®çš„äº¤é›†å°±å¯ä»¥å¾—åˆ°æœ€å s-&gt;t çš„è§„åˆ™ï¼Œï¼Œç„¶åå°±å¯ä»¥åƒä¸Šé¢é‚£ç§è§£æ³•ä¸€æ ·å¤„ç†äº†ï¼Œï¼Œï¼Œ</p>
<h4 id="ä¸ºä»€ä¹ˆè¦é€‰26ï¼Œ25ï¼Œ23"><a href="#ä¸ºä»€ä¹ˆè¦é€‰26ï¼Œ25ï¼Œ23" class="headerlink" title="ä¸ºä»€ä¹ˆè¦é€‰26ï¼Œ25ï¼Œ23"></a>ä¸ºä»€ä¹ˆè¦é€‰26ï¼Œ25ï¼Œ23</h4><p>ä¸Šé¢é‚£ç§è§£æ³•é€‰ $26^3$ çš„åŸå› æ˜¯å› ä¸ºå­—ç¬¦ä¸²çš„é•¿åº¦æ˜¯1e4ï¼Œï¼Œæ‰€ä»¥ä¸ºäº†èƒ½å¤Ÿç”¨ä¸€ä¸ªå­—ç¬¦ä¸²è¡¨ç¤ºçš„æ•°å”¯ä¸€çš„è¡¨ç¤ºæ¯ä¸€ä¸ªä½ç½®ï¼Œï¼Œæ‰€ä»¥é€‰äº†é•¿åº¦ä¸º3çš„å­—ç¬¦ä¸²ï¼Œç„¶åæ‹†å¼€è¯¢é—®3æ¬¡åˆå¹¶è¿™ä¸ªæ“ä½œï¼Œï¼Œ</p>
<p>å¯¹äºè¿™ä¸ªè§£æ³•ï¼Œï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯ç”¨å¾ªç¯çš„å­—ç¬¦ä¸²ç±»ä¼¼ <code>abcd.....xyzabc</code> , <code>abcd...xyab</code> ç­‰ç­‰æ¥è¡¨ç¤ºæ¯ä¸€ä½å¤„çš„æƒ…å†µï¼Œï¼Œæ‰€ä»¥æ¯ä¸€ä¸ªå­—ç¬¦ä¸²çš„å¾ªç¯èŠ‚çš„é•¿åº¦å°±è¡¨ç¤ºäº†è¿™ä¸€ç»´åº¦æ‰€èƒ½è¡¨ç¤ºçš„æƒ…å†µæ•°ï¼Œï¼Œä¸ºäº†èƒ½å¤§äºç­‰äº1e4ï¼Œï¼Œé€‰æ‹©ä¸‰ä¸ªå¾ªç¯èŠ‚åˆ†åˆ«ä¸º {26,25,23} çš„å­—ç¬¦ä¸²æ¥é€ä¸€è¯¢é—®ï¼Œï¼Œå¯èƒ½è¡¨ç¤ºçš„æƒ…å†µæ•°å°±æ˜¯ï¼š $26<em>25</em>23 &gt; 1e4$ ï¼Œï¼Œï¼Œä¸ºä»€ä¹ˆä¸é€‰24å‘¢ï¼Œï¼Œå› ä¸ºå®ƒå’Œ26ä¸äº’è´¨ï¼Œï¼Œï¼Œå°±ä¼šå‡ºç°ä¸€äº›ç›¸åŒçš„ä¸‰å…ƒå¯¹ï¼Œï¼Œè¿™æ ·å°±ä¸èƒ½å”¯ä¸€è¡¨ç¤ºæ¯ä¸€ä¸ªä½ç½®äº†ï¼Œï¼Œ</p>
<h4 id="ä¸­å›½å‰©ä½™å®šç†çš„ä½œç”¨"><a href="#ä¸­å›½å‰©ä½™å®šç†çš„ä½œç”¨" class="headerlink" title="ä¸­å›½å‰©ä½™å®šç†çš„ä½œç”¨"></a>ä¸­å›½å‰©ä½™å®šç†çš„ä½œç”¨</h4><p>è²Œä¼¼è¯´äº†è¿™ä¹ˆä¸€å¤§å †ï¼Œå’Œä¸­å›½å‰©ä½™å®šç†æ²¡æœ‰å…³ç³»å•Šï¼Œï¼Œï¼Œä¸Šé¢åªæ˜¯è®¨è®ºäº†è¯¥æ€ä¹ˆè¡¨ç¤ºæ¯ä¸€ä¸ªä½ç½®çš„æ•°å­—ï¼Œï¼Œä½†æ˜¯æ€ä¹ˆæŠŠå¾—åˆ°çš„ä¸‰å…ƒå¯¹è½¬åŒ–æˆåè¿›åˆ¶çš„ä¸‹æ ‡æ•°å­—å‘¢ï¼Œå› ä¸ºæˆ‘ä»¬è¦æ ¹æ®è¿™ä¸ªæ¥åæ¨å­—ç¬¦ä¸²å•Šï¼Œï¼Œ</p>
<p>ä¸­å›½å‰©ä½™å®šç†å°±æ˜¯å¹²è¿™ä¸ªçš„ï¼Œä»–å¯ä»¥æ±‚å‡ºä¸€äº›å½¢å¦‚ $x\%m_i=a_i$ çš„è§£ï¼Œï¼Œè€Œæˆ‘ä»¬æ±‚å‡ºçš„æ¯ä¸€ä¸ªä½ç½®å¤„çš„ä¸‰å…ƒç»„å°±å¯ä»¥çœ‹æˆä¸‰ä¸ª $a_i$ ï¼Œï¼Œè€Œ26ï¼Œ25ï¼Œ23 å°±å¯ä»¥çœ‹æˆæ˜¯ä¸‰ä¸ªæ¨¡æ•° &amp;m_i$ ï¼Œï¼Œï¼Œè¿™æ ·å°±å¯ä»¥æ±‚å‡ºæ¯ä¸ªä½ç½®å¤„å”¯ä¸€çš„æ”¹å˜çš„ä¸‹æ ‡å€¼ï¼Œï¼Œ</p>
<h4 id="æœ€åçš„æ“ä½œæ­¥éª¤"><a href="#æœ€åçš„æ“ä½œæ­¥éª¤" class="headerlink" title="æœ€åçš„æ“ä½œæ­¥éª¤"></a>æœ€åçš„æ“ä½œæ­¥éª¤</h4><ul>
<li>æ„é€ ä¸‰ä¸ªå¾ªç¯èŠ‚åˆ†åˆ«ä¸º 26, 25, 23 çš„å­—ç¬¦ä¸²ï¼Œä½œä¸ºåé¢ä¸‰æ¬¡è¯¢é—®çš„å­—ç¬¦ä¸²</li>
<li>ä¿å­˜æ¯ä¸€æ¬¡è¯¢é—®åçš„æ”¹å˜çš„å­—ç¬¦ä¸²</li>
<li>å–ä¸‰ä¸ªè¯¢é—®åå¾—åˆ°çš„å­—ç¬¦ä¸²çš„å€¼ï¼Œç»„æˆä¸‰å…ƒç»„ï¼Œåˆ©ç”¨CRTæ±‚å‡ºè¦æ”¹å˜çš„ä¸‹è¡¨çš„å€¼</li>
<li>æ±‚åè§„åˆ™ï¼Œå¾—å‡ºå­—ç¬¦ä¸²s</li>
</ul>
<h2 id="ä»£ç -1"><a href="#ä»£ç -1" class="headerlink" title="ä»£ç "></a>ä»£ç </h2><h3 id="3ä½26è¿›åˆ¶è¡¨ç¤º"><a href="#3ä½26è¿›åˆ¶è¡¨ç¤º" class="headerlink" title="3ä½26è¿›åˆ¶è¡¨ç¤º"></a>3ä½26è¿›åˆ¶è¡¨ç¤º</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e7</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-keyword">char</span> s[maxn], tmp[maxn];<br><span class="hljs-keyword">int</span> t[maxn], rev[maxn];     <span class="hljs-comment">//t[i] è¡¨ç¤ºs-&gt;tçš„å˜åŒ–è§„åˆ™ï¼Œrev[i]è¡¨è¡¨ç¤ºt-&gt;sçš„å˜åŒ–è§„åˆ™</span><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    <span class="hljs-comment">// ios_base::sync_with_stdio(0);</span><br>    <span class="hljs-comment">// cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>, s + <span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">int</span> n = <span class="hljs-built_in">strlen</span>(s + <span class="hljs-number">1</span>);<br>    tmp[n + <span class="hljs-number">1</span>] = <span class="hljs-string">&#x27;\0&#x27;</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">26</span> * <span class="hljs-number">26</span>; i *= <span class="hljs-number">26</span>)<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; ++j)tmp[j] = j / i % <span class="hljs-number">26</span> + <span class="hljs-string">&#x27;a&#x27;</span>;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;? %s\n&quot;</span>, tmp + <span class="hljs-number">1</span>);<br>        fflush(<span class="hljs-built_in">stdout</span>);<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>, tmp + <span class="hljs-number">1</span>);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; ++j)t[j] += (tmp[j] - <span class="hljs-string">&#x27;a&#x27;</span>) * i;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)rev[t[i]] = i; <span class="hljs-comment">//æ±‚å‡ºt-&gt;sçš„å˜åŒ–è§„åˆ™</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)tmp[i] = s[rev[i]];<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;! &quot;</span>);<br>    <span class="hljs-built_in">puts</span>(tmp + <span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;       <br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="ä¸­å›½å‰©ä½™å®šç†è¡¨ç¤º"><a href="#ä¸­å›½å‰©ä½™å®šç†è¡¨ç¤º" class="headerlink" title="ä¸­å›½å‰©ä½™å®šç†è¡¨ç¤º"></a>ä¸­å›½å‰©ä½™å®šç†è¡¨ç¤º</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e7</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-keyword">int</span> n, rev[maxn], t[maxn];<br><span class="hljs-keyword">char</span> s[maxn], tmp[<span class="hljs-number">4</span>][maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">mul_inv</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> b0 = b, t, q;<br>    <span class="hljs-keyword">int</span> x0 = <span class="hljs-number">0</span>, x1 = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">if</span>(b == <span class="hljs-number">1</span>)<span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(a &gt; <span class="hljs-number">1</span>)<br>    &#123;<br>        q = a / b;<br>        t = b; b = a % b; a = t;<br>        t = x0; x0 = x1 - q * x0; x1 = t;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(x1 &lt; <span class="hljs-number">0</span>) x1 += b0;<br>    <span class="hljs-keyword">return</span> x1;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">chinese_remainder</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; a, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; b, <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> p, prod = <span class="hljs-number">1</span>, sum = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i)prod *= b[i];<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i)<br>    &#123;<br>        p = prod / b[i];<br>        sum += a[i] * mul_inv(p, b[i]) * p;<br>    &#125;<br>    <span class="hljs-keyword">return</span> sum % prod;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    <span class="hljs-comment">// ios_base::sync_with_stdio(0);?</span><br>    <span class="hljs-comment">// cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>, s);<br>    <span class="hljs-keyword">int</span> n = <span class="hljs-built_in">strlen</span>(s);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> m = <span class="hljs-number">26</span>, j = <span class="hljs-number">0</span>; m &gt;= <span class="hljs-number">23</span>; --m, j = <span class="hljs-number">0</span>)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(m == <span class="hljs-number">24</span>)<span class="hljs-keyword">continue</span>; <span class="hljs-comment">//24 is not coprime with others (26, 25)</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i)<br>        &#123;<br>            <span class="hljs-comment">//abcd....xyzab</span><br>            <span class="hljs-comment">//abcd....xyabc</span><br>            <span class="hljs-comment">//abcd....wabcd</span><br>            tmp[<span class="hljs-number">26</span> - m][i] = (<span class="hljs-keyword">char</span>)(<span class="hljs-string">&#x27;a&#x27;</span> + j);<br>            ++j;<br>            j %= m;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= <span class="hljs-number">3</span>; ++i)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(i == <span class="hljs-number">2</span>)<span class="hljs-keyword">continue</span>;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;? %s\n&quot;</span>, tmp[i]);<br>        fflush(<span class="hljs-built_in">stdout</span>);<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>, tmp[i]);<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i)<br>        t[i] = chinese_remainder(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&#123;tmp[<span class="hljs-number">0</span>][i] - <span class="hljs-string">&#x27;a&#x27;</span>, tmp[<span class="hljs-number">1</span>][i] - <span class="hljs-string">&#x27;a&#x27;</span>, tmp[<span class="hljs-number">3</span>][i] - <span class="hljs-string">&#x27;a&#x27;</span>&#125;, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&#123;<span class="hljs-number">26</span>, <span class="hljs-number">25</span>, <span class="hljs-number">23</span>&#125;, <span class="hljs-number">3</span>);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i)rev[t[i]] = i;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;! &quot;</span>);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i)<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%c&quot;</span>, s[rev[i]]);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;       <br>&#125;<br></code></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Codeforces</category>
      </categories>
      <tags>
        <tag>åˆ·é¢˜</tag>
        <tag>acm</tag>
        <tag>cf</tag>
      </tags>
  </entry>
  <entry>
    <title>anaconda3ä¸‹é…ç½®python-3.5+tensorflow-gpu-1.9.0äººè„¸è¯†åˆ«é¡¹ç›®ç¯å¢ƒ</title>
    <url>/2019/03/29/anaconda3%E4%B8%8B%E9%85%8D%E7%BD%AEpython-3-5-tensorflow-gpu-1-9-0%E4%BA%BA%E8%84%B8%E8%AF%86%E5%88%AB%E9%A1%B9%E7%9B%AE%E7%8E%AF%E5%A2%83/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>ä¹‹å‰ä¸ºäº†é…ç½®tensorflow-gpuçš„ç¯å¢ƒåˆæ˜¯è£…cuda,åˆæ˜¯è£…cudnnï¼Œè¿˜æœ‰tensoflow-gpuç­‰ç­‰ï¼Œï¼Œå› ä¸ºå½“æ—¶ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡æ­å»ºè¿™ä¸ªç¯å¢ƒï¼Œæ‰€ä»¥å®Œå…¨æ˜¯æŒ‰ç…§åˆ«äººçš„æ­å»ºæ–¹æ³•æ¥ä¸€æ­¥ä¸€æ­¥çš„å¼„å¾—ï¼Œï¼Œåæ¥æˆ‘åœ¨ç»™å®¤å‹å®‰è£…ç¯å¢ƒçš„æ—¶å€™ï¼Œå‘ç°cuda,cudnnä»€ä¹ˆçš„å®Œå…¨ä¸ç”¨è‡ªå·±å®‰è£…ï¼Œï¼Œï¼Œå…¨éƒ¨äº¤ç»™ <strong>anaconda3</strong> ï¼ˆå¥½ä¸œè¥¿ï¼‰å°±è¡Œäº†</p>
<span id="more"></span>
<h1 id="Anaconda3å®‰è£…"><a href="#Anaconda3å®‰è£…" class="headerlink" title="Anaconda3å®‰è£…"></a>Anaconda3å®‰è£…</h1><p>å‡ ä¹æœ€åæ‰€æœ‰çš„ä¸œè¥¿éƒ½æ˜¯ç”¨è¿™ä¸ªå®Œæˆçš„ï¼Œï¼Œæ‰€ä»¥å…ˆå»å®‰è£…è¿™ç©æ„ï¼Œï¼Œ</p>
<p>ç›´æ¥å®˜ç½‘ä¸‹è½½å°±è¡Œäº†ï¼Œï¼Œå®‰è£…çš„æ—¶å€™è®°å¾—é€‰æ‹© <strong>PATH</strong> é…ç½®ï¼Œï¼Œä¸ç„¶ä¹‹åè¿˜å¾—è‡ªå·±å»å¼„ç¯å¢ƒå˜é‡ï¼Œï¼Œ</p>
<p>ç„¶ååœ¨ powershell é‡Œæ£€æŸ¥ä¸€ä¸‹ç¡®å®é…ç½®æˆåŠŸå°±è¡Œäº† <code>conda -V</code></p>
<h1 id="é…ç½®ä¸€ä¸ªç¯å¢ƒ"><a href="#é…ç½®ä¸€ä¸ªç¯å¢ƒ" class="headerlink" title="é…ç½®ä¸€ä¸ªç¯å¢ƒ"></a>é…ç½®ä¸€ä¸ªç¯å¢ƒ</h1><p>å› ä¸ºæˆ‘çš„ç”µè„‘æ˜¯ win10x64+gtx1050ï¼Œï¼Œæ‰€ä»¥é€‰æ‹©å®‰è£… tensorflow-gpu-1.9.0ç‰ˆçš„ï¼Œï¼Œgpuç‰ˆçš„åˆ°æ—¶å€™è®­ç»ƒæ¨¡å‹çš„æ—¶å€™è·‘çš„å¾ˆå¿«ï¼Œï¼Œï¼ˆå¤§æ¦‚1s2-3å¼ ç…§ç‰‡å§ï¼‰ï¼Œå¦‚æœç”¨cpuè·‘çš„è¯æœ‰äº›æ…¢ï¼Œï¼Œ1å¼ ç…§ç‰‡å¯èƒ½è¦2så·¦å³ï¼Œï¼Œï¼Œ</p>
<p>æ‰“å¼€powsershellï¼Œï¼Œï¼ˆåƒä¸‡ä¸è¦æ¢æºï¼Œï¼Œåƒä¸‡ä¸è¦æ¢æºï¼Œï¼Œåƒä¸‡ä¸è¦æ¢æºï¼Œï¼Œ</p>
<h2 id="åˆ›å»ºä¸€ä¸ªç¯å¢ƒ"><a href="#åˆ›å»ºä¸€ä¸ªç¯å¢ƒ" class="headerlink" title="åˆ›å»ºä¸€ä¸ªç¯å¢ƒ"></a>åˆ›å»ºä¸€ä¸ªç¯å¢ƒ</h2><figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js">conda create -n [name] python=<span class="hljs-number">3.5</span> tensorflow-gpu=<span class="hljs-number">1.9</span><span class="hljs-number">.0</span><br></code></pre></td></tr></table></figure>
<p>å¯èƒ½è¿™ä¸€æ­¥ä¼šå¾ˆæ…¢ï¼Œï¼Œä½†æ˜¯å»ºè®®ä¸è¦å»æ¢æºï¼Œï¼Œå› ä¸ºä¼šå‡ºç°ä¸‹çš„ä¸œè¥¿ä¸å…¨ï¼Œæœ€åå¯èƒ½ä¸èƒ½ä½¿ç”¨gpuç‰ˆçš„tensorflowï¼Œï¼Œï¼Œ</p>
<p>è¾“å®Œè¿™æ®µå‘½ä»¤åï¼Œï¼Œç­‰ä¸€ä¼šä¼šå‡ºç°ä¸€äº›è¦å®‰è£…çš„ä¸œè¥¿åˆ—è¡¨ï¼Œï¼Œè¿™æ—¶ä¸»è¦çœ‹ä¸€ä¸‹æœ‰æ²¡æœ‰python, <strong>tensorflow-gpu</strong>, <strong>cudnn</strong>, <strong>cudatoolkit</strong>,,,éƒ½æœ‰çš„è¯å°±yç¡®å®šç­‰å°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
<p>ç¯å¢ƒçš„åå­—éšä¾¿èµ·ï¼Œï¼Œ</p>
<h2 id="æ¿€æ´»ç¯å¢ƒ"><a href="#æ¿€æ´»ç¯å¢ƒ" class="headerlink" title="æ¿€æ´»ç¯å¢ƒ"></a>æ¿€æ´»ç¯å¢ƒ</h2><p>å› ä¸ºè¿™æ—¶æ˜¯powershellä¸‹ï¼Œï¼Œï¼Œæ¿€æ´»ç¯å¢ƒä¼šä¸æˆåŠŸï¼Œï¼Œæ‰€ä»¥ç›´æ¥åˆ‡æ¢åˆ°cmdæ¨¡å¼å°±è¡Œäº†ï¼Œï¼Œè¾“ <code>cmd</code>ï¼Œï¼Œï¼Œ</p>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js">activate [name]<br></code></pre></td></tr></table></figure>
<p>è¿™æ—¶ä¼šå‘ç°å‰é¢å¤šäº†ä¸€ä¸ª <code>([name])</code> çš„ä¸œè¥¿ï¼Œè¡¨ç¤ºæ¿€æ´»ç¯å¢ƒæˆåŠŸï¼Œï¼Œï¼Œ</p>
<p>ç„¶åå†æµ‹è¯•ä¸€ä¸‹pythonä¸‹èƒ½ä¸èƒ½è°ƒç”¨ tensorflow-gpu ç‰ˆï¼Œï¼Œæµ‹è¯•çš„æ–¹æ³•å¯ä»¥å‚è€ƒæˆ‘çš„ä¸Šä¸€ç¯‡åšå®¢é‡Œåé¢é‚£ä¸€éƒ¨åˆ†å†…å®¹ ï¼Œï¼Œï¼Œ</p>
<h2 id="è¿è¡Œç®€å•çš„äººè„¸è¯†åˆ«çš„å®ä¾‹"><a href="#è¿è¡Œç®€å•çš„äººè„¸è¯†åˆ«çš„å®ä¾‹" class="headerlink" title="è¿è¡Œç®€å•çš„äººè„¸è¯†åˆ«çš„å®ä¾‹"></a>è¿è¡Œç®€å•çš„äººè„¸è¯†åˆ«çš„å®ä¾‹</h2><p>å‰é¢çš„å‡†å¤‡å·¥ä½œå¼„å¥½ä¹‹åå°±å¯ä»¥è¿è¡Œä¸€ä¸ªç®€å•çš„å®ä¾‹çœ‹ä¸€ä¸‹åœ¨è¿™ä¸ªç¯å¢ƒä¸‹çš„è¿è¡Œæƒ…å†µï¼Œï¼Œï¼Œ</p>
<p>ä¸‹é¢çš„pythonç¨‹åºæ˜¯å­¦é•¿ç»™æˆ‘çš„ï¼Œï¼Œç„¶åæˆ‘å‘ç°å­¦é•¿çš„ç¨‹åºæ˜¯<a href="https://www.cnblogs.com/mu---mu/p/FaceRecognition-tensorflow.html">è¿™ä¸ªåšä¸»å†™çš„é¡¹ç›®</a>ï¼Œï¼Œå…¶ä¸­ä¹Ÿæœ‰æˆ‘çš„ä¸€äº›æ”¹åŠ¨ï¼Œï¼Œä¸‹é¢ä¼šæåˆ°ï¼Œï¼Œ</p>
<p>ä¸‹é¢çš„æ“ä½œéƒ½æ˜¯åœ¨åˆšåˆšåˆ›å»ºçš„ç¯å¢ƒä¸‹æ“ä½œçš„ï¼Œï¼Œï¼Œå¦åˆ™çš„è¯ä¼šæ˜¯anaconda3é»˜è®¤çš„baseç¯å¢ƒä¸‹ï¼Œï¼Œï¼Œ</p>
<h3 id="å®‰è£…å¿…å¤‡çš„åº“"><a href="#å®‰è£…å¿…å¤‡çš„åº“" class="headerlink" title="å®‰è£…å¿…å¤‡çš„åº“"></a>å®‰è£…å¿…å¤‡çš„åº“</h3><p>å› ä¸ºè¿™ä¸ªäººè„¸è¯†åˆ«çš„å®ç°ç”¨åˆ°äº† opencv, dlibç­‰ç­‰ï¼Œï¼Œæ‰€ä»¥å…ˆå®‰è£…è¿™äº›ï¼Œï¼Œ</p>
<h4 id="å®‰è£…opencv"><a href="#å®‰è£…opencv" class="headerlink" title="å®‰è£…opencv"></a>å®‰è£…opencv</h4><figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js">conda install opencv<br></code></pre></td></tr></table></figure>
<h4 id="å®‰è£…dlib"><a href="#å®‰è£…dlib" class="headerlink" title="å®‰è£…dlib"></a>å®‰è£…dlib</h4><p>è¿™ä¸ªç©æ„çš„å®‰è£…æœ‰ç‚¹å‘ï¼Œï¼Œæœ‰æ—¶è²Œä¼¼ç›´æ¥å®‰è£…ä¼šå®‰è£…ä¸ä¸Šï¼Œï¼Œä¼šæç¤ºæ²¡æœ‰ <code>cmake</code> è¿™ä¸ªåŒ…ç®¡ç†è½¯ä»¶ï¼Œï¼Œæ‰€ä»¥è¦å…ˆå®‰è£…cmakeï¼Œï¼Œå»ºè®®æ˜¯åœ¨anaconda3ä¸»ç¨‹åºï¼ˆå¼€å§‹èœå•é‡Œæ‰¾ Anaconda Navigatorï¼‰ä¸­æ‰¾åˆ°ä½ çš„é‚£ä¸ªç¯å¢ƒï¼Œï¼Œç„¶åå† uninstall ä¸­æ‰¾åˆ° cmake ç„¶åå®‰è£…ï¼Œï¼Œï¼Œ</p>
<p>ä½†æ˜¯è¿™æ ·å¯èƒ½è¿˜æ˜¯å®‰è£…ä¸äº†dlibï¼Œï¼Œæ— è®ºæ˜¯ç”¨condaè¿˜æ˜¯pipå®‰è£…ï¼Œï¼Œ</p>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js">conda install dlib<br>pip install dlib<br></code></pre></td></tr></table></figure>
<p>åæ¥æˆ‘æ‰¾åˆ°ä¸€ä¸ªè§£å†³æ–¹æ³•ï¼Œï¼Œå»ä¸‹è½½ <code>dlib****.whl</code> ç„¶åæœ¬åœ°å®‰è£…ï¼Œï¼Œ</p>
<p><a href="https://pypi.org/project/dlib/19.1.0/#files">ä¸‹è½½åœ°å€</a></p>
<p>å† DownloadFiles ä¸­æ‰¾åˆ°ä¸€ä¸ªè¿™ä¸ªä¸œè¥¿ï¼Œï¼Œ<br><code>dlib-19.1.0-cp35-cp35m-win_amd64.whl</code></p>
<p>ç„¶åæ”¾åˆ°ä½ ç°åœ¨çš„è·¯å¾„ä¸‹ï¼Œï¼Œ<code>pip install dlib-19.1.0-cp35-cp35m-win_amd64.whl</code></p>
<p>åº”è¯¥è¿™æ ·å°±å¯ä»¥å®‰è£…ä¸Šäº†dlibï¼Œï¼Œï¼Œå½“ç„¶ä½ å¯ä»¥ç”¨å…¶ä»–çš„æ–¹æ³•å®‰è£…ï¼Œï¼Œç½‘ä¸Šä¹Ÿæœ‰å¾ˆå¤šè§£å†³æ–¹æ³•ï¼Œï¼Œï¼Œä¹Ÿæœ‰å¯èƒ½ç›´æ¥ç”¨ pip å°±èƒ½å®‰è£…ä¸Šï¼ˆæ¯”å¦‚æˆ‘çš„ç”µè„‘å°±èƒ½ï¼Œï¼Œå®¤å‹çš„å°±ä¼šå‡ºç°ä¸Šé¢çš„é”™è¯¯ï¼Œï¼Œå¾—ç»•ä¸€ä¸ªå¼¯å­ï¼‰</p>
<h4 id="å®‰è£…sklearn"><a href="#å®‰è£…sklearn" class="headerlink" title="å®‰è£…sklearn"></a>å®‰è£…sklearn</h4><p>è¿™ä¸ªç®€å•ï¼Œï¼Œä¼šåœ¨è®­ç»ƒé‚£ä¸€æ­¥ç”¨åˆ°</p>
<p><code>pip install sklearn</code></p>
<h3 id="è¿è¡Œå®ä¾‹"><a href="#è¿è¡Œå®ä¾‹" class="headerlink" title="è¿è¡Œå®ä¾‹"></a>è¿è¡Œå®ä¾‹</h3><p><a href="https://www.cnblogs.com/mu---mu/p/FaceRecognition-tensorflow.html">é‚£ä¸ªåšä¸»çš„é¡¹ç›®åˆ†ä¸º4ä¸ªéƒ¨åˆ†ï¼Œ</a></p>
<ul>
<li>get_my_faces.py: è·å–äººè„¸å¹¶è¯†åˆ«å‡ºæ¥è£å‰ªå‡ºæ¥ä½œä¸ºå…ƒæ•°æ®</li>
<li>set_other_faces.py: è·å–14000å¼ äººè„¸çš„ç…§ç‰‡ä½œä¸ºè®­ç»ƒæ‰€è¦ç”¨çš„æ•°æ®</li>
<li>train_faces.py: è®­ç»ƒæ¨¡å‹</li>
<li>is_my_face.py: å®æ—¶è·å–äººè„¸ï¼Œå¹¶åˆ¤æ–­æ˜¯å¦å’Œç¬¬ä¸€æ­¥æ‰€å½•å…¥çš„äººè„¸ç›¸åŒ¹é…</li>
</ul>
<h4 id="get-my-faces"><a href="#get-my-faces" class="headerlink" title="get_my_faces"></a>get_my_faces</h4><p>è¿™ä¸€æ­¥å¯ä»¥ä½¿ç”¨ dlib çš„äººè„¸è¯†åˆ«è£å‰ªï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨opencvè‡ªå¸¦çš„æ¥ä½¿ç”¨ï¼Œï¼Œå’Œå®¤å‹è¯•éªŒäº†ä¸€ä¸‹ï¼Œå‘ç°opencvçš„è™½ç„¶ç›¸å¯¹è¾ƒå¿«ï¼Œä½†æ˜¯è¯†åˆ«ä¸ä½³ï¼Œè€Œä¸”åŒæ ·å¤§å°çš„è§†é¢‘æœ€åç”Ÿæˆçš„ç…§ç‰‡ä¸ªæ•°ä¹Ÿå¾ˆå°‘ï¼ˆä¹Ÿæœ‰å¯èƒ½æ˜¯é‚£é‡Œæ²¡å†™å¥½ï¼‰ï¼Œï¼Œ</p>
<p>åŸåšä¸»çš„ç¨‹åºæ˜¯æ‹ä¸€å¼ ç…§ç‰‡ç„¶åè¯†åˆ«ä¸€å¼ è£å‰ªä¸€å¼ ï¼Œï¼Œè¿™æ ·å¾ˆæ…¢ï¼Œï¼Œæ‰€ä»¥æˆ‘æŠŠå®ƒæ”¹æˆäº†å½•ä¸€æ®µè§†é¢‘ï¼Œç„¶åå¯¹äºæ¯ä¸€å¸§æ¥è¯†åˆ«è£å‰ªï¼Œï¼Œè¿™æ ·è´¼å¿«ï¼Œï¼Œï¼Œï¼ˆæŒ‰qé€€å‡ºå½•åˆ¶åè‡ªåŠ¨è¿›è¡Œåé¢çš„å†…å®¹</p>
<p>æ³¨æ„å¤åˆ¶ä»£ç åè¦é€‚å½“çš„æ”¹ä¸€äº›å‚æ•°ï¼Œï¼Œæ¯”å¦‚è¯´opencvä¸­hearçš„å‚æ•°ç­‰ç­‰</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> cv2<br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> dlib<br><span class="hljs-keyword">import</span> sys<br><span class="hljs-keyword">import</span> random<br><span class="hljs-keyword">import</span> shutil<br><br> <br> <br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">make_video</span>():</span><br>    <span class="hljs-comment"># å½•åˆ¶è§†é¢‘</span><br>    shutil.rmtree(<span class="hljs-string">&#x27;./my_faces&#x27;</span>)<br>    <span class="hljs-string">&quot;&quot;&quot;ä½¿ç”¨opencvå½•åƒ&quot;&quot;&quot;</span><br>    cap = cv2.VideoCapture(<span class="hljs-number">0</span>)  <span class="hljs-comment"># é»˜è®¤çš„æ‘„åƒå¤´</span><br>    <span class="hljs-comment"># æŒ‡å®šè§†é¢‘ä»£ç </span><br>    fourcc = cv2.VideoWriter_fourcc(*<span class="hljs-string">&quot;DIVX&quot;</span>)<br>    out = cv2.VideoWriter(<span class="hljs-string">&#x27;233.avi&#x27;</span>, fourcc, <span class="hljs-number">20.0</span>, (<span class="hljs-number">640</span>,<span class="hljs-number">480</span>))<br>    <span class="hljs-keyword">while</span>(cap.isOpened()):<br>        ret, frame = cap.read()<br>        <span class="hljs-keyword">if</span> ret:<br>            out.write(frame)<br>            <span class="hljs-comment">#</span><br>            cv2.imshow(<span class="hljs-string">&#x27;frame&#x27;</span>,frame)<br>            <span class="hljs-comment"># ç­‰å¾…æŒ‰é”®qæ“ä½œå…³é—­æ‘„åƒå¤´</span><br>            <span class="hljs-keyword">if</span> cv2.waitKey(<span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF</span> == <span class="hljs-built_in">ord</span>(<span class="hljs-string">&#x27;q&#x27;</span>):<br>                <span class="hljs-keyword">break</span><br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">break</span><br>    cap.release()<br>    out.release()<br>    cv2.destroyAllWindows()<br><br><br><br><br><span class="hljs-comment"># æ”¹å˜å›¾ç‰‡çš„äº®åº¦ä¸å¯¹æ¯”åº¦</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">relight</span>(<span class="hljs-params">img, light=<span class="hljs-number">1</span>, bias=<span class="hljs-number">0</span></span>):</span><br>    w = img.shape[<span class="hljs-number">1</span>]<br>    h = img.shape[<span class="hljs-number">0</span>]<br>    <span class="hljs-comment">#image = []</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>,w):<br>        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>,h):<br>            <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">3</span>):<br>                tmp = <span class="hljs-built_in">int</span>(img[j,i,c]*light + bias)<br>                <span class="hljs-keyword">if</span> tmp &gt; <span class="hljs-number">255</span>:<br>                    tmp = <span class="hljs-number">255</span><br>                <span class="hljs-keyword">elif</span> tmp &lt; <span class="hljs-number">0</span>:<br>                    tmp = <span class="hljs-number">0</span><br>                img[j,i,c] = tmp<br>    <span class="hljs-keyword">return</span> img<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">hhh</span>():</span><br>    <span class="hljs-comment"># åˆ©ç”¨dlibæ¥å®ç°</span><br>    output_dir = <span class="hljs-string">&#x27;./my_faces&#x27;</span><br>    size = <span class="hljs-number">64</span><br><br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(output_dir):<br>        os.makedirs(output_dir)<br>    <span class="hljs-comment">#ä½¿ç”¨dlibè‡ªå¸¦çš„frontal_face_detectorä½œä¸ºæˆ‘ä»¬çš„ç‰¹å¾æå–å™¨</span><br>    detector = dlib.get_frontal_face_detector()<br>    <span class="hljs-comment"># æ‰“å¼€æ‘„åƒå¤´ å‚æ•°ä¸ºè¾“å…¥æµï¼Œå¯ä»¥ä¸ºæ‘„åƒå¤´æˆ–è§†é¢‘æ–‡ä»¶</span><br>    <span class="hljs-comment">#camera = cv2.VideoCapture(0)</span><br>    camera = cv2.VideoCapture(<span class="hljs-string">&quot;233.avi&quot;</span>)<br><br>    index = <span class="hljs-number">1</span><br>    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>        <span class="hljs-keyword">if</span> (index &lt;= <span class="hljs-number">10000</span>):<br>            print(<span class="hljs-string">&#x27;Being processed picture %s&#x27;</span> % index)<br>            <span class="hljs-comment"># ä»æ‘„åƒå¤´è¯»å–ç…§ç‰‡</span><br>            success, img = camera.read()<br>            <span class="hljs-comment"># è½¬ä¸ºç°åº¦å›¾ç‰‡</span><br>            gray_img = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)<br>            <span class="hljs-comment"># ä½¿ç”¨detectorè¿›è¡Œäººè„¸æ£€æµ‹</span><br>            dets = detector(gray_img, <span class="hljs-number">1</span>)<br><br>            <span class="hljs-keyword">if</span> success == <span class="hljs-literal">False</span>:<br>                <span class="hljs-keyword">break</span><br><br>            <span class="hljs-keyword">for</span> i, d <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(dets):<br>                x1 = d.top() <span class="hljs-keyword">if</span> d.top() &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> <span class="hljs-number">0</span><br>                y1 = d.bottom() <span class="hljs-keyword">if</span> d.bottom() &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> <span class="hljs-number">0</span><br>                x2 = d.left() <span class="hljs-keyword">if</span> d.left() &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> <span class="hljs-number">0</span><br>                y2 = d.right() <span class="hljs-keyword">if</span> d.right() &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> <span class="hljs-number">0</span><br><br>                face = img[x1:y1,x2:y2]<br>                <span class="hljs-comment"># è°ƒæ•´å›¾ç‰‡çš„å¯¹æ¯”åº¦ä¸äº®åº¦ï¼Œ å¯¹æ¯”åº¦ä¸äº®åº¦å€¼éƒ½å–éšæœºæ•°ï¼Œè¿™æ ·èƒ½å¢åŠ æ ·æœ¬çš„å¤šæ ·æ€§</span><br>                face = relight(face, random.uniform(<span class="hljs-number">0.5</span>, <span class="hljs-number">1.5</span>), random.randint(-<span class="hljs-number">50</span>, <span class="hljs-number">50</span>))<br><br>                face = cv2.resize(face, (size,size))<br><br>                cv2.imshow(<span class="hljs-string">&#x27;image&#x27;</span>, face)<br><br>                cv2.imwrite(output_dir+<span class="hljs-string">&#x27;/&#x27;</span>+<span class="hljs-built_in">str</span>(index)+<span class="hljs-string">&#x27;.jpg&#x27;</span>, face)<br><br>                index += <span class="hljs-number">1</span><br>            key = cv2.waitKey(<span class="hljs-number">30</span>) &amp; <span class="hljs-number">0xff</span><br>            <span class="hljs-keyword">if</span> key == <span class="hljs-number">27</span>:<br>                <span class="hljs-keyword">break</span><br>        <span class="hljs-keyword">else</span>:<br>            print(<span class="hljs-string">&#x27;Finished!&#x27;</span>)<br>            <span class="hljs-keyword">break</span><br><br><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">hhhh</span>():</span><br>    <span class="hljs-comment"># åˆ©ç”¨opencvæ¥å®ç°</span><br>    output_dir = <span class="hljs-string">&#x27;./my_faces&#x27;</span><br>    size = <span class="hljs-number">64</span><br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(output_dir):<br>        os.makedirs(output_dir)                                 <br>    <span class="hljs-comment"># è·å–åˆ†ç±»å™¨</span><br>    haar = cv2.CascadeClassifier(<span class="hljs-string">r&#x27;G:\DIP\Anaconda3\envs\test1\Library\etc\haarcascades\haarcascade_frontalface_default.xml&#x27;</span>)<br><br>    <span class="hljs-comment"># æ‰“å¼€æ‘„åƒå¤´ å‚æ•°ä¸ºè¾“å…¥æµï¼Œå¯ä»¥ä¸ºæ‘„åƒå¤´æˆ–è§†é¢‘æ–‡ä»¶</span><br>    camera = cv2.VideoCapture(<span class="hljs-string">&quot;233.avi&quot;</span>)<br><br>    n = <span class="hljs-number">1</span><br>    <span class="hljs-keyword">while</span> <span class="hljs-number">1</span>:<br>        <span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">10000</span>):<br>            print(<span class="hljs-string">&#x27;It`s processing %s image.&#x27;</span> % n)<br>            <span class="hljs-comment"># è¯»å¸§</span><br>            success, img = camera.read()<br><br>            gray_img = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)<br>            faces = haar.detectMultiScale(gray_img, <span class="hljs-number">1.3</span>, <span class="hljs-number">5</span>)<br>            <span class="hljs-keyword">for</span> f_x, f_y, f_w, f_h <span class="hljs-keyword">in</span> faces:<br>                face = img[f_y:f_y+f_h, f_x:f_x+f_w]<br>                face = cv2.resize(face, (<span class="hljs-number">64</span>,<span class="hljs-number">64</span>))<br>                <span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">                if n % 3 == 1:</span><br><span class="hljs-string">                    face = relight(face, 1, 50)</span><br><span class="hljs-string">                elif n % 3 == 2:</span><br><span class="hljs-string">                    face = relight(face, 0.5, 0)</span><br><span class="hljs-string">                &#x27;&#x27;&#x27;</span><br>                face = relight(face, random.uniform(<span class="hljs-number">0.5</span>, <span class="hljs-number">1.5</span>), random.randint(-<span class="hljs-number">50</span>, <span class="hljs-number">50</span>))<br>                cv2.imshow(<span class="hljs-string">&#x27;img&#x27;</span>, face)<br>                cv2.imwrite(output_dir+<span class="hljs-string">&#x27;/&#x27;</span>+<span class="hljs-built_in">str</span>(n)+<span class="hljs-string">&#x27;.jpg&#x27;</span>, face)<br>                n+=<span class="hljs-number">1</span><br>            key = cv2.waitKey(<span class="hljs-number">30</span>) &amp; <span class="hljs-number">0xff</span><br>            <span class="hljs-keyword">if</span> key == <span class="hljs-number">27</span>:<br>                <span class="hljs-keyword">break</span><br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">break</span><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    make_video()<br>    hhh()<br></code></pre></td></tr></table></figure>
<h4 id="set-other-faces"><a href="#set-other-faces" class="headerlink" title="set_other_faces"></a>set_other_faces</h4><p>è¿™ä¸€æ­¥ä¸»è¦æ˜¯è¯†åˆ«è£å‰ªé‚£å †åˆ«äººçš„ç…§ç‰‡</p>
<p><a href=":http://vis-www.cs.umass.edu/lfw/lfw.tgz">å…ˆå»ä¸‹é‚£ä¸€å †ç…§ç‰‡</a>ï¼Œï¼Œç„¶åè§£å‹ï¼Œé‡å‘½åä¸º <code>input_img</code> ï¼ˆåªæ˜¯éªŒè¯ä¸€ä¸‹æ•´ä¸ªé¡¹ç›®çš„æ•ˆæœçš„è¯å¯ä»¥åˆ å»ä¸€åŠçš„ç…§ç‰‡ï¼Œï¼Œä¸ç„¶å¯èƒ½å¾—è·‘ä¸ª10åˆ†é’Ÿå·¦å³ï¼Œï¼Œï¼Œ</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># -*- codeing: utf-8 -*-</span><br><span class="hljs-keyword">import</span> sys<br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> cv2<br><span class="hljs-keyword">import</span> dlib<br><br>input_dir = <span class="hljs-string">&#x27;./input_img&#x27;</span><br>output_dir = <span class="hljs-string">&#x27;./other_faces&#x27;</span><br>size = <span class="hljs-number">64</span><br><br><span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(output_dir):<br>    os.makedirs(output_dir)<br><br><span class="hljs-comment">#ä½¿ç”¨dlibè‡ªå¸¦çš„frontal_face_detectorä½œä¸ºæˆ‘ä»¬çš„ç‰¹å¾æå–å™¨</span><br>detector = dlib.get_frontal_face_detector()<br><br>index = <span class="hljs-number">1</span><br><span class="hljs-keyword">for</span> (path, dirnames, filenames) <span class="hljs-keyword">in</span> os.walk(input_dir):<br>    <span class="hljs-keyword">for</span> filename <span class="hljs-keyword">in</span> filenames:<br>        <span class="hljs-keyword">if</span> filename.endswith(<span class="hljs-string">&#x27;.jpg&#x27;</span>):<br>            print(<span class="hljs-string">&#x27;Being processed picture %s&#x27;</span> % index)<br>            img_path = path+<span class="hljs-string">&#x27;/&#x27;</span>+filename<br>            <span class="hljs-comment"># ä»æ–‡ä»¶è¯»å–å›¾ç‰‡</span><br>            img = cv2.imread(img_path)<br>            <span class="hljs-comment"># è½¬ä¸ºç°åº¦å›¾ç‰‡</span><br>            gray_img = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)<br>            <span class="hljs-comment"># ä½¿ç”¨detectorè¿›è¡Œäººè„¸æ£€æµ‹ detsä¸ºè¿”å›çš„ç»“æœ</span><br>            dets = detector(gray_img, <span class="hljs-number">1</span>)<br><br>            <span class="hljs-comment">#ä½¿ç”¨enumerate å‡½æ•°éå†åºåˆ—ä¸­çš„å…ƒç´ ä»¥åŠå®ƒä»¬çš„ä¸‹æ ‡</span><br>            <span class="hljs-comment">#ä¸‹æ ‡iå³ä¸ºäººè„¸åºå·</span><br>            <span class="hljs-comment">#leftï¼šäººè„¸å·¦è¾¹è·ç¦»å›¾ç‰‡å·¦è¾¹ç•Œçš„è·ç¦» ï¼›rightï¼šäººè„¸å³è¾¹è·ç¦»å›¾ç‰‡å·¦è¾¹ç•Œçš„è·ç¦» </span><br>            <span class="hljs-comment">#topï¼šäººè„¸ä¸Šè¾¹è·ç¦»å›¾ç‰‡ä¸Šè¾¹ç•Œçš„è·ç¦» ï¼›bottomï¼šäººè„¸ä¸‹è¾¹è·ç¦»å›¾ç‰‡ä¸Šè¾¹ç•Œçš„è·ç¦»</span><br>            <span class="hljs-keyword">for</span> i, d <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(dets):<br>                x1 = d.top() <span class="hljs-keyword">if</span> d.top() &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> <span class="hljs-number">0</span><br>                y1 = d.bottom() <span class="hljs-keyword">if</span> d.bottom() &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> <span class="hljs-number">0</span><br>                x2 = d.left() <span class="hljs-keyword">if</span> d.left() &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> <span class="hljs-number">0</span><br>                y2 = d.right() <span class="hljs-keyword">if</span> d.right() &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> <span class="hljs-number">0</span><br>                <span class="hljs-comment"># img[y:y+h,x:x+w]</span><br>                face = img[x1:y1,x2:y2]<br>                <span class="hljs-comment"># è°ƒæ•´å›¾ç‰‡çš„å°ºå¯¸</span><br>                face = cv2.resize(face, (size,size))<br>                cv2.imshow(<span class="hljs-string">&#x27;image&#x27;</span>,face)<br>                <span class="hljs-comment"># ä¿å­˜å›¾ç‰‡</span><br>                cv2.imwrite(output_dir+<span class="hljs-string">&#x27;/&#x27;</span>+<span class="hljs-built_in">str</span>(index)+<span class="hljs-string">&#x27;.jpg&#x27;</span>, face)<br>                index += <span class="hljs-number">1</span><br><br>            key = cv2.waitKey(<span class="hljs-number">30</span>) &amp; <span class="hljs-number">0xff</span><br>            <span class="hljs-keyword">if</span> key == <span class="hljs-number">27</span>:<br>                sys.exit(<span class="hljs-number">0</span>)<br></code></pre></td></tr></table></figure>
<h4 id="train-faces"><a href="#train-faces" class="headerlink" title="train_faces"></a>train_faces</h4><p>è¿™ä¸€æ­¥å°±æ˜¯è®­ç»ƒæ¨¡å‹ï¼Œï¼Œï¼Œåˆšå¼€å§‹ä¼šå¡é¡¿ä¸€ä¼šï¼Œï¼Œï¼Œä¹‹åå°±ä¼šè·‘èµ·æ¥ï¼Œï¼Œï¼Œçœ‹ä¸€ä¸‹æ˜¯ä¸æ˜¯gpuè·‘ï¼Œï¼Œcpuçš„è¯è´¼æ…¢ï¼Œï¼Œï¼Œgpuçš„è¯ä¸åˆ°ä¸€åˆ†é’Ÿå·¦å³å°±å¯ä»¥äº†ï¼Œï¼Œï¼Œ</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> tensorflow <span class="hljs-keyword">as</span> tf<br><span class="hljs-keyword">import</span> cv2<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> random<br><span class="hljs-keyword">import</span> sys<br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> train_test_split<br><br>my_faces_path = <span class="hljs-string">&#x27;./my_faces&#x27;</span><br>other_faces_path = <span class="hljs-string">&#x27;./other_faces&#x27;</span><br>size = <span class="hljs-number">64</span><br><br>imgs = []<br>labs = []<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">getPaddingSize</span>(<span class="hljs-params">img</span>):</span><br>    h, w, _ = img.shape<br>    top, bottom, left, right = (<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>)<br>    longest = <span class="hljs-built_in">max</span>(h, w)<br><br>    <span class="hljs-keyword">if</span> w &lt; longest:<br>        tmp = longest - w<br>        <span class="hljs-comment"># //è¡¨ç¤ºæ•´é™¤ç¬¦å·</span><br>        left = tmp // <span class="hljs-number">2</span><br>        right = tmp - left<br>    <span class="hljs-keyword">elif</span> h &lt; longest:<br>        tmp = longest - h<br>        top = tmp // <span class="hljs-number">2</span><br>        bottom = tmp - top<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">pass</span><br>    <span class="hljs-keyword">return</span> top, bottom, left, right<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">readData</span>(<span class="hljs-params">path , h=size, w=size</span>):</span><br>    <span class="hljs-keyword">for</span> filename <span class="hljs-keyword">in</span> os.listdir(path):<br>        <span class="hljs-keyword">if</span> filename.endswith(<span class="hljs-string">&#x27;.jpg&#x27;</span>):<br>            filename = path + <span class="hljs-string">&#x27;/&#x27;</span> + filename<br><br>            img = cv2.imread(filename)<br><br>            top,bottom,left,right = getPaddingSize(img)<br>            <span class="hljs-comment"># å°†å›¾ç‰‡æ”¾å¤§ï¼Œ æ‰©å……å›¾ç‰‡è¾¹ç¼˜éƒ¨åˆ†</span><br>            img = cv2.copyMakeBorder(img, top, bottom, left, right, cv2.BORDER_CONSTANT, value=[<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>])<br>            img = cv2.resize(img, (h, w))<br><br>            imgs.append(img)<br>            labs.append(path)<br><br>readData(my_faces_path)<br>readData(other_faces_path)<br><span class="hljs-comment"># å°†å›¾ç‰‡æ•°æ®ä¸æ ‡ç­¾è½¬æ¢æˆæ•°ç»„</span><br>imgs = np.array(imgs)<br>labs = np.array([[<span class="hljs-number">0</span>,<span class="hljs-number">1</span>] <span class="hljs-keyword">if</span> lab == my_faces_path <span class="hljs-keyword">else</span> [<span class="hljs-number">1</span>,<span class="hljs-number">0</span>] <span class="hljs-keyword">for</span> lab <span class="hljs-keyword">in</span> labs])<br><span class="hljs-comment"># éšæœºåˆ’åˆ†æµ‹è¯•é›†ä¸è®­ç»ƒé›†</span><br>train_x,test_x,train_y,test_y = train_test_split(imgs, labs, test_size=<span class="hljs-number">0.05</span>, random_state=random.randint(<span class="hljs-number">0</span>,<span class="hljs-number">100</span>))<br><span class="hljs-comment"># å‚æ•°ï¼šå›¾ç‰‡æ•°æ®çš„æ€»æ•°ï¼Œå›¾ç‰‡çš„é«˜ã€å®½ã€é€šé“</span><br>train_x = train_x.reshape(train_x.shape[<span class="hljs-number">0</span>], size, size, <span class="hljs-number">3</span>)<br>test_x = test_x.reshape(test_x.shape[<span class="hljs-number">0</span>], size, size, <span class="hljs-number">3</span>)<br><span class="hljs-comment"># å°†æ•°æ®è½¬æ¢æˆå°äº1çš„æ•°</span><br>train_x = train_x.astype(<span class="hljs-string">&#x27;float32&#x27;</span>)/<span class="hljs-number">255.0</span><br>test_x = test_x.astype(<span class="hljs-string">&#x27;float32&#x27;</span>)/<span class="hljs-number">255.0</span><br><br>print(<span class="hljs-string">&#x27;train size:%s, test size:%s&#x27;</span> % (<span class="hljs-built_in">len</span>(train_x), <span class="hljs-built_in">len</span>(test_x)))<br><span class="hljs-comment"># å›¾ç‰‡å—ï¼Œæ¯æ¬¡å–100å¼ å›¾ç‰‡</span><br>batch_size = <span class="hljs-number">100</span><br>num_batch = <span class="hljs-built_in">len</span>(train_x) // batch_size<br><br>x = tf.placeholder(tf.float32, [<span class="hljs-literal">None</span>, size, size, <span class="hljs-number">3</span>])<br>y_ = tf.placeholder(tf.float32, [<span class="hljs-literal">None</span>, <span class="hljs-number">2</span>])<br><br>keep_prob_5 = tf.placeholder(tf.float32)<br>keep_prob_75 = tf.placeholder(tf.float32)<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">weightVariable</span>(<span class="hljs-params">shape</span>):</span><br>    init = tf.random_normal(shape, stddev=<span class="hljs-number">0.01</span>)<br>    <span class="hljs-keyword">return</span> tf.Variable(init)<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">biasVariable</span>(<span class="hljs-params">shape</span>):</span><br>    init = tf.random_normal(shape)<br>    <span class="hljs-keyword">return</span> tf.Variable(init)<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">conv2d</span>(<span class="hljs-params">x, W</span>):</span><br>    <span class="hljs-keyword">return</span> tf.nn.conv2d(x, W, strides=[<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>], padding=<span class="hljs-string">&#x27;SAME&#x27;</span>)<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">maxPool</span>(<span class="hljs-params">x</span>):</span><br>    <span class="hljs-keyword">return</span> tf.nn.max_pool(x, ksize=[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>], strides=[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>], padding=<span class="hljs-string">&#x27;SAME&#x27;</span>)<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">dropout</span>(<span class="hljs-params">x, keep</span>):</span><br>    <span class="hljs-keyword">return</span> tf.nn.dropout(x, keep)<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">cnnLayer</span>():</span><br>    <span class="hljs-comment"># ç¬¬ä¸€å±‚</span><br>    W1 = weightVariable([<span class="hljs-number">3</span>,<span class="hljs-number">3</span>,<span class="hljs-number">3</span>,<span class="hljs-number">32</span>]) <span class="hljs-comment"># å·ç§¯æ ¸å¤§å°(3,3)ï¼Œ è¾“å…¥é€šé“(3)ï¼Œ è¾“å‡ºé€šé“(32)</span><br>    b1 = biasVariable([<span class="hljs-number">32</span>])<br>    <span class="hljs-comment"># å·ç§¯</span><br>    conv1 = tf.nn.relu(conv2d(x, W1) + b1)<br>    <span class="hljs-comment"># æ± åŒ–</span><br>    pool1 = maxPool(conv1)<br>    <span class="hljs-comment"># å‡å°‘è¿‡æ‹Ÿåˆï¼Œéšæœºè®©æŸäº›æƒé‡ä¸æ›´æ–°</span><br>    drop1 = dropout(pool1, keep_prob_5)<br><br>    <span class="hljs-comment"># ç¬¬äºŒå±‚</span><br>    W2 = weightVariable([<span class="hljs-number">3</span>,<span class="hljs-number">3</span>,<span class="hljs-number">32</span>,<span class="hljs-number">64</span>])<br>    b2 = biasVariable([<span class="hljs-number">64</span>])<br>    conv2 = tf.nn.relu(conv2d(drop1, W2) + b2)<br>    pool2 = maxPool(conv2)<br>    drop2 = dropout(pool2, keep_prob_5)<br><br>    <span class="hljs-comment"># ç¬¬ä¸‰å±‚</span><br>    W3 = weightVariable([<span class="hljs-number">3</span>,<span class="hljs-number">3</span>,<span class="hljs-number">64</span>,<span class="hljs-number">64</span>])<br>    b3 = biasVariable([<span class="hljs-number">64</span>])<br>    conv3 = tf.nn.relu(conv2d(drop2, W3) + b3)<br>    pool3 = maxPool(conv3)<br>    drop3 = dropout(pool3, keep_prob_5)<br><br>    <span class="hljs-comment"># å…¨è¿æ¥å±‚</span><br>    Wf = weightVariable([<span class="hljs-number">8</span>*<span class="hljs-number">8</span>*<span class="hljs-number">64</span>, <span class="hljs-number">512</span>])<br>    bf = biasVariable([<span class="hljs-number">512</span>])<br>    drop3_flat = tf.reshape(drop3, [-<span class="hljs-number">1</span>, <span class="hljs-number">8</span>*<span class="hljs-number">8</span>*<span class="hljs-number">64</span>])<br>    dense = tf.nn.relu(tf.matmul(drop3_flat, Wf) + bf)<br>    dropf = dropout(dense, keep_prob_75)<br><br>    <span class="hljs-comment"># è¾“å‡ºå±‚</span><br>    Wout = weightVariable([<span class="hljs-number">512</span>,<span class="hljs-number">2</span>])<br>    bout = biasVariable([<span class="hljs-number">2</span>])<br>    <span class="hljs-comment">#out = tf.matmul(dropf, Wout) + bout</span><br>    out = tf.add(tf.matmul(dropf, Wout), bout)<br>    <span class="hljs-keyword">return</span> out<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">cnnTrain</span>():</span><br>    out = cnnLayer()<br><br>    cross_entropy = tf.reduce_mean(tf.nn.softmax_cross_entropy_with_logits(logits=out, labels=y_))<br><br>    train_step = tf.train.AdamOptimizer(<span class="hljs-number">0.01</span>).minimize(cross_entropy)<br>    <span class="hljs-comment"># æ¯”è¾ƒæ ‡ç­¾æ˜¯å¦ç›¸ç­‰ï¼Œå†æ±‚çš„æ‰€æœ‰æ•°çš„å¹³å‡å€¼ï¼Œtf.cast(å¼ºåˆ¶è½¬æ¢ç±»å‹)</span><br>    accuracy = tf.reduce_mean(tf.cast(tf.equal(tf.argmax(out, <span class="hljs-number">1</span>), tf.argmax(y_, <span class="hljs-number">1</span>)), tf.float32))<br>    <span class="hljs-comment"># å°†lossä¸accuracyä¿å­˜ä»¥ä¾›tensorboardä½¿ç”¨</span><br>    tf.summary.scalar(<span class="hljs-string">&#x27;loss&#x27;</span>, cross_entropy)<br>    tf.summary.scalar(<span class="hljs-string">&#x27;accuracy&#x27;</span>, accuracy)<br>    merged_summary_op = tf.summary.merge_all()<br>    <span class="hljs-comment"># æ•°æ®ä¿å­˜å™¨çš„åˆå§‹åŒ–</span><br>    saver = tf.train.Saver()<br><br>    <span class="hljs-keyword">with</span> tf.Session() <span class="hljs-keyword">as</span> sess:<br><br>        sess.run(tf.global_variables_initializer())<br><br>        summary_writer = tf.summary.FileWriter(<span class="hljs-string">&#x27;./tmp&#x27;</span>, graph=tf.get_default_graph())<br><br>        <span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>):<br>             <span class="hljs-comment"># æ¯æ¬¡å–128(batch_size)å¼ å›¾ç‰‡</span><br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(num_batch):<br>                batch_x = train_x[i*batch_size : (i+<span class="hljs-number">1</span>)*batch_size]<br>                batch_y = train_y[i*batch_size : (i+<span class="hljs-number">1</span>)*batch_size]<br>                <span class="hljs-comment"># å¼€å§‹è®­ç»ƒæ•°æ®ï¼ŒåŒæ—¶è®­ç»ƒä¸‰ä¸ªå˜é‡ï¼Œè¿”å›ä¸‰ä¸ªæ•°æ®</span><br>                _,loss,summary = sess.run([train_step, cross_entropy, merged_summary_op],<br>                                           feed_dict=&#123;x:batch_x,y_:batch_y, keep_prob_5:<span class="hljs-number">0.5</span>,keep_prob_75:<span class="hljs-number">0.75</span>&#125;)<br>                summary_writer.add_summary(summary, n*num_batch+i)<br>                <span class="hljs-comment"># æ‰“å°æŸå¤±</span><br>                print(n*num_batch+i, loss)<br><br>                <span class="hljs-keyword">if</span> (n*num_batch+i) % <span class="hljs-number">100</span> == <span class="hljs-number">0</span>:<br>                    <span class="hljs-comment"># è·å–æµ‹è¯•æ•°æ®çš„å‡†ç¡®ç‡</span><br>                    acc = accuracy.<span class="hljs-built_in">eval</span>(&#123;x:test_x, y_:test_y, keep_prob_5:<span class="hljs-number">1.0</span>, keep_prob_75:<span class="hljs-number">1.0</span>&#125;)<br>                    print(n*num_batch+i, acc)<br>                    <span class="hljs-comment"># å‡†ç¡®ç‡å¤§äº0.98æ—¶ä¿å­˜å¹¶é€€å‡º</span><br>                    <span class="hljs-keyword">if</span> acc &gt; <span class="hljs-number">0.98</span> <span class="hljs-keyword">and</span> n &gt; <span class="hljs-number">2</span>:<br>                        saver.save(sess, <span class="hljs-string">&#x27;./train_faces.model&#x27;</span>, global_step=n*num_batch+i)<br>                        sys.exit(<span class="hljs-number">0</span>)<br>        print(<span class="hljs-string">&#x27;accuracy less 0.98, exited!&#x27;</span>)<br><br>cnnTrain()<br></code></pre></td></tr></table></figure>
<h4 id="is-my-face"><a href="#is-my-face" class="headerlink" title="is_my_face"></a>is_my_face</h4><p>æœ€åå°±æ˜¯è¯†åˆ«äº†ï¼Œï¼Œï¼Œè¿è¡Œè¿™ä¸ªä¼šå‡ºç°ä¸¤ä¸ªçª—å£ï¼Œä¸€ä¸ªæ˜¯å®æ—¶çš„æ‹æ‘„çª—å£ï¼Œä¸€ä¸ªæ˜¯è¯†åˆ«çš„çª—å£ï¼ˆä¼šå‡ºç°è“è‰²çš„æ¡†ï¼Œï¼Œï¼Œ</p>
<p>ç„¶åå¦‚æœè¯†åˆ«å‡ºæ¥æ˜¯ä¹‹å‰å½•å…¥çš„é‚£ä¸ªäººçš„è¯ï¼Œï¼Œcmdé‡Œä¼šå‡ºç°Trueçš„å­—æ ·ï¼Œï¼Œå¦åˆ™æ˜¯Falseï¼Œï¼Œï¼Œå¦‚æœæ²¡æœ‰è¯†åˆ«å‡ºæ¥æœ‰äººè„¸åœ¨ç”»é¢é‡Œçš„è¯ä¼šå¡ä½ä¸åŠ¨ï¼Œï¼Œï¼Œ</p>
<p>å¤§æ¦‚ä¹‹å‰å½•çš„æ—¶é—´æ˜¯2-3åˆ†é’Ÿå·¦å³çš„å‡†ç¡®åº¦å°±å¾ˆé«˜äº†ï¼Œï¼Œ</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> tensorflow <span class="hljs-keyword">as</span> tf<br><span class="hljs-keyword">import</span> cv2<br><span class="hljs-keyword">import</span> dlib<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> random<br><span class="hljs-keyword">import</span> sys<br><span class="hljs-keyword">import</span> time<br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> train_test_split<br><br>my_faces_path = <span class="hljs-string">&#x27;./my_faces&#x27;</span><br>other_faces_path = <span class="hljs-string">&#x27;./other_faces&#x27;</span><br>size = <span class="hljs-number">64</span><br><br>imgs = []<br>labs = []<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">getPaddingSize</span>(<span class="hljs-params">img</span>):</span><br>    h, w, _ = img.shape<br>    top, bottom, left, right = (<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>)<br>    longest = <span class="hljs-built_in">max</span>(h, w)<br><br>    <span class="hljs-keyword">if</span> w &lt; longest:<br>        tmp = longest - w<br>        <span class="hljs-comment"># //è¡¨ç¤ºæ•´é™¤ç¬¦å·</span><br>        left = tmp // <span class="hljs-number">2</span><br>        right = tmp - left<br>    <span class="hljs-keyword">elif</span> h &lt; longest:<br>        tmp = longest - h<br>        top = tmp // <span class="hljs-number">2</span><br>        bottom = tmp - top<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">pass</span><br>    <span class="hljs-keyword">return</span> top, bottom, left, right<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">readData</span>(<span class="hljs-params">path , h=size, w=size</span>):</span><br>    <span class="hljs-keyword">for</span> filename <span class="hljs-keyword">in</span> os.listdir(path):<br>        <span class="hljs-keyword">if</span> filename.endswith(<span class="hljs-string">&#x27;.jpg&#x27;</span>):<br>            filename = path + <span class="hljs-string">&#x27;/&#x27;</span> + filename<br><br>            img = cv2.imread(filename)<br><br>            top,bottom,left,right = getPaddingSize(img)<br>            <span class="hljs-comment"># å°†å›¾ç‰‡æ”¾å¤§ï¼Œ æ‰©å……å›¾ç‰‡è¾¹ç¼˜éƒ¨åˆ†</span><br>            img = cv2.copyMakeBorder(img, top, bottom, left, right, cv2.BORDER_CONSTANT, value=[<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>])<br>            img = cv2.resize(img, (h, w))<br><br>            imgs.append(img)<br>            labs.append(path)<br><br>readData(my_faces_path)<br>readData(other_faces_path)<br><span class="hljs-comment"># å°†å›¾ç‰‡æ•°æ®ä¸æ ‡ç­¾è½¬æ¢æˆæ•°ç»„</span><br>imgs = np.array(imgs)<br>labs = np.array([[<span class="hljs-number">0</span>,<span class="hljs-number">1</span>] <span class="hljs-keyword">if</span> lab == my_faces_path <span class="hljs-keyword">else</span> [<span class="hljs-number">1</span>,<span class="hljs-number">0</span>] <span class="hljs-keyword">for</span> lab <span class="hljs-keyword">in</span> labs])<br><span class="hljs-comment"># éšæœºåˆ’åˆ†æµ‹è¯•é›†ä¸è®­ç»ƒé›†</span><br>train_x,test_x,train_y,test_y = train_test_split(imgs, labs, test_size=<span class="hljs-number">0.05</span>, random_state=random.randint(<span class="hljs-number">0</span>,<span class="hljs-number">100</span>))<br><span class="hljs-comment"># å‚æ•°ï¼šå›¾ç‰‡æ•°æ®çš„æ€»æ•°ï¼Œå›¾ç‰‡çš„é«˜ã€å®½ã€é€šé“</span><br>train_x = train_x.reshape(train_x.shape[<span class="hljs-number">0</span>], size, size, <span class="hljs-number">3</span>)<br>test_x = test_x.reshape(test_x.shape[<span class="hljs-number">0</span>], size, size, <span class="hljs-number">3</span>)<br><span class="hljs-comment"># å°†æ•°æ®è½¬æ¢æˆå°äº1çš„æ•°</span><br>train_x = train_x.astype(<span class="hljs-string">&#x27;float32&#x27;</span>)/<span class="hljs-number">255.0</span><br>test_x = test_x.astype(<span class="hljs-string">&#x27;float32&#x27;</span>)/<span class="hljs-number">255.0</span><br><br>print(<span class="hljs-string">&#x27;train size:%s, test size:%s&#x27;</span> % (<span class="hljs-built_in">len</span>(train_x), <span class="hljs-built_in">len</span>(test_x)))<br><span class="hljs-comment"># å›¾ç‰‡å—ï¼Œæ¯æ¬¡å–128å¼ å›¾ç‰‡</span><br>batch_size = <span class="hljs-number">128</span><br>num_batch = <span class="hljs-built_in">len</span>(train_x) // <span class="hljs-number">128</span><br><br>x = tf.placeholder(tf.float32, [<span class="hljs-literal">None</span>, size, size, <span class="hljs-number">3</span>])<br>y_ = tf.placeholder(tf.float32, [<span class="hljs-literal">None</span>, <span class="hljs-number">2</span>])<br><br>keep_prob_5 = tf.placeholder(tf.float32)<br>keep_prob_75 = tf.placeholder(tf.float32)<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">weightVariable</span>(<span class="hljs-params">shape</span>):</span><br>    init = tf.random_normal(shape, stddev=<span class="hljs-number">0.01</span>)<br>    <span class="hljs-keyword">return</span> tf.Variable(init)<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">biasVariable</span>(<span class="hljs-params">shape</span>):</span><br>    init = tf.random_normal(shape)<br>    <span class="hljs-keyword">return</span> tf.Variable(init)<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">conv2d</span>(<span class="hljs-params">x, W</span>):</span><br>    <span class="hljs-keyword">return</span> tf.nn.conv2d(x, W, strides=[<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>], padding=<span class="hljs-string">&#x27;SAME&#x27;</span>)<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">maxPool</span>(<span class="hljs-params">x</span>):</span><br>    <span class="hljs-keyword">return</span> tf.nn.max_pool(x, ksize=[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>], strides=[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>], padding=<span class="hljs-string">&#x27;SAME&#x27;</span>)<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">dropout</span>(<span class="hljs-params">x, keep</span>):</span><br>    <span class="hljs-keyword">return</span> tf.nn.dropout(x, keep)<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">cnnLayer</span>():</span><br>    <span class="hljs-comment"># ç¬¬ä¸€å±‚</span><br>    W1 = weightVariable([<span class="hljs-number">3</span>,<span class="hljs-number">3</span>,<span class="hljs-number">3</span>,<span class="hljs-number">32</span>]) <span class="hljs-comment"># å·ç§¯æ ¸å¤§å°(3,3)ï¼Œ è¾“å…¥é€šé“(3)ï¼Œ è¾“å‡ºé€šé“(32)</span><br>    b1 = biasVariable([<span class="hljs-number">32</span>])<br>    <span class="hljs-comment"># å·ç§¯</span><br>    conv1 = tf.nn.relu(conv2d(x, W1) + b1)<br>    <span class="hljs-comment"># æ± åŒ–</span><br>    pool1 = maxPool(conv1)<br>    <span class="hljs-comment"># å‡å°‘è¿‡æ‹Ÿåˆï¼Œéšæœºè®©æŸäº›æƒé‡ä¸æ›´æ–°</span><br>    drop1 = dropout(pool1, keep_prob_5)<br><br>    <span class="hljs-comment"># ç¬¬äºŒå±‚</span><br>    W2 = weightVariable([<span class="hljs-number">3</span>,<span class="hljs-number">3</span>,<span class="hljs-number">32</span>,<span class="hljs-number">64</span>])<br>    b2 = biasVariable([<span class="hljs-number">64</span>])<br>    conv2 = tf.nn.relu(conv2d(drop1, W2) + b2)<br>    pool2 = maxPool(conv2)<br>    drop2 = dropout(pool2, keep_prob_5)<br><br>    <span class="hljs-comment"># ç¬¬ä¸‰å±‚</span><br>    W3 = weightVariable([<span class="hljs-number">3</span>,<span class="hljs-number">3</span>,<span class="hljs-number">64</span>,<span class="hljs-number">64</span>])<br>    b3 = biasVariable([<span class="hljs-number">64</span>])<br>    conv3 = tf.nn.relu(conv2d(drop2, W3) + b3)<br>    pool3 = maxPool(conv3)<br>    drop3 = dropout(pool3, keep_prob_5)<br><br>    <span class="hljs-comment"># å…¨è¿æ¥å±‚</span><br>    Wf = weightVariable([<span class="hljs-number">8</span>*<span class="hljs-number">16</span>*<span class="hljs-number">32</span>, <span class="hljs-number">512</span>])<br>    bf = biasVariable([<span class="hljs-number">512</span>])<br>    drop3_flat = tf.reshape(drop3, [-<span class="hljs-number">1</span>, <span class="hljs-number">8</span>*<span class="hljs-number">16</span>*<span class="hljs-number">32</span>])<br>    dense = tf.nn.relu(tf.matmul(drop3_flat, Wf) + bf)<br>    dropf = dropout(dense, keep_prob_75)<br><br>    <span class="hljs-comment"># è¾“å‡ºå±‚</span><br>    Wout = weightVariable([<span class="hljs-number">512</span>,<span class="hljs-number">2</span>])<br>    bout = biasVariable([<span class="hljs-number">2</span>])<br>    out = tf.add(tf.matmul(dropf, Wout), bout)<br>    <span class="hljs-keyword">return</span> out<br><br>output = cnnLayer()  <br>predict = tf.argmax(output, <span class="hljs-number">1</span>)  <br>   <br>saver = tf.train.Saver()  <br>sess = tf.Session()  <br>saver.restore(sess, tf.train.latest_checkpoint(<span class="hljs-string">&#x27;.&#x27;</span>))   <br>   <br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">is_my_face</span>(<span class="hljs-params">image</span>):</span>  <br>    res = sess.run(predict, feed_dict=&#123;x: [image/<span class="hljs-number">255.0</span>], keep_prob_5:<span class="hljs-number">1.0</span>, keep_prob_75: <span class="hljs-number">1.0</span>&#125;)  <br>    <span class="hljs-keyword">if</span> res[<span class="hljs-number">0</span>] == <span class="hljs-number">1</span>:  <br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>  <br>    <span class="hljs-keyword">else</span>:  <br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>  <br><br><span class="hljs-comment">#ä½¿ç”¨dlibè‡ªå¸¦çš„frontal_face_detectorä½œä¸ºæˆ‘ä»¬çš„ç‰¹å¾æå–å™¨</span><br>detector = dlib.get_frontal_face_detector()<br><br>cam = cv2.VideoCapture(<span class="hljs-number">0</span>)  <br>   <br><span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:  <br>    time.sleep(<span class="hljs-number">0.2</span>) <br>    _, img = cam.read()  <br>    gray_image = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)<br>    dets = detector(gray_image, <span class="hljs-number">1</span>)<br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-built_in">len</span>(dets):<br>        <span class="hljs-comment">#print(&#x27;Can`t get face.&#x27;)</span><br>        cv2.imshow(<span class="hljs-string">&#x27;img&#x27;</span>, img)<br>        key = cv2.waitKey(<span class="hljs-number">30</span>) &amp; <span class="hljs-number">0xff</span>  <br>        <span class="hljs-keyword">if</span> key == <span class="hljs-number">27</span>:<br>            sys.exit(<span class="hljs-number">0</span>)<br>            <br>    <span class="hljs-keyword">for</span> i, d <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(dets):<br>        x1 = d.top() <span class="hljs-keyword">if</span> d.top() &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> <span class="hljs-number">0</span><br>        y1 = d.bottom() <span class="hljs-keyword">if</span> d.bottom() &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> <span class="hljs-number">0</span><br>        x2 = d.left() <span class="hljs-keyword">if</span> d.left() &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> <span class="hljs-number">0</span><br>        y2 = d.right() <span class="hljs-keyword">if</span> d.right() &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> <span class="hljs-number">0</span><br>        face = img[x1:y1,x2:y2]<br>        <span class="hljs-comment"># è°ƒæ•´å›¾ç‰‡çš„å°ºå¯¸</span><br>        face = cv2.resize(face, (size,size))<br>        print(<span class="hljs-string">&#x27;Is this my face? %s&#x27;</span> % is_my_face(face))<br><br>        cv2.rectangle(img, (x2,x1),(y2,y1), (<span class="hljs-number">255</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>),<span class="hljs-number">3</span>)<br>        cv2.imshow(<span class="hljs-string">&#x27;image&#x27;</span>,img)<br>        key = cv2.waitKey(<span class="hljs-number">30</span>) &amp; <span class="hljs-number">0xff</span><br>        <span class="hljs-keyword">if</span> key == <span class="hljs-number">27</span>:<br>            sys.exit(<span class="hljs-number">0</span>)<br>  <br>sess.close() <br></code></pre></td></tr></table></figure>
<h1 id="æ„Ÿæƒ³"><a href="#æ„Ÿæƒ³" class="headerlink" title="æ„Ÿæƒ³"></a>æ„Ÿæƒ³</h1><p>åé¢å°±æ²¡äº†ï¼Œï¼Œå»ºè®®å¼„è¿‡ä¸€ä¸ªéä¹‹åï¼Œä»£ç è¿˜æ˜¯è‡ªå·±å†é‡å†™ä¸€åˆ«å§ï¼Œï¼Œè¿™æ ·èƒ½ç†è§£é‡Œé¢çš„ç»†èŠ‚çš„å†…å®¹ï¼Œï¼Œï¼Œ</p>
<p>è£…äº†4ã€5éå¤šçš„ç¯å¢ƒæ„Ÿè§‰æ¯ä¸€æ¬¡éƒ½æœ‰æ”¶è·ï¼Œï¼Œè™½ç„¶æ¯æ¬¡éƒ½ä¼šé‡åˆ°ä¸€äº›é—®é¢˜ï¼Œï¼Œä½†æ˜¯éƒ½ä¹Ÿèƒ½é è‡ªå·±æ¥è§£å†³ï¼Œï¼Œï¼Œhhhï¼Œï¼Œï¼Œ</p>
<p>(end)</p>
]]></content>
      <categories>
        <category>äººè„¸è¯†åˆ«</category>
      </categories>
      <tags>
        <tag>Tensorflow</tag>
        <tag>ç¯å¢ƒé…ç½®</tag>
        <tag>anaconda3</tag>
      </tags>
  </entry>
  <entry>
    <title>cf-786BåŒºé—´å›¾æœ€çŸ­è·¯</title>
    <url>/2019/09/29/cf-786B%E5%8C%BA%E9%97%B4%E5%9B%BE%E6%9C%80%E7%9F%AD%E8%B7%AF/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>å¶ç„¶çœ‹åˆ°çš„è¿™ä¸ªä¸œè¥¿ï¼Œå¯ä»¥è¯´æ˜¯ç¬¬ä¸€æ¬¡è§åˆ°å›¾è®º+æ•°æ®ç»“æ„çš„é¢˜äº†ï¼Œï¼Œ<a href="https://codeforces.com/problemset/problem/786/B">è¿™é¢˜</a>ä»£ç å¾ˆç®€å•ï¼Œç»†èŠ‚å¤„ç†ä¸€ä¸‹å°±æ²¡å•¥äº†ï¼Œï¼Œï¼Œä¸»è¦æ˜¯ä¸€æ­¥ä¸€æ­¥çš„æ€è·¯çš„æ¨å¯¼å¾ˆä¸é”™ï¼Œï¼Œ</p>
<span id="more"></span>
<h1 id="cf-786-Legacy"><a href="#cf-786-Legacy" class="headerlink" title="cf-786 Legacy"></a><a href="https://codeforces.com/problemset/problem/786/B">cf-786 Legacy</a></h1><p><a href="https://codeforces.com/problemset/problem/786/B">cf-786 Legacy</a></p>
<p>ä»¥å‰åšè¿‡çš„å›¾è®ºé¢˜å°±åªæ˜¯å›¾è®ºé¢˜ï¼Œä»æ¥æ²¡æƒ³è¿‡å’Œæ•°æ®ç»“æ„-çº¿æ®µæ ‘æ‰¯ä¸Šå…³ç³»ï¼Œï¼Œ</p>
<p>è¿™é¢˜ä¹Ÿç®—æ˜¯ä¸€ä¸ªç»å…¸çš„ä¾‹é¢˜äº†å§ï¼Œï¼Œåº”è¯¥å°±æ˜¯é‚£ç§çŸ¥é“çš„åšè¿‡çš„å°±ä¼šåšå‡ºæ¥çš„ç±»å‹ï¼Œï¼Œ</p>
<h2 id="æ€è·¯åˆ†æ"><a href="#æ€è·¯åˆ†æ" class="headerlink" title="æ€è·¯åˆ†æ"></a>æ€è·¯åˆ†æ</h2><p>é¢˜æ„å¾ˆç®€å•ï¼Œå°±æ˜¯ä¸€ä¸ªç®€å•çš„å›¾ï¼Œï¼Œç»™å‡ºä¸€äº›å»ºå›¾çš„æ–¹å¼ï¼Œï¼Œä½†æ˜¯ï¼Œå’Œä»¥å¾€ä¸åŒçš„æ˜¯ï¼Œä»¥å‰çš„è¾¹çš„å…³ç³»ç»™çš„éƒ½æ˜¯ç‚¹ä¸ç‚¹é—´çš„å…³ç³»ï¼Œï¼Œè¿™ç§é¢˜ç»™çš„æ–¹å¼æ˜¯åŒºé—´ï¼Œï¼Œæ¯”å¦‚è¯´ <code>u-&gt;[l, r]</code> è¡¨ç¤ºçš„å°±æ˜¯uå’Œè¿™ä¸ªåŒºé—´çš„æ‰€æœ‰ç‚¹é—´éƒ½æœ‰ä¸€æ¡è¾¹ï¼Œï¼Œå› ä¸ºä¸€ä¸ªç‚¹ä¹Ÿå¯ä»¥çœ‹æˆä¸€ä¸ªåªæœ‰è‡ªå·±çš„åŒºé—´ï¼Œï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°†è¿™ç±»å…³ç³»ç»Ÿä¸€çœ‹æˆ $[l_1, r_1]-&gt;[l_2, r_2]$ ï¼Œï¼Œ</p>
<p>å®¹æ˜“æƒ³åˆ°çš„æ–¹æ³•å°±æ˜¯ç›´æ¥ä¸¤ä¸ª for ä¸Šå»ï¼Œï¼Œå»ºå‡ºæ¯ä¸€æ¡è¾¹ï¼Œï¼Œæ•°æ®å¾ˆå°çš„æ—¶å€™æ²¡é—®é¢˜ï¼Œï¼Œï¼Œä½†æ˜¯å½“n å¾ˆå¤§æ—¶ï¼Œï¼Œæ˜¾ç„¶å»ºå›¾çš„å¤æ‚åº¦å¯èƒ½å°±æ˜¯ $O(n^2m)$ è¿™æ ·ä¸ç®¡æ±‚æœ€çŸ­è·¯å°±ç‚¸äº†ï¼Œï¼Œï¼Œ</p>
<p>ä¸€ç§ä¼˜åŒ–çš„æ–¹æ³•æ˜¯æˆ‘ä»¬åœ¨è¿™ä¸¤ä¸ªåŒºé—´ä¹‹é—´åŠ ä¸€ä¸ªç‚¹ï¼Œï¼Œè¿™æ ·å‰é¢çš„åŒºé—´ï¼ˆæˆä¸ºå‡ºåŒºé—´ï¼‰å’Œåé¢çš„ä¸€ä¸ªåŒºé—´ï¼ˆç§°ä¸ºå…¥åŒºé—´ï¼‰éƒ½å’Œè¿™ä¸ªç‚¹ $p$ è¿ï¼Œï¼Œä¹Ÿå°±æ˜¯ $\forall u \in [l_1, r_1]: addedge(u, p, w)$ è€Œ $\forall v \in [l_2, r_2]: addedge(p, v, 0)$ ï¼ˆ $[l_1, r_1]-_u&gt;p-_0&gt;[l_2, r_2]$ ï¼‰ è¿™æ ·å­å°±å¯ä»¥é™ä¸€ç»´çš„å»ºå›¾ï¼Œï¼Œå¤æ‚åº¦å°±æ˜¯ $O(2nm)$ ï¼Œï¼Œä½†æ˜¯è¿™æ ·è¿˜æ˜¯å¾ˆé«˜ï¼Œï¼Œ</p>
<p>è¿™æ—¶çš„å»ºå›¾æ˜¯çº¿æ€§çš„å»ºå›¾æ–¹å¼ï¼Œï¼Œçº¿æ€§+åŒºé—´==çº¿æ®µæ ‘ï¼Ÿï¼Ÿï¼ï¼ï¼Œï¼Œè¿™æ˜¯æˆ‘åšè¿™é“é¢˜å­¦ä¹ åˆ°çš„æœ€æœ‰ä»·å€¼çš„ä¸€ä¸ªå¤„ç†æ–¹å¼ï¼Œï¼Œåœ¨é™äº†ä¸€ç»´ä¹‹åï¼Œè™½ç„¶æ˜¯çº¿æ€§çš„å»ºå›¾ï¼Œï¼Œä½†æ˜¯ç‚¹è¿˜æ˜¯å¾ˆå¤šï¼Œï¼Œè€Œçº¿æ®µæ ‘æ°å¥½å¯ä»¥ç”¨å¾ˆå°‘çš„å­åŒºé—´æ¥è¡¨ç¤ºåŸæ¥çš„åŒºé—´ï¼Œï¼Œï¼Œå¦‚æœå°†çº¿æ®µæ ‘ä¸­çš„æ¯ä¸€ä¸ªè¡¨ç¤ºçš„åŒºé—´çœ‹æˆä¸€ä¸ªç‚¹ï¼Œï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ç”¨å¾ˆå°‘çš„ç‚¹æ¥å»ºå›¾ï¼Œï¼Œï¼Œè¿™æ ·å°±å¯ä»¥å°†ä¸Šé¢çš„næ¬¡çš„å»ºå›¾é™ä¸‹å»ï¼Œï¼Œï¼Œ</p>
<p>é‚£ä¹ˆè¿™æ—¶çš„é—®é¢˜å°±å˜æˆäº†è¯¥å¦‚ä½•åˆ©ç”¨çº¿æ®µæ ‘æ¥å¤„ç†ï¼Œï¼Œ</p>
<p>æˆ‘ä»¬éœ€è¦ä¸¤æ£µçº¿æ®µæ ‘ï¼Œï¼Œä¸€æ£µçœ‹æˆ <strong>å…¥æ ‘</strong> å¦ä¸€æ£µçœ‹æˆ <strong>å‡ºæ ‘</strong> ï¼Œï¼Œ</p>
<p><img src="https://img-blog.csdn.net/20170723135435553" alt=""></p>
<p>é¦–å…ˆæˆ‘ä»¬çš„ç›®çš„æ˜¯ç”¨å°‘é‡çš„åŒºé—´æ¥è¡¨ç¤ºåŸæ¥çš„å¾ˆå¤§çš„åŒºé—´ï¼Œä»¥è¾¾åˆ°ç”¨å¾ˆå°‘çš„ç‚¹æ¥è¡¨ç¤ºåŸæ¥çš„æ‰€æœ‰ç‚¹ï¼Œï¼Œä¼˜åŒ–çš„é—®é¢˜ç”¨çº¿æ®µæ ‘è§£å†³äº†ï¼Œï¼Œä½†æ˜¯ï¼Œå¦‚ä½•æ­£ç¡®çš„è¡¨ç¤ºåŸæ¥çš„æ‰€æœ‰ç‚¹å‘¢ï¼Œï¼Œï¼Œ</p>
<p>çº¿æ®µæ ‘çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹è¡¨ç¤ºä¸€ä¸ªåŒºé—´ï¼Œï¼Œè¿™ä¸ªèŠ‚ç‚¹å¯ä»¥è¡¨ç¤ºä»–ä¸‹é¢çš„æ‰€æœ‰ç‚¹ï¼Œï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œï¼Œæˆ‘ä»¬å¯ä»¥ä»ä¸Šå‘ä¸‹çš„çœ‹ï¼Œï¼Œå®šä¹‰é€‰æ‹©äº†ä¸€ä¸ªèŠ‚ç‚¹ï¼Œï¼Œå°±é€‰æ‹©äº†ä¸‹é¢çš„æ‰€æœ‰ç‚¹ï¼Œï¼Œï¼ŒæŒ‰ç…§è¿™ä¸ªæ€æƒ³ï¼Œå…¥æ ‘ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹è¦å‘å…¶å„¿å­è¿ä¸€æ¡æŒ‡å‘å„¿å­çš„æœ‰å‘è¾¹ï¼Œï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œï¼Œå…¥æ ‘ä¸­æ‰€æœ‰çš„è¾¹æŒ‡å‘ä¸‹ï¼Œï¼Œç”¨ <code>down</code> è¡¨ç¤º</p>
<p>åŒç†ï¼Œï¼Œå¯¹äºå‡ºæ ‘ï¼Œï¼Œæˆ‘ä»¬è¦ä¿è¯åœ¨ä¸€ä¸ªèŠ‚ç‚¹è¦èƒ½è¡¨ç¤ºæ‰€æœ‰çš„ç‚¹ï¼Œï¼Œäºæ˜¯å°±æ˜¯ä¸€ä¸ªèŠ‚ç‚¹ä¸‹çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½è¦æŒ‡å‘å®ƒï¼Œï¼Œï¼Œè¿™æ ·çœ‹è¿™æ£µæ ‘å°±æ˜¯ä¸€ä¸ªå‘ä¸Šçš„æ ‘ï¼Œï¼Œç”¨ <code>up</code> è¡¨ç¤ºï¼Œï¼Œ</p>
<p>è¿™ä¸ªæ ·å­çš„ï¼š</p>
<p><img src="https://img-blog.csdn.net/20170723140149120" alt=""></p>
<p>è¿™æ ·æœ€ååœ¨è¿™æ ·åˆå§‹å›¾åŠ ä¸Šé¢˜ç›®ç»™çš„ä¸€äº›æ¡ä»¶çš„è¾¹è·‘ä¸€è¾¹æœ€çŸ­è·¯å°±å¯ä»¥äº†ï¼Œï¼Œ</p>
<p>åŠ ä¸Šé¢˜ç›®çš„è¾¹åçš„å›¾å¤§è‡´æ˜¯è¿™æ ·çš„ï¼š</p>
<p><img src="https://img-blog.csdn.net/20170723141642088" alt=""></p>
<p>å®é™…ä¸Šï¼Œï¼Œè¿™é‡Œçš„çº¿æ®µæ ‘çš„ä½œç”¨åªæ˜¯ä¸€ä¸ªå»ºæ ‘å’ŒæŸ¥è¯¢å…¶å­åŒºé—´çš„ä½œç”¨ï¼Œï¼Œè¿™ä¸ªæ€æƒ³æœ‰ç‚¹åƒæ˜¯åˆ†å—ï¼Œï¼Œï¼Œåªè¦èƒ½æ‰¾åˆ°ä¸€ä¸ªåˆç†çš„åŒºé—´åˆ†å—ï¼Œï¼Œç”¨ä¸€äº›åˆç†çš„ã€æ•°é‡å°‘çš„åŒºé—´è¡¨ç¤ºåŸæ¥çš„åŒºé—´ï¼Œï¼Œå°±èƒ½è¾¾åˆ°å‡å°‘ç‚¹æ•°çš„ä½œç”¨ï¼Œï¼Œï¼Œï¼Œè€Œçº¿æ®µæ ‘æ°å¥½æ˜¯ä¸€ä¸ªç†Ÿæ‚‰çš„ã€å¥½æ“ä½œçš„åŒºé—´åˆ’åˆ†æ¨¡å‹ï¼Œï¼Œæ‰€ä»¥å¾ˆå¤šäººéƒ½å¯¹äº åŒºé—´å›¾çš„æœ€çŸ­è·¯é—®é¢˜éƒ½æ˜¯å¥—ä¸€ä¸ªçº¿æ®µæ ‘çš„æ¿å­ï¼Œï¼Œ</p>
<p>å›åˆ°è¿™é“é¢˜ï¼Œï¼Œé¢˜ç›®çš„åŠ è¾¹æ–¹å¼åªæœ‰ ç‚¹å¯¹åŒºé—´ å’Œ åŒºé—´å¯¹ç‚¹ ä¸¤ç§ï¼Œï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å…ˆé¢„ç•™å‡ºé‚£nä¸ªç‚¹ï¼Œï¼Œå¯ä»¥æƒ³è±¡æˆæ”¾åœ¨è¿™ä¸¤æ£µæ ‘ä¹‹é—´çš„ä¸€æ’ç‚¹ï¼ˆä¸ç”¨å†å°†ä¸¤æ£µæ ‘çš„å¶å­èŠ‚ç‚¹ç›¸è¿ï¼Œï¼Œï¼‰ï¼Œï¼Œï¼Œ</p>
<p>ç„¶åå†å¤„ç†å‡ºå‡ºæ ‘ã€å…¥æ ‘çš„è¾¹åï¼Œï¼Œå¯¹äº <code>u-&gt;[l, r]</code> å’Œ <code>u-&gt;v</code> çš„è¾¹ï¼Œï¼Œä»ç‚¹ <code>u</code> å‘å…¥æ ‘çš„ç¬¦åˆæ¡ä»¶çš„èŠ‚ç‚¹è¿è¾¹å³å¯ï¼Œï¼Œå› ä¸ºä¹‹å‰è¯´çš„å…¥æ ‘ä¿è¯äº†æ¯ä¸€ä¸ªèŠ‚ç‚¹æ˜¯å¯ä»¥åˆ°å…¶ä¸‹é¢çš„å¶å­èŠ‚ç‚¹çš„ï¼Œï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™æ ·è¿è¾¹å°±ç›¸å½“äºæ˜¯ç‚¹ <code>u</code> å‘åŒºé—´çš„æ¯ä¸€ä¸ªç‚¹è¿è¾¹ï¼Œï¼Œï¼Œ</p>
<p>åŒç†å¯¹äº <code>[l, r]-&gt;u</code> è¿™æ ·çš„è¾¹ï¼Œï¼Œæˆ‘ä»¬å°†å…¥æ ‘çš„å¯¹åº”çš„èŠ‚ç‚¹å’Œç‚¹ <code>u</code> ç›¸è¿ï¼Œï¼Œè¿™æ ·å°±ä¿è¯å…¥æ ‘ä¸­è¿™ä¸ªåŒºé—´ä¸‹çš„å¶å­èŠ‚ç‚¹å¯ä»¥é€šè¿‡è¿™äº›åŒºé—´åˆ°ç‚¹ <code>u</code> ï¼Œï¼Œè¿™æ ·ä¹Ÿæ»¡è¶³äº†é¢˜æ„çš„åŒæ—¶å‡å°‘çš„è¿è¾¹çš„å¤æ‚åº¦ï¼Œï¼Œï¼Œ</p>
<p>æœ€åè·‘æœ€çŸ­è·¯ï¼Œï¼Œå‰nä¸ªç‚¹çš„ <code>dis[i]</code> å³ä¸ºæºå›¾çš„é‚£äº›ç‚¹çš„æœ€çŸ­è·¯ï¼Œï¼Œï¼Œ</p>
<p>äºæ˜¯æˆ‘ä»¬é€šè¿‡åŠ ç‚¹å‡è¾¹çš„æ–¹å¼å‡å°äº†å»ºå›¾çš„æ—¶é—´å¤æ‚åº¦ï¼Œï¼Œ</p>
<p>å…³äºå¤„ç†å‡ºæ ‘ã€å…¥æ ‘çš„æ“ä½œï¼Œï¼Œä¹Ÿå°±æ˜¯çº¿æ®µæ ‘çš„å»ºæ ‘è¿‡ç¨‹ï¼Œï¼Œå…¶å®çº¿æ®µæ ‘å¹¶ä¸ç»´æŠ¤ä»»ä½•ä¿¡æ¯ï¼Œï¼Œæˆ‘ä»¬åªæ˜¯ç”¨å®ƒè‡ªå·±æ¯ä¸ªèŠ‚ç‚¹è¡¨ç¤ºä¸€ä¸ªåŒºé—´è¿™ä¸ªè‡ªèº«çš„æ€§è´¨ï¼Œï¼Œæ‰€ä»¥ä¸ºäº†å»ºå›¾ï¼Œï¼Œï¼Œæˆ‘ä»¬éœ€è¦å¯¹æ¯ä¸€ä¸ªèŠ‚ç‚¹è¿ä¸€äº›è¾¹ï¼Œï¼Œï¼Œä¹Ÿå°±æ˜¯ç”¨ä¸€ä¸ª <code>id[rt]</code> æ ‡è®°ä¸€ä¸‹æ¯ä¸€ä¸ªèŠ‚ç‚¹çš„æ ‡å·å³å¯ï¼Œï¼Œï¼Œ</p>
<h2 id="æœ€åçš„ä»£ç ï¼š"><a href="#æœ€åçš„ä»£ç ï¼š" class="headerlink" title="æœ€åçš„ä»£ç ï¼š"></a>æœ€åçš„ä»£ç ï¼š</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e7</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Dijkstra</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">    &#123;</span><br>        <span class="hljs-keyword">int</span> to, nxt; ll w;<br>    &#125;edge[maxm];<br>    <span class="hljs-keyword">int</span> tot, head[maxm];<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function">    </span>&#123;<br>        tot = <span class="hljs-number">0</span>;<br>        <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, ll w)</span></span><br><span class="hljs-function">    </span>&#123;<br>        edge[tot].to = v;<br>        edge[tot].w = w;<br>        edge[tot].nxt = head[u];<br>        head[u] = tot++;<br>    &#125;<br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">    &#123;</span><br>        <span class="hljs-keyword">int</span> v; ll w;<br>        node()&#123;&#125;<br>        node(<span class="hljs-keyword">int</span> _v, ll _w):v(_v), w(_w)&#123;&#125;<br>        <span class="hljs-keyword">const</span> <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>&lt;(<span class="hljs-keyword">const</span> node &amp;r)<span class="hljs-keyword">const</span><br>        &#123;<br>            <span class="hljs-keyword">return</span> w &gt; r.w;<br>        &#125;        <br>    &#125;;<br>    <span class="hljs-keyword">bool</span> vis[maxn];<br>    ll dis[maxn];<br>    <span class="hljs-built_in">priority_queue</span>&lt;node&gt; pq;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dijkstra</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vis);<br>        <span class="hljs-built_in">memset</span>(dis, inf, <span class="hljs-keyword">sizeof</span> dis);<br>        <span class="hljs-keyword">while</span>(!pq.empty())pq.pop();<br>        pq.push(node(s, <span class="hljs-number">0</span>));<br>        dis[s] = <span class="hljs-number">0</span>;<br>        node t;<br>        <span class="hljs-keyword">int</span> u;<br>        <span class="hljs-keyword">while</span>(!pq.empty())<br>        &#123;<br>            t = pq.top(); pq.pop();<br>            u = t.v;<br>            <span class="hljs-keyword">if</span>(vis[u])<span class="hljs-keyword">continue</span>;<br>            vis[u] = <span class="hljs-literal">true</span>;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>            &#123;<br>                <span class="hljs-keyword">int</span> v = edge[i].to;<br>                ll w = edge[i].w;<br>                <span class="hljs-keyword">if</span>(dis[v] &gt; t.w + w)<br>                &#123;<br>                    dis[v] = t.w + w;<br>                    pq.push(node(v, dis[v]));<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">print</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">cout</span> &lt;&lt; (dis[i] == linf ? <span class="hljs-number">-1</span> : dis[i]) &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br>&#125;dijkstra;<br><br><span class="hljs-keyword">int</span> cnt;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">segmentTree</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> id[maxn];           <span class="hljs-comment">// èŠ‚ç‚¹æ ‡è®°æ•°ç»„ï¼Œï¼Œè®°å½•çº¿æ®µæ ‘ä¸­æ¯ä¸€ä¸ªèŠ‚ç‚¹çš„æ ‡å·ï¼Œï¼Œä» n+1 å¼€å§‹ï¼Œï¼Œå‰é¢çš„nä¸ªæ˜¯åŸæ¥çš„ç‚¹</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">build</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r, <span class="hljs-keyword">bool</span> flag)</span>     <span class="hljs-comment">// å»ºæ ‘ï¼ˆå»ºå›¾ï¼Œï¼Œflag == false è¡¨ç¤ºæ˜¯ä¸€æ£µå…¥æ ‘ï¼Œè¾¹å‘ä¸‹ï¼ŒèŠ‚ç‚¹æŒ‡å‘å„¿å­</span></span><br><span class="hljs-function">    </span>&#123;<br>        id[rt] = ++cnt;<br>        <span class="hljs-keyword">if</span>(l == r)<br>        &#123;<br>            <span class="hljs-keyword">int</span> u = id[rt];<br>            <span class="hljs-keyword">int</span> v = l;<br>            <span class="hljs-keyword">if</span>(flag)swap(u, v);<br>            dijkstra.addedge(u, v, <span class="hljs-number">0</span>);<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br>        <span class="hljs-keyword">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>        build(rt &lt;&lt; <span class="hljs-number">1</span>, l, mid, flag);<br>        build(rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>, mid + <span class="hljs-number">1</span>, r, flag);<br>        <span class="hljs-comment">// pushup</span><br>        <span class="hljs-keyword">int</span> u = id[rt];<br>        <span class="hljs-keyword">int</span> v = id[rt &lt;&lt; <span class="hljs-number">1</span>];<br>        <span class="hljs-keyword">if</span>(flag)swap(u, v);<br>        dijkstra.addedge(u, v, <span class="hljs-number">0</span>);<br>        u = id[rt];<br>        v = id[rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>];<br>        <span class="hljs-keyword">if</span>(flag)swap(u, v);<br>        dijkstra.addedge(u, v, <span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r, <span class="hljs-keyword">int</span> U, <span class="hljs-keyword">int</span> L, <span class="hljs-keyword">int</span> R, ll w, <span class="hljs-keyword">bool</span> flag)</span>    <span class="hljs-comment">// flag == false è¡¨ç¤º u-&gt;[l, r] ï¼Œï¼Œ</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">if</span>(l &gt; R || L &gt; r)<span class="hljs-keyword">return</span>;<br>        <span class="hljs-keyword">if</span>(L &lt;= l &amp;&amp; r &lt;= R)<br>        &#123;<br>            <span class="hljs-keyword">int</span> u = U;<br>            <span class="hljs-keyword">int</span> v = id[rt];<br>            <span class="hljs-keyword">if</span>(flag)swap(u, v);<br>            dijkstra.addedge(u, v, w);<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br>        <span class="hljs-keyword">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span>(L &lt;= mid)addedge(rt &lt;&lt; <span class="hljs-number">1</span>, l, mid, U, L, R, w, flag);<br>        <span class="hljs-keyword">if</span>(R &gt;  mid)addedge(rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>, mid + <span class="hljs-number">1</span>, r, U, L, R, w, flag);<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>&#125;down, up;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br><br>    <span class="hljs-keyword">int</span> n, q, s;<br>    <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; q &gt;&gt; s;<br>    cnt = n;                <span class="hljs-comment">// å‡ºæ ‘ã€å…¥æ ‘ç­‰çš„è¾…åŠ©ç‚¹çš„æ ‡è®°ä»n+1å¼€å§‹</span><br>    dijkstra.init();<br>    down.build(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, n, <span class="hljs-literal">false</span>);<br>    up.build(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, n, <span class="hljs-literal">true</span>);<br>    <span class="hljs-keyword">int</span> t, u, v, w, l, r;<br>    <span class="hljs-keyword">while</span>(q--)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; t;<br>        <span class="hljs-keyword">if</span>(t == <span class="hljs-number">1</span>)<br>        &#123;<br>            <span class="hljs-built_in">cin</span> &gt;&gt; u &gt;&gt; v &gt;&gt; w;<br>            l = r = v;<br>            t = <span class="hljs-number">2</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span> <br>            <span class="hljs-built_in">cin</span> &gt;&gt; u &gt;&gt; l &gt;&gt; r &gt;&gt; w;<br>        <br>        <span class="hljs-keyword">if</span>(t == <span class="hljs-number">2</span>)<br>            down.addedge(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, n, u, l, r, w, <span class="hljs-literal">false</span>);   <span class="hljs-comment">// u -&gt; [l, r]</span><br>        <span class="hljs-keyword">else</span><br>            up.addedge(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, n, u, l, r, w, <span class="hljs-literal">true</span>);      <span class="hljs-comment">// [l, r] -&gt; u</span><br>    &#125;<br>    dijkstra.dijkstra(s, cnt);<br>    dijkstra.print(n);<br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p><a href="https://blog.csdn.net/linkfqy/article/details/75907444">ä»¥ä¸Šçš„ä¸€äº›å†…å®¹å’Œå›¾ç‰‡å‚è€ƒè¿™ä¸ªdalaoçš„åšå®¢</a></p>
<p><a href="https://github.com/4thcalabash/ACM-Code-Library/blob/master/Graph/Dijkstra_interval_graph.cpp">æœ€åçš„ACä»£ç çš„å¤§è‡´æ€è·¯æ˜¯å‚è€ƒè‘«èŠ¦çˆ·å¤§ä½¬çš„æ¿å­</a></p>
<h1 id="hdu-5361In-Touch"><a href="#hdu-5361In-Touch" class="headerlink" title="hdu-5361In Touch"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=5361">hdu-5361In Touch</a></h1><p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=5361">hdu-5361In Touch</a></p>
<p>å·®ä¸å¤šçš„é¢˜ï¼Œï¼Œè²Œä¼¼è§£æ³•æœ‰å¾ˆå¤šï¼Œï¼Œå¦‚æœç”¨è¿™ç§æ–¹æ³•æ¥è§£çš„è¯ï¼Œï¼Œåªç”¨ä¸€æ£µå…¥æ ‘å°±è¡Œäº†ï¼Œï¼Œï¼Œè¿˜æœ‰å¯èƒ½å¾—æ”¹ä¸€æ”¹å†™çš„å§¿åŠ¿ï¼Œï¼Œï¼Œ<del>ï¼ˆé‡è½½wçˆ†intä¸€æ™šä¸Šæ²¡çœ‹å‡ºæ¥çš„æ€•ä¸æ˜¯åªæœ‰æˆ‘ä¸€ä¸ªäº†å§ï¼Œï¼Œï¼Œemmmm</del></p>
<h2 id="AC-1"><a href="#AC-1" class="headerlink" title="AC_1"></a>AC_1</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-comment">// #include &lt;iostream&gt;</span><br><span class="hljs-comment">// #include &lt;queue&gt;</span><br><span class="hljs-comment">// #include &lt;cstring&gt;</span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e7</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">int</span> <span class="hljs-title">read</span><span class="hljs-params">()</span>   <span class="hljs-comment">//å¿«è¯»</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> ans=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">char</span> ch=getchar();<br>    <span class="hljs-keyword">while</span>(!<span class="hljs-built_in">isdigit</span>(ch))<br>        ch=getchar();<br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">isdigit</span>(ch))<br>        ans=(ans&lt;&lt;<span class="hljs-number">3</span>)+(ans&lt;&lt;<span class="hljs-number">1</span>)+(ch^<span class="hljs-number">48</span>),ch=getchar();<br>    <span class="hljs-keyword">return</span> ans;<br>&#125;<br><span class="hljs-keyword">int</span> n;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt;<br>    ll w;<br>&#125;edge[maxm];<br><span class="hljs-keyword">int</span> tot, head[maxn &lt;&lt; <span class="hljs-number">3</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)head[i] = <span class="hljs-number">-1</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">ADDEDGE</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, ll w)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].w = w;<br>    edge[tot].nxt = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> v; <br>    ll w;<br>    node()&#123;&#125;;<br>    node(<span class="hljs-keyword">int</span> _v, ll _w): v(_v), w(_w)&#123;&#125;;<br>    <span class="hljs-keyword">const</span> <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>&lt;(<span class="hljs-keyword">const</span> node &amp;r)<span class="hljs-keyword">const</span>&#123;<br>        <span class="hljs-keyword">return</span> w &gt; r.w;<br>    &#125;<br>&#125;tmp;<br><span class="hljs-keyword">bool</span> vis[maxn &lt;&lt; <span class="hljs-number">3</span>];<br>ll dis[maxn &lt;&lt; <span class="hljs-number">3</span>];<br><span class="hljs-built_in">priority_queue</span>&lt;node&gt; pq;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dijkstra</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)dis[i] = linf;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)vis[i] = <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">while</span>(!pq.empty())pq.pop();<br>    pq.push(node(s, <span class="hljs-number">0</span>));<br>    dis[s] = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span>(!pq.empty())<br>    &#123;<br>        tmp = pq.top(); pq.pop();<br>        <span class="hljs-keyword">if</span>(vis[tmp.v])<span class="hljs-keyword">continue</span>;<br>        vis[tmp.v] = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[tmp.v]; ~i; i = edge[i].nxt)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = edge[i].to;<br>            <span class="hljs-keyword">if</span>(dis[v] &gt; dis[tmp.v] + edge[i].w)<br>            &#123;<br>                dis[v] = dis[tmp.v] + edge[i].w;<br>                pq.push(node(v, dis[v]));<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">int</span> cnt;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">build</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(l == r)<br>    &#123;<br>        cnt = max(cnt, rt + n);<br>        ADDEDGE(rt + n, l, <span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-keyword">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>    build(rt &lt;&lt; <span class="hljs-number">1</span>, l, mid);<br>    build(rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>, mid + <span class="hljs-number">1</span>, r);<br>    ADDEDGE(rt + n, (rt &lt;&lt; <span class="hljs-number">1</span>) + n, <span class="hljs-number">0</span>);<br>    ADDEDGE(rt + n, (rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>) + n, <span class="hljs-number">0</span>);<br>&#125;<br><span class="hljs-keyword">int</span> L, R, W, U;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(L &gt; r || l &gt; R)<span class="hljs-keyword">return</span>;<br>    <span class="hljs-keyword">if</span>(L &lt;= l &amp;&amp; r &lt;= R)<br>    &#123;<br>        ADDEDGE(U, rt + n, W);<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-keyword">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">if</span>(L &lt;= mid)addedge(rt &lt;&lt; <span class="hljs-number">1</span>, l, mid);<br>    <span class="hljs-keyword">if</span>(R &gt;  mid)addedge(rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>, mid + <span class="hljs-number">1</span>, r);<br>&#125;<br><span class="hljs-keyword">int</span> l[maxn], r[maxn], c[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    <span class="hljs-comment">// ios_base::sync_with_stdio(0);</span><br>    <span class="hljs-comment">// cin.tie(0);cout.tie(0);</span><br><br>    <span class="hljs-comment">// int t; cin &gt;&gt; t;</span><br>    <span class="hljs-comment">// int t; scanf(&quot;%d&quot;, &amp;t);</span><br>    <span class="hljs-keyword">int</span> t; t = read();<br>    <span class="hljs-keyword">while</span>(t--)<br>    &#123;<br>        <span class="hljs-comment">// cin &gt;&gt; n;</span><br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)l[i] = read();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)r[i] = read();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)c[i] = read();<br>        init(n &lt;&lt; <span class="hljs-number">3</span>);<br>        cnt = <span class="hljs-number">0</span>;<br>        build(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, n);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        &#123;<br>            U = i;<br>            L = i + l[i]; R = i + r[i]; W = c[i];<br>            addedge(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, n);<br>            L = i - r[i]; R = i - l[i];<br>            addedge(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, n);<br>        &#125;<br>        dijkstra(<span class="hljs-number">1</span>, cnt);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;0&quot;</span>);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= n; ++i)<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; %lld&quot;</span>, (dis[i] == linf ? <span class="hljs-number">-1</span> : dis[i]));<br>        <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="AC-2"><a href="#AC-2" class="headerlink" title="AC_2"></a>AC_2</h2><p><del>ï¼ˆä¸åŠ å¿«è¯»ä¹Ÿæ²¡äº‹ï¼Œï¼Œï¼Œå°±æ˜¯ä¸èƒ½memsetï¼Œï¼Œï¼Œå¡memsetå¥½æ¶å¿ƒï¼Œï¼Œï¼Œï¼Œ</del></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e7</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">int</span> <span class="hljs-title">read</span><span class="hljs-params">()</span>   <span class="hljs-comment">//å¿«è¯»</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> ans=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">char</span> ch=getchar();<br>    <span class="hljs-keyword">while</span>(!<span class="hljs-built_in">isdigit</span>(ch))<br>        ch=getchar();<br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">isdigit</span>(ch))<br>        ans=(ans&lt;&lt;<span class="hljs-number">3</span>)+(ans&lt;&lt;<span class="hljs-number">1</span>)+(ch^<span class="hljs-number">48</span>),ch=getchar();<br>    <span class="hljs-keyword">return</span> ans;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Dijkstra</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">    &#123;</span><br>        <span class="hljs-keyword">int</span> to, nxt;<br>        ll w;<br>    &#125;edge[maxm];<br>    <span class="hljs-keyword">int</span> tot, head[maxn &lt;&lt; <span class="hljs-number">3</span>];<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function">    </span>&#123;<br>        tot = <span class="hljs-number">0</span>;<br>        <span class="hljs-comment">// memset(head, -1, sizeof head);</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)head[i] = <span class="hljs-number">-1</span>;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, ll w)</span></span><br><span class="hljs-function">    </span>&#123;<br>        edge[tot].to = v;<br>        edge[tot].w = w;<br>        edge[tot].nxt = head[u];<br>        head[u] = tot++;<br>    &#125;<br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">    &#123;</span><br>        <span class="hljs-keyword">int</span> v; ll w;<br>        node()&#123;&#125;<br>        node(<span class="hljs-keyword">int</span> _v, ll _w):v(_v), w(_w)&#123;&#125;<br>        <span class="hljs-keyword">const</span> <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>&lt;(<span class="hljs-keyword">const</span> node &amp;r)<span class="hljs-keyword">const</span><br>        &#123;<br>            <span class="hljs-keyword">return</span> w &gt; r.w;<br>        &#125;<br>    &#125;;<br>    <span class="hljs-keyword">bool</span> vis[maxn &lt;&lt; <span class="hljs-number">3</span>];<br>    ll dis[maxn &lt;&lt; <span class="hljs-number">3</span>];<br>    <span class="hljs-built_in">priority_queue</span>&lt;node&gt; pq;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dijkstra</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-comment">// memset(vis, false, sizeof vis);</span><br>        <span class="hljs-comment">// memset(dis, inf, sizeof dis);</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)vis[i] = <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)dis[i] = linf;<br>        <span class="hljs-keyword">while</span>(!pq.empty())pq.pop();<br>        pq.push(node(s, <span class="hljs-number">0</span>));<br>        dis[s] = <span class="hljs-number">0</span>;<br>        node t; <span class="hljs-keyword">int</span> u;<br>        <span class="hljs-keyword">while</span>(!pq.empty())<br>        &#123;<br>            t = pq.top(); pq.pop();<br>            u = t.v;<br>            <span class="hljs-keyword">if</span>(vis[u])<span class="hljs-keyword">continue</span>;<br>            vis[u] = <span class="hljs-literal">true</span>;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>            &#123;<br>                <span class="hljs-keyword">int</span> v = edge[i].to;<br>                ll w = edge[i].w;<br>                <span class="hljs-keyword">if</span>(dis[v] &gt; t.w + w)<br>                &#123;<br>                    dis[v] = t.w + w;<br>                    pq.push(node(v, dis[v]));<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">print</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;0&quot;</span>);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= n; ++i)<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; %lld&quot;</span>, (dis[i] == linf ? <span class="hljs-number">-1</span> : dis[i]));<br>        <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;&quot;</span>);<br>    &#125;<br>&#125;dijkstra;<br><br><span class="hljs-keyword">int</span> cnt;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">segmentTree</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> id[maxn &lt;&lt; <span class="hljs-number">3</span>];<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">build</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r, <span class="hljs-keyword">bool</span> flag)</span></span><br><span class="hljs-function">    </span>&#123;<br>        id[rt] = ++cnt;<br>        <span class="hljs-keyword">if</span>(l == r)<br>        &#123;<br>            <span class="hljs-keyword">int</span> u = id[rt];<br>            <span class="hljs-keyword">int</span> v = l; <br>            <span class="hljs-keyword">if</span>(flag)swap(u, v);<br>            dijkstra.addedge(u, v, <span class="hljs-number">0</span>);<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br>        <span class="hljs-keyword">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>        build(rt &lt;&lt; <span class="hljs-number">1</span>, l, mid, flag);<br>        build(rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>, mid + <span class="hljs-number">1</span>, r, flag);<br>        <span class="hljs-keyword">int</span> u = id[rt];<br>        <span class="hljs-keyword">int</span> v = id[rt &lt;&lt; <span class="hljs-number">1</span>];<br>        <span class="hljs-keyword">if</span>(flag)swap(u, v);<br>        dijkstra.addedge(u, v, <span class="hljs-number">0</span>);<br>        u = id[rt];<br>        v = id[rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>];<br>        <span class="hljs-keyword">if</span>(flag)swap(u, v);<br>        dijkstra.addedge(u, v, <span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r, <span class="hljs-keyword">int</span> U, <span class="hljs-keyword">int</span> L, <span class="hljs-keyword">int</span> R, ll w, <span class="hljs-keyword">bool</span> flag)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">if</span>(L &gt; r || R &lt; l)<span class="hljs-keyword">return</span>;<br>        <span class="hljs-keyword">if</span>(L &lt;= l &amp;&amp; r &lt;= R)<br>        &#123;<br>            <span class="hljs-keyword">int</span> u = U;<br>            <span class="hljs-keyword">int</span> v = id[rt];<br>            <span class="hljs-keyword">if</span>(flag)swap(u, v);<br>            dijkstra.addedge(u, v, w);<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br>        <span class="hljs-keyword">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span>(L &lt;= mid)addedge(rt &lt;&lt; <span class="hljs-number">1</span>, l, mid, U, L, R, w, flag);<br>        <span class="hljs-keyword">if</span>(R &gt;  mid)addedge(rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>, mid + <span class="hljs-number">1</span>, r, U, L, R, w, flag);<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>&#125;down; <span class="hljs-comment">//, up;</span><br><br><span class="hljs-keyword">int</span> l[maxn], r[maxn], c[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    <span class="hljs-comment">// ios_base::sync_with_stdio(0);</span><br>    <span class="hljs-comment">// cin.tie(0);cout.tie(0);</span><br><br>    <span class="hljs-keyword">int</span> t; t = read();<br>    <span class="hljs-keyword">while</span>(t--)<br>    &#123;<br>        <span class="hljs-keyword">int</span> n; n = read();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)l[i] = read();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)r[i] = read();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)c[i] = read();<br>        cnt = n;<br>        dijkstra.init(n &lt;&lt; <span class="hljs-number">3</span>);<br>        down.build(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, n, <span class="hljs-literal">false</span>);<br>        <span class="hljs-comment">// up.build(1, 1, n, true);</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        &#123;<br>            down.addedge(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, n, i, l[i] + i, r[i] + i, c[i], <span class="hljs-literal">false</span>);<br>            down.addedge(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, n, i, max(<span class="hljs-number">1</span>, i - r[i]), max(<span class="hljs-number">1</span>, i - l[i]), c[i], <span class="hljs-literal">false</span>);<br>        &#125;<br>        dijkstra.dijkstra(<span class="hljs-number">1</span>, cnt);<br>        dijkstra.print(n);<br>    &#125;<br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>(end)</p>
]]></content>
      <categories>
        <category>ACM-æœ€çŸ­è·¯</category>
      </categories>
      <tags>
        <tag>ACM</tag>
        <tag>åˆ·é¢˜</tag>
        <tag>æœ€çŸ­è·¯</tag>
        <tag>çº¿æ®µæ ‘</tag>
      </tags>
  </entry>
  <entry>
    <title>kaungbin_ç®€å•æœç´¢ä¸“é¢˜</title>
    <url>/2019/03/14/kaungbin-%E7%AE%80%E5%8D%95%E6%90%9C%E7%B4%A2%E4%B8%93%E9%A2%98/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>åŸºæœ¬çš„æœç´¢ä¸æ€ä¹ˆç†Ÿç»ƒï¼Œï¼Œæœ‰æ—¶åšé¢˜çš„æ—¶å€™æ„Ÿè§‰å¾ˆå‘ï¼Œï¼Œç°åœ¨æ¥ç»ƒä¹ ä¸€ä¸‹ï¼Œï¼Œ</p>
<p>è¿™ä¸ªä¸“é¢˜æ˜¯<a href="https://vjudge.net/contest/287864">kuangbinç®€å•æœç´¢ä¸“é¢˜</a></p>
<span id="more"></span>
<h1 id="A-æ£‹ç›˜é—®é¢˜-POJ-1321"><a href="#A-æ£‹ç›˜é—®é¢˜-POJ-1321" class="headerlink" title="A - æ£‹ç›˜é—®é¢˜ POJ - 1321"></a>A - æ£‹ç›˜é—®é¢˜ POJ - 1321</h1><p>æˆ‘ä¸€å¼€å§‹çš„æ€è·¯æ˜¯è®°å½•ä¸‹æ‰€æœ‰çš„å¯ä»¥æ”¾æ£‹å­çš„åæ ‡ï¼Œï¼Œç„¶åæœç´¢åˆ¤æ–­æ¯ä¸€ä¸ªæ£‹å­ï¼Œåˆ¤æ–­æ˜¯å¦æœ‰è§£ï¼Œï¼Œä½†è¿™æ ·å¥½åƒä¼šç®—é‡å¤è§£ï¼Œï¼Œ</p>
<p>ç„¶åçš„è§£æ³•å°±æ˜¯æœç´¢æ¯ä¸€å±‚ä¸­çš„å¯ä»¥æ”¾æ£‹å­çš„ç‚¹ï¼Œï¼Œç„¶ååˆ¤æ–­æ˜¯å¦åˆæ³•ï¼Œï¼Œæ‰¾å‡ºå¯è¡Œè§£</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//#include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> ll <span class="hljs-title">read</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">char</span> c = getchar(); <span class="hljs-keyword">int</span> x = <span class="hljs-number">0</span>, f = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(c &lt; <span class="hljs-string">&#x27;0&#x27;</span> || c &gt; <span class="hljs-string">&#x27;9&#x27;</span>) &#123;<span class="hljs-keyword">if</span>(c == <span class="hljs-string">&#x27;-&#x27;</span>) f = <span class="hljs-number">-1</span>; c = getchar();&#125;<br>    <span class="hljs-keyword">while</span>(c &gt;= <span class="hljs-string">&#x27;0&#x27;</span> &amp;&amp; c &lt;= <span class="hljs-string">&#x27;9&#x27;</span>) x = x * <span class="hljs-number">10</span> + c - <span class="hljs-string">&#x27;0&#x27;</span>, c = getchar();<br>    <span class="hljs-keyword">return</span> x * f;<br>&#125;<br><span class="hljs-keyword">bool</span> mp[<span class="hljs-number">10</span>][<span class="hljs-number">10</span>];<br><span class="hljs-keyword">bool</span> vis[<span class="hljs-number">10</span>][<span class="hljs-number">10</span>];<br><span class="hljs-keyword">int</span> n, k;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">check</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        <span class="hljs-keyword">if</span>(i != y &amp;&amp; vis[x][i])<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        <span class="hljs-keyword">if</span>(i != x &amp;&amp; vis[i][y])<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-keyword">int</span> ans;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> row, <span class="hljs-keyword">int</span> num)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(num == k)<br>    &#123;<br>        ++ans;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(row &gt; n)<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(mp[row][i] &amp;&amp; !vis[row][i] &amp;&amp; check(row, i))<br>        &#123;<br>            vis[row][i] = <span class="hljs-literal">true</span>;<br>            dfs(row + <span class="hljs-number">1</span>, num + <span class="hljs-number">1</span>);<br>            vis[row][i] = <span class="hljs-literal">false</span>;<br>        &#125;<br>    &#125;<br>    dfs(row + <span class="hljs-number">1</span>, num);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n, &amp;k))<br>    &#123;<br>        <span class="hljs-keyword">if</span>(n == <span class="hljs-number">-1</span> &amp;&amp; n == k)<span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">char</span> s[<span class="hljs-number">10</span>];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>, s + <span class="hljs-number">1</span>);<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; ++j)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(s[j] == <span class="hljs-string">&#x27;#&#x27;</span>)<br>                    mp[i][j] = <span class="hljs-literal">true</span>;<br>                <span class="hljs-keyword">else</span><br>                    mp[i][j] = <span class="hljs-literal">false</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vis);<br>        ans = <span class="hljs-number">0</span>;<br>        dfs(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<br>        <span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="B-Dungeon-Master-POJ-2251"><a href="#B-Dungeon-Master-POJ-2251" class="headerlink" title="B - Dungeon Master POJ - 2251"></a>B - Dungeon Master POJ - 2251</h1><p>é¢˜æ„å¾ˆç®€å•å°±æ˜¯ä¸€ä¸ªä¸‰ç»´çš„è¿·å®«é—®é¢˜ï¼Œï¼Œï¼Œdfsä¼šTï¼Œï¼Œï¼Œä¸Šbfs</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//#include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> ll <span class="hljs-title">read</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">char</span> c = getchar(); <span class="hljs-keyword">int</span> x = <span class="hljs-number">0</span>, f = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(c &lt; <span class="hljs-string">&#x27;0&#x27;</span> || c &gt; <span class="hljs-string">&#x27;9&#x27;</span>) &#123;<span class="hljs-keyword">if</span>(c == <span class="hljs-string">&#x27;-&#x27;</span>) f = <span class="hljs-number">-1</span>; c = getchar();&#125;<br>    <span class="hljs-keyword">while</span>(c &gt;= <span class="hljs-string">&#x27;0&#x27;</span> &amp;&amp; c &lt;= <span class="hljs-string">&#x27;9&#x27;</span>) x = x * <span class="hljs-number">10</span> + c - <span class="hljs-string">&#x27;0&#x27;</span>, c = getchar();<br>    <span class="hljs-keyword">return</span> x * f;<br>&#125;<br><span class="hljs-keyword">bool</span> mp[<span class="hljs-number">35</span>][<span class="hljs-number">35</span>][<span class="hljs-number">35</span>];<br><span class="hljs-keyword">bool</span> vis[<span class="hljs-number">35</span>][<span class="hljs-number">35</span>][<span class="hljs-number">35</span>];<br><span class="hljs-keyword">int</span> last_min[<span class="hljs-number">35</span>][<span class="hljs-number">35</span>][<span class="hljs-number">35</span>];<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> x, y, z;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">(<span class="hljs-keyword">int</span> i, <span class="hljs-keyword">int</span> j, <span class="hljs-keyword">int</span> k)</span></span><br><span class="hljs-function">    </span>&#123;<br>        x = i;<br>        y = j;<br>        z = k;<br>    &#125;<br>&#125;s, t;<br><span class="hljs-keyword">int</span> l, c, r;<br><span class="hljs-keyword">char</span> str[<span class="hljs-number">35</span>];<br><span class="hljs-keyword">int</span> ans;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">check</span><span class="hljs-params">(node t)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(t.x &gt;= <span class="hljs-number">1</span> &amp;&amp; t.y &gt;= <span class="hljs-number">1</span> &amp;&amp; t.z &gt;= <span class="hljs-number">1</span> &amp;&amp; t.x &lt;= l &amp;&amp; t.y &lt;= r &amp;&amp; t.z &lt;= c &amp;&amp; !vis[t.x][t.y][t.z] &amp;&amp; mp[t.x][t.y][t.z])<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><span class="hljs-keyword">int</span> nxt[<span class="hljs-number">7</span>][<span class="hljs-number">3</span>] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>,<br>                 <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>,<br>                <span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>,<br>                 <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>,<br>                 <span class="hljs-number">0</span>,<span class="hljs-number">-1</span>, <span class="hljs-number">0</span>,<br>                 <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>,<br>                 <span class="hljs-number">0</span>, <span class="hljs-number">0</span>,<span class="hljs-number">-1</span>&#125;;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(node tmp, <span class="hljs-keyword">int</span> anst)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(tmp.x == t.x &amp;&amp; tmp.y == t.y &amp;&amp; tmp.z == t.z)<br>    &#123;<br>        ans = min(ans, anst);<br>        <span class="hljs-comment">//cout &lt;&lt; tmp.x &lt;&lt; tmp.y &lt;&lt; tmp.z &lt;&lt; endl;</span><br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(anst &gt;= ans)<span class="hljs-keyword">return</span>;<br>    <span class="hljs-keyword">if</span>(anst &gt;= last_min[tmp.x][tmp.y][tmp.z])<span class="hljs-keyword">return</span>;<br>    last_min[tmp.x][tmp.y][tmp.z] = anst;<br>    node tt;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">6</span>; ++i)<br>    &#123;<br>        tt.init(tmp.x + nxt[i][<span class="hljs-number">0</span>], tmp.y + nxt[i][<span class="hljs-number">1</span>], tmp.z + nxt[i][<span class="hljs-number">2</span>]);<br>        <span class="hljs-keyword">if</span>(check(tt))<br>        &#123;<br>            <span class="hljs-comment">//cout &lt;&lt; tt.x &lt;&lt; tt.y &lt;&lt; tt.z &lt;&lt; endl;</span><br>            vis[tt.x][tt.y][tt.z] = <span class="hljs-literal">true</span>;<br>            dfs(tt, anst + <span class="hljs-number">1</span>);<br>            vis[tt.x][tt.y][tt.z] = <span class="hljs-literal">false</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">bfs</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vis);<br>    <span class="hljs-built_in">memset</span>(last_min, inf, <span class="hljs-keyword">sizeof</span> last_min);<br>    ans = inf;<br>    node tt;<br>    <span class="hljs-built_in">queue</span>&lt;node&gt; q;<br>    <span class="hljs-keyword">while</span>(!q.empty())q.pop();<br>    q.push(s);<br>    vis[s.x][s.y][s.z] = <span class="hljs-literal">true</span>;<br>    last_min[s.x][s.y][s.z] = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span>(!q.empty())<br>    &#123;<br>        node tmp = q.front(); q.pop();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">6</span>; ++i)<br>        &#123;<br>            tt.init(tmp.x + nxt[i][<span class="hljs-number">0</span>], tmp.y + nxt[i][<span class="hljs-number">1</span>], tmp.z + nxt[i][<span class="hljs-number">2</span>]);<br>            <span class="hljs-keyword">if</span>(check(tt))<br>            &#123;<br>                vis[tt.x][tt.y][tt.z] = <span class="hljs-literal">true</span>;<br>                q.push(tt);<br>                last_min[tt.x][tt.y][tt.z] = last_min[tmp.x][tmp.y][tmp.z] + <span class="hljs-number">1</span>;<br>            &#125;<br>        &#125;<br>    &#125;<br>    ans = last_min[t.x][t.y][t.z];<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>, &amp;l, &amp;r, &amp;c) &amp;&amp; l + r + c)<br>    &#123;<br>        <span class="hljs-built_in">memset</span>(mp, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> mp);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= l; ++i)<br>        &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= r; ++j)<br>            &#123;<br>                <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>, str + <span class="hljs-number">1</span>);getchar();<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> k = <span class="hljs-number">1</span>; k &lt;= c; ++k)<br>                    <span class="hljs-keyword">if</span>(str[k] == <span class="hljs-string">&#x27;.&#x27;</span>)<br>                        mp[i][j][k] = <span class="hljs-literal">true</span>;<br>                    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(str[k] == <span class="hljs-string">&#x27;S&#x27;</span>)<br>                        s.init(i, j, k), mp[i][j][k] = <span class="hljs-literal">true</span>;<br>                    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(str[k] == <span class="hljs-string">&#x27;E&#x27;</span>)<br>                        t.init(i, j, k), mp[i][j][k] = <span class="hljs-literal">true</span>;<br>            &#125;<br>        &#125;<br>        <br>        <span class="hljs-comment">//dfs(s, 0);</span><br>        bfs();<br>        <span class="hljs-keyword">if</span>(ans != inf)<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Escaped in %d minute(s).\n&quot;</span>, ans);<br>        <span class="hljs-keyword">else</span>          <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Trapped!\n&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="C-Catch-That-Cow-POJ-3278"><a href="#C-Catch-That-Cow-POJ-3278" class="headerlink" title="C - Catch That Cow POJ - 3278"></a>C - Catch That Cow POJ - 3278</h1><p>é¢˜æ„å¾ˆç®€å•ï¼Œï¼Œå¦‚æœç”¨dfsçš„è¯ï¼Œï¼Œæ­£çš„è§£å†³å¯èƒ½å‡ºç°å„ç§é”™è¯¯ï¼Œï¼Œåç€æƒ³å°±è¡Œäº†ï¼Œï¼Œæ³¨æ„åœ¨0çš„æƒ…å†µ</p>
<p>å¦‚æœç”¨bfsçš„è¯ï¼Œï¼Œæ³¨æ„èµ·ç‚¹ç»ˆç‚¹ä¸€æ ·çš„æƒ…å†µï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// #include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-comment">//#include &lt;vector&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> ll <span class="hljs-title">read</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">char</span> c = getchar(); <span class="hljs-keyword">int</span> x = <span class="hljs-number">0</span>, f = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(c &lt; <span class="hljs-string">&#x27;0&#x27;</span> || c &gt; <span class="hljs-string">&#x27;9&#x27;</span>) &#123;<span class="hljs-keyword">if</span>(c == <span class="hljs-string">&#x27;-&#x27;</span>) f = <span class="hljs-number">-1</span>; c = getchar();&#125;<br>    <span class="hljs-keyword">while</span>(c &gt;= <span class="hljs-string">&#x27;0&#x27;</span> &amp;&amp; c &lt;= <span class="hljs-string">&#x27;9&#x27;</span>) x = x * <span class="hljs-number">10</span> + c - <span class="hljs-string">&#x27;0&#x27;</span>, c = getchar();<br>    <span class="hljs-keyword">return</span> x * f;<br>&#125;<br><span class="hljs-keyword">int</span> ans;<br><span class="hljs-keyword">int</span> n, k;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n, <span class="hljs-keyword">int</span> k)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(n &gt;= k)<span class="hljs-keyword">return</span> n - k;<br>    <span class="hljs-keyword">if</span>(k &amp; <span class="hljs-number">1</span>)<br>        <span class="hljs-keyword">return</span> min(dfs(n, k + <span class="hljs-number">1</span>) + <span class="hljs-number">1</span>, dfs(n, k - <span class="hljs-number">1</span>) + <span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">else</span><br>        <span class="hljs-keyword">return</span> min(k - n, dfs(n, k / <span class="hljs-number">2</span>) + <span class="hljs-number">1</span>);<br>    <br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> loc, num;<br>&#125;;<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">bfs</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vis);<br>    <span class="hljs-built_in">queue</span>&lt;node&gt; q;<br>    <span class="hljs-keyword">while</span>(!q.empty())q.pop();<br>    node s;<br>    s.loc = n;<br>    s.num = <span class="hljs-number">0</span>;<br>    q.push(s);<br>    <span class="hljs-keyword">while</span>(!q.empty())<br>    &#123;<br>        node now = q.front(); q.pop();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">3</span>; ++i)<br>        &#123;<br>            node nxt;<br>            <span class="hljs-keyword">if</span>(i == <span class="hljs-number">1</span>)nxt.loc = now.loc + <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">if</span>(i == <span class="hljs-number">2</span>)nxt.loc = now.loc - <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">if</span>(i == <span class="hljs-number">3</span>)nxt.loc = now.loc &lt;&lt; <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">if</span>(nxt.loc &gt;= <span class="hljs-number">0</span> &amp;&amp; nxt.loc &lt;= maxn &amp;&amp; !vis[nxt.loc])<br>            &#123;<br>                vis[nxt.loc] = <span class="hljs-literal">true</span>;<br>                nxt.num = now.num + <span class="hljs-number">1</span>;<br>                q.push(nxt);<br>                <span class="hljs-keyword">if</span>(nxt.loc == k)<span class="hljs-keyword">return</span> nxt.num;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> inf;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n, &amp;k);<br>    <span class="hljs-comment">// if(n)</span><br>    <span class="hljs-comment">//     printf(&quot;%d\n&quot;, dfs(n, k));</span><br>    <span class="hljs-comment">// else</span><br>    <span class="hljs-comment">//     printf(&quot;%d\n&quot;, dfs(1, k) + 1);</span><br>    <span class="hljs-keyword">if</span>(n == k)<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;0\n&quot;</span>);<br>    <span class="hljs-keyword">else</span><br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, bfs());<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="D-Fliptile-POJ-3279"><a href="#D-Fliptile-POJ-3279" class="headerlink" title="D - Fliptile POJ - 3279"></a>D - Fliptile POJ - 3279</h1><p>çœ‹èµ·æ¥ä»è¿™é¢˜å°±å¼€å§‹éš¾äº†ï¼Œï¼Œ</p>
<p>é¢˜æ„æ˜¯ä¸€ä¸ª01çŸ©é˜µï¼Œï¼Œå¯ä»¥é€‰æ‹©ä¸€äº›è¿›è¡Œåè½¬ï¼Œï¼Œå¯¹mp[i][j]è¿›è¡Œåè½¬çš„åŒæ—¶ï¼Œä¸å®ƒç›¸é‚»çš„4ä¸ªç –å—ä¹Ÿä¼šåè½¬ï¼Œï¼Œè¾“å‡ºä½¿å¾—å…¨éƒ¨ä¸º0çš„åè½¬çš„æ“ä½œçŸ©é˜µï¼Œï¼Œä¸å­˜åœ¨è§£çš„è¯å°±è¾“å‡ºIMPOSSIBLEï¼Œï¼Œï¼Œ</p>
<p>åˆšçœ‹å®Œé¢˜çš„æ—¶å€™ä¸€è„¸æ‡µé€¼ï¼Œï¼Œå®Œå…¨ä¸çŸ¥é“æ€ä¹ˆä¸‹æ‰‹ï¼Œï¼ŒçŸ¥ä¼šçº¯æš´åŠ›ï¼Œæšä¸¾æ¯ä¸€ç§æƒ…å†µï¼Œï¼Œ</p>
<p>çœ‹åˆ°åˆ«äººçš„æ€è·¯ä¹‹åå°è¯•ä¸çœ‹ä»–ä»¬çš„ä»£ç è‡ªå·±å†™ï¼ˆå…¶å®æ˜¯çœ‹ä¸æ‡‚ï¼‰ï¼Œï¼Œç„¶åå› ä¸ºä¸€äº›å°ç»†èŠ‚è¢«è‡ªå·±é€ çš„æ•°æ®ä¸€æ¬¡ä¸€æ¬¡çš„å¡æ‰ï¼Œï¼Œé‡å†™äº†ä¸€æ¬¡å°±å¥½äº†ï¼Œï¼Œ</p>
<p>æ€è·¯å°±æ˜¯å¯¹äºç¬¬ä¸€è¡Œï¼Œå¯èƒ½æœ‰çš„åè½¬çš„æƒ…å†µä¸€å…±åªæœ‰ $2^m$ ä¸­ï¼Œï¼Œï¼Œè€Œä¸”åè½¬1æ¬¡å’Œåè½¬3æ¬¡æ˜¯ä¸€æ ·çš„ï¼Œï¼Œå¦‚æœç”¨1è¡¨ç¤ºåè½¬ï¼Œ0è¡¨ç¤ºä¸åè½¬ï¼Œï¼Œç¬¬ä¸€è¡Œçš„æƒ…å†µå°±æ˜¯ï¼š $000â€¦000~111â€¦111$ï¼Œï¼Œï¼Œæ‰€ä»¥æšä¸¾è¿™ç¬¬ä¸€è¡Œçš„æ‰€æœ‰æƒ…å†µï¼Œï¼Œç„¶åç”±ç¬¬ä¸€è¡Œçš„åè½¬æƒ…å†µæ¥ç¡®å®šç¬¬2è¡Œï¼Œç„¶åå†ç¡®å®šç¬¬3è¡Œï¼Œï¼Œä»¥æ­¤ç±»æ¨ï¼Œï¼Œç„¶ååˆ¤æ–­æœ€åçš„é‚£ä¸€è¡Œæ˜¯ä¸æ˜¯å…¨å˜æˆäº†0ï¼Œï¼Œï¼Œå–åè½¬æ¬¡æ•°æœ€å°‘çš„é‚£ç§æƒ…å†µï¼Œï¼Œé‚£ä¹ˆæ€ä¹ˆç¡®å®šä¸‹ä¸€è¡Œçš„åè½¬æƒ…å†µå‘¢ï¼Œï¼Œå› ä¸ºè¦ä¿è¯å…¨ä¸ºé›¶ï¼Œï¼Œæ‰€ä»¥ç¬¬xè¡Œçš„åè½¬æƒ…å†µç”±x-1è¡Œç¡®å®šï¼Œï¼Œå¦‚æœä¸Šä¸€è¡Œä¸º1ï¼Œï¼Œè¿™ä¸€è¡Œä¸ºäº†ä¿è¯ä¸Šä¸€è¡Œèƒ½ä¸º0ï¼Œï¼Œå°±åè½¬ï¼Œï¼Œå¯¹äºn==1çš„æƒ…å†µç‰¹åˆ¤ä¸€ä¸‹ï¼Œï¼Œ</p>
<p>ç”¨è¿™ä¸ªæ€è·¯å¯ä»¥é€’å½’å®ç°ä¹Ÿå¯ä»¥é€’æ¨å®ç°ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//é€’å½’</span><br><span class="hljs-comment">// #include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-comment">//#include &lt;vector&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">bool</span> mp[<span class="hljs-number">20</span>][<span class="hljs-number">20</span>], mpt[<span class="hljs-number">20</span>][<span class="hljs-number">20</span>];<br><span class="hljs-keyword">bool</span> ans[<span class="hljs-number">20</span>][<span class="hljs-number">20</span>], anst[<span class="hljs-number">20</span>][<span class="hljs-number">20</span>];<br><span class="hljs-keyword">int</span> mi;<br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">cal</span><span class="hljs-params">(<span class="hljs-keyword">bool</span> a)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(a)<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">flip</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(x - <span class="hljs-number">1</span> &gt;= <span class="hljs-number">1</span>)mpt[x - <span class="hljs-number">1</span>][y] = cal(mpt[x - <span class="hljs-number">1</span>][y]);<br>    <span class="hljs-keyword">if</span>(x + <span class="hljs-number">1</span> &lt;= n)mpt[x + <span class="hljs-number">1</span>][y] = cal(mpt[x + <span class="hljs-number">1</span>][y]);<br>    <span class="hljs-keyword">if</span>(y - <span class="hljs-number">1</span> &gt;= <span class="hljs-number">1</span>)mpt[x][y - <span class="hljs-number">1</span>] = cal(mpt[x][y - <span class="hljs-number">1</span>]);<br>    <span class="hljs-keyword">if</span>(y + <span class="hljs-number">1</span> &lt;= m)mpt[x][y + <span class="hljs-number">1</span>] = cal(mpt[x][y + <span class="hljs-number">1</span>]);<br>    mpt[x][y] = cal(mpt[x][y]);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(x &gt;= n)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(n == <span class="hljs-number">1</span>)<br>        &#123;<br>            <span class="hljs-keyword">int</span> tmp = <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">true</span>;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>                <span class="hljs-keyword">if</span>(mpt[<span class="hljs-number">1</span>][i])<br>                    flag = <span class="hljs-literal">false</span>;<br>            <span class="hljs-keyword">if</span>(flag)<br>            &#123;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>                    <span class="hljs-keyword">if</span>(mpt[<span class="hljs-number">1</span>][i])<br>                        ++tmp;<br>                <span class="hljs-keyword">if</span>(tmp &lt; mi)<br>                &#123;<br>                    <span class="hljs-built_in">memcpy</span>(ans, anst, <span class="hljs-keyword">sizeof</span> anst);<br>                    mi = tmp;<br>                &#125;<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(mpt[x - <span class="hljs-number">1</span>][i])<br>                &#123;<br>                    flip(x, i);<br>                    anst[x][i] = cal(anst[x][i]);<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">true</span>;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>                <span class="hljs-keyword">if</span>(mpt[x][i])<br>                    flag = <span class="hljs-literal">false</span>;<br>            <span class="hljs-keyword">if</span>(flag)<br>            &#123;<br>                <span class="hljs-keyword">int</span> tmp = <span class="hljs-number">0</span>;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>                    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; ++j)<br>                        <span class="hljs-keyword">if</span>(anst[i][j])<br>                            ++tmp;<br>                <span class="hljs-keyword">if</span>(tmp &lt; mi)<br>                &#123;<br>                    <span class="hljs-built_in">memcpy</span>(ans, anst, <span class="hljs-keyword">sizeof</span> anst);<br>                    mi = tmp;<br>                &#125;<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125;<br>        <br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(mpt[x - <span class="hljs-number">1</span>][i])<br>        &#123;<br>            flip(x, i);<br>            anst[x][i] = cal(anst[x][i]);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(dfs(x + <span class="hljs-number">1</span>))<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; ++j)<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;mp[i][j]);<br>    mi = inf;<br>    <span class="hljs-built_in">memset</span>(ans, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> ans);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= (<span class="hljs-number">1</span> &lt;&lt; m) - <span class="hljs-number">1</span>; ++i)<br>    &#123;<br>        <span class="hljs-built_in">memcpy</span>(mpt, mp, <span class="hljs-keyword">sizeof</span> mp);<br>        <span class="hljs-built_in">memset</span>(anst, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> anst);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; ++j)<br>        &#123;<br>            <span class="hljs-keyword">if</span>((i &gt;&gt; (j - <span class="hljs-number">1</span>)) &amp; <span class="hljs-number">1</span>)<br>            &#123;<br>                flip(<span class="hljs-number">1</span>, m - j + <span class="hljs-number">1</span>);<br>                anst[<span class="hljs-number">1</span>][m - j + <span class="hljs-number">1</span>] = <span class="hljs-literal">true</span>;<br>            &#125;<br>        &#125;<br>        dfs(<span class="hljs-number">2</span>);<br>    &#125;<br>    <span class="hljs-keyword">if</span>(mi == inf)<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;IMPOSSIBLE\n&quot;</span>);<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; ++j)<br>                <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, ans[i][j]);<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="E-Find-The-Multiple-POJ-1426"><a href="#E-Find-The-Multiple-POJ-1426" class="headerlink" title="E - Find The Multiple POJ - 1426"></a>E - Find The Multiple POJ - 1426</h1><p>å¥½å‘(caiå•Šè¿™é¢˜ï¼Œï¼Œï¼Œ</p>
<p>é¢˜æ„æ˜¯è®©æ±‚ä¸€ä¸ªä»…æœ‰01ç»„æˆçš„åè¿›åˆ¶çš„å¯ä»¥æ•´é™¤nçš„æ•°ï¼Œï¼Œï¼Œç„¶åä»–ç»™äº†å‡ ä¸ªå¾ˆå¤§å¾ˆå¤§çš„æ»¡è¶³é¢˜æ„çš„æ ·ä¾‹ï¼Œï¼Œï¼Œ</p>
<p>ç„¶åæˆ‘å°±å¤©çœŸçš„ä»¥ä¸ºå¯¹äºè¿™äº›æ•°çš„è§£éƒ½æ˜¯å·¨å¤§çš„æ•°ï¼Œï¼Œä¼šçˆ†llï¼Œï¼Œï¼Œç„¶åå°±æƒ³ç€ç”¨ä¸€ä¸ªæ•°ç»„å»å­˜è¿™ä¸€ä½æ˜¯0è¿˜æ˜¯1ï¼Œï¼Œç„¶åæœä¸€ä¸‹ï¼Œï¼Œï¼Œå†™åˆ°ä¸€åŠä¹‹åå‘ç°ï¼Œï¼Œå¦‚æœè¿™æ ·æƒ³çš„è¯ï¼Œï¼Œä¸­é—´åˆ¤æ–­è®¡ç®—å‡ºæ¥çš„çš„å²‚ä¸æ˜¯ä¹Ÿå·¨å¤§ï¼Œï¼Œé‚£æ€ä¹ˆä¿è¯æœåˆ°çš„è¿™ä¸ªæ•°æ˜¯å¯¹çš„ï¼Ÿï¼Ÿï¼Ÿ ç„¶åæˆ‘å°±è’™è”½äº†ï¼Œï¼Œï¼Œçœ‹äº†åˆ«äººçš„é¢˜è§£ä¹‹åï¼Œï¼ŒæƒŠäº†ï¼Œï¼Œï¼Œå±…ç„¶æœ€å¤§çš„æ•°æ˜¯ä¸ä¼šçˆ†llçš„ï¼Œï¼Œï¼Œé‚£ä¸ªå¤§æ ·ä¾‹æ˜¯å“å”¬äººçš„ï¼Œï¼Œï¼Œå™—ï¼Œï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// #include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;queue&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e3</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><br><span class="hljs-keyword">int</span> n;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">dfs</span><span class="hljs-params">(ll ans, <span class="hljs-keyword">int</span> k)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(k == <span class="hljs-number">20</span>)<br>    &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(ans &amp;&amp; ans / n * n == ans)<br>    &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%lld\n&quot;</span>, ans);<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(dfs(ans * <span class="hljs-number">10</span>, k + <span class="hljs-number">1</span>))<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">if</span>(dfs(ans * <span class="hljs-number">10</span> + <span class="hljs-number">1</span>, k + <span class="hljs-number">1</span>))<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    <span class="hljs-comment">// ios_base::sync_with_stdio(0);</span><br>    <span class="hljs-comment">// cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n) &amp;&amp; n)<br>    &#123;<br>        dfs(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="F-Prime-Path-POJ-3126"><a href="#F-Prime-Path-POJ-3126" class="headerlink" title="F - Prime Path POJ - 3126"></a>F - Prime Path POJ - 3126</h1><p>è¿™æ®µæ—¶é—´(5æœˆäº†)å‘ç°æœç´¢è¿˜æ˜¯ä¸æ€ä¹ˆä¼šå•Šï¼Œï¼Œäºæ˜¯åˆæ¡èµ·æ‰”ä¸‹çš„æœç´¢ä¸“é¢˜ï¼Œï¼Œï¼Œ</p>
<p>æˆ‘çš„æ€è·¯æ˜¯å…ˆé¢„å¤„ç†å‡ºæ‰€æœ‰çš„è´¨æ•°ï¼Œä»¥åŠç»è¿‡ä¸€æ¬¡å˜åŒ–å¯ä»¥å¾—åˆ°çš„æ¯ä¸€ä¸ªè´¨æ•°çš„å…¶ä»–çš„è´¨æ•°ï¼Œï¼Œï¼Œç„¶åæœä¸€ä¸‹ï¼Œï¼Œ</p>
<p>å…ˆå¼€å§‹å†™çš„dfsï¼Œï¼Œç„¶åè‡ªå·±é€ çš„æ ·ä¾‹å‘ç°æ—¶é—´çˆ†ç‚¸ï¼Œï¼Œå‘ç°åˆ«äººéƒ½æ˜¯ç”¨bfsï¼Œï¼Œ</p>
<p>ç„¶åæ¢bfsï¼Œï¼Œï¼Œå› ä¸ºä¸€å¼€å§‹æ²¡æœ‰æ ‡è®°æ¯ä¸€ä¸ªæ•°æ˜¯å¦è¢«ç”¨äº†ï¼Œï¼Œæ‰€ä»¥é˜Ÿåˆ—ä¸­ä¼šå‡ºç°ä¸€äº›ä¸€æ ·çš„æ•°ï¼Œï¼Œäºæ˜¯åˆå¤šä½™çš„æ“ä½œï¼Œï¼Œï¼Œtäº†ï¼Œï¼Œæ ‡è®°åå°±å¥½äº†ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// #include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-comment">// #include &lt;algorithm&gt;</span><br><span class="hljs-comment">// #include &lt;set&gt;</span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;cmath&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-comment">// #include &lt;stack&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;ctime&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e10</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e4</span> + <span class="hljs-number">10</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e3</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-keyword">int</span> t, s;<br><span class="hljs-keyword">int</span> ans;<br><span class="hljs-keyword">int</span> a[<span class="hljs-number">2000</span>], tot;<br><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; pp[maxn];<br><span class="hljs-comment">// bool vis[maxn];</span><br><span class="hljs-keyword">bool</span> prime[maxn];<br><span class="hljs-keyword">int</span> p[maxn], tol;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">check</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> flag = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">4</span>; ++i)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(a % <span class="hljs-number">10</span> != b % <span class="hljs-number">10</span>)++flag;<br>        a /= <span class="hljs-number">10</span>; b /= <span class="hljs-number">10</span>;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(flag == <span class="hljs-number">1</span> ||flag == <span class="hljs-number">0</span>)<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt; maxn; ++i)prime[i] = <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt; maxn; ++i)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(prime[i])p[tol++] = i;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; tol &amp;&amp; i * p[j] &lt; maxn; ++j)<br>        &#123;<br>            prime[i * p[j]] = <span class="hljs-literal">false</span>;<br>            <span class="hljs-keyword">if</span>(i % p[j] == <span class="hljs-number">0</span>)<span class="hljs-keyword">break</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">2000</span>; ++i)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(p[i] &gt;= <span class="hljs-number">1000</span> &amp;&amp; p[i] &lt;= <span class="hljs-number">9999</span>)<br>        &#123;<br>            a[++tot] = p[i];<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= tot; ++i)<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = i + <span class="hljs-number">1</span>; j &lt;= tot; ++j)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(check(a[i], a[j]))<br>            &#123;<br>                pp[a[i]].push_back(a[j]);<br>                pp[a[j]].push_back(a[i]);<br>            &#125;<br>        &#125;<br>    &#125;<br>    <br>&#125;<br><br><span class="hljs-comment">// void dfs(int x, int ret)</span><br><span class="hljs-comment">// &#123;</span><br><span class="hljs-comment">//     if(x == t)</span><br><span class="hljs-comment">//     &#123;</span><br><span class="hljs-comment">//         ans = min(ans, ret);</span><br><span class="hljs-comment">//         return;</span><br><span class="hljs-comment">//     &#125;</span><br><span class="hljs-comment">//     if(ret &gt;= ans)return;</span><br><span class="hljs-comment">//     for(auto i : pp[x])</span><br><span class="hljs-comment">//     &#123;</span><br><span class="hljs-comment">//         if(!vis[i])</span><br><span class="hljs-comment">//         &#123;</span><br><span class="hljs-comment">//             vis[i] = true;</span><br><span class="hljs-comment">//             dfs(i, ret + 1);</span><br><span class="hljs-comment">//             vis[i] = false;</span><br><span class="hljs-comment">//         &#125;</span><br><br><span class="hljs-comment">//     &#125;</span><br><span class="hljs-comment">// &#125;</span><br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">bfs</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(s == t)<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">queue</span>&lt;<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; &gt; q;<br>    <span class="hljs-keyword">while</span>(!q.empty())q.pop();<br>    <span class="hljs-comment">// for(auto i : pp[s])q.push(make_pair(i, 1));</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; pp[s].size(); ++i)q.push(<span class="hljs-built_in">make_pair</span>(pp[s][i], <span class="hljs-number">1</span>));<br>    <span class="hljs-keyword">while</span>(!q.empty())<br>    &#123;<br>        <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; now = q.front(); q.pop();<br>        vis[now.first] = <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">if</span>(now.first == t)<span class="hljs-keyword">return</span> now.second;<br>        <span class="hljs-comment">// for(auto i : pp[now.first])q.push(make_pair(i, now.second + 1));</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; pp[now.first].size(); ++i)<br>            <span class="hljs-keyword">if</span>(!vis[pp[now.first][i]])<br>            &#123;<br>                vis[pp[now.first][i]] = <span class="hljs-literal">true</span>;<br>                q.push(<span class="hljs-built_in">make_pair</span>(pp[now.first][i], now.second + <span class="hljs-number">1</span>));<br>            &#125;<br>        <br>    &#125;<br>    <span class="hljs-keyword">return</span> inf;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    init();<br>    <span class="hljs-keyword">int</span> tt; <span class="hljs-built_in">cin</span> &gt;&gt; tt;<br>    <span class="hljs-keyword">while</span>(tt--)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; s &gt;&gt; t;<br>        <span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vis);<br>        ans = bfs();<br>        <span class="hljs-keyword">if</span>(ans == inf)<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;Impossible&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">else</span> <span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-comment">// ans = inf;</span><br>        <span class="hljs-comment">// memset(vis, false, sizeof vis);</span><br>        <span class="hljs-comment">// vis[s] = true;</span><br>        <span class="hljs-comment">// dfs(s, 0);</span><br>        <span class="hljs-comment">// cout &lt;&lt; ans &lt;&lt; endl;</span><br>    &#125;<br>    <br>    <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;       <br>&#125;<br></code></pre></td></tr></table></figure>
<p>å¥½èœå•Šï¼Œï¼Œï¼Œ</p>
<h1 id="K-è¿·å®«é—®é¢˜-POJ-3984"><a href="#K-è¿·å®«é—®é¢˜-POJ-3984" class="headerlink" title="K - è¿·å®«é—®é¢˜ POJ - 3984"></a>K - è¿·å®«é—®é¢˜ POJ - 3984</h1><p>ç®€å•çš„è¿·å®«é—®é¢˜ï¼Œï¼Œæ·±æœå¹¿æœéƒ½è¡Œï¼Œï¼Œ</p>
<h1 id="L-Oil-Deposits-HDU-1241"><a href="#L-Oil-Deposits-HDU-1241" class="headerlink" title="L - Oil Deposits HDU - 1241"></a>L - Oil Deposits HDU - 1241</h1><p>æ±‚è”é€šå—çš„ä¸ªæ•°ï¼Œï¼Œå¾ˆç®€å•ï¼Œï¼Œä½†æ˜¯åœ¨hduä¸çŸ¥é“æ€ä¹ˆå›äº‹ï¼Œï¼Œèœœæ±waï¼Œï¼Œæœ€åæ¢äº†ä¸€ç§dfsçš„å†™æ³•å°±å¯ä»¥äº†ï¼Œï¼Œï¼Œpojä¸ŠåŸæ¥çš„å†™æ³•å°±æ²¡äº‹ï¼Œï¼Œï¼Œemmmm</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// #include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;algorithm&gt;</span><br><span class="hljs-comment">// #include &lt;set&gt;</span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;cmath&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-comment">// #include &lt;stack&gt;</span><br><span class="hljs-comment">// #include &lt;ctime&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e10</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e2</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e3</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-keyword">char</span> mp[maxn][maxn];<br><span class="hljs-keyword">bool</span> vis[maxn][maxn];<br><span class="hljs-keyword">int</span> dx[] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>&#125;;<br><span class="hljs-keyword">int</span> dy[] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>&#125;;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">8</span>; ++i)<br>    &#123;<br>        <span class="hljs-keyword">int</span> tx = x + dx[i];<br>        <span class="hljs-keyword">int</span> ty = y + dy[i];<br>        <span class="hljs-keyword">if</span>(tx &gt;= <span class="hljs-number">1</span> &amp;&amp; ty &gt;= <span class="hljs-number">1</span> &amp;&amp; tx &lt;= n &amp;&amp; ty &lt;= m &amp;&amp; mp[tx][ty] == <span class="hljs-string">&#x27;@&#x27;</span>)<br>        &#123;<br>            mp[tx][ty] = <span class="hljs-string">&#x27;*&#x27;</span>;<br>            dfs(tx, ty);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">// if(x &gt;= 1 &amp;&amp; y &gt;= 1 &amp;&amp; x &lt;= n &amp;&amp; y &lt;= m &amp;&amp; mp[x][y] == &#x27;@&#x27;)</span><br>    <span class="hljs-comment">// &#123;</span><br>    <span class="hljs-comment">//     mp[x][y] = &#x27;*&#x27;;</span><br>    <span class="hljs-comment">//     for(int i = 0; i &lt; 8; ++i)</span><br>    <span class="hljs-comment">//         dfs(x + dx[i], y + dy[i]);</span><br>    <span class="hljs-comment">// &#125;</span><br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">solve</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vis);<br>    <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; ++j)<br>            <span class="hljs-keyword">if</span>(mp[i][j] == <span class="hljs-string">&#x27;@&#x27;</span>)<br>            &#123;<br>                mp[i][j] = <span class="hljs-string">&#x27;*&#x27;</span>;<br>                dfs(i, j);<br>                ++ans;<br>            &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, ans);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    <span class="hljs-comment">// ios_base::sync_with_stdio(0);</span><br>    <span class="hljs-comment">// cin.tie(0);cout.tie(0);</span><br>    <br>    <span class="hljs-keyword">while</span>(~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n, &amp;m) &amp;&amp; n)<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>, mp[i] + <span class="hljs-number">1</span>);<br>        solve();<br>    &#125;<br>    <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;       <br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="M-éå¸¸å¯ä¹-HDU-1495"><a href="#M-éå¸¸å¯ä¹-HDU-1495" class="headerlink" title="M - éå¸¸å¯ä¹ HDU - 1495"></a>M - éå¸¸å¯ä¹ HDU - 1495</h1><p>å€’è…¾æ°´çš„é—®é¢˜ï¼Œï¼Œdfsç›´æ¥æœå°±å¯ä»¥äº†ï¼Œï¼Œï¼ˆå¼€visaæ•°ç»„çš„æ—¶å€™ä¸çŸ¥é“æ€ä¹ˆæƒ³çš„ä¸€ç›´æƒ³ç€1e3==100ï¼Œï¼Œï¼Œemmm mleäº†å¥½å‡ å‘ï¼Œï¼Œï¼Œè‡ªé—­ing</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// #include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;algorithm&gt;</span><br><span class="hljs-comment">// #include &lt;set&gt;</span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;cmath&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-comment">// #include &lt;stack&gt;</span><br><span class="hljs-comment">// #include &lt;ctime&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e10</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e2</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e3</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> v[<span class="hljs-number">3</span>];<br>    <span class="hljs-keyword">int</span> st;<br>&#125;s,t,u;<br><span class="hljs-keyword">bool</span> vis[maxn][maxn][maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">pour</span><span class="hljs-params">(<span class="hljs-keyword">int</span> i, <span class="hljs-keyword">int</span> j)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// t = u;</span><br>    t.st = u.st;<br>    t.v[<span class="hljs-number">0</span>] = u.v[<span class="hljs-number">0</span>]; t.v[<span class="hljs-number">1</span>] = u.v[<span class="hljs-number">1</span>]; t.v[<span class="hljs-number">2</span>] = u.v[<span class="hljs-number">2</span>];<br>    ++t.st;<br>    <span class="hljs-keyword">if</span>(t.v[i] &gt;= s.v[j] - t.v[j])<br>    &#123;<br>        t.v[i] -= (s.v[j] - t.v[j]);<br>        t.v[j] = s.v[j];<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        t.v[j] += t.v[i];<br>        t.v[i] = <span class="hljs-number">0</span>;<br>    &#125;<br>&#125;<br><span class="hljs-built_in">queue</span>&lt;node&gt; q;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">bfs</span><span class="hljs-params">(node st)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">while</span>(!q.empty())q.pop();<br>    q.push(st);<br>    <span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vis);<br>    vis[st.v[<span class="hljs-number">0</span>]][st.v[<span class="hljs-number">1</span>]][st.v[<span class="hljs-number">2</span>]] = <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">while</span>(!q.empty())<br>    &#123;<br>        u = q.front();q.pop();<br>        <span class="hljs-comment">//vis[u.v[0]][u.v[1]][u.v[2]] = false;</span><br>        <span class="hljs-comment">// cout &lt;&lt; u.v[0] &lt;&lt; u.v[1] &lt;&lt; u.v[2] &lt;&lt; endl;</span><br>        <br>        <span class="hljs-comment">// if(num)return u.st + num % 2;</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= <span class="hljs-number">2</span>; ++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt;= <span class="hljs-number">2</span>; ++j)<br>                <span class="hljs-keyword">if</span>(i != j &amp;&amp; u.v[i] &gt; <span class="hljs-number">0</span>)<br>                &#123;<br>                    pour(i, j);<br>                    <span class="hljs-keyword">if</span>(!vis[t.v[<span class="hljs-number">0</span>]][t.v[<span class="hljs-number">1</span>]][t.v[<span class="hljs-number">2</span>]])<br>                    &#123;<br>                        <span class="hljs-keyword">int</span> num = <span class="hljs-number">0</span>;<br>                        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= <span class="hljs-number">2</span>; ++i)<br>                            <span class="hljs-keyword">if</span>(t.v[i] * <span class="hljs-number">2</span> == s.v[<span class="hljs-number">0</span>])<br>                                ++num;<br>                        <span class="hljs-keyword">if</span>(num == <span class="hljs-number">2</span>)<span class="hljs-keyword">return</span> t.st;<br>                        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(num == <span class="hljs-number">1</span>)<span class="hljs-keyword">return</span> t.st + <span class="hljs-number">1</span>;<br>                        q.push(t);<br>                        vis[t.v[<span class="hljs-number">0</span>]][t.v[<span class="hljs-number">1</span>]][t.v[<span class="hljs-number">2</span>]] = <span class="hljs-literal">true</span>;<br>                    &#125;<br>                &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    <span class="hljs-comment">// ios_base::sync_with_stdio(0);</span><br>    <span class="hljs-comment">// cin.tie(0);cout.tie(0);</span><br>    <br>    <span class="hljs-keyword">int</span> S, N, M;<br>    <span class="hljs-keyword">while</span>(~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>, &amp;S, &amp;N, &amp;M) &amp;&amp; S + N + M)<br>    &#123;<br>        s.v[<span class="hljs-number">0</span>] = S; s.v[<span class="hljs-number">1</span>] = N, s.v[<span class="hljs-number">2</span>] = M;<br>        s.st = <span class="hljs-number">0</span>;<br>        node st = s;<br>        st.v[<span class="hljs-number">1</span>] = st.v[<span class="hljs-number">2</span>] = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">if</span>(s.v[<span class="hljs-number">0</span>] &amp; <span class="hljs-number">1</span>)<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;NO\n&quot;</span>);<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-keyword">int</span> ans = bfs(st);<br>            <span class="hljs-keyword">if</span>(~ans)<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, ans);<br>            <span class="hljs-keyword">else</span> <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;NO&quot;</span>);<br>        &#125;<br>        <br>    &#125;<br>    <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;       <br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="N-Find-a-way-HDU-2612"><a href="#N-Find-a-way-HDU-2612" class="headerlink" title="N - Find a way HDU - 2612"></a>N - Find a way HDU - 2612</h1><p>ä¸¤æ¬¡bfså°±è¡Œäº†ï¼Œï¼Œï¼Œå› ä¸ºå¾ˆåƒæœ€çŸ­è·¯çš„é¢˜ï¼Œï¼Œï¼Œå†™çš„å†™çš„å°±å†™æˆäº†æœ€çŸ­è·¯çš„æ ·å­</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-comment">// #include &lt;iostream&gt;</span><br><span class="hljs-comment">// #include &lt;cstdio&gt;</span><br><span class="hljs-comment">// #include &lt;cstdlib&gt;</span><br><span class="hljs-comment">// #include &lt;string.h&gt;</span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;queue&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stack&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-keyword">char</span> mp[<span class="hljs-number">205</span>][<span class="hljs-number">205</span>];<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> x, y, mi;<br>    node(<span class="hljs-keyword">int</span> _x, <span class="hljs-keyword">int</span> _y, <span class="hljs-keyword">int</span> _mi = <span class="hljs-number">0</span>):x(_x), y(_y), mi(_mi)&#123;&#125;<br>    <span class="hljs-keyword">const</span> <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>&lt;(<span class="hljs-keyword">const</span> node &amp;r)<span class="hljs-keyword">const</span><br>    &#123;<br>        <span class="hljs-keyword">return</span> mi &lt; r.mi;<br>    &#125;<br>&#125;;<br>struct node Y(0, 0, 0), M(0, 0, 0);<br><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; yy;<br><span class="hljs-keyword">bool</span> vis[<span class="hljs-number">205</span>][<span class="hljs-number">205</span>];<br><span class="hljs-keyword">int</span> dis[<span class="hljs-number">205</span>][<span class="hljs-number">205</span>];<br><span class="hljs-keyword">int</span> dx[<span class="hljs-number">5</span>] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>&#125;;<br><span class="hljs-keyword">int</span> dy[<span class="hljs-number">5</span>] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">0</span>&#125;;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">check</span><span class="hljs-params">(node i)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(mp[i.x][i.y] == <span class="hljs-string">&#x27;#&#x27;</span>)<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">if</span>(i.x &lt; <span class="hljs-number">1</span> || i.y &lt; <span class="hljs-number">1</span> || i.x &gt; n || i.y &gt; m)<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">bfs</span><span class="hljs-params">(node s)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; ++j)<br>            vis[i][j] = <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; ++j)<br>            dis[i][j] = inf;<br>    <br>    vis[s.x][s.y] = <span class="hljs-literal">true</span>;<br>    <span class="hljs-built_in">queue</span>&lt;node&gt; q;<br>    <span class="hljs-keyword">while</span>(!q.empty())q.pop();<br>    q.push(s);<br>    dis[s.x][s.y] = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span>(!q.empty())<br>    &#123;<br>        node u = q.front(); q.pop();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">4</span>; ++i)<br>        &#123;<br>            node v = node(u.x + dx[i], u.y + dy[i]);<br>            <span class="hljs-keyword">if</span>(check(v))<span class="hljs-keyword">continue</span>;<br>            <span class="hljs-keyword">if</span>(!vis[v.x][v.y])<br>            &#123;<br>                vis[v.x][v.y] = <span class="hljs-literal">true</span>;<br>                dis[v.x][v.y] = dis[u.x][u.y] + <span class="hljs-number">1</span>;<br>                q.push(v);<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    <span class="hljs-comment">// ios_base::sync_with_stdio(0);</span><br>    <span class="hljs-comment">// cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">while</span>(~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n, &amp;m))<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>, (mp[i] + <span class="hljs-number">1</span>));<br><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; ++j)<br>                <span class="hljs-keyword">if</span>(mp[i][j] == <span class="hljs-string">&#x27;Y&#x27;</span>)<br>                    Y.x = i, Y.y = j;<br>                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(mp[i][j] == <span class="hljs-string">&#x27;M&#x27;</span>)<br>                    M.x = i, M.y = j;<br>        <br>        bfs(Y);<br>        yy.clear();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; ++j)<br>                <span class="hljs-keyword">if</span>(mp[i][j] == <span class="hljs-string">&#x27;@&#x27;</span>)<br>                    yy.push_back(dis[i][j]);<br><br><br>        <span class="hljs-keyword">int</span> ans = inf;<br>        <span class="hljs-keyword">int</span> cnt = <span class="hljs-number">0</span>;<br>        bfs(M);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; ++j)<br>                <span class="hljs-keyword">if</span>(mp[i][j] == <span class="hljs-string">&#x27;@&#x27;</span>)<br>                    ans = min(ans, yy[cnt++] + dis[i][j]);<br>        <br>        <br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, ans * <span class="hljs-number">11</span>);<br><br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;    <br>&#125;<br></code></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>ACM-æœç´¢</category>
      </categories>
      <tags>
        <tag>åˆ·é¢˜</tag>
        <tag>acm</tag>
      </tags>
  </entry>
  <entry>
    <title>poj-1459-æœ€å¤§æµdinic+é“¾å¼å‰å‘æ˜Ÿ-isap+bfs+stack</title>
    <url>/2018/11/22/poj-1459-%E6%9C%80%E5%A4%A7%E6%B5%81dinic+%E9%93%BE%E5%BC%8F%E5%89%8D%E5%90%91%E6%98%9F-isap+bfs+stack/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p><a href="http://poj.org/problem?id=1459">è¿™é“æ˜¯ä¸€é“ç½‘ç»œæµé‡Œæœ€å¤§æµçš„æ¿å­é¢˜</a>,,,</p>
<p>æš‘æœŸé›†è®­ç½‘ç»œæµè‰è‰æ°´è¿‡ï¼Œï¼Œè¿åŸºæœ¬çš„ç®—æ³•éƒ½ä¸çŸ¥é“æœ‰å“ªäº›ï¼Œï¼Œï¼Œæ›´åˆ«ææ€ä¹ˆå®ç°äº†ï¼Œï¼Œï¼ŒåªçŸ¥é“ç½‘ç»œæµçš„å¤§è‡´çš„æ¦‚å¿µï¼Œï¼Œ</p>
<p>ä»Šå¤©èŠ±äº†ä¸€å¤©çš„æ—¶é—´é‡æ–°å­¦ä¹ äº†ä¸€æ³¢ï¼Œï¼Œï¼Œæœ¬ä»¥ä¸ºè¿™ä¸œè¥¿å¾ˆç®€å•ï¼Œï¼Œï¼Œæ²¡æƒ³åˆ°ä¸ä»…ç®—æ³•çš„å®ç°ä¸€å¤§å †çš„ä¸œè¥¿ï¼Œï¼Œå°±è¿é¢˜ç›®éƒ½æœ‰æ—¶å€™çœ‹ä¸æ‡‚ï¼Œï¼Œï¼Œï¼Œæ„Ÿå—å°±æ˜¯ç½‘ç»œæµçš„é¢˜ä¸ä»…ç®—æ³•å®ç°èµ·æ¥ä¸å¥½æ‡‚ï¼Œï¼Œï¼Œæ¯ä¸€é“é¢˜çš„å»ºå›¾ä¹Ÿå¾ˆå…³é”®ï¼Œï¼Œï¼Œå‡ ä¹çœ‹åˆ°çš„æ¯ä¸€é“é¢˜çš„å›¾éƒ½æ˜¯å¾—è‡ªå·±å»å»ºï¼Œï¼Œå®Œå…¨ä¸åƒæœ€çŸ­è·¯é‚£äº›é¢˜èŠ±é‡Œèƒ¡å“¨çš„ä¸œè¥¿éƒ½åªæ”¹ä¸€æ”¹è´ªå¿ƒæ—¶çš„æ–¹ç¨‹å°±è¡Œï¼Œï¼Œï¼Œ</p>
<span id="more"></span>
<h1 id="åˆ†ææ€è·¯"><a href="#åˆ†ææ€è·¯" class="headerlink" title="åˆ†ææ€è·¯"></a>åˆ†ææ€è·¯</h1><h2 id="æœ€çŸ­è·¯çš„ä¸€äº›åŸºæœ¬æ¦‚å¿µ"><a href="#æœ€çŸ­è·¯çš„ä¸€äº›åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="æœ€çŸ­è·¯çš„ä¸€äº›åŸºæœ¬æ¦‚å¿µ"></a>æœ€çŸ­è·¯çš„ä¸€äº›åŸºæœ¬æ¦‚å¿µ</h2><p>è¿™ä¸€æ®µ <em>ç®—æ³•å¯¼è®º</em> ä¸Šè®²çš„å¾ˆå¥½ï¼Œï¼Œï¼Œä¸è¿‡æˆ‘æ„Ÿè§‰è¿˜æ˜¯åœ¨åŸºæœ¬å¼„æ‡‚é‚£å‡ ä¸ªç®—æ³•å†çœ‹ä¸€éæ¯”è¾ƒå¥½QAQ</p>
<p><a href="https://blog.andrewei.info/2016/04/11/network-flows/">è¿™é‡Œå°±ç›´æ¥æ‘˜æŠ„åˆ«äººå†™è¿‡çš„ä¸œè¥¿äº†</a></p>
<h2 id="å®¹é‡ç½‘ç»œå’Œç½‘ç»œæœ€å¤§æµ"><a href="#å®¹é‡ç½‘ç»œå’Œç½‘ç»œæœ€å¤§æµ" class="headerlink" title="å®¹é‡ç½‘ç»œå’Œç½‘ç»œæœ€å¤§æµ"></a>å®¹é‡ç½‘ç»œå’Œç½‘ç»œæœ€å¤§æµ</h2><h1 id="å®¹é‡ç½‘ç»œ"><a href="#å®¹é‡ç½‘ç»œ" class="headerlink" title="å®¹é‡ç½‘ç»œ:"></a>å®¹é‡ç½‘ç»œ:</h1><p>$è®¾ G(V, E)æ˜¯ä¸€ä¸ªæœ‰å‘ç½‘ç»œ, åœ¨ V ä¸­æŒ‡å®šäº†ä¸€ä¸ªé¡¶ç‚¹, ç§°ä¸ºæºç‚¹(è®°ä¸º Vs ), ä»¥åŠå¦ä¸€ä¸ªé¡¶ç‚¹, ç§°ä¸ºæ±‡ç‚¹(è®°ä¸º Vt); å¯¹äºæ¯ä¸€æ¡å¼§ <u, v>âˆˆE, å¯¹åº”æœ‰ä¸€ä¸ªæƒå€¼ c(u, v)&gt;0, ç§°ä¸ºå¼§çš„å®¹é‡, é€šå¸¸æŠŠè¿™æ ·çš„æœ‰å‘ç½‘ç»œ G ç§°ä¸ºå®¹é‡ç½‘ç»œã€‚$</p>
<p>æŠŠå®ƒæƒ³è±¡æˆ <strong>è‡ªæ¥æ°´å‚</strong> ã€ <strong>è‡ªæ¥æ°´ç®¡ç½‘</strong> å’Œ <strong>ç”¨æˆ·</strong> é‚£ç§å›¾å°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
<h2 id="å¼§çš„æµé‡"><a href="#å¼§çš„æµé‡" class="headerlink" title="å¼§çš„æµé‡:"></a>å¼§çš„æµé‡:</h2><p> é€šè¿‡å®¹é‡ç½‘ç»œ G ä¸­æ¯æ¡å¼§ <u, v> ä¸Šçš„å®é™…æµé‡(ç®€ç§°æµé‡), è®°ä¸º $f(u, v)$ã€‚</p>
<h3 id="ç½‘ç»œæµ-æ‰€æœ‰å¼§ä¸Šæµé‡çš„é›†åˆ-f-f-u-v-ç§°ä¸ºè¯¥å®¹é‡ç½‘ç»œ-G-çš„ä¸€ä¸ªç½‘ç»œæµã€‚"><a href="#ç½‘ç»œæµ-æ‰€æœ‰å¼§ä¸Šæµé‡çš„é›†åˆ-f-f-u-v-ç§°ä¸ºè¯¥å®¹é‡ç½‘ç»œ-G-çš„ä¸€ä¸ªç½‘ç»œæµã€‚" class="headerlink" title="ç½‘ç»œæµ: æ‰€æœ‰å¼§ä¸Šæµé‡çš„é›†åˆ f = { f(u, v) },ç§°ä¸ºè¯¥å®¹é‡ç½‘ç»œ G çš„ä¸€ä¸ªç½‘ç»œæµã€‚"></a><strong>ç½‘ç»œæµ</strong>: æ‰€æœ‰å¼§ä¸Šæµé‡çš„é›†åˆ f = { f(u, v) },ç§°ä¸ºè¯¥å®¹é‡ç½‘ç»œ G çš„ä¸€ä¸ªç½‘ç»œæµã€‚</h3><h3 id="å¯è¡Œæµ-åœ¨å®¹é‡ç½‘ç»œ-G-V-E-ä¸­-æ»¡è¶³ä»¥ä¸‹æ¡ä»¶çš„ç½‘ç»œæµ-f-ç§°ä¸ºå¯è¡Œæµ"><a href="#å¯è¡Œæµ-åœ¨å®¹é‡ç½‘ç»œ-G-V-E-ä¸­-æ»¡è¶³ä»¥ä¸‹æ¡ä»¶çš„ç½‘ç»œæµ-f-ç§°ä¸ºå¯è¡Œæµ" class="headerlink" title="å¯è¡Œæµ: åœ¨å®¹é‡ç½‘ç»œ G(V, E) ä¸­, æ»¡è¶³ä»¥ä¸‹æ¡ä»¶çš„ç½‘ç»œæµ f, ç§°ä¸ºå¯è¡Œæµ:"></a><strong>å¯è¡Œæµ</strong>: åœ¨å®¹é‡ç½‘ç»œ G(V, E) ä¸­, æ»¡è¶³ä»¥ä¸‹æ¡ä»¶çš„ç½‘ç»œæµ f, ç§°ä¸ºå¯è¡Œæµ:</h3><h2 id="å¼§æµé‡é™åˆ¶æ¡ä»¶-0â‰¤f-u-v-â‰¤c-u-v"><a href="#å¼§æµé‡é™åˆ¶æ¡ä»¶-0â‰¤f-u-v-â‰¤c-u-v" class="headerlink" title="å¼§æµé‡é™åˆ¶æ¡ä»¶:  $0â‰¤f(u,v)â‰¤c(u,v)$"></a>å¼§æµé‡é™åˆ¶æ¡ä»¶:  $0â‰¤f(u,v)â‰¤c(u,v)$</h2><h3 id="å¹³è¡¡æ¡ä»¶"><a href="#å¹³è¡¡æ¡ä»¶" class="headerlink" title="å¹³è¡¡æ¡ä»¶:"></a><strong>å¹³è¡¡æ¡ä»¶</strong>:</h3><p> é™¤äº† Vs, Vt å¤–, å…¶ä½™çš„ç‚¹æµå…¥çš„æµé‡æ€»å’Œç­‰äºæµå‡ºçš„æµé‡æ€»å’Œ, å…¶ä¸­ <strong>Vs æµå‡ºçš„æµé‡æ€»å’Œ - æµå‡ºçš„æµé‡æ€»å’Œ = f</strong>,   <strong>Vt æµå…¥çš„æµé‡æ€»å’Œ - æµå‡ºçš„æµé‡æ€»å’Œ = f</strong>, å¹¶ä¸”ç§° f ä¸ºå¯æ€§æµçš„æµé‡</p>
<p>ä¹Ÿå°±æ˜¯æŒ‡:  $åœ¨å›¾ä¸­æœ‰ä¸€æ¡ä» Vs åˆ° Vt çš„è·¯å¾„, è¿™æ¡è·¯å¾„ä¸Šèµ·ç‚¹ foâˆ’fi=f, ç»ˆç‚¹ fiâˆ’fo=fï¼Œ å…¶ä»–çš„ç‚¹ fi==fo, å¹¶ä¸”æ‰€æœ‰çš„è¾¹çš„å½“å‰æµé‡å°äºç­‰äºæœ€å¤§æµé‡.(å…¶ä¸­ fi ä»£è¡¨æµå…¥æµé‡, fo ä»£è¡¨æµå‡ºæµé‡)$</p>
<h3 id="ä¼ªæµ"><a href="#ä¼ªæµ" class="headerlink" title="ä¼ªæµ:"></a><strong>ä¼ªæµ</strong>:</h3><p>å¦‚æœä¸€ä¸ªç½‘ç»œæµåªæ»¡è¶³å¼§æµé‡é™åˆ¶æ¡ä»¶, ä¸æ»¡è¶³å¹³è¡¡æ¡ä»¶, åˆ™è¿™ç§ç½‘ç»œæµç§°ä¸ºä¼ªæµ, æˆ–ç§°ä¸ºå®¹é‡å¯è¡Œæµã€‚</p>
<h3 id="æœ€å¤§æµ"><a href="#æœ€å¤§æµ" class="headerlink" title="æœ€å¤§æµ:"></a><strong>æœ€å¤§æµ</strong>:</h3><p> åœ¨å®¹é‡ç½‘ç»œ G(V, E) ä¸­, æ»¡è¶³å¼§æµé‡é™åˆ¶æ¡ä»¶å’Œå¹³è¡¡æ¡ä»¶ã€ä¸”å…·æœ‰æœ€å¤§æµé‡çš„å¯è¡Œæµ, ç§°ä¸ºç½‘ç»œæœ€å¤§æµ, ç®€ç§°æœ€å¤§æµã€‚</p>
<h2 id="é“¾ä¸å¢å¹¿è·¯"><a href="#é“¾ä¸å¢å¹¿è·¯" class="headerlink" title="é“¾ä¸å¢å¹¿è·¯"></a>é“¾ä¸å¢å¹¿è·¯</h2><p>åœ¨å®¹é‡ç½‘ç»œ G(V, E) ä¸­, è®¾æœ‰ä¸€å¯è¡Œæµ f = { f(u, v) }, æ ¹æ®æ¯æ¡å¼§ä¸Šæµé‡çš„å¤šå°‘ã€ä»¥åŠæµé‡å’Œå®¹é‡çš„å…³ç³»,å¯å°†å¼§åˆ†å››ç§ç±»å‹:</p>
<p>é¥±å’Œå¼§, å³ f(u,v)=c(u,v);<br>éé¥±å’Œå¼§,å³ f(u,v)<c(u,v);
é›¶æµå¼§, å³ f(u,v)=0;
éé›¶æµå¼§, å³ f(u,v)>0ã€‚</p>
<h3 id="é“¾"><a href="#é“¾" class="headerlink" title="é“¾:"></a><strong>é“¾</strong>:</h3><p> åœ¨å®¹é‡ç½‘ç»œä¸­,ç§°é¡¶ç‚¹åºåˆ—(u,u1,u2,â€¦,un,v)ä¸ºä¸€æ¡é“¾,è¦æ±‚ç›¸é‚»ä¸¤ä¸ªé¡¶ç‚¹ä¹‹é—´æœ‰ä¸€æ¡å¼§, å¦‚ $<u, u_1>$ æˆ– $<u_1, u>$ ä¸ºå®¹é‡ç½‘ç»œä¸­ä¸€æ¡å¼§ã€‚æ²¿ç€ Vs åˆ° Vt çš„ä¸€æ¡é“¾, å„å¼§å¯åˆ†ä¸ºä¸¤ç±»:</p>
<ul>
<li><strong>å‰å‘å¼§</strong>: æ–¹å‘ä¸é“¾çš„æ­£æ–¹å‘ä¸€è‡´çš„å¼§, å…¶é›†åˆè®°ä¸º P+;</li>
<li><strong>åå‘å¼§</strong>: æ–¹å‘ä¸é“¾çš„æ­£æ–¹å‘ç›¸åçš„å¼§, å…¶é›†åˆè®°ä¸º P-;</li>
</ul>
<h3 id="å¢å¹¿è·¯"><a href="#å¢å¹¿è·¯" class="headerlink" title="å¢å¹¿è·¯:"></a><strong>å¢å¹¿è·¯</strong>:</h3><p> è®¾ f æ˜¯ä¸€ä¸ªå®¹é‡ç½‘ç»œ G ä¸­çš„ä¸€ä¸ªå¯è¡Œæµ, P æ˜¯ä» Vs åˆ° Vt çš„ä¸€æ¡é“¾, è‹¥ P æ»¡è¶³ä¸‹åˆ—æ¡ä»¶:</p>
<p>åœ¨ P çš„æ‰€æœ‰<strong>å‰å‘å¼§</strong> <u, v> ä¸Š, 0â‰¤f(u,v)&lt;c(u,v), å³ P+ ä¸­æ¯ä¸€æ¡å¼§éƒ½æ˜¯éé¥±å’Œå¼§;</p>
<p>åœ¨ P çš„æ‰€æœ‰<strong>åå‘å¼§</strong> <u, v> ä¸Š, 0&lt;f(u,v)â‰¤c(u,v), å³ Pâ€“ ä¸­æ¯ä¸€æ¡å¼§æ˜¯éé›¶æµå¼§ã€‚</p>
<p>åˆ™ç§° P ä¸ºå…³äºå¯è¡Œæµ f çš„ä¸€æ¡å¢å¹¿è·¯, ç®€ç§°ä¸º <strong>å¢å¹¿è·¯(æˆ–ç§°ä¸ºå¢å¹¿é“¾ã€å¯æ”¹è¿›è·¯)</strong> ã€‚<strong>æ²¿ç€å¢å¹¿è·¯æ”¹è¿›å¯è¡Œæµçš„æ“ä½œç§°ä¸ºå¢å¹¿</strong>ã€‚</p>
<h2 id="æ®‹ç•™å®¹é‡ä¸æ®‹ç•™ç½‘ç»œ"><a href="#æ®‹ç•™å®¹é‡ä¸æ®‹ç•™ç½‘ç»œ" class="headerlink" title="æ®‹ç•™å®¹é‡ä¸æ®‹ç•™ç½‘ç»œ"></a>æ®‹ç•™å®¹é‡ä¸æ®‹ç•™ç½‘ç»œ</h2><h3 id="æ®‹ç•™å®¹é‡"><a href="#æ®‹ç•™å®¹é‡" class="headerlink" title="æ®‹ç•™å®¹é‡:"></a><strong>æ®‹ç•™å®¹é‡</strong>:</h3><p>ç»™å®šå®¹é‡ç½‘ç»œ G(V, E) åŠå¯è¡Œæµ f, å¼§ <u, v> ä¸Šçš„æ®‹ç•™å®¹é‡è®°ä¸º câ€²(u,v)=c(u,v)â€“f(u,v)ã€‚æ¯æ¡å¼§çš„æ®‹ç•™å®¹é‡è¡¨ç¤ºè¯¥å¼§ä¸Šå¯ä»¥å¢åŠ çš„æµé‡ã€‚å› ä¸ºä»é¡¶ç‚¹ u åˆ°é¡¶ç‚¹ v æµé‡çš„å‡å°‘, ç­‰æ•ˆäºé¡¶ç‚¹ v åˆ°é¡¶ç‚¹ u æµé‡å¢åŠ , æ‰€ä»¥æ¯æ¡å¼§ <u, v> ä¸Šè¿˜æœ‰ä¸€ä¸ªåæ–¹å‘çš„æ®‹ç•™å®¹é‡ câ€²(v,u)=â€“f(u,v)ã€‚</p>
<ul>
<li>ä¸€ä¸ªå®¹é‡ç½‘ç»œä¸­è¿˜å¯ä»¥å‹å…¥çš„æµé‡ç§°ä¸ºæ®‹ç•™å®¹é‡</li>
</ul>
<h3 id="æ®‹ç•™ç½‘ç»œ"><a href="#æ®‹ç•™ç½‘ç»œ" class="headerlink" title="æ®‹ç•™ç½‘ç»œ:"></a><strong>æ®‹ç•™ç½‘ç»œ</strong>:</h3><p>$è®¾æœ‰å®¹é‡ç½‘ç»œ G(V, E) åŠå…¶ä¸Šçš„ç½‘ç»œæµ f,G å…³äº f çš„æ®‹ç•™ç½‘ç»œ(ç®€ç§°æ®‹ç•™ç½‘ç»œ)è®°ä¸º Gâ€™(Vâ€™, Eâ€™), å…¶ä¸­ Gâ€™çš„é¡¶ç‚¹é›† Vâ€™å’Œ G çš„é¡¶ç‚¹é›† V ç›¸åŒ,å³ Vâ€™=V, å¯¹äº G ä¸­çš„ä»»ä½•ä¸€æ¡å¼§ <u, v>, å¦‚æœ f(u,v)<c(u,v), é‚£ä¹ˆåœ¨ Gâ€™ä¸­æœ‰ä¸€æ¡å¼§ <u, v>âˆˆEâ€™, å…¶å®¹é‡ä¸º câ€²(u,v)=c(u,v)â€“f(u,v), å¦‚æœ f(u,v)&gt;0,åˆ™åœ¨ Gâ€™ä¸­æœ‰ä¸€æ¡å¼§ <v, u>âˆˆEâ€™, å…¶å®¹é‡ä¸º câ€²(v,u)=f(u,v), æ®‹ç•™ç½‘ç»œä¹Ÿç§°ä¸ºå‰©ä½™ç½‘ç»œ.$</p>
<ul>
<li>ç”±æ®‹ç•™çš„å®¹é‡ä»¥åŠæºç‚¹æ±‡ç‚¹æ„æˆçš„ç½‘ç»œã€‚</li>
</ul>
<h3 id="å‰²ä¸æœ€å°å‰²"><a href="#å‰²ä¸æœ€å°å‰²" class="headerlink" title="å‰²ä¸æœ€å°å‰²"></a><strong>å‰²ä¸æœ€å°å‰²</strong></h3><p><strong>å‰²</strong>: $åœ¨å®¹é‡ç½‘ç»œ G(V, E) ä¸­, è®¾ Eâ€™âŠ†E, å¦‚æœåœ¨ G çš„åŸºå›¾ä¸­åˆ å» Eâ€™ åä¸å†è¿é€š, åˆ™ç§° Eâ€™ æ˜¯ G çš„å‰²ã€‚å‰²å°† G çš„é¡¶ç‚¹é›† V åˆ’åˆ†æˆä¸¤ä¸ªå­é›† S å’Œ T = V - Sã€‚å°†å‰²è®°ä¸º(S, T)ã€‚<br>s-t å‰²: æ›´è¿›ä¸€æ­¥, å¦‚æœå‰²æ‰€åˆ’åˆ†çš„ä¸¤ä¸ªé¡¶ç‚¹å­é›†æ»¡è¶³æºç‚¹ Vs âˆˆ S,æ±‡ç‚¹ Vt âˆˆ T, åˆ™ç§°è¯¥å‰²ä¸º s-t å‰²ã€‚ s-t å‰²(S, T)ä¸­çš„å¼§ <u, v>(uâˆˆS, vâˆˆT) ç§°ä¸ºå‰²çš„å‰å‘å¼§, å¼§ <u, v>( uâˆˆT, vâˆˆS) ç§°ä¸ºå‰²çš„åå‘å¼§ã€‚$</p>
<p><strong>å‰²çš„å®¹é‡</strong>: $è®¾ (S, T) ä¸ºå®¹é‡ç½‘ç»œ G(V, E) çš„ä¸€ä¸ªå‰², å…¶å®¹é‡å®šä¹‰ä¸ºæ‰€æœ‰å‰å‘å¼§çš„å®¹é‡æ€»å’Œ, ç”¨ c(S, T) è¡¨ç¤ºã€‚$</p>
<p><strong>æœ€å°å‰²</strong>: $å®¹é‡ç½‘ç»œ G(V, E) çš„æœ€å°å‰²æ˜¯æŒ‡å®¹é‡æœ€å°çš„å‰²ã€‚$</p>
<h2 id="ç›¸å…³å®šç†"><a href="#ç›¸å…³å®šç†" class="headerlink" title="ç›¸å…³å®šç†"></a><strong>ç›¸å…³å®šç†</strong></h2><h3 id="æ®‹ç•™ç½‘ç»œä¸åŸç½‘ç»œçš„å…³ç³»"><a href="#æ®‹ç•™ç½‘ç»œä¸åŸç½‘ç»œçš„å…³ç³»" class="headerlink" title="æ®‹ç•™ç½‘ç»œä¸åŸç½‘ç»œçš„å…³ç³»"></a>æ®‹ç•™ç½‘ç»œä¸åŸç½‘ç»œçš„å…³ç³»</h3><p>$è®¾ f æ˜¯å®¹é‡ç½‘ç»œ G(V, E) çš„å¯è¡Œæµ, fâ€™ æ˜¯æ®‹ç•™ç½‘ç»œ Gâ€™ çš„å¯è¡Œæµ, åˆ™ f + fâ€™ ä»æ˜¯å®¹é‡ç½‘ç»œ G çš„ä¸€ä¸ªå¯è¡Œæµã€‚(f + fâ€™ è¡¨ç¤ºå¯¹åº”å¼§ä¸Šçš„æµé‡ç›¸åŠ )$</p>
<h3 id="ç½‘ç»œæµæµé‡ä¸å‰²çš„å‡€æµé‡ä¹‹é—´çš„å…³ç³»"><a href="#ç½‘ç»œæµæµé‡ä¸å‰²çš„å‡€æµé‡ä¹‹é—´çš„å…³ç³»" class="headerlink" title="ç½‘ç»œæµæµé‡ä¸å‰²çš„å‡€æµé‡ä¹‹é—´çš„å…³ç³»"></a>ç½‘ç»œæµæµé‡ä¸å‰²çš„å‡€æµé‡ä¹‹é—´çš„å…³ç³»</h3><p>$åœ¨ä¸€ä¸ªå®¹é‡ç½‘ç»œ G(V, E) ä¸­, è®¾å…¶ä»»æ„ä¸€ä¸ªæµä¸º f, å…³äº f çš„ä»»æ„ä¸€ä¸ªå‰²ä¸º(S, T), åˆ™æœ‰ f(S,T)=|f|,å³ç½‘ç»œæµçš„æµé‡ç­‰äºä»»ä½•å‰²çš„å‡€æµé‡ã€‚$</p>
<h3 id="ç½‘ç»œæµæµé‡ä¸å‰²çš„å®¹é‡ä¹‹é—´çš„å…³ç³»"><a href="#ç½‘ç»œæµæµé‡ä¸å‰²çš„å®¹é‡ä¹‹é—´çš„å…³ç³»" class="headerlink" title="ç½‘ç»œæµæµé‡ä¸å‰²çš„å®¹é‡ä¹‹é—´çš„å…³ç³»"></a>ç½‘ç»œæµæµé‡ä¸å‰²çš„å®¹é‡ä¹‹é—´çš„å…³ç³»</h3><p>$åœ¨ä¸€ä¸ªå®¹é‡ç½‘ç»œ G(V, E) ä¸­, è®¾å…¶ä»»æ„ä¸€ä¸ªæµä¸º f, ä»»æ„ä¸€ä¸ªå‰²ä¸º(S, T), åˆ™å¿…æœ‰ f(S,T)â‰¤c(S,T),å³ç½‘ç»œæµçš„æµé‡å°äºæˆ–ç­‰äºä»»ä½•å‰²çš„å®¹é‡ã€‚$</p>
<h3 id="æœ€å¤§æµæœ€å°å‰²å®šç†"><a href="#æœ€å¤§æµæœ€å°å‰²å®šç†" class="headerlink" title="æœ€å¤§æµæœ€å°å‰²å®šç†"></a>æœ€å¤§æµæœ€å°å‰²å®šç†</h3><p>$å¯¹å®¹é‡ç½‘ç»œ G(V, E), å…¶æœ€å¤§æµçš„æµé‡ç­‰äºæœ€å°å‰²çš„å®¹é‡ã€‚$</p>
<h3 id="å¢å¹¿è·¯å®šç†"><a href="#å¢å¹¿è·¯å®šç†" class="headerlink" title="å¢å¹¿è·¯å®šç†"></a>å¢å¹¿è·¯å®šç†</h3><p>$è®¾å®¹é‡ç½‘ç»œ G(V, E) çš„ä¸€ä¸ªå¯è¡Œæµä¸º f, f ä¸ºæœ€å¤§æµçš„å……è¦æ¡ä»¶æ˜¯åœ¨å®¹é‡ç½‘ç»œä¸­ä¸å­˜åœ¨å¢å¹¿è·¯ã€‚$</p>
<h3 id="å‡ ä¸ªç­‰ä»·å‘½é¢˜"><a href="#å‡ ä¸ªç­‰ä»·å‘½é¢˜" class="headerlink" title="å‡ ä¸ªç­‰ä»·å‘½é¢˜"></a>å‡ ä¸ªç­‰ä»·å‘½é¢˜</h3><p>$è®¾å®¹é‡ç½‘ç»œ G(V, E)çš„ä¸€ä¸ªå¯è¡Œæµä¸º f åˆ™:$</p>
<p>$1) f æ˜¯å®¹é‡ç½‘ç»œ G çš„æœ€å¤§æµ;$</p>
<p>$2) | f |ç­‰äºå®¹é‡ç½‘ç»œæœ€å°å‰²çš„å®¹é‡;$</p>
<p>$3) å®¹é‡ç½‘ç»œä¸­ä¸å­˜åœ¨å¢å¹¿è·¯;$</p>
<p>$4) æ®‹ç•™ç½‘ç»œ Gâ€™ä¸­ä¸å­˜åœ¨ä»æºç‚¹åˆ°æ±‡ç‚¹çš„è·¯å¾„ã€‚$</p>
<h2 id="æœ€å¤§æµ-1"><a href="#æœ€å¤§æµ-1" class="headerlink" title="æœ€å¤§æµ"></a><strong>æœ€å¤§æµ</strong></h2><p>æœ€å¤§æµç›¸å…³ç®—æ³•æœ‰ä¸¤ç§è§£å†³æ€æƒ³, ä¸€ç§æ˜¯<strong>å¢å¹¿è·¯ç®—æ³•æ€æƒ³</strong>, å¦ä¸€ç§æ˜¯<strong>é¢„æµæ¨è¿›</strong>ç®—æ³•æ€æƒ³ã€‚ </p>
<h1 id="å¢å¹¿è·¯ç®—æ³•"><a href="#å¢å¹¿è·¯ç®—æ³•" class="headerlink" title="å¢å¹¿è·¯ç®—æ³•"></a><strong>å¢å¹¿è·¯ç®—æ³•</strong></h1><h2 id="åŸºæœ¬æ€æƒ³"><a href="#åŸºæœ¬æ€æƒ³" class="headerlink" title="åŸºæœ¬æ€æƒ³"></a>åŸºæœ¬æ€æƒ³</h2><p>æ ¹æ®å¢å¹¿è·¯å®šç†, ä¸ºäº†å¾—åˆ°æœ€å¤§æµ, å¯ä»¥ä»ä»»ä½•ä¸€ä¸ªå¯è¡Œæµå¼€å§‹, æ²¿ç€å¢å¹¿è·¯å¯¹ç½‘ç»œæµè¿›è¡Œå¢å¹¿, ç›´åˆ°ç½‘ç»œä¸­ä¸å­˜åœ¨å¢å¹¿è·¯ä¸ºæ­¢,è¿™æ ·çš„ç®—æ³•ç§°ä¸ºå¢å¹¿è·¯ç®—æ³•ã€‚é—®é¢˜çš„å…³é”®åœ¨äºå¦‚ä½•æœ‰æ•ˆåœ°æ‰¾åˆ°å¢å¹¿è·¯, å¹¶ä¿è¯ç®—æ³•åœ¨æœ‰é™æ¬¡å¢å¹¿åä¸€å®šç»ˆæ­¢ã€‚<br>å¢å¹¿è·¯ç®—æ³•çš„åŸºæœ¬æµç¨‹æ˜¯ :</p>
<ul>
<li>(1) å–ä¸€ä¸ªå¯è¡Œæµ f ä½œä¸ºåˆå§‹æµ(å¦‚æœæ²¡æœ‰ç»™å®šåˆå§‹æµ,åˆ™å–é›¶æµ f= { 0 }ä½œä¸ºåˆå§‹æµ);</li>
<li>(2) å¯»æ‰¾å…³äº f çš„å¢å¹¿è·¯ P,å¦‚æœæ‰¾åˆ°,åˆ™æ²¿ç€è¿™æ¡å¢å¹¿è·¯ P å°† f æ”¹è¿›æˆä¸€ä¸ªæ›´å¤§çš„æµ, å¹¶å»ºç«‹ç›¸åº”çš„åå‘å¼§;</li>
<li>(3) é‡å¤ç¬¬(2)æ­¥ç›´åˆ° f ä¸å­˜åœ¨å¢å¹¿è·¯ä¸ºæ­¢ã€‚</li>
</ul>
<p>å›¾ç¤ºå¦‚ä¸‹:<br><img src="https://blog.andrewei.info/images/network-flows/FFalgo1.png" alt=""></p>
<p><img src="https://blog.andrewei.info/images/network-flows/FFalgo2.png" alt=""></p>
<p>å¢å¹¿è·¯ç®—æ³•çš„å…³é”®æ˜¯ <strong>å¯»æ‰¾å¢å¹¿è·¯</strong> å’Œ <strong>æ”¹è¿›ç½‘ç»œæµ</strong>.</p>
<h2 id="åˆ›å»ºåå‘å¼§çš„ä½œç”¨ï¼š"><a href="#åˆ›å»ºåå‘å¼§çš„ä½œç”¨ï¼š" class="headerlink" title="åˆ›å»ºåå‘å¼§çš„ä½œç”¨ï¼š"></a>åˆ›å»ºåå‘å¼§çš„ä½œç”¨ï¼š</h2><p><strong>ä¸ºç¨‹åºæä¾›ä¸€æ¬¡åæ‚”çš„æœºä¼š</strong></p>
<p>åœ¨å›¾ä¸­å¦‚æœç¨‹åºæ‰¾åˆ°äº†ä¸€æ¡å¢å¹¿è·¯ 1 -&gt; 2 -&gt; 4 -&gt; 6, æ­¤æ—¶å¾—åˆ°ä¸€ä¸ªæµé‡ä¸º 2 çš„æµå¹¶ä¸”æ— æ³•ç»§ç»­è¿›è¡Œå¢å¹¿,<br>ä½†æ˜¯å¦‚æœåœ¨æ›´æ–°å¯è¡Œæµçš„åŒæ—¶å»ºç«‹åå‘å¼§çš„è¯, å°±å¯ä»¥æ‰¾åˆ° 1 -&gt; 3 -&gt; 4 -&gt; 2 -&gt; 5 -&gt; 6 çš„å¯è¡Œæµ, æµé‡ä¸º1, è¿™æ ·å°±å¯ä»¥å¾—åˆ°æœ€å¤§æµä¸º 3.</p>
<p><img src="https://blog.andrewei.info/images/network-flows/FFalgo7.jpg" alt=""></p>
<h2 id="dinicæ¨¡æ¿ç¨‹åº"><a href="#dinicæ¨¡æ¿ç¨‹åº" class="headerlink" title="dinicæ¨¡æ¿ç¨‹åº"></a>dinicæ¨¡æ¿ç¨‹åº</h2><p>å› ä¸ºekç®—æ³•çš„æ•ˆç‡æ²¡æœ‰dinicçš„é«˜ï¼Œï¼Œæ‰€ä»¥æœ¬ç€å…ˆè¿½æ±‚å®ç”¨ä¸»ä¹‰å°±å…ˆçœ‹äº†dinicç®—æ³•ï¼Œï¼Œï¼Œç®—æ³•å®ç°çš„æ¨¡æ¿æ—¶kaungbinçš„ï¼Œï¼Œï¼Œdinic+é“¾å¼å‰å‘æ˜Ÿã€‚ã€‚ã€‚</p>
<h3 id="ç®—æ³•æ€æƒ³"><a href="#ç®—æ³•æ€æƒ³" class="headerlink" title="ç®—æ³•æ€æƒ³"></a>ç®—æ³•æ€æƒ³</h3><p>DINIC åœ¨æ‰¾å¢å¹¿è·¯çš„æ—¶å€™ä¹Ÿæ˜¯æ‰¾çš„æœ€çŸ­å¢å¹¿è·¯, ä¸ EK ç®—æ³•ä¸åŒçš„æ˜¯ DINIC ç®—æ³•å¹¶ä¸æ˜¯æ¯æ¬¡ bfs åªæ‰¾ä¸€ä¸ªå¢å¹¿è·¯, ä»–ä¼šé¦–å…ˆé€šè¿‡ä¸€æ¬¡ bfs ä¸ºæ‰€æœ‰ç‚¹æ·»åŠ ä¸€ä¸ªæ ‡å·, æ„æˆä¸€ä¸ªå±‚æ¬¡å›¾ï¼Œ ç„¶ååœ¨å±‚æ¬¡å›¾ä¸­å¯»æ‰¾å¢å¹¿è·¯è¿›è¡Œæ›´æ–°ã€‚</p>
<h3 id="å®ç°æµç¨‹"><a href="#å®ç°æµç¨‹" class="headerlink" title="å®ç°æµç¨‹"></a>å®ç°æµç¨‹</h3><ul>
<li><p>1.åˆ©ç”¨ BFS å¯¹åŸæ¥çš„å›¾è¿›è¡Œåˆ†å±‚ï¼Œå³å¯¹æ¯ä¸ªç»“ç‚¹è¿›è¡Œæ ‡å·ï¼Œè¿™ä¸ªæ ‡å·çš„å«ä¹‰æ˜¯å½“å‰ç»“ç‚¹è·ç¦»æºç‚¹çš„æœ€çŸ­è·ç¦»(å‡è®¾æ¯æ¡è¾¹çš„è·ç¦»éƒ½ä¸º1)ï¼Œæ³¨æ„ï¼šæ„å»ºå±‚æ¬¡å›¾çš„æ—¶å€™æ‰€èµ°çš„è¾¹çš„æ®‹ä½™æµé‡å¿…é¡»å¤§äº0</p>
</li>
<li><p>2.ç”¨ DFS å¯»æ‰¾ä¸€æ¡ä»æºç‚¹åˆ°æ±‡ç‚¹çš„å¢å¹¿è·¯, æ³¨æ„: æ­¤å¤„å¯»æ‰¾å¢å¹¿è·¯çš„æ—¶å€™è¦æŒ‰ç…§å±‚æ¬¡å›¾çš„é¡ºåº, å³å¦‚æœå°†è¾¹(u, v)çº³å…¥è¿™æ¡å¢å¹¿è·¯çš„è¯å¿…é¡»æ»¡è¶³dis[u]=dis[v]âˆ’1, å…¶ä¸­ dis[i]ä¸ºç»“ç‚¹ içš„ç¼–å·ã€‚æ‰¾åˆ°ä¸€æ¡è·¯åè¦æ ¹æ®è¿™æ¡å¢å¹¿è·¯å¾„ä¸Šçš„æ‰€æœ‰è¾¹çš„æ®‹ä½™æµé‡çš„æœ€å°å€¼læ›´æ–°æ‰€æœ‰è¾¹çš„æ®‹ä½™æµé‡(å³æ­£å‘å¼§ - l, åå‘å¼§ + l).</p>
</li>
<li><p>3.é‡å¤æ­¥éª¤ 2, å½“æ‰¾ä¸åˆ°ä¸€æ¡å¢å¹¿è·¯çš„æ—¶å€™, é‡å¤æ­¥éª¤ 1, é‡æ–°å»ºç«‹å±‚æ¬¡å›¾, ç›´åˆ°ä»æºç‚¹ä¸èƒ½åˆ°è¾¾æ±‡ç‚¹ä¸ºæ­¢ã€‚</p>
</li>
</ul>
<p><img src="https://blog.andrewei.info/images/network-flows/FFalgo8.jpg" alt=""></p>
<h3 id="æ—¶é—´å¤æ‚åº¦"><a href="#æ—¶é—´å¤æ‚åº¦" class="headerlink" title="æ—¶é—´å¤æ‚åº¦"></a>æ—¶é—´å¤æ‚åº¦</h3><p>$O(V^2E)$</p>
<h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h3><p>è¿™é“é¢˜çš„é¢˜æ„æ˜¯ç»™ä½ nä¸ªæºç‚¹ï¼ˆå‘ç”µç«™ï¼‰ã€npä¸ªä¸­é—´è·¯å¾„ç‚¹ï¼ˆä¸­è½¬ç«™ï¼‰ã€ncä¸ªæ±‡ç‚¹ï¼ˆç”¨æˆ·ï¼‰ä»¥åŠmä¸ªé€šè·¯ã€‚ã€‚æ±‚æœ€å¤§é€åˆ°ç”¨æˆ·çš„æ•ˆç‡ä¹Ÿå°±æ˜¯å›¾çš„æœ€å¤§æµã€‚ã€‚</p>
<p>å¤šä¸ªæºç‚¹å’Œæ±‡ç‚¹æ‰€ä»¥è¦å¼„ä¸€ä¸ª<strong>è¶…çº§æºç‚¹s</strong>å’Œ<strong>è¶…çº§æ±‡ç‚¹t</strong>ï¼Œï¼Œï¼Œs,tè¿æºç‚¹ï¼Œæ±‡ç‚¹ç„¶åè·‘dinicå°±è¡Œäº†ï¼Œï¼Œ</p>
<p>å…·ä½“çš„ä»£ç çš„ç»†èŠ‚éƒ½æ³¨é‡Šåœ¨é‡Œé¢äº†ï¼Œï¼Œï¼Œéƒ½æ˜¯è‡ªå·±çš„ç†è§£å¯èƒ½æœ‰è¯¯ï¼Œï¼Œï¼Œçœ‹çš„å¤´ç–¼.jpg</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//dinicæ±‚ç½‘ç»œæµçš„æœ€å¤§æµ</span><br><span class="hljs-comment">//bfsæ±‚ä¸€æ¬¡å±‚æ¬¡å›¾</span><br><span class="hljs-comment">//dfsæ±‚æºç‚¹åˆ°æ±‡ç‚¹çš„ä¸€æ¡å¢å¹¿è·¯</span><br><span class="hljs-comment">//ç„¶åæ ¹æ®è¿™æ¡å¢å¹¿è·¯ä¸­æ®‹ä½™æµé‡çš„æœ€å°å€¼tpæ¥æ›´æ–°æ‰€æœ‰è¾¹çš„æ®‹ä½™æµé‡</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">105</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e5</span> + <span class="hljs-number">10</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<br><br><span class="hljs-keyword">int</span> n , np , nc , m;<br><span class="hljs-keyword">int</span> u , v , z;<br><span class="hljs-comment">//å‰å‘æ˜Ÿå­˜å›¾</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to;<br>    <span class="hljs-keyword">int</span> next;<br>    <span class="hljs-keyword">int</span> cap;        <span class="hljs-comment">//å®¹é‡</span><br>    <span class="hljs-keyword">int</span> flow;       <span class="hljs-comment">//æµé‡</span><br>&#125;edge[maxm];        <span class="hljs-comment">//æ³¨æ„è¾¹æ•°ä¸ºæ‰€ç»™è¾¹æ•°çš„ä¸¤å€å¤š</span><br><span class="hljs-keyword">int</span> tol;<br><span class="hljs-keyword">int</span> head[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tol = <span class="hljs-number">2</span>;        <span class="hljs-comment">//???</span><br>    <span class="hljs-built_in">memset</span>(head , <span class="hljs-number">-1</span> , <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u , <span class="hljs-keyword">int</span> v , <span class="hljs-keyword">int</span> w , <span class="hljs-keyword">int</span> rw = <span class="hljs-number">0</span>)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//å‰å‘æ˜ŸåŠ è¾¹ï¼Œåå‘å¼§å®¹é‡ä¸ºrwä¸€èˆ¬ä¸º0</span><br>    <span class="hljs-comment">//æ­£åå¼§ç›¸é‚»å­˜å‚¨ï¼Œç›´æ¥å¼‚æˆ–å°±èƒ½æ‰¾åˆ°</span><br>    <span class="hljs-comment">//æ­£å‘å¼§çš„ç¼–å·è¦æ¯”åå‘å¼§çš„ç¼–å·å°</span><br>    edge[tol].to = v;edge[tol].cap = w;edge[tol].flow = <span class="hljs-number">0</span>;<br>    edge[tol].next = head[u];head[u] = tol++;<br>    edge[tol].to = u; edge[tol].cap = rw;edge[tol].flow = <span class="hljs-number">0</span>;<br>    edge[tol].next = head[v];head[v] = tol++;<br>&#125;<br><span class="hljs-keyword">int</span> q[maxn];        <span class="hljs-comment">//åŒå‘é˜Ÿåˆ—ï¼Œbfsä½¿ç”¨</span><br><span class="hljs-keyword">int</span> dep[maxn] , cur[maxn] , sta[maxn];<span class="hljs-comment">//staä¿å­˜å¢å¹¿è·¯çš„è¾¹</span><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">bfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s , <span class="hljs-keyword">int</span> t , <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//bfsæœç´¢ç½‘ç»œçš„å±‚æ¬¡</span><br>    <span class="hljs-keyword">int</span> front = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> tail = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(dep , <span class="hljs-number">-1</span> , <span class="hljs-keyword">sizeof</span>(dep[<span class="hljs-number">0</span>]) * (n + <span class="hljs-number">1</span>));<br>    dep[s] = <span class="hljs-number">0</span>;<br>    q[tail++] = s;<br>    <span class="hljs-keyword">while</span>(front &lt; tail)<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = q[front++];<br>        <span class="hljs-comment">//å‰å‘æ˜Ÿå›¾çš„éå†</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].next)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = edge[i].to;<br>            <span class="hljs-keyword">if</span>(edge[i].cap &gt; edge[i].flow &amp;&amp; !(~dep[v]))<br>            &#123;<br>                <span class="hljs-comment">//(u,v)è¿™æ¡è¾¹çš„å®¹é‡å¤§äºæµé‡æ—¶å³æ®‹ä½™æµé‡å¤§äº0å¹¶ä¸”è¿™ä¸ªç‚¹æ²¡æœ‰è¢«åˆ†å±‚æ—¶</span><br>                dep[v] = dep[u] + <span class="hljs-number">1</span>;    <span class="hljs-comment">//åˆ†å±‚</span><br>                <span class="hljs-keyword">if</span>(v == t)<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>                q[tail++] = v;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">dinic</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s , <span class="hljs-keyword">int</span> t , <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> maxflow = <span class="hljs-number">0</span>;            <span class="hljs-comment">//å¾…æ±‚çš„æœ€å¤§æµ</span><br>    <span class="hljs-keyword">while</span>(bfs(s , t , n))       <span class="hljs-comment">//å½“å±‚æ¬¡å›¾å­˜åœ¨æ—¶è¿›è¡Œdfså¯»æ‰¾å¢å¹¿è·¯</span><br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i)cur[i] = head[i]; <span class="hljs-comment">//å½“å‰æ‰€æœ‰å¯ä»¥åˆ©ç”¨é“¾å¼å‰å‘æ˜Ÿéå†çš„è¾¹çš„ç¼–å·</span><br>        <span class="hljs-keyword">int</span> u = s , tail = <span class="hljs-number">0</span>;   <span class="hljs-comment">//tailè¡¨ç¤ºæ‰¾åˆ°çš„å¢å¹¿è·¯çš„ç‚¹çš„æ•°é‡</span><br>        <span class="hljs-keyword">while</span>(~cur[s])          <span class="hljs-comment">//è¾¹åˆæ³•æ—¶</span><br>        &#123;<br>            <span class="hljs-keyword">if</span>(u == t)          <span class="hljs-comment">//æ‰¾åˆ°æ±‡ç‚¹æ—¶ï¼Œå³æ‰¾åˆ°ä¸€æ¡å¢å¹¿è·¯æ—¶</span><br>            &#123;<br>                <span class="hljs-keyword">int</span> tp = inf;   <span class="hljs-comment">//tpä¸ºè¯¥å¢å¹¿è·¯ä¸­æœ€å°çš„æ®‹ä½™æµé‡</span><br>                <span class="hljs-comment">//æ‰¾åˆ°æœ€å°å€¼</span><br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = tail - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; --i)<br>                    tp = min(tp , edge[sta[i]].cap - edge[sta[i]].flow);<br>                maxflow += tp;  <span class="hljs-comment">//æœ€å¤§æµå¢åŠ </span><br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = tail - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; --i)<br>                &#123;<br>                    <span class="hljs-comment">//ç”¨æœ€å°çš„æ®‹ä½™æµé‡æ›´æ–°å‚ä¸ç½‘ç»œ</span><br>                    <span class="hljs-comment">//è¿™é‡Œæ˜¯å€’ç€éå†æ¯ä¸€æ¡å¢å¹¿è·¯ä¸­çš„è¾¹ï¼Œï¼Œ</span><br>                    <span class="hljs-comment">//æ‰€ä»¥ç¼–å·æ˜¯ç”±å¤§åˆ°å°ï¼Œsta[i]æ˜¯(u,v)é‚£æ¡å¼§çš„ç¼–å·ï¼Œsta[i] ^ 1æ˜¯å…¶åå‘å¼§çš„ç¼–å·</span><br>                    <span class="hljs-comment">//æ­£å‘å¼§çš„æµå…¥æµé‡åŠ ä¸Štp</span><br>                    <span class="hljs-comment">//åå‘å¼§çš„æµå…¥æµé‡å°±æ˜¯å‡å»tp</span><br>                    edge[sta[i]].flow += tp;<br>                    edge[sta[i] ^ <span class="hljs-number">1</span>].flow -= tp;<br>                    <span class="hljs-comment">//è¿™æ¡è·¯çš„æ®‹ä½™æµé‡ä¸ºé›¶ï¼Œç»è¿‡è¿™æ¡è·¯å¾„çš„å¢å¹¿è·¯ä¸å†å­˜åœ¨</span><br>                    <span class="hljs-comment">//å¢å¹¿è·¯çš„å°¾è¾¹ç¼©å›åˆ°è¿™ä¸ªç‚¹</span><br>                    <span class="hljs-comment">//å¹¶å°è¯•å¯»æ‰¾ç»è¿‡è¿™ä¸ªç‚¹çš„å…¶ä»–çš„å¢å¹¿è·¯</span><br>                    <span class="hljs-keyword">if</span>(edge[sta[i]].cap - edge[sta[i]].flow == <span class="hljs-number">0</span>)<br>                        tail = i;<br>                &#125;<br>                <span class="hljs-comment">//å½“å‰å¢å¹¿è·¯çš„å°¾è¾¹å›é€€åˆ°ä¸Šä¸€ä¸ªç‚¹ï¼Œï¼Œç»§ç»­æœç´¢å…¶ä»–çš„å¢å¹¿è·¯</span><br>                u = edge[sta[tail] ^ <span class="hljs-number">1</span>].to;<br>            &#125;<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(~cur[u] &amp;&amp;<br>                    edge[cur[u]].cap &gt; edge[cur[u]].flow &amp;&amp;<br>                    dep[u] + <span class="hljs-number">1</span> == dep[edge[cur[u]].to])<br>            &#123;<br>                <span class="hljs-comment">//å½“è¿™æ¡è¾¹èƒ½åˆ°è¾¾ã€æ®‹ä½™æµé‡ä¸ºæ­£å€¼å¹¶ä¸”uæ˜¯vçš„ä¸Šä¸€å±‚çš„ç‚¹æ—¶</span><br>                sta[tail++] = cur[u];   <span class="hljs-comment">//å¢å¹¿è·¯çš„ç‚¹æ•°tail++ï¼Œå¹¶ä¿å­˜è¿™æ¡è¾¹åˆ°sta</span><br>                u = edge[cur[u]].to;    <span class="hljs-comment">//æ›´æ–°u</span><br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                <span class="hljs-comment">//å›é€€ï¼Ÿï¼Ÿ</span><br>                <span class="hljs-comment">//while(u != s &amp;&amp; cur[u] == -1)</span><br>                <span class="hljs-keyword">while</span>(u != s &amp;&amp; !(~cur[u]))<br>                    u = edge[sta[--tail] ^ <span class="hljs-number">1</span>].to;<br>                cur[u] = edge[cur[u]].next;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> maxflow;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d%d &quot;</span> , &amp;n , &amp;np , &amp;nc , &amp;m) != EOF)<br>    &#123;<br>        init();<br>        <span class="hljs-keyword">while</span>(m--)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot; (%d,%d)%d&quot;</span> , &amp;u , &amp;v , &amp;z); <span class="hljs-comment">//è¾“å…¥å‰é¢æœ‰ç©ºæ ¼</span><br>            ++u;++v;<br>            addedge(u , v , z);<br>        &#125;<br>        <span class="hljs-keyword">while</span>(np--)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot; (%d)%d&quot;</span> , &amp;u , &amp;z);<br>            ++u;<br>            addedge(<span class="hljs-number">0</span> , u , z);                 <span class="hljs-comment">//è¶…çº§æºç‚¹</span><br>        &#125;<br>        <span class="hljs-keyword">while</span>(nc--)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot; (%d)%d&quot;</span> , &amp;u , &amp;z);<br>            ++u;<br>            addedge(u , n + <span class="hljs-number">1</span> , z);             <span class="hljs-comment">//è¶…çº§æ±‡ç‚¹</span><br>        &#125;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span> , dinic(<span class="hljs-number">0</span> , n + <span class="hljs-number">1</span> , n + <span class="hljs-number">1</span>));<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<p><del>ä¸‹ä¸€ä¸ªå°±æ˜¯sap,isapäº†å§ï¼Œï¼Œï¼Œå¤´ç–¼ing</del></p>
<p><del>(end)</del></p>
<h2 id="isapæ¨¡æ¿"><a href="#isapæ¨¡æ¿" class="headerlink" title="isapæ¨¡æ¿"></a><strong>isapæ¨¡æ¿</strong></h2><h3 id="ç®—æ³•æ€è·¯"><a href="#ç®—æ³•æ€è·¯" class="headerlink" title="ç®—æ³•æ€è·¯"></a><strong>ç®—æ³•æ€è·¯</strong></h3><p><strong>æœ€çŸ­å¢å¹¿è·¯ç®—æ³•(SAP)</strong></p>
<blockquote>
<p><strong>ç®—æ³•æ€æƒ³</strong><br>æœ€çŸ­å¢å¹¿è·¯ç®—æ³•æ˜¯ä¸€ç§è¿ç”¨è·ç¦»æ ‡å·ä½¿å¯»æ‰¾å¢å¹¿è·¯çš„æ—¶é—´å¤æ‚åº¦ä¸‹é™çš„ç®—æ³•ã€‚æ‰€è°“çš„è·ç¦»æ ‡å·å°±æ˜¯æŸä¸ªç‚¹åˆ°æ±‡ç‚¹çš„æœ€å°‘çš„å¼§çš„æ•°é‡(å³å½“è¾¹æƒä¸º1æ—¶æŸä¸ªç‚¹çš„æœ€çŸ­è·¯å¾„é•¿åº¦). è®¾ç‚¹içš„æ ‡å·ä¸ºd[i], é‚£ä¹ˆå¦‚æœå°†æ»¡è¶³d[i] = d[j] + 1, ä¸”å¢å¹¿æ—¶åªèµ°å…è®¸å¼§, é‚£ä¹ˆå°±å¯ä»¥è¾¾åˆ°â€æ€ä¹ˆèµ°éƒ½æ˜¯æœ€çŸ­è·¯â€çš„æ•ˆæœ. æ¯ä¸ªç‚¹çš„åˆå§‹æ ‡å·å¯ä»¥åœ¨ä¸€å¼€å§‹ç”¨ä¸€æ¬¡ä»æ±‡ç‚¹æ²¿æ‰€æœ‰åå‘çš„BFSæ±‚å‡º.</p>
</blockquote>
<h3 id="ç®—æ³•æµç¨‹"><a href="#ç®—æ³•æµç¨‹" class="headerlink" title="ç®—æ³•æµç¨‹"></a><strong>ç®—æ³•æµç¨‹</strong></h3><blockquote>
<p><strong>ç®—æ³•æµç¨‹</strong></p>
<ul>
<li>1) å®šä¹‰èŠ‚ç‚¹çš„æ ‡å·ä¸ºåˆ°æ±‡ç‚¹çš„æœ€çŸ­è·ç¦»;</li>
<li>2) æ¯æ¬¡æ²¿å¯è¡Œè¾¹è¿›è¡Œå¢å¹¿, å¯è¡Œè¾¹å³: å‡è®¾æœ‰ä¸¤ä¸ªç‚¹ i, j è‹¥ d[i] = 3, d[j] = 4, åˆ™d[j] = d[i] + 1, ä¹Ÿå°±æ˜¯ä» j åˆ° i æœ‰ä¸€æ¡è¾¹.</li>
<li>3) æ‰¾åˆ°å¢å¹¿è·¯åï¼Œå°†è·¯å¾„ä¸Šæ‰€æœ‰è¾¹çš„æµé‡æ›´æ–°.</li>
<li>4) éå†å®Œå½“å‰ç»“ç‚¹çš„å¯è¡Œè¾¹åæ›´æ–°å½“å‰ç»“ç‚¹çš„æ ‡å·ä¸º $d[now]=min(d[next]|Flow(now,next)&gt;0)+1$ï¼Œä½¿ä¸‹æ¬¡å†æœçš„æ—¶å€™æœ‰è·¯å¯èµ°ã€‚</li>
<li>5) å›¾ä¸­ä¸å­˜åœ¨å¢å¹¿è·¯åå³é€€å‡ºç¨‹åºï¼Œæ­¤æ—¶å¾—åˆ°çš„æµé‡å€¼å°±æ˜¯æœ€å¤§æµã€‚</li>
</ul>
<p>éœ€è¦æ³¨æ„çš„æ˜¯, æ ‡å·çš„æ›´æ–°è¿‡ç¨‹é¦–å…ˆæˆ‘ä»¬è¦ç†è§£æ›´æ–°æ ‡å·çš„ç›®çš„ã€‚<strong>æ ‡å·å¦‚æœéœ€è¦æ›´æ–°</strong>ï¼Œ<strong>è¯´æ˜åœ¨å½“å‰çš„æ ‡å·ä¸‹å·²ç»æ²¡æœ‰å¢å¹¿è·¯å¯ä»¥ç»§ç»­èµ°</strong>ï¼Œè¿™æ—¶æ›´æ–°æ ‡å·å°±å¯ä»¥ä½¿å¾—æˆ‘ä»¬æœ‰ç»§ç»­å‘ä¸‹èµ°çš„å¯èƒ½ï¼Œ<strong>å¹¶ä¸”æ¯æ¬¡æ‰¾çš„éƒ½æ˜¯èƒ½èµ°åˆ°çš„ç‚¹ä¸­æ ‡å·æœ€å°çš„é‚£ä¸ªç‚¹</strong>ï¼Œè¿™æ ·ä¹Ÿä½¿å¾—æ¯æ¬¡æœç´¢é•¿åº¦æœ€å°.</p>
</blockquote>
<p><strong>ä¸‹é¢çš„å›¾æ¼”ç¤ºäº†æ ‡å·çš„æ›´æ–°è¿‡ç¨‹:</strong></p>
<ul>
<li><p>1.é¦–å…ˆæˆ‘ä»¬å‡è®¾æœ‰ä¸ªå›¾å¦‚ä¸‹ï¼Œä¸ºäº†ç®€åŒ–æ²¡æœ‰æ ‡ç®­å¤´ä¹Ÿæ²¡æœ‰å†™æµé‡:<br><img src="https://blog.andrewei.info/images/network-flows/FFalgo3.png" alt=""></p>
</li>
<li><p>2.çº¢è‰²çš„æ•°ä¸ºå›¾æ ‡å·, æ¯ä¸ªç‚¹çš„æ ‡å·ä¸ºå…¶åˆ°æ±‡ç‚¹çš„æœ€çŸ­è·ç¦»(è¿™é‡ŒæŠŠæ¯æ¡è¾¹çœ‹ä½œ1)<br><img src="https://blog.andrewei.info/images/network-flows/FFalgo4.png" alt=""></p>
</li>
<li><p>3.ç¬¬ä¸€ééå†æ—¶ï¼Œæ‰¾åˆ°äº†1-&gt;2-&gt;9è¿™æ ·ä¸€æ¡å¢å¹¿è·¯ä»¥åï¼Œæ›´æ–°è¾¹ä¸Šæµé‡å€¼, å¾—åˆ°ä¸‹å›¾<br><img src="https://blog.andrewei.info/images/network-flows/FFalgo5.png" alt=""></p>
</li>
</ul>
<p>$æ£•è‰²å­—ä½“ä¸ºè¾¹ä¸Šçš„æµé‡å€¼ã€‚è¿™æ—¶æŒ‰ç…§æ ‡å·å†æœä¸€é,å‘ç°ä»1å‡ºå‘å·²ç»æ‰¾ä¸åˆ°å¢å¹¿è·¯äº†ï¼Œå› ä¸ºflow(1,2)ç­‰äº0ä¸å¯ä»¥èµ°ï¼Œh[1]=2,h[3]=2â‰ h[1]+1,h[5]=4â‰ h[1]+1ï¼Œæ‰€ä»¥è¿™æ—¶æ›´æ–°1çš„æ ‡å·ï¼ŒæŒ‰ç…§ min(h[next]|Flow(now,next)&gt;0)+1ï¼Œä¿®æ”¹å h[1]=h[3]+1=3.$</p>
<ul>
<li><p>4.ç¬¬äºŒééå†ä»¥åæ‰¾åˆ°äº†è¿™æ ·ä¸€æ¡å¢å¹¿è·¯ï¼š1-&gt;3-&gt;4-&gt;9,åšå®Œè¿™æ¡è·¯ä»¥ååˆå‘ç°æ— æ³•æ‰¾åˆ°å¯è¡Œè¾¹äº†ï¼Œè¿™æ—¶å†æ›´æ–°æ ‡å·ä½¿å›¾ä¸­æœ‰è·¯å¯èµ°ï¼Œå¦‚ä¸Šæ–‡æ‰€è¯´çš„é‚£æ ·åšï¼Œå†æ¬¡ä¿®æ”¹åh[1]=h[5]+1=5ï¼Œå°±è¿™æ ·æœç´¢å¹¶æ›´æ–°ç›´åˆ°å˜æˆä¸‹å›¾<br><img src="https://blog.andrewei.info/images/network-flows/FFalgo6.png" alt=""></p>
</li>
<li><p>5.è¿™æ—¶å†æ›´æ–°h[1]å‘ç°æ²¡æœ‰ç‚¹å¯ä»¥ç”¨æ¥æ›´æ–°h[1]äº†ï¼Œäºæ˜¯æ­¤æ—¶h[1]=âˆï¼Œä½¿ç¨‹åºé€€å‡ºã€‚</p>
</li>
</ul>
<h3 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//isap+bfs+stackæ±‚æœ€å¤§æµ</span><br><span class="hljs-comment">//è²Œä¼¼æ—¶é—´å¤æ‚åº¦è¦æ¯”dinicè¿˜è¦å°ä¸€äº›</span><br><span class="hljs-comment">//bfsåªæ±‚ä¸€æ¬¡å±‚æ¬¡å›¾ï¼Œè€Œä¸”ç¼–å·æ˜¯ä»æ±‡ç‚¹å¼€å§‹çš„</span><br><span class="hljs-comment">//ä¹‹åçš„ç¼–å·çš„æ›´æ–°åœ¨isapä¸­æ›´æ–°</span><br><span class="hljs-comment">//æ›´æ–°æŒ‰ç…§d[now]=min(d[next]|Flow(now,next)&gt;0)+1</span><br><span class="hljs-comment">//gapä¼˜åŒ–çš„ç›®çš„æ˜¯å½“å‡ºç°æ–­é“¾æ—¶ï¼Œå³å­˜åœ¨ç¼–å·çš„ä¸ªæ•°ä¸ºé›¶çš„æƒ…å†µæ—¶åœæ­¢å¯»æ‰¾ä¸å­˜åœ¨å¢å¹¿è·¯</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">105</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">int</span> tol;<br><span class="hljs-keyword">int</span> n , np , nc , m;<br><span class="hljs-keyword">int</span> u , v , z;<br><span class="hljs-keyword">int</span> head[maxn];         <span class="hljs-comment">//é“¾å¼å‰å‘æ˜Ÿå­˜å›¾</span><br><span class="hljs-keyword">int</span> gap[maxn];          <span class="hljs-comment">//gapä¼˜åŒ–ï¼Œï¼Œgap[i]è¡¨ç¤ºç¼–å·ä¸ºiçš„èŠ‚ç‚¹çš„æ•°é‡ï¼Œï¼Œä¸ºé›¶è¡¨ç¤ºå‡ºç°æ–­é“¾</span><br><span class="hljs-keyword">int</span> dis[maxn];          <span class="hljs-comment">//åˆ†å±‚åæ¯ä¸ªç‚¹çš„ç¼–å·</span><br><span class="hljs-keyword">int</span> cur[maxn];          <span class="hljs-comment">//å¼§ä¼˜åŒ–æ‰€ä¿å­˜çš„å¼§ï¼Œé¿å…å¤šæ¬¡èµ°åˆ°é‡å¤çš„ä½ç½®ä¸Šï¼Œæ¯”å¦‚èµ°è¿‡x-&gt;yè¿™æ¡è¾¹åï¼Œä¸‹æ¬¡å†ä»xä¸ºèµ·ç‚¹å¼€å§‹èµ°æ˜¯å°±ä¸å†èµ°x-&gt;yçš„è¾¹äº†</span><br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to;<br>    <span class="hljs-keyword">int</span> next;<br>    <span class="hljs-keyword">int</span> cap;<br>    <span class="hljs-keyword">int</span> flow;<br>&#125;edge[maxm];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tol = <span class="hljs-number">0</span>;            <span class="hljs-comment">//ï¼Ÿï¼Ÿï¼Ÿ</span><br>    <span class="hljs-built_in">memset</span>(head , <span class="hljs-number">-1</span> , <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u , <span class="hljs-keyword">int</span> v , <span class="hljs-keyword">int</span> w , <span class="hljs-keyword">int</span> rw = <span class="hljs-number">0</span>)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tol].to = v;edge[tol].cap = w;edge[tol].flow = <span class="hljs-number">0</span>;<br>    edge[tol].next = head[u];head[u] = tol++;<br>    edge[tol].to = u; edge[tol].cap = rw;edge[tol].flow = <span class="hljs-number">0</span>;<br>    edge[tol].next = head[v];head[v] = tol++;<br>&#125;<br><br><span class="hljs-keyword">int</span> q[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">bfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s , <span class="hljs-keyword">int</span> t)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//bfsä¸€æ¬¡å¾—åˆ°ä»æ±‡ç‚¹å¼€å§‹çš„å±‚æ¬¡å›¾</span><br>    <span class="hljs-built_in">memset</span>(dis , <span class="hljs-number">-1</span> , <span class="hljs-keyword">sizeof</span> dis);<br>    <span class="hljs-built_in">memset</span>(gap , <span class="hljs-number">0</span> , <span class="hljs-keyword">sizeof</span> gap);<br>    gap[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">int</span> front = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> rear = <span class="hljs-number">0</span>;<br>    dis[t] = <span class="hljs-number">0</span>;         <span class="hljs-comment">//æ±‡ç‚¹çš„ç¼–å·æ˜¯0</span><br>    q[rear++] = t;<br>    <span class="hljs-keyword">while</span>(front != rear)<br>    &#123;<br>        <span class="hljs-comment">//è¿™é‡Œbfsåº”è¯¥ç”¨çš„é€†å›¾</span><br>        <span class="hljs-keyword">int</span> u = q[front++];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].next)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = edge[i].to;<br>            <span class="hljs-keyword">if</span>(~dis[v]) <span class="hljs-keyword">continue</span>;<br>            q[rear++] = v;<br>            dis[v] = dis[u] + <span class="hljs-number">1</span>;    <span class="hljs-comment">//ç›¸é‚»ç¼–å·é€’å¢</span><br>            ++gap[dis[v]];          <span class="hljs-comment">//å¯¹åº”ç¼–å·çš„ç‚¹çš„æ•°é‡å¢ä¸€</span><br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">int</span> <span class="hljs-built_in">stack</span>[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">isap</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s , <span class="hljs-keyword">int</span> t , <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    bfs(s , t);                     <span class="hljs-comment">//å»ºä¸€æ¬¡å±‚æ¬¡å›¾</span><br>    <span class="hljs-built_in">memcpy</span>(cur , head , <span class="hljs-keyword">sizeof</span> head);<br>    <span class="hljs-keyword">int</span> top = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> u = s;<br>    <span class="hljs-keyword">int</span> maxflow = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span>(dis[s] &lt; n)               <span class="hljs-comment">//æœ€å¤§çš„ç¼–å·åªå¯èƒ½æ˜¯n-1ï¼Œå¤§äºè¯´æ˜å‡ºç°æ–­å±‚</span><br>    &#123;<br>        <span class="hljs-keyword">if</span>(u == t)<br>        &#123;<br>            <span class="hljs-comment">//å½“æ‰¾åˆ°ä¸€æ¡å¢å¹¿è·¯æ—¶ï¼Œæ›´æ–°è¿™æ¡è·¯ä¸Šçš„æµé‡</span><br>            <span class="hljs-keyword">int</span> min = inf;<br>            <span class="hljs-keyword">int</span> inser;              <span class="hljs-comment">//è®°å½•å›é€€ç‚¹</span><br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; top; ++i)<br>            &#123;<br>                <span class="hljs-comment">//æ‰¾åˆ°å¢å¹¿è·¯ä¸Šçš„æœ€å°æ®‹ä½™æµé‡</span><br>                <span class="hljs-keyword">if</span>(min &gt; edge[<span class="hljs-built_in">stack</span>[i]].cap - edge[<span class="hljs-built_in">stack</span>[i]].flow)<br>                &#123;<br>                    min = edge[<span class="hljs-built_in">stack</span>[i]].cap - edge[<span class="hljs-built_in">stack</span>[i]].flow;<br>                    inser = i;<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; top; ++i)<br>            &#123;<br>                edge[<span class="hljs-built_in">stack</span>[i]].flow += min;<br>                edge[<span class="hljs-built_in">stack</span>[i] ^ <span class="hljs-number">1</span>].flow -= min;<br>            &#125;<br>            maxflow += min;<br>            <span class="hljs-comment">//å›é€€</span><br>            top = inser;<br>            u = edge[<span class="hljs-built_in">stack</span>[top] ^ <span class="hljs-number">1</span>].to;<br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br><br>        <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">int</span> v;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = cur[u]; ~i; i = edge[i].next)<br>        &#123;<br>            <span class="hljs-comment">//æ‰¾åˆ°ä¸€æ¡ä»uå‡ºå‘çš„å¯è¡Œè·¯å¾„</span><br>            <span class="hljs-comment">//æ»¡è¶³æ®‹ä½™æµé‡å¤§äºé›¶å¹¶ä¸”væ˜¯uçš„ä¸‹ä¸€å±‚</span><br>            v = edge[i].to;<br>            <span class="hljs-keyword">if</span>(edge[i].cap - edge[i].flow &amp;&amp; dis[v] + <span class="hljs-number">1</span> == dis[u])<br>            &#123;<br>                flag = <span class="hljs-literal">true</span>;<br>                cur[u] = i;<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(flag)<br>        &#123;<br>            <span class="hljs-comment">//å­˜åœ¨è¿™æ ·çš„å¯è¡Œè·¯å¾„æ—¶å‹æ ˆä¿å­˜</span><br>            <span class="hljs-comment">//continueç»§ç»­æ‰¾</span><br>            <span class="hljs-built_in">stack</span>[top++] = cur[u];<br>            u = v;<br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br>        <span class="hljs-keyword">int</span> min = n;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].next)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(edge[i].cap - edge[i].flow &amp;&amp; dis[edge[i].to] &lt; min)<br>            &#123;<br>                min = dis[edge[i].to];<br>                cur[u] = i;<br>            &#125;<br>        &#125;<br>        --gap[dis[u]];                          <span class="hljs-comment">//è¯¥ç¼–å·çš„æ•°é‡å‡ä¸€</span><br>        <span class="hljs-keyword">if</span>(!gap[dis[u]])    <span class="hljs-keyword">return</span> maxflow;     <span class="hljs-comment">//å‡ºç°æ–­å±‚æ—¶é€€å‡º</span><br>        dis[u] = min + <span class="hljs-number">1</span>;<br>        ++gap[dis[u]];<br>        <span class="hljs-keyword">if</span>(u != s)<br>            u = edge[<span class="hljs-built_in">stack</span>[--top] ^ <span class="hljs-number">1</span>].to;<br>    &#125;<br>    <span class="hljs-keyword">return</span> maxflow;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//freopen(&quot;233.txt&quot; , &quot;r&quot; , stdin);</span><br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d%d &quot;</span> , &amp;n , &amp;np , &amp;nc , &amp;m) != EOF)<br>    &#123;<br>        init();<br>        <span class="hljs-keyword">while</span>(m--)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot; (%d,%d)%d&quot;</span> , &amp;u , &amp;v , &amp;z);<br>            ++u;++v;<br>            addedge(u , v , z);<br>        &#125;<br>        <span class="hljs-keyword">while</span>(np--)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot; (%d)%d&quot;</span> , &amp;u , &amp;z);<br>            ++u;<br>            addedge(<span class="hljs-number">0</span> , u , z);<br>        &#125;<br>        <span class="hljs-keyword">while</span>(nc--)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot; (%d)%d&quot;</span> , &amp;u , &amp;z);<br>            ++u;<br>            addedge(u , n + <span class="hljs-number">1</span> , z);<br>        &#125;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span> , isap(<span class="hljs-number">0</span> , n + <span class="hljs-number">1</span> , n + <span class="hljs-number">2</span>));<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<p>è¿™ä¸¤ä¸ªç®—æ³•çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ $O(V^2E)$</p>
<p><del>è¿˜æœ‰ä¸€ä¸ªæ›´å¿«çš„å®ç°çš„æ–¹æ³•ï¼Œï¼Œé¢„æµæ¨è¿›ç®—æ³• $O(V^2 \sqrt E)$ï¼Œï¼Œï¼Œé‚£å¤©å†çœ‹æŠŠï¼Œï¼Œï¼Œ</del></p>
<p><del>æ¥ä¸‹æ¥å°±æ˜¯åšå‡ é“é¢˜å»çœ‹æœ€å°è´¹ç”¨æœ€å¤§æµäº†å§ï¼Œï¼Œï¼Œï¼Œ</del></p>
<p><del>æ—¶é—´ä¸ºä»€ä¹ˆè¿™ä¹ˆçš„å¿«å•ŠQAQ,,,</del></p>
<p>å‰©ä¸‹çš„ä¸œè¥¿åœ¨æ–°çš„ä¸€ç¯‡ç½‘ç»œæµåšå®¢ä¸­ï¼Œï¼Œï¼Œï¼ŒQAQ</p>
<p>(end)</p>
]]></content>
      <categories>
        <category>ACM-ç½‘ç»œæµ-æœ€å¤§æµ</category>
      </categories>
      <tags>
        <tag>åˆ·é¢˜</tag>
        <tag>acm</tag>
      </tags>
  </entry>
  <entry>
    <title>2019 Multi-University Training Contest 1</title>
    <url>/2019/07/24/%C2%962019-Multi-University-Training-Contest-1/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>è¡¥é¢˜ing</p>
<span id="more"></span>
<h1 id="Operation"><a href="#Operation" class="headerlink" title="Operation"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=6579">Operation</a></h1><p>è¿™é¢˜çš„å¤§æ„æ˜¯å¯¹äºç»™å®šçš„æ•°ç»„ï¼Œæœ‰ä¸¤ä¸ªæ“ä½œï¼Œä¸€ä¸ªæ˜¯è¯¢é—®ä¸€ä¸ªåŒºé—´çš„å¼‚æˆ–å’Œçš„æœ€å¤§å€¼ï¼Œï¼Œå¦ä¸€ä¸ªæ˜¯åœ¨è¿™ä¸ªæ•°ç»„åé¢å¢åŠ ä¸€ä¸ªå€¼ï¼Œï¼Œï¼Œ</p>
<p>è¿™é¢˜ä¹Ÿæ˜¯è¯±ä½¿æˆ‘å­¦çº¿æ€§åŸºçš„åŸå› ï¼Œï¼Œ</p>
<p>é¢˜è§£è¯´ç›´æ¥æ•°æ®ç»“æ„ç»´æŠ¤ä¼šTï¼Œï¼Œæˆ‘ä¹Ÿæ²¡è¯•ï¼Œï¼Œæ­£è§£æ˜¯è´ªå¿ƒçš„ç»´æŠ¤ä¸€ä¸ª <strong>å‰ç¼€çº¿æ€§åŸº</strong> ï¼Œåœ¨æ¯æ’å…¥ä¸€ä¸ªæ•°æ—¶ï¼Œï¼Œå¦‚æœèƒ½æ’å…¥ï¼Œï¼Œå°½å¯èƒ½çš„æ’åˆ°é«˜ä½ï¼Œï¼Œï¼ˆè¿™æ ·å¯ä»¥ä¿è¯é è¿‘rçš„å¯ä»¥æ’å…¥çš„æ•°å°½å¯èƒ½çš„åœ¨é«˜ä½ï¼Œï¼Œ</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œï¼Œå¯¹äºä»»æ„çš„ä»»æ„çš„ä¸€ä¸ªåŒºé—´ï¼Œï¼Œä¸ç®¡å®ƒçš„é•¿åº¦å¤šå¤§ï¼Œï¼Œï¼Œä»–çš„çº¿æ€§åŸºæœ€å¤šæ˜¯30ä¸ªï¼ˆé’ˆå¯¹è¿™é¢˜ï¼‰ï¼Œï¼Œï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦ç»´æŠ¤rå‰é¢å‡ºç°çš„è¾ƒæ™šçš„æ–°åŸºï¼Œï¼Œè¿™æ ·æ¯æ¬¡è¯¢é—®ï¼Œï¼Œéƒ½çœ‹å¾—åœ¨rå¤„çš„çº¿æ€§åŸºä¸­å‡ºç°æ¯”læ™šçš„åŸºå³å¯ï¼Œï¼Œä¸ºäº†å®ç°è¿™ä¸ªè¿‡ç¨‹ï¼Œï¼Œï¼Œç»™æ¯ä¸€ä¸ªçº¿æ€§åŸºä¸­çš„æ¯ä¸€ä½éƒ½åŠ ä¸€ä¸ªæ ‡å¿—ä½ $p_i$ ï¼Œï¼Œ åœ¨æ’å…¥ä¸€ä¸ªæ–°çš„æ•°æ—¶ï¼Œï¼Œï¼Œå°½å¯èƒ½çš„æŠŠä»–æ”¾åœ¨é«˜ä½ï¼Œï¼Œï¼Œï¼ˆç¢°åˆ°ä¸€ä¸ªå¯ä»¥æ’å…¥çš„ä½ç½®æ—¶ï¼ŒæŠŠä»–æ’åœ¨è¿™é‡Œï¼Œï¼Œç„¶åä¸‹æ¨å…¶å®ƒçš„åŸºï¼Œï¼Œï¼Œ</p>
<p>è¿™é¢˜ä¸èƒ½è½ï¼Œç›´æ¥å¼€llï¼Œï¼Œï¼Œä¼šmleï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-comment">// #include &lt;iostream&gt;</span><br><span class="hljs-comment">// #include &lt;cstdio&gt;</span><br><span class="hljs-comment">// #include &lt;cstdlib&gt;</span><br><span class="hljs-comment">// #include &lt;string.h&gt;</span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;algorithm&gt;</span><br><span class="hljs-comment">// #include &lt;set&gt;</span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;cmath&gt;</span><br><span class="hljs-comment">// #include &lt;queue&gt;</span><br><span class="hljs-comment">// #include &lt;stack&gt;</span><br><span class="hljs-comment">// #include &lt;ctime&gt;</span><br><span class="hljs-comment">// #include &lt;random&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">5e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br>  <br>  <br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">LinearBasis</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">typedef</span> <span class="hljs-keyword">int</span> type;<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxbase = <span class="hljs-number">30</span>;<br>    <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">false</span>;<br>    type a[maxbase + <span class="hljs-number">1</span>];<br>    type p[maxbase + <span class="hljs-number">1</span>];<br>    LinearBasis()<br>    &#123;<br>        <span class="hljs-built_in">memset</span>(a, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> a);<br>        <span class="hljs-built_in">memset</span>(p, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> p);<br>    &#125;<br>    LinearBasis(type *x, <span class="hljs-keyword">int</span> n)<br>    &#123;<br>        LinearBasis();<br>        build(x, n); <br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">build</span><span class="hljs-params">(type *x, <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            insert(x[i]);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">clear</span><span class="hljs-params">()</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-built_in">memset</span>(a, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> a);<br>        <span class="hljs-built_in">memset</span>(p, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> p);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">insert</span><span class="hljs-params">(type t)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-comment">//æš´åŠ›æ’å…¥ä¸€ä¸ªæ•°ï¼Œç»´æŠ¤çš„æ˜¯ä¸€ä¸ªä¸Šä¸‰è§’å‹çš„çº¿æ€§åŸºçŸ©é˜µï¼Œæ—¶é—´å¤æ‚åº¦ä½ï¼Œå½“å¾…æ’å…¥å…ƒç´ èƒ½æ’å…¥æ—¶ï¼Œè¿”å›true</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(t &amp; (<span class="hljs-number">1ll</span> &lt;&lt; i))<br>            &#123;<br>                <span class="hljs-keyword">if</span>(!a[i])<br>                &#123;<br>                    a[i] = t;<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>                t ^= a[i];<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(t == <span class="hljs-number">0</span>)flag = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">return</span> t;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">insert2</span><span class="hljs-params">(type t, type pos)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(t &amp; (<span class="hljs-number">1ll</span> &lt;&lt; i))<br>            &#123;<br>                <span class="hljs-keyword">if</span>(!a[i])<br>                &#123;<br>                    a[i] = t;<br>                    p[i] = pos;<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(pos &gt; p[i])<br>                &#123;<br>                    swap(pos, p[i]);<br>                    swap(t, a[i]);<br>                &#125;<br>                t ^= a[i];<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(t == <span class="hljs-number">0</span>)flag = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">return</span> t;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">query</span><span class="hljs-params">(type t)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-comment">// è¯¢é—®tæ˜¯å¦å¯ä»¥è¢«å½“å‰çº¿æ€§åŸºè¡¨ç¤ºï¼Œä¸æ’å…¥</span><br>        <span class="hljs-keyword">if</span>(t &gt; queryMax())<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">if</span>(t == <span class="hljs-number">0</span>)<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(t &amp; (<span class="hljs-number">1ll</span> &lt;&lt; i))<br>            &#123;<br>                <span class="hljs-keyword">if</span>(!a[i])<br>                &#123;<br>                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>                &#125;<br>                t ^= a[i];<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Insert</span><span class="hljs-params">(type t)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-comment">//æ’å…¥ä¸€ä¸ªçº¿æ€§åŸºï¼Œåˆ©ç”¨é«˜æ–¯æ¶ˆå…ƒæ³•ç»´æŠ¤ä¸€ä¸ªå¯¹è§’çŸ©é˜µ</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(t &gt;&gt; i &amp; <span class="hljs-number">1</span>)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(a[i])t ^= a[i];<br>                <span class="hljs-keyword">else</span><br>                &#123;<br>                    a[i] = t;<br>                    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = i - <span class="hljs-number">1</span>; j &gt;= <span class="hljs-number">0</span>; --j)<span class="hljs-keyword">if</span>(a[j] &amp;&amp; (a[i] &gt;&gt; j &amp; <span class="hljs-number">1</span>))a[i] ^= a[j];<br>                    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = i + <span class="hljs-number">1</span>; j &lt;= maxbase; ++j)<span class="hljs-keyword">if</span>(a[j] &gt;&gt; j &amp; <span class="hljs-number">1</span>)a[j] ^= a[i];<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-function">LinearBasis <span class="hljs-title">merge</span><span class="hljs-params">(<span class="hljs-keyword">const</span> LinearBasis &amp;l1, <span class="hljs-keyword">const</span> LinearBasis &amp;l2)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-comment">// å¾—åˆ°ä¸¤ä¸ªçº¿æ€§åŸºçš„å¹¶</span><br>        LinearBasis ret = l1;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>            <span class="hljs-keyword">if</span>(l2.a[i])<br>                ret.insert(l2.a[i]);<br>        <span class="hljs-keyword">return</span> ret;<br>    &#125;<br>    <span class="hljs-function">LinearBasis <span class="hljs-title">intersection</span><span class="hljs-params">(<span class="hljs-keyword">const</span> LinearBasis &amp;l1, <span class="hljs-keyword">const</span> LinearBasis &amp;l2)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-comment">//å¾—åˆ°ä¸¤ä¸ªçº¿æ€§åŸºçš„äº¤</span><br>        LinearBasis all, ret, full;<br>        ret.clear();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>        &#123;<br>            all.a[i] = l1.a[i];<br>            full.a[i] = <span class="hljs-number">1ll</span> &lt;&lt; i;<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(l2.a[i])<br>            &#123;<br>                type v = l2.a[i], k = <span class="hljs-number">0</span>;<br>                <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">true</span>;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = maxbase; j &gt;= <span class="hljs-number">0</span>; --j)<br>                &#123;<br>                    <span class="hljs-keyword">if</span>(v &amp; (<span class="hljs-number">1ll</span> &lt;&lt; j))<br>                    &#123;<br>                        <span class="hljs-keyword">if</span>(all.a[j])<br>                        &#123;<br>                            v ^= all.a[j];<br>                            k ^= full.a[j];<br>                        &#125;<br>                        <span class="hljs-keyword">else</span><br>                        &#123;<br>                            <span class="hljs-comment">// l2&#x27;s basis is not in l1&#x27;s;</span><br>                            flag = <span class="hljs-literal">false</span>;<br>                            all.a[j] = v;<br>                            full.a[j] = k;<br>                            <span class="hljs-keyword">break</span>;<br>                        &#125;<br>                    &#125;<br>                &#125;<br>                <span class="hljs-keyword">if</span>(flag)<br>                &#123;<br>                    type v = <span class="hljs-number">0</span>; <span class="hljs-comment">// get intersection by k;</span><br>                    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = maxbase; j &gt;= <span class="hljs-number">0</span>; --j)<br>                    &#123;<br>                        <span class="hljs-keyword">if</span>(k &amp; (<span class="hljs-number">1ll</span> &lt;&lt; j))<br>                        &#123;<br>                            v ^= l1.a[j];<br>                        &#125;<br>                    &#125;<br>                    ret.insert(v);  <span class="hljs-comment">//save ans</span><br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> ret;<br>    &#125;<br>    <span class="hljs-comment">//è¯¢é—®æœ€å€¼</span><br>    <span class="hljs-function">type <span class="hljs-title">queryMax</span><span class="hljs-params">()</span></span><br><span class="hljs-function">    </span>&#123;<br>        type ret = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>            <span class="hljs-keyword">if</span>((ret ^ a[i]) &gt; ret)<br>                ret ^= a[i];<br>        <span class="hljs-keyword">return</span> ret;<br>    &#125;<br>    <span class="hljs-function">type <span class="hljs-title">queryMax</span><span class="hljs-params">(type l)</span></span><br><span class="hljs-function">    </span>&#123;<br>        type ret = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>            <span class="hljs-keyword">if</span>((ret ^ a[i]) &gt; ret &amp;&amp; l &lt;= p[i])<br>                ret ^= a[i];<br>        <span class="hljs-keyword">return</span> ret;<br>    &#125;<br>    <span class="hljs-function">type <span class="hljs-title">queryMin</span><span class="hljs-params">()</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= maxbase; ++i)<br>            <span class="hljs-keyword">if</span>(a[i])<br>                <span class="hljs-keyword">return</span> a[i];<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br>&#125;lb[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>  <br>    <span class="hljs-keyword">int</span> t; <span class="hljs-built_in">cin</span> &gt;&gt; t;<br>    <span class="hljs-keyword">while</span>(t--)<br>    &#123;<br>        <span class="hljs-keyword">int</span> n, m;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m;<br>        ll x;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        &#123;<br>            <span class="hljs-built_in">cin</span> &gt;&gt; x;<br>            lb[i] = lb[i - <span class="hljs-number">1</span>]; <br>            lb[i].insert2(x, i);<br>        &#125;<br>        <span class="hljs-keyword">int</span> op;<br>        ll lstans = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">while</span>(m--)<br>        &#123;<br>            <span class="hljs-built_in">cin</span> &gt;&gt; op;<br>            <span class="hljs-keyword">if</span>(!op)<br>            &#123;<br>                ll l, r;<span class="hljs-built_in">cin</span> &gt;&gt; l &gt;&gt; r;<br>                l = (l ^ lstans) % n + <span class="hljs-number">1</span>;<br>                r = (r ^ lstans) % n + <span class="hljs-number">1</span>;<br>                <span class="hljs-keyword">if</span>(l &gt; r)swap(l, r);<br>                lstans = lb[r].queryMax(l);<br>                <span class="hljs-built_in">cout</span> &lt;&lt; lstans &lt;&lt; <span class="hljs-built_in">endl</span>;<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                ll x;<span class="hljs-built_in">cin</span> &gt;&gt; x;<br>                x ^= lstans;<br>                lb[++n] = lb[n - <span class="hljs-number">1</span>];<br>                lb[n].insert2(x, n);<br>            &#125;<br>            <br>        &#125;<br><br>    &#125;<br>      <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="Path"><a href="#Path" class="headerlink" title="Path"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=6582">Path</a></h1><p>ç»™ä½ å¼ å›¾ï¼Œï¼Œç„¶åæ‰¾åˆ°æ‰€æœ‰çš„æœ€çŸ­è·¯ï¼Œå»ºä¸€ä¸ªæ–°å›¾ï¼Œï¼Œï¼Œåˆ å»æœ€å°‘æƒå€¼å’Œçš„è¾¹ä½¿å¾—æ–°å›¾ä¸è¿é€šï¼Œï¼Œæ±‚è¿™ä¸ªæƒå€¼ï¼Œï¼Œ</p>
<p>è·‘ä¸¤è¾¹æœ€çŸ­è·¯ï¼Œï¼Œåˆ ç‚¹å»ºæ–°å›¾ï¼Œï¼Œç„¶åè·‘ç½‘ç»œæµï¼Œæ±‚æœ€å°å‰²å°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
<p>ä¸ä¼šåˆ ç‚¹è‡ªé—­åˆ°ç»“æŸï¼Œï¼Œï¼Œå«Œä¸¤è¾¹dijkstraéº»çƒ¦ä¸€ç›´æ²¡å†™ï¼Œï¼Œè°çŸ¥é“æ­£è§£å°±æ˜¯è¿™ä¸ªï¼Œï¼ŒQAQã€‚ã€‚ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// #include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;algorithm&gt;</span><br><span class="hljs-comment">// #include &lt;set&gt;</span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;cmath&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-comment">// #include &lt;stack&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;ctime&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge1</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt;<br>    ll w;<br>&#125;edge1[<span class="hljs-number">2</span>][maxn &lt;&lt; <span class="hljs-number">1</span>];<br><br><span class="hljs-keyword">bool</span> vis1[<span class="hljs-number">2</span>][maxn];<br>ll dis1[<span class="hljs-number">2</span>][maxn];<br><span class="hljs-keyword">int</span> tot1, tot2, head1[<span class="hljs-number">2</span>][maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init1</span><span class="hljs-params">(<span class="hljs-keyword">int</span> m)</span></span><br><span class="hljs-function"></span>&#123;<br>    tot1 = tot2 = <span class="hljs-number">0</span>;<br>    m &lt;&lt;= <span class="hljs-number">1</span>;<br>    <span class="hljs-comment">// for(int i = 0; i &lt;= m; ++i)</span><br>        <span class="hljs-comment">// head1[0][i] = head1[1][i] = -1;</span><br>    <span class="hljs-built_in">memset</span>(head1, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head1);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge1</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, ll w)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge1[<span class="hljs-number">0</span>][tot1].to = v;<br>    edge1[<span class="hljs-number">0</span>][tot1].w = w;<br>    edge1[<span class="hljs-number">0</span>][tot1].nxt = head1[<span class="hljs-number">0</span>][u];<br>    head1[<span class="hljs-number">0</span>][u] = tot1++;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge2</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, ll w)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge1[<span class="hljs-number">1</span>][tot2].to = v;<br>    edge1[<span class="hljs-number">1</span>][tot2].w = w;<br>    edge1[<span class="hljs-number">1</span>][tot2].nxt = head1[<span class="hljs-number">1</span>][u];<br>    head1[<span class="hljs-number">1</span>][u] = tot2++;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> v;<br>    ll w;<br>    node()&#123;&#125;<br>    node(<span class="hljs-keyword">int</span> _v, ll _w)&#123;v = _v; w = _w;&#125;<br>    <span class="hljs-keyword">const</span> <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>&lt;(<span class="hljs-keyword">const</span> node &amp;r)<span class="hljs-keyword">const</span><br>    &#123;<br>        <span class="hljs-keyword">return</span> w &gt; r.w;<br>    &#125;<br>&#125;;<br><span class="hljs-built_in">priority_queue</span>&lt;node&gt; Q;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dijktra</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n, <span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> now)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// memset(vis1, false, sizeof vis1);</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)vis1[now][i] = <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)dis1[now][i] = linf;<br>    <span class="hljs-keyword">while</span>(!Q.empty())Q.pop();<br>    dis1[now][s] = <span class="hljs-number">0</span>;<br>    Q.push(node(s, <span class="hljs-number">0</span>));<br>    node t;<br>    <span class="hljs-keyword">while</span>(!Q.empty())<br>    &#123;<br>        t = Q.top(); Q.pop();<br>        <span class="hljs-keyword">int</span> u = t.v;<br>        <span class="hljs-keyword">if</span>(vis1[now][u])<span class="hljs-keyword">continue</span>;<br>        <span class="hljs-comment">// if(visdfs[u])continue;</span><br>        vis1[now][u] = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head1[now][u]; ~i; i = edge1[now][i].nxt)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = edge1[now][i].to;<br>            ll w = edge1[now][i].w;<br>            <span class="hljs-keyword">if</span>(!vis1[now][v] &amp;&amp; dis1[now][v] &gt; dis1[now][u] + w)<br>            &#123;<br>                dis1[now][v] = dis1[now][u] + w;<br>                Q.push(node(v, dis1[now][v]));<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-comment">/**************isap ***************/</span><br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-keyword">int</span> u, v, z;<br><span class="hljs-keyword">int</span> gap[maxn &lt;&lt; <span class="hljs-number">1</span>];          <br><span class="hljs-keyword">int</span> cur[maxn &lt;&lt; <span class="hljs-number">1</span>];          <br><span class="hljs-keyword">int</span> q[maxn &lt;&lt; <span class="hljs-number">1</span>];<br>ll dis[maxn];<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to;<br>    <span class="hljs-keyword">int</span> next;<br>    ll cap;<br>    ll flow;<br>&#125;edge[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tol, head[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">(<span class="hljs-keyword">int</span> m)</span></span><br><span class="hljs-function"></span>&#123;<br>    tol = <span class="hljs-number">0</span>;            <span class="hljs-comment">//ï¼Ÿï¼Ÿï¼Ÿ</span><br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>    <span class="hljs-comment">// m &lt;&lt;= 1;</span><br>    <span class="hljs-comment">// for(int i = 0; i &lt;= m; ++i)head[i] = -1;</span><br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u , <span class="hljs-keyword">int</span> v , ll w , ll rw = <span class="hljs-number">0</span>)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tol].to = v;edge[tol].cap = w;edge[tol].flow = <span class="hljs-number">0</span>;<br>    edge[tol].next = head[u];head[u] = tol++;<br>    edge[tol].to = u; edge[tol].cap = rw;edge[tol].flow = <span class="hljs-number">0</span>;<br>    edge[tol].next = head[v];head[v] = tol++;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">bfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s , <span class="hljs-keyword">int</span> t, <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//bfsä¸€æ¬¡å¾—åˆ°ä»æ±‡ç‚¹å¼€å§‹çš„å±‚æ¬¡å›¾</span><br>    <span class="hljs-built_in">memset</span>(dis , <span class="hljs-number">-1</span> , <span class="hljs-keyword">sizeof</span> dis);<br>    <span class="hljs-built_in">memset</span>(gap , <span class="hljs-number">0</span> , <span class="hljs-keyword">sizeof</span> gap);<br>    <span class="hljs-comment">// for(int i = 0; i &lt;= n; ++i)dis[i] = -1;</span><br>    <span class="hljs-comment">// for(int i = 0; i &lt;= n; ++i)gap[i] = 0;</span><br>    gap[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">int</span> front = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> rear = <span class="hljs-number">0</span>;<br>    dis[t] = <span class="hljs-number">0</span>;         <span class="hljs-comment">//æ±‡ç‚¹çš„ç¼–å·æ˜¯0</span><br>    q[rear++] = t;<br>    <span class="hljs-keyword">while</span>(front != rear)<br>    &#123;<br>        <span class="hljs-comment">//è¿™é‡Œbfsåº”è¯¥ç”¨çš„é€†å›¾</span><br>        <span class="hljs-keyword">int</span> u = q[front++];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].next)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = edge[i].to;<br>            <span class="hljs-comment">// cout &lt;&lt; u &lt;&lt; &quot;-&quot; &lt;&lt; v &lt;&lt; endl;</span><br>            <span class="hljs-keyword">if</span>(~dis[v]) <span class="hljs-keyword">continue</span>;<br>            q[rear++] = v;<br>            dis[v] = dis[u] + <span class="hljs-number">1</span>;    <span class="hljs-comment">//ç›¸é‚»ç¼–å·é€’å¢</span><br>            ++gap[dis[v]];          <span class="hljs-comment">//å¯¹åº”ç¼–å·çš„ç‚¹çš„æ•°é‡å¢ä¸€</span><br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">int</span> sta[maxn];<br><span class="hljs-function">ll <span class="hljs-title">isap</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s , <span class="hljs-keyword">int</span> t , <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    bfs(s , t, n);                     <span class="hljs-comment">//å»ºä¸€æ¬¡å±‚æ¬¡å›¾</span><br>    <span class="hljs-built_in">memcpy</span>(cur , head , <span class="hljs-keyword">sizeof</span> head);<br>    <span class="hljs-keyword">int</span> top = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> u = s;<br>    ll maxflow = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span>(dis[s] &lt; n)               <span class="hljs-comment">//æœ€å¤§çš„ç¼–å·åªå¯èƒ½æ˜¯n-1ï¼Œå¤§äºè¯´æ˜å‡ºç°æ–­å±‚</span><br>    &#123;<br>        <span class="hljs-keyword">if</span>(u == t)<br>        &#123;<br>            <span class="hljs-comment">//å½“æ‰¾åˆ°ä¸€æ¡å¢å¹¿è·¯æ—¶ï¼Œæ›´æ–°è¿™æ¡è·¯ä¸Šçš„æµé‡</span><br>            ll min = inf;<br>            <span class="hljs-keyword">int</span> inser;              <span class="hljs-comment">//è®°å½•å›é€€ç‚¹</span><br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; top; ++i)<br>            &#123;<br>                <span class="hljs-comment">//æ‰¾åˆ°å¢å¹¿è·¯ä¸Šçš„æœ€å°æ®‹ä½™æµé‡</span><br>                <span class="hljs-keyword">if</span>(min &gt; edge[sta[i]].cap - edge[sta[i]].flow)<br>                &#123;<br>                    min = edge[sta[i]].cap - edge[sta[i]].flow;<br>                    inser = i;<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; top; ++i)<br>            &#123;<br>                edge[sta[i]].flow += min;<br>                edge[sta[i] ^ <span class="hljs-number">1</span>].flow -= min;<br>            &#125;<br>            maxflow += min;<br>            <span class="hljs-comment">//å›é€€</span><br>            top = inser;<br>            u = edge[sta[top] ^ <span class="hljs-number">1</span>].to;<br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br><br>        <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">int</span> v;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = cur[u]; ~i; i = edge[i].next)<br>        &#123;<br>            <span class="hljs-comment">//æ‰¾åˆ°ä¸€æ¡ä»uå‡ºå‘çš„å¯è¡Œè·¯å¾„</span><br>            <span class="hljs-comment">//æ»¡è¶³æ®‹ä½™æµé‡å¤§äºé›¶å¹¶ä¸”væ˜¯uçš„ä¸‹ä¸€å±‚</span><br>            v = edge[i].to;<br>            <span class="hljs-keyword">if</span>(edge[i].cap - edge[i].flow &amp;&amp; dis[v] + <span class="hljs-number">1</span> == dis[u])<br>            &#123;<br>                flag = <span class="hljs-literal">true</span>;<br>                cur[u] = i;<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(flag)<br>        &#123;<br>            <span class="hljs-comment">//å­˜åœ¨è¿™æ ·çš„å¯è¡Œè·¯å¾„æ—¶å‹æ ˆä¿å­˜</span><br>            <span class="hljs-comment">//continueç»§ç»­æ‰¾</span><br>            sta[top++] = cur[u];<br>            u = v;<br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br>        ll min = n;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].next)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(edge[i].cap - edge[i].flow &amp;&amp; dis[edge[i].to] &lt; min)<br>            &#123;<br>                min = dis[edge[i].to];<br>                cur[u] = i;<br>            &#125;<br>        &#125;<br>        --gap[dis[u]];                          <span class="hljs-comment">//è¯¥ç¼–å·çš„æ•°é‡å‡ä¸€</span><br>        <span class="hljs-keyword">if</span>(!gap[dis[u]])    <span class="hljs-keyword">return</span> maxflow;     <span class="hljs-comment">//å‡ºç°æ–­å±‚æ—¶é€€å‡º</span><br>        dis[u] = min + <span class="hljs-number">1</span>;<br>        ++gap[dis[u]];<br>        <span class="hljs-keyword">if</span>(u != s)<br>            u = edge[sta[--top] ^ <span class="hljs-number">1</span>].to;<br>    &#125;<br>    <span class="hljs-keyword">return</span> maxflow;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    <span class="hljs-comment">// ios_base::sync_with_stdio(0);</span><br>    <span class="hljs-comment">// cin.tie(0);cout.tie(0);</span><br> <br>    <span class="hljs-keyword">int</span> t;<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;t);<br>    <span class="hljs-keyword">while</span>(t--)<br>    &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);<br>        init1(m);<br>        <span class="hljs-keyword">int</span> u, v;<br>        ll w;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%lld&quot;</span>, &amp;u, &amp;v, &amp;w);<br>            addedge1(u, v, w);<br>            addedge2(v, u, w);<br>        &#125;<br>        dijktra(n, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<br>        dijktra(n, n, <span class="hljs-number">1</span>);<br>        ll min = dis1[<span class="hljs-number">0</span>][n];<br>        <span class="hljs-comment">// cout &lt;&lt; min &lt;&lt; endl;</span><br>        <span class="hljs-comment">// for(int i = 1; i &lt;= n; ++i)cout &lt;&lt; dis1[0][i] &lt;&lt; &quot; &quot;;cout &lt;&lt; endl;</span><br>        <span class="hljs-comment">// for(int i = 1; i &lt;= n; ++i)cout &lt;&lt; dis1[1][i] &lt;&lt; &quot; &quot;;cout &lt;&lt; endl;</span><br>        <span class="hljs-comment">// for(int i = 1; i &lt;= n; ++i)cout &lt;&lt; visdfs[i] &lt;&lt; &quot; &quot;;cout &lt;&lt; endl;</span><br>        init(m);<br>        <span class="hljs-keyword">int</span> cnt = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> u = <span class="hljs-number">1</span>; u &lt;= n; ++u)<br>        &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head1[<span class="hljs-number">0</span>][u]; ~i; i = edge1[<span class="hljs-number">0</span>][i].nxt)<br>            &#123;<br>                <span class="hljs-keyword">int</span> v = edge1[<span class="hljs-number">0</span>][i].to;<br>                ll w = edge1[<span class="hljs-number">0</span>][i].w;<br>                <span class="hljs-comment">// cout &lt;&lt; u &lt;&lt; &quot;------&quot; &lt;&lt; v &lt;&lt; visdfs[v] &lt;&lt; endl;</span><br>                <span class="hljs-comment">// cout &lt;&lt; dis1[u] &lt;&lt; &quot;---&quot; &lt;&lt; w &lt;&lt; &quot;----&quot; &lt;&lt; dis1[v] &lt;&lt; endl;</span><br>                <span class="hljs-comment">// if(visdfs[v] &amp;&amp; dis1[u] + w == dis1[v])</span><br>                <span class="hljs-comment">// cout &lt;&lt; dis1[0][u] &lt;&lt; &quot; &quot; &lt;&lt; w &lt;&lt; &quot; &quot; &lt;&lt; dis1[0][v] &lt;&lt; &quot; &quot; &lt;&lt; dis1[1][u] &lt;&lt; &quot; &quot; &lt;&lt; dis1[1][v] &lt;&lt; endl;</span><br>                <span class="hljs-comment">// if(dis1[0][u] + w == dis1[0][v] &amp;&amp; dis1[1][u] + w == dis1[1][v])</span><br>                <span class="hljs-keyword">if</span>(dis1[<span class="hljs-number">0</span>][u] + w + dis1[<span class="hljs-number">1</span>][v] == min)<br>                &#123;<br>                    addedge(u, v, w);<br>                    <span class="hljs-comment">// cout &lt;&lt; u &lt;&lt; &quot;-&quot; &lt;&lt; v &lt;&lt; &quot;-&quot; &lt;&lt; w &lt;&lt; endl;</span><br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-comment">// cout &lt;&lt; cnt &lt;&lt; endl;</span><br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%lld\n&quot;</span>, isap(<span class="hljs-number">1</span>, n, n));<br>        <span class="hljs-comment">// cout &lt;&lt; &quot;----------------------------&quot; &lt;&lt; endl;</span><br>    &#125;<br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
  </entry>
  <entry>
    <title>ã€æ—¥è®°ã€‘å›½åº†éšç¬”</title>
    <url>/2021/10/07/%E3%80%90%E6%97%A5%E8%AE%B0%E3%80%91%E6%88%91%E4%BB%AC%E7%9A%84%E7%AC%AC%E4%BA%8C%E6%AC%A1%E7%9B%B8%E8%A7%81/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">
  <script id="hbeData" type="hbeData" data-hmacdigest="ac8b97ffe8e0a23079d5f03be6ca22449310f06bc79069cc84cc2184a3c25852">91a3f98ed694b0f3ce330b314503f443beb90bfbdd4ba2d90b7f4d799d8574556b84b0406fcfa2e704d820ef9750a98cd559fd9a8ee76c24c7168157375a8be413a299269103f2b93da6c3dada128c694bd8de4e7d157789616e5211779cded22c8fbde9eb6cee136515af104ad977f1cd0e0cb9c591309df41e2a748653b39d1bd2d64544ea905ffc7868b1a025b6ab0bf6488dfde030d68c16e7ff63e74406d549327ee4f09dc520be100a16c29868bdbeff001dba9b4f255d638693f27a04c83bd710c27d6e1f30626bcb3c27b2912017d3c4ee57bc9fe81d9e6db0c7189c44d3c60e272568d1e9cab896015ebf15e61cf0b337dc51bad815dd18e3f4b44d0ece32f04a9f06a81dd6ae365b7345c1c7968e3ffe21deb942e6bd565f3422e2fc341f1d91249f257790e7280da2158a6a409916713e7b3c78df1e4d31b3c9ee9f6299f73809b3ca102061822b4f8ca8be60d8ef9f352b7e85286cf24d30d64987c73b0191f47d7ab20705bbb84c47fdae4fb6c9b711cc486368c45bfca97c2ba703e05a1477e2920f7bc6d709ea855eca3be330b2f582ee538407fd36d821afcf0bf3836dac535fd0d547538fbe644b7df4dbb24ac4d1d7647339fb7b534508c38142f6bf77eeed150e6a1ea850bbb08409f5cc343c11cff50241dd1305a0453c9b0a4872444c8f61eb1f7c34af493f6a51401fa3f7ea74920f476a897553a9c31338ef38b54cb81f0b065cf83a9030914fd58023a232a86f686a50fc8907105cabe584445476e0546636cbbd9b7992b40484989580cb1d821498ffabb1778416e8075e9091fecaec4de4b74d3c73abe9da8d35e74002a2f39d94ddfb087e3f0045478213fafcbfd1d44f40dcf80c786326509346dec98087c7c227440818ad2906e1d7b950357b9b1149ea28dbfcaa3af485ad8c39159f8507d1467cc44e7c4f71766a609e68e53488964d4782378e07278c5f3a773b12088e84cf808048867084caf778dab56739a9a7d10135f7dce42ded2c4846b3557882da200b0a18820e1c7ec7cdd3a4f6df5a5ffabacead20aea6a3b668862cdffc43fec19524926fb77b154cbb941293a898f6f80593f6dc648de988c2d6ec8bad7c231e591a3ba9bb8430ee374c4c7acf1982c95e83a3c74cacfa52a607c9cfb78682d10d95c6551bfa79e107c28ea69434ba8e7ba5e9d2c11ff45d392ed56823044b6eaa520a75bd9f3adcf6e7e7406c5c9b67d8ea33c7c8970a10dca95c85d363fac7de8ab478e5180e921725ff0b76bacb63dd2d676dbbe3a67c2ccda810e0db30339e58323d58d5a72fb572d4a49b0efdf9f235f89201dd9803a4f689a3ee01cc92cd4e69f5b720e984d19f9086dbdf1dee4c386a8e8e44275506de66c1620b00ba1b8587e9faf245f088deec720aa4c49f234faf18ccc3123ee3fb872efb9c00794c1ed83eaa37cd17d649225034a94e22e6386c8a3cf5f3e7218368d56b6acd9c9fcae6aadf1f351708ec867a756b466feca10c1db5c1370c5dae2edd16177573c68d4d38897dd8c4af822fb0ad02f965665cd06f30e35f3123f5a828198a9146c8c73af527adff5176ff3f594f34c58d2fc1d6edfcf53874649f96f3354c5aac87d6e5a6331395e5d2466f1d69ea28e2729f20e7ec9b4605fcc9a376988325cce651037156fb6936e81133d10b5bcf895d0926bb75074a161661d4c709de72d689b087cde5834c299c6accde45ebb842658786c418199238cb4bf966b28cecba1bd06105d44355cb524c5887de1755ed16323da16a891e701133479fb496e60dd6b554a2cf585dad7b2f5c72266893a089e17ffcf8065601d9c321e6b64ddc77ec84d762653d5b6675997441e930398d8d3bd566922069374895de02e1d4cb089b6abcc0e42cdd4fea1248823c3bedf9643c445b3d469feb7333ef50a7f51355fd1aff69f80204490d14992269e2a649926a2891854d1b6ffacbd39bdc801390ef0e651a833a727ece57d7a81381f7e573f71524ccef9760153c4cbc6e30f9fd962f6aa22e0d93e53e2d80b5bfed86bf727b3a122d85cb3c4a88555af711cee37b69753d2e5e2fd3242b93fbdc9289b160bd5536beb030d72839efed1c960bfc6ff973c58883860ffdaaa88bd618112005c75c888f085a5f6c9f340b4282182e9a1aad8be85929a7e6e332489e220bd4fc799999e1fee3d793c09df1cafa5c40f0e296663e42ec2a16fd9179f4b8423130d63dc844951deca3ee61ddd073ed6b5a53de95ff277fb3bc9aeaa5d059109fe141aea29b0ba55997c61427958d23b3e098e92d0c1198b752c47d6b09f7150dfde14d3b883e976adc856e6bd30679425784d4d6563ab1536b12dc43056f4c2f232dcab20e642ae28f40b21d87cb1fd9d6451f55555af4d8c7d788f5f04a4921f9e9827ec2c144687e1a85973d309b712c7b6f61f173c4f90b18bee50099aee4bf7285f52d874f9bc4248ce42d977043c1939ffa885b809ccd06669aef2c83f9ca7a5a8c83cb25996896f051e02a523ae16c30d86f5ddd2dd9fec8faf0ed7ae03d2f970fddd88034b95218260d792d449e007b631e37b2f3476611e0c9adcf82e95707136ebbf9e4befe68f227a70b9995017b113d7d4dbcaa957e3298492ddcc3ca81f2f4b8acddcd326a5057435e07e97c8bba539244a6824a489b825bfc208dc764b7ecb85562e3e9b39ecf6aff67526d46aee0e868d4d468fc7a48fe17dafe4b0af35cfbbd0951c33fa049c4b18c6146a25edecf63e453da3dc0399027ee25daebbed4e6f03155d72d7d237e0090ef6c9d01b23b4b939c526340ad0edfe75c3074891f3c035465be81b4346199929830edf7cd8e739f85bce817924ac2cce7dc53f5772b96d7a697a02d04380511de5e618aff308e393a77ade0bc1df12701547e889f4ee6eecf3b96ed79d23a7b3e25f662a57a5a9654c47783c65aad7da9c2c31deba67124bfbafcf5db5fabb40620592d939f01765a470be4f6674c96abe8c04d7c8b51025e987c9d7fdd880ef634817012b7bea5583dfd87d06082eeed44722ba360ad072bafda4d2c29c4b92ba60befa633099f8af35c49dc973a83623e7085272b89a6ee270197a997596895ffbb3124a3ba1ac4f32b1d8ff9f6280e284e9d6ff0cb3cfb6ea4d7e8982f5573339aa87eb0e578f1d7e57f321d962e09bc6a471ea81cd60e7d23954a7046ad413cb7e296c594b046644f11b9f1223241a5972b0be4ca2e058a67cc87c09e8369f5bd5703f37d14c316c2f7b1683b5ca6a9f8889f0a8a6756885e1c683016f86e8671609c306162d4410e1f380a7d2070d7b0d7d232fe40796545f834fe093c097a7265a17fd55ed1db55b83d5f9448decaeff9550d9bd238dfcd89a4d3247457f5c34fdca8d8e470eeeb42db0f17cd3b2a0273c4c75fbeeae411d7ec558f2de449f3fd296efdbacc5db74bd26973a6637439fef547b2b43c65c1a5b9e9deffac712b98fd5154bd2f3eb71a2b47db8f3ee2ef8420e770bb119d35a4825c4d46321ef682041094fabef34b86c5834389b12619a1321b88111db939de3f67a02399594273679238c636b036775b0cb73555b0e9f1411596ac18748a6fb5ce5165902207befe99582ac124222ea4f6e16a3a5b08d550b80b7344f81cc1889afea17b7feba6b812cadf17c26578ee5fef2d5a9d905a393081a693010f7f824673beffe547ff6d1d52df99019133aebe9af5155c17720581425ddc8e8c7743e8b6168467b38d29c428b163cdf996848092b1ad365b13134eb71fd28fe491b72fb77736bc9e04ebe976ff4575a70b98645942497b32c97159a16a03b5bd9edcdcfefda0885bd0ef3c845dda1cdad8783dba8073f2fecefac4eed53f8011d2f062c1d684b606a8c89134fe70efe6e4d6e73f3f5d0f9c0e5702e42fde9c48af3f024ea8c3706f23d07c0e7fc7a434169674d353c2925d48988e31048f256fd1d002dc0ad54afc5bc3ad60babbaebd2103bbfc3f5e0e340f7912bd4ed64ef09e13d2d57955a33712bea2f8774660ccc900ed7fdb7aa611ac495f2fb9eef39db441ac3cf1d1e07c5f5082b633af71855a3bc00099d52bf9d75be7c1c9fb2b69ef6b2562e167820a476c0e0f54f9a2fe1045a1936e0d46ec15714ebc03993288f01cc2e8d12f8d7392165f892139822178a5fc2f25a27c8c4a9674b2eaacf576306cb9f0a78e60a17ad92718d4226237c633f98d52c953f9823040c8b49d21171690de44dbeecf58e9d6cf5dc240177d34507867dd87ce03294f6561b16cfc4542018fb10f884b22e2fd9e2047c79656a54ce994e36e1101a4a49a302e91a7f8d64ef671aee5d49f76f6ac9d4c370a0edefde417ee77a5e1d0b5c49dff8c1265c4aa79ffba57d28a04f8d23fc93aa3e598d8a2d16e8db56d2e2a7a924d6449584727cebb918687a1ef54c2054b023ee3b2b300052cda8bd5ac89bd5fdbc594e2a9279859eb9d1828ab4da34f2eb6c43a916056a58d7c73b140f344514bcf772f52c5520e7ec89d7c79840ddd13a9cc56d768b20e4e3b58734b636f6b244822210f84acca535d599b2a268c8e301c5819d93e7517aa6cb1cb563b78baa900407dec4493162f6edab3a3046fac2eedd098da089cc77f7151b179e73c4c2287bb1a8112956f2a3d3cd41d5f8d3fe28db4b47ec52d946c259cd90d0daa26a5f79b854eba62d97d28b7a65ebfe2e30b7f6c5321156e890103e740472175dc5ad3058bfdc70a660c900e55702d3bec159b6a7e202c16003dbf9ff9be9c12a05086cbf2fc1a1fb86e953ee6e48d9750307abe0b4ae4c47b9378bb4d74b144f85a112ea887a7b9c6fbb1c2bb00ec0eafcbf6319251d5e3b91d257be3365b9a2f6597b2b3441b92c4bd3eb05fa67b2faacac5c50a1cffc82e6deca6c5643d2b413486eb0e3539c1fe690319d615154bb2fd9c6b05203babb7dad4209ad3ee772689f3201ae427b881eec9bad16367f4990b1118c20d97958d51f89610ec93298cebc6e776be5512fed805c07118ef8d404dd907b797535e34e6d9d481d2abec00c16df3a9750baeb3af6afc1479147b29b93a2a6db4b9ad9f2277a17a7ffde4a8924a44df9f904f0698b086027465ee271f1d92b8947d9800f1e34dabdcfe797c1914fe63639084422ec3c31ad46094b83a8268c1f7ffe19d73b9e1e8e445858c0dd9d487b065ce56e94589e5e084709deba162982c41ce71dc3042b6222013d8e23c94851de5ca657274eb86a0d7caaba3b03dd16405eeb472171934645a4afd19d142986ff6c0b67222685ae7c3d31778d98bc0535499493863cc217c74e994e4e3f613e66223c7d70c749584d224f8d1a434215793cf1deeb0d28683ae4714879b6b34e13a50815ea7fa755a927d8a308bef4186910482f863f981fcc5647fd05ec1e1ca8545f2ba73f0a22d6236e869961bd3c629a7bc97d3f420aee4451d493fff6f7b10953a4105c148f665d6ba7de55bddb1ffa6e7246775ea87e985035e31857d8060a27f7769a7a277a87b74bb7de7cda2ea23af09cbf1f106cc5f7a3e8948450262f55ff752e45dffe5e66829865991b41d497e1255f08f1dfe44c3ddb44f9445508add8461a907562f34f0c87c60d78044d3a0980fcc73ff2a941c6255036d8f0de696354ce1b26a3b5a8e756c67b570b3eed4f50d3affdd989a01d59c92b0d44ea4bb735da6bc12a173805315b01b8ebb6a3701c2b96d7e0753173251bb67f3e9b7093372566b7548f3bb2cd7d71c339dc1180c0d991f1d6d9bbdb481b59269fb73ab33ce252d506abf6909084ecc4a6797cc4b20a0fa1409f8b61c2845383df28f0607cf4c3dda51f837d228e2e246f51dfba35a3601daef9a6e2d833bbe50084b9764ff5fbb0d4230c1832fbaafe3f7bdb04b957b77c75dbd3f283b8016aadadcddff50fd11c645a1bff1dd3b4438feb9a9c7b68b936ce9e82df431cf31a3a53fb6a591229c1e6a37119caf611d9fa5bc19f926179fc68e83a442ea30a96ed36a7e1cbd79efb503b2919d5e5596ee8845bf73fff1e6f69a42f3d60004842f232c2fbdb93cbb250078ee2d02e692e30eb9d2a1d34b82c8fa531423eb86f6119837e319c4cef4d3881e3c1a9ce2651734001f5b79720abd7f892ad3b380060ed46c18c8958c77f70fb4f96f2bdd529506f39622a398ec6eb2a8ff970868372e51a2e78574b97c99eabbd4b0d59d4ff47b8f3a7cddb5c8affbe68f4c9294ebc81922257a3b7af38adc979f274a4fc57221ca03f14015dc3ae4cb48f625bbbe7a8dc9a3b3431a8546153de9dedb9cc9f05876e4eeae247c80aaa2534abec24c3d4472dd984f1bb491d3ac60561388a6a796d45e1a03680b8f43e9bd5592e043290a0f51690b517cd5d9e75aaa3e12cac1dbfb829a33cd8a9f36b858af851f17289fb43ee7e68ac86c992dfed996739eff4900ceef245f515c5375c8bf23095d55e35983e589dbde880d0762fcb641c3492e91192725a1a30fa2a1ed3cc6163abb04e34a13fdefa6078ffdf0a3a9dd5525d64feccf3faa4b819208afa47d6f7818b4dd0e581b4c73073a968ef7289ea697f49b06706dbb90d6b9b5a1d4ea4a9c7ca86170a32bbeb0d6e324f279c40e0edd058e807cae4f443ebdb96c0a19ea03f1a5376de23fb4cca1f866a7abe54bce766891b0f118fe67954ce955fd8920dbc1bb0ac1e68a2902814dd2b83ed1a3fafb89c8fa5ac21bb74d6a16ff581dd6b47e42f8e2dcf8e17efab773bb1153965dad219faed3a3442826085aebe984de92515a7c5b407f598379b149406064eeff22df249e15dbadc7f7d416990aecf909369e2bcbe6cdb9b985726b54520ef1215abf59cff236eed0d5736932d697df8ebb1b8214f7752b3a2c5afb14adeadb248acd244e4c4b837cdea694f61336dd9347261cecac5a8c7650bd5f72a3fcd2782e6b3b74b81052104eeabdd273ae0116d978117660aceb06e45d60d6500b8d37bedd3e0bc56953b87e8a71a4d9fb7eec704ed97c657b534ae1f426807354a26e84096fb3d50d68d9e1a91ce11e77d6af25b89677f78fe8a27242abe27271d3651d75f5197ea47791e7f50c17ced5c783fa11290313dbb712df93f7377921821e574e6f8070144f9e3893670fcf16bc523e9d46a2566fde378b4c35e37a6ac76acb849339744ac16f79d9846a8fd0ea29917ffa9d9b68d952bae7d5694c76eba790c089a721186659aa3bf99d7add6709735c469facc2835f6be69232f92f35d0aeaf7791e395e74157eacfa0587dd2572a0cbdf475198c6d22978618d986817ae21c22f77dc20bad7dc369e9b126b9e9c0ed41de508c1b42cf7bdc10b73ffbaf40826e6d7f79804061efdfe16f276d612f83b1331c26e63d51ec2dc333970a4d0e65710e060af56c13fa4c4fcca734a25f485ccd73761c5ae3c1a20984bdca6b30f7ce9b44616397921858ce092b37149a802b1582ab06f7e599e1d368f47c8fc012b5a28ba21909996eba1f54b71dffabf291a8204ca1365d85218dc1b254365d4241c8ffd860d1e96dd2fed0df9c68a15aea7763a346a59c2f43590877b140799f7e6c9116ab8d408eb7ed0ec1f912b191ccd18c572dd66520b56e9dc8e58cd364af1032ebfd4ca8a3ef3cc512235576abfb58f0027e7a7092f0d71763625c0452bc1aea935d8639a27cce6e3f41b254650d1a7703b8b44e1a7ea435be1389128fe714176f53d77963605764f01b0023a446df2a516f48f120cfadcd7a8501c1265583be01984efc48a03709fec1e9e740a4bb027249b4a91adf0dc549f283e9a4d6d5efd12e9d94040d8fb6303e13eeb5bf03cf2a59a7535039be1226276efe58d21d1e22a6cf07e711618e5c458a9b6a73d24e9f26937283c87cda210907e5c761afeb07017325a8a97d20d03dc70addc8c91aa79a3d05767ce8875b21a190cf0eb7ab89adfb2636210707cc1b11cbc10f997d3758d79c956a3ad49c12b0f8d7fbb62e753e1e54a955fcf4009a1303c494e759e02d0a73fc225fa42e3f33b98f8937d5d00283785d64d2eadbb965cfd6199fdf6946ecceb571776ddf92fdbf3d4a567b8bdcb9e00e70f823e12bd9bf3a7ccf0cfbdf0f97bacca98ebe784e5d72d2a6fabc4af5d2cab3a2f525f29cc7bc191917d7b5ccfd32a6b19a0d78c6b696e63726de0533c1bdb802431542f6b18790fddf312f0eb977c3471feaee7feee51dd2c964cdda37af50facf3f315f083c84f45a29d99b9a1903104d9f70d5c1a516370f4f7384a37865376f123be230d8d52ee182326218a700c1e160a28566e70abd03371eab882432e798aa43b1339b9a8ea5b1af9a60b2da6a463dd9b6f91b4abb01184e09f286045cc5aa54181c327e0da5653c1841a93176ac5a73d0aba4c14ae61f7ab787bbca3211827def7eec5be9b34759a7374dfffd3f1ba51a72d84bd87727abc04509730ac9bc34961d6a07a616f6721fceeff6cf2c2325e2f1541006fb078fd168342a97fdef026656598d0563b0a6eee2753b995e261270d65a1799da57bb2bf6e7b1d3602d4c35f375700a15e1fbe80943ef5134dddcafcc39d67cfe8ea577fa33d17444b4f09e415f9e1ab2c1863cab06980716ef6aff13e067fe18878c80c9f4186ada06f45fb36c37d96479b2a8b0afc643059b855e1062305a2733b99ba5473e54161556b22f90839fdb2ebb8ad5566648abd2716f4b68072e9c3ae48c8c7b7d005c49b01bb89446b40707e2a5c08894ae23210aee1bee05f38bd2d64eba9ad064a8dc2c2af0255a52c3f88da3b0d0178e2b524b3630226f3dcffa24a0e5ddc9315ebb99e5da7c222a373220a4477d2eba246cff7807932b44a354b9014f7f3a8ed2ae006e75636917c27e3fa8abd8f0642cc5480e697b9611792d72b0de3c12cb886c08eb4dd9ff56c83a8ff11da460cf9b746f2a57120fe54583f1c7078dcea519adeec8ce958554e99ac1fb141d4cc78a68b292a593edefdc26ff2c0ac320ad9181ad9b57f690cc7f3815a3d95a7a9208e9f6970d2a6628214a1478ef148f6cfd1ba65c64461595981b3cbeb8a3e1cad4aeceb1a2c7a524999b2dadb3f8c4d0d830d3a20669180611787c909bce56d327a0557e86b52a3e7d33e9a9cbdc1547ae24d8f845cf45d51a5cd8bdc3ce832dce6827b12fbef7da943f0b8cb25fbfe0e66de903a413630850c26e3c2cf892e1c0d7db92f564a384cdf60bc5315000ca51f419fd3ff3d8540c0902cb0974249e3fa5805d0c0f0d6c5a4e619a24927d6d4117cf457e02a923abf909a1f35b2943601fb6ab7f434c25206a1679695f681e70463fdec762b463cdd3eca8a1e970bf52998af0d500f9119e7ee1eb99a1545695df89e75712215159e0b6a13d99765b51b32a3d4379bf98b205f9970962ed2abf7b70795efdbfba978be528fc0aaa15b795b4d3866567d11759b1ee1a5790c41f92814e1c45c6f6e1eb87e87e0d9b8381bf90bd12f35f29074a1bbba01edfb6fb5bec36e433f852e945b561e8e4b9103f79b5770517e087cfc71f85c2cf0a3830f697da1e0113f38b06b7b4123e0a131cfc385d6f680477816b401d1ab8ae6f0f139271d45589222fe13e7a36de8e9ff1cce6dd5a6e7adc53871ce451cd4fd4fb1867fb6c99b48f36a172771950532de5e0ba7a0c02ffeb8bbfe78c854b78c53ef8a32bddeec3ae05528ad1590dac3e26ce1c6a85bebcfddf78e2d5a141e73e7cf965a5c56a59fa960aace4f939e5b740a15986309518108e9af48e9caea5c28a6ffd27471b24a57c77c4c0d5b692c0638d88679a70a605b2a21b4461b6305df7835ccd01c44c7461f264f1a6b8a435e029f881b141c19f6eea4c5a706833cec0364c587f84322613b3c05a2d0e3acdafac5cc9bf4bb398af90b6698f0208370650d8a9b7a9a885f9abc7f30d5df63ab9f76a19a4ffd5a1e11218b3ba56a4f96287d2c5f4d6513a4718e0a23ed6138563a431a13a9e7f61aa2b7ed7c0feb659d2d318773fc6f652280f7188c318871775b911cc9048713d78225eede496c146c6836931ad8d1ce180fa61dd8fa6d2f38cd03d88ac16c1bb2aa98f4c18b031f375d6c0c3f3a26d6f6fdf3706be62414e8b5026492e352040ad041370172a0aa6eb1b948b2f912522a4e3b21ad57f75849e1fd9db13e8ae6114f7789947a027b706831b96461dbb19b18cb986211555a4becf43f280058c3e8b68bb09bbacd01fc720a4363ff70652a54cc56a8770ec2f5b926e6d198e95986520dab5404932ee2df49b4c2a9fa9fe6312db9fe6794455d0b3e1ec4c3623b4aa38b10d9f1076d7b7dab0fee09ebb29c104e49286751eb0c661a97882d3194a082216dddf56d60d832de71202da187fb0128c61bf904c83a6d4158c56f23c114ec7615bc48ccaf0bad915b25f93d6f54f695855c4cea6726955e4af4d8c60ab202cc77e0269423528e50a42d0a7caf386c8ff733fd886ae3a4978c7e44407a2b3e1a3d31ca77fc8d3da029eede059e476431600f3be2282a66fd498b79350267994e7b73bdc6d4294ad60b58c38de0924e155fe5987c0e9b1b2c808396b6bb7ccdff7bea60a2c5d7ccaa76b412a51851ea92fcc9e2731366c9c29ec9ede36aae97e54d55836dcf590f9dc94ed5e3175bba829aafba9ce100d0652c5366c1c9147343353495da76c0ed7374fb0f0c77863e36cabb0295cee66d4c5f23a0b65ef3bb33f2821fb4897c91a5ad25dad7527c0b5a75335462c9d0cd35a3a511bbd17afbf8c6a2609340564984b558020727872a75ebfa43daa5f0d0c862e6815aba2b75dd7bf8573c15fcec22dfe776f1f4286fa2137ca1fe8801ba7a4f6e992c79803e63aff30a0accbfea9f24ea672da05080fa0850d9c27ad131890fa5714e583c3c4f39a91e467a88f5bdb55853be7620828fd77c9a84d4a17a9fb2f76a25aec0b590a702c04a519d343044197ed0d398214510853d7e0c2dd5309aeec78fb51a58ab2b4cf9b108e1e46a04454a5a25088b9c171c873b18ea0f0f6a18f0781df82dc33445d2383940737ee2b3b6d7fafbf817281ac03ba98f8a16595156ab0990813dad2af085664ac90f3374c2a124cd04c7cdeb32076edfb01ba34fb254be0790b31c7e11711d2db6270d6115581ea0e1f363016ab7320a0d192dc6f9030ea00d897d581ccd7f189c999f2a9f77696f0eab0ea2a7a44f2ac79e0354dd835a6c453c7d3c11f05912c8e5fede8e2773e83fb3fcd63ae0b7926b6a93e8bc18d5a7ec58dee5e54c97125fd0d60799612fccdfef4d82ec7586de49252d805cc5294323d773ae24ca879b900055e142c0123bfccb7e3753d88a33602823b755bc5ee9df2da64b03590b85712f482b7f34beecd70095ec4168feb7d8a4f68d714b1a215425c4743166d7996ec5cff6214ed3e3edf4762d80dcabf122159be03f629cda06f1a01602240d0e0d634c6fd0313aede5f4fea0f9de09b8fa148c46aeb677671c8d0f7a0c182382dc9aa693eac3a5a82eb7867f67cde7fa769043896419f8730fa96ccd34f76e4a68cd31083a8e837cf3576dc1824742d80a3f27ca6cab4b7131962a54c4e4f4775cafc4fcfb05ac639da91e6aef219dcda4dd3023fd7d0c7f34e7ccecea4957fa5c041c2e5ce4471820dcb462397d3411e048dc661a34802b76bcf3607afd3e9706378b116ceb82410e301ea1ad98f902880305d3230ab336ebff3b5946bc1d9bc440ae37a127109108f1dbe0219139644b48b785565555be3dabbf3e99bcb7b15e46dc175588df24ba8b229e8a95c3442a49ca0423424b06cb6ed647717c62362749721a612cede7e9cc8545a2d254e749b459c3ed8c1e42b296a6061c3a9df1688acabc1f0c394519295dc7154ce272a557ad7ac91784495e42d2dc0fb663e07f9ee58202d531f8f32d01c8a9aa27b5a11728ed4b97bacebc38655241c4d86a5a21508a14935a9fdc1d9975658d39d384aa1db5e77050e393f2d5a6a8adac2a583893387f99a8bd335a26d56818b99968f6eadc74958c542d7c134a2e06aca2b6f71713d6be24cd11e8c95637ff1fe13d9655d1459dce1a9c2cb879611af85f326eec02d43d1feb701bd2d8757f5fe45b2536d0eb67759019b81e3cb690bfa40a55c7262ec06d1e77115d210cb2a14b90021be70461fcc4700aad0fb8c53abd1f6cf4a8b38b83679ff6823267ddd4255f26b9bf1264fbd701d4050108f141a2bef7206d75b0f45a1a8dc6f79daeb493ef4ba802fff34cf0eeff494d6a8d0093bbc77c11a78071b87f75cf16ac5e3caf2893485596e4d4d77138c050a517d878a22dde90d406679d111d52652822b2487dbd9cd305e689dba010c8254c9aa70fdf7139a10f7960f12e821a091241a3f36e28219f7154f2c02492746b659cb30b8d407b83e7cdc8411be08cd3533f205f7cff27ee7003a9f5b24cda08a57dd05899ebf256197e653ad0a4706e1f86ffa53c75b67ab037c2ff0819e0e5d5fedb07c1f81ce5b5d8552a156f6d352a8d096075dcd31e589f60c246b23e0a1c88283ba43a54ef400b97e7e6b057980a97c821945f5e2801561344ff6db69d88f5f271ca6fc354cba3130bf80f80ab174fd032b0869529010c9b1ab6033c78a7807a2bc64c5cac2b5456cbe7ae4b4fc8e92c90013edc7044b2284619f7a10103b826619fb9cc79032761894149465b2dbb22f46d2ea0cdae830b5a0004b2ffdc187e181fe8795741e5809067c43acb5d15073dfd79fc061f02f0f5cd9176451f6055be3ad10de750cb97188e2db9564cd3bda3dcc4e740d1d11db8c329c9d30e7560ddc680bf0599a397ac45fde2b12b05d31c4de1a824ae4ff29eba086960137cba10175f07721ee38c01c9e9615d76a7be11e7166623ab6ec62ed0fb03087370a6ec2dd3f102f564b452eef7de79a9719165b807bb7eaa738b692ed80f60828cd0d59c58197c78ba6e54113a672a7cd440ca9e9a673365bdc7b8edd51504e7a44896a75418daa22dbf8fd4ed357e68c8dad9e9ff4809ab5d0c1ea1deaec2864cae9001d028daad715d3c00f5fafe974158ebf61b1e924f25df6747d041a281e3c1307848e4741209549e6128fec22079e2e5338076ba486ea241591ec1f182cac9106bf187e55cf10c3156dd10da76fda060ff43d2719ed7648acb8b1cfef9395b80fe065ac60822e621750f7e547fe05320338c867b1d06a891fbf431ff817250397faca4c8a8f47061dd48980fec6b0b61b88fa5d476597cf144e386a40230c11e7e3350e2b87fddeb04aec6ca036a2450286af703304ca90f5077d54b6065d506fcfaf9f8e779570a663a596faab3c82ba4ea81800787fb683199bfaeeccfbe25b80f820441afcc30e25a495f4845f8e5dc8a328378ed4bc074ca9d5eb542511ede69536386edcaf1293633ed78624594f9c40e2d39711c63a80e794ab7b929ad1347121410a85c4e74c1475eedf3daddb078f84cf98a393fe350d203566fe36be44b2bc666e91da865ce5397258f811c41a25e097663506c7769673f88703371bcc8941a701b9eddf73c2bf1039f14da4e47fb3f75ae1f119969c981c60ad9c60da69c2710c0388162cfddf6e3098b8cae22db163d316776de44fbdb219abf254a2217a4c6628cb911ecb4e35d55d84cb6fdf29c6598aa87af1a5c1b0993981934c3c3200a9e5d9bcbc9a3a67837e560dd7aeeacccc3891d0498574cbd68f237873d3b579897dae1046d939c4fe317ca249c9551dccb9e28b47df76dc50d797a758f6d4c4e6f7a294dec232c95f7665e4ba9dab24348f13d277e71ed74f77c41f58eaed6a10d3fed79ebb41a17c31299de0964d8b9209ad34ccf11749d63c455398a1c3e66cb6ce4ee4fe417e346d44faaaa39ef880ac3dd0b993c7b9520157295ab390627a16912d49ea879d744d0a71aa1715433c939d7fcee9d0a3c3af2b4c55498c2463ccc90bdbd0af95ba7b38cbadde6eac541d618546bbe79b8a22a6ad147af1fda334e287d97f1a9d4bd2e20d41e78a2edf640c8a489a2d9f7b4fc8675569ab343394f3edccbdcbe60edf2c7703bca48a296b20e9c46ab1d57ec61cc0c70c4ab20cf7ae8e4ca81061339b45eda35adbeb23b5874945cd945b779e0b58312fda5bdfe59a1f4c5e88237d4555de1099f7d5c56f7cd9325aded612eb3e4afe7d88fa241c1fb423749d006068e22b57b08e659596cb7db521317d8fd244f55a7778901dc8a5a1ae2688ae0d2d1646472164e15c0991cdadf8777bf3e5d0dbcbb3782cf27e2d4ab796aacece17945372339fb3cea084ec71af62bb5fdb4216b2559bfc1307742ba9d89ad32e8b2c8debe2d41b586038a3efce32cba89a4cab073a89624f2c76adcf4c93bc9a01565af1d2241cd041ae7e38eeacc85554684742fa45080a6d81a4344d5ce67cf2dcb990d69c20aec5841732f4688dcec813a345f8d495fb628c2343ec6e6ff42daef59b87e0b6993aecb4755927b641b8da0fcb3edac3d14419daa12d9c314f85a5bed52cd907f7aa024edc46ca0bf454381f83d8e4231b72b5f90c07ac39ac500f34c18276fd0c8c3eca051a955c2ca8405decf60ecfddae1ef452d137a7a16ba35f72c4e6418d78cd3af99691111d310f30180808b4526bb35e1c2d55646e262efb75626e672b574271feafcb8d5a67441285e577d90569fda6053186ba776bd78be3fc5d67c254e6fbdb93f4e270093861c76d7bd405acada9a72c3d8985f929f55309e2be2617f1b113861ee6abb0b1d3918abc8e1a967cfc5e288e0bd6b0b3ef1d8b2e35fd91e469cae7b79fea5b9ec3d3e61f3ca77297c948b3da2984c6829bab5529a50f24139ae239f96bb704ac76ec070b92579e8a42297b65807cae995b382c0fdf14c94fb06e0723ac627dfa544cbad25ce3f20477f40b17c3af57955127bffaef60c9eded2af7eab084b4dc1b6d89a9a20cdcc5ed12f6af6278f5980ab511ec0f8a12e2d18c4eefe2f480e7f02e4e2cfe2d94884ccdfc29a8d8755b299db0b1a447cc3627579316f40d0742d5b95a7138adad7dcb7e3c51ea29e44e035dc9b200865f623ef66e2dabcf31ef7ca224112a3198647278226f63d5ae0d559ad49055ad2d103b01ac84d9481b5931c1fb87dce5f3d75a45d32a2ce05009e8af897ddb8dc1b0a294d35cc9a7491c4e6dfd4b3cc1ddb1332475c29d27876abb15dacefb4a6f193d21c5132327139284839cc582ae88cef8303bf8ed6bdbaf12a3d259831b8f92876d12f4e9e9b6f942874a3dc189af40b4887aa254e644f2a48cf60a025a92158a260dfbaa380c7b433864d85dce4e6a172c4ed5a32d116e05710de5521533eb03cd352a25aea452e533a157d3112273d89f32717bc455d55e16e988924d830a26b0f6cbd5aeb3f87bceeb4f9a9bd9735b44b84f3356543f6ce9184e5aac452bb539e29757a146e53eedd926936059a069132896f0d41f1a66750d12f5947c052a9ea1733982c8211bad9bbe4e6436339867a21e89202f0236e30baf42c0d401944bb3e3c47ac646d7e42fccc8ea6980bfa7122d1f3f28af3eb72d5ed03e517a2f7541f00ace2febc8437a4e6f48ca02c39855cf034789e581da1968dc0960c3dd2ad8932bc40c86305bffbace8e63342004aed7b0f778856c99fcb3869a5fa78c318f87a0ff8c922cc8479248ae461e76bad4d4365686ce0207aa90eb9294a551679b9afb3d5ec52a731ea0574f5209fecdbf4fbc0381fd3079d0cae27545077fc567969642bb28b4a3b189dbf97bb232006bed60dba72957df37a8c3d9fc13beac335d87a983c347b553692371d55f0f248efd1404b26b5080abc3c24edfa849921e676fc41e2dcd1377f9b6c4a0360d4c2b8e7bf30c55a613a31d8b270dc6c506f9a967271f408345560035f2ee10d96ab7e853c0098e8c5ea8207e13aec5abfbca0f8dbe964659e94e36343020b5a2c2fd06a4382383f85bc11c809bfcf101e4d2a1e9f23c6bf713f686ba0fea38274a096f6f1b6ef53a00b799ce386cf1b0760f832dfa64a7acc5aa156bb1d372666c3eabaa01b60abb5b21964cb0557e2f44b13bc13574b21c77572c1986491ec3a8870f89e412f68674fd2fb02323d7e8d0508b27f0838e224e4e7ab12266ab85c06845472ab51a66f84d7275cfa5babf4d7acfedfd8b80cf3ff88624df20acfbd51c8d19b5952fbf51e931171e49ed28dd67c9461e092ec6fba93edf3d0d47655a8e4ee8a4398451c1d8add7082cd60478a771489814a1185b4d08d2ce3a372796c2a28144ae7b92f3cc88d6273f82878870ea3838a29b32341389e7e161c884bb3b9058f6a5926df954a3f0e441c4fdce27f3eeb7c9de87b51dccb555c5009809249f3f516eafbb92736dfb693ed097c6d9d4128b77214f857190c2c2854a0c7ef38886f6d4011bf81b6cf41dafd19a333ea91f21dac06a9270dda9b5e083843f9d56164a1844fefff048962c1ddbfe4292c0ac99c3ed33caf72cee1aa8f1de64b37e5d8d6d7bbee9302b6489cbed5fca83236a7eb4ee63aa7ee6e54a4c66b75a02010a28c57e1720ac5e645e22f819411f7671e6e4b459427fe889315b090b302b94ae890baedea40c2c0a05211a21b1913fccce58140fce8416d365adea547ee2743539efaba047b0009885ad2bb218701b510aca45ab3c1e7fdf3234555d5f7257e3e0b38c8c89f3728f97ec886204b220a51ae6e475de43044816ba931b8ab3102aef5794243b8444726529bdd2adaa2f912b15337aadf321fbc7b19b931829e237fd3fba37cb10a1a361e9b283e097da7e557d73aadff0c0141545cd8ab90e01ab73b9af547d8714650f3d017929ed67b035fc98157b42d5921dcdae44cdf93260d6def569fcb8e93ff3ac4fc6efba48ecb199d4d1d4beb78ea6d22c122bfb058db5b1167c0bd94d11ee0bdbc73d06c148611603f2f4003454d4ae1ba255ea892eeb72a96a2681ba274239fd37984b5814549a48059b39a5a6e7070132e5f416047a7f51521ff45b2a1d2e26b2f2a2d3fca606948bc7dbfb1b0a8579b9a9013b6fb9a891bba59e8dfa92dbab60e76001429741b2d63d1aba5861d070c2a83dbec712cd09384e26e2fb6c69c54404f2594167a1c83201af2126c77f9243074604c5cb2dc9e553d2b327e37979011ccbc6dd0cf70699cfe456ea1142b93028fa89b6ef5b2c307d732da95d35819076cadee0641c567c696be1b8f60bd83d7c1e33b19987ff38fab83f83c82746f4aaecd4d2ef79f04d3aac2db8809fe1ae3e35faf0e50425c2121cfec6bbbd7b5269f91e7235cc94485d23f9a019ff65104e21b74c8e940767eac752090c62f3536b143786d3c40954c356e619721dfca2333b424655358e387cdc0c4ed634e9e55eb0816c215eb29d6108ac10afa9ca03129f48ce8ef338c42eea8e166a5db42d6c7be2711ca80c97d8a546b024e0acd6106304cf6431f30f3b9f5a789c4e737921587db4f46ac397afff8e44a4d3c18c4431fc202684491e07b3c6ce8692a0ec5d4868a274d23307e914d2aaabd1fd44b9bab827cbabf72cc0481c8272e1f141ca372b1ac57cedfcf035393bf44f22561b61330251526094b00d705cd50059634b8a6a1c5c85aa37069630b917a25181841b9728c241772ac6aeb748230806bafc71482cc5299e04f89304e5ee6c897fce08eb1c9e77012e414438b5824cf9a26b3361444a49b467ad6ad9b582d004bbe167111e5b6842024dddc940d74292c843d5eca3b970e471012e326cb9d76949d26ad03e3f5657efec700b40c072dbbc0bafc7cf4a684d0e85d4a6cef420067e5d7b71eb52cd01f30925fdd300dad83fa2dff049564d122a0b1aaef1d89fbb42c63cf57cc68ae7d7fe88989bd2b027e6473d9cbeaf5d25558cede8ac9af8c0f75c3b2a4dad401a2ef1f105ca6c2cccb6c34bf289b3581c52a3158d75a341f36b040b48fc93dd370ad0dd71749f956edcebd88b6036e5863ec210cca693846fcd130cc08dcb25919d0bfc9f90b7ab257ab9cbd3bf4f3424f20ce79644f92300fcaf8f7b5c26076dc55a1942b011cd3224afce491a7c4d8ae2ca66bd15174669ea1954d3bbce134f66801826aa0aff53d966ca558819c16df2513375ba395654779103b01878fbf1f94a2023937baa26d4e09b5633d03953657ae20df101e29e3af5ae7b3b937b56cb653b615b9741387adc1d857c87514230e69dce3cb20dd0c23509b0c1ebc81d1612c1714a4ac2184044ee5cd99efbb7806333e4bc29663541b05eaf107aec4d6f07d1aeb389e43c18cb3b6922529b3abff3a8c8df35c13633156906249a1c379bd77fe2a5bcf6e1731ba8bf1de8e18680eb07ee18626c70a0c3ad9a5f89f30d56e7a6c4d5a3bec5049e58711a559a4016e50a3ce768524288e0d12c55c8363af0460f0e5c56175c55bc10df4ec99efb6b9002d109dfc9f8c49aca46e5cc427fe1f6d77faf588c668124c758f49410ef0546f41d940777878058917aaee0edf9faed5b4b0dbc9f4af499617e098489f44b0c02c34c7b40eb6791637bf809f694f46507494d5b750424d96cde2e4e708d5d51b4b1eb46cb2e4a5dbc81d9f99d91866eec95a449f3f3c12a826816cdfa8dd7aaa307e519decb2546b1a1f4bcf0cfc928e618deb396a60a77c0e8df7a75ca855872a5d016b0c4d018407aba0e12ec73f933cecd69c8b066a496dc542a3cc4de391a1f9439c99844feb562fb755f01c811eca674977a5ee814ac8a598ea6412e081d62fccb9906548b0cde3320365fba0d07401dda50739eee5cd4663a842a19ddb5cba5ba6f0417e5a74a5e1390e5ac4a39987543625a778b17b771e2c39dc3eca41d7b7bc25b943fbc9c15e0a67570e4c7f355402ab6b6ecdccb8d23e49d64745534595c5b6cc305be70a83413d081e26ebff111031b64bc665812cf6a775bd89fe93900ce8508cb25413e6648005fccaaa8041ac11ece09d7136a6ddaed611399333eedf89e0fa2dc6538a6614e586e9a830b869f760bd8e60d90fc391364cf89c3802626ae7212311149fb023cf562e05ad04ab0cc13c2355e7cd97e12cc81f92b97190b9a634cdf1f46c9c9f5e2a231b6541b852e989090fbbaac0b7ae5fe773c52a19b1a40bda4d0de4f6c52431eaa59725b553eaf238d8bac9e1574184b16e0f5e7d93ef001d66bec0020d2018dce487468da5612efc6878b2abb9da283bb05bba4dc831936057a29a9466f846bf8ba4ae87ba0ea146c3556bd1bf2a0f279cfecb6f5beefba65cce158634bf1f7f331488d84d05a8f63ade1a4dd54c8bc1d491825ace05ced3d655eb370f9ad106254296629517e3c4cf32b04a949d85ec9a107366750ac3622c10c9e485e3d71b0b7054e41fd512d408b714c550d201d35d945a585cbac1629f3bc099e1154fdf7368070be0f4290019219792d5defa42879d7376f1cbf01b17d5b0d510c2204eaf489b22cb09b4874c0fac3cdb16014af7075313ef362559505264f02ef01d2c16c016427daca73a72c5541c7ccd3e7475328f8242a5aeb029e981736c274f48649fe69a77841c0d41e34a96df1442ad5549b76084d0a2e9e2e9c3c4af28f5fe66131f9b1d22fc29ad90404fa4b0087b31a0000ba64d489c3cbc126f130b4f1af76b3850e2353f9f382a6fe30458d67a562695303e33eeafe0635f9fa88c60a00fdf29e455c48282e292661d8df64ee5909bcf3651ca6180a36b02bd2b3ac16f660a4065d3fc01bc590cc666deaed1eecc846d86a8228d7e5ce6d9fd84db237e9605a2f4645e81fde88d4f07e2ff14c928c5192a897676da62effec4a5a8c781ebe9e20e01b57d980dc5dcb3e89baecb103e48f40e6b64e144531559c6c47b020f568372477bcb5f26bb4255d29f32dd6d7793dd108a45ea6a057c2e5b20cc4a698a61f834a65d3eecd1780a4aee693827ac15427c957cfaa3f7e5f1813fb02ef03453bd77a6d96d36a03d82d4d998626874ae46f857f7b16b48b65a7bd9786f3cfd3c05818a685ba09db082ff07496be55cecd6b64c5059e0be8d698027f623fbeed5215edf763eafa4808c170294b5a788bd184a8b90142fb6523f12886c9682b0c7de602efb893c43f8be8f828a4f7347219765eed6ff0b90d42e5fc5cf1b2d6e45388bdf45b079d8a6bddc14c9bf7730b07405b17559e74a50d3c478ae8f12925ee70ef0b3715a0d73568483c59084f18291d5d9285fbc5d369dba8a2c37440edb754e4276ac9a7ba67b723c2e76452e64a8333480ba327180ba85ee8f6fb08ff3da0847e70cca2cc08b657e52ef9a46376266e3361e3da492b9846ee202b9a7195e1fbf3a5d2c4fbf7a17a264eeb1d41cc23b405b44510b59a91c4c0e4ed8c8355d14973589eeda2a8df1cee51540fb0850a089f5b42b8cd87984af8ca97cf486e05704d5e20e1aef7726e46f7bd543cb8b01d9a8f4fb12dbbb35fcba2fadf020f234efbf09373ca0208d3fc2236b73f17379605729e968d48627acbdbbe15f2fad686a0bd9bb34c2a54e3599b53e8d08a1ab365f478b5349c04df444fe390cbfeed8ea43a88b8ac8aa7f2ad6e07e19b2465a65c2b0a51366e4b1810b81a64d1d7b6186d687f20f4af0f275a78d412bbad2eda5539916e6a144fcb7abc4e08828a68763a4e339be73aba63c4cf6f9f9b287f92c7873b84752dde01de53a18e8c5fd6736d6a283f08a8b5d99d9f1ef7163cf6367d589927e4ef721683a11fc8b406289a73ff8f230be44eb5c3cdafd3afccdd5a2a53b5b1b7c3bfb5b62d9a1d7a44c83879f7d25fb32fc711760d7b9cf07bb66805bdf84f82d366ed22f0981a2de39b6bf25b2c5350520dc7a6edb1b3b3999024d26f4bd0bff3c228c7927636edee7a0dd1aabe8e18f0efceedb036749287cbe3a8cf3dc1453a776a3c695e0f2ccbd92d1c1177a9869a89b346cca68afa4a07f77153616e73f69817dfdb5eacd7dee5daba3da6d8d57d603585827c460044cadfb9d3019db751868940b80b0c35a791806cbf20cf79c887326084ec525fa131967d4e3945fc2a3963d150b6d0c20524155fcc3131e64ff9c05aa33638875e6139e6d4caeb802c73ae3e2e8d9a0cbe68f0630be4682caae6b6440607d6e93d4c87d5b5fdb998ef8b2771bef71dcd78d3815e1a0206c68d4a46d80715753ade06a4254b07f1292ee39b348a5f2d08f38f7c895eb16bc819d6192c64df29304cde8231932269ea0639911cd92252602a1f5b12512122b6098033cc23571952bca93e605e7de4e796483e05ce39d9dc385b66bf0e53faa83a2d25968d29bc84c1b5b1fcc33ccb4fb78601c42c0fbcdfe5a9a24bbc5e247bbb20112ae768422cdbef205f71d80c4c3588db67aa99d7220e8fcbb5cb835051d630f775d0ca60db562785d6a9fe60955a961bed52a92bd112ba7c4c6e9d441c41cad32a61d133d062fb62393198448abbcdff76f8ead3c3591770e5d922751d5b1bd8ba1a8e7837d818c149b93d751c938f4ec348dc9591458a44b2eabc5f19b588b5c7bf6e24b7b94f78c620c39874dd554aceddc655df9d1432d4aaafd9d9dc13d10c23edbbabab2ff0c6d279d576abe8326ecdea36a6ca9e77f8b859e18e09a69f7cc3fa6f894515824063250d9d5910361271521f8a27b1e549717927079eeb004f01ee7ee941011b8af9321156d03b0afd6ddc897b67eb40b7518971cdcfad941302dc816c92a23e71cd7cabb9e89887fb47902e414dd7a4029657eafac0620721aee60b69d6a58d3d6c8f59ed3a64e65480101ad75e75d5dacfb5483ef20a389ccc800996bf655d3cc058ec82bef36f23b506377bc9d1687739cb8dd1b405b3b97c59dea75834035b6aeabc4fff88b059d10be50e0f458caa4eeb657ee6b1353c60cc36f2d4bbf4de701f83bb1f36fe68a2e7392e18b666c72c00b17ef5ab7eba0650f72e4cf19f8b9a216bb684ef2bfb79fec0fcbb6cb524e1a9b6a3c15c3980700ded7f3bb04d2a83847a9b31e1005ef740fbf2efaeed6b75b42ba19870f8b9c1074ff5246e98bfb37bb43280bcdbe6c7a23eec96f5c554210c12725b3796cbda84010e539ce89687c413be5653ae74225947b956f6e436a018967c1840c3e60153188eae3f12f789de7263b7eb75d234a1dfe7cd6407f5f92c5f55ab2320e1757ac42eae64407df73dc2f06ead6b777be1cf6b790acede467dbac5870cd5e992c086318a56018f896433507b2be50179d54a98a761500ae0fc5d09321cb95df4f99f9a2b59196287ee74f6fce7f2cf6004bf93bd6533c43007951b15d44258f5026e4e7a97fbc1ebac4c069b7b78e4ae1abdc93b9a44df5c4908d597f32a3224954dc1c0a24eb838edad360eaa6f2af829c19f56bca8f4ecdcdc212fa2943ee71c1ef37f8d0d3886406910b010be774998ef9d7ec08142a4c4d2430ed11c963f1ee5485090d2503f1f1e024634ee861c65847826b24fe9e23122432de27fe0109223361e4dc4ee3d5a39cb17bc04d9681395addd396586c2e9e96bc75436782722005c62d28f6e330b6e747627a39451cf9d47a15951a91129f8016aa8e97c341fa38c72975bab98041d6d5729b489902255c0fa42724db8f54a6c5a89f1e49ba90b9df3eab31e6e0c2311f953f9c7d403bf7612cf8c7765ec6bc5a76226cebb989b0e124404161c8ce21715e2eefe6ae9cdbe8a80b6240f4085b512ab5e58bca549dcf4d08d9c02d676dcf9379bde031d718c30aa9a01603c68ca2f9bfcaec28cd1956fa1b8ea970bd392d1cf66842c75c772bf347c74d8aed2a41e949894fd115d47bac13f34f70095e97b36f6a53d4ea4d360da9414331ac76359528a3d7058d63a8e0553f91744ea249e9513d73d85a50e3d85d9eb3be18d7f03a8afac1ff79ec03e90c5ff02a49dd6bbf8fd61d2b0407ca6ac4ceef96da78c8cba7380d383b86bb1a2b580bde2353307cdab82c91508d55cc2a0ab641c93296ec418f2f98d0800db25ff3cb8640d254009be18ab3d5434e5a82aea5a4b119e60f3ac60f56f4adb101f6eca863dbda00ca0182fe2e38fa0f9990025e5a9ef902c21633c64c12d2fd08057a52fb396adc6778a00e4ee847fb7058f6e5f9b9fb2454d6c91b4521e1508e7fff967c052280c348784513b82bb768b7b1447b5170be602fa14c90f2bc58410a1a314b98e5c600aaa5c8d97f93155c176b46e9dc75364cd34ca2bfb8a12cab46a74895250a040aad7a1d284140997836c5ecc95b4fa1c05c3f13b85a23c4ac9c1d3e4af35da25056d4913b41bbd3dc58432e9faa6c42467d7cc0ada3fc7af79631dd5392bce635420ee2f5ed19ccf825253666e9d2c2602d3e6b63feb819df8d44a9bae6940534f4cd757166191eef23f015b648791cbd7be587f4e2abfaa86304f2988a6243aa797afb8ba3ac33b194b9fa82c38aefa86d29b46492cdb28d77bcf9f70048867c9aeb19044671956e5de18ad8178f8efa88644a1f0cece97b22d8f07c90bc484658da137909c161cb64c9fca7fa7852874cfeef1740fe9b3b67c2f7221b85693f58813bd108bfc693a75129bc1f4a0db3402d03279657ee67868ea5846f39651990de50017e803c5073a62357eb8c15756e17372f16aedb6446cb37fab2f12c299b5d512978e780ffe161f2650b7ade7dea08112d1f6437a9c4ae58674affff34bfeeb94cb4028f08b6463b7b8d323d0374b55e2e7f23d49487ff95d17d2efc92ac3228ca4904f27ba2846b6700f800cd54c345e7180b9be56b8cee3245ff32e36792a2c9f7fb838eadf3237e34400a754e76210d87ecbc996c9511d3e65fbd09d5c540bd583734ba3aab30f2f82f2630611afc8b7257ef52c8972c3433888e9a4d078243f25d96d01ec260cb4f810c0bf2f8eb9a5f76c8711cd4cabe6266f76d075f1f442c8affb4f7d8be20703020faab4b8eab3d30f1191b5e1e415747ede8d9eea7054c7036470d67dd780b0eac3149a8488f82301212277a10dd9cff016d2ddad3f81c256197572536dc06b97c58b40c6caa301a136333cb54568bc8fd7e4d8f511a5cca33b6e91e7e61fb2b142fac366c2a86bf84c35c6fe10bd6b17619e4ce541c12e6e03277989c9eee5e6277c25a76f3227363b26dce7f5b23fcb6d3c51b807d332bd45a99621c0c69d0a5530cdb2f33b2bc87c19c748cf549b1a35dcc625f2ae5f1a15e8ae6a0ace018df58ea46ef18794978dbf9a25bf1bb184ee55be9d2f8e00135095252fa452d564ebdd9fc9262343bf30a12cb18761e319d6d052b2ebf9cdaf7e4009e36e89acfe48234ae6c26b7478712b3b9cfeb8d95b69a7b47fa2b5deea67de6dceb594d94ed261acac09698e882f4cc9eb7ac07db30cae510950623b8c270d3902527a2e4015782022c99541b4a9fbb732470879359ca2a8a7a04c2d99b1f0898bca8345d41679eefe9129f29835652aec0c78aea2349225bf706c9da67b48ee2a00d8a4ae712fa4b363c8bd2a5ecb8669c158c684d10e59979e92222e467d598bfe777ab49da2607810c8f0650e1aa64f612c800625e52d1a0bf580f0a4354465c100a1e03fbadca11f0dbfc5343a2bd820a485d698b6a1f9e6d66975b3fc97ad6448977621ca50aca973ca03d77e1f868503e38fe9fcfcc181b3477efee512c6dea2fb562437b521207345037749bb0a6033096a00fe75aaeb7f1644c39f3e7b7de4d9ef1320c5161f1044930ea51f4019acea20146e93df73a94b0b76244b24b64f4bc6077094ae62d22ef312c5800942fe95ae8c68dfe33269d0efbfecf6122c64ec5e80df573e2ecf6cd9a0f309df032c4ce0c43948117615749921ffeaf8c000bf593cb82a4c55931d1647e5bdb3883b59f4a2f096e08f678b67a360149f2151f539eccf7697afb62024e7c81261bec28e98acb6d17a7c94f3c297b7b6edf69aed71c8c17f208385e6b08f865ea190f67718f3670bb34a5b025fc3b3fef8b83dd453e8faa395e65580a63b4ab8603291738a6dacc2f65cbb4999827ca71eacc2fd8fafb2d447188eaa7f363214ddcbd58513ea26073c4f1d0f49aea9238e45705e33bd53cd2abcdb5e7b6d68de3f4fdd3de64bcae6472d648c83153fbe936fb1fe9b8769f17efa83c269b6af00252c86c3387254f1e9fb0b5d240afaa309613c9c5eca80d5ca322768eec6440db1907d0f092d83dd2f1a402e2da58eade82f2e54f5f04e5458b4c8f117db434ea9cbd51d51bb356cb397732181fd16df24b459d6bf5b9652be539b978b1cf2108fcf3fdf387c2719965ae09535ebc6a2a311dbda12f881838f868f33912688df874301088df2578657eb08c35f3632bc4702fb097d8c44c479661c747e3873eec4a576b4bd7181e5a5fe97f99e1b0b0735236335de31b880117f0174afd38a1dd0eea683f9671cbd3ec8b66cdf0fce643c6078fc21cd0ef69cc9a2b1dc319f8ef1ed22bc78a82839191743b316d3994c71362b3a38bc0a2900c6921688f63e0cbda0d56eed14fff7f70547b60516ae818b47efc09532600666a2f5eee011aa98bf7308cac38ef7975a9b0c1853381d72bd4c4fa3f54c1f0280aeeab9e0985999bb1dc4da7627b3f6b8e09ac875d2e4528f83c5fb502c7a263d7aaed4c30565464120d4d02028d6810e29141a36d5ccfa1ac211d9c608e420815a9bfc8a0eff463e44a7d085f7ad2b8c3efecce05d1988fdf7af258a1b9e074e1e75024bc89d4c86f2622f9d4bb0a9fcc874cfe3f15425dde90bf7bcf7b8b8f60fc1eb5d7392051f9122477dd10046b36bcc4196b426e7758c0a15e4e4461252b480045ab36ed216eed49ea18734910c8a8fd8a6f6b3490479f5d9c0248a342ece3a9aa11381778dcb7aedcee148ed7bdc807815568c514e8cb093e273ccfd68fc5860ebe227108b413c46012e98e8790623d3751a255a8b54b6c2bdf04c3208abebaa0ead6b944361b96ef7d8db6d4eb90da6077cd78a8440752784f9bb081ca93cdd5035164a3142647adb572f375e29b41919785b1fe1f2a4fe16e58ceceeff63c9f1f4c13a3bdac5468e6b2a055db6dc8d3f11e69873dca108f0b86538707f5d6e6368c2b8b5d16351d3ae150919a65a2294636391d2b51c881b5543111906203bc995fa2a7b41af3f7976582e22f7576bbb90c692060e2966ddeff384398dce5564f9d87e96050ecb309cb11cde20fbe6a7033cb2c2285d817c4fde3088f140a3ac7c6a36343ebed97d530c30b8aa0c7a33c3557ac22ba5b44dc630946011181f8d2878439edf624c48bb5a6c2427b67fcbda83c18916b0b19749d9d19d3f5124bbc708b49389876cd2cef8dfa5deac758194d9aea5e9f6139e6cb8d4b842b4e33caa9661119d4e6346e6ec864c1502531fa2d6237b12c03c8f79a7002912ff35ffabd59553a9c8ad0f127b9e2f37bb6ede60b82effb12ffd77240b93bc5069a41462138ab1f7fb3114741e52fa32747dd7bd9e5fd649dced11ff2feeb416a21ee6b8b12a7741ef3c6380f0a14adee1b2c78d1a69b4df69731ebc38fe410611078b422b1faba379d5baf1cdd52b171c8f062db32016c22dcb38523ed40d799341f0eba8a9c185423f6fe7f9b9afbedb61dd362b31154c353b2c938d0d658e0e17060fe3ac1e92a358c7d674b62a81cb5ca80062747d5f6588196315081a82c6a4420a93b7e59ba336953fc380d70990a3424b5fe5516994eaaa8298391cdec74661b2ef4502ff3f2791b9d0463600562cec0977a064a89cc2bac701690c932bbf6adb395b46f920a5f0acc17c9db3f554bbb5a0fef88197e9ea97f65b2e2341c3f96516cb3452d2c8548057ff80c6d8c23b2a94033bba97e1d741d142236ec01684d8780aa94a362b50d8a54e07903eacf7331e5a3158190e53e88d9391cd8fb1c95176d0acf7bdf7a6471cc12aeea085ba21a8baed5e0d1a43d1c725b629a5c77f8aa27d76c37e274a25ec0cc88cc427637fbd4494a0dac7ce7d81830fe86d576054735382d43602dd23067965e827cbf6a00d249a494fa62cb43dfefb091ad7214cc5a4317366fb6044fd3a68e586b461ab73cc2028f0e61fded0d64e9ed28df85827d971be84531153a100388740918659586f5983d2a9e3b684eb158157f04a35a3588b13a524f302f7685d9cf13f88677b61e10d7e61fd977cd0b0c01faf87c22a57cc1f9fc8a6a985b69f1852d1d368f5820351a65bdf220b6862fee4559a35a20e8238098f289e7bd40a34b5dabe66686fa8fa70fb09e192ad8f0c462f0579c44bbb56f18d74466444d57c9c31e73b3084afd14f0e5b2d8c6fa410967176606aab62301fb407f638b73420e1892d0733b0c3085efbe66a1b5f1447931f5fce0c2da0f1d6e90b33eafd7275d8b7868605dabfa11db60436088db41e51d3956ec523e06dd9727dfb80f9b23b662f86a0ce0d3711b0d9a4f442b2e99d77a2ffafde1cf74e6495bbcd3db345327ab879930290e602b59d148ed49d83680c02a71df71c8cce7af7dfa5979377e77ccc2a7f2a7a9d3f8a59fd1363295eb0559f4cd006bd0156f10f1d7ea116bfd29d2310d236c5bb861cc2cd0c4eae278a577a5389422e396712dcb3efb0b5b19a4eff7e2f6d3fe70b0773dc0dc5c65c539729aa49b7d0f1e6e971796f0a6bd377f489d6a2a42b36b5244c284abe861ca1c30a1c2f823931f3092c19cfa85a4c4235403ef3d509851d670a12173e93cebcfa65856d3daf71b92b8542e3bee5b3a3a9c2b84dc3feed993b67d72b77b5bc0af6f3f5089c757cf381f33e9058a94f4bd67a57d55596361ce6b7ef581aee721920399ad7fe48ff148712123291ce3a2af4871ccd1adca065a8a4c00547df6aa256aa8e0dd2db6d11ac32697e1f6b5e198f1a3b8c15e2491057857f4fa6287687cf2fdcf05a47660152bb7a3c9431020c725c727cbc4c7e66fb669e7874ed92da8fcc32684ef5455714a9dab723d297dc6a3604ebe7b49f1ee9c612420fbd7508710d4161eb4eb9775ec29ce779df516588dd3b8101db3c07c6d2d2158e9cedf1f0a28a8d7187686bf775f3c6503e0bbaa9e5f4cb20a66e9b67c79ee0f25233ec8f38034f984eb6df641f87f63f1906524f3059d10c1c376f5d266a88c0a29f733339b55ab1a8b12ddb257e62757e9e209edf72fbad2abce7acceb98df6e8f61fcd453cb474e8fca40c42616038725260f5d3a41b62fd9739fa35589117f032b587ea526fcf76391441b56b9ffb73d6dcf2f900314302d3ab740e1e434173f1105a0304fab3ee01094203da6509cbf2cbf16c221d0090454dee0c5bfbdd6afbdf00e7ea78e9db66f313aa23b8c403d27e22a461e931ab7ac9606bffef35056c712c1e38717c67e1de3f08661f5f477eb60ae63269a7eaf8cd32721dde7ea474c8e2a75370607197bc9a19bd3476fff969c8abe5b81b9235abb126057d3f8382cb3108d6953988a8a0d041874027b0e7e94d6cc37d52e1d23143e8e71f955edf111901d29dd39396a929b81414fc7e9eaf34c4b61b164b50f67c3fc06025a30bf8942784755d33f23cf77e161d2922606d940932fbbb22c3b0232df97f6d85cd640fafee50fca08debaf27a96e4f572815e17a41bca14ff94c25234bc645ee45cda541c4cc982867f2996cba6d1fe822d379c363d8b214f8a3152f353b472b3fc125aee598522791be4323950205b2f9af2ec4743a12b99163c5340ab053aa4119b51499434cb6b0383a6e75256822d8a1512b6a39c9b1ce54e1f6d2e78e9a52fb05108c4c858437c26d0baabd97a1e0013f2b2542603106396f159931ee4297f65844e05a38de85b26e00be8c29b26976c0e6e3e61afd67ddaeaf85b7141bfd8fca7b7a5d32bb1cf5c1fb256ccee48c5a6c9d38d9d4457badac828fa3419b49c122ffdc2d55fbf83add0458e91d2e5adf6c1da47423e97be280e6ba2bfffcf3b64bed892c44e522a571e7deaad5fa8f75a0be4240812e8c41b5d8f2aa0d12f40e8e65e8daa932f76947e376e7e4a95fde212bebbf2d4384fb3d92b7ba6480128682662b0411b7ae699e103f10a5647cbba563e0c0dfacebabdc5cc5f585a5b8484b2c8a1047bfe018ee8d8a6ee26282610a65a28ffd269c153237b71df0034d5180dfc193151533400d0a31180e0c34d12d8e6f709d4d3dcf0f0196ca159635bb29411d0a49a4bc98f1ac1f5335d85c9e8e20d580be1dd9e2c79f642a6415f8cbde320e916b1fbfa01ca53b723f5b8786d1ae6e5b91207ad72ee7c45d94be938bb8f0b2976950b575c0755d8fc593bd16066f5a8f220da0f3afeaed09af9335752e625254a78eba76bb020e1988fe119abb2e59bfbaca916d45402765224e10c30add6b66e1db8c7fc5454a86639c8e765d2afd38e20c68465bf6e0ff74b859d76eab574304c470ae626df416d66a5e1ee6a82a85d4c1f99f367f6cc8c387eabfe36831ed777a2c830fe310114544170f8fb1c7ec116436ba409f107c56d48cff6b90b76b2cf002555d0883110ab7d9fd9515546ebbb9f2ebea9ce7e67fca113ea7f6606700c5625df926f56eb6fcc151c51e316920be351940329cae8d934ef406a98fd9b00d97ef1f66d1d17f89322fef7d5cb2ddc9f2db2e8596a727c8193f58b3cf28fb140571957d0136f7eaaa07f71e48979279862da52a9238567425635fbce86b7a8eacae696d45fa4261a4e29152eec2b4e7e0beaa3580be2ff3c73edbe17b45a6a2de587c98532e93706e0a9e322154988201893d881b463a9c9d8c5667021eada2b16f996f1e1165685a7693ce98af2d3d1517745f9bf0cdc543750b5fc373a349fe318db4de19b97faf03fd1c1375513baa37d45c7b53be994f1e1e460041ba07acf78e9c58028ca4d07905fe3e90c4b3513ef2a0e11b7c1e4f3d44825fb3d4cd6c6b97d91971dce360083b3385fc897bd03164c764280898c36ce7187cde5ef0d92bda1d11e833b7d3387b17db9e55d379305ba2172231c330be1a02dd283729a260161111b289be636be669fbd2ca037fdf79f452d739081f311a357b3d9375d1838c3f2a509abba87a00c33f6d52ef75a72472407988b834fc7aba5f0de4a0b69342782185dd1bb6149b1811eea0a25ffe979bce6ed7cf5a6cf9e33614559244b6f2fde87afa8ce572351d4ef91055c43b38dd86007e7b8f66c3fb6886b7128e8a1a5e606372d1b930ed1e328e776474facbab834b51c098dbb305d9a6b3659f216867e7c41221873c10196c0ba02d0d9538d3aefd873e3f4a4997d8b6f07cf36370ef83c68094ba0fef66380e022d13e071d2e64ab707faa42d8c5d7e63e2509a601818d7d5b935ca475c561c97bb38cfa098fc4fbad3132d7f690f17ad85c374ec954f1657414c9f5845a4dd3c592ad5bc6a105af0ad57a4e6ab59baf8e561d8449f1f9032b0b5356c177f246f4d79283e93beb3e44024018ae54c9824bf7835e02059027d3dd5c41a93173cde1b9c55691b929fe81fd964487edf2d150e2e75e5526866b98de992f832ea5e58ae49bf85a279806ef510b1b1b5d8a27c6018cd883a67f6cfa55f35f0d1b86d7a98a4763cf7998504bca508d32e0ba25dbb264fe45d47a6225ac528242b4f71906906dc869d63a014bb94433cd9a3db4951e86e7f7f437f46eb4286e585f3f0dd30d577fbcd161275d3c3aae6bfb97da9bc61fe119c89ae7888ac244a40f53a20887cf119d45cfa88a26760044d661f0fed87781e73de9ca7526f05e9a4897a63a2d5ca8010d8e6125e7970fc637a27f93119c2f0db7055de9de640148320d0f8e96714be7ff7539f4b123dd5165c7f5d6808780341a5d0af7be79cb2e74487a27f3a2632eb07a51c8f79a79ca1d38e279207868fdecd4e6a4de4d8d52dd3678830816e64011b47db4d682a434b79c9e0f6923d73a465f999c3b84ac33081dd97c416e09ee4fadad14d74f87e94e153c5564821549b44c4e0ea7fd1ba3b856f4ffb3080acb91f8e7b04047d7e4fab8232d338fc0513b8bce833f06557f1cc44e152f6e46f9654cae1632a0931e25c78455db8d5a86de99355b16a80dac4cd580e251611c9e7a1f2da494556172db8809a8e58a0cb3a708767fa0c0fc9577869d5ea3c5494bac0dab567f564dfd53348200e6bdcd7b70ddaffa8e8c1a0039c7b026ac2de91e4041e0fbeb8e3da580fd65af83518814cb5e2b7619136a813b805f2706196004c77f3042ddb132b8090b08cc197424c22e6ee3b9c2d5a91a7522a89a1e781c62dfe096e1f4799445ede237c807e9bdd36983142643c4c3c931315e7c2dcd8ebb5ef6b1e8f29c16364228f7541bafb4536549aed35cb4074cc208bd5ff8440137ad1009d336498a25fe349fa02fa198ef155d2534e4daa959ea5aa94c24f9a77df10b38ab4dd2b79137ff09bca7505884ba79ea5e162198fdaf0419d307111832e10983807e42ecf90e0062d399e5722183eab00538d23bc38278c780b02872e99b72d2dfd2f8a282fa4d8b1ceab1daea5279c73149fb13116726404b42b10c7be9fe241941c332542c66d809328f8d5aa19c9e6ccb0a7d8950ef2b827c16c631761d8226f658c6c2c8e386aae528f348371b6a386ac70c15d2c548192755f2171a18e6ef34bbf640dfda8ac4853114842196b4d1db14aa3c75666321484f0b7f8800f747f853aae720d483c86d604f5484127276d3733801857f98cb506a2b48a08d0241f1089def8a31f26122b4852e8acf5d2ff72c3080be7cf7013506997b7e538349139c13d0fb63bfb3e054b580464944c71bfd7018c6100b71e684077afd6d4269ed098e0be378faf2936ae1933a0ae46c10f1247ef37324c46ecd7e18a50df5fe3f567da7d721f29bdfe4f437715a0b19d9df4e2f9a53fa7331fae686e66d500ba26a2f76857cb27fbe17bb28b3c8c95f164e80d8ed5c898132c5082c135c07c115a65bc59564707392a29f82d8dfd1136d3230a0cdff9ec72bb3a0fca669bbc4337967c21f4c083e3920d0ddc08c2c6ea98fc74f00f5d808159a6698ee5d6a0f11aaba49733db15da1de116e252c88857a954bdab120dc62bcd87fd774d67f447fdd6d781208c54ec4ee1ee4dae37049dbec4db7e7303ef760ee8ca828238283d6c5415009a37f24015c3ffa2bb7d8fa06438ad679e1556baf26672c90a71c09529311571fac2debfb51ee012eb69e990668c58f89f3a6e75b01feb55fae7ff94464a35bc44d3b25819af0673143c35005312c579159b6ffd82b890a5e7c6b944b7b700a238f11d6392bff9cf98dd03511bd75a18facbaf7d61e8057e4d43aeb59daf24d39791745398438d76ac13f0615d0ae880e5f87df97b60236090dd3d398ba9e553e32021b1907a2d3bf9167dbb98688943c1208f121405bab5e9a6bdb41c2fb0f749c03ef7aa383072b6811ab358aa039652c8333fec4a696f7a1979185a9b44fdd8f4e17e82cd0c59c0ccb23774ebf5b960c41c8639ed08633ead3eebaa8680ebc3e1ea8e229da20905bba3d97e18d4b68fbac8bd85045cbb00a1d6dcb14d2bc710843af7867464f44aa5896446405016b2da64fabea27c3a6c4f6d400240c1b8b327197675e34160f674c9aea41c3eae425317ec8514745af687af02ce40aee74d570418e5f4ed86a99831bc39823edc7c521c846e876770f2b515a04db0786c9f77c4e28c5b89313723ed15fe6e96f09167803e4e1b47265398292728a46826f36b8fc984e94314a826d4064193b5db728802149e894c74b4f43c81e5fdc8e1f65434f8324db585b02f6e68d93bf83f0deb946cbf811d41bd7e6fd5971c057a88e072b5f8dc393def00042c2155d857800f08d1894a1d17874c3ef0816d297a813658f145887780748678bc0af43afd416e1270360612d19e74087427693dfee63ef380c8ada167702c1c4a1707ee3cd18f5b2a4aa5ac398150012d33702e492f11a01b644b5ea7bdbc1a01d864d1b183023b31e0441b7255ddc475e9fa5a7dc9f0626d1c5ce3a360f139cc962fbcc62e4a0eccfb2910e3dbcff0562a09cc7885191be03e59aa4688f30110a2b89d10719bfbdad898e74b7132ce8fb9d256f902936bbdfce9eeebc633a512ecae868ed4e8fc432e407536bc681b7cf253580ecbabe693c75fe61c5d4f32bf341711c0ca42e4ac8cac2bab21ac69d24f370c13fac444eb3b80a99a208cc7960d9d63bc337d6580649cc435f83a3f9bbe922b9f09d3eba26c8b196777dd6632cf7c5258d4c5531127a9b03eed15c17dacc96a2a348888095994de8b3301bd99cc11cf9aa377388a80cf0fa6b52f60e7c6e3bdf7bc4d45124728f0b61cfb1335ca1398f2fe3099367db22d696b57ff1ef42d95fa5de7e72960cd42f5f06762abe168e6e5d54df2755e60dbafa8e145f5f05dfe3cefe9d1a499f997fff519a839ff572cac7d3bedc3058f366f375487f2e10dd19ba78cbc22f64c379324c16bb74d1d500d17899f61e2d892f84234acd3c842849f2ded584368219b2af11b544ad40bdc6b5e481645aa5dc7c3b5429ae066e90fe568aa5e58f83027b2dade93df8f86db9143058ac6d2a7aef2e8fdf849b85bfd5bc583a65984099900f8ed526a1fae2a0da534fce67fb6229c0b26b4241e95ac4f6cb37ddad6c6174bb1bc72e1c0e29eaf0e707581850e7ec03d5dc00b696d8e211fac1941c0a653a9479dbbfc09f20a09c3ba12b5d32172c69877346035803317b9e24925fe0f0d398adc4b809d1a545b2efa846ffc2fca975bded5f1379b4697b54cfd8581d9345319d70d0f969e73e8d602ae697e1a6b26f95054b2ee446cdae2bc02cdd8ed37ebb02b03a7be1c5b14f910205177a4aafa882e25b7b0e57b1a0c899e1726580b55e47e9d79477fd7799590e8d57fad59aa248008ab45f1ec04a909a7bd9883ddaa721c05a95d9ff3922bc182c9a6f59091be6d058773382c76fa2b2ddc733dc086a19bd77efc6ae25434176ac1f7f04ab5e32d71013a99b7cda3bbbd46e539b52855d4d34a0a6366a9f73d4d0777192794438d11eff6387d66ffacafb3ac43aaf7d7967e75d8803a158dfa8716c5ba0aa293235b26602c3c3289a4ad02f1f6c7a0b984b8654dfb8928fd5613d4860f5e3ff5b44c40cbf686c3de2d2584c63a33e8394e7179c7dc046a910b2f63668b47da4567313a7360fb0ec752e99d84c72a4155cdc985ce0a64da464e4d6023a17e8ed3384ef85a988c48a9d737089c1c4fdf5691f80c76cb60ad400192cc454e0703aea1f244310efe4566c11dae14f808421c3058ac7ea8d7212003cd34579d2a8e8f2c4c471a7dd4980c819ad99e5357d07e51a597d63a77d67a738cf346be9ca00543e71ecfcaa67bee5d684c48deef3cdd1fd9366269947447639ef505260767fc8a4e27dd77144819ee1c705a53988d96f1b8523521f9a3bfb0ff502e8dba10a7978d37b11e9d334a64b761f9ef6b6fc967d1342e4f96ccf5fa83443a2443e2c99a04cf046a398368fae80d19e1b1480835c472f3ed45d0001bad8f879cc7b4a4c3fc6f1dc9ff7e1d1c093ae4109bb1fb89cee5b41379a1cfaf668d660d2f235938d2eef9169a64fd551db65c67df5e75e60fdc841d02277bc3342ca64ad8acd306a3889d0cadc6734ca8e81e7eee8d8794a4d4430fd6cce66e4639ac28f1ef973e754f6a71b84a07e851792e0e39dc79ec01cf4316811e676b2696757ef2bd427d1b92e05c22c3d38571c70211eb9b516e850c930dec6b0c51bf6ca65d3688661801b7686858f03e5da8b83079e8c97a3892021414726730812b715e501f12500ef2650b773f12ac04b60d5333951f2d16b1dc6704c3ab140966e7bb54ce0c5bee22063fc987976f43c760eeec33dc818c46e38f2cf3f7383f20ed4fc659b11c3799621abb17a2936165998d13e0a1961877d2b38180005da16d5e2ed42a3ab72e29b6552945024de106f48342a6a4fa9297927c975fbb37bb9bead6c7be682bb97a452d48fb8f02880e1d5a8c06dfd872c2e9b5590ba85512604b0a9dccad68d701e698623bc44396de0797f8aa08c8b03be377a54b3f359ab039cafe64c99990bf0bd95d9684a45dca57b2ad86c7bd1bb3236ebd411ac4cedcac9f112b03cfa7354e8a1d3a907a5cace544a22c44369723e49daf1ef6d028f5b915e39bd88ab21324d28ce948ebe59a230a5435f61fba06fef9bd7dcdc027838c5f6f0aec097c4b1e0d4a71eceaaa79f361f43cf88782c1bdccae50be4fc0799d69ea9d908a70f6fd5714773187b979704bf05f689acd1c4f41099e02b63fbff6640c3e3285cb2c3d083aabe1055cfd369a3f4b4d3f2397da4b5d66504dde183c810e03d933ece6e7ff6edf904c029d36409171abb9e8ebf4456a97e263b479b9a8a411dc8dadc7ca93493d7e13149bce7b40924b79a168ba402a4de1720898813ec996cf14809713f62855e47a8cd92cee5e7368f7c813449af306e66e427cae296135d2fecdb9d8c2ae323cc514e520c6b939c21285e691988938768bcc0ddd20c8f8b72ac55c28cdab306a5a475a1d4d500398bc297c22164226b7d84044121b46a97d02e5c4d5008bd09b474e081ecc743518b6278b5c7c2dad513ba4f19f28bd4ffcabe6e3e654ce6e50e9af4150fa3da749c31f3434ccae406b8aad9b0fd7dd27ef6daf91559d1fbcdcac36994a0fa7c102bc50b76dab9d7902aa6f9eda703b8972af2a08c580d6840c9cc92d736ca4a1dd1bf769c1987f844dc1015c19dfa41dd38dbf66b93cb36100d905afb59838bc8e89e7e18f067162657866857adc9b2c11cded37670fb11697feb969bf39f698102b4b1caa4c9f3a0ee3b0b1ed4dd9bcbab390f0e2d08ffc94d642f4c87266434ada41bed83324aa8405a1b6990c25fe413279b2803231d54b003a7fb8396d0b7ea9fc9373a3029713d98548e15e3d693e906684df907ddc070bca60827b4faf91f43fa295d764faa990153ee77ea68acd560a59b8d40310ccfbfdb173169176baed3a200bf1239e4c02ccbe63047d7d878213ba89048c999afd2ae5a9d1f9543f85c400768c77ad34f7f24111c769e64abb</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>diary</category>
      </categories>
  </entry>
  <entry>
    <title>åŠ¨æ€è§„åˆ’_1</title>
    <url>/2018/07/29/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92-1/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>ä»Šå¤©é›†è®­å­¦çš„æ˜¯åŠ¨æ€è§„åˆ’ï¼Œï¼Œï¼Œä¹Ÿå°±æ˜¯dpï¼Œï¼Œï¼Œè¿™ç©æ„æ—©å°±å¬è¯´è¿‡äº†ï¼Œï¼Œï¼Œä¸€ç›´æ„Ÿè§‰å¾ˆéš¾ï¼Œï¼Œï¼Œå¬åå­—å°±æœ‰äº›é«˜å¤§ä¸Šï¼Œï¼Œï¼Œä»Šå¤©äº†è§£äº†å…¶å¤§è‡´çš„æ€æƒ³ï¼Œï¼Œï¼Œå››é“é¢˜ä¹Ÿå°±åšäº†ä¸¤é“ï¼Œï¼Œï¼Œè¿˜æ˜¯å­¦é•¿ä¸Šåˆè®²è¿‡çš„ï¼Œï¼Œè‡ªå·±æ ¹æ®æ¨¡æ¿ç›´æ¥å¥—çš„ï¼Œï¼Œï¼Œä¸­é—´é‚£ä¸¤é¢˜å®Œå…¨ä¸çŸ¥é“ä»å“ªä¸‹æ‰‹ï¼Œï¼Œï¼Œæˆ–è€…è¯´ä¸çŸ¥é“å¦‚ä½•å®ç°è„‘å­é‡Œçš„æƒ³æ³•ï¼Œï¼Œï¼Œï¼Œå…¶ä¸­Bé¢˜æ˜¯cpccçš„ä¸€é“åŸé¢˜ï¼Œï¼Œï¼Œç”¨äº†åŠ¨æ€è§„åˆ’ï¼Œæ ‘çŠ¶æ•°ç»„ï¼Œç¦»æ•£åŒ–ä¸‰ä¸ªä¸»è¦çš„ç®—æ³•ï¼Œï¼Œï¼Œç»¼åˆæ€§å¾ˆå¼ºï¼Œï¼Œï¼Œéš¾å•Šå•Šå•Šå•Šï¼Œï¼Œï¼Œ</p>
<span id="more"></span>
<h2 id="åŸºæœ¬"><a href="#åŸºæœ¬" class="headerlink" title="åŸºæœ¬"></a>åŸºæœ¬</h2><h3 id="åŠ¨æ€è§„åˆ’ä»‹ç»"><a href="#åŠ¨æ€è§„åˆ’ä»‹ç»" class="headerlink" title="åŠ¨æ€è§„åˆ’ä»‹ç»"></a>åŠ¨æ€è§„åˆ’ä»‹ç»</h3><p>(ç›´æ¥ç²˜å¤§ä½¬ä»‹ç»ã€‚ã€‚ã€‚](<a href="https://blog.csdn.net/cc_again/article/details/25866971">https://blog.csdn.net/cc_again/article/details/25866971</a>)</p>
<blockquote>
<p>åŠ¨æ€è§„åˆ’ï¼ˆè‹±è¯­ï¼šDynamic programmingï¼ŒDPï¼‰æ˜¯ä¸€ç§åœ¨æ•°å­¦ã€è®¡ç®—æœºç§‘å­¦å’Œç»æµå­¦ä¸­ä½¿ç”¨çš„ï¼Œé€šè¿‡æŠŠåŸé—®é¢˜åˆ†è§£ä¸ºç›¸å¯¹ç®€å•çš„å­é—®é¢˜çš„æ–¹å¼æ±‚è§£å¤æ‚é—®é¢˜çš„æ–¹æ³•ã€‚ åŠ¨æ€è§„åˆ’å¸¸å¸¸é€‚ç”¨äºæœ‰é‡å å­é—®é¢˜å’Œæœ€ä¼˜å­ç»“æ„æ€§è´¨çš„é—®é¢˜ï¼ŒåŠ¨æ€è§„åˆ’æ–¹æ³•æ‰€è€—æ—¶é—´å¾€å¾€è¿œå°‘äºæœ´ç´ è§£æ³•ã€‚</p>
<p>åŠ¨æ€è§„åˆ’èƒŒåçš„åŸºæœ¬æ€æƒ³éå¸¸ç®€å•ã€‚å¤§è‡´ä¸Šï¼Œè‹¥è¦è§£ä¸€ä¸ªç»™å®šé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦è§£å…¶ä¸åŒéƒ¨åˆ†ï¼ˆå³å­é—®é¢˜ï¼‰ï¼Œå†åˆå¹¶å­é—®é¢˜çš„è§£ä»¥å¾—å‡ºåŸé—®é¢˜çš„è§£ã€‚ é€šå¸¸è®¸å¤šå­é—®é¢˜éå¸¸ç›¸ä¼¼ï¼Œä¸ºæ­¤åŠ¨æ€è§„åˆ’æ³•è¯•å›¾ä»…ä»…è§£å†³æ¯ä¸ªå­é—®é¢˜ä¸€æ¬¡ï¼Œä»è€Œå‡å°‘è®¡ç®—é‡ï¼š ä¸€æ—¦æŸä¸ªç»™å®šå­é—®é¢˜çš„è§£å·²ç»ç®—å‡ºï¼Œåˆ™å°†å…¶è®°å¿†åŒ–å­˜å‚¨ï¼Œä»¥ä¾¿ä¸‹æ¬¡éœ€è¦åŒä¸€ä¸ªå­é—®é¢˜è§£ä¹‹æ—¶ç›´æ¥æŸ¥è¡¨ã€‚ è¿™ç§åšæ³•åœ¨é‡å¤å­é—®é¢˜çš„æ•°ç›®å…³äºè¾“å…¥çš„è§„æ¨¡å‘ˆæŒ‡æ•°å¢é•¿æ—¶ç‰¹åˆ«æœ‰ç”¨ã€‚</p>
</blockquote>
<p>ç®€å•æ¥è¯´ï¼Œï¼ŒåŠ¨æ€è§„åˆ’å°±æ˜¯ä¸€ç§ç”¨äºæ±‚è§£åŒ…å« <strong>é‡å å­é—®é¢˜</strong> çš„æœ€ä¼˜è§£é—®é¢˜çš„æ€æƒ³ï¼Œï¼Œï¼Œ<br>ä¹Ÿå°±æ˜¯ï¼Œå°†åŸé—®é¢˜åˆ†è§£ä¸ºç›¸ä¼¼çš„å­é—®é¢˜ï¼Œï¼Œåœ¨æ±‚è§£çš„è¿‡ç¨‹ä¸­é€šè¿‡å­é—®é¢˜æ±‚å‡ºåŸé—®é¢˜çš„è§£ï¼Œï¼Œï¼Œ</p>
<h3 id="åŠ¨æ€è§„åˆ’æ»¡è¶³çš„æ€§è´¨"><a href="#åŠ¨æ€è§„åˆ’æ»¡è¶³çš„æ€§è´¨" class="headerlink" title="åŠ¨æ€è§„åˆ’æ»¡è¶³çš„æ€§è´¨"></a>åŠ¨æ€è§„åˆ’æ»¡è¶³çš„æ€§è´¨</h3><p><a href="https://blog.csdn.net/cc_again/article/details/25866971">ä¸€æ ·ï¼Œï¼Œï¼Œç²˜å¤§ä½¬è¡¨è¾¾ï¼Œï¼Œï¼Œ</a></p>
<ul>
<li><p><strong>æœ€ä¼˜å­ç»“æ„æ€§è´¨</strong>ï¼šå¦‚æœé—®é¢˜çš„æœ€ä¼˜è§£æ‰€åŒ…å«çš„å­é—®é¢˜çš„è§£ä¹Ÿæ˜¯æœ€ä¼˜çš„ï¼Œæˆ‘ä»¬å°±ç§°è¯¥é—®é¢˜å…·æœ‰æœ€ä¼˜å­ç»“æ„æ€§è´¨ï¼ˆå³æ»¡è¶³æœ€ä¼˜åŒ–åŸç†ï¼‰ã€‚æœ€ä¼˜å­ç»“æ„æ€§è´¨ä¸ºåŠ¨æ€è§„åˆ’ç®—æ³•è§£å†³é—®é¢˜æä¾›äº†é‡è¦çº¿ç´¢ã€‚</p>
</li>
<li><p><strong>å­é—®é¢˜é‡å æ€§è´¨</strong> ï¼šå­é—®é¢˜é‡å æ€§è´¨æ˜¯æŒ‡åœ¨ç”¨é€’å½’ç®—æ³•è‡ªé¡¶å‘ä¸‹å¯¹é—®é¢˜è¿›è¡Œæ±‚è§£æ—¶ï¼Œæ¯æ¬¡äº§ç”Ÿçš„å­é—®é¢˜å¹¶ä¸æ€»æ˜¯æ–°é—®é¢˜ï¼Œæœ‰äº›å­é—®é¢˜ä¼šè¢«é‡å¤è®¡ç®—å¤šæ¬¡ã€‚åŠ¨æ€è§„åˆ’ç®—æ³•æ­£æ˜¯åˆ©ç”¨äº†è¿™ç§å­é—®é¢˜çš„é‡å æ€§è´¨ï¼Œå¯¹æ¯ä¸€ä¸ªå­é—®é¢˜åªè®¡ç®—ä¸€æ¬¡ï¼Œç„¶åå°†å…¶è®¡ç®—ç»“æœä¿å­˜åœ¨ä¸€ä¸ªè¡¨æ ¼ä¸­ï¼Œå½“å†æ¬¡éœ€è¦è®¡ç®—å·²ç»è®¡ç®—è¿‡çš„å­é—®é¢˜æ—¶ï¼Œåªæ˜¯åœ¨è¡¨æ ¼ä¸­ç®€å•åœ°æŸ¥çœ‹ä¸€ä¸‹ç»“æœï¼Œä»è€Œè·å¾—è¾ƒé«˜çš„æ•ˆç‡ã€‚</p>
</li>
<li><p><strong>æ— åæ•ˆæ€§</strong> ï¼šå°†å„é˜¶æ®µæŒ‰ç…§ä¸€å®šçš„æ¬¡åºæ’åˆ—å¥½ä¹‹åï¼Œå¯¹äºæŸä¸ªç»™å®šçš„é˜¶æ®µçŠ¶æ€ï¼Œå®ƒä»¥å‰å„é˜¶æ®µçš„çŠ¶æ€æ— æ³•ç›´æ¥å½±å“å®ƒæœªæ¥çš„å†³ç­–ï¼Œè€Œåªèƒ½é€šè¿‡å½“å‰çš„è¿™ä¸ªçŠ¶æ€ã€‚æ¢å¥è¯è¯´ï¼Œæ¯ä¸ªçŠ¶æ€éƒ½æ˜¯è¿‡å»å†å²çš„ä¸€ä¸ªå®Œæ•´æ€»ç»“ã€‚è¿™å°±æ˜¯æ— åå‘æ€§ï¼Œåˆç§°ä¸ºæ— åæ•ˆæ€§ã€‚</p>
</li>
</ul>
<h3 id="åŠ¨æ€è§„åˆ’ä¸»è¦ä½¿ç”¨æ­¥éª¤"><a href="#åŠ¨æ€è§„åˆ’ä¸»è¦ä½¿ç”¨æ­¥éª¤" class="headerlink" title="åŠ¨æ€è§„åˆ’ä¸»è¦ä½¿ç”¨æ­¥éª¤"></a>åŠ¨æ€è§„åˆ’ä¸»è¦ä½¿ç”¨æ­¥éª¤</h3><ul>
<li><strong>åˆ†æé—®é¢˜</strong> ï¼šçœ‹æ»¡ä¸æ»¡è¶³ä½¿ç”¨åŠ¨æ€è§„åˆ’çš„åŸºæœ¬æ¡ä»¶ï¼Œï¼Œç®€å•åœ°è¯´å°±æ˜¯ä¸€ä¸ªçŠ¶æ€ä¸å—å‰é¢çš„å†³ç­–çš„å½±å“ï¼Œï¼Œè¿™ä¸ªçŠ¶æ€çš„å†³ç­–ä¹Ÿä¸ä¼šå½±å“åé¢çš„çŠ¶æ€ï¼Œï¼Œ</li>
<li><strong>å®šä¹‰çŠ¶æ€</strong> ï¼šè¿™ä¸€æ­¥å¾ˆé‡è¦ï¼Œï¼Œå…³ç³»åˆ°ç®—æ³•çš„å¤æ‚åº¦å’Œ <strong>çŠ¶æ€è½¬ç§»æ–¹ç¨‹</strong></li>
<li>æ‰¾å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹å’Œåˆå§‹çŠ¶æ€ï¼Œè¾¹ç•ŒçŠ¶æ€ï¼Œåˆ©ç”¨çŠ¶æ€è½¬ç§»æ–¹ç¨‹è®¡ç®—å‡ºæ‰€æœ‰çŠ¶æ€</li>
<li>åˆ©ç”¨ä¸Šé¢æ±‚è§£çš„çŠ¶æ€æ±‚è§£é—®é¢˜</li>
</ul>
<p>å¥—è·¯å½’å¥—è·¯ï¼Œï¼Œæœ€ç»ˆè¿˜æ˜¯è¦çœ‹é¢˜ç›®çš„è¦æ±‚ï¼Œï¼Œé¢˜æ„æ¥è§£ï¼Œï¼Œï¼Œ</p>
<h3 id="åŠ¨æ€è§„åˆ’çš„å¤æ‚åº¦"><a href="#åŠ¨æ€è§„åˆ’çš„å¤æ‚åº¦" class="headerlink" title="åŠ¨æ€è§„åˆ’çš„å¤æ‚åº¦"></a>åŠ¨æ€è§„åˆ’çš„å¤æ‚åº¦</h3><p>ä¸€èˆ¬æ¥è¯´å¤æ‚åº¦å–å†³äºä¸¤ä¸ªæ–¹é¢ï¼š</p>
<ul>
<li>çŠ¶æ€æœ¬èº«ï¼šä¸€èˆ¬æ¥è¯´è¦è®¡ç®—å‡ºæ‰€æœ‰çŠ¶æ€ï¼Œï¼Œæ‰€ä»¥å¤æ‚åº¦å’Œå®šä¹‰çš„çŠ¶æ€æœ‰å…³ï¼Œï¼Œæ¯”å¦‚dp[i][j]ç±»å‹çš„å¤æ‚åº¦ä¸ºO(n * m)</li>
<li>çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼šå› ä¸ºä¸€ä¸ªçŠ¶æ€å¿…å®šä»æŸäº›å­çŠ¶æ€è½¬ç§»è€Œæ¥ï¼Œï¼Œæ‰€ä»¥å¤æ‚åº¦è¿˜å–å†³ä¸çŠ¶æ€è½¬ç§»çš„å¤æ‚åº¦ï¼Œï¼Œæœ‰æ—¶è¦åœ¨è¿™é‡Œé€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„æ¥ä¼˜åŒ–ï¼Œï¼Œï¼Œæ¯”å¦‚ä¸‹é¢çš„Bé¢˜ï¼Œï¼Œï¼ŒåŒæ—¶è¿™ä¹Ÿå°±å¼•å‡ºäº†å„ç§å„æ ·çš„åŠ¨æ€è§„åˆ’çš„é¢˜å‹ï¼Œï¼Œï¼Œå¦‚æ ‘å½¢dpï¼Œï¼Œï¼Œæ–œç‡dpï¼Œï¼Œï¼ŒåŒºé—´dpï¼Œï¼Œï¼Œæ¦‚ç‡dpï¼Œï¼Œï¼Œç­‰ç­‰ï¼Œï¼Œï¼Œ</li>
</ul>
<h2 id="ç»ƒä¹ "><a href="#ç»ƒä¹ " class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h2><h3 id="Problem-A-ä½ åˆæ²¡æœ‰å¥½å¥½å¬è¯¾3"><a href="#Problem-A-ä½ åˆæ²¡æœ‰å¥½å¥½å¬è¯¾3" class="headerlink" title="Problem A: ä½ åˆæ²¡æœ‰å¥½å¥½å¬è¯¾3"></a>Problem A: ä½ åˆæ²¡æœ‰å¥½å¥½å¬è¯¾3</h3><p>Time Limit: 2 Sec  Memory Limit: 128 MB</p>
<blockquote>
<p>Description</p>
<p>ä¸ºäº†æ£€éªŒä½ ä¸Šåˆæœ‰æ²¡æœ‰å¥½å¥½å¬è¯¾ï¼Œäºæ˜¯åˆäº†è¿™ä¸€é¢˜ã€‚ç»™ä½ ä¸€ä¸ªN*Mçš„æ–¹æ ¼ç½‘ï¼Œå·¦ä¸Šè§’ä¸ºï¼ˆ1ï¼Œ1ï¼‰å³ä¸‹è§’ä¸º(N, M)ï¼Œæ¯ä¸ªæ–¹æ ¼ä¸­æœ‰ä¸€ä¸ªæ•°a[i][j]ï¼Œåˆšå¼€å§‹ä½ åœ¨ä½ç½®(1, 1)ä½ æ¯æ¬¡å¯ä»¥å¾€ä¸‹èµ°æˆ–è€…å¾€å³èµ°ä¸€æ­¥ï¼Œä½ éœ€è¦ç¡®å®šä¸€ç§èµ°çš„æ–¹æ¡ˆï¼Œæœ€åèµ°åˆ°(N, M)ï¼Œä½¿å¾—é€”å¾„æ ¼å­çš„æ•°çš„å’Œæœ€å¤§ã€‚</p>
<p>Input</p>
<p>è¾“å…¥çš„ç¬¬ä¸€è¡Œä¸€ä¸ªæ•´æ•°Tï¼ˆT&lt;= 5ï¼‰ä»£è¡¨æµ‹è¯•æ•°æ®çš„ç»„æ•°</p>
<p>æ¥ä¸‹é‡ŒTç»„æµ‹è¯•æ•°æ®</p>
<p>æ¯ç»„æµ‹è¯•æ•°æ®ç¬¬ä¸€è¡Œä¸ºä¸¤ä¸ªæ•´æ•°N, Mï¼ˆ1 &lt;= N, M &lt;= 1000ï¼‰ä»£è¡¨æ–¹æ ¼ç½‘çš„å¤§å°</p>
<p>æ¥ä¸‹æ¥Nè¡Œï¼Œæ¯ä¸€è¡ŒMä¸ªæ•°ï¼Œä»£è¡¨a[i][j]ï¼ˆ1 &lt;= a[i][j] &lt;= 1000ï¼‰</p>
<p>Output</p>
<p>å¯¹äºæ¯ç»„æµ‹è¯•æ•°æ®ï¼Œè¾“å‡ºä¸€ä¸ªæ•´æ•°ä»£è¡¨ä»ï¼ˆ1ï¼Œ 1ï¼‰èµ°åˆ° (N, M)é€”å¾„çš„æ ¼å­çš„æœ€å¤§çš„å’Œã€‚</p>
<p>Sample Input</p>
<p>1<br>2 2<br>100 1<br>50 1</p>
<p>Sample Output<br>151</p>
</blockquote>
<p>ç®€å•çš„dpï¼Œï¼Œï¼Œæ ¹æ®é¢˜æ„å†™å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹ $d[i][j] = max(d[i - 1][j] , d[i][j - 1]) + a[i][j];$</p>
<p>æˆ‘çš„ä»£ç ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e3</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">int</span> a[N][N];<br><span class="hljs-keyword">int</span> d[N][N];<br><span class="hljs-keyword">int</span> n , m;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">dp</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n , <span class="hljs-keyword">int</span> m)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; j++)<br>            &#123;<br>                d[i][j] = max(d[i - <span class="hljs-number">1</span>][j] , d[i][j - <span class="hljs-number">1</span>]) + a[i][j];<br>                <span class="hljs-comment">//å¥½åƒå°‘äº†ç‰¹åˆ¤ï¼Œï¼Œï¼Œä¸è¿‡æ•°æ®è¿‡äº†ï¼Œï¼Œï¼Œé€ƒï¼Œï¼Œï¼Œ</span><br>            &#125;<br>    <span class="hljs-keyword">return</span> d[n][m];<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> t;<span class="hljs-built_in">cin</span> &gt;&gt; t;<br>    <span class="hljs-keyword">while</span> (t--)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; j++)<br>                <span class="hljs-built_in">cin</span> &gt;&gt; a[i][j];<br>        <span class="hljs-built_in">memset</span>(d , <span class="hljs-number">0</span> , <span class="hljs-keyword">sizeof</span>(d));<br>        <span class="hljs-built_in">cout</span> &lt;&lt; dp(n , m) &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<p>å­¦é•¿çš„ä»£ç :</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1000</span> + <span class="hljs-number">10</span>;<br><span class="hljs-keyword">int</span> N, M;<br><span class="hljs-keyword">int</span> A[maxn][maxn];<br><span class="hljs-keyword">int</span> dp[maxn][maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    freopen(<span class="hljs-string">&quot;data.in&quot;</span>, <span class="hljs-string">&quot;r&quot;</span>, <span class="hljs-built_in">stdin</span>);<br>    freopen(<span class="hljs-string">&quot;data.out&quot;</span>, <span class="hljs-string">&quot;w&quot;</span>, <span class="hljs-built_in">stdout</span>);<br>    <span class="hljs-keyword">int</span> T;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;T);<br>    <span class="hljs-keyword">while</span>(T--)<br>    &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;N, &amp;M);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= N; i++)<br>        &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= M; j++)<br>            &#123;<br>                <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;A[i][j]);<br>            &#125;<br>        &#125;<br>        <span class="hljs-built_in">memset</span>(dp, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span>(dp));<br>        dp[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>] = A[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= N; i++)<br>        &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= M; j++)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(i == <span class="hljs-number">1</span> &amp;&amp; j == <span class="hljs-number">1</span>) dp[i][j] = A[i][j];        <span class="hljs-comment">//å°±æ˜¯è¿™é‡Œçš„ç‰¹åˆ¤ï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œ</span><br>                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(i == <span class="hljs-number">1</span> &amp;&amp; j != <span class="hljs-number">1</span>) dp[i][j] = dp[i][j - <span class="hljs-number">1</span>] + A[i][j];<br>                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(j == <span class="hljs-number">1</span> &amp;&amp; i != <span class="hljs-number">1</span>) dp[i][j] = dp[i - <span class="hljs-number">1</span>][j] + A[i][j];<br>                <span class="hljs-keyword">else</span><br>                &#123;<br>                    dp[i][j] = max(dp[i - <span class="hljs-number">1</span>][j], dp[i][j - <span class="hljs-number">1</span>]) + A[i][j];<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, dp[N][M]);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<h3 id="Problem-B-averyboyçš„éº»çƒ¦"><a href="#Problem-B-averyboyçš„éº»çƒ¦" class="headerlink" title="Problem B: averyboyçš„éº»çƒ¦"></a>Problem B: averyboyçš„éº»çƒ¦</h3><p>è¿™é“é¢˜è¿˜æ˜¯çœŸéº»çƒ¦ï¼Œï¼Œï¼Œåˆ°ç°åœ¨çŠ¶æ€è½¬ç§»æ–¹ç¨‹çš„å®ç°é‚£é‡Œè¿˜æ˜¯æœ‰äº›ä¸æ‡‚ï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œå™—</p>
<p>ä¸»è¦çš„æ¨å¯¼åœ¨ä»£ç é‡Œï¼Œï¼Œï¼Œè¿˜æœ‰é‚£ä¸¤ä¸ªåšå®¢ï¼Œï¼Œï¼Œï¼Œ</p>
<p>æˆ‘çš„ä»£ç ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> lowbit(x) x&amp;(-x)</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e3</span> + <span class="hljs-number">3</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> MOD = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">int</span> a[N];<br><span class="hljs-keyword">int</span> b[N];<br><span class="hljs-keyword">int</span> n , m;<br>ll dp[N][N];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">update</span><span class="hljs-params">(<span class="hljs-keyword">int</span> loc , <span class="hljs-keyword">int</span> x , <span class="hljs-keyword">int</span> val)</span>  <span class="hljs-comment">//æ›´æ–°</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = loc; i &lt;= n; i+=lowbit(i))<br>    &#123;<br>        dp[i][x] = (dp[i][x] + val) % MOD;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">query</span> <span class="hljs-params">(<span class="hljs-keyword">int</span> loc , <span class="hljs-keyword">int</span> x)</span>             <span class="hljs-comment">//æ±‚å’Œ</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = loc; i &gt;= <span class="hljs-number">1</span>; i -= lowbit(i))<br>        ans = (dp[i][x] + ans) % MOD;<br>    <span class="hljs-keyword">return</span> ans;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-comment">//freopen(&quot;data.in&quot; , &quot;r&quot; , stdin);</span><br>    <span class="hljs-keyword">int</span> t;<span class="hljs-built_in">cin</span> &gt;&gt; t;<br>    <span class="hljs-keyword">while</span> (t--)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>        &#123;<br>            <span class="hljs-built_in">cin</span> &gt;&gt; a[i];<br>            b[i] = a[i];<br>        &#125;<br>        <span class="hljs-comment">//ç¦»æ•£åŒ–ï¼Œï¼Œï¼Œï¼Œ</span><br>        sort(b + <span class="hljs-number">1</span>,b + <span class="hljs-number">1</span> + n);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i&lt;= n; i++)<br>        &#123;<br>            a[i] = lower_bound(b + <span class="hljs-number">1</span>, b + <span class="hljs-number">1</span> + n, a[i]) - b;  <span class="hljs-comment">//a[i]å­˜å‚¨çš„æ˜¯è¯¥ä½ç½®æ˜¯ç¬¬å‡ å¤§çš„å…ƒç´ </span><br>        &#125;<br><br>        <span class="hljs-built_in">memset</span>(dp , <span class="hljs-number">0</span> , <span class="hljs-keyword">sizeof</span>(dp));<br>        <span class="hljs-comment">//åŠ¨æ€è§„åˆ’ï¼ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹dp[i][j] = sum(dp[k][j-1]) k = &#123;1 , i - 1&#125;</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>        &#123;<br><br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= min(i , m); j++)<br>            &#123;<br>                <span class="hljs-keyword">if</span> (j == <span class="hljs-number">1</span>) update(a[i] , <span class="hljs-number">1</span> , <span class="hljs-number">1</span>);<br>                <span class="hljs-keyword">else</span><br>                &#123;<br>                    ll tmp = query(a[i] - <span class="hljs-number">1</span> , j - <span class="hljs-number">1</span>);<br>                    update(a[i] , j , tmp);<br>                &#125;<br>            &#125;<br>        &#125;<br>        ll ans = query(n , m);<br><br>        <span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">//https://blog.csdn.net/snowy_smile/article/details/49565493</span><br><span class="hljs-comment">//https://blog.csdn.net/loy_184548/article/details/50073559</span><br><br></code></pre></td></tr></table></figure>
<p>å­¦é•¿çš„ä»£ç ï¼š</p>
<p>æœ‰ç©ºåœ¨ç ”ç©¶ï¼Œï¼Œï¼ŒQAQ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1000</span> + <span class="hljs-number">10</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> LL;<br><span class="hljs-keyword">const</span> LL mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> N, M;<br><span class="hljs-keyword">int</span> a[maxn];<br>LL Tree[maxn][maxn];<br>LL dp[maxn][maxn];<span class="hljs-comment">//dp[i][j]è¡¨ç¤ºè€ƒè™‘åˆ°ç¬¬iä¸ªæ•°ï¼Œä¸”ä»¥ç¬¬a[i]ä¸ªæ•°ç»“å°¾ï¼Œé•¿åº¦ä¸ºjçš„é€’å¢åºåˆ—ä¸ªæ•°</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span>&#123;</span><br>    <span class="hljs-keyword">int</span> value;<br>    <span class="hljs-keyword">int</span> id;<br>    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span> &lt;(<span class="hljs-keyword">const</span> node &amp;res) <span class="hljs-keyword">const</span>&#123;<br>        <span class="hljs-keyword">if</span>(value == res.value) <span class="hljs-keyword">return</span> id &gt; res.id;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> value &lt; res.value;<br>    &#125;<br>&#125;Node[maxn];<br><span class="hljs-keyword">int</span> Rank[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(Tree, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span>(Tree));<br>    <span class="hljs-built_in">memset</span>(dp, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span>(dp));<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">lowbit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> x&amp;(-x);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> loc, <span class="hljs-keyword">int</span> d, LL value)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = loc; i &lt;= N; i += lowbit(i))<br>    &#123;<br>        Tree[i][d] = (Tree[i][d] + value) % mod;<br>    &#125;<br>&#125;<br><span class="hljs-function">LL <span class="hljs-title">get</span><span class="hljs-params">(<span class="hljs-keyword">int</span> loc, <span class="hljs-keyword">int</span> d)</span></span><br><span class="hljs-function"></span>&#123;<br>    LL ans = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = loc; i &gt;= <span class="hljs-number">1</span>; i -= lowbit(i))<br>    &#123;<br>        ans = (ans + Tree[i][d]) % mod;<br>    &#125;<br>    <span class="hljs-keyword">return</span> ans;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    freopen(<span class="hljs-string">&quot;data.in&quot;</span>, <span class="hljs-string">&quot;r&quot;</span>, <span class="hljs-built_in">stdin</span>);<br>    freopen(<span class="hljs-string">&quot;data.out&quot;</span>, <span class="hljs-string">&quot;w&quot;</span>, <span class="hljs-built_in">stdout</span>);<br>    <span class="hljs-keyword">int</span> T;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;T);<br>    <span class="hljs-keyword">while</span>(T--)<br>    &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;N, &amp;M);<br>        init();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= N; i++)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;Node[i].value);<br>            Node[i].id = i;<br>        &#125;<br>        sort(Node + <span class="hljs-number">1</span>, Node + N + <span class="hljs-number">1</span>);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= N; i++)<br>        &#123;<br>            Rank[Node[i].id] = i;<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= N; i++)<br>        &#123;<br>            dp[i][<span class="hljs-number">1</span>] = <span class="hljs-number">1</span>;<br>            add(Rank[i], <span class="hljs-number">1</span>, <span class="hljs-number">1</span>);<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">2</span>; j &lt;= min(M, i); j++)<br>            &#123;<br>                LL temp = get(Rank[i] - <span class="hljs-number">1</span>, j - <span class="hljs-number">1</span>);<br>                dp[i][j] = (dp[i][j] + temp) % mod;<br>                add(Rank[i], j, dp[i][j]);<br>            &#125;<br>        &#125;<br>        LL ans = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= N; i++)<br>        &#123;<br>            ans = (ans + dp[i][M]) % mod;<br>        &#125;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%lld\n&quot;</span>, ans);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<h3 id="Problem-C-averyboyçš„åŒºé—´2"><a href="#Problem-C-averyboyçš„åŒºé—´2" class="headerlink" title="Problem C: averyboyçš„åŒºé—´2"></a>Problem C: averyboyçš„åŒºé—´2</h3><p>Time Limit: 2 Sec  Memory Limit: 128 MB</p>
<blockquote>
<p>Description</p>
<p>ä¸ä»…å¤©å¤–å¤©å–œæ¬¢å­åŒºé—´ï¼Œaveryboyä¹Ÿéå¸¸å–œæ¬¢å­åŒºé—´ã€‚ç°åœ¨å¤©å¤–å¤©ç»™averyboyä¸€ä¸ªé•¿åº¦ä¸ºNçš„åºåˆ—a[1]~a[N],å¤©å¤–å¤©è®©averyboyæ‰¾å‡ºä¸€ä¸ªå­åŒºé—´[l, r]ä½¿å¾—è¿™ä¸ªå­åŒºé—´æ•°çš„å’Œè¦æ¯”å…¶ä»–å­åŒºé—´æ•°çš„å’Œè¦å¤§</p>
<p>Input</p>
<p>ç¬¬ä¸€è¡Œä¸€ä¸ªæ•´æ•°Tï¼ˆT &lt;= 10ï¼‰ä»£è¡¨æµ‹è¯•æ•°æ®çš„ç»„æ•°</p>
<p>æ¥ä¸‹æ¥Tç»„æµ‹è¯•æ•°æ®</p>
<p>æ¯ç»„æµ‹è¯•æ•°æ®ç¬¬ä¸€è¡Œä¸ºä¸€ä¸ªæ•´æ•°Nï¼ˆ1 &lt;= N &lt;= 1e5ï¼‰ä»£è¡¨åºåˆ—çš„é•¿åº¦</p>
<p>æ¥ä¸‹æ¥ä¸€è¡ŒNä¸ªæ•´æ•°a[i]ï¼ˆ-1000 &lt;= a[i] &lt;= 1000ï¼‰ä»£è¡¨åºåˆ—a[i]</p>
<p>Output</p>
<p>å¯¹äºæ¯ç»„æµ‹è¯•æ•°æ®ï¼Œè¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œä»£è¡¨æœ€å¤§çš„å­åŒºé—´å’Œã€‚</p>
<p>Sample Input<br>2<br>3<br>1 -100 3<br>4<br>99 -100 98 2</p>
<p>Sample Output<br>3<br>100</p>
<p>HINT</p>
<p>ç¬¬ä¸€ç»„æµ‹è¯•æ ·ä¾‹ï¼Œé€‰æ‹©åŒºé—´[3,3]å’Œä¸º3æœ€å¤§ï¼Œç¬¬äºŒç»„æµ‹è¯•æ ·ä¾‹é€‰æ‹©åŒºé—´[3, 4]å’Œä¸º98 + 2 = 100æœ€å¤§</p>
</blockquote>
<p>ä¸»è¦æ˜¯çŠ¶æ€è½¬ç§»æ–¹ç¨‹å†™å‡ºæ¥å°±è¡Œäº†ï¼Œï¼Œï¼Œï¼ŒQAQ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">int</span> a[N];<br><span class="hljs-keyword">int</span> n;<br><span class="hljs-keyword">int</span> dp;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">DP</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> m = -INF;<br>    <span class="hljs-keyword">int</span> dp = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>    &#123;<br>        dp = max (dp + a[i] , a[i]);<br>        m = max (m , dp);<br>    &#125;<br>    <span class="hljs-keyword">return</span> m;<br>&#125;<br> <br> <br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> t;<span class="hljs-built_in">cin</span> &gt;&gt; t;<br>    <span class="hljs-keyword">while</span> (t--)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; n;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>        &#123;<br>            <span class="hljs-built_in">cin</span> &gt;&gt; a[i];<br>        &#125;<br> <br>        <span class="hljs-built_in">cout</span> &lt;&lt; DP() &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>å­¦é•¿çš„ä»£ç ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">100000</span> + <span class="hljs-number">10</span>;<br><span class="hljs-keyword">int</span> N;<br><span class="hljs-keyword">int</span> a[maxn];<br><span class="hljs-keyword">int</span> dp[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//freopen(&quot;data.in&quot;, &quot;r&quot;, stdin);</span><br>   <span class="hljs-comment">// freopen(&quot;data.out&quot;, &quot;w&quot;, stdout);</span><br>    <span class="hljs-keyword">int</span> T;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;T);<br>    <span class="hljs-keyword">while</span>(T--)<br>    &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;N);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= N; i++)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a[i]);<br>        &#125;<br>        <span class="hljs-keyword">int</span> ans = <span class="hljs-number">-1000000001</span>;<br>        <span class="hljs-keyword">int</span> acc = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= N; i++)<br>        &#123;<br>            dp[i] = a[i] + acc;<br>            <span class="hljs-keyword">if</span>(acc + a[i] &gt; <span class="hljs-number">0</span>) acc += a[i];<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                acc = <span class="hljs-number">0</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= N; i++)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(dp[i] &gt; ans)<br>            &#123;<br>                ans = dp[i];<br>            &#125;<br>        &#125;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, ans);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<h3 id="Problem-D-averyboyçš„è‹¹æœæ ‘"><a href="#Problem-D-averyboyçš„è‹¹æœæ ‘" class="headerlink" title="Problem D: averyboyçš„è‹¹æœæ ‘"></a>Problem D: averyboyçš„è‹¹æœæ ‘</h3><p>Time Limit: 2 Sec  Memory Limit: 128 MB</p>
<blockquote>
<p>Description</p>
<p>averyboyå®¶æœ‰ä¸€æ£µè‹¹æœæ ‘ã€‚æŠŠè¿™æ£µè‹¹æœæ ‘çœ‹æˆä¸€ä¸ªç”±Nï¼ˆç¼–å·ä¸º1~Nï¼‰ä¸ªèŠ‚ç‚¹ç»„æˆçš„ä»¥1å·èŠ‚ç‚¹ä¸ºæ ¹çš„æœ‰æ ¹æ ‘ã€‚æ¯ä¸ªèŠ‚ç‚¹ä¸Šæœ‰ä¸€ä¸ªè‹¹æœï¼Œæ¯ä¸ªè‹¹æœä¹Ÿæœ‰ä¸€ä¸ªè¥å…»ä»·å€¼a[i]ã€‚ç°åœ¨averyboyæƒ³çŸ¥é“ä»¥æ¯ä¸ªèŠ‚ç‚¹ä¸ºæ ¹çš„å­æ ‘ä¸Šè¥å…»ä»·å€¼ä¸ºå¥‡æ•°çš„èŠ‚ç‚¹çš„ä¸ªæ•°ã€‚</p>
<p>Input</p>
<p>è¾“å…¥ç¬¬ä¸€è¡Œä¸ºä¸€ä¸ªæ•´æ•°T(T &lt;= 5)ä»£è¡¨æµ‹è¯•æ•°æ®çš„ç»„æ•°</p>
<p>æ¥ä¸‹æ¥Tç»„æµ‹è¯•æ•°æ®</p>
<p>æ¯ç»„æµ‹è¯•æ•°æ®ç¬¬ä¸€è¡Œä¸ºä¸€ä¸ªæ•´æ•°N(1 &lt;= N &lt;= 1e5)<br>æ¥ä¸‹æ¥ä¸€è¡ŒNä¸ªéè´Ÿæ•´æ•°a[i]ä»£è¡¨æ¯ä¸€ä¸ªèŠ‚ç‚¹ä¸Šçš„ä¸€ä¸ªè‹¹æœçš„è¥å…»ä»·å€¼ï¼ˆ0 &lt;= a[i] &lt;= 1e6ï¼‰<br>æ¥ä¸‹æ¥N - 1è¡Œï¼Œæ¯ä¸€è¡Œä¸¤ä¸ªæ•´æ•°u, vä»£è¡¨u, vä¹‹é—´æœ‰ä¸€æ¡è¾¹ï¼ˆ1 &lt;= u, v &lt;= Nï¼‰</p>
<p>Output</p>
<p>å¯¹äºæ¯ç»„æµ‹è¯•æ•°æ®ï¼Œè¾“å‡ºä¸€è¡ŒNä¸ªæ•°ï¼Œç¬¬iä¸ªæ•°ä»£è¡¨ä»¥ç¬¬ièŠ‚ç‚¹ä¸ºæ ¹çš„å­æ ‘ï¼ˆå­æ ‘åŒ…æ‹¬è‡ªå·±ï¼‰ä¸Šè‹¹æœè¥å…»ä»·å€¼ä¸ºå¥‡æ•°çš„ä¸ªæ•°</p>
<p>Sample Input<br>2<br>3<br>1 2 3<br>1 2<br>2 3<br>3<br>1 1 1<br>1 2<br>2 3</p>
<p>Sample Output<br>2 1 1<br>3 2 1</p>
<p>HINT</p>
<p>åœ¨ç¬¬ä¸€ç»„æ ·ä¾‹ä¸­ï¼Œä»¥1ä¸ºæ ¹çš„å­æ ‘åŒ…æ‹¬èŠ‚ç‚¹1,2,3ä½†æ˜¯ç”±äº2å·èŠ‚ç‚¹ä¸Šçš„è‹¹æœè¥å…»ä»·å€¼ä¸º2ä¸æ˜¯å¥‡æ•°ï¼Œæ‰€ä»¥ä»¥1ä¸ºæ ¹çš„å­æ ‘ä¸Šä¸€å…±æœ‰2ä¸ªè¥å…»ä»·å€¼ä¸ºå¥‡æ•°çš„è‹¹æœã€‚ä»¥2ä¸ºæ ¹çš„å­æ ‘åŒ…æ‹¬èŠ‚ç‚¹2, 3ï¼Œæ‰€ä»¥åªæœ‰1ä¸ªè¥å…»ä»·å€¼ä¸ºå¥‡æ•°çš„è‹¹æœ.ä»¥3ä¸ºæ ¹çš„å­æ ‘å°±æ˜¯3è‡ªèº«ï¼Œæ‰€ä»¥ä¹Ÿåªæœ‰1ä¸ªè¥å…»ä»·å€¼ä¸ºå¥‡æ•°çš„è‹¹æœã€‚æ‰€ä»¥æœ€åè¾“å‡º2 1 1</p>
</blockquote>
<p>ä¸Šè¯¾æ—¶å­¦é•¿è®²è¿‡ï¼Œï¼Œï¼Œæ‰€ä»¥ç›´æ¥å¥—æ¨¡æ¿äº†ï¼Œï¼Œï¼Œdpæ˜¯åœ¨æ¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œï¼Œdp[i] = sum(dp[son]) + 1;</p>
<p>æˆ‘çš„ä»£ç ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e5</span> * <span class="hljs-number">3</span>;<br><span class="hljs-keyword">int</span> head[maxn];<br><span class="hljs-keyword">int</span> a[maxn];<br><span class="hljs-keyword">int</span> cnt;<br><span class="hljs-keyword">int</span> n , m;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to;<br>    <span class="hljs-keyword">int</span> w;<br>    <span class="hljs-keyword">int</span> last;<br>&#125;Edge[maxm];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u , <span class="hljs-keyword">int</span> v , <span class="hljs-keyword">int</span> w)</span></span><br><span class="hljs-function"></span>&#123;<br>    Edge[cnt].to = v;<br>    Edge[cnt].w = w;<br>    Edge[cnt].last = head[u];<br>    head[u] = cnt++;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u , <span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br>    Edge[cnt].to = v;<br>    <span class="hljs-comment">//Edge[cnt].w = w;</span><br>    Edge[cnt].last = head[u];<br>    head[u] = cnt++;<br>&#125;<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-keyword">int</span> dp[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">tree_dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//dp[rt] = 1;</span><br>    vis[rt] = <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = head[rt]; i != <span class="hljs-number">-1</span>; i = Edge[i].last)<br>    &#123;<br>        <span class="hljs-keyword">int</span> v = Edge[i].to;<br>        <span class="hljs-keyword">if</span> (!vis[v])<br>        &#123;<br>            tree_dfs(v);<br>            dp[rt] += dp[v];<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(head , <span class="hljs-number">-1</span> , <span class="hljs-keyword">sizeof</span>(head));<br>    <span class="hljs-built_in">memset</span>(vis , <span class="hljs-literal">false</span> , <span class="hljs-keyword">sizeof</span>(vis));<br>    <span class="hljs-built_in">memset</span>(dp , <span class="hljs-number">0</span> , <span class="hljs-keyword">sizeof</span>(dp));<br>    cnt = <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//ios_base::sync_with_stdio(0);</span><br>    <span class="hljs-keyword">int</span> t;<br>    <span class="hljs-comment">//cin &gt;&gt; t;</span><br>    <span class="hljs-comment">//freopen(&quot;data.in&quot; , &quot;r&quot; , stdin);</span><br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;t);<br>    <span class="hljs-keyword">while</span> (t--)<br>    &#123;<br>        init();<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;n);<br>        <span class="hljs-comment">//cin &gt;&gt; n;</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;a[i]);<br>            <span class="hljs-comment">//cin &gt;&gt; tmp;</span><br>        &#125;<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>            <span class="hljs-keyword">if</span> (a[i] &amp; <span class="hljs-number">1</span>)<br>                dp[i] = <span class="hljs-number">1</span>;<br><br>        <span class="hljs-keyword">int</span> u , v;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n - <span class="hljs-number">1</span>; i++)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span> , &amp;u , &amp;v);<br>            <span class="hljs-comment">//cin &gt;&gt; u &gt;&gt; v;</span><br>            add(u , v);<br>            add(v , u);<br>        &#125;<br><br>        tree_dfs(<span class="hljs-number">1</span>);<br><br><span class="hljs-comment">//        for (int i = 1; i &lt;= n; i++)</span><br><span class="hljs-comment">//            cout &lt;&lt; dp[i] &lt;&lt; &quot; &quot;;</span><br><span class="hljs-comment">//        cout &lt;&lt; endl;</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span> , dp[i]);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br><br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<p>è®°å¾—æ•°ç»„å¼€å¤§ã€‚ï¼Œï¼Œï¼Œï¼Œï¼Œ</p>
<p>å­¦é•¿çš„ä»£ç ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">100000</span> + <span class="hljs-number">10</span>;<br><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; g[maxn];<br><span class="hljs-keyword">int</span> N;<br><span class="hljs-keyword">int</span> a[maxn];<br><span class="hljs-keyword">int</span> dp[maxn];<br><span class="hljs-keyword">bool</span> visit[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= N; i++)<br>    &#123;<br>        g[i].clear();<br>    &#125;<br>    <span class="hljs-built_in">memset</span>(dp, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span>(dp));<br>    <span class="hljs-built_in">memset</span>(visit, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span>(visit));<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> root)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(a[root]&amp;<span class="hljs-number">1</span>) dp[root] = <span class="hljs-number">1</span>;<br>    visit[root] = <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">int</span> len = g[root].size();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; len; i++)<br>    &#123;<br>        <span class="hljs-keyword">int</span> v = g[root][i];<br>        <span class="hljs-keyword">if</span>(!visit[v])<br>        &#123;<br>            dfs(v);<br>            dp[root] += dp[v];<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    freopen(<span class="hljs-string">&quot;data.in&quot;</span>, <span class="hljs-string">&quot;r&quot;</span>, <span class="hljs-built_in">stdin</span>);<br>    freopen(<span class="hljs-string">&quot;data.out&quot;</span>, <span class="hljs-string">&quot;w&quot;</span>, <span class="hljs-built_in">stdout</span>);<br>    <span class="hljs-keyword">int</span> T;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;T);<br>    <span class="hljs-keyword">while</span>(T--)<br>    &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;N);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= N; i++)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a[i]);<br>        &#125;<br>        init();<br>        <span class="hljs-keyword">int</span> u, v;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; N; i++)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;u, &amp;v);<br>            g[u].push_back(v);<br>            g[v].push_back(u);<br>        &#125;<br>        dfs(<span class="hljs-number">1</span>);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= N; i++)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(i != N) <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, dp[i]);<br>            <span class="hljs-keyword">else</span> <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, dp[i]);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><p>åŠ¨æ€è§„åˆ’æ˜¯å¤§å‘ï¼Œï¼Œï¼Œï¼Œå¾—ä¹‹åå¥½å¥½å¤šåšé¢˜ï¼Œï¼Œï¼Œ</p>
<p>æŒ–ä¸ªå‘ï¼š<br><a href="https://blog.csdn.net/cc_again/article/details/25866971#commentBox">https://blog.csdn.net/cc_again/article/details/25866971#commentBox</a></p>
]]></content>
      <tags>
        <tag>acm</tag>
        <tag>ç®—æ³•</tag>
        <tag>åŠ¨æ€è§„åˆ’</tag>
      </tags>
  </entry>
  <entry>
    <title>åŠ¨æ€è§„åˆ’_çº¿æ€§dp</title>
    <url>/2019/02/21/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92-%E7%BA%BF%E6%80%A7dp/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>çº¿æ€§dpæ˜¯å¾ˆåŸºç¡€çš„ä¸€ç§åŠ¨æ€è§„åˆ’ï¼Œï¼Œç»å…¸é¢˜å’Œä»–çš„å˜ç§æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚ä¸¤ä¸ªä¸²çš„LCS,LIS,æœ€å¤§å­åºåˆ—å’Œç­‰ç­‰ï¼Œï¼Œ</p>
<p>çº¿æ€§dpæ˜¯ç”¨æ¥è§£å†³ä¸€äº› <strong>çº¿æ€§åŒºé—´ä¸Šçš„æœ€ä¼˜åŒ–é—®é¢˜</strong> ï¼Œï¼Œ</p>
<p>å­¦è¿™é‡Œçš„ä¸œè¥¿æˆ‘æ„Ÿè§‰ä¸»è¦è¦ç†è§£å¥½é—®é¢˜çš„å­é—®é¢˜æ¥å†™å‡ºè½¬ç§»æ–¹ç¨‹ï¼Œï¼Œè¿˜æœ‰å¼„æ¸…å…·ä½“çš„è¾¹ç•Œæ¡ä»¶å°±è¡Œäº†ï¼Œï¼Œ</p>
<span id="more"></span>
<h1 id="LCS-æœ€é•¿å…¬å…±å­åºåˆ—"><a href="#LCS-æœ€é•¿å…¬å…±å­åºåˆ—" class="headerlink" title="LCS-æœ€é•¿å…¬å…±å­åºåˆ—"></a>LCS-æœ€é•¿å…¬å…±å­åºåˆ—</h1><h2 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><p>å­åºåˆ—æŒ‡çš„æ˜¯å¯¹äºä¸€ä¸ªä¸²ï¼ŒæŸäº›å…ƒç´ çš„æ’åˆ—ä¸åŸä¸²æ‰€åœ¨çš„é¡ºåºä¸€è‡´çš„ä¸²ç§°ä¸ºåŸä¸²çš„ä¸€ä¸ªå­åºåˆ—ï¼Œï¼Œå®ƒä¸å­ä¸²ä¸åŒï¼Œå­ä¸²å¿…é¡»ä¿è¯ä¸ªå…ƒç´ åœ¨åŸä¸²ä¸­æ˜¯è¿ç»­çš„ï¼Œï¼Œï¼Œeg: åŸä¸²ï¼šabcdef ä¸€ä¸ªå­åºåˆ—ï¼šacf ä¸€ä¸ªå­ä¸²ï¼šabcd</p>
<p>ä¸¤ä¸ªä¸²çš„æœ€å¤§å…¬å…±å­åºåˆ—æŒ‡çš„æ˜¯å¯¹äºä¸¤ä¸ªä¸²æ‰€æœ‰ç›¸åŒçš„å­åºåˆ—ä¸­æœ€é•¿çš„é‚£ä¸€ä¸ªï¼Œï¼Œ</p>
<p><a href="https://blog.csdn.net/someone_and_anyone/article/details/81044153">å‚è€ƒ1</a><br><a href="https://blog.csdn.net/qq_31881469/article/details/77892324">å‚è€ƒ2</a></p>
<h3 id="é¦–å…ˆç¡®å®šå­é—®é¢˜"><a href="#é¦–å…ˆç¡®å®šå­é—®é¢˜" class="headerlink" title="é¦–å…ˆç¡®å®šå­é—®é¢˜"></a>é¦–å…ˆç¡®å®šå­é—®é¢˜</h3><p>æ—¢ç„¶è¦ç”¨åŠ¨æ€è§„åˆ’è§£å†³ï¼Œé‚£ä¹ˆè¿™ä¸ªé—®é¢˜ä¸€å®šèƒ½å¤Ÿåˆ†æˆå­é—®é¢˜æ¥æ¨å‡ºã€‚ã€‚é¦–å…ˆæ ¹æ®å®šä¹‰å¯ä»¥çœ‹å‡ºå¯¹äºä¸¤ä¸ªä¸²çš„å­ä¸²çš„LCSä¹Ÿä¸€å®šæ˜¯åŸä¸²çš„LCSçš„ä¸€éƒ¨åˆ†ï¼Œï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç”¨åŸä¸²çš„å­ä¸²çš„LCSæ¥æ±‚åŸä¸²çš„LCSäº†ï¼Œï¼Œ</p>
<h3 id="çŠ¶æ€"><a href="#çŠ¶æ€" class="headerlink" title="çŠ¶æ€"></a>çŠ¶æ€</h3><p>æˆ‘ä»¬ç”¨ $dp[i][j]$ æ¥è¡¨ç¤ºå¯¹äºAçš„å­ä¸² $Aâ€™:A_1, A_2, A_3,,,A_i$ å’ŒBçš„å­ä¸² $Bâ€™:B_1, B_2, B_3,,,B_j$ çš„ <strong>LCS</strong>ï¼›</p>
<p>é‚£ä¹ˆæ€ä¹ˆé€šè¿‡ä¸Šä¸€çŠ¶æ€å¾—åˆ° $dp[i][j]$ å‘¢ï¼Ÿå¾€å‰æ¨ä¸€ä¸ªå­—ç¬¦çœ‹çœ‹</p>
<p>è€ƒè™‘æ‰€æœ‰ $Aâ€™,Bâ€™$ çš„å­ä¸²ï¼Œä»–ä»¬çš„å¯èƒ½æƒ…å†µæœ‰ï¼›</p>
<ul>
<li>ä¸¤ä¸ªä¸²çš„æŸå°¾å­—ç¬¦ä¸€æ · $(a[i]=b[j])$ï¼Œï¼Œæ˜¾ç„¶è¿™æ ·æƒ…å†µä¸‹ $dp[i][j]=dp[i-1][j-1]+1$</li>
<li>ä¸ç›¸ç­‰æ—¶å°±æ‰¾ $Aâ€™$ å¾€å‰æ¨ä¸€ä¸ªå­—ç¬¦å’Œ $Bâ€™$çš„LCS ä¸ $Aâ€™$ å’Œ $Bâ€™$ å¾€å‰æ¨ä¸€ä¸ªå­—ç¬¦çš„LCS çš„æœ€å¤§çš„é‚£ä¸ªå°±è¡Œäº†ï¼Œï¼Œä¹Ÿå°±æ˜¯è¯´ $dp[i][j]=max(dp[i-1][j], dp[i][j-1])$</li>
</ul>
<h3 id="çŠ¶æ€è½¬ç§»æ–¹ç¨‹"><a href="#çŠ¶æ€è½¬ç§»æ–¹ç¨‹" class="headerlink" title="çŠ¶æ€è½¬ç§»æ–¹ç¨‹"></a>çŠ¶æ€è½¬ç§»æ–¹ç¨‹</h3><p>çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼š</p>
<script type="math/tex; mode=display">
{
    dp[i][j]=
    \begin{cases}
        dp[i-1][j-1]+1, & \text{if a[i]=b[j]}\\
        max(dp[i-1][j], dp[i][j-1]), & \text{if a[i] != b[j]}\\
    \end{cases}
}</script><p>æ³¨æ„åˆå§‹åŒ–çš„æ—¶å€™dp[i][j]=0;</p>
<h2 id="ä¾‹é¢˜"><a href="#ä¾‹é¢˜" class="headerlink" title="ä¾‹é¢˜"></a>ä¾‹é¢˜</h2><h3 id="hdu-1159"><a href="#hdu-1159" class="headerlink" title="hdu-1159"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1159">hdu-1159</a></h3><p>æ¿å­é¢˜ç›´æ¥åšå°±è¡Œï¼Œï¼Œç†Ÿæ‚‰ä¸€ä¸‹ä»£ç </p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> dp[maxn][maxn];<br><span class="hljs-keyword">char</span> a[maxn], b[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">while</span>(~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s%s&quot;</span>, a, b))<br>    &#123;<br>        <span class="hljs-keyword">int</span> len1 = <span class="hljs-built_in">strlen</span>(a);<br>        <span class="hljs-keyword">int</span> len2 = <span class="hljs-built_in">strlen</span>(b);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= max(len1, len2); ++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt;= max(len1, len2); ++j)<br>                dp[i][j] = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= len1; ++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= len2; ++j)<br>                <span class="hljs-keyword">if</span>(a[i - <span class="hljs-number">1</span>] == b[j - <span class="hljs-number">1</span>])<br>                    dp[i][j] = dp[i - <span class="hljs-number">1</span>][j - <span class="hljs-number">1</span>] + <span class="hljs-number">1</span>;<br>                <span class="hljs-keyword">else</span><br>                    dp[i][j] = max(dp[i - <span class="hljs-number">1</span>][j], dp[i][j - <span class="hljs-number">1</span>]);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, dp[len1][len2]);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="poj-2250"><a href="#poj-2250" class="headerlink" title="poj-2250"></a><a href="http://poj.org/problem?id=2250">poj-2250</a></h3><p>é¢˜æ„ï¼šä¸¤ä¸ªæ²¡æœ‰æ ‡ç‚¹åªæœ‰ç©ºæ ¼çš„å¹¶ä»¥â€™#â€ç»“å°¾çš„å¥å­ï¼Œè®©ä½ æ‰¾å‡ºLCSï¼Œå¹¶è¾“å‡º</p>
<p>è§£å†³çš„æ–¹æ³•å°±æ˜¯LCSï¼ŒåŸºæœ¬çš„å¥—è·¯æ²¡å˜ï¼Œï¼Œå°±æ˜¯å¯¹æ•°æ®çš„å¤„ç†æ”¹ä¸€ä¸‹ï¼Œï¼Œç”¨ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„å­˜ä¸€ä¸‹ï¼Œï¼Œ</p>
<p>ç„¶åæœ€åè¦å°†åºåˆ—è¾“å‡ºæ—¶ï¼Œç”¨ä¸€ä¸ªmarkæ•°ç»„æ ‡è®°æ¯ä¸€æ¬¡dpæ—¶çš„æƒ…å†µï¼ˆè®°å½•ä¸‹æ¯ä¸ªçŠ¶æ€çš„æœ€ä¼˜å€¼æ˜¯ç”±çŠ¶æ€è½¬ç§»æ–¹ç¨‹çš„å“ªä¸€é¡¹æ¨å‡ºçš„ï¼‰ï¼Œï¼Œæœ€åé€†ç€è¿”å›å»æŠŠç­”æ¡ˆè®°å½•ä¸€ä¸‹å°±å¥½ï¼Œï¼Œï¼ˆæŠŠmarkæ•°ç»„æ‰‹æ¨ä¸€ä¸‹å°±è¡Œï¼Œï¼Œï¼ˆèƒŒåŒ…ä¹è®²é‡Œæœ€åæåˆ°è¿‡è§£çš„è¾“å‡ºï¼Œï¼Œï¼Œ</p>
<p>è¿™ä¸ªå¾ˆé‡è¦ï¼Œï¼Œå¾ˆå¤šåœ°æ–¹éƒ½ä¼šç”¨åˆ°ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> dp[maxn][maxn];<br><span class="hljs-built_in">string</span> a[maxn], b[maxn];<br><span class="hljs-keyword">int</span> mark[maxn][maxn];<br><span class="hljs-keyword">int</span> cnt, ans[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">findans</span><span class="hljs-params">(<span class="hljs-keyword">int</span> i, <span class="hljs-keyword">int</span> j)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(!i &amp;&amp; !j)<span class="hljs-keyword">return</span>;<br>    <span class="hljs-keyword">if</span>(mark[i][j] == <span class="hljs-number">0</span>)<br>    &#123;<br>        findans(i - <span class="hljs-number">1</span>, j - <span class="hljs-number">1</span>);<br>        ans[++cnt] = i;<br>    &#125;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(mark[i][j] == <span class="hljs-number">1</span>)<br>        findans(i - <span class="hljs-number">1</span>, j);<br>    <span class="hljs-keyword">else</span><br>        findans(i, j - <span class="hljs-number">1</span>);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">cin</span> &gt;&gt; a[<span class="hljs-number">1</span>])<br>    &#123;<br>        <span class="hljs-keyword">int</span> len1 = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">int</span> len2 = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">while</span>(a[len1] != <span class="hljs-string">&quot;#&quot;</span>)<span class="hljs-built_in">cin</span> &gt;&gt; a[++len1];--len1;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; b[<span class="hljs-number">1</span>];<br>        <span class="hljs-keyword">while</span>(b[len2] != <span class="hljs-string">&quot;#&quot;</span>)<span class="hljs-built_in">cin</span> &gt;&gt; b[++len2];--len2;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= max(len1, len2); ++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt;= max(len1, len2); ++j)<br>                dp[i][j] = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= len1; ++i)mark[i][<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= len2; ++i)mark[<span class="hljs-number">0</span>][i] = <span class="hljs-number">-1</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= len1; ++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= len2; ++j)<br>                <span class="hljs-keyword">if</span>(a[i] == b[j])<br>                &#123;<br>                    dp[i][j] = dp[i - <span class="hljs-number">1</span>][j - <span class="hljs-number">1</span>] + <span class="hljs-number">1</span>;<br>                    mark[i][j] = <span class="hljs-number">0</span>;<br>                &#125;<br>                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(dp[i - <span class="hljs-number">1</span>][j] &gt;= dp[i][j - <span class="hljs-number">1</span>])<br>                &#123;<br>                    dp[i][j] = dp[i - <span class="hljs-number">1</span>][j];<br>                    mark[i][j] = <span class="hljs-number">1</span>;<br>                &#125;<br>                <span class="hljs-keyword">else</span><br>                &#123;<br>                    dp[i][j] = dp[i][j - <span class="hljs-number">1</span>];<br>                    mark[i][j] = <span class="hljs-number">-1</span>;<br>                &#125;<br>        cnt = <span class="hljs-number">0</span>;<br>        findans(len1, len2);<br>        <span class="hljs-built_in">cout</span> &lt;&lt; a[ans[<span class="hljs-number">1</span>]];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= cnt; ++i)<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; a[ans[i]];<br>        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="hdu-1503"><a href="#hdu-1503" class="headerlink" title="hdu-1503"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1503">hdu-1503</a></h3><p>é¢˜æ„å°±æ˜¯ç»™å®šä¸¤ä¸ªä¸²ï¼Œï¼Œè¾“å‡ºä¸€ä¸ªä¸²ï¼Œè¿™ä¸ªä¸²çš„å…¶ä¸­ä¸¤ä¸ªå­åºåˆ—è¦æ˜¯åŸæ¥çš„ä¸¤ä¸ªä¸²ï¼Œï¼Œ</p>
<p>è¦è¾“å‡ºç­”æ¡ˆï¼Œï¼Œæ‰€ä»¥è¦åœ¨çŠ¶æ€è½¬ç§»çš„æ—¶å€™æ ‡è®°æ¯ä¸ªå­—ç¬¦ï¼Œï¼Œæœ€åå›æº¯æ—¶åˆ¤æ–­è¾“å‡ºå°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//hdu</span><br><span class="hljs-comment">//#include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; pii;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> dp[maxn][maxn];<br><span class="hljs-keyword">char</span> a[maxn], b[maxn];<br><span class="hljs-keyword">int</span> mark[maxn][maxn];<br><span class="hljs-keyword">int</span> cnt, ans[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">findans</span><span class="hljs-params">(<span class="hljs-keyword">int</span> i, <span class="hljs-keyword">int</span> j)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(!i &amp;&amp; !j)<span class="hljs-keyword">return</span>;<br>    <span class="hljs-keyword">if</span>(mark[i][j] == <span class="hljs-number">0</span>)<br>    &#123;<br>        findans(i - <span class="hljs-number">1</span>, j - <span class="hljs-number">1</span>);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%c&quot;</span>, a[i - <span class="hljs-number">1</span>]);<br>    &#125;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(mark[i][j] == <span class="hljs-number">1</span>)<br>    &#123;<br>        findans(i - <span class="hljs-number">1</span>, j);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%c&quot;</span>, a[i - <span class="hljs-number">1</span>]);<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        findans(i, j - <span class="hljs-number">1</span>);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%c&quot;</span>, b[j - <span class="hljs-number">1</span>]);<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">while</span>(~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s%s&quot;</span>, a, b))<br>    &#123;<br>        <span class="hljs-keyword">int</span> len1 = <span class="hljs-built_in">strlen</span>(a);<br>        <span class="hljs-keyword">int</span> len2 = <span class="hljs-built_in">strlen</span>(b);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= max(len1, len2); ++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt;= max(len1, len2); ++j)<br>                dp[i][j] = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= len1; ++i)mark[i][<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= len2; ++i)mark[<span class="hljs-number">0</span>][i] = <span class="hljs-number">-1</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= len1; ++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= len2; ++j)<br>                <span class="hljs-keyword">if</span>(a[i - <span class="hljs-number">1</span>] == b[j - <span class="hljs-number">1</span>])<br>                &#123;<br>                    dp[i][j] = dp[i - <span class="hljs-number">1</span>][j - <span class="hljs-number">1</span>] + <span class="hljs-number">1</span>;<br>                    mark[i][j] = <span class="hljs-number">0</span>;<br>                &#125;<br>                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(dp[i - <span class="hljs-number">1</span>][j] &gt;= dp[i][j - <span class="hljs-number">1</span>])<br>                &#123;<br>                    dp[i][j] = dp[i - <span class="hljs-number">1</span>][j];<br>                    mark[i][j] = <span class="hljs-number">1</span>;<br>                &#125;<br>                <span class="hljs-keyword">else</span><br>                &#123;<br>                    dp[i][j] = dp[i][j - <span class="hljs-number">1</span>];<br>                    mark[i][j] = <span class="hljs-number">-1</span>;<br>                &#125;<br>        findans(len1, len2);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="hdu-1513"><a href="#hdu-1513" class="headerlink" title="hdu-1513"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1513">hdu-1513</a></h3><p>é¢˜æ„ï¼šç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸ºnçš„å­—ç¬¦ä¸²ï¼Œé—®ä½ æœ€å°‘æ·»åŠ å‡ ä¸ªå­—ç¬¦ä½¿å¾—è¿™ä¸ªå­—ç¬¦ä¸²å˜æˆä¸€ä¸ªå›æ–‡ä¸²ï¼Œï¼Œ</p>
<p>å› ä¸ºåªæ˜¯é—®å­—ç¬¦çš„ä¸ªæ•°ï¼Œï¼Œæ²¡é—®æœ€åçš„ç»“æœï¼Œï¼Œæ‰€ä»¥å¯ä»¥å…ˆæ±‚åŸä¸²å’Œå…¶é€†ä¸²çš„LCSï¼Œï¼Œç„¶åç”¨é•¿åº¦å»ºè®®ä¸‹å°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
<p>æ³¨æ„ï¼Œå› ä¸ºå­—ç¬¦ä¸²çš„é•¿åº¦æ˜¯å°äºç­‰äº5000ï¼Œï¼Œå¼€dpæ•°ç»„æ—¶ç›´æ¥å¼€ä¼šçˆ†æ‰ï¼Œï¼Œæ‰€ä»¥è¦ç”¨ <strong>æ»šåŠ¨æ•°ç»„</strong> æ¥ä¼˜åŒ–ä¸€ä¸‹ç©ºé—´ï¼Œï¼Œ<br>ï¼ˆçœ‹ä¸€ä¸‹é‚£ä¸ªdpçš„å›¾å°±èƒ½çœ‹å‡ºåœ¨æ±‚dp[i][j]æ˜¯ï¼Œï¼Œä»…ä»…ç”¨åˆ°çš„æ˜¯ä¸Šä¸€è¡Œï¼Œï¼Œåœ¨å¾€ä¸Šå°±ä¸å†ç”¨äº†ï¼Œï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ç”¨ä¸¤è¡Œè§£å†³å°±è¡Œäº†ï¼Œï¼Œï¼Œæ¯”å¦‚è¯´å¥‡æ•°è¡Œç”¨ç¬¬ä¸€å±‚ï¼Œå¶æ•°ç”¨ç¬¬é›¶å±‚ï¼Œï¼Œi%2å°±è¡Œï¼Œï¼Œè®¿é—®å½“å‰å±‚çš„ä¸Šä¸€å±‚å°±ç”¨ 1-i%2 å°±è¡Œäº†ï¼Œï¼Œå¾ˆå·§å•Šï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> dp[<span class="hljs-number">2</span>][maxn];<br><span class="hljs-keyword">char</span> a[maxn], b[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">int</span> n;<br>    <span class="hljs-keyword">while</span>(~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n))<br>    &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>, a);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n - <span class="hljs-number">1</span>; ++i)b[i] = a[n - i - <span class="hljs-number">1</span>];<br>        <span class="hljs-keyword">int</span> len1 = n;<br>        <span class="hljs-keyword">int</span> len2 = len1;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= max(len1, len2); ++i)<br>            dp[<span class="hljs-number">0</span>][i] = dp[<span class="hljs-number">1</span>][i] = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= len1; ++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= len2; ++j)<br>                <span class="hljs-keyword">if</span>(a[i - <span class="hljs-number">1</span>] == b[j - <span class="hljs-number">1</span>])<br>                &#123;<br>                    dp[i % <span class="hljs-number">2</span>][j] = dp[<span class="hljs-number">1</span> - i % <span class="hljs-number">2</span>][j - <span class="hljs-number">1</span>] + <span class="hljs-number">1</span>;<br>                &#125;<br>                <span class="hljs-keyword">else</span><br>                    dp[i % <span class="hljs-number">2</span>][j] = max(dp[<span class="hljs-number">1</span> - i % <span class="hljs-number">2</span>][j], dp[i % <span class="hljs-number">2</span>][j - <span class="hljs-number">1</span>]);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, n - dp[n % <span class="hljs-number">2</span>][n]);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="æœ€é•¿å…¬å…±å­ä¸²"><a href="#æœ€é•¿å…¬å…±å­ä¸²" class="headerlink" title="æœ€é•¿å…¬å…±å­ä¸²"></a>æœ€é•¿å…¬å…±å­ä¸²</h1><p>å­åºåˆ—æ˜¯åºåˆ—ä¸­çš„å…ƒç´ ä¸ä¸€å®šè¿ç»­ï¼Œï¼Œå­ä¸²çš„è¯æ¯ä¸€ä¸ªå…ƒç´ åœ¨åŸä¸²ä¸­æ˜¯è¿ç»­çš„ï¼Œï¼Œå¯ä»¥ä¿®æ”¹ä¸€ä¸‹LCSæ¥æ±‚</p>
<h2 id="çŠ¶æ€è½¬ç§»æ–¹ç¨‹-1"><a href="#çŠ¶æ€è½¬ç§»æ–¹ç¨‹-1" class="headerlink" title="çŠ¶æ€è½¬ç§»æ–¹ç¨‹"></a>çŠ¶æ€è½¬ç§»æ–¹ç¨‹</h2><p>å› ä¸ºè¦ä¿è¯è¿ç»­ï¼Œæ‰€ä»¥åªæœ‰åœ¨ $a[i]=b[j]$ æ—¶ï¼Œ$dp[i][j] = dp[i-1][j-1]$ï¼Œï¼Œä¹Ÿå°±æ˜¯è¯´ $dp[i][j]$ è¡¨ç¤ºé•¿åº¦ä¸ºiå’Œjçš„å­ä¸²çš„æœ€é•¿å­ä¸²</p>
<h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= len1; ++i)<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= len2; ++j)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(a[i<span class="hljs-number">-1</span>] = b[j<span class="hljs-number">-1</span>])<br>            dp[i][j] = dp[i<span class="hljs-number">-1</span>][j<span class="hljs-number">-1</span>]+<span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">else</span><br>            dp[i][j] = <span class="hljs-number">0</span>;<br>        ans = max(ans, dp[i][j]);<br>    &#125;<br></code></pre></td></tr></table></figure>
<h1 id="LIS-æœ€é•¿ä¸Šå‡åºåˆ—"><a href="#LIS-æœ€é•¿ä¸Šå‡åºåˆ—" class="headerlink" title="LIS-æœ€é•¿ä¸Šå‡åºåˆ—"></a>LIS-æœ€é•¿ä¸Šå‡åºåˆ—</h1><h2 id="åˆ†æ-1"><a href="#åˆ†æ-1" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><p>ä¸Šå‡åºåˆ—å°±æ˜¯æŒ‡åºåˆ—çš„å…ƒç´ æ—¶é€’å¢çš„ï¼Œï¼Œä¾‹å¦‚ï¼š4ï¼Œ1ï¼Œ3ï¼Œ2ï¼Œ5ï¼Œ7ä¸­çš„ä¸€ä¸ªä¸Šå‡åºåˆ—å°±æ˜¯1ï¼Œ2ï¼Œ5ï¼Œ7ï¼Œï¼Œ</p>
<h3 id="ç¡®å®šå­é—®é¢˜"><a href="#ç¡®å®šå­é—®é¢˜" class="headerlink" title="ç¡®å®šå­é—®é¢˜"></a>ç¡®å®šå­é—®é¢˜</h3><p>æŸä¸ªä»1å¼€å§‹çš„å­ä¸²çš„LISä¸€å®šæ˜¯åŸä¸²LISçš„å­åºåˆ—ï¼Œï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡æšä¸¾å³è¾¹ç•Œæ¥å¾—åˆ°åŸä¸²çš„LISï¼Œï¼Œ</p>
<h3 id="çŠ¶æ€-1"><a href="#çŠ¶æ€-1" class="headerlink" title="çŠ¶æ€"></a>çŠ¶æ€</h3><p>ç”¨ $dp[i]$ è¡¨ç¤º $A_1, A_2, A_3,,,A_i$è¿™ä¸ªå­ä¸²çš„LISï¼Œï¼Œç„¶åæšä¸¾è¿™ä¸ªå­ä¸²ä¸­çš„å…ƒç´ ï¼Œï¼Œå¦‚æœ $a[j]&lt;a[i]$ ï¼Œå³ç¬¬iä¸ªå…ƒç´ æ¯”ç¬¬jä¸ªå…ƒç´ å¤§çš„æ—¶å€™ï¼Œå¯ä»¥å°†ç¬¬iä¸ªå…ƒç´ ä½œä¸ºæŸä¸ªå­åºåˆ—çš„ä¸€éƒ¨åˆ†ï¼Œï¼Œ</p>
<h3 id="çŠ¶æ€è½¬ç§»æ–¹ç¨‹-2"><a href="#çŠ¶æ€è½¬ç§»æ–¹ç¨‹-2" class="headerlink" title="çŠ¶æ€è½¬ç§»æ–¹ç¨‹"></a>çŠ¶æ€è½¬ç§»æ–¹ç¨‹</h3><script type="math/tex; mode=display">
{
    dp[i]=
    \begin{cases}
    max(dp[i], dp[j]+1) & \text{if a[i] > a[j]}\\
    \end{cases}
}</script><p>å› ä¸ºæœ€åæœ€é•¿çš„åºåˆ—å¹¶ä¸ä¸€å®šæ˜¯ä»¥a[n]ç»“å°¾çš„ï¼Œï¼Œæ‰€ä»¥æœ€åçš„æœ€å¤§å€¼å¹¶ä¸ä¸€å®šæ˜¯dp[n]ï¼Œï¼Œè¦éå†ä¸€éæ•´ä¸ªdpæ•°ç»„æ‰¾ä¸€ä¸‹ï¼Œï¼Œï¼Œ</p>
<h3 id="æ—¶é—´å¤æ‚åº¦"><a href="#æ—¶é—´å¤æ‚åº¦" class="headerlink" title="æ—¶é—´å¤æ‚åº¦"></a>æ—¶é—´å¤æ‚åº¦</h3><p>è¿™æ ·åšçš„æ—¶é—´å¤æ‚åº¦å¤§æ¦‚æ˜¯ $O(n^2)$ï¼Œï¼Œï¼Œå¯ä»¥å†ç”¨äºŒåˆ†æˆ–åˆ™æ ‘çŠ¶æ•°ç»„ç»´æŠ¤é™ä½æ—¶é—´å¤æ‚åº¦</p>
<h2 id="ä¾‹é¢˜-1"><a href="#ä¾‹é¢˜-1" class="headerlink" title="ä¾‹é¢˜"></a>ä¾‹é¢˜</h2><h3 id="poj-2533"><a href="#poj-2533" class="headerlink" title="poj-2533"></a><a href="http://poj.org/problem?id=2533">poj-2533</a></h3><h4 id="è£¸dpåšæ³•ï¼Œæ—¶é—´å¤æ‚åº¦-O-n-2"><a href="#è£¸dpåšæ³•ï¼Œæ—¶é—´å¤æ‚åº¦-O-n-2" class="headerlink" title="è£¸dpåšæ³•ï¼Œæ—¶é—´å¤æ‚åº¦ $O(n^2)$"></a>è£¸dpåšæ³•ï¼Œæ—¶é—´å¤æ‚åº¦ $O(n^2)$</h4><p>è£¸æ¿å­é¢˜ï¼Œï¼Œæ³¨æ„åˆå§‹åŒ–dpæ•°ç»„çš„æ•°åæ˜¯åˆå§‹åŒ–ä¸º1ï¼Œï¼Œä¸æ˜¯åƒLCSåˆå§‹åŒ–ä¸º0ï¼›</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">int</span> n;<br><span class="hljs-keyword">while</span>(~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n))<br>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a[i]);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)dp[i] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= n; ++i)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt; i; ++j)<br>            <span class="hljs-keyword">if</span>(a[i] &gt; a[j])dp[i] = max(dp[i], dp[j] + <span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)ans = max(ans, dp[i]);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, ans);<br>&#125;<br></code></pre></td></tr></table></figure>
<h4 id="è´ªå¿ƒ-äºŒåˆ†ï¼Œæ—¶é—´å¤æ‚åº¦-O-nlogn"><a href="#è´ªå¿ƒ-äºŒåˆ†ï¼Œæ—¶é—´å¤æ‚åº¦-O-nlogn" class="headerlink" title="è´ªå¿ƒ+äºŒåˆ†ï¼Œæ—¶é—´å¤æ‚åº¦ $O(nlogn)$"></a>è´ªå¿ƒ+äºŒåˆ†ï¼Œæ—¶é—´å¤æ‚åº¦ $O(nlogn)$</h4><p>è£¸çš„dpçš„å†…å±‚å¾ªç¯çš„ä½œç”¨æ˜¯å¯»æ‰¾åœ¨ $a[i]&gt;a[j]$ æ—¶çš„æœ€å¤§çš„ $dp[j]$ çš„å€¼ï¼Œï¼Œå•çº¯çš„éå†å¤æ‚åº¦ä¼šå¢ä¸€å€ï¼Œï¼Œ</p>
<p>å¯ä»¥ç”¨ä¸€ä¸ªæ•°ç»„ä¿å­˜iä¹‹å‰æœ€é•¿çš„ä¸Šå‡å­åºåˆ—ï¼Œï¼Œï¼Œ</p>
<p>å¦‚æœæ­¤æ—¶çš„ $a[i]$ æ¯”é‚£ä¸ªæ•°ç»„çš„æœ€å¤§çš„å…ƒç´ ä¹Ÿå°±æ˜¯æœ€åä¸€ä¸ªå…ƒç´ çš„å€¼å¤§çš„è¯ï¼Œï¼Œå°±ç›´æ¥åŠ åœ¨é‚£ä¸ªæ•°ç»„åé¢ï¼Œï¼Œ</p>
<p>å¦åˆ™ï¼Œå°±æƒ³æ–¹æ³•æ›¿æ¢æ‰é‡Œé¢æ¥è¿‘ $a[i]$ çš„å…ƒç´ ï¼Œï¼Œï¼Œå¯ä»¥ç”¨äºŒåˆ†æ¥ä¼˜åŒ–è¿™ä¸€è¿‡ç¨‹ï¼Œï¼Œ</p>
<p><a href="https://blog.csdn.net/qq_22902423/article/details/49932259">å…·ä½“çš„å¯ä»¥å‚è€ƒè¿™é‡Œ</a><br><a href="https://blog.csdn.net/George__Yu/article/details/75896330">å’Œè¿™é‡Œ</a></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">int</span> n;<br><span class="hljs-keyword">while</span>(~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n))<br>&#123;<br>    cnt = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a[i]);<br>    b[<span class="hljs-number">1</span>] = a[<span class="hljs-number">1</span>];<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(a[i] &gt; b[cnt])b[++cnt] = a[i];<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-keyword">int</span> k = lower_bound(b + <span class="hljs-number">1</span>, b + <span class="hljs-number">1</span> + cnt, a[i]) - b;<br>            b[k] = a[i];<br>        &#125;<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, cnt);<br>&#125;<br></code></pre></td></tr></table></figure>
<h4 id="æ ‘çŠ¶æ•°ç»„ç»´æŠ¤ï¼Œæ—¶é—´å¤æ‚åº¦-O-nlogn"><a href="#æ ‘çŠ¶æ•°ç»„ç»´æŠ¤ï¼Œæ—¶é—´å¤æ‚åº¦-O-nlogn" class="headerlink" title="æ ‘çŠ¶æ•°ç»„ç»´æŠ¤ï¼Œæ—¶é—´å¤æ‚åº¦ $O(nlogn)$"></a>æ ‘çŠ¶æ•°ç»„ç»´æŠ¤ï¼Œæ—¶é—´å¤æ‚åº¦ $O(nlogn)$</h4><p>~~(loading),,,</p>
<p>çœ‹åˆ°æœ‰è¿™ä¸ªåšæ³•ï¼Œï¼Œä½†æ˜¯ä¸çŸ¥é“æ€ä¹ˆæ˜¯é”™çš„ï¼Œï¼Œï¼Œï¼ˆå¥½åƒæ˜¯æ’åºåè¦å»é‡ï¼Ÿï¼Ÿï¼Ÿä¸ç„¶æ˜¯æ±‚å¾—æœ€é•¿ä¸ä¸‹é™å­åºåˆ—~~</p>
<p>ç®—äº†ï¼Œå…ˆè´´ä¸ª <strong>é”™</strong> çš„ä»£ç å§ï¼Œï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> id, num;<br>    <span class="hljs-keyword">const</span> <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>&lt;(<span class="hljs-keyword">const</span> node &amp;r)<span class="hljs-keyword">const</span><br>    &#123;<br>        <span class="hljs-keyword">return</span> num &lt; r.num;<br>    &#125;<br>    <span class="hljs-keyword">const</span> <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>==(<span class="hljs-keyword">const</span> node &amp;r)<span class="hljs-keyword">const</span><br>    &#123;<br>        <span class="hljs-keyword">return</span> num == r.num;<br>    &#125;<br>&#125;node[maxn];<br><span class="hljs-keyword">int</span> bit[maxn];<br><span class="hljs-keyword">int</span> n;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">update</span><span class="hljs-params">(<span class="hljs-keyword">int</span> i, <span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(; i &lt;= n; i += i &amp; (-i))bit[i] = max(bit[i], x);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">query</span><span class="hljs-params">(<span class="hljs-keyword">int</span> i)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> res = -inf;<br>    <span class="hljs-keyword">for</span>(; i; i -= i &amp; (-i))res = max(res, bit[i]);<br>    <span class="hljs-keyword">return</span> res;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">while</span>(~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n))<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;node[i].num);<br>            node[i].id = i;<br>        &#125;<br>        <span class="hljs-comment">//memset(bit, 0, sizeof bit);</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;=<span class="hljs-number">100</span>; ++i)bit[i] = <span class="hljs-number">1</span>;<br>        sort(node + <span class="hljs-number">1</span>, node + <span class="hljs-number">1</span> + n);<br><span class="hljs-comment">//        int cnt = unique(node + 1, node + 1 + n) - node - 1;</span><br>        <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        &#123;<br>            <span class="hljs-built_in">cout</span> &lt;&lt; node[i].num;<br>            <span class="hljs-keyword">if</span>(node[i].num &gt; node[i - <span class="hljs-number">1</span>].num)<br>            &#123;<br>                <span class="hljs-keyword">int</span> mx = query(node[i].id);<br>                update(node[i].id, ++mx);<br>                ans = max(ans, mx);<br>            &#125;<br><br><br>        &#125;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, ans);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-number">4</span><br><span class="hljs-number">1</span> <span class="hljs-number">1</span> <span class="hljs-number">1</span> <span class="hljs-number">1</span><br><span class="hljs-comment">//å‡ºæ¥çš„ç»“æœæ˜¯4ï¼Œï¼Œï¼Œ</span><br></code></pre></td></tr></table></figure>
<h1 id="LICS-æœ€é•¿å…¬å…±ä¸Šå‡å­åºåˆ—"><a href="#LICS-æœ€é•¿å…¬å…±ä¸Šå‡å­åºåˆ—" class="headerlink" title="LICS-æœ€é•¿å…¬å…±ä¸Šå‡å­åºåˆ—"></a>LICS-æœ€é•¿å…¬å…±ä¸Šå‡å­åºåˆ—</h1><p>LICSå°±æ˜¯å°†LISå’ŒLCSåˆåœ¨ä¸€èµ·ï¼Œï¼Œç¨å¾®æ”¹ä¸€æ”¹å°±è¡Œäº†ï¼Œï¼Œ</p>
<h2 id="åˆ†æ-2"><a href="#åˆ†æ-2" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h2><h3 id="å­é—®é¢˜"><a href="#å­é—®é¢˜" class="headerlink" title="å­é—®é¢˜"></a>å­é—®é¢˜</h3><p>åƒLCSï¼ŒLISä¸€æ ·ï¼Œï¼Œæˆ‘ä»¬ç”¨dp[i][j]è¡¨ç¤ºåºåˆ—1å–é•¿åº¦ä¸ºiå’Œåºåˆ—2å–é•¿åº¦ä¸ºjæ—¶çš„LICSçš„å€¼ï¼Œï¼Œç„¶åæšä¸¾æ¯ä¸€ä¸ªå…ƒç´ æ¥æ›´æ–°åé¢çš„å¾—åˆ°æœ€åçš„ç­”æ¡ˆï¼Œï¼Œ</p>
<h3 id="çŠ¶æ€è½¬ç§»æ–¹ç¨‹-3"><a href="#çŠ¶æ€è½¬ç§»æ–¹ç¨‹-3" class="headerlink" title="çŠ¶æ€è½¬ç§»æ–¹ç¨‹"></a>çŠ¶æ€è½¬ç§»æ–¹ç¨‹</h3><ul>
<li>å½“ $a[i]=b[j]$æ—¶ï¼Œï¼Œæ˜¾ç„¶æ­¤æ—¶çš„LICSå°±ä¸ºå‰é¢å‡ºç°çš„æœ€å¤§çš„LICSçš„å€¼åŠ ä¸€ï¼Œï¼Œä¹Ÿå°±æ˜¯ï¼š $dp[i][j]=max(d[i][k])+1 { k = 1 \ to \ j - 1 }$</li>
</ul>
<p>å¦‚æœåªæ˜¯å•çº¯çš„ä¸€éä¸€éçš„æšä¸¾kï¼Œï¼Œæ˜¾ç„¶ä¼šä½¿æœ€åçš„æ—¶é—´å¤æ‚åº¦å¢åŠ ä¸º $O(n^3)$ ï¼Œï¼Œ å› ä¸ºæ¯æ¬¡æ›´æ–°dp[i][j]éƒ½æ˜¯å¯»æ‰¾çš„å‰é¢çš„æœ€å€¼ï¼Œï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è®°å½•ä¸‹æ¥å‰é¢çš„æœ€å€¼ï¼Œï¼Œç„¶åå’Œå½“ç‚¹æšä¸¾çš„æ¯”è¾ƒå°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
<p>ä¸ºäº†ä¿è¯æ—¶ä¸Šå‡çš„ï¼Œï¼Œæ‰€ä»¥ä¸ç­‰çš„æ—¶å€™åªèƒ½å¯»æ‰¾ $a[i]&gt;b[j]$ çš„æƒ…å†µï¼Œï¼Œæ‰¾åˆ°æœ€å¤§å€¼</p>
<h2 id="ä¾‹é¢˜-2"><a href="#ä¾‹é¢˜-2" class="headerlink" title="ä¾‹é¢˜"></a>ä¾‹é¢˜</h2><h3 id="hdu-1423"><a href="#hdu-1423" class="headerlink" title="hdu-1423"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1423">hdu-1423</a></h3><p>æ¿å­é¢˜ï¼Œï¼Œç›´æ¥åš</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//æ²¡æœ‰ç©ºé—´ä¼˜åŒ–çš„</span><br><span class="hljs-comment">//æ³¨æ„è¾“å‡ºæ ¼å¼</span><br><span class="hljs-keyword">int</span> a[maxn], b[maxn], dp[maxn][maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> t;<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;t);<br>    <span class="hljs-keyword">while</span>(t--)<br>    &#123;<br>        <span class="hljs-keyword">int</span> len1, len2;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;len1);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= len1; ++i)<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a[i]);<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;len2);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= len2; ++i)<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;b[i]);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= len1; ++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt;= len2; ++j)<br>                dp[i][j] = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= len1; ++i)<br>        &#123;<br>            <span class="hljs-keyword">int</span> mx = <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= len2; ++j)<br>            &#123;<br>                dp[i][j] = dp[i - <span class="hljs-number">1</span>][j];<span class="hljs-comment">//å…ˆä¿å­˜å‰é¢çš„æœ€å€¼ï¼Œç„¶ååˆ¤æ–­æ›´æ–°</span><br>                <span class="hljs-keyword">if</span>(a[i] == b[j])dp[i][j] = mx + <span class="hljs-number">1</span>;<br>                <span class="hljs-keyword">if</span>(a[i] &gt;  b[j])mx = max(mx, dp[i - <span class="hljs-number">1</span>][j]);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= len2; ++i)<br>            ans = max(ans, dp[len1][i]);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, ans);<br>        <span class="hljs-keyword">if</span>(t)<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br><br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>æ³¨æ„åˆ°åœ¨å¾ªç¯ä¸­çš„ä¸€å¥: <code>dp[i][j]=dp[i-1][j]</code>ï¼Œï¼Œè¿™å¥å¯ä»¥çœ‹å‡ºæˆ‘ä»¬çš„dpè¿‡ç¨‹æ˜¯æ²¡æœ‰ç”¨åˆ°å‰é¢å‡ å±‚çš„ï¼Œï¼Œï¼Œä¹Ÿå°±æ˜¯è¯´å¯ä»¥ç”¨ä¸€ä¸ªä»¥ä¸ºæ•°ç»„æ¥ä¼˜åŒ–ä¸€ä¸‹ï¼Œï¼Œï¼Œæœ‰ç‚¹ç±»ä¼¼01èƒŒåŒ…çš„ç©ºé—´ä¼˜åŒ–è¿‡ç¨‹</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">int</span> a[maxn], b[maxn], dp[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">int</span> t;<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;t);<br>    <span class="hljs-keyword">while</span>(t--)<br>    &#123;<br>        <span class="hljs-keyword">int</span> len1, len2;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;len1);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= len1; ++i)<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a[i]);<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;len2);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= len2; ++i)<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;b[i]);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= len2; ++i)<br>            dp[i] = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= len1; ++i)<br>        &#123;<br>            <span class="hljs-keyword">int</span> mx = <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= len2; ++j)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(a[i] == b[j])dp[j] = mx + <span class="hljs-number">1</span>;<br>                <span class="hljs-keyword">if</span>(a[i] &gt;  b[j])mx = max(mx, dp[j]);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= len2; ++i)<br>            ans = max(ans, dp[i]);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, ans);<br>        <span class="hljs-keyword">if</span>(t)<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br><br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="æœ€å¤§è¿ç»­å­åºåˆ—å’Œ"><a href="#æœ€å¤§è¿ç»­å­åºåˆ—å’Œ" class="headerlink" title="æœ€å¤§è¿ç»­å­åºåˆ—å’Œ"></a>æœ€å¤§è¿ç»­å­åºåˆ—å’Œ</h1><p>æœ€å¤§è¿ç»­å­åºåˆ—å’Œæ±‚å¾—æ˜¯ä¸€æ®µè¿ç»­çš„å­åºåˆ—ï¼Œï¼Œå®ƒçš„å’Œæ˜¯æ‰€æœ‰å­åºåˆ—ä¸­æœ€å¤§çš„ï¼Œï¼Œä¾‹å¦‚ï¼š-2 11 -4 13 -5 -2ä¸­ï¼Œæœ€å¤§çš„è¿ç»­å­åºåˆ—å’Œæ˜¯20ï¼Œï¼Œç”±11ï¼Œ-4ï¼Œ13ç»„æˆï¼Œï¼Œ</p>
<p><a href="https://www.cnblogs.com/rhythmic/p/5398953.html">å‚è€ƒæ–‡ç« </a></p>
<h2 id="ä¾‹é¢˜hdu-1231"><a href="#ä¾‹é¢˜hdu-1231" class="headerlink" title="ä¾‹é¢˜hdu-1231"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1231">ä¾‹é¢˜hdu-1231</a></h2><h3 id="æ³•ä¸€"><a href="#æ³•ä¸€" class="headerlink" title="æ³•ä¸€"></a>æ³•ä¸€</h3><p>æˆ‘ä»¬å¯ä»¥éå†æ•´ä¸ªåºåˆ—ï¼Œï¼Œå¹¶ä¸”ä¿å­˜ä»å¤´åˆ°å½“å‰ç‚¹çš„åºåˆ—ä¸­çš„ æœ€å¤§è¿ç»­å­åºåˆ—å’Œsumï¼ŒåŒæ—¶ä¿å­˜èµ·ç‚¹ç»ˆç‚¹å…ƒç´ å€¼ï¼Œï¼Œ</p>
<p>å½“sum&lt;=0æ—¶ï¼Œï¼Œè¯´æ˜å‰é¢ä¸€ä¸ªå­åºåˆ—çš„å’Œå°äºé›¶ï¼Œå°±å¯ä»¥ä¸å†è¦ä»–äº†ï¼Œï¼Œæ­¤æ—¶æ›´æ–°æ–°çš„sumä¸ºå½“å‰ç‚¹ï¼Œèµ·ç‚¹ç»ˆç‚¹ä¹Ÿä¸ºå½“å‰ç‚¹çš„å€¼ï¼Œï¼Œ</p>
<p>å½“sum&gt;0æ—¶ï¼Œï¼Œæˆ‘ä»¬å¯ä»¥å†æŠŠå½“å‰ç‚¹åŠ åœ¨è¿™ä¸ªåºåˆ—åé¢ï¼Œï¼Œæ›´æ–°ç»ˆç‚¹å³å¯ï¼Œï¼Œ</p>
<p>æœ€åå–æ¯ä¸€æ¬¡æšä¸¾ä¸­çš„æœ€å¤§å€¼ï¼Œï¼Œæ›´æ–°èµ·ç‚¹ç»ˆç‚¹å°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
<p>å¦‚æœæœ€å€¼å°äºé›¶ï¼ŒæŒ‰é¢˜æ„è¾“å‡ºé›¶å³å¯ï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> a[maxn], b[maxn], dp[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">int</span> n;<br>    <span class="hljs-keyword">while</span>(~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n) &amp;&amp; n)<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a[i]);<br>        <span class="hljs-keyword">int</span> sum, max_sum, s, t, ans_s, <span class="hljs-keyword">ans_t</span>;<br>        sum = max_sum = s = t = ans_s = <span class="hljs-keyword">ans_t</span> = a[<span class="hljs-number">1</span>];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= n; ++i)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(sum &gt; <span class="hljs-number">0</span>)<br>            &#123;<br>                sum += a[i];<br>                t = a[i];<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                sum = s = t = a[i];<br>            &#125;<br>            <span class="hljs-comment">//update ans</span><br>            <span class="hljs-keyword">if</span>(max_sum &lt; sum)<br>            &#123;<br>                max_sum = sum;<br>                ans_s = s;<br>                <span class="hljs-keyword">ans_t</span> = t;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(max_sum &lt; <span class="hljs-number">0</span>)<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;0 %d %d\n&quot;</span>, a[<span class="hljs-number">1</span>], a[n]);<br>        <span class="hljs-keyword">else</span>           <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d %d %d\n&quot;</span>, max_sum, ans_s, <span class="hljs-keyword">ans_t</span>);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="æ³•äºŒ"><a href="#æ³•äºŒ" class="headerlink" title="æ³•äºŒ"></a>æ³•äºŒ</h3><p>å¯ä»¥ä½¿ç”¨dpæ¥è§£å†³ï¼Œï¼Œå°±åƒLCS,LISç­‰dp[i]ä»£è¡¨ä»¥ç¬¬iä¸ªå…ƒç´ ç»“å°¾çš„LCS,LISä¸€æ ·ï¼Œï¼Œè¿™é‡Œå¯ä»¥ç”¨dp[i]è¡¨ç¤ºä»¥a[i]ç»“å°¾çš„æœ€å¤§çš„è¿ç»­åºåˆ—çš„å’Œï¼Œï¼Œè¿™æ ·ä¸ºäº†æ¨å‡ºdp[i]å°±å¾—çœ‹å®ƒå’Œdp[i-1]çš„å…³ç³»ï¼Œï¼Œ</p>
<p>ä»ä¸Šé¢é‚£ç§è§£æ³•å¯ä»¥çœ‹å‡ºï¼Œå½“dp[i-1]å°äºé›¶æ—¶æ„å‘³ç€ä»¥a[i]ç»“å°¾çš„æœ€å¤§è¿ç»­åºåˆ—çš„å’Œå°±æ˜¯è´Ÿçš„ï¼Œï¼Œä¸ºäº†ç­”æ¡ˆçš„æœ€å¤§åŒ–ï¼Œï¼Œå¯ä»¥èˆå¼ƒå‰é¢è¿™ä¸€æ®µï¼Œï¼Œæ‰€ä»¥åœ¨è¿™ç§æƒ…å†µä¸‹çš„dp[i]=a[i]ï¼Œï¼Œï¼Œ</p>
<p>å¦åˆ™çš„è¯ï¼Œå°±æŠŠå½“å‰ç‚¹a[i]åŠ åˆ°å‰é¢çš„åºåˆ—ä¸Šï¼Œä¹Ÿå°±æ˜¯dp[i]=dp[i-1]+a[i]ï¼Œï¼Œï¼Œ</p>
<p>äºæ˜¯æœ€åçš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼š</p>
<script type="math/tex; mode=display">
    dp[i]=
    \begin{cases}
    a[i] & \text{if dp[i-1]<0}\\
    dp[i-1]+a[i] & \text{if dp[i-1]>=0}\\
    \end{cases}</script><p>æœ€åé’ˆå¯¹è¿™é“é¢˜éå†ä¸€édpæ•°ç»„ï¼Œæ‰¾åˆ°æœ€å¤§å€¼åŠå…¶ä¸‹æ ‡ï¼Œï¼Œåå‘éå†æ‰¾åˆ°èµ·ç‚¹å°±å¥½äº†</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> a[maxn], b[maxn], dp[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">int</span> n;<br>    <span class="hljs-keyword">while</span>(~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n) &amp;&amp; n)<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a[i]);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)dp[i] = -inf;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            <span class="hljs-keyword">if</span>(dp[i - <span class="hljs-number">1</span>] &lt; <span class="hljs-number">0</span>)dp[i] = a[i];<br>            <span class="hljs-keyword">else</span>             dp[i] = dp[i - <span class="hljs-number">1</span>] + a[i];<br>        <span class="hljs-keyword">int</span> max_sum = -inf, s, t;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            <span class="hljs-keyword">if</span>(max_sum &lt; dp[i])<br>                max_sum = dp[i], t = i;<br>        <span class="hljs-keyword">if</span>(max_sum &lt; <span class="hljs-number">0</span>)<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;0 %d %d\n&quot;</span>, a[<span class="hljs-number">1</span>], a[n]);<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, max_sum);<br>            max_sum -= a[t];<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = t; i &gt;= <span class="hljs-number">1</span>; --i, max_sum -= a[i])<br>                <span class="hljs-keyword">if</span>(!max_sum)<br>                &#123;<br>                    s = i;<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d %d\n&quot;</span>, a[s], a[t]);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1003">ç±»ä¼¼é¢˜ç›®: hdu-1003</a></p>
<p>(end)</p>
]]></content>
      <categories>
        <category>ACM-åŠ¨æ€è§„åˆ’-çº¿æ€§dp</category>
      </categories>
      <tags>
        <tag>acm</tag>
        <tag>ç¬”è®°</tag>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>åŠ¨æ€è§„åˆ’_èƒŒåŒ…é—®é¢˜ç¬”è®°</title>
    <url>/2019/02/19/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92_%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>dpè‡ªä»çŸ¥é“æœ‰è¿™ä¹ˆä¸ªä¸œè¥¿æ—¶ï¼Œå°±æ²¡æœ‰å¥½å¥½çš„å­¦ï¼Œï¼Œç°åœ¨ä¸€çœ‹é“dpçš„é¢˜å°±ç»•é“èµ°ï¼Œï¼Œï¼Œä½†æ˜¯ï¼Œå¾ˆå¤šæ¯”èµ›ä¸­çš„dpé—®é¢˜æœ‰å¾ˆå¤šï¼Œï¼Œåˆ«äººéƒ½ä¼šï¼Œè‡ªå·±ä¸ä¼šå¾ˆåƒäºå•Šï¼Œï¼Œï¼Œäºæ˜¯ä»åŸºç¡€å¼€å§‹ä¸€ç‚¹ä¸€ç‚¹çš„è¡¥ing</p>
<span id="more"></span>
<h1 id="èƒŒåŒ…é—®é¢˜"><a href="#èƒŒåŒ…é—®é¢˜" class="headerlink" title="èƒŒåŒ…é—®é¢˜"></a>èƒŒåŒ…é—®é¢˜</h1><p>èƒŒåŒ…é—®é¢˜æ˜¯åŠ¨æ€è§„åˆ’çš„ç»å…¸ä¹Ÿæ˜¯åŸºç¡€ï¼Œï¼Œï¼Œä¸‹é¢çš„ä¸œè¥¿éƒ¨åˆ†æ¥è‡ª <strong>èƒŒåŒ…ä¹è®²</strong>ï¼›</p>
<h2 id="01èƒŒåŒ…"><a href="#01èƒŒåŒ…" class="headerlink" title="01èƒŒåŒ…"></a>01èƒŒåŒ…</h2><p>01èƒŒåŒ…æŒ‡çš„æ˜¯å¯¹äºä»»æ„çš„ç‰©å“åªæœ‰ <strong>å–æˆ–ä¸å–</strong> ä¸¤ç§çŠ¶æ€ï¼Œï¼Œ</p>
<h3 id="çŠ¶æ€è½¬ç§»æ–¹ç¨‹"><a href="#çŠ¶æ€è½¬ç§»æ–¹ç¨‹" class="headerlink" title="çŠ¶æ€è½¬ç§»æ–¹ç¨‹"></a>çŠ¶æ€è½¬ç§»æ–¹ç¨‹</h3><p>çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¸ºï¼š</p>
<p>$F[i,j]=max(F[i-1,j], F[i-1,j-c_i]+w_i)$</p>
<p>å¤–å±‚å¾ªç¯æšä¸¾ç‰©å“æ€»æ•°ï¼š$for \ i=1\ to\ n$</p>
<p>å†…å±‚å¾ªç¯æšä¸¾èƒŒåŒ…çš„å®¹é‡ï¼š $for \ j=c_i \ to \ v$</p>
<p>&lt;/br&gt;</p>
<p>ç©ºé—´ä¼˜åŒ–åçš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š</p>
<p>$F[j]=max(F[j], F[j-c_i]+w_i)$</p>
<p>å¤–å±‚å¾ªç¯ä¸å˜ï¼Œå†…å±‚å¾ªç¯å˜ä¸ºï¼š $for \ j=v \ to \ c_i$</p>
<p>å¤–å±‚å¾ªç¯å¯ä»¥ç»§ç»­ä¼˜åŒ–ä¸ºï¼š $for \  j \ to \ max(v-\sum_i^nw_i, \ \  c_i)$</p>
<h3 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h3><ul>
<li>æ°å¥½è£…æ»¡èƒŒåŒ…ï¼š$F[0]=0,F[1..v]=-\infty$</li>
<li>ä¸å¿…è£…æ»¡ï¼š $F[0..v]=0$</li>
</ul>
<p>åˆå§‹åŒ–Fæ•°ç»„å°±æ˜¯åœ¨æ²¡æœ‰ä»»ä½•ç‰©å“å¯ä»¥æ”¾å…¥èƒŒåŒ…æ—¶çš„åˆæ³•çŠ¶æ€ï¼Œæ‰€ä»¥ï¼Œå‰è€…åªæœ‰å®¹é‡ä¸ºé›¶çš„èƒŒåŒ…ä»€ä¹ˆéƒ½ä¸è£…çš„æƒ…å†µä¸‹æ˜¯æ°å¥½è£…æ»¡çš„ï¼Œå…¶ä»–å®¹é‡çš„èƒŒåŒ…éƒ½æ˜¯æœªå®šä¹‰çš„çŠ¶æ€ï¼Œæ— åˆæ³•è§£ï¼›åè€…å› ä¸ºä¸å¿…è£…æ»¡ï¼Œæ‰€ä»¥ä»€ä¹ˆéƒ½ä¸è£…çš„æ—¶å€™å°±æ˜¯ä¸€ä¸ªåˆæ³•è§£ï¼Œè¿™æ—¶çš„ä»·å€¼ä¸ºé›¶ã€‚</p>
<h3 id="ä¾‹é¢˜"><a href="#ä¾‹é¢˜" class="headerlink" title="ä¾‹é¢˜"></a>ä¾‹é¢˜</h3><h4 id="hud-2602"><a href="#hud-2602" class="headerlink" title="hud-2602"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=2602">hud-2602</a></h4><p>è£¸çš„01èƒŒåŒ…ï¼Œï¼Œç›´æ¥åšï¼Œï¼Œï¼Œæ³¨æ„åˆ¤æ–­å½“å‰ç‰©å“æ˜¯å¦èƒ½æ”¾å…¥èƒŒåŒ…ï¼Œï¼Œå†é€‰æ‹©æ”¾ä¸ä¸æ”¾ï¼Œï¼Œ</p>
<p>è¿˜æœ‰å†…å±‚å¾ªç¯å®¹é‡çš„éå†æ˜¯ä»0å¼€å§‹</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-built_in">memset</span>(dp, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> dp);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt;= v; ++j)<br>                <span class="hljs-keyword">if</span>(c[i] &lt;= j)<span class="hljs-comment">//èƒ½æ”¾å…¥æ—¶ï¼Œé€‰æ‹©æ”¾ä¸ä¸æ”¾</span><br>                    dp[i][j] = max(dp[i - <span class="hljs-number">1</span>][j], dp[i - <span class="hljs-number">1</span>][j - c[i]] + w[i]);<br>                <span class="hljs-keyword">else</span><br>                    dp[i][j] = dp[i - <span class="hljs-number">1</span>][j];<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, dp[n][v]);<br></code></pre></td></tr></table></figure>
<p>ç©ºé—´ä¼˜åŒ–åçš„æ–¹æ³•ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-built_in">memset</span>(dp, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> dp);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = v; j &gt;= <span class="hljs-number">0</span>; --j)<br>                <span class="hljs-keyword">if</span>(c[i] &lt;= j)<span class="hljs-comment">//èƒ½æ”¾å…¥æ—¶ï¼Œé€‰æ‹©æ”¾ä¸ä¸æ”¾</span><br>                    dp[j] = max(dp[j], dp[j - c[i]] + w[i]);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, dp[v]);<br></code></pre></td></tr></table></figure>
<h4 id="hdu-2546"><a href="#hdu-2546" class="headerlink" title="hdu-2546"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=2546">hdu-2546</a></h4><p>é¢˜æ„æ˜¯ï¼šä¸€ä¸ªæ€»é’±æ•°ä¸ºmçš„é’±åŒ…ï¼Œåœ¨å‰©ä½™é‡‘é¢å¤§äºç­‰äº5çš„æƒ…å†µä¸‹å¯ä»¥è´­ä¹°ä»»ä½•ä¸œè¥¿ï¼Œå³ä½¿ä¹°äº†ä¸€ä¸ªä¸œè¥¿åå‰©ä½™é’±æ•°ä¸ºè´Ÿï¼Œç„¶åç»™ä½ è¿™nä¸ªä¸œè¥¿çš„æ ‡ä»·ï¼Œæ¯ç§ä¸œè¥¿åªèƒ½è´­ä¹°ä¸€æ¬¡ï¼Œï¼Œ</p>
<p>è¿™é“é¢˜æŒ‰01èƒŒåŒ…åšçš„è¯ï¼Œå¯ä»¥å°†é’±åŒ…mçœ‹æˆèƒŒåŒ…çš„å®¹é‡ï¼Œné“èœå°±æ˜¯nç§ç‰©å“ï¼Œ <strong>æ¯ç§ç‰©å“çš„ä»·å€¼å’ŒèŠ±è´¹éƒ½æ˜¯å…¶èœä»·</strong>ï¼Œï¼Œ</p>
<p>è¿™æ˜¯å…¶ä¸­ä¸€ä¸ªç‚¹ï¼Œè¿˜æœ‰ä¸ºäº†å°½å¯èƒ½çš„æ˜¯åˆ©ç›Šæœ€å¤§ï¼Œï¼Œæˆ‘ä»¬å¯ä»¥å…ˆä¿ç•™5å—ï¼Œä¸ºäº†æœ€åä¹°é‚£ä¸ªæœ€è´µçš„èœï¼Œï¼Œå¯¹å‰©ä¸‹çš„n-1ä¸ªèœé€‰æ‹©å‡ºä»·å€¼æœ€å¤§çš„ï¼Œï¼Œï¼Œè¿™æ ·å°±å°†è¿™é“é¢˜è½¬åŒ–æˆäº†å®¹é‡ä¸ºm-5çš„èƒŒåŒ…é€‰æ‹©ä¸€äº›ç‰©å“ä½¿å¾—æ€»ä»·å€¼æœ€å¤§ï¼Œï¼Œï¼Œæœ€åçš„ç­”æ¡ˆåœ¨ç®—ä¸Šé‚£ä¸ªæœ€è´µçš„èœå°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">int</span> dp[maxn], c[maxn], w[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">int</span> n;<br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n) &amp;&amp; n)<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;c[i]);<br><br>        <span class="hljs-keyword">int</span> m;<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;m);<br><br>        <span class="hljs-keyword">if</span>(m &lt; <span class="hljs-number">5</span>)<br>        &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, m);<br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br>        m -= <span class="hljs-number">5</span>;<br>        sort(c + <span class="hljs-number">1</span>, c + <span class="hljs-number">1</span> + n);<br>        <span class="hljs-built_in">memset</span>(dp, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> dp);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n - <span class="hljs-number">1</span>; ++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = m; j &gt;= c[i]; --j)<br>                dp[j] = max(dp[j], dp[j - c[i]] + c[i]);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, m + <span class="hljs-number">5</span> - dp[m] - c[n]);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h4 id="hdu-1171"><a href="#hdu-1171" class="headerlink" title="hdu-1171"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1171">hdu-1171</a></h4><p>é¢˜æ„æ˜¯ï¼šæœ‰ä¸€äº›è®¾æ–½ï¼Œæ¯ä¸ªè®¾æ–½çš„ä»·å€¼ä¸º $w_i$ï¼Œï¼Œç„¶åè¦åˆ†æˆä¸¤å †ï¼Œè¿™ä¸¤å †çš„ä»·å€¼è¦å°½å¯èƒ½çš„ç›¸è¿‘</p>
<p>æ˜¾ç„¶åˆ†åçš„ä»·å€¼å’Œ $sum$ å°±æ˜¯åŸæ¥çš„ä»·å€¼å’Œï¼Œï¼Œç„¶åè‚¯å®šä¸€ä¸ªå¤§äºç­‰äºå‡å€¼ï¼Œä¸€ä¸ªå°äºç­‰äºï¼Œï¼Œï¼Œæ‰€ä»¥å¯ä»¥å°†è¿™é“é¢˜ç›®çœ‹æˆ01èƒŒåŒ…çš„æ¨¡å‹ï¼šä¸€ä¸ªå®¹é‡ä¸º $sum/2$ çš„èƒŒåŒ…ï¼Œé€‰æ‹©è£…ä¸€äº›ç‰©å“ï¼Œè¿™äº›ç‰©å“çš„ä»·å€¼çš„å’Œè´¹ç”¨ç›¸åŒï¼Œï¼Œæ±‚æœ€å¤§çš„ä»·å€¼</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">int</span> dp[maxn], c[maxn], w[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">int</span> n;<br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n) &amp;&amp; n &gt; <span class="hljs-number">0</span>)<br>    &#123;<br>        <span class="hljs-keyword">int</span> tot = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        &#123;<br>            <span class="hljs-keyword">int</span> a, b;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;a, &amp;b);<br>            <span class="hljs-keyword">while</span>(b--)w[++tot] = a;<br>        &#125;<br>        <span class="hljs-built_in">memset</span>(dp, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> dp);<br>        <span class="hljs-keyword">int</span> sum = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= tot; ++i)sum += w[i];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= tot; ++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = sum / <span class="hljs-number">2</span>; j &gt;= w[i]; --j)<br>                dp[j] = max(dp[j], dp[j - w[i]] + w[i]);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d %d\n&quot;</span>, sum - dp[sum / <span class="hljs-number">2</span>], dp[sum / <span class="hljs-number">2</span>]);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p><a href="https://blog.csdn.net/libin56842/article/details/9338841">å‰©ä¸‹ä¸€äº›å…¶ä»–é¢˜ï¼Œï¼Œä»¥åå†è¯´</a></p>
<h2 id="å®Œå…¨èƒŒåŒ…"><a href="#å®Œå…¨èƒŒåŒ…" class="headerlink" title="å®Œå…¨èƒŒåŒ…"></a>å®Œå…¨èƒŒåŒ…</h2><p>å®Œå…¨èƒŒåŒ…å°±æ˜¯åœ¨01èƒŒåŒ…çš„åŸºç¡€ä¸Šå¯¹äºç‰©å“çš„é™åˆ¶è§£é™¤ï¼Œï¼Œç‰©å“ä¸å†ä¸ºåªèƒ½å–ä¸€ä»¶ï¼Œè€Œæ˜¯æ— é™ä»¶ï¼ˆå®é™…ä¹Ÿä¸å¯èƒ½æ˜¯æ— é™ä»¶ï¼Œæ¯ä¸€ä¸ªç‰©å“æœ€å¤šå– $\lfloor \frac{v}{c_i} \rfloor$ï¼‰ï¼Œï¼Œ</p>
<p>å°†å®Œå…¨èƒŒåŒ…è½¬åŒ–ä¸º01èƒŒåŒ…åï¼Œ çŠ¶æ€è½¬ç§»æ–¹ç¨‹å’Œ01èƒŒåŒ…çš„ç±»ä¼¼ï¼Œï¼Œåªæœ‰å¯¹èƒŒåŒ…å®¹é‡çš„æšä¸¾ä¹Ÿå°±æ˜¯å†…å±‚å¾ªç¯ä¸­ï¼Œå®Œå…¨èƒŒåŒ…æ˜¯é€’å¢çš„é¡ºåºè€Œ01èƒŒåŒ…çš„æ˜¯é€’å‡çš„é¡ºåºï¼Œï¼Œ</p>
<p>$for \ j=c_i \ to \ v$</p>
<h3 id="0-1èƒŒåŒ…å’Œå®Œå…¨èƒŒåŒ…çš„ä¸åŒï¼š"><a href="#0-1èƒŒåŒ…å’Œå®Œå…¨èƒŒåŒ…çš„ä¸åŒï¼š" class="headerlink" title="0-1èƒŒåŒ…å’Œå®Œå…¨èƒŒåŒ…çš„ä¸åŒï¼š"></a><a href="https://blog.csdn.net/qq_38984851/article/details/81133840">0-1èƒŒåŒ…å’Œå®Œå…¨èƒŒåŒ…çš„ä¸åŒï¼š</a></h3><blockquote>
<p>ä»äºŒç»´æ•°ç»„ä¸ŠåŒºåˆ«0-1èƒŒåŒ…å’Œå®Œå…¨èƒŒåŒ…ä¹Ÿå°±æ˜¯çŠ¶æ€è½¬ç§»æ–¹ç¨‹å°±å·®åˆ«åœ¨æ”¾ç¬¬iä¸­ç‰©å“æ—¶ï¼Œå®Œå…¨èƒŒåŒ…åœ¨é€‰æ‹©æ”¾è¿™ä¸ªç‰©å“æ—¶ï¼Œæœ€ä¼˜è§£æ˜¯F[i][j-c[i]]+w[i]å³ç”»è¡¨æ ¼ä¸­åŒè¡Œçš„é‚£ä¸€ä¸ªï¼Œè€Œ0-1èƒŒåŒ…æ¯”è¾ƒçš„æ˜¯F[i-1][j-c[i]]+w[i]ï¼Œä¸Šä¸€è¡Œçš„é‚£ä¸€ä¸ªã€‚</p>
<p>ä»ä¸€ç»´æ•°ç»„ä¸ŠåŒºåˆ«0-1èƒŒåŒ…å’Œå®Œå…¨èƒŒåŒ…å·®åˆ«å°±åœ¨å¾ªç¯é¡ºåºä¸Šï¼Œ0-1èƒŒåŒ…å¿…é¡»é€†åºï¼Œå› ä¸ºè¿™æ ·ä¿è¯äº†ä¸ä¼šé‡å¤é€‰æ‹©å·²ç»é€‰æ‹©çš„ç‰©å“ï¼Œè€Œå®Œå…¨èƒŒåŒ…æ˜¯é¡ºåºï¼Œé¡ºåºä¼šè¦†ç›–ä»¥å‰çš„çŠ¶æ€ï¼Œæ‰€ä»¥å­˜åœ¨é€‰æ‹©å¤šæ¬¡çš„æƒ…å†µï¼Œä¹Ÿç¬¦åˆå®Œå…¨èƒŒåŒ…çš„é¢˜æ„ã€‚çŠ¶æ€è½¬ç§»æ–¹ç¨‹éƒ½ä¸ºF[i] = max(F[i],dp[F-c[i]]+v[i])ã€‚</p>
</blockquote>
<h3 id="ä¾‹é¢˜-1"><a href="#ä¾‹é¢˜-1" class="headerlink" title="ä¾‹é¢˜"></a>ä¾‹é¢˜</h3><h4 id="hdu-1114"><a href="#hdu-1114" class="headerlink" title="hdu-1114"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1114">hdu-1114</a></h4><p>é¢˜æ„æ˜¯ï¼šç»™ä½ ä¸€ä¸ªå­˜é’±ç½çš„æ€»è´¨é‡ä¸ªå•çº¯å­˜é’±ç½çš„è´¨é‡ï¼ˆä¹Ÿå°±æ˜¯å·®ä¸ºé’±çš„è´¨é‡ï¼‰ï¼Œï¼Œä»¥åŠnç§ç¡¬å¸çš„é¢å€¼å’Œè´¨é‡ï¼Œç„¶åé—®ä½ æœ€å°çš„é‡‘é¢æ˜¯å¤šå°‘</p>
<p>å·®å€¼å¯ä»¥çœ‹ä½œèƒŒåŒ…çš„å®¹é‡ï¼Œæ¯ä¸ªç¡¬å¸çš„è´¨é‡ä¸ºç‰©å“çš„ä»£ä»·ï¼Œé¢å€¼ä¸ºå…¶ä»·å€¼ï¼Œï¼Œç„¶åæ±‚æœ€å°çš„ä»·å€¼è½¬ç§»æ–¹ç¨‹é‡Œå°±ä¸ºminï¼Œï¼Œåˆå§‹åŒ–å†æ”¹å˜ä¸€ä¸‹ï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">int</span> dp[maxn], c[maxn], w[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">int</span> t;<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;t);<br>    <span class="hljs-keyword">while</span>(t--)<br>    &#123;<br>        <span class="hljs-keyword">int</span> e, f;<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;e, &amp;f);<br>        <span class="hljs-keyword">int</span> v = f - e;<br>        <span class="hljs-keyword">int</span> k;<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;k);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= k; ++i)<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;w[i], &amp;c[i]);<br>        <span class="hljs-built_in">memset</span>(dp, inf, <span class="hljs-keyword">sizeof</span> dp);<br>        dp[<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= k; ++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = c[i]; j &lt;= v; ++j)<br>                dp[j] = min(dp[j], dp[j - c[i]] + w[i]);<br>        <span class="hljs-keyword">if</span>(dp[v] &gt;= inf)<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;This is impossible.\n&quot;</span>);<br>        <span class="hljs-keyword">else</span><br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;The minimum amount of money in the piggy-bank is %d.\n&quot;</span>, dp[v]);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="å¤šé‡èƒŒåŒ…"><a href="#å¤šé‡èƒŒåŒ…" class="headerlink" title="å¤šé‡èƒŒåŒ…"></a>å¤šé‡èƒŒåŒ…</h2><p>å¤šé‡èƒŒåŒ…å°±æ˜¯å®Œå…¨èƒŒåŒ…çš„é™åˆ¶ç‰ˆï¼Œï¼Œæ¯ä¸€ç§ç‰©å“ä¸å†æ˜¯æ— é™ä¸ªï¼Œï¼Œè€Œæ˜¯ç»™å®šçš„ä¸ªæ•°ï¼Œæœ€åè¿˜æ˜¯æ±‚èƒŒåŒ…çš„æœ€å¤§ä»·å€¼ä»€ä¹ˆçš„ï¼Œï¼Œï¼Œ</p>
<p>è½¬åŒ–æˆ01èƒŒåŒ…é—®é¢˜å°±æ˜¯å¯¹äºæ¯ä¸€ç§ç‰©å“å– $1, 2, 2^2, 2^3,,,2^{k-1},M_i-2^k+1$ä»¶ï¼Œï¼Œ</p>
<p>ä¸€èˆ¬çš„å¤šé‡èƒŒåŒ…æ¨¡æ¿ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">int</span> dp[maxn], c[maxn], w[maxn], num[maxn];<br><span class="hljs-keyword">int</span> n, m, v;<span class="hljs-comment">//nä¸ºç‰©å“æ€»æ•°ï¼Œvä¸ºèƒŒåŒ…å®¹é‡</span><br><span class="hljs-comment">//01èƒŒåŒ…ï¼Œè¯¥ç‰©å“çš„ä»£ä»·ï¼Œä»·å€¼</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">ZeroOnePack</span><span class="hljs-params">(<span class="hljs-keyword">int</span> C, <span class="hljs-keyword">int</span> W)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = v; i &gt;= C; --i)<br>        dp[i] = max(dp[i], dp[i - C] + W);<br>    <span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-comment">//å®Œå…¨èƒŒåŒ…ï¼Œè¯¥ç‰©å“çš„ä»£ä»·ï¼Œä»·å€¼</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">CompletePack</span><span class="hljs-params">(<span class="hljs-keyword">int</span> C, <span class="hljs-keyword">int</span> W)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = C; i &lt;= v; ++i)<br>        dp[i] = max(dp[i], dp[i - C] + W);<br>    <span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-comment">//ä¸€æ¬¡å¤šé‡èƒŒåŒ…ï¼Œè¯¥ç‰©å“çš„ä»£ä»·ï¼Œä»·å€¼ï¼Œæ•°é‡</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">OneMuitPack</span><span class="hljs-params">(<span class="hljs-keyword">int</span> C, <span class="hljs-keyword">int</span> W, <span class="hljs-keyword">int</span> M)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(v &lt;= C * M)<span class="hljs-comment">//ç‰©å“è¶³å¤Ÿå¤šæ—¶ç”¨å®Œå…¨èƒŒåŒ…</span><br>    &#123;<br>        CompletePack(C, W);<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-keyword">else</span>        <span class="hljs-comment">//å¦åˆ™ç”¨äºŒè¿›åˆ¶åˆ’åˆ†æˆè‹¥å¹²ä»¶01èƒŒåŒ…çš„ç‰©å“</span><br>    &#123;<br>        <span class="hljs-keyword">int</span> k = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">while</span>(k &lt; M)<br>        &#123;<br>            ZeroOnePack(k * C, k * W);<span class="hljs-comment">//æŸä¸€ä¸ªåˆ’åˆ†æˆ01èƒŒåŒ…çš„ç‰©å“</span><br>            M -= k;<br>            k &lt;&lt;= <span class="hljs-number">1</span>;<br>        &#125;<br>        ZeroOnePack(C * M, W * M);<span class="hljs-comment">//å‰©ä¸‹çš„ä¸€äº›ç‰©å“</span><br>    &#125;<br>    <span class="hljs-keyword">return</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="ä¾‹é¢˜-2"><a href="#ä¾‹é¢˜-2" class="headerlink" title="ä¾‹é¢˜"></a>ä¾‹é¢˜</h3><h4 id="hdu-2844"><a href="#hdu-2844" class="headerlink" title="hdu-2844"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=2844">hdu-2844</a></h4><p>é¢˜æ„æ˜¯ï¼šnç§é¢å€¼çš„ç¡¬å¸ï¼Œæ¯ç§ç¡¬å¸çš„ä¸ªæ•°é™å®šï¼Œé—®ä½ èƒ½å¤Ÿç»„æˆå‡ ç§é¢å€¼å’Œä¸è¶…è¿‡mçš„ç»„æˆæ–¹æ³•ï¼Œ</p>
<p>è½¬åŒ–æˆèƒŒåŒ…é—®é¢˜å°±æ˜¯ï¼Œä¸€ä¸ªå®¹é‡ä¸ºmçš„èƒŒåŒ…è£…ä¸€äº›ä»·å€¼å’Œä»£ä»·éƒ½ä¸ºé¢å€¼çš„ç‰©å“ï¼Œå…¶ä¸­ç‰©å“çš„ä¸ªæ•°æœ‰é™åˆ¶ï¼Œï¼Œé—®èƒŒåŒ…å†…çš„ä»·å€¼çš„å¯èƒ½ç§ç±»</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//cf</span><br><span class="hljs-comment">//#include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, ull&gt; pii;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> dp[maxn], c[maxn], w[maxn], num[maxn];<br><span class="hljs-keyword">int</span> n, m, v;<span class="hljs-comment">//nä¸ºç‰©å“æ€»æ•°ï¼Œvä¸ºèƒŒåŒ…å®¹é‡</span><br><span class="hljs-comment">//01èƒŒåŒ…ï¼Œè¯¥ç‰©å“çš„ä»£ä»·ï¼Œä»·å€¼</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">ZeroOnePack</span><span class="hljs-params">(<span class="hljs-keyword">int</span> C, <span class="hljs-keyword">int</span> W)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = v; i &gt;= C; --i)<br>        dp[i] = max(dp[i], dp[i - C] + W);<br>    <span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-comment">//å®Œå…¨èƒŒåŒ…ï¼Œè¯¥ç‰©å“çš„ä»£ä»·ï¼Œä»·å€¼</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">CompletePack</span><span class="hljs-params">(<span class="hljs-keyword">int</span> C, <span class="hljs-keyword">int</span> W)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = C; i &lt;= v; ++i)<br>        dp[i] = max(dp[i], dp[i - C] + W);<br>    <span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-comment">//ä¸€æ¬¡å¤šé‡èƒŒåŒ…ï¼Œè¯¥ç‰©å“çš„ä»£ä»·ï¼Œä»·å€¼ï¼Œæ•°é‡</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">OneMuitPack</span><span class="hljs-params">(<span class="hljs-keyword">int</span> C, <span class="hljs-keyword">int</span> W, <span class="hljs-keyword">int</span> M)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(v &lt;= C * M)<span class="hljs-comment">//ç‰©å“è¶³å¤Ÿå¤šæ—¶ç”¨å®Œå…¨èƒŒåŒ…</span><br>    &#123;<br>        CompletePack(C, W);<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-keyword">else</span>        <span class="hljs-comment">//å¦åˆ™ç”¨äºŒè¿›åˆ¶åˆ’åˆ†æˆè‹¥å¹²ä»¶01èƒŒåŒ…çš„ç‰©å“</span><br>    &#123;<br>        <span class="hljs-keyword">int</span> k = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">while</span>(k &lt; M)<br>        &#123;<br>            ZeroOnePack(k * C, k * W);<span class="hljs-comment">//æŸä¸€ä¸ªåˆ’åˆ†æˆ01èƒŒåŒ…çš„ç‰©å“</span><br>            M -= k;<br>            k &lt;&lt;= <span class="hljs-number">1</span>;<br>        &#125;<br>        ZeroOnePack(C * M, W * M);<span class="hljs-comment">//å‰©ä¸‹çš„ä¸€äº›ç‰©å“</span><br>    &#125;<br>    <span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n, &amp;m) &amp;&amp; n + m)<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;w[i]);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;num[i]);<br>        <span class="hljs-built_in">memset</span>(dp, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> dp);<br>        v = m;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            OneMuitPack(w[i], w[i], num[i]);<br>        <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<span class="hljs-keyword">if</span>(dp[i] == i)++ans;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, ans);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="æ··åˆèƒŒåŒ…"><a href="#æ··åˆèƒŒåŒ…" class="headerlink" title="æ··åˆèƒŒåŒ…"></a>æ··åˆèƒŒåŒ…</h2><p>æ··åˆèƒŒåŒ…å°±æ˜¯nç§ç‰©å“æœ‰çš„åªèƒ½å–ä¸€æ¬¡ï¼Œæœ‰çš„èƒ½å–æœ‰é™æ¬¡ï¼Œæœ‰çš„èƒ½å–æ— é™æ¬¡ï¼Œç„¶åé—®ä½ å¯¹äºå®¹é‡ä¸ºvçš„èƒŒåŒ…çš„å¯å–æœ€å¤§ä»·å€¼æ˜¯å¤šå°‘</p>
<p>ç›´æ¥åˆ¤æ–­æ¯ä¸ªç‰©å“çš„ç§ç±»ï¼Œä½¿ç”¨ä¸åŒçš„èƒŒåŒ…ç±»å‹å°±è¡Œäº†</p>
<h3 id="ä¾‹é¢˜-3"><a href="#ä¾‹é¢˜-3" class="headerlink" title="ä¾‹é¢˜"></a>ä¾‹é¢˜</h3><h4 id="codevs-3269"><a href="#codevs-3269" class="headerlink" title="codevs-3269"></a><a href="http://codevs.cn/problem/3269/">codevs-3269</a></h4><p>é¢˜æ„å°±æ˜¯æ··åˆèƒŒåŒ…çš„å®šä¹‰ï¼Œï¼Œç›´æ¥åšå°±è¡Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//cf</span><br><span class="hljs-comment">//#include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, ull&gt; pii;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> dp[maxn], c[maxn], w[maxn], num[maxn];<br><span class="hljs-keyword">int</span> n, m, v;<span class="hljs-comment">//nä¸ºç‰©å“æ€»æ•°ï¼Œvä¸ºèƒŒåŒ…å®¹é‡</span><br><span class="hljs-comment">//01èƒŒåŒ…ï¼Œè¯¥ç‰©å“çš„ä»£ä»·ï¼Œä»·å€¼</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">ZeroOnePack</span><span class="hljs-params">(<span class="hljs-keyword">int</span> C, <span class="hljs-keyword">int</span> W)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = v; i &gt;= C; --i)<br>        dp[i] = max(dp[i], dp[i - C] + W);<br>    <span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-comment">//å®Œå…¨èƒŒåŒ…ï¼Œè¯¥ç‰©å“çš„ä»£ä»·ï¼Œä»·å€¼</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">CompletePack</span><span class="hljs-params">(<span class="hljs-keyword">int</span> C, <span class="hljs-keyword">int</span> W)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = C; i &lt;= v; ++i)<br>        dp[i] = max(dp[i], dp[i - C] + W);<br>    <span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-comment">//ä¸€æ¬¡å¤šé‡èƒŒåŒ…ï¼Œè¯¥ç‰©å“çš„ä»£ä»·ï¼Œä»·å€¼ï¼Œæ•°é‡</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">OneMuitPack</span><span class="hljs-params">(<span class="hljs-keyword">int</span> C, <span class="hljs-keyword">int</span> W, <span class="hljs-keyword">int</span> M)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(v &lt;= C * M)<span class="hljs-comment">//ç‰©å“è¶³å¤Ÿå¤šæ—¶ç”¨å®Œå…¨èƒŒåŒ…</span><br>    &#123;<br>        CompletePack(C, W);<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-keyword">else</span>        <span class="hljs-comment">//å¦åˆ™ç”¨äºŒè¿›åˆ¶åˆ’åˆ†æˆè‹¥å¹²ä»¶01èƒŒåŒ…çš„ç‰©å“</span><br>    &#123;<br>        <span class="hljs-keyword">int</span> k = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">while</span>(k &lt; M)<br>        &#123;<br>            ZeroOnePack(k * C, k * W);<span class="hljs-comment">//æŸä¸€ä¸ªåˆ’åˆ†æˆ01èƒŒåŒ…çš„ç‰©å“</span><br>            M -= k;<br>            k &lt;&lt;= <span class="hljs-number">1</span>;<br>        &#125;<br>        ZeroOnePack(C * M, W * M);<span class="hljs-comment">//å‰©ä¸‹çš„ä¸€äº›ç‰©å“</span><br>    &#125;<br>    <span class="hljs-keyword">return</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n, &amp;v);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>, &amp;c[i], &amp;w[i], &amp;num[i]);<br>    <span class="hljs-built_in">memset</span>(dp, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> dp);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(num[i] == <span class="hljs-number">1</span>)<br>            ZeroOnePack(c[i], w[i]);<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(num[i] == <span class="hljs-number">-1</span>)<br>            CompletePack(c[i], w[i]);<br>        <span class="hljs-keyword">else</span><br>            OneMuitPack(c[i], w[i], num[i]);<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, dp[v]);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="äºŒç»´è´¹ç”¨èƒŒåŒ…"><a href="#äºŒç»´è´¹ç”¨èƒŒåŒ…" class="headerlink" title="äºŒç»´è´¹ç”¨èƒŒåŒ…"></a>äºŒç»´è´¹ç”¨èƒŒåŒ…</h2><p>äºŒç»´è´¹ç”¨æŒ‡çš„å°±æ˜¯ç›¸æ¯”ä¹‹å‰çš„èƒŒåŒ…é—®é¢˜ä¾‘å¤šäº†ä¸€ä¸ªè´¹ç”¨çš„å½±å“å› ç´ ï¼Œï¼Œå¯¹äºä¸€ä¸ªç‰©å“æœ‰ä¸¤ä¸ªä¸åŒçš„ä»£ä»·ä»¥åŠå…¶å®¹é‡ï¼Œï¼Œåšæ³•å’Œå‰é¢çš„ä¸€æ ·ï¼Œdpæ•°ç»„å¢åŠ ä¸€ç»´å°±è¡Œäº†ï¼Œï¼Œ</p>
<h3 id="ä¾‹é¢˜-4"><a href="#ä¾‹é¢˜-4" class="headerlink" title="ä¾‹é¢˜"></a>ä¾‹é¢˜</h3><h4 id="hdu-2159"><a href="#hdu-2159" class="headerlink" title="hdu-2159"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=2159">hdu-2159</a></h4><p>è½¬åŒ–æˆèƒŒåŒ…é—®é¢˜å°±æ˜¯ä»£ä»·ä¸€æ˜¯å¿è€åº¦ï¼ŒèƒŒåŒ…å®¹é‡ä¸ºmï¼›ä»£ä»·äºŒå°±æ˜¯æ‰“æ€ªï¼Œå®¹é‡å°±æ˜¯sï¼Œï¼Œæ±‚æœ€å¤§çš„ä»·å€¼ï¼ˆç»éªŒå€¼ï¼‰ä¸nçš„å¤§å°å…³ç³»ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//cf</span><br><span class="hljs-comment">//#include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, ull&gt; pii;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e3</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> dp[maxn][maxn], c[maxn], w[maxn], num[maxn];<br><span class="hljs-keyword">int</span> n, m, v;<span class="hljs-comment">//nä¸ºç‰©å“æ€»æ•°ï¼Œvä¸ºèƒŒåŒ…å®¹é‡</span><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">int</span> n, m, k, s;<br>    <span class="hljs-keyword">while</span>(~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d%d&quot;</span>, &amp;n, &amp;m, &amp;k, &amp;s))<br>    &#123;<br>        <span class="hljs-built_in">memset</span>(w, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> w);<br>        <span class="hljs-built_in">memset</span>(c, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> c);<br>        <span class="hljs-built_in">memset</span>(dp, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> dp);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= k; ++i)<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;w[i], &amp;c[i]);<br>        <span class="hljs-keyword">int</span> ans = inf;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= k; ++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = c[i]; j &lt;= m; ++j)<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> k = <span class="hljs-number">1</span>; k &lt;= s; ++k)<br>                &#123;<br>                    dp[j][k] = max(dp[j][k], dp[j - c[i]][k - <span class="hljs-number">1</span>] + w[i]);<br>                    <span class="hljs-keyword">if</span>(dp[j][k] &gt;= n)ans = min(ans, j);<br>                &#125;<br>        <span class="hljs-keyword">if</span>(ans &gt; m)<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;-1\n&quot;</span>);<br>        <span class="hljs-keyword">else</span>       <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, m - ans);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p><del>(loading)</del></p>
<h2 id="åˆ†ç»„èƒŒåŒ…"><a href="#åˆ†ç»„èƒŒåŒ…" class="headerlink" title="åˆ†ç»„èƒŒåŒ…"></a>åˆ†ç»„èƒŒåŒ…</h2><p>åˆ†ç»„èƒŒåŒ…å°±æ˜¯ï¼šä¸€å †ç‰©å“è¢«åˆ’åˆ†æˆäº†Kç»„ï¼ŒåŒä¸€ç»„çš„ç‰©å“åªèƒ½é€‰æ‹©ä¸€ä¸ªï¼Œæˆ–è€…è¿™ç»„ä¸é€‰ï¼Œå…¶ä»–çš„æ¡ä»¶å’Œå…¶ä»–èƒŒåŒ…æ¨¡å‹ä¸€æ ·ï¼Œï¼Œ</p>
<p>è§£å†³æ–¹æ³•ï¼Œå†åŠ ä¸€å±‚å¯¹æ¯ç»„èƒŒåŒ…çš„æšä¸¾</p>
<p>ä¼ªä»£ç ï¼š</p>
<p>$for \ k=1 \ to \ K$&lt;/br&gt;<br>$for \ v=V \ to \ V$&lt;/br&gt;<br>$for \ item \ i \ in \ group \ k$&lt;/br&gt;<br>$F[v]=max(F[v], F[v-C_i]+W_i)$</p>
<h3 id="ä¾‹é¢˜-5"><a href="#ä¾‹é¢˜-5" class="headerlink" title="ä¾‹é¢˜"></a>ä¾‹é¢˜</h3><h4 id="hdu-1712"><a href="#hdu-1712" class="headerlink" title="hdu-1712"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1712">hdu-1712</a></h4><p>é¢˜æ„å°±æ˜¯æœ‰nèŠ‚è¯¾ï¼Œæ¯ä¸€è¯¾ä¸Šå‡ å¤©çš„ä»·å€¼ç»™ä½ ï¼Œï¼Œä¸€å…±è¦ä¸ŠmèŠ‚è¯¾ï¼Œé—®æœ€å¤§çš„ä»·å€¼ï¼Œï¼Œ</p>
<p>æŠŠè¿™é“é¢˜çœ‹æˆå®¹é‡ä¸ºmçš„èƒŒåŒ…ï¼Œè£…åˆ†ä¸ºnç»„çš„ç‰©å“æœ€å¤§çš„ä»·å€¼å°±è¡Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">int</span> dp[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> n, m;<br>    <span class="hljs-keyword">int</span> a[maxn][maxn];<br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n, &amp;m) &amp;&amp; n + m)<br>    &#123;<br>        <span class="hljs-built_in">memset</span>(a, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> a);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; ++j)<br>                <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a[i][j]);<br>        <span class="hljs-built_in">memset</span>(dp, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> dp);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> k = <span class="hljs-number">1</span>; k &lt;= n; ++k)<span class="hljs-comment">//æšä¸¾ç»„æ•°</span><br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = m; j &gt;= <span class="hljs-number">0</span>; --j)<span class="hljs-comment">//æšä¸¾èƒŒåŒ…çš„å®¹é‡</span><br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<span class="hljs-comment">//æšä¸¾ç¬¬kç»„çš„ç‰©å“</span><br>                    <span class="hljs-keyword">if</span>(i &lt;= j)<span class="hljs-comment">//ä¿è¯èƒ½è£…ä¸‹</span><br>                    dp[j] = max(dp[j], dp[j - i] + a[k][i]);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, dp[m]);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h4 id="hdu-3033"><a href="#hdu-3033" class="headerlink" title="hdu-3033"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=3033">hdu-3033</a></h4><p>é¢˜æ„å°±æ˜¯ä¸€å †é‹å­ï¼ŒæŸä¸€äº›æ˜¯ä¸€ä¸ªç‰Œå­çš„ï¼Œç„¶åæ¯ä¸€åŒé‹æœ‰ä¸€ä¸ªä»·æ ¼ï¼ˆçœ‹ä½œä»£ä»·ï¼‰ï¼Œä¸€ä¸ªä»·å€¼ï¼Œæ¯ä¸ªç‰Œå­è‡³å°‘å–ä¸€åŒï¼Œé—®æœ€å¤§çš„ä»·å€¼ï¼Œï¼Œï¼Œ</p>
<p>ä¸ä¸Šä¸€é“ä¸åŒçš„æ˜¯æ¯ä¸€ç»„çš„ç‰©å“ä¸å†æ˜¯æœ€å¤šé€‰ä¸€ä¸ªäº†ï¼Œï¼Œä¸€ç»„å¯ä»¥é€‰å¤šä¸ªï¼Œæ¯ä¸€ç»„éƒ½è¦é€‰ä¸€ä¸ªï¼Œï¼Œ</p>
<p>dp[i][j]è¡¨ç¤ºçš„æ˜¯å‰iç»„åœ¨å®¹é‡ä¸ºjçš„èƒŒåŒ…æ‰€å–çš„æœ€å¤§ä»·å€¼ï¼Œï¼Œå½“å‰çŠ¶æ€dp[i][j]å¯ä»¥ç”± å‰ä¸€çŠ¶æ€åœ¨æœ¬ç»„é€‰ä¸€ä¸ªç‰©å“ æ¨æ¥ï¼Œä¹Ÿå¯ä»¥ç”± å½“å‰çŠ¶æ€åœ¨æœ¬ç»„å†å–ä¸€ä¸ªç‰©å“ æ¨æ¥ï¼Œï¼Œ</p>
<p>åˆå§‹åŒ–ä¹Ÿä¸åŒäº†ï¼Œï¼Œé™¤äº†é‚£ä¸€ç»„éƒ½ä¸é€‰çš„é‚£ä¸€è¡Œdpä¸ºé›¶ï¼Œï¼Œå…¶ä»–éƒ½ä¸ºè´Ÿï¼Œå³æœªå®šä¹‰çŠ¶æ€ï¼Œï¼Œç”±è¿™ä¸ªåˆ¤æ–­æ˜¯å¦æœ‰è§£ï¼Œï¼Œ</p>
<p><a href="https://www.cnblogs.com/liyinggang/p/5402291.html">å‚è€ƒ1</a><br><a href="https://blog.csdn.net/juststeps/article/details/8712150">å‚è€ƒ2</a><br><a href="https://www.jianshu.com/p/efa8fbc0fea4">å‚è€ƒ3</a></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//hdu</span><br><span class="hljs-comment">//#include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; pii;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">int</span> dp[<span class="hljs-number">11</span>][maxn];<br>pii a[<span class="hljs-number">11</span>][maxn];<br><span class="hljs-keyword">int</span> num[<span class="hljs-number">11</span>];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">int</span> n, m, K;<br>    <span class="hljs-keyword">while</span>(~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>, &amp;n, &amp;m, &amp;K))<br>    &#123;<br>        <span class="hljs-built_in">memset</span>(num, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> num);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        &#123;<br>            <span class="hljs-keyword">int</span> aa, bb, cc;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>, &amp;aa, &amp;bb, &amp;cc);<br>            ++num[aa];<br>            a[aa][num[aa]].first = bb;<br>            a[aa][num[aa]].second = cc;<br>        &#125;<br>        <span class="hljs-built_in">memset</span>(dp, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> dp);<br>        <span class="hljs-comment">//for(int i = 0; i &lt;= m; ++i)dp[0][i] = 0;</span><br>        <span class="hljs-built_in">memset</span>(dp[<span class="hljs-number">0</span>], <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> dp[<span class="hljs-number">0</span>]);<br>        <span class="hljs-comment">//ä¸èƒ½å†™æˆmemset(dp[0], 0, sizeof dp);</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> k = <span class="hljs-number">1</span>; k &lt;= K; ++k)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= num[k]; ++i)<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = m; j &gt;= a[k][i].first; --j)<br>                &#123;<br>                    <span class="hljs-keyword">if</span>(dp[k][j - a[k][i].first] &gt;= <span class="hljs-number">0</span>)<br>                        dp[k][j] = max(dp[k][j], dp[k][j - a[k][i].first] + a[k][i].second);<br>                    <span class="hljs-keyword">if</span>(dp[k - <span class="hljs-number">1</span>][j - a[k][i].first] &gt;= <span class="hljs-number">0</span>)<br>                        dp[k][j] = max(dp[k - <span class="hljs-number">1</span>][j - a[k][i].first] + a[k][i].second, dp[k][j]);<br>                &#125;<br>        <span class="hljs-keyword">if</span>(dp[K][m] &lt; <span class="hljs-number">0</span>)<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Impossible\n&quot;</span>);<br>        <span class="hljs-keyword">else</span>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, dp[K][m]);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p><del>è¿™é“é¢˜æ²¡æ€ä¹ˆç†è§£è¿˜ï¼Œï¼Œ<br>(loading)</del></p>
<p>å‰©ä¸‹ä¸€äº›å…¶ä»–çš„å†…å®¹ï¼Œæš‚æ—¶å…ˆæ”¾æ”¾ï¼Œï¼Œ</p>
]]></content>
      <categories>
        <category>ACM-åŠ¨æ€è§„åˆ’</category>
      </categories>
      <tags>
        <tag>acm</tag>
        <tag>ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>åŸºäºå·ç§¯ç¥ç»ç½‘ç»œçš„äººè„¸è¯†åˆ«é¡¹ç›®</title>
    <url>/2019/06/08/%E5%9F%BA%E4%BA%8E%E5%8D%B7%E7%A7%AF%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E7%9A%84%E4%BA%BA%E8%84%B8%E8%AF%86%E5%88%AB%E9%A1%B9%E7%9B%AE/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p>å­¦æœŸæœ«äº†å•Šï¼Œï¼Œï¼Œæœ€åè¿™ä¸ªäººè„¸è¯†åˆ«çš„é¡¹ç›®å¼„å®Œäº†ï¼Œï¼Œæœ‰å¾ˆå¤šçš„ä¸è¶³ï¼Œï¼Œå¾ˆå¤šä¸œè¥¿éƒ½æ˜¯åªçŸ¥é“æ€ä¹ˆç”¨ï¼Œä½†æ˜¯ä¸çŸ¥é“å…¶èƒŒåçš„é€»è¾‘ï¼Œï¼Œæ„Ÿè§‰è‡ªå·±å­¦ä¹ ä¸œè¥¿å¯¹äºé‚£äº›æ½œæ„è¯†ä¼˜å…ˆçº§ä¸é«˜çš„å°±æ”¾å¼ƒäº†ï¼Œï¼Œï¼Œemmm</p>
<p>è¿™ç¯‡æ–‡ç« ä¸»è¦æ˜¯å¤§è‡´ä»‹ç»ä¸€ä¸‹æˆ‘ä»¬æœ€åå¼„å‡ºæ¥çš„äººè„¸è¯†åˆ«é¡¹ç›®çš„æˆæœå§ï¼Œï¼Œæ•´ä¸ªé¡¹ç›®æ”¾åˆ°äº†<a href="https://github.com/31415926535x/CollegeProjectBackup/tree/master/FaceRecognition">æˆ‘çš„github</a>ï¼Œï¼Œå¯ä»¥ç›´æ¥ä¸‹è½½è¿è¡Œçš„ï¼Œï¼Œä¸è¿‡è¿™ä¹Ÿåªæ˜¯ä¸€ä¸ªæˆ‘ä»¬çš„æ€è·¯ï¼Œï¼Œè¿™å—ä¸œè¥¿è¿˜æ˜¯å¤šé˜…è¯»åˆ«äººçš„é¡¹ç›®ä»£ç ï¼Œï¼Œç„¶åè‡ªå·±å†™ä¸€ä¸‹å¥½äº›ï¼Œï¼Œæ ¹æ®è‡ªå·±çš„éœ€æ±‚å°è¯•è‡ªå·±å†™ä»£ç ï¼Œå®åœ¨ä¸è¡Œå†çœ‹åˆ«äººçš„æ€è·¯ï¼Œï¼Œæ‰èƒ½æå‡è‡ªå·±çš„æ€ç»´å§ï¼Œï¼Œï¼Œ</p>
<span id="more"></span>
<h1 id="é¡¹ç›®æ€è·¯"><a href="#é¡¹ç›®æ€è·¯" class="headerlink" title="é¡¹ç›®æ€è·¯"></a>é¡¹ç›®æ€è·¯</h1><p>æŠ›å¼€é‚£äº›èŠ±é‡Œèƒ¡å“¨çš„ä¸œè¥¿ï¼Œäººè„¸è¯†åˆ«çš„å¤§è‡´æµç¨‹åªæœ‰ä¸‰ä¸ªï¼š <strong>äººè„¸æ•°æ®çš„å½•å…¥ã€æ„å»ºå·ç§¯ç¥ç»ç½‘ç»œå¹¶è®­ç»ƒæ¨¡å‹ã€è¯†åˆ«</strong></p>
<p>ä¸è¿‡è¿™å‰è¦é…ç½®å¥½ç¯å¢ƒï¼Œï¼Œæˆ‘ç”¨çš„Anacondaæ¥é…ç½®çš„æ•´ä½“ç¯å¢ƒï¼Œï¼Œï¼Œ<a href="https://www.cnblogs.com/31415926535x/p/10620732.html">å¯ä»¥çœ‹æˆ‘çš„è¿™ç¯‡åšå®¢</a> ï¼Œï¼Œï¼ˆåˆ°èƒ½æˆåŠŸéªŒè¯ç¯å¢ƒå³å¯</p>
<p>å…·ä½“çš„è¿è¡Œæµç¨‹ï¼š</p>
<ul>
<li>æ¿€æ´»åˆ›å»ºçš„anacondaç¯å¢ƒ</li>
<li>è¿è¡Œåˆå§‹åŒ–æ¨¡å—ï¼ˆå¯æœ‰å¯æ— ï¼‰ <code>python init.py</code></li>
<li>è¿è¡Œå½•å…¥äººè„¸æ¨¡å—ï¼Œæ­¤æ—¶ä¼šæç¤ºè¾“å…¥å§“åï¼Œç„¶åå½•åˆ¶è§†é¢‘ï¼ŒæŒ‰qç»“æŸï¼ˆ20å‡ å–µå³å¯ï¼‰ <code>python getFaceByCamera.py</code></li>
<li>è¿è¡Œè®­ç»ƒæ¨¡å—ï¼Œ<code>python tensorflow_face.py</code></li>
<li>ç­‰å¾…ï¼Œï¼Œç»“æŸåä¼šæ‰“å°å‡†ç¡®åº¦ï¼Œï¼Œ</li>
<li>è¿è¡Œè¯†åˆ«æ¨¡å—ï¼Œ<code>python tensorflow_face.py</code> ï¼Œï¼Œï¼Œæ²¡é”™è¿˜æ˜¯è¿™ä¸ªï¼Œï¼Œç¬¬äºŒæ¬¡è¿è¡Œä¼šè°ƒç”¨è¯†åˆ«æ¨¡å—çš„ï¼Œï¼Œï¼Œ</li>
</ul>
<h2 id="äººè„¸æ•°æ®çš„å½•å…¥"><a href="#äººè„¸æ•°æ®çš„å½•å…¥" class="headerlink" title="äººè„¸æ•°æ®çš„å½•å…¥"></a>äººè„¸æ•°æ®çš„å½•å…¥</h2><p><a href="https://github.com/31415926535x/CollegeProjectBackup/blob/master/FaceRecognition/getFaceByCamera.py">è¿™éƒ¨åˆ†çš„ä»£ç åœ¨è¿™é‡Œ</a></p>
<p>è¿™éƒ¨åˆ†æˆ‘ä»¬çš„å¤§è‡´æ€è·¯æ˜¯ï¼š</p>
<ul>
<li>å½•å…¥å¾…å½•å…¥è€…çš„å§“å</li>
<li>å½•åˆ¶ä¸€æ®µè§†é¢‘</li>
<li>åˆ©ç”¨dlibäººè„¸æ£€æµ‹å™¨ä»¥åŠopencvå¯¹å›¾ç‰‡çš„æ“ä½œæ¥è£å‰ª200å¼ ç›¸ç‰‡ï¼Œï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨opencvçš„äººè„¸æ£€æµ‹å™¨ï¼Œï¼Œï¼Œä¸è¶³åº”è¯¥å°±æ˜¯å‡†ç¡®ç‡ä¸æ€ä¹ˆé«˜å§ï¼Œï¼Œä½†æ˜¯å¿«äº›ï¼Œï¼Œï¼Œ</li>
<li>å¾ªç¯å½•å…¥æ‰€æœ‰äººçš„ä¿¡æ¯</li>
</ul>
<p>è¿™ä¸€éƒ¨åˆ†çš„ä»£ç ï¼š</p>
<p>getFaceByCamera.py</p>
<figure class="highlight py"><table><tr><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">import</span> cv2<br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> dlib<br><span class="hljs-keyword">import</span> sys<br><span class="hljs-keyword">import</span> random<br><span class="hljs-keyword">import</span> shutil<br><br> <br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">make_video</span>(<span class="hljs-params">name</span>):</span><br>    <span class="hljs-comment"># å½•åˆ¶è§†é¢‘</span><br>    <span class="hljs-comment">#shutil.rmtree(name)</span><br>    <span class="hljs-string">&quot;&quot;&quot;ä½¿ç”¨opencvå½•åƒ&quot;&quot;&quot;</span><br>    cap = cv2.VideoCapture(<span class="hljs-number">0</span>)  <span class="hljs-comment"># é»˜è®¤çš„æ‘„åƒå¤´</span><br>    <span class="hljs-comment"># æŒ‡å®šè§†é¢‘ä»£ç </span><br>    fourcc = cv2.VideoWriter_fourcc(*<span class="hljs-string">&quot;DIVX&quot;</span>)<br>    out = cv2.VideoWriter(<span class="hljs-string">&#x27;233.avi&#x27;</span>, fourcc, <span class="hljs-number">20.0</span>, (<span class="hljs-number">640</span>,<span class="hljs-number">480</span>))   <span class="hljs-comment"># è®¾ç½®å½•åˆ¶çš„è§†é¢‘çš„æ ¼å¼</span><br>    <span class="hljs-keyword">while</span>(cap.isOpened()):<br>        ret, frame = cap.read()<br>        <span class="hljs-keyword">if</span> ret:<br>            out.write(frame)<br>            <span class="hljs-comment">#</span><br>            cv2.imshow(<span class="hljs-string">&#x27;frame&#x27;</span>,frame)<br>            <span class="hljs-comment"># ç­‰å¾…æŒ‰é”®qæ“ä½œå…³é—­æ‘„åƒå¤´</span><br>            <span class="hljs-keyword">if</span> cv2.waitKey(<span class="hljs-number">1</span>) &amp; <span class="hljs-number">0xFF</span> == <span class="hljs-built_in">ord</span>(<span class="hljs-string">&#x27;q&#x27;</span>):<br>                <span class="hljs-keyword">break</span><br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">break</span><br>    cap.release()                   <span class="hljs-comment"># é‡Šæ”¾æ‘„åƒå¤´èµ„æº</span><br>    out.release()                   <span class="hljs-comment"># é‡Šæ”¾æ–‡ä»¶èµ„æº</span><br>    cv2.destroyAllWindows()         <span class="hljs-comment"># å…³é—­æ‹æ‘„çª—å£</span><br><br><br><br><br><span class="hljs-comment"># æ”¹å˜å›¾ç‰‡çš„äº®åº¦ä¸å¯¹æ¯”åº¦</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">relight</span>(<span class="hljs-params">img, light=<span class="hljs-number">1</span>, bias=<span class="hljs-number">0</span></span>):</span><br>    w = img.shape[<span class="hljs-number">1</span>]<br>    h = img.shape[<span class="hljs-number">0</span>]<br>    <span class="hljs-comment">#image = []</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>,w):<br>        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>,h):<br>            <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">3</span>):<br>                tmp = <span class="hljs-built_in">int</span>(img[j,i,c]*light + bias)<br>                <span class="hljs-keyword">if</span> tmp &gt; <span class="hljs-number">255</span>:<br>                    tmp = <span class="hljs-number">255</span><br>                <span class="hljs-keyword">elif</span> tmp &lt; <span class="hljs-number">0</span>:<br>                    tmp = <span class="hljs-number">0</span><br>                img[j,i,c] = tmp<br>    <span class="hljs-keyword">return</span> img<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">getDataByDlib</span>(<span class="hljs-params">name</span>):</span><br>    <span class="hljs-comment"># åˆ©ç”¨dlibæ¥å®ç°</span><br>    output_dir = name       <span class="hljs-comment"># ä½¿ç”¨å½•å…¥çš„åå­—ä½œä¸ºæ–‡ä»¶å¤¹çš„åå­—</span><br>    size = <span class="hljs-number">64</span>               <span class="hljs-comment"># ç›¸ç‰‡çš„å¤§å°ä¸º64*64</span><br><br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(output_dir):      <span class="hljs-comment"># æ²¡æœ‰æ–‡ä»¶å¤¹æ˜¯ä¸»åŠ¨åˆ›å»ºä¸€ä¸ª</span><br>        os.makedirs(output_dir)<br>    <span class="hljs-comment">#ä½¿ç”¨dlibè‡ªå¸¦çš„frontal_face_detectorä½œä¸ºæˆ‘ä»¬çš„ç‰¹å¾æå–å™¨</span><br>    detector = dlib.get_frontal_face_detector()<br>    <span class="hljs-comment"># æ‰“å¼€æ‘„åƒå¤´ å‚æ•°ä¸ºè¾“å…¥æµï¼Œå¯ä»¥ä¸ºæ‘„åƒå¤´æˆ–è§†é¢‘æ–‡ä»¶</span><br>    <span class="hljs-comment">#camera = cv2.VideoCapture(0)</span><br>    camera = cv2.VideoCapture(<span class="hljs-string">&quot;233.avi&quot;</span>)    <span class="hljs-comment"># ç›¸ç‰‡æ¥è‡ªä¸Šä¸€æ­¥æ‹æ‘„çš„è§†é¢‘</span><br><br>    index = <span class="hljs-number">1</span><br>    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>        <span class="hljs-keyword">if</span> (index &lt;= <span class="hljs-number">200</span>):                  <span class="hljs-comment"># æ¯ä¸€æ®µè§†é¢‘åªå–200å¼ </span><br>            print(<span class="hljs-string">&#x27;Being processed picture %s&#x27;</span> % index) <span class="hljs-comment"># æ˜¾ç¤ºå¤„ç†çš„è¿‡ç¨‹</span><br>            <span class="hljs-comment"># ä»æ‘„åƒå¤´è¯»å–ç…§ç‰‡</span><br>            success, img = camera.read()    <span class="hljs-comment"># ä»è§†é¢‘æµä¸­è¯»å–ç…§ç‰‡</span><br>            <span class="hljs-comment"># è½¬ä¸ºç°åº¦å›¾ç‰‡</span><br>            gray_img = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)<br>            <span class="hljs-comment"># ä½¿ç”¨detectorè¿›è¡Œäººè„¸æ£€æµ‹</span><br>            dets = detector(gray_img, <span class="hljs-number">1</span>)<br><br>            <span class="hljs-keyword">if</span> success == <span class="hljs-literal">False</span>:<br>                <span class="hljs-keyword">break</span><br><br>            <span class="hljs-keyword">for</span> i, d <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(dets):<br>                x1 = d.top() <span class="hljs-keyword">if</span> d.top() &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> <span class="hljs-number">0</span><br>                y1 = d.bottom() <span class="hljs-keyword">if</span> d.bottom() &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> <span class="hljs-number">0</span><br>                x2 = d.left() <span class="hljs-keyword">if</span> d.left() &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> <span class="hljs-number">0</span><br>                y2 = d.right() <span class="hljs-keyword">if</span> d.right() &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> <span class="hljs-number">0</span><br><br>                face = img[x1:y1,x2:y2]<br>                <span class="hljs-comment"># è°ƒæ•´å›¾ç‰‡çš„å¯¹æ¯”åº¦ä¸äº®åº¦ï¼Œ å¯¹æ¯”åº¦ä¸äº®åº¦å€¼éƒ½å–éšæœºæ•°ï¼Œè¿™æ ·èƒ½å¢åŠ æ ·æœ¬çš„å¤šæ ·æ€§</span><br>                face = relight(face, random.uniform(<span class="hljs-number">0.5</span>, <span class="hljs-number">1.5</span>), random.randint(-<span class="hljs-number">50</span>, <span class="hljs-number">50</span>))<br>                <span class="hljs-comment"># è£å‰ªå‡ºäººè„¸ç›¸ç‰‡ï¼Œå¤§å°ä¸º64*64</span><br>                face = cv2.resize(face, (size,size))    <br>                <span class="hljs-comment"># æ˜¾ç¤ºæœ€åè£å‰ªå‡ºçš„äººè„¸ç›¸ç‰‡</span><br>                cv2.imshow(<span class="hljs-string">&#x27;image&#x27;</span>, face)<br>                <span class="hljs-comment"># ä¿å­˜åˆ°æ–‡ä»¶ä¸‹ï¼Œæ–‡ä»¶åä¸º1 - 200.jpg</span><br>                cv2.imwrite(output_dir+<span class="hljs-string">&#x27;/&#x27;</span>+<span class="hljs-built_in">str</span>(index)+<span class="hljs-string">&#x27;.jpg&#x27;</span>, face)<br><br>                index += <span class="hljs-number">1</span><br>            key = cv2.waitKey(<span class="hljs-number">30</span>) &amp; <span class="hljs-number">0xff</span><br>            <span class="hljs-keyword">if</span> key == <span class="hljs-number">27</span>:<br>                <span class="hljs-keyword">break</span><br>        <span class="hljs-keyword">else</span>:<br>            print(<span class="hljs-string">&#x27;Finished!&#x27;</span>)<br>            <span class="hljs-keyword">break</span><br>    <span class="hljs-comment"># åˆ é™¤è§†é¢‘</span><br>    shutil.rmtree(<span class="hljs-string">&#x27;./233.avi&#x27;</span>)<br><br><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">getDataByOpencv2</span>():</span><br>    <span class="hljs-comment"># åˆ©ç”¨opencvæ¥å®ç°</span><br>    output_dir = <span class="hljs-string">&#x27;./my_faces&#x27;</span><br>    size = <span class="hljs-number">64</span><br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(output_dir):<br>        os.makedirs(output_dir)                                 <br>    <span class="hljs-comment"># è·å–åˆ†ç±»å™¨</span><br>    haar = cv2.CascadeClassifier(<span class="hljs-string">r&#x27;G:\DIP\Anaconda3\envs\test1\Library\etc\haarcascades\haarcascade_frontalface_default.xml&#x27;</span>)<br><br>    <span class="hljs-comment"># æ‰“å¼€æ‘„åƒå¤´ å‚æ•°ä¸ºè¾“å…¥æµï¼Œå¯ä»¥ä¸ºæ‘„åƒå¤´æˆ–è§†é¢‘æ–‡ä»¶</span><br>    camera = cv2.VideoCapture(<span class="hljs-string">&quot;233.avi&quot;</span>)<br><br>    n = <span class="hljs-number">1</span><br>    <span class="hljs-keyword">while</span> <span class="hljs-number">1</span>:<br>        <span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">10000</span>):<br>            print(<span class="hljs-string">&#x27;It`s processing %s image.&#x27;</span> % n)<br>            <span class="hljs-comment"># è¯»å¸§</span><br>            success, img = camera.read()<br><br>            gray_img = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)<br>            faces = haar.detectMultiScale(gray_img, <span class="hljs-number">1.3</span>, <span class="hljs-number">5</span>)<br>            <span class="hljs-keyword">for</span> f_x, f_y, f_w, f_h <span class="hljs-keyword">in</span> faces:<br>                face = img[f_y:f_y+f_h, f_x:f_x+f_w]<br>                face = cv2.resize(face, (<span class="hljs-number">64</span>,<span class="hljs-number">64</span>))<br>                <span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">                if n % 3 == 1:</span><br><span class="hljs-string">                    face = relight(face, 1, 50)</span><br><span class="hljs-string">                elif n % 3 == 2:</span><br><span class="hljs-string">                    face = relight(face, 0.5, 0)</span><br><span class="hljs-string">                &#x27;&#x27;&#x27;</span><br>                face = relight(face, random.uniform(<span class="hljs-number">0.5</span>, <span class="hljs-number">1.5</span>), random.randint(-<span class="hljs-number">50</span>, <span class="hljs-number">50</span>))<br>                cv2.imshow(<span class="hljs-string">&#x27;img&#x27;</span>, face)<br>                cv2.imwrite(output_dir+<span class="hljs-string">&#x27;/&#x27;</span>+<span class="hljs-built_in">str</span>(n)+<span class="hljs-string">&#x27;.jpg&#x27;</span>, face)<br>                n+=<span class="hljs-number">1</span><br>            key = cv2.waitKey(<span class="hljs-number">30</span>) &amp; <span class="hljs-number">0xff</span><br>            <span class="hljs-keyword">if</span> key == <span class="hljs-number">27</span>:<br>                <span class="hljs-keyword">break</span><br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">break</span><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    name = <span class="hljs-built_in">input</span>(<span class="hljs-string">&#x27;please input yourename: &#x27;</span>)        <span class="hljs-comment"># è·å–å½•å…¥è€…çš„åå­—</span><br>    name = os.path.join(<span class="hljs-string">&#x27;./image/trainfaces&#x27;</span>, name) <span class="hljs-comment"># ç”Ÿæˆä¿å­˜çš„æ–‡ä»¶è·¯å¾„å</span><br>    make_video(name)                                <span class="hljs-comment"># æ‹æ‘„è§†é¢‘</span><br>    getDataByDlib(name)                             <span class="hljs-comment"># åˆ©ç”¨dlibå¤„ç†è£å‰ªäººè„¸åŸå§‹ç›¸ç‰‡</span><br></code></pre></td></tr></table></figure>
<h2 id="æ„å»ºå·ç§¯ç¥ç»ç½‘ç»œï¼Œç„¶åè®­ç»ƒæ¨¡å‹"><a href="#æ„å»ºå·ç§¯ç¥ç»ç½‘ç»œï¼Œç„¶åè®­ç»ƒæ¨¡å‹" class="headerlink" title="æ„å»ºå·ç§¯ç¥ç»ç½‘ç»œï¼Œç„¶åè®­ç»ƒæ¨¡å‹"></a>æ„å»ºå·ç§¯ç¥ç»ç½‘ç»œï¼Œç„¶åè®­ç»ƒæ¨¡å‹</h2><p>è¿™ä¸€éƒ¨åˆ†å¤§æ¦‚å°±æ˜¯åšäººè„¸è¯†åˆ«çš„ä¸»è¦ç›®çš„äº†å§ï¼Œï¼Œï¼Œ</p>
<h3 id="æ„å»ºå·ç§¯ç¥ç»ç½‘ç»œ"><a href="#æ„å»ºå·ç§¯ç¥ç»ç½‘ç»œ" class="headerlink" title="æ„å»ºå·ç§¯ç¥ç»ç½‘ç»œ"></a>æ„å»ºå·ç§¯ç¥ç»ç½‘ç»œ</h3><p>è¿™ä¸€éƒ¨åˆ†å‡ ä¹ç½‘ä¸Šå†™çš„ä»£ç çš„æ¡†æ¶éƒ½æ˜¯å·®ä¸å¤šçš„ï¼Œï¼Œï¼Œæ‰€ä»¥åªè¦ç†è§£æ¯ä¸€å±‚æ˜¯ä»€ä¹ˆæ„æ€ï¼Œï¼Œæ€ä¹ˆç”¨å°±è¡Œäº†ï¼Œï¼Œå½“ç„¶å¯ä»¥ç»§ç»­æ·±ç©¶ä¸‹å»ï¼Œï¼Œç†è§£æ¯ä¸€å±‚ä¸ºä»€ä¹ˆè¿™ä¹ˆåšï¼Œï¼Œè¿™ä¹ˆåšçš„æ–¹æ³•æ˜¯ä»€ä¹ˆç­‰ç­‰ï¼Œï¼Œ</p>
<p>æˆ‘ä»¬ä¹‹å‰åœ¨è¿™ä¸€éƒ¨åˆ†æŠ•å…¥çš„ç²¾åŠ›ä¹Ÿæœ€å¤šï¼Œï¼Œå‡ºç°çš„é—®é¢˜ä¹Ÿæ˜¯å¾ˆå¤šçš„ï¼Œï¼Œå…¶ä¸­æˆ‘æ„Ÿè§‰æœ€å°è±¡æ·±åˆ»çš„å°±æ˜¯å±‚æ•°çš„å åŠ å’Œé‚£ä¸ªç¥å¥‡çš„ <code>loss=0.69.....</code></p>
<p>å±‚æ•°çš„å åŠ å°±æ˜¯è¯´å¤§éƒ¨åˆ†çš„ä»£ç éƒ½æ˜¯åšçš„3å±‚çš„ç¥ç»ç½‘ç»œï¼Œï¼Œä½†æ˜¯å¾ˆå°‘æœ‰åšå¤šå±‚çš„ï¼Œï¼Œå½“æ—¶æ‰¾äº†å¾ˆå¤šçš„èµ„æ–™æ‰ä¸€ç‚¹ä¸€ç‚¹çš„å¤§è‡´ä¼šç®—æ€ä¹ˆè®¡ç®—ä¸‹ä¸€å±‚</p>
<p>å…³äºé‚£ä¸€ä¸ªç¥å¥‡çš„ <code>loss=0.69</code> ï¼Œï¼Œè²Œä¼¼ä¸åŒçš„ç½‘ç»œã€éœ€æ±‚ä¸‹å¯èƒ½ä¸ä¼šå‡ºç°è¿™ç§æƒ…å†µï¼Œï¼Œï¼Œä½†æ˜¯å¦‚æœå‡ºç°ä¸ç®¡æ¯”æ€ä¹ˆè°ƒå‚å‡ºæ¥çš„losséƒ½ä¿æŒåœ¨0.69é™„è¿‘çš„è¯ï¼Œï¼Œå¯ä»¥è¯•ç€æŸ¥ä¸€ä¸‹è¿™ä¸€ä¸ªé—®é¢˜ï¼Œï¼Œæˆ‘ä»¬æœ€åçš„è§£å†³æ–¹æ³•æ˜¯å†æ·»åŠ ä¸€å±‚ <strong>batch nomalizationå±‚</strong> ï¼Œï¼Œå…·ä½“å¹²ä»€ä¹ˆçš„ç½‘ä¸Šæœ‰å¾ˆå¤šè®²è§£çš„ï¼Œï¼Œï¼ŒåŠ äº†å®ƒå°±å¯ä»¥ä½¿losså¿«é€Ÿæ”¶æ•›ï¼Œï¼Œï¼Œ</p>
<h3 id="è®­ç»ƒæ¨¡å‹"><a href="#è®­ç»ƒæ¨¡å‹" class="headerlink" title="è®­ç»ƒæ¨¡å‹"></a>è®­ç»ƒæ¨¡å‹</h3><p>è¿™ä¸€éƒ¨åˆ†çš„æ¡†æ¶éƒ½æ˜¯å·®ä¸å¤šçš„ï¼Œï¼Œå˜åŒ–å¯èƒ½æœ‰å‚æ•°çš„å˜åŒ–ï¼Œï¼Œä¼˜åŒ–å™¨çš„ä¸åŒç­‰ç­‰</p>
<p>ä»£ç ï¼š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><code class="hljs py"><span class="hljs-comment">#!/usr/bin/python</span><br><span class="hljs-comment">#coding=utf-8</span><br><span class="hljs-string">&#x27;&#x27;&#x27; face detect convolution&#x27;&#x27;&#x27;</span><br><span class="hljs-comment"># pylint: disable=invalid-name</span><br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> sys<br><span class="hljs-keyword">import</span> logging <span class="hljs-keyword">as</span> log<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">import</span> common<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">from</span> tensorflow.examples.tutorials.mnist <span class="hljs-keyword">import</span> input_data<br><span class="hljs-keyword">import</span> tensorflow <span class="hljs-keyword">as</span> tf<br><span class="hljs-keyword">import</span> cv2<br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> train_test_split<br><span class="hljs-keyword">import</span> random<br><br>SIZE = <span class="hljs-number">64</span><br><br>x = tf.placeholder(tf.float32, [<span class="hljs-literal">None</span>, SIZE, SIZE, <span class="hljs-number">3</span>])<br>y_ = tf.placeholder(tf.float32, [<span class="hljs-literal">None</span>, <span class="hljs-literal">None</span>])<br>keep_prob_5 = tf.placeholder(tf.float32)<br>keep_prob_75 = tf.placeholder(tf.float32)<br><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">weightVariable</span>(<span class="hljs-params">shape</span>):</span><br>    <span class="hljs-string">&#x27;&#x27;&#x27; build weight variable&#x27;&#x27;&#x27;</span><br>    init = tf.random_normal(shape, stddev=<span class="hljs-number">0.01</span>)<br>    <span class="hljs-comment">#init = tf.truncated_normal(shape, stddev=0.01)</span><br>    <span class="hljs-keyword">return</span> tf.Variable(init)<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">biasVariable</span>(<span class="hljs-params">shape</span>):</span><br>    <span class="hljs-string">&#x27;&#x27;&#x27; build bias variable&#x27;&#x27;&#x27;</span><br>    init = tf.random_normal(shape)<br>    <span class="hljs-comment">#init = tf.truncated_normal(shape, stddev=0.01)</span><br>    <span class="hljs-keyword">return</span> tf.Variable(init)<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">conv2d</span>(<span class="hljs-params">x, W</span>):</span><br>    <span class="hljs-string">&#x27;&#x27;&#x27; conv2d by 1, 1, 1, 1&#x27;&#x27;&#x27;</span><br>    <span class="hljs-keyword">return</span> tf.nn.conv2d(x, W, strides=[<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>], padding=<span class="hljs-string">&#x27;SAME&#x27;</span>)<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">maxPool</span>(<span class="hljs-params">x</span>):</span><br>    <span class="hljs-string">&#x27;&#x27;&#x27; max pooling&#x27;&#x27;&#x27;</span><br>    <span class="hljs-keyword">return</span> tf.nn.max_pool(x, ksize=[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>], strides=[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>], padding=<span class="hljs-string">&#x27;SAME&#x27;</span>)<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">dropout</span>(<span class="hljs-params">x, keep</span>):</span><br>    <span class="hljs-string">&#x27;&#x27;&#x27; drop out&#x27;&#x27;&#x27;</span><br>    <span class="hljs-keyword">return</span> tf.nn.dropout(x, keep)<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">batch_norm_layer</span>(<span class="hljs-params">value,is_training=<span class="hljs-literal">False</span>,name=<span class="hljs-string">&#x27;batch_norm&#x27;</span></span>):</span><br>    <span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">    æ‰¹é‡å½’ä¸€åŒ–  è¿”å›æ‰¹é‡å½’ä¸€åŒ–çš„ç»“æœ</span><br><span class="hljs-string">    </span><br><span class="hljs-string">    args:</span><br><span class="hljs-string">        value:ä»£è¡¨è¾“å…¥ï¼Œç¬¬ä¸€ä¸ªç»´åº¦ä¸ºbatch_size</span><br><span class="hljs-string">        is_training:å½“å®ƒä¸ºTrueï¼Œä»£è¡¨æ˜¯è®­ç»ƒè¿‡ç¨‹ï¼Œè¿™æ—¶ä¼šä¸æ–­æ›´æ–°æ ·æœ¬é›†çš„å‡å€¼ä¸æ–¹å·®ã€‚å½“æµ‹è¯•æ—¶ï¼Œè¦è®¾ç½®æˆFalseï¼Œè¿™æ ·å°±ä¼šä½¿ç”¨è®­ç»ƒæ ·æœ¬é›†çš„å‡å€¼å’Œæ–¹å·®ã€‚</span><br><span class="hljs-string">              é»˜è®¤æµ‹è¯•æ¨¡å¼</span><br><span class="hljs-string">        nameï¼šåç§°ã€‚</span><br><span class="hljs-string">    &#x27;&#x27;&#x27;</span><br>    <span class="hljs-keyword">if</span> is_training <span class="hljs-keyword">is</span> <span class="hljs-literal">True</span>:<br>        <span class="hljs-comment">#è®­ç»ƒæ¨¡å¼ ä½¿ç”¨æŒ‡æ•°åŠ æƒå‡½æ•°ä¸æ–­æ›´æ–°å‡å€¼å’Œæ–¹å·®</span><br>        <span class="hljs-keyword">return</span> tf.contrib.layers.batch_norm(inputs=value,decay=<span class="hljs-number">0.9</span>,updates_collections=<span class="hljs-literal">None</span>,is_training = <span class="hljs-literal">True</span>)<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-comment">#æµ‹è¯•æ¨¡å¼ ä¸æ›´æ–°å‡å€¼å’Œæ–¹å·®ï¼Œç›´æ¥ä½¿ç”¨</span><br>        <span class="hljs-keyword">return</span> tf.contrib.layers.batch_norm(inputs=value,decay=<span class="hljs-number">0.9</span>,updates_collections=<span class="hljs-literal">None</span>,is_training = <span class="hljs-literal">False</span>)<br><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">cnnLayer</span>(<span class="hljs-params">classnum, isTrue</span>):</span><br>    <span class="hljs-string">&#x27;&#x27;&#x27; create cnn layer&#x27;&#x27;&#x27;</span><br>    <span class="hljs-comment"># ç¬¬ä¸€å±‚</span><br>    W1 = weightVariable([<span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">32</span>]) <span class="hljs-comment"># å·ç§¯æ ¸å¤§å°(3,3)ï¼Œ è¾“å…¥é€šé“(3)ï¼Œ è¾“å‡ºé€šé“(32)</span><br>    b1 = biasVariable([<span class="hljs-number">32</span>])<br>    conv1 = tf.nn.relu(batch_norm_layer(conv2d(x, W1) + b1, isTrue))<br>    pool1 = maxPool(conv1)<br>    <span class="hljs-comment"># å‡å°‘è¿‡æ‹Ÿåˆï¼Œéšæœºè®©æŸäº›æƒé‡ä¸æ›´æ–°</span><br>    drop1 = dropout(pool1, keep_prob_5) <span class="hljs-comment"># 32 * 32 * 32 å¤šä¸ªè¾“å…¥channel è¢«filterå†…ç§¯æ‰äº†</span><br><br>    <span class="hljs-comment"># ç¬¬äºŒå±‚</span><br>    W2 = weightVariable([<span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">32</span>, <span class="hljs-number">64</span>])<br>    b2 = biasVariable([<span class="hljs-number">64</span>])<br>    conv2 = tf.nn.relu(batch_norm_layer(conv2d(drop1, W2) + b2, isTrue))<br>    pool2 = maxPool(conv2)<br>    drop2 = dropout(pool2, keep_prob_5) <span class="hljs-comment"># 64 * 16 * 16</span><br><br>    <span class="hljs-comment"># ç¬¬ä¸‰å±‚</span><br>    W3 = weightVariable([<span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">64</span>, <span class="hljs-number">64</span>])<br>    b3 = biasVariable([<span class="hljs-number">64</span>])<br>    conv3 = tf.nn.relu(conv2d(drop2, W3) + b3)<br>    pool3 = maxPool(conv3)<br>    drop3 = dropout(pool3, keep_prob_5) <span class="hljs-comment"># 64 * 8 * 8</span><br>        <br>    <span class="hljs-comment"># å…¨è¿æ¥å±‚</span><br>    Wf = weightVariable([<span class="hljs-number">8</span>*<span class="hljs-number">8</span>*<span class="hljs-number">64</span>,<span class="hljs-number">512</span>])<br>    bf = biasVariable([<span class="hljs-number">512</span>])<br>    drop3_flat = tf.reshape(drop3, [-<span class="hljs-number">1</span>, <span class="hljs-number">8</span>*<span class="hljs-number">8</span>*<span class="hljs-number">64</span>])<br>    dense = tf.nn.relu(tf.matmul(drop3_flat, Wf) + bf)<br>    dropf = dropout(dense, keep_prob_75)<br><br>    <span class="hljs-comment"># è¾“å‡ºå±‚</span><br>    Wout = weightVariable([<span class="hljs-number">512</span>, classnum])<br>    bout = weightVariable([classnum])<br>    <span class="hljs-comment">#out = tf.matmul(dropf, Wout) + bout</span><br>    out = tf.add(tf.matmul(dropf, Wout), bout)<br>    <span class="hljs-keyword">return</span> out<br><br>    <span class="hljs-comment"># # ç¬¬ä¸‰å±‚</span><br>    <span class="hljs-comment"># W3 = weightVariable([3, 3, 64, 128])</span><br>    <span class="hljs-comment"># b3 = biasVariable([128])</span><br>    <span class="hljs-comment"># conv3 = tf.nn.relu(batch_norm_layer(conv2d(drop2, W3) + b3, True))</span><br>    <span class="hljs-comment"># pool3 = maxPool(conv3)</span><br>    <span class="hljs-comment"># drop3 = dropout(pool3, keep_prob_5) # 128 * 8 * 8</span><br><br>    <span class="hljs-comment"># # ç¬¬å››å±‚</span><br>    <span class="hljs-comment"># W4 = weightVariable([3, 3, 128, 512])</span><br>    <span class="hljs-comment"># b4 = biasVariable([512])</span><br>    <span class="hljs-comment"># conv4 = tf.nn.relu(batch_norm_layer(conv2d(drop3, W4) + b4, True))</span><br>    <span class="hljs-comment"># pool4 = maxPool(conv4)</span><br>    <span class="hljs-comment"># drop4 = dropout(pool4, keep_prob_5) # 512 * 4 * 4</span><br><br>    <span class="hljs-comment"># # ç¬¬äº”å±‚</span><br>    <span class="hljs-comment"># W5 = weightVariable([3, 3, 512, 1024])</span><br>    <span class="hljs-comment"># b5 = biasVariable([1024])</span><br>    <span class="hljs-comment"># conv5 = tf.nn.relu(batch_norm_layer(conv2d(drop4, W5) + b5, True))</span><br>    <span class="hljs-comment"># pool5 = maxPool(conv5)</span><br>    <span class="hljs-comment"># drop5 = dropout(pool5, keep_prob_5) # 1024 * 2 * 2</span><br><br>    <span class="hljs-comment"># # ç¬¬å…­å±‚</span><br>    <span class="hljs-comment"># W6 = weightVariable([3, 3, 1024, 1024])</span><br>    <span class="hljs-comment"># b6 = biasVariable([1024])</span><br>    <span class="hljs-comment"># conv6 = tf.nn.relu(conv2d(drop5, W6) + b6)</span><br>    <span class="hljs-comment"># pool6 = maxPool(conv6)</span><br>    <span class="hljs-comment"># drop6 = dropout(pool6, keep_prob_5) # 2048 * 1 * 1</span><br><br><br><br><br>    <span class="hljs-comment"># # å…¨è¿æ¥å±‚</span><br>    <span class="hljs-comment"># Wf = weightVariable([1*1*1024, 2048])</span><br>    <span class="hljs-comment"># bf = biasVariable([2048])</span><br>    <span class="hljs-comment"># drop3_flat = tf.reshape(drop6, [-1, 1*1*1024])</span><br>    <span class="hljs-comment"># dense = tf.nn.relu(tf.matmul(drop3_flat, Wf) + bf)</span><br>    <span class="hljs-comment"># # dense = tf.nn.relu(tf.matmul(max_pool22_flat, Wf) + bf)</span><br>    <span class="hljs-comment"># dropf = dropout(dense, keep_prob_75)</span><br><br>   <br><br>    <span class="hljs-comment"># # è¾“å‡ºå±‚</span><br>    <span class="hljs-comment"># Wout = weightVariable([2048, classnum])</span><br>    <span class="hljs-comment"># bout = weightVariable([classnum])</span><br>    <span class="hljs-comment"># #out = tf.matmul(dropf, Wout) + bout</span><br>    <span class="hljs-comment"># out = tf.add(tf.matmul(dropf, Wout), bout)</span><br>    <span class="hljs-comment"># #return out</span><br><br><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">train</span>(<span class="hljs-params">train_x, train_y, tfsavepath</span>):</span><br>    <span class="hljs-string">&#x27;&#x27;&#x27; train&#x27;&#x27;&#x27;</span><br>    <span class="hljs-comment">##### log.debug(&#x27;train&#x27;)</span><br><br>    <span class="hljs-comment"># éšæœºåˆ’åˆ†æµ‹è¯•é›†ä¸è®­ç»ƒé›†</span><br>    train_x,test_x,train_y,test_y = train_test_split(train_x, train_y, test_size=<span class="hljs-number">0.05</span>, random_state=random.randint(<span class="hljs-number">0</span>,<span class="hljs-number">100</span>))<br><br>    <span class="hljs-comment"># å¾—åˆ°å·ç§¯ç»“æœ</span><br>    out = cnnLayer(train_y.shape[<span class="hljs-number">1</span>],<span class="hljs-literal">True</span>)<br><br>    <span class="hljs-comment"># å‚æ•°ï¼šå›¾ç‰‡æ•°æ®çš„æ€»æ•°ï¼Œå›¾ç‰‡çš„é«˜ã€å®½ã€é€šé“</span><br>    train_x = train_x.reshape(train_x.shape[<span class="hljs-number">0</span>], SIZE, SIZE, <span class="hljs-number">3</span>)<br>    test_x = test_x.reshape(test_x.shape[<span class="hljs-number">0</span>], SIZE, SIZE, <span class="hljs-number">3</span>)<br>    <br>    print(<span class="hljs-string">&#x27;train size:%s, test size:%s&#x27;</span> % (<span class="hljs-built_in">len</span>(train_x), <span class="hljs-built_in">len</span>(test_x)))<br>    sys.stdout.flush()<br><br>    <span class="hljs-comment"># å›¾ç‰‡å—ï¼Œæ¯æ¬¡å–32å¼ å›¾ç‰‡</span><br>    batch_size = <span class="hljs-number">32</span><br>    num_batch = <span class="hljs-built_in">len</span>(train_x) // batch_size  <br><br>    <span class="hljs-comment"># äº¤å‰ç†µ</span><br>    cross_entropy = tf.reduce_mean(tf.nn.softmax_cross_entropy_with_logits(logits=out, labels=y_))<br><br>    <span class="hljs-comment"># Adamä¼˜åŒ–å™¨ï¼Œå­¦ä¹ é€Ÿç‡ï¼š0.001</span><br>    train_step = tf.train.AdamOptimizer(<span class="hljs-number">0.001</span>).minimize(cross_entropy)<br>    <span class="hljs-comment"># train_step = tf.train.AdadeltaOptimizer(0.001).minimize(cross_entropy)</span><br><br>    <span class="hljs-comment"># æ¯”è¾ƒæ ‡ç­¾æ˜¯å¦ç›¸ç­‰ï¼Œå†æ±‚çš„æ‰€æœ‰æ•°çš„å¹³å‡å€¼ï¼Œtf.cast(å¼ºåˆ¶è½¬æ¢ç±»å‹)</span><br>    <span class="hljs-comment"># å‡†ç¡®ç‡è®¡ç®—å…¬å¼</span><br>    accuracy = tf.reduce_mean(tf.cast(tf.equal(tf.argmax(out, <span class="hljs-number">1</span>), tf.argmax(y_, <span class="hljs-number">1</span>)), tf.float32))<br><br><br><br>    <span class="hljs-comment"># å°†lossä¸accuracyä¿å­˜ä»¥ä¾›tensorboardä½¿ç”¨</span><br>    tf.summary.scalar(<span class="hljs-string">&#x27;loss&#x27;</span>, cross_entropy)<br>    tf.summary.scalar(<span class="hljs-string">&#x27;accuracy&#x27;</span>, accuracy)<br>    merged_summary_op = tf.summary.merge_all()<br><br>    <span class="hljs-comment"># æ•°æ®ä¿å­˜å™¨çš„åˆå§‹åŒ–</span><br>    saver = tf.train.Saver()<br><br>    <span class="hljs-keyword">with</span> tf.Session() <span class="hljs-keyword">as</span> sess:<br><br>        <span class="hljs-comment"># tensorflowåˆå§‹åŒ–</span><br>        sess.run(tf.global_variables_initializer())<br>        <span class="hljs-comment"># tensorboardæ•°æ®ä¿å­˜</span><br>        summary_writer = tf.summary.FileWriter(<span class="hljs-string">&#x27;./tmp&#x27;</span>, graph=tf.get_default_graph())<br><br>        <span class="hljs-comment"># è¿­ä»£80æ¬¡</span><br>        <span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">80</span>):<br>            <span class="hljs-comment"># æ¯æ¬¡å–32(batch_size)å¼ å›¾ç‰‡</span><br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(num_batch):<br><br>                <span class="hljs-comment"># è®­ç»ƒé›†ã€æµ‹è¯•é›†åˆ†å—</span><br>                batch_x = train_x[i*batch_size : (i+<span class="hljs-number">1</span>)*batch_size]<br>                batch_y = train_y[i*batch_size : (i+<span class="hljs-number">1</span>)*batch_size]<br>                <span class="hljs-comment"># å¼€å§‹è®­ç»ƒæ•°æ®ï¼ŒåŒæ—¶è®­ç»ƒä¸‰ä¸ªå˜é‡ï¼Œè¿”å›ä¸‰ä¸ªæ•°æ®</span><br>                _,loss,summary = sess.run([train_step, cross_entropy, merged_summary_op],<br>                                                feed_dict=&#123;x:batch_x,y_:batch_y, keep_prob_5:<span class="hljs-number">0.5</span>,keep_prob_75:<span class="hljs-number">0.75</span>&#125;)<br><br>                <span class="hljs-comment"># tensorboardè®°å½•æ•°æ®    </span><br>                summary_writer.add_summary(summary, n*num_batch+i)<br><br>                <br>                <span class="hljs-comment"># æ‰“å°æŸå¤±</span><br>                print(n*num_batch+i, loss)<br>                sys.stdout.flush()<br><br>        <span class="hljs-comment">#         if (n*num_batch+i) % batch_size == 0:</span><br>        <span class="hljs-comment">#             # è·å–æµ‹è¯•æ•°æ®çš„å‡†ç¡®ç‡</span><br>        <span class="hljs-comment">#             acc = accuracy.eval(&#123;x:test_x, y_:test_y, keep_prob_5:1.0, keep_prob_75:1.0&#125;)</span><br>        <span class="hljs-comment">#             print(n*num_batch+i, acc, &#x27;--&#x27;, n)</span><br>                    <br>        <span class="hljs-comment">#             accc = acc</span><br><br>        <span class="hljs-comment">#             # å‡†ç¡®ç‡å¤§äº0.98æ—¶ä¿å­˜å¹¶é€€å‡º</span><br>        <span class="hljs-comment">#             if acc &gt; 0.95 and n &gt; 2:</span><br>        <span class="hljs-comment">#                 # saver.save(sess, &#x27;./train_faces.model&#x27;, global_step=n*num_batch+i)</span><br>        <span class="hljs-comment">#                 saver.save(sess, tfsavepath)</span><br>        <span class="hljs-comment">#                 # saver.save(sess, tfsavepath)</span><br>        <span class="hljs-comment">#                 sys.exit(0)</span><br>        <span class="hljs-comment"># # saver.save(sess, &#x27;./train_faces.model&#x27;, global_step=n*num_batch+i)</span><br>        <span class="hljs-comment"># # saver.save(sess, tfsavepath)</span><br>        <span class="hljs-comment"># print(&#x27;accuracy less 0.98, exited!&#x27;)   </span><br><br>        <span class="hljs-comment"># å‡†ç¡®ç‡è®¡ç®—è¡¨è¾¾å¼</span><br>        acc = accuracy.<span class="hljs-built_in">eval</span>(&#123;x:test_x, y_:test_y, keep_prob_5:<span class="hljs-number">1.0</span>, keep_prob_75:<span class="hljs-number">1.0</span>&#125;)<br>        print(<span class="hljs-string">&#x27;after 80 times run: accuracy is &#x27;</span>, acc)<br>        sys.stdout.flush()<br><br>        <span class="hljs-comment"># æ¨¡å‹ä¿å­˜</span><br>        saver.save(sess, tfsavepath) <br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    <span class="hljs-keyword">pass</span><br><br></code></pre></td></tr></table></figure>
<h2 id="è¯†åˆ«"><a href="#è¯†åˆ«" class="headerlink" title="è¯†åˆ«"></a>è¯†åˆ«</h2><p>è¿™éƒ¨åˆ†å°±æ˜¯å°†è®­ç»ƒå¥½çš„æ¨¡å‹åŠ è½½ï¼Œï¼Œç„¶åå®æ—¶çš„è·å–æ¯ä¸€å¼ ç›¸ç‰‡å¤„ç†ç­‰ç­‰ï¼Œï¼Œï¼Œ</p>
<p>tensorflow_face.py è¿™éƒ¨åˆ†ä»£ç ç¬¬ä¸€æ¬¡è¿è¡Œä¼šç»™æ¯ä¸€ä¸ªäººåˆ›å»ºä¸€ä¸ªæ ‡ç­¾ï¼Œï¼Œè·å¾—æ ‡ç­¾é›†ï¼Œï¼Œç„¶åå’Œè®­ç»ƒé›†ä¸€åŒè®­ç»ƒï¼Œï¼Œï¼Œè€Œç¬¬äºŒæ¬¡è¿è¡Œå°±æ˜¯è¯†åˆ«ï¼Œï¼Œï¼Œ</p>
<figure class="highlight py"><table><tr><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> logging <span class="hljs-keyword">as</span> log<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">import</span> common<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">from</span> tensorflow.examples.tutorials.mnist <span class="hljs-keyword">import</span> input_data<br><span class="hljs-keyword">import</span> tensorflow <span class="hljs-keyword">as</span> tf<br><span class="hljs-keyword">import</span> cv2<br><span class="hljs-comment"># import convert as myconv</span><br><span class="hljs-keyword">import</span> tensorflow_face_conv <span class="hljs-keyword">as</span> myconv<br><span class="hljs-keyword">import</span> dlib<br><span class="hljs-keyword">import</span> random<br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> train_test_split<br><span class="hljs-keyword">import</span> time<br><br><span class="hljs-keyword">import</span> sys<br><br><br><span class="hljs-comment"># rm</span><br><span class="hljs-keyword">import</span> shutil<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">createdir</span>(<span class="hljs-params">*args</span>):</span>       <span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹</span><br>    <span class="hljs-string">&#x27;&#x27;&#x27; create dir&#x27;&#x27;&#x27;</span><br>    <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> args:<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(item):<br>            os.makedirs(item)<br><br>IMGSIZE = <span class="hljs-number">64</span><br>SIZE = <span class="hljs-number">64</span><br><br>rootpath = <span class="hljs-string">&#x27;G:\\DIP\\mine&#x27;</span><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">getpaddingSize</span>(<span class="hljs-params">shape</span>):</span>  <span class="hljs-comment"># å°†ç›¸ç‰‡ä¸¤ä¾§å¡«å……ä¸ºæ­£æ–¹å½¢</span><br>    <span class="hljs-string">&#x27;&#x27;&#x27; get size to make image to be a square rect &#x27;&#x27;&#x27;</span><br>    h, w = shape<br>    longest = <span class="hljs-built_in">max</span>(h, w)<br>    result = (np.array([longest]*<span class="hljs-number">4</span>, <span class="hljs-built_in">int</span>) - np.array([h, h, w, w], <span class="hljs-built_in">int</span>)) // <span class="hljs-number">2</span><br>    <span class="hljs-keyword">return</span> result.tolist()<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">dealwithimage</span>(<span class="hljs-params">img, h=<span class="hljs-number">64</span>, w=<span class="hljs-number">64</span></span>):</span> <span class="hljs-comment"># è£å‰ªå‡ºäººè„¸çš„å›¾ç‰‡</span><br>    <span class="hljs-string">&#x27;&#x27;&#x27; dealwithimage &#x27;&#x27;&#x27;</span><br>    <span class="hljs-comment">#img = cv2.imread(imgpath)</span><br>    top, bottom, left, right = getpaddingSize(img.shape[<span class="hljs-number">0</span>:<span class="hljs-number">2</span>])<br>    img = cv2.copyMakeBorder(img, top, bottom, left, right, cv2.BORDER_CONSTANT, value=[<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>])<br>    img = cv2.resize(img, (h, w))<br>    <span class="hljs-keyword">return</span> img<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">relight</span>(<span class="hljs-params">imgsrc, alpha=<span class="hljs-number">1</span>, bias=<span class="hljs-number">0</span></span>):</span>   <span class="hljs-comment"># æ›´æ”¹å›¾ç‰‡ä¸ºäºŒå€¼å›¾</span><br>    <span class="hljs-string">&#x27;&#x27;&#x27;relight&#x27;&#x27;&#x27;</span><br>    imgsrc = imgsrc.astype(<span class="hljs-built_in">float</span>)<br>    imgsrc = imgsrc * alpha + bias<br>    imgsrc[imgsrc &lt; <span class="hljs-number">0</span>] = <span class="hljs-number">0</span><br>    imgsrc[imgsrc &gt; <span class="hljs-number">255</span>] = <span class="hljs-number">255</span><br>    imgsrc = imgsrc.astype(np.uint8)<br>    <span class="hljs-keyword">return</span> imgsrc<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">getfilesinpath</span>(<span class="hljs-params">filedir</span>):</span>            <span class="hljs-comment"># å¾—åˆ°ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡ä»¶</span><br>    <span class="hljs-string">&#x27;&#x27;&#x27; get all file from file directory&#x27;&#x27;&#x27;</span><br>    <span class="hljs-keyword">for</span> (path, dirnames, filenames) <span class="hljs-keyword">in</span> os.walk(filedir):<br>        <span class="hljs-keyword">for</span> filename <span class="hljs-keyword">in</span> filenames:<br>            <span class="hljs-keyword">if</span> filename.endswith(<span class="hljs-string">&#x27;.jpg&#x27;</span>):<br>                <span class="hljs-keyword">yield</span> os.path.join(path, filename)<br>        <span class="hljs-keyword">for</span> diritem <span class="hljs-keyword">in</span> dirnames:<br>            getfilesinpath(os.path.join(path, diritem)) <span class="hljs-comment"># é€’å½’è°ƒç”¨å¾—åˆ°æ”¹æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶</span><br><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">readimage</span>(<span class="hljs-params">pairpathlabel</span>):</span>           <span class="hljs-comment"># å¾—åˆ°ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹çš„ç…§ç‰‡æ–‡ä»¶åå’Œæ ‡è®°labelsï¼Œ è¿”å›ä¸€ä¸ªåˆ—è¡¨</span><br>    <span class="hljs-string">&#x27;&#x27;&#x27;read image to list&#x27;&#x27;&#x27;</span><br>    imgs = []<br>    labels = []<br>    <span class="hljs-keyword">for</span> filepath, label <span class="hljs-keyword">in</span> pairpathlabel:<br>        <span class="hljs-keyword">for</span> fileitem <span class="hljs-keyword">in</span> getfilesinpath(filepath):<br>            img = cv2.imread(fileitem)<br>            imgs.append(img)<br>            labels.append(label)<br>    <span class="hljs-keyword">return</span> np.array(imgs), np.array(labels)<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">onehot</span>(<span class="hljs-params">numlist</span>):</span>                    <span class="hljs-comment"># ç”¨äºå¾—åˆ°ä¸€ä¸ªäººçš„æ ‡ç­¾</span><br>    <span class="hljs-string">&#x27;&#x27;&#x27; get one hot return host matrix is len * max+1 demensions&#x27;&#x27;&#x27;</span><br>    b = np.zeros([<span class="hljs-built_in">len</span>(numlist), <span class="hljs-built_in">max</span>(numlist)+<span class="hljs-number">1</span>])<br>    b[np.arange(<span class="hljs-built_in">len</span>(numlist)), numlist] = <span class="hljs-number">1</span><br>    <span class="hljs-keyword">return</span> b.tolist()<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">getfileandlabel</span>(<span class="hljs-params">filedir</span>):</span>           <span class="hljs-comment"># ç”¨å­—å…¸ä¿å­˜ä¸€ä¸ªäººåçš„ç…§ç‰‡å’Œå¯¹åº”çš„labels</span><br>    <span class="hljs-string">&#x27;&#x27;&#x27; get path and host paire and class index to name&#x27;&#x27;&#x27;</span><br>    dictdir = <span class="hljs-built_in">dict</span>([[name, os.path.join(filedir, name)] \<br>                    <span class="hljs-keyword">for</span> name <span class="hljs-keyword">in</span> os.listdir(filedir) <span class="hljs-keyword">if</span> os.path.isdir(os.path.join(filedir, name))])<br>                    <span class="hljs-comment">#for (path, dirnames, _) in os.walk(filedir) for dirname in dirnames])</span><br><br>    dirnamelist, dirpathlist = dictdir.keys(), dictdir.values()<br><br>    indexlist = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(dirnamelist)))<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">list</span>(<span class="hljs-built_in">zip</span>(dirpathlist, onehot(indexlist))), <span class="hljs-built_in">dict</span>(<span class="hljs-built_in">zip</span>(indexlist, dirnamelist))<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span>(<span class="hljs-params">_</span>):</span><br>    <span class="hljs-string">&#x27;&#x27;&#x27; main &#x27;&#x27;&#x27;</span><br>    <span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">    </span><br><span class="hljs-string">    äººè„¸è¯†åˆ«é¡¹ç›®ä¸»mainå‡½æ•°</span><br><span class="hljs-string">    </span><br><span class="hljs-string">    + åœ¨ç¬¬ä¸€æ¬¡è¿è¡Œè¯¥æ–‡ä»¶æ—¶ï¼Œä¼šå°†ä¸Šä¸€æ¬¡æ‹ç…§ä¿å­˜çš„å¤šä¸ªäººçš„ç…§ç‰‡æ•°æ®è¿›è¡Œå¤„ç†ï¼Œå·ç§¯ã€è®­ç»ƒç­‰å¾—åˆ°ä¸€ä¸ªé€‚åˆçš„æ¨¡å‹</span><br><span class="hljs-string">    + åœ¨ç¬¬äºŒæ¬¡è¿è¡Œè¯¥æ–‡ä»¶æ—¶ï¼Œä¼šæ‰“å¼€æ‘„åƒå¤´è·å–ä¸€ä¸ªç…§ç‰‡ï¼Œç„¶åæ ¹æ®ä¸Šä¸€æ­¥å¾—åˆ°çš„æ¨¡å‹å¤„ç†ååˆ†ç±»ï¼ˆè¯†åˆ«ï¼‰å‡ºç…§ç‰‡ä¸Šå‡ºç°çš„äººè„¸æ˜¯ä¹‹å‰å½•å…¥çš„æ‰€æœ‰äººä¸­å“ªä¸€ä¸ª</span><br><span class="hljs-string">    + ç›®å‰æ— æ³•åˆ¤æ–­å…¶ä»–æœªå½•å…¥äººçš„äººè„¸ï¼Œå³others</span><br><span class="hljs-string"></span><br><span class="hljs-string">    &#x27;&#x27;&#x27;</span><br>    <span class="hljs-comment">#shutil.rmtree(&#x27;./checkpoint&#x27;)</span><br>    savepath = <span class="hljs-string">&#x27;./checkpoint/face.ckpt&#x27;</span>     <span class="hljs-comment"># è®°å½•ä¸‹æ¨¡å‹çš„ç´¢å¼•è·¯å¾„</span><br>    isneedtrain = <span class="hljs-literal">False</span>                     <span class="hljs-comment"># ä¸å­˜åœ¨æ—¶è®¤ä¸ºæ—¶ç¬¬ä¸€æ¬¡è¿è¡Œï¼Œå³è¿›è¡Œå·ç§¯è®­ç»ƒ</span><br>    <span class="hljs-keyword">if</span> os.path.exists(savepath+<span class="hljs-string">&#x27;.meta&#x27;</span>) <span class="hljs-keyword">is</span> <span class="hljs-literal">False</span>:<br>        isneedtrain = <span class="hljs-literal">True</span><br><br><br>    <span class="hljs-comment"># æ ¹æ®å½•å…¥ä¿å­˜çš„ç…§ç‰‡å¾—åˆ°ä¸€ä¸ªlabelå’Œå­—å…¸çš„è·¯å¾„çš„åˆ—è¡¨</span><br>    pathlabelpair, indextoname = getfileandlabel(rootpath + <span class="hljs-string">&#x27;\\image\\trainfaces&#x27;</span>)<br>    <br>    print(indextoname)<br>    sys.stdout.flush()<br>    print(pathlabelpair)<br>    sys.stdout.flush()<br><br>    <span class="hljs-comment"># å¾—åˆ°è®­ç»ƒé›†ã€æµ‹è¯•é›†çš„ç…§ç‰‡å’Œlabelsçš„åˆ—è¡¨</span><br>    train_x, train_y = readimage(pathlabelpair)<br>    <span class="hljs-comment"># å°†æ•°æ®é›†å½’ä¸€åŒ– ï¼Ÿï¼Ÿï¼Ÿ</span><br>    train_x = train_x.astype(np.float32) / <span class="hljs-number">255.0</span><br><br><br><br>    <span class="hljs-comment">#### log.debug(&#x27;len of train_x : %s&#x27;, train_x.shape) </span><br><br><br><br>    <span class="hljs-keyword">if</span> isneedtrain:<br>        <span class="hljs-comment"># first generate all face</span><br>        <br>        <span class="hljs-comment"># è°ƒç”¨å¦ä¸€æ–‡ä»¶è¿›è¡Œå·ç§¯è®­ç»ƒæ¨¡å‹</span><br>        myconv.train(train_x, train_y, savepath)<br><br>       <span class="hljs-comment">#### # log.debug(&#x27;training is over, please run again&#x27;)</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-comment"># second recognize faces </span><br>        <span class="hljs-comment"># è°ƒç”¨ä¸‹é¢çš„å‡½æ•°è¿›è¡Œå®æ—¶è¯†åˆ«</span><br><br>        testfromcamera(train_x, train_y, savepath)<br>        <span class="hljs-comment">#print(np.column_stack((out, argmax)))</span><br><br><br><br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">testfromcamera</span>(<span class="hljs-params">train_x, train_y, chkpoint</span>):</span><br><br>    <span class="hljs-comment"># æ‰“å¼€é»˜è®¤æ‘„åƒå¤´</span><br>    camera = cv2.VideoCapture(<span class="hljs-number">0</span>)<br>    <span class="hljs-comment">#haar = cv2.CascadeClassifier(&#x27;haarcascade_frontalface_default.xml&#x27;)</span><br>    pathlabelpair, indextoname = getfileandlabel(rootpath + <span class="hljs-string">&#x27;\\image\\trainfaces&#x27;</span>)<br><br>    <span class="hljs-comment"># å¾—åˆ°é¢„æµ‹å€¼</span><br>    output = myconv.cnnLayer(<span class="hljs-built_in">len</span>(pathlabelpair),<span class="hljs-literal">False</span>)<br><br>    predict = output<br>    <br>    <span class="hljs-comment"># å¾—åˆ°dlibçš„äººè„¸æ£€æµ‹å™¨</span><br>    detector = dlib.get_frontal_face_detector()<br><br>    <span class="hljs-comment"># åŠ è½½æ¨¡å‹</span><br>    saver = tf.train.Saver()<br><br>    <span class="hljs-keyword">with</span> tf.Session() <span class="hljs-keyword">as</span> sess:<br>        <span class="hljs-comment">#sess.run(tf.global_variables_initializer())</span><br>        saver.restore(sess, chkpoint)<br><br>        n = <span class="hljs-number">1</span><br>        <span class="hljs-keyword">while</span> <span class="hljs-number">1</span>:<br>            <span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">20000</span>):<br>                print(<span class="hljs-string">&#x27;It`s processing %s image.&#x27;</span> % n)<br>                sys.stdout.flush()<br><br>                <span class="hljs-comment"># é—´éš”0.2s</span><br>                time.sleep(<span class="hljs-number">0.2</span>) <br><br>                <span class="hljs-comment"># è¯»å¸§</span><br>                success, img = camera.read()<br>                <span class="hljs-comment"># å¾—åˆ°ç°åº¦å›¾</span><br>                gray_img = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)<br><br>                <span class="hljs-comment"># ä½¿ç”¨detectorè¿›è¡Œäººè„¸æ£€æµ‹</span><br>                faces = detector(gray_img, <span class="hljs-number">1</span>)<br>                <span class="hljs-comment">#faces = haar.detectMultiScale(gray_img, 1.3, 5)</span><br>                <span class="hljs-keyword">for</span> i, d <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(faces):<br>                    x1 = d.top() <span class="hljs-keyword">if</span> d.top() &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> <span class="hljs-number">0</span><br>                    y1 = d.bottom() <span class="hljs-keyword">if</span> d.bottom() &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> <span class="hljs-number">0</span><br>                    x2 = d.left() <span class="hljs-keyword">if</span> d.left() &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> <span class="hljs-number">0</span><br>                    y2 = d.right() <span class="hljs-keyword">if</span> d.right() &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> <span class="hljs-number">0</span><br>                <br>                    face = img[x1:y1,x2:y2]<br><br>                    face = cv2.resize(face, (IMGSIZE, IMGSIZE))<br>                    <span class="hljs-comment">#could deal with face to train</span><br>                    test_x = np.array([face])<br>                    test_x = test_x.astype(np.float32) / <span class="hljs-number">255.0</span><br>                    <br>                    res = sess.run([predict, tf.argmax(output, <span class="hljs-number">1</span>)],\<br>                                   feed_dict=&#123;myconv.x: test_x,\<br>                                   myconv.keep_prob_5:<span class="hljs-number">1.0</span>, myconv.keep_prob_75: <span class="hljs-number">1.0</span>&#125;)<br>                    print(res, indextoname[res[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>]], res[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>][res[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>]])<br>                    sys.stdout.flush()<br>                    <br>                    <span class="hljs-comment"># å¾—åˆ°ä¸€ç»„éšæœºçš„é¢œè‰²å€¼</span><br>                    r = random.randint(<span class="hljs-number">0</span>, <span class="hljs-number">255</span>)<br>                    g = random.randint(<span class="hljs-number">0</span>, <span class="hljs-number">255</span>)<br>                    b = random.randint(<span class="hljs-number">0</span>, <span class="hljs-number">255</span>)<br><br>                    <span class="hljs-comment"># ç»˜åˆ¶æ£€æµ‹åˆ°çš„äººè„¸çš„æ–¹æ¡†</span><br>                    cv2.rectangle(img, (x2,x1),(y2,y1), (r, g, b),<span class="hljs-number">3</span>)<br>                    <br>                    <span class="hljs-comment"># if res[0][0][res[1][0]] &gt;= 500:</span><br>                    <span class="hljs-comment">#     cv2.putText(img, &#x27;others&#x27;, (x1, y1 + 50), cv2.FONT_HERSHEY_SIMPLEX, 1, (col, col, col), 2)  #æ˜¾ç¤ºåå­—</span><br>                    <span class="hljs-comment"># else:        </span><br>                    <span class="hljs-comment">#     cv2.putText(img, indextoname[res[1][0]], (x1, y1 - 40), cv2.FONT_HERSHEY_SIMPLEX, 1, (col, col, col), 2)  #æ˜¾ç¤ºåå­—</span><br>                    cv2.putText(img, indextoname[res[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>]], (x2 + <span class="hljs-number">25</span>, y1 + <span class="hljs-number">40</span>), cv2.FONT_HERSHEY_SIMPLEX, <span class="hljs-number">1</span>, (r, g, b), <span class="hljs-number">2</span>)  <span class="hljs-comment">#æ˜¾ç¤ºåå­—</span><br>                    <br>                    n+=<span class="hljs-number">1</span><br>                    cv2.imshow(<span class="hljs-string">&#x27;img&#x27;</span>, img)<br>                key = cv2.waitKey(<span class="hljs-number">30</span>) &amp; <span class="hljs-number">0xff</span><br>                <span class="hljs-keyword">if</span> key == <span class="hljs-number">27</span>:<br>                    <span class="hljs-keyword">break</span><br>            <span class="hljs-keyword">else</span>:<br>                <span class="hljs-keyword">break</span>           <br>    camera.release()<br>    cv2.destroyAllWindows()<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    <span class="hljs-comment"># first generate all face</span><br>    main(<span class="hljs-number">0</span>)<br>    <span class="hljs-comment">#onehot([1, 3, 9])</span><br>    <span class="hljs-comment">#print(getfileandlabel(&#x27;./image/trainimages&#x27;))</span><br>    <span class="hljs-comment">#generateface([[&#x27;./image/trainimages&#x27;, &#x27;./image/trainfaces&#x27;]])</span><br></code></pre></td></tr></table></figure>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>æœ€åçš„æ¨¡å‹çš„å‡†ç¡®åº¦è¿˜è¡Œï¼Œï¼Œä½†æ˜¯ä¸èƒ½è¯†åˆ«æœªå½•å…¥è€…ï¼Œï¼Œå®ƒä¼šè®¤ä¸ºæ˜¯ä¸å·²å½•å…¥è€…æœ€æ¥è¿‘çš„äººï¼Œï¼Œï¼Œ</p>
<p>acc:</p>
<p><img src="https://github.com/31415926535x/CollegeProjectBackup/blob/master/FaceRecognition/acc.png" alt=""></p>
<p>loss:</p>
<p><img src="https://github.com/31415926535x/CollegeProjectBackup/blob/master/FaceRecognition/loss.png" alt=""></p>
<p>è¿™ä¸ªæ•°æ®æ˜¯é€šè¿‡tensorboardç”Ÿæˆçš„ï¼Œï¼Œ</p>
<p>é¡¹ç›®é‡Œè¿˜æœ‰ä¸€ä¸ªç®€å•çš„guiçš„å®ç°ï¼Œï¼Œå› ä¸ºæ²¡æœ‰æ—¶é—´äº†ï¼Œï¼Œæ‰€æœ‰æ²¡æœ‰å¥½å¥½çš„ä¼˜åŒ–ä¸€ä¸‹ï¼Œï¼Œï¼Œ</p>
<p>(end å›°ã€‚ã€‚ã€‚ã€‚)</p>
]]></content>
      <categories>
        <category>äººè„¸è¯†åˆ«</category>
      </categories>
      <tags>
        <tag>å·¥å…·ä½¿ç”¨</tag>
        <tag>äººè„¸è¯†åˆ«</tag>
        <tag>å®éªŒæŠ¥å‘Š</tag>
      </tags>
  </entry>
  <entry>
    <title>å­—ç¬¦ä¸²hashä¸å­—å…¸æ ‘</title>
    <url>/2018/08/01/%E5%AD%97%E7%AC%A6%E4%B8%B2hash%E4%B8%8E%E5%AD%97%E5%85%B8%E6%A0%91/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>è¿™ç¯‡ä¸»è¦æ˜¯å…³äºå­—ç¬¦ä¸²é‡Œçš„ <strong>å­—ç¬¦ä¸²hash</strong> å’Œ <strong>å­—ç¬¦ä¸²å­—å…¸æ ‘</strong>ï¼Œï¼Œä¸¤ä¸ªéƒ½æ˜¯ç®€å•çš„å¥—æ¨¡æ¿çš„ä¸œè¥¿ï¼Œï¼Œï¼Œç†è§£åŸºæœ¬æ€æƒ³å°±è¡Œäº†ï¼Œï¼Œï¼Œå¯¹äº†ï¼Œï¼Œè¿˜æœ‰ä¸€ä¸ªå­—å…¸æ ‘çš„çš„å˜å½¢â€”<strong>01å­—å…¸æ ‘</strong>ï¼›</p>
<span id="more"></span>
<h2 id="å­—ç¬¦ä¸²hash"><a href="#å­—ç¬¦ä¸²hash" class="headerlink" title="å­—ç¬¦ä¸²hash"></a>å­—ç¬¦ä¸²hash</h2><h3 id="å¦‚ä½•æ±‚ä¸€ä¸ªå­—ç¬¦ä¸²çš„hashå€¼"><a href="#å¦‚ä½•æ±‚ä¸€ä¸ªå­—ç¬¦ä¸²çš„hashå€¼" class="headerlink" title="å¦‚ä½•æ±‚ä¸€ä¸ªå­—ç¬¦ä¸²çš„hashå€¼"></a>å¦‚ä½•æ±‚ä¸€ä¸ªå­—ç¬¦ä¸²çš„hashå€¼</h3><p>å­—ç¬¦ä¸²hashçš„ä½œç”¨å°±æ˜¯å°† <em>å­—ç¬¦ä¸²æœ‰æ•ˆçš„è½¬åŒ–ä¸ºä¸€ä¸ªæ•´æ•°</em> ï¼Œï¼Œè¿™ä¸ªè½¬åŒ–è¿‡ç¨‹åˆ©ç”¨çš„æ˜¯ä¸€ä¸ª <strong>hashå‡½æ•°</strong></p>
<p>ä¾‹å¦‚ï¼Œï¼Œæˆ‘ä»¬é€‰hashå‡½æ•°ä¸º $hash[i]=(hash[i-1]*p+idx(s[i]))%mod$<br>å…¶ä¸­çš„idx(s)ä¸ºsçš„ä¸€ä¸ªè‡ªå®šä¹‰ç´¢å¼•ï¼Œï¼Œï¼Œä¾‹å¦‚a = 1 , b = 2â€¦..</p>
<p>è¿™æ—¶ï¼Œï¼Œå– p=13,mod=101,æŠŠabcæ˜ å°„æˆä¸€ä¸ªæ•´æ•°<br>    hash[0]=1ï¼Œè¡¨ç¤º a æ˜ å°„ä¸º1<br>    hash[1]=(hash[0]<em>p+idx(b))%mod=15ï¼Œè¡¨ç¤º ab æ˜ å°„ä¸º 15<br>    hash[2]=(hash[1]</em>p+idx(c))%mod=97</p>
<p>æ‰€ä»¥abcå°±è¢«æ˜ å°„æˆ97ã€‚</p>
<p>åŒæ ·å¯¹äºå…¶ä»–çš„å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥ç”±æ­¤ç®—å‡ºä¸€ä¸ªhashå€¼ï¼Œï¼Œï¼Œ</p>
<p>å½“ç„¶è¿™é‡Œçš„p , MODè¦é€‰å–åˆé€‚ï¼Œï¼Œï¼Œå¦åˆ™å¯èƒ½ä¼šå‡ºç°ä¸åŒå­—ç¬¦ä¸²æœ‰ç›¸åŒçš„hashå€¼ï¼Œï¼Œï¼Œ</p>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œï¼Œï¼Œpå’Œmodä¸€èˆ¬å–ç´ æ•°ï¼Œpå–ä¸€ä¸ªè¾ƒå¤§çš„ç´ æ•°å³å¯ï¼ˆ6ä½åˆ°8ä½ï¼‰ï¼Œmodå–ä¸€ä¸ªå¤§ç´ æ•°ï¼Œæ¯”å¦‚1e9+7ï¼Œæˆ–è€…1e9+9â€¦.</p>
<p>ä¸€èˆ¬çš„æ¨¡æ¿ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">const</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> p = <span class="hljs-number">1e9</span> + <span class="hljs-number">13</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-function"><span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> <span class="hljs-title">hashStr</span><span class="hljs-params">(<span class="hljs-keyword">char</span> *s)</span></span>&#123;<br>    <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> h=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;len;i++)&#123;<br>        <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> value;<br>        <span class="hljs-keyword">char</span> c=s[i];<br>        <span class="hljs-keyword">if</span>(c&gt;=<span class="hljs-string">&#x27;0&#x27;</span>&amp;&amp;c&lt;=<span class="hljs-string">&#x27;9&#x27;</span>)  value=c-<span class="hljs-string">&#x27;0&#x27;</span>;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(c&gt;=<span class="hljs-string">&#x27;a&#x27;</span>&amp;&amp;c&lt;=<span class="hljs-string">&#x27;z&#x27;</span>) value=c-<span class="hljs-string">&#x27;a&#x27;</span>+<span class="hljs-number">10</span>;<br>        <span class="hljs-keyword">else</span>    value=c-<span class="hljs-string">&#x27;A&#x27;</span>+<span class="hljs-number">36</span>;<br>        h=(h*p+value)%mod;<br>    &#125;<br>    <span class="hljs-keyword">return</span> h;<br></code></pre></td></tr></table></figure>
<h3 id="å¦‚ä½•æ±‚ä¸€ä¸ªå­—ç¬¦ä¸²ä»»æ„å­ä¸²çš„hashå€¼"><a href="#å¦‚ä½•æ±‚ä¸€ä¸ªå­—ç¬¦ä¸²ä»»æ„å­ä¸²çš„hashå€¼" class="headerlink" title="å¦‚ä½•æ±‚ä¸€ä¸ªå­—ç¬¦ä¸²ä»»æ„å­ä¸²çš„hashå€¼"></a>å¦‚ä½•æ±‚ä¸€ä¸ªå­—ç¬¦ä¸²ä»»æ„å­ä¸²çš„hashå€¼</h3><p>æœ€å®¹æ˜“æƒ³åˆ°çš„æ–¹æ³•å°±æ˜¯ä¸ç®¡åŸæ¥çš„å­—ç¬¦ä¸²ï¼Œï¼Œï¼Œ<br>å•ç‹¬å¯¹äºå­ä¸²ä» l åˆ° r ç›´æ¥ç”¨åˆšåˆšæ±‚hashçš„æ–¹æ³•æ±‚å°±è¡Œäº†ï¼Œï¼Œï¼Œ<br>ä½†æ˜¯å½“æ•°æ®é‡å¤§æ—¶ï¼Œï¼Œï¼Œæ—¶é—´å¤æ‚åº¦å°±å¾ˆé«˜äº†ï¼Œï¼Œï¼Œï¼Œ</p>
<p>ä¸Šé¢çš„é‚£ä¸ªå…¬å¼ä¸­hash[i]æ±‚å¾—æ—¶å­—ç¬¦ä¸²ç¬¬iä¸ªå‰ç¼€çš„hashå€¼ï¼Œï¼Œï¼Œï¼Œç›¸å½“äºæ˜¯ä¸€ä¸ªhashçš„å‰ç¼€å’Œï¼Œï¼Œï¼Œï¼Œ</p>
<p>è¦æ±‚çš„å­ä¸² $hash[l..r] == (hash[r] - hash[l - 1] * p^{r - l + 1}) \% MOD$</p>
<p>**å¯¹äº†ï¼Œï¼Œï¼Œè¿™æ ·ç›´æ¥æ±‚å¯èƒ½æœ‰è´Ÿæ•°ï¼Œï¼Œï¼Œè¦åˆ¤æ–­+=modä¸€ä¸‹ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚</p>
<h3 id="å‡ ä¸ªå¸¸ç”¨çš„æ±‚å­—ç¬¦ä¸²hashç®—æ³•"><a href="#å‡ ä¸ªå¸¸ç”¨çš„æ±‚å­—ç¬¦ä¸²hashç®—æ³•" class="headerlink" title="å‡ ä¸ªå¸¸ç”¨çš„æ±‚å­—ç¬¦ä¸²hashç®—æ³•"></a>å‡ ä¸ªå¸¸ç”¨çš„æ±‚å­—ç¬¦ä¸²hashç®—æ³•</h3><p><a href="http://www.cnblogs.com/jiu0821/p/4554352.html">æœ‰äº›å€Ÿé‰´ï¼Œï¼Œï¼Œ</a></p>
<ul>
<li><p>$hash[i] = (hash[i - 1] * p + idx(s[i])) \% MOD$<br>å¸¸ç”¨ï¼Œï¼Œï¼Œ</p>
</li>
<li><p>unsigned long long hash[N];hash[i] = hash[i - 1] * p;è¿™ä¸ªè‡ªåŠ¨å–æ¨¡ï¼Œï¼Œï¼Œå½“æ•°è¶…è¿‡ $2^{64}-1$æ—¶å°±ä¼šæº¢å‡ºï¼Œï¼Œï¼Œç›¸å½“äºå–æ¨¡ $2^{64}$çš„è¿‡ç¨‹ï¼Œï¼Œï¼Œ</p>
</li>
<li>åŒhashï¼Œï¼Œï¼Œæœ‰äº›æƒ…å†µä¸‹ä¸€ä¸ªhashå¯èƒ½ä¼šå‡ºç°å†²çªï¼Œï¼Œï¼Œé‚£å°±æ¢ä¸¤ä¸ªï¼Œï¼Œï¼Œä¸¤ä¸ªä¸è¡Œå°±æ¢ä¸‰ä¸ªï¼Œï¼Œï¼Œï¼Œä»€ä¹ˆï¼Ÿï¼ä¸‰ä¸ªè¿˜ä¸è¡Œï¼Ÿï¼Ÿï¼Ÿï¼ï¼ï¼é‚£å°±å››ä¸ªæˆ–åˆ™æ¢ç®—æ³•ï¼Œï¼Œï¼Œé€ƒï¼Œï¼Œï¼Œå®ç°ï¼šå–ä¸¤ä¸ªmodï¼Œï¼Œä¸€èˆ¬å–1e9+7å’Œ1e9+9ä¸¤ä¸ªå­ªç”Ÿç´ æ•°ï¼Œï¼Œï¼Œå†²çªæ¦‚ç‡å·²ç»å¾ˆä½äº†ï¼Œï¼Œï¼Œï¼Œï¼Œ</li>
</ul>
<h2 id="å­—å…¸æ ‘"><a href="#å­—å…¸æ ‘" class="headerlink" title="å­—å…¸æ ‘"></a>å­—å…¸æ ‘</h2><p>ç®€å•æ¥è¯´å°±æ˜¯æŠŠnä¸ªå­—ç¬¦ä¸²ç”¨æ ‘ä¿å­˜ï¼Œï¼Œï¼Œè¿™æ ·æŸ¥è¯¢çš„æ—¶å€™ä¸€å±‚ä¸€å±‚çš„æ‰¾ï¼Œï¼Œï¼Œï¼Œ</p>
<h3 id="æ„å»ºèŠ‚ç‚¹"><a href="#æ„å»ºèŠ‚ç‚¹" class="headerlink" title="æ„å»ºèŠ‚ç‚¹"></a>æ„å»ºèŠ‚ç‚¹</h3><p>ä¸€èˆ¬çš„å­—å…¸æ ‘çš„ç»“æ„ä½“å®šä¹‰å¦‚ä¸‹:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">26</span>;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Trie</span>   </span><br><span class="hljs-class">&#123;</span>   <br>    Trie *next[maxn];   <br>    <span class="hljs-keyword">int</span> v;   <span class="hljs-comment">//æ ¹æ®éœ€è¦å˜åŒ–</span><br>&#125;;   <br> <br>Trie *root;<br><br></code></pre></td></tr></table></figure>
<h3 id="æ’å…¥"><a href="#æ’å…¥" class="headerlink" title="æ’å…¥"></a>æ’å…¥</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Insert</span><span class="hljs-params">(<span class="hljs-keyword">char</span> *str)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> len = <span class="hljs-built_in">strlen</span>(str);<br>    trie *p = root;<br>    <span class="hljs-comment">//insert</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; len; i++)<br>    &#123;<br>        <span class="hljs-keyword">int</span> t = str[i] - <span class="hljs-string">&#x27;a&#x27;</span>;<br>        <span class="hljs-comment">//NULL</span><br>        <span class="hljs-keyword">if</span> (p-&gt;next[t] == <span class="hljs-literal">NULL</span>)<br>        &#123;<br>            p-&gt;next[t] = <span class="hljs-keyword">new</span> trie();<br>            p = p-&gt;next[t];<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            p = p-&gt;next[t];<br>            p-&gt;sum ++;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="æŸ¥è¯¢"><a href="#æŸ¥è¯¢" class="headerlink" title="æŸ¥è¯¢"></a>æŸ¥è¯¢</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">query</span><span class="hljs-params">(<span class="hljs-keyword">char</span> *str)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> len = <span class="hljs-built_in">strlen</span>(str);<br>    trie *p = root;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; len; i++)<br>    &#123;<br>        <span class="hljs-keyword">int</span> t = str[i] - <span class="hljs-string">&#x27;a&#x27;</span>;<br>        p = p-&gt;next[t];<br>        <span class="hljs-comment">//NULL</span><br>        <span class="hljs-keyword">if</span> (p == <span class="hljs-literal">NULL</span>)  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> p-&gt;sum;<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="é‡Šæ”¾å†…å­˜"><a href="#é‡Šæ”¾å†…å­˜" class="headerlink" title="é‡Šæ”¾å†…å­˜"></a>é‡Šæ”¾å†…å­˜</h3><p>ä¸ç„¶å¯èƒ½æœ‰çš„é¢˜mle,,,,,</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">free</span><span class="hljs-params">(trie *t)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (t == <span class="hljs-literal">NULL</span>)<br>        <span class="hljs-keyword">return</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; maxn; i++)<br>        <span class="hljs-keyword">if</span> (t-&gt;next[i]) <span class="hljs-built_in">free</span>(t-&gt;next[i]);<br>    <span class="hljs-keyword">delete</span> (t);<br>&#125;<br></code></pre></td></tr></table></figure>
<p>è™½ç„¶æ˜¯æ¨¡æ¿åŒ–çš„ä¸œè¥¿ä½†æ˜¯ä¹Ÿè¦ä¸æ­»å¥—æ¨¡æ¿ï¼Œï¼Œï¼Œï¼Œï¼ŒQAQ</p>
<h2 id="ä¹ é¢˜"><a href="#ä¹ é¢˜" class="headerlink" title="ä¹ é¢˜"></a>ä¹ é¢˜</h2><p>å‰ä¸‰é“éƒ½æ˜¯æ¨¡æ¿é¢˜ï¼Œï¼Œä¸Šåˆè®²è¿‡ï¼Œï¼Œï¼Œæœ€åä¸€é¢˜æ˜¯01å­—å…¸æ ‘é—®é¢˜ï¼Œï¼Œï¼Œä»¥åè¦å†çœ‹ä¸€ä¸‹ï¼Œï¼Œï¼Œçœ‹åˆ°ä¸åŒçš„å¥½å‡ ç§å®ç°æ–¹æ³•ï¼Œï¼Œï¼Œæ²¡æœ‰æ¥çš„åŠæ€»ç»“ä¸€ä¸‹ï¼Œï¼Œï¼Œï¼Œ</p>
<h3 id="Problem-A-A"><a href="#Problem-A-A" class="headerlink" title="Problem A: A"></a>Problem A: A</h3><p>Time Limit: 1 Sec  Memory Limit: 128 MB</p>
<blockquote>
<p>Description</p>
<p>ç»™å®šNä¸ªå­—ç¬¦ä¸²ï¼ˆç¬¬iä¸ªå­—ç¬¦ä¸²é•¿åº¦ä¸ºMiï¼Œå­—ç¬¦ä¸²å†…åŒ…å«æ•°å­—ã€å¤§å°å†™å­—æ¯ï¼Œå¤§å°å†™æ•æ„Ÿï¼‰ï¼Œè¯·æ±‚å‡ºNä¸ªå­—ç¬¦ä¸²ä¸­å…±æœ‰å¤šå°‘ä¸ªä¸åŒçš„å­—ç¬¦ä¸²ã€‚</p>
<p>Input</p>
<p>è¾“å…¥ï¼Œç¬¬ä¸€è¡Œä¸€ä¸ªN<br>æ¥ä¸‹æ¥Nè¡Œæ¯è¡ŒåŒ…å«ä¸€ä¸ªå­—ç¬¦ä¸²</p>
<p>Output</p>
<p>è¾“å‡ºä¸åŒå­—ç¬¦ä¸²çš„ä¸ªæ•°</p>
<p>Sample Input<br>5<br>abc<br>aaaa<br>abc<br>abcc<br>12345</p>
<p>Sample Output<br>4<br>æˆ‘çš„ä»£ç ï¼š</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//#include &lt;iostream&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">const</span> ull p = <span class="hljs-number">1e9</span> + <span class="hljs-number">13</span>;<br><span class="hljs-keyword">const</span> ull mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e6</span>;<br>ull a[maxn];<br><span class="hljs-function">ull <span class="hljs-title">hashstr</span><span class="hljs-params">(<span class="hljs-keyword">char</span> *s)</span></span><br><span class="hljs-function"></span>&#123;<br>    ull h = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-built_in">strlen</span>(s); i++)<br>    &#123;<br>        ull idx;<br>        <span class="hljs-keyword">if</span> (s[i] &gt;= <span class="hljs-string">&#x27;0&#x27;</span> &amp;&amp; s[i] &lt;= <span class="hljs-string">&#x27;9&#x27;</span>)         idx = s[i] - <span class="hljs-string">&#x27;0&#x27;</span>;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (s[i] &gt;= <span class="hljs-string">&#x27;a&#x27;</span> &amp;&amp; s[i] &lt;= <span class="hljs-string">&#x27;z&#x27;</span>)    idx = s[i] - <span class="hljs-string">&#x27;a&#x27;</span> + <span class="hljs-number">10</span>;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (s[i] &gt;= <span class="hljs-string">&#x27;A&#x27;</span> &amp;&amp; s[i] &lt;= <span class="hljs-string">&#x27;Z&#x27;</span>)    idx = s[i] - <span class="hljs-string">&#x27;A&#x27;</span> + <span class="hljs-number">36</span>;<br>        h = (h * p + idx) % mod;<br>    &#125;<br>    <span class="hljs-keyword">return</span> h;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> n;<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;n);<br>    <span class="hljs-keyword">char</span> t[maxn];<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>    &#123;<br>        <span class="hljs-comment">//gets(t);</span><br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span> , &amp;t);<br>        a[i] = hashstr(t);<br>    &#125;<br><br>    sort(a + <span class="hljs-number">1</span> , a + <span class="hljs-number">1</span> + n);<br><br>    <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> cur = <span class="hljs-number">-1</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>        <span class="hljs-keyword">if</span> (a[i] != cur)<br>        &#123;<br>            cur = a[i];<br>            ans++;<br>        &#125;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<p>å­¦é•¿çš„ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br>ull base=<span class="hljs-number">131</span>;<br>ull a[<span class="hljs-number">10010</span>];<br><span class="hljs-keyword">char</span> s[<span class="hljs-number">1010</span>];<br><span class="hljs-function">ull <span class="hljs-title">Hash</span><span class="hljs-params">(<span class="hljs-keyword">char</span> *s)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> len=<span class="hljs-built_in">strlen</span>(s);<br>    ull ans=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;len;i++)<br>        ans=ans*base+(ull)s[i];<br>    <span class="hljs-keyword">return</span> ans;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">/*srand(NULL);</span><br><span class="hljs-comment">    freopen(&quot;data.in&quot;,&quot;r&quot;,stdin);</span><br><span class="hljs-comment">    freopen(&quot;data.out&quot;,&quot;w&quot;,stdout);*/</span><br>    <span class="hljs-comment">/*printf(&quot;1000\n&quot;);</span><br><span class="hljs-comment">    for(int i=1;i&lt;=1000;i++)</span><br><span class="hljs-comment">    &#123;</span><br><span class="hljs-comment">        int len=rand()%1000+1;</span><br><span class="hljs-comment">        for(int i=0;i&lt;len;i++)</span><br><span class="hljs-comment">        &#123;</span><br><span class="hljs-comment">            int t=rand()%3;</span><br><span class="hljs-comment">            if(t==0)</span><br><span class="hljs-comment">                s[i]=&#x27;0&#x27;+rand()%10;</span><br><span class="hljs-comment">            else if(t==1)</span><br><span class="hljs-comment">                s[i]=&#x27;A&#x27;+rand()%26;</span><br><span class="hljs-comment">            else</span><br><span class="hljs-comment">                s[i]=&#x27;a&#x27;+rand()%26;</span><br><span class="hljs-comment">        &#125;</span><br><span class="hljs-comment">        s[len]=&#x27;\0&#x27;;</span><br><span class="hljs-comment">        cout&lt;&lt;s&lt;&lt;endl;</span><br><span class="hljs-comment">    &#125;*/</span><br>    <span class="hljs-keyword">int</span> N,i=<span class="hljs-number">1</span>,ans=<span class="hljs-number">1</span>;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;N);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=N;i++)<br>    &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>,&amp;s);<br>        a[i]=Hash(s);<br>    &#125;<br>    sort(a+<span class="hljs-number">1</span>,a+<span class="hljs-number">1</span>+N);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">2</span>;i&lt;=N;i++)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(a[i]!=a[i<span class="hljs-number">-1</span>])<br>            ans++;<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>,ans);<br>&#125;<br><br></code></pre></td></tr></table></figure>
<h3 id="Problem-B-B"><a href="#Problem-B-B" class="headerlink" title="Problem B: B"></a>Problem B: B</h3><p>Time Limit: 1 Sec  Memory Limit: 128 MB</p>
<blockquote>
<p>Description</p>
<p>HHMåœ¨é˜…è¯»ä¸€ç¯‡æ–‡ç« ï¼Œä»–æƒ³æ‰¾å‡ºæ¥ä¸€ä¸ªå•è¯çš„é¢‘ç‡ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸ªå•è¯åœ¨æ–‡ç« ä¸­å‡ºç°äº†å‡ æ¬¡ã€‚èªæ˜çš„ä½ èµ¶å¿«å¸®å¸®ä»–</p>
<p>Input</p>
<p>è¾“å…¥åŒ…å«å¤šç»„æ•°æ®ã€‚</p>
<p>è¾“å…¥æ–‡ä»¶çš„ç¬¬ä¸€è¡Œæœ‰ä¸€ä¸ªæ•´æ•°ï¼Œä»£è¡¨æ•°æ®ç»„æ•°ã€‚æ¥ä¸‹æ¥æ˜¯è¿™äº›æ•°æ®ï¼Œä»¥å¦‚ä¸‹æ ¼å¼ç»™å‡ºï¼š</p>
<p>ç¬¬ä¸€è¡Œæ˜¯å•è¯Wï¼Œä¸€ä¸ªç”±{â€˜Aâ€™,â€™Bâ€™,â€™Câ€™,â€¦,â€™Zâ€™}ä¸­å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œä¿è¯1&lt;=|W|&lt;=10000ï¼ˆ|W|ä»£è¡¨å­—ç¬¦ä¸²Wçš„é•¿åº¦ï¼‰</p>
<p>ç¬¬äºŒè¡Œæ˜¯æ–‡ç« Tï¼Œä¸€ä¸ªç”±{â€˜Aâ€™,â€™Bâ€™,â€™Câ€™,â€¦,â€™Zâ€™}ä¸­å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œä¿è¯|W|&lt;=|T|&lt;=1000000ã€‚</p>
<p>Output</p>
</blockquote>
<p>å¯¹æ¯ç»„æ•°æ®è¾“å‡ºä¸€è¡Œä¸€ä¸ªæ•´æ•°ï¼Œå³Wåœ¨Tä¸­å‡ºç°çš„æ¬¡æ•°ã€‚</p>
<blockquote>
<p>Sample Input<br>3<br>BAPC<br>BAPC<br>AZA<br>AZAZAZA<br>VERDI<br>AVERDXIVYERDIAN</p>
<p>Sample Output<br>1<br>3<br>0</p>
<p>HINT</p>
<p>å­—ç¬¦ä¸²å“ˆå¸Œæ€è·¯</p>
</blockquote>
<p>æˆ‘çš„ä»£ç ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//#include &lt;iostream&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">const</span> ull p = <span class="hljs-number">1e9</span> + <span class="hljs-number">13</span>;<br><span class="hljs-keyword">const</span> ull MOD = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e4</span> + <span class="hljs-number">6</span>;<br><span class="hljs-function">ull <span class="hljs-title">pow1</span> <span class="hljs-params">(ull x , ull n)</span></span><br><span class="hljs-function"></span>&#123;<br>    ull res = x;<br>    ull ans = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span> (n)<br>    &#123;<br>        <span class="hljs-keyword">if</span> (n &amp; <span class="hljs-number">1</span>)  ans = ans * res % MOD;<br>         res = res * res % MOD;<br>         n &gt;&gt;= <span class="hljs-number">1</span>;                           <span class="hljs-comment">//bå³ç§»ç›¸å½“äºé™¤ä»¥äºŒ</span><br>    &#125;<br>    <span class="hljs-keyword">return</span> ans;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> n;<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;n);<br>    <span class="hljs-keyword">while</span> (n--)<br>    &#123;<br>        <span class="hljs-keyword">char</span> word[maxn];<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span> , word);<br>        <span class="hljs-comment">//gets(word);</span><br>        <span class="hljs-keyword">char</span> text[maxm];<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span> , text);<br>        <span class="hljs-comment">//gets(text);</span><br><br>        ull hash_word = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-built_in">strlen</span>(word); i++)<br>        &#123;<br>            ull idx = word[i] - <span class="hljs-string">&#x27;A&#x27;</span> + <span class="hljs-number">1</span>;<br>            hash_word = (hash_word * p + idx) % MOD;<br>        &#125;<br>        ull <span class="hljs-keyword">hash_t</span>[maxm];<br>        <span class="hljs-built_in">memset</span>(<span class="hljs-keyword">hash_t</span> , <span class="hljs-number">0</span> , <span class="hljs-keyword">sizeof</span> <span class="hljs-keyword">hash_t</span>);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-built_in">strlen</span>(text); i++)<br>        &#123;<br>            ull idx = text[i - <span class="hljs-number">1</span>] - <span class="hljs-string">&#x27;A&#x27;</span> + <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">hash_t</span>[i] = (<span class="hljs-keyword">hash_t</span>[i - <span class="hljs-number">1</span>] * p + idx) % MOD;<br>        &#125;<br><br>        ull ans = <span class="hljs-number">0</span>;<br>        ull len = <span class="hljs-built_in">strlen</span>(word);<br>        <span class="hljs-keyword">for</span> (ull i = len; i &lt;= <span class="hljs-built_in">strlen</span>(text); i++)<br>        &#123;<br>            ull t = <span class="hljs-keyword">hash_t</span>[i] - <span class="hljs-keyword">hash_t</span>[i - len] * pow1(p , len);<span class="hljs-comment">//cout &lt;&lt; t &lt;&lt; endl;</span><br>            <span class="hljs-keyword">if</span> (t &lt; <span class="hljs-number">0</span>)  t = (t + MOD) % MOD;<br>            <span class="hljs-keyword">else</span>        t %= MOD;<br>            <span class="hljs-keyword">if</span> (t == hash_word)<br>                ans++;<br>        &#125;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<p>å­¦é•¿çš„ä»£ç :</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br>ull base=<span class="hljs-number">131</span>;<br>ull p[<span class="hljs-number">100010</span>],a2[<span class="hljs-number">1000010</span>];<br><span class="hljs-keyword">char</span> s1[<span class="hljs-number">10010</span>],s2[<span class="hljs-number">1000010</span>];<br><span class="hljs-function">ull <span class="hljs-title">get</span><span class="hljs-params">(<span class="hljs-keyword">int</span> l,<span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> (ull)a2[r]-p[r-l+<span class="hljs-number">1</span>]*a2[l<span class="hljs-number">-1</span>];<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    srand(<span class="hljs-literal">NULL</span>);<br>    freopen(<span class="hljs-string">&quot;data.in&quot;</span>,<span class="hljs-string">&quot;w&quot;</span>,<span class="hljs-built_in">stdout</span>);<br>    <span class="hljs-comment">//freopen(&quot;data.out&quot;,&quot;w&quot;,stdout);</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;97\n&quot;</span>);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=<span class="hljs-number">97</span>;i++)<br>    &#123;<br>        <span class="hljs-keyword">int</span> p1=rand()%<span class="hljs-number">10000</span>+<span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">int</span> p2=rand()%<span class="hljs-number">10000</span>+<span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span>(p1&gt;p2)<br>            swap(p1,p2);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>;j&lt;p1;j++)<br>            s1[j]=<span class="hljs-string">&#x27;A&#x27;</span>+rand()%<span class="hljs-number">26</span>;<br>        s1[p1]=<span class="hljs-string">&#x27;\0&#x27;</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>;j&lt;p2;j++)<br>            s2[j]=<span class="hljs-string">&#x27;A&#x27;</span>+rand()%<span class="hljs-number">26</span>;<br>        s2[p2]=<span class="hljs-string">&#x27;\0&#x27;</span>;<br>        <span class="hljs-built_in">cout</span>&lt;&lt;s1&lt;&lt;<span class="hljs-built_in">endl</span>;<br>        <span class="hljs-built_in">cout</span>&lt;&lt;s2&lt;&lt;<span class="hljs-built_in">endl</span>;<br>    &#125;<br>    <span class="hljs-comment">/*p[0]=1;</span><br><span class="hljs-comment">    for(int i=1;i&lt;=10000;i++)</span><br><span class="hljs-comment">        p[i]=p[i-1]*base;</span><br><span class="hljs-comment">    int T;</span><br><span class="hljs-comment">    scanf(&quot;%d&quot;,&amp;T);</span><br><span class="hljs-comment">    while(T--)</span><br><span class="hljs-comment">    &#123;</span><br><span class="hljs-comment">        scanf(&quot;%s%s&quot;,&amp;s1,&amp;s2);</span><br><span class="hljs-comment">        int len1=strlen(s1),len2=strlen(s2);</span><br><span class="hljs-comment">        ull a1=0;</span><br><span class="hljs-comment">        int ans=0;</span><br><span class="hljs-comment">        for(int i=0;i&lt;len1;i++)</span><br><span class="hljs-comment">            a1=a1*base+(ull)s1[i];</span><br><span class="hljs-comment">        a2[0]=(ull)s2[0];</span><br><span class="hljs-comment">        for(int i=1;i&lt;len2;i++)</span><br><span class="hljs-comment">            a2[i]=a2[i-1]*base+(ull)s2[i];</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">        for(int i=0;i+len1-1&lt;len2;i++)</span><br><span class="hljs-comment">            if(a1==get(i,i+len1-1))</span><br><span class="hljs-comment">                ans++;</span><br><span class="hljs-comment">        printf(&quot;%d\n&quot;,ans);</span><br><span class="hljs-comment">    &#125;*/</span><br>&#125;<br><br></code></pre></td></tr></table></figure>
<h3 id="Problem-C-C"><a href="#Problem-C-C" class="headerlink" title="Problem C: C"></a>Problem C: C</h3><p>Time Limit: 1 Sec  Memory Limit: 128 MB</p>
<blockquote>
<p>Description</p>
<p>HMMæœ€è¿‘é‡åˆ°ä¸€ä¸ªéš¾é¢˜,è€å¸ˆäº¤ç»™ä»–å¾ˆå¤šå•è¯(åªæœ‰å°å†™å­—æ¯ç»„æˆ,ä¸ä¼šæœ‰é‡å¤çš„å•è¯å‡ºç°),ç°åœ¨è€å¸ˆè¦ä»–ç»Ÿè®¡å‡ºä»¥æŸä¸ªå­—ç¬¦ä¸²ä¸ºå‰ç¼€çš„å•è¯æ•°é‡(å•è¯æœ¬èº«ä¹Ÿæ˜¯è‡ªå·±çš„å‰ç¼€).</p>
<p>Input</p>
<p>è¾“å…¥æ•°æ®çš„ç¬¬ä¸€éƒ¨åˆ†æ˜¯ä¸€å¼ å•è¯è¡¨,æ¯è¡Œä¸€ä¸ªå•è¯,å•è¯çš„é•¿åº¦ä¸è¶…è¿‡10,å®ƒä»¬ä»£è¡¨çš„æ˜¯è€å¸ˆäº¤ç»™HMMç»Ÿè®¡çš„å•è¯,ä¸€ä¸ª#ä»£è¡¨å•è¯è¡¨çš„ç»“æŸ.ç¬¬äºŒéƒ¨åˆ†æ˜¯ä¸€è¿ä¸²çš„æé—®,æ¯è¡Œä¸€ä¸ªæé—®,æ¯ä¸ªæé—®éƒ½æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸².</p>
<p>Output</p>
<p>å¯¹äºæ¯ä¸ªæé—®,ç»™å‡ºä»¥è¯¥å­—ç¬¦ä¸²ä¸ºå‰ç¼€çš„å•è¯çš„æ•°é‡.</p>
<p>Sample Input<br>banana<br>band<br>bee<br>absolute<br>acm<br>#<br>ba<br>b<br>band<br>abc<br>Sample Output<br>2<br>3<br>1<br>0</p>
</blockquote>
<p>æˆ‘çš„ä»£ç ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-comment">//#include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> ms(a , b) memset(a , b , sizeof(a))</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">27</span>;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">trie</span></span><br><span class="hljs-class">&#123;</span><br>    trie *next[maxn];<br>    <span class="hljs-keyword">int</span> sum;<br>    trie()<br>    &#123;<br>        sum = <span class="hljs-number">1</span>;<br>        ms(next , <span class="hljs-literal">NULL</span>);<br>    &#125;<br>&#125;*root;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Insert</span><span class="hljs-params">(<span class="hljs-keyword">char</span> *str)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> len = <span class="hljs-built_in">strlen</span>(str);<br>    trie *p = root;<br>    <span class="hljs-comment">//insert</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; len; i++)<br>    &#123;<br>        <span class="hljs-keyword">int</span> t = str[i] - <span class="hljs-string">&#x27;a&#x27;</span>;<br>        <span class="hljs-comment">//NULL</span><br>        <span class="hljs-keyword">if</span> (p-&gt;next[t] == <span class="hljs-literal">NULL</span>)<br>        &#123;<br>            p-&gt;next[t] = <span class="hljs-keyword">new</span> trie();<br>            p = p-&gt;next[t];<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            p = p-&gt;next[t];<br>            p-&gt;sum ++;<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">query</span><span class="hljs-params">(<span class="hljs-keyword">char</span> *str)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> len = <span class="hljs-built_in">strlen</span>(str);<br>    trie *p = root;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; len; i++)<br>    &#123;<br>        <span class="hljs-keyword">int</span> t = str[i] - <span class="hljs-string">&#x27;a&#x27;</span>;<br>        p = p-&gt;next[t];<br>        <span class="hljs-comment">//NULL</span><br>        <span class="hljs-keyword">if</span> (p == <span class="hljs-literal">NULL</span>)  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> p-&gt;sum;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">free</span><span class="hljs-params">(trie *t)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (t == <span class="hljs-literal">NULL</span>)<br>        <span class="hljs-keyword">return</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; maxn; i++)<br>        <span class="hljs-keyword">if</span> (t-&gt;next[i]) <span class="hljs-built_in">free</span>(t-&gt;next[i]);<br>    <span class="hljs-keyword">delete</span> (t);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">char</span> str[maxn];<br>    root = <span class="hljs-keyword">new</span> trie;<br>    <span class="hljs-keyword">while</span>(gets(str) &amp;&amp; str[<span class="hljs-number">0</span>] != <span class="hljs-string">&#x27;#&#x27;</span>)<br>    &#123;<br>        Insert(str);<br>    &#125;<br>    <span class="hljs-keyword">while</span>(~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span> , str))<br>    &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span> , query(str));<br>    &#125;<br>    <span class="hljs-built_in">free</span>(root);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<p>å­¦é•¿çš„ä»£ç :</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;malloc.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">char</span> s[<span class="hljs-number">15</span>];<br><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Trie</span>&#123;</span><br>    <span class="hljs-keyword">int</span> v;<br>    Trie *next[<span class="hljs-number">26</span>];<br>&#125;Trie;<br><br>Trie root;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Creat</span><span class="hljs-params">(<span class="hljs-keyword">char</span> *str)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> len=<span class="hljs-built_in">strlen</span>(str);<br>    Trie *p=&amp;root,*q;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;len;i++)<br>    &#123;<br>        <span class="hljs-keyword">int</span> id=str[i]-<span class="hljs-string">&#x27;a&#x27;</span>;<br>        <span class="hljs-keyword">if</span>(p-&gt;next[id]==<span class="hljs-literal">NULL</span>)<br>        &#123;<br>            q=(Trie *)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(root));<br>            q-&gt;v=<span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>;j&lt;<span class="hljs-number">26</span>;j++)<br>                q-&gt;next[j]=<span class="hljs-literal">NULL</span>;<br>            p-&gt;next[id]=q;<br>            p=p-&gt;next[id];<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            p-&gt;next[id]-&gt;v++;<br>            p=p-&gt;next[id];<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">Find</span><span class="hljs-params">(<span class="hljs-keyword">char</span> *str)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> len=<span class="hljs-built_in">strlen</span>(str);<br>    Trie *p=&amp;root;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;len;i++)<br>    &#123;<br>        <span class="hljs-keyword">int</span> id=str[i]-<span class="hljs-string">&#x27;a&#x27;</span>;<br>        p=p-&gt;next[id];<br>        <span class="hljs-keyword">if</span>(p==<span class="hljs-literal">NULL</span>)<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> p-&gt;v;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">/*srand(NULL);</span><br><span class="hljs-comment">    freopen(&quot;data.in&quot;,&quot;r&quot;,stdin);</span><br><span class="hljs-comment">    freopen(&quot;data.out&quot;,&quot;w&quot;,stdout);</span><br><span class="hljs-comment">    */</span><br>    <span class="hljs-comment">/*for(int i=1;i&lt;=1000;i++)</span><br><span class="hljs-comment">    &#123;</span><br><span class="hljs-comment">        int p=rand()%10+1;</span><br><span class="hljs-comment">        for(int j=0;j&lt;p;j++)</span><br><span class="hljs-comment">            s[j]=&#x27;a&#x27;+rand()%26;</span><br><span class="hljs-comment">        cout&lt;&lt;s&lt;&lt;endl;</span><br><span class="hljs-comment">    &#125;*/</span><br>    <span class="hljs-keyword">char</span> str[<span class="hljs-number">15</span>];<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">26</span>;i++)<br>        root.next[i]=<span class="hljs-literal">NULL</span>;<br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>,&amp;str)&amp;&amp;str[<span class="hljs-number">0</span>]!=<span class="hljs-string">&#x27;#&#x27;</span>)<br>        Creat(str);<br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>,&amp;str)!=EOF)<br>    &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>,Find(str));<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<h3 id="Problem-D-D"><a href="#Problem-D-D" class="headerlink" title="Problem D: D"></a>Problem D: D</h3><p>Time Limit: 1 Sec  Memory Limit: 128 MB</p>
<blockquote>
<p>Description</p>
<p>HHMå’ŒSYåšæ¸¸æˆï¼ŒSYç»™HHMä¸€ä¸ªé›†åˆï¼Œé›†åˆåŒ…å«äº†Nä¸ªæ•´æ•°ï¼ŒéšåSYå‘HHMå‘èµ·Mæ¬¡è¯¢é—®ï¼Œæ¯æ¬¡è¯¢é—®åŒ…å«ä¸€ä¸ªæ•´æ•°Sï¼Œä¹‹åHHMéœ€è¦åœ¨é›†åˆä¸­<br>æ‰¾åˆ°ä¸€ä¸ªæ­£æ•´æ•°Kï¼Œä½¿å¾—Kä¸Sçš„å¼‚æˆ–ç»“æœæœ€å¤§ã€‚HHMå‘ä½ è¯·æ±‚å¸®åŠ©</p>
<p>Input</p>
<p>è¾“å…¥åŒ…å«è‹¥å¹²ç»„æµ‹è¯•æ•°æ®ï¼Œæ¯ç»„æµ‹è¯•æ•°æ®åŒ…å«è‹¥å¹²è¡Œã€‚</p>
<p>è¾“å…¥çš„ç¬¬ä¸€è¡Œæ˜¯ä¸€ä¸ªæ•´æ•°Tï¼ˆT &lt; 10ï¼‰ï¼Œè¡¨ç¤ºå…±æœ‰Tç»„æ•°æ®ã€‚</p>
<p>æ¯ç»„æ•°æ®çš„ç¬¬ä¸€è¡Œè¾“å…¥ä¸¤ä¸ªæ­£æ•´æ•°Nï¼ŒMï¼ˆ&lt;1=N,M&lt;=100000ï¼‰ï¼Œæ¥ä¸‹æ¥ä¸€è¡Œï¼ŒåŒ…å«Nä¸ªæ­£æ•´æ•°ï¼Œä»£è¡¨ Zeus çš„è·å¾—çš„é›†åˆï¼Œä¹‹åMè¡Œï¼Œæ¯è¡Œä¸€ä¸ªæ­£æ•´æ•°Sï¼Œä»£è¡¨ Prometheus è¯¢é—®çš„æ­£æ•´æ•°ã€‚æ‰€æœ‰æ­£æ•´æ•°å‡ä¸è¶…è¿‡2^32ã€‚</p>
<p>Output</p>
<p>å¯¹äºæ¯ç»„æ•°æ®ï¼Œé¦–å…ˆéœ€è¦è¾“å‡ºå•ç‹¬ä¸€è¡Œâ€Case #?:â€ï¼Œå…¶ä¸­é—®å·å¤„åº”å¡«å…¥å½“å‰çš„æ•°æ®ç»„æ•°ï¼Œç»„æ•°ä»1å¼€å§‹è®¡ç®—ã€‚</p>
<p>å¯¹äºæ¯ä¸ªè¯¢é—®ï¼Œè¾“å‡ºä¸€ä¸ªæ­£æ•´æ•°Kï¼Œä½¿å¾—Kä¸Så¼‚æˆ–å€¼æœ€å¤§ã€‚</p>
<p>Sample Input<br>2<br>3 2<br>3 4 5<br>1<br>5<br>4 1<br>4 6 5 6<br>3<br>Sample Output<br>Case #1:<br>4<br>3<br>Case #2:<br>4</p>
</blockquote>
<p>æˆ‘çš„ä»£ç ï¼š</p>
<p>è¿™ä¸ªæ˜¯ç”¨ <strong>01å­—å…¸æ ‘</strong> è§£å†³çš„ï¼Œï¼Œï¼Œå½“æ—¶æƒ³åˆ°äº†å°†æ¯ä¸€ä¸ªæ•°è½¬åŒ–ä¸ºâ€™aâ€™ , â€˜bâ€™é¡ºåºçš„å­—ç¬¦ä¸²ï¼Œï¼Œç„¶åå­˜åˆ°å­—å…¸æ•°é‡Œï¼Œï¼Œæœ€åæŸ¥è¯¢å¾…è¾“å…¥çš„så¼‚æˆ–åçš„å­—ç¬¦ä¸²åœ¨æ ‘ä¸­èµ°åˆ°å¤´çš„ä½ç½®å³ä¸ºç­”æ¡ˆï¼Œï¼Œï¼Œçªç„¶è’™è”½ä¸ä¼šå»ºæ ‘äº†ï¼Œï¼Œï¼Œggâ€¦.QAQ</p>
<p>å¯¹äº†ï¼Œï¼Œæˆ‘çœ‹åˆ°ç½‘ä¸Šæœ‰çš„äººæ˜¯ç”¨æ•°ç»„å»ºçš„æ ‘ï¼Œï¼Œï¼Œæœ‰ç‚¹çœ‹ä¸æ‡‚ï¼Œï¼Œï¼ŒæŒ–ä¸ªå‘ï¼Œï¼Œï¼Œè¿˜æœ‰ä¸€ä¸ªç¥å¥‡çš„å‡½æ•°bitset(),,,,å“ªå¤©æ¥è¡¥ç¥¨ï¼Œï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-comment">//#include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> ms(a , b) memset(a , b , sizeof(a))</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">2</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e5</span> +<span class="hljs-number">5</span>;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">trie</span></span><br><span class="hljs-class">&#123;</span><br>    trie *next[maxn];<br>    <span class="hljs-keyword">int</span> num;<br>    trie()<br>    &#123;<br>        num = <span class="hljs-number">0</span>;<br>        ms(next , <span class="hljs-literal">NULL</span>);<br>    &#125;<br>&#125;;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Insert</span><span class="hljs-params">(trie *root , <span class="hljs-keyword">int</span> a)</span></span><br><span class="hljs-function"></span>&#123;<br>    trie *p = root;<br>    <span class="hljs-comment">//insert</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">31</span>; i &gt;= <span class="hljs-number">0</span>; i--)<br>    &#123;<br>        <span class="hljs-keyword">int</span> k = (a &gt;&gt; i) &amp; <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span> (p-&gt;next[k] == <span class="hljs-literal">NULL</span>)         <span class="hljs-comment">//ç©ºçš„ä»£è¡¨æ²¡å­˜åŠ ä¸Š</span><br>        &#123;<br>            p-&gt;next[k] = <span class="hljs-keyword">new</span> trie();<br><br>        &#125;<br>        p = p-&gt;next[k];<br>    &#125;<br>    p-&gt;num = a;                         <span class="hljs-comment">//å°†ä»æ ¹èŠ‚ç‚¹åˆ°è¯¥èŠ‚ç‚¹è¡¨ç¤ºçš„å€¼å­˜èµ·æ¥</span><br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">query</span><span class="hljs-params">(trie *root , <span class="hljs-keyword">int</span> a)</span></span><br><span class="hljs-function"></span>&#123;<br>    trie *p = root;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">31</span>; i &gt;= <span class="hljs-number">0</span>; i--)<br>    &#123;<br>        <span class="hljs-keyword">int</span> k = (a &gt;&gt; i) &amp; <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span> (p-&gt;next[k ^ <span class="hljs-number">1</span>] != <span class="hljs-literal">NULL</span>)<br>            p = p-&gt;next[k ^ <span class="hljs-number">1</span>];<br>        <span class="hljs-keyword">else</span><br>            p = p-&gt;next[k];<br>    &#125;<br>    <span class="hljs-keyword">return</span> p-&gt;num;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Free</span><span class="hljs-params">(trie *t)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (t == <span class="hljs-literal">NULL</span>)<br>        <span class="hljs-keyword">return</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; maxn; i++)<br>        <span class="hljs-keyword">if</span> (t-&gt;next[i]) Free(t-&gt;next[i]);<br>    <span class="hljs-keyword">delete</span> t;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> t;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;t);<br>    <span class="hljs-keyword">int</span> k = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(t--)<br>    &#123;<br><br>        <span class="hljs-keyword">int</span> n , m;<br>        <span class="hljs-comment">//cin &gt;&gt; n &gt;&gt; m;</span><br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span> , &amp;n , &amp;m);<br>        <span class="hljs-keyword">int</span> a;<br>        trie *root = <span class="hljs-keyword">new</span> trie();<br><br>        <span class="hljs-comment">//insert</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;a);<br>            Insert(root , a);<br>        &#125;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Case #%d:\n&quot;</span> , k++);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; i++)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;a);<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span> , query(root , a));<br>        &#125;<br>        Free(root);<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><br></code></pre></td></tr></table></figure>
<p>å­¦é•¿çš„ä»£ç :</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;malloc.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">tree</span></span><br><span class="hljs-class">&#123;</span><br>    tree *next[<span class="hljs-number">2</span>];<br>    <span class="hljs-keyword">int</span> v;<br>    <span class="hljs-keyword">int</span> val;<br>&#125;tree;<br>tree root;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Creat</span><span class="hljs-params">(<span class="hljs-keyword">char</span> *str,<span class="hljs-keyword">int</span> va)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> len=<span class="hljs-built_in">strlen</span>(str);<br>    tree *p=&amp;root,*q;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;len;i++)<br>    &#123;<br>        <span class="hljs-keyword">int</span> id=str[i]-<span class="hljs-string">&#x27;0&#x27;</span>;<br>        <span class="hljs-keyword">if</span>(p-&gt;next[id]==<span class="hljs-literal">NULL</span>)<br>        &#123;<br>            q=(tree*)<span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(root));<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>;j&lt;<span class="hljs-number">2</span>;j++)<br>                q-&gt;next[j]=<span class="hljs-literal">NULL</span>;<br>            p-&gt;next[id]=q;<br>        &#125;<br>        p=p-&gt;next[id];<br>        <span class="hljs-keyword">if</span>(i==len<span class="hljs-number">-1</span>)<br>            p-&gt;val=va;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Find</span><span class="hljs-params">(<span class="hljs-keyword">char</span> *str)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> len=<span class="hljs-built_in">strlen</span>(str);<br>    tree *p=&amp;root;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;len;i++)<br>    &#123;<br>        <span class="hljs-keyword">int</span> id=str[i]-<span class="hljs-string">&#x27;0&#x27;</span>;<br>        <span class="hljs-keyword">if</span>(p-&gt;next[<span class="hljs-number">1</span>-id]!=<span class="hljs-number">0</span>)<br>            p=p-&gt;next[<span class="hljs-number">1</span>-id];<br>        <span class="hljs-keyword">else</span><br>            p=p-&gt;next[id];<br>        <span class="hljs-keyword">if</span>(p==<span class="hljs-literal">NULL</span>)<br>            <span class="hljs-keyword">return</span>;<br>        <span class="hljs-keyword">if</span>(i==len<span class="hljs-number">-1</span>)<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>,p-&gt;val);<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">2</span>;i++)<br>    &#123;<br>        root.next[i]=<span class="hljs-literal">NULL</span>;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">/*srand(NULL);</span><br><span class="hljs-comment">    freopen(&quot;data.in&quot;,&quot;r&quot;,stdin);</span><br><span class="hljs-comment">    freopen(&quot;data.out&quot;,&quot;w&quot;,stdout);</span><br><span class="hljs-comment">    */</span><br>    <span class="hljs-comment">/*printf(&quot;5\n&quot;);</span><br><span class="hljs-comment">    for(int i=1;i&lt;=5;i++)</span><br><span class="hljs-comment">    &#123;</span><br><span class="hljs-comment">        int m=rand()%100000+1;</span><br><span class="hljs-comment">        int n=rand()%100000+1;</span><br><span class="hljs-comment">        printf(&quot;%d %d\n&quot;,n,m);</span><br><span class="hljs-comment">        for(int i=1;i&lt;=n;i++)</span><br><span class="hljs-comment">            printf(&quot;%d &quot;,rand()%100000000+1);</span><br><span class="hljs-comment">        printf(&quot;\n&quot;);</span><br><span class="hljs-comment">        for(int i=1;i&lt;=m;i++)</span><br><span class="hljs-comment">            printf(&quot;%d &quot;,rand()%100000000+1);</span><br><span class="hljs-comment">        printf(&quot;\n&quot;);</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">    &#125;*/</span><br><br>    <span class="hljs-keyword">int</span> kase=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> T;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;T);<br>    <span class="hljs-keyword">while</span>(T--)<br>    &#123;<br>        init();<br>        <span class="hljs-keyword">int</span> n,m;<br>        <span class="hljs-keyword">char</span> s[<span class="hljs-number">50</span>];<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>,&amp;n,&amp;m);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++)<br>        &#123;<br>            <span class="hljs-keyword">int</span> a;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;a);<br>            <span class="hljs-keyword">int</span> tmp=a;<br>            s[<span class="hljs-number">36</span>]=<span class="hljs-string">&#x27;\0&#x27;</span>;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">35</span>;j&gt;=<span class="hljs-number">0</span>;j--)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(a)<br>                &#123;<br>                    s[j]=a%<span class="hljs-number">2</span>+<span class="hljs-string">&#x27;0&#x27;</span>;<br>                    a/=<span class="hljs-number">2</span>;<br>                &#125;<br>                <span class="hljs-keyword">else</span><br>                &#123;<br>                    s[j]=<span class="hljs-string">&#x27;0&#x27;</span>;<br>                &#125;<br>            &#125;<br>            Creat(s,tmp);<br>        &#125;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Case #%d:\n&quot;</span>,++kase);<br>        <span class="hljs-keyword">while</span>(m--)<br>        &#123;<br>            <span class="hljs-keyword">int</span> a;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;a);<br>            s[<span class="hljs-number">36</span>]=<span class="hljs-string">&#x27;\0&#x27;</span>;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">35</span>;j&gt;=<span class="hljs-number">0</span>;j--)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(a)<br>                &#123;<br>                    s[j]=a%<span class="hljs-number">2</span>+<span class="hljs-string">&#x27;0&#x27;</span>;<br>                    a/=<span class="hljs-number">2</span>;<br>                &#125;<br>                <span class="hljs-keyword">else</span><br>                &#123;<br>                    s[j]=<span class="hljs-string">&#x27;0&#x27;</span>;<br>                &#125;<br>            &#125;<br>            Find(s);<br>        &#125;<br><br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<p>æºœã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚</p>
]]></content>
      <tags>
        <tag>acm</tag>
        <tag>ç®—æ³•</tag>
        <tag>å­—ç¬¦ä¸²</tag>
      </tags>
  </entry>
  <entry>
    <title>å·®åˆ†çº¦æŸ</title>
    <url>/2019/02/28/%E5%B7%AE%E5%88%86%E7%BA%A6%E6%9D%9F/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>å¾ˆæ—©ä¹‹å‰å­¦æœ€çŸ­è·¯çš„æ—¶å€™å°±çœ‹äº†ä¸€çœ¼å·®åˆ†çº¦æŸï¼Œï¼Œå½“æ—¶ä»¥ä¸ºè¿™ç§é—®é¢˜ä¸æ€ä¹ˆä¼šå‡ºç°ï¼Œï¼Œè€Œä¸”å½“æ—¶ä¸ºäº†åªä¸ºäº†å­¦æœ€çŸ­è·¯ï¼Œï¼Œæ‰€ä»¥å°±æ²¡æœ‰æ€ä¹ˆåšé¢˜ï¼Œï¼ŒçŸ¥é“æ˜¯ä»€ä¹ˆï¼Œä½†æ˜¯ä¸ä¼šå»ºå›¾ä½¿ç”¨ï¼Œï¼Œ<br>ç„¶åä¸Šä¸€æ¬¡åšcfå°±ç¢°åˆ°äº†ï¼Œï¼Œè™½ç„¶é‚£é“é¢˜ä¸åªæ˜¯å·®åˆ†çº¦æŸèƒ½è§£å†³è¿˜å¡æ—¶é—´ï¼Œï¼Œä½†æ˜¯ä¸‡ä¸€ä»¥åè¿˜å‡ºç°è¿™ç§é¢˜ï¼Œï¼Œåªæ˜¯çŸ¥é“æ˜¯è¿™ä¸ªç±»å‹çš„é¢˜å´ä¸çŸ¥é“å¦‚ä½•ä¸‹æ‰‹ä¹Ÿç›¸å½“äºæ˜¯ä¸ä¼šå•Šï¼Œï¼Œæ‰€ä»¥æŠ½æ—¶é—´é‡æ–°çœ‹äº†çœ‹è¿™å—çš„å†…å®¹ï¼Œï¼Œåšå‡ é“é¢˜ï¼Œï¼Œé¡ºä¾¿èƒŒä¸€èƒŒæœ€çŸ­è·¯çš„æ¿å­ï¼Œï¼Œå¥½ä¹…æ•²æœ€çŸ­è·¯çš„æ¿å­éƒ½å·²ç»å¿˜è®°äº†ï¼Œï¼Œ</p>
<p>æ„Ÿè§‰è¿™ä¸€å—çš„ä¸œè¥¿æœ€ä¸»è¦çš„æ˜¯å»ºå›¾å§ï¼Œï¼Œå¾ˆå¤šè¿™æ ·çš„é¢˜çš„è§£æ³•éƒ½ä¸æ­¢ä¸€ç§ï¼Œï¼Œå·®åˆ†çº¦æŸåªæ˜¯å…¶ä¸­ä¸€ç§ï¼Œï¼Œå› ä¸ºä½¿ç”¨spfaå®ç°çš„ï¼Œï¼Œæ‰€ä»¥ä¹Ÿå¾ˆå®¹æ˜“è¢«å¡ï¼Œï¼Œ</p>
<span id="more"></span>
<h1 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h1><p><a href="https://blog.csdn.net/consciousman/article/details/53812818">è¿™é‡Œçš„ä¸œè¥¿æˆ‘æ˜¯å…ˆå‚è€ƒè¿™ç¯‡åšå®¢çš„</a><a href="https://blog.csdn.net/winddreams/article/details/45746169">è¿˜æœ‰è¿™é‡Œ</a><br>å› ä¸ºä¹‹å‰çœ‹è¿‡å·®åˆ†çº¦æŸï¼Œï¼Œè¿˜æœ‰å°è±¡ï¼Œï¼Œæ‰€ä»¥ä¸Šæ‰‹å¾ˆå¿«ï¼Œï¼Œçº¯ç†è®ºæ€§ä¸œè¥¿ç®—æ³•å¯¼è®ºç­‰ç­‰çš„åœ°æ–¹è®²çš„å¾ˆè¯¦ç»†ï¼Œï¼Œ</p>
<p>é¦–å…ˆå·®åˆ†çº¦æŸä¸»è¦æ˜¯è§£å†³ <strong>ä¸ç­‰å¼ç»„çš„æ±‚è§£</strong>ï¼Œï¼Œå…¶ä¸­è¿™äº›ä¸ç­‰å¼ç»„çš„ç‰¹å¾æ˜¯ $x_i-x_j \leq or \geq K_i(i,j \in [1, n], k \in [1, m])$ï¼Œï¼Œ</p>
<ul>
<li>æ±‚ $x_n-x_0$çš„æœ€å¤§å€¼å°±æ˜¯æ±‚ $x_n$ åˆ° $x_0$çš„æœ€çŸ­è·¯ï¼Œ $x_i-x_j \leq K_i$</li>
<li>æ±‚ $x_n-x_0$çš„æœ€å°å€¼å°±æ˜¯æ±‚ $x_n$ åˆ° $x_0$çš„æœ€é•¿è·¯ï¼Œ $x_i-x_j \geq K_i$</li>
</ul>
<p>å»ºå›¾éƒ½æ˜¯å»º $x_j$ -&gt; $x_i$ çš„è¾¹ï¼Œæƒå€¼ä¸ºK</p>
<p>æœ‰äº›é¢˜ç›®è¿˜æœ‰ä¸€äº›éšè—çš„æ¡ä»¶ï¼Œï¼Œæ¯”å¦‚è¯´ $x<em>i-x</em>{i-1} \leq K_i$ç­‰ç­‰çš„çº¦æŸæ¡ä»¶ï¼Œï¼Œä¸€å¹¶åŠ ä¸Šå°±è¡Œäº†ï¼Œ</p>
<p>è¦æ˜¯å‡ºç°ç¬¦å·ä¸ä¸€è‡´çš„å°±ä¸¤è¾¹å–ç›¸åæ•°ï¼Œï¼ŒæŠŠç¬¦å·åŒ–ä¸€è‡´å°±è¡Œï¼Œï¼Œï¼ˆè¿™æ ·ä¼šå‡ºç°è´Ÿæƒçš„è¾¹ï¼Œï¼Œæ‰€ä»¥è¦ç”¨spfaæ¥è§£ï¼Œï¼Œï¼‰ï¼Œï¼Œ</p>
<p>å‡ºç° $x_i-x_j &lt; K$ çš„è¯å¯ä»¥åŒ–æˆ $x_i-x_j \leq K + 1$çš„å½¢å¼(éƒ½æ˜¯æ•´æ•°çš„æƒ…å†µä¸‹)ï¼Œï¼Œ</p>
<p>åˆ¤æ–­æœ‰æ— è§£çš„è¯å°±åˆ¤æ–­å»ºçš„å›¾æœ‰æ— ç¯å°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
<p><a href="https://blog.csdn.net/foreyes_1001/article/details/84260729">é¢å¤–çš„ä¸€äº›ä¸œè¥¿</a></p>
<h1 id="ä¾‹é¢˜"><a href="#ä¾‹é¢˜" class="headerlink" title="ä¾‹é¢˜"></a>ä¾‹é¢˜</h1><h2 id="poj-1201-Intervals"><a href="#poj-1201-Intervals" class="headerlink" title="poj-1201-Intervals"></a><a href="http://poj.org/problem?id=1201">poj-1201-Intervals</a></h2><h3 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><p>é¢˜æ„å¤§æ¦‚å°±æ˜¯ï¼Œç»™ä½ nä¸ªåŒºé—´ $[l_i,r_i]$ è¦æ±‚è¿™äº›åŒºé—´å†…å¿…é¡»è¦å‡ ä¸ªæ•° $C_i$ï¼Œé—®ä½ æ»¡è¶³è¿™äº›åŒºé—´çš„æœ€å°‘çš„æ•°ï¼Œï¼Œï¼Œ</p>
<p>çœ‹è¯„è®ºåŒºé‡Œå¾ˆå¤šäººéƒ½æ˜¯è´ªå¿ƒ+çº¿æ®µæ ‘ï¼ˆæ ‘çŠ¶æ•°ç»„ï¼‰åšçš„ï¼Œï¼Œ</p>
<p>ç”¨å·®åˆ†çº¦æŸçš„è¯å°±æ˜¯å°†é¢˜ç›®æ‰€ç»™çš„ä¸œè¥¿è½¬åŒ–æˆè‹¥å¹²ä¸ªä¸ç­‰å¼ï¼Œï¼Œç„¶åæ˜ç™½è¦æ±‚ä»€ä¹ˆï¼Œï¼Œæ‰¾å‡ºéšè—çš„æ¡ä»¶ï¼Œå»ºå›¾æ±‚è§£ï¼Œï¼Œ</p>
<p>è¿™é“é¢˜æˆ‘ä»¬ç”¨ $dis[i]$ è¡¨ç¤º0~iè¿™ä¸ªåŒºé—´è‡³å°‘è¦é€‰å‡ ä¸ªæ•°ï¼ˆç±»ä¼¼å‰ç¼€å’Œçš„æ€æƒ³ï¼‰ï¼Œï¼Œï¼Œç„¶åä»»æ„ä¸€ä¸ªåŒºé—´å°±å¯ä»¥è¡¨ç¤ºä¸º $dis[r]-dis[l - 1] \geq c_i$ ï¼Œï¼Œé¢˜ç›®çš„éšè—æ¡ä»¶æ˜¯ç›¸é‚»ä¸¤ç‚¹ç›´æ¥çš„ä¸ªæ•°æ˜¯0æˆ–1ï¼Œï¼Œä¹Ÿå°±æ˜¯ $0 \leq dis[i]-dis[i-1] \leq 1$ï¼Œå› ä¸ºå¯¹äº0è¿™ä¸ªç‚¹å‡ºè¿™æ ·æ— æ³•è¡¨ç¤º(dis[-1])ï¼Œï¼Œæ‰€ä»¥å¯¹æ¯ä¸€ä¸ªç‚¹åŠ ä¸€ï¼ˆå‘å³åç§»ä¸€ä¸ªä½ç½®ï¼‰ï¼Œï¼Œï¼Œæœ€åæ±‚æœ€é•¿è·¯å°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
<h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//#include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; pii;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> v;<br>    <span class="hljs-keyword">int</span> cost;<br>    edge(<span class="hljs-keyword">int</span> _v = <span class="hljs-number">0</span>, <span class="hljs-keyword">int</span> _cost = <span class="hljs-number">0</span>):v(_v), cost(_cost)&#123;&#125;<br>&#125;;<br><span class="hljs-built_in">vector</span>&lt;edge&gt; e[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> w)</span></span><br><span class="hljs-function"></span>&#123;<br>    e[u].pb(edge(v, w));<br>&#125;<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-keyword">int</span> cnt[maxn];<br><span class="hljs-keyword">int</span> dis[maxn];<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">spfa</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vis);<br>    <span class="hljs-built_in">memset</span>(cnt, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> cnt);<br>    cnt[s] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)dis[i] = -inf;<br>    vis[s] = <span class="hljs-literal">true</span>;<br>    dis[s] = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">queue</span>&lt;<span class="hljs-keyword">int</span>&gt; q;<br>    <span class="hljs-keyword">while</span>(!q.empty())q.pop();<br>    q.push(s);<br>    <span class="hljs-keyword">while</span>(!q.empty())<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = q.front();q.pop();<br>        vis[u] = <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; e[u].size(); ++i)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = e[u][i].v;<br>            <span class="hljs-keyword">if</span>(dis[v] &lt; dis[u] + e[u][i].cost)<br>            &#123;<br>                dis[v] = dis[u] + e[u][i].cost;<br>                <span class="hljs-keyword">if</span>(!vis[v])<br>                &#123;<br>                    vis[v] = <span class="hljs-literal">true</span>;<br>                    q.push(v);<br>                    <span class="hljs-keyword">if</span>(++cnt[v] &gt; n)<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">int</span> n;<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br>    <span class="hljs-keyword">int</span> mi = inf, mx = <span class="hljs-number">0</span>, u, v, w;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>    &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>, &amp;u, &amp;v, &amp;w);<br>        addedge(u, v + <span class="hljs-number">1</span>, w);<br>        mi = min(mi, u);<br>        mx = max(mx, v);<br>    &#125;<br>    ++mx;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = mi; i &lt;= mx; ++i)<br>    &#123;<br>        addedge(i, i + <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<br>        addedge(i + <span class="hljs-number">1</span>, i, <span class="hljs-number">-1</span>);<br>    &#125;<br>    spfa(mi, mx);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, dis[mx]);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="poj-1275-Cashier-Employment"><a href="#poj-1275-Cashier-Employment" class="headerlink" title="poj-1275-Cashier Employment"></a><a href="http://poj.org/problem?id=1275">poj-1275-Cashier Employment</a></h2><h3 id="é¢˜æ„-1"><a href="#é¢˜æ„-1" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><p>é¢˜æ„æ˜¯ä¸€å¤©ä¹‹å†…24ä¸ªå°æ—¶0ç‚¹åˆ°23ç‚¹ï¼ŒæŸä¸ªæ—¶é—´ç‚¹éœ€è¦çš„è¥ä¸šå‘˜çš„ä¸ªæ•° $r[i]$ ç»™ä½ ï¼Œç„¶åæœ‰ä¸€äº›åº”è˜çš„äººï¼Œä»–ä»¬å¼€å§‹å·¥ä½œçš„æ—¶é—´ $a[i]$ ç»™ä½ ï¼Œï¼Œæ¯ä¸ªäººå¯ä»¥ä»å¼€å§‹çš„é‚£ä¸ªæ—¶é—´æ®µå·¥ä½œ8ä¸ªå°æ—¶ï¼Œï¼Œç„¶åé—®ä½ æœ€å°‘åº”è¯¥è˜ç”¨å¤šå°‘ä¸ªäººä½¿å¾—æ¯ä¸ªæ—¶é—´æ®µçš„äººæ•° $r[i]$ æ˜¯è¶³å¤Ÿçš„ï¼Œï¼Œ</p>
<h3 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><p>ä¹ä¸€çœ‹è¿™é¢˜ä¸çŸ¥é“æ€ä¹ˆä¸‹æ‰‹ï¼Œï¼Œå°±ç®—æ˜¯çŸ¥é“è¿™æ˜¯ä¸€é“å·®åˆ†çº¦æŸçš„é¢˜ä¹Ÿä¸çŸ¥é“å›¾æ€ä¹ˆå»ºï¼Œï¼Œ</p>
<p>æˆ‘çš„æ„Ÿè§‰æ˜¯é¦–å…ˆè¦ æ‰¾å‡ºä¸€ä¸ªå±æ€§ä½¿å¾—å®ƒåœ¨ä¸åŒä¸¤ä¸ªçš„çŠ¶æ€ä¸‹çš„æ»¡è¶³çš„æ¡ä»¶ä¸åŒï¼ˆä¹Ÿå°±æ˜¯é¢˜ç›®è¦æ±‚ä»€ä¹ˆï¼Œå°±æ‰¾ä»€ä¹ˆå…³ç³»ï¼ˆäºŒé¡¹å¼ï¼‰ï¼Œï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬åé¢å»ºå›¾æ—¶çš„ç‚¹ä¸ç‚¹ä¹‹é—´çš„å…³ç³»ï¼Œï¼Œè€Œä¸”æ˜¯å·®çš„ä¸ç­‰å…³ç³»ï¼Œï¼Œä¹Ÿå°±æ˜¯æ„å»ºå‡ºä¸€ä¸ªå·®åˆ†çº¦æŸç³»ç»Ÿï¼Œï¼Œè€Œè¿™ä¸ªå±æ€§ä¸€èˆ¬ä¹Ÿå°±æ˜¯æˆ‘ä»¬è¦æ±‚çš„æœ€å€¼çš„ä¸€ç§æœ€å®½çš„æƒ…å†µï¼Œï¼Œï¼ˆ $x_n$ åˆ° $x_0$çš„æœ€å€¼ï¼‰</p>
<p>å¯¹äºè¿™é“é¢˜æ¥è¯´ï¼Œé¢˜ç›®è¦æˆ‘ä»¬æ±‚ä¸€å¤©ä¹‹å†…éœ€è¦çš„æœ€å°‘çš„äººæ•° $sum$ ï¼Œï¼Œä¹Ÿå°±æ˜¯0ç‚¹åˆ°23ç‚¹çš„æœ€å°å€¼ï¼Œï¼Œè¿™æ ·æˆ‘ä»¬å°±èƒ½çœ‹å‡ºæˆ‘ä»¬è¦åˆ—å‡ºä¸€äº› <strong>æ—¶é—´æ®µ</strong> å†…çš„çº¦æŸæ¡ä»¶ï¼Œï¼Œç”¨ $dis[i]$ è¡¨ç¤º0ç‚¹åˆ°iç‚¹è¿™æ®µæ—¶é—´å†…è‡³å°‘éœ€è¦äººæ•°ï¼Œï¼Œï¼ˆåˆæ˜¯å‰ç¼€å’Œçš„æ€æƒ³ï¼‰ï¼Œï¼Œï¼Œè¿™æ ·ä¸€æ®µæ—¶é—´å†…è‡³å°‘éœ€è¦çš„äººæ•°å°±æ˜¯ $dis[i] - dis[j] \leq K$ ï¼Œï¼Œ</p>
<p>ä¸€ä¸ªå‘˜å·¥åªèƒ½å·¥ä½œ8ä¸ªå°æ—¶ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¾—å‡ºï¼šä»i-8åˆ°iè¿™æ®µæ—¶é—´å†…å·¥ä½œçš„äººæ•°è‡³å°‘è¦å¤§äºiè¿™ä¸ªæ—¶é—´æ®µå†… $r[i]$ æ‰€éœ€çš„äººæ•° $dis[i]-dis[i-8] \geq r[i]$ï¼Œæ­¤æ—¶çš„ $i \geq 7$ï¼›</p>
<p>å¯¹äº $i \leq 7$ çš„æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥æ¨å‡º $sum-dis[i+16] + s[i] \geq r[i]$</p>
<p>åŒæ—¶å¯¹äºæ¯ä¸€ä¸ªå°æ—¶å†…çš„æœ€å¤šçš„å·¥ä½œäººæ•° $mp[i]$ æ˜¯ç¡®å®šçš„ï¼Œï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ $0 \leq dis[i]-dis[i-1] \leq mp[i]$</p>
<p>ä¸€æ•´å¤©çš„å·¥ä½œäººæ•°æ»¡è¶³ï¼š $dis[24]-dis[0] \geq sum$</p>
<p>ä¸Šé¢ä¸€ä¸ªä¸ç­‰å¼ä¸­æœ‰ä¸€ä¸ªæœªçŸ¥é‡sumï¼Œï¼Œå®ƒçš„å–å€¼æ˜¯0~nï¼Œï¼Œå¯ä»¥äºŒåˆ†æšä¸¾è¿™ä¸ªsumå¤šæ¬¡å»ºå›¾æ±‚å‡ºæœ€å°çš„sumï¼Œï¼Œï¼Œ</p>
<p><a href="https://blog.csdn.net/winddreams/article/details/45746169">å‚è€ƒ1</a><br><a href="https://blog.csdn.net/consciousman/article/details/53812818">å‚è€ƒ2</a></p>
<h3 id="ä»£ç -1"><a href="#ä»£ç -1" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//hdu</span><br><span class="hljs-comment">//#include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; pii;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, next, w;<br>&#125;edge[maxn];<br><span class="hljs-keyword">int</span> head[maxn], tot;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> w)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v; edge[tot].next = head[u]; edge[tot].w = w; head[u] = tot++;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-keyword">int</span> dis[maxn], cnt[maxn];<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">spfa</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vis);<br>    <span class="hljs-built_in">memset</span>(cnt, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> cnt);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)dis[i] = -inf;<br>    vis[s] = <span class="hljs-literal">true</span>;<br>    dis[s] = <span class="hljs-number">0</span>;<br>    cnt[s] = <span class="hljs-number">1</span>;<br>    <span class="hljs-built_in">queue</span>&lt;<span class="hljs-keyword">int</span>&gt; q;<br>    <span class="hljs-keyword">while</span>(!q.empty())q.pop();<br>    q.push(s);<br>    <span class="hljs-keyword">while</span>(!q.empty())<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = q.front(); q.pop();<br>        vis[u] = <span class="hljs-literal">false</span>;<br>        <span class="hljs-comment">//if(u == 24 &amp;&amp; dis[u] &gt; m)return 0;</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].next)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = edge[i].to;<br>            <span class="hljs-keyword">int</span> w = edge[i].w;<br>            <span class="hljs-keyword">if</span>(dis[v] &lt; dis[u] + w)<br>            &#123;<br>                dis[v] = dis[u] + w;<br>                <span class="hljs-keyword">if</span>(!vis[v])<br>                &#123;<br>                    vis[v] = <span class="hljs-literal">true</span>;<br>                    q.push(v);<br>                    <span class="hljs-keyword">if</span>(++cnt[v] &gt; n)<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-keyword">int</span> r[<span class="hljs-number">30</span>], a[maxn];<br><span class="hljs-built_in">map</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; mp;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">check</span><span class="hljs-params">(<span class="hljs-keyword">int</span> m)</span></span><br><span class="hljs-function"></span>&#123;<br>    init();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= <span class="hljs-number">23</span>; ++i)<br>    &#123;<br>        addedge(i, i + <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<br>        addedge(i + <span class="hljs-number">1</span>, i, -mp[i]);<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">7</span>; i &lt;= <span class="hljs-number">23</span>; ++i)<br>        addedge(i - <span class="hljs-number">8</span> + <span class="hljs-number">1</span>, i + <span class="hljs-number">1</span>, r[i]);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">7</span>; ++i)<br>        addedge(i + <span class="hljs-number">16</span> + <span class="hljs-number">1</span>, i + <span class="hljs-number">1</span>, r[i] - m);<br>    addedge(<span class="hljs-number">0</span>, <span class="hljs-number">24</span>, m);<br>    addedge(<span class="hljs-number">24</span>, <span class="hljs-number">0</span>, -m);<br>    <span class="hljs-keyword">if</span>(spfa(<span class="hljs-number">0</span>, <span class="hljs-number">30</span>))<br>        <span class="hljs-keyword">return</span> dis[<span class="hljs-number">24</span>];<br>    <span class="hljs-keyword">else</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">int</span> t;<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;t);<br>    <span class="hljs-keyword">while</span>(t--)<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= <span class="hljs-number">23</span>; ++i)<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;r[i]);<br>        <span class="hljs-keyword">int</span> n;<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a[i]);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)++mp[a[i]];<br>        <span class="hljs-keyword">int</span> l = <span class="hljs-number">0</span>, r = n + <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;<br>        <span class="hljs-comment">//for(int i =  1; i &lt;= n; ++i)cout &lt;&lt; check(i) &lt;&lt; endl;return 0 ;</span><br>        <span class="hljs-keyword">while</span>(l + <span class="hljs-number">1</span> &lt; r)<br>        &#123;<br>            <span class="hljs-keyword">int</span> m = (l + r) &gt;&gt; <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">int</span> flag = check(m);<br>            <span class="hljs-comment">//cout &lt;&lt; l &lt;&lt; r &lt;&lt; m &lt;&lt; flag &lt;&lt; endl;</span><br>            <span class="hljs-keyword">if</span>(m == flag)<br>            &#123;<br>                r = m;<br>                ans = m;<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>                l = m;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(l &gt;= n)<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;No Solution\n&quot;</span>);<br>        <span class="hljs-keyword">else</span><br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, ans);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">//1</span><br><span class="hljs-comment">//1 0 3 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1</span><br><span class="hljs-comment">//5</span><br><span class="hljs-comment">//0</span><br><span class="hljs-comment">//23</span><br><span class="hljs-comment">//22</span><br><span class="hljs-comment">//1</span><br><span class="hljs-comment">//10</span><br></code></pre></td></tr></table></figure>
<h2 id="hdu-3440-House-Man"><a href="#hdu-3440-House-Man" class="headerlink" title="hdu-3440-House Man"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=3440">hdu-3440-House Man</a></h2><h3 id="é¢˜æ„-2"><a href="#é¢˜æ„-2" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><p>é¢˜æ„å¤§æ¦‚æ˜¯ä¸€ä¸ªäººå¯ä»¥åœ¨å„ä¸ªå±‹é¡¶ä¸Šè·³ï¼Œï¼Œä½†æ˜¯å¿…é¡»è¦è·³æ¯”ç°åœ¨çš„é«˜çš„å±‹é¡¶ï¼Œï¼Œä»–å¯ä»¥ä¸æ”¹å˜åˆå§‹é¡ºåºçš„æƒ…å†µä¸‹ç§»åŠ¨æˆ¿å­æ¥æ”¹å˜ä»–ä»¬çš„è·ç¦»ï¼Œï¼Œå®ƒæœ€å¤§çš„è·³è·ƒè·ç¦»æ˜¯dï¼Œï¼Œç„¶åé—®ä½ èƒ½ä¸èƒ½ä»æœ€çŸ®çš„æˆ¿å­è·³åˆ°æœ€é«˜çš„æˆ¿å­ï¼Œï¼Œå¦‚æœèƒ½ï¼Œæ±‚å‡ºæœ€å¤§çš„è¿™ä¸¤ä¸ªæˆ¿å­é—´çš„è·ç¦»</p>
<h3 id="åˆ†æ-1"><a href="#åˆ†æ-1" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><p>é¦–å…ˆæ˜¯å»ºå›¾ï¼Œï¼Œæˆ‘ä»¬ç”¨ $dis[i]$ è¡¨ç¤ºç¬¬1æ ‹æˆ¿å­åˆ°ç¬¬iæ ‹æˆ¿å­ä¹‹é—´çš„æœ€å¤§è·ç¦»ï¼Œï¼Œç„¶åè·‘æºç‚¹æ˜¯æœ€çŸ®é‚£æ ‹æˆ¿å­çš„æœ€çŸ­è·¯å°±è¡Œäº†</p>
<p>å¯¹äºæ¯æ ‹æˆ¿å­ï¼Œï¼Œæˆ‘ä»¬è¿ä¸€æ¡çŸ®æˆ¿å­iåˆ°è¾ƒé«˜æˆ¿å­jçš„è¾¹è¡¨ç¤º $dis[j]-dis[i] \leq d$ï¼Œï¼Œæ³¨æ„è¿™é‡Œä¸ºäº†ä¿è¯æ¬¡åºä¸å˜ï¼Œï¼Œå¦‚æœiçš„ç¼–å·å¤§äºäº†jï¼Œï¼Œè¯´æ˜iæ ‹æˆ¿å­åœ¨jçš„å³è¾¹ï¼Œï¼Œè¿™æ · $dis[i] \geq dis[j]$ï¼Œï¼Œä¸Šé¢é‚£ä¸ªå¼å­å°±æ˜¯è´Ÿçš„ï¼Œï¼Œä¸æˆç«‹ï¼ˆä¹Ÿå°±æ˜¯æ— è§£ï¼‰ï¼Œï¼Œæ‰€ä»¥è¦åˆ¤æ–­ä¸€ä¸‹ï¼Œï¼Œï¼Œ</p>
<p>è¿˜æœ‰ä¸€ä¸ªéšè—æ¡ä»¶ï¼š ç›¸é‚»ä¸¤æ ‹æˆ¿å­ä¹‹é—´çš„è·ç¦»ä¸€å®šæ˜¯ $dis[i+1] &gt; dis[i]$ï¼Œï¼Œä¹Ÿå°±æ˜¯ï¼š $dis[i] - dis[i+1] \leq -1$ï¼Œï¼Œæ‰€ä»¥å»ºè¾¹(i+1)-&gt;iæƒå€¼ä¸º-1</p>
<h3 id="ä»£ç -2"><a href="#ä»£ç -2" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><p>æ²¡å°è¯•è¿‡æ ˆå®ç°çš„spfaï¼Œï¼Œæ®è¯´å¿«ä¸€äº›ï¼Œï¼Œå¤§æ¦‚æ˜¯é˜Ÿåˆ—æ—¶é—´çš„ä¸‰åˆ†ä¹‹ä¸€å·¦å³ï¼Œï¼Œ</p>
<h4 id="æ™®é€šçš„é˜Ÿåˆ—å®ç°"><a href="#æ™®é€šçš„é˜Ÿåˆ—å®ç°" class="headerlink" title="æ™®é€šçš„é˜Ÿåˆ—å®ç°"></a>æ™®é€šçš„é˜Ÿåˆ—å®ç°</h4><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//hdu</span><br><span class="hljs-comment">//#include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; pii;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, next, w;<br>&#125;edge[maxn];<br><span class="hljs-keyword">int</span> head[maxn], tot;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> w)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v; edge[tot].w = w; edge[tot].next = head[u]; head[u] = tot++;<br>&#125;<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-keyword">int</span> dis[maxn], cnt[maxn];<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">spfa</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)vis[i] = <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)cnt[i] = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)dis[i] = inf;<br>    vis[s] = <span class="hljs-literal">true</span>;<br>    cnt[s] = <span class="hljs-number">1</span>;<br>    dis[s] = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">queue</span>&lt;<span class="hljs-keyword">int</span>&gt; q;<br>    <span class="hljs-keyword">while</span>(!q.empty())q.pop();<br>    q.push(s);<br>    <span class="hljs-keyword">while</span>(!q.empty())<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = q.front();q.pop();<br>        vis[u] = <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].next)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = edge[i].to;<br>            <span class="hljs-keyword">int</span> w = edge[i].w;<br>            <span class="hljs-keyword">if</span>(dis[v] &gt; dis[u] + w)<br>            &#123;<br>                dis[v] = dis[u] + w;<br>                <span class="hljs-keyword">if</span>(!vis[v])<br>                &#123;<br>                    vis[v] = <span class="hljs-literal">true</span>;<br>                    q.push(v);<br>                    <span class="hljs-keyword">if</span>(++cnt[v] &gt; n)<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> h, id;<br>    <span class="hljs-keyword">const</span> <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>&lt;(<span class="hljs-keyword">const</span> node &amp;r)<span class="hljs-keyword">const</span><br>    &#123;<br>        <span class="hljs-keyword">return</span> h &lt; r.h;<br>    &#125;<br>&#125;node[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    <span class="hljs-keyword">int</span> t;<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;t);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> ca = <span class="hljs-number">1</span>; ca &lt;= t; ++ca)<br>    &#123;<br>        <span class="hljs-keyword">int</span> n, d;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n, &amp;d);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        &#123;<br>            node[i].id = i;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;node[i].h);<br>        &#125;<br>        sort(node + <span class="hljs-number">1</span>, node + <span class="hljs-number">1</span> + n);<br>        init();<br><br>        <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n - <span class="hljs-number">1</span> &amp;&amp; flag; ++i)<br>        &#123;<br>            addedge(i + <span class="hljs-number">1</span>, i, <span class="hljs-number">-1</span>);<br>            <span class="hljs-keyword">int</span> u = min(node[i].id, node[i + <span class="hljs-number">1</span>].id);<br>            <span class="hljs-keyword">int</span> v = max(node[i].id, node[i + <span class="hljs-number">1</span>].id);<br>            <span class="hljs-keyword">if</span>(u &gt; v)flag = <span class="hljs-literal">false</span>;<br>            addedge(u, v, d);<br>        &#125;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Case %d: &quot;</span>, ca);<br>        <span class="hljs-keyword">int</span> s = min(node[<span class="hljs-number">1</span>].id, node[n].id);<br>        <span class="hljs-keyword">int</span> t = max(node[<span class="hljs-number">1</span>].id, node[n].id);<br>        <span class="hljs-keyword">if</span>(!flag || !spfa(s, n))<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;-1\n&quot;</span>);<br>        <span class="hljs-keyword">else</span>                    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, dis[t]);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h4 id="é˜Ÿåˆ—å®ç°"><a href="#é˜Ÿåˆ—å®ç°" class="headerlink" title="é˜Ÿåˆ—å®ç°"></a>é˜Ÿåˆ—å®ç°</h4><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//hdu</span><br><span class="hljs-comment">//#include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; pii;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, next, w;<br>&#125;edge[maxn];<br><span class="hljs-keyword">int</span> head[maxn], tot;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> w)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v; edge[tot].w = w; edge[tot].next = head[u]; head[u] = tot++;<br>&#125;<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-keyword">int</span> dis[maxn], cnt[maxn];<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">spfa</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)vis[i] = <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)cnt[i] = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)dis[i] = inf;<br>    vis[s] = <span class="hljs-literal">true</span>;<br>    cnt[s] = <span class="hljs-number">1</span>;<br>    dis[s] = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">queue</span>&lt;<span class="hljs-keyword">int</span>&gt; q;<br>    <span class="hljs-keyword">while</span>(!q.empty())q.pop();<br>    q.push(s);<br>    <span class="hljs-keyword">while</span>(!q.empty())<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = q.front();q.pop();<br>        vis[u] = <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].next)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = edge[i].to;<br>            <span class="hljs-keyword">int</span> w = edge[i].w;<br>            <span class="hljs-keyword">if</span>(dis[v] &gt; dis[u] + w)<br>            &#123;<br>                dis[v] = dis[u] + w;<br>                <span class="hljs-keyword">if</span>(!vis[v])<br>                &#123;<br>                    vis[v] = <span class="hljs-literal">true</span>;<br>                    q.push(v);<br>                    <span class="hljs-keyword">if</span>(++cnt[v] &gt; n)<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> h, id;<br>    <span class="hljs-keyword">const</span> <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>&lt;(<span class="hljs-keyword">const</span> node &amp;r)<span class="hljs-keyword">const</span><br>    &#123;<br>        <span class="hljs-keyword">return</span> h &lt; r.h;<br>    &#125;<br>&#125;node[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    <span class="hljs-keyword">int</span> t;<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;t);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> ca = <span class="hljs-number">1</span>; ca &lt;= t; ++ca)<br>    &#123;<br>        <span class="hljs-keyword">int</span> n, d;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n, &amp;d);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        &#123;<br>            node[i].id = i;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;node[i].h);<br>        &#125;<br>        sort(node + <span class="hljs-number">1</span>, node + <span class="hljs-number">1</span> + n);<br>        init();<br><br>        <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n - <span class="hljs-number">1</span> &amp;&amp; flag; ++i)<br>        &#123;<br>            addedge(i + <span class="hljs-number">1</span>, i, <span class="hljs-number">-1</span>);<br>            <span class="hljs-keyword">int</span> u = min(node[i].id, node[i + <span class="hljs-number">1</span>].id);<br>            <span class="hljs-keyword">int</span> v = max(node[i].id, node[i + <span class="hljs-number">1</span>].id);<br>            <span class="hljs-keyword">if</span>(u &gt; v)flag = <span class="hljs-literal">false</span>;<br>            addedge(u, v, d);<br>        &#125;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Case %d: &quot;</span>, ca);<br>        <span class="hljs-keyword">int</span> s = min(node[<span class="hljs-number">1</span>].id, node[n].id);<br>        <span class="hljs-keyword">int</span> t = max(node[<span class="hljs-number">1</span>].id, node[n].id);<br>        <span class="hljs-keyword">if</span>(!flag || !spfa(s, n))<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;-1\n&quot;</span>);<br>        <span class="hljs-keyword">else</span>                    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, dis[t]);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="poj-3169-Layout"><a href="#poj-3169-Layout" class="headerlink" title="poj-3169-Layout"></a><a href="http://poj.org/problem?id=3169">poj-3169-Layout</a></h2><h3 id="é¢˜æ„-3"><a href="#é¢˜æ„-3" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><p>ä¸€æ’ç‰›ï¼Œï¼Œæœ‰ä¸€äº›ç‰›ä¹‹é—´çš„è·ç¦»ä¸èƒ½è¶…å‡ºdï¼Œæœ‰ä¸€äº›ç‰›çš„è·ç¦»ä¸èƒ½å°äºdï¼Œï¼Œé—®ä½ ç¬¬ä¸€å¤´å’Œæœ€åä¸€å¤´ç‰›ç›´æ¥çš„è·ç¦»çš„æœ€å¤§å€¼æ˜¯å¤šå°‘</p>
<h3 id="åˆ†æ-2"><a href="#åˆ†æ-2" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><p>ç®€å•çš„å·®åˆ†çº¦æŸï¼Œï¼Œç›´æ¥å»ºå›¾å°±è¡Œäº†ï¼Œï¼Œï¼Œ(è²Œä¼¼ä¸åŠ ç›¸é‚»ä¸¤å¤´ä¹‹é—´è·ç¦»å¤§äº1è¿™ä¸ªæ¡ä»¶ä¹Ÿèƒ½è¿‡)</p>
<p>å›¾æœ‰ç¯ä¸º-1ï¼Œï¼Œè·ç¦»æ˜¯infä¸º-2ï¼Œå…¶ä»–çš„å°±æ˜¯dis[n]ï¼Œï¼Œ</p>
<h3 id="ä»£ç -3"><a href="#ä»£ç -3" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//hdu</span><br><span class="hljs-comment">//#include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; pii;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, next, w;<br>&#125;edge[maxn];<br><span class="hljs-keyword">int</span> head[maxn], tot;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> w)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v; edge[tot].w = w; edge[tot].next = head[u]; head[u] = tot++;<br>&#125;<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-keyword">int</span> dis[maxn], cnt[maxn], sta[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">spfa</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)vis[i] = <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)dis[i] = inf;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)cnt[i] = <span class="hljs-number">0</span>;<br>    vis[s] = <span class="hljs-literal">true</span>;<br>    cnt[s] = <span class="hljs-number">1</span>;<br>    dis[s] = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> top = <span class="hljs-number">-1</span>;<br>    sta[++top] = s;<br>    <span class="hljs-keyword">while</span>(~top)<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = sta[top--];<br>        vis[u] = <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].next)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = edge[i].to;<br>            <span class="hljs-keyword">int</span> w = edge[i].w;<br>            <span class="hljs-keyword">if</span>(dis[v] &gt; dis[u] + w)<br>            &#123;<br>                dis[v] = dis[u] + w;<br>                <span class="hljs-keyword">if</span>(!vis[v])<br>                &#123;<br>                    vis[v] = <span class="hljs-literal">true</span>;<br>                    sta[++top] = v;<br>                    <span class="hljs-keyword">if</span>(++cnt[v] &gt; n)<span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(dis[n] == inf)<span class="hljs-keyword">return</span> <span class="hljs-number">-2</span>;<br>    <span class="hljs-keyword">return</span> dis[n];<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">int</span> n, ml, md;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>, &amp;n, &amp;ml, &amp;md);<br>    <span class="hljs-keyword">int</span> u, v, w;<br>    init();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= ml; ++i)<br>    &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>, &amp;u, &amp;v, &amp;w);<br>        <span class="hljs-keyword">if</span>(u &gt; v)swap(u, v);<br>        addedge(u, v, w);<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= md; ++i)<br>    &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>, &amp;u, &amp;v, &amp;w);<br>        <span class="hljs-keyword">if</span>(u &lt; v)swap(u, v);<br>        addedge(u, v, -w);<br>    &#125;<br><span class="hljs-comment">//    for(int i = 1; i &lt;= n; ++i)</span><br><span class="hljs-comment">//        addedge(i + 1, i, 0);</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, spfa(<span class="hljs-number">1</span>, n));<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="poj-1364-King"><a href="#poj-1364-King" class="headerlink" title="poj-1364-King"></a><a href="http://poj.org/problem?id=1364">poj-1364-King</a></h2><h3 id="é¢˜æ„-4"><a href="#é¢˜æ„-4" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><p>é¢˜æ„æ˜¯ä¸€ä¸ªåºåˆ—çš„ä¸€äº›å­åºåˆ—çš„å’Œä¸kçš„å¤§å°å…³ç³»ç»™ä½ ï¼Œç„¶åé—®ä½ åŸåºåˆ—çš„ä¸ä¸€ä¸ªæ•°kçš„å¤§å°å…³ç³»æ˜¯å¦èƒ½ç¡®å®šå‡ºæ¥ï¼Œï¼Œ</p>
<h3 id="åˆ†æ-3"><a href="#åˆ†æ-3" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><p>è¿˜æ˜¯å‰ç¼€å’Œçš„æ€æƒ³ï¼Œ$dis[i]$ è¡¨ç¤ºç¬¬ä¸€ä¸ªæ•°åˆ°ç¬¬iä¸ªæ•°çš„å’Œï¼Œï¼Œé‚£ä¹ˆå­åºåˆ—[i,j]çš„å’Œå°±è¡¨ç¤ºä¸º $dis[j]-dis[i]$ï¼Œï¼Œé¢˜ç›®åˆç»™äº†ä¸€äº›å­åºåˆ—å’Œä¸ä¸€ä¸ªæ•°çš„å¤§å°å…³ç³»ï¼Œä¹Ÿå°±æ˜¯ï¼š $dis[j] - dis[i] &lt; or &gt; K_i$ï¼Œï¼Œç”¨è¿™ä¸ªæ¡ä»¶å»ºå›¾ï¼Œï¼Œå› ä¸ºæœ€åçš„å›¾å¯èƒ½ä¸è¿é€šï¼Œæ‰€ä»¥å†åŠ ä¸€ä¸ªæºç‚¹åˆ°æ‰€æœ‰ç‚¹ä¸º0çš„è¾¹ï¼Œï¼Œ</p>
<p>æ³¨æ„ï¼Œé¢˜ç›®ç»™çš„æ˜¯æ¯ä¸ªå­åºåˆ—çš„èµ·ç‚¹å’Œå®ƒçš„é•¿åº¦ï¼Œï¼Œå¤§å°å…³ç³»æ²¡æœ‰ç­‰äºçš„æƒ…å†µï¼Œï¼ŒåŠ ä¸€å‡ä¸€å°±è¡Œäº†ï¼Œï¼Œ</p>
<h3 id="ä»£ç -4"><a href="#ä»£ç -4" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//hdu</span><br><span class="hljs-comment">//#include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; pii;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, w, next;<br>&#125;edge[maxn];<br><span class="hljs-keyword">int</span> head[maxn], tot;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> w)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v; edge[tot].w = w; edge[tot].next = head[u]; head[u] = tot++;<br>&#125;<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-keyword">int</span> dis[maxn], cnt[maxn], sta[maxn];<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">spfa</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)vis[i] = <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)dis[i] = inf;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)cnt[i] = <span class="hljs-number">0</span>;<br>    vis[s] = <span class="hljs-literal">true</span>;<br>    cnt[s] = <span class="hljs-number">1</span>;<br>    dis[s] = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> top = <span class="hljs-number">-1</span>;<br>    sta[++top] = s;<br>    <span class="hljs-keyword">while</span>(~top)<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = sta[top--];<br>        vis[u] = <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].next)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = edge[i].to;<br>            <span class="hljs-keyword">int</span> w = edge[i].w;<br>            <span class="hljs-keyword">if</span>(dis[v] &gt; dis[u] + w)<br>            &#123;<br>                dis[v] = dis[u] + w;<br>                <span class="hljs-keyword">if</span>(!vis[v])<br>                &#123;<br>                    vis[v] = <span class="hljs-literal">true</span>;<br>                    sta[++top] = v;<br>                    <span class="hljs-keyword">if</span>(++cnt[v] &gt; n)<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">int</span> n, m;<br>    <span class="hljs-keyword">while</span>(~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n) &amp;&amp; n)<br>    &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;m);<br>        <span class="hljs-keyword">int</span> u, v, d;<br>        <span class="hljs-keyword">char</span> s[<span class="hljs-number">2</span>];<br>        init();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d %d %s %d&quot;</span>, &amp;u, &amp;v, s, &amp;d);<br>            <span class="hljs-keyword">if</span>(s[<span class="hljs-number">0</span>] == <span class="hljs-string">&#x27;g&#x27;</span>)<br>                addedge(u + v, u - <span class="hljs-number">1</span>, -d - <span class="hljs-number">1</span>);<br>            <span class="hljs-keyword">else</span><br>                addedge(u - <span class="hljs-number">1</span>, u + v, d - <span class="hljs-number">1</span>);<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)<br>            addedge(n + <span class="hljs-number">1</span>, i, <span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">if</span>(spfa(n + <span class="hljs-number">1</span>, n + <span class="hljs-number">1</span>))<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;lamentable kingdom\n&quot;</span>);<br>        <span class="hljs-keyword">else</span><br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;successful conspiracy\n&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="poj-2983-Is-the-Information-Reliable"><a href="#poj-2983-Is-the-Information-Reliable" class="headerlink" title="poj-2983-Is the Information Reliable?"></a><a href="http://poj.org/problem?id=2983">poj-2983-Is the Information Reliable?</a></h2><h3 id="é¢˜æ„-5"><a href="#é¢˜æ„-5" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><p>nä¸ªç«™ç‚¹æ’æˆä¸€æ’ï¼Œï¼Œç»™å‡ºä¸€äº›æè¿°ä¿¡æ¯</p>
<p>ä¸¤ä¸ªç«™ç‚¹ä¹‹é—´å¦‚æœæ˜¯Pï¼Œï¼Œè¯´æ˜è·ç¦»æ˜¯ç¡®å®šçš„x</p>
<p>å¦‚æœæ˜¯Vï¼Œï¼Œè·ç¦»è‡³å°‘æ˜¯1</p>
<p>é—®æ˜¯å¦å­˜åœ¨è¿™æ ·ä¸€ä¸ªåºåˆ—æ»¡è¶³ä¸Šé¢çš„æ¡ä»¶</p>
<p>dis[i]è¡¨ç¤ºç¬¬iç«™æ‰€åœ¨çš„ä½ç½®è·ç¦»ç¬¬ä¸€ä¸ªçš„è·ç¦»ï¼Œï¼Œè¿™æ ·ä¸¤ç«™çš„æè¿°ä¿¡æ¯å°±èƒ½åŒ–æˆå¾ˆå¤šçš„ä¸ç­‰å¼æ¥è¡¨ç¤ºï¼Œï¼Œå»ºå›¾åˆ¤æ–­æ˜¯å¦å­˜åœ¨ç¯å°±è¡Œäº†ï¼Œï¼Œæ³¨æ„åŸå›¾å¯èƒ½ä¸è¿é€šï¼Œæ‰€ä»¥åŠ ä¸€ä¸ªæºç‚¹å°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
<p>æŒ‰é“ç†è¯´æ ˆå®ç°spfaåº”è¯¥æ¯”é˜Ÿåˆ—å®ç°çš„å¿«ä¸€äº›ï¼Œï¼Œä½†æ˜¯è¿™é“é¢˜ç”¨æ ˆå®ç°täº†ï¼ˆä¸æ­¢æˆ‘ä¸€ä¸ªäººï¼‰ï¼Œï¼Œemmmè¿·ä¸€éçš„æ“ä½œï¼Œï¼Œé˜Ÿåˆ—å¯è¿‡ï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//hdu</span><br><span class="hljs-comment">//#include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; pii;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, next, w;<br>&#125;edge[maxn];<br><span class="hljs-keyword">int</span> head[maxn], tot;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> w)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v; edge[tot].w = w; edge[tot].next = head[u]; head[u] = tot++;<br>&#125;<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-keyword">int</span> dis[maxn], cnt[maxn], sta[maxn];<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">spfa</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)vis[i] = <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)cnt[i] = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)dis[i] = -inf;<br>    vis[s] = <span class="hljs-literal">true</span>;<br>    cnt[s] = <span class="hljs-number">1</span>;<br>    dis[s] = <span class="hljs-number">0</span>;<br><span class="hljs-comment">//    int top = -1;</span><br><span class="hljs-comment">//    sta[++top] = s;</span><br>    <span class="hljs-built_in">queue</span>&lt;<span class="hljs-keyword">int</span>&gt; q;<br>    <span class="hljs-keyword">while</span>(!q.empty())q.pop();<br>    q.push(s);<br>    <span class="hljs-comment">//while(~top)</span><br>    <span class="hljs-keyword">while</span>(!q.empty())<br>    &#123;<br><span class="hljs-comment">//        int u = sta[top--];</span><br>        <span class="hljs-keyword">int</span> u = q.front(); q.pop();<br>        vis[u] = <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].next)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = edge[i].to;<br>            <span class="hljs-keyword">int</span> w = edge[i].w;<br>            <span class="hljs-keyword">if</span>(dis[v] &lt; dis[u] + w)<br>            &#123;<br>                dis[v] = dis[u] + w;<br>                <span class="hljs-keyword">if</span>(!vis[v])<br>                &#123;<br>                    vis[v] = <span class="hljs-literal">true</span>;<br>                    <span class="hljs-comment">//sta[++top] = v;</span><br>                    q.push(v);<br>                    <span class="hljs-keyword">if</span>(++cnt[v] &gt; n)<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">int</span> n, m;<br>    <span class="hljs-keyword">while</span>(~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n, &amp;m))<br>    &#123;<br>        init();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>        &#123;<br>            <span class="hljs-keyword">int</span> u, v, w;<br>            <span class="hljs-keyword">char</span> pv;<br>            w = <span class="hljs-number">1</span>;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot; %c %d %d&quot;</span>, &amp;pv, &amp;u, &amp;v);<br>            <span class="hljs-keyword">if</span>(pv == <span class="hljs-string">&#x27;P&#x27;</span>)<br>            &#123;<br>                <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;w);<br>                addedge(v, u, -w);<br>            &#125;<br>            addedge(u, v, w);<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            addedge(<span class="hljs-number">0</span>, i, <span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">if</span>(spfa(<span class="hljs-number">0</span>, n))<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Reliable\n&quot;</span>);<br>        <span class="hljs-keyword">else</span><br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Unreliable\n&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="codeofeces-1131d-D-Gourmet-choice"><a href="#codeofeces-1131d-D-Gourmet-choice" class="headerlink" title="codeofeces-1131d-D. Gourmet choice"></a><a href="https://codeforces.com/problemset/problem/1131/D">codeofeces-1131d-D. Gourmet choice</a></h2><p>åšè¿™äº›å·®åˆ†çº¦æŸçš„é¢˜çš„ä¸»è¦çš„åŸå› å°±æ˜¯è¿™é“cfçš„é¢˜ï¼Œï¼Œå½“æ—¶æ¯”èµ›çš„æ—¶å€™å°±æœ‰äººè¯´æ˜¯å·®åˆ†çº¦æŸçš„é¢˜ï¼Œï¼Œä½†æ˜¯å› ä¸ºæˆ‘åªæ˜¯äº†è§£è¿™å—å†…å®¹ï¼Œï¼Œä½†æ˜¯å®é™…çš„é¢˜ç›®å®Œå…¨æ²¡æœ‰å†™è¿‡ï¼Œï¼Œæ‰€ä»¥çœ‹åˆ°é¢˜ä¹Ÿæ²¡æœ‰ä»€ä¹ˆæ€è·¯ï¼Œï¼Œå°±æ”¾å¼ƒäº†ï¼Œï¼Œ</p>
<p>ç°åœ¨å†çœ‹è¿™é“é¢˜ï¼Œï¼Œæ„Ÿè§‰ååˆ†çš„ç®€å•ï¼Œï¼Œï¼Œ</p>
<h3 id="é¢˜æ„-6"><a href="#é¢˜æ„-6" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h3><p>å¤§æ¦‚çš„æ„æ€å°±æ˜¯æœ‰n+mä¸ªç‚¹ï¼Œï¼Œä»–ä»¬ç›´æ¥çš„å¤§å°å…³ç³»å·²çŸ¥ï¼ˆå…·ä½“å¤§æˆ–å°å¤šå°‘æ²¡æœ‰è¯´ï¼‰ï¼Œï¼Œï¼Œç„¶åé—®ä½ èƒ½ä¸èƒ½ç»™æ¯ä¸€ä¸ªç‚¹èµ‹ä¸€ä¸ªå€¼ä½¿å¾—æ»¡è¶³æ‰€ç»™çš„å…³ç³»ï¼Œï¼Œ</p>
<h3 id="åˆ†æ-4"><a href="#åˆ†æ-4" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><p>ä¸€ç§è§£æ³•æ˜¯ç”¨å¹¶æŸ¥é›†ç¼©ç‚¹åè·‘ä¸€è¾¹æ‹“æ‰‘æ’åºï¼Œï¼Œæœ€åæ±‚å¾—çš„æœ€é•¿é“¾å°±æ˜¯ç­”æ¡ˆï¼Œï¼Œï¼Œ</p>
<p>ç”¨å·®åˆ†çº¦æŸè§£çš„è¯å°±æ˜¯ç”¨æ‰€ç»™çš„å…³ç³»ç›´æ¥å»ºå›¾å°±è¡Œäº†ï¼Œï¼Œå¯¹äºi-&gt;jå¤§äºå°±æ­£çš„å»ºä¸€æ¡è¾¹ï¼Œå°äºå°±åç€å»ºä¸€æ¡è¾¹ï¼Œï¼Œç­‰äºå°±å»ºä¸¤æ¡å°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
<p>å› ä¸ºå›¾å¯èƒ½æ˜¯ä¸è¿é€šçš„ï¼Œï¼Œæ‰€ä»¥å†å¼„ä¸ªæºç‚¹ï¼Œè¿åˆ°æ¯ä¸ªç‚¹å°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
<p>å› ä¸ºæœ€åè¦çš„æ˜¯æ¯ä¸€çš„èŠ‚ç‚¹ä¸€ä¸ªæ•°ï¼Œï¼Œè€Œä¸”å°½å¯èƒ½å°ï¼Œï¼Œæ‰€ä»¥å°±æ‰¾å‡ºdisæ•°ç»„é‡Œè·ç¦»æºç‚¹æœ€å°çš„é‚£ä¸ªæ•°ï¼Œï¼Œç„¶åæ¯ä¸€ä¸ªç‚¹å‡å»è¿™ä¸ªæœ€å°çš„æ•°å°±æ˜¯æœ€åè¦èµ‹çš„å€¼äº†ï¼Œï¼Œï¼Œ</p>
<p>å¯¹äº†è¿™é¢˜ç”¨é“¾å¼å‰å‘æ˜Ÿæ¥å»ºå›¾ä¼šTï¼Œï¼Œï¼Œæ¢é‚»æ¥è¡¨å°±å¥½äº†ï¼Œï¼Œï¼Œï¼ˆä¸æ˜¯è¯´é“¾å¼å‰å‘æ˜Ÿçš„æ•ˆç‡æ›´é«˜å—ï¼Œï¼Œï¼Œemmmmï¼Œï¼Œè¿·ï¼Œï¼Œï¼Œå°±åƒé‚£é“ç”¨æ ˆçš„spfaTæ‰ç”¨é˜Ÿåˆ—å°±è¿‡äº†ä¸€æ ·è¿·ï¼Œï¼Œï¼Œ</p>
<h3 id="ä»£ç -5"><a href="#ä»£ç -5" class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//cf</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-comment">//#include &lt;iostream&gt;</span><br><span class="hljs-comment">//#include &lt;cstdio&gt;</span><br><span class="hljs-comment">//#include &lt;cstdlib&gt;</span><br><span class="hljs-comment">//#include &lt;string.h&gt;</span><br><span class="hljs-comment">//#include &lt;algorithm&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; pii;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> v, w;<br>    edge(<span class="hljs-keyword">int</span> _v, <span class="hljs-keyword">int</span> _w):v(_v), w(_w)&#123;&#125;<br>&#125;;<br><span class="hljs-built_in">vector</span>&lt;edge&gt; e[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> w)</span></span><br><span class="hljs-function"></span>&#123;<br>    e[u].push_back(edge(v, w));<br>&#125;<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-keyword">int</span> cnt[maxn], dis[maxn], sta[maxn];<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">spfa</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)vis[i] = <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)cnt[i] = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)dis[i] = inf;<br>    vis[s] = <span class="hljs-literal">true</span>;<br>    cnt[s] = <span class="hljs-number">1</span>;<br>    dis[s] = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> top = <span class="hljs-number">-1</span>;<br>    sta[++top] = s;<br>    <span class="hljs-keyword">while</span>(~top)<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = sta[top--];<br>        vis[u] = <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; e[u].size(); ++i)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = e[u][i].v;<br>            <span class="hljs-keyword">int</span> w = e[u][i].w;<br>            <span class="hljs-keyword">if</span>(dis[v] &gt; dis[u] + w)<br>            &#123;<br>                dis[v] = dis[u] + w;<br>                <span class="hljs-keyword">if</span>(!vis[v])<br>                &#123;<br>                    vis[v] = <span class="hljs-literal">true</span>;<br>                    sta[++top] = v;<br>                    <span class="hljs-keyword">if</span>(++cnt[v] &gt; n)<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-keyword">char</span> s[<span class="hljs-number">1005</span>][<span class="hljs-number">1005</span>];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">int</span> n, m; <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>, s[i] + <span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; ++j)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(s[i][j] == <span class="hljs-string">&#x27;&gt;&#x27;</span>)<br>                addedge(i, j + n, <span class="hljs-number">-1</span>);<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(s[i][j] == <span class="hljs-string">&#x27;&lt;&#x27;</span>)<br>                addedge(j + n, i, <span class="hljs-number">-1</span>);<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                addedge(i, j + n, <span class="hljs-number">0</span>);<br>                addedge(j + n, i, <span class="hljs-number">0</span>);<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n + m; ++i)<br>        addedge(<span class="hljs-number">0</span>, i, <span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">if</span>(spfa(<span class="hljs-number">0</span>, n + m))<br>    &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Yes\n&quot;</span>);<br>        <span class="hljs-keyword">int</span> k = *min_element(dis + <span class="hljs-number">1</span>, dis + <span class="hljs-number">1</span> + n + m);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, dis[i] - k + <span class="hljs-number">1</span>);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span> + n; i &lt;= n + m; ++i)<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, dis[i] - k + <span class="hljs-number">1</span>);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;No\n&quot;</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>ä¼°è®¡è¿™ä¸€æ®µæ—¶é—´é‡Œæ˜¯ä¸ä¼šåœ¨åšå·®åˆ†çº¦æŸçš„é¢˜äº†ï¼Œï¼Œï¼Œä¸è¿‡æ­£å¥½å¤ä¹ ä¸€éæœ€çŸ­è·¯çš„å†™æ³•ï¼Œï¼Œï¼Œ</p>
<p>è¿™è²Œä¼¼æ˜¯å†™çš„æœ€é•¿çš„ä¸€ç¯‡åšå®¢äº†ï¼Œï¼Œï¼Œ30å¤šKï¼Œï¼Œï¼Œï¼Œï¼Œ233</p>
<p>(end)</p>
]]></content>
      <categories>
        <category>ACM-å·®åˆ†çº¦æŸ</category>
      </categories>
      <tags>
        <tag>acm</tag>
        <tag>ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>ç½‘ç»œæµ</title>
    <url>/2018/07/31/%E7%BD%91%E7%BB%9C%E6%B5%81/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>è¿™ç¯‡åšå®¢ä¸»è¦æ˜¯å…³äºç½‘ç»œæµçš„ä¸€äº›åŸºæœ¬çš„çŸ¥è¯†ç‚¹ä»¥åŠç›¸åº”çš„æ¨¡æ¿ï¼Œï¼Œ</p>
<p>ç®—äº†ï¼Œï¼Œï¼Œè¿˜æ˜¯å…ˆè´´å¤§ä½¬çš„åšå®¢ï¼Œï¼Œï¼Œæš‘å‡åœ¨è¡¥ä¸€ä¸‹ã€‚ã€‚ã€‚ã€‚QAQ</p>
<span id="more"></span>
<h2 id="ç½‘ç»œæµ"><a href="#ç½‘ç»œæµ" class="headerlink" title="ç½‘ç»œæµ"></a>ç½‘ç»œæµ</h2><p>tan90ï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œ</p>
<h2 id="ä¹ é¢˜"><a href="#ä¹ é¢˜" class="headerlink" title="ä¹ é¢˜"></a>ä¹ é¢˜</h2><h3 id="Problem-A-å…»çŒª"><a href="#Problem-A-å…»çŒª" class="headerlink" title="Problem A: å…»çŒª"></a>Problem A: å…»çŒª</h3><p>Time Limit: 1 Sec  Memory Limit: 128 MB</p>
<blockquote>
<p>Description</p>
<p>AveryBoyå–œæ¬¢ç©LOLï¼Œä½†æ˜¯ä»–æŠ€æœ¯å¤ªèœï¼Œæ€»æ˜¯è¢«åˆ«äººå–·â€œè¿™ä¹ˆèœç©ä»€ä¹ˆæ¸¸æˆï¼Œå›å®¶å…»çŒªå»å§â€ã€‚ç»ˆäºæœ‰ä¸€å¤©ï¼Œä»–è¢«å–·çš„å—ä¸äº†äº†ï¼Œäºæ˜¯å›å®¶å…»çŒªã€‚ä¸è¿‡ä»–å®¶çš„å…»çŒªåœºåœ¨ä¸‹é›¨å¤©çš„æ—¶å€™æ€»æ˜¯è¢«æ·¹ï¼Œæ‰€ä»¥ä»–ç”¨è¯»ä¹¦å­¦æ¥çš„çŸ¥è¯†è®¾è®¡äº†ä¸€å¥—æ’æ°´ç³»ç»Ÿã€‚ä»–è¿˜è®¾è®¡äº†ä¸€å¥—è£…ç½®ï¼Œå¯ä»¥æ§åˆ¶æ’æ°´ç®¡é“çš„æ°´æµæµé‡ã€‚ç°åœ¨æœ‰nä¸ªæ’æ°´ç®¡é“ï¼Œmä¸ªæ’æ°´èŠ‚ç‚¹ï¼Œé—®ä½ ä»1åˆ°mçš„æœ€å¤§æ’æ°´æµé‡ã€‚</p>
<p>Input</p>
<p>æœ‰å¤šç»„æµ‹è¯•æ•°æ®ï¼Œå¯¹äºæ¯ç»„æµ‹è¯•æ•°æ®ï¼Œç¬¬ä¸€è¡Œæ˜¯ä¸¤ä¸ªæ•´æ•°nï¼Œmï¼ˆ0 &lt;= n &lt;= 200ï¼Œ2 &lt;= m &lt;= 200ï¼‰ï¼Œåˆ†åˆ«è¡¨ç¤ºæ’æ°´ç®¡é“æ•°å’Œæ’æ°´èŠ‚ç‚¹æ•°ã€‚ä¹‹ånè¡Œæ¯è¡ŒåŒ…å«3ä¸ªæ•´æ•°ï¼Œuï¼Œvï¼Œwï¼ˆ1&lt;=u,v&lt;=mï¼Œ0&lt;=w&lt;=1e7ï¼Œu!=vï¼‰ï¼Œè¡¨ç¤ºä»uåˆ°vçš„æ’æ°´ç®¡é“çš„æ°´æµæµé‡æ˜¯wã€‚</p>
<p>Output</p>
<p>å¯¹äºæ¯ç§æƒ…å†µè¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºä»1åˆ°mçš„æœ€å¤§æ’æ°´æµé‡ã€‚<br>Sample Input<br>5 4<br>1 2 40<br>1 4 20<br>2 4 20<br>2 3 30<br>3 4 10</p>
<p>Sample Output<br>50</p>
</blockquote>
<p>æ¨¡æ¿é¢˜ï¼Œï¼Œï¼Œç›´æ¥å¥—å°±è¡Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> ms(a , b) memset(a , b , sizeof(a))</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-comment">//å‰å‘æ˜Ÿ</span><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e4</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">int</span> n , m;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to;<br>    <span class="hljs-keyword">int</span> next;<br>    <span class="hljs-keyword">int</span> w;<br>&#125;edge[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> head[maxn];<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-keyword">int</span> cnt;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    ms(head , <span class="hljs-number">-1</span>);<br>    cnt = <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u , <span class="hljs-keyword">int</span> v , <span class="hljs-keyword">int</span> w)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[cnt].to = v;<br>    edge[cnt].w = w;<br>    edge[cnt].next = head[u];<br>    head[u] = cnt++;<br>    edge[cnt].to = u;                       <span class="hljs-comment">//æ·»åŠ åå‘è¾¹ï¼Œï¼Œæµé‡ä¸ºé›¶</span><br>    edge[cnt].w = <span class="hljs-number">0</span>;<br>    edge[cnt].next = head[v];<br>    head[v] = cnt++;<br>&#125;<br><span class="hljs-keyword">int</span> step[maxn];<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">bfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s , <span class="hljs-keyword">int</span> t)</span></span><br><span class="hljs-function"></span>&#123;<br>    ms(step , <span class="hljs-number">-1</span>);<br>    step[s] = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">queue</span>&lt;<span class="hljs-keyword">int</span>&gt; q;<br>    q.push(s);<br>    <span class="hljs-keyword">while</span> (!q.empty())<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = q.front();q.pop();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = head[u]; i != <span class="hljs-number">-1</span>; i = edge[i].next)<br>        &#123;<br>            <span class="hljs-keyword">if</span> (step[edge[i].to] == <span class="hljs-number">-1</span> &amp;&amp; edge[i].w &gt; <span class="hljs-number">0</span>)<br>            &#123;<br>                step[edge[i].to] = step[u] + <span class="hljs-number">1</span>;<br>                q.push(edge[i].to);<br>                <span class="hljs-keyword">if</span> (edge[i].to == t) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> step[t] != <span class="hljs-number">-1</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s , <span class="hljs-keyword">int</span> t , <span class="hljs-keyword">int</span> f)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (s == t || !f)   <span class="hljs-keyword">return</span> f;<br>    <span class="hljs-keyword">int</span> flow = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = head[s]; i != <span class="hljs-number">-1</span>; i = edge[i].next)<br>    &#123;<br>        <span class="hljs-keyword">if</span> (step[s] + <span class="hljs-number">1</span> == step[edge[i].to] &amp;&amp; edge[i].w &gt; <span class="hljs-number">0</span>)<br>        &#123;<br>            <span class="hljs-keyword">int</span> d = dfs(edge[i].to , t , min(edge[i].w , f));<br>            <span class="hljs-keyword">if</span> (d &gt; <span class="hljs-number">0</span>)<br>            &#123;<br>                edge[i].w -= d;<br>                edge[i ^ <span class="hljs-number">1</span>].w += d;<br>                flow += d;                  <span class="hljs-comment">//ç´¯åŠ å½“å‰èŠ‚ç‚¹çš„æŸæ¡è·¯å¾„çš„åˆé€‚æµé‡</span><br>                f -= d;                     <span class="hljs-comment">//å½“å‰èŠ‚ç‚¹çš„å®¹é‡å‡å»æŸæ¡è·¯å¾„çš„åˆé€‚æµé‡</span><br>                <span class="hljs-keyword">if</span> (f == <span class="hljs-number">0</span>) <span class="hljs-keyword">break</span>;          <span class="hljs-comment">//å¦‚æœå½“å‰èŠ‚ç‚¹çš„å®¹é‡ç”¨å®Œ,è¯´æ˜æ— æ³•å†é€šè¿‡ä»»ä½•æµé‡</span><br>            &#125;<br>        &#125;<br><br>    &#125;<br>    <span class="hljs-keyword">if</span> (flow == <span class="hljs-number">0</span>)  step[s] = inf;      <span class="hljs-comment">//å¦‚æœå½“å‰èŠ‚ç‚¹æ— ä»»ä½•æµé‡é€šè¿‡,å–æ¶ˆæ ‡è®°</span><br>    <span class="hljs-keyword">return</span> flow;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">Dinic</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s , <span class="hljs-keyword">int</span> t)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> flow = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span> (bfs(s , t))<br>    &#123;<br>        flow += dfs(s , t , inf);<br>    &#125;<br>    <span class="hljs-keyword">return</span> flow;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//ios_base::sync_with_stdio(0);</span><br>    <span class="hljs-keyword">while</span> (~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n , &amp;m))<br>    &#123;<br>        <span class="hljs-keyword">int</span> u , v , w;<br>        init();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>        &#123;<br>            <span class="hljs-comment">//cin &gt;&gt; u &gt;&gt; v &gt;&gt; w;</span><br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span> , &amp;u , &amp;v , &amp;w);<br>            add(u , v , w);<br>        &#125;<br><br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span> , Dinic(<span class="hljs-number">1</span> , m));<br>        <span class="hljs-comment">//cout &lt;&lt; &quot;Case &quot; &lt;&lt; k++ &lt;&lt; &quot;: &quot; &lt;&lt; ans &lt;&lt; endl;</span><br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<p>å­¦é•¿ç”¨çš„é‚»æ¥è¡¨å­˜çš„ï¼Œï¼Œï¼Œ</p>
<p>å­¦é•¿çš„ä»£ç :</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// hdu 1532</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> PB push_back</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">205</span>;<br><br><span class="hljs-keyword">int</span> n,m;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Edge</span>&#123;</span><br>    <span class="hljs-keyword">int</span> to,cap,idx;<br>    Edge()&#123;&#125;<br>    Edge(<span class="hljs-keyword">int</span> to,<span class="hljs-keyword">int</span> cap,<span class="hljs-keyword">int</span> idx):to(to),cap(cap),idx(idx)&#123;&#125;<br>&#125;;<br><span class="hljs-built_in">vector</span>&lt;Edge&gt; V[maxn];<br><span class="hljs-keyword">bool</span> vis[maxn];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add_edge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u,<span class="hljs-keyword">int</span> v,<span class="hljs-keyword">int</span> w)</span></span><br><span class="hljs-function"></span>&#123;<br>    V[u].PB(Edge(v,w,V[v].size()));<br>    V[v].PB(Edge(u,<span class="hljs-number">0</span>,V[u].size()<span class="hljs-number">-1</span>));<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s,<span class="hljs-keyword">int</span> t,<span class="hljs-keyword">int</span> f)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(s==t) <span class="hljs-keyword">return</span> f;<br>    vis[s]=<span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;V[s].size();i++)<br>    &#123;<br>        Edge &amp;cur = V[s][i];<br>        <span class="hljs-keyword">if</span>(!vis[cur.to] &amp;&amp; cur.cap&gt;<span class="hljs-number">0</span>)<br>        &#123;<br>            <span class="hljs-keyword">int</span> tmp = dfs(cur.to,t,min(f,cur.cap));<br>            <span class="hljs-keyword">if</span>(tmp&gt;<span class="hljs-number">0</span>)<br>            &#123;<br>                cur.cap -= tmp;<br>                V[cur.to][cur.idx].cap += tmp;<br>                <span class="hljs-keyword">return</span> tmp;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">Ford_Fulkerson</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s,<span class="hljs-keyword">int</span> t)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span>(<span class="hljs-literal">true</span>)<br>    &#123;<br>        <span class="hljs-built_in">memset</span>(vis,<span class="hljs-literal">false</span>,<span class="hljs-keyword">sizeof</span>(vis));<br>        <span class="hljs-keyword">int</span> flow = dfs(s,t,INF);<br>        <span class="hljs-keyword">if</span>(flow==<span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> res;<br>        res += flow;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">while</span>(~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>,&amp;n,&amp;m))<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=m;i++) V[i].clear();<br>        <span class="hljs-keyword">int</span> u,v,w;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>,&amp;u,&amp;v,&amp;w);<br>            add_edge(u,v,w);<br>        &#125;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>,Ford_Fulkerson(<span class="hljs-number">1</span>,m));<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<h3 id="Problem-B-æœ€å¤§æµ"><a href="#Problem-B-æœ€å¤§æµ" class="headerlink" title="Problem B: æœ€å¤§æµ"></a>Problem B: æœ€å¤§æµ</h3><p>Time Limit: 1 Sec  Memory Limit: 128 MB</p>
<blockquote>
<p>Description</p>
<p>å¦‚é¢˜ï¼Œç»™ä½ ä¸€ä¸ªå®¹é‡ç½‘ç»œï¼Œè¯·ä½ æ‰¾å‡ºæœ€å¤§æµã€‚</p>
<p>Input</p>
<p>ç¬¬ä¸€è¡Œè¾“å…¥åŒ…å«ä¸€ä¸ªæ•´æ•°Tï¼Œè¡¨ç¤ºæµ‹è¯•ç”¨ä¾‹çš„æ•°é‡ã€‚</p>
<p>å¯¹äºæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•°Nå’ŒMï¼Œè¡¨ç¤ºå›¾ä¸­é¡¶ç‚¹å’Œè¾¹çš„æ•°é‡ã€‚ï¼ˆ2 &lt;= N &lt;= 15,0 &lt;= M &lt;= 1000ï¼‰</p>
<p>æ¥ä¸‹æ¥çš„Mè¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸‰ä¸ªæ•´æ•°Xï¼ŒYå’ŒCï¼Œè¡¨ç¤ºä»Xåˆ°Yæœ‰ä¸€ä¸ªè¾¹ï¼Œå®ƒçš„å®¹é‡æ˜¯C.ï¼ˆ1 &lt;= Xï¼ŒY &lt;= Nï¼Œ1 &lt;= C &lt;= 1000ï¼‰</p>
<p>Output</p>
<p>å¯¹äºæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œæ‚¨åº”è¯¥è¾“å‡ºä»æºç‚¹1åˆ°æ±‡ç‚¹Nçš„æœ€å¤§æµé‡ã€‚</p>
<p>Sample Input<br>2<br>3 2<br>1 2 1<br>2 3 1<br>3 3<br>1 2 1<br>2 3 1<br>1 3 1</p>
<p>Sample Output<br>Case 1: 1<br>Case 2: 2</p>
</blockquote>
<p>åŒæ ·æ˜¯æ¨¡æ¿é¢˜ï¼Œï¼Œï¼Œä¸è¿‡åˆšå¼€å§‹æˆ‘å¥—fkçš„æ¨¡æ¿ä¸€ç›´tleå°±æ¢äº†dinicç®—æ³•</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> ms(a , b) memset(a , b , sizeof(a))</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-comment">//å‰å‘æ˜Ÿ</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e4</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">int</span> n , m;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to;<br>    <span class="hljs-keyword">int</span> next;<br>    <span class="hljs-keyword">int</span> w;<br>&#125;edge[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> head[maxn];<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-keyword">int</span> cnt;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    ms(head , <span class="hljs-number">-1</span>);<br>    cnt = <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u , <span class="hljs-keyword">int</span> v , <span class="hljs-keyword">int</span> w)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[cnt].to = v;<br>    edge[cnt].w = w;<br>    edge[cnt].next = head[u];<br>    head[u] = cnt++;<br>    edge[cnt].to = u;                       <span class="hljs-comment">//æ·»åŠ åå‘è¾¹ï¼Œï¼Œæµé‡ä¸ºé›¶</span><br>    edge[cnt].w = <span class="hljs-number">0</span>;<br>    edge[cnt].next = head[v];<br>    head[v] = cnt++;<br>&#125;<br><span class="hljs-keyword">int</span> step[maxn];<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">bfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s , <span class="hljs-keyword">int</span> t)</span></span><br><span class="hljs-function"></span>&#123;<br>    ms(step , <span class="hljs-number">-1</span>);<br>    step[s] = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">queue</span>&lt;<span class="hljs-keyword">int</span>&gt; q;<br>    q.push(s);<br>    <span class="hljs-keyword">while</span> (!q.empty())<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = q.front();q.pop();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = head[u]; i != <span class="hljs-number">-1</span>; i = edge[i].next)<br>        &#123;<br>            <span class="hljs-keyword">if</span> (step[edge[i].to] == <span class="hljs-number">-1</span> &amp;&amp; edge[i].w &gt; <span class="hljs-number">0</span>)<br>            &#123;<br>                step[edge[i].to] = step[u] + <span class="hljs-number">1</span>;<br>                q.push(edge[i].to);<br>                <span class="hljs-keyword">if</span> (edge[i].to == t) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> step[t] != <span class="hljs-number">-1</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s , <span class="hljs-keyword">int</span> t , <span class="hljs-keyword">int</span> f)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (s == t || !f)   <span class="hljs-keyword">return</span> f;<br>    <span class="hljs-keyword">int</span> flow = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = head[s]; i != <span class="hljs-number">-1</span>; i = edge[i].next)<br>    &#123;<br>        <span class="hljs-keyword">if</span> (step[s] + <span class="hljs-number">1</span> == step[edge[i].to] &amp;&amp; edge[i].w &gt; <span class="hljs-number">0</span>)<br>        &#123;<br>            <span class="hljs-keyword">int</span> d = dfs(edge[i].to , t , min(edge[i].w , f));<br>            <span class="hljs-keyword">if</span> (d &gt; <span class="hljs-number">0</span>)<br>            &#123;<br>                edge[i].w -= d;<br>                edge[i ^ <span class="hljs-number">1</span>].w += d;<br>                flow += d;                  <span class="hljs-comment">//ç´¯åŠ å½“å‰èŠ‚ç‚¹çš„æŸæ¡è·¯å¾„çš„åˆé€‚æµé‡</span><br>                f -= d;                     <span class="hljs-comment">//å½“å‰èŠ‚ç‚¹çš„å®¹é‡å‡å»æŸæ¡è·¯å¾„çš„åˆé€‚æµé‡</span><br>                <span class="hljs-keyword">if</span> (f == <span class="hljs-number">0</span>) <span class="hljs-keyword">break</span>;          <span class="hljs-comment">//å¦‚æœå½“å‰èŠ‚ç‚¹çš„å®¹é‡ç”¨å®Œ,è¯´æ˜æ— æ³•å†é€šè¿‡ä»»ä½•æµé‡</span><br>            &#125;<br>        &#125;<br><br>    &#125;<br>    <span class="hljs-keyword">if</span> (flow == <span class="hljs-number">0</span>)  step[s] = inf;      <span class="hljs-comment">//å¦‚æœå½“å‰èŠ‚ç‚¹æ— ä»»ä½•æµé‡é€šè¿‡,å–æ¶ˆæ ‡è®°</span><br>    <span class="hljs-keyword">return</span> flow;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">Dinic</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s , <span class="hljs-keyword">int</span> t)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> flow = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span> (bfs(s , t))<br>    &#123;<br>        flow += dfs(s , t , inf);<br>    &#125;<br>    <span class="hljs-keyword">return</span> flow;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//ios_base::sync_with_stdio(0);</span><br>    <span class="hljs-keyword">int</span> t;<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;t);<br>    <span class="hljs-comment">//cin &gt;&gt; t;</span><br>    <span class="hljs-keyword">int</span> k = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span> (t--)<br>    &#123;<br>        <span class="hljs-comment">//cin &gt;&gt; n &gt;&gt; m;</span><br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n , &amp;m);<br>        <span class="hljs-keyword">int</span> u , v , w;<br>        init();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; i++)<br>        &#123;<br>            <span class="hljs-comment">//cin &gt;&gt; u &gt;&gt; v &gt;&gt; w;</span><br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span> , &amp;u , &amp;v , &amp;w);<br>            add(u , v , w);<br>        &#125;<br><br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Case %d: %d\n&quot;</span> , k++ , Dinic(<span class="hljs-number">1</span> , n));<br>        <span class="hljs-comment">//cout &lt;&lt; &quot;Case &quot; &lt;&lt; k++ &lt;&lt; &quot;: &quot; &lt;&lt; ans &lt;&lt; endl;</span><br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<p>å­¦é•¿çš„ä»£ç ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// hdu 3549</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> PB push_back</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">20</span>;<br><br><span class="hljs-keyword">int</span> c[maxn][maxn],f[maxn][maxn],p[maxn],a[maxn];<br><span class="hljs-keyword">int</span> m,n;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">bfs</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">queue</span>&lt;<span class="hljs-keyword">int</span>&gt; q;<br>    <span class="hljs-built_in">memset</span>(p,<span class="hljs-number">-1</span>,<span class="hljs-keyword">sizeof</span>(p));<br>    <span class="hljs-built_in">memset</span>(a,<span class="hljs-number">0</span>,<span class="hljs-keyword">sizeof</span>(a));<br>    a[<span class="hljs-number">1</span>] = INF;<br>    q.push(<span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">while</span>(!q.empty())<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = q.front();q.pop();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(!a[i] &amp;&amp; c[u][i]&gt;f[u][i])<br>            &#123;<br>                p[i] = u;<br>                q.push(i);<br>                a[i] = min(a[u],c[u][i]-f[u][i]);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(a[n]) <span class="hljs-keyword">break</span>;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(!a[n]) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> u=n;u!=<span class="hljs-number">1</span>;u=p[u])<br>    &#123;<br>        f[p[u]][u] += a[n];<br>        f[u][p[u]] -= a[n];<br>    &#125;<br>    <span class="hljs-keyword">return</span> a[n];<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">Edmonds_Karp</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span>(<span class="hljs-literal">true</span>)<br>    &#123;<br>        <span class="hljs-keyword">int</span> tmp = bfs();<br>        <span class="hljs-keyword">if</span>(tmp==<span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> res;<br>        res += tmp;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> t;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;t);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> ca=<span class="hljs-number">1</span>;ca&lt;=t;ca++)<br>    &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>,&amp;n,&amp;m);<br>        <span class="hljs-built_in">memset</span>(c,<span class="hljs-number">0</span>,<span class="hljs-keyword">sizeof</span>(c));<br>        <span class="hljs-built_in">memset</span>(f,<span class="hljs-number">0</span>,<span class="hljs-keyword">sizeof</span>(f));<br>        <span class="hljs-keyword">int</span> u,v,w;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=m;i++)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>,&amp;u,&amp;v,&amp;w);<br>            c[u][v] += w;<br>        &#125;<br><br>        <span class="hljs-keyword">int</span> max_flow=Edmonds_Karp();<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Case %d: %d\n&quot;</span>,ca,max_flow);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<h3 id="Problem-C-æˆ¿å­å’Œè½¦"><a href="#Problem-C-æˆ¿å­å’Œè½¦" class="headerlink" title="Problem C: æˆ¿å­å’Œè½¦"></a>Problem C: æˆ¿å­å’Œè½¦</h3><p>Time Limit: 1 Sec  Memory Limit: 128 MB</p>
<blockquote>
<p>Description</p>
<p>åä¸­å†œä¸šå¤§å­¦æ€»å…±æœ‰nä¸ªè€å¸ˆï¼Œfç§æˆ¿å­å’Œdç§è½¦ï¼ˆ1 &lt;= nï¼Œfï¼Œd &lt;= 200ï¼‰ã€‚æ¯ä¸ªè€å¸ˆéƒ½æœ‰è‡ªå·±å–œæ¬¢çš„ä¸€äº›æˆ¿å­å’Œè½¦çš„ç±»å‹ï¼Œç°åœ¨è¦ä½ æŠŠè¿™äº›æˆ¿å­å’Œè½¦åˆ†é…ç»™è¿™nä¸ªè€å¸ˆï¼Œæ¯ä¸ªè€å¸ˆåªåˆ†é…ä¸€å¥—æˆ¿å­å’Œä¸€è¾†è½¦ã€‚é—®ä½ æœ€å¤šèƒ½ä½¿å¤šå°‘ä¸ªè€å¸ˆæ»¡æ„å¯¹åº”çš„åˆ†é…ã€‚</p>
<p>Input</p>
<p>æœ‰å¤šç»„æµ‹è¯•æ•°æ®ï¼Œæ¯ç»„æµ‹è¯•æ•°æ®ç¬¬ä¸€è¡Œæ˜¯3ä¸ªæ­£æ•´æ•°ï¼Œnï¼Œfï¼Œdï¼Œè¡¨ç¤ºè€å¸ˆä¸ªæ•°ï¼Œæˆ¿å­ç§æ•°ï¼Œè½¦å­ç§æ•°ã€‚</p>
<p>ç¬¬äºŒè¡ŒåŒ…å«fä¸ªæ•´æ•°ï¼Œå…¶ä¸­ç¬¬iä¸ªæ•°è¡¨ç¤ºç¬¬iç§æˆ¿å­çš„ä¸ªæ•°ã€‚</p>
<p>ç¬¬ä¸‰è¡ŒåŒ…å«dä¸ªæ•´æ•°ï¼Œå…¶ä¸­ç¬¬iä¸ªæ•°è¡¨ç¤ºç¬¬iç§è½¦å­çš„ä¸ªæ•°ã€‚</p>
<p>ä¹‹ånè¡Œï¼Œæ¯è¡ŒåŒ…å«é•¿åº¦ä¸ºfçš„å­—ç¬¦ä¸²ï¼Œå…¶ä¸­ç¬¬iè¡Œç¬¬jä¸ªå­—ç¬¦è¡¨ç¤ºç¬¬iä¸ªè€å¸ˆæ˜¯å¦å–œæ¬¢ç¬¬jç§æˆ¿å­ï¼Œâ€˜Yâ€™è¡¨ç¤ºå–œæ¬¢ï¼Œâ€˜Nâ€™è¡¨ç¤ºä¸å–œæ¬¢ã€‚</p>
<p>ä¹‹ånè¡Œï¼Œæ¯è¡ŒåŒ…å«é•¿åº¦ä¸ºdçš„å­—ç¬¦ä¸²ï¼Œå…¶ä¸­ç¬¬iè¡Œç¬¬jä¸ªå­—ç¬¦è¡¨ç¤ºç¬¬iä¸ªè€å¸ˆæ˜¯å¦å–œæ¬¢ç¬¬jç§è½¦å­ï¼Œâ€˜Yâ€™è¡¨ç¤ºå–œæ¬¢ï¼Œâ€˜Nâ€™è¡¨ç¤ºä¸å–œæ¬¢ã€‚</p>
<p>Output</p>
<p>å¯¹äºæ¯ç»„æµ‹è¯•æ•°æ®ï¼Œè¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å¤§çš„è€å¸ˆæ»¡æ„çš„ä¸ªæ•°ã€‚</p>
<p>Sample Input<br>4 3 3<br>1 1 1<br>1 1 1<br>YYN<br>NYY<br>YNY<br>YNY<br>YNY<br>YYN<br>YYN<br>NNY<br>Sample Output<br>3</p>
</blockquote>
<p>è¿™é“é¢˜ä¸»è¦æ˜¯å°†é¢˜ç›®æ‰€ç»™çš„ä¿¡æ¯ç”¨å›¾æè¿°å‡ºæ¥ï¼Œï¼Œï¼Œè€å¸ˆçš„å¤„ç†æ˜¯ä¸€åˆ†ä¸ºäºŒå³å¯ï¼Œï¼Œï¼Œ</p>
<p>æˆ‘çš„ä»£ç :</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> ms(a , b) memset(a , b , sizeof(a))</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-comment">//å‰å‘æ˜Ÿ</span><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e3</span> + <span class="hljs-number">10</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">int</span> n , f , d;<br><span class="hljs-keyword">int</span> home[maxm];<br><span class="hljs-keyword">int</span> car[maxm];<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to;<br>    <span class="hljs-keyword">int</span> next;<br>    <span class="hljs-keyword">int</span> w;<br>&#125;edge[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> head[maxn];<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-keyword">int</span> cnt;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    ms(head , <span class="hljs-number">-1</span>);<br>    cnt = <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u , <span class="hljs-keyword">int</span> v , <span class="hljs-keyword">int</span> w)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[cnt].to = v;<br>    edge[cnt].w = w;<br>    edge[cnt].next = head[u];<br>    head[u] = cnt++;<br>    edge[cnt].to = u;                       <span class="hljs-comment">//æ·»åŠ åå‘è¾¹ï¼Œï¼Œæµé‡ä¸ºé›¶</span><br>    edge[cnt].w = <span class="hljs-number">0</span>;<br>    edge[cnt].next = head[v];<br>    head[v] = cnt++;<br>&#125;<br><span class="hljs-keyword">int</span> step[maxn];<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">bfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s , <span class="hljs-keyword">int</span> t)</span></span><br><span class="hljs-function"></span>&#123;<br>    ms(step , <span class="hljs-number">-1</span>);<br>    step[s] = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">queue</span>&lt;<span class="hljs-keyword">int</span>&gt; q;<br>    q.push(s);<br>    <span class="hljs-keyword">while</span> (!q.empty())<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = q.front();q.pop();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = head[u]; i != <span class="hljs-number">-1</span>; i = edge[i].next)<br>        &#123;<br>            <span class="hljs-keyword">if</span> (step[edge[i].to] == <span class="hljs-number">-1</span> &amp;&amp; edge[i].w &gt; <span class="hljs-number">0</span>)<br>            &#123;<br>                step[edge[i].to] = step[u] + <span class="hljs-number">1</span>;<br>                q.push(edge[i].to);<br>                <span class="hljs-keyword">if</span> (edge[i].to == t) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> step[t] != <span class="hljs-number">-1</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s , <span class="hljs-keyword">int</span> t , <span class="hljs-keyword">int</span> f)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (s == t || !f)   <span class="hljs-keyword">return</span> f;<br>    <span class="hljs-keyword">int</span> flow = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = head[s]; i != <span class="hljs-number">-1</span>; i = edge[i].next)<br>    &#123;<br>        <span class="hljs-keyword">if</span> (step[s] + <span class="hljs-number">1</span> == step[edge[i].to] &amp;&amp; edge[i].w &gt; <span class="hljs-number">0</span>)<br>        &#123;<br>            <span class="hljs-keyword">int</span> d = dfs(edge[i].to , t , min(edge[i].w , f));<br>            <span class="hljs-keyword">if</span> (d &gt; <span class="hljs-number">0</span>)<br>            &#123;<br>                edge[i].w -= d;<br>                edge[i ^ <span class="hljs-number">1</span>].w += d;<br>                flow += d;                  <span class="hljs-comment">//ç´¯åŠ å½“å‰èŠ‚ç‚¹çš„æŸæ¡è·¯å¾„çš„åˆé€‚æµé‡</span><br>                f -= d;                     <span class="hljs-comment">//å½“å‰èŠ‚ç‚¹çš„å®¹é‡å‡å»æŸæ¡è·¯å¾„çš„åˆé€‚æµé‡</span><br>                <span class="hljs-keyword">if</span> (f == <span class="hljs-number">0</span>) <span class="hljs-keyword">break</span>;          <span class="hljs-comment">//å¦‚æœå½“å‰èŠ‚ç‚¹çš„å®¹é‡ç”¨å®Œ,è¯´æ˜æ— æ³•å†é€šè¿‡ä»»ä½•æµé‡</span><br>            &#125;<br>        &#125;<br><br>    &#125;<br>    <span class="hljs-keyword">if</span> (flow == <span class="hljs-number">0</span>)  step[s] = inf;      <span class="hljs-comment">//å¦‚æœå½“å‰èŠ‚ç‚¹æ— ä»»ä½•æµé‡é€šè¿‡,å–æ¶ˆæ ‡è®°</span><br>    <span class="hljs-keyword">return</span> flow;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">Dinic</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s , <span class="hljs-keyword">int</span> t)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> flow = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span> (bfs(s , t))<br>    &#123;<br>        flow += dfs(s , t , inf);<br>    &#125;<br>    <span class="hljs-keyword">return</span> flow;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//ios_base::sync_with_stdio(0);</span><br>    <span class="hljs-keyword">while</span> (~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>, &amp;n , &amp;f , &amp;d))<br>    &#123;<br>        init();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= f; i++)<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;home[i]);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= d; i++)<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;car[i]);<br><br>        <span class="hljs-keyword">int</span> s = <span class="hljs-number">0</span>;                                  <span class="hljs-comment">//è¶…çº§åŸç‚¹</span><br>        <span class="hljs-keyword">int</span> t = f + n + n + d + <span class="hljs-number">1</span>;                  <span class="hljs-comment">//æ±‡ç‚¹</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= f; i++)<br>            add(<span class="hljs-number">0</span> , i , home[i]);                   <span class="hljs-comment">//åŸç‚¹åˆ°æ¯ä¸ªæˆ¿å­çš„ç‚¹å»ºè¾¹</span><br>        <span class="hljs-keyword">char</span> str[maxm];<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span> , str);<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= f; j++)<br>            &#123;<br>                <span class="hljs-keyword">if</span> (str[j - <span class="hljs-number">1</span>] == <span class="hljs-string">&#x27;Y&#x27;</span>)<br>                    add(j , i + f, <span class="hljs-number">1</span>);              <span class="hljs-comment">//è€å¸ˆæ»¡æ„çš„å’Œå¯¹åº”çš„æˆ¿å­è¿æ¥ï¼Œï¼Œï¼Œæµé‡ä¸º1</span><br>            &#125;<br>            add(i + f , f + n + i , <span class="hljs-number">1</span>);             <span class="hljs-comment">//åˆ†ç¦»å‡ºä¸¤ä¸ªè€å¸ˆçš„ç‚¹ï¼Œï¼Œï¼ŒåŒä¸€ä¸ªè€å¸ˆä¹‹é—´æµé‡ä¸º1</span><br>        &#125;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span> , str);<br><br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= d; j++)<br>                <span class="hljs-keyword">if</span> (str[j - <span class="hljs-number">1</span>] == <span class="hljs-string">&#x27;Y&#x27;</span>)<br>                add(f + n + i , f + n + n + j , <span class="hljs-number">1</span>);<span class="hljs-comment">//ç¬¬äºŒä¸ªè€å¸ˆçš„ç‚¹å’Œè½¦å­å»ºè¾¹ï¼Œï¼Œï¼Œæµé‡ä¸º1</span><br>        &#125;<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= d; i++)<br>            add(f + n + n + i , t , car[i]);        <span class="hljs-comment">//æ±‡ç‚¹å’Œè½¦å­ä¹‹é—´å»ºè¾¹ï¼Œ</span><br><br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span> , Dinic(s , t));<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br>         add(f + n + n + i , t , <span class="hljs-number">1</span>);<br><br><span class="hljs-comment">//----------</span><br><span class="hljs-comment">//è¿™ä¸ªåœ¨å¤„ç†ç‚¹ä¹‹é—´çš„å…³ç³»å’Œæˆ‘çš„ä¸åŒï¼Œï¼Œï¼Œä¸€ä¸ªæ˜¯è€å¸ˆåˆ†å¼€å¦ä¸€ä¸ªæ˜¯åˆ†å¼€çš„è€å¸ˆç›¸é‚»å°±æ˜¯ä¸‹é¢è¿™ä¸ª</span><br>        <span class="hljs-keyword">int</span> s = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">int</span> t = f + n + n + d + <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= f; i++)<br>            add(<span class="hljs-number">0</span> , i , home[i]);<br> <br>        <span class="hljs-keyword">char</span> str[maxm];<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span> , str);<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= f; j++)<br>            &#123;<br>                <span class="hljs-keyword">if</span> (str[j - <span class="hljs-number">1</span>] == <span class="hljs-string">&#x27;Y&#x27;</span>)<br>                    add(j , f + <span class="hljs-number">2</span> * i - <span class="hljs-number">1</span> , <span class="hljs-number">1</span>);<br>            &#125;<br>            add(f + <span class="hljs-number">2</span> * i - <span class="hljs-number">1</span> , f + <span class="hljs-number">2</span> * i , <span class="hljs-number">1</span>);<br>        &#125;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span> , str);<br> <br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= d; j++)<br>                <span class="hljs-keyword">if</span> (str[j - <span class="hljs-number">1</span>] == <span class="hljs-string">&#x27;Y&#x27;</span>)<br>                add(f + <span class="hljs-number">2</span> * i , f + n + n + j , <span class="hljs-number">1</span>);<br>        &#125;<br> <br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= d; i++)<br>            add(f + n + n + i , t , car[i]);<br> <br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span> , Dinic(s , t));<br></code></pre></td></tr></table></figure>
<p>å­¦é•¿çš„ä»£ç :</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// hdu 4292</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> INF 0x3f3f3f3f</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> mem(a,b) memset(a,b,sizeof(a))</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> N=<span class="hljs-number">1000</span>+<span class="hljs-number">50</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> M=<span class="hljs-number">1e6</span>+<span class="hljs-number">50</span>;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">&#123;</span><br>    node() &#123;&#125;;<br>    node(<span class="hljs-keyword">int</span> tv,<span class="hljs-keyword">int</span> tw,<span class="hljs-keyword">int</span> tnext)<br>    &#123;<br>        v=tv,w=tw,next=tnext;<br>    &#125;;<br>    <span class="hljs-keyword">int</span> v,w,next;<br>&#125; e[M];<br><span class="hljs-keyword">int</span> first[N],vis[N],dis[N],tot;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add_edge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u,<span class="hljs-keyword">int</span> v,<span class="hljs-keyword">int</span> w)</span></span><br><span class="hljs-function"></span>&#123;<br>    e[tot]=node(v,w,first[u]);<br>    first[u]=tot++;<br>    e[tot]=node(u,<span class="hljs-number">0</span>,first[v]);<br>    first[v]=tot++;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">bfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s,<span class="hljs-keyword">int</span> t)</span></span><br><span class="hljs-function"></span>&#123;<br>    mem(vis,<span class="hljs-number">0</span>);<br>    mem(dis,<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">queue</span>&lt;<span class="hljs-keyword">int</span>&gt;q;<br>    q.push(s);<br>    vis[s]=<span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(!q.empty())<br>    &#123;<br>        <span class="hljs-keyword">int</span> u=q.front();<br>        q.pop();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=first[u]; ~i; i=e[i].next)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(!vis[e[i].v]&amp;&amp;e[i].w&gt;<span class="hljs-number">0</span>)<br>            &#123;<br>                vis[e[i].v]=<span class="hljs-number">1</span>;<br>                dis[e[i].v]=dis[u]+<span class="hljs-number">1</span>;<br>                q.push(e[i].v);<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> dis[t];<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u,<span class="hljs-keyword">int</span> t,<span class="hljs-keyword">int</span> flow)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(u==t)<span class="hljs-keyword">return</span> flow;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=first[u]; ~i; i=e[i].next)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(dis[e[i].v]==dis[u]+<span class="hljs-number">1</span>&amp;&amp;e[i].w&gt;<span class="hljs-number">0</span>)<br>        &#123;<br>            <span class="hljs-keyword">int</span> dd=dfs(e[i].v,t,min(e[i].w,flow));<br>            <span class="hljs-keyword">if</span>(dd)<br>            &#123;<br>                e[i].w-=dd;<br>                e[i^<span class="hljs-number">1</span>].w+=dd;<br>                <span class="hljs-keyword">return</span> dd;<br>            &#125;<br>        &#125;<br>    &#125;<br>    dis[u]=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">Dinic</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s,<span class="hljs-keyword">int</span> t)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> ans=<span class="hljs-number">0</span>,flow;<br>    <span class="hljs-keyword">while</span>(bfs(s,t))<br>    &#123;<br>        <span class="hljs-keyword">while</span>(flow=dfs(s,t,INF))<br>            ans+=flow;<br>    &#125;<br>    <span class="hljs-keyword">return</span> ans;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    mem(first,<span class="hljs-number">-1</span>);<br>    tot=<span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-keyword">int</span> a[N],b[N];<br><span class="hljs-keyword">char</span> s[N];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> n,f,d;<br>    <span class="hljs-keyword">while</span>(~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>,&amp;n,&amp;f,&amp;d))<br>    &#123;<br>        init();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>; i&lt;=f; i++) <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;a[i]);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>; i&lt;=d; i++) <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;b[i]);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>; i&lt;=n; i++)<br>        &#123;<br>            add_edge(f+<span class="hljs-number">2</span>*i<span class="hljs-number">-1</span>,f+<span class="hljs-number">2</span>*i,<span class="hljs-number">1</span>);<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>,s+<span class="hljs-number">1</span>);<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">1</span>; j&lt;=f; j++)<br>                <span class="hljs-keyword">if</span>(s[j]==<span class="hljs-string">&#x27;Y&#x27;</span>)<br>                    add_edge(j,f+<span class="hljs-number">2</span>*i<span class="hljs-number">-1</span>,<span class="hljs-number">1</span>);<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>; i&lt;=n; i++)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>,s+<span class="hljs-number">1</span>);<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">1</span>; j&lt;=d; j++)<br>                <span class="hljs-keyword">if</span>(s[j]==<span class="hljs-string">&#x27;Y&#x27;</span>)<br>                    add_edge(f+<span class="hljs-number">2</span>*i,f+<span class="hljs-number">2</span>*n+j,<span class="hljs-number">1</span>);<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>; i&lt;=f; i++) add_edge(<span class="hljs-number">0</span>,i,a[i]);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>; i&lt;=d; i++) add_edge(<span class="hljs-number">2</span>*n+f+i,<span class="hljs-number">2</span>*n+f+d+<span class="hljs-number">1</span>,b[i]);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>,Dinic(<span class="hljs-number">0</span>,<span class="hljs-number">2</span>*n+f+d+<span class="hljs-number">1</span>));<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<h3 id="Problem-D-å›å®¶"><a href="#Problem-D-å›å®¶" class="headerlink" title="Problem D: å›å®¶"></a>Problem D: å›å®¶</h3><p>Time Limit: 5 Sec  Memory Limit: 128 MB</p>
<blockquote>
<p>Description</p>
<p>åœ¨ç½‘æ ¼åœ°å›¾ä¸Šæœ‰nä¸ªäººå’Œnä¸ªæˆ¿å­ã€‚åœ¨æ¯ä¸ªå•ä½æ—¶é—´å†…ï¼Œæ¯ä¸ªäººéƒ½å¯ä»¥æ°´å¹³æˆ–å‚ç›´ç§»åŠ¨åˆ°ç›¸é‚»ç‚¹ã€‚å¯¹äºæ¯ä¸ªäººï¼Œä½ éœ€è¦ä¸ºä»–ç§»åŠ¨çš„æ¯ä¸€æ­¥æ”¯ä»˜1ç¾å…ƒçš„æ—…è¡Œè´¹ï¼Œç›´åˆ°ä»–è¿›å…¥æˆ¿å­ã€‚æ¯ä¸ªæˆ¿å­åªèƒ½å®¹çº³ä¸€ä¸ªäººã€‚ç°åœ¨é—®ä½ æ‰€æœ‰äººéƒ½å›åˆ°æˆ¿å­æ‰€éœ€è¦çš„æœ€å°‘è´¹ç”¨æ˜¯å¤šå°‘ï¼Ÿè¾“å…¥æ˜¯ä¸€ä¸ªç½‘æ ¼å›¾ï¼Œâ€˜.â€™è¡¨ç¤ºç©ºåœ°ï¼Œâ€˜Hâ€™è¡¨ç¤ºæˆ¿å­ï¼Œâ€˜mâ€™è¡¨ç¤ºäººã€‚</p>
<p>Input</p>
<p>æœ‰å¤šç»„æµ‹è¯•æ•°æ®ï¼Œå¯¹äºæ¯ç»„æµ‹è¯•æ•°æ®ç¬¬ä¸€è¡Œæ˜¯ä¸¤ä¸ªæ­£æ•´æ•°nï¼Œmè¡¨ç¤ºåœ°å›¾çš„è¡Œå’Œåˆ—ï¼ˆ2&lt;=nï¼Œm&lt;=100ï¼‰ã€‚åœ°å›¾ä¸Šæœ‰ç›¸åŒæ•°é‡çš„æˆ¿å­å’Œäººï¼Œæˆ¿å­æœ€å¤šä¸è¶…è¿‡100ã€‚è¾“å…¥ä»¥n=0ï¼Œm=0ç»“æŸã€‚</p>
<p>Output</p>
<p>å¯¹äºæ¯ç»„æµ‹è¯•æ•°æ®è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ‰€æœ‰äººéƒ½å›åˆ°æˆ¿å­æ‰€éœ€çš„æœ€å°è´¹ç”¨ã€‚</p>
<p>Sample Input<br>2 2<br>.m<br>H.<br>5 5<br>HH..m<br>â€¦..<br>â€¦..<br>â€¦..<br>mm..H<br>7 8<br>â€¦Hâ€¦.<br>â€¦Hâ€¦.<br>â€¦Hâ€¦.<br>mmmHmmmm<br>â€¦Hâ€¦.<br>â€¦Hâ€¦.<br>â€¦Hâ€¦.<br>0 0</p>
<p>Sample Output<br>2<br>10<br>28</p>
</blockquote>
<p>è¿™é“é¢˜è‡ªå·±åšçš„æ—¶å€™è¢«ç½‘ä¸Šçš„æ¨¡æ¿å‘äº†ä¸€æ‰‹ï¼Œï¼Œï¼Œä¸€ç›´tleï¼Œï¼Œï¼Œæ¢æ¨¡æ¿å°±è¡Œäº†ï¼Œï¼Œï¼Œ<br>ä¸»è¦æ€è·¯æ˜¯ï¼Œå…ˆå°†äººæˆ¿æ‰¾åˆ°ï¼Œï¼Œï¼Œè®¡ç®—å‡ºæ¯ä¸€ä¸ªäººå’Œæ‰€æœ‰æˆ¿å­ç›´æ¥çš„è·ç¦»ï¼Œï¼Œè¿™ä¸ªè·ç¦»ä¹Ÿå«æ›¼å“ˆé¡¿è·ç¦»ï¼Œï¼Œï¼Œç„¶åäººæˆ¿ç›´æ¥å»ºè¾¹ï¼Œï¼Œå†å¼„ä¸€ä¸ªè¶…çº§åŸç‚¹å’Œæ±‡ç‚¹æ±‚åŸç‚¹å’Œä¼šé¡¶å•Šç›´æ¥çš„æœ€å°è´¹ç”¨çš„æœ€å¤§æµå°±å¯ä»¥äº†ï¼Œï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> ms(a , b) memset(a , b , sizeof(a))</span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-comment">//å‰å‘æ˜Ÿ</span><br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e3</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e3</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">int</span> n , m;<br><span class="hljs-keyword">char</span> mp[maxm][maxm];<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Man</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> x , y;<br>&#125;man[maxn];<br><span class="hljs-keyword">int</span> cnt_man;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Home</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> x , y;<br>&#125;home[maxn];<br><span class="hljs-keyword">int</span> cnt_home;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> v;<br>    <span class="hljs-keyword">int</span> u;<br>    <span class="hljs-keyword">int</span> next;<br>    <span class="hljs-keyword">int</span> cap;<br>    <span class="hljs-keyword">int</span> cost;<br>    Edge()&#123;&#125;<br>    Edge(<span class="hljs-keyword">int</span> u , <span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> cap , <span class="hljs-keyword">int</span> cost , <span class="hljs-keyword">int</span> next):u(u) , v(v) , cap(cap) , cost(cost) , next(next)&#123;&#125;<br>&#125;edge[maxn &lt;&lt; <span class="hljs-number">7</span>];<br><span class="hljs-keyword">int</span> head[maxn];<br><span class="hljs-keyword">int</span> cnt;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    ms(head , <span class="hljs-number">-1</span>);<br>    cnt = <span class="hljs-number">0</span>;<br>    cnt_home = <span class="hljs-number">1</span>;<br>    cnt_man = <span class="hljs-number">1</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> from , <span class="hljs-keyword">int</span> to , <span class="hljs-keyword">int</span> cap , <span class="hljs-keyword">int</span> cost)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[cnt] = Edge(from , to , cap , cost , head[from]);<br>    head[from] = cnt++;<br>    edge[cnt] = Edge(to , from , <span class="hljs-number">0</span> , -cost , head[to]);<br>    head[to] = cnt++;<br>&#125;<br><span class="hljs-keyword">int</span> dis[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> pe[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">bool</span> vis[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">spfa</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s , <span class="hljs-keyword">int</span> t)</span></span><br><span class="hljs-function"></span>&#123;<br>    ms(dis , inf);<br>    ms(vis , <span class="hljs-literal">false</span>);<br>    ms(pe , <span class="hljs-number">-1</span>);<br>    dis[<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;<br>    vis[s] = <span class="hljs-literal">true</span>;<br>    <span class="hljs-built_in">queue</span>&lt;<span class="hljs-keyword">int</span>&gt; q;<br>    q.push(s);<br>    <span class="hljs-keyword">while</span>(!q.empty())<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = q.front();q.pop();<br>        vis[u] = <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = head[u]; i != <span class="hljs-number">-1</span>; i = edge[i].next)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = edge[i].v;<br>            <span class="hljs-keyword">int</span> cost = edge[i].cost;<br>            <span class="hljs-keyword">if</span> (edge[i].cap &gt; <span class="hljs-number">0</span> &amp;&amp; dis[v] &gt; dis[u] + cost)<br>            &#123;<br>                dis[v] = dis[u] + cost;<br>                pe[v] = i;<br>                <span class="hljs-keyword">if</span> (!vis[v])<br>                &#123;<br>                    vis[v] = <span class="hljs-literal">true</span>;<br>                    q.push(v);<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">if</span> (dis[t] == inf)  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">min_cost_flow</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s , <span class="hljs-keyword">int</span> t , <span class="hljs-keyword">int</span> f)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span> (spfa(s , t))<br>    &#123;<br>        <span class="hljs-keyword">int</span> flow = inf;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = pe[t]; i != <span class="hljs-number">-1</span>; i = pe[edge[i].u])<br>        &#123;<br>            flow = min(flow , edge[i].cap);<br>        &#125;<br>        f -= flow;<br>        <span class="hljs-keyword">if</span> (f &lt; <span class="hljs-number">0</span>)  <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = pe[t]; i != <span class="hljs-number">-1</span>; i = pe[edge[i].u])<br>        &#123;<br>            edge[i].cap -= flow;<br>            edge[i ^ <span class="hljs-number">1</span>].cap += flow;<br>        &#125;<br>        res += flow * dis[t];<br>    &#125;<br>    <span class="hljs-keyword">return</span> res;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//ios_base::sync_with_stdio(0);</span><br>    <span class="hljs-keyword">while</span> (~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n , &amp;m) &amp;&amp; n &amp;&amp; m)<br>    &#123;<br>        init();<br>        <span class="hljs-keyword">char</span> str[maxm];<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)        <span class="hljs-comment">//å­˜å›¾</span><br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span> , str);<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; j++)<br>                mp[i][j] = str[j - <span class="hljs-number">1</span>];<br>        &#125;<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)        <span class="hljs-comment">//äººæˆ¿åˆ†ç¦»ï¼Œï¼Œè®°å½•åæ ‡</span><br>        &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; j++)<br>            &#123;<br>                <span class="hljs-keyword">if</span> (mp[i][j] == <span class="hljs-string">&#x27;H&#x27;</span>)<br>                &#123;<br>                    home[cnt_home].x = i;<br>                    home[cnt_home++].y = j;<br>                &#125;<br>                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (mp[i][j] == <span class="hljs-string">&#x27;m&#x27;</span>)<br>                &#123;<br>                    man[cnt_man].x = i;<br>                    man[cnt_man++].y = j;<br>                &#125;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= cnt_man - <span class="hljs-number">1</span>; i++)<br>        &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= cnt_home - <span class="hljs-number">1</span>; j++)<br>            &#123;                               <span class="hljs-comment">//ç®—å‡ºæ¯ä¸€ä¸ªäººå¯¹äºæ‰€æœ‰æˆ¿å­çš„è·ç¦»ï¼Œï¼Œï¼ˆæ›¼å“ˆé¡¿è·ç¦»ï¼‰ï¼Œï¼Œï¼Œ</span><br>                <span class="hljs-keyword">int</span> w = (<span class="hljs-keyword">int</span>)<span class="hljs-built_in">fabs</span>(man[i].x - home[j].x) + (<span class="hljs-keyword">int</span>)<span class="hljs-built_in">fabs</span>(man[i].y - home[j].y);<br>                add(i , j + cnt_man - <span class="hljs-number">1</span> , <span class="hljs-number">1</span> , w);       <span class="hljs-comment">//äººæˆ¿ä¹‹é—´è¿è¾¹ï¼Œï¼Œï¼Œæµé‡ä¸ºåˆšåˆšçš„å€¼</span><br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">int</span> t = cnt_home;                   <span class="hljs-comment">//æ±‡ç‚¹</span><br>        t *= <span class="hljs-number">2</span>;<br>        t--;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= cnt_man - <span class="hljs-number">1</span>; i++)  <span class="hljs-comment">//è¶…çº§åŸç‚¹å’Œæ¯ä¸ªäººå»ºè¾¹ï¼Œï¼Œæµé‡ä¸º0</span><br>            add(<span class="hljs-number">0</span> , i , <span class="hljs-number">1</span> , <span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = cnt_man; i &lt;= t - <span class="hljs-number">1</span>; i++)  <span class="hljs-comment">//æˆ¿å­å’Œæ±‡ç‚¹å»ºè¾¹</span><br>            add(i , t , <span class="hljs-number">1</span> , <span class="hljs-number">0</span>);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span> , min_cost_flow(<span class="hljs-number">0</span> , t , t + <span class="hljs-number">1</span>));<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<p>å­¦é•¿çš„ä»£ç ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// hdu 1533</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> PB push_back</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1005</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>,<span class="hljs-keyword">int</span>&gt; P;<br><span class="hljs-keyword">char</span> mp[<span class="hljs-number">105</span>][<span class="hljs-number">105</span>];<br><span class="hljs-keyword">int</span> dist[maxn&lt;&lt;<span class="hljs-number">1</span>],pe[maxn&lt;&lt;<span class="hljs-number">1</span>],head[maxn&lt;&lt;<span class="hljs-number">1</span>];<br><span class="hljs-keyword">bool</span> vis[maxn&lt;&lt;<span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> n,m,tot;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Edge</span>&#123;</span><br>    <span class="hljs-keyword">int</span> u,v,cap,cost,next;<br>    Edge()&#123;&#125;<br>    Edge(<span class="hljs-keyword">int</span> u,<span class="hljs-keyword">int</span> v,<span class="hljs-keyword">int</span> cap,<span class="hljs-keyword">int</span> cost,<span class="hljs-keyword">int</span> next):u(u),v(v),cap(cap),cost(cost),next(next)&#123;&#125;<br>&#125;edge[maxn&lt;&lt;<span class="hljs-number">7</span>];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add_edge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> from,<span class="hljs-keyword">int</span> to,<span class="hljs-keyword">int</span> cap,<span class="hljs-keyword">int</span> cost)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot] = Edge(from,to,cap,cost,head[from]);<br>    head[from] = tot++;<br>    edge[tot] = Edge(to,from,<span class="hljs-number">0</span>,-cost,head[to]);<br>    head[to] = tot++;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">SPFA</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s,<span class="hljs-keyword">int</span> t)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(dist,INF,<span class="hljs-keyword">sizeof</span>(dist));<br>    <span class="hljs-built_in">memset</span>(vis,<span class="hljs-literal">false</span>,<span class="hljs-keyword">sizeof</span>(vis));<br>    <span class="hljs-built_in">memset</span>(pe,<span class="hljs-number">-1</span>,<span class="hljs-keyword">sizeof</span>(pe));<br>    dist[s]=<span class="hljs-number">0</span>;<br>    vis[s]=<span class="hljs-literal">true</span>;<br>    <span class="hljs-built_in">queue</span>&lt;<span class="hljs-keyword">int</span>&gt; q;<br>    q.push(s);<br>    <span class="hljs-keyword">while</span>(!q.empty())<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = q.front();q.pop();<br>        vis[u] = <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=head[u];i!=<span class="hljs-number">-1</span>;i=edge[i].next)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = edge[i].v;<br>            <span class="hljs-keyword">int</span> cost = edge[i].cost;<br>            <span class="hljs-keyword">if</span>(edge[i].cap&gt;<span class="hljs-number">0</span> &amp;&amp; dist[v]&gt;dist[u]+cost)<br>            &#123;<br>                dist[v] = dist[u]+cost;<br>                pe[v] = i;<br>                <span class="hljs-keyword">if</span>(!vis[v])<br>                &#123;<br>                    vis[v]=<span class="hljs-literal">true</span>;<br>                    q.push(v);<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(dist[t]==INF) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">min_cost_flow</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s,<span class="hljs-keyword">int</span> t,<span class="hljs-keyword">int</span> f)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span>(SPFA(s,t))<br>    &#123;<br>        <span class="hljs-keyword">int</span> flow = INF;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=pe[t];i!=<span class="hljs-number">-1</span>;i=pe[edge[i].u])<br>        &#123;<br>            flow = min(flow,edge[i].cap);<br>        &#125;<br>        f -= flow;<br>        <span class="hljs-keyword">if</span>(f&lt;<span class="hljs-number">0</span>) <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=pe[t];i!=<span class="hljs-number">-1</span>;i=pe[edge[i].u])<br>        &#123;<br>            edge[i].cap -= flow;<br>            edge[i^<span class="hljs-number">1</span>].cap += flow;<br>        &#125;<br>        res += flow*dist[t];<br>    &#125;<br>    <span class="hljs-keyword">return</span> res;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">dis</span><span class="hljs-params">(P a,P b)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">abs</span>(a.first-b.first)+<span class="hljs-built_in">abs</span>(a.second-b.second);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">while</span>(~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>,&amp;n,&amp;m) &amp;&amp; (n!=<span class="hljs-number">0</span> &amp;&amp; m!=<span class="hljs-number">0</span>))<br>    &#123;<br>        <span class="hljs-keyword">int</span> num1=<span class="hljs-number">0</span>,num2=<span class="hljs-number">0</span>;<br>        P man[maxn],hos[maxn];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=n;i++)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>,mp[i]);<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>;j&lt;m;j++)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(mp[i][j]==<span class="hljs-string">&#x27;m&#x27;</span>)<br>                    man[++num1] = P(i,j+<span class="hljs-number">1</span>);<br>                <span class="hljs-keyword">if</span>(mp[i][j]==<span class="hljs-string">&#x27;H&#x27;</span>)<br>                    hos[++num2] = P(i,j+<span class="hljs-number">1</span>);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">int</span> s=<span class="hljs-number">0</span>,t=num1+num2+<span class="hljs-number">1</span>;<br>        <span class="hljs-built_in">memset</span>(head,<span class="hljs-number">-1</span>,<span class="hljs-keyword">sizeof</span>(head));<br>        tot=<span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=num1;i++)<br>            add_edge(<span class="hljs-number">0</span>,i,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=num2;i++)<br>            add_edge(num1+i,t,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;=num1;i++)<br>        &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">1</span>;j&lt;=num2;j++)<br>            &#123;<br>                add_edge(i,num1+j,<span class="hljs-number">1</span>,dis(man[i],hos[j]));<br>            &#125;<br>        &#125;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>,min_cost_flow(s,t,num1));<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<p>é¸½<del>~</del><del>~</del>~~~~</p>
]]></content>
      <tags>
        <tag>acm</tag>
        <tag>ç®—æ³•</tag>
        <tag>ç½‘ç»œæµ</tag>
      </tags>
  </entry>
  <entry>
    <title>2-sat</title>
    <url>/2019/02/13/2-sat/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p>2-satæ˜¯k-saté—®é¢˜ä¸­k==2æ—¶çš„ä¸€ç§æƒ…å†µï¼Œï¼Œï¼ˆåºŸè¯qaqï¼Œï¼Œ</p>
<p>å½“kå¤§äºç­‰äº3æ—¶æ˜¯npcé—®é¢˜ï¼Œï¼Œæ‰€ä»¥ä¸€èˆ¬éƒ½æ˜¯é—®çš„2-satï¼Œï¼Œ</p>
<p>è¿™ç§é¢˜çš„å¤§æ¦‚å½¢å¼æ˜¯ï¼š å¯¹äºç»™å®šçš„nå¯¹çš„ç‚¹ï¼Œè¦æ±‚æ¯ä¸€å¯¹éƒ½åªèƒ½é€‰æ‹©ä¸€ä¸ªï¼Œå¹¶ä¸”å…¶ä¸­è¿˜æœ‰ä¸€äº›é™åˆ¶æ¡ä»¶ï¼Œæ¯”å¦‚è¯´é€‰äº†uå°±ä¸èƒ½é€‰æ‹©vç­‰ç­‰ï¼Œï¼Œ</p>
<p>ç„¶åé—®ä½ æœ‰æ²¡æœ‰å¯è¡Œè§£ï¼Œï¼Œï¼Œ</p>
<p>è§£å†³è¿™ç±»é—®é¢˜ä¸€èˆ¬æ˜¯ç”¨ <strong>æŸ“è‰²æ³•ï¼ˆæ±‚å­—å…¸åºæœ€å°çš„è§£ï¼‰</strong> å’Œ <strong>å¼ºè¿é€šåˆ†é‡æ³•ï¼ˆæ‹“æ‰‘æ’åºåªèƒ½å¾—åˆ°ä»»æ„è§£ï¼‰</strong>ï¼Œï¼Œ</p>
<span id="more"></span>
<h1 id="ç®—æ³•åˆ†æ"><a href="#ç®—æ³•åˆ†æ" class="headerlink" title="ç®—æ³•åˆ†æ"></a>ç®—æ³•åˆ†æ</h1><ul>
<li>é¦–å…ˆè¦æ˜ç™½ä¸€ä¸ªé“ç†ï¼šå¯¹äº <code>u-&gt;v</code>ï¼ˆé€‰æ‹©uå°±ä¸èƒ½é€‰æ‹©vï¼‰è¿™æ ·çš„é™åˆ¶æ¡ä»¶å¯ä»¥ç”¨å®ƒçš„é€†å¦å‘½é¢˜æ¥è½¬æ¢ä¸ºï¼š<code>u-&gt;v&#39;</code>ï¼ˆé€‰æ‹©uå°±å¿…é¡»é€‰vâ€™ï¼‰ä»¥åŠ <code>v-&gt;u&#39;</code>ï¼ˆé€‰æ‹©vå°±å¿…é¡»é€‰uâ€™ï¼‰</li>
<li>æœ€åçš„å»ºå‡ºçš„å›¾æ˜¯å¯¹ç§°çš„ï¼Œï¼Œ</li>
<li><a href="https://wenku.baidu.com/view/afd6c436a32d7375a41780f2.html">å…·ä½“çš„æ•°å­¦è¯æ˜å’Œç®—æ³•æ¨å¯¼çœ‹è¿™é‡Œ</a> å’Œ <a href="https://www.cnblogs.com/kuangbin/archive/2012/10/05/2712429.html">kuangbinçš„åšå®¢</a>ï¼Œï¼Œå¤šçœ‹å‡ éï¼Œï¼Œè·Ÿç€æ•²ä¸€éä»£ç åå†çœ‹çœ‹å°±å·®ä¸å¤šæ‡‚äº†</li>
</ul>
<h2 id="æŸ“è‰²æ³•ï¼ˆæ±‚å­—å…¸åºæœ€å°çš„è§£ï¼‰"><a href="#æŸ“è‰²æ³•ï¼ˆæ±‚å­—å…¸åºæœ€å°çš„è§£ï¼‰" class="headerlink" title="æŸ“è‰²æ³•ï¼ˆæ±‚å­—å…¸åºæœ€å°çš„è§£ï¼‰"></a>æŸ“è‰²æ³•ï¼ˆæ±‚å­—å…¸åºæœ€å°çš„è§£ï¼‰</h2><p>è¿™ä¸ªç®—æ³•çš„å¤§è‡´æ€è·¯å°±æ˜¯éå†æ¯ä¸€å¯¹ç‚¹çš„ä¸¤ç§æƒ…å†µï¼šé€‰pæˆ–è€…é€‰pâ€™ï¼Œï¼Œï¼Œ</p>
<p>ç„¶åä¸€ç›´ä»pçš„ä¸‹ä¸€ä¸ªå°è¯•ä¸‹å»ï¼Œï¼Œä¸­é—´è‹¥æ˜¯ç¢°åˆ°ä¸èƒ½é¿å…çš„ä¸æ»¡è¶³é¢˜æ„çš„é€‰æ‹©æ—¶ï¼Œè¯æ˜è¿™æ¡è·¯ä¸‹æ¥çš„å°è¯•æ—¶ä¸è¡Œçš„ï¼Œï¼Œé‡æ–°é€‰æ‹©ï¼Œï¼Œä¸€ç›´ä¸‹å»ã€‚ã€‚ã€‚ä¹Ÿå°±æ˜¯ä¸€ä¸ªæ·±æœçš„è¿‡ç¨‹ï¼Œï¼Œæ—¶é—´å¤æ‚åº¦å¤§æ¦‚æ˜¯ $O(nm)$ï¼Œï¼Œ</p>
<p><a href="https://www.cnblogs.com/L-Excalibur/p/8504893.html">å¯ä»¥çœ‹çœ‹è¿™ç¯‡åšå®¢ï¼Œï¼Œ</a></p>
<p><a href="https://blog.sengxian.com/algorithms/2-sat">ä»¥åŠè¿™ä¸ª</a></p>
<p><a href="https://blog.csdn.net/jarjingx/article/details/8521690">è¿˜æœ‰è¿™ä¸ªé‡Œçš„é‚£å‡ ä¸ªæ¨¡å‹å¾ˆå¥½</a></p>
<blockquote>
<p><strong>æ¨¡å‹ä¸€ï¼šä¸¤è€…ï¼ˆAï¼ŒBï¼‰ä¸èƒ½åŒæ—¶å–</strong><br>ã€€ã€€é‚£ä¹ˆé€‰æ‹©äº†Aå°±åªèƒ½é€‰æ‹©Bâ€™ï¼Œé€‰æ‹©äº†Bå°±åªèƒ½é€‰æ‹©Aâ€™<br>ã€€ã€€è¿è¾¹Aâ†’Bâ€™ï¼ŒBâ†’Aâ€™</p>
<p><strong>æ¨¡å‹äºŒï¼šä¸¤è€…ï¼ˆAï¼ŒBï¼‰ä¸èƒ½åŒæ—¶ä¸å–</strong><br>ã€€ã€€é‚£ä¹ˆé€‰æ‹©äº†Aâ€™å°±åªèƒ½é€‰æ‹©Bï¼Œé€‰æ‹©äº†Bâ€™å°±åªèƒ½é€‰æ‹©A<br>ã€€ã€€è¿è¾¹Aâ€™â†’Bï¼ŒBâ€™â†’A</p>
<p><strong>æ¨¡å‹ä¸‰ï¼šä¸¤è€…ï¼ˆAï¼ŒBï¼‰è¦ä¹ˆéƒ½å–ï¼Œè¦ä¹ˆéƒ½ä¸å–</strong><br>ã€€ã€€é‚£ä¹ˆé€‰æ‹©äº†Aï¼Œå°±åªèƒ½é€‰æ‹©Bï¼Œé€‰æ‹©äº†Bå°±åªèƒ½é€‰æ‹©Aï¼Œé€‰æ‹©äº†Aâ€™å°±åªèƒ½é€‰æ‹©Bâ€™ï¼Œé€‰æ‹©äº†Bâ€™å°±åªèƒ½é€‰æ‹©Aâ€™<br>ã€€ã€€è¿è¾¹Aâ†’Bï¼ŒBâ†’Aï¼ŒAâ€™â†’Bâ€™ï¼ŒBâ€™â†’Aâ€™</p>
<p><strong>æ¨¡å‹å››ï¼šä¸¤è€…ï¼ˆAï¼ŒAâ€™ï¼‰å¿…å–A</strong><br>ã€€ã€€é‚£ä¹ˆï¼Œé‚£ä¹ˆï¼Œè¯¥æ€ä¹ˆè¯´å‘¢ï¼Ÿå…ˆè¯´è¿è¾¹å§ã€‚<br>ã€€ã€€è¿è¾¹Aâ€™â†’A</p>
</blockquote>
<h2 id="å¼ºè¿é€šåˆ†é‡æ³•ï¼ˆæ‹“æ‰‘æ’åºåªèƒ½å¾—åˆ°ä»»æ„è§£ï¼‰"><a href="#å¼ºè¿é€šåˆ†é‡æ³•ï¼ˆæ‹“æ‰‘æ’åºåªèƒ½å¾—åˆ°ä»»æ„è§£ï¼‰" class="headerlink" title="å¼ºè¿é€šåˆ†é‡æ³•ï¼ˆæ‹“æ‰‘æ’åºåªèƒ½å¾—åˆ°ä»»æ„è§£ï¼‰"></a>å¼ºè¿é€šåˆ†é‡æ³•ï¼ˆæ‹“æ‰‘æ’åºåªèƒ½å¾—åˆ°ä»»æ„è§£ï¼‰</h2><p>è¿™ä¸ªç®—æ³•çš„æµç¨‹ä¸ºï¼š</p>
<ul>
<li>å»ºå›¾</li>
<li>æ±‚æå¤§è”é€šåˆ†é‡ï¼ˆå­å›¾ï¼‰</li>
<li>ç¼©ç‚¹ï¼Œè½¬åŒ–æˆDAGï¼ˆæœ‰å‘æ— ç¯å›¾ï¼‰</li>
<li>åˆ¤æ–­æœ‰æ— è§£</li>
<li>æ–°å›¾æ‹“æ‰‘æ’åº</li>
<li>è‡ªåº•å‘ä¸Šé€‰æ‹©ã€åˆ é™¤</li>
<li>è¾“å‡º</li>
</ul>
<p>æ—¶é—´å¤æ‚åº¦å¤§æ¦‚ä¸º $O(m)$ï¼Œï¼Œå°±æ˜¯éš¾å†™ï¼Œï¼Œè€Œä¸”ä¸èƒ½è¾“å‡ºå­—å…¸åºå°çš„è§£ï¼Œï¼Œï¼Œ</p>
<h1 id="ä¾‹é¢˜å’Œæ¨¡æ¿"><a href="#ä¾‹é¢˜å’Œæ¨¡æ¿" class="headerlink" title="ä¾‹é¢˜å’Œæ¨¡æ¿"></a>ä¾‹é¢˜å’Œæ¨¡æ¿</h1><h2 id="hdu-1814"><a href="#hdu-1814" class="headerlink" title="hdu-1814"></a>hdu-1814</h2><p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1814">è¿™é“æ¨¡æ¿é¢˜</a>ï¼Œï¼Œè®©è¾“å‡ºçš„ä¹¦å­—å…¸åºå°çš„è§£ï¼Œï¼Œï¼Œåªèƒ½ç”¨ç¬¬ä¸€ç§æ–¹æ³•äº†ï¼Œï¼Œï¼Œ</p>
<p>é¢˜æ„å°±æ˜¯ä¸€ä¸ªå›½å®¶æœ‰å¾ˆå¤šå…šæ´¾ï¼Œï¼Œæ¯ä¸ªå…šæ´¾åªæœ‰ä¸¤ä¸ªäººï¼Œï¼Œç°åœ¨è¦ä»è¿™ä¸€å †å…šæ´¾ä¸­æ¯ä¸ªå…šæ´¾é€‰æ‹©ä¸€ä¸ªäººå‚åŠ ä¼šè®®ï¼Œï¼Œå…¶ä¸­ä¸€äº›äººä¹‹é—´æœ‰åˆ†æ­§ï¼Œï¼Œå³på»äº†qå°±ä¸å»è¿™æ ·çš„é™åˆ¶æ¡ä»¶ï¼Œï¼Œé—®ä½ æ˜¯å¦èƒ½æ‰¾å‡ºæ»¡è¶³é¢˜æ„æ‰€æœ‰é™åˆ¶æ¡ä»¶çš„é€‰æ‹©æ–¹æ³•ï¼Œï¼Œï¼Œæœ‰è§£çš„è¯å°±è¾“å‡ºå­—å…¸åºæœ€å°çš„è§£ï¼Œï¼Œ</p>
<p>é¢˜æ„å’Œä¸Šé¢é‚£ä¸ª<a href="https://wenku.baidu.com/view/afd6c436a32d7375a41780f2.html">ç™¾åº¦æ–‡åº“</a>çš„ä¾‹é¢˜ä¸€æ ·ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//#include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;functional&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> ll <span class="hljs-title">read</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">char</span> c = getchar(); <span class="hljs-keyword">int</span> x = <span class="hljs-number">0</span>, f = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(c &lt; <span class="hljs-string">&#x27;0&#x27;</span> || c &gt; <span class="hljs-string">&#x27;9&#x27;</span>) &#123;<span class="hljs-keyword">if</span>(c == <span class="hljs-string">&#x27;-&#x27;</span>) f = <span class="hljs-number">-1</span>; c = getchar();&#125;<br>    <span class="hljs-keyword">while</span>(c &gt;= <span class="hljs-string">&#x27;0&#x27;</span> &amp;&amp; c &lt;= <span class="hljs-string">&#x27;9&#x27;</span>) x = x * <span class="hljs-number">10</span> + c - <span class="hljs-string">&#x27;0&#x27;</span>, c = getchar();<br>    <span class="hljs-keyword">return</span> x * f;<br>&#125;<br><br><span class="hljs-comment">//2sat_kuangbin</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, next;<br>&#125;edge[maxn];<br><span class="hljs-keyword">int</span> head[maxn], tot;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v; edge[tot].next = head[u]; head[u] = tot++;<br>&#125;<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-keyword">int</span> s[maxn], top;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(vis[u^<span class="hljs-number">1</span>])<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;       <span class="hljs-comment">//å¦‚æœè¿™ä¸ªç‚¹pçš„å¯¹ç«‹é¢p&#x27;é€‰äº†ï¼Œé‚£ä¹ˆè¿™ä¸ªç‚¹å°±ä¸é€‰</span><br>    <span class="hljs-keyword">if</span>(vis[u])  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;        <span class="hljs-comment">//å¦‚æœè¿™ä¸ªç‚¹å·²ç»é€‰äº†ï¼Œå°±ä¸ä»è¿™ä¸ªç‚¹ç»§ç»­å‘ä¸‹æ‰¾äº†</span><br>    vis[u] = <span class="hljs-literal">true</span>;                  <span class="hljs-comment">//è¿™ä¸ªç‚¹pæ²¡é€‰å¹¶ä¸”å¯¹ç«‹é¢p&#x27;æ²¡é€‰çš„æƒ…å†µä¸‹ï¼Œé€‰æ‹©è¿™ä¸ªç‚¹ï¼Œå¹¶ä¸”å°è¯•ä»è¿™ä¸ªç‚¹å¯»æ‰¾å¯èƒ½çš„è§£æ³•</span><br>    s[top++] = u;                   <span class="hljs-comment">//æŠŠè¿™ä¸ªå¯èƒ½çš„ä¸€ç§æƒ…å†µå‹æ ˆï¼Œä¿å­˜</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].next)<br>        <span class="hljs-keyword">if</span>(!dfs(edge[i].to))<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;           <span class="hljs-comment">//å°è¯•æ‰€æœ‰ä¸ç‚¹uç›¸è¿çš„ç‚¹vï¼Œå¦‚æœä»ç‚¹vå‡ºå‘çš„å°è¯•ä¸å¯è¡Œæ—¶ä¸é€‰</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">two_sat</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vis); <span class="hljs-comment">//vis[i]æ ‡è®°é‚£äº›ç‚¹è¦é€‰</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i += <span class="hljs-number">2</span>)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(vis[i] || vis[i^<span class="hljs-number">1</span>])<span class="hljs-keyword">continue</span>;<span class="hljs-comment">//å¦‚æœè¿™ä¸€å¯¹ç‚¹æœ‰ä¸€ä¸ªé€‰è¿‡å°±å°è¯•ä¸‹ä¸€å¯¹çš„ç‚¹</span><br>        top = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">if</span>(!dfs(i))                 <span class="hljs-comment">//å¦‚æœä»ç‚¹iå‡ºå‘çš„å°è¯•ä¸è¡Œï¼Œå°±å°†æ ˆä¸­æ‰€æœ‰è¿™æ¡å¯èƒ½çš„è·¯å¾„ä¸Šçš„ç‚¹æ ‡è®°ä¸ºæœªé€‰</span><br>        &#123;<br>            <span class="hljs-keyword">while</span>(top)vis[s[--top]] = <span class="hljs-literal">false</span>;<br>            <span class="hljs-keyword">if</span>(!dfs(i^<span class="hljs-number">1</span>))<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<span class="hljs-comment">//å¦‚æœç‚¹içš„å¯¹ç«‹é¢i&#x27;éƒ½ä¸è¡Œçš„è¯ï¼Œè¯æ˜æ— æ³•æ‰¾åˆ°è¿™æ ·ä¸€æ¡å¯è¡Œè§£ï¼Œä½¿å¾—æ¯ä¸€å¯¹ç‚¹ä»…é€‰æ‹©ä¸€ä¸ªå¹¶ä¸”æ»¡è¶³å¯¹åº”çš„é™åˆ¶</span><br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="hljs-comment">//    ios_base::sync_with_stdio(0);</span><br><span class="hljs-comment">//    cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">int</span> n, m, u, v;<br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n, &amp;m) != EOF)<br>    &#123;<br>        init();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;u, &amp;v);<br>            --u;--v;        <span class="hljs-comment">//ç‚¹çš„ç¼–å·ä»0å¼€å§‹ï¼Œæ–¹ä¾¿ä½¿ç”¨p^1æ¥è¡¨ç¤ºpçš„å¯¹ç«‹é¢</span><br>            addedge(u, v^<span class="hljs-number">1</span>);<span class="hljs-comment">//å»ºå›¾ï¼Œé™åˆ¶æ¡ä»¶u-&gt;vï¼ˆé€‰æ‹©uå°±ä¸èƒ½é€‰æ‹©vï¼‰ç­‰ä»·äºu-&gt;v&#x27; &amp;&amp; v-&gt;u&#x27; ï¼ˆé€‰æ‹©uå¿…é¡»é€‰é¢v&#x27; å’Œ é€‰æ‹©vå°±å¿…é¡»é€‰æ‹©u&#x27;ï¼‰</span><br>            addedge(v, u^<span class="hljs-number">1</span>);<br>        &#125;<br>        <span class="hljs-keyword">if</span>(two_sat(<span class="hljs-number">2</span> * n))  <span class="hljs-comment">//å­˜åœ¨è§£æ—¶</span><br>        &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">2</span> * n; ++i)<br>                <span class="hljs-keyword">if</span>(vis[i])  <span class="hljs-comment">//å°†æœ€åå­—å…¸åºæœ€å°çš„å¯è¡Œè§£è¾“å‡º</span><br>                    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, i + <span class="hljs-number">1</span>);<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;NIE\n&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="uva-3211"><a href="#uva-3211" class="headerlink" title="uva-3211"></a><a href="https://cn.vjudge.net/problem/UVALive-3211">uva-3211</a></h2><p>è¿™é“é¢˜çš„é¢˜æ„æ˜¯ï¼š æ¯æ¶é£æœºæœ‰ä¸¤ä¸ªé™è½çš„æ—¶é—´ç‚¹(a, b)ï¼Œç„¶åå¯¹äºæ¯ä¸¤æ¶é£æœºä¹‹é—´å®šä¹‰ä¸€ä¸ªå®‰å…¨çš„æ—¶é—´é—´éš”xï¼Œï¼Œé—®ä½ åœ¨ä¿è¯å…¨éƒ¨é£æœºéƒ½å®‰å…¨é™è½çš„æƒ…å†µä¸‹ï¼Œæœ€å°çš„æ—¶é—´é—´éš”xä¸­çš„æœ€å¤§å€¼ï¼Œï¼Œï¼Œ</p>
<p>å…ˆä¸ç®¡xæ€ä¹ˆæ±‚ï¼Œï¼Œå‡è®¾ç°åœ¨å·²çŸ¥ä¸€ä¸ªxï¼Œï¼Œé—®ä½ ä»»æ„ä¸¤æ¶é£æœºä¹‹é—´çš„æ—¶é—´é—´éš”æœ€å°æ˜¯xæ—¶å¯ä¸å¯ä»¥ï¼Œï¼Œ</p>
<p>å› ä¸ºå¯¹äºä¸€æ¶é£æœºæ¥è¯´ï¼Œæœ‰ä¸¤ä¸ªæ—¶é—´ç‚¹ï¼Œä½†åªèƒ½é€‰æ‹©ä¸€ä¸ªï¼Œä¹Ÿå°±æ˜¯è¯´a, b æ˜¯ç›¸äº’æ’æ–¥çš„ï¼Œï¼Œå°±åƒä¸Šé¢é‚£é“é¢˜ä¸­çš„æ¯ä¸ªå…šæ´¾ä¸­åªé€‰æ‹©ä¸€ä¸ªäººä¸€æ ·ï¼Œï¼ŒåŒæ—¶å¯¹äºæ¯ä¸¤æ¶é£æœºä¹‹é—´ï¼Œä»–ä»¬é€‰æ‹©çš„é™è½æ—¶é—´çš„å·®çš„ç»å¯¹å€¼åº”è¯¥æ˜¯è‡³å°‘å¤§äºxçš„ï¼Œï¼Œï¼Œè¿™æ ·å°±èƒ½çœ‹å‡ºä¸€ä¸ªé™åˆ¶æ¡ä»¶ï¼Œï¼Œå³ï¼šå¯¹äºç¬¬iæ¶é£æœºé€‰æ‹©çš„é™è½æ—¶é—´ $a_i$ ä¸ç¬¬jæ¶é£æœºé€‰æ‹©çš„é™è½æ—¶é—´ $a_j$ ä¹‹é—´æ»¡è¶³ $abs(a_i - a_j) \geq x$ï¼Œï¼Œæˆ‘ä»¬å¯ä»¥éå†æ¯ä¸€æ¶é£æœºå’Œå®ƒåé¢çš„é£æœºæ‰€é€‰æ‹©çš„é™è½æ—¶é—´çš„ç»“æœï¼Œï¼Œå¯¹äºä¸æ»¡è¶³æ¡ä»¶çš„å°±å¯ä»¥è®¤ä¸ºæ˜¯ <strong>é€‰æ‹©äº†ç¬¬iæ¶çš„ä¸€ä¸ªé™è½æ—¶é—´ç‚¹å°±ä¸èƒ½é€‰ç¬¬jæ¶çš„ä¸€ä¸ªé™è½çš„æ—¶é—´ç‚¹</strong> ï¼Œï¼Œï¼Œè¿™å°±æ˜¯æœ€åæå–å‡ºæ¥çš„é™åˆ¶æ¡ä»¶ï¼Œï¼Œä¹Ÿå°±æ˜¯ <strong>é€‰æ‹©äº†ç¬¬iæ¶çš„ä¸€ä¸ªæ—¶é—´ç‚¹å°±å¿…é¡»é€‰ç¬¬jæ¶çš„å¦ä¸€ä¸ªæ—¶é—´ç‚¹</strong> å’Œ <strong>é€‰æ‹©äº†ç¬¬jæ¶çš„ä¸€ä¸ªæ—¶é—´ç‚¹å°±å¿…é¡»é€‰ç¬¬iæ¶é£æœºçš„å¦ä¸€ä¸ªæ—¶é—´ç‚¹</strong> ï¼Œï¼Œï¼Œï¼ˆ<del>è¿™é‡Œæœ‰ä¸€ä¸ªé—®é¢˜: è²Œä¼¼æ²¡æœ‰ä¿è¯ <em>é€‰æ‹©äº†ç¬¬iæ¶é£æœºçš„ä¸€ä¸ªæ—¶é—´ç‚¹å°±ä¸é€‰ç¬¬jæ¶é£æœºçš„ä¸€ä¸ªæ—¶é—´ç‚¹æ—¶</em> ï¼Œé€‰æ‹©ç¬¬jæ¶é£æœºçš„å¦ä¸€ä¸ªæ—¶é—´ç‚¹å°±ä¹Ÿæ»¡è¶³ç›¸å·®ä¸å°äºxï¼Œï¼Œï¼Œä½†æ˜¯æˆ‘æ‰¾åˆ°çš„åšå®¢æ²¡æœ‰ä¸€ä¸ªè¯´è¿™ä¸ªçš„ï¼Œä¸è€ƒè™‘ä¹Ÿèƒ½è¿‡ï¼Œï¼Œå½“ç„¶ä¹Ÿæœ‰å¯èƒ½æˆ‘ç†è§£é”™äº†ï¼Œï¼Œæœ‰çš„è¯ï¼Œæ±‚æŒ‡æ­£ï¼Œï¼Œ</del>åšäº†ä¸‹é¢é‚£é“é¢˜ä¹‹åç¬é—´æ˜ç™½äº†ï¼Œï¼Œï¼Œå»ºå›¾çš„æ—¶å€™é‚£äº›æ—¶é—´ç‚¹ä¹‹é—´éƒ½æšä¸¾åˆ¤æ–­äº†ï¼Œï¼Œä¸æ˜¯ä¸€å¯¹ä¸€å¯¹çš„æšä¸¾ï¼Œï¼Œï¼Œ233ï¼‰</p>
<p>æŠ½è±¡ä¸€ä¸‹å°±æ˜¯ï¼šé¦–å…ˆæˆ‘ä»¬ç”¨ä¸€ä¸ªæ•°ç»„ä¿å­˜æ‰€æœ‰çš„æ—¶é—´ç‚¹ $a<em>k$ï¼Œä¸‹æ ‡ä»0å¼€å§‹åˆ° $2 *n-1$ ï¼Œå…¶ä¸­ $a</em>{2<em>k}, a_{2</em>k+1}$ è¡¨ç¤ºç¬¬kæ¶é£æœºçš„ä¸¤ä¸ªæ—¶é—´ï¼Œï¼Œæˆ‘ä»¬éå†æ¯ä¸€æ¶é£æœºï¼Œ å¦‚æœæ»¡è¶³ $abs(a<em>{ç¬¬iæ¶é£æœºçš„ä¸¤ä¸ªæ—¶é—´} - a</em>{ç¬¬jæ¶é£æœºçš„ä¸¤ä¸ªæ—¶é—´}) \geq x$ ç›¸å½“äºæ˜¯ $p_i-&gt;q_j$ è¿™æ ·çš„é™åˆ¶å…³ç³»ï¼Œï¼Œé‚£ä¹ˆå»ºè¾¹å°±æ˜¯ $p_i-&gt;q_jâ€™$ ä»¥åŠ $q_j-&gt;p_iâ€™$  ï¼Œï¼Œç„¶åè·‘2satåˆ¤æ–­æ˜¯å¦æœ‰è§£ï¼Œï¼Œ</p>
<p>ç„¶åçœ‹xçš„æ±‚æ³•ï¼Œï¼Œ</p>
<blockquote>
<p>æœ€å¤§xxä¸­çš„æœ€å°å€¼ æˆ– æœ€å°xxä¸­çš„æœ€å¤§å€¼ ä¸€èˆ¬éƒ½æ˜¯ç”¨äºŒåˆ†æ¥æšä¸¾è¿™ä¸ªå€¼ï¼Œç„¶ååˆ¤æ–­æ˜¯å¦æ»¡è¶³ä¸€å®šæ¡ä»¶</p>
</blockquote>
<p>æˆ‘ä»¬å¯ä»¥æšä¸¾xï¼Œï¼Œç„¶åç”¨è¿™ä¸ªxæ¥å»ºå›¾è·‘ä¸€ä¸‹åˆ¤æ–­æ˜¯å¦å¯è¡Œæ¥æ±‚å‡ºå…¶æœ€å¤§å€¼ï¼Œï¼Œ</p>
<p><a href="http://www.cnblogs.com/L-Excalibur/p/8513386.html">å‚è€ƒ</a></p>
<p>æˆ‘è¿™ç§å†™æ³•è²Œä¼¼æ—¶é—´å¤æ‚åº¦å¾ˆä¸å¥½ï¼Œï¼Œ6så·¦å³ï¼Œï¼Œemmmä¸çŸ¥é“é‚£é‡Œå†™å´©äº†ï¼Œï¼Œå¯èƒ½æ˜¯é‚£ä¸ªå­˜æ•°æ®çš„vectorçš„é”…ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-comment">// #include &lt;iostream&gt;</span><br><span class="hljs-comment">// #include &lt;cstdio&gt;</span><br><span class="hljs-comment">// #include &lt;cstdlib&gt;</span><br><span class="hljs-comment">// #include &lt;string.h&gt;</span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;queue&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stack&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e7</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, next;<br>&#125;edge[maxm];<br><span class="hljs-keyword">int</span> tot, head[maxm];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].next = head[u];<br>    head[u] = tot++;<br>&#125;<br><br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-keyword">int</span> sta[maxn], top;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(vis[u ^ <span class="hljs-number">1</span>])<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">if</span>(vis[u])<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    vis[u] = <span class="hljs-literal">true</span>;<br>    sta[++top] = u;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].next)<br>        <span class="hljs-keyword">if</span>(!dfs(edge[i].to))<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">twosat</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vis);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i += <span class="hljs-number">2</span>)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(vis[i] || vis[i ^ <span class="hljs-number">1</span>]) <span class="hljs-keyword">continue</span>;<br>        top = <span class="hljs-number">-1</span>;<br>        <span class="hljs-keyword">if</span>(!dfs(i))<br>        &#123;<br>            <span class="hljs-keyword">while</span>(~top)vis[sta[top--]] = <span class="hljs-literal">false</span>;<br>            <span class="hljs-keyword">if</span>(!dfs(i ^ <span class="hljs-number">1</span>))<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-keyword">int</span> n;<br><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; &gt; e;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">abss</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<span class="hljs-keyword">return</span> x &lt; <span class="hljs-number">0</span> ? -x : x;&#125;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">check</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>    init();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; e.size(); ++i)<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = i + <span class="hljs-number">1</span>; j &lt; e.size(); ++j)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(abss(e[i].first - e[j].first) &lt; x)<br>                addedge(i &lt;&lt; <span class="hljs-number">1</span>, j &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>), addedge(j &lt;&lt; <span class="hljs-number">1</span>, i &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>);<br>            <span class="hljs-keyword">if</span>(abss(e[i].first - e[j].second) &lt; x)<br>                addedge(i &lt;&lt; <span class="hljs-number">1</span>, j &lt;&lt; <span class="hljs-number">1</span>), addedge(j &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>, i &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>);<br>            <span class="hljs-keyword">if</span>(abss(e[i].second - e[j].first) &lt; x)<br>                addedge(i &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>, j &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>), addedge(j &lt;&lt; <span class="hljs-number">1</span>, i &lt;&lt; <span class="hljs-number">1</span>);<br>            <span class="hljs-keyword">if</span>(abss(e[i].second - e[j].second) &lt; x)<br>                addedge(i &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>, j &lt;&lt; <span class="hljs-number">1</span>), addedge(j &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>, i &lt;&lt; <span class="hljs-number">1</span>);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(twosat(<span class="hljs-number">2</span> * n))   <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">else</span>                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    <span class="hljs-comment">// ios_base::sync_with_stdio(0);</span><br>    <span class="hljs-comment">// cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">while</span>(~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n))<br>    &#123;<br>        <span class="hljs-keyword">int</span> u, v;<br>        <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; &gt;().swap(e);<br>        e.clear();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;u, &amp;v);<br>            e.push_back(<span class="hljs-built_in">make_pair</span>(u, v));<br>        &#125;<br>        <span class="hljs-keyword">int</span> l = <span class="hljs-number">0</span>, r = <span class="hljs-number">10000001</span>;<br>        <span class="hljs-keyword">int</span> ans;<br>        <span class="hljs-keyword">while</span>(l &lt;= r)<br>        &#123;<br>            <span class="hljs-keyword">int</span> mid = (l + r) &gt;&gt; <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">if</span>(check(mid))l = mid + <span class="hljs-number">1</span>, ans = mid;<br>            <span class="hljs-keyword">else</span>    r = mid - <span class="hljs-number">1</span>;<br>        &#125;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, ans);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;    <br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="HDU-3622-Bomb-Game"><a href="#HDU-3622-Bomb-Game" class="headerlink" title="HDU-3622-Bomb Game"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=3622">HDU-3622-Bomb Game</a></h2><p>è¿™é“é¢˜å’Œä¸Šé¢é‚£é“é¢˜å·®ä¸å¤šï¼Œä¹Ÿæ˜¯äºŒåˆ†æšä¸¾+å»ºå›¾åˆ¤æ–­å¯è¡Œæ€§ï¼Œï¼Œä¸ºäº†ç²¾åº¦å¯ä»¥å…ˆä¸å¼€æ–¹ç›´æ¥æšä¸¾ $(2*r)^2$ çš„å€¼ï¼Œï¼Œï¼Œ</p>
<p>é¢˜æ„å°±æ˜¯nå¯¹å¯ä»¥æ”¾ç½®ç‚¸å¼¹çš„ç‚¹ï¼Œï¼Œé€‰æ‹©æ²¡å¯¹ç‚¹ä¸­çš„ä¸€ä¸ªï¼ŒåŒæ—¶å¯ä»¥ä¸ºæ¯ä¸ªç‚¸å¼¹è®¾ç½®ä¸€ä¸ªçˆ†ç‚¸èŒƒå›´rï¼Œï¼Œä½†æ˜¯æ¯ä¸€ä¸ªç‚¸å¼¹çš„çˆ†ç‚¸èŒƒå›´ä¸èƒ½æ³¢åŠåˆ°å…¶ä»–çš„ç‚¹ï¼Œï¼Œæ±‚ä¸€ä¸ªæœ€å¤§çš„rï¼Œï¼Œï¼Œ</p>
<p>å› ä¸ºå’Œä¸Šé¢é‚£é¢˜å·®ä¸å¤šï¼Œï¼Œç›´æ¥çœ‹ä»£ç å§ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// #include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-comment">// #include &lt;queue&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stack&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e10</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e7</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, next;<br>&#125;edge[maxn];<br><span class="hljs-keyword">int</span> tot, head[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].next = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-keyword">int</span> sta[maxn], top;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(vis[u ^ <span class="hljs-number">1</span>])<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">if</span>(vis[u])<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    vis[u] = <span class="hljs-literal">true</span>;<br>    sta[++top] = u;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].next)<br>        <span class="hljs-keyword">if</span>(!dfs(edge[i].to))<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">twosat</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vis);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i += <span class="hljs-number">2</span>)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(vis[i] || vis[i ^ <span class="hljs-number">1</span>])<span class="hljs-keyword">continue</span>;<br>        top = <span class="hljs-number">-1</span>;<br>        <span class="hljs-keyword">if</span>(!dfs(i))<br>        &#123;<br>            <span class="hljs-keyword">while</span>(~top)vis[sta[top--]] = <span class="hljs-literal">false</span>;<br>            <span class="hljs-keyword">if</span>(!dfs(i ^ <span class="hljs-number">1</span>))<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> x first</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> y second</span><br><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; &gt; c;<br><span class="hljs-keyword">int</span> n;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">int</span> <span class="hljs-title">dis</span><span class="hljs-params">(<span class="hljs-keyword">int</span> i, <span class="hljs-keyword">int</span> j)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> (c[i].x - c[j].x) * (c[i].x - c[j].x) + (c[i].y - c[j].y) * (c[i].y - c[j].y);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">check</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>    init();<br>    <span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> <span class="hljs-literal">false</span>);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">2</span> * n; ++i)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = i + <span class="hljs-number">1</span>; j &lt; <span class="hljs-number">2</span> * n; ++j)<br>            <span class="hljs-keyword">if</span>(dis(i, j) &lt; x)<br>                addedge(i, j ^ <span class="hljs-number">1</span>), addedge(j, i ^ <span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">if</span>(twosat(<span class="hljs-number">2</span> * n))<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    <span class="hljs-comment">// ios_base::sync_with_stdio(0);</span><br>    <span class="hljs-comment">// cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-comment">// int k = 2e9;</span><br>    <span class="hljs-comment">// cout &lt;&lt; k &lt;&lt; endl;</span><br>    <span class="hljs-keyword">while</span>(~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n))<br>    &#123;<br>        <span class="hljs-keyword">int</span> x, y;<br>        c.clear();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;x, &amp;y);<br>            c.push_back(<span class="hljs-built_in">make_pair</span>(x, y));<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;x, &amp;y);<br>            c.push_back(<span class="hljs-built_in">make_pair</span>(x, y));<br>        &#125;<br>        <span class="hljs-keyword">int</span> l = <span class="hljs-number">0</span>, r = inf;<br>        <span class="hljs-keyword">while</span>(l &lt; r)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(l + <span class="hljs-number">1</span> == r)<span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">int</span> mid = (l + r) &gt;&gt; <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">if</span>(check(mid))l = mid;<br>            <span class="hljs-keyword">else</span> r = mid;<br>        &#125;<br>        <span class="hljs-keyword">double</span> ans = <span class="hljs-built_in">sqrt</span>(l) / <span class="hljs-number">2.0</span>;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%.2f\n&quot;</span>, ans);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;    <br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="HDU-4115"><a href="#HDU-4115" class="headerlink" title="HDU-4115"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=4115">HDU-4115</a></h2><p>è¿™é“é¢˜æ˜¯åˆ©ç”¨2satåˆ¤æ–­æ˜¯å¦æœ‰è§£ï¼Œï¼Œï¼Œ</p>
<p>é¢˜æ„å°±æ˜¯ä¸¤äººç©çŸ³å¤´å‰ªåˆ€å¸ƒï¼Œä¸€å…±ç©nè½®ï¼Œï¼Œå…¶ä¸­ä¸€ä¸ªäºº <del>ä¼˜å‰æ¬§</del> bobçš„å‡ºæ‰‹æƒ…å†µç»™ä½ ï¼Œï¼Œ</p>
<p>ç„¶åå¯¹äºå¦ä¸€ä¸ªäººçˆ±ä¸½ä¸å¥¹æœ‰ä¸€äº›æ¯è½®ä¹‹é—´å‡ºæ‰‹çš„é™åˆ¶æƒ…å†µï¼Œk==0æ—¶è¡¨ç¤ºaè½®ä¸bè½®çš„å‡ºæ‰‹è¦ä¸€è‡´ï¼Œä¸º1æ—¶è¡¨ç¤ºå‡ºæ‰‹è¦ä¸ä¸€æ ·ï¼Œï¼Œé—®ä½ çˆ±ä¸½ä¸æœ‰æ²¡æœ‰èµ¢çš„æƒ…å†µï¼Œï¼Œï¼Œ</p>
<p>è¿™ç§é¢˜ä¸€èˆ¬éƒ½æ˜¯å»ºå›¾éº»çƒ¦ä¸€äº›ï¼Œï¼Œåè€Œ2satç®—æ³•æœ¬èº«ä¸ä¼šæœ‰å¤§çš„æ”¹å˜ï¼Œå½“å‡½æ•°è°ƒç”¨å°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
<p>æˆ‘ä¸€å¼€å§‹æƒ³ç€ï¼Œp==qçš„é™åˆ¶æ¡ä»¶å¯ä¸å¯ä»¥ç›´æ¥è¿ä¸€æ¡p-&gt;qçš„è¾¹ï¼Œä¸ç­‰å°±åƒä¹‹å‰é‚£æ ·ç”¨é€†å¦å»ºä¸¤æ¡è¾¹ï¼Œï¼Œï¼Œç„¶åä¸€ç›´æœ‰é—®é¢˜ï¼Œï¼Œï¼Œåæ¥çœ‹äº†åˆ«äººçš„æ–¹æ³•å‘ç°åˆ«äººéƒ½æ˜¯åœ¨k==0æ—¶æ‰¾ä¸ç­‰çš„ï¼Œç„¶åå»ºä¸¤æ¡è¾¹ï¼Œç­‰äºä¸€çš„æ—¶å€™æ‰¾ç›¸ç­‰çš„ï¼Œå»ºä¸¤æ¡è¾¹ï¼Œï¼Œï¼Œï¼Œå°±æ˜¯å»æ‰¾æ‰€æœ‰çš„ <strong>çŸ›ç›¾é¡¹</strong> ï¼Œï¼Œemmm</p>
<p>åæ¥æˆ‘æ€»è§‰å¾—å¯ä»¥ç›´æ¥åˆ©ç”¨éƒ½é€‰çš„æ¡ä»¶å»ºå›¾ï¼Œï¼Œï¼Œæœ€åæ‰¾åˆ°ä¸€ä¸ª<a href="https://blog.csdn.net/waitfor_/article/details/8038894">åšå®¢ï¼ˆ12å¹´çš„ï¼Œï¼Œï¼Œï¼‰</a>ï¼Œï¼Œé‡Œé¢æåˆ°å¯ä»¥ç”¨å¿…é€‰é¡¹æ¥å»ºå›¾ï¼Œï¼Œå°±æ˜¯æœ€åçš„å»ºå›¾æœ‰äº›éº»çƒ¦ï¼Œï¼Œå¥½è´¹åŠ²å‘ï¼Œï¼Œè¿™ç§å»ºå›¾çš„æ–¹æ³•å¤§æ¦‚æ˜¯ï¼šå¯¹äºè¦æ±‚ç›¸ç­‰çš„ä¸¤ç»„ï¼Œæ‰¾åˆ°ç›¸ç­‰çš„å‡ºæ‰‹çš„è¯ï¼Œå°±å»ºä¸€æ¡åŒå‘è¾¹ï¼Œå› ä¸ºä¸€ç»„é‡Œè‚¯å®šä¸åŒï¼Œæ‰€ä»¥åªéœ€åˆ¤æ–­å…¶ä¸­ä¸€ä¸ªï¼Œï¼Œå¦‚æœæ²¡æœ‰å°±è¿åˆ°å®ƒçš„å¯¹ç«‹é¢ï¼Œï¼Œå¯¹äºä¸è¦æ±‚ç›¸ç­‰çš„ä¸¤ç»„ï¼Œï¼Œå°±æ‰¾çŸ›ç›¾çš„æ¡ä»¶å»ºä¸¤æ¡è¾¹ï¼Œï¼Œï¼Œï¼ˆå…¶å®è¿˜æ˜¯ç›´æ¥æ‰¾çŸ›ç›¾é¡¹å»ºå›¾æ–¹ä¾¿ä¸€äº›ï¼Œï¼Œï¼Œï¼Œï¼Œ</p>
<p>æœ€åæ³¨æ„ä¸€ä¸‹ç»†èŠ‚ï¼Œï¼Œï¼Œaäº†ä¸€æ¬¡ä¹‹åå°è¯•æ”¹çš„å¥½çœ‹ä¸€äº›ï¼Œç„¶ååœ¨ç»†ç»†ç¢ç¢çš„åœ°æ–¹waäº†å‡ æ¬¡</p>
<h3 id="çŸ›ç›¾é¡¹"><a href="#çŸ›ç›¾é¡¹" class="headerlink" title="çŸ›ç›¾é¡¹"></a>çŸ›ç›¾é¡¹</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// #include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-comment">// #include &lt;queue&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stack&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e10</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e7</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, next;<br>&#125;edge[maxn];<br><span class="hljs-keyword">int</span> tot, head[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].next = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-keyword">int</span> sta[maxn], top;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(vis[u ^ <span class="hljs-number">1</span>])<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">if</span>(vis[u])<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    vis[u] = <span class="hljs-literal">true</span>;<br>    sta[++top] = u;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].next)<br>        <span class="hljs-keyword">if</span>(!dfs(edge[i].to))<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">twosat</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vis);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i += <span class="hljs-number">2</span>)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(vis[i] || vis[i ^ <span class="hljs-number">1</span>])<span class="hljs-keyword">continue</span>;<br>        top = <span class="hljs-number">-1</span>;<br>        <span class="hljs-keyword">if</span>(!dfs(i))<br>        &#123;<br>            <span class="hljs-keyword">while</span>(~top)vis[sta[top--]] = <span class="hljs-literal">false</span>;<br>            <span class="hljs-keyword">if</span>(!dfs(i ^ <span class="hljs-number">1</span>))<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> a, b, c;<br>&#125;node[maxn];<br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-keyword">int</span> a[maxn], b[maxn];<br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">void</span> <span class="hljs-title">f</span><span class="hljs-params">(<span class="hljs-keyword">int</span> i, <span class="hljs-keyword">bool</span> cnt)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(((<span class="hljs-keyword">bool</span>)(a[node[i].a] - a[node[i].b])) == cnt)addedge(node[i].a, node[i].b ^ <span class="hljs-number">1</span>), addedge(node[i].b, node[i].a ^ <span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">if</span>(((<span class="hljs-keyword">bool</span>)(a[node[i].a] - a[node[i].b ^ <span class="hljs-number">1</span>])) == cnt)addedge(node[i].a, node[i].b), addedge(node[i].b ^ <span class="hljs-number">1</span>, node[i].a ^ <span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">if</span>(((<span class="hljs-keyword">bool</span>)(a[node[i].a ^ <span class="hljs-number">1</span>] - a[node[i].b])) == cnt)addedge(node[i].a ^ <span class="hljs-number">1</span>, node[i].b ^ <span class="hljs-number">1</span>), addedge(node[i].b, node[i].a);<br>    <span class="hljs-keyword">if</span>(((<span class="hljs-keyword">bool</span>)(a[node[i].a ^ <span class="hljs-number">1</span>] - a[node[i].b ^ <span class="hljs-number">1</span>])) == cnt)addedge(node[i].a ^ <span class="hljs-number">1</span>, node[i].b), addedge(node[i].b ^ <span class="hljs-number">1</span>, node[i].a);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">solve</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    init();<br>    <span class="hljs-comment">//~~è¿™æ ·å†™è¿˜ä¼šå˜æ…¢ï¼Œï¼Œï¼Œï¼Œï¼Œemmmm~~æ¢æˆinlineå°±è¡Œäº†ï¼Œï¼Œï¼Œï¼Œ</span><br>    <span class="hljs-comment">// for(int i = 1; i &lt;= m; ++i)</span><br>    <span class="hljs-comment">// &#123;</span><br>    <span class="hljs-comment">//     if(node[i].c)</span><br>    <span class="hljs-comment">//         f(i, false);</span><br>    <span class="hljs-comment">//     else    </span><br>    <span class="hljs-comment">//         f(i, true);</span><br>    <span class="hljs-comment">// &#125;</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(node[i].c)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(a[node[i].a] == a[node[i].b])addedge(node[i].a, node[i].b ^ <span class="hljs-number">1</span>), addedge(node[i].b, node[i].a ^ <span class="hljs-number">1</span>);<br>            <span class="hljs-keyword">if</span>(a[node[i].a] == a[node[i].b ^ <span class="hljs-number">1</span>])addedge(node[i].a, node[i].b), addedge(node[i].b ^ <span class="hljs-number">1</span>, node[i].a ^ <span class="hljs-number">1</span>);<span class="hljs-comment">///////////////</span><br>            <span class="hljs-keyword">if</span>(a[node[i].a ^ <span class="hljs-number">1</span>] == a[node[i].b])addedge(node[i].a ^ <span class="hljs-number">1</span>, node[i].b ^ <span class="hljs-number">1</span>), addedge(node[i].b, node[i].a);<br>            <span class="hljs-keyword">if</span>(a[node[i].a ^ <span class="hljs-number">1</span>] == a[node[i].b ^ <span class="hljs-number">1</span>])addedge(node[i].a ^ <span class="hljs-number">1</span>, node[i].b), addedge(node[i].b ^ <span class="hljs-number">1</span>, node[i].a);<br>            <span class="hljs-comment">// f(i, true);</span><br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-keyword">if</span>(a[node[i].a] != a[node[i].b])addedge(node[i].a, node[i].b ^ <span class="hljs-number">1</span>), addedge(node[i].b, node[i].a ^ <span class="hljs-number">1</span>);<br>            <span class="hljs-keyword">if</span>(a[node[i].a] != a[node[i].b ^ <span class="hljs-number">1</span>])addedge(node[i].a, node[i].b), addedge(node[i].b ^ <span class="hljs-number">1</span>, node[i].a ^ <span class="hljs-number">1</span>);<br>            <span class="hljs-keyword">if</span>(a[node[i].a ^ <span class="hljs-number">1</span>] != a[node[i].b])addedge(node[i].a ^ <span class="hljs-number">1</span>, node[i].b ^ <span class="hljs-number">1</span>), addedge(node[i].b, node[i].a);<br>            <span class="hljs-keyword">if</span>(a[node[i].a ^ <span class="hljs-number">1</span>] != a[node[i].b ^ <span class="hljs-number">1</span>])addedge(node[i].a ^ <span class="hljs-number">1</span>, node[i].b), addedge(node[i].b ^ <span class="hljs-number">1</span>, node[i].a);<br>            <br>            <span class="hljs-comment">// f(i, false);</span><br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(twosat(n * <span class="hljs-number">2</span>))<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><br><span class="hljs-comment">// bool solve()</span><br><span class="hljs-comment">// &#123;</span><br><span class="hljs-comment">//     init();</span><br><span class="hljs-comment">//     for(int i = 1; i &lt;= m; ++i)</span><br><span class="hljs-comment">//     &#123;</span><br><span class="hljs-comment">//         if(node[i].c)</span><br><span class="hljs-comment">//         &#123;</span><br><span class="hljs-comment">//             if(a[node[i].a] == a[node[i].b])addedge(node[i].a, node[i].b ^ 1), addedge(node[i].b, node[i].a ^ 1);</span><br><span class="hljs-comment">//             else if(a[node[i].a] == a[node[i].b ^ 1])addedge(node[i].a, node[i].b), addedge(node[i].b ^ 1, node[i].a ^ 1);</span><br><span class="hljs-comment">//             if(a[node[i].a ^ 1] == a[node[i].b])addedge(node[i].a ^ 1, node[i].b ^ 1), addedge(node[i].b, node[i].a);</span><br><span class="hljs-comment">//             else if(a[node[i].a ^ 1] == a[node[i].b ^ 1])addedge(node[i].a ^ 1, node[i].b), addedge(node[i].b ^ 1, node[i].a);</span><br><span class="hljs-comment">//         &#125;</span><br><span class="hljs-comment">//         else</span><br><span class="hljs-comment">//         &#123;</span><br><span class="hljs-comment">//             if(a[node[i].a] == a[node[i].b])addedge(node[i].a, node[i].b), addedge(node[i].b, node[i].a);</span><br><span class="hljs-comment">//             else if(a[node[i].a] == a[node[i].b ^ 1])addedge(node[i].a, node[i].b ^ 1), addedge(node[i].b ^ 1, node[i].a);</span><br><span class="hljs-comment">//             else addedge(node[i].a, node[i].a ^ 1);</span><br><br><span class="hljs-comment">//             if(a[node[i].a ^ 1] == a[node[i].b])addedge(node[i].a ^ 1, node[i].b), addedge(node[i].b, node[i].a ^ 1);</span><br><span class="hljs-comment">//             else if(a[node[i].a ^ 1] == a[node[i].b ^ 1])addedge(node[i].a ^ 1, node[i].b ^ 1), addedge(node[i].b ^ 1, node[i].a ^ 1);</span><br><span class="hljs-comment">//             else addedge(node[i].a ^ 1, node[i].a);</span><br><br><span class="hljs-comment">//             if(a[node[i].b] != a[node[i].a] &amp;&amp; a[node[i].b] != a[node[i].a ^ 1])addedge(node[i].b, node[i].b ^ 1);</span><br><span class="hljs-comment">//             if(a[node[i].b ^ 1] != a[node[i].a] &amp;&amp; a[node[i].b ^ 1] != a[node[i].a ^ 1])addedge(node[i].b ^ 1, node[i].b);</span><br><span class="hljs-comment">//         &#125;</span><br><span class="hljs-comment">//     &#125;</span><br><span class="hljs-comment">//     if(twosat(n * 2))return true;</span><br><span class="hljs-comment">//     return false;</span><br><span class="hljs-comment">// &#125;</span><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">getb</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(x == <span class="hljs-number">1</span>)<span class="hljs-keyword">return</span> <span class="hljs-number">2</span>;<br>    <span class="hljs-keyword">if</span>(x == <span class="hljs-number">2</span>)<span class="hljs-keyword">return</span> <span class="hljs-number">3</span>;<br>    <span class="hljs-keyword">if</span>(x == <span class="hljs-number">3</span>)<span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    <span class="hljs-comment">// ios_base::sync_with_stdio(0);</span><br>    <span class="hljs-comment">// cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">int</span> t;<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;t);<br>    <span class="hljs-keyword">int</span> cnt = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(t--)<br>    &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i)<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a[i &lt;&lt; <span class="hljs-number">1</span>]);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>, &amp;node[i].a, &amp;node[i].b, &amp;node[i].c);<br>            --node[i].a;--node[i].b;<br>            node[i].a &lt;&lt;= <span class="hljs-number">1</span>;node[i].b &lt;&lt;= <span class="hljs-number">1</span>;<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i)<br>            a[i &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>] = getb(a[i &lt;&lt; <span class="hljs-number">1</span>]);<br>        <span class="hljs-keyword">if</span>(solve())<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Case #%d: yes\n&quot;</span>, cnt++);<br>        <span class="hljs-keyword">else</span>       <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Case #%d: no\n&quot;</span>, cnt++);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;    <br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="poj-3678-Katu-Puzzle"><a href="#poj-3678-Katu-Puzzle" class="headerlink" title="poj-3678-Katu Puzzle"></a><a href="http://poj.org/problem?id=3678">poj-3678-Katu Puzzle</a></h2><p>ä¸€é“ç»å…¸é¢˜ï¼Œï¼Œ</p>
<p>é¢˜æ„å°±æ˜¯æ±‚ä¸€ä¸ª01åºåˆ—æ˜¯å¦æœ‰è§£ï¼Œå…¶ä¸­ä¸€äº›ä½ç½®é—´çš„å…³ç³»é™å®šäº†ï¼Œï¼Œï¼Œ</p>
<p>é‡ç‚¹æ˜¯å»ºå›¾ï¼š</p>
<p>é¦–å…ˆå®šä¹‰é€‰aä¸º0ï¼Œé€‰aâ€™ä¸º1ï¼Œé‚£ä¹ˆï¼š</p>
<ul>
<li>$a \ AND \ b = 1$: è¡¨ç¤ºabéƒ½å¿…é¡»ä¸º1ï¼Œï¼Œæ‰€ä»¥ $a = 0$ çš„æ—¶å€™å°±è¦è®©å…¶çŸ›ç›¾ä¹Ÿå°±æ˜¯æŒ‡åˆ° $a = 1$ï¼Œä¹Ÿå°±æ˜¯ <code>a-&gt;a&#39;</code>ï¼ŒåŒç†bä¹Ÿæ˜¯ï¼Œ<code>b-&gt;b&#39;</code>;</li>
<li>$a \ AND \ b = 0$: è¡¨ç¤ºabä¸­è‡³å°‘ä¸€ä¸ªä¸ºé›¶ï¼Œæ‰€ä»¥ å½“ $a=0$ æ—¶ä¸€å®šæˆç«‹ï¼Œä¸ç”¨ç®¡ï¼Œå½“ $a=1$æ—¶bå¿…é¡»ä¸º0ï¼Œä¹Ÿå°±æ˜¯ <code>a&#39;-&gt;b</code>;åŒç†å¯¹äºbä¹Ÿæ˜¯å¦‚æ­¤ï¼Œï¼Œ<code>b&#39;-a</code>;</li>
<li>$a \ OR \ b = 1$: è¡¨ç¤ºabä¸­è‡³å°‘ä¸€ä¸ªä¸º1ï¼Œæ‰€ä»¥å½“ $a=0$ çš„æ—¶å€™bä¸€å®šä¸º1ï¼Œ åŠ è¾¹ <code>a-&gt;b&#39;</code>ï¼Œï¼Œ$a=1$ çš„æ—¶å€™å·²ç»ä¸º1ä¸ç”¨ç®¡ï¼ŒåŒç†å¯¹äºbæ¥è¯´å°±æ˜¯åŠ è¾¹ <code>b-&gt;a&#39;</code>;</li>
<li>$a \ OR \ b = 0$: è¡¨ç¤ºabéƒ½å¿…é¡»ä¸ºé›¶ï¼Œå’Œæœ€ä¸Šé¢é‚£ä¸ªä¸€æ ·ï¼Œ$a=1$ çš„æ—¶å€™ä¸€å®šä¸æˆç«‹ï¼Œæ‰€ä»¥è¦è®©å®ƒçŸ›ç›¾ï¼ŒåŠ è¾¹ <code>a&#39;-&gt;a</code>ï¼Œ åŒç†åŠ è¾¹ ``bâ€™-&gt;b</li>
<li>$a \ XOR \ b = 1$: è¡¨ç¤ºabä¸åŒï¼Œå››ç§æƒ…å†µï¼š $a=0,b=1$: <code>a-&gt;b&#39;</code>; $a=1,b=0$: <code>a&#39;-&gt;b</code>; $b=0,a=1$: <code>b-&gt;a&#39;</code>; $b=1,a=0$: <code>b&#39;-&gt;a</code>;</li>
<li>$a \ XOR \ b = 0$: å’Œä¸Šé¢ç›¸åçš„å››ç§æƒ…å†µï¼š$a=0,b=0$: <code>a-&gt;b</code>; $a=1,b=1$: <code>a&#39;-&gt;b&#39;</code>; $b=0,a=0$: <code>b-&gt;a</code>; $b=1,a=1$: <code>b&#39;-&gt;a&#39;</code>;</li>
</ul>
<p>æŒ‰ç…§ä¸Šé¢çš„å»ºå›¾å°±è¡Œäº†ï¼Œï¼Œ</p>
<p><a href="https://blog.csdn.net/kk303/article/details/9734729">å‚è€ƒ1</a></p>
<p>ä¹‹å‰åšé¢˜éƒ½æ˜¯æ‰¾çŸ›ç›¾è¾¹ï¼Œï¼Œä½†è¿™é“é¢˜æ‰¾çŸ›ç›¾è¾¹å¾ˆéº»çƒ¦ï¼Œï¼Œç›´æ¥æ‰¾æ»¡è¶³é¢˜æ„çš„è¾¹å°±è¡Œäº†ï¼Œï¼Œï¼ˆè²Œä¼¼è¦ä¿è¯æ—¶å¯¹ç§°çš„å›¾ï¼Ÿï¼Ÿï¼Ÿ</p>
<p>åŒæ—¶åƒ $a=1,b=1$ è¿™ç§éƒ½é€‰é¡¹å¯ä»¥æ‹†åˆ†æˆä¸¤ä¸ªæ¥åšï¼š$a \bigwedge b=1 \implies (a \bigvee a) \bigwedge (b \bigvee b) = 1$ ç„¶åå°±å¯ä»¥æ‹†æˆï¼› $a \bigvee a = 1 , b \bigvee b = 1$ï¼Œï¼ˆaä¸º1ï¼Œbä¸º1ï¼‰ï¼Œï¼Œ ç„¶åå»ºè¾¹ <code>a-&gt;a&#39;</code> å’Œ <code>b-&gt;b&#39;</code>ï¼›</p>
<p><a href="https://www.cnblogs.com/vongang/archive/2012/02/15/2352246.html">å‚è€ƒ2</a></p>
<p><a href="https://blog.csdn.net/u011815404/article/details/84978199">å‚è€ƒ3</a></p>
<p><a href="https://blog.csdn.net/uuuououlcz/article/details/41245851">è¿™ä¸ªè²Œä¼¼æ˜¯ç”¨çš„çŸ›ç›¾é¡¹+å¿…é€‰é¡¹åšçš„</a></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// #include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-comment">// #include &lt;queue&gt;</span><br><span class="hljs-comment">// #include &lt;stack&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e10</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e7</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, next;<br>&#125;edge[maxn];<br><span class="hljs-keyword">int</span> tot, head[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].next = head[u];<br>    head[u] = tot++;<br>    <span class="hljs-comment">//cout &lt;&lt; u &lt;&lt; &quot;-&gt;&quot; &lt;&lt; v &lt;&lt; endl;</span><br>&#125;<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-keyword">int</span> sta[maxn], top;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(vis[u ^ <span class="hljs-number">1</span>])<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">if</span>(vis[u])<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    vis[u] = <span class="hljs-literal">true</span>;<br>    sta[++top] = u;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].next)<br>        <span class="hljs-keyword">if</span>(!dfs(edge[i].to))<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">twosat</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vis);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i += <span class="hljs-number">2</span>)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(vis[i] || vis[i ^ <span class="hljs-number">1</span>])<span class="hljs-keyword">continue</span>;<br>        top = <span class="hljs-number">-1</span>;<br>        <span class="hljs-keyword">if</span>(!dfs(i))<br>        &#123;<br>            <span class="hljs-keyword">while</span>(~top)vis[sta[top--]] = <span class="hljs-literal">false</span>;<br>            <span class="hljs-keyword">if</span>(!dfs(i ^ <span class="hljs-number">1</span>))<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    <span class="hljs-comment">// ios_base::sync_with_stdio(0);</span><br>    <span class="hljs-comment">// cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">int</span> n, m;<br>    <span class="hljs-keyword">while</span>(~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n, &amp;m))<br>    &#123;<br>        <span class="hljs-keyword">int</span> a, b, c;<br>        <span class="hljs-keyword">char</span> s[<span class="hljs-number">10</span>];<br>        init();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d%s&quot;</span>, &amp;a, &amp;b, &amp;c, s);<br>            <span class="hljs-keyword">if</span>(s[<span class="hljs-number">0</span>] == <span class="hljs-string">&#x27;A&#x27;</span>)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(c)<br>                &#123;<br>                    addedge(a &lt;&lt; <span class="hljs-number">1</span>, a &lt;&lt; <span class="hljs-number">1</span> ^ <span class="hljs-number">1</span>);    <span class="hljs-comment">//a^b=1 =&gt; (a ! a) ^ (b ! b) =&gt; a -&gt; a&#x27;, b -&gt; b&#x27;</span><br>                    addedge(b &lt;&lt; <span class="hljs-number">1</span>, b &lt;&lt; <span class="hljs-number">1</span> ^ <span class="hljs-number">1</span>);<br>                &#125;<br>                <span class="hljs-keyword">else</span><br>                &#123;<br>                    addedge(a &lt;&lt; <span class="hljs-number">1</span> ^ <span class="hljs-number">1</span>, b &lt;&lt; <span class="hljs-number">1</span>);    <span class="hljs-comment">//a^b=0 =&gt; a -&gt; b&#x27;(01), b -&gt; a&#x27;(10)</span><br>                    addedge(b &lt;&lt; <span class="hljs-number">1</span> ^ <span class="hljs-number">1</span>, a &lt;&lt; <span class="hljs-number">1</span>);<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(s[<span class="hljs-number">0</span>] == <span class="hljs-string">&#x27;O&#x27;</span>)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(c)<br>                &#123;<br>                    addedge(a &lt;&lt; <span class="hljs-number">1</span>, b &lt;&lt; <span class="hljs-number">1</span> ^ <span class="hljs-number">1</span>);<br>                    addedge(b &lt;&lt; <span class="hljs-number">1</span>, a &lt;&lt; <span class="hljs-number">1</span> ^ <span class="hljs-number">1</span>);<br>                &#125;<br>                <span class="hljs-keyword">else</span><br>                &#123;<br>                    addedge(a &lt;&lt; <span class="hljs-number">1</span> ^ <span class="hljs-number">1</span>, a &lt;&lt; <span class="hljs-number">1</span>);<br>                    addedge(b &lt;&lt; <span class="hljs-number">1</span> ^ <span class="hljs-number">1</span>, b &lt;&lt; <span class="hljs-number">1</span>);<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                <span class="hljs-keyword">if</span>(c)<br>                &#123;<br>                    addedge(a &lt;&lt; <span class="hljs-number">1</span>, b &lt;&lt; <span class="hljs-number">1</span> ^ <span class="hljs-number">1</span>);<br>                    addedge(a &lt;&lt; <span class="hljs-number">1</span> ^ <span class="hljs-number">1</span>, b &lt;&lt; <span class="hljs-number">1</span>);<br>                    addedge(b &lt;&lt; <span class="hljs-number">1</span> ^ <span class="hljs-number">1</span>, a &lt;&lt; <span class="hljs-number">1</span>);<br>                    addedge(b &lt;&lt; <span class="hljs-number">1</span>, a &lt;&lt; <span class="hljs-number">1</span> ^ <span class="hljs-number">1</span>);<br>                &#125;<br>                <span class="hljs-keyword">else</span><br>                &#123;<br>                    addedge(a &lt;&lt; <span class="hljs-number">1</span> ^ <span class="hljs-number">1</span>, b &lt;&lt; <span class="hljs-number">1</span> ^ <span class="hljs-number">1</span>);<br>                    addedge(b &lt;&lt; <span class="hljs-number">1</span> ^ <span class="hljs-number">1</span>, a &lt;&lt; <span class="hljs-number">1</span> ^ <span class="hljs-number">1</span>);<br>                    addedge(a &lt;&lt; <span class="hljs-number">1</span>, b &lt;&lt; <span class="hljs-number">1</span>);<br>                    addedge(b &lt;&lt; <span class="hljs-number">1</span>, a &lt;&lt; <span class="hljs-number">1</span>);<br>                &#125;<br>            &#125;<br>        &#125;<br>        <br>        <span class="hljs-keyword">if</span>(twosat(<span class="hljs-number">2</span> * n))<span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;YES&quot;</span>);<br>        <span class="hljs-keyword">else</span>             <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;NO&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;    <br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="å¤„å¥³åº§ä¸å®è—"><a href="#å¤„å¥³åº§ä¸å®è—" class="headerlink" title="å¤„å¥³åº§ä¸å®è—"></a><a href="https://ac.nowcoder.com/acm/contest/327/F">å¤„å¥³åº§ä¸å®è—</a></h2><p>ä¸€åˆ‡çš„èµ·å› ï¼Œå¾ˆæ—©ä¹‹å‰å°±å¬è¯´è¿‡2satï¼Œç„¶ååœ¨å¯’å‡çš„é‚£æ¬¡ç‰›å®¢ä¸Šç¢°åˆ°äº†è¿™é¢˜ï¼Œï¼Œç„¶åæƒ³ç€è¦å­¦ä¼š2satï¼Œï¼Œï¼Œå‘ç°é‚£æ—¶æˆ‘ tarjan æ²¡å­¦è¿‡ï¼Œï¼Œäºæ˜¯è·‘å»å­¦ tarjan ï¼Œï¼Œç„¶åå°±ä¸€ç›´æ‹–æ‹–åˆ°äº†ä¸Šä¸ªæ˜ŸæœŸï¼Œæ‰é‡æ–°æ¡èµ·æ¥çœ‹ï¼Œï¼Œï¼Œ</p>
<p>è¿™é“é¢˜å’Œä¸Šé¢é‚£å‡ é¢˜ç›¸æ¯”ï¼Œæœ€å¤§çš„ä¸åŒæ˜¯ <strong>å»ºå›¾</strong> ï¼Œï¼Œè¿™é“é¢˜2satåªæ˜¯ä¸€ä¸ªè¾…åŠ©çš„åˆ¤æ–­å·¥å…·ï¼Œä½†æ˜¯å»ºå›¾çš„æ–¹æ³•é¢˜ç›®é‡Œæ²¡æœ‰æ˜è¯´ï¼Œå¾—è‡ªå·±å»æƒ³å‡ºæ¥å…¶ä¸­çš„å…³ç³»ã€‚ã€‚</p>
<p>é¢˜æ„ï¼š æœ‰è¿™ä¹ˆnä¸ªå®è—ï¼Œè¿˜æœ‰mä¸ªå¼€å…³ï¼ŒæŒ‰ä¸‹å¼€å…³ï¼Œå¯¹åº”æ§åˆ¶çš„å®è—çš„çŠ¶æ€å°±ä¼šæ”¹å˜ï¼Œç„¶åé—®ä½ æ˜¯å¦æœ‰å®è—å…¨å¼€çš„è§£ï¼Œï¼Œæ¯ä¸ªå¼€å…³ä¼šæ§åˆ¶kä¸ªå®ç®±ï¼Œï¼Œ</p>
<p><strong>æœ€åç›¸å½“äºæ˜¯æ±‚ä¸€ä¸ªå¼€å…³çš„é€‰æ‹©åºåˆ—(æ¯”å¦‚è¯´0æ˜¯ä¸æŒ‰,1æ˜¯è¡¨ç¤ºæŒ‰ä¸‹)</strong> ï¼Œï¼Œæ‰€ä»¥æœ€åå®ç®±çš„èµ·å§‹çŠ¶æ€åªæ˜¯ç”¨æ¥è®©æˆ‘ä»¬é™åˆ¶å¼€å…³é€‰æ‹©çš„é™åˆ¶æ¡ä»¶ï¼Œå¤§è‡´çš„æ€æƒ³å°±æ˜¯ï¼š<em>å¦‚æœèµ·å§‹çŠ¶æ€æ˜¯æ‰“å¼€çš„ï¼Œå¯¹åº”å¼€å…³çš„é€‰æ‹©å°±æ˜¯ <strong>æŒ‰ä¸‹-&gt;ä¸æŒ‰</strong> è¡¨ç¤ºé€‰æ‹©ä¸æŒ‰çš„æƒ…å†µ;ç›¸åçš„å°±æ˜¯ <strong>ä¸æŒ‰-&gt;æŒ‰ä¸‹</strong> ;</em></p>
<p>åŸºäºè¿™ä¸ªæ€æƒ³ï¼Œæˆ‘ä»¬è¦é¢„å¤„ç†ä¸€ä¸‹å¼€å…³ï¼Œï¼Œå› ä¸ºé¢˜ç›®æ˜¯ç»™çš„ç¬¬iä¸ªå¼€å…³æ§åˆ¶çš„kä¸ªå®è—ï¼Œè€Œæˆ‘ä»¬å»ºå›¾çš„æ—¶å€™æ˜¯è¦ <em>æ ¹æ®ç¬¬iä¸ªå®è—è¢«ä¸€äº›å¼€å…³æ§åˆ¶çš„æƒ…å†µ</em> æ¥å¾—å‡ºé™åˆ¶æ¡ä»¶ã€‚</p>
<p>æœ€åè¯´ä¸€ä¸‹å»ºå›¾çš„æ–¹æ³•ï¼š<br>å¦‚æœç”¨ $u_i$ è¡¨ç¤ºç¬¬iä¸ªå¼€å…³çš„é€‰æ‹©ä¸æŒ‰çš„æƒ…å†µï¼Œ$u_i+1$ å°±è¡¨ç¤ºç¬¬iä¸ªå¼€å…³é€‰æ‹©æŒ‰ä¸‹çš„æƒ…å†µï¼Œé‚£ä¹ˆï¼š</p>
<ul>
<li>å¯¹äºæ²¡æœ‰å¼€å…³æ§åˆ¶çš„å®ç®±ï¼Œå¦‚æœèµ·å§‹çŠ¶æ€æ˜¯æ‰“å¼€çš„ï¼Œé‚£ä¹ˆè¿™ä¸ªå®ç®±å°±ä¸ç®¡äº†ï¼Œï¼Œä½†å¦‚æœæ˜¯å…³é—­çš„ï¼Œå› ä¸ºæ²¡æœ‰å¼€å…³ä¼šæ§åˆ¶å®ƒï¼Œæ‰€ä»¥å®ƒæ— è®ºå¦‚ä½•éƒ½æ˜¯å…³é—­çš„ï¼Œæ­¤æ—¶æ˜¯æ— è§£çš„;</li>
<li>å¯¹äºåªæœ‰ä¸€ä¸ªå¼€å…³æ§åˆ¶çš„å®ç®±ï¼Œå¦‚æœèµ·å§‹çŠ¶æ€æ˜¯æ‰“å¼€çš„ï¼Œé‚£æˆ‘å¿…é¡»é€‰æ‹©å¯¹åº”çš„å¼€å…³ä¸º <strong>ä¸æŒ‰</strong> çš„æƒ…å†µï¼Œä¹Ÿå°±æ˜¯ <code>u^1-&gt;u</code>; åŒç†å¯¹ç«‹çš„æƒ…å†µå°±æ˜¯ï¼š <code>u-&gt;u^1</code>;</li>
<li>å¯¹äºä¸¤ä¸ªå¼€å…³æ§åˆ¶çš„å®ç®±ï¼Œå¦‚æœèµ·å§‹çŠ¶æ€æ˜¯æ‰“å¼€çš„ï¼Œå’Œä¸Šé¢ä¸€æ ·ï¼Œæˆ‘å¿…é¡»ä¿è¯å¼€å…³çš„å˜åŠ¨ä¹‹åè¿˜æ˜¯æ‰“å¼€çš„ï¼Œæ‰€ä»¥ä¸€å…±æœ‰2ç§æƒ…å†µï¼šä¸¤ä¸ªéƒ½ä¸æŒ‰ï¼Œä¸¤ä¸ªéƒ½æŒ‰ä¸‹ï¼Œä¸€å…±æ˜¯å»º4æ¡è¾¹ï¼š <code>u-&gt;v</code> , <code>v-&gt;u</code> , <code>u^1-&gt;v^1</code> , <code>v^1-&gt;u^1</code>; åŒç†å¯ä»¥å¾—å‡ºå¯¹ç«‹é¢å°±è¦ä¿è¯è¦æŒ‰ä¸‹ä¸€ä¸ªå¼€å…³ï¼Œä¸€ä¸ªæŒ‰ä¸‹ï¼Œå¦ä¸€ä¸ªå°±ä¸èƒ½æŒ‰ä¸‹: <code>u-&gt;v^1</code> , <code>u^1-&gt;v</code> , <code>v-&gt;u^1</code> , <code>v^1-&gt;u</code>;</li>
</ul>
<p>æœ€åè¯´ä¸€ä¸‹ï¼ˆå¥½åƒåˆšåˆšè¯´è¿‡è¿™æ˜¯æœ€åä¸€ä¸ªäº†å“ï¼Ÿï¼Ÿï¼ï¼ï¼‰è¿™é“é¢˜çš„å‘ç‚¹ï¼Œï¼Œ</p>
<ul>
<li>é¦–å…ˆæ˜¯é¢„å¤„ç†çš„æ—¶å€™è¦ç»Ÿä¸€å¥½ä½ çš„ä¸‹æ ‡ï¼Œæœ‰çš„äººä¹ æƒ¯ä»1å¼€å§‹ï¼ˆè²Œä¼¼å…¶ä»–äººå¾ˆå¤šéƒ½æ˜¯è¿™ä¹ˆæå¾—ï¼‰ï¼Œï¼Œè¿™æ ·çš„è¯å¯¹äºæ²¡æœ‰å¼€å…³æ§åˆ¶çš„å®ç®±è¦å»ºä¸¤æ¡åˆå§‹è¾¹ï¼Œï¼Œè¦æ˜¯ä»0å¼€å§‹çš„è¯ï¼ˆæ¯”å¦‚æˆ‘ï¼‰å°±è¦åœ¨è¯»å…¥æ¯ä¸ªå¼€å…³æ§åˆ¶çš„kä¸ªå®ç®±çš„ç¼–å·çš„æ—¶å€™å‡ä¸€ï¼›</li>
<li>è¿™é“é¢˜æ˜¯å•ç»„æµ‹è¯•ï¼Œæœ¬æ¥è¯´ç”¨å¤šç»„è¯»å…¥åˆ°æ–‡ä»¶æœ«åº”è¯¥æ˜¯æ²¡é—®é¢˜çš„ï¼Œä½†æ˜¯æˆ‘ä¸€ç›´å¡åœ¨æœ€åä¸€ç»„ä¸Šï¼Œï¼Œwaäº†åå‡ å‘ï¼Œä¸€åº¦æ€€ç–‘æ˜¯ä»£ç å†™é”™ï¼Œï¼Œè¯¥åˆ°æœ€åæ²¡å¾—æ”¹äº†ï¼Œå°±æŠŠ <code>while(~scanf(&quot;%d%d&quot;, &amp;n, &amp;m))</code> å»äº†å°±Aäº†ï¼Œï¼Œæ¢å›ä¸€å¼€å§‹waçš„ä¹Ÿè¿™æ ·æ”¹äº†ä¹Ÿæ˜¯Aäº†ï¼Œï¼Œï¼Œè°œä¸€èˆ¬çš„æ“ä½œï¼Œï¼Œ</li>
<li>è¿˜æœ‰å°±æ˜¯é¢˜ç›®è¯´æ˜¯ä¿è¯æ¯ä¸ªå®è—æœ€å¤šè¢«ä¸¤ä¸ªå¼€å…³æ§åˆ¶ï¼Œï¼Œæ‰€ä»¥å»ºå›¾çš„æ—¶å€™åˆ¤æ–­å¼€å…³çš„æ•°é‡æ—¶å°±ç›´æ¥ <code>if(balabala)&#123;...&#125;else if(balabala)&#123;...&#125;&#125;else&#123;...&#125;</code> æœ€åä¸€ä¸ªå°±æ²¡å†™åˆ¤æ–­ï¼Œï¼ŒæŒ‰ç…§ä¸€èˆ¬çš„æƒ³æ³•åº”è¯¥æ˜¯æ²¡é—®é¢˜çš„ï¼Œï¼Œä½†æ˜¯è¿™é‡Œæœ€åä¸å†™æˆ <code>else if(balabala)&#123;&#125;</code> ä¹Ÿä¼šå¡æœ€åä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œï¼Œï¼Œè¿·&lt;&lt;1ï¼Œï¼Œï¼Œ</li>
</ul>
<p>ä»£ç ï¼š</p>
<h3 id="æŸ“è‰²æ³•"><a href="#æŸ“è‰²æ³•" class="headerlink" title="æŸ“è‰²æ³•"></a>æŸ“è‰²æ³•</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-comment">// #include &lt;iostream&gt;</span><br><span class="hljs-comment">// #include &lt;cstdio&gt;</span><br><span class="hljs-comment">// #include &lt;cstdlib&gt;</span><br><span class="hljs-comment">// #include &lt;string.h&gt;</span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;cmath&gt;</span><br><span class="hljs-comment">// #include &lt;queue&gt;</span><br><span class="hljs-comment">// #include &lt;stack&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e10</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e7</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br>  <br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, next;<br>&#125;edge[maxn];<br><span class="hljs-keyword">int</span> tot, head[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].next = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-keyword">int</span> sta[maxn], top;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(vis[u ^ <span class="hljs-number">1</span>])<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">if</span>(vis[u])<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    vis[u] = <span class="hljs-literal">true</span>;<br>    sta[++top] = u;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].next)<br>        <span class="hljs-keyword">if</span>(!dfs(edge[i].to))<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">twosat</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vis);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i += <span class="hljs-number">2</span>)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(vis[i] || vis[i ^ <span class="hljs-number">1</span>])<span class="hljs-keyword">continue</span>;<br>        top = <span class="hljs-number">-1</span>;<br>        <span class="hljs-keyword">if</span>(!dfs(i))<br>        &#123;<br>            <span class="hljs-keyword">while</span>(~top)vis[sta[top--]] = <span class="hljs-literal">false</span>;<br>            <span class="hljs-keyword">if</span>(!dfs(i ^ <span class="hljs-number">1</span>))<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; g[maxn];<br><span class="hljs-keyword">int</span> a[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    <span class="hljs-comment">// ios_base::sync_with_stdio(0);</span><br>    <span class="hljs-comment">// cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">int</span> n, m;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i)<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a[i]);<br>    <span class="hljs-keyword">int</span> x, k;<br>    <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m; ++i)<br>    &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;k);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= k; ++j)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;x);--x;<br>            g[x].push_back(i);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">int</span> len, u, v;<br>    init();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i)<br>    &#123;<br>        len = g[i].size();<br>        <span class="hljs-keyword">if</span>(len == <span class="hljs-number">1</span>)<br>        &#123;<br>            u = g[i][<span class="hljs-number">0</span>];u &lt;&lt;= <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">if</span>(a[i])<br>                addedge(u, u ^ <span class="hljs-number">1</span>);<br>            <span class="hljs-keyword">else</span><br>                addedge(u ^ <span class="hljs-number">1</span>, u);<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(len == <span class="hljs-number">2</span>)<br>        &#123;<br>            u = g[i][<span class="hljs-number">0</span>], v = g[i][<span class="hljs-number">1</span>];<br>            u &lt;&lt;= <span class="hljs-number">1</span>; v &lt;&lt;= <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">if</span>(a[i])<br>            &#123;<br>                addedge(u, v ^ <span class="hljs-number">1</span>);<br>                addedge(u ^ <span class="hljs-number">1</span>, v);<br>                addedge(v, u ^ <span class="hljs-number">1</span>);<br>                addedge(v ^ <span class="hljs-number">1</span>, u);<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                addedge(u, v);<br>                addedge(v, u);<br>                addedge(u ^ <span class="hljs-number">1</span>, v ^ <span class="hljs-number">1</span>);<br>                addedge(v ^ <span class="hljs-number">1</span>, u ^ <span class="hljs-number">1</span>);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(len == <span class="hljs-number">0</span>)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(a[i])<br>            &#123;<br>                <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;NO&quot;</span>);<br>                flag = <span class="hljs-literal">true</span>;<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>        &#125;<br> <br>    &#125;<br>    <span class="hljs-keyword">if</span>(flag)<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">if</span>(twosat(m &lt;&lt; <span class="hljs-number">1</span>))  <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;YES&quot;</span>);<br>    <span class="hljs-keyword">else</span>                <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;NO&quot;</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;  <br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="tarjan"><a href="#tarjan" class="headerlink" title="tarjan"></a>tarjan</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-comment">// #include &lt;iostream&gt;</span><br><span class="hljs-comment">// #include &lt;cstdio&gt;</span><br><span class="hljs-comment">// #include &lt;cstdlib&gt;</span><br><span class="hljs-comment">// #include &lt;string.h&gt;</span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;cmath&gt;</span><br><span class="hljs-comment">// #include &lt;queue&gt;</span><br><span class="hljs-comment">// #include &lt;stack&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e10</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e7</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, next;<br>&#125;edge[maxn];<br><span class="hljs-keyword">int</span> tot, head[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].next = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-keyword">int</span> low[maxn], dfn[maxn], sta[maxn], belong[maxn];<br><span class="hljs-keyword">int</span> idx, top;<br><span class="hljs-keyword">int</span> scc;<br><span class="hljs-keyword">bool</span> insta[maxn];<br><span class="hljs-keyword">int</span> num[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">tarjan</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> v;<br>    low[u] = dfn[u] = ++idx;<br>    sta[top++] = u;<br>    insta[u] = <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].next)<br>    &#123;<br>        v = edge[i].to;<br>        <span class="hljs-keyword">if</span>(!dfn[v])<br>        &#123;<br>            tarjan(v);<br>            <span class="hljs-keyword">if</span>(low[u] &gt; low[v])low[u] = low[v];<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(insta[v] &amp;&amp; low[u] &gt; dfn[v])<br>            low[u] = dfn[v];<br>    &#125;<br>    <span class="hljs-keyword">if</span>(low[u] == dfn[u])<br>    &#123;<br>        ++scc;<br>        <span class="hljs-keyword">do</span><br>        &#123;<br>            v = sta[--top];<br>            insta[v] = <span class="hljs-literal">false</span>;<br>            belong[v] = scc;<br>            ++num[scc];<br>        &#125;<span class="hljs-keyword">while</span>(v != u);<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">twosat</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(dfn, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> dfn);<br>    <span class="hljs-built_in">memset</span>(insta, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> insta);<br>    <span class="hljs-built_in">memset</span>(num, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> num);<br>    idx = scc = top = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i)<br>        <span class="hljs-keyword">if</span>(!dfn[i])<br>            tarjan(i);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i += <span class="hljs-number">2</span>)<br>        <span class="hljs-keyword">if</span>(belong[i] == belong[i ^ <span class="hljs-number">1</span>])<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; g[maxn];<br><span class="hljs-keyword">int</span> a[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    <span class="hljs-comment">// ios_base::sync_with_stdio(0);</span><br>    <span class="hljs-comment">// cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">int</span> n, m;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a[i]);<br>    <span class="hljs-keyword">int</span> x, k;<br>    <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)g[i].clear();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m; ++i)<br>    &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;k);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= k; ++j)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;x);<br>            g[x].push_back(i);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">int</span> len, u, v;<br>    init();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>    &#123;<br>        len = g[i].size();<br>        <span class="hljs-keyword">if</span>(len == <span class="hljs-number">1</span>)<br>        &#123;<br>            <span class="hljs-comment">// u = g[i][0];u &lt;&lt;= 1;</span><br>            u = g[i][<span class="hljs-number">0</span>] &lt;&lt; <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">if</span>(a[i])<br>                addedge(u, u ^ <span class="hljs-number">1</span>);<br>            <span class="hljs-keyword">else</span><br>                addedge(u ^ <span class="hljs-number">1</span>, u);<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(len == <span class="hljs-number">2</span>)<br>        &#123;<br>            <span class="hljs-comment">// u = g[i][0]; v = g[i][1];</span><br>            <span class="hljs-comment">// u &lt;&lt;= 1; v &lt;&lt;= 1;</span><br>            u = g[i][<span class="hljs-number">0</span>] &lt;&lt; <span class="hljs-number">1</span>;<br>            v = g[i][<span class="hljs-number">1</span>] &lt;&lt; <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">if</span>(a[i])<br>            &#123;<br>                addedge(u, v ^ <span class="hljs-number">1</span>);<br>                addedge(u ^ <span class="hljs-number">1</span>, v);<br>                addedge(v, u ^ <span class="hljs-number">1</span>);<br>                addedge(v ^ <span class="hljs-number">1</span>, u);<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                addedge(u, v);<br>                addedge(v, u);<br>                addedge(u ^ <span class="hljs-number">1</span>, v ^ <span class="hljs-number">1</span>);<br>                addedge(v ^ <span class="hljs-number">1</span>, u ^ <span class="hljs-number">1</span>);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(len == <span class="hljs-number">0</span>)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(a[i])<br>            &#123;<br>                <span class="hljs-comment">// puts(&quot;NO&quot;);</span><br>                <span class="hljs-comment">// flag = true;</span><br>                <span class="hljs-comment">// break;</span><br>                addedge(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>);<br>                addedge(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(twosat(m &lt;&lt; <span class="hljs-number">1</span>))  <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;YES&quot;</span>);<br>    <span class="hljs-keyword">else</span>                <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;NO&quot;</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;   <br>&#125;<br></code></pre></td></tr></table></figure>
<p>å…¶å®è¿™ä¸¤æ²¡å•¥åŒºåˆ«ï¼Œï¼Œï¼Œæ€»å†™ç¬¬ä¸€ä¸ªæ˜¯å› ä¸ºç¬¬ä¸€å¥½å†™(wu)ï¼Œï¼Œï¼Œtarjanç¨æ…¢ä¸€äº›ï¼ˆä¸è¿‡ä¹Ÿæ²¡å¤šå°‘ï¼‰ï¼Œï¼Œï¼Œ</p>
<p>å†™äº†ä¸€å¤©åŠçš„ä»£ç ï¼Œï¼Œwaäº†è¿‘20å‘ï¼Œï¼Œï¼Œå¿ƒæ€å¿«å´©äº†QAQï¼Œï¼Œæºœäº†æºœäº†</p>
<h2 id="D-The-Door-Problem"><a href="#D-The-Door-Problem" class="headerlink" title="D. The Door Problem"></a><a href="https://codeforces.com/contest/776/problem/D">D. The Door Problem</a></h2><p>è¿™é“é¢˜å’Œä¸Šé¢é‚£é“å®è—çš„é¢˜ä¸€æ ·ï¼Œï¼Œï¼ˆåº”è¯¥æ˜¯ç‰›å®¢é‚£é“å‚è€ƒçš„è¿™ä¸€é“ï¼Œï¼Œï¼Œ</p>
<p>ä»£ç éƒ½ä¸€æ ·ç›´æ¥äº¤å°±è¡Œäº†ï¼Œï¼Œå»ºå›¾çš„æ€æƒ³ç›¸åŒï¼Œ</p>
<h2 id="Letâ€™s-go-home"><a href="#Letâ€™s-go-home" class="headerlink" title="Letâ€™s go home"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1824">Letâ€™s go home</a></h2><p>æŒ‰é¢˜æ„å»ºå›¾å°±è¡Œäº†ï¼Œï¼Œï¼ˆåˆšå¼€å§‹å¿˜è®°ç»™ç‚¹ä¹˜2ï¼Œwaäº†å‡ å‘ã€‚ã€‚ã€‚</p>
<h2 id="Astronauts-UVALive-3713"><a href="#Astronauts-UVALive-3713" class="headerlink" title="Astronauts UVALive - 3713"></a><a href="https://cn.vjudge.net/problem/UVALive-3713">Astronauts UVALive - 3713</a></h2><p>è¿™é¢˜ä¹Ÿä¸é”™ï¼Œï¼Œé¢˜é¢ç»™äº†ä½ ä¸‰ç§é€‰æ‹©çš„é™åˆ¶å…³ç³»ï¼Œä½†æ˜¯å¯ä»¥ç”¨å¹´é¾„åŒ–æˆä¸¤ç§é€‰æ‹©çš„é™åˆ¶å…³ç³»ï¼Œï¼Œä¸€å¼€å§‹å†™å‡ºä¿©ä¹‹åæµ‹è¯•æ ·ä¾‹çš„è¾“å‡ºå’Œé¢˜æ‰€ç»™çš„ä¸ä¸€æ ·ï¼Œä¸€åº¦æ€€ç–‘æ˜¯è‡ªå·±å›¾å›¾åˆå»ºé”™äº†ï¼Œï¼Œåæ¥æƒ³èµ·æ¥2saté—®é¢˜ä¸ä¸€å®šæ˜¯å”¯ä¸€è§£å•Šï¼Œï¼ŒæŠŠè¿™ä¸ªæœ€é‡è¦çš„æ€§è´¨å¿˜äº†ï¼Œï¼Œæˆ‘ä¸€ç›´å†™çš„é‚£ä¸ªè§£æ³•æ˜¯æ±‚å­—å…¸åºæœ€å°çš„è§£å•Šï¼Œï¼Œï¼ŒQAQã€‚ã€‚</p>
<p>é¢˜æ„å°±æ˜¯æœ‰è¿™ä¹ˆnä¸ªå®‡èˆªå‘˜ï¼Œæ¯ä¸€ä¸ªäººçš„å¹´é¾„ç»™ä½ ï¼Œç„¶åæœ‰è¿™ä¹ˆ3ç§ä»»åŠ¡ï¼Œï¼Œæœ€åä¸€ç§æ˜¯å¿½ç•¥å¹´é¾„çš„ï¼ŒAä»»åŠ¡è¦æ±‚åªèƒ½å¹´é¾„å¤§äºå¹³å‡å€¼çš„ä¸Šï¼ŒBä»»åŠ¡åˆ™ç›¸åï¼Œï¼Œï¼Œå…¶ä¸­ä¸€äº›äººä¹‹é—´è¿˜æœ‰æ†æ¨å…³ç³»ï¼Œå³ä»–ä¿©ä¸èƒ½åœ¨ä¸€ä¸ªä»»åŠ¡ä¸­ï¼Œé—®ä½ æœ‰æ²¡æœ‰ä¸€ä¸ªå¯è¡Œçš„å®‰æ’ä»»åŠ¡çš„æ–¹å¼ï¼Œï¼Œæœ‰çš„è¯è¾“å‡ºè¿™ç§æ–¹å¼ï¼Œï¼Œï¼Œ</p>
<p>æ€è·¯ï¼šæˆ‘ä¸€å¼€å§‹æƒ³ç€è¦ä¸è¦å…ˆä¸ç®¡ABä»»åŠ¡çš„åˆ†é…ï¼Œä¹Ÿå°±æ˜¯è¯´å°†å®ƒä¿©çœ‹æˆä¸€ä¸ªä»»åŠ¡ï¼Œï¼Œç„¶åå’ŒCä»»åŠ¡é€‰æ‹©åˆ†é…ï¼Œï¼Œæœ€åæ ¹æ®å¹´é¾„æ¥é€‰æ‹©ABä»»åŠ¡çš„åˆ†é…æƒ…å†µï¼Œï¼Œï¼Œä½†æ˜¯å†™åˆ°ä¸€åŠå‘ç°ä¸å¯¹ï¼Œï¼Œå¯¹äºå¹´é¾„ä¸€ä¸ªå¤§äºå¹³å‡å€¼çš„ä¸€ä¸ªå°äºå¹³å‡å€¼çš„ä»–ä»¬ä¿©å¦‚æœæœ‰æ†æ¨å…³ç³»çš„è¯ä»–ä»¬ä¿©æ˜¯åº”è¯¥ä¸€ä¸ªAä¸€ä¸ªBï¼Œï¼Œï¼Œå¦‚æœæŒ‰æˆ‘é‚£ç§æƒ³æ³•çš„è¯å°±ä¼šå‡ºç°ä¸¤ä¸ªAçš„æƒ…å†µï¼ˆå¯èƒ½ç”šè‡³ä¸ä¼šå‡ºç°ï¼Œï¼Œå› ä¸ºè¿™æ ·å»ºå›¾ä¼šä½¿å¾—è¿™ç§æƒ…å†µé€‰æ‹©ä¸ºä¸å–ï¼Œï¼Œä¼šå‡ºç°ä¸¤ä¸ªé€‰Cçš„æƒ…å†µï¼Œï¼Œï¼Œ</p>
<p>åæ¥åˆæƒ³äº†ä¸€ä¼šï¼Œï¼Œæƒ³ç€åæ­£å¯¹äºä¸€ä¸ªäººæ¥è¯´ä¸æ˜¯Cå°±æ˜¯ABä¸­çš„ä¸€ä¸ªï¼Œï¼Œé‚£ä¹ˆåœ¨å»ºå›¾çš„æ—¶å€™åˆ¤æ–­ä¸€ä¸‹ä¸å°±è¡Œäº†å—ï¼Œï¼Œï¼Œç„¶å1Aäº†ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// #include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string.h&gt;</span></span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;cmath&gt;</span><br><span class="hljs-comment">// #include &lt;queue&gt;</span><br><span class="hljs-comment">// #include &lt;stack&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e10</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e7</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, next;<br>&#125;edge[maxn];<br><span class="hljs-keyword">int</span> tot, head[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].next = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-keyword">int</span> sta[maxn], top;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(vis[u ^ <span class="hljs-number">1</span>])<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">if</span>(vis[u])<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    vis[u] = <span class="hljs-literal">true</span>;<br>    sta[++top] = u;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].next)<br>        <span class="hljs-keyword">if</span>(!dfs(edge[i].to))<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">twosat</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vis);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i += <span class="hljs-number">2</span>)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(vis[i] || vis[i ^ <span class="hljs-number">1</span>])<span class="hljs-keyword">continue</span>;<br>        top = <span class="hljs-number">-1</span>;<br>        <span class="hljs-keyword">if</span>(!dfs(i))<br>        &#123;<br>            <span class="hljs-keyword">while</span>(~top)vis[sta[top--]] = <span class="hljs-literal">false</span>;<br>            <span class="hljs-keyword">if</span>(!dfs(i ^ <span class="hljs-number">1</span>))<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-keyword">int</span> a[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><span class="hljs-comment">//    freopen(&quot;233.in&quot; , &quot;r&quot; , stdin);</span><br><span class="hljs-comment">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br>    <span class="hljs-comment">// ios_base::sync_with_stdio(0);</span><br>    <span class="hljs-comment">// cin.tie(0);cout.tie(0);</span><br>    <span class="hljs-keyword">int</span> n, m;<br>    <span class="hljs-keyword">while</span>(~<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n, &amp;m) &amp;&amp; n + m)<br>    &#123;<br>        <span class="hljs-keyword">int</span> sum = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a[i]);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)sum += a[i];<br>        init();<br>        <span class="hljs-keyword">int</span> u, v;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;u, &amp;v);<br>            <span class="hljs-keyword">if</span>((a[u] * n &lt;= sum &amp;&amp; a[v] * n &lt;= sum) || (a[u] * n &gt;= sum &amp;&amp; a[v] * n &gt;= sum))<br>            &#123;<br>                --u; --v;<br>                u &lt;&lt;= <span class="hljs-number">1</span>; v &lt;&lt;= <span class="hljs-number">1</span>;<br>                addedge(u, v ^ <span class="hljs-number">1</span>);<br>                addedge(u ^ <span class="hljs-number">1</span>, v);<br>                addedge(v, u ^ <span class="hljs-number">1</span>);<br>                addedge(v ^ <span class="hljs-number">1</span>, u);<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                --u; --v;<br>                u &lt;&lt;= <span class="hljs-number">1</span>; v &lt;&lt;= <span class="hljs-number">1</span>;<br>                <span class="hljs-comment">// addedge(u, v);</span><br>                <span class="hljs-comment">// addedge(v, u);</span><br>                <span class="hljs-comment">// addedge(u, v ^ 1);</span><br>                <span class="hljs-comment">// addedge(u ^ 1, v);</span><br>                <span class="hljs-comment">// addedge(v, u ^ 1);</span><br>                <span class="hljs-comment">// addedge(v ^ 1, u);</span><br>                addedge(u ^ <span class="hljs-number">1</span>, v);<br>                addedge(v ^ <span class="hljs-number">1</span>, u);<br>            &#125;<br>            <br>        &#125;<br>        <span class="hljs-keyword">if</span>(!twosat(n &lt;&lt; <span class="hljs-number">1</span>))<span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;No solution.&quot;</span>);<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(vis[i &lt;&lt; <span class="hljs-number">1</span>])<br>                &#123;<br>                    <span class="hljs-keyword">if</span>(a[i + <span class="hljs-number">1</span>] * n &lt; sum)<span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;B&quot;</span>);<br>                    <span class="hljs-keyword">else</span> <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;A&quot;</span>);<br>                &#125;<br>                <span class="hljs-keyword">else</span> <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;C&quot;</span>);<br>            &#125;<br>        &#125;<br>        <span class="hljs-comment">// for(int i = 0; i &lt; 2 * n; i += 2)</span><br>        <span class="hljs-comment">//     cout &lt;&lt; vis[i] &lt;&lt; vis[i ^ 1] &lt;&lt; endl;</span><br>        <br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;   <br>&#125;<br></code></pre></td></tr></table></figure>
<p><del>å¼ºè¿é€šåˆ†é‡çš„æ–¹æ³•æ˜å¤©ï¼Œå•Šä¸ç™½å¤©å†è¯´å§ï¼Œï¼Œï¼Œæºœäº†æºœäº†</del></p>
<p><del>é¸½äº†ä¸€ä¸ªå¤šæœˆï¼Œï¼Œä»å¯’å‡åˆ°ä¸‰æœˆåº•ï¼Œï¼Œï¼Œemmmm</del><br><del>(loading)</del></p>
<p>2019-4-2<br>(end)</p>
]]></content>
      <categories>
        <category>ACM-å›¾è®º-2-SAT</category>
      </categories>
      <tags>
        <tag>åˆ·é¢˜</tag>
        <tag>acm</tag>
      </tags>
  </entry>
  <entry>
    <title>ACM-çº¿æ€§åŸº</title>
    <url>/2019/07/24/ACM-%E7%BA%BF%E6%80%A7%E5%9F%BA/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p>æœ€è¿‘çš„å‡ åœºå¤šæ ¡å‡ºç°äº†å¥½å‡ æ¬¡çº¿æ€§åŸºçš„é¢˜ç›®ï¼Œï¼Œä¼šæƒ³èµ·ä¹‹å‰åœ¨å°è¯•è¥¿å®‰åŒºåŸŸèµ›çš„ä¸€é“åŒºé—´å¼‚æˆ–å’Œæœ€å¤§çš„é—®é¢˜æ—¶ï¼Œå½“æ—¶å› ä¸ºå¼‚æˆ–çš„æ€§è´¨çŸ¥é“è¿™é“é¢˜è‚¯å®šç”¨çº¿æ®µæ ‘æ¥ç»´æŠ¤åŒºé—´çš„æœ€å€¼ï¼Œä½†æ˜¯ä¸çŸ¥é“ç”¨ä»€ä¹ˆæ¥å¤„ç†å¼‚æˆ–å’Œæœ€å¤§ï¼Œï¼Œå³ä½¿åæ¥çŸ¥é“äº†å¯ä»¥ç”¨çº¿æ€§åŸºæ¥å¤„ç†ï¼Œçœ‹äº†ä¸€äº›åšå®¢ä¹Ÿå› ä¸ºæ„Ÿè§‰å¤ªéš¾æ”¶è—åˆ°ä¹¦ç­¾å°±å†ä¹Ÿæ²¡çœ‹è¿‡ï¼Œï¼Œï¼Œäºæ˜¯è¿™å‡ å¤©ï¼ŒèŠ±äº†å·®ä¸å¤š4ã€5å¤©çš„æ—¶é—´ï¼Œå¤§æ¦‚çœ‹æ‡‚äº†è¿™éƒ¨åˆ†çš„å†…å®¹ï¼Œæ„Ÿè§‰è¿™åªæ˜¯ä¸€ç§ä¸“é—¨å¤„ç†å¼‚æˆ–é—®é¢˜çš„ä¸€ä¸ªå·¥å…·ï¼Œå…‰è¿™ä¸ªå·¥å…·æ²¡ä»€ä¹ˆæ„æ€ï¼Œï¼Œç°åœ¨çš„å¾ˆå¤šé¢˜ç›®éƒ½æ˜¯ç”¨çº¿æ€§åŸºå¥—å„ç§ä¸œè¥¿ï¼Œï¼Œæ¯”å¦‚è¯´å¾ˆå¸¸è§çš„çº¿æ®µæ ‘ï¼ˆå¤§å¤šéƒ½æ˜¯è¯¢é—®ï¼‰ã€æ ‘é“¾å‰–åˆ†ï¼ˆä¹Ÿå°±æ˜¯æ ‘ä¸Šè·¯å¾„çš„å¼‚æˆ–é—®é¢˜ï¼Œä¸»è¦æ˜¯æ±‚LCAæ¥ç»´æŠ¤ï¼‰ã€ç®€å•å›¾ä»¥åŠåƒæ­ç”µç¬¬ä¸€åœºçš„é‚£é¢˜ä¸€æ ·è´ªå¿ƒé­”æ”¹çº¿æ€§åŸºæ¿å­ç­‰ç­‰ï¼Œï¼Œä¸å¯èƒ½å•çº¯çš„åªæ˜¯ç”¨çº¿æ€§åŸºæ¿å­æ¥æ±‚ä¸€ä¸ªä»€ä¹ˆæœ€å€¼ï¼ŒKå€¼ï¼Œå¹¶äº¤ç­‰ç­‰æ€§è´¨ï¼Œä¸‹é¢æ˜¯æˆ‘è¿™å‡ å¤©å­¦ä¹ çº¿æ€§åŸºçš„ç®€å•çš„ä¸€ä¸ªå­¦ä¹ è¿‡ç¨‹çš„è®°å½•ã€‚</p>
<span id="more"></span>
<h1 id="æ•°å­¦çŸ¥è¯†"><a href="#æ•°å­¦çŸ¥è¯†" class="headerlink" title="æ•°å­¦çŸ¥è¯†"></a>æ•°å­¦çŸ¥è¯†</h1><p>å…³äºçº¿æ€§åŸºï¼Œè™½ç„¶çœ‹èµ·æ¥è¿™ä¸‰ä¸ªå­—å¾ˆé«˜æ·±ï¼Œï¼Œä½†æ˜¯ç­‰å¤§è‡´äº†è§£ä¹‹åï¼Œå°±ä¼šå‘ç°ï¼Œè¿™åªæ˜¯ä¸€ä¸ªç®€å•çš„æ•°å­¦å·¥å…·ï¼ŒåŸºç¡€çŸ¥è¯†å°±æ˜¯å­¦è¿‡çš„çº¿æ€§ä»£æ•°  <del>ï¼ˆè™½ç„¶æ—©å°±å¿˜è®°äº†ï¼‰</del> ã€‚</p>
<p>æŠ›å¼€çº¿æ€§ä»£æ•°ï¼Œæˆ‘ä¸ªäººçš„ç†è§£å°±æ˜¯ çº¿æ€§åŸºå°±æ˜¯ä¸€ä¸ªç”¨æ¥è¡¨ç¤ºç»™å®šé›†åˆçš„ä¸€ä¸ªæœ€å°‘çš„æ•°çš„é›†åˆï¼Œ ç”¨çº¿æ€§åŸºè¿™ä¸ªé›†åˆï¼Œå¯ä»¥è¡¨ç¤ºå®ƒæ‰€ <em>å¼ æˆ</em> çš„ä¸€ä¸ªé›†åˆï¼Œå¯¹äºæˆ‘ä»¬é‡åˆ°çš„å¤§å¤šæ•°é¢˜ç›®æ¥è¯´ï¼Œå°±æ˜¯ç”¨ä¸€ä¸ªæœ€å°‘çš„æ•°çš„é›†åˆ $lb$ é€šè¿‡ <strong>å¼‚æˆ–</strong> çš„å½¢å¼å¯ä»¥è¡¨ç¤ºæ•°ç»„ï¼ˆé›†ï¼‰ $a$ ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ç”¨ $n$ ä¸ª $2^i$ è¿™æ ·ä¸åŒçš„äºŒè¿›åˆ¶æ•°ç»„ $a_i$ çš„å¼‚æˆ–æ¥è¡¨ç¤ºæ‰€æœ‰ $[0 â€¦2^n-1]$ çš„ä»»æ„ä¸€ä¸ªæ•°ï¼Œä¾‹å¦‚ï¼š $[01], [10]$ å¯ä¸€ä¸ªè¡¨ç¤º $0, 1, 2, 3$ ã€‚ ä½†å¦‚æœå»æ‰ $a_i$ ä¸­çš„ä¸€äº›æ•°ï¼Œæ˜¾ç„¶èƒ½è¡¨ç¤ºçš„æ•°é›†å°±å‡å°‘äº†äº›ï¼Œï¼Œåè¿‡æ¥æƒ³ï¼Œå¯¹äºä»»æ„ä¸€ä¸ªæ•°é›†ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥æ‰¾åˆ°è¿™æ ·ä¸€ä¸ªæ•°é›†çš„å­é›† $a_i$ ï¼Œ$a_i$ ä¸­çš„ä»»æ„æ•°çš„å¼‚æˆ–å’Œå¯ä»¥è¡¨ç¤ºè¿™ä¸ªæ•°é›†ä¸­çš„æ¯ä¸€ä¸ªæ•°ï¼Œè¿™æ ·æˆ‘ä»¬ç›¸å½“äºå¯¹åŸæ•°é›†è¿›è¡Œäº†å‹ç¼©ï¼Œç”¨ä¸€ä¸ªå°çš„é›†åˆè¡¨ç¤ºå‡ºæ¥äº†ï¼Œï¼Œè€Œä¸”æ˜¾ç„¶ä»–çš„æœ€å¤§å¤§å°å°±æ˜¯æ•°åœ¨äºŒè¿›åˆ¶è¡¨ç¤ºçš„ä½æ•°ï¼Œ</p>
<p>å¯ä»¥è¿™æ ·è¡¨ç¤ºçš„åŸå› æ˜¯å› ä¸ºå¯¹äºä¸€ä¸ªçº¿æ€§åŸºï¼Œä»–å¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ª å‘é‡ç»„ ï¼Œè¿™äº›å‘é‡é—´æ˜¯çº¿æ€§æ— å…³çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä»»æ„ä¸€ä¸ªå‘é‡éƒ½ä¸å¯ä»¥é€šè¿‡å…¶ä»–çš„å‘é‡è¡¨ç¤ºï¼Œä¹Ÿå°±æ˜¯çº¿æ€§åŸºä¸­çš„æ¯ä¸€ä¸ªæ•°éƒ½ä¸å¯ä»¥é€šè¿‡å…¶ä»–æ•°çš„å¼‚æˆ–å¾—åˆ°ï¼Œï¼Œè¿™æ ·çš„ä¸€ä¸ªå‘é‡ç»„çš„çº¿æ€§ç»„åˆå¯ä»¥ <strong>å¼ æˆ</strong> ä¸€ä¸ªçº¿æ€§ç©ºé—´ï¼Œï¼Œï¼Œ<a href="https://blog.sengxian.com/algorithms/linear-basis">ï¼ˆå…·ä½“çš„æ›´åŠ è¯¦ç»†çš„æ•°å­¦çŸ¥è¯†å¯ä»¥çœ‹è¿™é‡Œï¼‰</a> æˆ–è€… <a href="https://zh.wikipedia.org/wiki/%E5%9F%BA_(%E7%B7%9A%E6%80%A7%E4%BB%A3%E6%95%B8">ç»´åŸº</a>)</p>
<h1 id="çº¿æ€§åŸºçš„ä½œç”¨"><a href="#çº¿æ€§åŸºçš„ä½œç”¨" class="headerlink" title="çº¿æ€§åŸºçš„ä½œç”¨"></a>çº¿æ€§åŸºçš„ä½œç”¨</h1><p>åœ¨ACMä¸­å¤§å¤šæ•°çš„çº¿æ€§åŸºçš„ä½œç”¨å°±æ˜¯ç»´æŠ¤ä¸€æ®µæ•°çš„å¼‚æˆ–çš„å„ç§æ€§è´¨ï¼Œä¾‹å¦‚æœ€å€¼ã€Kå€¼ã€ä¸€ä¸ªæ•° $x$ èƒ½å¦å¯ä»¥è¢«è¿™äº›æ•°çš„å¼‚æˆ–å’Œè¡¨ç¤ºã€çº¿æ€§åŸºçš„äº¤å¹¶ç­‰ç­‰ã€‚è¿™åªæ˜¯ä¸€ä¸ªå·¥å…·ï¼Œä¸»è¦æ˜¯å’Œå…¶ä»–çŸ¥è¯†ç‚¹çš„ç»“åˆã€‚</p>
<h1 id="çº¿æ€§åŸºçš„åŸºæœ¬çš„æ¿å­"><a href="#çº¿æ€§åŸºçš„åŸºæœ¬çš„æ¿å­" class="headerlink" title="çº¿æ€§åŸºçš„åŸºæœ¬çš„æ¿å­"></a>çº¿æ€§åŸºçš„åŸºæœ¬çš„æ¿å­</h1><p>ä¸çŸ¥é“æ˜¯è¿™ä¸ªçŸ¥è¯†ç‚¹ä¸é‚£ä¹ˆé‡è¦è¿˜æ˜¯æ€ä¹ˆçš„ï¼Œï¼Œä¸åƒå…¶ä»–çš„ç®—æ³•ï¼Œç½‘ç»œä¸Šæ‰¾åˆ°çš„å…³äºçº¿æ€§åŸºå¥½çš„èµ„æ–™å¾ˆå°‘å¾ˆå°‘ï¼Œï¼Œå°¤å…¶æ˜¯æ¿å­ï¼Œï¼Œæ²¡æœ‰æ³¨é‡Šï¼Œï¼Œæ–°æ‰‹ <del>ï¼ˆæˆ‘ï¼‰</del> ä¸€å¼€å§‹æ ¹æœ¬çœ‹ä¸æ‡‚ï¼Œï¼Œåªèƒ½ç¡¬å•ƒå‰é¢çš„æ•°å­¦æ¨å¯¼ï¼Œï¼Œç„¶åè½¬åŒ–æˆä»£ç ï¼Œï¼Œï¼Œæœ€åè‡ªå·±åœ¨å€Ÿé‰´åˆ«äººçš„åŸºç¡€ä¸Šå¼„å‡ºäº†ä¸€ä»½è‡ªå·±çš„æ¿å­ï¼Œï¼Œï¼Œ<del>ï¼ˆæ€•ä¸æ˜¯è¿‡å‡ å¤©å°±å¿˜äº†å†™çš„ä»€ä¹ˆï¼‰</del></p>
<h2 id="çº¿æ€§åŸºçš„è¡¨ç¤º"><a href="#çº¿æ€§åŸºçš„è¡¨ç¤º" class="headerlink" title="çº¿æ€§åŸºçš„è¡¨ç¤º"></a>çº¿æ€§åŸºçš„è¡¨ç¤º</h2><p>æ ¹æ®å®šä¹‰ï¼Œçº¿æ€§é›†å°±æ˜¯ä¸€ä¸ªæ•°çš„é›†åˆï¼Œè€Œä¸”é•¿åº¦ä¸€èˆ¬é¢˜ä¸­ä¼šç»™ï¼Œï¼Œllå°±æ˜¯64ï¼Œintå°±æ˜¯32ç­‰ç­‰ï¼Œï¼Œæ‰€ä»¥ä»–å°±æ˜¯ä¸€ä¸ªæ•°ç»„å°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxbase = <span class="hljs-number">35</span>;<br>ll a[maxbase + <span class="hljs-number">1</span>];<br></code></pre></td></tr></table></figure>
<h2 id="çº¿æ€§åŸºçš„æ’å…¥"><a href="#çº¿æ€§åŸºçš„æ’å…¥" class="headerlink" title="çº¿æ€§åŸºçš„æ’å…¥"></a>çº¿æ€§åŸºçš„æ’å…¥</h2><p>çº¿æ€§åŸºçš„æœ€åŸºæœ¬çš„æ“ä½œå°±æ˜¯éå†ä¸€ä¸ªæ•°é›†ï¼Œï¼Œç„¶åæŒ‘å‡ºå…¶ä¸­çš„çº¿æ€§åŸºï¼Œè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯å°†ä¸€ä¸ªæ•° $t$ æ’å…¥åˆ°çº¿æ€§åŸºä¸­ï¼Œï¼Œå¯¹äºå½“å‰çº¿æ€§åŸº $a$ ï¼Œå¦‚æœå®ƒä¸­çš„å…ƒç´ å’Œ $t$ çº¿æ€§æ— å…³ï¼Œé‚£ä¹ˆ $t$ å°±æ˜¯ä¸€ä¸ªåŸºåº•ï¼Œï¼ŒæŠŠä»–æ’å…¥åˆ°çº¿æ€§åŸºä¸­ï¼Œï¼Œæ ¹æ®å®šä¹‰ï¼Œï¼Œå¦‚æœå‘ç°æ˜¯çº¿æ€§ç›¸å…³çš„ï¼Œï¼Œé‚£ä¹ˆå°±è¯´æ˜ç°åœ¨çš„çº¿æ€§åŸº $a$ å¯ä»¥è¡¨ç¤ºè¿™ä¸ªæ•°ï¼Œï¼Œä¸€é¡¿æ“ä½œä¹‹åï¼Œï¼Œ$t$ ä¸€å®šå˜æˆäº†0ï¼Œï¼Œï¼ˆç”¨è¿™ä¸ªå¯ä»¥åˆ¤æ–­æ˜¯å¦ä¸€ä¸ªæ•°èƒ½è¢«çº¿æ€§åŸºè¡¨ç¤ºï¼Œï¼Œï¼Œ</p>
<p>æ’å…¥çš„æœ¬è´¨å°±æ˜¯ä¸€ä¸ªç»´æŠ¤çº¿æ€§åŸºçŸ©é˜µçš„è¿‡ç¨‹ï¼Œï¼Œæœ‰ä¸¤ç§ç»´æŠ¤çš„å½¢å¼ï¼Œï¼Œä¸€ç§å°±æ˜¯ä¸ç®¡æ’å…¥çš„å…ƒç´ å¯¹å…¶ä»–å…ƒç´ çš„å½±å“ï¼Œï¼Œç»´æŠ¤ä¸€ä¸ªä¸Šä¸‰è§’çš„çº¿æ€§åŸºçŸ©é˜µï¼Œï¼Œè¿™æ ·çš„æ—¶é—´å¤æ‚è¯»ä½ä¸€äº›ï¼› å¦ä¸€ç§å°±æ˜¯åˆ©ç”¨é«˜æ–¯æ¶ˆå…ƒï¼Œï¼Œå¯¹äºä¸€ä¸ªå¯ä»¥æ’å…¥çš„å…ƒç´ ï¼Œ<strong>å…ˆç”¨ä¸‹é¢çš„è¡Œæ¥æ¶ˆè‡ªå·±ï¼Œç„¶åç”¨è‡ªå·±æ¶ˆä¸Šé¢å‡ è¡Œ</strong> ï¼Œï¼Œè¿™æ ·å¯ä»¥ä¿è¯æ’å…¥ä¸€ä¸ªå…ƒç´ åï¼Œçº¿æ€§åŸºçš„çŸ©é˜µåªæœ‰æ’å…¥çš„é‚£ä¸€è¡Œå¯¹åº”çš„é‚£ä¸€ä½æ˜¯1ï¼Œï¼Œå…¶ä»–çš„éƒ½æ˜¯é›¶ï¼Œï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªå¯¹è§’çŸ©é˜µã€‚</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">insert</span><span class="hljs-params">(ll t)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//æš´åŠ›æ’å…¥ä¸€ä¸ªæ•°ï¼Œç»´æŠ¤çš„æ˜¯ä¸€ä¸ªä¸Šä¸‰è§’å‹çš„çº¿æ€§åŸºçŸ©é˜µï¼Œæ—¶é—´å¤æ‚åº¦ä½ï¼Œå½“å¾…æ’å…¥å…ƒç´ èƒ½æ’å…¥æ—¶ï¼Œè¿”å›true</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(t &amp; (<span class="hljs-number">1ll</span> &lt;&lt; i))<br>        &#123;<br>            <span class="hljs-keyword">if</span>(!a[i])<br>            &#123;<br>                a[i] = t;<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>            t ^= a[i];<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(t == <span class="hljs-number">0</span>)flag = <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">return</span> t;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">query</span><span class="hljs-params">(ll t)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// è¯¢é—®tæ˜¯å¦å¯ä»¥è¢«å½“å‰çº¿æ€§åŸºè¡¨ç¤ºï¼Œä¸æ’å…¥</span><br>    <span class="hljs-keyword">if</span>(t &gt; queryMax())<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">if</span>(t == <span class="hljs-number">0</span>)<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(t &amp; (<span class="hljs-number">1ll</span> &lt;&lt; i))<br>        &#123;<br>            <span class="hljs-keyword">if</span>(!a[i])<br>            &#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>            &#125;<br>            t ^= a[i];<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Insert</span><span class="hljs-params">(ll t)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//æ’å…¥ä¸€ä¸ªçº¿æ€§åŸºï¼Œåˆ©ç”¨é«˜æ–¯æ¶ˆå…ƒæ³•ç»´æŠ¤ä¸€ä¸ªå¯¹è§’çŸ©é˜µ</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(t &gt;&gt; i &amp; <span class="hljs-number">1</span>)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(a[i])t ^= a[i];<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                a[i] = t;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = i - <span class="hljs-number">1</span>; j &gt;= <span class="hljs-number">0</span>; --j)<span class="hljs-keyword">if</span>(a[j] &amp;&amp; (a[i] &gt;&gt; j &amp; <span class="hljs-number">1</span>))a[i] ^= a[j];<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = i + <span class="hljs-number">1</span>; j &lt;= maxbase; ++j)<span class="hljs-keyword">if</span>(a[j] &gt;&gt; j &amp; <span class="hljs-number">1</span>)a[j] ^= a[i];<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="çº¿æ€§åŸºæœ€å€¼"><a href="#çº¿æ€§åŸºæœ€å€¼" class="headerlink" title="çº¿æ€§åŸºæœ€å€¼"></a>çº¿æ€§åŸºæœ€å€¼</h2><ul>
<li>è§‚å¯Ÿçº¿æ€§åŸºï¼Œæ˜¾ç„¶å¯¹äºè¿™ä¸ªçº¿æ€§é›†è¡¨ç¤ºçš„é›†åˆï¼Œä»–çš„æœ€ä½é‚£ä¸€è¡Œè¡¨ç¤ºçš„å…ƒç´ ä¸€å®šæ˜¯è¡¨ç¤ºçš„æ•°é›†å¼‚æˆ–çš„æœ€å°å€¼ï¼Œï¼Œæ‰€ä»¥åªè¦ä»ä½åˆ°é«˜è¿”å›ç¬¬ä¸€éé›¶çš„åŸºåº•å°±å¯ä»¥äº†ï¼Œï¼Œï¼ˆæ³¨æ„åˆ¤æ–­0çš„æƒ…å†µï¼‰ï¼›</li>
<li>å¯¹äºæœ€å¤§å€¼ï¼Œæˆ‘ä»¬åªè¦éå†æ•´ä¸ªçº¿æ€§åŸºï¼Œå¦‚æœå½“å‰å…ƒç´  $a_i$ å¼‚æˆ–ä¸Šåç­”æ¡ˆå˜å¤§ï¼Œå°±å¼‚æˆ–è¿™ä¸€ä½ï¼Œ</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//è¯¢é—®æœ€å€¼</span><br><span class="hljs-function">ll <span class="hljs-title">queryMax</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    ll ret = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>        <span class="hljs-keyword">if</span>((ret ^ a[i]) &gt; ret)<br>            ret ^= a[i];<br>    <span class="hljs-keyword">return</span> ret;<br>&#125;<br><span class="hljs-function">ll <span class="hljs-title">queryMin</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= maxbase; ++i)<br>        <span class="hljs-keyword">if</span>(a[i])<br>            <span class="hljs-keyword">return</span> a[i];<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="å¤šä¸ªçº¿æ€§åŸºçš„å¹¶ã€äº¤"><a href="#å¤šä¸ªçº¿æ€§åŸºçš„å¹¶ã€äº¤" class="headerlink" title="å¤šä¸ªçº¿æ€§åŸºçš„å¹¶ã€äº¤"></a>å¤šä¸ªçº¿æ€§åŸºçš„å¹¶ã€äº¤</h2><h3 id="å¹¶ï¼š"><a href="#å¹¶ï¼š" class="headerlink" title="å¹¶ï¼š"></a>å¹¶ï¼š</h3><p>å¹¶å¥½è¯´ï¼Œç›´æ¥æš´åŠ›åŠ åˆ°ä¸€ä¸ªçº¿æ€§åŸºä¸­å°±è¡Œäº†ï¼Œï¼Œåæ­£ä¸èƒ½æ’å…¥çš„ä¼šåœ¨æ’å…¥è¿‡ç¨‹ä¸­å˜æˆ0ï¼Œä¸ç”¨ç®¡</p>
<h3 id="äº¤ï¼š"><a href="#äº¤ï¼š" class="headerlink" title="äº¤ï¼š"></a>äº¤ï¼š</h3><p>äº¤æ˜¯ç‰›å®¢ç¬¬å››åœºå¤šæ ¡æ‰é‡åˆ°çš„ï¼Œï¼Œ<del>ï¼ˆæ•´ä¸ªçº¿æ€§åŸºä¹Ÿæ˜¯å¤šæ ¡æ‰é‡åˆ°ï¼‰</del> ï¼Œï¼ˆäº¤çš„æ¿å­åªæ‰¾åˆ°ä¸€ä¸ªçœ‹å¾—æ‡‚çš„ï¼‰ï¼Œï¼Œï¼Œäº¤çš„å¤§è‡´æ€è·¯æ˜¯è¿™æ ·çš„ <del>ï¼ˆççŒœingï¼‰</del>ï¼š </p>
<ul>
<li>è®°ç¬¬ä¸€ä¸ªçº¿æ€§åŸºä¸º $l_1$ ï¼Œå¦ä¸€ä¸ªæ˜¯ $l_2$ ï¼Œä¸€ä¸ªåˆå§‹æ˜¯ $l_1$ çš„çº¿æ€§åŸº $all$ ï¼Œä¸€ä¸ªæ ‡è®°çº¿æ€§åŸº $full$ ï¼ˆåº”è¯¥ã€‚ã€‚ï¼‰</li>
<li>ç„¶åæ¯æ¬¡ä» $l_2$ ä¸­æ‹¿ä¸€ä¸ªåŸº $v$ ï¼Œå¦‚æœå®ƒèƒ½åœ¨ $all$ ä¸­è¡¨ç¤ºå‡ºæ¥ï¼Œä¹Ÿå°±æ˜¯å¤šæ¬¡å¼‚æˆ–åçš„å€¼ä¸º0ï¼Œï¼Œé‚£ä¹ˆå°±æ ¹æ®æ ‡è®°æ¥æ’å…¥è¿™ä¸ª $v$ ï¼Œè¡¨ç¤ºä»–æ˜¯äº¤é›†çš„ä¸€ä¸ªã€‚ã€‚</li>
</ul>
<h3 id="æ¿å­ï¼š"><a href="#æ¿å­ï¼š" class="headerlink" title="æ¿å­ï¼š"></a>æ¿å­ï¼š</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-function">LinearBasis <span class="hljs-title">merge</span><span class="hljs-params">(<span class="hljs-keyword">const</span> LinearBasis &amp;l1, <span class="hljs-keyword">const</span> LinearBasis &amp;l2)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// å¾—åˆ°ä¸¤ä¸ªçº¿æ€§åŸºçš„å¹¶</span><br>    LinearBasis ret = l1;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>        <span class="hljs-keyword">if</span>(l2.a[i])<br>            ret.insert(l2.a[i]);<br>    <span class="hljs-keyword">return</span> ret;<br>&#125;<br><span class="hljs-function">LinearBasis <span class="hljs-title">intersection</span><span class="hljs-params">(<span class="hljs-keyword">const</span> LinearBasis &amp;l1, <span class="hljs-keyword">const</span> LinearBasis &amp;l2)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//å¾—åˆ°ä¸¤ä¸ªçº¿æ€§åŸºçš„äº¤</span><br>    LinearBasis all, ret, full;<br>    ret.clear();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>    &#123;<br>        all.a[i] = l1.a[i];<br>        full.a[i] = <span class="hljs-number">1ll</span> &lt;&lt; i;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(l2.a[i])<br>        &#123;<br>            ll v = l2.a[i], k = <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">true</span>;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = maxbase; j &gt;= <span class="hljs-number">0</span>; --j)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(v &amp; (<span class="hljs-number">1ll</span> &lt;&lt; j))<br>                &#123;<br>                    <span class="hljs-keyword">if</span>(all.a[j])<br>                    &#123;<br>                        v ^= all.a[j];<br>                        k ^= full.a[j];<br>                    &#125;<br>                    <span class="hljs-keyword">else</span><br>                    &#123;<br>                        <span class="hljs-comment">// l2&#x27;s basis is not in l1&#x27;s;</span><br>                        flag = <span class="hljs-literal">false</span>;<br>                        all.a[j] = v;<br>                        full.a[j] = k;<br>                        <span class="hljs-keyword">break</span>;<br>                    &#125;<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">if</span>(flag)<br>            &#123;<br>                ll v = <span class="hljs-number">0</span>; <span class="hljs-comment">// get intersection by k;</span><br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = maxbase; j &gt;= <span class="hljs-number">0</span>; --j)<br>                &#123;<br>                    <span class="hljs-keyword">if</span>(k &amp; (<span class="hljs-number">1ll</span> &lt;&lt; j))<br>                    &#123;<br>                        v ^= l1.a[j];<br>                    &#125;<br>                &#125;<br>                ret.insert(v);  <span class="hljs-comment">//save ans</span><br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> ret;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="çº¿æ€§åŸºæ±‚ç¬¬-K-å¤§"><a href="#çº¿æ€§åŸºæ±‚ç¬¬-K-å¤§" class="headerlink" title="çº¿æ€§åŸºæ±‚ç¬¬ K å¤§"></a>çº¿æ€§åŸºæ±‚ç¬¬ K å¤§</h2><p>ï¼ˆç•™å‘ï¼Œï¼Œï¼Œè¿˜æ²¡æœ‰åšé¢˜ã€‚ã€‚ã€‚</p>
<h1 id="çº¿æ€§åŸºå®Œæ•´æ¿å­"><a href="#çº¿æ€§åŸºå®Œæ•´æ¿å­" class="headerlink" title="çº¿æ€§åŸºå®Œæ•´æ¿å­"></a>çº¿æ€§åŸºå®Œæ•´æ¿å­</h1><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">LinearBasis</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxbase = <span class="hljs-number">35</span>;<br>    <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">false</span>;<br>    ll a[maxbase + <span class="hljs-number">1</span>];<br>    LinearBasis()<br>    &#123;<br>        <span class="hljs-comment">// memset(a, 0, sizeof a);</span><br>    &#125;<br>    LinearBasis(ll *x, <span class="hljs-keyword">int</span> n)<br>    &#123;<br>        LinearBasis();<br>        build(x, n); <br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">build</span><span class="hljs-params">(ll *x, <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            insert(x[i]);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">clear</span><span class="hljs-params">()</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-built_in">memset</span>(a, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> a);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">insert</span><span class="hljs-params">(ll t)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-comment">//æš´åŠ›æ’å…¥ä¸€ä¸ªæ•°ï¼Œç»´æŠ¤çš„æ˜¯ä¸€ä¸ªä¸Šä¸‰è§’å‹çš„çº¿æ€§åŸºçŸ©é˜µï¼Œæ—¶é—´å¤æ‚åº¦ä½ï¼Œå½“å¾…æ’å…¥å…ƒç´ èƒ½æ’å…¥æ—¶ï¼Œè¿”å›true</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(t &amp; (<span class="hljs-number">1ll</span> &lt;&lt; i))<br>            &#123;<br>                <span class="hljs-keyword">if</span>(!a[i])<br>                &#123;<br>                    a[i] = t;<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>                t ^= a[i];<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(t == <span class="hljs-number">0</span>)flag = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">return</span> t;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">query</span><span class="hljs-params">(ll t)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-comment">// è¯¢é—®tæ˜¯å¦å¯ä»¥è¢«å½“å‰çº¿æ€§åŸºè¡¨ç¤ºï¼Œä¸æ’å…¥</span><br>        <span class="hljs-keyword">if</span>(t &gt; queryMax())<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">if</span>(t == <span class="hljs-number">0</span>)<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(t &amp; (<span class="hljs-number">1ll</span> &lt;&lt; i))<br>            &#123;<br>                <span class="hljs-keyword">if</span>(!a[i])<br>                &#123;<br>                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>                &#125;<br>                t ^= a[i];<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Insert</span><span class="hljs-params">(ll t)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-comment">//æ’å…¥ä¸€ä¸ªçº¿æ€§åŸºï¼Œåˆ©ç”¨é«˜æ–¯æ¶ˆå…ƒæ³•ç»´æŠ¤ä¸€ä¸ªå¯¹è§’çŸ©é˜µ</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(t &gt;&gt; i &amp; <span class="hljs-number">1</span>)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(a[i])t ^= a[i];<br>                <span class="hljs-keyword">else</span><br>                &#123;<br>                    a[i] = t;<br>                    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = i - <span class="hljs-number">1</span>; j &gt;= <span class="hljs-number">0</span>; --j)<span class="hljs-keyword">if</span>(a[j] &amp;&amp; (a[i] &gt;&gt; j &amp; <span class="hljs-number">1</span>))a[i] ^= a[j];<br>                    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = i + <span class="hljs-number">1</span>; j &lt;= maxbase; ++j)<span class="hljs-keyword">if</span>(a[j] &gt;&gt; j &amp; <span class="hljs-number">1</span>)a[j] ^= a[i];<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-function">LinearBasis <span class="hljs-title">merge</span><span class="hljs-params">(<span class="hljs-keyword">const</span> LinearBasis &amp;l1, <span class="hljs-keyword">const</span> LinearBasis &amp;l2)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-comment">// å¾—åˆ°ä¸¤ä¸ªçº¿æ€§åŸºçš„å¹¶</span><br>        LinearBasis ret = l1;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>            <span class="hljs-keyword">if</span>(l2.a[i])<br>                ret.insert(l2.a[i]);<br>        <span class="hljs-keyword">return</span> ret;<br>    &#125;<br>    <span class="hljs-function">LinearBasis <span class="hljs-title">intersection</span><span class="hljs-params">(<span class="hljs-keyword">const</span> LinearBasis &amp;l1, <span class="hljs-keyword">const</span> LinearBasis &amp;l2)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-comment">//å¾—åˆ°ä¸¤ä¸ªçº¿æ€§åŸºçš„äº¤</span><br>        LinearBasis all, ret, full;<br>        ret.clear();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>        &#123;<br>            all.a[i] = l1.a[i];<br>            full.a[i] = <span class="hljs-number">1ll</span> &lt;&lt; i;<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(l2.a[i])<br>            &#123;<br>                ll v = l2.a[i], k = <span class="hljs-number">0</span>;<br>                <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">true</span>;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = maxbase; j &gt;= <span class="hljs-number">0</span>; --j)<br>                &#123;<br>                    <span class="hljs-keyword">if</span>(v &amp; (<span class="hljs-number">1ll</span> &lt;&lt; j))<br>                    &#123;<br>                        <span class="hljs-keyword">if</span>(all.a[j])<br>                        &#123;<br>                            v ^= all.a[j];<br>                            k ^= full.a[j];<br>                        &#125;<br>                        <span class="hljs-keyword">else</span><br>                        &#123;<br>                            <span class="hljs-comment">// l2&#x27;s basis is not in l1&#x27;s;</span><br>                            flag = <span class="hljs-literal">false</span>;<br>                            all.a[j] = v;<br>                            full.a[j] = k;<br>                            <span class="hljs-keyword">break</span>;<br>                        &#125;<br>                    &#125;<br>                &#125;<br>                <span class="hljs-keyword">if</span>(flag)<br>                &#123;<br>                    ll v = <span class="hljs-number">0</span>; <span class="hljs-comment">// get intersection by k;</span><br>                    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = maxbase; j &gt;= <span class="hljs-number">0</span>; --j)<br>                    &#123;<br>                        <span class="hljs-keyword">if</span>(k &amp; (<span class="hljs-number">1ll</span> &lt;&lt; j))<br>                        &#123;<br>                            v ^= l1.a[j];<br>                        &#125;<br>                    &#125;<br>                    ret.insert(v);  <span class="hljs-comment">//save ans</span><br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> ret;<br>    &#125;<br>    <span class="hljs-comment">//è¯¢é—®æœ€å€¼</span><br>    <span class="hljs-function">ll <span class="hljs-title">queryMax</span><span class="hljs-params">()</span></span><br><span class="hljs-function">    </span>&#123;<br>        ll ret = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>            <span class="hljs-keyword">if</span>((ret ^ a[i]) &gt; ret)<br>                ret ^= a[i];<br>        <span class="hljs-keyword">return</span> ret;<br>    &#125;<br>    <span class="hljs-function">ll <span class="hljs-title">queryMin</span><span class="hljs-params">()</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= maxbase; ++i)<br>            <span class="hljs-keyword">if</span>(a[i])<br>                <span class="hljs-keyword">return</span> a[i];<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>
<h1 id="çº¿æ€§åŸºç»ƒä¹ "><a href="#çº¿æ€§åŸºç»ƒä¹ " class="headerlink" title="çº¿æ€§åŸºç»ƒä¹ "></a>çº¿æ€§åŸºç»ƒä¹ </h1><h2 id="æ¨¡æ¿é¢˜"><a href="#æ¨¡æ¿é¢˜" class="headerlink" title="æ¨¡æ¿é¢˜"></a><a href="https://www.luogu.org/problem/P3812">æ¨¡æ¿é¢˜</a></h2><p><a href="https://www.luogu.org/problem/P3812">æ¨¡æ¿é¢˜</a></p>
<p>ç†Ÿæ‚‰ä¸‹æ¿å­ï¼Œï¼Œæ•²ä¸€ä¸‹å°±å¯ä»¥äº†ï¼Œï¼Œ</p>
<h2 id="è´ªå¿ƒ-çº¿æ€§åŸºæ’å…¥å…ƒç´ çš„æ€§è´¨"><a href="#è´ªå¿ƒ-çº¿æ€§åŸºæ’å…¥å…ƒç´ çš„æ€§è´¨" class="headerlink" title="è´ªå¿ƒ+çº¿æ€§åŸºæ’å…¥å…ƒç´ çš„æ€§è´¨"></a><a href="https://www.luogu.org/problem/P4570">è´ªå¿ƒ+çº¿æ€§åŸºæ’å…¥å…ƒç´ çš„æ€§è´¨</a></h2><p><a href="https://www.luogu.org/problem/P4570">è´ªå¿ƒ+çº¿æ€§åŸºæ’å…¥å…ƒç´ çš„æ€§è´¨</a></p>
<p>å¯¹äºæ¯ä¸ªæ•°é›†ä¸­çš„æ•°ï¼Œæœ‰ä¸€ä¸ªç¬¬äºŒæƒå€¼ï¼Œè¦ä¿è¯é€‰çš„æ•°é›†ä¸­çš„æ•°å¼‚æˆ–å’Œä¸ä¸ºé›¶çš„æƒ…å†µä¸‹æƒå€¼æœ€å¤§ï¼Œï¼Œåªè¦é€‰æƒå€¼ä»å¤§åˆ°å°ä¸”ä¸‹æ ‡å¼‚æˆ–å’Œä¸ä¸ºé›¶çš„å…ƒç´ çš„è´¡çŒ®å°±å¯ä»¥äº†ï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// luogu-judger-enable-o2</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-comment">// #include &lt;iostream&gt;</span><br><span class="hljs-comment">// #include &lt;cstdio&gt;</span><br><span class="hljs-comment">// #include &lt;cstdlib&gt;</span><br><span class="hljs-comment">// #include &lt;string.h&gt;</span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;algorithm&gt;</span><br><span class="hljs-comment">// #include &lt;set&gt;</span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;cmath&gt;</span><br><span class="hljs-comment">// #include &lt;queue&gt;</span><br><span class="hljs-comment">// #include &lt;stack&gt;</span><br><span class="hljs-comment">// #include &lt;ctime&gt;</span><br><span class="hljs-comment">// #include &lt;random&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">LinearBasis</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxbase = <span class="hljs-number">62</span>;<br>    ll a[maxbase + <span class="hljs-number">1</span>];<br>    LinearBasis()<br>    &#123;<br>        <span class="hljs-built_in">memset</span>(a, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> a);<br>    &#125;<br>    LinearBasis(ll *x, <span class="hljs-keyword">int</span> n)<br>    &#123;<br>        LinearBasis();<br>        build(x, n);   <br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">build</span><span class="hljs-params">(ll *x, <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            insert(x[i]);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">insert</span><span class="hljs-params">(ll t)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(t &amp; (<span class="hljs-number">1ll</span> &lt;&lt; i))<br>            &#123;<br>                <span class="hljs-keyword">if</span>(!a[i])<br>                &#123;<br>                    a[i] = t;<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>                t ^= a[i];<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> t;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Insert</span><span class="hljs-params">(ll t)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(t &gt;&gt; i &amp; <span class="hljs-number">1</span>)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(a[i])t ^= a[i];<br>                <span class="hljs-keyword">else</span><br>                &#123;<br>                    a[i] = t;<br>                    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = i - <span class="hljs-number">1</span>; j &gt;= <span class="hljs-number">0</span>; --j)<span class="hljs-keyword">if</span>(a[j] &amp;&amp; (a[i] &gt;&gt; j &amp; <span class="hljs-number">1</span>))a[i] ^= a[j];<br>                    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = i + <span class="hljs-number">1</span>; j &lt;= maxbase; ++j)<span class="hljs-keyword">if</span>(a[j] &gt;&gt; j &amp; <span class="hljs-number">1</span>)a[j] ^= a[i];<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-function">LinearBasis <span class="hljs-title">merge</span><span class="hljs-params">(<span class="hljs-keyword">const</span> LinearBasis &amp;l1, <span class="hljs-keyword">const</span> LinearBasis &amp;l2)</span></span><br><span class="hljs-function">    </span>&#123;<br>        LinearBasis ret = l1;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>            <span class="hljs-keyword">if</span>(l2.a[i])<br>                ret.insert(l2.a[i]);<br>        <span class="hljs-keyword">return</span> ret;<br>    &#125;<br>    <span class="hljs-function">ll <span class="hljs-title">queryMax</span><span class="hljs-params">()</span></span><br><span class="hljs-function">    </span>&#123;<br>        ll ret = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>            <span class="hljs-keyword">if</span>((ret ^ a[i]) &gt; ret)<br>                ret ^= a[i];<br>        <span class="hljs-keyword">return</span> ret;<br>    &#125;<br>    <span class="hljs-function">ll <span class="hljs-title">queryMin</span><span class="hljs-params">()</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= maxbase; ++i)<br>            <span class="hljs-keyword">if</span>(a[i])<br>                <span class="hljs-keyword">return</span> a[i];<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br>&#125;;<br><span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, ll&gt; p[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br><br>    <span class="hljs-keyword">int</span> n; <span class="hljs-built_in">cin</span> &gt;&gt; n;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; p[i].second &gt;&gt; p[i].first;<br>    sort(p + <span class="hljs-number">1</span>, p + <span class="hljs-number">1</span> + n, greater&lt;<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, ll&gt;&gt;());<br>    LinearBasis l;<br>    <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-keyword">if</span>(l.insert(p[i].second))ans += p[i].first;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="hljs-built_in">endl</span>;<br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="çº¿æ€§åŸºæ•°é‡ç»„åˆ"><a href="#çº¿æ€§åŸºæ•°é‡ç»„åˆ" class="headerlink" title="çº¿æ€§åŸºæ•°é‡ç»„åˆ"></a><a href="https://www.luogu.org/problem/P3857">çº¿æ€§åŸºæ•°é‡ç»„åˆ</a></h2><p><a href="https://www.luogu.org/problem/P3857">çº¿æ€§åŸºæ•°é‡ç»„åˆ</a></p>
<p>é¢˜ç›®é—®ä¸€äº› $01$ åºåˆ—å¯ä»¥è¡¨ç¤ºçš„æ•°ï¼ˆçŠ¶æ€ï¼‰æœ‰å‡ ç§ï¼Œï¼Œå°±æ˜¯çº¿æ€§åŸºçš„å¤§å°çš„2æ¬¡æ–¹ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// luogu-judger-enable-o2</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-comment">// #include &lt;iostream&gt;</span><br><span class="hljs-comment">// #include &lt;cstdio&gt;</span><br><span class="hljs-comment">// #include &lt;cstdlib&gt;</span><br><span class="hljs-comment">// #include &lt;string.h&gt;</span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;algorithm&gt;</span><br><span class="hljs-comment">// #include &lt;set&gt;</span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;cmath&gt;</span><br><span class="hljs-comment">// #include &lt;queue&gt;</span><br><span class="hljs-comment">// #include &lt;stack&gt;</span><br><span class="hljs-comment">// #include &lt;ctime&gt;</span><br><span class="hljs-comment">// #include &lt;random&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">LinearBasis</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxbase = <span class="hljs-number">62</span>;<br>    ll a[maxbase + <span class="hljs-number">1</span>];<br>    LinearBasis()<br>    &#123;<br>        <span class="hljs-built_in">memset</span>(a, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> a);<br>    &#125;<br>    LinearBasis(ll *x, <span class="hljs-keyword">int</span> n)<br>    &#123;<br>        LinearBasis();<br>        build(x, n);   <br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">build</span><span class="hljs-params">(ll *x, <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            insert(x[i]);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">insert</span><span class="hljs-params">(ll t)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(t &amp; (<span class="hljs-number">1ll</span> &lt;&lt; i))<br>            &#123;<br>                <span class="hljs-keyword">if</span>(!a[i])<br>                &#123;<br>                    a[i] = t;<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>                t ^= a[i];<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> t;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Insert</span><span class="hljs-params">(ll t)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(t &gt;&gt; i &amp; <span class="hljs-number">1</span>)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(a[i])t ^= a[i];<br>                <span class="hljs-keyword">else</span><br>                &#123;<br>                    a[i] = t;<br>                    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = i - <span class="hljs-number">1</span>; j &gt;= <span class="hljs-number">0</span>; --j)<span class="hljs-keyword">if</span>(a[j] &amp;&amp; (a[i] &gt;&gt; j &amp; <span class="hljs-number">1</span>))a[i] ^= a[j];<br>                    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = i + <span class="hljs-number">1</span>; j &lt;= maxbase; ++j)<span class="hljs-keyword">if</span>(a[j] &gt;&gt; j &amp; <span class="hljs-number">1</span>)a[j] ^= a[i];<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-function">LinearBasis <span class="hljs-title">merge</span><span class="hljs-params">(<span class="hljs-keyword">const</span> LinearBasis &amp;l1, <span class="hljs-keyword">const</span> LinearBasis &amp;l2)</span></span><br><span class="hljs-function">    </span>&#123;<br>        LinearBasis ret = l1;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>            <span class="hljs-keyword">if</span>(l2.a[i])<br>                ret.insert(l2.a[i]);<br>        <span class="hljs-keyword">return</span> ret;<br>    &#125;<br>    <span class="hljs-function">ll <span class="hljs-title">queryMax</span><span class="hljs-params">()</span></span><br><span class="hljs-function">    </span>&#123;<br>        ll ret = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>            <span class="hljs-keyword">if</span>((ret ^ a[i]) &gt; ret)<br>                ret ^= a[i];<br>        <span class="hljs-keyword">return</span> ret;<br>    &#125;<br>    <span class="hljs-function">ll <span class="hljs-title">queryMin</span><span class="hljs-params">()</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= maxbase; ++i)<br>            <span class="hljs-keyword">if</span>(a[i])<br>                <span class="hljs-keyword">return</span> a[i];<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br>&#125;;<br><span class="hljs-keyword">char</span> ch[<span class="hljs-number">55</span>];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br><br>    <span class="hljs-keyword">int</span> n, m; <span class="hljs-built_in">cin</span> &gt;&gt; m &gt;&gt; n;<br>    LinearBasis l;<br>    <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; ch;<br>        ll t = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt;= m - <span class="hljs-number">1</span>; ++j)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(ch[j] == <span class="hljs-string">&#x27;O&#x27;</span>)t |= <span class="hljs-number">1</span>;<br>            t &lt;&lt;= <span class="hljs-number">1</span>;<br>        &#125;<br>        t &gt;&gt;= <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span>(l.insert(t))++ans;<br>    &#125;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; (<span class="hljs-number">1ll</span> &lt;&lt; ans) % <span class="hljs-number">2008</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="LCAæ ‘é“¾å‰–åˆ†æš´åŠ›åˆå¹¶çº¿æ€§åŸºæ±‚è·¯å¾„é—´ç‚¹æƒå¼‚æˆ–å’Œæœ€å¤§"><a href="#LCAæ ‘é“¾å‰–åˆ†æš´åŠ›åˆå¹¶çº¿æ€§åŸºæ±‚è·¯å¾„é—´ç‚¹æƒå¼‚æˆ–å’Œæœ€å¤§" class="headerlink" title="LCAæ ‘é“¾å‰–åˆ†æš´åŠ›åˆå¹¶çº¿æ€§åŸºæ±‚è·¯å¾„é—´ç‚¹æƒå¼‚æˆ–å’Œæœ€å¤§"></a><a href="https://www.luogu.org/problem/P3292">LCAæ ‘é“¾å‰–åˆ†æš´åŠ›åˆå¹¶çº¿æ€§åŸºæ±‚è·¯å¾„é—´ç‚¹æƒå¼‚æˆ–å’Œæœ€å¤§</a></h2><p><a href="https://www.luogu.org/problem/P3292">LCAæ ‘é“¾å‰–åˆ†æš´åŠ›åˆå¹¶çº¿æ€§åŸºæ±‚è·¯å¾„é—´ç‚¹æƒå¼‚æˆ–å’Œæœ€å¤§</a></p>
<p>è¿™é¢˜çš„å¤§æ„æ˜¯ä¸€ä¸ªæ ‘ï¼Œæœ‰ç‚¹æƒï¼Œé—®ä½ å¯¹äºæ ‘ä¸Šä»»æ„ä¸¤ç‚¹çš„è·¯å¾„ $u-&gt;v$ çš„ç‚¹æƒçš„å¼‚æˆ–å’Œçš„æœ€å¤§å€¼æ˜¯å¤šå°‘ï¼Œï¼Œ</p>
<p>æ ‘ä¸Šä»»æ„ä¸¤ç‚¹é—´çš„è·¯å¾„å°±æ˜¯é—® LCA ï¼Œï¼Œæ‰€ä»¥ç”¨é‚£å‡ ç§æ±‚LCAçš„æ–¹æ³•å°±å¯ä»¥äº†ï¼Œï¼Œä¹‹å‰çœ‹è¿‡æ ‘é“¾å‰–åˆ†ï¼Œï¼Œä½†æ˜¯å¿˜å¾—å·®ä¸å¤šäº†ï¼Œï¼Œæ¡èµ·æ¥é‡å­¦äº†ä¸‹ï¼Œï¼Œ</p>
<p>å°±å’ŒLCAçš„é¢˜ä¸€æ ·ï¼Œä¸è¿‡æ˜¯çº¿æ®µæ ‘ç­‰æ•°æ®ç»“æ„ç»´æŠ¤çš„ä¹‹ä¸åŒäº†ï¼Œï¼Œä»¥å‰æ˜¯å’Œã€æœ€å€¼ä»€ä¹ˆçš„ï¼Œï¼Œè¿™é¢˜æ”¹æˆçº¿æ€§åŸºå°±å¯ä»¥äº†ï¼Œï¼Œç»´æŠ¤ä¸€æ¡è·¯å¾„çš„çº¿æ€§åŸºï¼Œï¼Œç„¶åè¿›è¡Œçº¿æ€§åŸºçš„åˆå¹¶å°±å¯ä»¥äº†ï¼Œï¼Œï¼Œ<del>ï¼ˆæ•°æ®æ•°ç»„å¼€æˆintç‚¸äº†å¥½å‡ å‘re</del></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// luogu-judger-enable-o2</span><br><span class="hljs-comment">// luogu-judger-enable-o2</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-comment">// #include &lt;iostream&gt;</span><br><span class="hljs-comment">// #include &lt;cstdio&gt;</span><br><span class="hljs-comment">// #include &lt;cstdlib&gt;</span><br><span class="hljs-comment">// #include &lt;string.h&gt;</span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;algorithm&gt;</span><br><span class="hljs-comment">// #include &lt;set&gt;</span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;cmath&gt;</span><br><span class="hljs-comment">// #include &lt;queue&gt;</span><br><span class="hljs-comment">// #include &lt;stack&gt;</span><br><span class="hljs-comment">// #include &lt;ctime&gt;</span><br><span class="hljs-comment">// #include &lt;random&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">2e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">LinearBasis</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxbase = <span class="hljs-number">63</span>;<br>    ll a[maxbase + <span class="hljs-number">1</span>];<br>    LinearBasis()<br>    &#123;<br>        <span class="hljs-built_in">memset</span>(a, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> a);<br>    &#125;<br>    LinearBasis(ll *x, <span class="hljs-keyword">int</span> n)<br>    &#123;<br>        LinearBasis();<br>        build(x, n);   <br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">build</span><span class="hljs-params">(ll *x, <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            insert(x[i]);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">clear</span><span class="hljs-params">()</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-built_in">memset</span>(a, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> a);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">insert</span><span class="hljs-params">(ll t)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(t &amp; (<span class="hljs-number">1ll</span> &lt;&lt; i))<br>            &#123;<br>                <span class="hljs-keyword">if</span>(!a[i])<br>                &#123;<br>                    a[i] = t;<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>                t ^= a[i];<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> t;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Insert</span><span class="hljs-params">(ll t)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(t &gt;&gt; i &amp; <span class="hljs-number">1</span>)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(a[i])t ^= a[i];<br>                <span class="hljs-keyword">else</span><br>                &#123;<br>                    a[i] = t;<br>                    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = i - <span class="hljs-number">1</span>; j &gt;= <span class="hljs-number">0</span>; --j)<span class="hljs-keyword">if</span>(a[j] &amp;&amp; (a[i] &gt;&gt; j &amp; <span class="hljs-number">1</span>))a[i] ^= a[j];<br>                    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = i + <span class="hljs-number">1</span>; j &lt;= maxbase; ++j)<span class="hljs-keyword">if</span>(a[j] &gt;&gt; j &amp; <span class="hljs-number">1</span>)a[j] ^= a[i];<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-function">LinearBasis <span class="hljs-title">merge</span><span class="hljs-params">(<span class="hljs-keyword">const</span> LinearBasis &amp;l1, <span class="hljs-keyword">const</span> LinearBasis &amp;l2)</span></span><br><span class="hljs-function">    </span>&#123;<br>        LinearBasis ret = l1;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>            <span class="hljs-keyword">if</span>(l2.a[i])<br>                ret.insert(l2.a[i]);<br>        <span class="hljs-keyword">return</span> ret;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">merge</span><span class="hljs-params">(<span class="hljs-keyword">const</span> LinearBasis &amp;r)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>            <span class="hljs-keyword">if</span>(r.a[i])<br>                insert(r.a[i]);<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-function">ll <span class="hljs-title">queryMax</span><span class="hljs-params">()</span></span><br><span class="hljs-function">    </span>&#123;<br>        ll ret = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>            <span class="hljs-keyword">if</span>((ret ^ a[i]) &gt; ret)<br>                ret ^= a[i];<br>        <span class="hljs-keyword">return</span> ret;<br>    &#125;<br>    <span class="hljs-function">ll <span class="hljs-title">queryMin</span><span class="hljs-params">()</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= maxbase; ++i)<br>            <span class="hljs-keyword">if</span>(a[i])<br>                <span class="hljs-keyword">return</span> a[i];<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br>&#125;;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt;<br>&#125;edge[maxn * <span class="hljs-number">3</span>];<br><span class="hljs-keyword">int</span> tot, head[maxn * <span class="hljs-number">3</span>];<br><span class="hljs-keyword">int</span> top[maxn * <span class="hljs-number">3</span>];<br><span class="hljs-keyword">int</span> fa[maxn * <span class="hljs-number">3</span>];<br><span class="hljs-keyword">int</span> dep[maxn * <span class="hljs-number">3</span>];<br><span class="hljs-keyword">int</span> num[maxn * <span class="hljs-number">3</span>];<br><span class="hljs-keyword">int</span> p[maxn * <span class="hljs-number">3</span>], fp[maxn * <span class="hljs-number">3</span>];<br><span class="hljs-keyword">int</span> son[maxn * <span class="hljs-number">3</span>];<br><span class="hljs-keyword">int</span> pos;<br>ll a[maxn], w[maxn &lt;&lt; <span class="hljs-number">2</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>    pos = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(son, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> son);<br>    <span class="hljs-built_in">memset</span>(w, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> w);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].nxt = head[u];<br>    head[u] = tot++; <br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs1</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> pre, <span class="hljs-keyword">int</span> d)</span></span><br><span class="hljs-function"></span>&#123;<br>    dep[u] = d;<br>    fa[u] = pre;<br>    num[u] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>    &#123;<br>        <span class="hljs-keyword">int</span> v = edge[i].to;<br>        <span class="hljs-keyword">if</span>(v != pre)<br>        &#123;<br>            dfs1(v, u, d + <span class="hljs-number">1</span>);<br>            num[u] += num[v];<br>            <span class="hljs-keyword">if</span>(son[u] == <span class="hljs-number">-1</span> || num[v] &gt; num[son[u]])<br>                son[u] = v;<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs2</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> sp)</span></span><br><span class="hljs-function"></span>&#123;<br>    top[u] = sp;<br>    p[u] = ++pos;<br>    fp[p[u]] = u;<br>    w[pos] = a[u];<br>    <span class="hljs-keyword">if</span>(son[u] == <span class="hljs-number">-1</span>)<span class="hljs-keyword">return</span>;<br>    dfs2(son[u], sp);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>    &#123;<br>        <span class="hljs-keyword">int</span> v = edge[i].to;<br>        <span class="hljs-keyword">if</span>(v != son[u] &amp;&amp; v != fa[u])<br>            dfs2(v, v);<br>    &#125;<br>&#125;<br><br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> l, r;<br>    LinearBasis lb;<br>&#125;node[maxn * <span class="hljs-number">6</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">pushup</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt)</span></span><br><span class="hljs-function"></span>&#123;<br>    node[rt].lb.merge(node[rt &lt;&lt; <span class="hljs-number">1</span>].lb);<br>    node[rt].lb.merge(node[rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>].lb);<br>    <span class="hljs-comment">// cout &lt;&lt; endl;for(int i = 0; i &lt;= 5; i ++)cout &lt;&lt; node[rt &lt;&lt; 1].lb.a[i] &lt;&lt; &quot;-&quot;;cout &lt;&lt; endl &lt;&lt; endl;</span><br>    <span class="hljs-comment">// cout &lt;&lt; endl;for(int i = 0; i &lt;= 5; i ++)cout &lt;&lt; node[rt &lt;&lt; 1 | 1].lb.a[i] &lt;&lt; &quot;+&quot;;cout &lt;&lt; endl &lt;&lt; endl;</span><br>    <span class="hljs-comment">// cout &lt;&lt; endl;for(int i = 0; i &lt;= 5; i ++)cout &lt;&lt; node[rt].lb.a[i] &lt;&lt; &quot; &quot;;cout &lt;&lt; endl &lt;&lt; endl;</span><br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">build</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    node[rt].l = l; node[rt].r = r;<br>    <span class="hljs-keyword">if</span>(l == r)&#123;node[rt].lb.insert(w[l]);<span class="hljs-keyword">return</span>;&#125;<br>    <span class="hljs-keyword">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>    build(rt &lt;&lt; <span class="hljs-number">1</span>, l, mid);<br>    build(rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>, mid + <span class="hljs-number">1</span>, r);<br>    pushup(rt);<br>    <span class="hljs-keyword">return</span>;<br>&#125;<br>LinearBasis ret;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">query</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(node[rt].l == l &amp;&amp; node[rt].r == r)<br>    &#123;<br>        ret.merge(node[rt].lb);<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-keyword">int</span> mid = node[rt].l + node[rt].r &gt;&gt; <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">if</span>(r &lt;= mid)query(rt &lt;&lt; <span class="hljs-number">1</span>, l, r);<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(l &gt; mid)query(rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>, l, r);<br>    <span class="hljs-keyword">else</span> query(rt &lt;&lt; <span class="hljs-number">1</span>, l, mid), query(rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>, mid + <span class="hljs-number">1</span>, r);<br>&#125;<br><span class="hljs-function">ll <span class="hljs-title">getAns</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> f1 = top[u], f2 = top[v];<br>    LinearBasis ans;<br>    <span class="hljs-keyword">while</span>(f1 != f2)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(dep[f1] &lt; dep[f2])<br>        &#123;<br>            swap(f1, f2);<br>            swap(u, v);<br>        &#125;<br>        ret.clear();<br>        query(<span class="hljs-number">1</span>, p[f1], p[u]);<br>        <span class="hljs-comment">// cout &lt;&lt; endl; cout &lt;&lt; p[f1] &lt;&lt; &quot; &quot; &lt;&lt; p[u] &lt;&lt; &quot; &quot; &lt;&lt; f1 &lt;&lt; &quot; &quot; &lt;&lt; u &lt;&lt; endl;for(int i = 0; i &lt;= 5; ++i)cout &lt;&lt; ret.a[i] &lt;&lt; &quot; &quot;;cout&lt;&lt; endl;</span><br>        <span class="hljs-comment">// cout &lt;&lt;ret.queryMax() &lt;&lt; &quot;----------------------&quot; &lt;&lt; endl;</span><br>        ans.merge(ret);<br>        u = fa[f1]; f1 = top[u];<br>    &#125;<br>    ret.clear();<br>    <span class="hljs-keyword">if</span>(dep[u] &gt; dep[v])swap(u, v);<br>    query(<span class="hljs-number">1</span>, p[u], p[v]);<br>    ans.merge(ret);<br>    <span class="hljs-keyword">return</span> ans.queryMax();<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br><br>    init();<br>    <span class="hljs-keyword">int</span> n, q; <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; q;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; a[i];<br>    <span class="hljs-keyword">int</span> u, v;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n - <span class="hljs-number">1</span>; ++i)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; u &gt;&gt; v;<br>        addedge(u, v);<br>        addedge(v, u);<br>    &#125;<br>    dfs1(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>);<br>    dfs2(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>);<br>    build(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, pos);<br>    <span class="hljs-keyword">while</span>(q--)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; u &gt;&gt; v;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; getAns(u, v) &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br>    <span class="hljs-comment">// for(int i = 5; i &gt;= 0; --i)</span><br>    <span class="hljs-comment">//     cout &lt;&lt; node[1].lb.a[i] &lt;&lt; endl;</span><br>    <span class="hljs-comment">// ret.clear();</span><br>    <span class="hljs-comment">// query(1, p[4], p[4]);</span><br>    <span class="hljs-comment">// cout &lt;&lt; ret.queryMax() &lt;&lt; endl;</span><br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="ç‰›å®¢ç¬¬å››åœºå¤šæ ¡xor"><a href="#ç‰›å®¢ç¬¬å››åœºå¤šæ ¡xor" class="headerlink" title="ç‰›å®¢ç¬¬å››åœºå¤šæ ¡xor"></a><a href="https://ac.nowcoder.com/acm/contest/884/B">ç‰›å®¢ç¬¬å››åœºå¤šæ ¡xor</a></h2><p><a href="https://ac.nowcoder.com/acm/contest/884/B">ç‰›å®¢ç¬¬å››åœºå¤šæ ¡xor</a></p>
<p>è¿™é¢˜æ±‚å¾—æ˜¯ä¸€ä¸ªåŒºé—´çº¿æ€§åŸºçš„å¹¶ï¼Œï¼Œé¢˜ç›®å¤§æ„æ˜¯ç»™ä½ ä¸€å †æ•°é›† $a_i$ ï¼Œï¼Œ ç„¶åä¸€äº›è¯¢é—® $l, r, x$ é—®ä½  $a_lâ€¦.a_r$ çš„æ¯ä¸€ä¸ªé›†åˆèƒ½å¦å¼‚æˆ–å‡º $x$ ï¼Œï¼Œï¼Œ</p>
<p>æš´åŠ›çº¿æ€§åŸºæŸ¥è¯¢è‚¯å®šä¼šT <del>ï¼ˆè¯´çš„å°±æ˜¯æˆ‘ï¼Œï¼Œï¼Œ</del>ï¼Œï¼Œ</p>
<p>è¯¢é—®çš„æ˜¯ä¸€ä¸ªåŒºé—´çš„æ¯ä¸€ä¸ªé›†åˆèƒ½å¦å¯ä»¥å¼‚æˆ–å‡ºæ•° $x$ ï¼Œï¼Œåè¿‡æ¥æƒ³ï¼Œï¼Œå°±æ˜¯å­˜åœ¨ä¸å­˜åœ¨ä¸€ç»„çº¿æ€§åŸºå¯ä»¥è¡¨ç¤º $x$ çš„æƒ…å†µä¸‹åŒæ—¶æ˜¯æ¯ä¸€ç»„çš„ä¸€ä¸ªå­é›†ï¼Œï¼Œï¼Œä¹Ÿå°±æ˜¯è¯´è¿™äº›é›†åˆçº¿æ€§åŸºçš„äº¤èƒ½å¦è¡¨ç¤ºå‡º $x$ ï¼Œï¼Œ ä¸€ä¸ªçº¿æ€§åŸºèƒ½å¦è¡¨ç¤ºæ•°å¾ˆç®€å•ï¼Œï¼Œå…³é”®å°±æ˜¯çº¿æ€§åŸºçš„æ±‚äº¤ï¼Œï¼Œï¼Œå¼„å¥½è¿™ä¸ªå°±å¯ä»¥ç”¨çº¿æ®µæ ‘ç»´æŠ¤åŒºé—´çš„çº¿æ€§åŸºçš„äº¤ï¼Œï¼Œï¼Œå¯¹äºè¯¢é—®ï¼Œæœ€ç›´æ¥çš„æƒ³æ³•å°±æ˜¯æ±‚å‡ºè¯¢é—®åŒºé—´çš„äº¤ï¼Œç„¶åæŸ¥çœ‹æ˜¯å¦å¯ä»¥è¡¨ç¤ºå‡ºæ•° $x$ ï¼Œï¼Œä½†æ˜¯è¿™æ ·æ²¡å¿…è¦ï¼Œå¯èƒ½ä¼šT ï¼Œï¼Œï¼Œ<del>ï¼ˆåˆ«é—®æˆ‘ä¸ºä»€ä¹ˆï¼Œï¼Œï¼Œ</del> ï¼Œï¼Œåªè¦åˆ¤æ–­æ¯ä¸€ä¸ªè¯¢é—®çš„å­åŒºé—´çš„äº¤æ˜¯å¦å¯ä»¥è¡¨ç¤ºå³å¯ï¼Œï¼ŒæŠŠè¿™äº›åŒºé—´ç»“æœåˆå¹¶ä¸å°±æ˜¯ç­”æ¡ˆï¼Œï¼Œï¼Œ</p>
<p><del>ï¼ˆæœ‰ä¸€æ¬¡æŠŠllå†™æˆintï¼Œç–¯ç‹‚WAï¼Œï¼Œ è¿˜æœ‰çº¿æ€§åŸºçš„äº¤é­”æ”¹ä»£ç çˆ†ç‚¸</del> ï¼Œï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-comment">// #include &lt;iostream&gt;</span><br><span class="hljs-comment">// #include &lt;cstdio&gt;</span><br><span class="hljs-comment">// #include &lt;cstdlib&gt;</span><br><span class="hljs-comment">// #include &lt;string.h&gt;</span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;algorithm&gt;</span><br><span class="hljs-comment">// #include &lt;set&gt;</span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;cmath&gt;</span><br><span class="hljs-comment">// #include &lt;queue&gt;</span><br><span class="hljs-comment">// #include &lt;stack&gt;</span><br><span class="hljs-comment">// #include &lt;ctime&gt;</span><br><span class="hljs-comment">// #include &lt;random&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">5e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br>  <br>  <br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">LinearBasis</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxbase = <span class="hljs-number">35</span>;<br>    <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">false</span>;<br>    ll a[maxbase + <span class="hljs-number">1</span>];<br>    LinearBasis()<br>    &#123;<br>        <span class="hljs-comment">// memset(a, 0, sizeof a);</span><br>    &#125;<br>    LinearBasis(ll *x, <span class="hljs-keyword">int</span> n)<br>    &#123;<br>        LinearBasis();<br>        build(x, n); <br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">build</span><span class="hljs-params">(ll *x, <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            insert(x[i]);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">clear</span><span class="hljs-params">()</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-built_in">memset</span>(a, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> a);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">insert</span><span class="hljs-params">(ll t)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(t &amp; (<span class="hljs-number">1ll</span> &lt;&lt; i))<br>            &#123;<br>                <span class="hljs-keyword">if</span>(!a[i])<br>                &#123;<br>                    a[i] = t;<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>                t ^= a[i];<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(t == <span class="hljs-number">0</span>)flag = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">return</span> t;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">query</span><span class="hljs-params">(ll t)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">if</span>(t &gt; queryMax())<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">if</span>(t == <span class="hljs-number">0</span>)<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(t &amp; (<span class="hljs-number">1ll</span> &lt;&lt; i))<br>            &#123;<br>                <span class="hljs-keyword">if</span>(!a[i])<br>                &#123;<br>                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>                &#125;<br>                t ^= a[i];<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Insert</span><span class="hljs-params">(ll t)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(t &gt;&gt; i &amp; <span class="hljs-number">1</span>)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(a[i])t ^= a[i];<br>                <span class="hljs-keyword">else</span><br>                &#123;<br>                    a[i] = t;<br>                    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = i - <span class="hljs-number">1</span>; j &gt;= <span class="hljs-number">0</span>; --j)<span class="hljs-keyword">if</span>(a[j] &amp;&amp; (a[i] &gt;&gt; j &amp; <span class="hljs-number">1</span>))a[i] ^= a[j];<br>                    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = i + <span class="hljs-number">1</span>; j &lt;= maxbase; ++j)<span class="hljs-keyword">if</span>(a[j] &gt;&gt; j &amp; <span class="hljs-number">1</span>)a[j] ^= a[i];<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-function">LinearBasis <span class="hljs-title">merge</span><span class="hljs-params">(<span class="hljs-keyword">const</span> LinearBasis &amp;l1, <span class="hljs-keyword">const</span> LinearBasis &amp;l2)</span></span><br><span class="hljs-function">    </span>&#123;<br>        LinearBasis ret = l1;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>            <span class="hljs-keyword">if</span>(l2.a[i])<br>                ret.insert(l2.a[i]);<br>        <span class="hljs-keyword">return</span> ret;<br>    &#125;<br>    <span class="hljs-function">LinearBasis <span class="hljs-title">intersection</span><span class="hljs-params">(<span class="hljs-keyword">const</span> LinearBasis &amp;l1, <span class="hljs-keyword">const</span> LinearBasis &amp;l2)</span></span><br><span class="hljs-function">    </span>&#123;<br>        LinearBasis all, ret, full;<br>        ret.clear();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>        &#123;<br>            all.a[i] = l1.a[i];<br>            full.a[i] = <span class="hljs-number">1ll</span> &lt;&lt; i;<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(l2.a[i])<br>            &#123;<br>                ll v = l2.a[i], k = <span class="hljs-number">0</span>;<br>                <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">true</span>;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = maxbase; j &gt;= <span class="hljs-number">0</span>; --j)<br>                &#123;<br>                    <span class="hljs-keyword">if</span>(v &amp; (<span class="hljs-number">1ll</span> &lt;&lt; j))<br>                    &#123;<br>                        <span class="hljs-keyword">if</span>(all.a[j])<br>                        &#123;<br>                            v ^= all.a[j];<br>                            k ^= full.a[j];<br>                        &#125;<br>                        <span class="hljs-keyword">else</span><br>                        &#123;<br>                            <span class="hljs-comment">// l2&#x27;s basis is not in l1&#x27;s;</span><br>                            flag = <span class="hljs-literal">false</span>;<br>                            all.a[j] = v;<br>                            full.a[j] = k;<br>                            <span class="hljs-keyword">break</span>;<br>                        &#125;<br>                    &#125;<br>                &#125;<br>                <span class="hljs-keyword">if</span>(flag)<br>                &#123;<br>                    ll v = <span class="hljs-number">0</span>; <span class="hljs-comment">// get intersection by k;</span><br>                    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = maxbase; j &gt;= <span class="hljs-number">0</span>; --j)<br>                    &#123;<br>                        <span class="hljs-keyword">if</span>(k &amp; (<span class="hljs-number">1ll</span> &lt;&lt; j))<br>                        &#123;<br>                            v ^= l1.a[j];<br>                        &#125;<br>                    &#125;<br>                    ret.insert(v);  <span class="hljs-comment">//save ans</span><br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> ret;<br>    &#125;<br>    <span class="hljs-function">ll <span class="hljs-title">queryMax</span><span class="hljs-params">()</span></span><br><span class="hljs-function">    </span>&#123;<br>        ll ret = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>            <span class="hljs-keyword">if</span>((ret ^ a[i]) &gt; ret)<br>                ret ^= a[i];<br>        <span class="hljs-keyword">return</span> ret;<br>    &#125;<br>    <span class="hljs-function">ll <span class="hljs-title">queryMin</span><span class="hljs-params">()</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= maxbase; ++i)<br>            <span class="hljs-keyword">if</span>(a[i])<br>                <span class="hljs-keyword">return</span> a[i];<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br>&#125;lb[maxn];<br>  <br>  <br>LinearBasis node[maxn &lt;&lt; <span class="hljs-number">2</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">pushup</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt)</span></span><br><span class="hljs-function"></span>&#123;<br>    node[rt] = node[rt].intersection(node[rt &lt;&lt; <span class="hljs-number">1</span>], node[rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>]);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">build</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(l == r)<br>    &#123;<br>        node[rt] = lb[l];<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-keyword">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>    build(rt &lt;&lt; <span class="hljs-number">1</span>, l, mid);<br>    build(rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>, mid + <span class="hljs-number">1</span>, r);<br>    pushup(rt);<br>    <span class="hljs-keyword">return</span>;<br>&#125;<br>LinearBasis ans;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">query</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r, <span class="hljs-keyword">int</span> L, <span class="hljs-keyword">int</span> R, ll x)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(L &lt;= l &amp;&amp; r &lt;= R)<br>    &#123;<br>        <span class="hljs-keyword">return</span> node[rt].query(x);<br>    &#125;<br>    <span class="hljs-keyword">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">bool</span> flag1, flag2;<br>    flag1 = flag2 = <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">if</span>(L &lt;= mid)flag1 = query(rt &lt;&lt; <span class="hljs-number">1</span>, l, mid, L, R, x);<br>    <span class="hljs-keyword">if</span>(R &gt;  mid)flag2 = query(rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>, mid + <span class="hljs-number">1</span>, r, L, R, x);<br>    <span class="hljs-keyword">return</span> flag1 &amp; flag2;<br>&#125;<br>  <br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>  <br>    <span class="hljs-keyword">int</span> n, m;<br>    <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>    &#123;<br>        <span class="hljs-keyword">int</span> num; <span class="hljs-built_in">cin</span> &gt;&gt; num;<br>        ll x;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= num; ++j)<br>        &#123;<br>            <span class="hljs-built_in">cin</span> &gt;&gt; x;<br>            lb[i].insert(x);<br>        &#125;<br>    &#125;<br>    build(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, n);<br>    <span class="hljs-keyword">int</span> l, r;ll x;<br>    <span class="hljs-keyword">while</span>(m--)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; l &gt;&gt; r &gt;&gt; x;<br>        <span class="hljs-keyword">if</span>(query(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, n, l, r, x))<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;YES&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">else</span> <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;NO&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br>      <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="æ­ç”µå¤šæ ¡ç¬¬ä¸€åœºOperation"><a href="#æ­ç”µå¤šæ ¡ç¬¬ä¸€åœºOperation" class="headerlink" title="æ­ç”µå¤šæ ¡ç¬¬ä¸€åœºOperation"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=6579">æ­ç”µå¤šæ ¡ç¬¬ä¸€åœºOperation</a></h2><p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=6579">æ­ç”µå¤šæ ¡ç¬¬ä¸€åœºOperation</a></p>
<p>è¿™é¢˜çš„å¤§æ„æ˜¯å¯¹äºç»™å®šçš„æ•°ç»„ï¼Œæœ‰ä¸¤ä¸ªæ“ä½œï¼Œä¸€ä¸ªæ˜¯è¯¢é—®ä¸€ä¸ªåŒºé—´çš„å¼‚æˆ–å’Œçš„æœ€å¤§å€¼ï¼Œï¼Œå¦ä¸€ä¸ªæ˜¯åœ¨è¿™ä¸ªæ•°ç»„åé¢å¢åŠ ä¸€ä¸ªå€¼ï¼Œï¼Œï¼Œ</p>
<p>è¿™é¢˜ä¹Ÿæ˜¯è¯±ä½¿æˆ‘å­¦çº¿æ€§åŸºçš„åŸå› ï¼Œï¼Œ</p>
<p>é¢˜è§£è¯´ç›´æ¥æ•°æ®ç»“æ„ç»´æŠ¤ä¼šTï¼Œï¼Œæˆ‘ä¹Ÿæ²¡è¯•ï¼Œï¼Œæ­£è§£æ˜¯è´ªå¿ƒçš„ç»´æŠ¤ä¸€ä¸ª <strong>å‰ç¼€çº¿æ€§åŸº</strong> ï¼Œåœ¨æ¯æ’å…¥ä¸€ä¸ªæ•°æ—¶ï¼Œï¼Œå¦‚æœèƒ½æ’å…¥ï¼Œï¼Œå°½å¯èƒ½çš„æ’åˆ°é«˜ä½ï¼Œï¼Œï¼ˆè¿™æ ·å¯ä»¥ä¿è¯é è¿‘rçš„å¯ä»¥æ’å…¥çš„æ•°å°½å¯èƒ½çš„åœ¨é«˜ä½ï¼Œï¼Œ</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œï¼Œå¯¹äºä»»æ„çš„ä»»æ„çš„ä¸€ä¸ªåŒºé—´ï¼Œï¼Œä¸ç®¡å®ƒçš„é•¿åº¦å¤šå¤§ï¼Œï¼Œï¼Œä»–çš„çº¿æ€§åŸºæœ€å¤šæ˜¯30ä¸ªï¼ˆé’ˆå¯¹è¿™é¢˜ï¼‰ï¼Œï¼Œï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦ç»´æŠ¤rå‰é¢å‡ºç°çš„è¾ƒæ™šçš„æ–°åŸºï¼Œï¼Œè¿™æ ·æ¯æ¬¡è¯¢é—®ï¼Œï¼Œéƒ½çœ‹å¾—åœ¨rå¤„çš„çº¿æ€§åŸºä¸­å‡ºç°æ¯”læ™šçš„åŸºå³å¯ï¼Œï¼Œä¸ºäº†å®ç°è¿™ä¸ªè¿‡ç¨‹ï¼Œï¼Œï¼Œç»™æ¯ä¸€ä¸ªçº¿æ€§åŸºä¸­çš„æ¯ä¸€ä½éƒ½åŠ ä¸€ä¸ªæ ‡å¿—ä½ $p_i$ ï¼Œï¼Œ åœ¨æ’å…¥ä¸€ä¸ªæ–°çš„æ•°æ—¶ï¼Œï¼Œï¼Œå°½å¯èƒ½çš„æŠŠä»–æ”¾åœ¨é«˜ä½ï¼Œï¼Œï¼Œï¼ˆç¢°åˆ°ä¸€ä¸ªå¯ä»¥æ’å…¥çš„ä½ç½®æ—¶ï¼ŒæŠŠä»–æ’åœ¨è¿™é‡Œï¼Œï¼Œç„¶åä¸‹æ¨å…¶å®ƒçš„åŸºï¼Œï¼Œï¼Œ</p>
<p>è¿™é¢˜ä¸èƒ½è½ï¼Œç›´æ¥å¼€llï¼Œï¼Œï¼Œä¼šmleï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-comment">// #include &lt;iostream&gt;</span><br><span class="hljs-comment">// #include &lt;cstdio&gt;</span><br><span class="hljs-comment">// #include &lt;cstdlib&gt;</span><br><span class="hljs-comment">// #include &lt;string.h&gt;</span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;algorithm&gt;</span><br><span class="hljs-comment">// #include &lt;set&gt;</span><br><span class="hljs-comment">// #include &lt;vector&gt;</span><br><span class="hljs-comment">// #include &lt;cmath&gt;</span><br><span class="hljs-comment">// #include &lt;queue&gt;</span><br><span class="hljs-comment">// #include &lt;stack&gt;</span><br><span class="hljs-comment">// #include &lt;ctime&gt;</span><br><span class="hljs-comment">// #include &lt;random&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">5e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br>  <br>  <br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">LinearBasis</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">typedef</span> <span class="hljs-keyword">int</span> type;<br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxbase = <span class="hljs-number">30</span>;<br>    <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">false</span>;<br>    type a[maxbase + <span class="hljs-number">1</span>];<br>    type p[maxbase + <span class="hljs-number">1</span>];<br>    LinearBasis()<br>    &#123;<br>        <span class="hljs-built_in">memset</span>(a, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> a);<br>        <span class="hljs-built_in">memset</span>(p, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> p);<br>    &#125;<br>    LinearBasis(type *x, <span class="hljs-keyword">int</span> n)<br>    &#123;<br>        LinearBasis();<br>        build(x, n); <br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">build</span><span class="hljs-params">(type *x, <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            insert(x[i]);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">clear</span><span class="hljs-params">()</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-built_in">memset</span>(a, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> a);<br>        <span class="hljs-built_in">memset</span>(p, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> p);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">insert</span><span class="hljs-params">(type t)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-comment">//æš´åŠ›æ’å…¥ä¸€ä¸ªæ•°ï¼Œç»´æŠ¤çš„æ˜¯ä¸€ä¸ªä¸Šä¸‰è§’å‹çš„çº¿æ€§åŸºçŸ©é˜µï¼Œæ—¶é—´å¤æ‚åº¦ä½ï¼Œå½“å¾…æ’å…¥å…ƒç´ èƒ½æ’å…¥æ—¶ï¼Œè¿”å›true</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(t &amp; (<span class="hljs-number">1ll</span> &lt;&lt; i))<br>            &#123;<br>                <span class="hljs-keyword">if</span>(!a[i])<br>                &#123;<br>                    a[i] = t;<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>                t ^= a[i];<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(t == <span class="hljs-number">0</span>)flag = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">return</span> t;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">insert2</span><span class="hljs-params">(type t, type pos)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(t &amp; (<span class="hljs-number">1ll</span> &lt;&lt; i))<br>            &#123;<br>                <span class="hljs-keyword">if</span>(!a[i])<br>                &#123;<br>                    a[i] = t;<br>                    p[i] = pos;<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(pos &gt; p[i])<br>                &#123;<br>                    swap(pos, p[i]);<br>                    swap(t, a[i]);<br>                &#125;<br>                t ^= a[i];<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(t == <span class="hljs-number">0</span>)flag = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">return</span> t;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">query</span><span class="hljs-params">(type t)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-comment">// è¯¢é—®tæ˜¯å¦å¯ä»¥è¢«å½“å‰çº¿æ€§åŸºè¡¨ç¤ºï¼Œä¸æ’å…¥</span><br>        <span class="hljs-keyword">if</span>(t &gt; queryMax())<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">if</span>(t == <span class="hljs-number">0</span>)<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(t &amp; (<span class="hljs-number">1ll</span> &lt;&lt; i))<br>            &#123;<br>                <span class="hljs-keyword">if</span>(!a[i])<br>                &#123;<br>                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>                &#125;<br>                t ^= a[i];<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Insert</span><span class="hljs-params">(type t)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-comment">//æ’å…¥ä¸€ä¸ªçº¿æ€§åŸºï¼Œåˆ©ç”¨é«˜æ–¯æ¶ˆå…ƒæ³•ç»´æŠ¤ä¸€ä¸ªå¯¹è§’çŸ©é˜µ</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(t &gt;&gt; i &amp; <span class="hljs-number">1</span>)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(a[i])t ^= a[i];<br>                <span class="hljs-keyword">else</span><br>                &#123;<br>                    a[i] = t;<br>                    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = i - <span class="hljs-number">1</span>; j &gt;= <span class="hljs-number">0</span>; --j)<span class="hljs-keyword">if</span>(a[j] &amp;&amp; (a[i] &gt;&gt; j &amp; <span class="hljs-number">1</span>))a[i] ^= a[j];<br>                    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = i + <span class="hljs-number">1</span>; j &lt;= maxbase; ++j)<span class="hljs-keyword">if</span>(a[j] &gt;&gt; j &amp; <span class="hljs-number">1</span>)a[j] ^= a[i];<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-function">LinearBasis <span class="hljs-title">merge</span><span class="hljs-params">(<span class="hljs-keyword">const</span> LinearBasis &amp;l1, <span class="hljs-keyword">const</span> LinearBasis &amp;l2)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-comment">// å¾—åˆ°ä¸¤ä¸ªçº¿æ€§åŸºçš„å¹¶</span><br>        LinearBasis ret = l1;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>            <span class="hljs-keyword">if</span>(l2.a[i])<br>                ret.insert(l2.a[i]);<br>        <span class="hljs-keyword">return</span> ret;<br>    &#125;<br>    <span class="hljs-function">LinearBasis <span class="hljs-title">intersection</span><span class="hljs-params">(<span class="hljs-keyword">const</span> LinearBasis &amp;l1, <span class="hljs-keyword">const</span> LinearBasis &amp;l2)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-comment">//å¾—åˆ°ä¸¤ä¸ªçº¿æ€§åŸºçš„äº¤</span><br>        LinearBasis all, ret, full;<br>        ret.clear();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>        &#123;<br>            all.a[i] = l1.a[i];<br>            full.a[i] = <span class="hljs-number">1ll</span> &lt;&lt; i;<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(l2.a[i])<br>            &#123;<br>                type v = l2.a[i], k = <span class="hljs-number">0</span>;<br>                <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">true</span>;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = maxbase; j &gt;= <span class="hljs-number">0</span>; --j)<br>                &#123;<br>                    <span class="hljs-keyword">if</span>(v &amp; (<span class="hljs-number">1ll</span> &lt;&lt; j))<br>                    &#123;<br>                        <span class="hljs-keyword">if</span>(all.a[j])<br>                        &#123;<br>                            v ^= all.a[j];<br>                            k ^= full.a[j];<br>                        &#125;<br>                        <span class="hljs-keyword">else</span><br>                        &#123;<br>                            <span class="hljs-comment">// l2&#x27;s basis is not in l1&#x27;s;</span><br>                            flag = <span class="hljs-literal">false</span>;<br>                            all.a[j] = v;<br>                            full.a[j] = k;<br>                            <span class="hljs-keyword">break</span>;<br>                        &#125;<br>                    &#125;<br>                &#125;<br>                <span class="hljs-keyword">if</span>(flag)<br>                &#123;<br>                    type v = <span class="hljs-number">0</span>; <span class="hljs-comment">// get intersection by k;</span><br>                    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = maxbase; j &gt;= <span class="hljs-number">0</span>; --j)<br>                    &#123;<br>                        <span class="hljs-keyword">if</span>(k &amp; (<span class="hljs-number">1ll</span> &lt;&lt; j))<br>                        &#123;<br>                            v ^= l1.a[j];<br>                        &#125;<br>                    &#125;<br>                    ret.insert(v);  <span class="hljs-comment">//save ans</span><br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> ret;<br>    &#125;<br>    <span class="hljs-comment">//è¯¢é—®æœ€å€¼</span><br>    <span class="hljs-function">type <span class="hljs-title">queryMax</span><span class="hljs-params">()</span></span><br><span class="hljs-function">    </span>&#123;<br>        type ret = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>            <span class="hljs-keyword">if</span>((ret ^ a[i]) &gt; ret)<br>                ret ^= a[i];<br>        <span class="hljs-keyword">return</span> ret;<br>    &#125;<br>    <span class="hljs-function">type <span class="hljs-title">queryMax</span><span class="hljs-params">(type l)</span></span><br><span class="hljs-function">    </span>&#123;<br>        type ret = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>            <span class="hljs-keyword">if</span>((ret ^ a[i]) &gt; ret &amp;&amp; l &lt;= p[i])<br>                ret ^= a[i];<br>        <span class="hljs-keyword">return</span> ret;<br>    &#125;<br>    <span class="hljs-function">type <span class="hljs-title">queryMin</span><span class="hljs-params">()</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= maxbase; ++i)<br>            <span class="hljs-keyword">if</span>(a[i])<br>                <span class="hljs-keyword">return</span> a[i];<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br>&#125;lb[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>  <br>    <span class="hljs-keyword">int</span> t; <span class="hljs-built_in">cin</span> &gt;&gt; t;<br>    <span class="hljs-keyword">while</span>(t--)<br>    &#123;<br>        <span class="hljs-keyword">int</span> n, m;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m;<br>        ll x;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        &#123;<br>            <span class="hljs-built_in">cin</span> &gt;&gt; x;<br>            lb[i] = lb[i - <span class="hljs-number">1</span>]; <br>            lb[i].insert2(x, i);<br>        &#125;<br>        <span class="hljs-keyword">int</span> op;<br>        ll lstans = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">while</span>(m--)<br>        &#123;<br>            <span class="hljs-built_in">cin</span> &gt;&gt; op;<br>            <span class="hljs-keyword">if</span>(!op)<br>            &#123;<br>                ll l, r;<span class="hljs-built_in">cin</span> &gt;&gt; l &gt;&gt; r;<br>                l = (l ^ lstans) % n + <span class="hljs-number">1</span>;<br>                r = (r ^ lstans) % n + <span class="hljs-number">1</span>;<br>                <span class="hljs-keyword">if</span>(l &gt; r)swap(l, r);<br>                lstans = lb[r].queryMax(l);<br>                <span class="hljs-built_in">cout</span> &lt;&lt; lstans &lt;&lt; <span class="hljs-built_in">endl</span>;<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                ll x;<span class="hljs-built_in">cin</span> &gt;&gt; x;<br>                x ^= lstans;<br>                lb[++n] = lb[n - <span class="hljs-number">1</span>];<br>                lb[n].insert2(x, n);<br>            &#125;<br>            <br>        &#125;<br><br>    &#125;<br>      <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="loading"><a href="#loading" class="headerlink" title="loading"></a>loading</h2><p>è¿˜æœ‰å‡ é“é¢˜æœ‰æ—¶é—´å†è¡¥æŠŠï¼Œï¼Œï¼Œï¼Œæ¯”å¦‚è¥¿å®‰åŒºåŸŸèµ›é‚£é“ ï¼Œï¼Œ<a href="https://codeforces.com/problemset/problem/1100/F">cf</a>è¿™é“ï¼Œï¼Œè²Œä¼¼æ˜¯æ­ç”µçš„åŸå‹é¢˜ï¼Œï¼Œï¼Œ</p>
]]></content>
      <categories>
        <category>ACM-çº¿æ€§åŸº</category>
      </categories>
      <tags>
        <tag>åˆ·é¢˜</tag>
        <tag>æ•°å­¦</tag>
      </tags>
  </entry>
  <entry>
    <title>è¯¾ç¨‹è®¾è®¡æŠ¥å‘Šä¸€ï¼šä¸ªäººé“¶è¡Œè´¦æˆ·ç®¡ç†ç³»ç»Ÿ æ­¤æ–‡æ¡£åŠæºç ä»…ä¾›å‚è€ƒ ä¸å¾—ç›´æ¥å¤åˆ¶ä½¿ç”¨</title>
    <url>/2019/04/12/Java%E5%AE%9E%E9%AA%8C-%E4%B8%AA%E4%BA%BA%E9%93%B6%E8%A1%8C%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p><strong>ä½œã€€ã€€è€…ï¼š31415926535x</strong></p>
<p><strong>å‡ºã€€ã€€å¤„ï¼š<a href="https://www.cnblogs.com/31415926535x/p/10697659.html">https://www.cnblogs.com/31415926535x/p/10697659.html</a></strong></p>
<p><strong>ç‰ˆæƒå£°æ˜ï¼šç½²å - éå•†ä¸šæ€§ä½¿ç”¨ - ç¦æ­¢æ¼”ç»ï¼Œåè®®æ™®é€šæ–‡æœ¬ | åè®®æ³•å¾‹æ–‡æœ¬ã€‚</strong></p>
<p><strong>ä¸å»ºè®®ç›´æ¥å¤åˆ¶æ–‡æ¡£ã€æºç ï¼Œæ²¡æ„ä¹‰ï¼Œè¿™ä¸œè¥¿è¿˜æ˜¯è‡ªå·±æ‰‹æ•²ä¸€ä¸‹æ‰èƒ½æ¶¨ç»éªŒ</strong></p>
<p><strong>é¡¹ç›®æ‰€æœ‰çš„å†…å®¹éƒ½å·²ä¸Šä¼ è‡³æœ¬äºº<a href="https://github.com/31415926535x/CollegeProjectBackup/tree/master/java_shiyan">github</a>ï¼Œæœ‰éœ€è‡ªå–ğŸ˜€</strong></p>
<h1 id="ä¸€ã€-è¯¾ç¨‹è®¾è®¡è¦æ±‚ä¸ç›®çš„"><a href="#ä¸€ã€-è¯¾ç¨‹è®¾è®¡è¦æ±‚ä¸ç›®çš„" class="headerlink" title="ä¸€ã€    è¯¾ç¨‹è®¾è®¡è¦æ±‚ä¸ç›®çš„"></a>ä¸€ã€    è¯¾ç¨‹è®¾è®¡è¦æ±‚ä¸ç›®çš„</h1><ul>
<li>1ã€ æ¨¡ä»¿ä¸ªäººé“¶è¡Œè´¦æˆ·ç®¡ç†ç³»ç»Ÿçš„C++ç‰ˆæœ¬ï¼ˆç¬¬4ç« -ç¬¬8ç« ï¼‰ï¼Œä½¿ç”¨Javaè¯­è¨€é‡æ–°å®ç°è¯¥ç³»ç»Ÿï¼Œæ¯”è¾ƒC++ä¸Javaåœ¨å®ç°ä¸Šçš„å¼‚åŒï¼Œç†Ÿç»ƒæŒæ¡JavaåŸºç¡€åŠè¯­æ³•ã€‚</li>
<li>2ã€ æ ¹æ®ç³»ç»Ÿéœ€æ±‚çš„æ¼”åŒ–ï¼Œé€æ­¥å®Œå–„ä¸ªäººé“¶è¡Œè´¦æˆ·ç®¡ç†ç³»ç»Ÿçš„åŠŸèƒ½ï¼Œæ”¹è¿›ä»£ç ï¼Œä½“ä¼šé¢å‘å¯¹è±¡æ€æƒ³çš„å°è£…ã€ç»§æ‰¿ã€å¤šæ€ç‰¹æ€§åœ¨å®é™…ç³»ç»Ÿä¸­çš„åº”ç”¨ï¼Œåˆæ­¥æŒæ¡ä½¿ç”¨Javaç¼–å†™å¯å¤ç”¨ã€å¯æ‰©å±•ã€å¯ç»´æŠ¤ä»£ç çš„åŸºæœ¬æŠ€èƒ½ã€‚</li>
</ul>
<span id="more"></span>
<h1 id="äºŒã€è¯¾ç¨‹è®¾è®¡è¿›å±•è®°å½•"><a href="#äºŒã€è¯¾ç¨‹è®¾è®¡è¿›å±•è®°å½•" class="headerlink" title="äºŒã€è¯¾ç¨‹è®¾è®¡è¿›å±•è®°å½•"></a>äºŒã€è¯¾ç¨‹è®¾è®¡è¿›å±•è®°å½•</h1><h2 id="1ã€-ä¸ªäººé“¶è¡Œç®¡ç†ç³»ç»Ÿç‰ˆæœ¬0-1ï¼ˆå¯¹åº”ç¬¬4ç« è®°å½•ï¼‰"><a href="#1ã€-ä¸ªäººé“¶è¡Œç®¡ç†ç³»ç»Ÿç‰ˆæœ¬0-1ï¼ˆå¯¹åº”ç¬¬4ç« è®°å½•ï¼‰" class="headerlink" title="1ã€ ä¸ªäººé“¶è¡Œç®¡ç†ç³»ç»Ÿç‰ˆæœ¬0.1ï¼ˆå¯¹åº”ç¬¬4ç« è®°å½•ï¼‰"></a>1ã€ ä¸ªäººé“¶è¡Œç®¡ç†ç³»ç»Ÿç‰ˆæœ¬0.1ï¼ˆå¯¹åº”ç¬¬4ç« è®°å½•ï¼‰</h2><h3 id="1-1-ç³»ç»Ÿéœ€æ±‚"><a href="#1-1-ç³»ç»Ÿéœ€æ±‚" class="headerlink" title="1.1    ç³»ç»Ÿéœ€æ±‚"></a>1.1    ç³»ç»Ÿéœ€æ±‚</h3><p>ä¸€ä¸ªäººå¯ä»¥æœ‰å¤šä¸ªæ´»æœŸè´¦æˆ·ï¼Œä¸€ä¸ªæ´»æœŸå‚¨è“„è´¦æˆ·åŒ…æ‹¬ <strong>è´¦å·ï¼ˆidï¼‰</strong> ã€ <strong>ä½™é¢ï¼ˆbalanceï¼‰</strong> ã€ <strong>å¹´åˆ©ç‡ï¼ˆrateï¼‰</strong> ç­‰ä¿¡æ¯ï¼Œè¿˜åŒ…æ‹¬ <strong>æ˜¾ç¤ºè´¦æˆ·ä¿¡æ¯ï¼ˆshowï¼‰</strong> ã€ <strong>å­˜æ¬¾ï¼ˆdepositï¼‰</strong> ã€<strong>å–æ¬¾ï¼ˆwithdrawï¼‰</strong> ã€ <strong>ç»“ç®—åˆ©æ¯ï¼ˆsettleï¼‰</strong> ç­‰æ“ä½œã€‚</p>
<h3 id="1-2-ç³»ç»Ÿè®¾è®¡"><a href="#1-2-ç³»ç»Ÿè®¾è®¡" class="headerlink" title="1.2    ç³»ç»Ÿè®¾è®¡"></a>1.2    ç³»ç»Ÿè®¾è®¡</h3><p>è®¾è®¡ä¸€ä¸ª <strong>ç±» SavingAccount</strong> , å…¶æ•°æ®æˆå‘˜ä¸º <strong>id, balance, rate</strong> ï¼Œ ç±»çš„æ–¹æ³•æœ‰ <strong>show(), deposit(), withdraw(), settle()</strong></p>
<p>UML:</p>
<p><img src="https://raw.githubusercontent.com/31415926535x/CollegeProjectBackup/master/java_shiyan/PersonBankAccountManageSystem/doc/uml/v4_9/uml/uml.png" alt=""></p>
<p>æ— è®ºæ˜¯å­˜æ¬¾ã€å–æ¬¾è¿˜æ˜¯ç»“ç®—åˆ©æ¯ï¼Œéƒ½éœ€è¦ä¿®æ”¹å½“å‰çš„ä½™é¢å¹¶ä¸”å°†ä½™é¢çš„å˜åŠ¨è¾“å‡ºï¼Œè¿™äº›å…¬å…±æ“ä½œç”± <strong>ç§æœ‰æˆå‘˜æ–¹æ³• record</strong> æ¥æ‰§è¡Œã€‚</p>
<p>åˆ©æ¯çš„è®¡ç®—ï¼š ç”±äºè´¦æˆ·çš„ä½™é¢æ˜¯ä¸æ–­å˜åŒ–çš„ï¼Œå› æ­¤ä¸èƒ½é€šè¿‡ä½™é¢ä¸å¹´åˆ©ç‡ç›¸ä¹˜çš„æ–¹æ³•æ¥è®¡ç®—å¹´åˆ©ï¼Œè€Œæ˜¯éœ€è¦å°†ä¸€å¹´å½“ä¸­æ¯å¤©çš„ä½™é¢ç´¯è®¡èµ·æ¥å†é™¤ä»¥ä¸€å¹´çš„æ€»å¤©æ•°ï¼Œå¾—åˆ°ä¸€ä¸ªæ—¥å‡ä½™é¢ï¼Œå†ä¹˜ä»¥å¹´åˆ©ç‡ã€‚ä¸ºäº†è®¡ç®—ä½™é¢çš„æŒ‰æ—¥ç´¯è®¡å€¼ï¼ŒSavingAccount ç±»å¼•å…¥äº†ä¸€ä¸ª <strong>ç§æœ‰æ•°æ®æˆå‘˜lastDate</strong> ï¼Œ accumulation å’Œç§æœ‰æˆå‘˜å‡½æ•° accumulateã€‚ lastDate ç”¨æ¥å­˜å‚¨ä¸Šä¸€æ¬¡viyueå˜åŠ¨çš„æ—¥æœŸï¼Œaccumulation ç”¨æ¥å­˜å‚¨ä¸Šæ¬¡è®¡ç®—åˆ©æ¯ä»¥åç›´åˆ°æœ€è¿‘ä¸€æ¬¡ä½™é¢å˜åŠ¨æ—¶ä½™é¢æŒ‰æ—¥ç´¯åŠ çš„å€¼ï¼Œaccumulate æˆå‘˜å‡½æ•°ç”¨æ¥è®¡ç®—æˆªæ­¢æŒ‡å®šæ—¥æœŸçš„è´¦æˆ·ä½™é¢æŒ‰æ—¥ç´¯åŠ å€¼ã€‚å½“ä½™é¢å˜åŠ¨æ—¶ï¼Œéœ€è¦åšçš„äº‹å°†å˜åŠ¨å‰çš„ä½™é¢ä¸è¯¥ä½™é¢æ‰€æŒç»­çš„å¤©æ•°ç›¸ä¹˜ï¼Œç´¯åŠ åˆ° accumulation ä¸­ï¼Œå†ä¿®æ”¹ lastDateã€‚</p>
<p>ä¸ºäº†ç®€ä¾¿ï¼Œè¯¥ç±»ä¸­çš„æ‰€æœ‰æ—¥æœŸå‡ç”¨ä¸€ä¸ªæ•´æ•°æ¥è¡¨ç¤ºï¼Œè¯¥æ•´æ•°æ˜¯ä¸€ä¸ªä»¥æ—¥ä¸ºå•ä½çš„ç›¸å¯¹æ—¥æœŸï¼Œä¾‹å¦‚å¦‚æœä»¥å¼€æˆ·æ—¥ä¸º1ï¼Œé‚£ä¹ˆå¼€æˆ·æ—¥åçš„ç¬¬3å¤©å°±ç”¨4æ¥è¡¨ç¤ºï¼Œ è¿™æ ·å“¦ä»–éš¾è¿‡å°†ä¸¤ä¸ªæ—¥æœŸç›¸å‡å°±å¯ä»¥å¾—åˆ°ä¸¤ä¸ªæ—¥æœŸç›¸å·®çš„å¤©æ•°ã€‚</p>
<h3 id="1-3-ç³»ç»Ÿå®ç°"><a href="#1-3-ç³»ç»Ÿå®ç°" class="headerlink" title="1.3    ç³»ç»Ÿå®ç°"></a>1.3    ç³»ç»Ÿå®ç°</h3><h4 id="SavingAccount-ç±»çš„å®šä¹‰ï¼š"><a href="#SavingAccount-ç±»çš„å®šä¹‰ï¼š" class="headerlink" title="SavingAccount() ç±»çš„å®šä¹‰ï¼š"></a><code>SavingAccount()</code> ç±»çš„å®šä¹‰ï¼š</h4><figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SavingsAccount</span> </span>&#123;&#125;<br></code></pre></td></tr></table></figure>
<h5 id="æ•°æ®æˆå‘˜"><a href="#æ•°æ®æˆå‘˜" class="headerlink" title="æ•°æ®æˆå‘˜"></a>æ•°æ®æˆå‘˜</h5><figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> id;				<span class="hljs-comment">//è´¦å·</span><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> balance;			<span class="hljs-comment">//ä½™é¢</span><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> rate;			<span class="hljs-comment">//å­˜æ¬¾çš„å¹´åˆ©ç‡</span><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> lastDate;			<span class="hljs-comment">//ä¸Šæ¬¡å˜æ›´ä½™é¢çš„æ—¶æœŸ</span><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> accumulation;	        <span class="hljs-comment">//ä½™é¢æŒ‰æ—¥ç´¯åŠ ä¹‹å’Œ</span><br></code></pre></td></tr></table></figure>
<h5 id="ç±»ä¸­æ–¹æ³•"><a href="#ç±»ä¸­æ–¹æ³•" class="headerlink" title="ç±»ä¸­æ–¹æ³•"></a>ç±»ä¸­æ–¹æ³•</h5><figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">SavingsAccount</span><span class="hljs-params">(<span class="hljs-keyword">int</span> date, <span class="hljs-keyword">int</span> id, <span class="hljs-keyword">double</span> rate)</span> </span>&#123;&#125; <span class="hljs-comment">//æ„é€ æ–¹æ³•</span><br><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">record</span><span class="hljs-params">(<span class="hljs-keyword">int</span> date, <span class="hljs-keyword">double</span> amount)</span> </span>&#123;&#125; <span class="hljs-comment">//è®°å½•ä¸€ç¬”è´¦</span><br><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> <span class="hljs-title">accumulate</span><span class="hljs-params">(<span class="hljs-keyword">int</span> date)</span> </span>&#123;&#125;  <span class="hljs-comment">//è·å¾—åˆ°æŒ‡å®šæ—¥æœŸä¸ºæ­¢çš„å­˜æ¬¾é‡‘é¢æŒ‰æ—¥ç´¯ç§¯å€¼</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getId</span><span class="hljs-params">()</span> </span>&#123;&#125; <span class="hljs-comment">//è¿”å›ç¼–å·</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">double</span> <span class="hljs-title">getBalance</span><span class="hljs-params">()</span> </span>&#123;&#125; <span class="hljs-comment">//è¿”å›ä½™é¢</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">double</span> <span class="hljs-title">getRate</span><span class="hljs-params">()</span> </span>&#123;&#125; <span class="hljs-comment">//è¿”å›å­˜æ¬¾çš„å¹´åˆ©ç‡</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">deposit</span><span class="hljs-params">(<span class="hljs-keyword">int</span> date, <span class="hljs-keyword">double</span> amount)</span> </span>&#123;&#125; <span class="hljs-comment">//å­˜å…¥ç°é‡‘</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">withdraw</span><span class="hljs-params">(<span class="hljs-keyword">int</span> date, <span class="hljs-keyword">double</span> amount)</span> </span>&#123;&#125; <span class="hljs-comment">//å–å‡ºç°é‡‘</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">settle</span><span class="hljs-params">(<span class="hljs-keyword">int</span> date)</span> </span>&#123;&#125; <span class="hljs-comment">//ç»“ç®—åˆ©æ¯ï¼Œæ¯å¹´1æœˆ1æ—¥è°ƒç”¨ä¸€æ¬¡è¯¥å‡½æ•°</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">show</span><span class="hljs-params">()</span> </span>&#123;&#125; <span class="hljs-comment">//æ˜¾ç¤ºè´¦æˆ·ä¿¡æ¯</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;&#125; <span class="hljs-comment">//ä¸»å‡½æ•°ï¼Œå‘ˆç°æ‰€å®ç°çš„åŠŸèƒ½</span><br></code></pre></td></tr></table></figure>
<h3 id="1-4-ç³»ç»Ÿæµ‹è¯•"><a href="#1-4-ç³»ç»Ÿæµ‹è¯•" class="headerlink" title="1.4    ç³»ç»Ÿæµ‹è¯•"></a>1.4    ç³»ç»Ÿæµ‹è¯•</h3><p>ç›®çš„ï¼š</p>
<ul>
<li>æ–°å»ºä¸¤ä¸ªè´¦æˆ·ï¼Œæ­¤æ—¶ä¼šæ˜¾ç¤º <code>#xxxxxx is created</code>;</li>
<li>æ·»åŠ å‡ ç¬”å¸ç›®ï¼Œæ­¤æ—¶ä¼šæ˜¾ç¤ºå¯¹åº”è´¦æˆ·æ‰€æ·»åŠ çš„å¸ç›®ä¿¡æ¯;</li>
<li>å¼€æˆ·åç¬¬90å¤©åˆ°äº†é“¶è¡Œçš„è®¡æ¯æ—¥ï¼Œç»“ç®—æ‰€æœ‰è´¦æˆ·çš„å¹´æ¯,æ­¤æ—¶ä¼šæ˜¾ç¤ºæ‰€æœ‰å¸ç›®çš„å¹´æ¯;</li>
<li>æ˜¾ç¤ºæ‰€æœ‰è´¦æˆ·çš„ä¿¡æ¯ï¼Œæ­¤æ—¶ä¼šæ˜¾ç¤ºï¼š <code>#xxxxx Balance: xxxx</code></li>
</ul>
<p>æ— å®é™…è¾“å…¥å†…å®¹ï¼Œè¾“å‡ºç»“æœä¸ºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java">1	#21325302 is created<br>1	#58320212 is created<br>5	#21325302	5000	5000<br>25	#58320212	10000	10000<br>45	#21325302	5500	10500<br>60	#58320212	-4000	6000<br>90	#21325302	27.64	10527.64<br>90	#58320212	21.78	6021.78<br>#21325302	Balance: 10527.64#21325302   Balance: 10527.64<br><br>--------<span class="hljs-number">10527.64</span><br><br>#58320212	Balance: 6021.78#58320212   Balance: 6021.78<br><br>--------<span class="hljs-number">6021.78</span><br></code></pre></td></tr></table></figure>
<p>ç¨‹åºåœ¨è®¡ç®—å¹´æ¯æ—¶é€šè¿‡å››èˆäº”å…¥çš„æ–¹æ³•ä»¥åŠå»é™¤æ•´æ•°å°æ•°ç‚¹åçš„é›¶ä½¿å¾—æœ€åçš„è¾“å‡ºç»“æœç¬¦åˆå®éªŒé¢„æœŸï¼ŒåŒ c++ å®ç°çš„è¾“å‡ºç»“æœç›¸åŒã€‚</p>
<h3 id="1-5-ä½“ä¼šå¿ƒå¾—"><a href="#1-5-ä½“ä¼šå¿ƒå¾—" class="headerlink" title="1.5    ä½“ä¼šå¿ƒå¾—"></a>1.5    ä½“ä¼šå¿ƒå¾—</h3><p>ä¸ c++ å®ç°ç›¸æ¯”ï¼Œjava çš„é¡¹ç›®å®ç°æ›´åŠ çš„ä¸¥è°¨ï¼ŒåŒæ—¶ä¹Ÿæœ‰ä¸€äº›ä¸åŒçš„è¯­è¨€ç‰¹æ€§ï¼Œä¾‹å¦‚ java åœ¨è¾“å‡ºæµ®ç‚¹æ•°æ—¶ï¼Œæ•´æ•°ä¸ç»è¿‡å¤„ç†æ—¶ä¼šè¾“å‡ºå°æ•°ç‚¹åä¸€ä½çš„é›¶ï¼Œè€Œ c++ çš„è¾“å‡ºä¼šèˆå¼ƒã€‚</p>
<p>java åœ¨å®ä¾‹åŒ–å¯¹è±¡æ—¶çš„è¯­æ³•ä¸ c++ ç›¸æ¯”æœ‰äº›ä¸åŒï¼Œä¾‹å¦‚ <code>className c;</code> åœ¨ c++ ä¸­å³è¡¨ç¤ºå®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œåœ¨ java ä¸­è™½ç„¶è¡¨è¾¾ç›¸åŒï¼Œä½†å®é™…ä»…ä»…æ˜¯å¯¹è±¡çš„å£°æ˜ï¼Œæ­¤æ—¶å¹¶æ²¡æœ‰å®ä¾‹åŒ–çœŸæ­£çš„å¯¹è±¡ï¼ŒåŒæ—¶ java å®ä¾‹åŒ–å¯¹è±¡æ—¶éœ€è¦ä½¿ç”¨å…³é”®å­— <code>new</code>ã€‚</p>
<h2 id="2ã€-ä¸ªäººé“¶è¡Œç®¡ç†ç³»ç»Ÿç‰ˆæœ¬0-2ï¼ˆå¯¹åº”ç¬¬5ç« è®°å½•ï¼‰"><a href="#2ã€-ä¸ªäººé“¶è¡Œç®¡ç†ç³»ç»Ÿç‰ˆæœ¬0-2ï¼ˆå¯¹åº”ç¬¬5ç« è®°å½•ï¼‰" class="headerlink" title="2ã€ ä¸ªäººé“¶è¡Œç®¡ç†ç³»ç»Ÿç‰ˆæœ¬0.2ï¼ˆå¯¹åº”ç¬¬5ç« è®°å½•ï¼‰"></a>2ã€ ä¸ªäººé“¶è¡Œç®¡ç†ç³»ç»Ÿç‰ˆæœ¬0.2ï¼ˆå¯¹åº”ç¬¬5ç« è®°å½•ï¼‰</h2><h3 id="2-1-ç³»ç»Ÿéœ€æ±‚"><a href="#2-1-ç³»ç»Ÿéœ€æ±‚" class="headerlink" title="2.1    ç³»ç»Ÿéœ€æ±‚"></a>2.1    ç³»ç»Ÿéœ€æ±‚</h3><p>æ­¤ç‰ˆæœ¬çš„é¡¹ç›®åœ¨ä¸Šä¸€ç‰ˆåšå‡ºå¦‚ä¸‹æ”¹è¿›ï¼š</p>
<ul>
<li>åœ¨æ´»æœŸè´¦æˆ·ä¸­æ·»åŠ ä¸€ä¸ªç”¨æ¥è®°å½•å„ä¸ªè´¦æˆ·çš„æ€»é‡‘é¢çš„åŠŸèƒ½ï¼ŒåŒæ—¶å¯ä»¥è·å–è¿™ä¸ªæ€»é‡‘é¢ï¼›</li>
</ul>
<h3 id="2-2-ç³»ç»Ÿè®¾è®¡"><a href="#2-2-ç³»ç»Ÿè®¾è®¡" class="headerlink" title="2.2    ç³»ç»Ÿè®¾è®¡"></a>2.2    ç³»ç»Ÿè®¾è®¡</h3><ul>
<li>åœ¨ <code>SavingAccount</code> ç±»ä¸­æ·»åŠ ä¸€ä¸ªé™æ€æ•°æ®æˆå‘˜ <code>total</code> , ç”¨æ¥è®°å½•å„ä¸ªè´¦æˆ·çš„æ€»é‡‘é¢ï¼Œå¹¶ä¸ºå…¶å¢åŠ ç›¸åº”çš„é™æ€æˆå‘˜æ–¹æ³• <code>getTotal</code> ç”¨æ¥å¯¹å…¶è¿›è¡Œè®¿é—®ã€‚</li>
<li>å°† <code>SavingAccount</code> ç±»ä¸­çš„ä¾‹å¦‚ <code>getBalance()</code> , <code>accumulate()</code> è¿™äº›ä¸éœ€è¦æ”¹å˜å¯¹è±¡çŠ¶æ€çš„æˆå‘˜æ–¹æ³•å£°æ˜ä¸º <strong>å¸¸æˆå‘˜æ–¹æ³•</strong>ã€‚</li>
</ul>
<p>SavingAccount çš„UMLå›¾ä¸ºï¼š</p>
<p><img src="https://raw.githubusercontent.com/31415926535x/CollegeProjectBackup/master/java_shiyan/PersonBankAccountManageSystem/doc/uml/v5_11/uml/uml.png" alt=""></p>
<h3 id="2-3-ç³»ç»Ÿå®ç°"><a href="#2-3-ç³»ç»Ÿå®ç°" class="headerlink" title="2.3    ç³»ç»Ÿå®ç°"></a>2.3    ç³»ç»Ÿå®ç°</h3><p>é™¤ä¸Šç‰ˆæœ¬çš„æ•°æ®æˆå‘˜å’Œæˆå‘˜æ–¹æ³•å¤–ï¼Œå¢åŠ ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">static</span> <span class="hljs-keyword">double</span> total = <span class="hljs-number">0</span>;        <span class="hljs-comment">//æ‰€æœ‰è´¦æˆ·çš„é‡‘é¢</span><br></code></pre></td></tr></table></figure>
<p>åŒæ—¶åœ¨ <code>record()</code> æ–¹æ³•ä¸­å¢åŠ  <code>total += amount;</code> æ¥å®ç° å„ä¸ªè´¦æˆ·çš„æ€»é‡‘é¢çš„è®¡ç®—</p>
<p>å¢åŠ è·å–æ€»é‡‘é¢çš„é™æ€æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">double</span> <span class="hljs-title">getTotal</span><span class="hljs-params">()</span> </span>&#123;&#125; <span class="hljs-comment">//æ˜¾ç¤ºæ€»é‡‘é¢</span><br></code></pre></td></tr></table></figure>
<h3 id="2-4-ç³»ç»Ÿæµ‹è¯•"><a href="#2-4-ç³»ç»Ÿæµ‹è¯•" class="headerlink" title="2.4    ç³»ç»Ÿæµ‹è¯•"></a>2.4    ç³»ç»Ÿæµ‹è¯•</h3><p>é™¤äº†å’Œä¸Šä¸€ç‰ˆæœ¬çš„æµ‹è¯•ç”¨ä¾‹ä»¥å¤–ï¼Œæ·»åŠ ä¸€ä¸ªæ˜¾ç¤ºæ€»é‡‘é¢çš„æµ‹è¯•ï¼Œé¢„æœŸè¾“å‡ºä¸ºï¼š <code>Total: xxxx</code>;</p>
<p>ç¨‹åºä»æ— è¾“å…¥æ“ä½œï¼Œæœ€åçš„è¾“å‡ºç»“æœä¸ºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java">1	#21325302 is created<br>1	#58320212 is created<br>5	#21325302	5000	5000<br>25	#58320212	10000	10000<br>45	#21325302	5500	10500<br>60	#58320212	-4000	6000<br>90	#21325302	27.64	10527.64<br>90	#58320212	21.78	6021.78<br>#21325302	Balance: 10527.64<br>#58320212	Balance: 6021.78<br>Total: <span class="hljs-number">16549.42</span><br></code></pre></td></tr></table></figure>
<p>é™¤ <code>Total: 16549.42</code> å¤–ï¼Œå…¶ä»–çš„è¾“å‡ºç»“æœä¸ 0.1ç‰ˆæœ¬ çš„è¾“å‡ºä¸€è‡´ã€‚</p>
<h3 id="2-5-ä½“ä¼šå¿ƒå¾—"><a href="#2-5-ä½“ä¼šå¿ƒå¾—" class="headerlink" title="2.5    ä½“ä¼šå¿ƒå¾—"></a>2.5    ä½“ä¼šå¿ƒå¾—</h3><ul>
<li><p>åŒ c++ ä¸€æ ·ï¼Œç±»ä¸­çš„é™æ€å˜é‡åªå ç”¨è¯¥ç±»çš„ä¸€ä¸ªç©ºé—´ï¼Œå¯ä»¥å½“ä½œæœ¬ç±»çš„ä¸€ä¸ªè®¡æ•°å™¨ã€‚</p>
</li>
<li><p>é™æ€æ•°æ®æˆå‘˜ä»…ç”±é™æ€æˆå‘˜æ–¹æ³•æ¥è®¿é—®ã€‚</p>
</li>
</ul>
<h2 id="3ã€-ä¸ªäººé“¶è¡Œç®¡ç†ç³»ç»Ÿç‰ˆæœ¬0-3ï¼ˆå¯¹åº”ç¬¬6ç« è®°å½•ï¼‰"><a href="#3ã€-ä¸ªäººé“¶è¡Œç®¡ç†ç³»ç»Ÿç‰ˆæœ¬0-3ï¼ˆå¯¹åº”ç¬¬6ç« è®°å½•ï¼‰" class="headerlink" title="3ã€ ä¸ªäººé“¶è¡Œç®¡ç†ç³»ç»Ÿç‰ˆæœ¬0.3ï¼ˆå¯¹åº”ç¬¬6ç« è®°å½•ï¼‰"></a>3ã€ ä¸ªäººé“¶è¡Œç®¡ç†ç³»ç»Ÿç‰ˆæœ¬0.3ï¼ˆå¯¹åº”ç¬¬6ç« è®°å½•ï¼‰</h2><h3 id="3-1-ç³»ç»Ÿéœ€æ±‚"><a href="#3-1-ç³»ç»Ÿéœ€æ±‚" class="headerlink" title="3.1    ç³»ç»Ÿéœ€æ±‚"></a>3.1    ç³»ç»Ÿéœ€æ±‚</h3><ul>
<li>ä½¿ç”¨å­—ç¬¦ä¸²é“¶è¡Œè´¦å·ã€‚</li>
<li>ä¸ºæ¯ç¬”è´¦æˆ·å¢åŠ è¯´æ˜æ€§æ–‡å­—çš„åŠŸèƒ½ã€‚</li>
<li>å¢åŠ  <strong>æŠ¥å‘Šé”™ä½</strong> çš„åŠŸèƒ½ã€‚</li>
<li>ç®€åŒ–æµ‹è¯•çš„å®ç°ã€‚</li>
<li>å¢åŠ ä¸€ä¸ªæ—¥æœŸåŠŸèƒ½ï¼Œå…¶ä¸­çš„å­åŠŸèƒ½æœ‰ï¼šå­˜å‚¨ä¸€ä¸ªæ—¥æœŸï¼Œè¿”å›å¹´æœˆæ—¥ï¼Œåˆ¤æ–­æ˜¯å¦ä¸ºé—°å¹´ï¼Œè·å–ä¸¤æ—¥åªå·®çš„å¤©æ•°ï¼Œæ˜¾ç¤ºæ—¥æœŸçš„åŠŸèƒ½ã€‚</li>
</ul>
<h3 id="3-2-ç³»ç»Ÿè®¾è®¡"><a href="#3-2-ç³»ç»Ÿè®¾è®¡" class="headerlink" title="3.2    ç³»ç»Ÿè®¾è®¡"></a>3.2    ç³»ç»Ÿè®¾è®¡</h3><ul>
<li>åœ¨ä¸Šä¸¤ä¸ªç‰ˆæœ¬ä¸­ï¼Œé“¶è¡Œè´¦å·éƒ½æ˜¯ç”¨ä¸€ä¸ªæ•´æ•°è¡¨ç¤ºï¼Œä½†è¿™å¹¶ä¸æ˜¯å®Œç¾çš„è§£å†³æ–¹æ¡ˆï¼›ä¾‹å¦‚ï¼Œå¦‚æœé“¶è¡Œè´¦å·ä»¥0å¼€å¤´ï¼Œæˆ–è´¦å·è¶…å‡ºæ•´æ•°çš„è¡¨ç¤ºèŒƒå›´ï¼Œæˆ–è€…è´¦å·ä¸­åŒ…æ‹¬äº†å…¶ä»–å­—ç¬¦ç­‰ç­‰ï¼Œæ‰€ä»¥è¦ä½¿ç”¨ <strong>å­—ç¬¦ä¸²</strong> æ¥è¡¨ç¤ºé“¶è¡Œè´¦å·ã€‚</li>
<li>å‰ä¸¤ä¸ªç‰ˆæœ¬ä¸­æ‰€è¾“å‡ºçš„è´¦ç›®åˆ—è¡¨ï¼Œæ¯ç¬”è´¦ç›®éƒ½æ²¡æœ‰è¯´æ˜ï¼Œä½¿ç”¨å­—ç¬¦ä¸²å¯ä»¥ä¸ºæ¯ç¬”è´¦ç›®å¢åŠ è¯´æ˜æ–‡å­—ã€‚</li>
<li>ä¸º <code>SavingAccount</code> ç±»ä¸“é—¨å¢åŠ äº†ä¸€ä¸ªç”¨æ¥ <strong>æŠ¥å‘Šé”™è¯¯</strong> çš„æ–¹æ³•ï¼Œå½“å…¶ä»–å‡½æ•°éœ€è¦è¾“å‡ºé”™è¯¯ä¿¡æ¯æ—¶ï¼Œç›´æ¥æŠŠä¿¡æ¯å­å­—ç¬¦ä¸²å½¢å¼ä¼ é€’ç»™è¯¥æ–¹æ³•è®¡ç§‘ï¼Œç®€åŒ–äº†é”™è¯¯ä¿¡æ¯çš„è¾“å‡ºã€‚</li>
<li>å‰ä¸¤ä¸ªç‰ˆæœ¬ä¸­ï¼Œä¸»ç¨‹åºåˆ›å»ºçš„ä¸¤ä¸ªç‹¬ç«‹çš„å˜é‡ï¼Œåªèƒ½ç”¨åå­—å»å¼•ç”¨ä»–ä»¬ï¼Œåœ¨ä¸»ç¨‹åºæœ¨å“¦ä¸ºåˆ†åˆ«å¯¹ä¸¤ä¸ªè´¦æˆ·è¿›è¡Œç»“ç®— <strong>settle</strong> å’Œæ˜¾ç¤º <strong>show</strong> æ—¶ï¼Œéœ€è¦å°†å‡ ä¹ç›¸åŒçš„ä»£ç ä¹¦å†™ä¸¤éï¼Œå¦‚æœè´¦æˆ·æ•°é‡å¢å¤šå°†å¸¦æ¥æ›´å¤šéº»çƒ¦ï¼Œæ‰€ä»¥å¯ä»¥å°†éœ€è¦å¯¹å„ä¸ªè´¦æˆ·åšçš„äº‹æƒ…æ”¾åˆ°å¾ªç¯é‡Œï¼Œé¿å…äº†ä»£ç çš„å†—ä½™ã€‚</li>
<li>å‰å‡ ä¸ªç‰ˆæœ¬ä¸­ï¼Œæ—¥æœŸéƒ½æ˜¯ç”¨ä¸€ä¸ªæ•´æ•°è¡¨ç¤ºçš„ï¼Œè¿™æ ·è®¡ç®—ä¸¤ä¸ªæ—¥æœŸè·ç¦»çš„å¤©æ•°éå¸¸æ–¹ä¾¿ï¼Œåˆ°é‚£æ—¶è¿™ç§è¡¨ç¤ºå¾ˆä¸ç›´è§‚ï¼Œå¯¹ç”¨æˆ·å¾ˆä¸å‹å¥½ï¼Œæ‰€ä»¥ç”¨ä¸€ä¸ªç±»æ¥è¡¨ç¤ºæ—¥æœŸã€‚</li>
</ul>
<p>UMLå›¾ä¸ºï¼š</p>
<p><img src="https://raw.githubusercontent.com/31415926535x/CollegeProjectBackup/master/java_shiyan/PersonBankAccountManageSystem/doc/uml/v6_25/uml/uml.png" alt=""></p>
<h3 id="3-3-ç³»ç»Ÿå®ç°"><a href="#3-3-ç³»ç»Ÿå®ç°" class="headerlink" title="3.3    ç³»ç»Ÿå®ç°"></a>3.3    ç³»ç»Ÿå®ç°</h3><h4 id="Dateç±»çš„å®ç°"><a href="#Dateç±»çš„å®ç°" class="headerlink" title="Dateç±»çš„å®ç°"></a>Dateç±»çš„å®ç°</h4><p>ä¸ºäº†è®¡ç®—ä¸¤ä¸ªæ—¥æœŸç›¸å·®å¤©æ•°ï¼Œå¯ä»¥å…ˆé€‰å–ä¸€ä¸ªæ¯”è¾ƒè§„æ•´çš„ <strong>åŸºå‡†æ—¥æœŸ</strong>ï¼Œåœ¨æ„é€ æ—¥æœŸå¯¹è±¡æ—¶å°†è¯¥æ—¥æœŸåˆ°åŸºå‡†æ—¥æœŸçš„ç›¸å¯¹å¤©æ•°è®¡ç®—å‡ºæ¥ï¼Œï¼ˆç§°è¿™ä¸ªç›¸å¯¹å¤©æ•°ä¸º â€œç›¸å¯¹æ—¥æœŸâ€ï¼‰ï¼Œè¿™æ ·è®¡ç®—ä¸¤ä¸ªæ—¥æœŸç›¸å·®çš„å¤©æ•°æ—¶ï¼Œåªéœ€å°†äºŒè€…çš„ç›¸å¯¹æ—¥æœŸç›¸å‡å³å¯ã€‚</p>
<p>å‡è®¾å°†å…¬å…ƒå…ƒå¹´1æœˆ1æ—¥ä½œä¸ºåŸºå‡†æ—¥æœŸï¼Œå°†yå¹´mæœˆdæ—¥ç›¸è·è¿™ä¸€å¤©çš„å¤©æ•°è®°ä¸º $f(y/m/d,1/1/1)$ï¼Œå¯ä»¥å°†å…¶åˆ†è§£ä¸º3ä¸ªéƒ¨åˆ†ï¼š</p>
<script type="math/tex; mode=display">
{
    f(y/m/d, 1/1/1) = 
        f(y/1/1, 1/1/1) + f(y/m/1, y/1/1) + f(y/m/d, y/m/1)
}</script><p>ä¸Šé¢çš„ç­‰æ•°å³è¾¹çš„ç¬¬ä¸€é¡¹è¡¨ç¤ºå½“å¹´çš„1æœˆ1æ—¥ä¸å…¬å…ƒå…ƒå¹´1æœˆ1æ—¥ç›¸è·çš„å¤©æ•°ï¼Œå³å…¬å…ƒå…ƒå¹´åˆ°å…¬å…ƒy-1å¹´çš„æ€»å¤©æ•°ã€‚å¹³å¹´æ¯å¹´æœ‰365å¤©ï¼Œé—°å¹´å¤šä¸€å¤©ï¼Œå› æ­¤è¯¥å€¼ä¸º $365(y-1)$ åŠ ä¸Šå…¬å…ƒå…ƒå¹´åˆ° y - 1 å¹´ä¹‹é—´çš„é—°å¹´æ•°ã€‚ç”±äº4å¹´ä¸€é—°ï¼Œ100çš„å€æ•°å…é—°ï¼Œ400çš„å€æ•°å†é—°ï¼Œæ•…æœ‰ï¼š</p>
<script type="math/tex; mode=display">
{
    f(y/m/d, 1/1/1) = 
        365(y-1) + 
        \lfloor{\frac{y-1}{4}} \rfloor - 
        \lfloor{\frac{y-1}{100}} \rfloor + 
        \lfloor{\frac{y+1}{400}} \rfloor
}</script><p>å…¶ä¸­ $\lfloor x \rfloor$ è¡¨ç¤ºå¯¹ $x$ çš„å‘ä¸‹å–æ•´ï¼Œ $f(y/m/d, y/1/1)$ è¡¨ç¤ºyå¹´mæœˆ1æ—¥ä¸1æœˆ1æ—¥ç›¸è·å¤©æ•°ã€‚</p>
<p>ç”±äºæ¯æœˆçš„å¤©æ•°ä¸åŒï¼Œæ‰€ä»¥éš¾ä»¥è¡¨ç¤ºä¸ºä¸€ä¸ªåŒä¸€çš„å…¬å¼ï¼Œä½†æ¯æœˆçš„1æ—¥ä¸1æœˆ1æ—¥ç›¸å·®çš„å¤©æ•°å¯ä»¥æœ‰æœˆä»½må”¯ä¸€ç¡®å®šï¼Œå› æ­¤å¯ä»¥æŠŠæ¯æœˆ1æ—¥åˆ°1æœˆ1æ—¥ç”±ä¸€ä¸ªæ•°ç»„ä¿å­˜ï¼Œè®¡ç®—æ—¶åªéœ€æŸ¥è¯¢è¯¥æ•°ç»„å³å¯ï¼Œå¯¹äºé—°å¹´ï¼Œå½“ $m&gt;2$ æ—¶å°†æŸ¥å¾—çš„å€¼åŠ ä¸€å³å¯ã€‚è¯¥å€¼åªä¾èµ–äºxå’Œyï¼Œè®°ä¸º $g(m,y)$ã€‚</p>
<p>åŒæ—¶ï¼š </p>
<script type="math/tex; mode=display">
    f(y/m/d, y/m/1) = d - 1</script><p>å°†å…¬å…ƒå…ƒå¹´1æœˆ1æ—¥ä½œä¸ºåŸºå‡†æ—¥æœŸï¼Œåˆ™å…¬å…ƒyå¹´mæœˆdæ—¥çš„ç›¸å¯¹æ—¥æœŸå°±æ˜¯ï¼›</p>
<script type="math/tex; mode=display">
    f(y/m/d, 1/1/1) + 1 =   
        365(y - 1) + 
        \lfloor{\frac{y-1}{4}} \rfloor - 
        \lfloor{\frac{y-1}{100}} \rfloor + 
        \lfloor{\frac{y+1}{400}} \rfloor + 
        g(m, y) + d</script><p>ä¸¤ä¸ªæ—¥æœŸçš„å¤©æ•°çš„å·®ä¾¿å¯ä»¥ç®€å•çš„è®¡ç®—å‡ºæ¥ã€‚</p>
<p>Dateç±»çš„æ•°æ®æˆå‘˜åŒ…æ‹¬ <code>year</code> , <code>month</code> , <code>day</code> å’Œ <code>totalDays</code> ï¼ˆç›¸å¯¹æ—¥æœŸï¼‰ï¼› æˆå‘˜å‡½æ•°æœ‰ï¼š<code>getMaxDay</code> è·å–å½“æœˆçš„å¤©æ•°ï¼Œ <code>isLeapYear</code> åˆ¤æ–­å½“å‰å¹´æ˜¯å¦ä¸ºé—°å¹´ï¼Œ <code>show</code> è¾“å‡ºå½“å‰æ—¥æœŸï¼Œ <code>distance</code> åˆ¤æ–­å½“å‰æ—¥æœŸä¸æŒ‡å®šæ—¥æœŸç›¸å·®çš„å¤©æ•°ï¼›</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//æ•°æ®æˆå‘˜ï¼š</span><br><span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> year;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> month;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> day;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> totalDays;<br><span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> DAYS_BEFORE_MONTH[] = &#123; <span class="hljs-number">0</span>, <span class="hljs-number">31</span>, <span class="hljs-number">59</span>, <span class="hljs-number">90</span>, <span class="hljs-number">120</span>, <span class="hljs-number">151</span>, <span class="hljs-number">181</span>, <span class="hljs-number">212</span>, <span class="hljs-number">243</span>, <span class="hljs-number">273</span>, <span class="hljs-number">304</span>, <span class="hljs-number">334</span>, <span class="hljs-number">365</span> &#125;;<br><br><span class="hljs-comment">//æ–¹æ³•ï¼š</span><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Date</span><span class="hljs-params">(<span class="hljs-keyword">int</span> year, <span class="hljs-keyword">int</span> month, <span class="hljs-keyword">int</span> day)</span></span>&#123;&#125;<br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getYear</span><span class="hljs-params">()</span></span>&#123;&#125;<br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getMonth</span><span class="hljs-params">()</span></span>&#123;&#125;<br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getDay</span><span class="hljs-params">()</span></span>&#123;&#125;<br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getMaxDay</span><span class="hljs-params">()</span></span>&#123;&#125;<br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">isLeapYear</span><span class="hljs-params">()</span></span>&#123;&#125;<br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">void</span> <span class="hljs-title">show</span><span class="hljs-params">()</span></span>&#123;&#125;<br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> <span class="hljs-title">distance</span><span class="hljs-params">(<span class="hljs-keyword">final</span> Date date)</span></span>&#123;&#125;<br></code></pre></td></tr></table></figure>
<h4 id="SavingsAccountç±»çš„æ”¹åŠ¨"><a href="#SavingsAccountç±»çš„æ”¹åŠ¨" class="headerlink" title="SavingsAccountç±»çš„æ”¹åŠ¨"></a>SavingsAccountç±»çš„æ”¹åŠ¨</h4><p>åœ¨ä¸Šä¸€ç‰ˆæœ¬çš„åŸºç¡€ä¸Šï¼Œæœ‰å¦‚ä¸‹æ”¹åŠ¨ï¼š</p>
<ul>
<li>æè¿°è´¦å·çš„æ•°æ®ç±»å‹ç”± <code>int</code> æ”¹ä¸º <code>string</code>;</li>
<li>æè¿°æ—¥æœŸçš„æ•°æ®ç±»å‹ç”± <code>int</code> æ”¹ä¸º <code>Date</code> ç±»ï¼Œå¹¶ä¸º <code>deposit</code>, <code>withdraw</code> å’Œ <code>settle</code> å¢åŠ äº†ä¸€ä¸ªç”¨æ¥å­˜å‚¨è¯¥ç¬”è´¦ç›®ä¿¡æ¯çš„ <code>string</code> å‹çš„ <code>desc</code> å‚æ•°;</li>
<li>å¢åŠ ä¸€ä¸ªä¸“ç”¨äºè¾“å‡ºé”™è¯¯ä¿¡æ¯çš„ <code>error</code> æ–¹æ³•;</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> String id;				<span class="hljs-comment">//è´¦å·</span><br><span class="hljs-keyword">private</span> Date lastDate;			<span class="hljs-comment">//ä¸Šæ¬¡å˜æ›´ä½™é¢çš„æ—¶æœŸ</span><br><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">record</span><span class="hljs-params">(<span class="hljs-keyword">final</span> Date date, <span class="hljs-keyword">double</span> amount, <span class="hljs-keyword">final</span> String desc)</span></span>&#123;&#125;<br><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">void</span> <span class="hljs-title">error</span><span class="hljs-params">(<span class="hljs-keyword">final</span> String msg)</span></span>&#123;&#125;<br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">deposit</span><span class="hljs-params">(<span class="hljs-keyword">final</span> Date date, <span class="hljs-keyword">double</span> amount, <span class="hljs-keyword">final</span> String desc)</span></span>&#123;&#125;<br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">withdraw</span><span class="hljs-params">(<span class="hljs-keyword">final</span> Date date, <span class="hljs-keyword">double</span> amount, <span class="hljs-keyword">final</span> String desc)</span></span>&#123;&#125;<br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">settle</span><span class="hljs-params">(<span class="hljs-keyword">final</span> Date date)</span></span>&#123;&#125;<br></code></pre></td></tr></table></figure>
<h3 id="3-4-ç³»ç»Ÿæµ‹è¯•"><a href="#3-4-ç³»ç»Ÿæµ‹è¯•" class="headerlink" title="3.4    ç³»ç»Ÿæµ‹è¯•"></a>3.4    ç³»ç»Ÿæµ‹è¯•</h3><p>ç›®çš„ï¼š</p>
<ul>
<li>å®ä¾‹åŒ–ä¸€ä¸ªæ—¥æœŸå¯¹è±¡ä½œä¸ºä¸€ä¸ªåŸºå‡†æ—¥æœŸï¼Œæ­¤æ—¶æ— è¾“å‡ºï¼›</li>
<li>å£°æ˜ä¸€ä¸ªé•¿åº¦ä¸º2çš„æ´»æœŸè´¦æˆ·å¯¹è±¡æ•°ç»„ï¼ŒåŒæ—¶æ·»åŠ ä¸¤ä¸ªè´¦æˆ·ä¿¡æ¯ï¼Œæ­¤æ—¶åº”æ˜¾ç¤º <code>date #xxxxxx is created</code>ï¼›</li>
<li>æ·»åŠ å‡ ç¬”å¸¦æœ‰è¯´æ˜æ€§ä¿¡æ¯çš„å¸ç›®ï¼Œä»¥æµ‹è¯•è¯´æ˜æ€§ä¿¡æ¯çš„å­˜å–åŠŸèƒ½æ˜¯å¦å®ç°ï¼Œæ­¤æ—¶åº”æ˜¾ç¤ºï¼š <code>date #xxxxxx xxxx xxxx msg</code></li>
<li>å¯¹æ‰€æœ‰è´¦æˆ·è®¾ç½®ä¸€ä¸ªæ–°çš„æ—¥æœŸï¼ŒåŒæ—¶æ˜¾ç¤ºä¿®æ”¹æ—¥æœŸåä¿¡æ¯ï¼Œæ­¤æ—¶åº”æ˜¾ç¤ºï¼š <code>date #xxxx xx xxxx interest xxxxxx balance: xxxx</code></li>
<li>æ˜¾ç¤ºæ‰€æœ‰è´¦æˆ·çš„æ€»é‡‘é¢ï¼š <code>Total: xxxx</code>;</li>
</ul>
<p>ç¨‹åºæ— è¾“å…¥æ“ä½œï¼Œè¾“å‡ºçš„ç»“æœä¸ºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java">2008-11-1	#S3755217 is created<br>2008-11-1	#02342342 is created<br>2008-11-5	#S3755217	5000	5000	salary<br>2008-11-25	#02342342	10000	10000	sell stock 0323<br>2008-12-5	#S3755217	5500	10500	salary<br>2008-12-20	#02342342	-4000	6000	buy a laptop<br><br>2009-1-1	#S3755217	17.77	10517.77	interest<br>S3755217	Balance: <span class="hljs-number">10517.77</span><br>2009-1-1	#02342342	13.2	6013.2	interest<br><span class="hljs-number">02342342</span>	Balance: <span class="hljs-number">6013.2</span><br>Total: <span class="hljs-number">16530.97</span><br></code></pre></td></tr></table></figure>
<p>æœ€åçš„è¾“å‡ºä¸å®éªŒé¢„æœŸç›¸ä¸€è‡´ã€‚</p>
<h3 id="3-5-ä½“ä¼šå¿ƒå¾—"><a href="#3-5-ä½“ä¼šå¿ƒå¾—" class="headerlink" title="3.5    ä½“ä¼šå¿ƒå¾—"></a>3.5    ä½“ä¼šå¿ƒå¾—</h3><ul>
<li>ç±»çš„ç»„åˆå¯ä»¥ä½¿ä¸€äº›åŠŸèƒ½å®ç°æ›´åŠ çš„å®¹æ˜“ä»¥åŠç®¡ç†ï¼Œæœ¬ç‰ˆæœ¬ä¸­åˆ©ç”¨Dateç±»ï¼ˆç±»çš„ç»„åˆï¼‰ä½¿å¾—æœ‰å…³æ—¥æœŸçš„æ“ä½œå¯ä»¥å’ŒSavingsAccountç±»çš„å®ç°ç›¸äº’ç‹¬ç«‹ï¼Œæ— éœ€å…³å¿ƒDateç±»çš„å…·ä½“å®ç°ï¼ŒåŒæ—¶ä¸€äº›æ“ä½œçš„å®ç°ä¹Ÿå¯ä»¥ç›´æ¥è°ƒç”¨æ–¹æ³•æ¥å®ç°ï¼›</li>
<li>Mainç±»ä¸­ä½¿ç”¨äº†å¯¹è±¡æ•°ç»„æ¥å®ç°æœ€åçš„ä¸€äº›æ“ä½œå¯ä»¥é€šè¿‡å¾ªç¯æ¥å®ç°ï¼Œå‡å°‘ä»£ç é‡ï¼›</li>
<li>c++ä¸javaåœ¨åŠŸèƒ½å®ç°ä¸Šå¤§åŒå°å¼‚ï¼Œä½†æ˜¯ä¸€äº›ç»†èŠ‚çš„å¤„ç†ä¹Ÿä½“ç°å‡ºäº†ä¸¤ä¸ªè¯­è¨€ä¹‹é—´çš„å·®åˆ«ï¼Œå¯¹äºè¿™äº›ç»†ç¢çš„ä¸œè¥¿è¦å–„äºå»ç”¨å„ç§èµ„æºæ¥å¯»æ‰¾ï¼›</li>
</ul>
<h2 id="4ã€-ä¸ªäººé“¶è¡Œç®¡ç†ç³»ç»Ÿç‰ˆæœ¬0-4ï¼ˆå¯¹åº”ç¬¬7ç« è®°å½•ï¼‰"><a href="#4ã€-ä¸ªäººé“¶è¡Œç®¡ç†ç³»ç»Ÿç‰ˆæœ¬0-4ï¼ˆå¯¹åº”ç¬¬7ç« è®°å½•ï¼‰" class="headerlink" title="4ã€ ä¸ªäººé“¶è¡Œç®¡ç†ç³»ç»Ÿç‰ˆæœ¬0.4ï¼ˆå¯¹åº”ç¬¬7ç« è®°å½•ï¼‰"></a>4ã€ ä¸ªäººé“¶è¡Œç®¡ç†ç³»ç»Ÿç‰ˆæœ¬0.4ï¼ˆå¯¹åº”ç¬¬7ç« è®°å½•ï¼‰</h2><h3 id="4-1-ç³»ç»Ÿéœ€æ±‚"><a href="#4-1-ç³»ç»Ÿéœ€æ±‚" class="headerlink" title="4.1    ç³»ç»Ÿéœ€æ±‚"></a>4.1    ç³»ç»Ÿéœ€æ±‚</h3><p>åŒä¸Šä¸€ç‰ˆæœ¬ç›¸æ¯”ï¼Œè¿™ä¸€ç‰ˆæœ¬å¢åŠ äº† <strong>ä¿¡ç”¨è´¦æˆ·</strong> çš„éœ€æ±‚ï¼š</p>
<ul>
<li>ä¿¡ç”¨è´¦æˆ·å…è®¸ <strong>é€æ”¯</strong>ï¼Œæ¯ä¸€ä¸ªä¿¡ç”¨è´¦æˆ·éƒ½æœ‰ä¸€å®šçš„ä¿¡ç”¨é¢åº¦ï¼Œæ€»çš„é€æ”¯é‡‘é¢åº”åœ¨è¿™ä¸ªé¢åº¦ä¹‹å†…ã€‚</li>
<li>å¦‚æœé¡¹ä¿¡ç”¨è´¦æˆ·å†…å­˜é’±ï¼Œä¸ä¼šæœ‰åˆ©æ¯ï¼Œä½†ä½¿ç”¨ä¿¡ç”¨è´¦æˆ·é€æ”¯åˆ™éœ€è¦æ”¯ä»˜åˆ©æ¯ï¼Œä¿¡ç”¨è´¦æˆ·çš„åˆ©ç‡ä¸€èˆ¬ä»¥æ—¥ä¸ºå•ä½ï¼Œä¸ºäº†ç®€å•ä»é€æ”¯é‚£ä¸€å¤©å…¶å°±å¼€å§‹è®¡ç®—åˆ©æ¯ã€‚</li>
<li>ä¿¡ç”¨è´¦æˆ·æ¯æœˆè¿›è¡Œä»¥åŠç»“ç®—ï¼Œå‡å®šç»“ç®—æ—¥ä¸ºæ¯æœˆçš„1æ—¥ã€‚</li>
<li>ä¿¡ç”¨è´¦æˆ·æ¯å¹´éœ€è¦äº¤ä¸€æ¬¡å¹´è´¹ï¼Œå‡å®šæ¯å¹´1æœˆ1æ—¥ç»“ç®—çš„æ—¶å€™æ‰£ç¼´å¹´è´¹ã€‚</li>
</ul>
<h3 id="4-2-ç³»ç»Ÿè®¾è®¡"><a href="#4-2-ç³»ç»Ÿè®¾è®¡" class="headerlink" title="4.2    ç³»ç»Ÿè®¾è®¡"></a>4.2    ç³»ç»Ÿè®¾è®¡</h3><p>æ ¹æ®éœ€æ±‚è®¾è®¡ä¸€ä¸ª <strong>åŸºç±»Account</strong> ç”¨æ¥æè¿°æ‰€æœ‰è´¦æˆ·çš„å…±æ€§ï¼Œæ´¾ç”Ÿé™¤ <em>SavingsAccount</em> ä»¥åŠåœ¨æ´¾ç”Ÿå‡ºè¡¨ç¤ºä¿¡ç”¨è´¦æˆ·çš„ç±» <em>CreditAccount</em>ã€‚</p>
<p>åœ¨åŸºç±»Accountä¸­ï¼Œä¿ç•™æ•°æ®æˆå‘˜: <code>idè´¦å·</code> ï¼Œ <code>balanceä½™é¢</code> ï¼Œ <code>totalé™æ€æ•°æ®æˆå‘˜è´¦æˆ·æ€»é‡‘é¢</code> ï¼Œ æˆå‘˜æ–¹æ³•: <code>showè¾“å‡ºä¿¡æ¯</code>ã€‚åŸæ¥çš„ <code>record</code> , <code>error</code> æ–¹æ³•çš„è®¿é—®æ§åˆ¶æƒé™ä¿®æ”¹ä¸º <strong>protected</strong>ï¼Œä¾›æ´¾ç”Ÿç±»è°ƒç”¨ï¼ŒåŒæ—¶è¿˜æœ‰ä¸€ä¸ªä¿æŠ¤çš„æ„é€ æ–¹æ³•ã€‚</p>
<p>å¯¹äº <em>å¤„ç†å­˜æ¬¾çš„æˆå‘˜æ–¹æ³• deposit</em> ã€ <em>å¤„ç†å–æ¬¾çš„æˆå‘˜æ–¹æ³• withdraw</em> ã€ <em>å¤„ç†ç»“ç®—çš„æˆå‘˜æ–¹æ³• settle</em> éƒ½æ”¾åœ¨å„ä¸ªæ´¾ç”Ÿç±»ä¸­ï¼ŒåŸå› æ˜¯ä¸¤ç§è´¦æˆ·çš„å…·ä½“å¤„ç†æ–¹å¼ä¸åŒã€‚</p>
<p><em>å‚¨è“„è´¦æˆ·ç”¨æ¥è¡¨ç¤ºå¹´åˆ©ç‡çš„rate</em> ã€ <em>ä¿¡ç”¨è´¦æˆ·ç”¨æ¥è¡¨ç¤ºä¿¡ç”¨é¢åº¦çš„credit ã€è¡¨ç¤ºæ—¥åˆ©ç‡ rateã€ è¡¨ç¤ºå¹´è´¹fee</em> ä»¥åŠå…¶è·å–ä»–ä»¬çš„æˆå‘˜æ–¹æ³•éƒ½ä½œä¸ºç›¸åº”çš„æ´¾ç”Ÿç±»çš„æˆå‘˜ã€‚</p>
<p>åˆ›å»ºä¸€ä¸ªæ–°ç±»ç”¨æ¥å®ç°å„ä¸ªè´¦æˆ·çš„æŒ‰æ—¥ç´¯åŠ å’Œçš„åŠŸèƒ½ï¼Œæœ‰è¯¥ç±»é¢˜ç”¨è®¡ç®—ä¸€é¡¹æ•°æ®çš„æŒ‰æ—¥ç´¯åŠ ä¹‹å’Œæ‰€éœ€çš„æ¥å£ï¼Œåœ¨ä¸¤ä¸ªæ´¾ç”Ÿç±»ä¸­åˆ†åˆ«å°†å…¶å®ä¾‹åŒ–ï¼Œé€šè¿‡è¯¥ç±»çš„å®ä¾‹è®¡ç®—åˆ©æ¯ã€‚è¿™ä¸ªç±»å‘½åä¸º <code>Accumulator</code>ã€‚</p>
<p>è¯¥ç±»åŒ…æ‹¬3ä¸ªæ•°æ®æˆå‘˜ï¼š <code>lastDateè¢«ç´¯åŠ æ•°å€¼ä¸Šæ¬¡å˜æ›´æ—¥æœŸ</code> ã€ <code>valueè¢«ç´¯åŠ æ•°å€¼çš„å½“å‰å€¼</code> ã€ <code>sumåˆ°ä¸Šæ¬¡å˜æ›´è¢«ç´¯åŠ æ•°å€¼ä½ç½®çš„æŒ‰æ—¥ç´¯åŠ æ€»å’Œ</code>ï¼›</p>
<p>è¯¥ç±»åŒ…æ‹¬4ä¸ªæˆå‘˜æ–¹æ³•ï¼š æ„é€ æ–¹æ³•ã€ <code>getSumè®¡ç®—åˆ°æŒ‡å®šæ—¥æœŸçš„ç´¯åŠ ç»“æœ</code> ã€ <code>changeæŒ‡å®šæ—¥æœŸæ›´æ”¹æ•°å€¼</code> ã€ <code>resetå°†ç´¯åŠ å™¨æ¸…é›¶å¹¶é‡æ–°è®¾å®šåˆå§‹æ—¥æœŸå’Œæ•°å€¼</code>;</p>
<p>UMLå›¾ï¼š</p>
<p><img src="https://raw.githubusercontent.com/31415926535x/CollegeProjectBackup/master/java_shiyan/PersonBankAccountManageSystem/doc/uml/v7_10/uml/uml.png" alt=""></p>
<h3 id="4-3-ç³»ç»Ÿå®ç°"><a href="#4-3-ç³»ç»Ÿå®ç°" class="headerlink" title="4.3    ç³»ç»Ÿå®ç°"></a>4.3    ç³»ç»Ÿå®ç°</h3><h4 id="Accountç±»å®ç°"><a href="#Accountç±»å®ç°" class="headerlink" title="Accountç±»å®ç°"></a>Accountç±»å®ç°</h4><figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> String id;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> balance;<br><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">double</span> total = <span class="hljs-number">0</span>;<br><span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-title">Account</span><span class="hljs-params">(<span class="hljs-keyword">final</span> Date date, <span class="hljs-keyword">final</span> String id)</span></span>&#123;&#125;<br><span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">record</span><span class="hljs-params">(<span class="hljs-keyword">final</span> Date date, <span class="hljs-keyword">double</span> amount, <span class="hljs-keyword">final</span> String desc)</span></span>&#123;&#125;<br><span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">void</span> <span class="hljs-title">error</span><span class="hljs-params">(<span class="hljs-keyword">final</span> String msg)</span></span>&#123;&#125;<br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> String <span class="hljs-title">getId</span><span class="hljs-params">()</span></span>&#123;&#125;<br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">double</span> <span class="hljs-title">getBalance</span><span class="hljs-params">()</span></span>&#123;&#125;<br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">double</span> <span class="hljs-title">getTotal</span><span class="hljs-params">()</span></span>&#123;&#125;<br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">show</span><span class="hljs-params">()</span></span>&#123;&#125;<br></code></pre></td></tr></table></figure>
<h4 id="Accumulatorç±»"><a href="#Accumulatorç±»" class="headerlink" title="Accumulatorç±»"></a>Accumulatorç±»</h4><figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> Date lastDate;<br><span class="hljs-keyword">double</span> value;<br><span class="hljs-keyword">double</span> sum;<br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Accumulator</span><span class="hljs-params">(<span class="hljs-keyword">final</span> Date date, <span class="hljs-keyword">double</span> value)</span></span>&#123;&#125;<br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">double</span> <span class="hljs-title">getSum</span><span class="hljs-params">(<span class="hljs-keyword">final</span> Date date)</span></span>&#123;&#125;<br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">change</span><span class="hljs-params">(<span class="hljs-keyword">final</span> Date date, <span class="hljs-keyword">double</span> value)</span></span>&#123;&#125;<br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">reset</span><span class="hljs-params">(<span class="hljs-keyword">final</span> Date date, <span class="hljs-keyword">double</span> value)</span></span>&#123;&#125;<br><br></code></pre></td></tr></table></figure>
<h4 id="SavingsAccountç±»"><a href="#SavingsAccountç±»" class="headerlink" title="SavingsAccountç±»"></a>SavingsAccountç±»</h4><figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SavingsAccount</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Account</span></span>&#123;<br><br>    <span class="hljs-keyword">private</span> Accumulator acc;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> rate;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">SavingsAccount</span><span class="hljs-params">(<span class="hljs-keyword">final</span> Date date, <span class="hljs-keyword">final</span> String id, <span class="hljs-keyword">double</span> rate)</span></span>&#123;&#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">double</span> <span class="hljs-title">getRate</span><span class="hljs-params">()</span></span>&#123;&#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">deposit</span><span class="hljs-params">(<span class="hljs-keyword">final</span> Date date, <span class="hljs-keyword">double</span> amount, <span class="hljs-keyword">final</span> String desc)</span></span>&#123;&#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">withdraw</span><span class="hljs-params">(<span class="hljs-keyword">final</span> Date date, <span class="hljs-keyword">double</span> amount, <span class="hljs-keyword">final</span> String desc)</span></span>&#123;&#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">settle</span><span class="hljs-params">(<span class="hljs-keyword">final</span> Date date)</span></span>&#123;&#125;<br><br>&#125;<br></code></pre></td></tr></table></figure>
<h4 id="CreditAccountç±»"><a href="#CreditAccountç±»" class="headerlink" title="CreditAccountç±»"></a>CreditAccountç±»</h4><figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CreditAccount</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Account</span></span>&#123;<br>    <span class="hljs-keyword">private</span> Accumulator acc;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> cred`it;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> rate;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">double</span> fee;`<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">double</span> <span class="hljs-title">getDebt</span><span class="hljs-params">()</span></span>&#123;&#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">CreditAccount</span><span class="hljs-params">(<span class="hljs-keyword">final</span> Date date, <span class="hljs-keyword">final</span> String id, <span class="hljs-keyword">double</span> credit, <span class="hljs-keyword">double</span> rate, <span class="hljs-keyword">double</span> fee)</span> </span>&#123;&#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">double</span> <span class="hljs-title">getCredit</span><span class="hljs-params">()</span></span>&#123;&#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">double</span> <span class="hljs-title">getRate</span><span class="hljs-params">()</span></span>&#123;&#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">double</span> <span class="hljs-title">getFee</span><span class="hljs-params">()</span></span>&#123;&#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">double</span> <span class="hljs-title">getAvailableCredit</span><span class="hljs-params">()</span></span>&#123;&#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">deposit</span><span class="hljs-params">(<span class="hljs-keyword">final</span> Date date, <span class="hljs-keyword">double</span> amount, <span class="hljs-keyword">final</span> String desc)</span></span>&#123;&#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">withdraw</span><span class="hljs-params">(<span class="hljs-keyword">final</span> Date date, <span class="hljs-keyword">double</span> amount, <span class="hljs-keyword">final</span> String desc)</span></span>&#123;&#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">settle</span><span class="hljs-params">(<span class="hljs-keyword">final</span> Date date)</span></span>&#123;&#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">void</span> <span class="hljs-title">show</span><span class="hljs-params">()</span></span>&#123;&#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h4 id="Dateç±»"><a href="#Dateç±»" class="headerlink" title="Dateç±»"></a>Dateç±»</h4><p>Dateç±»ä¸ä¸Šä¸€ç‰ˆæœ¬ä¿æŒä¸å˜</p>
<h3 id="4-4-ç³»ç»Ÿæµ‹è¯•"><a href="#4-4-ç³»ç»Ÿæµ‹è¯•" class="headerlink" title="4.4    ç³»ç»Ÿæµ‹è¯•"></a>4.4    ç³»ç»Ÿæµ‹è¯•</h3><p>ç›®çš„ï¼š</p>
<ul>
<li>å®ä¾‹åŒ–ä¸€ä¸ªæ—¥æœŸï¼Œä½œä¸ºåˆå§‹æ—¥æœŸï¼Œæ­¤æ—¶æ— è¾“å‡ºï¼›</li>
<li>å®ä¾‹åŒ–ä¸¤ä¸ªæ´»æœŸè´¦æˆ·ä»¥åŠä¸€ä¸ªä¿¡ç”¨è´¦æˆ·ï¼Œæ­¤æ—¶åº”è¯¥æ˜¾ç¤ºï¼š <code>date #xxxxxxxx created</code>;</li>
<li>æ·»åŠ å‡ ç¬”è´¦å•ï¼Œæ­¤æ—¶åº”è¯¥æ˜¾ç¤ºï¼š <code>date #xxxxxxx xxxx xxxx msg</code>;</li>
<li>è®¾ç½®ä¸€ä¸ªæ—¥æœŸç»“ç®—ä¿¡ç”¨è´¦æˆ·ï¼Œæ­¤æ—¶åº”æ˜¾ç¤ºï¼š <code>date #xxxxxxxx xxxx xxxx interest</code>ï¼›</li>
<li>æ·»åŠ å‡ ç¬”è´¦å•ï¼Œæ­¤æ—¶åº”è¯¥å’Œä¸Šé¢æ˜¾ç¤ºçš„ä¿¡æ¯ç±»ä¼¼ï¼›</li>
<li>ç»“ç®—æ‰€æœ‰è´¦æˆ·ï¼Œæ­¤æ—¶åº”è¯¥æ˜¾ç¤ºï¼š <code>date #xxxxxxxx xxxx xxxx interest/annual fee</code>ï¼›</li>
<li>æ˜¾ç¤ºæ‰€æœ‰è´¦æˆ·çš„ä¿¡æ¯ï¼Œæ­¤æ—¶åº”è¯¥æ˜¾ç¤ºï¼š <code>xxxxxxxxx Balance: xxxx / Available credit: xxxx</code></li>
<li>æ˜¾ç¤ºæ€»é‡‘é¢ï¼Œæ­¤æ—¶åº”è¯¥æ˜¾ç¤ºï¼š <code>Total: xxxx</code>;</li>
</ul>
<p>è¿™ä¸€ç‰ˆæœ¬ä»æ— è¾“å…¥ï¼Œæ‰€ä»¥è¾“å‡ºä¸ºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java">2008-11-1	#S3755217 created<br>2008-11-1	#02342342 created<br>2008-11-1	#C5392394 created<br>2008-11-5	#S3755217	5000	5000	salary<br>2008-11-15	#C5392394	-2000	-2000	buy a cell<br>2008-11-25	#02342342	10000	10000	sell stock 0323<br>2008-12-1	#C5392394	-16	-2016	interest<br>2008-12-1	#C5392394	2016	0	repay the creadit<br>2008-12-5	#S3755217	5500	10500	salary<br>2009-1-1	#S3755217	17.77	10517.77	interest<br>2009-1-1	#02342342	15.16	10015.16	interest<br>2009-1-1	#C5392394	-50	-50	annual fee<br><br>S3755217	Balance: <span class="hljs-number">10517.77</span><br><span class="hljs-number">02342342</span>	Balance: <span class="hljs-number">10015.16</span><br>C5392394	Balance: -<span class="hljs-number">50</span>	Available credit:<span class="hljs-number">9950</span><br>Total: <span class="hljs-number">20482.93</span><br></code></pre></td></tr></table></figure>
<p>è¾“å‡ºä¸é¢„æœŸå†…å®¹ç›¸åŒã€‚</p>
<h3 id="4-5-ä½“ä¼šå¿ƒå¾—"><a href="#4-5-ä½“ä¼šå¿ƒå¾—" class="headerlink" title="4.5    ä½“ä¼šå¿ƒå¾—"></a>4.5    ä½“ä¼šå¿ƒå¾—</h3><ul>
<li>è¿™ä¸€ç‰ˆæœ¬å› ä¸ºå¢åŠ äº†ä¸€ä¸ªä¸ å‚¨è“„è´¦æˆ· ç±»ä¼¼çš„ ä¿¡ç”¨è´¦æˆ·ç±»çš„éœ€æ±‚ï¼Œæ‰€ä»¥ä¸ºäº†ç®€åŒ–å®ç°ï¼ŒåŒæ—¶å‡å°‘ä»£ç é‡ï¼Œè®¾è®¡ä¸€ä¸ªå…±åŒçš„çˆ¶ç±» Account ç±»æ¥æ´¾ç”Ÿå‡ºéœ€è¦çš„ä¸¤ä¸ªå­ç±»ï¼›</li>
<li>ä¸ºäº†æ›´æ–¹ä¾¿çš„è®¡ç®—ç´¯åŠ çš„æ—¥æœŸè®¾è®¡ä¸€ä¸ª Accumulator ç±»ï¼Œè€ŒDateç±»å› ä¸ºæ²¡æœ‰éœ€æ±‚ä¸å…¶æœ‰å…³ï¼Œæ‰€ä»¥æ²¡æœ‰æ›´æ”¹ï¼›</li>
<li>è¿™ä¸€ç‰ˆæœ¬æ›´åŠ çš„ä½“ç°äº†é¢å‘å¯¹è±¡ç¼–ç¨‹è®¾è®¡è½¯ä»¶åœ¨éœ€æ±‚å˜æ›´æ—¶çš„å¥½å¤„ï¼Œå¼€å‘è€…åªéœ€è§£å†³å¢åŠ çš„éœ€æ±‚æ–¹é¢çš„ä»»åŠ¡ï¼Œè€Œä¸ç”¨ç®¡å…¶ä½™çš„ä¸œè¥¿ï¼ŒåŒæ—¶ç»§æ‰¿æ´¾ç”Ÿä½¿å¾—åŒç±»ä¸åŒåŠŸèƒ½çš„å®ç°æ›´åŠ çš„å®¹æ˜“ï¼Œå¤§å¤§çš„å‡å°å¼€å‘çš„éš¾åº¦ã€‚</li>
</ul>
<h2 id="5ã€-ä¸ªäººé“¶è¡Œç®¡ç†ç³»ç»Ÿç‰ˆæœ¬0-5ï¼ˆå¯¹åº”ç¬¬8ç« è®°å½•ï¼‰"><a href="#5ã€-ä¸ªäººé“¶è¡Œç®¡ç†ç³»ç»Ÿç‰ˆæœ¬0-5ï¼ˆå¯¹åº”ç¬¬8ç« è®°å½•ï¼‰" class="headerlink" title="5ã€ ä¸ªäººé“¶è¡Œç®¡ç†ç³»ç»Ÿç‰ˆæœ¬0.5ï¼ˆå¯¹åº”ç¬¬8ç« è®°å½•ï¼‰"></a>5ã€ ä¸ªäººé“¶è¡Œç®¡ç†ç³»ç»Ÿç‰ˆæœ¬0.5ï¼ˆå¯¹åº”ç¬¬8ç« è®°å½•ï¼‰</h2><h3 id="5-1-ç³»ç»Ÿéœ€æ±‚"><a href="#5-1-ç³»ç»Ÿéœ€æ±‚" class="headerlink" title="5.1    ç³»ç»Ÿéœ€æ±‚"></a>5.1    ç³»ç»Ÿéœ€æ±‚</h3><p>è¿™ä¸€ç‰ˆæœ¬æ”¹è¿›ä¸Šä¸€èˆ¬ç‰ˆæœ¬ä¸­çš„ä¸¤ä¸ªä¸è¶³ï¼š</p>
<ul>
<li>æ”¹è¿›æµ‹è¯•æ–¹æ³•çš„å®ç°ï¼Œä½¿å…¶æ›´åŠ çš„ä¾¿äºæ“ä½œï¼Œç®¡ç†ï¼›</li>
<li>æ”¹è¿›å„è´¦æˆ·ä¹‹é—´çš„å…³ç³»ï¼Œä½¿å…¶æ›´åŠ å®¹æ˜“æ“ä½œï¼›</li>
</ul>
<h3 id="5-2-ç³»ç»Ÿè®¾è®¡"><a href="#5-2-ç³»ç»Ÿè®¾è®¡" class="headerlink" title="5.2    ç³»ç»Ÿè®¾è®¡"></a>5.2    ç³»ç»Ÿè®¾è®¡</h3><ul>
<li>å„ä¸ªè´¦æˆ·å¯¹è±¡æ— æ³•é€šè¿‡æ•°ç»„æ¥è®¿é—®ï¼Œä½¿å¾—åœ¨åˆ†åˆ«å¯¹æ¯ä¸ªå¯¹è±¡æ‰§è¡ŒæŸä¸ªæ“ä½œæ—¶ï¼Œåªèƒ½åˆ†åˆ«å†™å‡ºé’ˆå¯¹å„å¯¹è±¡çš„ä»£ç ï¼Œæ— æ³•ä½¿ç”¨å¾ªç¯ã€‚</li>
<li>ä¸åŒæ´¾ç”Ÿç±»çš„ <code>deposit</code> , <code>withdraw</code> , <code>settle</code> ç­‰å‡½æ•°å½¼æ­¤ç‹¬ç«‹ï¼Œåªæœ‰çŸ¥é“ä¸€ä¸ªå®ä¾‹çš„å…·ä½“ç±»å‹ä¹‹åæ‰èƒ½è°ƒç”¨è¿™äº›å‡½æ•°ã€‚</li>
</ul>
<h4 id="Accountç±»çš„æ”¹è¿›"><a href="#Accountç±»çš„æ”¹è¿›" class="headerlink" title="Accountç±»çš„æ”¹è¿›"></a>Accountç±»çš„æ”¹è¿›</h4><ul>
<li>åœ¨c++ä¸­å¯ä»¥ä½¿ç”¨è™šå‡½æ•°ï¼Œè¿™æ · <code>show</code> å‡½æ•°å°±å¯ä»¥åœ¨å…·ä½“çš„ç±»ä¸­å®ç°ï¼Œåœ¨Javaä¸­çš„è§£å†³æ–¹æ³•æ˜¯å­ç±»è°ƒç”¨çˆ¶ç±»å®ç°ä¸€éƒ¨åˆ†çš„åŠŸèƒ½ã€‚</li>
<li>å°†Accountä¸­çš„ <code>deposit</code> , <code>withdraw</code> , <code>settle</code> å£°æ˜ä¸ºæŠ½è±¡æ–¹æ³•ï¼Œè¿™æ ·å¯ä»¥é€šè¿‡çˆ¶ç±»çš„å¼•ç”¨æ¥è°ƒç”¨å­ç±»çš„æ–¹æ³•ã€‚</li>
<li>å°† <code>settle</code> æ–¹æ³•å…è®¸æ¥å—çš„å‚æ•°ç»Ÿä¸€ä¸ºæ¯æœˆ1æ—¥ï¼ŒåŒæ—¶å¯¹æ´»æœŸå‚¨è“„è´¦æˆ·çš„ <code>settle</code> è¿›è¡Œä¿®æ”¹ï¼Œä½¿å®ƒåœ¨ç»“ç®—åˆ©æ¯ä¹‹å‰å…ˆåˆ¤æ–­æ˜¯å¦ä¸º1æœˆï¼Œåªæœ‰å‚æ•°æ‰€ç»™çš„æ—¥æœŸæ˜¯1æœˆæ‰è¿›è¡Œç»“ç®—ã€‚</li>
<li>é€šè¿‡ä»¥ä¸Šä¿®æ”¹ä¹‹åä¾¿å¯ä»¥é€šè¿‡åŒä¸€ä¸ªçˆ¶ç±»çš„å£°æ˜æ¥å¼•ç”¨ä¸åŒçš„å­ç±»ï¼Œè¿™æ ·å¯ä»¥é€šè¿‡ä¸€ä¸ªçˆ¶ç±»çš„æ•°ç»„æ¥å®ç°ä¸åŒçš„è´¦æˆ·çš„å­˜å‚¨æ“ä½œã€‚</li>
</ul>
<h4 id="Dateç±»çš„æ”¹è¿›"><a href="#Dateç±»çš„æ”¹è¿›" class="headerlink" title="Dateç±»çš„æ”¹è¿›"></a>Dateç±»çš„æ”¹è¿›</h4><p>åŸæ¥çš„Dateç±»ä¸­çš„ <code>distance1</code> å‡½æ•°åœ¨c++ä¸­æ”¹ä¸º <strong>â€œ-â€œ</strong> è¿ç®—ç¬¦é‡è½½å¯ä»¥ä½¿ç¨‹åºæ›´åŠ çš„ç›´è§‚ï¼Œåœ¨Javaä¸­çš„è§£å†³æ–¹æ³•æ˜¯å¢åŠ ä¸€ä¸ª <code>sub</code> æ–¹æ³•æ¥å®ç°ä¸¤æ—¥æœŸç›¸å·®å¤©æ•°çš„åŠŸèƒ½ã€‚</p>
<p><img src="https://raw.githubusercontent.com/31415926535x/CollegeProjectBackup/master/java_shiyan/PersonBankAccountManageSystem/doc/uml/v8_8/uml/uml.png" alt=""></p>
<h3 id="5-3-ç³»ç»Ÿå®ç°"><a href="#5-3-ç³»ç»Ÿå®ç°" class="headerlink" title="5.3    ç³»ç»Ÿå®ç°"></a>5.3    ç³»ç»Ÿå®ç°</h3><h4 id="Accountç±»"><a href="#Accountç±»" class="headerlink" title="Accountç±»"></a>Accountç±»</h4><figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Account</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">deposit</span><span class="hljs-params">(<span class="hljs-keyword">final</span> Date date, <span class="hljs-keyword">double</span> amount, <span class="hljs-keyword">final</span> String desc)</span></span>;<br>    <span class="hljs-function"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">withdraw</span><span class="hljs-params">(<span class="hljs-keyword">final</span> Date date, <span class="hljs-keyword">double</span> amount, <span class="hljs-keyword">final</span> String desc)</span></span>;<br>    <span class="hljs-function"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">settle</span><span class="hljs-params">(<span class="hljs-keyword">final</span> Date date)</span></span>;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">show</span><span class="hljs-params">()</span> </span>&#123;   <br>        NumberFormat nf = <span class="hljs-keyword">new</span> DecimalFormat(<span class="hljs-string">&quot;0.##&quot;</span>);<br>        System.out.print(id + <span class="hljs-string">&quot;\tBalance: &quot;</span> + nf.format(balance));<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h4 id="CreditAccountç±»-1"><a href="#CreditAccountç±»-1" class="headerlink" title="CreditAccountç±»"></a>CreditAccountç±»</h4><figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">void</span> <span class="hljs-title">show</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">super</span>.show();<br>    NumberFormat nf = <span class="hljs-keyword">new</span> DecimalFormat(<span class="hljs-string">&quot;0.##&quot;</span>);<br>    System.out.print(<span class="hljs-string">&quot;\tAvailable credit:&quot;</span> + nf.format(getAvailableCredit()));<br>&#125;<br></code></pre></td></tr></table></figure>
<h4 id="Dateç±»-1"><a href="#Dateç±»-1" class="headerlink" title="Dateç±»"></a>Dateç±»</h4><figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> <span class="hljs-title">sub</span><span class="hljs-params">(<span class="hljs-keyword">final</span> Date date)</span> </span>&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.totalDays - date.totalDays;<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="5-4-ç³»ç»Ÿæµ‹è¯•"><a href="#5-4-ç³»ç»Ÿæµ‹è¯•" class="headerlink" title="5.4    ç³»ç»Ÿæµ‹è¯•"></a>5.4    ç³»ç»Ÿæµ‹è¯•</h3><p>ç›®çš„ï¼š</p>
<ul>
<li>å®ä¾‹åŒ–ä¸€ä¸ªæ—¥æœŸï¼Œä½œä¸ºåˆå§‹æ—¥æœŸï¼Œæ­¤æ—¶æ— è¾“å‡ºï¼›</li>
<li>å»ºç«‹ä¸¤ä¸ªæ´»æœŸè´¦æˆ·ï¼Œä¸€ä¸ªä¿¡ç”¨è´¦æˆ·ï¼Œæ­¤æ—¶çš„æ˜¾ç¤ºä¸ä¸Šä¸€ç‰ˆçš„è¾“å‡ºä¸€è‡´ï¼›</li>
<li>å®ä¾‹åŒ–ä¸€ä¸ªç”±ä»¥ä¸Šè´¦æˆ·æ„æˆçš„ <code>accounts</code> å¯¹è±¡æ•°ç»„ï¼Œä¾¿äºä¹‹åçš„æ“ä½œï¼Œæ­¤æ—¶æ— è¾“å‡ºï¼›</li>
<li>æ˜¾ç¤ºä¸€ä¸ªå¯ä¾›é€‰æ‹©çš„èœå•ï¼Œåˆ—å‡ºå…·ä½“æ“ä½œæŒ‡ä»¤ä»¥åŠå¯¹åº”çš„åŠŸèƒ½ï¼Œæ­¤æ—¶è¾“å‡ºåº”è¯¥ä¸ºï¼š <code>(d)deposit (w)withdraw (s)show (c)change day (n)next month (e)exit</code>ï¼›</li>
<li>ä¹‹åçš„æ¯ä¸€ä¸ªç­‰å¾…è¾“å…¥æ—¶éƒ½å°†å…ˆè¾“å‡ºä¸€è¡Œæç¤ºæŒ‡ä»¤ï¼ŒåŒæ—¶æ˜¾ç¤ºæ‰€æœ‰è´¦æˆ·çš„æ€»é‡‘é¢ï¼Œè¾“å‡ºçš„å½¢å¼ä¸ºï¼š <code>date Total: xxxx.x command&gt;</code>ï¼›</li>
<li>æ”¹å˜å½“å‰æœˆä»½çš„æ—¥æœŸï¼Œè¾“å…¥ä¸ºï¼š <code>c 5</code> ï¼Œæ­¤æ—¶åœ¨ä¸‹ä¸€æ¬¡ç­‰å¾…è¾“å…¥çš„æç¤ºæŒ‡ä»¤æ˜¾ç¤ºå°†æ˜¯åˆæ³•æ›´æ”¹åçš„æ—¥æœŸï¼Œå¯¹åº”è¿™æ¡è¾“å…¥è¾“å‡ºç»“æœåº”è¯¥ä¸ºï¼š <code>2008-11-5   Total: 0.0 command&gt;</code>ï¼›</li>
<li>å‘0å·è´¦æˆ·å­˜å…¥ä¸€ç¬”é‡‘é¢ä¸º5000ï¼Œè¯´æ˜ä¿¡æ¯ä¸º <em>salary</em> çš„ç°é‡‘ï¼Œè¾“å…¥ä¸ºï¼š <code>d 0 5000 salary</code> ï¼Œ æ­¤æ—¶åº”è¯¥è¾“å‡ºï¼š <code>2008-11-5    #S3755217    5000    5000     salary</code>ï¼›</li>
<li>å‘2å·è´¦æˆ·å–å‡ºä¸€ç¬”ç°é‡‘ï¼Œé‡‘é¢ä¸º2000ï¼Œä¿¡æ¯ä¸º <em>buy a cell</em> ï¼Œ è¾“å…¥ä¸ºï¼š <code>w 2 2000 buy a cell</code> ï¼Œ æ­¤æ—¶åº”è¯¥è¾“å‡ºï¼š <code>2008-11-25    #02342342    10000    10000     sell stock 0323</code>ï¼›</li>
<li>è¿›å…¥ä¸‹ä¸€æœˆï¼Œè¾“å…¥ <code>n</code> ï¼Œ æ­¤æ—¶è¾“å‡ºï¼š <code>2008-12-1    #C5392394    -16    -2016    interest</code> , <code>2008-12-1    Total: 12984.0    command&gt;</code>ï¼›</li>
<li>å‘2å·è´¦æˆ·å­˜å…¥ä¸€ç¬”é‡‘é¢ä¸º2016çš„ç°é‡‘ï¼Œè¯´æ˜æ–‡å­—ä¸º <em>repay the credit</em>ï¼Œ æ­¤æ—¶çš„è¾“å…¥ï¼š <code>d 2 2016 repay the credit</code> , è¾“å‡ºåº”è¯¥ä¸ºï¼š <code>2008-12-1    #C5392394    2016    0     repay the credit</code>ï¼›</li>
<li>æ”¹å˜å½“å‰æœˆçš„æ—¥æœŸä¸º5å·ï¼Œè¾“å…¥ <code>c 5</code> , æ­¤æ—¶çš„è¾“å‡ºåº”è¯¥ä¸ºï¼š <code>2008-12-5    Total: 15000.0    command&gt;</code>ï¼›</li>
<li>å‘0å·è´¦æˆ·å­˜å…¥ä¸€ç¬”5500çš„ç°é‡‘ï¼Œè¯´æ˜ä¿¡æ¯ä¸º <em>salary</em> ï¼Œè¾“å…¥ä¸ºï¼š <code>d 0 5500 salary</code> ï¼Œ æ­¤æ—¶çš„è¾“å‡ºåº”è¯¥ä¸ºï¼š <code>2008-12-5    #S3755217    5500    10500     salary</code>ï¼›</li>
<li>è¿›å…¥ä¸‹ä¸€æœˆï¼Œè¾“å…¥ <code>n</code> ï¼Œ æ­¤æ—¶è¾“å‡ºä¸º:</li>
</ul>
<figure class="highlight"><table><tr><td class="code"><pre><code class="hljs java">2009-1-1	#S3755217	17.77	10517.77	interest<br>2009-1-1	#02342342	15.16	10015.16	interest<br>2009-1-1	#C5392394	-50	-50	annual fee<br></code></pre></td></tr></table></figure>
<ul>
<li>æ˜¾ç¤ºæ‰€æœ‰è´¦æˆ·çš„ä¿¡æ¯ï¼Œ è¾“å…¥ <code>s</code> ï¼Œ æ­¤æ—¶åº”è¯¥è¾“å‡ºï¼š<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java">[<span class="hljs-number">0</span>] S3755217	Balance: <span class="hljs-number">10517.77</span><br>[<span class="hljs-number">1</span>] <span class="hljs-number">02342342</span>	Balance: <span class="hljs-number">10015.16</span><br>[<span class="hljs-number">2</span>] C5392394	Balance: -<span class="hljs-number">50</span>	Available credit:<span class="hljs-number">9950</span><br></code></pre></td></tr></table></figure></li>
<li>ç»ˆæ­¢æµ‹è¯•ï¼Œè¾“å…¥ <code>e</code> ï¼Œ æ­¤æ—¶å°†é€€å‡ºæµ‹è¯•ç¨‹åºï¼›</li>
</ul>
<p>è¿™ä¸€ç‰ˆæœ¬çš„ç³»ç»Ÿå¢åŠ äº†å…·ä½“çš„è¾“å…¥çš„æ“ä½œï¼Œä½¿å¾—ç”¨æˆ·èƒ½å¤Ÿè‡ªè¡Œè¿›è¡Œä¸€äº›å¯¹å„è´¦æˆ·çš„æ“ä½œï¼Œæœ€ç»ˆçš„è¾“å‡ºä¸é¢„æœŸçš„è¾“å‡ºç›¸åŒã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java">2008-11-1	#S3755217 created<br>2008-11-1	#02342342 created<br>2008-11-1	#C5392394 created<br>(d)deposit (w)withdraw (s)show (c)<span class="hljs-function">change <span class="hljs-title">day</span> <span class="hljs-params">(n)</span>next <span class="hljs-title">month</span> <span class="hljs-params">(e)</span>exit</span><br><span class="hljs-function">2008-11-1	Total: 0.0	command&gt; c 5</span><br><span class="hljs-function">2008-11-5	Total: 0.0	command&gt; d 0 5000 salary</span><br><span class="hljs-function">2008-11-5	#S3755217	5000	5000	 salary</span><br><span class="hljs-function">2008-11-5	Total: 5000.0	command&gt; c 15</span><br><span class="hljs-function">2008-11-15	Total: 5000.0	command&gt; w 2 2000 buy a cell</span><br><span class="hljs-function">2008-11-15	#C5392394	-2000	-2000	 buy a cell</span><br><span class="hljs-function">2008-11-15	Total: 3000.0	command&gt; c 25</span><br><span class="hljs-function">2008-11-25	Total: 3000.0	command&gt; d 1 10000 sell stock 0323</span><br><span class="hljs-function">2008-11-25	#02342342	10000	10000	 sell stock 0323</span><br><span class="hljs-function">2008-11-25	Total: 13000.0	command&gt; n</span><br><span class="hljs-function">2008-12-1	#C5392394	-16	-2016	interest</span><br><span class="hljs-function">2008-12-1	Total: 12984.0	command&gt; d 2 2016 repay the credit</span><br><span class="hljs-function">2008-12-1	#C5392394	2016	0	 repay the credit</span><br><span class="hljs-function">2008-12-1	Total: 15000.0	command&gt; c 5</span><br><span class="hljs-function">2008-12-5	Total: 15000.0	command&gt; d 0 5500 salary</span><br><span class="hljs-function">2008-12-5	#S3755217	5500	10500	 salary</span><br><span class="hljs-function">2008-12-5	Total: 20500.0	command&gt; n</span><br><span class="hljs-function">2009-1-1	#S3755217	17.77	10517.77	interest</span><br><span class="hljs-function">2009-1-1	#02342342	15.16	10015.16	interest</span><br><span class="hljs-function">2009-1-1	#C5392394	-50	-50	annual fee</span><br><span class="hljs-function">2009-1-1	Total: 20482.93	command&gt; s</span><br><span class="hljs-function">[0] S3755217	Balance: 10517.77</span><br><span class="hljs-function">[1] 02342342	Balance: 10015.16</span><br><span class="hljs-function">[2] C5392394	Balance: -50	Available credit:9950</span><br><span class="hljs-function">2009-1-1	Total: 20482.93	command&gt; e</span><br></code></pre></td></tr></table></figure>
<h3 id="5-5-ä½“ä¼šå¿ƒå¾—"><a href="#5-5-ä½“ä¼šå¿ƒå¾—" class="headerlink" title="5.5    ä½“ä¼šå¿ƒå¾—"></a>5.5    ä½“ä¼šå¿ƒå¾—</h3><ul>
<li>ä¸ºäº†èƒ½å¤Ÿé€šè¿‡æ•°ç»„çš„å½¢å¼æ¥æ“ä½œåŒä¸€çˆ¶ç±»ä¸‹çš„å­ç±»ï¼Œä¿®æ”¹äº†çˆ¶ç±»çš„å®ç°ï¼Œä½¿å¾—ä¸€äº›æ–¹æ³•çš„å…·ä½“å®ç°åœ¨å…¶å­ç±»ä¸­å®ç°ï¼Œè¿™æ ·å¯ä»¥ä»…ä½¿ç”¨çˆ¶ç±»æ¥å¼•ç”¨å…·ä½“è¦æ“ä½œçš„å­ç±»ï¼Œå¤§å¤§çš„ä½¿æ“ä½œæ›´åŠ çš„ä¾¿æ·ã€‚</li>
<li>c++ä¸­çš„è¿ç®—ç¬¦é‡è½½åŠŸèƒ½åœ¨Javaä¸­ä¸å†å­˜åœ¨ï¼Œè€Œæ˜¯ä½¿ç”¨å…·ä½“çš„æ–¹æ³•æ¥å®ç°ï¼ŒåŒæ ·ä¹Ÿä½¿å¾—ä»£ç çš„ä¹¦å†™æ›´åŠ çš„ç›´è§‚ï¼Œå¢åŠ ç¨‹åºçš„å¯è¯»æ€§ã€‚</li>
</ul>
<h2 id="6ã€-ä¸ªäººé“¶è¡Œç®¡ç†ç³»ç»Ÿç‰ˆæœ¬0-6ï¼ˆå¯¹åº”ç¬¬9ç« è®°å½•ï¼‰"><a href="#6ã€-ä¸ªäººé“¶è¡Œç®¡ç†ç³»ç»Ÿç‰ˆæœ¬0-6ï¼ˆå¯¹åº”ç¬¬9ç« è®°å½•ï¼‰" class="headerlink" title="6ã€ ä¸ªäººé“¶è¡Œç®¡ç†ç³»ç»Ÿç‰ˆæœ¬0.6ï¼ˆå¯¹åº”ç¬¬9ç« è®°å½•ï¼‰"></a>6ã€ ä¸ªäººé“¶è¡Œç®¡ç†ç³»ç»Ÿç‰ˆæœ¬0.6ï¼ˆå¯¹åº”ç¬¬9ç« è®°å½•ï¼‰</h2><h3 id="6-1-ç³»ç»Ÿéœ€æ±‚"><a href="#6-1-ç³»ç»Ÿéœ€æ±‚" class="headerlink" title="6.1    ç³»ç»Ÿéœ€æ±‚"></a>6.1    ç³»ç»Ÿéœ€æ±‚</h3><p>è¿›ä¸€æ­¥æ”¹è¿›æµ‹è¯•ç¨‹åºä¸­çš„å®ç°ï¼Œä½¿å¾—æµ‹è¯•ç¨‹åºæ“ä½œæ›´åŠ çš„ä¾¿æ·ã€‚</p>
<h3 id="6-2-ç³»ç»Ÿè®¾è®¡"><a href="#6-2-ç³»ç»Ÿè®¾è®¡" class="headerlink" title="6.2    ç³»ç»Ÿè®¾è®¡"></a>6.2    ç³»ç»Ÿè®¾è®¡</h3><p>åœ¨ä¸Šä¸€ç‰ˆæœ¬ä¸­ï¼Œä½¿ç”¨çˆ¶ç±»å¯¹è±¡æ•°ç»„æ¥å¤„ç†ä¸åŒæ´¾ç”Ÿç±»å¯¹è±¡ï¼Œä»è€Œå®ç°å¤šæ€æ€§è°ƒç”¨ï¼Œæœ¬ç‰ˆæœ¬ä¸­ä½¿ç”¨Javaä¸­çš„ <code>ArrayList</code> æ¥ä»£æ›¿åŸæ¥çš„å¯¹è±¡æ•°ç»„ï¼Œä»¥å®ç°åŠ¨æ€çš„æ”¹å˜å¤§å°ï¼Œæ·»åŠ æ–°è´¦æˆ·çš„åŠŸèƒ½ã€‚</p>
<p>é™¤ <code>Main</code> ç±»å¤–ï¼Œå…¶ä½™ç±»æ–‡ä»¶éƒ½æ— éœ€æ›´æ”¹ã€‚åœ¨ <code>Main</code> ç±»ä¸­å¯¼å…¥Javaå®ç”¨åŒ…ä¸­çš„ <code>ArrayList</code>ã€‚åˆ›å»ºå¯¹è±¡æ•°ç»„ã€‚</p>
<p>æœ¬ç‰ˆæœ¬çš„UMLå›¾ä¸ä¸Šä¸€ç‰ˆæœ¬çš„ç›¸åŒã€‚</p>
<h3 id="6-3-ç³»ç»Ÿå®ç°"><a href="#6-3-ç³»ç»Ÿå®ç°" class="headerlink" title="6.3    ç³»ç»Ÿå®ç°"></a>6.3    ç³»ç»Ÿå®ç°</h3><h4 id="Mainç±»"><a href="#Mainç±»" class="headerlink" title="Mainç±»"></a>Mainç±»</h4><figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java">ArrayList&lt;Account&gt; accounts = <span class="hljs-keyword">new</span> ArrayList&lt;Account&gt;();<br></code></pre></td></tr></table></figure>
<h3 id="6-4-ç³»ç»Ÿæµ‹è¯•"><a href="#6-4-ç³»ç»Ÿæµ‹è¯•" class="headerlink" title="6.4    ç³»ç»Ÿæµ‹è¯•"></a>6.4    ç³»ç»Ÿæµ‹è¯•</h3><p>ç›®çš„ï¼š </p>
<ul>
<li>ä½¿ç”¨ <em>ArrayList</em> å®ç°å¯¹è±¡æ•°ç»„ï¼ŒåŒæ—¶é€šè¿‡ç”¨æˆ·æ¥å½•å…¥è´¦æˆ·ä¿¡æ¯ï¼Œè¾“å…¥ä¸ºï¼š</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java">a s S3755217 <span class="hljs-number">0.015</span><br>a s <span class="hljs-number">02342342</span> <span class="hljs-number">0.015</span><br>a c C5392394 <span class="hljs-number">10000</span> <span class="hljs-number">0.0005</span> <span class="hljs-number">50</span><br></code></pre></td></tr></table></figure>
<p>è¡¨ç¤ºå½•å…¥ä¸¤ä¸ªæ´»æœŸè´¦æˆ·å’Œä¸€ä¸ªä¿¡ç”¨è´¦æˆ·ï¼ŒåŒæ—¶å¯¹åº”æ˜¾ç¤ºåº”è¯¥ä¸ºï¼š <code>date #xxxxxxxx created</code>ï¼›</p>
<p>å…¶ä»–çš„è¾“å…¥è¾“å‡ºæµ‹è¯•ä¸ä¸Šä¸€ç‰ˆæœ¬çš„ä¸€è‡´ï¼›</p>
<p>è¾“å…¥å’Œæœ€åçš„è¾“å‡ºç¬¦åˆé¢„æœŸã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java">(a)<span class="hljs-function">add <span class="hljs-title">account</span> <span class="hljs-params">(d)</span><span class="hljs-title">deposit</span> <span class="hljs-params">(w)</span><span class="hljs-title">withdraw</span> <span class="hljs-params">(s)</span><span class="hljs-title">show</span> <span class="hljs-params">(c)</span>change <span class="hljs-title">day</span> <span class="hljs-params">(n)</span>next <span class="hljs-title">month</span> <span class="hljs-params">(e)</span>exit</span><br><span class="hljs-function">2008-11-1	Total: 0.0	command&gt; a s S3755217 0.015</span><br><span class="hljs-function">2008-11-1	#S3755217 created</span><br><span class="hljs-function">2008-11-1	Total: 0.0	command&gt; a s 02342342 0.015</span><br><span class="hljs-function">2008-11-1	#02342342 created</span><br><span class="hljs-function">2008-11-1	Total: 0.0	command&gt; a c C5392394 10000 0.0005 50</span><br><span class="hljs-function">2008-11-1	#C5392394 created</span><br><span class="hljs-function">2008-11-1	Total: 0.0	command&gt; c 5</span><br><span class="hljs-function">2008-11-5	Total: 0.0	command&gt; d 0 5000 salary</span><br><span class="hljs-function">2008-11-5	#S3755217	5000	5000	 salary</span><br><span class="hljs-function">2008-11-5	Total: 5000.0	command&gt; c 15</span><br><span class="hljs-function">2008-11-15	Total: 5000.0	command&gt; w 2 2000 buy a cell</span><br><span class="hljs-function">2008-11-15	#C5392394	-2000	-2000	 buy a cell</span><br><span class="hljs-function">2008-11-15	Total: 3000.0	command&gt; c 25</span><br><span class="hljs-function">2008-11-25	Total: 3000.0	command&gt; d 1 10000 sell stock 0323</span><br><span class="hljs-function">2008-11-25	#02342342	10000	10000	 sell stock 0323</span><br><span class="hljs-function">2008-11-25	Total: 13000.0	command&gt; n</span><br><span class="hljs-function">2008-12-1	#C5392394	-16	-2016	interest</span><br><span class="hljs-function">2008-12-1	Total: 12984.0	command&gt; d 2 2016 repay the credit</span><br><span class="hljs-function">2008-12-1	#C5392394	2016	0	 repay the credit</span><br><span class="hljs-function">2008-12-1	Total: 15000.0	command&gt; c 5</span><br><span class="hljs-function">2008-12-5	Total: 15000.0	command&gt; d 0 5500 salary</span><br><span class="hljs-function">2008-12-5	#S3755217	5500	10500	 salary</span><br><span class="hljs-function">2008-12-5	Total: 20500.0	command&gt; n</span><br><span class="hljs-function">2009-1-1	#S3755217	17.77	10517.77	interest</span><br><span class="hljs-function">2009-1-1	#02342342	15.16	10015.16	interest</span><br><span class="hljs-function">2009-1-1	#C5392394	-50	-50	annual fee</span><br><span class="hljs-function">2009-1-1	Total: 20482.93	command&gt; s</span><br><span class="hljs-function">[0] S3755217	Balance: 10517.77</span><br><span class="hljs-function">[1] 02342342	Balance: 10015.16</span><br><span class="hljs-function">[2] C5392394	Balance: -50	Available credit:9950</span><br><span class="hljs-function">2009-1-1	Total: 20482.93	command&gt; e</span><br></code></pre></td></tr></table></figure>
<h3 id="6-5-ä½“ä¼šå¿ƒå¾—"><a href="#6-5-ä½“ä¼šå¿ƒå¾—" class="headerlink" title="6.5    ä½“ä¼šå¿ƒå¾—"></a>6.5    ä½“ä¼šå¿ƒå¾—</h3><ul>
<li>ä½¿ç”¨Javaç±»åº“ä¸­çš„ <em>ArrayList</em> å®ç°äº†ç±»çš„å¯¹è±¡æ•°ç»„åŠŸèƒ½</li>
<li>ä½¿ç”¨ä¸€ä¸ªå…±åŒçš„çˆ¶ç±»çš„å¯¹è±¡æ•°ç»„ä¾¿å¯ä¸€ä¸ªç»Ÿä¸€ç®¡ç†ä»–çš„å­ç±»çš„å¯¹è±¡ï¼Œä½¿å¾—æœ€åçš„ä»£ç æ›´åŠ çš„ç®€ä¾¿ï¼Œæ“ä½œæ›´ç¬¦åˆé€»è¾‘æ€§ã€‚</li>
</ul>
<h1 id="ä¸‰ã€-è¯¾ç¨‹è®¾è®¡æ€»ç»“"><a href="#ä¸‰ã€-è¯¾ç¨‹è®¾è®¡æ€»ç»“" class="headerlink" title="ä¸‰ã€    è¯¾ç¨‹è®¾è®¡æ€»ç»“"></a>ä¸‰ã€    è¯¾ç¨‹è®¾è®¡æ€»ç»“</h1><h2 id="æœ€ç»ˆå®ç°çš„ç³»ç»ŸåŠŸèƒ½"><a href="#æœ€ç»ˆå®ç°çš„ç³»ç»ŸåŠŸèƒ½" class="headerlink" title="æœ€ç»ˆå®ç°çš„ç³»ç»ŸåŠŸèƒ½"></a>æœ€ç»ˆå®ç°çš„ç³»ç»ŸåŠŸèƒ½</h2><p>ç³»ç»Ÿé€æ­¥å®Œå–„ï¼Œæœ€åå®ç°çš„åŠŸèƒ½æœ‰ï¼š</p>
<ul>
<li>ä¸¤ä¸ªè´¦æˆ·ç³»ç»Ÿï¼š <em>SavingsAccount</em> ä»¥åŠ <em>CreditAccount</em> ä»–ä»¬ç»Ÿä¸€ç”± <em>Account</em> æ´¾ç”Ÿå‡ºæ¥ï¼›å‰è€…å®ç°çš„åŠŸèƒ½æœ‰ï¼šåŸºæœ¬çš„è´¦æˆ·ä¿¡æ¯çš„å­˜å‚¨ä»¥åŠæŒ‰æ—¥æœŸäº§ç”Ÿçš„åˆ©æ¯ç­‰åŠŸèƒ½ï¼Œåè€…å®ç°çš„åŠŸèƒ½æœ‰ï¼šåŸºæœ¬çš„ä¿¡ç”¨è´¦æˆ·ä¿¡æ¯çš„å­˜å‚¨ä»¥åŠæŒ‰æ—¥æœŸäº§ç”Ÿçš„æ¬ æ¬¾é‡‘é¢ï¼Œä¿¡ç”¨é¢åº¦å’Œå¹´è´¹ç­‰åŠŸèƒ½ï¼›</li>
<li>ä¸€ä¸ªé€‚åˆé“¶è¡Œç®¡ç†ç³»ç»Ÿçš„æ—¥æœŸè®¡ç®—åŠŸèƒ½ï¼Œè®¡ç®—å‡ºç®€å•çš„ä¸¤æ—¥ä¹‹å·®ï¼Œå­˜å‚¨å½“å‰çš„æ—¥æœŸç­‰å¿…è¦åŠŸèƒ½ï¼›</li>
<li>ä¸€ä¸ªæ—¥æœŸç´¯åŠ å™¨åŠŸèƒ½ï¼Œç”¨äºè®°å½•æ—¥æœŸçš„ç´¯åŠ å€¼ï¼›</li>
<li>ä¸€ä¸ªç®€å•çš„ç³»ç»Ÿæµ‹è¯•æ¨¡å—ï¼Œä¾›ç”¨æˆ·æµ‹è¯•æœ€ç»ˆç³»ç»Ÿçš„å„ä¸ªåŠŸèƒ½ï¼›</li>
</ul>
<h2 id="é¢å‘å¯¹è±¡çš„åŸºæœ¬è®¾è®¡æ€æƒ³"><a href="#é¢å‘å¯¹è±¡çš„åŸºæœ¬è®¾è®¡æ€æƒ³" class="headerlink" title="é¢å‘å¯¹è±¡çš„åŸºæœ¬è®¾è®¡æ€æƒ³"></a>é¢å‘å¯¹è±¡çš„åŸºæœ¬è®¾è®¡æ€æƒ³</h2><h3 id="å°è£…æ€§"><a href="#å°è£…æ€§" class="headerlink" title="å°è£…æ€§"></a>å°è£…æ€§</h3><p>å¯¹äºç³»ç»Ÿçš„æ¯ä¸€ä¸ªåŠŸèƒ½ï¼Œå¦‚ <em>SavingAccount</em> , <em>CreditAccount</em> , <em>Account</em> , <em>Date</em> , <em>Main</em> ç­‰åŠŸèƒ½éƒ½æ˜¯ç”¨ç±»å®ç°çš„ï¼Œå…¶ä¸­æ¯ä¸€ä¸ªç±»ä¸­éœ€è¦å’Œå¤–ç•Œé€šè®¯çš„æ•°æ®æˆå‘˜ã€æˆå‘˜æ–¹æ³•å…ˆå®šä¹‰äº†å…·ä½“çš„æƒé™ï¼Œå¦‚ <strong>public</strong> , <strong>protected</strong> ç­‰ï¼Œè€Œæ— éœ€é€šè®¯çš„ç§æœ‰æˆå‘˜åˆ™ä¸º <strong>private</strong> ï¼Œä½¿å¾—æœ€åçš„å„åŠŸèƒ½åªæä¾›ä¸€äº›æ¥å£å‚æ•°ï¼Œè€Œä¸æ˜¯å…·ä½“çš„å®ç°ç»†èŠ‚ï¼Œä½¿ç”¨ï¼ˆè°ƒç”¨ï¼‰è€…æ— éœ€å…³å¿ƒå…¶å†…éƒ¨çš„å®ç°ä¾¿å¯å®ç°è‡ªå·±çš„åŠŸèƒ½ï¼›</p>
<h3 id="ç»§æ‰¿æ€§"><a href="#ç»§æ‰¿æ€§" class="headerlink" title="ç»§æ‰¿æ€§"></a>ç»§æ‰¿æ€§</h3><p>è¯¥ç³»ç»Ÿè®¾è®¡äº†ä¸€ä¸ªå„è´¦æˆ·å…±åŒçš„çˆ¶ç±»ï¼š <strong>Account</strong> ï¼Œ å…¶ä»–ä¸¤ä¸ªè´¦æˆ·ç±»éƒ½æ˜¯ç”±æ­¤ç»§æ‰¿å‡ºï¼Œä»–ä»¬æœ‰ä¸€äº›å…±åŒçš„æ–¹æ³•ã€æ•°æ®æˆå‘˜ç”±çˆ¶ç±»å®ç°ï¼ˆæˆ–å£°æ˜ï¼‰ï¼Œè€Œå…¶ä¸åŒåˆ™ç”±è‡ªå·±å£°æ˜å®ç°ã€‚</p>
<h3 id="å¤šæ€æ€§"><a href="#å¤šæ€æ€§" class="headerlink" title="å¤šæ€æ€§"></a>å¤šæ€æ€§</h3><p>å¯¹äºä¸€äº›å­ç±»ç»§æ‰¿è‡ªçˆ¶ç±»çš„æ•°æ®æˆå‘˜ï¼Œæˆå‘˜æ–¹æ³•ï¼Œä»–ä»¬ä¸­çš„ä¸€äº›çš„å®ç°ä¸çˆ¶ç±»ç•¥æœ‰ä¸åŒï¼Œè¦†ç›–äº†åŸçˆ¶ç±»çš„å†…å®¹ï¼Œä½¿å¾—æœ€ååŒä¸€ä¸ªæ–¹æ³•æœ‰å¤šç§å®ç°ä»¥ä¾›ç”¨æˆ·ä¸åŒçš„éœ€æ±‚ï¼›</p>
<h3 id="ç±»çš„ç»„åˆ"><a href="#ç±»çš„ç»„åˆ" class="headerlink" title="ç±»çš„ç»„åˆ"></a>ç±»çš„ç»„åˆ</h3><p>ç³»ç»Ÿä¸­ä¸€äº›æ”¯æŒç±»ï¼ˆDate, Accumulationç­‰ç­‰ï¼‰ä¸å…¶ä»–ç±»ç»„åˆå®ç°äº†ä¸€äº›åŸºæœ¬çš„åŠŸèƒ½ã€‚</p>
<h2 id="é‡åˆ°çš„é—®é¢˜åŠè§£å†³"><a href="#é‡åˆ°çš„é—®é¢˜åŠè§£å†³" class="headerlink" title="é‡åˆ°çš„é—®é¢˜åŠè§£å†³"></a>é‡åˆ°çš„é—®é¢˜åŠè§£å†³</h2><ul>
<li>ä¸åŒæ•°æ®çš„è¯»å…¥ï¼š è¯¾ç¨‹å†…å®¹æœªè®²è§£Javaä¸­å¯¹ä¸åŒçš„æ•°æ®çš„è¯»å…¥æ–¹æ³•ï¼Œé€šè¿‡æŸ¥é˜…äº’è”ç½‘ä»¥åŠè¯¾æœ¬äº†è§£åˆ°å…·ä½“çš„è¯»å…¥æ–¹æ³•ï¼Œæœ€åé€‰æ‹© <code>Scanner</code> æ¥å®ç°ä¸åŒæƒ…å†µä¸‹çš„æ•°æ®è¯»å…¥ï¼›</li>
<li>å­—ç¬¦çš„è¯»å…¥ï¼š åœ¨åç»­çš„åŠŸèƒ½æµ‹è¯•ä¸­ï¼Œä½¿ç”¨åˆ°äº†ç”¨ä¸€ä¸ªå­—ç¬¦æ¥è¡¨ç¤ºé€‰æ‹©çš„æ“ä½œæŒ‡ä»¤åŠŸèƒ½ï¼Œé€šè¿‡æŸ¥é˜…ä»–äººçš„ç»éªŒé€‰æ‹©æŒ‰å­—ç¬¦ä¸²è¯»å…¥åè°ƒç”¨ <code>charAt()</code> æ¥å–å¾—æ“ä½œæŒ‡ä»¤çš„å­—ç¬¦ï¼›</li>
<li>å®æ•°å°æ•°ç‚¹çš„æ§åˆ¶ï¼š åœ¨å‰æœŸçš„æµ‹è¯•å‘ç°åœ¨è¾“å‡ºæ•´æ•°æ—¶ï¼Œc++ä¼šçš„æ ‡å‡†è¾“å‡ºæµä¼šèˆå¼ƒå°æ•°ç‚¹åçš„0ï¼Œä½†æ˜¯Javaä¼šä¿ç•™ä¸€ä½0ï¼Œä¸ºäº†åŠŸèƒ½çš„ç»Ÿä¸€æœ€ååœ¨æŸ¥æ‰¾èµ„æ–™åé€‰æ‹©ä½¿ç”¨ <code>NumberFormat</code> æ¥æ ¼å¼åŒ–æ•°å­—ï¼›</li>
<li>æ•°å­—çš„å››èˆäº”å…¥é—®é¢˜ï¼š c++ä¸­å¯¹äºå››èˆäº”å…¥çš„å®ç°ä½¿ç”¨çš„æ˜¯åº“å‡½æ•° <code>floor</code> ï¼Œå°è¯•è°ƒç”¨Javaä¸­ <code>math</code> åŒ…ä¸­çš„ <code>floor()</code> æ¥å®ç°æ—¶å‘ç°æœ€åçš„æ•ˆæœä¸å¥½ï¼Œæ¢ç”¨ <code>bDecimal.setScale(2, RoundingMode.HALF_UP).doubleValue();</code> è¯­å¥æ¥å®ç°è¿™ä¸ªåŠŸèƒ½ï¼›</li>
<li>è¿ç®—ç¬¦é‡è½½çš„å®ç°ï¼š c++ä¸­æœ‰è¿ç®—ç¬¦é‡è½½çš„åŠŸèƒ½ï¼Œå¯ä»¥ç®€å•çš„å®ç°ä¸¤ä¸ªç±»ä¹‹é—´é€»è¾‘ä¸Šçš„å››åˆ™è¿ç®—ï¼Œé€šè¿‡æŸ¥é˜…èµ„æ–™åå¾—çŸ¥Javaä¸­å–æ¶ˆäº†è¿ç®—ç¬¦é‡è½½çš„åŠŸèƒ½ï¼Œç»Ÿä¸€ä½¿ç”¨æ–¹æ³•è°ƒç”¨æ¥ä»£æ›¿åŸæœ‰åŠŸèƒ½ï¼›</li>
<li>æ–‡æ¡£åŠæ³¨é‡Šçš„å†™æ³•ï¼š é€šè¿‡æœç´¢åˆ«äººåšå®¢äº†è§£åˆ°Javaå¯ä»¥é€šè¿‡ä¸€äº›å…·ä½“çš„è¯­æ³•æ ¼å¼è¿›è¡Œæ³¨é‡Šï¼Œä¹‹åä¾¿å¯è‡ªåŠ¨ç”Ÿæˆæ–‡æ¡£ï¼›</li>
<li>é¡¹ç›®ä¸­åŒ…çš„å»ºç«‹ï¼š é€šè¿‡æŸ¥é˜…åˆ«äººåšå®¢ç­‰èµ„æ–™äº†è§£åˆ°å¦‚ä½•åœ¨ä¸€ä¸ªå·¥ä½œç¯å¢ƒä¸­æ–°å»ºä¸åŒçš„åŒ…ï¼›</li>
</ul>
<h2 id="æ”¶è·"><a href="#æ”¶è·" class="headerlink" title="æ”¶è·"></a>æ”¶è·</h2><p>è¿™ä¸ªé“¶è¡Œç®¡ç†ç³»ç»Ÿçš„å®Œæˆè®©æˆ‘ç†Ÿæ‚‰äº†Javaçš„åŸºæœ¬è¯­æ³•ï¼ŒåŒæ—¶ä½“ä¼šåˆ°äº†Javaä¸c++çš„ä¸åŒçš„ç¨‹åºè®¾è®¡æ€æƒ³ï¼›åœ¨å®Œæˆé¡¹ç›®çš„åŒæ—¶é‡åˆ°äº†å¾ˆå¤šçš„é—®é¢˜ï¼Œä½†æ˜¯éƒ½é€šè¿‡è‡ªå·±ç‹¬ç«‹æŸ¥é˜…èµ„æ–™é€ä¸€è§£å†³ï¼Œäº†è§£äº†Javaä¸­åŸºæœ¬çš„è¾“å…¥è¾“å‡ºç­‰ä¸€äº›å·²æœ‰çš„åŒ…çš„åŠŸèƒ½ï¼›æœ€åæ–‡æ¡£çš„ä¹¦å†™ä¹Ÿä½¿æˆ‘æ¸…æ™°çš„è®¤è¯†åˆ°äº†ä¸€ä¸ªç®€å•é¡¹ç›®ä»ç”¨æˆ·éœ€æ±‚åˆ°ç³»ç»Ÿè®¾è®¡ã€ç³»ç»Ÿå®ç°ä»¥åŠæœ€åçš„ä»£ç çš„ç¼–å†™æµ‹è¯•è¿™ä¸€ä¸ªæµç¨‹ï¼ŒåŒæ—¶umlå›¾çš„ä¹¦å†™ä¹Ÿè®©æˆ‘ç†æ¸…äº†å„åŠŸèƒ½ç›´æ¥çš„å…·ä½“å…³ç³»ï¼Œä½¿å¾—æœ€åçš„ä»£ç é—´çš„è”ç³»æ›´åŠ çš„æ¸…æ™°æ˜äº†ã€‚</p>
<p>æ­¤å¤–é€šè¿‡æ¯ä¸€ç‰ˆæœ¬çš„éœ€æ±‚çš„æ›´æ–°ä»¥åŠç³»ç»Ÿçš„å®ç°ï¼Œæˆ‘ä½“ä¼šåˆ°äº†é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡åœ¨å®ç°åŠŸèƒ½çš„è¿‡ç¨‹ä¸é¢å‘è¿‡ç¨‹ä»¥åŠc++é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡çš„ä¸åŒï¼ŒJavaä¸‡ç‰©çš†ä¸ºç±»çš„æ€æƒ³ï¼ŒåŒ…æ‹¬æµ‹è¯•ç”¨çš„Mainæ–¹æ³•éƒ½ä¸ºç±»ï¼Œä»æœ€å¼€å§‹çš„ä¸€ä¸ªå‚¨è“„æ´»æœŸè´¦æˆ·çš„åŠŸèƒ½çš„å®ç°ï¼Œdateç±»çš„å®ç°ä»¥åŠç´¯åŠ æ—¥æœŸç±»çš„å®ç°å®ç°äº†ç³»ç»Ÿçš„åŸºæœ¬åŠŸèƒ½ï¼Œæ­¤åæ–°å¢æ´»æœŸè´¦æˆ·åŠŸèƒ½ç±»ä¼¼çš„ä¿¡ç”¨è´¦æˆ·çš„éœ€æ±‚ï¼Œé€šè¿‡æ¯”è¾ƒä¸¤ä¸ªç±»çš„å…±åŒç‰¹ç‚¹ï¼ŒæŠ½è±¡å‡ºå…¶å…±åŒçš„çˆ¶ç±» <code>Account</code> ï¼Œè¿™æ ·ä½¿å¾—ä¸€äº›å…±åŒç‚¹å¾—ä»¥å¤ç”¨ï¼Œå‡å°‘ä»£ç é‡çš„åŒæ—¶ä¹Ÿä½¿å¾—å„ç±»ä¹‹é—´çš„å…³ç³»å¢å¼ºï¼ŒåŒæ—¶åœ¨æœ€åå‡ ä¸ªç‰ˆæœ¬ä¸­ï¼Œå› ä¸ºJavaä¸­çˆ¶ç±»çš„å¼•ç”¨åŒæ—¶å¯ä»¥å¼•ç”¨å…¶å­ç±»çš„ç‰¹ç‚¹ï¼Œä½¿å¾—é€šè¿‡ä¸€ä¸ªçˆ¶ç±»çš„å¯¹è±¡æ•°ç»„ä¾¿å¯ä»¥è½»æ˜“çš„æ“çºµå…¶å­ç±»ï¼Œä½¿å¾—æœ€åçš„å¾ªç¯å¤„ç†æµ‹è¯•æ—¶çš„ä»£ç å¯ä»¥æœ‰ä¸åŒç±»å¯¹åº”ä¸åŒæ“ä½œä»£ç åˆäºŒä¸ºä¸€ï¼Œå¤§å¤§çš„ä½¿ç¨‹åºçš„å¯è¯»æ€§å¢å¼ºï¼Œä»£ç é‡å‡å°‘ï¼Œå¼€å‘çš„è´Ÿæ‹…ä¹Ÿå‡è½»è®¸å¤šï¼Œæœ€åçš„ <em>ArrayList</em> å£°æ˜çš„å¯¹è±¡æ•°ç»„ä¹Ÿä½¿å¾—å¼€å‘è€…ä¸å¿…å…³å¿ƒæ•°ç»„ç©ºé—´çš„åˆ†é…é—®é¢˜ï¼Œä¹Ÿä½¿å¾—ç¨‹åºçš„å®‰å…¨æ€§å¢å¼ºã€‚</p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>ç¬”è®°</tag>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>æœ€çŸ­è·¯</title>
    <url>/2018/07/27/%E6%9C%80%E7%9F%AD%E8%B7%AF/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h2 id="æ¦‚è®º"><a href="#æ¦‚è®º" class="headerlink" title="æ¦‚è®º"></a>æ¦‚è®º</h2><p>æœ€çŸ­è·¯ä¸»è¦æ˜¯å¯»æ‰¾æŸä¸ªæœ‰å›¾é—®é¢˜ä»èµ·å§‹ç‚¹åˆ°ç»ˆç‚¹çš„æœ€çŸ­çš„è·¯ï¼Œï¼Œï¼Œè¿™æ˜¯æœ€åŸºæœ¬çš„ä¸€ç§æƒ…å†µï¼Œï¼Œï¼Œç”±æ­¤å¯ä»¥å˜å½¢å‡ºå„ç§å„æ ·çš„å…¶ä»–é¢˜å‹ï¼Œï¼Œï¼Œï¼Œ</p>
<p>æœ¬ç¯‡ä¸»è¦æœ‰ <strong>å›¾çš„å‚¨å­˜</strong> , <strong>Dijstraç®—æ³•</strong> ï¼Œ <strong>SPFAç®—æ³•</strong> , <strong>Floydç®—æ³•</strong> , ä»¥åŠå‡ é“ç»ƒä¹ é¢˜å’Œé¢˜è§£ã€‚ã€‚ã€‚</p>
<span id="more"></span>
<h2 id="å›¾çš„å‚¨å­˜"><a href="#å›¾çš„å‚¨å­˜" class="headerlink" title="å›¾çš„å‚¨å­˜"></a>å›¾çš„å‚¨å­˜</h2><p>ä¸€èˆ¬æ¥è¯´å›¾çš„å‚¨å­˜æœ‰å¥½å‡ ç§ï¼Œï¼Œï¼Œä¾‹å¦‚ <strong>é‚»æ¥çŸ©é˜µ</strong> , <strong>é‚»æ¥è¡¨</strong> , <strong>å‰å‘æ˜Ÿ</strong> , <strong>é“¾å¼å‰å‘æ˜Ÿ</strong>,,,</p>
<p><img src="http://images.cppblog.com/cppblog_com/menjitianya/cfys_003.png" alt="å›¾"></p>
<h3 id="ä¸´ç•ŒçŸ©é˜µ"><a href="#ä¸´ç•ŒçŸ©é˜µ" class="headerlink" title="ä¸´ç•ŒçŸ©é˜µ"></a>ä¸´ç•ŒçŸ©é˜µ</h3><p><a href="http://www.cppblog.com/menjitianya/archive/2015/11/19/212292.html">ç›´æ¥ç²˜å¤§ä½¬çš„è¡¨è¾¾</a></p>
<blockquote>
<p>é‚»æ¥çŸ©é˜µæ˜¯ç›´æ¥åˆ©ç”¨ä¸€ä¸ªäºŒç»´æ•°ç»„å¯¹è¾¹çš„å…³ç³»è¿›è¡Œå­˜å‚¨ï¼ŒçŸ©é˜µçš„ç¬¬iè¡Œç¬¬jåˆ—çš„å€¼ è¡¨ç¤º i -&gt; j è¿™æ¡è¾¹çš„æƒå€¼ï¼›ç‰¹æ®Šçš„ï¼Œå¦‚æœä¸å­˜åœ¨è¿™æ¡è¾¹ï¼Œç”¨ä¸€ä¸ªç‰¹æ®Šæ ‡è®°æ¥è¡¨ç¤ºï¼›å¦‚æœi == jï¼Œåˆ™æƒå€¼ä¸º0ã€‚å®ƒçš„ä¼˜ç‚¹æ˜¯å®ç°éå¸¸ç®€å•ï¼Œè€Œä¸”å¾ˆå®¹æ˜“ç†è§£ï¼›ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œå¦‚æœè¿™ä¸ªå›¾æ˜¯ä¸€ä¸ªéå¸¸ç¨€ç–çš„å›¾ï¼Œå›¾ä¸­è¾¹å¾ˆå°‘ï¼Œä½†æ˜¯ç‚¹å¾ˆå¤šï¼Œå°±ä¼šé€ æˆéå¸¸å¤§çš„å†…å­˜æµªè´¹ï¼Œç‚¹æ•°è¿‡å¤§çš„æ—¶å€™æ ¹æœ¬å°±æ— æ³•å­˜å‚¨</p>
</blockquote>
<p><img src="http://images.cppblog.com/cppblog_com/menjitianya/cfys_004.png" alt="é‚»æ¥çŸ©é˜µ"></p>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œåšé¢˜ä¸­éƒ½æ˜¯ç”¨ä¸€ä¸ªäºŒç»´å‘é‡vector<int> g[maxn]å‚¨å­˜ï¼Œï¼Œmaxnä¸ºå‘é‡çš„æœ€å¤§ä¸ªæ•°ã€‚æ‰€æœ‰ä¸èŠ‚ç‚¹iç›¸è¿çš„ç‚¹éƒ½åœ¨g[i]è¿™ä¸ªå‘é‡é‡Œé¢ã€‚å¦‚æœè¿˜è¦å‚¨å­˜ <strong>è¾¹æƒ</strong> æˆ–è€…å…¶ä»–ä¿¡æ¯ï¼Œï¼Œå°†intæ”¹ä¸ºèŠ‚ç‚¹ç»“æ„ä½“å³å¯</p>
<h3 id="é‚»æ¥è¡¨"><a href="#é‚»æ¥è¡¨" class="headerlink" title="é‚»æ¥è¡¨"></a>é‚»æ¥è¡¨</h3><p><a href="http://www.cppblog.com/menjitianya/archive/2015/11/19/212292.html">åŒæ ·è´´å¤§ä½¬è¡¨è¾¾</a></p>
<blockquote>
<p>é‚»æ¥è¡¨æ˜¯å›¾ä¸­å¸¸ç”¨çš„å­˜å‚¨ç»“æ„ä¹‹ä¸€ï¼Œæ¯ä¸ªé¡¶ç‚¹éƒ½æœ‰ä¸€ä¸ªé“¾è¡¨ï¼Œè¿™ä¸ªé“¾è¡¨çš„æ•°æ®è¡¨ç¤ºå’Œå½“å‰é¡¶ç‚¹ç›´æ¥ç›¸é‚»çš„é¡¶ç‚¹ï¼ˆå¦‚æœè¾¹æœ‰æƒå€¼ï¼Œè¿˜éœ€è¦ä¿å­˜è¾¹æƒä¿¡æ¯ï¼‰ã€‚é‚»æ¥è¡¨çš„ä¼˜ç‚¹æ˜¯å¯¹äºç¨€ç–å›¾ä¸ä¼šæœ‰æ•°æ®æµªè´¹ï¼Œç¼ºç‚¹å°±æ˜¯å®ç°ç›¸å¯¹éº»çƒ¦ï¼Œéœ€è¦è‡ªå·±å®ç°é“¾è¡¨ï¼ŒåŠ¨æ€åˆ†é…å†…å­˜ã€‚</p>
</blockquote>
<p><img src="http://images.cppblog.com/cppblog_com/menjitianya/cfys_005.png" alt="é‚»æ¥è¡¨"></p>
<h3 id="å‰å‘æ˜Ÿ"><a href="#å‰å‘æ˜Ÿ" class="headerlink" title="å‰å‘æ˜Ÿ"></a>å‰å‘æ˜Ÿ</h3><blockquote>
<p>å‰å‘æ˜Ÿæ˜¯ä»¥å­˜å‚¨è¾¹çš„æ–¹å¼æ¥å­˜å‚¨å›¾ï¼Œå…ˆå°†è¾¹è¯»å…¥å¹¶å­˜å‚¨åœ¨è¿ç»­çš„æ•°ç»„ä¸­ï¼Œç„¶åæŒ‰ç…§è¾¹çš„èµ·ç‚¹è¿›è¡Œæ’åºï¼Œè¿™æ ·æ•°ç»„ä¸­èµ·ç‚¹ç›¸ç­‰çš„è¾¹å°±èƒ½å¤Ÿåœ¨æ•°ç»„ä¸­è¿›è¡Œè¿ç»­è®¿é—®äº†ã€‚å®ƒçš„ä¼˜ç‚¹æ˜¯å®ç°ç®€å•ï¼Œå®¹æ˜“ç†è§£ï¼Œç¼ºç‚¹æ˜¯éœ€è¦åœ¨æ‰€æœ‰è¾¹éƒ½è¯»å…¥å®Œæ¯•çš„æƒ…å†µä¸‹å¯¹æ‰€æœ‰è¾¹è¿›è¡Œä¸€æ¬¡æ’åºï¼Œå¸¦æ¥äº†æ—¶é—´å¼€é”€ï¼Œå®ç”¨æ€§ä¹Ÿè¾ƒå·®ï¼Œåªé€‚åˆç¦»çº¿ç®—æ³•ã€‚</p>
</blockquote>
<p><img src="http://images.cppblog.com/cppblog_com/menjitianya/cfys_006.png" alt="å‰å‘æ˜Ÿ"></p>
<h3 id="é“¾å¼å‰å‘æ˜Ÿ"><a href="#é“¾å¼å‰å‘æ˜Ÿ" class="headerlink" title="é“¾å¼å‰å‘æ˜Ÿ"></a>é“¾å¼å‰å‘æ˜Ÿ</h3><p><a href="http://www.cppblog.com/menjitianya/archive/2015/11/19/212292.html">åŒä¸Š</a></p>
<blockquote>
<p>é“¾å¼å‰å‘æ˜Ÿå’Œé‚»æ¥è¡¨ç±»ä¼¼ï¼Œä¹Ÿæ˜¯é“¾å¼ç»“æ„å’Œçº¿æ€§ç»“æ„çš„ç»“åˆï¼Œæ¯ä¸ªç»“ç‚¹iéƒ½æœ‰ä¸€ä¸ªé“¾è¡¨ï¼Œé“¾è¡¨çš„æ‰€æœ‰æ•°æ®æ˜¯ä»iå‡ºå‘çš„æ‰€æœ‰è¾¹çš„é›†åˆï¼ˆå¯¹æ¯”é‚»æ¥è¡¨å­˜çš„æ˜¯é¡¶ç‚¹é›†åˆï¼‰ï¼Œè¾¹çš„è¡¨ç¤ºä¸ºä¸€ä¸ªå››å…ƒç»„(u, v, w, next)ï¼Œå…¶ä¸­(u, v)ä»£è¡¨è¯¥æ¡è¾¹çš„æœ‰å‘é¡¶ç‚¹å¯¹ï¼Œwä»£è¡¨è¾¹ä¸Šçš„æƒå€¼ï¼ŒnextæŒ‡å‘ä¸‹ä¸€æ¡è¾¹ã€‚<br>å…·ä½“çš„ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªè¾¹çš„ç»“æ„ä½“æ•°ç»„ edge[MAXM]ï¼ŒMAXMè¡¨ç¤ºè¾¹çš„æ€»æ•°ï¼Œæ‰€æœ‰è¾¹éƒ½å­˜å‚¨åœ¨è¿™ä¸ªç»“æ„ä½“æ•°ç»„ä¸­ï¼Œå¹¶ä¸”ç”¨head[i]æ¥æŒ‡å‘ i ç»“ç‚¹çš„ç¬¬ä¸€æ¡è¾¹ã€‚<br>è¾¹çš„ç»“æ„ä½“å£°æ˜å¦‚ä¸‹ï¼š<br><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">EDGE</span> &#123;</span><br>                <span class="hljs-keyword">int</span> u, v, w, next;<br>    EDGE() &#123;&#125;<br>    EDGE(<span class="hljs-keyword">int</span> _u, <span class="hljs-keyword">int</span> _v, <span class="hljs-keyword">int</span> _w, <span class="hljs-keyword">int</span> _next) &#123;<br>        u = _u, v = _v, w = _w, next = _next;<br>    &#125;<br>&#125;edge[MAXM];<br></code></pre></td></tr></table></figure></p>
<p>åˆå§‹åŒ–æ‰€æœ‰çš„head[i] = INFï¼Œå½“å‰è¾¹æ€»æ•° edgeCount = 0<br>æ¯è¯»å…¥ä¸€æ¡è¾¹ï¼Œè°ƒç”¨addEdge(u, v, w)ï¼Œå…·ä½“å‡½æ•°çš„å®ç°å¦‚ä¸‹ï¼š</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addEdge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> w)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[ edgeCount ] = EDGE(u, v, w, head[u]);<br>    head[u] = edgeCount ++;<br>&#125;<br></code></pre></td></tr></table></figure>
<blockquote>
<p>è¿™ä¸ªå‡½æ•°çš„å«ä¹‰æ˜¯æ¯åŠ å…¥ä¸€æ¡è¾¹(u, v)ï¼Œå°±åœ¨åŸæœ‰çš„é“¾è¡¨ç»“æ„çš„é¦–éƒ¨æ’å…¥è¿™æ¡è¾¹ï¼Œä½¿å¾—æ¯æ¬¡æ’å…¥çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(1)ï¼Œæ‰€ä»¥é“¾è¡¨çš„è¾¹çš„é¡ºåºå’Œè¯»å…¥é¡ºåºæ­£å¥½æ˜¯é€†åºçš„ã€‚è¿™ç§ç»“æ„åœ¨æ— è®ºæ˜¯ç¨ å¯†çš„è¿˜æ˜¯ç¨€ç–çš„å›¾ä¸Šéƒ½æœ‰éå¸¸å¥½çš„è¡¨ç°ï¼Œç©ºé—´ä¸Šæ²¡æœ‰æµªè´¹ï¼Œæ—¶é—´ä¸Šä¹Ÿæ˜¯æœ€å°å¼€é”€ã€‚<br>è°ƒç”¨çš„æ—¶å€™åªè¦é€šè¿‡head[i]å°±èƒ½è®¿é—®åˆ°ç”± i å‡ºå‘çš„ç¬¬ä¸€æ¡è¾¹çš„ç¼–å·ï¼Œé€šè¿‡ç¼–å·åˆ°edgeæ•°ç»„è¿›è¡Œç´¢å¼•å¯ä»¥å¾—åˆ°è¾¹çš„å…·ä½“ä¿¡æ¯ï¼Œç„¶åæ ¹æ®è¿™æ¡è¾¹çš„nextåŸŸå¯ä»¥å¾—åˆ°ç¬¬äºŒæ¡è¾¹çš„ç¼–å·ï¼Œä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°nextåŸŸä¸ºINFï¼ˆè¿™é‡Œçš„INFå³headæ•°ç»„åˆå§‹åŒ–çš„é‚£ä¸ªå€¼ï¼Œä¸€èˆ¬å–-1å³å¯ï¼‰ã€‚</p>
</blockquote>
<p>é›†è®­æ—¶çš„æ¨¡æ¿ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span>;   <span class="hljs-comment">//æ— å‘å›¾çš„è¯å®é™…è¦å¼€è¾¹æ•°ä¸¤å€çš„ç©ºé—´</span><br><span class="hljs-keyword">int</span> head[maxn];         <span class="hljs-comment">//head[i]è¡¨ç¤ºä»¥iä¸ºèµ·ç‚¹çš„æœ€åä¸€æ¡è¾¹çš„ç¼–å·</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to;             <span class="hljs-comment">//è¿™æ¡å˜å¾—ç»ˆç‚¹</span><br>    <span class="hljs-keyword">int</span> w;              <span class="hljs-comment">//è¿™æ¡å˜å¾—æƒå€¼</span><br>    <span class="hljs-keyword">int</span> last;           <span class="hljs-comment">//ä¸è‡ªå·±èµ·ç‚¹ç›¸åŒçš„ä¸Šä¸€æ¡è¾¹çš„ç¼–å·</span><br>&#125;Edge[maxm];<br><span class="hljs-keyword">int</span> cnt;                <span class="hljs-comment">//è®°å½•Edgeæ•°æ®é‡Œé¢çš„è¾¹ç”¨åˆ°äº†å“ªé‡Œ</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u , <span class="hljs-keyword">int</span> v , <span class="hljs-keyword">int</span> w)</span> <span class="hljs-comment">//åŠ ä¸€æ¡è¾¹ï¼Œèµ·ç‚¹ï¼Œ ç»ˆç‚¹ï¼Œæƒå€¼</span></span><br><span class="hljs-function"></span>&#123;<br>    Edge[cnt].to = v;<br>    Edge[cnt].w = w;<br>    Edge[cnt].last = head[u];   <span class="hljs-comment">//å°†ç¼–å·ä¸ºcntçš„è¾¹åŠ å…¥</span><br>    head[u] = cnt++;            <span class="hljs-comment">//åŠ è¾¹åï¼Œcntä¸ºä»¥uä¸ºèµ·ç‚¹çš„æœ€åä¸€æ¡è¾¹</span><br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="å›¾çš„éå†"><a href="#å›¾çš„éå†" class="headerlink" title="å›¾çš„éå†"></a>å›¾çš„éå†</h3><h4 id="å‘é‡å‚¨å­˜æ–¹å¼"><a href="#å‘é‡å‚¨å­˜æ–¹å¼" class="headerlink" title="å‘é‡å‚¨å­˜æ–¹å¼"></a>å‘é‡å‚¨å­˜æ–¹å¼</h4><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">int</span> len = g[i].size();<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; len; j++)<br>    <span class="hljs-keyword">int</span> v = g[i][j];    <span class="hljs-comment">//å¾—åˆ°ä¸iç›¸è¿çš„æ‰€æœ‰èŠ‚ç‚¹</span><br></code></pre></td></tr></table></figure>
<h4 id="å‰å‘æ˜Ÿå‚¨å­˜æ–¹å¼"><a href="#å‰å‘æ˜Ÿå‚¨å­˜æ–¹å¼" class="headerlink" title="å‰å‘æ˜Ÿå‚¨å­˜æ–¹å¼"></a>å‰å‘æ˜Ÿå‚¨å­˜æ–¹å¼</h4><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = head[i]; j != <span class="hljs-number">-1</span>; j = Edge[j].last)<br>&#123;<br>    <span class="hljs-keyword">int</span> v = Edge[j].to;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>æ¥ä¸‹æ¥é‡å¤´æˆï¼Œï¼Œï¼Œï¼Œ</p>
<h2 id="æœ€çŸ­è·¯"><a href="#æœ€çŸ­è·¯" class="headerlink" title="æœ€çŸ­è·¯"></a>æœ€çŸ­è·¯</h2><h3 id="Dijkstraç®—æ³•"><a href="#Dijkstraç®—æ³•" class="headerlink" title="Dijkstraç®—æ³•"></a>Dijkstraç®—æ³•</h3><p>Dijkstraç®—æ³•é€‚ç”¨äºæ±‚ <strong>è¾¹æƒä¸ºæ­£</strong> ï¼Œ ä»å•ä¸ªåŸç‚¹å‡ºå‘çš„æœ€çŸ­è·¯ã€‚å®é™…ä»–èƒ½æ±‚åˆå§‹ç‚¹åˆ°å…¶ä»–æ‰€æœ‰é¡¶ç‚¹çš„æœ€çŸ­è·¯å¾„ï¼Œä¾‹å¦‚dis[i]è¡¨ç¤ºåŸç‚¹åˆ°iè¿™ä¸ªèŠ‚ç‚¹çš„æœ€çŸ­è·¯çš„å€¼ï¼Œï¼Œï¼Œï¼Œå®é™…ä¸Šæ˜¯åŸºäºbfsæœç´¢çš„</p>
<p><a href="http://www.cppblog.com/menjitianya/archive/2015/11/19/212292.html">å¤§ä½¬çš„è¡¨è¾¾ï¼š</a></p>
<blockquote>
<p>å¯¹äºä¸€ä¸ªæœ‰å‘å›¾æˆ–æ— å‘å›¾ï¼Œæ‰€æœ‰è¾¹æƒä¸ºæ­£ï¼ˆè¾¹ç”¨é‚»æ¥çŸ©é˜µçš„å½¢å¼ç»™å‡ºï¼‰ï¼Œç»™å®šaå’Œbï¼Œæ±‚aåˆ°bçš„æœ€çŸ­è·¯ï¼Œä¿è¯aä¸€å®šèƒ½å¤Ÿåˆ°è¾¾bã€‚è¿™æ¡æœ€çŸ­è·¯æ˜¯å¦ä¸€å®šå­˜åœ¨å‘¢ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚ç›¸åï¼Œæœ€é•¿è·¯å°±ä¸ä¸€å®šäº†ï¼Œç”±äºè¾¹æƒä¸ºæ­£ï¼Œå¦‚æœé‡åˆ°æœ‰ç¯çš„æ—¶å€™ï¼Œå¯ä»¥ä¸€ç›´åœ¨è¿™ä¸ªç¯ä¸Šèµ°ï¼Œå› ä¸ºè¦æ‰¾æœ€é•¿çš„ï¼Œè¿™æ ·å°±ä½¿å¾—è·¯å¾„è¶Šå˜è¶Šé•¿ï¼Œæ°¸æ— æ­¢å¢ƒï¼Œæ‰€ä»¥å¯¹äºæ­£æƒå›¾ï¼Œåœ¨å¯è¾¾çš„æƒ…å†µä¸‹æœ€çŸ­è·¯ä¸€å®šå­˜åœ¨ï¼Œæœ€é•¿è·¯åˆ™ä¸ä¸€å®šå­˜åœ¨ã€‚è¿™é‡Œå…ˆè®¨è®ºæ­£æƒå›¾çš„æœ€çŸ­è·¯é—®é¢˜ã€‚</p>
<p>æœ€çŸ­è·¯æ»¡è¶³æœ€ä¼˜å­ç»“æ„æ€§è´¨ï¼Œæ‰€ä»¥æ˜¯ä¸€ä¸ªåŠ¨æ€è§„åˆ’é—®é¢˜ã€‚æœ€çŸ­è·¯çš„æœ€ä¼˜å­ç»“æ„å¯ä»¥æè¿°ä¸ºï¼š<br>D(s, t) = {Vs â€¦ Vi â€¦ Vj â€¦ Vt}è¡¨ç¤ºsåˆ°tçš„æœ€çŸ­è·¯ï¼Œå…¶ä¸­iå’Œjæ˜¯è¿™æ¡è·¯å¾„ä¸Šçš„ä¸¤ä¸ªä¸­é—´ç»“ç‚¹ï¼Œé‚£ä¹ˆD(i, j)å¿…å®šæ˜¯iåˆ°jçš„æœ€çŸ­è·¯ï¼Œè¿™ä¸ªæ€§è´¨æ˜¯æ˜¾ç„¶çš„ï¼Œå¯ä»¥ç”¨åè¯æ³•è¯æ˜ã€‚<br>åŸºäºä¸Šé¢çš„æœ€ä¼˜å­ç»“æ„æ€§è´¨ï¼Œå¦‚æœå­˜åœ¨è¿™æ ·ä¸€æ¡æœ€çŸ­è·¯D(s, t) = {Vs â€¦ Vi Vt}ï¼Œå…¶ä¸­iå’Œtæ˜¯æœ€çŸ­è·¯ä¸Šç›¸é‚»çš„ç‚¹ï¼Œé‚£ä¹ˆD(s, i) = {Vs â€¦ Vi} å¿…å®šæ˜¯såˆ°içš„æœ€çŸ­è·¯ã€‚Dijkstraç®—æ³•å°±æ˜¯åŸºäºè¿™æ ·ä¸€ä¸ªæ€§è´¨ï¼Œé€šè¿‡æœ€çŸ­è·¯å¾„é•¿åº¦é€’å¢ï¼Œé€æ¸ç”Ÿæˆæœ€çŸ­è·¯ã€‚</p>
<p>Dijkstraç®—æ³•æ˜¯æœ€ç»å…¸çš„æœ€çŸ­è·¯ç®—æ³•ï¼Œç”¨äºè®¡ç®—æ­£æƒå›¾çš„å•æºæœ€çŸ­è·¯ï¼ˆSingle Source Shortest Pathï¼Œæºç‚¹ç»™å®šï¼Œé€šè¿‡è¯¥ç®—æ³•å¯ä»¥æ±‚å‡ºèµ·ç‚¹åˆ°æ‰€æœ‰ç‚¹çš„æœ€çŸ­è·¯ï¼‰ï¼Œå®ƒæ˜¯åŸºäºè¿™æ ·ä¸€ä¸ªäº‹å®ï¼šå¦‚æœæºç‚¹åˆ°xç‚¹çš„æœ€çŸ­è·¯å·²ç»æ±‚å‡ºï¼Œå¹¶ä¸”ä¿å­˜åœ¨d[x] ( å¯ä»¥å°†å®ƒç†è§£ä¸ºD(s, x) )ä¸Šï¼Œé‚£ä¹ˆå¯ä»¥åˆ©ç”¨xå»æ›´æ–° xèƒ½å¤Ÿç›´æ¥åˆ°è¾¾çš„ç‚¹ çš„æœ€çŸ­è·¯ã€‚å³ï¼š<br>d[y] = min{ d[y], d[x] + w(x, y) }           yä¸ºxèƒ½å¤Ÿç›´æ¥åˆ°è¾¾çš„ç‚¹ï¼Œw(x, y) åˆ™è¡¨ç¤ºx-&gt;yè¿™æ¡æœ‰å‘è¾¹çš„è¾¹æƒ<br>å…·ä½“ç®—æ³•æè¿°å¦‚ä¸‹ï¼šå¯¹äºå›¾G = <V, E>ï¼Œæºç‚¹ä¸ºsï¼Œd[i]è¡¨ç¤ºsåˆ°içš„æœ€çŸ­è·¯ï¼Œvisit[i]è¡¨ç¤ºd[i]æ˜¯å¦å·²ç»ç¡®å®š(å¸ƒå°”å€¼)ã€‚<br>1) åˆå§‹åŒ– æ‰€æœ‰é¡¶ç‚¹ d[i] = INF, visit[i] = falseï¼Œä»¤d[s] = 0ï¼›<br>2) ä»æ‰€æœ‰visit[i]ä¸ºfalseçš„é¡¶ç‚¹ä¸­æ‰¾åˆ°ä¸€ä¸ªd[i]å€¼æœ€å°çš„ï¼Œä»¤x = i; å¦‚æœæ‰¾ä¸åˆ°ï¼Œç®—æ³•ç»“æŸï¼›<br>3) æ ‡è®°visit[x] = true, æ›´æ–°å’Œxç›´æ¥ç›¸é‚»çš„æ‰€æœ‰é¡¶ç‚¹yçš„æœ€çŸ­è·¯ï¼š d[y] = min{ d[y], d[x] + w(x, y) }<br>ç¬¬ä¸‰æ­¥ä¸­å¦‚æœyå’Œxå¹¶ä¸æ˜¯ç›´æ¥ç›¸é‚»ï¼Œåˆ™ä»¤w(x, y) = INFï¼‰</p>
</blockquote>
<p>é›†è®­æ—¶çš„æ¨¡æ¿:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">105</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">20020</span>;<br><span class="hljs-keyword">int</span> head[maxn];<br><span class="hljs-keyword">int</span> dis[maxn];<br><span class="hljs-keyword">int</span> cnt;<br><span class="hljs-keyword">int</span> n , m;<br><span class="hljs-comment">//å­˜å›¾</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(head , <span class="hljs-number">-1</span> , <span class="hljs-keyword">sizeof</span>(head));<br><span class="hljs-comment">//    memset(dis , inf , sizeof(dis));</span><br><span class="hljs-comment">//    dis[1] = 0;</span><br>    cnt = <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to;<br>    <span class="hljs-keyword">int</span> w;<br>    <span class="hljs-keyword">int</span> last;<br>&#125;Edge[maxm];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u , <span class="hljs-keyword">int</span> v , <span class="hljs-keyword">int</span> w)</span></span><br><span class="hljs-function"></span>&#123;<br>    Edge[cnt].to = v;<br>    Edge[cnt].w = w;<br>    Edge[cnt].last = head[u];<br>    head[u] = cnt++;<br>&#125;<br><span class="hljs-comment">//èŠ‚ç‚¹</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> u;<br>    <span class="hljs-keyword">int</span> w;<br>    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span> &lt; (<span class="hljs-keyword">const</span> node &amp;res)<span class="hljs-keyword">const</span>  <span class="hljs-comment">//ä¼˜å…ˆé˜Ÿåˆ—ä½¿ç”¨</span><br>    &#123;<br>        <span class="hljs-keyword">return</span> w &gt; res.w;<br>    &#125;<br>    node (<span class="hljs-keyword">int</span> _u , <span class="hljs-keyword">int</span> _w)                  <span class="hljs-comment">//å…¥é˜Ÿä½¿ç”¨</span><br>    &#123;<br>        u = _u;<br>        w = _w;<br>    &#125;<br>&#125;;<br><span class="hljs-comment">//Dijkstraç®—æ³•ï¼Œï¼Œï¼Œ</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Dijkstra</span><span class="hljs-params">()</span>                             <span class="hljs-comment">//æ±‚åŸç‚¹åˆ°ç»ˆç‚¹çš„æœ€çŸ­è·ç¦»ï¼Œç»“æœåœ¨dis[i]ä¸­</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)            <span class="hljs-comment">//å°†æ¯ä¸ªèŠ‚ç‚¹å€¼ç½®ä¸ºæ— ç©·å¤§ï¼Œï¼Œ</span><br>        dis[i] = inf;<br>    dis[<span class="hljs-number">1</span>] = <span class="hljs-number">0</span>;                             <span class="hljs-comment">//åŸç‚¹åˆ°è‡ªèº«è·ç¦»ä¸º0</span><br>    <span class="hljs-built_in">priority_queue</span>&lt;node&gt; q;                 <span class="hljs-comment">//ä¼˜å…ˆé˜Ÿåˆ—</span><br>    <span class="hljs-keyword">while</span> (!q.empty())  q.pop();<br>    q.push(node(<span class="hljs-number">1</span> , <span class="hljs-number">0</span>));<br>    <span class="hljs-keyword">while</span> (!q.empty())<br>    &#123;<br>        node nx = q.top();<br>        q.pop();<br>        <span class="hljs-keyword">int</span> u = nx.u;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = head[u]; i != <span class="hljs-number">-1</span>; i = Edge[i].last)<br>        &#123;<br>            <span class="hljs-keyword">int</span> to = Edge[i].to;<br>            <span class="hljs-keyword">int</span> w = Edge[i].w;<br>            <span class="hljs-keyword">if</span> (dis[u] + w &lt; dis[to])<br>            &#123;<br>                dis[to] = dis[u] + w;<br>                q.push(node(to , dis[to]));<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="SPFAç®—æ³•"><a href="#SPFAç®—æ³•" class="headerlink" title="SPFAç®—æ³•"></a>SPFAç®—æ³•</h3><p>Dijlstraç®—æ³•åªèƒ½å¤„ç†æ­£æƒå€¼çš„å›¾ï¼Œï¼Œï¼Œå¯èƒ½å‡ºç°è´Ÿç¯ï¼Œï¼Œä¼šä¸€ç›´èµ°ä¸‹å»ï¼Œï¼Œè€ŒSPFAåˆ™å¯ä»¥å¤„ç†æœ‰è´Ÿæƒå€¼çš„å›¾ï¼Œï¼Œ</p>
<p>ç»´æŠ¤ä¸€ä¸ªé˜Ÿåˆ—ï¼Œé‡Œé¢å­˜æ”¾æ‰€æœ‰éœ€è¦è¿›è¡Œè¿­ä»£çš„ç‚¹ï¼Œåˆå§‹æ—¶é˜Ÿåˆ—ä¸­åªæœ‰ä¸€ä¸ªåŸç‚¹sï¼Œç”¨ä¸€ä¸ªå¸ƒå°”æ•°ç»„è®°å½•æ¯ä¸€ä¸ªç‚¹æ˜¯å¦åœ¨é˜Ÿåˆ—ä¸­ï¼Œï¼Œï¼Œ</p>
<p>å¤§ä½¬çš„è¡¨è¾¾:</p>
<blockquote>
<p>SPFA( Shortest Path Faster Algorithm )æ˜¯åŸºäºBellman-Fordçš„æ€æƒ³ï¼Œé‡‡ç”¨å…ˆè¿›å…ˆå‡º(FIFO)é˜Ÿåˆ—è¿›è¡Œä¼˜åŒ–çš„ä¸€ä¸ªè®¡ç®—å•æºæœ€çŸ­è·¯çš„å¿«é€Ÿç®—æ³•ã€‚<br>ç±»ä¼¼Bellman-Fordçš„åšæ³•ï¼Œæˆ‘ä»¬ç”¨æ•°ç»„dè®°å½•æ¯ä¸ªç»“ç‚¹çš„æœ€çŸ­è·¯å¾„ä¼°è®¡å€¼ï¼Œå¹¶ç”¨é“¾å¼å‰å‘æ˜Ÿæ¥å­˜å‚¨å›¾Gã€‚åˆ©ç”¨ä¸€ä¸ªå…ˆè¿›å…ˆå‡ºçš„é˜Ÿåˆ—ç”¨æ¥ä¿å­˜å¾…æ¾å¼›çš„ç»“ç‚¹ï¼Œæ¯æ¬¡å–å‡ºé˜Ÿé¦–ç»“ç‚¹uï¼Œå¹¶ä¸”æšä¸¾ä»uå‡ºå‘çš„æ‰€æœ‰è¾¹(u, v)ï¼Œå¦‚æœd[u] + w(u, v) &lt; d[v]ï¼Œåˆ™æ›´æ–°d[v] = d[u] + w(u, v)ï¼Œç„¶ååˆ¤æ–­vç‚¹åœ¨ä¸åœ¨é˜Ÿåˆ—ä¸­ï¼Œå¦‚æœä¸åœ¨å°±å°†vç‚¹æ”¾å…¥é˜Ÿå°¾ã€‚è¿™æ ·ä¸æ–­ä»é˜Ÿåˆ—ä¸­å–å‡ºç»“ç‚¹æ¥è¿›è¡Œæ¾å¼›æ“ä½œï¼Œç›´è‡³é˜Ÿåˆ—ç©ºä¸ºæ­¢ã€‚ </p>
<p>åªè¦æœ€çŸ­è·¯å¾„å­˜åœ¨ï¼ŒSPFAç®—æ³•å¿…å®šèƒ½æ±‚å‡ºæœ€å°å€¼ã€‚å› ä¸ºæ¯æ¬¡å°†ç‚¹æ”¾å…¥é˜Ÿå°¾ï¼Œéƒ½æ˜¯ç»è¿‡æ¾å¼›æ“ä½œè¾¾åˆ°çš„ã€‚å³æ¯æ¬¡å…¥é˜Ÿçš„ç‚¹vå¯¹åº”çš„æœ€çŸ­è·¯å¾„ä¼°è®¡å€¼d[v]éƒ½åœ¨å˜å°ã€‚æ‰€ä»¥ç®—æ³•çš„æ‰§è¡Œä¼šä½¿dè¶Šæ¥è¶Šå°ã€‚ç”±äºæˆ‘ä»¬å‡å®šæœ€çŸ­è·¯ä¸€å®šå­˜åœ¨ï¼Œå³å›¾ä¸­æ²¡æœ‰è´Ÿæƒåœˆï¼Œæ‰€ä»¥æ¯ä¸ªç»“ç‚¹éƒ½æœ‰æœ€çŸ­è·¯å¾„å€¼ã€‚å› æ­¤ï¼Œç®—æ³•ä¸ä¼šæ— é™æ‰§è¡Œä¸‹å»ï¼Œéšç€då€¼çš„é€æ¸å˜å°ï¼Œç›´åˆ°åˆ°è¾¾æœ€çŸ­è·¯å¾„å€¼æ—¶ï¼Œç®—æ³•ç»“æŸï¼Œè¿™æ—¶çš„æœ€çŸ­è·¯å¾„ä¼°è®¡å€¼å°±æ˜¯å¯¹åº”ç»“ç‚¹çš„æœ€çŸ­è·¯å¾„å€¼ã€‚</p>
<p>é‚£ä¹ˆæœ€çŸ­è·¯å¾„ä¸å­˜åœ¨å‘¢ï¼Ÿå¦‚æœå­˜åœ¨è´Ÿæƒåœˆï¼Œå¹¶ä¸”èµ·ç‚¹å¯ä»¥é€šè¿‡ä¸€äº›é¡¶ç‚¹åˆ°è¾¾è´Ÿæƒåœˆï¼Œé‚£ä¹ˆåˆ©ç”¨SPFAç®—æ³•ä¼šè¿›å…¥ä¸€ä¸ªæ­»å¾ªç¯ï¼Œå› ä¸ºdå€¼ä¼šè¶Šæ¥è¶Šå°ï¼Œå¹¶ä¸”æ²¡æœ‰ä¸‹é™ï¼Œä½¿å¾—æœ€çŸ­è·¯ä¸å­˜åœ¨ã€‚é‚£ä¹ˆæˆ‘ä»¬å‡è®¾ä¸å­˜åœ¨è´Ÿæƒåœˆï¼Œåˆ™ä»»ä½•æœ€çŸ­è·¯ä¸Šçš„ç‚¹å¿…å®šå°äºç­‰äºnä¸ªï¼ˆæ²¡æœ‰åœˆï¼‰ï¼Œæ¢è¨€ä¹‹ï¼Œç”¨ä¸€ä¸ªæ•°ç»„c[i]æ¥è®°å½•iè¿™ä¸ªç‚¹å…¥é˜Ÿçš„æ¬¡æ•°ï¼Œæ‰€æœ‰çš„c[i]å¿…å®šéƒ½å°äºç­‰äºnï¼Œæ‰€ä»¥ä¸€æ—¦æœ‰ä¸€ä¸ªc[i] &gt; nï¼Œåˆ™è¡¨æ˜è¿™ä¸ªå›¾ä¸­å­˜åœ¨è´Ÿæƒåœˆã€‚</p>
<p>æ¥ä¸‹æ¥ç»™å‡ºSPFAæ›´åŠ ç›´è§‚çš„ç†è§£ï¼Œå‡è®¾å›¾ä¸­æ‰€æœ‰è¾¹çš„è¾¹æƒéƒ½ä¸º1ï¼Œé‚£ä¹ˆSPFAå…¶å®å°±æ˜¯ä¸€ä¸ªBFSï¼ˆBreadth First Searchï¼Œå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼‰ï¼Œå¯¹äºBFSçš„ä»‹ç»å¯ä»¥å‚é˜…æœç´¢å…¥é—¨ã€‚BFSé¦–å…ˆåˆ°è¾¾çš„é¡¶ç‚¹æ‰€ç»å†çš„è·¯å¾„ä¸€å®šæ˜¯æœ€çŸ­è·¯(ä¹Ÿå°±æ˜¯ç»è¿‡çš„æœ€å°‘é¡¶ç‚¹æ•°)ï¼Œæ‰€ä»¥æ­¤æ—¶åˆ©ç”¨æ•°ç»„è®°å½•èŠ‚ç‚¹è®¿é—®å¯ä»¥ä½¿æ¯ä¸ªé¡¶ç‚¹åªè¿›é˜Ÿä¸€æ¬¡ï¼Œä½†åœ¨è‡³å°‘æœ‰ä¸€æ¡è¾¹çš„è¾¹æƒä¸ä¸º1çš„å¸¦æƒå›¾ä¸­ï¼Œæœ€å…ˆåˆ°è¾¾çš„é¡¶ç‚¹çš„è·¯å¾„ä¸ä¸€å®šæ˜¯æœ€çŸ­è·¯ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¦ç”¨dæ•°ç»„æ¥è®°å½•å½“å‰æœ€çŸ­è·¯ä¼°è®¡å€¼çš„åŸå› äº†ã€‚</p>
</blockquote>
<p>é›†è®­æ—¶çš„æ¨¡æ¿:</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//#include &lt;iostream&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1010</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">30010</span>;<br><span class="hljs-keyword">int</span> head[maxn];<br><span class="hljs-keyword">int</span> dis[maxn];<br><span class="hljs-keyword">int</span> in[maxn];       <span class="hljs-comment">//in[i]è¡¨ç¤ºç‚¹içš„å…¥é˜Ÿæ¬¡æ•°</span><br><span class="hljs-keyword">bool</span> vis[maxn];     <span class="hljs-comment">//vis[i]è¡¨ç¤ºç‚¹iæ˜¯å¦åœ¨é˜Ÿåˆ—ä¸­</span><br><span class="hljs-keyword">int</span> cnt;<br><span class="hljs-keyword">int</span> n , m;<br><span class="hljs-comment">//int s , t;</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(head , <span class="hljs-number">-1</span> , <span class="hljs-keyword">sizeof</span>(head));<br>    cnt = <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to;<br>    <span class="hljs-keyword">int</span> w;<br>    <span class="hljs-keyword">int</span> last;<br>&#125;Edge[maxm];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u , <span class="hljs-keyword">int</span> v , <span class="hljs-keyword">int</span> w)</span></span><br><span class="hljs-function"></span>&#123;<br>    Edge[cnt].to = v;<br>    Edge[cnt].w = w;<br>    Edge[cnt].last = head[u];<br>    head[u] = cnt++;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> u;<br>    <span class="hljs-keyword">int</span> w;<br>    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span> &lt; (<span class="hljs-keyword">const</span> node &amp;res)<span class="hljs-keyword">const</span><br>    &#123;<br>        <span class="hljs-keyword">return</span> w &gt; res.w;<br>    &#125;<br>    node (<span class="hljs-keyword">int</span> _u , <span class="hljs-keyword">int</span> _w)<br>    &#123;<br>        u = _u;<br>        w = _w;<br>    &#125;<br>&#125;;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">spfa</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">queue</span>&lt;<span class="hljs-keyword">int</span>&gt; q;<br>    dis[s] = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(vis , <span class="hljs-literal">false</span> , <span class="hljs-keyword">sizeof</span>(vis));<br>    <span class="hljs-built_in">memset</span>(in , <span class="hljs-number">0</span> , <span class="hljs-keyword">sizeof</span>(ln));<br>    <span class="hljs-built_in">memset</span>(dis , inf , <span class="hljs-keyword">sizeof</span>(dis));<br>    dis[s] = <span class="hljs-number">0</span>;<br>    q.push(s);<br>    vis[s] = <span class="hljs-literal">true</span>;      <br>    in[s] = <span class="hljs-number">1</span>;                                              <span class="hljs-comment">//é¡¶ç‚¹å…¥é˜Ÿvisæ ‡è®°ï¼Œï¼Œï¼ŒåŒæ—¶ç»Ÿè®¡é¡¶ç‚¹çš„å…¥é˜Ÿæ¬¡æ•°</span><br>    <span class="hljs-keyword">while</span> (!q.empty())<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = q.front();<br>        q.pop();<br>        vis[u] = <span class="hljs-literal">false</span>;                                     <span class="hljs-comment">//å¯¹å¤´å…ƒç´ å‡ºé˜Ÿï¼Œå¹¶ä¸”æ¶ˆé™¤æ ‡è®°</span><br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = head[u]; i != <span class="hljs-number">-1</span>; i = Edge[i].last)    <span class="hljs-comment">//éå†é¡¶ç‚¹uçš„é‚»æ¥è¡¨</span><br>        &#123;<br>            <span class="hljs-keyword">int</span> v = Edge[i].to;<br>            <span class="hljs-keyword">int</span> w = Edge[i].w;<br>            <span class="hljs-keyword">if</span> (dis[u] + w &lt; dis[v])<br>            &#123;<br>                dis[v] = dis[u] + w;                        <span class="hljs-comment">//æ¾å¼›</span><br>                <span class="hljs-keyword">if</span> (!vis[v])                                <span class="hljs-comment">//é¡¶ç‚¹vä¸åœ¨é˜Ÿå†…</span><br>                &#123;<br>                    vis[v] = <span class="hljs-literal">true</span>;                          <span class="hljs-comment">//æ ‡è®°</span><br>                    in[v]++;                                <span class="hljs-comment">//ç»Ÿè®¡æ¬¡æ•°</span><br>                    q.push(v);                              <span class="hljs-comment">//å…¥é˜Ÿ</span><br>                    <span class="hljs-keyword">if</span> (in[v] &gt;= n)                         <span class="hljs-comment">//è¶…å‡ºå…¥é˜Ÿæ¬¡æ•°ä¸Šé™ï¼Œè¯´æ˜æœ‰è´Ÿç¯</span><br>                        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;                  <span class="hljs-comment">//å­˜åœ¨è´Ÿç¯è¿”å›-1</span><br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="Floydç®—æ³•"><a href="#Floydç®—æ³•" class="headerlink" title="Floydç®—æ³•"></a>Floydç®—æ³•</h3><p>å¦‚æœéœ€è¦æ±‚ä»»æ„ä¸¤ç‚¹ä¹‹é—´çš„è·ç¦»ï¼Œä¸å¿…è°ƒç”¨næ¬¡dijstraæˆ–è€…Bellman-fordç®—æ³•ï¼Œå¯ä»¥ä½¿ç”¨Floyd-Warshallç®—æ³•</p>
<ul>
<li>Floydç®—æ³•åˆ©ç”¨ <strong>åŠ¨æ€è§„åˆ’</strong> ï¼Œï¼Œ</li>
<li>ç”¨d[i][j][k]è¡¨ç¤ºä»iåˆ°jï¼Œç»è¿‡ç¼–å·ä¸è¶…è¿‡kçš„ç‚¹æ‰€å¾—åˆ°çš„æœ€çŸ­è·ç¦»ï¼Œåˆ™d[i][j][k] = min{d[i][j][k - 1] , d[i][k][k - 1] + d[k][j][k - 1]}</li>
</ul>
<blockquote>
<p>æœ€åä»‹ç»ä¸€ä¸ª <strong>æ±‚ä»»æ„ä¸¤ç‚¹æœ€çŸ­è·¯</strong> çš„ç®—æ³•ï¼Œå¾ˆæ˜¾ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥æ±‚næ¬¡å•æºæœ€çŸ­è·¯ï¼ˆæšä¸¾èµ·ç‚¹ï¼‰ï¼Œä½†æ˜¯ä¸‹é¢è¿™ç§æ–¹æ³•æ›´åŠ å®¹æ˜“ç¼–ç ï¼Œè€Œä¸”å¾ˆå·§å¦™ï¼Œå®ƒä¹Ÿæ˜¯åŸºäºåŠ¨æ€è§„åˆ’çš„æ€æƒ³ã€‚<br>ä»¤d[i][j][k]ä¸ºåªå…è®¸ç»è¿‡ç»“ç‚¹[0, k]çš„æƒ…å†µä¸‹ï¼Œi åˆ° jçš„æœ€çŸ­è·¯ã€‚é‚£ä¹ˆåˆ©ç”¨æœ€ä¼˜å­ç»“æ„æ€§è´¨ï¼Œæœ‰ä¸¤ç§æƒ…å†µï¼š</p>
<p>a. å¦‚æœæœ€çŸ­è·¯ç»è¿‡kç‚¹ï¼Œåˆ™d[i][j][k] = d[i][k][k-1] + d[k][j][k-1];</p>
<p>b. å¦‚æœæœ€çŸ­è·¯ä¸ç»è¿‡kç‚¹ï¼Œåˆ™d[i][j][k] = d[i][j][k-1];</p>
<p>äºæ˜¯æœ‰çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š d[i][j][k] = min{ d[i][j][k-1], d[i][k][k-1] + d[k][j][k-1] }  (0 &lt;= i, j, k &lt; n)</p>
<p>è¿™æ˜¯ä¸€ä¸ª3D/0Dé—®é¢˜ï¼Œåªéœ€è¦æŒ‰ç…§ké€’å¢çš„é¡ºåºè¿›è¡Œæšä¸¾ï¼Œå°±èƒ½åœ¨O(n^3)çš„æ—¶é—´å†…æ±‚è§£ï¼Œåˆç¬¬ä¸‰ç»´çš„çŠ¶æ€å¯ä»¥é‡‡ç”¨æ»šåŠ¨æ•°ç»„è¿›è¡Œä¼˜åŒ–ï¼Œæ‰€ä»¥ç©ºé—´å¤æ‚åº¦ä¸ºO(n^2)ã€‚</p>
</blockquote>
<h2 id="ä¹ é¢˜"><a href="#ä¹ é¢˜" class="headerlink" title="ä¹ é¢˜"></a>ä¹ é¢˜</h2><h3 id="Problem-A-å®ä¹ ç”Ÿaveryboy"><a href="#Problem-A-å®ä¹ ç”Ÿaveryboy" class="headerlink" title="Problem A: å®ä¹ ç”Ÿaveryboy"></a>Problem A: å®ä¹ ç”Ÿaveryboy</h3><p>Time Limit: 2 Sec  Memory Limit: 128 MB</p>
<blockquote>
<p>Description</p>
<p>averyboyç°åœ¨åœ¨å®ä¹ ã€‚æ¯å¤©æ—©ä¸Šä»–è¦æ­¥è¡Œå»å…¬å¸ä¸Šç­ï¼Œä½ è‚¯å®šçŸ¥é“ï¼Œä»–æ˜¯ä¸€ä¸ªéå¸¸ç”·å­©ï¼Œæ‰€ä»¥ä»–ä¼šé€‰æ‹©æœ€çŸ­çš„è·¯å»å…¬å¸ã€‚ç°åœ¨ç»™ä½ averyboyåˆ°å…¬å¸é€”ä¸­çš„è‹¥å¹²ä¸ªç«™ç‚¹ï¼Œæ ‡å·ä¸º1~N,averyboyçš„å¼€å§‹åœ¨1å·ç«™ç‚¹ï¼Œå®ƒçš„å…¬å¸åœ¨Nå·ç«™ç‚¹ï¼Œç„¶åç»™ä½ è‹¥å¹²æ¡è¾¹ä»£è¡¨ç«™ç‚¹æœ‰è·¯å¯ä»¥é€šè¿‡ï¼ˆå¯èƒ½ä¼šæœ‰é‡è¾¹ï¼‰ã€‚ç°åœ¨ä½ éœ€è¦å‘Šè¯‰averyboyä»–åˆ°å…¬å¸çš„æœ€çŸ­è·¯å¾„æ˜¯å¤šå°‘ã€‚</p>
<p>Input</p>
<p>ç¬¬ä¸€è¡Œä¸€ä¸ªæ•´æ•°Tï¼ˆT &lt;= 5ï¼‰ä»£è¡¨æµ‹è¯•æ•°æ®çš„ç»„æ•°</p>
<p>æ¥ä¸‹æ¥Tç»„æµ‹è¯•æ•°æ®ã€‚</p>
<p>æ¯ç»„æµ‹è¯•æ•°æ®ç¬¬ä¸€è¡Œä¸ºä¸¤ä¸ªæ•´æ•°Nï¼ŒM(1 &lt;= N &lt;= 100, 0 &lt;= M &lt;= 10000)ä»£è¡¨ç«™ç‚¹çš„ä¸ªæ•°å’Œè¾¹çš„æ¡æ•°</p>
<p>æ¥ä¸‹æ¥Mè¡Œï¼Œæ¯ä¸€è¡Œä¸‰ä¸ªæ•°u, v, wä»£è¡¨ç«™ç‚¹u,vä¹‹é—´æœ‰ä¸€æ¡æ— å‘è¾¹ï¼Œè¾¹çš„æƒå€¼ä¸ºw(1 &lt;= u, v &lt;= N, 0 &lt;= w &lt;= 1000)</p>
<p>Output</p>
<p>å¯¹äºæ¯ç»„æµ‹è¯•æ•°æ®ï¼Œå¦‚æœå­˜åœ¨è·¯å¾„ä½¿å¾—averyboyèƒ½å¤Ÿåˆ°è¾¾å…¬å¸ï¼Œè¾“å‡ºä¸€ä¸ªæ•´æ•°ä»£è¡¨è¿™ä¸ªæœ€çŸ­è·¯å¾„çš„é•¿åº¦ï¼Œåä¹‹è¾“å‡ºaveryboynb</p>
<p>Sample Input<br>2<br>3 2<br>1 2 1<br>2 3 1<br>3 1<br>1 2 1</p>
<p>Sample Output<br>2<br>averyboynb</p>
</blockquote>
<p>æˆ‘çš„ä»£ç ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//#include &lt;iostream&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">105</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">20020</span>;         <span class="hljs-comment">//æ— å‘å›¾è¾¹å¼€ä¸¤å€</span><br><span class="hljs-keyword">int</span> head[maxn];<br><span class="hljs-keyword">int</span> dis[maxn];<br><span class="hljs-keyword">int</span> cnt;<br><span class="hljs-keyword">int</span> n , m;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(head , <span class="hljs-number">-1</span> , <span class="hljs-keyword">sizeof</span>(head));<br><span class="hljs-comment">//    memset(dis , inf , sizeof(dis));</span><br><span class="hljs-comment">//    dis[1] = 0;</span><br>    cnt = <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to;<br>    <span class="hljs-keyword">int</span> w;<br>    <span class="hljs-keyword">int</span> last;<br>&#125;Edge[maxm];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u , <span class="hljs-keyword">int</span> v , <span class="hljs-keyword">int</span> w)</span></span><br><span class="hljs-function"></span>&#123;<br>    Edge[cnt].to = v;<br>    Edge[cnt].w = w;<br>    Edge[cnt].last = head[u];<br>    head[u] = cnt++;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> u;<br>    <span class="hljs-keyword">int</span> w;<br>    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span> &lt; (<span class="hljs-keyword">const</span> node &amp;res)<span class="hljs-keyword">const</span><br>    &#123;<br>        <span class="hljs-keyword">return</span> w &gt; res.w;<br>    &#125;<br>    node (<span class="hljs-keyword">int</span> _u , <span class="hljs-keyword">int</span> _w)<br>    &#123;<br>        u = _u;<br>        w = _w;<br>    &#125;<br>&#125;;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Dijkstra</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>        dis[i] = inf;<br>    <span class="hljs-built_in">priority_queue</span>&lt;node&gt; q;<br>    <span class="hljs-keyword">while</span> (!q.empty())  q.pop();<br>    dis[<span class="hljs-number">1</span>] = <span class="hljs-number">0</span>;<br>    q.push(node(<span class="hljs-number">1</span> , <span class="hljs-number">0</span>));<br>    <span class="hljs-keyword">while</span> (!q.empty())<br>    &#123;<br>        node nx = q.top();<br>        q.pop();<br>        <span class="hljs-keyword">int</span> u = nx.u;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = head[u]; i != <span class="hljs-number">-1</span>; i = Edge[i].last)<br>        &#123;<br>            <span class="hljs-keyword">int</span> to = Edge[i].to;<br>            <span class="hljs-keyword">int</span> w = Edge[i].w;<br>            <span class="hljs-keyword">if</span> (dis[u] + w &lt; dis[to])<br>            &#123;<br>                dis[to] = dis[u] + w;<br>                q.push(node(to , dis[to]));<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//ios_base::sync_with_stdio(0);</span><br>    <span class="hljs-comment">//freopen(&quot;data.in&quot;, &quot;r&quot;, stdin);</span><br><span class="hljs-comment">//    freopen(&quot;test.out&quot;, &quot;w&quot;, stdout);</span><br>    <span class="hljs-keyword">int</span> t;<br>    <span class="hljs-comment">//cin &gt;&gt; t;</span><br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;t);<br>    <span class="hljs-keyword">while</span> (t--)<br>    &#123;<br>        <span class="hljs-comment">//cin &gt;&gt; n &gt;&gt; m;</span><br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span> , &amp;n , &amp;m);<br>        <span class="hljs-keyword">int</span> u , v , w;<br>        init();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m; i++)<br>        &#123;<br>            <span class="hljs-comment">//cin &gt;&gt; u &gt;&gt; v &gt;&gt; w;</span><br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span> , &amp;u , &amp;v , &amp;w);<br>            add(u , v , w);<br>            add(v , u , w);<br>        &#125;<br>        Dijkstra();<br><span class="hljs-comment">//        for (int i = 0; i &lt; n; i++)</span><br><span class="hljs-comment">//            cout &lt;&lt; dis[i] &lt;&lt; endl;</span><br>        <span class="hljs-keyword">if</span> (dis[n] != inf)<br>            <span class="hljs-comment">//cout &lt;&lt; dis[n] &lt;&lt; endl;</span><br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span> , dis[n]);<br>        <span class="hljs-keyword">else</span><br>            <span class="hljs-comment">//cout &lt;&lt; &quot;averyboynb&quot; &lt;&lt; endl;</span><br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;averyboynb\n&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<p>å­¦é•¿çš„ä»£ç ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">100</span> + <span class="hljs-number">10</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxe = <span class="hljs-number">10000</span> + <span class="hljs-number">10</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">int</span> N, M;<br><span class="hljs-keyword">int</span> dis[maxn];<br><span class="hljs-keyword">int</span> cnt;<br><span class="hljs-keyword">int</span> head[maxn];<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span>&#123;</span><br>    <span class="hljs-keyword">int</span> to, w, last;<br>&#125;Edge[maxe&lt;&lt;<span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cnt = <span class="hljs-number">1</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span>(head));<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> w)</span></span><br><span class="hljs-function"></span>&#123;<br>    Edge[cnt].to = v;<br>    Edge[cnt].w = w;<br>    Edge[cnt].last = head[u];<br>    head[u] = cnt++;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span>&#123;</span><br>    <span class="hljs-keyword">int</span> u, w;<br>    node(<span class="hljs-keyword">int</span> _u, <span class="hljs-keyword">int</span> _w)&#123;<br>        u = _u;<br>        w = _w;<br>    &#125;<br>    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span> &lt;(<span class="hljs-keyword">const</span> node &amp;res) <span class="hljs-keyword">const</span>&#123;<br>        <span class="hljs-keyword">return</span> w &gt; res.w;<br>    &#125;<br>&#125;;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">Dijkstra</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= N; i++) dis[i] = inf;<br>    <span class="hljs-built_in">priority_queue</span>&lt;node&gt; q;<br>    dis[<span class="hljs-number">1</span>] = <span class="hljs-number">0</span>;<br>    q.push(node(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>));<br>    <span class="hljs-keyword">while</span>(!q.empty())<br>    &#123;<br>        node nx = q.top();<br>        q.pop();<br>        <span class="hljs-keyword">int</span> u = nx.u;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; i != <span class="hljs-number">-1</span>; i = Edge[i].last)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = Edge[i].to;<br>            <span class="hljs-keyword">int</span> w = Edge[i].w;<br>            <span class="hljs-keyword">if</span>(dis[u] + w &lt; dis[v])<br>            &#123;<br>                dis[v] = dis[u] + w;<br>                q.push(node(v, dis[v]));<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> dis[N];<br><br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//freopen(&quot;data.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">//freopen(&quot;data.out&quot;, &quot;w&quot;, stdout);</span><br>    <span class="hljs-keyword">int</span> T;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;T);<br>    <span class="hljs-keyword">while</span>(T--)<br>    &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;N, &amp;M);<br>        init();<br>        <span class="hljs-keyword">int</span> u, v, w;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= M; i++)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>, &amp;u, &amp;v, &amp;w);<br>            add(u, v, w);<br>            add(v, u, w);<br>        &#125;<br>        <span class="hljs-keyword">int</span> ans = Dijkstra();<br>        <span class="hljs-keyword">if</span>(ans &gt;= inf) <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;averyboynb\n&quot;</span>);<br>        <span class="hljs-keyword">else</span> <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, ans);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<h3 id="Problem-B-å®ä¹ ç”Ÿaveryboy2"><a href="#Problem-B-å®ä¹ ç”Ÿaveryboy2" class="headerlink" title="Problem B: å®ä¹ ç”Ÿaveryboy2"></a>Problem B: å®ä¹ ç”Ÿaveryboy2</h3><p>Time Limit: 1 Sec  Memory Limit: 128 MB</p>
<blockquote>
<p>Description</p>
<p>averyboyç°åœ¨åœ¨å®ä¹ ã€‚æ¯å¤©æ—©ä¸Šä»–è¦æ­¥è¡Œå»å…¬å¸ä¸Šç­ï¼Œä½ è‚¯å®šçŸ¥é“ï¼Œä»–æ˜¯ä¸€ä¸ªéå¸¸ç”·å­©ï¼Œæ‰€ä»¥ä»–ä¼šé€‰æ‹©æœ€çŸ­çš„è·¯å»å…¬å¸ã€‚ç°åœ¨ç»™ä½ averyboyåˆ°å…¬å¸é€”ä¸­çš„è‹¥å¹²ä¸ªç«™ç‚¹ï¼Œæ ‡å·ä¸º1~N,ç°åœ¨averyboyçš„èµ·ç‚¹å¯ä»¥æ˜¯å¤šä¸ªç‚¹ï¼Œaveryboyçš„ç»ˆç‚¹ä¹Ÿå°±æ˜¯å…¬å¸ä¹Ÿå¯ä»¥æ˜¯å¤šä¸ªç‚¹ï¼Œç»™ä½ ç«™ç‚¹ä¹‹é—´çš„è¾¹å’Œå®ƒä»¬çš„æƒå€¼ã€‚ç°åœ¨ä½ éœ€è¦å‘Šè¯‰averyboyä»–åˆ°å…¬å¸çš„æœ€çŸ­è·¯å¾„æ˜¯å¤šå°‘ï¼ˆåªéœ€ä»ä»»æ„ä¸€ä¸ªèµ·ç‚¹å¼€å§‹åˆ°è¾¾ä»»æ„ä¸€ä¸ªç»ˆç‚¹å°±è¡Œï¼‰ã€‚</p>
<p>Input</p>
<p>ç¬¬ä¸€è¡Œä¸€ä¸ªæ•´æ•°Tï¼ˆT &lt;= 5ï¼‰ä»£è¡¨æµ‹è¯•æ•°æ®çš„ç»„æ•°</p>
<p>æ¥ä¸‹æ¥Tç»„æµ‹è¯•æ•°æ®ã€‚</p>
<p>æ¯ç»„æµ‹è¯•æ•°æ®ç¬¬ä¸€è¡Œä¸ºä¸¤ä¸ªæ•´æ•°Nï¼ŒMï¼Œk1, k2(1 &lt;= N &lt;= 1000, 0 &lt;= M &lt;= 10000)ä»£è¡¨ç«™ç‚¹çš„ä¸ªæ•°å’Œè¾¹çš„æ¡æ•°ä»¥åŠèµ·ç‚¹çš„ä¸ªæ•°ï¼Œç»ˆç‚¹çš„ä¸ªæ•°ï¼ˆ1 &lt;= k1, k2 &lt;= Nï¼‰</p>
<p>æ¥ä¸‹æ¥ä¸€è¡Œk1ä¸ªæ•°x[i]ï¼Œä»£è¡¨averyboyèµ·ç‚¹ï¼ˆ1 &lt;= x[i] &lt;= N)</p>
<p>æ¥ä¸‹æ¥ä¸€è¡Œk2ä¸ªæ•°y[i]ï¼Œä»£è¡¨ç»ˆç‚¹(1 &lt;= y[i] &lt;= N)</p>
<p>æ¥ä¸‹æ¥Mè¡Œï¼Œæ¯ä¸€è¡Œä¸‰ä¸ªæ•°u, v, wä»£è¡¨ç«™ç‚¹u,vä¹‹é—´æœ‰ä¸€æ¡æ— å‘è¾¹ï¼ˆå¯èƒ½ä¼šæœ‰é‡è¾¹ï¼‰ï¼Œè¾¹çš„æƒå€¼ä¸ºw(1 &lt;= u, v &lt;= N, 0 &lt;= w &lt;= 1000)</p>
<p>Output</p>
<p>å¯¹äºæ¯ç»„æµ‹è¯•æ•°æ®ï¼Œå¦‚æœå­˜åœ¨è·¯å¾„ä½¿å¾—averyboyèƒ½å¤Ÿåˆ°è¾¾å…¬å¸ï¼Œè¾“å‡ºä¸€ä¸ªæ•´æ•°ä»£è¡¨è¿™ä¸ªæœ€çŸ­è·¯å¾„çš„é•¿åº¦ï¼Œåä¹‹è¾“å‡ºaveryboynb</p>
<p>Sample Input<br>1<br>4 5 2 2<br>1 4<br>2 3<br>1 2 1<br>2 3 2<br>3 4 4<br>1 3 3<br>1 4 5</p>
<p>Sample Output<br>1</p>
<p>HINT</p>
<p>é€‰æ‹©èµ·ç‚¹ä¸º1ç»ˆç‚¹ä¸º2ï¼Œæ­¤æ—¶æœ‰æœ€çŸ­è·¯å¾„1.</p>
</blockquote>
<p>å› ä¸ºæœ€çŸ­è·¯ä¸»è¦æ˜¯æ±‚ä¸¤ç‚¹ä¹‹é—´çš„æœ€çŸ­è·¯ï¼Œï¼Œå¯¹äºè¿™ç§å¤šä¸ªèµ·ç‚¹å’Œå¤šä¸ªç»ˆç‚¹çš„å¯ä»¥å…ˆæ‰¾ä¸€ä¸ª <strong>è¶…çº§èµ·ç‚¹</strong> åŸç‚¹så’Œä¸€ä¸ª <strong>æ±‡ç‚¹t</strong>,,,æ„å»ºè¿™ä¸¤ä¸ªç‚¹åˆ°ç›¸åº”çš„æ¯ä¸€ä¸ªèµ·ç‚¹ã€ç»ˆç‚¹çš„è¾¹ï¼Œï¼Œå¹¶ä¸”æƒå€¼ä¸ºé›¶ï¼Œï¼Œï¼Œè¿™æ ·åŒ–æ±‚å¤šä¸ªèµ·ç‚¹å’Œç»ˆç‚¹ä¹‹é—´çš„æœ€çŸ­è·¯ä¸ºåŸç‚¹så’Œæ±‡ç‚¹tä¹‹é—´æœ€çŸ­è·¯ï¼Œï¼Œï¼Œï¼Œ</p>
<p>æˆ‘çš„ä»£ç (å½“æ—¶åšæ—¶dijkstraç®—æ³•çš„æ¨¡æ¿æ‰“é”™äº†ï¼Œï¼Œæ‰€ä»¥æ¢spfaåšçš„ï¼Œï¼Œï¼Œå·®ä¸å¤šéƒ½):<br><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//#include &lt;iostream&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1010</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">30010</span>;<br><span class="hljs-keyword">int</span> head[maxn];<br><span class="hljs-keyword">int</span> dis[maxn];<br><span class="hljs-keyword">int</span> ln[maxn];<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-keyword">int</span> cnt;<br><span class="hljs-keyword">int</span> n , m , k1 , k2;<br><span class="hljs-comment">//int s , t;</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(head , <span class="hljs-number">-1</span> , <span class="hljs-keyword">sizeof</span>(head));<br>    cnt = <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to;<br>    <span class="hljs-keyword">int</span> w;<br>    <span class="hljs-keyword">int</span> last;<br>&#125;Edge[maxm];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u , <span class="hljs-keyword">int</span> v , <span class="hljs-keyword">int</span> w)</span></span><br><span class="hljs-function"></span>&#123;<br>    Edge[cnt].to = v;<br>    Edge[cnt].w = w;<br>    Edge[cnt].last = head[u];<br>    head[u] = cnt++;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> u;<br>    <span class="hljs-keyword">int</span> w;<br>    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span> &lt; (<span class="hljs-keyword">const</span> node &amp;res)<span class="hljs-keyword">const</span><br>    &#123;<br>        <span class="hljs-keyword">return</span> w &gt; res.w;<br>    &#125;<br>    node (<span class="hljs-keyword">int</span> _u , <span class="hljs-keyword">int</span> _w)<br>    &#123;<br>        u = _u;<br>        w = _w;<br>    &#125;<br>&#125;;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">spfa</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">queue</span>&lt;<span class="hljs-keyword">int</span>&gt; q;<br>    dis[s] = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(vis , <span class="hljs-literal">false</span> , <span class="hljs-keyword">sizeof</span>(vis));<br>    <span class="hljs-built_in">memset</span>(ln , <span class="hljs-number">0</span> , <span class="hljs-keyword">sizeof</span>(ln));<br>    <span class="hljs-built_in">memset</span>(dis , inf , <span class="hljs-keyword">sizeof</span>(dis));<br>    dis[s] = <span class="hljs-number">0</span>;<br>    q.push(s);<br>    vis[s] = <span class="hljs-literal">true</span>;<br>    ln[s] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span> (!q.empty())<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = q.front();<br>        q.pop();<br>        vis[u] = <span class="hljs-literal">false</span>;<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = head[u]; i != <span class="hljs-number">-1</span>; i = Edge[i].last)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = Edge[i].to;<br>            <span class="hljs-keyword">int</span> w = Edge[i].w;<br>            <span class="hljs-keyword">if</span> (dis[u] + w &lt; dis[v])<br>            &#123;<br>                dis[v] = dis[u] + w;<br>                <span class="hljs-keyword">if</span> (!vis[v])<br>                &#123;<br>                    vis[v] = <span class="hljs-literal">true</span>;<br>                    ln[v]++;<br>                    q.push(v);<br>                    <span class="hljs-keyword">if</span> (ln[v] &gt;= n)<br>                        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//ios_base::sync_with_stdio(0);</span><br>    <span class="hljs-keyword">int</span> t;<br>    <span class="hljs-comment">//cin &gt;&gt; t;</span><br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;t);<br>    <span class="hljs-keyword">while</span> (t--)<br>    &#123;<br>        <span class="hljs-comment">//cin &gt;&gt; n &gt;&gt; m;</span><br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d%d&quot;</span> , &amp;n , &amp;m , &amp;k1 , &amp;k2);<br>        <span class="hljs-keyword">int</span> u , v , w;<br>        init();<br>        <span class="hljs-comment">//è®¾åŸç‚¹s = 0;æ±‡ç‚¹t = n + 1;</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; k1; i++)<br>        &#123;<br>            <span class="hljs-keyword">int</span> tmp;<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;tmp);<br>            add(<span class="hljs-number">0</span> , tmp , <span class="hljs-number">0</span>);<br>            add(tmp , <span class="hljs-number">0</span> , <span class="hljs-number">0</span>);<br>        &#125;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; k2; i++)<br>        &#123;<br>            <span class="hljs-keyword">int</span> tmp;<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;tmp);<br>            add(tmp , n + <span class="hljs-number">1</span> , <span class="hljs-number">0</span>);<br>            add(n + <span class="hljs-number">1</span> , tmp , <span class="hljs-number">0</span>);<br>        &#125;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m; i++)<br>        &#123;<br>            <span class="hljs-comment">//cin &gt;&gt; u &gt;&gt; v &gt;&gt; w;</span><br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span> , &amp;u , &amp;v , &amp;w);<br>            add(u , v , w);<br>            add(v , u , w);<br>        &#125;<br><br>        spfa(<span class="hljs-number">0</span>);<br><br>        <span class="hljs-keyword">if</span> (dis[n + <span class="hljs-number">1</span>] != inf)<br>            <span class="hljs-comment">//cout &lt;&lt; dis[n] &lt;&lt; endl;</span><br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span> , dis[n + <span class="hljs-number">1</span>]);<br>        <span class="hljs-keyword">else</span><br>            <span class="hljs-comment">//cout &lt;&lt; &quot;averyboynb&quot; &lt;&lt; endl;</span><br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;averyboynb\n&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><br>å­¦é•¿çš„ä»£ç :</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">10000</span> + <span class="hljs-number">10</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxe = <span class="hljs-number">100000</span> + <span class="hljs-number">10</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">int</span> N, M;<br><span class="hljs-keyword">int</span> k1, k2;<br><span class="hljs-keyword">int</span> dis[maxn];<br><span class="hljs-keyword">int</span> cnt;<br><span class="hljs-keyword">int</span> head[maxn];<br><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; s1, s2;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span>&#123;</span><br>    <span class="hljs-keyword">int</span> to, w, last;<br>&#125;Edge[maxe&lt;&lt;<span class="hljs-number">2</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cnt = <span class="hljs-number">1</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span>(head));<br>    s1.clear();<br>    s2.clear();<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> w)</span></span><br><span class="hljs-function"></span>&#123;<br>    Edge[cnt].to = v;<br>    Edge[cnt].w = w;<br>    Edge[cnt].last = head[u];<br>    head[u] = cnt++;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span>&#123;</span><br>    <span class="hljs-keyword">int</span> u, w;<br>    node(<span class="hljs-keyword">int</span> _u, <span class="hljs-keyword">int</span> _w)&#123;<br>        u = _u;<br>        w = _w;<br>    &#125;<br>    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span> &lt;(<span class="hljs-keyword">const</span> node &amp;res) <span class="hljs-keyword">const</span>&#123;<br>        <span class="hljs-keyword">return</span> w &gt; res.w;<br>    &#125;<br>&#125;;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">Dijkstra</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= N + <span class="hljs-number">1</span>; i++) dis[i] = inf;<br>    <span class="hljs-built_in">priority_queue</span>&lt;node&gt; q;<br>    dis[<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;<br>    q.push(node(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>));<br>    <span class="hljs-keyword">while</span>(!q.empty())<br>    &#123;<br>        node nx = q.top();<br>        q.pop();<br>        <span class="hljs-keyword">int</span> u = nx.u;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; i != <span class="hljs-number">-1</span>; i = Edge[i].last)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = Edge[i].to;<br>            <span class="hljs-keyword">int</span> w = Edge[i].w;<br>            <span class="hljs-keyword">if</span>(dis[u] + w &lt; dis[v])<br>            &#123;<br>                dis[v] = dis[u] + w;<br>                q.push(node(v, dis[v]));<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> dis[N + <span class="hljs-number">1</span>];<br><br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//freopen(&quot;data.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">//freopen(&quot;data.out&quot;, &quot;w&quot;, stdout);</span><br>    <span class="hljs-keyword">int</span> T;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;T);<br>    <span class="hljs-keyword">while</span>(T--)<br>    &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d%d&quot;</span>, &amp;N, &amp;M, &amp;k1, &amp;k2);<br>        init();<br>        <span class="hljs-keyword">int</span> u, v, w;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= k1; i++)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;u);<br>            s1.push_back(u);<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= k2; i++)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;u);<br>            s2.push_back(u);<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= M; i++)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>, &amp;u, &amp;v, &amp;w);<br>            add(u, v, w);<br>            add(v, u, w);<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; k1; i++)<br>        &#123;<br>            add(<span class="hljs-number">0</span>, s1[i], <span class="hljs-number">0</span>);<br>            add(s1[i], <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; k2; i++)<br>        &#123;<br>            add(s2[i], N + <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<br>            add(N + <span class="hljs-number">1</span>, s2[i], <span class="hljs-number">0</span>);<br>        &#125;<br>        <span class="hljs-keyword">int</span> ans = Dijkstra();<br>        <span class="hljs-keyword">if</span>(ans &gt;= inf) <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;averyboynb\n&quot;</span>);<br>        <span class="hljs-keyword">else</span> <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, ans);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="Problem-C-å•†äººaveryboy"><a href="#Problem-C-å•†äººaveryboy" class="headerlink" title="Problem C: å•†äººaveryboy"></a>Problem C: å•†äººaveryboy</h3><p>Time Limit: 2 Sec  Memory Limit: 128 MB</p>
<blockquote>
<p>Description</p>
<p>averyboyæœ€è¿‘æƒ³ä¹°ä¸€ä¸ªæ–°çš„macï¼Œæ‰€ä»¥ä»–æƒ³èµšç‚¹é’±ã€‚æ‰€ä»¥ä»–é€‰æ‹©å»å–ä¹¦ã€‚ç°åœ¨æœ‰Nä¸ªåŸå¸‚ï¼Œä¹¦åœ¨æ¯ä¸€ä¸ªåŸå¸‚ä»·æ ¼ä¸ä¸€æ ·ï¼Œä½†æ˜¯åœ¨åŒä¸€ä¸ªåŸå¸‚ï¼Œä¹°ä¸€æœ¬ä¹¦å’Œå–ä¸€æœ¬ä¹¦çš„ä»·æ ¼ä¸€æ ·ï¼Œç„¶åå¦‚æœåŸå¸‚x,yä¹‹é—´æœ‰ä¸€æ¡æƒå€¼ä¸ºwçš„è¾¹ï¼Œaveryboyä»åŸå¸‚xåˆ°yéœ€è¦æ”¯ä»˜wè´¹ç”¨ï¼Œç°åœ¨ç»™ä½ ä¹¦åœ¨Nä¸ªåŸå¸‚çš„ä»·æ ¼å’ŒåŸå¸‚ä¹‹é—´çš„è¾¹ä»¥åŠæƒå€¼ï¼ˆN - 1æ¡è¾¹ï¼Œåˆšå¥½ä½¿Nä¸ªåŸå¸‚æƒ³è¿é€šï¼‰ï¼Œaveryboyéœ€è¦é€‰æ‹©ä¸€ä¸ªåŸå¸‚ä¸ºèµ·ç‚¹ï¼Œä¹°ä¸€æœ¬ä¹¦ï¼Œç„¶åè·‘åˆ°å¦å¤–ä¸€ä¸ªåŸå¸‚å°†è¿™æœ¬ä¹¦å–æ‰ã€‚averyboyæ•°å­¦ä¸å¤ªå¥½ï¼Œä½ èƒ½å‘Šè¯‰ä»–ä»–æœ€å¤šèƒ½èµšå¤šå°‘é’±å—ï¼Ÿ</p>
<p>Input</p>
<p>ç¬¬ä¸€è¡Œä¸€ä¸ªæ•´æ•°Tï¼ˆT &lt;= 5ï¼‰ä»£è¡¨æµ‹è¯•æ•°æ®çš„ç»„æ•°</p>
<p>æ¥ä¸‹æ¥Tç»„æµ‹è¯•æ•°æ®</p>
<p>æ¯ç»„æµ‹è¯•æ•°æ®ç¬¬ä¸€è¡Œä¸ºä¸€ä¸ªæ­£æ•´æ•°Nï¼ˆN &lt;= 1e5ï¼‰ä»£è¡¨åŸå¸‚çš„ä¸ªæ•°</p>
<p>æ¥ä¸‹æ¥ä¸€è¡ŒNä¸ªæ•´æ•°a[i]ï¼Œä»£è¡¨ä¹¦åœ¨æ¯ä¸ªåŸå¸‚çš„ä»·æ ¼(1 &lt;= a[i] &lt;= 10000)</p>
<p>æ¥ä¸‹æ¥N - 1è¡Œï¼Œæ¯è¡Œä¸‰ä¸ªæ•°u, v, wï¼ˆ1 &lt;= u, v &lt;= N, 1 &lt;= w &lt;= 1000ï¼‰ä»£è¡¨åŸå¸‚u,vä¹‹é—´æœ‰ä¸€æ¡æƒå€¼ä¸ºwçš„è¾¹</p>
<p>Output</p>
<p>å¯¹äºæ¯ç»„æµ‹è¯•æ•°æ®,è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºaveryboyèƒ½èµšåˆ°çš„æœ€å¤šçš„é’±ã€‚</p>
<p>Sample Input<br>1<br>4<br>10 40 15 30<br>1 2 30<br>1 3 2<br>3 4 10</p>
<p>Sample Output<br>8</p>
<p>HINT</p>
<p>ä»–é€‰æ‹©ä»1å·åŸå¸‚ä¹°ä¹¦ï¼Œåˆ°4å·åŸå¸‚å–ä¹¦ï¼Œç„¶åä»–ä¹°ä¹¦å’Œè·¯è´¹ä¸€å…±èŠ±è´¹10 + 2 + 10 = 22ï¼Œåˆ°äº†4å·åŸå¸‚æŠŠä¹¦å–æ‰ï¼Œèµš30å…ƒï¼Œæ‰€ä»¥æœ€ç»ˆèµšäº†30 - 22 = 8å…ƒï¼Œè¿™ç§æƒ…å†µä¸‹ä»–èƒ½èµšçš„æœ€å¤šã€‚</p>
</blockquote>
<p>å› ä¸ºæœ‰åŠ æœ‰å‡ï¼Œç‚¹è¿˜æœ‰å€¼ï¼Œï¼Œï¼Œæ‰€ä»¥å¯ä»¥å»ºç«‹åŸç‚¹å’Œæ±‡ç‚¹åˆ†ç¦»ä»–çš„å€¼ï¼Œï¼Œä¹Ÿå°±æ˜¯é¢˜é‡Œçš„ä¹°ä¹¦é’±å’Œå–ä¹¦é’±ï¼Œï¼Œï¼Œå…¶ä¸­såˆ°æ¯ä¸€ä¸ªç‚¹çš„æƒå€¼ä¸ºæ­£çš„ä¹¦ä»·é’±ï¼Œï¼Œï¼Œtåˆ°æ¯ä¸€ä¸ªç‚¹çš„æƒå€¼ä¸ºè´Ÿçš„ä¹¦ä»·é’±ï¼Œï¼Œï¼Œ</p>
<p>åˆå› ä¸ºæœ‰è´Ÿæƒå€¼çš„è¾¹ï¼Œï¼Œï¼Œæ‰€ä»¥é€‰ç”¨SPFAç®—æ³•ï¼Œï¼Œï¼Œï¼Œå¯¹såšSPFAä¹‹ådis[t] = ä¹°ä¹¦é’± + è·¯è´¹ - å–ä¹¦é’±ï¼Œï¼Œï¼Œè¿™ä¸ªdis[t]æ˜¯æœ€å°çš„ ï¼Œï¼Œï¼Œï¼Œå–è´Ÿå€¼å³ä¸ºå–ä¹¦é’± - ä¹°ä¹¦é’± - è·¯è´¹ï¼Œï¼Œï¼Œä¹Ÿå°±æ˜¯æœ€ç»ˆèµšçš„æœ€å¤§å€¼</p>
<p>æˆ‘çš„ä»£ç ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//#include &lt;iostream&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">500010</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">500020</span>;<br><span class="hljs-keyword">int</span> head[maxn];<br><span class="hljs-keyword">int</span> dis[maxn];<br><span class="hljs-keyword">int</span> in[maxn];<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-keyword">int</span> money[maxn];<br><span class="hljs-keyword">int</span> cnt;<br><span class="hljs-keyword">int</span> n;<br><span class="hljs-comment">//int s , t;</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(head , <span class="hljs-number">-1</span> , <span class="hljs-keyword">sizeof</span>(head));<br>    cnt = <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to;<br>    <span class="hljs-keyword">int</span> w;<br>    <span class="hljs-keyword">int</span> last;<br>&#125;Edge[maxm];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u , <span class="hljs-keyword">int</span> v , <span class="hljs-keyword">int</span> w)</span></span><br><span class="hljs-function"></span>&#123;<br>    Edge[cnt].to = v;<br>    Edge[cnt].w = w;<br>    Edge[cnt].last = head[u];<br>    head[u] = cnt++;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> u;<br>    <span class="hljs-keyword">int</span> w;<br>    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span> &lt; (<span class="hljs-keyword">const</span> node &amp;res)<span class="hljs-keyword">const</span><br>    &#123;<br>        <span class="hljs-keyword">return</span> w &gt; res.w;<br>    &#125;<br>    node (<span class="hljs-keyword">int</span> _u , <span class="hljs-keyword">int</span> _w)<br>    &#123;<br>        u = _u;<br>        w = _w;<br>    &#125;<br>&#125;;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">spfa</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">queue</span>&lt;<span class="hljs-keyword">int</span>&gt; q;<br>    dis[s] = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(vis , <span class="hljs-literal">false</span> , <span class="hljs-keyword">sizeof</span>(vis));<br>    <span class="hljs-built_in">memset</span>(in , <span class="hljs-number">0</span> , <span class="hljs-keyword">sizeof</span>(in));<br>    <span class="hljs-built_in">memset</span>(dis , inf , <span class="hljs-keyword">sizeof</span>(dis));<br>    dis[s] = <span class="hljs-number">0</span>;<br>    q.push(s);<br>    vis[s] = <span class="hljs-literal">true</span>;<br>    in[s] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span> (!q.empty())<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = q.front();<br>        q.pop();<br>        vis[u] = <span class="hljs-literal">false</span>;<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = head[u]; i != <span class="hljs-number">-1</span>; i = Edge[i].last)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = Edge[i].to;<br>            <span class="hljs-keyword">int</span> w = Edge[i].w;<br>            <span class="hljs-keyword">if</span> (dis[u] + w &lt; dis[v])<br>            &#123;<br>                dis[v] = dis[u] + w;<br>                <span class="hljs-keyword">if</span> (!vis[v])<br>                &#123;<br>                    vis[v] = <span class="hljs-literal">true</span>;<br>                    in[v]++;<br>                    q.push(v);<br>                    <span class="hljs-keyword">if</span> (in[v] &gt;= n)<br>                        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//ios_base::sync_with_stdio(0);</span><br>    <span class="hljs-keyword">int</span> t;<br>    <span class="hljs-comment">//cin &gt;&gt; t;</span><br>    <span class="hljs-comment">//freopen(&quot;data.in&quot; , &quot;r&quot; , stdin);</span><br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;t);<br>    <span class="hljs-keyword">while</span> (t--)<br>    &#123;<br>        <span class="hljs-comment">//cin &gt;&gt; n &gt;&gt; m;</span><br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;n);<br>        <span class="hljs-keyword">int</span> u , v , w;<br>        init();<br>        <span class="hljs-keyword">int</span> money[maxn];<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;money[i]);<br>        &#125;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>        &#123;<br>            add(<span class="hljs-number">0</span> , i , money[i]);              <span class="hljs-comment">//0ä¸ºåŸç‚¹</span><br>            <span class="hljs-comment">//add(i , 0 , money);</span><br>            <span class="hljs-comment">//add(n + 1 , i , -money);      </span><br>            add(i , n + <span class="hljs-number">1</span> , -money[i]);         <span class="hljs-comment">//n + 1å³ä¸ºæ±‡ç‚¹ï¼Œæƒå€¼å–è´Ÿ</span><br>        &#125;<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;  n; i++)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span> , &amp;u , &amp;v , &amp;w);<br>            add(u , v , w);<br>            add(v , u , w);<br>        &#125;<br><br>        spfa(<span class="hljs-number">0</span>);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span> , -dis[n + <span class="hljs-number">1</span>]);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<p>å­¦é•¿çš„ä»£ç :<br>ä¸æ˜¯ç”¨å‰å‘æ˜Ÿå­˜çš„å›¾ï¼Œï¼Œè€Œä¸”è²Œä¼¼æ€è·¯ä¸ä¸Šé¢é‚£ä¸ªä¸åŒï¼Œï¼Œï¼Œå…ˆæ”¾åœ¨è¿™ï¼Œï¼Œä¹‹åå†çœ‹ä¸€ä¸‹<br><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">100000</span> + <span class="hljs-number">100</span>;<br><span class="hljs-keyword">int</span> n;<br><span class="hljs-keyword">int</span> d[maxn];<br><span class="hljs-keyword">bool</span> visit[maxn];<br><span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span>&#123;</span><br>    <span class="hljs-keyword">int</span> v;<br>    <span class="hljs-keyword">int</span> w;<br>    node(<span class="hljs-keyword">int</span> _v = <span class="hljs-number">0</span>, <span class="hljs-keyword">int</span> _w = <span class="hljs-number">0</span>)&#123;<br>        v = _v;<br>        w = _w;<br>    &#125;<br>&#125;;<br><span class="hljs-built_in">queue</span>&lt;node&gt; q;<br><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span> ,<span class="hljs-keyword">int</span>&gt; &gt; g[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">spfa</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>   <span class="hljs-built_in">memset</span>(d, -inf, <span class="hljs-keyword">sizeof</span>(d));<br>   <span class="hljs-built_in">memset</span>(visit, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span>(visit));<br>   <span class="hljs-keyword">while</span>(!q.empty()) q.pop();<br>   d[<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;<br>   q.push(node(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>));<br>   <span class="hljs-keyword">while</span>(!q.empty())<br>   &#123;<br>       node nx = q.front();<br>       q.pop();<br>       <span class="hljs-keyword">int</span> v = nx.v;<br>       visit[v] = <span class="hljs-literal">false</span>;<br>       <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; g[v].size(); i++)<br>       &#123;<br>           <span class="hljs-keyword">int</span> u = g[v][i].first;<br>           <span class="hljs-keyword">int</span> ww = g[v][i].second;<br>           <span class="hljs-keyword">if</span>(d[v] + ww &gt; d[u] &amp;&amp; u != <span class="hljs-number">0</span>)<br>           &#123;<br>               d[u] = d[v] + ww;<br>               <span class="hljs-keyword">if</span>(visit[u]) <span class="hljs-keyword">continue</span>;<br>               visit[u] = <span class="hljs-literal">true</span>;<br>               q.push(node(u, d[u]));<br>           &#125;<br>       &#125;<br>   &#125;<br>   <span class="hljs-keyword">if</span>(d[n + <span class="hljs-number">1</span>] &gt; <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> d[n + <span class="hljs-number">1</span>];<br>   <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n + <span class="hljs-number">1</span>; i++)<br>    &#123;<br>        g[i].clear();<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//freopen(&quot;data.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">//freopen(&quot;data.out&quot;, &quot;w&quot;, stdout);</span><br>    <span class="hljs-keyword">int</span> T;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;T);<br>    <span class="hljs-keyword">while</span>(T--)<br>    &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br>        init();<br>        <span class="hljs-keyword">int</span> u, v, w;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;w);<br>            g[<span class="hljs-number">0</span>].push_back(<span class="hljs-built_in">make_pair</span>(i, w));<br>            g[i].push_back(<span class="hljs-built_in">make_pair</span>(<span class="hljs-number">0</span>, w));<br>            g[n + <span class="hljs-number">1</span>].push_back(<span class="hljs-built_in">make_pair</span>(i, -w));<br>            g[i].push_back(<span class="hljs-built_in">make_pair</span>(n + <span class="hljs-number">1</span>, -w));<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; n; i++)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>, &amp;u, &amp;v, &amp;w);<br>            g[u].push_back(<span class="hljs-built_in">make_pair</span>(v, -w));<br>            g[v].push_back(<span class="hljs-built_in">make_pair</span>(u, -w));<br>        &#125;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, spfa());<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure></p>
<h3 id="Problem-D-è€å¸æœºaveryboy"><a href="#Problem-D-è€å¸æœºaveryboy" class="headerlink" title="Problem D: è€å¸æœºaveryboy"></a>Problem D: è€å¸æœºaveryboy</h3><p>Time Limit: 2 Sec  Memory Limit: 128 MB</p>
<blockquote>
<p>Description</p>
<p>averyboyä¸ä»…æ˜¯ä¸€ä¸ªéå¸¸ç”·å­©ï¼Œä»–è¿˜æ˜¯ä¸€ä½è€å¸æœºã€‚ç°åœ¨averyboyåœ¨å¼€ç«è½¦ï¼Œä¸€å…±æœ‰Nä¸ªç«è½¦ç«™ï¼Œæ¯ä¸ªç«è½¦ç«™å‡ºç«™å£åªæœ‰è‹¥å¹²ä¸ªå‡ºå£ï¼Œè¿™äº›å‡ºå£åˆ†åˆ«å¯¹åº”ä¸€äº›å…¶ä»–çš„ç«è½¦ç«™ï¼Œä»£è¡¨å¦‚æœä»è¿™ä¸€ä¸ªå‡ºå£å¼€å‡ºç«è½¦ï¼Œä¸‹ä¸€ç«™å°†ä¼šè¾¾åˆ°è¯¥å‡ºå£å¯¹åº”çš„ç«è½¦ç«™ã€‚æ¯ä¸€ä¸ªç«è½¦ç«™æœ‰ä¸€ä¸ªé»˜è®¤çš„å‡ºå£ï¼Œå¦‚æœæ­¤æ¬¡averyboyæƒ³è¦å‡ºç«™çš„å‡ºå£ä¸æ˜¯é»˜è®¤å‡ºå£ï¼Œä»–å°†ä¼šè¢«ä»–çš„ä¸Šçº§æ‰¹è¯„ä¸€æ¬¡ã€‚ç°åœ¨averyboyéœ€è¦ä»Aç«™åˆ°Bç«™ï¼Œç»™ä½ æ¯ä¸€ä¸ªç«è½¦ç«™å‡ºç«™å£çš„å‡ºå£çš„æƒ…å†µï¼Œä½ éœ€è¦å‘Šè¯‰averyboyä»–æœ€å°‘è¦è¢«æ‰¹è¯„å¤šå°‘æ¬¡</p>
<p>Input</p>
<p>ç¬¬ä¸€è¡Œä¸€ä¸ªæ•´æ•°Tï¼ˆT &lt;= 5ï¼‰ä»£è¡¨æµ‹è¯•æ•°æ®çš„ç»„æ•°</p>
<p>æ¥ä¸‹æ¥Tç»„æµ‹è¯•æ•°æ®</p>
<p>æ¯ç»„æµ‹è¯•æ•°æ®çš„ç¬¬ä¸€è¡Œä¸‰ä¸ªæ•´æ•°N, A, Bï¼ˆ1 &lt;= N &lt;= 100, 1 &lt;= A, B &lt;= Nï¼‰åˆ†åˆ«ä»£è¡¨ç«è½¦ç«™çš„æ•°é‡ä»¥åŠaveryboyçš„èµ·ç‚¹ç«™å’Œç»ˆç‚¹ç«™<br>æ¥ä¸‹æ¥Nè¡Œæ•°æ®ï¼Œç¬¬iè¡Œç¬¬ä¸€ä¸ªæ•°ä¸ºkï¼Œä»£è¡¨ç¬¬iä¸ªç«è½¦ç«™æœ‰kä¸ªå‡ºå£ï¼Œåé¢kä¸ªæ•´æ•°ï¼ˆkä¸ªæ•´æ•°å¯èƒ½ä¼šæœ‰è‹¥å¹²ä¸ªç›¸åŒï¼‰ï¼Œä»£è¡¨æ¯ä¸ªå‡ºå£é€šå‘çš„ä¸‹ä¸€ä¸ªç«è½¦ç«™ç¼–å·ï¼Œkä¸ªæ•°ä¸­çš„ç¬¬ä¸€ä¸ªè¡¨ç¤ºè¿™ä¸ªç«è½¦ç«™é»˜è®¤çš„å‡ºå£ã€‚ï¼ˆ0 &lt;= k &lt;= Nï¼‰</p>
<p>Output</p>
<p>å¯¹äºæ¯ç»„æµ‹è¯•æ•°æ®ï¼Œå¦‚æœAèƒ½å¤Ÿè¾¾åˆ°Bï¼Œè¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œä»£è¡¨averyboyæœ€å°è¢«æ‰¹è¯„çš„æ¬¡æ•°åä¹‹è¾“å‡ºaveryboynb</p>
<p>Sample Input<br>2<br>3 2 1<br>2 2 3<br>2 3 1<br>2 1 2<br>3 1 2<br>2 3 2<br>1 3<br>1 1</p>
<p>Sample Output<br>0<br>1</p>
</blockquote>
<p>æ ¹æ®é¢˜æ„é»˜è®¤çš„å‡ºå£çš„æƒå€¼å¯ä»¥è®¾ä¸º0ï¼Œå…¶ä»–çš„ä¸º1ï¼Œï¼Œå³åŠ ä¸€æ¬¡è¢«æ‰¹è¯„çš„æ¬¡æ•°ï¼Œï¼Œï¼Œæœ€å°‘çš„æ‰¹è¯„æ¬¡æ•°å³ä¸ºæ±‚æœ€çŸ­è·¯ï¼Œï¼Œï¼Œ</p>
<p>æˆ‘çš„ä»£ç :</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//#include &lt;iostream&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1010</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">30010</span>;<br><span class="hljs-keyword">int</span> head[maxn];<br><span class="hljs-keyword">int</span> dis[maxn];<br><span class="hljs-keyword">int</span> ln[maxn];<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-keyword">int</span> cnt;<br><span class="hljs-keyword">int</span> n , acfun , bilibili;<br><span class="hljs-comment">//int s , t;</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(head , <span class="hljs-number">-1</span> , <span class="hljs-keyword">sizeof</span>(head));<br>    cnt = <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to;<br>    <span class="hljs-keyword">int</span> w;<br>    <span class="hljs-keyword">int</span> last;<br>&#125;Edge[maxm];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u , <span class="hljs-keyword">int</span> v , <span class="hljs-keyword">int</span> w)</span></span><br><span class="hljs-function"></span>&#123;<br>    Edge[cnt].to = v;<br>    Edge[cnt].w = w;<br>    Edge[cnt].last = head[u];<br>    head[u] = cnt++;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> u;<br>    <span class="hljs-keyword">int</span> w;<br>    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span> &lt; (<span class="hljs-keyword">const</span> node &amp;res)<span class="hljs-keyword">const</span><br>    &#123;<br>        <span class="hljs-keyword">return</span> w &gt; res.w;<br>    &#125;<br>    node (<span class="hljs-keyword">int</span> _u , <span class="hljs-keyword">int</span> _w)<br>    &#123;<br>        u = _u;<br>        w = _w;<br>    &#125;<br>&#125;;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">spfa</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">queue</span>&lt;<span class="hljs-keyword">int</span>&gt; q;<br>    dis[s] = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(vis , <span class="hljs-literal">false</span> , <span class="hljs-keyword">sizeof</span>(vis));<br>    <span class="hljs-built_in">memset</span>(ln , <span class="hljs-number">0</span> , <span class="hljs-keyword">sizeof</span>(ln));<br>    <span class="hljs-built_in">memset</span>(dis , inf , <span class="hljs-keyword">sizeof</span>(dis));<br>    dis[s] = <span class="hljs-number">0</span>;<br>    q.push(s);<br>    vis[s] = <span class="hljs-literal">true</span>;<br>    ln[s] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span> (!q.empty())<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = q.front();<br>        q.pop();<br>        vis[u] = <span class="hljs-literal">false</span>;<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = head[u]; i != <span class="hljs-number">-1</span>; i = Edge[i].last)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = Edge[i].to;<br>            <span class="hljs-keyword">int</span> w = Edge[i].w;<br>            <span class="hljs-keyword">if</span> (dis[u] + w &lt; dis[v])<br>            &#123;<br>                dis[v] = dis[u] + w;<br>                <span class="hljs-keyword">if</span> (!vis[v])<br>                &#123;<br>                    vis[v] = <span class="hljs-literal">true</span>;<br>                    ln[v]++;<br>                    q.push(v);<br>                    <span class="hljs-keyword">if</span> (ln[v] &gt;= n)<br>                        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//ios_base::sync_with_stdio(0);</span><br>    <span class="hljs-keyword">int</span> t;<br>    <span class="hljs-comment">//cin &gt;&gt; t;</span><br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;t);<br>    <span class="hljs-keyword">while</span> (t--)<br>    &#123;<br>        <span class="hljs-comment">//cin &gt;&gt; n &gt;&gt; m;</span><br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span> , &amp;n , &amp;acfun , &amp;bilibili);<br>        <span class="hljs-keyword">int</span> u , v , w;<br>        init();<br>        <span class="hljs-comment">//è®¾åŸç‚¹s = 0;æ±‡ç‚¹t = n + 1;</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>        &#123;<br>            <span class="hljs-keyword">int</span> k;<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;k);<br>            <span class="hljs-keyword">int</span> t;<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;t);<br>            add(i , t , <span class="hljs-number">0</span>);                 <span class="hljs-comment">//é»˜è®¤å‡ºå£</span><br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">2</span>; j &lt;= k; j++)<br>            &#123;<br>                <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span> , &amp;t);           <span class="hljs-comment">//ä¼šè¢«æ‰¹è¯„çš„å‡ºå£</span><br>                add(i , t , <span class="hljs-number">1</span>);<br>            &#125;<br>        &#125;<br><br>        spfa(acfun);<br><br>        <span class="hljs-keyword">if</span> (dis[bilibili] != inf)<br>            <span class="hljs-comment">//cout &lt;&lt; dis[n] &lt;&lt; endl;</span><br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span> , dis[bilibili]);<br>        <span class="hljs-keyword">else</span><br>            <span class="hljs-comment">//cout &lt;&lt; &quot;averyboynb&quot; &lt;&lt; endl;</span><br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;averyboynb\n&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<p>å­¦é•¿çš„ä»£ç :</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">100</span> + <span class="hljs-number">10</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxe = <span class="hljs-number">10000</span> + <span class="hljs-number">10</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">int</span> N, A, B;<br><span class="hljs-keyword">int</span> dis[maxn];<br><span class="hljs-keyword">int</span> cnt;<br><span class="hljs-keyword">int</span> head[maxn];<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span>&#123;</span><br>    <span class="hljs-keyword">int</span> to, w, last;<br>&#125;Edge[maxe&lt;&lt;<span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    cnt = <span class="hljs-number">1</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span>(head));<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> w)</span></span><br><span class="hljs-function"></span>&#123;<br>    Edge[cnt].to = v;<br>    Edge[cnt].w = w;<br>    Edge[cnt].last = head[u];<br>    head[u] = cnt++;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span>&#123;</span><br>    <span class="hljs-keyword">int</span> u, w;<br>    node(<span class="hljs-keyword">int</span> _u, <span class="hljs-keyword">int</span> _w)&#123;<br>        u = _u;<br>        w = _w;<br>    &#125;<br>    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span> &lt;(<span class="hljs-keyword">const</span> node &amp;res) <span class="hljs-keyword">const</span>&#123;<br>        <span class="hljs-keyword">return</span> w &gt; res.w;<br>    &#125;<br>&#125;;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">Dijkstra</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> t)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= N; i++) dis[i] = inf;<br>    <span class="hljs-built_in">priority_queue</span>&lt;node&gt; q;<br>    dis[s] = <span class="hljs-number">0</span>;<br>    q.push(node(s, <span class="hljs-number">0</span>));<br>    <span class="hljs-keyword">while</span>(!q.empty())<br>    &#123;<br>        node nx = q.top();<br>        q.pop();<br>        <span class="hljs-keyword">int</span> u = nx.u;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; i != <span class="hljs-number">-1</span>; i = Edge[i].last)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = Edge[i].to;<br>            <span class="hljs-keyword">int</span> w = Edge[i].w;<br>            <span class="hljs-keyword">if</span>(dis[u] + w &lt; dis[v])<br>            &#123;<br>                dis[v] = dis[u] + w;<br>                q.push(node(v, dis[v]));<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> dis[t];<br><br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    freopen(<span class="hljs-string">&quot;data.in&quot;</span>, <span class="hljs-string">&quot;r&quot;</span>, <span class="hljs-built_in">stdin</span>);<br>    freopen(<span class="hljs-string">&quot;data.out&quot;</span>, <span class="hljs-string">&quot;w&quot;</span>, <span class="hljs-built_in">stdout</span>);<br>    <span class="hljs-keyword">int</span> T;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;T);<br>    <span class="hljs-keyword">while</span>(T--)<br>    &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>, &amp;N, &amp;A, &amp;B);<br>        init();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= N; i++)<br>        &#123;<br>            <span class="hljs-keyword">int</span> k, x;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;k);<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= k; j++)<br>            &#123;<br>                <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;x);<br>                <span class="hljs-keyword">if</span>(j == <span class="hljs-number">1</span>) add(i, x, <span class="hljs-number">0</span>);<br>                <span class="hljs-keyword">else</span> add(i, x, <span class="hljs-number">1</span>);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">int</span> ans = Dijkstra(A, B);<br>        <span class="hljs-keyword">if</span>(ans &gt;= inf) <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;averyboynb\n&quot;</span>);<br>        <span class="hljs-keyword">else</span> <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, ans);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<h2 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h2><p><a href="http://www.cnblogs.com/chenxiwenruo/p/4513754.html">ä¸€ä¸ªå¤§ä½¬çš„æ¨¡æ¿,,,</a></p>
<p>æ²¡äº†ï¼Œï¼Œï¼Œå‡æœŸå†çœ‹ä¸€éçœ‹èƒ½å†è¡¥äº›å•¥ï¼Œï¼Œï¼Œï¼Œ</p>
]]></content>
      <tags>
        <tag>acm</tag>
        <tag>ç®—æ³•</tag>
        <tag>å›¾è®º</tag>
      </tags>
  </entry>
  <entry>
    <title>ACM-ç½‘ç»œæµ-ç½‘ç»œæµ24é¢˜</title>
    <url>/2019/08/04/ACM-%E7%BD%91%E7%BB%9C%E6%B5%81-%E7%BD%91%E7%BB%9C%E6%B5%8124%E9%A2%98/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p><a href="https://loj.ac/problems/tag/30,6">æ‰€æœ‰é¢˜ç›®</a></p>
<p><a href="https://www.cnblogs.com/xseventh/p/7912202.html">å‚è€ƒ</a></p>
<p>æ›¾ç»æ”¾å¼ƒçš„ç½‘ç»œæµï¼Œï¼Œæ²¡æƒ³åˆ°å‰æœŸçš„å¤šæ ¡æ¯æ¬¡éƒ½æ˜¯ä¸€é“ç­¾åˆ°é¢˜ï¼Œï¼Œï¼Œemmmmmï¼Œï¼Œï¼Œï¼Œä¸å¾—ä¸å»è¡¥ä¸€ä¸‹è¿™äº›ç»å…¸çš„ç½‘ç»œæµæ¨¡å‹ï¼Œï¼Œï¼Œ</p>
<p>å›¾è®ºé¢˜å¤§å¤šæ•°éƒ½æ˜¯ä»¥å»ºå›¾ä¸ºä¸»ï¼Œï¼Œå»ºå›¾çš„ä¸€å¤§éƒ¨åˆ†éƒ½æ˜¯ä¾é å·²æœ‰çš„æ¨¡å‹æ¥æå¾—ï¼Œï¼Œï¼Œ</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">é¢˜ç›®</th>
<th style="text-align:center">æ¨¡å‹</th>
<th style="text-align:center">è½¬åŒ–æ¨¡å‹</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">æ­é…é£è¡Œå‘˜</td>
<td style="text-align:center">äºŒåˆ†å›¾æœ€å¤§åŒ¹é…</td>
<td style="text-align:center">æœ€å¤§æµ</td>
</tr>
<tr>
<td style="text-align:center">å¤ªç©ºé£è¡Œè®¡åˆ’</td>
<td style="text-align:center">æœ€å¤§æƒé—­åˆå­å›¾</td>
<td style="text-align:center">æœ€å¤§æµæœ€å°å‰²</td>
</tr>
<tr>
<td style="text-align:center">æœ€å°è·¯å¾„è¦†ç›–</td>
<td style="text-align:center">æœ‰å‘æ— ç¯å›¾çš„æœ€å°è·¯å¾„è¦†ç›–</td>
<td style="text-align:center">æ‹†ç‚¹ã€æœ€å¤§æµ</td>
</tr>
<tr>
<td style="text-align:center">é­”æœ¯çƒ</td>
<td style="text-align:center">æœ‰å‘æ— ç¯å›¾çš„æœ€å°è·¯å¾„è¦†ç›–</td>
<td style="text-align:center">æ‹†ç‚¹ã€æœ€å¤§æµæˆ–è´ªå¿ƒ</td>
</tr>
<tr>
<td style="text-align:center">åœ†æ¡Œèšé¤</td>
<td style="text-align:center">äºŒåˆ†å›¾å¤šé‡åŒ¹é…</td>
<td style="text-align:center">æœ€å¤§æµ</td>
</tr>
<tr>
<td style="text-align:center">æœ€é•¿é€’å¢å­åºåˆ—é—®é¢˜</td>
<td style="text-align:center">æœ€å¤šä¸ç›¸äº¤è·¯å¾„</td>
<td style="text-align:center">ç½‘ç»œæœ€å¤§æµ</td>
</tr>
<tr>
<td style="text-align:center">è¯•é¢˜åº“</td>
<td style="text-align:center">äºŒåˆ†å›¾å¤šé‡åŒ¹é…</td>
<td style="text-align:center">ç½‘ç»œæœ€å¤§æµ</td>
</tr>
<tr>
<td style="text-align:center">æ–¹æ ¼å–æ•°é—®é¢˜</td>
<td style="text-align:center">äºŒåˆ†å›¾ç‚¹æƒæœ€å¤§ç‹¬ç«‹é›†</td>
<td style="text-align:center">ç½‘ç»œæœ€å°å‰²</td>
</tr>
<tr>
<td style="text-align:center">æ•°å­—æ¢¯å½¢é—®é¢˜</td>
<td style="text-align:center">æœ€å¤§æƒä¸ç›¸äº¤è·¯å¾„</td>
<td style="text-align:center">æœ€å°è´¹ç”¨æœ€å¤§æµ</td>
</tr>
</tbody>
</table>
</div>
<span id="more"></span>
<h1 id="æ­é…é£è¡Œå‘˜"><a href="#æ­é…é£è¡Œå‘˜" class="headerlink" title="æ­é…é£è¡Œå‘˜"></a><a href="https://loj.ac/problem/6000">æ­é…é£è¡Œå‘˜</a></h1><p><a href="https://loj.ac/problem/6000">æ­é…é£è¡Œå‘˜</a></p>
<p>ç½‘ç»œæµæ‹†ç‚¹å»ºå›¾æˆ–è€…äºŒåˆ†å›¾æœ€å¤§åŒ¹é…</p>
<p>ps: ç½‘ç»œæµçš„å¤æ‚åº¦çœŸæ˜¯ $O(ç„å­¦)$ ï¼Œï¼ŒæŸäº›é¢˜æœ€å¿«çš„æ¿å­æœ‰æ—¶è´¼æ…¢ï¼Œï¼Œ</p>
<h2 id="ç½‘ç»œæµHLPP"><a href="#ç½‘ç»œæµHLPP" class="headerlink" title="ç½‘ç»œæµHLPP"></a>ç½‘ç»œæµHLPP</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-7</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">int</span> MAXN, <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">T</span> =</span> <span class="hljs-keyword">int</span>&gt;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">HLPP</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">const</span> T INF = numeric_limits&lt;T&gt;::max();<br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">    &#123;</span><br>        <span class="hljs-keyword">int</span> to, nxt;<br>        T flow;<br>        edge(<span class="hljs-keyword">int</span> _to, <span class="hljs-keyword">int</span> _nxt, T _flow):to(_to), nxt(_nxt), flow(_flow)&#123;&#125;<br>    &#125;;<br>    <span class="hljs-keyword">int</span> s = MAXN - <span class="hljs-number">1</span>, t = MAXN - <span class="hljs-number">2</span>;<br>    <span class="hljs-built_in">vector</span>&lt;edge&gt; g[MAXN];<br>    <span class="hljs-built_in">deque</span>&lt;<span class="hljs-keyword">int</span>&gt; lst[MAXN];<br>    <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; gap[MAXN];<br>    <span class="hljs-keyword">int</span> ptr[MAXN];<br>    T excess[MAXN];<br>    <span class="hljs-keyword">int</span> highest, height[MAXN], cnt[MAXN], work;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, T flow, <span class="hljs-keyword">bool</span> isDirected = <span class="hljs-literal">true</span>)</span></span><br><span class="hljs-function">    </span>&#123;<br>        g[u].push_back(edge(v, g[v].size(), flow));<br>        g[v].push_back(edge(u, g[u].size() - <span class="hljs-number">1</span>, isDirected ? <span class="hljs-number">0</span> : flow));<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">upHeight</span><span class="hljs-params">(<span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> nh)</span></span><br><span class="hljs-function">    </span>&#123;<br>        ++work;<br>        <span class="hljs-keyword">if</span>(height[v] != MAXN)--cnt[height[v]];<br>        height[v] = nh;<br>        <span class="hljs-keyword">if</span>(nh == MAXN) <span class="hljs-keyword">return</span>;<br>        ++cnt[nh]; highest = nh;<br>        gap[nh].push_back(v);<br>        <span class="hljs-keyword">if</span>(excess[v] &gt; <span class="hljs-number">0</span>)lst[nh].push_back(v), ++ptr[nh];<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">globalRelabel</span><span class="hljs-params">()</span></span><br><span class="hljs-function">    </span>&#123;<br>        work = <span class="hljs-number">0</span>;<br>        fill(begin(height), end(height), MAXN);<br>        fill(begin(cnt), end(cnt), <span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= highest; ++i)lst[i].clear(), gap[i].clear();<br>        height[t] = <span class="hljs-number">0</span>;<br>        <span class="hljs-function"><span class="hljs-built_in">queue</span>&lt;<span class="hljs-keyword">int</span>&gt; <span class="hljs-title">q</span><span class="hljs-params">(&#123;t&#125;)</span></span>;<br>        <span class="hljs-keyword">while</span>(!q.empty())<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = q.front(); q.pop();<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> &amp;e: g[v])<br>                <span class="hljs-keyword">if</span>(height[e.to] == MAXN &amp;&amp; g[e.to][e.nxt].flow &gt; <span class="hljs-number">0</span>)<br>                    q.push(e.to), upHeight(e.to, height[v] + <span class="hljs-number">1</span>);<br>            highest = height[v];<br>        &#125;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">push</span><span class="hljs-params">(<span class="hljs-keyword">int</span> v, edge &amp;e)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">if</span>(excess[e.to] == <span class="hljs-number">0</span>)lst[height[e.to]].push_back(e.to), ++ptr[height[e.to]];<br>        T df = min(excess[v], e.flow);<br>        e.flow -= df; g[e.to][e.nxt].flow += df;<br>        excess[v] -= df; excess[e.to] += df;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">discharge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">int</span> nh = MAXN;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> &amp;e: g[v])<br>        &#123;<br>            <span class="hljs-keyword">if</span>(e.flow &gt; <span class="hljs-number">0</span>)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(height[v] == height[e.to] + <span class="hljs-number">1</span>)<br>                &#123;<br>                    push(v, e);<br>                    <span class="hljs-keyword">if</span>(excess[v] &lt;= <span class="hljs-number">0</span>)<span class="hljs-keyword">return</span>;<br>                &#125;<br>                <span class="hljs-keyword">else</span><br>                    nh = min(nh, height[e.to] + <span class="hljs-number">1</span>);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(cnt[height[v]] &gt; <span class="hljs-number">1</span>)upHeight(v, nh);<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = height[v]; i &lt; MAXN; ++i)<br>            &#123;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> j: gap[i])upHeight(j, MAXN);<br>                gap[i].clear(); ptr[i] = <span class="hljs-number">0</span>;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-function">T <span class="hljs-title">MaxFlow</span><span class="hljs-params">(<span class="hljs-keyword">int</span> heur_n = MAXN)</span></span><br><span class="hljs-function">    </span>&#123;<br>        fill(begin(excess), end(excess), <span class="hljs-number">0</span>);<br>        excess[s] = INF; excess[t] = -INF;<br>        globalRelabel();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> &amp;e: g[s])push(s, e);<br>        <span class="hljs-keyword">for</span>(; highest &gt;= <span class="hljs-number">0</span>; --highest)<br>        &#123;<br>            <span class="hljs-keyword">while</span>(!lst[highest].empty())<br>            &#123;<br>                <span class="hljs-keyword">int</span> v = lst[highest].back();<br>                lst[highest].pop_back();<br>                discharge(v);<br>                <span class="hljs-keyword">if</span>(work &gt; heur_n &lt;&lt; <span class="hljs-number">2</span>)globalRelabel();<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> excess[t] + INF;<br>    &#125;<br>&#125;;<br>HLPP&lt;maxn, <span class="hljs-keyword">int</span>&gt; hlpp;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>  <br>    <span class="hljs-keyword">int</span> n, m; <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m;<br>    <span class="hljs-keyword">int</span> s = <span class="hljs-number">0</span>, t = n &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>;<br>    hlpp.s = s; hlpp.t = t;<br>    <span class="hljs-keyword">int</span> u, v;<br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">cin</span> &gt;&gt; u &gt;&gt; v)<br>    &#123;<br>        hlpp.addedge(s, u, <span class="hljs-number">1</span>);<br>        hlpp.addedge(u + n, v, <span class="hljs-number">1</span>);<br>        hlpp.addedge(v + n, t, <span class="hljs-number">1</span>);<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)hlpp.addedge(i, i + n, <span class="hljs-number">1</span>);<br>    <span class="hljs-built_in">cout</span> &lt;&lt; hlpp.MaxFlow() &lt;&lt; <span class="hljs-built_in">endl</span>;<br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="äºŒåˆ†å›¾hungary"><a href="#äºŒåˆ†å›¾hungary" class="headerlink" title="äºŒåˆ†å›¾hungary"></a>äºŒåˆ†å›¾hungary</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-7</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">egde</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt;<br>&#125;edge[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, head[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].nxt = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-keyword">int</span> linker[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">bool</span> used[maxn];<br><span class="hljs-keyword">int</span> un;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>    &#123;<br>        <span class="hljs-keyword">int</span> v = edge[i].to;<br>        <span class="hljs-keyword">if</span>(!used[v])<br>        &#123;<br>            used[v] = <span class="hljs-literal">true</span>;<br>            <span class="hljs-keyword">if</span>(linker[v] == <span class="hljs-number">-1</span> || dfs(linker[v]))<br>            &#123;<br>                linker[v] = u;<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">hungary</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> res = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(linker, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> linker);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> u = <span class="hljs-number">0</span>; u &lt; un; ++u)<br>    &#123;<br>        <span class="hljs-built_in">memset</span>(used, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> used);<br>        <span class="hljs-keyword">if</span>(dfs(u))++res;<br>    &#125;<br>    <span class="hljs-keyword">return</span> res;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>  <br>    <span class="hljs-keyword">int</span> n, m; <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m;<br>    un = n;<br>    init();<br>    <span class="hljs-keyword">int</span> u, v;<br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">cin</span> &gt;&gt; u &gt;&gt; v)addedge(u - <span class="hljs-number">1</span>, v - <span class="hljs-number">1</span>);<br>    <span class="hljs-built_in">cout</span> &lt;&lt; hungary() &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="å¤ªç©ºé£è¡Œè®¡åˆ’"><a href="#å¤ªç©ºé£è¡Œè®¡åˆ’" class="headerlink" title="å¤ªç©ºé£è¡Œè®¡åˆ’"></a><a href="https://loj.ac/problem/6001">å¤ªç©ºé£è¡Œè®¡åˆ’</a></h1><p><a href="https://loj.ac/problem/6001">å¤ªç©ºé£è¡Œè®¡åˆ’</a></p>
<p>æœ€å¤§æƒé—­åˆå­å›¾æ¨¡æ¿é¢˜ï¼Œï¼Œ</p>
<p>è™½ç„¶å¾ˆæ—©ä¹‹å‰åšè¿‡æœ€å¤§æƒé—­åˆå­å›¾çš„é¢˜ï¼Œï¼Œä½†æ˜¯å½“æ—¶åªæ˜¯ç¡¬å‡ ç»„äº†å½“æ—¶é‚£å‡ é“é¢˜çš„æ¨¡å‹ï¼š æºç‚¹è¿çš„ç‚¹æ˜¯æ­£ç‚¹ï¼Œï¼Œæ±‡ç‚¹è¿çš„è¾¹æ˜¯è´Ÿç‚¹ï¼Œï¼Œç„¶åä¸­é—´çš„ç‚¹çš„å®¹é‡æ˜¯æ­£æ— ç©·ï¼Œï¼Œï¼Œè·‘æœ€å¤§æµæœ€å°å‰²ï¼Œï¼Œç­”æ¡ˆå°±æ˜¯æ­£ç‚¹å’Œå’Œå‡å»æœ€å¤§æµï¼Œï¼Œï¼Œé¢˜Aäº†ä¹‹åå°±ä¸äº†äº†ä¹‹äº†ï¼Œï¼Œè²Œä¼¼å½“æ—¶ä¹Ÿå°±æ”¾å¼ƒäº†ç½‘ç»œæµï¼Œï¼Œï¼Œå»å¼„åˆ«çš„äº†ï¼Œï¼Œï¼Œ</p>
<p>è¿™æ¬¡å†åšè¿™ç§æ¨¡å‹çš„é¢˜æ—¶ï¼Œï¼Œï¼Œè™½ç„¶çŸ¥é“æ˜¯è¿™ä¸ªæ¨¡å‹ï¼Œï¼Œæœ€åå»ºå‡ºçš„å›¾ä¹Ÿæ˜¯ä¸Šé¢çš„æ€è·¯ï¼Œï¼Œä½†æ˜¯å°±æ˜¯ä¸çŸ¥é“æ€ä¹ˆå»ºï¼Œï¼Œï¼Œé—®é¢˜ä¸èƒ½æŠ½è±¡å‡ºæ¥ï¼Œï¼Œ</p>
<p>åæ¥åœ¨æ´›è°·å’Œ<a href="https://codeforces.com/blog/entry/63544">cfçš„Gé¢˜é¢˜è§£</a>çœ‹åˆ°äº†ä¸€ä¸ªå…³äºè¿™æ¨¡å‹ç®€å•ç†è§£ï¼šæƒ³åƒè¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼Œï¼Œæœ‰ä¸€äº›å·¥ç¨‹ï¼Œæ¯å®Œæˆä¸€ä¸ªå·¥ç¨‹éƒ½å¯ä»¥è·å¾—ä¸€å®šçš„æ”¶ç›Šï¼Œï¼Œè€Œæ¯ä¸€ä¸ªå·¥ç¨‹éœ€è¦ä¸€äº›å·¥å…·æ‰èƒ½å®Œæˆï¼Œï¼Œæ¯è´­ä¹°ä¸€ä¸ªå·¥å…·ä¼šæœ‰ä¸€ä¸ªèŠ±è´¹ï¼Œï¼Œç„¶åé—®ä½ é€‰æ‹©ä¸€äº›å·¥ç¨‹ä»¥åŠè´­ä¹°ç›¸åº”çš„å·¥å…·åçš„æœ€å¤§æ”¶ç›Šï¼Œï¼Œï¼Œæ˜¾ç„¶æ”¶ç›Šçš„å€¼æ˜¯æ­£çš„ï¼Œï¼Œä¹Ÿå°±å¯¹åº”ä¸Šé¢çš„æ­£ç‚¹ï¼Œï¼Œè´­ä¹°å·¥å…·çš„èŠ±è´¹æ˜¯è´Ÿçš„ï¼Œï¼Œå¯¹åº”çš„å°±æ˜¯è´Ÿç‚¹ï¼Œï¼Œæ¯ä¸€é¡¹å·¥ç¨‹é‡Œæ‰€éœ€çš„å·¥å…·è¿è¾¹ä¸ºæ— ç©·ï¼Œï¼Œè¿™æ ·å°±å»ºå‡ºä¸€ä¸ªå·¦è¾¹æ˜¯ä¸€æ’å·¥ç¨‹ï¼Œå³è¾¹æ˜¯æ‰€æœ‰çš„å·¥å…·çš„å›¾ï¼Œï¼Œ</p>
<p><img src="https://cdn.luogu.org/upload/pic/21712.png" alt=""></p>
<p>ä¸ºä»€ä¹ˆè¦è·‘æœ€å¤§æµå‘¢ï¼Œï¼Œï¼Œæœ€å¤§æµç­‰äºæœ€å°å‰²ï¼Œï¼Œæœ€å°å‰²ä¹Ÿå°±æ˜¯ç æ‰ä¸€äº›è¾¹ç”¨æœ€å°çš„èŠ±è´¹æ¥ä½¿æºæ±‡ç‚¹å¤„äºä¸¤ä¸ªä¸ç›¸äº¤çš„é›†åˆï¼Œï¼Œï¼Œè¿™æ ·æˆ‘ä»¬ç›¸å½“äºæœ€åçš„æœ€ä¼˜è§£å°±æ˜¯Sç‚¹é›†çš„å·¥ç¨‹ä»¥åŠå¯¹åº”çš„å·¥å…·ï¼Œï¼Œï¼Œæœ€å°å‰²å‰²é›†ä¸­ä¸€éƒ¨åˆ†æ˜¯ä¸¢å¼ƒçš„å·¥ç¨‹ä¸€éƒ¨åˆ†æ˜¯é€‰æ‹©çš„å·¥å…·ï¼Œï¼Œè¿™æ ·ç”¨æ‰€æœ‰å¯èƒ½çš„æ”¶ç›Šï¼Œï¼Œä¹Ÿå°±æ˜¯å·¥ç¨‹çš„è¾¹æƒå’Œå‡å»æœ€å°å‰²å°±æ˜¯æœ€åçš„æœ€å¤§çš„æ”¶ç›Šï¼Œï¼Œï¼Œ</p>
<p>è‡³äºæ€ä¹ˆæ±‚Sé›†ä¸­çš„ç‚¹ï¼Œï¼Œdinicç­‰å¢å¹¿è·¯ç®—æ³•ä¸­å¯ä»¥åœ¨éå†ä¸€éæ®‹ç•™ç½‘ç»œï¼Œï¼Œèƒ½ä»såˆ°è¾¾çš„ç‚¹å°±æ˜¯Sé›†ï¼Œï¼Œï¼Œå¯¹äºhlppè¿™æ ·çš„ç®—æ³•åº”è¯¥æ˜¯å’Œæºç‚¹é«˜åº¦ç›¸åŒçš„ç‚¹å³ä¸ºSé›†åˆçš„ç‚¹ï¼Œï¼Œï¼ˆè‡³äºä¸ºä»€ä¹ˆï¼Œï¼Œæˆ‘ä¹Ÿæ²¡æ³•è¯æ˜ï¼Œï¼Œï¼Œåªæ˜¯æ ¹æ®æˆ‘å¯¹hlppå’Œå¢å¹¿è·¯ç®—æ³•ä¸­depæ•°ç»„çš„ç†è§£è¯•äº†ä¸€ä¸‹ï¼Œï¼Œç„¶åæ ·ä¾‹è¿‡äº†ï¼Œï¼Œäº¤ä¸Šå»ä¹Ÿæ²¡é—®é¢˜å°±è¿™æ ·ç”¨äº†ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> pb push_back</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-7</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e2</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">int</span> MAXN, <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">T</span> =</span> <span class="hljs-keyword">int</span>&gt;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">HLPP</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">const</span> T INF = numeric_limits&lt;T&gt;::max();<br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">    &#123;</span><br>        <span class="hljs-keyword">int</span> to, nxt;<br>        T flow;<br>        edge(<span class="hljs-keyword">int</span> _to, <span class="hljs-keyword">int</span> _nxt, T _flow):to(_to), nxt(_nxt), flow(_flow)&#123;&#125;<br>    &#125;;<br>    <span class="hljs-keyword">int</span> s = MAXN - <span class="hljs-number">1</span>, t = MAXN - <span class="hljs-number">2</span>;<br>    <span class="hljs-built_in">vector</span>&lt;edge&gt; g[MAXN];<br>    <span class="hljs-built_in">deque</span>&lt;<span class="hljs-keyword">int</span>&gt; lst[MAXN];<br>    <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; gap[MAXN];<br>    <span class="hljs-keyword">int</span> ptr[MAXN];<br>    T excess[MAXN];<br>    <span class="hljs-keyword">int</span> highest, height[MAXN], cnt[MAXN], work;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, T flow, <span class="hljs-keyword">bool</span> isDirected = <span class="hljs-literal">true</span>)</span></span><br><span class="hljs-function">    </span>&#123;<br>        g[u].push_back(edge(v, g[v].size(), flow));<br>        g[v].push_back(edge(u, g[u].size() - <span class="hljs-number">1</span>, isDirected ? <span class="hljs-number">0</span> : flow));<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">upHeight</span><span class="hljs-params">(<span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> nh)</span></span><br><span class="hljs-function">    </span>&#123;<br>        ++work;<br>        <span class="hljs-keyword">if</span>(height[v] != MAXN)--cnt[height[v]];<br>        height[v] = nh;<br>        <span class="hljs-keyword">if</span>(nh == MAXN)<span class="hljs-keyword">return</span>;<br>        ++cnt[nh]; highest = nh;<br>        gap[nh].push_back(v);<br>        <span class="hljs-keyword">if</span>(excess[v] &gt; <span class="hljs-number">0</span>)lst[nh].push_back(v), ++ptr[nh];<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">globalRelabel</span><span class="hljs-params">()</span></span><br><span class="hljs-function">    </span>&#123;<br>        work = <span class="hljs-number">0</span>;<br>        fill(begin(height), end(height), MAXN);<br>        fill(begin(cnt), end(cnt), <span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= highest; ++i)lst[i].clear(), gap[i].clear();<br>        height[t] = <span class="hljs-number">0</span>;<br>        <span class="hljs-function"><span class="hljs-built_in">queue</span>&lt;<span class="hljs-keyword">int</span>&gt; <span class="hljs-title">q</span><span class="hljs-params">(&#123;t&#125;)</span></span>;<br>        <span class="hljs-keyword">while</span>(!q.empty())<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = q.front(); q.pop();<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> &amp;e: g[v])<br>                <span class="hljs-keyword">if</span>(height[e.to] == MAXN &amp;&amp; g[e.to][e.nxt].flow &gt; <span class="hljs-number">0</span>)<br>                    q.push(e.to), upHeight(e.to, height[v] + <span class="hljs-number">1</span>);<br>            highest = height[v];<br>        &#125;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">push</span><span class="hljs-params">(<span class="hljs-keyword">int</span> v, edge &amp;e)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">if</span>(excess[e.to] == <span class="hljs-number">0</span>)lst[height[e.to]].push_back(e.to), ++ptr[height[e.to]];<br>        T df = min(excess[v], e.flow);<br>        e.flow -= df; g[e.to][e.nxt].flow += df;<br>        excess[v] -= df; excess[e.to] += df;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">discharge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">int</span> nh = MAXN;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> &amp;e: g[v])<br>        &#123;<br>            <span class="hljs-keyword">if</span>(e.flow &gt; <span class="hljs-number">0</span>)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(height[v] == height[e.to] + <span class="hljs-number">1</span>)<br>                &#123;<br>                    push(v, e);<br>                    <span class="hljs-keyword">if</span>(excess[v] &lt;= <span class="hljs-number">0</span>)<span class="hljs-keyword">return</span>;<br>                &#125;<br>                <span class="hljs-keyword">else</span><br>                    nh = min(nh, height[e.to] + <span class="hljs-number">1</span>);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(cnt[height[v]] &gt; <span class="hljs-number">1</span>)upHeight(v, nh);<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = height[v]; i &lt; MAXN; ++i)<br>            &#123;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> j: gap[i])upHeight(j, MAXN);<br>                gap[i].clear(); ptr[i] = <span class="hljs-number">0</span>;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-function">T <span class="hljs-title">MaxFlow</span><span class="hljs-params">(<span class="hljs-keyword">int</span> heur_n = MAXN)</span></span><br><span class="hljs-function">    </span>&#123;<br>        fill(begin(excess), end(excess), <span class="hljs-number">0</span>);<br>        excess[s] = INF; excess[t] = -INF;<br>        globalRelabel();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> &amp;e: g[s])push(s, e);<br>        <span class="hljs-keyword">for</span>(; highest &gt;= <span class="hljs-number">0</span>; --highest)<br>        &#123;<br>            <span class="hljs-keyword">while</span>(!lst[highest].empty())<br>            &#123;<br>                <span class="hljs-keyword">int</span> v = lst[highest].back();<br>                lst[highest].pop_back();<br>                discharge(v);<br>                <span class="hljs-keyword">if</span>(work &gt; heur_n &lt;&lt; <span class="hljs-number">2</span>)globalRelabel();<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> excess[t] + INF;<br>    &#125;<br>    <span class="hljs-comment">//hlppæ±‚å‰²é›†åˆ¤æ–­heightæ•°ç»„æ˜¯å¦å’Œæºç‚¹çš„å€¼ç›¸ç­‰å³å¯ï¼Œï¼Œï¼ˆå¾…ç¡®è®¤</span><br>&#125;;<br><br>HLPP&lt;maxn, <span class="hljs-keyword">int</span>&gt; hlpp;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    <span class="hljs-comment">// ios_base::sync_with_stdio(0);</span><br>    <span class="hljs-comment">// cin.tie(0);cout.tie(0);</span><br>  <br>    <span class="hljs-keyword">int</span> m, n; <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;m, &amp;n);<br>    hlpp.s = <span class="hljs-number">0</span>; hlpp.t = n + m + <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">int</span> sum = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>    &#123;<br>        <span class="hljs-keyword">int</span> w, u;<br>        <span class="hljs-keyword">char</span> ch;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;w);<br>        hlpp.addedge(hlpp.s, i, w);<br>        sum += w;<br>        <span class="hljs-keyword">while</span>(<span class="hljs-literal">true</span>)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%c&quot;</span>, &amp;u, &amp;ch);<br>            hlpp.addedge(i, m + u, inf);<br>            <span class="hljs-keyword">if</span>(ch == <span class="hljs-string">&#x27;\n&#x27;</span> || ch == <span class="hljs-string">&#x27;\r&#x27;</span>)<span class="hljs-keyword">break</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>    &#123;<br>        <span class="hljs-keyword">int</span> w;<span class="hljs-built_in">cin</span> &gt;&gt; w;<br>        hlpp.addedge(i + m, hlpp.t, w);<br>    &#125;<br>    sum -= hlpp.MaxFlow();<br>    <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; ans1, ans2;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<span class="hljs-keyword">if</span>(hlpp.height[i] == hlpp.height[hlpp.s])ans1.push_back(i);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-keyword">if</span>(hlpp.height[i + m] == hlpp.height[hlpp.s])ans2.push_back(i);<br>    <span class="hljs-keyword">if</span>(ans1.size())<br>    &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, ans1[<span class="hljs-number">0</span>]);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; ans1.size(); ++i)<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; %d&quot;</span>, ans1[i]);<br>        <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">if</span>(ans2.size())<br>    &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, ans2[<span class="hljs-number">0</span>]);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; ans2.size(); ++i)<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; %d&quot;</span>, ans2[i]);<br>        <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;&quot;</span>);<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, sum);<br>    <br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="æœ€å°è·¯å¾„è¦†ç›–"><a href="#æœ€å°è·¯å¾„è¦†ç›–" class="headerlink" title="æœ€å°è·¯å¾„è¦†ç›–"></a><a href="https://loj.ac/problem/6002">æœ€å°è·¯å¾„è¦†ç›–</a></h1><p><a href="https://loj.ac/problem/6002">æœ€å°è·¯å¾„è¦†ç›–</a></p>
<p>ä¹‹å‰å‡†å¤‡å­¦äºŒåˆ†å›¾ä»¥åŠç›¸å…³çš„çŸ¥è¯†ç‚¹ï¼Œï¼Œç„¶åå› ä¸ºä¸€äº›æ—¶é—´åŸå› æ”¾å¼ƒäº†ï¼Œï¼Œï¼Œï¼Œ</p>
<p>è¿™é“æ˜¯äºŒåˆ†å›¾ä¸­çš„ä¸€ä¸ªæ¦‚å¿µï¼š æœ€å°è·¯å¾„è¦†ç›–ï¼Œï¼Œ</p>
<p>æœ€å°è·¯å¾„è¦†ç›–æŒ‡çš„æ˜¯ç»™ä½ ä¸€å¼ å›¾ï¼Œï¼Œç„¶åå¯¹äºä¸€äº›ç®€å•è·¯çš„é›†åˆPï¼Œï¼Œï¼Œå¦‚æœè¿™ä¸ªé›†åˆä¸­æ¯ä¸€æ¡è·¯å¾„çš„ç‚¹çš„é›†åˆæ­£å¥½å°±æ˜¯åŸå›¾çš„ç‚¹é›†çš„è¯ï¼Œï¼Œï¼Œå°±è¯´è¿™ä¸ªPæ˜¯è¿™ä¸ªå›¾çš„ä¸€ä¸ªè·¯å¾„è¦†ç›–ï¼Œï¼Œç„¶åè·¯å¾„æ•°æœ€å°‘çš„ä¸€ä¸ªPå°±ç§°ä¸º æœ€å°è·¯å¾„è¦†ç›–ï¼Œï¼Œï¼Œ</p>
<p>åœ¨äºŒåˆ†å›¾çš„å­¦ä¹ ä¸­ï¼Œï¼Œæœ‰è¿™ä¹ˆä¸€ä¸ªæ¨è®ºï¼š æœ€å°è·¯å¾„è¦†ç›– = ç‚¹æ•° - æœ€å¤§åŒ¹é…</p>
<p>è¿™é‡Œçš„æœ€å¤§åŒ¹é…è¦åœ¨æ‹†ç‚¹åçš„å›¾ä¸Šè·‘ï¼Œï¼Œè¿™é‡Œçš„æ‹†ç‚¹æ˜¯ä¸ºäº†ä¿è¯æ¯æ‰¾åˆ°ä¸€ä¸ªåŒ¹é…å°±ä¼šå°†è¿™æ¡è¾¹çš„èµ·ç‚¹åŠ å…¥åˆ°Pä¸­ï¼Œï¼Œå¹¶ä¸”èˆå¼ƒåˆ°å…¶ä»–çš„ä»ä»–å‡ºå‘çš„è¾¹ï¼Œï¼Œ</p>
<p><a href="https://www.cnblogs.com/qixingzhi/p/9418690.html">å…·ä½“çš„è§£é‡Šå¯ä»¥çœ‹è¿™é‡Œ</a></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld; <br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-7</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e3</span> + <span class="hljs-number">5</span>;<br><span class="hljs-comment">// const int mod = 1e9 + 7;</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">998244353</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt, cap, flow;<br>&#125;edge[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, head[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> w, <span class="hljs-keyword">int</span> rw = <span class="hljs-number">0</span>)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v; edge[tot].cap = w; edge[tot].flow = <span class="hljs-number">0</span>;<br>    edge[tot].nxt = head[u]; head[u] = tot++;<br>    edge[tot].to = u; edge[tot].cap = rw; edge[tot].flow = <span class="hljs-number">0</span>;<br>    edge[tot].nxt = head[v]; head[v] = tot++;<br>&#125;<br><span class="hljs-keyword">int</span> q[maxn];<br><span class="hljs-keyword">int</span> dep[maxn], cur[maxn], sta[maxn];<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">bfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> t, <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> front = <span class="hljs-number">0</span>, tail = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(dep, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span>(dep[<span class="hljs-number">0</span>]) * (n + <span class="hljs-number">1</span>));<br>    dep[s] = <span class="hljs-number">0</span>;<br>    q[tail++] = s;<br>    <span class="hljs-keyword">while</span>(front &lt; tail)<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = q[front++];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = edge[i].to;<br>            <span class="hljs-keyword">if</span>(edge[i].cap &gt; edge[i].flow &amp;&amp; dep[v] == <span class="hljs-number">-1</span>)<br>            &#123;<br>                dep[v] = dep[u] + <span class="hljs-number">1</span>;<br>                <span class="hljs-keyword">if</span>(v == t)<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>                q[tail++] = v;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">dinic</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> t, <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> maxflow = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span>(bfs(s, t, n))<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i)cur[i] = head[i];<br>        <span class="hljs-keyword">int</span> u = s, tail = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">while</span>(cur[s] != <span class="hljs-number">-1</span>)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(u == t)<br>            &#123;<br>                <span class="hljs-keyword">int</span> tp = inf;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = tail - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; --i)<br>                    tp = min(tp, edge[sta[i]].cap - edge[sta[i]].flow);<br>                maxflow += tp;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = tail - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; --i)<br>                &#123;<br>                    edge[sta[i]].flow += tp;<br>                    edge[sta[i] ^ <span class="hljs-number">1</span>].flow -= tp;<br>                    <span class="hljs-keyword">if</span>(edge[sta[i]].cap - edge[sta[i]].flow == <span class="hljs-number">0</span>)tail = i;<br>                &#125;<br>                u = edge[sta[tail] ^ <span class="hljs-number">1</span>].to;<br>            &#125;<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(cur[u] != <span class="hljs-number">-1</span> &amp;&amp; edge[cur[u]].cap &gt; edge[cur[u]].flow &amp;&amp; dep[u] + <span class="hljs-number">1</span> == dep[edge[cur[u]].to])<br>            &#123;<br>                sta[tail++] = cur[u];<br>                u = edge[cur[u]].to;<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                <span class="hljs-keyword">while</span>(u != s &amp;&amp; cur[u] == <span class="hljs-number">-1</span>)<br>                    u = edge[sta[--tail] ^ <span class="hljs-number">1</span>].to;<br>                cur[u] = edge[cur[u]].nxt;<br>            &#125;<br>            <br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> maxflow;<br>&#125;<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">findpath</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">bool</span> &amp;flag, <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> loc = x + n;<br>    vis[x] = <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[loc]; ~i; i = edge[i].nxt)<br>        <span class="hljs-keyword">if</span>(edge[i].flow == <span class="hljs-number">-1</span> &amp;&amp; edge[i].to != n * <span class="hljs-number">2</span> + <span class="hljs-number">1</span>)<br>            findpath(edge[i].to, flag, n);<br>    <span class="hljs-keyword">if</span>(flag)<span class="hljs-built_in">cout</span> &lt;&lt; x;<br>    <span class="hljs-keyword">else</span> <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; x;<br>    <span class="hljs-keyword">if</span>(flag)flag = <span class="hljs-literal">false</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br><br>    <span class="hljs-keyword">int</span> n, m;<br>    <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m;<br>    <span class="hljs-keyword">int</span> s = <span class="hljs-number">0</span>, t = n &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>;<br>    init();<br>    <span class="hljs-keyword">int</span> u, v;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; u &gt;&gt; v;<br>        addedge(u, v + n, <span class="hljs-number">1</span>);<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)addedge(s, i, <span class="hljs-number">1</span>), addedge(i + n, t, <span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">int</span> ans = n - dinic(s, t, n &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>);<br>    <span class="hljs-comment">// for(int i = s; i &lt;= t; ++i)</span><br>    <span class="hljs-comment">//     for(int j = head[i]; ~j; j = edge[j].nxt)</span><br>    <span class="hljs-comment">//         cout &lt;&lt; i &lt;&lt; &quot; &quot; &lt;&lt; edge[j].to &lt;&lt; &quot; &quot; &lt;&lt; edge[j].cap &lt;&lt; &quot; &quot; &lt;&lt; edge[j].flow &lt;&lt; endl;</span><br>    <span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vis);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[t]; ~i; i = edge[i].nxt)<br>    &#123;<br>        <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">true</span>;<br>        <span class="hljs-comment">// cout &lt;&lt; edge[i].flow &lt;&lt; endl;</span><br>        <span class="hljs-keyword">if</span>(edge[i].flow == <span class="hljs-number">-1</span> &amp;&amp; !vis[edge[i].to - n])<br>        &#123;<br>            findpath(edge[i].to - n, flag, n);<br>            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="é­”æœ¯çƒ"><a href="#é­”æœ¯çƒ" class="headerlink" title="é­”æœ¯çƒ"></a><a href="https://loj.ac/problem/6003">é­”æœ¯çƒ</a></h1><p><a href="https://loj.ac/problem/6003">é­”æœ¯çƒ</a></p>
<p>è¿™é¢˜ä¹Ÿæ˜¯ä¸€ä¸ªæœ€å°è·¯å¾„è¦†ç›–çš„é—®é¢˜ï¼Œï¼Œä¸€å¼€å§‹æˆ‘åˆåƒæˆäº†ç®€å•çš„ æ¯ä¸ªç‚¹ä»…å–ä¸€æ¬¡ çš„é‚£ç§é—®é¢˜äº†ï¼Œï¼Œå› ä¸ºè¦æ‰¾åˆ°ä¸€ä¸ªæœ€å¤šçš„ä¸ªæ•°ï¼Œï¼Œï¼ŒæŠŠçƒçœ‹æˆç‚¹ï¼Œæ»¡è¶³æ¡ä»¶çš„ç‚¹é—´è¿è¾¹çš„è¯ï¼Œï¼Œè¿™æ ·å¹¶ä¸èƒ½çŸ¥é“æˆ‘ä»¬è¦çš„ä¸œè¥¿ï¼Œï¼Œï¼Œæ‹†ç‚¹è·‘ç½‘ç»œæµå¾—åˆ°çš„ä¹Ÿåªæ˜¯ä¸€ä¸ªæœ€å°è·¯å¾„è¦†ç›–ï¼Œï¼Œä¹Ÿå°±ç›¸å½“äºæ˜¯æŸ±å­æ•°ï¼Œï¼Œï¼Œæ‰€ä»¥è¦åŠ¨æ€å»ºå›¾ï¼Œï¼Œä¸æ–­çš„åŠ ç‚¹ï¼Œï¼Œåˆ¤æ–­æ­¤æ—¶åŠ äº†ä¸€ä¸ªç‚¹åçš„æŸ±å­æ•°æ˜¯å‡ ä¸ªï¼Œï¼Œå½“åŠ åˆ°æŸä¸ªç‚¹è¶…è¿‡ç»™å®šçš„æŸ±å­æ•°ä½¿åœä¸‹æ¥å³å¯ï¼Œï¼Œï¼Œ</p>
<p>å› ä¸ºæ˜¯åŠ¨æ€åŠ ç‚¹ï¼Œï¼Œæ‰€ä»¥è¿™é‡Œæ‹†ç‚¹æˆ‘æ˜¯å°†ä¸€ä¸ªç”¨ $i &lt;&lt; 1$ è¡¨ç¤ºï¼Œï¼Œåç‚¹å°±æ˜¯ $i &lt;&lt; 1 | 1$ ï¼Œï¼Œè¿™æ ·ç›´æ¥å·¦ç§»ä¸€ä½ä¾¿æ˜¯åŸæ¥ç‚¹çš„ç¼–å·ï¼Œï¼Œ</p>
<p>è¾“å‡ºè·¯å¾„å’Œä¸Šé¢é‚£é¢˜ä¸€æ ·ï¼Œï¼Œï¼Œ</p>
<p>å½“ç„¶è¿™é¢˜å¯ä»¥ç›´æ¥æš´åŠ›è´ªå¿ƒåšï¼Œï¼Œ<a href="https://blog.csdn.net/xy20130630/article/details/51336960">è´ªå¿ƒæ­£ç¡®æ€§çš„è¯æ˜ï¼š</a></p>
<h2 id="ç½‘ç»œæµ"><a href="#ç½‘ç»œæµ" class="headerlink" title="ç½‘ç»œæµ"></a>ç½‘ç»œæµ</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld; <br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-7</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e3</span> + <span class="hljs-number">5</span>;<br><span class="hljs-comment">// const int mod = 1e9 + 7;</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">998244353</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt, cap, flow;<br>&#125;edge[maxn];<br><span class="hljs-keyword">int</span> tot, head[maxn];<br><span class="hljs-keyword">int</span> gap[maxn], dep[maxn], cur[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> w, <span class="hljs-keyword">int</span> rw = <span class="hljs-number">0</span>)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v; edge[tot].cap = w; edge[tot].flow = <span class="hljs-number">0</span>;<br>    edge[tot].nxt = head[u]; head[u] = tot++;<br>    edge[tot].to = u; edge[tot].cap = rw; edge[tot].flow = <span class="hljs-number">0</span>;<br>    edge[tot].nxt = head[v]; head[v] = tot++;<br>&#125;<br><span class="hljs-keyword">int</span> q[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">bfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> t)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(dep, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> dep);<br>    <span class="hljs-built_in">memset</span>(gap, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> gap);<br>    gap[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">int</span> front = <span class="hljs-number">0</span>, rear = <span class="hljs-number">0</span>;<br>    dep[t] = <span class="hljs-number">0</span>;<br>    q[rear++] = t;<br>    <span class="hljs-keyword">while</span>(front != rear)<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = q[front++];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = edge[i].to;<br>            <span class="hljs-keyword">if</span>(dep[v] != <span class="hljs-number">-1</span>)<span class="hljs-keyword">continue</span>;<br>            q[rear++] = v;<br>            dep[v] = dep[u] + <span class="hljs-number">1</span>;<br>            ++gap[dep[v]];<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-keyword">int</span> sta[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">isap</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> t, <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    bfs(s, t);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= tot; ++i)cur[i] = head[i];<br>    <span class="hljs-keyword">int</span> top = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> u = s;<br>    <span class="hljs-keyword">int</span> maxflow = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span>(dep[s] &lt; n)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(u == t)<br>        &#123;<br>            <span class="hljs-keyword">int</span> min = inf;<br>            <span class="hljs-keyword">int</span> inser;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; top; ++i)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(min &gt; edge[sta[i]].cap - edge[sta[i]].flow)<br>                &#123;<br>                    min = edge[sta[i]].cap - edge[sta[i]].flow;<br>                    inser = i;<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; top; ++i)<br>            &#123;<br>                edge[sta[i]].flow += min;<br>                edge[sta[i] ^ <span class="hljs-number">1</span>].flow -= min;<br>            &#125;<br>            maxflow += min;<br>            top = inser;<br>            u = edge[sta[top] ^ <span class="hljs-number">1</span>].to;<br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br>        <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">int</span> v; <br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = cur[u]; ~i; i = edge[i].nxt)<br>        &#123;<br>            v = edge[i].to;<br>            <span class="hljs-keyword">if</span>(edge[i].cap - edge[i].flow &amp;&amp; dep[v] + <span class="hljs-number">1</span> == dep[u])<br>            &#123;<br>                flag = <span class="hljs-literal">true</span>;<br>                cur[u] = i;<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(flag)<br>        &#123;<br>            sta[top++] = cur[u];<br>            u = v;<br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br>        <span class="hljs-keyword">int</span> min = n;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(edge[i].cap - edge[i].flow &amp;&amp; dep[edge[i].to] &lt; min)<br>            &#123;<br>                min = dep[edge[i].to];<br>                cur[u] = i;<br>            &#125;<br>        &#125;<br>        --gap[dep[u]];<br>        <span class="hljs-keyword">if</span>(!gap[dep[u]])<span class="hljs-keyword">return</span> maxflow;<br>        dep[u] = min + <span class="hljs-number">1</span>;<br>        ++gap[dep[u]];<br>        <span class="hljs-keyword">if</span>(u != s)u = edge[sta[--top] ^ <span class="hljs-number">1</span>].to;<br>    &#125;<br>    <span class="hljs-keyword">return</span> maxflow;<br>&#125;<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">findpath</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">bool</span> &amp;f)</span></span><br><span class="hljs-function"></span>&#123;<br>    vis[x] = <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">int</span> loc = x &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[loc]; ~i; i = edge[i].nxt)<br>        <span class="hljs-keyword">if</span>(edge[i].flow == <span class="hljs-number">-1</span> &amp;&amp; edge[i].to != maxn - <span class="hljs-number">1</span>)<br>            findpath(edge[i].to &gt;&gt; <span class="hljs-number">1</span>, f);<br>    <span class="hljs-keyword">if</span>(f)<span class="hljs-built_in">cout</span> &lt;&lt; x;<br>    <span class="hljs-keyword">else</span> <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; x;<br>    <span class="hljs-keyword">if</span>(f)f = <span class="hljs-literal">false</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br><br>    <span class="hljs-keyword">int</span> n; <span class="hljs-built_in">cin</span> &gt;&gt; n;<br>    <span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vis);<br>    init();<br>    <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>, i;<br>    <span class="hljs-keyword">int</span> s = <span class="hljs-number">0</span>, t = maxn - <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(i = <span class="hljs-number">1</span>; i - ans &lt;= n + <span class="hljs-number">1</span>; ++i)<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= i - <span class="hljs-number">1</span>; ++j)<br>            <span class="hljs-keyword">if</span>((<span class="hljs-keyword">int</span>)<span class="hljs-built_in">sqrt</span>(i + j) * (<span class="hljs-keyword">int</span>)<span class="hljs-built_in">sqrt</span>(i + j) == i + j) <br>                addedge(j &lt;&lt; <span class="hljs-number">1</span>, i &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>, <span class="hljs-number">1</span>);<br>        addedge(s, i &lt;&lt; <span class="hljs-number">1</span>, <span class="hljs-number">1</span>);<br>        addedge(i &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>, t, <span class="hljs-number">1</span>);<br>        ans += isap(s, t, i * <span class="hljs-number">2</span> + <span class="hljs-number">2</span>);<br>    &#125;<br>    ans = i - <span class="hljs-number">2</span>;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-comment">// for(int i = s; i &lt;= t; ++i)</span><br>    <span class="hljs-comment">//     for(int j = head[i]; ~j; j = edge[j].nxt)</span><br>    <span class="hljs-comment">//         cout &lt;&lt; i &lt;&lt; &quot; &quot; &lt;&lt; edge[j].to &lt;&lt; &quot; &quot; &lt;&lt; edge[j].cap &lt;&lt; &quot; &quot; &lt;&lt; edge[j].flow &lt;&lt; endl;</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[t]; ~i; i = edge[i].nxt)<br>    &#123;<br>        <span class="hljs-keyword">bool</span> f = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">if</span>(edge[i].flow == <span class="hljs-number">-1</span> &amp;&amp; !vis[edge[i].to &gt;&gt; <span class="hljs-number">1</span>])<br>        &#123;<br>            findpath(edge[i].to &gt;&gt; <span class="hljs-number">1</span>, f);<br>            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= ans; ++i)<span class="hljs-keyword">if</span>(!vis[i])<span class="hljs-built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="è´ªå¿ƒ"><a href="#è´ªå¿ƒ" class="headerlink" title="è´ªå¿ƒ"></a>è´ªå¿ƒ</h2><figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld; <br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-7</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e3</span> + <span class="hljs-number">5</span>;<br><span class="hljs-comment">// const int mod = 1e9 + 7;</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">998244353</span>;<br><br><br><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; v[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    <span class="hljs-comment">// ios_base::sync_with_stdio(0);</span><br>    <span class="hljs-comment">// cin.tie(0);cout.tie(0);</span><br><br>    <span class="hljs-keyword">int</span> n; <span class="hljs-built_in">cin</span> &gt;&gt; n;<br>    <span class="hljs-keyword">int</span> ans = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">int</span> cnt = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span>(<span class="hljs-literal">true</span>)<br>    &#123;<br>        <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= cnt; ++i)<br>        &#123;<br>            <span class="hljs-keyword">int</span> tmp = v[i].back();<br>            <span class="hljs-keyword">if</span>((<span class="hljs-keyword">int</span>)<span class="hljs-built_in">sqrt</span>(tmp + ans) * (<span class="hljs-keyword">int</span>)<span class="hljs-built_in">sqrt</span>(tmp + ans) == tmp + ans)<br>            &#123;<br>                flag = <span class="hljs-literal">false</span>;<br>                v[i].push_back(ans++);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(flag)<br>        &#123;<br>            v[++cnt].push_back(ans++);<br>        &#125;<br>        <span class="hljs-keyword">if</span>(cnt &gt; n)<span class="hljs-keyword">break</span>;<br>    &#125;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; ans - <span class="hljs-number">2</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= cnt - <span class="hljs-number">1</span>; ++i)<br>    &#123;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; v[i][<span class="hljs-number">0</span>];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt; v[i].size(); ++j)<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; v[i][j];<br>        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="åœ†æ¡Œèšé¤"><a href="#åœ†æ¡Œèšé¤" class="headerlink" title="åœ†æ¡Œèšé¤"></a><a href="https://loj.ac/problem/6004">åœ†æ¡Œèšé¤</a></h1><p><a href="https://loj.ac/problem/6004">åœ†æ¡Œèšé¤</a></p>
<p>ç®€å•çš„ç½‘ç»œæµï¼Œï¼Œ</p>
<p>æºç‚¹åˆ°æ¯ä¸ªå•ä½å»ºè¾¹ï¼Œï¼Œå®¹é‡ä¸ºæ¯ä¸ªå•ä½çš„ä»£è¡¨æ•°ï¼Œï¼Œ</p>
<p>æ¯ä¸ªé¤æ¡Œåˆ°æ±‡ç‚¹å»ºè¾¹ï¼Œï¼Œå®¹é‡ä¸ºæ¯ä¸ªé¤æ¡Œçš„å®¹é‡ï¼Œï¼Œï¼Œ</p>
<p>æ¯ä¸ªå•ä½å‘æ¯ä¸€ä¸ªé¤æ¡Œå»ºè¾¹ï¼Œï¼Œå®¹é‡ä¸º1ï¼Œï¼Œ</p>
<p>è¿™æ ·å°±é™åˆ¶äº†æ¯ä¸ªå•ä½åªå–ä»£è¡¨æ•°çš„äººï¼Œï¼Œï¼Œ</p>
<p>æœ€åè·‘å®Œç½‘ç»œæµä¹‹åï¼Œï¼Œæ­£ç€éå†ä¸€éå›¾å³å¯ï¼Œï¼Œï¼Œ</p>
<p><del>çœ‹åˆ«äººçš„é¢˜è§£è¯´è¿™æ˜¯ä¸€é“ äºŒåˆ†å›¾çš„å¤šé‡åŒ¹é…ï¼Œï¼Œï¼Œæœ‰æ—¶é—´å†çœ‹ä¸€ä¸‹</del></p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld; <br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-7</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e3</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt, cap, flow;<br>&#125;edge[maxn];<br><span class="hljs-keyword">int</span> tot, head[maxn];<br><span class="hljs-keyword">int</span> gap[maxn], dep[maxn], cur[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> w, <span class="hljs-keyword">int</span> rw = <span class="hljs-number">0</span>)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v; edge[tot].cap = w; edge[tot].flow = <span class="hljs-number">0</span>;<br>    edge[tot].nxt = head[u]; head[u] = tot++;<br>    edge[tot].to = u; edge[tot].cap = rw; edge[tot].flow = <span class="hljs-number">0</span>;<br>    edge[tot].nxt = head[v]; head[v] = tot++;<br>&#125;<br><span class="hljs-keyword">int</span> q[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">bfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> t)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(dep, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> dep);<br>    <span class="hljs-built_in">memset</span>(gap, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> gap);<br>    gap[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">int</span> front = <span class="hljs-number">0</span>, rear = <span class="hljs-number">0</span>;<br>    dep[t] = <span class="hljs-number">0</span>;<br>    q[rear++] = t;<br>    <span class="hljs-keyword">while</span>(front != rear)<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = q[front++];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = edge[i].to;<br>            <span class="hljs-keyword">if</span>(dep[v] != <span class="hljs-number">-1</span>)<span class="hljs-keyword">continue</span>;<br>            q[rear++] = v;<br>            dep[v] = dep[u] + <span class="hljs-number">1</span>;<br>            ++gap[dep[v]];<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-keyword">int</span> sta[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">isap</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> t, <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    bfs(s, t);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= tot; ++i)cur[i] = head[i];<br>    <span class="hljs-keyword">int</span> top = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> u = s;<br>    <span class="hljs-keyword">int</span> maxflow = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span>(dep[s] &lt; n)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(u == t)<br>        &#123;<br>            <span class="hljs-keyword">int</span> min = inf;<br>            <span class="hljs-keyword">int</span> inser;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; top; ++i)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(min &gt; edge[sta[i]].cap - edge[sta[i]].flow)<br>                &#123;<br>                    min = edge[sta[i]].cap - edge[sta[i]].flow;<br>                    inser = i;<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; top; ++i)<br>            &#123;<br>                edge[sta[i]].flow += min;<br>                edge[sta[i] ^ <span class="hljs-number">1</span>].flow -= min;<br>            &#125;<br>            maxflow += min;<br>            top = inser;<br>            u = edge[sta[top] ^ <span class="hljs-number">1</span>].to;<br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br>        <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">int</span> v; <br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = cur[u]; ~i; i = edge[i].nxt)<br>        &#123;<br>            v = edge[i].to;<br>            <span class="hljs-keyword">if</span>(edge[i].cap - edge[i].flow &amp;&amp; dep[v] + <span class="hljs-number">1</span> == dep[u])<br>            &#123;<br>                flag = <span class="hljs-literal">true</span>;<br>                cur[u] = i;<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(flag)<br>        &#123;<br>            sta[top++] = cur[u];<br>            u = v;<br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br>        <span class="hljs-keyword">int</span> min = n;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(edge[i].cap - edge[i].flow &amp;&amp; dep[edge[i].to] &lt; min)<br>            &#123;<br>                min = dep[edge[i].to];<br>                cur[u] = i;<br>            &#125;<br>        &#125;<br>        --gap[dep[u]];<br>        <span class="hljs-keyword">if</span>(!gap[dep[u]])<span class="hljs-keyword">return</span> maxflow;<br>        dep[u] = min + <span class="hljs-number">1</span>;<br>        ++gap[dep[u]];<br>        <span class="hljs-keyword">if</span>(u != s)u = edge[sta[--top] ^ <span class="hljs-number">1</span>].to;<br>    &#125;<br>    <span class="hljs-keyword">return</span> maxflow;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br><br>    <span class="hljs-keyword">int</span> n, m; <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m;<br>    init();<br>    <span class="hljs-keyword">int</span> k, sum = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> s = <span class="hljs-number">0</span>, t = n + m + <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; k;<br>        sum += k;<br>        addedge(s, i, k);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; ++j)addedge(i, n + j, <span class="hljs-number">1</span>);<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; k;<br>        addedge(n + i, t, k);<br>    &#125;<br>    <span class="hljs-keyword">int</span> ans = isap(s, t, n + m + <span class="hljs-number">2</span>);<br>    <span class="hljs-keyword">if</span>(ans == sum)<br>    &#123;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        &#123;<br>            <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">true</span>;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = head[i]; ~j; j = edge[j].nxt)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(edge[j].flow == <span class="hljs-number">1</span> &amp;&amp; edge[j].to != s &amp;&amp; edge[j].to != t)<br>                &#123;<br>                    <span class="hljs-keyword">if</span>(flag)<span class="hljs-built_in">cout</span> &lt;&lt; edge[j].to - n;<br>                    <span class="hljs-keyword">else</span> <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; edge[j].to - n;<br>                    <span class="hljs-keyword">if</span>(flag)flag = <span class="hljs-literal">false</span>;<br>                &#125;<br>            &#125;<br>            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">0</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br>    <br><br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="æœ€é•¿é€’å¢å­åºåˆ—"><a href="#æœ€é•¿é€’å¢å­åºåˆ—" class="headerlink" title="æœ€é•¿é€’å¢å­åºåˆ—"></a><a href="https://loj.ac/problem/6005">æœ€é•¿é€’å¢å­åºåˆ—</a></h1><p><a href="https://loj.ac/problem/6005">æœ€é•¿é€’å¢å­åºåˆ—</a></p>
<p>è¿™é“é¢˜ä¹Ÿæ˜¯æˆ‘é‡æ–°å¼€å§‹è‚ç½‘ç»œæµçš„åŸå› ä¹‹ä¸€ï¼Œï¼Œï¼Œ</p>
<p>è¿™é“é¢˜çš„æ¨¡å‹èµ·å…ˆæ˜¯ä»Šå¹´çš„ä¸€åœºå¤šæ ¡ä¸­çš„ç½‘ç»œæµç­¾åˆ°é¢˜ï¼Œï¼Œï¼Œä½†æ˜¯ä¹‹å‰ä»æ¥æ²¡æœ‰è§è¿‡è¿™ä¸ªæ¨¡å‹ï¼Œï¼Œå‹æ ¹ä¸ä¼šå»ºå›¾ï¼Œï¼Œï¼Œ</p>
<p>é‚£é“é¢˜çš„è§£æ³•æ˜¯åˆ©ç”¨äº†è¿™ä¸ªæ¨¡å‹çš„æ€æƒ³ï¼Œç„¶åç”¨æœ€å°è´¹ç”¨æœ€å¤§æµï¼Œï¼Œ<a href="http://acm.hdu.edu.cn/showproblem.php?pid=6611">æ­ç”µè¿™é¢˜åœ°å€</a></p>
<p>æˆ‘çš„åšæ³•åœ¨å¦ä¸€ç¯‡åšå®¢ï¼Œï¼Œï¼Œ</p>
<p>è¿™é¢˜çš„é¢˜æ„å¾ˆç®€å•ï¼Œï¼Œç¬¬ä¸€é—®å°±æ˜¯ä¸€ä¸ªç®€å•çº¿æ€§dpï¼Œï¼Œï¼Œ</p>
<p>ç¬¬äºŒé—®çš„å»ºæ¨¡æ–¹å¼æ˜¯è¿™æ ·çš„ï¼šé¦–å…ˆä¿è¯æ¯ä¸ªæ•°åªç”¨ä¸€æ¬¡ï¼Œï¼ŒæŒ‰ç…§ä¹‹å‰çš„å¥—è·¯ï¼Œï¼Œæ¯ä¸ªç‚¹æ‹†æˆä¸¤ä¸ªç‚¹ $u, uâ€™$ å…¶ä¸­è¾¹çš„å®¹é‡ä¸º1ï¼Œï¼Œè¡¨ç¤ºè¿™ä¸ªç‚¹åªèƒ½é€‰æ‹©ä¸€æ¬¡ï¼Œï¼Œç„¶ååˆ©ç”¨dpçš„æ•°ç»„æ¥åˆ¤æ–­æ¯ä¸¤ä¸ªæ•° $a_i, a_j$ å¦‚æœæ»¡è¶³ $a_i \le a_j \  \&amp;\&amp; \  dp_i + 1 == dp_j$ ï¼Œï¼Œé‚£ä¹ˆå»ºè¾¹ï¼Œå®¹é‡ä¸º1ï¼Œï¼Œè¿™æ ·ä¿è¯ä¸€æ¡é€‰æ‹©çš„è·¯å¾„å°±æ˜¯ä¸€ä¸ªæœ€é•¿é€’å¢å­åºåˆ—ï¼Œï¼Œï¼Œå› ä¸ºé¢˜ç›®è¦ä¿è¯å…¶é•¿åº¦ä¸ºæœ€é•¿çš„ï¼Œï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸èƒ½ç›´æ¥å°†æ‰€æœ‰ç‚¹éƒ½è¿åˆ°æ±‡ç‚¹ $t$ ï¼Œï¼Œè€Œæ˜¯å¯¹äºdpæ•°ç»„ä¸­æ ‡è®°ä¸ºlisansçš„è¿åˆ°æ±‡ç‚¹ï¼Œï¼Œå¯¹äºæ¯ä¸€ä¸ªå¼€å¤´ï¼Œï¼Œä¹Ÿå°±æ˜¯ $dp_i == 1$ çš„è¿æºç‚¹ï¼Œï¼Œï¼Œæœ€åè·‘æœ€å¤§æµå³ä¸ºç­”æ¡ˆï¼Œï¼Œï¼Œ</p>
<p>å¯¹äºç¬¬ä¸‰é—®ï¼Œï¼Œå› ä¸ºä¸é™åˆ¶ç¬¬ä¸€ä¸ªæ•°å’Œæœ€åä¸€ä¸ªæ•°ï¼Œï¼Œé‚£ä¹ˆæˆ‘ä»¬å¢åŠ æºç‚¹åˆ°ç¬¬ä¸€ä¸ªç‚¹çš„å®¹é‡ä¸ºinfï¼Œ ï¼Œï¼Œ**å¦‚æœæœ€åä¸€ä¸ªç‚¹å¯ä»¥ä½œä¸ºlisçš„æœ«å°¾ï¼Œï¼Œä¹Ÿå°±æ˜¯ $dp_n == lisans$ é‚£ä¹ˆå°±è¿æ±‡ç‚¹ï¼Œï¼Œå†è·‘æœ€å¤§æµï¼Œç´¯åŠ ç­”æ¡ˆå³å¯</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">// #include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e6</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><br><span class="hljs-keyword">int</span> a[maxn], n, lisans;<br><span class="hljs-keyword">int</span> dp[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">lis</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)dp[i] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt; i; ++j)<br>            <span class="hljs-keyword">if</span>(a[i] &gt;= a[j])<br>                dp[i] = max(dp[i], dp[j] + <span class="hljs-number">1</span>);<br>    lisans = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)lisans = max(lisans, dp[i]);<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt, cap, flow;<br>&#125;edge[maxn];<br><span class="hljs-keyword">int</span> tot, head[maxn];<br><span class="hljs-keyword">int</span> gap[maxn], dep[maxn], cur[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> w, <span class="hljs-keyword">int</span> rw = <span class="hljs-number">0</span>)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v; edge[tot].cap = w; edge[tot].flow = <span class="hljs-number">0</span>;<br>    edge[tot].nxt = head[u]; head[u] = tot++;<br>    edge[tot].to = u; edge[tot].cap = rw; edge[tot].flow = <span class="hljs-number">0</span>;<br>    edge[tot].nxt = head[v]; head[v] = tot++;<br>&#125;<br><span class="hljs-keyword">int</span> q[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">bfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> t)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(dep, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> dep);<br>    <span class="hljs-built_in">memset</span>(gap, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> gap);<br>    gap[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">int</span> front = <span class="hljs-number">0</span>, rear = <span class="hljs-number">0</span>;<br>    dep[t] = <span class="hljs-number">0</span>;<br>    q[rear++] = t;<br>    <span class="hljs-keyword">while</span>(front != rear)<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = q[front++];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = edge[i].to;<br>            <span class="hljs-keyword">if</span>(dep[v] != <span class="hljs-number">-1</span>)<span class="hljs-keyword">continue</span>;<br>            q[rear++] = v;<br>            dep[v] = dep[u] + <span class="hljs-number">1</span>;<br>            ++gap[dep[v]];<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-keyword">int</span> sta[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">isap</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> t, <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    bfs(s, t);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= tot; ++i)cur[i] = head[i];<br>    <span class="hljs-keyword">int</span> top = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> u = s;<br>    <span class="hljs-keyword">int</span> maxflow = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span>(dep[s] &lt; n)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(u == t)<br>        &#123;<br>            <span class="hljs-keyword">int</span> min = inf;<br>            <span class="hljs-keyword">int</span> inser;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; top; ++i)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(min &gt; edge[sta[i]].cap - edge[sta[i]].flow)<br>                &#123;<br>                    min = edge[sta[i]].cap - edge[sta[i]].flow;<br>                    inser = i;<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; top; ++i)<br>            &#123;<br>                edge[sta[i]].flow += min;<br>                edge[sta[i] ^ <span class="hljs-number">1</span>].flow -= min;<br>            &#125;<br>            maxflow += min;<br>            top = inser;<br>            u = edge[sta[top] ^ <span class="hljs-number">1</span>].to;<br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br>        <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">int</span> v; <br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = cur[u]; ~i; i = edge[i].nxt)<br>        &#123;<br>            v = edge[i].to;<br>            <span class="hljs-keyword">if</span>(edge[i].cap - edge[i].flow &amp;&amp; dep[v] + <span class="hljs-number">1</span> == dep[u])<br>            &#123;<br>                flag = <span class="hljs-literal">true</span>;<br>                cur[u] = i;<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(flag)<br>        &#123;<br>            sta[top++] = cur[u];<br>            u = v;<br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br>        <span class="hljs-keyword">int</span> min = n;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(edge[i].cap - edge[i].flow &amp;&amp; dep[edge[i].to] &lt; min)<br>            &#123;<br>                min = dep[edge[i].to];<br>                cur[u] = i;<br>            &#125;<br>        &#125;<br>        --gap[dep[u]];<br>        <span class="hljs-keyword">if</span>(!gap[dep[u]])<span class="hljs-keyword">return</span> maxflow;<br>        dep[u] = min + <span class="hljs-number">1</span>;<br>        ++gap[dep[u]];<br>        <span class="hljs-keyword">if</span>(u != s)u = edge[sta[--top] ^ <span class="hljs-number">1</span>].to;<br>    &#125;<br>    <span class="hljs-keyword">return</span> maxflow;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">quersion1</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    init();<br>    <span class="hljs-keyword">int</span> s = <span class="hljs-number">0</span>, t = n &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-keyword">if</span>(dp[i] == <span class="hljs-number">1</span>)addedge(s, i, <span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)addedge(i, i + n, <span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = i + <span class="hljs-number">1</span>; j &lt;= n; ++j)<br>            <span class="hljs-keyword">if</span>(dp[i] == dp[j] - <span class="hljs-number">1</span> &amp;&amp; a[i] &lt;= a[j])<br>                addedge(i + n, j, <span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-keyword">if</span>(dp[i] == lisans)addedge(i + n, t, <span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">return</span> isap(s, t, (n + <span class="hljs-number">1</span>) &lt;&lt; <span class="hljs-number">1</span>);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">quersion2</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// init();</span><br>    <span class="hljs-keyword">int</span> s = <span class="hljs-number">0</span>, t = n &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>;<br>    <span class="hljs-comment">// for(int i = 1; i &lt;= n; ++i)if(dp[i] == 1)addedge(s, i, 1);</span><br>    <span class="hljs-comment">// for(int i = 1; i &lt;= n; ++i)addedge(i, i + n, 1);</span><br>    <span class="hljs-comment">// for(int i = 1; i &lt;= n; ++i)</span><br>    <span class="hljs-comment">//     for(int j = i + 1; j &lt;= n; ++j)</span><br>    <span class="hljs-comment">//         if(dp[i] == dp[j] - 1 &amp;&amp; a[i] &lt;= a[j])</span><br>    <span class="hljs-comment">//             addedge(i + n, j, 1);</span><br>    <span class="hljs-comment">// for(int i = 1; i &lt;= n; ++i)if(dp[i] == lisans)addedge(i + n, t, 1);</span><br>    addedge(s, <span class="hljs-number">1</span>, inf), addedge(<span class="hljs-number">1</span>, <span class="hljs-number">1</span> + n, inf); <br>    <span class="hljs-keyword">if</span>(lisans == dp[n])addedge(n, n + n, inf), addedge(n + n, t, inf);<br>    <span class="hljs-keyword">return</span> isap(s, t, (n + <span class="hljs-number">1</span>) &lt;&lt; <span class="hljs-number">1</span>);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br><br>    <span class="hljs-built_in">cin</span> &gt;&gt; n;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; a[i];<br>    <span class="hljs-keyword">if</span>(n == <span class="hljs-number">1</span>)<br>    &#123;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-built_in">endl</span> &lt;&lt; <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-built_in">endl</span> &lt;&lt; <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br>    lis();<span class="hljs-built_in">cout</span> &lt;&lt; lisans &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">int</span> ans = quersion1();<br>    <span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="hljs-built_in">endl</span> &lt;&lt; ans + quersion2() &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="è¯•é¢˜åº“"><a href="#è¯•é¢˜åº“" class="headerlink" title="è¯•é¢˜åº“"></a><a href="https://loj.ac/problem/6006">è¯•é¢˜åº“</a></h1><p><a href="https://loj.ac/problem/6006">è¯•é¢˜åº“</a></p>
<p>å’Œä¸Šé¢é‚£é“ åœ†æ¡Œèšé¤ å¾ˆåƒï¼Œï¼Œ</p>
<p>å»ºå›¾æ˜¯è¿™æ ·çš„ï¼šå·¦è¾¹kä¸ªç‚¹è¡¨ç¤ºè¯•å·çš„ç±»å‹ï¼Œå³è¾¹nä¸ªç‚¹ï¼Œï¼Œè¡¨ç¤ºè¯•é¢˜ï¼Œï¼Œ</p>
<p>æºç‚¹è¿æ¯ä¸ªç±»å‹ï¼Œï¼Œå®¹é‡ä¸ºè¯¥ç±»å‹æ‰€éœ€çš„è¯•é¢˜æ•°ï¼Œï¼Œè¿™æ ·å½“å…¨éƒ¨è·‘æ»¡æ—¶å°±æ˜¯æ»¡è¶³é¢˜æ„çš„ä¸€ç§é€‰æ‹©</p>
<p>æ¯ä¸ªç±»å‹è¿æ¯ä¸€ä¸ªå¯¹åº”ç‚¹ï¼Œå®¹é‡ä¸º1ï¼Œï¼Œï¼Œæ¯”å¦‚ç¬¬iä»½è¯•é¢˜çš„ç±»å‹æœ‰1,3,é‚£ä¹ˆå·¦è¾¹çš„1ï¼Œ3ä¸¤ä¸ªç‚¹è¿è¿™ä¸ªè¯•é¢˜çš„ç‚¹ï¼Œï¼Œ</p>
<p>æœ€åæˆ‘ä¸ºäº†ä¿è¯æ¯ä¸ªè¯•é¢˜åªé€‰ä¸€æ¬¡ï¼Œï¼Œæ‹†ç‚¹å®¹é‡ä¸º1ï¼Œï¼Œ</p>
<p>æœ€åå°†æ‰€æœ‰å³è¾¹è¯•é¢˜çš„ç‚¹è¿åˆ°æ±‡ç‚¹å°±å¯ä»¥äº†ï¼Œï¼Œå®¹é‡ä¹Ÿä¸º1ï¼Œï¼Œï¼Œ</p>
<p>ï¼ˆè²Œä¼¼kuangbinçš„æ¿å­ä¸­ <code>memcpy</code> å¯èƒ½ä¼šreï¼Œï¼Œå› ä¸ºå¤åˆ¶çš„ç¼“å†²åŒºå¤§å°çš„é—®é¢˜å§ï¼Œï¼Œï¼Œheadå’Œcurå¤§å°ä¸ä¸€æ ·å°±ä¼šreï¼Œï¼Œï¼Œå¯ä»¥å°† <code>memcpy</code> å‚æ•°æ”¹ä¸ºtotï¼Œï¼Œï¼Œæˆ–è€…ç›´æ¥æ‰‹åŠ¨å¤åˆ¶ï¼Œï¼Œï¼Œ</p>
<p>å…·ä½“çš„æ–¹æ¡ˆå°±æ˜¯æ­£ç€éå†kä¸ªç‚¹å°±é˜”ä»¥äº†ï¼Œï¼Œï¼Œ</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e6</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt, cap, flow;<br>&#125;edge[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, head[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> w, <span class="hljs-keyword">int</span> rw = <span class="hljs-number">0</span>)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v; edge[tot].cap = w; edge[tot].flow = <span class="hljs-number">0</span>;<br>    edge[tot].nxt = head[u]; head[u] = tot++;<br>    edge[tot].to = u; edge[tot].cap = rw; edge[tot].flow = <span class="hljs-number">0</span>;<br>    edge[tot].nxt = head[v]; head[v] = tot++;<br>&#125;<br><span class="hljs-keyword">int</span> q[maxn];<br><span class="hljs-keyword">int</span> gap[maxn], dep[maxn], cur[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">bfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> t)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(dep, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> dep);<br>    <span class="hljs-built_in">memset</span>(gap, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> gap);<br>    gap[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">int</span> front = <span class="hljs-number">0</span>, tail = <span class="hljs-number">0</span>;<br>    dep[t] = <span class="hljs-number">0</span>;<br>    q[tail++] = t;<br>    <span class="hljs-keyword">while</span>(front != tail)<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = q[front++];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = edge[i].to;<br>            <span class="hljs-keyword">if</span>(dep[v] != <span class="hljs-number">-1</span>)<span class="hljs-keyword">continue</span>;<br>            q[tail++] = v;<br>            dep[v] = dep[u] + <span class="hljs-number">1</span>;<br>            ++gap[dep[v]];<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-keyword">int</span> sta[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">isap</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> t, <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    bfs(s, t);<br>    <span class="hljs-built_in">memcpy</span>(cur, head, <span class="hljs-keyword">sizeof</span> head);<br>    <span class="hljs-keyword">int</span> top = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> u = s;<br>    <span class="hljs-keyword">int</span> maxflow = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span>(dep[s] &lt; n)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(u == t)<br>        &#123;<br>            <span class="hljs-keyword">int</span> min = inf;<br>            <span class="hljs-keyword">int</span> inser;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; top; ++i)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(min &gt; edge[sta[i]].cap - edge[sta[i]].flow)<br>                &#123;<br>                    min = edge[sta[i]].cap - edge[sta[i]].flow;<br>                    inser = i;<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; top; ++i)<br>            &#123;<br>                edge[sta[i]].flow += min;<br>                edge[sta[i] ^ <span class="hljs-number">1</span>].flow -= min;<br>            &#125;<br>            maxflow += min;<br>            top = inser;<br>            u = edge[sta[top] ^ <span class="hljs-number">1</span>].to;<br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br>        <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">int</span> v;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = cur[u]; ~i; i = edge[i].nxt)<br>        &#123;<br>            v = edge[i].to;<br>            <span class="hljs-keyword">if</span>(edge[i].cap - edge[i].flow &amp;&amp; dep[v] + <span class="hljs-number">1</span> == dep[u])<br>            &#123;<br>                flag = <span class="hljs-literal">true</span>;<br>                cur[u] = i;<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(flag)<br>        &#123;<br>            sta[top++] = cur[u];<br>            u = v;<br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br>        <span class="hljs-keyword">int</span> min = n;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(edge[i].cap - edge[i].flow &amp;&amp; dep[edge[i].to] &lt; min)<br>            &#123;<br>                min = dep[edge[i].to];<br>                cur[u] = i;<br>            &#125;<br>        &#125;<br>        --gap[dep[u]];<br>        <span class="hljs-keyword">if</span>(!gap[dep[u]])<span class="hljs-keyword">return</span> maxflow;<br>        dep[u] = min + <span class="hljs-number">1</span>;<br>        ++gap[dep[u]];<br>        <span class="hljs-keyword">if</span>(u != s)u = edge[sta[--top] ^ <span class="hljs-number">1</span>].to;<br>    &#125;<br>    <span class="hljs-keyword">return</span> maxflow;<br>&#125;<br><span class="hljs-keyword">int</span> n, k, m, a[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br><br>    init();<br>    <span class="hljs-built_in">cin</span> &gt;&gt; k &gt;&gt; n;<br>    m = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= k; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; a[i];<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= k; ++i)m += a[i];<br>    <span class="hljs-keyword">int</span> s = <span class="hljs-number">0</span>, t = n * <span class="hljs-number">2</span> + k + <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= k; ++i)addedge(s, i, a[i]);<br>    <span class="hljs-keyword">int</span> num, p;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; num;<br>        <span class="hljs-keyword">while</span>(num--)<br>        &#123;<br>            <span class="hljs-built_in">cin</span> &gt;&gt; p;<br>            addedge(p, i + k, <span class="hljs-number">1</span>);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)addedge(i + k, i + k + n, <span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)addedge(i + k + n, t, <span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">if</span>(isap(s, t, t + <span class="hljs-number">1</span>) == m)<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> u = <span class="hljs-number">1</span>; u &lt;= k; ++u)<br>        &#123;<br>            <span class="hljs-built_in">cout</span> &lt;&lt; u &lt;&lt; <span class="hljs-string">&quot;:&quot;</span>;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(edge[i].to != s &amp;&amp; edge[i].flow == <span class="hljs-number">1</span>)<br>                    <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; edge[i].to - k;<br>            &#125;<br>            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;No Solution!&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <br>    <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="æ–¹æ ¼å–æ•°"><a href="#æ–¹æ ¼å–æ•°" class="headerlink" title="æ–¹æ ¼å–æ•°"></a><a href="https://loj.ac/problem/6007">æ–¹æ ¼å–æ•°</a></h1><p><a href="https://loj.ac/problem/6007">æ–¹æ ¼å–æ•°</a></p>
<p>è¿™é“é¢˜ä¸é”™ï¼Œï¼Œç›¸æ¯”å‰é¢é‚£å‡ é“ä¸€çœ¼å°±èƒ½çœ‹å‡ºå»ºå›¾æ–¹å¼ï¼Œï¼Œè¿™é“é¢˜çš„å»ºå›¾ç¬¬ä¸€æ¬¡è§ï¼Œï¼Œæ‹†å›¾çš„æ–¹å¼å¾ˆå¥‡ç‰¹ï¼Œï¼Œ<del>ï¼ˆè¯´åˆ°åº•æ˜¯åšé¢˜å°‘ï¼Œï¼Œè§çš„æ¨¡å‹ä¸å¤šï¼Œï¼Œï¼Œ</del></p>
<p>é¦–å…ˆè¿™é“é¢˜æœ‰ä¸€ä¸ªç‰¹ç‚¹è¦çœ‹å‡ºæ¥ï¼šå› ä¸ºç›¸é‚»çš„ä¸¤ä¸ªä¸å–ï¼Œï¼Œé‚£ä¹ˆç­”æ¡ˆä¸€å®šæ˜¯æ–œç€ä¸€åˆ—ä¸€åˆ—çš„ï¼Œï¼Œ</p>
<p>ä¹Ÿå°±æ˜¯å°†æ–¹æ ¼åˆ†æˆä¸¤ç§ï¼š<img src="https://img-blog.csdn.net/20180726134513229?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM4OTQ0MTYz/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""></p>
<p>æ˜¾ç„¶å±äºé»‘ç™½çš„ä¸¤ä¸ªæ•°æ˜¯ä¸èƒ½åŒæ—¶é€‰æ‹©çš„ï¼Œï¼Œäºæ˜¯æˆ‘ä»¬è¿™æ ·å­å¯ä»¥å°†æ–¹æ ¼å˜æˆä¸€ä¸ªäºŒåˆ†å›¾ï¼Œï¼Œå‡è®¾ä¸€è¾¹æ˜¯é»‘è‰²çš„æ•°ï¼Œï¼Œé‚£ä¹ˆå¦ä¸€è¾¹å°±æ˜¯ç™½è‰²çš„æ•°ï¼Œï¼Œä¹Ÿå°±æ˜¯å¥‡æ•°ç‚¹åœ¨å·¦ï¼Œï¼Œå¶æ•°ç‚¹åœ¨å³ï¼Œï¼Œ</p>
<p><img src="https://img-blog.csdn.net/20180726135237167?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM4OTQ0MTYz/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""></p>
<p>æŒ‰ç…§é¢˜æ„ï¼Œï¼Œç›¸é‚»çš„ä¸¤ä¸ªæ•°ä¸èƒ½é€‰æ‹©ï¼Œï¼Œé‚£æˆ‘ä»¬å°±å°†ä¸æ»¡è¶³é¢˜æ„çš„ç‚¹ä¹‹é—´è¿è¾¹ï¼Œï¼Œä¾‹å¦‚ <code>u-&gt;v</code> å°±è¡¨ç¤ºé€‰æ‹©äº†ç‚¹ <code>u</code> å°±ä¸èƒ½é€‰æ‹©ç‚¹ <code>v</code> ï¼Œï¼Œä¸ºäº†æœ€åé€‰çš„ç‚¹æƒå€¼æœ€å¤§ï¼Œï¼Œæˆ‘ä»¬éœ€è¦å»æ‰ä¸€äº›ç‚¹ï¼Œï¼Œï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬è¦åœ¨è¿™ä¸ªäºŒåˆ†å›¾ä¸­é€‰æ‹©ä¸€ä¸ªç‚¹é›†ï¼Œï¼Œç„¶åå»æ‰ä»–ï¼Œï¼Œä½¿å¾—å…¶ä»–çš„ç‚¹ä¹‹é—´æ˜¯äº’ä¸ç›¸é‚»çš„åŒæ—¶ä¿è¯æƒå€¼æœ€å¤§ï¼Œï¼Œ</p>
<p>å¦‚æœä¸ç®¡æƒå€¼åªçœ‹ç‚¹çš„å…³ç³»ï¼Œï¼Œé‚£ä¹ˆè¿™ä¸ªé—®é¢˜å°±æ˜¯ä¸€ä¸ªäºŒåˆ†å›¾çš„ç»å…¸é—®é¢˜ï¼š <strong>äºŒåˆ†å›¾æœ€å¤§ç‹¬ç«‹é›†</strong> </p>
<p>äºŒåˆ†å›¾æœ€å¤§ç‹¬ç«‹é›†çš„æè¿°æ˜¯è¿™æ ·çš„ï¼š åœ¨ä¸€ä¸ªäºŒåˆ†å›¾ä¸­ï¼Œé€‰æ‹©æœ€å¤šçš„ç‚¹ï¼ˆä¸¤è¾¹éƒ½å¯ä»¥é€‰æ‹©ï¼‰ï¼Œä½¿å¾—æ‰€é€‰çš„ç‚¹é›†ä¸­ä»»æ„ä¸¤ç‚¹é—´æ²¡æœ‰è¾¹ï¼Œï¼Œç›¸å½“äºæ˜¯æ±‚ç”¨æœ€å°‘çš„ç‚¹è¦†ç›–æ‰€æœ‰çš„è¾¹é›†ï¼Œï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªæœ€å°ç‚¹è¦†ç›–ï¼Œï¼Œç„¶åå»æ‰ä»–å³å¯ï¼Œï¼Œ</p>
<p>å®ƒçš„æ±‚è§£æ˜¯ï¼š $äºŒåˆ†å›¾çš„æœ€å¤§ç‹¬ç«‹é›†=èŠ‚ç‚¹æ•°-äºŒåˆ†å›¾çš„æœ€å¤§åŒ¹é…æ•°$ </p>
<p>é‚£è¿™é“é¢˜æœ‰ç‚¹æƒæ€ä¹ˆåŠï¼Œï¼Œ<del>å› ä¸ºæ˜¯ç½‘ç»œæµ24é¢˜ï¼Œæ‰€ä»¥</del> ç”¨ç½‘ç»œæµæ¥è§£å†³ï¼Œï¼Œï¼Œåæ­£äºŒåˆ†å›¾ä¹Ÿæ˜¯å¯ä»¥ç”¨ç½‘ç»œæµæ¥æå®šçš„ï¼Œï¼Œåªè¦å·¦è¾¹çš„æ¯ä¸ªç‚¹çš„ç‚¹æƒå˜æˆä¸æºç‚¹sçš„å®¹é‡ï¼Œï¼Œå³è¾¹ç‚¹çš„ç‚¹æƒå˜æˆä¸æ±‡ç‚¹çš„å®¹é‡ï¼Œï¼Œæœ€åè·‘æœ€å¤§æµæœ€å°å‰²å°±è¡Œäº†ï¼Œï¼Œ</p>
<p><img src="https://img-blog.csdn.net/20180726135647728?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM4OTQ0MTYz/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""></p>
<p>å†çœ‹æœ€å°å‰²çš„å®šä¹‰ï¼Œé€‰å–å°½å¯èƒ½å°çš„è¾¹ï¼Œå»æ‰åå½¢æˆä¸€ä¸ª $ST$ å‰²ï¼Œï¼Œä¹Ÿå°±æ˜¯è¯´æ˜ $ST$ å‰²ä¸¤è¾¹çš„ç‚¹é—´æ˜¯æ²¡æœ‰è¾¹çš„ï¼Œï¼Œè¿™æ ·æˆ‘ä»¬å°±å¾—åˆ°äº†é€‰æ‹©æœ€å°çš„ç‚¹é›†ï¼Œï¼Œç­”æ¡ˆå°±æ˜¯ä¸æ€»å’Œçš„å·®</p>
<p><a href="[æ–¹æ ¼å–æ•°](https://loj.ac/problem/6007">å‚è€ƒ</a>)</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e6</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt, cap, flow;<br>&#125;edge[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, head[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> w, <span class="hljs-keyword">int</span> rw = <span class="hljs-number">0</span>)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// cout &lt;&lt; u &lt;&lt; &quot; &quot; &lt;&lt; v &lt;&lt; &quot; &quot; &lt;&lt; w &lt;&lt; endl;</span><br>    edge[tot].to = v; edge[tot].cap = w; edge[tot].flow = <span class="hljs-number">0</span>;<br>    edge[tot].nxt = head[u]; head[u] = tot++;<br>    edge[tot].to = u; edge[tot].cap = rw; edge[tot].flow = <span class="hljs-number">0</span>;<br>    edge[tot].nxt = head[v]; head[v] = tot++;<br>&#125;<br><span class="hljs-keyword">int</span> q[maxn];<br><span class="hljs-keyword">int</span> gap[maxn], dep[maxn], cur[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">bfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> t)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(dep, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> dep);<br>    <span class="hljs-built_in">memset</span>(gap, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> gap);<br>    gap[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">int</span> front = <span class="hljs-number">0</span>, tail = <span class="hljs-number">0</span>;<br>    dep[t] = <span class="hljs-number">0</span>;<br>    q[tail++] = t;<br>    <span class="hljs-keyword">while</span>(front != tail)<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = q[front++];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = edge[i].to;<br>            <span class="hljs-keyword">if</span>(dep[v] != <span class="hljs-number">-1</span>)<span class="hljs-keyword">continue</span>;<br>            q[tail++] = v;<br>            dep[v] = dep[u] + <span class="hljs-number">1</span>;<br>            ++gap[dep[v]];<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-keyword">int</span> sta[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">isap</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> t, <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    bfs(s, t);<br>    <span class="hljs-built_in">memcpy</span>(cur, head, <span class="hljs-keyword">sizeof</span> head);<br>    <span class="hljs-keyword">int</span> top = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> u = s;<br>    <span class="hljs-keyword">int</span> maxflow = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span>(dep[s] &lt; n)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(u == t)<br>        &#123;<br>            <span class="hljs-keyword">int</span> min = inf;<br>            <span class="hljs-keyword">int</span> inser;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; top; ++i)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(min &gt; edge[sta[i]].cap - edge[sta[i]].flow)<br>                &#123;<br>                    min = edge[sta[i]].cap - edge[sta[i]].flow;<br>                    inser = i;<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; top; ++i)<br>            &#123;<br>                edge[sta[i]].flow += min;<br>                edge[sta[i] ^ <span class="hljs-number">1</span>].flow -= min;<br>            &#125;<br>            maxflow += min;<br>            top = inser;<br>            u = edge[sta[top] ^ <span class="hljs-number">1</span>].to;<br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br>        <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">int</span> v;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = cur[u]; ~i; i = edge[i].nxt)<br>        &#123;<br>            v = edge[i].to;<br>            <span class="hljs-keyword">if</span>(edge[i].cap - edge[i].flow &amp;&amp; dep[v] + <span class="hljs-number">1</span> == dep[u])<br>            &#123;<br>                flag = <span class="hljs-literal">true</span>;<br>                cur[u] = i;<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(flag)<br>        &#123;<br>            sta[top++] = cur[u];<br>            u = v;<br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br>        <span class="hljs-keyword">int</span> min = n;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(edge[i].cap - edge[i].flow &amp;&amp; dep[edge[i].to] &lt; min)<br>            &#123;<br>                min = dep[edge[i].to];<br>                cur[u] = i;<br>            &#125;<br>        &#125;<br>        --gap[dep[u]];<br>        <span class="hljs-keyword">if</span>(!gap[dep[u]])<span class="hljs-keyword">return</span> maxflow;<br>        dep[u] = min + <span class="hljs-number">1</span>;<br>        ++gap[dep[u]];<br>        <span class="hljs-keyword">if</span>(u != s)u = edge[sta[--top] ^ <span class="hljs-number">1</span>].to;<br>    &#125;<br>    <span class="hljs-keyword">return</span> maxflow;<br>&#125;<br><span class="hljs-keyword">int</span> a[maxn][maxn], n, m;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getidx</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span></span>&#123;<span class="hljs-keyword">return</span> (x - <span class="hljs-number">1</span>) * m + y;&#125;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">bool</span> <span class="hljs-title">check</span><span class="hljs-params">(<span class="hljs-keyword">int</span> i, <span class="hljs-keyword">int</span> j, <span class="hljs-keyword">int</span> k, <span class="hljs-keyword">int</span> l)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">if</span>(i == k)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(j == l || j == l + <span class="hljs-number">1</span> || j == l - <span class="hljs-number">1</span>)flag = <span class="hljs-literal">true</span>;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(j == l)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(i == k || i == k - <span class="hljs-number">1</span> || i == k + <span class="hljs-number">1</span>)flag = <span class="hljs-literal">true</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> flag;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br><br>    init();<br>    <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; ++j)<br>            <span class="hljs-built_in">cin</span> &gt;&gt; a[i][j];<br>    <span class="hljs-keyword">int</span> sum = <span class="hljs-number">0</span>, p = n * m;<br>    <span class="hljs-keyword">int</span> s = <span class="hljs-number">0</span>, t = p + <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; ++j) <br>            sum += a[i][j];<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; ++j)<br>            <span class="hljs-keyword">if</span>((i + j) &amp; <span class="hljs-number">1</span>)<br>                addedge(s, getidx(i, j), a[i][j]);<br>            <span class="hljs-keyword">else</span><br>                addedge(getidx(i, j), t, a[i][j]);<br><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; ++j)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> k = <span class="hljs-number">1</span>; k &lt;= n; ++k)<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> l = <span class="hljs-number">1</span>; l &lt;= m; ++l)<br>                    <span class="hljs-keyword">if</span>(check(i, j, k, l) &amp;&amp; (i + j) &amp; <span class="hljs-number">1</span>)<br>                        addedge(getidx(i, j), getidx(k, l), inf);<br><br>    <span class="hljs-keyword">int</span> ans = sum - isap(s, t, t + <span class="hljs-number">1</span>);<br>    <span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-comment">// cout &lt;&lt; sum - ans &lt;&lt; endl;</span><br>    <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="æ•°å­—æ¢¯å½¢"><a href="#æ•°å­—æ¢¯å½¢" class="headerlink" title="æ•°å­—æ¢¯å½¢"></a><a href="https://loj.ac/problem/6010">æ•°å­—æ¢¯å½¢</a></h1><p><a href="https://loj.ac/problem/6010">æ•°å­—æ¢¯å½¢</a></p>
<p>è¿™é¢˜ç®—æ˜¯è´¹ç”¨æµçš„åŸºç¡€é¢˜å§ï¼Œï¼Œï¼Œ<del>ï¼ˆä¹Ÿæƒ³äº†ä¸€ä¼šæŠŠå»ºå›¾ç†æ¸…</del> </p>
<p>é¢˜æ„å¾ˆç®€å•ï¼Œï¼Œå°±æ˜¯ç»™ä½ ä¸€ä¸ªç­‰è…°æ¢¯å½¢é˜µï¼Œï¼Œä¸Šåº•æ˜¯mï¼Œï¼Œå…±nå±‚ï¼Œï¼Œï¼Œç„¶åä»é¡¶éƒ¨åˆ°åº•éƒ¨å¼•å‡ºmæ¡è·¯å¾„ï¼Œï¼Œè·¯å¾„é—´çš„é™åˆ¶æ¡ä»¶æœ‰ä¸‰ä¸ªï¼Œï¼Œç„¶åé—®ä½ æ‰¾å‡ºçš„è·¯å¾„çš„ç‚¹çš„å’Œæœ€å¤§å€¼æ˜¯å¤šå°‘ï¼Œï¼Œ</p>
<p>æ„Ÿè§‰è´¹ç”¨æµçš„é¢˜ä¸€ä¸ªç‰¹ç‚¹å°±æ˜¯ä¸ä»…è¦ä¿è¯ç‚¹çš„ä½¿ç”¨æ¬¡æ•°ï¼Œï¼Œä¹Ÿå°±æ˜¯å®¹é‡å¤§å°ï¼Œï¼Œè¿˜è¦ä¿å­˜å…¶å¦ä¸€ä¸ªå±æ€§ï¼Œï¼Œä¹Ÿå°±æ˜¯å•ä½è´¹ç”¨ï¼Œï¼Œ</p>
<p>å› ä¸ºè¦ä¿è¯æ¯ä¸€ä¸ªç‚¹ä½¿ç”¨çš„æ¬¡æ•°ï¼Œï¼Œä¾‹å¦‚ç¬¬ä¸€é—®å°±æ˜¯åªç”¨ä¸€æ¬¡ï¼Œç¬¬äºŒé—®å°±æ˜¯å¯ä»¥å¤šæ¬¡ä½¿ç”¨ç­‰ç­‰ï¼Œï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æ‹†ç‚¹ç”¨å®¹é‡å¤§å°æ¥é™åˆ¶ç‚¹çš„å–çš„æ¬¡æ•°ï¼Œï¼Œï¼Œ</p>
<p>å¯¹äºç‚¹æƒæ˜¾ç„¶å°±æ˜¯è´¹ç”¨ï¼Œï¼ŒåŠ åœ¨æ‹†ç‚¹çš„ä¸¤ä¸ªç‚¹ä¹‹é—´å°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
<p>è¿™æ ·è§ä¸‰æ¬¡å›¾ï¼Œï¼Œè·‘ä¸‰æ¬¡è´¹ç”¨æµå°±è¡Œäº†ï¼Œï¼Œï¼Œ</p>
<p>è¿™æ ·çš„é—®é¢˜çš„æ¨¡å‹æ˜¯ æœ€å¤§æƒä¸ç›¸äº¤è·¯å¾„ï¼Œï¼Œï¼Œé‚£ä¸ªå­åºåˆ—çš„æ˜¯ æœ€å¤šçš„ä¸ç›¸äº¤çš„è·¯å¾„æ•°</p>
<p>dijkstraå±…ç„¶æ¯”spfaçš„è´¹ç”¨æµæ…¢ä¸€äº›ï¼Œï¼Œï¼Œemmmm</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e6</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">MinCostMaxFlow</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> n, h[maxn], dis[maxn], prev[maxn], pree[maxn];<br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">    &#123;</span><br>        <span class="hljs-keyword">int</span> to, nxt, cap, cost;<br>        edge()&#123;&#125;<br>        edge(<span class="hljs-keyword">int</span> _to, <span class="hljs-keyword">int</span> _nxt, <span class="hljs-keyword">int</span> _cap, <span class="hljs-keyword">int</span> _cost):to(_to), nxt(_nxt), cap(_cap), cost(_cost)&#123;&#125;<br>    &#125;;<br>    <span class="hljs-built_in">vector</span>&lt;edge&gt; g[maxn];<br>    MinCostMaxFlow(<span class="hljs-keyword">int</span> _n)<br>    &#123;<br>        n = _n;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)g[i].clear();<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> w, <span class="hljs-keyword">int</span> c)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-comment">// cout &lt;&lt; u &lt;&lt; &quot; &quot; &lt;&lt; v &lt;&lt; &quot; &quot; &lt;&lt; w &lt;&lt; &quot; &quot; &lt;&lt; c &lt;&lt; endl;</span><br>        g[u].push_back(edge(v, g[v].size(), w, c));<br>        g[v].push_back(edge(u, g[u].size() - <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, -c));<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">mincostmaxflow</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> t, ll f, ll &amp;flow, ll &amp;cost)</span></span><br><span class="hljs-function">    </span>&#123;<br>        flow = cost = <span class="hljs-number">0</span>;fill(h, h + n + <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">while</span>(f)<br>        &#123;<br>            <span class="hljs-built_in">priority_queue</span>&lt;<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&gt;, greater&lt;<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&gt; &gt; q;<br>            fill(dis, dis + n + <span class="hljs-number">1</span>, inf);<br>            dis[s] = <span class="hljs-number">0</span>;<br>            q.push(<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;(<span class="hljs-number">0</span>, s));<br>            <span class="hljs-keyword">while</span>(!q.empty())<br>            &#123;<br>                <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; u = q.top(); q.pop();<br>                <span class="hljs-keyword">int</span> v = u.second;<br>                <span class="hljs-keyword">if</span>(dis[v] &lt; u.first)<span class="hljs-keyword">continue</span>;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; g[v].size(); ++i)<br>                &#123;<br>                    edge &amp;e = g[v][i];<br>                    <span class="hljs-keyword">if</span>(e.cap &gt; <span class="hljs-number">0</span> &amp;&amp; dis[e.to] &gt; dis[v] + e.cost + h[v] - h[e.to])<br>                    &#123;<br>                        dis[e.to] = dis[v] + e.cost + h[v] - h[e.to];<br>                        prev[e.to] = v;<br>                        pree[e.to] = i;<br>                        q.push(<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;(dis[e.to], e.to));<br>                    &#125;<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">if</span>(dis[t] == inf)<span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)h[i] += dis[i];<br>            <span class="hljs-keyword">int</span> d = f;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> v = t; v != s; v = prev[v])d = min(d, g[prev[v]][pree[v]].cap);<br>            f -= d; flow += d; cost += d * h[t];<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> v = t; v != s; v = prev[v])<br>            &#123;<br>                edge &amp;e = g[prev[v]][pree[v]];<br>                e.cap -= d;<br>                g[v][e.nxt].cap += d;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">maxcostmaxflow</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> t, <span class="hljs-keyword">int</span> f, <span class="hljs-keyword">int</span> &amp;flow, <span class="hljs-keyword">int</span> &amp;cost)</span></span><br><span class="hljs-function">    </span>&#123;<br>        flow = cost = <span class="hljs-number">0</span>;<br>        fill(h, h + n + <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">while</span>(f)<br>        &#123;<br>            <span class="hljs-built_in">priority_queue</span>&lt;<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&gt;, greater&lt;<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&gt; &gt;q;<br>            fill(dis, dis + n + <span class="hljs-number">1</span>, -inf);<br>            dis[s] = <span class="hljs-number">0</span>;<br>            q.push(<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;(<span class="hljs-number">0</span>, s));<br>            <span class="hljs-keyword">while</span>(!q.empty())<br>            &#123;<br>                <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; u = q.top(); q.pop();<br>                <span class="hljs-keyword">int</span> v = u.second;<br>                <span class="hljs-keyword">if</span>(dis[v] &gt; u.first)<span class="hljs-keyword">continue</span>;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; g[v].size(); ++i)<br>                &#123;<br>                    edge &amp;e = g[v][i];<br>                    <span class="hljs-keyword">if</span>(e.cap &gt; <span class="hljs-number">0</span> &amp;&amp; dis[e.to] &lt; dis[v] + e.cost + h[v] - h[e.to])<br>                    &#123;<br>                        dis[e.to] = dis[v] + e.cost + h[v] - h[e.to];<br>                        prev[e.to] = v;<br>                        pree[e.to] = i;<br>                        q.push(<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;(dis[e.to], e.to));<br>                    &#125;<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">if</span>(dis[t] == -inf)<span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)h[i] += dis[i];<br>            <span class="hljs-keyword">int</span> d = f;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> v = t; v != s; v = prev[v])d = min(d, g[prev[v]][pree[v]].cap);<br>            f -= d; flow += d; cost += d * h[t];<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> v = t; v != s; v = prev[v])<br>            &#123;<br>                edge &amp;e = g[prev[v]][pree[v]];<br>                e.cap -= d;<br>                g[v][e.nxt].cap += d;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;;<br><span class="hljs-keyword">int</span> a[<span class="hljs-number">30</span>][<span class="hljs-number">30</span>], n, m;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getidx</span><span class="hljs-params">(<span class="hljs-keyword">int</span> i, <span class="hljs-keyword">int</span> j)</span></span>&#123;<span class="hljs-keyword">return</span> (<span class="hljs-number">2</span> * m + i - <span class="hljs-number">2</span>) * (i - <span class="hljs-number">1</span>) / <span class="hljs-number">2</span> + j;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br><br>    <span class="hljs-built_in">cin</span> &gt;&gt; m &gt;&gt; n;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m + i - <span class="hljs-number">1</span>; ++j)<br>            <span class="hljs-built_in">cin</span> &gt;&gt; a[i][j];<br>    <span class="hljs-keyword">int</span> p = n * (<span class="hljs-number">2</span> * m + n - <span class="hljs-number">1</span>) / <span class="hljs-number">2</span>;<br>    <span class="hljs-keyword">int</span> s = <span class="hljs-number">0</span>, t = p * <span class="hljs-number">2</span> + <span class="hljs-number">1</span>;<br>    <span class="hljs-function">MinCostMaxFlow <span class="hljs-title">mcmf</span><span class="hljs-params">(t + <span class="hljs-number">1</span>)</span></span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)mcmf.addedge(s, i, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n - <span class="hljs-number">1</span>; ++i)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m + i - <span class="hljs-number">1</span>; ++j)<br>            mcmf.addedge(getidx(i, j) + p, getidx(i + <span class="hljs-number">1</span>, j), <span class="hljs-number">1</span>, <span class="hljs-number">0</span>), <br>            mcmf.addedge(getidx(i, j) + p, getidx(i + <span class="hljs-number">1</span>, j) + <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m + i - <span class="hljs-number">1</span>; ++j)<br>            mcmf.addedge(getidx(i, j), getidx(i, j) + p, <span class="hljs-number">1</span>, a[i][j]);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m + n - <span class="hljs-number">1</span>; ++i)mcmf.addedge(getidx(n, i) + p, t, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<br>    <span class="hljs-keyword">int</span> flow, cost;<br>    mcmf.maxcostmaxflow(s, t, inf, flow, cost);<br>    <span class="hljs-built_in">cout</span> &lt;&lt; cost &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <br>    <span class="hljs-comment">// delete &amp;mcmf;</span><br>    <span class="hljs-comment">//////////////////2</span><br>    mcmf = MinCostMaxFlow(t + <span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)mcmf.addedge(s, i, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n - <span class="hljs-number">1</span>; ++i)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m + i - <span class="hljs-number">1</span>; ++j)<br>            mcmf.addedge(getidx(i, j) + p, getidx(i + <span class="hljs-number">1</span>, j), <span class="hljs-number">1</span>, <span class="hljs-number">0</span>), <br>            mcmf.addedge(getidx(i, j) + p, getidx(i + <span class="hljs-number">1</span>, j) + <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m + i - <span class="hljs-number">1</span>; ++j)<br>            mcmf.addedge(getidx(i, j), getidx(i, j) + p, m, a[i][j]);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m + n - <span class="hljs-number">1</span>; ++i)mcmf.addedge(getidx(n, i) + p, t, m, <span class="hljs-number">0</span>);<br>    <br>    <span class="hljs-comment">// for(int i = 1; i &lt;= n; ++i)</span><br>    <span class="hljs-comment">//     for(int j = 2; j &lt;= m + i - 1 - 1; ++j)</span><br>    <span class="hljs-comment">//         mcmf.addedge(getidx(i, j), getidx(i, j) + p, m - 1, a[i][j]);</span><br>    <br>    mcmf.maxcostmaxflow(s, t, inf, flow, cost);<br>    <span class="hljs-built_in">cout</span> &lt;&lt; cost &lt;&lt; <span class="hljs-built_in">endl</span>;<br><br>    <span class="hljs-comment">/////////////3</span><br>    mcmf = MinCostMaxFlow(t + <span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)mcmf.addedge(s, i, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n - <span class="hljs-number">1</span>; ++i)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m + i - <span class="hljs-number">1</span>; ++j)<br>            mcmf.addedge(getidx(i, j) + p, getidx(i + <span class="hljs-number">1</span>, j), m, <span class="hljs-number">0</span>), <br>            mcmf.addedge(getidx(i, j) + p, getidx(i + <span class="hljs-number">1</span>, j) + <span class="hljs-number">1</span>, m, <span class="hljs-number">0</span>);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m + i - <span class="hljs-number">1</span>; ++j)<br>            mcmf.addedge(getidx(i, j), getidx(i, j) + p, m, a[i][j]);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m + n - <span class="hljs-number">1</span>; ++i)mcmf.addedge(getidx(n, i) + p, t, m, <span class="hljs-number">0</span>);<br>    <br>    <span class="hljs-comment">// for(int i = s; i &lt;= t; ++i)cout &lt;&lt; mcmf.g[i].size() &lt;&lt; &quot; &quot;;cout &lt;&lt; endl;</span><br>    <span class="hljs-comment">// for(int i = 1; i &lt;= n; ++i)</span><br>    <span class="hljs-comment">//     for(int j = 2; j &lt;= m + i - 1 - 1; ++j)</span><br>    <span class="hljs-comment">//         mcmf.addedge(getidx(i, j), getidx(i, j) + p, m - 1, a[i][j]);</span><br>    <br>    <span class="hljs-comment">// for(int i = s; i &lt;= t; ++i)cout &lt;&lt; mcmf.g[i].size() &lt;&lt; &quot; &quot;;cout &lt;&lt; endl;</span><br>    mcmf.maxcostmaxflow(s, t, inf, flow, cost);<br>    <span class="hljs-built_in">cout</span> &lt;&lt; cost &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p><a href="https://loj.ac/submission/603451">spfaç‰ˆçš„</a></p>
<h1 id=""><a href="#" class="headerlink" title=" "></a> </h1>]]></content>
  </entry>
  <entry>
    <title>ç¬”è®°-JUCå­¦ä¹ </title>
    <url>/2021/05/19/%E7%AC%94%E8%AE%B0-JUC%E5%AD%A6%E4%B9%A0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p><a href="https://www.bilibili.com/video/BV1B7411L7tE">å­¦ä¹ jucæ—¶çš„ä¸ªäººç¬”è®°</a></p>
<h1 id="1ã€çº¿ç¨‹"><a href="#1ã€çº¿ç¨‹" class="headerlink" title="1ã€çº¿ç¨‹"></a>1ã€çº¿ç¨‹</h1><h2 id="Enum-Thread-State"><a href="#Enum-Thread-State" class="headerlink" title="Enum Thread.State"></a>Enum Thread.State</h2><blockquote>
<p>A thread state. A thread can be in one of the following states:<br><strong>NEW</strong><br>A thread that has not yet started is in this state.<br><strong>RUNNABLE</strong><br>A thread executing in the Java virtual machine is in this state.<br><strong>BLOCKED</strong><br>A thread that is blocked waiting for a monitor lock is in this state.<br><strong>WAITING</strong><br>A thread that is waiting indefinitely for another thread to perform a particular action is in this state.<br><strong>TIMED_WAITING</strong><br>A thread that is waiting for another thread to perform an action for up to a specified waiting time is in this state.<br><strong>TERMINATED</strong><br>A thread that has exited is in this state.<br>A thread can be in only one state at a given point in time. These states are virtual machine states which do not reflect any operating system thread states.</p>
</blockquote>
<h2 id="wait-sleepåŒºåˆ«"><a href="#wait-sleepåŒºåˆ«" class="headerlink" title="wait/sleepåŒºåˆ«"></a>wait/sleepåŒºåˆ«</h2><blockquote>
<p>å®é™…å¼€å‘ä¸­ä¸€èˆ¬ä½¿ç”¨juc.TimeUnitæ¥ä¼‘çœ </p>
</blockquote>
<h3 id="æ¥è‡ªä¸åŒç±»"><a href="#æ¥è‡ªä¸åŒç±»" class="headerlink" title="æ¥è‡ªä¸åŒç±»"></a>æ¥è‡ªä¸åŒç±»</h3><ul>
<li>waitï¼šobject</li>
<li>sleepï¼šthread</li>
</ul>
<h3 id="é”"><a href="#é”" class="headerlink" title="é”"></a>é”</h3><ul>
<li>waitï¼š é‡Šæ”¾é”</li>
<li>sleepï¼šä¸é‡Šæ”¾é”</li>
</ul>
<h3 id="ä½¿ç”¨èŒƒå›´"><a href="#ä½¿ç”¨èŒƒå›´" class="headerlink" title="ä½¿ç”¨èŒƒå›´"></a>ä½¿ç”¨èŒƒå›´</h3><ul>
<li>waitï¼šä»…èƒ½åœ¨åŒæ­¥ä»£ç å—ä¸­ä½¿ç”¨</li>
<li>sleepï¼š ä»»ä½•åœ°æ–¹</li>
</ul>
<h3 id="æ˜¯å¦æ•è·å¼‚å¸¸"><a href="#æ˜¯å¦æ•è·å¼‚å¸¸" class="headerlink" title="æ˜¯å¦æ•è·å¼‚å¸¸"></a>æ˜¯å¦æ•è·å¼‚å¸¸</h3><ul>
<li>waitï¼š<del>ä¸éœ€è¦</del> ï¼ˆè¿™é‡Œæˆ‘æŸ¥åˆ°çš„èµ„æ–™æœ‰è¯´ä¹Ÿéœ€è¦æŠ›å‡ºå¼‚å¸¸ï¼Œæœ‰IllegalMonitorStateExceptionå’ŒInterruptedExceptionï¼‰</li>
<li>sleepï¼šéœ€è¦æ•è·è¶…æ—¶ç­‰å¾…å¼‚å¸¸</li>
</ul>
<h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä½¿ç”¨waitçš„æ ¼å¼æ˜¯ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">synchronized</span> (obj)&#123;<br>	<span class="hljs-keyword">while</span>(condition does not hold)&#123;<br>		obj.wait(timeout)<br>	&#125;<br>	<span class="hljs-comment">// ohter perform</span><br>	obj.notifyAll()<br>&#125;<br></code></pre></td></tr></table></figure>
<p>è¿™é‡Œä½¿ç”¨ <code>while</code> åˆ¤æ–­çš„åŸå› æ˜¯ï¼Œå¦‚æœä½¿ç”¨ <code>if</code> å¯èƒ½å­˜åœ¨å¤šä¸ªçº¿ç¨‹å¹¶å‘å‡ºç°<strong>è™šå‡å”¤é†’</strong>æƒ…å†µã€‚ï¼ˆå°±æ˜¯å¤šä¸ªçº¿ç¨‹åœ¨åˆ¤æ–­æ—¶æ»¡è¶³æ¡ä»¶ï¼Œä½†éƒ½æ‰§è¡Œäº†ï¼‰</p>
<h2 id="Threadlocal"><a href="#Threadlocal" class="headerlink" title="Threadlocal"></a>Threadlocal</h2><p>è¿™é‡Œåªæ˜¯æˆ‘å¯¹ threadlocalçš„ä¸ªäººç†è§£ï¼ˆä¸ä¿è¯æ­£ç¡®ï¼‰ï¼š</p>
<p>é¦–å…ˆï¼Œæ¯ä¸€ä¸ª thread ä¸­éƒ½ç»´æŠ¤ä¸€ä¸ª threadlocalmap ï¼ˆè¿™é‡Œçš„mapå¹¶ä¸æ˜¯å’Œhashmapä¸€æ ·çš„mapï¼Œä»…æ˜¯ç›¸ä¼¼ï¼‰</p>
<p>å…¶ä¸­mapçš„æ¯ä¸€ä¸ª Key æ˜¯æ‰€ç”¨åˆ°çš„ threadlocal å¯¹è±¡çš„å¼•ç”¨ï¼Œvalueå³ä¸ºthreadlocal å¯¹è±¡æ‰€è®¾ç½®çš„å…±äº«å˜é‡çš„å‰¯æœ¬å€¼</p>
<p>å½“çº¿ç¨‹è¦ä½¿ç”¨å˜é‡å‰¯æœ¬å€¼æ—¶ï¼Œå°†ç›´æ¥æŸ¥æ‰¾åˆ°å¯¹åº” threadlocal çš„å¼•ç”¨å¯¹åº”çš„ entry ï¼Œç„¶åè·å–åˆ°å€¼</p>
<p>OOMé—®é¢˜ï¼šmapä¸­çš„entry æ˜¯ä¸€ä¸ªå¼±å¼•ç”¨ï¼Œå½“ key æ²¡æœ‰å¼•ç”¨åå°±ä¼šè¢«gcï¼Œä½†æ˜¯valueæ˜¯ä¸€ä¸ªå¼ºå¼•ç”¨ï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨è°ƒç”¨ remove() æ¥ä¿è¯ä½¿ç”¨å®Œåé”€æ¯ï¼Œå¦ç€ï¼Œå¦‚æœçº¿ç¨‹ä¸€ç›´å­˜åœ¨å¹¶ä¸”æ€»æ˜¯ä½¿ç”¨threadlocalçš„å€¼ï¼Œ mapå°±ä¼šè¶Šæ¥è¶Šå¤§ï¼Œå‡ºç°OOMå¼‚å¸¸</p>
<h2 id="æ™®é€šçš„å¤šçº¿ç¨‹ä¾‹å­"><a href="#æ™®é€šçš„å¤šçº¿ç¨‹ä¾‹å­" class="headerlink" title="æ™®é€šçš„å¤šçº¿ç¨‹ä¾‹å­"></a>æ™®é€šçš„å¤šçº¿ç¨‹ä¾‹å­</h2><figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.BufferedReader;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.io.InputStreamReader;<br><span class="hljs-keyword">import</span> java.sql.Time;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;<br>        <span class="hljs-comment">// BufferedReader bf = new BufferedReader(new InputStreamReader(System.in));</span><br>        <span class="hljs-comment">// String par[] = bf.readLine().trim().split(&quot; &quot;);</span><br><br>        Ticket ticket = <span class="hljs-keyword">new</span> Ticket();<br>        <span class="hljs-keyword">new</span> Thread(() -&gt; &#123;<br>            <span class="hljs-keyword">try</span> &#123;<br>                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">30</span>; ++i) &#123;<br>                    ticket.sale();<br>                    Thread.sleep(<span class="hljs-number">100</span>);<br>                &#125;<br>            &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>                e.printStackTrace();<br>            &#125;<br>        &#125;, <span class="hljs-string">&quot;A&quot;</span>).start();<br>        <span class="hljs-keyword">new</span> Thread(() -&gt; &#123;<br>            <span class="hljs-keyword">try</span> &#123;<br>                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">30</span>; ++i) &#123;<br>                    ticket.sale();<br>                    Thread.sleep(<span class="hljs-number">100</span>);<br>                &#125;<br>            &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>                e.printStackTrace();<br>            &#125;<br>        &#125;, <span class="hljs-string">&quot;B&quot;</span>).start();<br>        <span class="hljs-keyword">new</span> Thread(() -&gt; &#123;<br>            <span class="hljs-keyword">try</span> &#123;<br>                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">30</span>; ++i) &#123;<br>                    ticket.sale();<br>                    Thread.sleep(<span class="hljs-number">100</span>);<br>                &#125;<br>            &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>                e.printStackTrace();<br>            &#125;<br>        &#125;, <span class="hljs-string">&quot;C&quot;</span>).start();<br><br>    &#125;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Ticket</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> number = <span class="hljs-number">20</span>;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title">sale</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (number &gt; <span class="hljs-number">0</span>) &#123;<br>            System.out.println(Thread.currentThread().getName() + <span class="hljs-string">&quot; get &quot;</span> + (number--) + <span class="hljs-string">&quot; th&quot;</span>);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="2ã€LOCK"><a href="#2ã€LOCK" class="headerlink" title="2ã€LOCK"></a>2ã€LOCK</h1><p>åˆ›å»ºé”çš„æ–¹å¼ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java">Lock lock = <span class="hljs-keyword">new</span> ReentrantLock();<br></code></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/20210418104827181.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BpMzE0MTU5MjY1MzV4,size_16,color_FFFFFF,t_70" alt=""><br>é»˜è®¤æƒ…å†µä¸‹ï¼Œå»ºç«‹çš„é”æ˜¯ <strong>éå…¬å¹³é”</strong> ï¼ˆ<code>NonfairSync()</code>ï¼‰</p>
<ul>
<li>å…¬å¹³é”ï¼šå…ˆæ¥ååˆ°</li>
<li>éå…¬å¹³é”ï¼šå¯ä»¥æ’é˜Ÿ</li>
</ul>
<p>ä½¿ç”¨lock åŠ è§£é”çš„æ–¹å¼è¦ä½¿ç”¨trycatchfinallyè¯­å¥å—ï¼Œå…¶ä¸­è¦å°† <code>unlock()</code> æ”¾åœ¨finallyä¸­</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.BufferedReader;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.io.InputStreamReader;<br><span class="hljs-keyword">import</span> java.sql.Time;<br><span class="hljs-keyword">import</span> java.util.concurrent.locks.Lock;<br><span class="hljs-keyword">import</span> java.util.concurrent.locks.ReentrantLock;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;<br>        <span class="hljs-comment">// BufferedReader bf = new BufferedReader(new InputStreamReader(System.in));</span><br>        <span class="hljs-comment">// String par[] = bf.readLine().trim().split(&quot; &quot;);</span><br><br>        Ticket ticket = <span class="hljs-keyword">new</span> Ticket();<br>        <span class="hljs-comment">// new Thread(()-&gt;&#123;for(int i = 0; i &lt; 20; ++i)&#123;ticket.sale();&#125;&#125;, &quot;A&quot;).start();</span><br>        <span class="hljs-comment">// new Thread(()-&gt;&#123;for(int i = 0; i &lt; 20; ++i)&#123;ticket.sale();&#125;&#125;, &quot;B&quot;).start();</span><br>        <span class="hljs-comment">// new Thread(()-&gt;&#123;for(int i = 0; i &lt; 20; ++i)&#123;ticket.sale();&#125;&#125;, &quot;C&quot;).start();</span><br><br>        <span class="hljs-keyword">new</span> Thread(() -&gt; &#123;<br>            <span class="hljs-keyword">try</span> &#123;<br>                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">30</span>; ++i) &#123;<br>                    ticket.sale();<br>                    Thread.sleep(<span class="hljs-number">100</span>);<br>                &#125;<br>            &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>                e.printStackTrace();<br>            &#125;<br>        &#125;, <span class="hljs-string">&quot;A&quot;</span>).start();<br>        <span class="hljs-keyword">new</span> Thread(() -&gt; &#123;<br>            <span class="hljs-keyword">try</span> &#123;<br>                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">30</span>; ++i) &#123;<br>                    ticket.sale();<br>                    Thread.sleep(<span class="hljs-number">100</span>);<br>                &#125;<br>            &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>                e.printStackTrace();<br>            &#125;<br>        &#125;, <span class="hljs-string">&quot;B&quot;</span>).start();<br>        <span class="hljs-keyword">new</span> Thread(() -&gt; &#123;<br>            <span class="hljs-keyword">try</span> &#123;<br>                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">30</span>; ++i) &#123;<br>                    ticket.sale();<br>                    Thread.sleep(<span class="hljs-number">100</span>);<br>                &#125;<br>            &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>                e.printStackTrace();<br>            &#125;<br>        &#125;, <span class="hljs-string">&quot;C&quot;</span>).start();<br>    &#125;<br><br>        <br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Ticket</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> number = <span class="hljs-number">20</span>;<br>    Lock lock = <span class="hljs-keyword">new</span> ReentrantLock();<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title">sale</span><span class="hljs-params">()</span> </span>&#123;<br>        lock.lock();<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-keyword">if</span> (number &gt; <span class="hljs-number">0</span>) &#123;<br>                System.out.println(Thread.currentThread().getName() + <span class="hljs-string">&quot; get &quot;</span> + (number--) + <span class="hljs-string">&quot; th&quot;</span>);<br>            &#125;<br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            <span class="hljs-comment">//<span class="hljs-doctag">TODO:</span> handle exception</span><br>        &#125;<br>        <span class="hljs-keyword">finally</span>&#123;<br>            lock.unlock();<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="synchronized-ä¸-Lockçš„åŒºåˆ«"><a href="#synchronized-ä¸-Lockçš„åŒºåˆ«" class="headerlink" title="synchronized ä¸ Lockçš„åŒºåˆ«"></a>synchronized ä¸ Lockçš„åŒºåˆ«</h2><ul>
<li>synchronized å†…ç½®å…³é”®å­—ï¼›lockæ˜¯ä¸€ä¸ªç±»</li>
<li>synchronized æ— æ³•åˆ¤æ–­é”çš„çŠ¶æ€ï¼›lockå¯ä»¥åˆ¤æ–­æ˜¯å¦è·å–åˆ°é”ï¼ˆ<code>tryLock()</code>ï¼‰</li>
<li>synchronized ä¼šè‡ªåŠ¨é‡Šæ”¾é”ï¼›lockéœ€è¦é€šè¿‡ <code>unlock</code> æ¥æ‰‹åŠ¨é‡Šæ”¾ï¼Œï¼ˆä¸é‡Šæ”¾å¯èƒ½æ­»é”ï¼‰</li>
<li>synchronized å¦‚æœä¸€ä¸ªçº¿ç¨‹åœ¨è·å–åˆ°é”é˜»å¡ï¼Œå…¶ä»–çº¿ç¨‹ä¼šç­‰å¾…ï¼›lockå¯ä»¥ä½¿ç”¨ <code>tryLock</code> å°è¯•è·å–é”</li>
<li>synchronized å¯é‡å…¥é”ï¼Œä¸å¯ä¸­æ–­ï¼Œéå…¬å¹³ï¼›å¯é‡å…¥é”ï¼Œå¯ä»¥åˆ¤æ–­ä¸­æ–­ï¼Œå¯ä»¥æ‰‹åŠ¨è®¾ç½®æ˜¯å¦å…¬å¹³ï¼ˆé»˜è®¤æ„é€ éå…¬å¹³ï¼Œfalseè®¾ç½®ä¸ºå…¬å¹³ï¼‰</li>
<li>synchronized é€‚åˆé”å°‘é‡çš„ä»£ç åŒæ­¥ï¼›locké€‚åˆé”å¤§é‡åŒæ­¥çš„ä»£ç ï¼ˆçµæ´»ï¼‰</li>
</ul>
<h2 id="ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹"><a href="#ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹" class="headerlink" title="ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹"></a>ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹</h2><h3 id="synchronizedå®ç°"><a href="#synchronizedå®ç°" class="headerlink" title="synchronizedå®ç°"></a>synchronizedå®ç°</h3><figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.BufferedReader;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.io.InputStreamReader;<br><span class="hljs-keyword">import</span> java.sql.Time;<br><span class="hljs-keyword">import</span> java.util.concurrent.locks.Lock;<br><span class="hljs-keyword">import</span> java.util.concurrent.locks.ReentrantLock;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;<br>        <span class="hljs-comment">// BufferedReader bf = new BufferedReader(new InputStreamReader(System.in));</span><br>        <span class="hljs-comment">// String par[] = bf.readLine().trim().split(&quot; &quot;);</span><br><br>        Data data = <span class="hljs-keyword">new</span> Data();<br>        <br>        <span class="hljs-keyword">new</span> Thread(()-&gt;&#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; ++i)&#123;<br>                <span class="hljs-keyword">try</span> &#123;<br>                    data.inc();<br>                &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>                    <span class="hljs-comment">// TODO Auto-generated catch block</span><br>                    e.printStackTrace();<br>                &#125;<br>            &#125;<br>        &#125;, <span class="hljs-string">&quot;A&quot;</span>).start();<br>        <span class="hljs-keyword">new</span> Thread(()-&gt;&#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; ++i)&#123;<br>                <span class="hljs-keyword">try</span> &#123;<br>                    data.dec();<br>                &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>                    <span class="hljs-comment">// TODO Auto-generated catch block</span><br>                    e.printStackTrace();<br>                &#125;<br>            &#125;<br>        &#125;, <span class="hljs-string">&quot;B&quot;</span>).start();<br>        <span class="hljs-keyword">new</span> Thread(()-&gt;&#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; ++i)&#123;<br>                <span class="hljs-keyword">try</span> &#123;<br>                    data.dec();<br>                &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>                    <span class="hljs-comment">// TODO Auto-generated catch block</span><br>                    e.printStackTrace();<br>                &#125;<br>            &#125;<br>        &#125;, <span class="hljs-string">&quot;C&quot;</span>).start();<br>        <span class="hljs-keyword">new</span> Thread(()-&gt;&#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; ++i)&#123;<br>                <span class="hljs-keyword">try</span> &#123;<br>                    data.inc();<br>                &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>                    <span class="hljs-comment">// TODO Auto-generated catch block</span><br>                    e.printStackTrace();<br>                &#125;<br>            &#125;<br>        &#125;, <span class="hljs-string">&quot;D&quot;</span>).start();<br>        <br>    &#125;<br><br>        <br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Data</span></span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> number = <span class="hljs-number">0</span>;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title">inc</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> InterruptedException</span>&#123;<br>        <span class="hljs-keyword">while</span>(number != <span class="hljs-number">0</span>)&#123;<br>            <span class="hljs-keyword">this</span>.wait();<br>        &#125;<br>        ++number;<br>        System.out.println(Thread.currentThread().getName() + <span class="hljs-string">&quot; -&gt; &quot;</span> + number);<br>        <span class="hljs-keyword">this</span>.notifyAll();<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title">dec</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> InterruptedException</span>&#123;<br>        <span class="hljs-keyword">while</span>(number == <span class="hljs-number">0</span>)&#123;<br>            <span class="hljs-keyword">this</span>.wait();<br>        &#125;<br>        --number;<br>        System.out.println(Thread.currentThread().getName() + <span class="hljs-string">&quot; -&gt; &quot;</span> + number);<br>        <span class="hljs-keyword">this</span>.notifyAll();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>ï¼ˆæ³¨æ„åŒæ­¥æ–¹æ³•çš„å†™æ³•ï¼šå¾ªç¯åˆ¤æ–­ç­‰å¾…ã€ä¸šåŠ¡ã€é€šçŸ¥å”¤é†’ï¼›å…¶ä¸­å¾ªç¯åˆ¤æ–­çš„åŸå› æ˜¯é˜²æ­¢å‡ºç°è™šå‡å”¤é†’ï¼‰</p>
<h3 id="Lockå®ç°"><a href="#Lockå®ç°" class="headerlink" title="Lockå®ç°"></a>Lockå®ç°</h3><p><img src="https://img-blog.csdnimg.cn/2021041909195555.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BpMzE0MTU5MjY1MzV4,size_16,color_FFFFFF,t_70" alt=""></p>
<p>å¦‚å›¾ï¼ŒLockç›¸å½“äºæ˜¯synchronizedï¼Œè€Œwaitå’ŒnotifyAllç›¸å½“äºconditionä¸­çš„awaitå’Œsignal</p>
<p>jdkä¸­çš„ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<p><img src="https://img-blog.csdnimg.cn/2021041909223997.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BpMzE0MTU5MjY1MzV4,size_16,color_FFFFFF,t_70" alt=""><br>è¿˜æ˜¯å¾ªç¯åˆ¤æ–­æ¡ä»¶awaitç­‰å¾…ã€ä¸šåŠ¡ã€signalå”¤é†’ï¼ˆsignalAllå¯ä»¥å”¤é†’å…¨éƒ¨ï¼‰ï¼›æœ€åå†å°†lockã€unlockåŠ ä¸Š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.BufferedReader;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.io.InputStreamReader;<br><span class="hljs-keyword">import</span> java.sql.Time;<br><span class="hljs-keyword">import</span> java.util.concurrent.locks.Condition;<br><span class="hljs-keyword">import</span> java.util.concurrent.locks.Lock;<br><span class="hljs-keyword">import</span> java.util.concurrent.locks.ReentrantLock;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;<br>        <span class="hljs-comment">// BufferedReader bf = new BufferedReader(new InputStreamReader(System.in));</span><br>        <span class="hljs-comment">// String par[] = bf.readLine().trim().split(&quot; &quot;);</span><br><br>        Data data = <span class="hljs-keyword">new</span> Data();<br>        <br>        <span class="hljs-keyword">new</span> Thread(()-&gt;&#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; ++i)&#123;<br>                <span class="hljs-keyword">try</span> &#123;<br>                    data.inc();<br>                &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>                    <span class="hljs-comment">// TODO Auto-generated catch block</span><br>                    e.printStackTrace();<br>                &#125;<br>            &#125;<br>        &#125;, <span class="hljs-string">&quot;A&quot;</span>).start();<br>        <span class="hljs-keyword">new</span> Thread(()-&gt;&#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; ++i)&#123;<br>                <span class="hljs-keyword">try</span> &#123;<br>                    data.dec();<br>                &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>                    <span class="hljs-comment">// TODO Auto-generated catch block</span><br>                    e.printStackTrace();<br>                &#125;<br>            &#125;<br>        &#125;, <span class="hljs-string">&quot;B&quot;</span>).start();<br>        <span class="hljs-keyword">new</span> Thread(()-&gt;&#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; ++i)&#123;<br>                <span class="hljs-keyword">try</span> &#123;<br>                    data.dec();<br>                &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>                    <span class="hljs-comment">// TODO Auto-generated catch block</span><br>                    e.printStackTrace();<br>                &#125;<br>            &#125;<br>        &#125;, <span class="hljs-string">&quot;C&quot;</span>).start();<br>        <span class="hljs-keyword">new</span> Thread(()-&gt;&#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; ++i)&#123;<br>                <span class="hljs-keyword">try</span> &#123;<br>                    data.inc();<br>                &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>                    <span class="hljs-comment">// TODO Auto-generated catch block</span><br>                    e.printStackTrace();<br>                &#125;<br>            &#125;<br>        &#125;, <span class="hljs-string">&quot;D&quot;</span>).start();<br>        <br>    &#125;<br><br>        <br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Data</span></span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> number = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">private</span> Lock lock = <span class="hljs-keyword">new</span> ReentrantLock();<br>    <span class="hljs-keyword">private</span> Condition condition = lock.newCondition();<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">inc</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> InterruptedException</span>&#123;<br><br>        lock.lock();<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-keyword">while</span>(number != <span class="hljs-number">0</span>)&#123;<br>                condition.await();<br>            &#125;<br>            ++number;<br>            System.out.println(Thread.currentThread().getName() + <span class="hljs-string">&quot; -&gt; &quot;</span> + number);<br>            condition.signalAll();<br>            <br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            <span class="hljs-comment">//<span class="hljs-doctag">TODO:</span> handle exception</span><br>        &#125;<br>        <span class="hljs-keyword">finally</span>&#123;<br>            lock.unlock();<br>        &#125;<br><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">dec</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> InterruptedException</span>&#123;<br>        lock.lock();<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-keyword">while</span>(number == <span class="hljs-number">0</span>)&#123;<br>                condition.await();<br>            &#125;<br>            --number;<br>            System.out.println(Thread.currentThread().getName() + <span class="hljs-string">&quot; -&gt; &quot;</span> + number);<br>            condition.signalAll();<br>            <br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            <span class="hljs-comment">//<span class="hljs-doctag">TODO:</span> handle exception</span><br>        &#125;<br>        <span class="hljs-keyword">finally</span>&#123;<br>            lock.unlock();<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="å¤šé€šçŸ¥å¾ªç¯çº¿ç¨‹ï¼š"><a href="#å¤šé€šçŸ¥å¾ªç¯çº¿ç¨‹ï¼š" class="headerlink" title="å¤šé€šçŸ¥å¾ªç¯çº¿ç¨‹ï¼š"></a>å¤šé€šçŸ¥å¾ªç¯çº¿ç¨‹ï¼š</h3><p>å³ä½¿ç”¨å¤šä¸ªä¿¡å·é‡æ¥å¤„ç†ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.BufferedReader;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.io.InputStreamReader;<br><span class="hljs-keyword">import</span> java.sql.Time;<br><span class="hljs-keyword">import</span> java.util.concurrent.locks.Condition;<br><span class="hljs-keyword">import</span> java.util.concurrent.locks.Lock;<br><span class="hljs-keyword">import</span> java.util.concurrent.locks.ReentrantLock;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;<br>        <span class="hljs-comment">// BufferedReader bf = new BufferedReader(new InputStreamReader(System.in));</span><br>        <span class="hljs-comment">// String par[] = bf.readLine().trim().split(&quot; &quot;);</span><br><br>        Data data = <span class="hljs-keyword">new</span> Data();<br>        <br>        <span class="hljs-keyword">new</span> Thread(()-&gt;&#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; ++i)&#123;<br>                    data.printA();<br>            &#125;<br>        &#125;, <span class="hljs-string">&quot;A&quot;</span>).start();<br>        <span class="hljs-keyword">new</span> Thread(()-&gt;&#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; ++i)&#123;<br>                    data.printB();<br>            &#125;<br>        &#125;, <span class="hljs-string">&quot;B&quot;</span>).start();<br>        <span class="hljs-keyword">new</span> Thread(()-&gt;&#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; ++i)&#123;<br>                    data.printC();<br>            &#125;<br>        &#125;, <span class="hljs-string">&quot;C&quot;</span>).start();    <br>    &#125;<br><br>        <br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Data</span></span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> number = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">private</span> Lock lock = <span class="hljs-keyword">new</span> ReentrantLock();<br>    <span class="hljs-keyword">private</span> Condition condition1 = lock.newCondition();<br>    <span class="hljs-keyword">private</span> Condition condition2 = lock.newCondition();<br>    <span class="hljs-keyword">private</span> Condition condition3 = lock.newCondition();<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">printA</span><span class="hljs-params">()</span></span>&#123;<br>        lock.lock();<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-keyword">while</span>(number != <span class="hljs-number">1</span>)&#123;<br>                condition1.await();<br>            &#125;<br>            System.out.println(Thread.currentThread().getName() + <span class="hljs-string">&quot;AAAAAAAAA&quot;</span>);<br>            number = <span class="hljs-number">2</span>;<br>            condition2.signal();<br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            <span class="hljs-comment">//<span class="hljs-doctag">TODO:</span> handle exception</span><br>        &#125;<br>        <span class="hljs-keyword">finally</span>&#123;<br>            lock.unlock();<br>        &#125;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">printB</span><span class="hljs-params">()</span></span>&#123;<br>        lock.lock();<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-keyword">while</span>(number != <span class="hljs-number">2</span>)&#123;<br>                condition2.await();<br>            &#125;<br>            System.out.println(Thread.currentThread().getName() + <span class="hljs-string">&quot;BBBBBBBBB&quot;</span>);<br>            number = <span class="hljs-number">3</span>;<br>            condition3.signal();<br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            <span class="hljs-comment">//<span class="hljs-doctag">TODO:</span> handle exception</span><br>        &#125;<br>        <span class="hljs-keyword">finally</span>&#123;<br>            lock.unlock();<br>        &#125;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">printC</span><span class="hljs-params">()</span></span>&#123;<br>        lock.lock();<br>        <span class="hljs-keyword">try</span> &#123;<br>            <span class="hljs-keyword">while</span>(number != <span class="hljs-number">3</span>)&#123;<br>                condition3.await();<br>            &#125;<br>            System.out.println(Thread.currentThread().getName() + <span class="hljs-string">&quot;CCCCCCCCC&quot;</span>);<br>            number = <span class="hljs-number">1</span>;<br>            condition1.signal();<br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            <span class="hljs-comment">//<span class="hljs-doctag">TODO:</span> handle exception</span><br>        &#125;<br>        <span class="hljs-keyword">finally</span>&#123;<br>            lock.unlock();<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="3ã€å…«é”é—®é¢˜"><a href="#3ã€å…«é”é—®é¢˜" class="headerlink" title="3ã€å…«é”é—®é¢˜"></a>3ã€å…«é”é—®é¢˜</h1><p>å…¶å®å°±æ˜¯å¯¹ <code>synchronized</code> æ‰€é”çš„æƒ…å†µè¿›è¡Œè®¨è®ºå³å¯ï¼š<a href="https://blog.csdn.net/qq_31748587/article/details/105498566">å‚è€ƒ</a></p>
<h1 id="4ã€å¹¶å‘é›†åˆæ“ä½œ"><a href="#4ã€å¹¶å‘é›†åˆæ“ä½œ" class="headerlink" title="4ã€å¹¶å‘é›†åˆæ“ä½œ"></a>4ã€å¹¶å‘é›†åˆæ“ä½œ</h1><p><img src="https://img-blog.csdnimg.cn/20210419165535986.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BpMzE0MTU5MjY1MzV4,size_16,color_FFFFFF,t_70" alt=""></p>
<h2 id="CopyOnWriteArrayList"><a href="#CopyOnWriteArrayList" class="headerlink" title="CopyOnWriteArrayList"></a>CopyOnWriteArrayList</h2><p>å¯¹äºæ™®é€šçš„é›†åˆå¤šçº¿ç¨‹æ“ä½œå¯èƒ½ä¼šå‡ºç° `java.util.ConcurrentModificationException`` å³ <strong>å¹¶å‘ä¿®æ”¹å¼‚å¸¸</strong> å¦‚ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.BufferedReader;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.io.InputStreamReader;<br><span class="hljs-keyword">import</span> java.sql.Time;<br><span class="hljs-keyword">import</span> java.util.ArrayList;<br><span class="hljs-keyword">import</span> java.util.List;<br><span class="hljs-keyword">import</span> java.util.UUID;<br><span class="hljs-keyword">import</span> java.util.concurrent.TimeUnit;<br><span class="hljs-keyword">import</span> java.util.concurrent.locks.Condition;<br><span class="hljs-keyword">import</span> java.util.concurrent.locks.Lock;<br><span class="hljs-keyword">import</span> java.util.concurrent.locks.ReentrantLock;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;<br>        <span class="hljs-comment">// BufferedReader bf = new BufferedReader(new InputStreamReader(System.in));</span><br>        <span class="hljs-comment">// String par[] = bf.readLine().trim().split(&quot; &quot;);</span><br><br>        List&lt;String&gt; list = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; ++i)&#123;<br>            <span class="hljs-keyword">new</span> Thread(()-&gt;&#123;<br>                list.add(UUID.randomUUID().toString().substring(<span class="hljs-number">0</span>, <span class="hljs-number">5</span>));<br>                System.out.println(list);<br>            &#125;, String.valueOf(i)).start();;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/20210419154616354.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BpMzE0MTU5MjY1MzV4,size_16,color_FFFFFF,t_70" alt=""><br>(å¯èƒ½éœ€è¦å¤šæ¬¡è¿è¡Œæ‰èƒ½å¤ç°ï¼Œjdkç‰ˆæœ¬è¾ƒé«˜çš„è¯ä¹Ÿä¸å®¹æ˜“å‡ºç°ï¼Œæˆ‘çš„æ˜¯jdk11ï¼‰</p>
<p>è§£å†³æ–¹æ¡ˆï¼š</p>
<ul>
<li><code>List&lt;String&gt; list = new Vector&lt;&gt;();</code> è¿™ä¸ªæ˜¯ä¹‹å‰å¸¸ç”¨çš„ï¼Œä½†æ˜¯å¾ˆæ…¢ï¼ˆå®ƒæ¯”arraylistå‡ºç°çš„è¦æ—©ï¼‰</li>
<li><code>List&lt;String&gt; list = Collections.synchronizedList(new ArrayList&lt;&gt;());</code> </li>
<li>JUC</li>
</ul>
<p>å¦‚ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.BufferedReader;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.io.InputStreamReader;<br><span class="hljs-keyword">import</span> java.sql.Time;<br><span class="hljs-keyword">import</span> java.util.ArrayList;<br><span class="hljs-keyword">import</span> java.util.Collection;<br><span class="hljs-keyword">import</span> java.util.Collections;<br><span class="hljs-keyword">import</span> java.util.List;<br><span class="hljs-keyword">import</span> java.util.UUID;<br><span class="hljs-keyword">import</span> java.util.Vector;<br><span class="hljs-keyword">import</span> java.util.concurrent.CopyOnWriteArrayList;<br><span class="hljs-keyword">import</span> java.util.concurrent.TimeUnit;<br><span class="hljs-keyword">import</span> java.util.concurrent.locks.Condition;<br><span class="hljs-keyword">import</span> java.util.concurrent.locks.Lock;<br><span class="hljs-keyword">import</span> java.util.concurrent.locks.ReentrantLock;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;<br>        <span class="hljs-comment">// BufferedReader bf = new BufferedReader(new InputStreamReader(System.in));</span><br>        <span class="hljs-comment">// String par[] = bf.readLine().trim().split(&quot; &quot;);</span><br><br>        <span class="hljs-comment">// List&lt;String&gt; list = new ArrayList&lt;&gt;();</span><br>        <span class="hljs-comment">// List&lt;String&gt; list = new Vector&lt;&gt;();</span><br>        <span class="hljs-comment">// List&lt;String&gt; list = Collections.synchronizedList(new ArrayList&lt;&gt;());</span><br>        List&lt;String&gt; list = <span class="hljs-keyword">new</span> CopyOnWriteArrayList&lt;&gt;();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; ++i)&#123;<br>            <span class="hljs-keyword">new</span> Thread(()-&gt;&#123;<br>                list.add(UUID.randomUUID().toString().substring(<span class="hljs-number">0</span>, <span class="hljs-number">5</span>));<br>                System.out.println(list);<br>            &#125;, String.valueOf(i)).start();;<br>        &#125;<br>    &#125;<br><br>        <br>&#125;<br></code></pre></td></tr></table></figure>
<p>(åœ¨jdk11åï¼ŒCopyOnWriteArrayListä¸­çš„æ˜¯é€šè¿‡ synchronized å®ç°çš„ï¼Œå› ä¸º synchronized å‡çº§äº†ï¼‰ï¼š</p>
<p><img src="https://img-blog.csdnimg.cn/20210419163528257.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BpMzE0MTU5MjY1MzV4,size_16,color_FFFFFF,t_70" alt=""><br><img src="https://img-blog.csdnimg.cn/20210419163624943.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BpMzE0MTU5MjY1MzV4,size_16,color_FFFFFF,t_70" alt=""></p>
<h2 id="CopyOnWriteArraySet"><a href="#CopyOnWriteArraySet" class="headerlink" title="CopyOnWriteArraySet"></a>CopyOnWriteArraySet</h2><p>åŒç†ï¼Œsetï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java">Set&lt;String&gt; set = <span class="hljs-keyword">new</span> HashSet&lt;&gt;();<br>Set&lt;String&gt; set = Collections.synchronizedSet(<span class="hljs-keyword">new</span> HashSet&lt;&gt;());<br>Set&lt;String&gt; set = <span class="hljs-keyword">new</span> CopyOnWriteArraySet&lt;&gt;();<br></code></pre></td></tr></table></figure>
<h2 id="ConcurrentHashMap"><a href="#ConcurrentHashMap" class="headerlink" title="ConcurrentHashMap"></a>ConcurrentHashMap</h2><p>map:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java">Map&lt;String, String&gt; map = <span class="hljs-keyword">new</span> HashMap&lt;&gt;();<br>Map&lt;String, String&gt; map = Collections.synchronizedMap(<span class="hljs-keyword">new</span> HashMap&lt;&gt;());<br>Map&lt;String, String&gt; map = <span class="hljs-keyword">new</span> ConcurrentHashMap&lt;&gt;();<br></code></pre></td></tr></table></figure>
<p>(ä¸æ”¯æŒkeyã€valueä¸ºnull)</p>
<h2 id="Callable"><a href="#Callable" class="headerlink" title="Callable"></a>Callable</h2><p>ä¸ runnable åŒºåˆ«ï¼š</p>
<ul>
<li>å¯ä»¥æœ‰è¿”å›å€¼</li>
<li>å¯ä»¥æŠ›å‡ºå¼‚å¸¸</li>
<li>æ–¹æ³•ä¸åŒï¼š <code>call</code></li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.BufferedReader;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.io.InputStreamReader;<br><span class="hljs-keyword">import</span> java.util.Collections;<br><span class="hljs-keyword">import</span> java.util.HashMap;<br><span class="hljs-keyword">import</span> java.util.Map;<br><span class="hljs-keyword">import</span> java.util.UUID;<br><span class="hljs-keyword">import</span> java.util.concurrent.Callable;<br><span class="hljs-keyword">import</span> java.util.concurrent.ConcurrentHashMap;<br><span class="hljs-keyword">import</span> java.util.concurrent.CopyOnWriteArraySet;<br><span class="hljs-keyword">import</span> java.util.concurrent.ExecutionException;<br><span class="hljs-keyword">import</span> java.util.concurrent.FutureTask;<br><br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException, InterruptedException, ExecutionException </span>&#123;<br>        <span class="hljs-comment">// BufferedReader bf = new BufferedReader(new InputStreamReader(System.in));</span><br>        <span class="hljs-comment">// String par[] = bf.readLine().trim().split(&quot; &quot;);</span><br>        <br>        Mythread thread = <span class="hljs-keyword">new</span> Mythread();<br>        FutureTask futureTask = <span class="hljs-keyword">new</span> FutureTask&lt;&gt;(thread);<br>        <span class="hljs-keyword">new</span> Thread(futureTask, <span class="hljs-string">&quot;A&quot;</span>).start();<br>        System.out.println(futureTask.get());<br><br>    &#125;<br><br>        <br>&#125;<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Mythread</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Callable</span>&lt;<span class="hljs-title">String</span>&gt;</span>&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">call</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception </span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;call....&quot;</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;233333333&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>æ³¨æ„ï¼š</p>
<ul>
<li>getæ–¹æ³•å¯èƒ½ä¼šé˜»å¡</li>
<li>å¤šä¸ªè°ƒç”¨æ—¶ï¼Œåè°ƒç”¨å› ä¸ºçŠ¶æ€ä¼šä¸æ‰§è¡Œï¼Œç›´æ¥ä½¿ç”¨ä¿å­˜çš„è¿”å›å€¼ï¼ˆæœªè®¤çœŸç¡®è®¤ï¼‰</li>
</ul>
<h1 id="5ã€å¸¸ç”¨è¾…åŠ©ç±»"><a href="#5ã€å¸¸ç”¨è¾…åŠ©ç±»" class="headerlink" title="5ã€å¸¸ç”¨è¾…åŠ©ç±»"></a>5ã€å¸¸ç”¨è¾…åŠ©ç±»</h1><h2 id="CountDownLatch"><a href="#CountDownLatch" class="headerlink" title="CountDownLatch"></a>CountDownLatch</h2><p>å‡æ³•è®¡æ•°å™¨ï¼Œå½“è®¡æ•°å™¨è¢«å­çº¿ç¨‹ï¼ˆå­ä»»åŠ¡ï¼‰å®Œæˆåå‡ä¸€å½’é›¶åï¼ŒåŒ…å«è®¡æ•°å™¨çš„çº¿ç¨‹æ‰ä¼šæ‰§è¡Œã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException, InterruptedException, ExecutionException </span>&#123;<br>        <span class="hljs-comment">// BufferedReader bf = new BufferedReader(new InputStreamReader(System.in));</span><br>        <span class="hljs-comment">// String par[] = bf.readLine().trim().split(&quot; &quot;);</span><br>        <br>        CountDownLatch countDownLatch = <span class="hljs-keyword">new</span> CountDownLatch(<span class="hljs-number">5</span>);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; ++i)&#123;<br>            <span class="hljs-keyword">new</span> Thread(()-&gt;&#123;<br>                System.out.println(Thread.currentThread().getName());<br>                countDownLatch.countDown();<br>            &#125;, String.valueOf(i)).start();<br>        &#125;<br>        countDownLatch.await();<br><br>        System.out.println(<span class="hljs-string">&quot;main....&quot;</span>);<br>        <br>    &#125;<br>   <br></code></pre></td></tr></table></figure>
<h2 id="CyclicBarrier"><a href="#CyclicBarrier" class="headerlink" title="CyclicBarrier"></a>CyclicBarrier</h2><p>åŠ æ³•è®¡æ•°å™¨ï¼ˆæ¯æŒ‡å®šä¸ªæ•°ä¸ªæ‰§è¡Œä¸€æ¬¡çˆ¶çº¿ç¨‹ï¼‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java">CyclicBarrier cyclicBarrier = <span class="hljs-keyword">new</span> CyclicBarrier(<span class="hljs-number">7</span>, ()-&gt;&#123;<br>  System.out.println(<span class="hljs-string">&quot;main...&quot;</span>);<br>&#125;);<br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">7</span>; ++i)&#123;<br>    <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> tmp = i;<br>    <span class="hljs-keyword">new</span> Thread(()-&gt;&#123;<br>        System.out.println(Thread.currentThread().getName() + <span class="hljs-string">&quot; &quot;</span> + tmp);<br>        <span class="hljs-keyword">try</span> &#123;<br>            cyclicBarrier.await();<br>        &#125; <span class="hljs-keyword">catch</span> (InterruptedException | BrokenBarrierException e) &#123;<br>            <span class="hljs-comment">// TODO Auto-generated catch block</span><br>            e.printStackTrace();<br>        &#125;<br>        System.out.println(Thread.currentThread().getName() + <span class="hljs-string">&quot; &quot;</span> + tmp + <span class="hljs-string">&quot;....&quot;</span>);<br>    &#125;).start();<br>&#125;<br></code></pre></td></tr></table></figure>
<p><code>cyclicBarrier.await();</code> : åŠ ä¸€æ“ä½œï¼Œä¼šé˜»å¡<br><code>new CyclicBarrier(int, runnable)</code> åˆå§‹åŒ–è®¡æ•°å™¨å¤§å°ï¼Œä»¥åŠæ‰€æœ‰å­ä»»åŠ¡æ‰§è¡Œå®Œåè¦è°ƒç”¨çš„çº¿ç¨‹</p>
<h2 id="Semaphore"><a href="#Semaphore" class="headerlink" title="Semaphore"></a>Semaphore</h2><p>ä¿¡å·é‡</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException, ExecutionException </span>&#123;<br>        <span class="hljs-comment">// BufferedReader bf = new BufferedReader(new InputStreamReader(System.in));</span><br>        <span class="hljs-comment">// String par[] = bf.readLine().trim().split(&quot; &quot;);</span><br>        <br>        Semaphore semaphore = <span class="hljs-keyword">new</span> Semaphore(<span class="hljs-number">3</span>);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; ++i)&#123;<br>            <span class="hljs-keyword">new</span> Thread(()-&gt;&#123;<br>                <span class="hljs-keyword">try</span> &#123;<br>                    semaphore.acquire();<br>                    <span class="hljs-keyword">int</span> time = <span class="hljs-keyword">new</span> Random().nextInt(<span class="hljs-number">5</span>) + <span class="hljs-number">1</span>;<br>                    System.out.println(Thread.currentThread().getName() + <span class="hljs-string">&quot; acquire... for &quot;</span> + time);<br>                    TimeUnit.SECONDS.sleep(time);<br>                &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>                    <span class="hljs-comment">// TODO Auto-generated catch block</span><br>                    e.printStackTrace();<br>                &#125;<br>                <span class="hljs-keyword">finally</span>&#123;<br>                    System.out.println(Thread.currentThread().getName() + <span class="hljs-string">&quot; release...&quot;</span>);<br>                    semaphore.release();<br>                &#125;<br>                <br>            &#125;, String.valueOf(i)).start();<br>        &#125;<br>        <br>    &#125;<br></code></pre></td></tr></table></figure>
<ul>
<li><code>Semaphore semaphore = new Semaphore(3);</code> åˆ›å»ºä¿¡å·é‡ä¸ªæ•°</li>
<li><code>semaphore.acquire();</code> è·å–åˆ°ä¸€ä¸ªä¿¡å·é‡ï¼Œ</li>
<li><code>semaphore.release();</code> é‡Šæ”¾</li>
</ul>
<h1 id="6ã€ReadWriteLock"><a href="#6ã€ReadWriteLock" class="headerlink" title="6ã€ReadWriteLock"></a>6ã€ReadWriteLock</h1><p>æ²¡æœ‰é”çš„æƒ…å†µï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.util.HashMap;<br><span class="hljs-keyword">import</span> java.util.Map;<br><span class="hljs-keyword">import</span> java.util.concurrent.ExecutionException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException, ExecutionException </span>&#123;<br>        <span class="hljs-comment">// BufferedReader bf = new BufferedReader(new InputStreamReader(System.in));</span><br>        <span class="hljs-comment">// String par[] = bf.readLine().trim().split(&quot; &quot;);</span><br>        <br>        Cache cache = <span class="hljs-keyword">new</span> Cache();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">5</span>; ++i)&#123;<br>            <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> tmp = i;<br>            <span class="hljs-keyword">new</span> Thread(()-&gt;&#123;<br>                cache.put(tmp + <span class="hljs-string">&quot;&quot;</span>, tmp + <span class="hljs-string">&quot;&quot;</span>);<br>            &#125;, String.valueOf(i)).start();<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">5</span>; ++i)&#123;<br>            <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> tmp = i;<br>            <span class="hljs-keyword">new</span> Thread(()-&gt;&#123;<br>                cache.get(tmp + <span class="hljs-string">&quot;&quot;</span>);<br>            &#125;, String.valueOf(i)).start();<br>        &#125;<br>        <br>        <br>    &#125;<br><br>        <br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Cache</span></span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">volatile</span> Map&lt;String, Object&gt; map = <span class="hljs-keyword">new</span> HashMap&lt;&gt;();<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">put</span><span class="hljs-params">(String key, Object val)</span></span>&#123;<br>        System.out.println(Thread.currentThread().getName() + <span class="hljs-string">&quot; write &quot;</span> + key);<br>        map.put(key, val);<br>        System.out.println(Thread.currentThread().getName() + <span class="hljs-string">&quot; write done!&quot;</span>);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">get</span><span class="hljs-params">(String key)</span></span>&#123;<br>        System.out.println(Thread.currentThread().getName() + <span class="hljs-string">&quot; get &quot;</span> + key);<br>        map.get(key);<br>        System.out.println(Thread.currentThread().getName() + <span class="hljs-string">&quot; get done!&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>ä½¿ç”¨è¯»å†™é”åå¯ä»¥ä¿è¯å¹¶å‘æ“ä½œçš„åŸå­æ€§ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CacheLock</span></span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">volatile</span> Map&lt;String, Object&gt; map = <span class="hljs-keyword">new</span> HashMap&lt;&gt;();<br>    <span class="hljs-keyword">private</span> ReadWriteLock readWriteLock = <span class="hljs-keyword">new</span> ReentrantReadWriteLock();<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">put</span><span class="hljs-params">(String key, Object val)</span></span>&#123;<br>        readWriteLock.writeLock().lock();<br>        <span class="hljs-keyword">try</span> &#123;<br>            System.out.println(Thread.currentThread().getName() + <span class="hljs-string">&quot; write &quot;</span> + key);<br>            map.put(key, val);<br>            System.out.println(Thread.currentThread().getName() + <span class="hljs-string">&quot; write done!&quot;</span>);<br>            <br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            <span class="hljs-comment">//<span class="hljs-doctag">TODO:</span> handle exception</span><br>            e.printStackTrace();<br>        &#125;<br>        <span class="hljs-keyword">finally</span>&#123;<br>            readWriteLock.writeLock().unlock();<br>        &#125;<br><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">get</span><span class="hljs-params">(String key)</span></span>&#123;<br>        readWriteLock.readLock().lock();<br>        <span class="hljs-keyword">try</span> &#123;<br>            System.out.println(Thread.currentThread().getName() + <span class="hljs-string">&quot; get &quot;</span> + key);<br>            map.get(key);<br>            System.out.println(Thread.currentThread().getName() + <span class="hljs-string">&quot; get done!&quot;</span>);<br>            <br>        &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>            <span class="hljs-comment">//<span class="hljs-doctag">TODO:</span> handle exception</span><br>            e.printStackTrace();<br>        &#125;<br>        <span class="hljs-keyword">finally</span>&#123;<br>            readWriteLock.readLock().unlock();<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>å…¶å®ä¹Ÿå°±æ˜¯ä¹‹å‰ lockä¸­çš„ä¸€ç§æ›´åŠ å…·ä½“çš„æ‰€å¾—ä½¿ç”¨ã€‚è¿™é‡Œå¯¹äºå†™æ“ä½œï¼Œä½¿ç”¨å†™é”ï¼Œä¿è¯æ¯ä¸€ä¸ªçº¿ç¨‹çš„å†™æ“ä½œæ˜¯åŸå­æ€§çš„ï¼Œä¸ä¼šè¢«å…¶ä»–å†™æ“ä½œæ’é˜Ÿã€‚å¯¹äºè¯»æ“ä½œï¼Œä½¿ç”¨é”çš„ç›®çš„æ˜¯ä¸ä¼šå‡ºç°å†™æ“ä½œæ—¶è¯»æ•°æ®å‡ºç°å¹»è¯»ã€‚å³å†™é”æœªç‹¬å é”ï¼Œè¯»é”æœªå…±äº«é”ã€‚</p>
<h1 id="7ã€é˜»å¡é˜Ÿåˆ—-BlockingQueue"><a href="#7ã€é˜»å¡é˜Ÿåˆ—-BlockingQueue" class="headerlink" title="7ã€é˜»å¡é˜Ÿåˆ— BlockingQueue"></a>7ã€é˜»å¡é˜Ÿåˆ— BlockingQueue</h1><p>é˜»å¡é˜Ÿåˆ—çš„å››ç§æ–¹å¼ï¼š</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>æ–¹å¼</th>
<th>æŠ›å‡ºå¼‚å¸¸</th>
<th>æœ‰è¿”å›å€¼ï¼Œä½†ä¸æŠ›å‡ºå¼‚å¸¸</th>
<th>é˜»å¡å¹¶ç­‰å¾…</th>
<th>è¶…æ—¶ç­‰å¾…</th>
</tr>
</thead>
<tbody>
<tr>
<td>æ·»åŠ </td>
<td>add()</td>
<td>offer()</td>
<td>put()</td>
<td>offer(æ—¶é—´)</td>
</tr>
<tr>
<td>ç§»é™¤</td>
<td>remove()</td>
<td>poll()</td>
<td>take()</td>
<td>poll(æ—¶é—´)</td>
</tr>
<tr>
<td>é˜Ÿé¦–</td>
<td>element</td>
<td>peek()</td>
<td>-</td>
<td>-</td>
</tr>
</tbody>
</table>
</div>
<h1 id="8ã€SynchronousQueue"><a href="#8ã€SynchronousQueue" class="headerlink" title="8ã€SynchronousQueue"></a>8ã€SynchronousQueue</h1><p>åŒæ­¥é˜Ÿåˆ—ï¼Œåªèƒ½æ”¾å…¥ä¸€ä¸ªå…ƒç´ ï¼Œå†å–èµ°åæ‰èƒ½ç»§ç»­æ”¾å…¥ã€‚</p>
<h1 id="9ã€çº¿ç¨‹æ± "><a href="#9ã€çº¿ç¨‹æ± " class="headerlink" title="9ã€çº¿ç¨‹æ± "></a>9ã€çº¿ç¨‹æ± </h1><p>çº¿ç¨‹æ± çš„å¥½å¤„ï¼š</p>
<ul>
<li>é™ä½èµ„æºæ¶ˆè€—</li>
<li>æé«˜å“åº”é€Ÿåº¦</li>
<li>æ–¹ä¾¿ç®¡ç†</li>
</ul>
<p>å³ï¼Œçº¿ç¨‹å¤ç”¨ã€æ§åˆ¶æœ€å¤§å¹¶å‘æ•°ã€ç®¡ç†çº¿ç¨‹</p>
<p>çº¿ç¨‹æ± çš„ä¸»è¦çŸ¥è¯†ç‚¹: ä¸‰å¤§æ–¹æ³•ã€ä¸ƒå¤§å‚æ•°ã€å››ç§æ‹’ç»ç­–ç•¥</p>
<h2 id="ä¸‰å¤§æ–¹æ³•"><a href="#ä¸‰å¤§æ–¹æ³•" class="headerlink" title="ä¸‰å¤§æ–¹æ³•"></a>ä¸‰å¤§æ–¹æ³•</h2><p>ï¼ˆæ³¨æ„ï¼Œçº¿ç¨‹æ± çš„åˆ›å»ºåœ¨é¡¹ç›®ä¸­ä¸€èˆ¬æ˜¯ä¸å…è®¸ä½¿ç”¨ <code>Excutors</code> æ¥åˆ›å»ºï¼Œå› ä¸º <code>FixedThreadPool</code> å’Œ <code>SingleThreadPool</code> å…è®¸çš„è¯·æ±‚é˜Ÿåˆ—é•¿åº¦æœ€å¤§ä¸ºintmaxï¼›å…¶æ¬¡ <code>CacheThreadPool</code> å’Œ <code>ScheduledThreadPool</code> å…è®¸åˆ›å»ºçš„çº¿ç¨‹æ•°ä¸º intmax å¯èƒ½åˆ›å»ºå¤§é‡çº¿ç¨‹ï¼›ä¸¤è€…éƒ½ä¼šå¯¼è‡´OOMï¼Œæ•…å»ºè®®ä½¿ç”¨ <code>ThreadPoolExecutor</code>ï¼‰</p>
<p>ä¸‰ç§åŸºæœ¬çš„å®ç°æ–¹å¼æ˜¯:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java">ExecutorService threadPool = Executors.newSingleThreadExecutor();       <span class="hljs-comment">// å•ä¸ªçº¿ç¨‹æ± </span><br>ExecutorService threadPool = Executors.newFixedThreadPool(<span class="hljs-number">5</span>);           <span class="hljs-comment">// æŒ‡å®šå¤§å°çš„çº¿ç¨‹æ± </span><br>ExecutorService threadPool = Executors.newCachedThreadPool();           <span class="hljs-comment">// å¯è‡ªåŠ¨æ‰©å……çš„çº¿ç¨‹æ± </span><br></code></pre></td></tr></table></figure>
<p>æ·»åŠ çº¿ç¨‹çš„æ–¹å¼æ˜¯: <code>threadPool.execute(Runnable);</code></p>
<p>æœ€åè¦åœ¨ç»“æŸå¤„ä½¿ç”¨ <code>threadPool.shutdown();</code> å…³é—­çº¿ç¨‹æ± </p>
<h2 id="ä¸ƒå¤§å‚æ•°"><a href="#ä¸ƒå¤§å‚æ•°" class="headerlink" title="ä¸ƒå¤§å‚æ•°"></a>ä¸ƒå¤§å‚æ•°</h2><p>é¦–å…ˆå¯¹äºä»¥ä¸Šä¸‰ç§åˆ›å»ºçº¿ç¨‹æ± çš„æ–¹å¼ï¼ŒæŸ¥çœ‹å…¶å…·ä½“å®ç°å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> ExecutorService <span class="hljs-title">newSingleThreadExecutor</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> FinalizableDelegatedExecutorService<br>        (<span class="hljs-keyword">new</span> ThreadPoolExecutor(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>,<br>                                <span class="hljs-number">0L</span>, TimeUnit.MILLISECONDS,<br>                                <span class="hljs-keyword">new</span> LinkedBlockingQueue&lt;Runnable&gt;()));<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> ExecutorService <span class="hljs-title">newFixedThreadPool</span><span class="hljs-params">(<span class="hljs-keyword">int</span> nThreads)</span> </span>&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ThreadPoolExecutor(nThreads, nThreads,<br>                                    <span class="hljs-number">0L</span>, TimeUnit.MILLISECONDS,<br>                                    <span class="hljs-keyword">new</span> LinkedBlockingQueue&lt;Runnable&gt;());<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> ExecutorService <span class="hljs-title">newCachedThreadPool</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ThreadPoolExecutor(<span class="hljs-number">0</span>, Integer.MAX_VALUE,<br>                                    <span class="hljs-number">60L</span>, TimeUnit.SECONDS,<br>                                    <span class="hljs-keyword">new</span> SynchronousQueue&lt;Runnable&gt;());<br>&#125;<br></code></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹å‡ºï¼Œå…·ä½“çš„å®ç°æ–¹å¼éƒ½æ˜¯é€šè¿‡ <code>ThreadPoolExecutor</code> è¿™ä¸ªæ–¹æ³•å®ç°çš„ï¼Œä»…ä»…æ˜¯è°ƒç”¨æ—¶çš„å‚æ•°ä¸åŒï¼Œå…¶å‚æ•°å…±æœ‰<strong>ä¸ƒä¸ª</strong>ï¼ŒæŸ¥çœ‹å…¶å®é™…çš„æ„é€ æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ThreadPoolExecutor</span><span class="hljs-params">(<span class="hljs-keyword">int</span> corePoolSize,             // æ ¸å¿ƒçº¿ç¨‹æ± å¤§å°</span></span><br><span class="hljs-function"><span class="hljs-params">                            <span class="hljs-keyword">int</span> maximumPoolSize,        // æœ€å¤§æ ¸å¿ƒçº¿ç¨‹æ± å¤§å°</span></span><br><span class="hljs-function"><span class="hljs-params">                            <span class="hljs-keyword">long</span> keepAliveTime,         // è¶…æ—¶æ—¶æ²¡æœ‰è°ƒç”¨é‡Šæ”¾</span></span><br><span class="hljs-function"><span class="hljs-params">                            TimeUnit unit,              // è¶…æ—¶å•ä½</span></span><br><span class="hljs-function"><span class="hljs-params">                            BlockingQueue&lt;Runnable&gt; workQueue,  // é˜»å¡é˜Ÿåˆ—</span></span><br><span class="hljs-function"><span class="hljs-params">                            ThreadFactory threadFactory,    // çº¿ç¨‹å·¥å‚ï¼Œä¸€èˆ¬ä½¿ç”¨é»˜è®¤çš„</span></span><br><span class="hljs-function"><span class="hljs-params">                            RejectedExecutionHandler handler // æ‹’ç»ç­–ç•¥)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (corePoolSize &lt; <span class="hljs-number">0</span> ||<br>        maximumPoolSize &lt;= <span class="hljs-number">0</span> ||<br>        maximumPoolSize &lt; corePoolSize ||<br>        keepAliveTime &lt; <span class="hljs-number">0</span>)<br>        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> IllegalArgumentException();<br>    <span class="hljs-keyword">if</span> (workQueue == <span class="hljs-keyword">null</span> || threadFactory == <span class="hljs-keyword">null</span> || handler == <span class="hljs-keyword">null</span>)<br>        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> NullPointerException();<br>    <span class="hljs-keyword">this</span>.corePoolSize = corePoolSize;<br>    <span class="hljs-keyword">this</span>.maximumPoolSize = maximumPoolSize;<br>    <span class="hljs-keyword">this</span>.workQueue = workQueue;<br>    <span class="hljs-keyword">this</span>.keepAliveTime = unit.toNanos(keepAliveTime);<br>    <span class="hljs-keyword">this</span>.threadFactory = threadFactory;<br>    <span class="hljs-keyword">this</span>.handler = handler;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>æ•´ä¸ªçº¿ç¨‹æ± çš„ç»“æ„å¤§è‡´å¦‚ä¸‹ï¼š<br><img src="https://img-blog.csdnimg.cn/20210420224435631.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BpMzE0MTU5MjY1MzV4,size_16,color_FFFFFF,t_70" alt=""></p>
<p>å…¶ä¸­æ ¸å¿ƒçº¿ç¨‹æ•°è¡¨ç¤ºçš„å°±æ˜¯å½“å‰å¯ä»¥ä½¿ç”¨çš„çº¿ç¨‹èµ„æºï¼Œæœ€å¤§çº¿ç¨‹æ•°å°±æ˜¯æœ€å¤šå¯ä»¥ä½¿ç”¨çš„çº¿ç¨‹èµ„æº<br>é˜»å¡é˜Ÿåˆ—æ˜¯ä¸€ä¸ªæš‚å­˜åŒºåŸŸ</p>
<p>å½“ä»»åŠ¡åˆ°æ¥æ—¶ï¼Œå¦‚æœæ ¸å¿ƒçº¿ç¨‹æ•°çš„çº¿ç¨‹èµ„æºå¯ä»¥ä½¿ç”¨ï¼Œå°±ç›´æ¥ä½¿ç”¨å³å¯ï¼Œ<br>å¦‚æœéƒ½åœ¨ä½¿ç”¨ï¼Œè¿™æ—¶ä¼šæ·»åŠ åˆ°é˜»å¡é˜Ÿåˆ—ä¸­ï¼Œ<br>å¦‚æœé˜»å¡é˜Ÿåˆ—ä¹Ÿæ»¡äº†ï¼Œå¹¶ä¸”æ ¸å¿ƒçº¿ç¨‹æ•°æœªè¾¾åˆ°æœ€å¤§çº¿ç¨‹æ•°ï¼Œæ­¤æ—¶æ‰©å¤§æ ¸å¿ƒçº¿ç¨‹æ•°<br>å¦‚æœæ­¤æ—¶å…¨éƒ½æ»¡äº†ï¼Œçº¿ç¨‹æ± éƒ½åœ¨ä½¿ç”¨ã€é˜»å¡é˜Ÿåˆ—æ»¡äº†ï¼Œæ­¤æ—¶ä¼šæ ¹æ®é¢„å…ˆè®¾å®šçš„æ‹’ç»ç­–ç•¥æ¥è¿›è¡Œæ“ä½œï¼ˆå³æœ€å¤§æ‰¿è½½é‡ä¸ºé˜Ÿåˆ—å®¹é‡+æœ€å¤§æ ¸å¿ƒçº¿ç¨‹æ•°ï¼‰</p>
<p>è¶…æ—¶æ—¶é—´æ˜¯æŒ‡ï¼Œå½“å¹¶å‘é‡å‡å°‘åï¼Œä¸€å®šæ—¶é—´é‡Œæ²¡æœ‰ä»»åŠ¡æ·»åŠ ï¼Œï¼Œä¼šæ”¶å›å¤§ä¸æ ¸å¿ƒçº¿ç¨‹æ•°çš„èµ„æº</p>
<h2 id="å››ç§æ‹’ç»ç­–ç•¥"><a href="#å››ç§æ‹’ç»ç­–ç•¥" class="headerlink" title="å››ç§æ‹’ç»ç­–ç•¥"></a>å››ç§æ‹’ç»ç­–ç•¥</h2><figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">new</span> ThreadPoolExecutor.AbortPolicy(): ä¸å¤„ç†ï¼ŒæŠ›å‡ºå¼‚å¸¸<br><span class="hljs-keyword">new</span> ThreadPoolExecutor.CallerRunsPolicy()ï¼šå“ªæ¥å»å“ªï¼Œè®©çº¿ç¨‹è°ƒç”¨è€…å¤„ç†<br><span class="hljs-keyword">new</span> ThreadPoolExecutor.DiscardPolicy()ï¼šä¸å¤„ç†ï¼Œä¸æŠ›å‡ºå¼‚å¸¸<br><span class="hljs-keyword">new</span> ThreadPoolExecutor.DiscardOldestPolicy()ï¼šæ›¿æ¢æœ€æ—©çš„ï¼Œä¸æŠ›å‡ºå¼‚å¸¸<br></code></pre></td></tr></table></figure>
<p>ä½¿ç”¨æ–¹å¼ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java">ExecutorService threadPool = <span class="hljs-keyword">new</span> ThreadPoolExecutor(<span class="hljs-number">2</span>, <span class="hljs-number">5</span>, <span class="hljs-number">3</span>, TimeUnit.SECONDS, <span class="hljs-keyword">new</span> ArrayBlockingQueue&lt;&gt;(<span class="hljs-number">3</span>), Executors.defaultThreadFactory(), <span class="hljs-keyword">new</span> ThreadPoolExecutor.DiscardOldestPolicy());<br></code></pre></td></tr></table></figure>
<h2 id="CPUå¯†é›†å‹å’ŒIOå¯†é›†å‹"><a href="#CPUå¯†é›†å‹å’ŒIOå¯†é›†å‹" class="headerlink" title="CPUå¯†é›†å‹å’ŒIOå¯†é›†å‹"></a>CPUå¯†é›†å‹å’ŒIOå¯†é›†å‹</h2><p>æœ€å¤§çº¿ç¨‹å¦‚ä½•å®šä¹‰ï¼š</p>
<p>çœ‹æƒ…å†µï¼Œçœ‹å½“å‰ä½¿ç”¨åˆ°çº¿ç¨‹æ± çš„ä»»åŠ¡æƒ…å†µï¼Œ</p>
<ul>
<li>å¦‚æœæ˜¯ CPUå¯†é›†å‹çš„ä»»åŠ¡ï¼Œå¯ä»¥åŠ¨æ€è·å–å½“å‰ä»£ç è¿è¡Œç¯å¢ƒçš„CPUæ ¸æ•°æ¥è®¾ç½®ä¸ºæœ€å¤§çº¿ç¨‹æ•°ï¼š <code>Runtime.getRuntime().availableProcessors()</code></li>
<li>å¦‚æœæ˜¯ IOå¯†é›†å‹ä»»åŠ¡ï¼Œå³æœ‰å¾ˆå¤šéœ€è¦IOæ“ä½œçš„ä»»åŠ¡ï¼Œå¯ä»¥è®¾ç½®ä¸ºIOä»»åŠ¡æ•°ä¸¤å€å·¦å³</li>
</ul>
<h1 id="10ã€å››å¤§å‡½æ•°å¼æ¥å£"><a href="#10ã€å››å¤§å‡½æ•°å¼æ¥å£" class="headerlink" title="10ã€å››å¤§å‡½æ•°å¼æ¥å£"></a>10ã€å››å¤§å‡½æ•°å¼æ¥å£</h1><p><del>lambdaè¡¨è¾¾å¼ã€é“¾å¼ç¼–ç¨‹ã€å‡½æ•°å¼æ¥å£ã€streamæµå¼è®¡ç®—</del> </p>
<p>å››å¤§åŸç”Ÿå‡½æ•°å¼æ¥å£ï¼š</p>
<p>Function<br>Consumer<br>Predicate<br>Supplier</p>
<h2 id="Function"><a href="#Function" class="headerlink" title="Function"></a>Function</h2><p><img src="https://img-blog.csdnimg.cn/20210422100624276.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BpMzE0MTU5MjY1MzV4,size_16,color_FFFFFF,t_70" alt=""><br>ä¼ å…¥å‚æ•°Tï¼Œè¿”å›Rç±»å‹ç»“æœï¼ŒåŠä¸€ä¸ªå‡½æ•° R=Tï¼Œä½¿ç”¨æ—¶é‡å†™ applyå³å¯ï¼ˆå¦‚åŒä½¿ç”¨runnableæ¥å£é‡å†™runæ–¹æ³•ä¸€æ ·ï¼‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java">Function&lt;String, Integer&gt; function = <span class="hljs-keyword">new</span> Function&lt;String,Integer&gt;()&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Integer <span class="hljs-title">apply</span><span class="hljs-params">(String t)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> t.hashCode();<br>    &#125;<br>&#125;;<br><br><span class="hljs-comment">// Function&lt;String, Integer&gt; function = (str)-&gt;&#123;</span><br><span class="hljs-comment">//     return str.hashCode();</span><br><span class="hljs-comment">// &#125;;</span><br><br>System.out.println(function.apply(<span class="hljs-string">&quot;2333&quot;</span>));<br></code></pre></td></tr></table></figure>
<p>ï¼ˆå› ä¸ºæ˜¯å‡½æ•°å¼æ¥å£ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨lambdaç®€åŒ–ï¼‰</p>
<h2 id="Predicate"><a href="#Predicate" class="headerlink" title="Predicate"></a>Predicate</h2><p><img src="https://img-blog.csdnimg.cn/20210422101243962.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BpMzE0MTU5MjY1MzV4,size_16,color_FFFFFF,t_70" alt=""><br>æ–­å®šæ€§æ¥å£</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java">Predicate&lt;String&gt; predicate = <span class="hljs-keyword">new</span> Predicate&lt;String&gt;()&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">test</span><span class="hljs-params">(String t)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> (t != <span class="hljs-keyword">null</span> &amp;&amp; !t.isEmpty());<br>    &#125;<br>&#125;;<br><span class="hljs-comment">// Predicate&lt;String&gt; predicate = (str)-&gt;&#123;</span><br><span class="hljs-comment">//     return (str != null &amp;&amp; !str.isEmpty());</span><br><span class="hljs-comment">// &#125;;</span><br>System.out.println(predicate.test(<span class="hljs-string">&quot;2333&quot;</span>));<br>System.out.println(predicate.test(<span class="hljs-string">&quot;&quot;</span>));<br></code></pre></td></tr></table></figure>
<h2 id="Consumer"><a href="#Consumer" class="headerlink" title="Consumer"></a>Consumer</h2><p><img src="https://img-blog.csdnimg.cn/2021042210212370.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BpMzE0MTU5MjY1MzV4,size_16,color_FFFFFF,t_70" alt=""></p>
<p>æ¶ˆè´¹å‹æ¥å£ï¼Œåªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java">Consumer&lt;String&gt; consumer = <span class="hljs-keyword">new</span> Consumer&lt;String&gt;()&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">accept</span><span class="hljs-params">(String t)</span> </span>&#123;<br>        System.out.println(t);<br>    &#125;<br>&#125;;<br><span class="hljs-comment">// Consumer&lt;String&gt; consumer = (str)-&gt;&#123;System.out.println(str);&#125;;</span><br>consumer.accept(<span class="hljs-string">&quot;2333333&quot;</span>);<br></code></pre></td></tr></table></figure>
<h2 id="Supplier"><a href="#Supplier" class="headerlink" title="Supplier"></a>Supplier</h2><p><img src="https://img-blog.csdnimg.cn/20210422102436556.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BpMzE0MTU5MjY1MzV4,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ä¾›ç»™å¼æ¥å£ï¼Œä»…æœ‰è¿”å›å€¼ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java">Supplier&lt;String&gt; supplier = <span class="hljs-keyword">new</span> Supplier&lt;String&gt;()&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">get</span><span class="hljs-params">()</span> </span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;get&quot;</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;233333333&quot;</span>;<br>    &#125;<br>&#125;;<br><span class="hljs-comment">// Supplier&lt;String&gt; supplier = ()-&gt;&#123;return &quot;233333333&quot;;&#125;;</span><br>System.out.println(supplier.get());<br></code></pre></td></tr></table></figure>
<h2 id="stream"><a href="#stream" class="headerlink" title="stream"></a>stream</h2><figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.util.Arrays;<br><span class="hljs-keyword">import</span> java.util.List;<br><br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException </span>&#123;<br>        <span class="hljs-comment">// BufferedReader bf = new BufferedReader(new InputStreamReader(System.in));</span><br>        <span class="hljs-comment">// String par[] = bf.readLine().trim().split(&quot; &quot;);</span><br>        <br>        User u1 = <span class="hljs-keyword">new</span> User(<span class="hljs-number">1</span>, <span class="hljs-string">&quot;AA&quot;</span>, <span class="hljs-number">20</span>);<br>        User u2 = <span class="hljs-keyword">new</span> User(<span class="hljs-number">2</span>, <span class="hljs-string">&quot;BB&quot;</span>, <span class="hljs-number">21</span>);<br>        User u3 = <span class="hljs-keyword">new</span> User(<span class="hljs-number">3</span>, <span class="hljs-string">&quot;CC&quot;</span>, <span class="hljs-number">22</span>);<br>        User u4 = <span class="hljs-keyword">new</span> User(<span class="hljs-number">4</span>, <span class="hljs-string">&quot;DD&quot;</span>, <span class="hljs-number">23</span>);<br>        User u5 = <span class="hljs-keyword">new</span> User(<span class="hljs-number">5</span>, <span class="hljs-string">&quot;EE&quot;</span>, <span class="hljs-number">24</span>);<br>        List&lt;User&gt; list = Arrays.asList(u1, u2, u3, u4, u5);<br>        list.stream()<br>            .filter(u-&gt;&#123;<span class="hljs-keyword">return</span> u.getId() % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>;&#125;)<br>            .filter(u-&gt;&#123;<span class="hljs-keyword">return</span> u.getAge() &gt; <span class="hljs-number">21</span>;&#125;)<br>            .map(u-&gt;&#123;<span class="hljs-keyword">return</span> u.getName().toLowerCase();&#125;)<br>            .forEach(System.out::println);<br>        <br>    &#125;<br><br>        <br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span></span>&#123;<br>    <span class="hljs-keyword">int</span> id;<br>    String name;<br>    <span class="hljs-keyword">int</span> age;<br>    User(<span class="hljs-keyword">int</span> id, String name, <span class="hljs-keyword">int</span> age)&#123;<br>        <span class="hljs-keyword">this</span>.id = id;<br>        <span class="hljs-keyword">this</span>.name = name;<br>        <span class="hljs-keyword">this</span>.age = age;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getId</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> id;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getAge</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> age;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;[user: &quot;</span> + <span class="hljs-string">&quot;id: &quot;</span> + id + <span class="hljs-string">&quot;, name: &quot;</span> + name + <span class="hljs-string">&quot;, age: &quot;</span> + age + <span class="hljs-string">&quot;]&quot;</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="11ã€ForkJoin"><a href="#11ã€ForkJoin" class="headerlink" title="11ã€ForkJoin"></a>11ã€ForkJoin</h1><p>åˆ†æ²»æ€æƒ³ï¼Œå°†å¤§ä»»åŠ¡æ‹†åˆ†ä¸ºå°ä»»åŠ¡æ“ä½œï¼Œé€‚åˆå¤§æ•°æ®å¤„ç†æƒ…æ™¯</p>
<p><img src="https://img-blog.csdnimg.cn/20210424100651478.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BpMzE0MTU5MjY1MzV4,size_16,color_FFFFFF,t_70" alt=""><br>forkjoinï¼šå·¥ä½œçªƒå–ï¼Œå½“æŸä¸ªä»»åŠ¡æ‰§è¡Œå®Œæ¯•åï¼Œä»–ä¼šçªƒå–å…¶ä»–æœªå®Œæˆçš„ä»»åŠ¡ï¼Œæé«˜æ•ˆç‡ï¼š</p>
<p><img src="https://img-blog.csdnimg.cn/20210424100846913.png" alt=""></p>
<p>ä½¿ç”¨ï¼š</p>
<ul>
<li>forkjoinpool</li>
<li>forkjoinpool.executor(forkjointask)</li>
<li>ç»§æ‰¿forkjointaskï¼Œé‡å†™computeæ–¹æ³•ï¼Œä½¿ç”¨fork,joinè®¡ç®—</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.io.IOException;<br><span class="hljs-keyword">import</span> java.util.concurrent.ExecutionException;<br><span class="hljs-keyword">import</span> java.util.concurrent.ForkJoinPool;<br><span class="hljs-keyword">import</span> java.util.concurrent.RecursiveTask;<br><span class="hljs-keyword">import</span> java.util.stream.LongStream;<br><br><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">long</span> END = <span class="hljs-number">10_0000_0000L</span>;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException, InterruptedException, ExecutionException </span>&#123;<br>        <span class="hljs-comment">// BufferedReader bf = new BufferedReader(new InputStreamReader(System.in));</span><br>        <span class="hljs-comment">// String par[] = bf.readLine().trim().split(&quot; &quot;);</span><br>        <br>        test1();<br>        test2();<br>        test3();<br>        <br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test1</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">long</span> start = System.currentTimeMillis();<br>        <span class="hljs-keyword">long</span> sum = <span class="hljs-number">0</span>;<br><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">long</span> i = <span class="hljs-number">1</span>; i &lt;= END; ++i)&#123;<br>            sum += i;<br>        &#125;<br>        <br>        <span class="hljs-keyword">long</span> end = System.currentTimeMillis();<br>        System.out.println(<span class="hljs-string">&quot;sum: &quot;</span> + sum + <span class="hljs-string">&quot; time: &quot;</span> + (end - start));<br>    &#125;<br>    <span class="hljs-comment">// forkjoin</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test2</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> InterruptedException, ExecutionException</span>&#123;<br>        <span class="hljs-keyword">long</span> start = System.currentTimeMillis();<br>        <br>        <span class="hljs-keyword">long</span> sum = <span class="hljs-number">0</span>;<br>        ForkJoinPool forkJoinPool = <span class="hljs-keyword">new</span> ForkJoinPool();<br>        sum = forkJoinPool.submit(<span class="hljs-keyword">new</span> ForkJoinDemo(<span class="hljs-number">0</span>, END)).get();<br><br>        <span class="hljs-keyword">long</span> end = System.currentTimeMillis();<br>        System.out.println(<span class="hljs-string">&quot;sum: &quot;</span> + sum + <span class="hljs-string">&quot; time: &quot;</span> + (end - start));<br>    &#125;<br>    <span class="hljs-comment">//å¹¶è¡Œæµ </span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">test3</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">long</span> start = System.currentTimeMillis();<br>        <span class="hljs-keyword">long</span> sum = LongStream.rangeClosed(<span class="hljs-number">0</span>, END).parallel().reduce(<span class="hljs-number">0</span>, Long::sum);<br><br>        <span class="hljs-keyword">long</span> end = System.currentTimeMillis();<br>        System.out.println(<span class="hljs-string">&quot;sum: &quot;</span> + sum + <span class="hljs-string">&quot; time: &quot;</span> + (end - start));<br>    &#125;<br><br>        <br>&#125;<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ForkJoinDemo</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">RecursiveTask</span>&lt;<span class="hljs-title">Long</span>&gt;</span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">long</span> start;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">long</span> end;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">long</span> temp = <span class="hljs-number">10000</span>;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">ForkJoinDemo</span><span class="hljs-params">(<span class="hljs-keyword">long</span> start, <span class="hljs-keyword">long</span> end)</span></span>&#123;<br>        <span class="hljs-keyword">this</span>.start = start;<br>        <span class="hljs-keyword">this</span>.end = end;<br>    &#125;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-function"><span class="hljs-keyword">protected</span> Long <span class="hljs-title">compute</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>((end - start) &lt;= temp)&#123;<br>            <span class="hljs-keyword">long</span> sum = <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">long</span> i = start; i &lt;= end; ++i)&#123;<br>                sum += i;<br>            &#125;<br>            <span class="hljs-keyword">return</span> sum;<br>        &#125;<br>        <span class="hljs-keyword">else</span>&#123;<br>            <span class="hljs-keyword">long</span> mid = (start + end) / <span class="hljs-number">2</span>;<br>            ForkJoinDemo task1 = <span class="hljs-keyword">new</span> ForkJoinDemo(start, mid);<br>            ForkJoinDemo task2 = <span class="hljs-keyword">new</span> ForkJoinDemo(mid + <span class="hljs-number">1</span>, end);<br>            task1.fork();<br>            task2.fork();<br>            <span class="hljs-keyword">return</span> task1.join() + task2.join();<br><br>        &#125;<br>        <br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/20210424164415157.png" alt=""></p>
<p>å¹¶è¡Œæµæœ€å¿«ï¼Œå…¶æ¬¡æ˜¯forkjoinï¼Œæœ€åæ˜¯æ™®é€šæ–¹æ³•ã€‚</p>
<h1 id="12ã€å¼‚æ­¥è°ƒç”¨"><a href="#12ã€å¼‚æ­¥è°ƒç”¨" class="headerlink" title="12ã€å¼‚æ­¥è°ƒç”¨"></a>12ã€å¼‚æ­¥è°ƒç”¨</h1><p>ä½¿ç”¨ <code>CompletableFuture</code> å¯ä»¥å®ç°å¼‚æ­¥è°ƒç”¨ï¼ˆå³å®ç°ç±»ä¼¼ajaxçš„å¸¦æœ‰è¿”å›å€¼çš„å¼‚æ­¥è°ƒç”¨ï¼‰</p>
<h1 id="13ã€JMM"><a href="#13ã€JMM" class="headerlink" title="13ã€JMM"></a>13ã€JMM</h1><h2 id="å…³äºJMMçš„ä¸€äº›åŒæ­¥çº¦å®š"><a href="#å…³äºJMMçš„ä¸€äº›åŒæ­¥çº¦å®š" class="headerlink" title="å…³äºJMMçš„ä¸€äº›åŒæ­¥çº¦å®š"></a>å…³äºJMMçš„ä¸€äº›åŒæ­¥çº¦å®š</h2><ul>
<li>çº¿ç¨‹è§£é”å‰ï¼Œå¿…é¡»æŠŠå…±äº«å˜é‡ç«‹åˆ»åˆ·å›ä¸»å­˜ï¼ˆçº¿ç¨‹å·¥ä½œæ—¶ï¼Œå›å°†å…±äº«å˜é‡ä»ä¸»å­˜æ‹·è´åˆ°è‡ªå·±çš„å·¥ä½œå†…å­˜ç©ºé—´ä¸­ï¼Œé—´æ¥æ“ä½œå˜é‡ï¼‰</li>
<li>çº¿ç¨‹åŠ é”å‰ï¼Œå¿…é¡»è¯»å–ä¸»å­˜ä¸­çš„æœ€æ–°å€¼åˆ°å·¥ä½œå†…å­˜ä¸­</li>
<li>åŠ é”è§£é”æ˜¯ç”¨ä¸€æŠŠé”</li>
</ul>
<h2 id="JMMä¸­çš„å…«ç§æ“ä½œ"><a href="#JMMä¸­çš„å…«ç§æ“ä½œ" class="headerlink" title="JMMä¸­çš„å…«ç§æ“ä½œ"></a>JMMä¸­çš„å…«ç§æ“ä½œ</h2><p><img src="https://img-blog.csdnimg.cn/20210424182409571.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BpMzE0MTU5MjY1MzV4,size_16,color_FFFFFF,t_70" alt=""><br><del>ï¼ˆwriteå’Œstoreåäº†ï¼‰</del></p>
<p>å› ä¸ºå„æ“ä½œä¸æ˜¯åŸå­æ€§çš„ï¼Œæ‰€ä»¥å¯èƒ½å‡ºç°ä¸»å­˜å€¼ä¸çº¿ç¨‹çš„å·¥ä½œå†…å­˜ä¸­çš„å€¼ä¸åŒçš„æƒ…å†µï¼š<br><img src="https://img-blog.csdnimg.cn/20210424182635814.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BpMzE0MTU5MjY1MzV4,size_16,color_FFFFFF,t_70" alt=""></p>
<ul>
<li><strong>lockï¼ˆé”å®šï¼‰</strong>ï¼šä½œç”¨äºä¸»å†…å­˜çš„å˜é‡ï¼ŒæŠŠä¸€ä¸ªå˜é‡æ ‡è¯†ä¸ºä¸€æ¡çº¿ç¨‹ç‹¬å çŠ¶æ€ã€‚</li>
<li><strong>unlockï¼ˆè§£é”ï¼‰</strong>ï¼šä½œç”¨äºä¸»å†…å­˜å˜é‡ï¼ŒæŠŠä¸€ä¸ªå¤„äºé”å®šçŠ¶æ€çš„å˜é‡é‡Šæ”¾å‡ºæ¥ï¼Œé‡Šæ”¾åçš„å˜é‡æ‰å¯ä»¥è¢«å…¶ä»–çº¿ç¨‹é”å®šã€‚</li>
<li><strong>readï¼ˆè¯»å–ï¼‰</strong>ï¼šä½œç”¨äºä¸»å†…å­˜å˜é‡ï¼ŒæŠŠä¸€ä¸ªå˜é‡å€¼ä»ä¸»å†…å­˜ä¼ è¾“åˆ°çº¿ç¨‹çš„å·¥ä½œå†…å­˜ä¸­ï¼Œä»¥ä¾¿éšåçš„loadåŠ¨ä½œä½¿ç”¨</li>
<li><strong>loadï¼ˆè½½å…¥ï¼‰</strong>ï¼šä½œç”¨äºå·¥ä½œå†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠreadæ“ä½œä»ä¸»å†…å­˜ä¸­å¾—åˆ°çš„å˜é‡å€¼æ”¾å…¥å·¥ä½œå†…å­˜çš„å˜é‡å‰¯æœ¬ä¸­ã€‚</li>
<li><strong>useï¼ˆä½¿ç”¨ï¼‰</strong>ï¼šä½œç”¨äºå·¥ä½œå†…å­˜çš„å˜é‡ï¼ŒæŠŠå·¥ä½œå†…å­˜ä¸­çš„ä¸€ä¸ªå˜é‡å€¼ä¼ é€’ç»™æ‰§è¡Œå¼•æ“ï¼Œæ¯å½“è™šæ‹Ÿæœºé‡åˆ°ä¸€ä¸ªéœ€è¦ä½¿ç”¨å˜é‡çš„å€¼çš„å­—èŠ‚ç æŒ‡ä»¤æ—¶å°†ä¼šæ‰§è¡Œè¿™ä¸ªæ“ä½œã€‚</li>
<li><strong>assignï¼ˆèµ‹å€¼ï¼‰</strong>ï¼šä½œç”¨äºå·¥ä½œå†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠä¸€ä¸ªä»æ‰§è¡Œå¼•æ“æ¥æ”¶åˆ°çš„å€¼èµ‹å€¼ç»™å·¥ä½œå†…å­˜çš„å˜é‡ï¼Œæ¯å½“è™šæ‹Ÿæœºé‡åˆ°ä¸€ä¸ªç»™å˜é‡èµ‹å€¼çš„å­—èŠ‚ç æŒ‡ä»¤æ—¶æ‰§è¡Œè¿™ä¸ªæ“ä½œã€‚</li>
<li><strong>storeï¼ˆå­˜å‚¨ï¼‰</strong>ï¼šä½œç”¨äºå·¥ä½œå†…å­˜çš„å˜é‡ï¼ŒæŠŠå·¥ä½œå†…å­˜ä¸­çš„ä¸€ä¸ªå˜é‡çš„å€¼ä¼ é€åˆ°ä¸»å†…å­˜ä¸­ï¼Œä»¥ä¾¿éšåçš„writeçš„æ“ä½œã€‚</li>
<li><strong>writeï¼ˆå†™å…¥ï¼‰</strong>ï¼šä½œç”¨äºä¸»å†…å­˜çš„å˜é‡ï¼Œå®ƒæŠŠstoreæ“ä½œä»å·¥ä½œå†…å­˜ä¸­ä¸€ä¸ªå˜é‡çš„å€¼ä¼ é€åˆ°ä¸»å†…å­˜çš„å˜é‡ä¸­ã€‚</li>
</ul>
<p>Javaå†…å­˜æ¨¡å‹è¿˜è§„å®šäº†åœ¨æ‰§è¡Œä¸Šè¿°å…«ç§åŸºæœ¬æ“ä½œæ—¶ï¼Œå¿…é¡»æ»¡è¶³å¦‚ä¸‹è§„åˆ™ï¼š</p>
<ul>
<li>å¦‚æœè¦æŠŠä¸€ä¸ªå˜é‡ä»ä¸»å†…å­˜ä¸­å¤åˆ¶åˆ°å·¥ä½œå†…å­˜ï¼Œå°±éœ€è¦æŒ‰é¡ºå¯»åœ°æ‰§è¡Œreadå’Œloadæ“ä½œï¼Œ å¦‚æœæŠŠå˜é‡ä»å·¥ä½œå†…å­˜ä¸­åŒæ­¥å›ä¸»å†…å­˜ä¸­ï¼Œå°±è¦æŒ‰é¡ºåºåœ°æ‰§è¡Œstoreå’Œwriteæ“ä½œã€‚ä½†Javaå†…å­˜æ¨¡å‹åªè¦æ±‚ä¸Šè¿°æ“ä½œå¿…é¡»æŒ‰é¡ºåºæ‰§è¡Œï¼Œè€Œæ²¡æœ‰ä¿è¯å¿…é¡»æ˜¯è¿ç»­æ‰§è¡Œã€‚</li>
<li>ä¸å…è®¸readå’Œloadã€storeå’Œwriteæ“ä½œä¹‹ä¸€å•ç‹¬å‡ºç°</li>
<li>ä¸å…è®¸ä¸€ä¸ªçº¿ç¨‹ä¸¢å¼ƒå®ƒçš„æœ€è¿‘assignçš„æ“ä½œï¼Œå³å˜é‡åœ¨å·¥ä½œå†…å­˜ä¸­æ”¹å˜äº†ä¹‹åå¿…é¡»åŒæ­¥åˆ°ä¸»å†…å­˜ä¸­ã€‚</li>
<li>ä¸å…è®¸ä¸€ä¸ªçº¿ç¨‹æ— åŸå› åœ°ï¼ˆæ²¡æœ‰å‘ç”Ÿè¿‡ä»»ä½•assignæ“ä½œï¼‰æŠŠæ•°æ®ä»å·¥ä½œå†…å­˜åŒæ­¥å›ä¸»å†…å­˜ä¸­ã€‚</li>
<li>ä¸€ä¸ªæ–°çš„å˜é‡åªèƒ½åœ¨ä¸»å†…å­˜ä¸­è¯ç”Ÿï¼Œä¸å…è®¸åœ¨å·¥ä½œå†…å­˜ä¸­ç›´æ¥ä½¿ç”¨ä¸€ä¸ªæœªè¢«åˆå§‹åŒ–ï¼ˆloadæˆ–assignï¼‰çš„å˜é‡ã€‚å³å°±æ˜¯å¯¹ä¸€ä¸ªå˜é‡å®æ–½useå’Œstoreæ“ä½œä¹‹å‰ï¼Œå¿…é¡»å…ˆæ‰§è¡Œè¿‡äº†assignå’Œloadæ“ä½œã€‚</li>
<li>ä¸€ä¸ªå˜é‡åœ¨åŒä¸€æ—¶åˆ»åªå…è®¸ä¸€æ¡çº¿ç¨‹å¯¹å…¶è¿›è¡Œlockæ“ä½œï¼Œä½†lockæ“ä½œå¯ä»¥è¢«åŒä¸€æ¡çº¿ç¨‹é‡å¤æ‰§è¡Œå¤šæ¬¡ï¼Œå¤šæ¬¡æ‰§è¡Œlockåï¼Œåªæœ‰æ‰§è¡Œç›¸åŒæ¬¡æ•°çš„unlockæ“ä½œï¼Œå˜é‡æ‰ä¼šè¢«è§£é”ã€‚lockå’Œunlockå¿…é¡»æˆå¯¹å‡ºç°</li>
<li>å¦‚æœå¯¹ä¸€ä¸ªå˜é‡æ‰§è¡Œlockæ“ä½œï¼Œå°†ä¼šæ¸…ç©ºå·¥ä½œå†…å­˜ä¸­æ­¤å˜é‡çš„å€¼ï¼Œåœ¨æ‰§è¡Œå¼•æ“ä½¿ç”¨è¿™ä¸ªå˜é‡å‰éœ€è¦é‡æ–°æ‰§è¡Œloadæˆ–assignæ“ä½œåˆå§‹åŒ–å˜é‡çš„å€¼</li>
<li>å¦‚æœä¸€ä¸ªå˜é‡äº‹å…ˆæ²¡æœ‰è¢«lockæ“ä½œé”å®šï¼Œåˆ™ä¸å…è®¸å¯¹å®ƒæ‰§è¡Œunlockæ“ä½œï¼›ä¹Ÿä¸å…è®¸å»unlockä¸€ä¸ªè¢«å…¶ä»–çº¿ç¨‹é”å®šçš„å˜é‡ã€‚</li>
<li>å¯¹ä¸€ä¸ªå˜é‡æ‰§è¡Œunlockæ“ä½œä¹‹å‰ï¼Œå¿…é¡»å…ˆæŠŠæ­¤å˜é‡åŒæ­¥åˆ°ä¸»å†…å­˜ä¸­ï¼ˆæ‰§è¡Œstoreå’Œwriteæ“ä½œï¼‰ã€‚</li>
</ul>
<h1 id="14ã€volatile"><a href="#14ã€volatile" class="headerlink" title="14ã€volatile"></a>14ã€volatile</h1><p><code>volatile</code> æ˜¯Javaè™šæ‹Ÿæœºçš„ä¸€ä¸ªè½»é‡çº§çš„ <strong>åŒæ­¥æœºåˆ¶</strong>ï¼š</p>
<ul>
<li>ä¿è¯å¯è§æ€§ï¼ˆå³çº¿ç¨‹è¯»å–ä¿®é¥°çš„å˜é‡éƒ½ä¼šä»ä¸»å†…å­˜ä¸­è¯»å–ï¼Œè€Œä¸æ˜¯ç›´æ¥ä½¿ç”¨å·¥ä½œå†…å­˜ä¸­çš„å‰¯æœ¬ï¼‰</li>
<li>ä¸ä¿è¯åŸå­æ€§ï¼ˆå¯ä»¥ä½¿ç”¨synchronizedã€lockã€atomicè§£å†³ï¼‰</li>
<li>ç¦æ­¢æŒ‡ä»¤é‡æ’ï¼ˆé€šè¿‡å†…å­˜å±éšœå®ç°ï¼‰</li>
</ul>
<p>ä½¿ç”¨atomicå®ç°åŸå­æ€§çš„ <code>num++</code> æ“ä½œï¼š</p>
<p>å…¶å†…éƒ¨å®ç°æ˜¯é€šè¿‡unsafeç±»ä¸­çš„ä¸€äº› casæ“ä½œå®ç°ï¼Œå¯¹å†…å­˜ä¿®æ”¹å€¼ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Main</span> </span>&#123;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">volatile</span> AtomicInteger num = <span class="hljs-keyword">new</span> AtomicInteger();<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">()</span></span>&#123;<br>        num.getAndIncrement();<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> IOException, InterruptedException, ExecutionException </span>&#123;<br>        <span class="hljs-comment">// BufferedReader bf = new BufferedReader(new InputStreamReader(System.in));</span><br>        <span class="hljs-comment">// String par[] = bf.readLine().trim().split(&quot; &quot;);</span><br>        <br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">20</span>; ++i)&#123;<br>            <span class="hljs-keyword">new</span> Thread(()-&gt;&#123;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= <span class="hljs-number">20000</span>; ++j)&#123;<br>                    add();<br>                &#125;<br>            &#125;).start();<br>        &#125;<br>        <span class="hljs-keyword">while</span>(Thread.activeCount() &gt;= <span class="hljs-number">2</span>);<br>        System.out.println(Thread.currentThread().getName() + <span class="hljs-string">&quot; num: &quot;</span> + num);<br>        <br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure>
<h1 id="15ã€å•ä¾‹æ¨¡å¼"><a href="#15ã€å•ä¾‹æ¨¡å¼" class="headerlink" title="15ã€å•ä¾‹æ¨¡å¼"></a>15ã€å•ä¾‹æ¨¡å¼</h1><h2 id="é¥¿æ±‰å¼å•ä¾‹æ¨¡å¼"><a href="#é¥¿æ±‰å¼å•ä¾‹æ¨¡å¼" class="headerlink" title="é¥¿æ±‰å¼å•ä¾‹æ¨¡å¼"></a>é¥¿æ±‰å¼å•ä¾‹æ¨¡å¼</h2><figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Hungry</span></span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Hungry HUNGRY = <span class="hljs-keyword">new</span> Hungry();<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">byte</span>[] data1 = <span class="hljs-keyword">new</span> <span class="hljs-keyword">byte</span>[<span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>];<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">byte</span>[] data2 = <span class="hljs-keyword">new</span> <span class="hljs-keyword">byte</span>[<span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>];<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">byte</span>[] data3 = <span class="hljs-keyword">new</span> <span class="hljs-keyword">byte</span>[<span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>];<br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">Hungry</span><span class="hljs-params">()</span></span>&#123;<br><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> Hungry <span class="hljs-title">getInstance</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.HUNGRY;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>ç¼ºç‚¹ï¼šå¯åŠ¨æ—¶å°±åŠ è½½ï¼Œå¯èƒ½ä¼šé€ æˆå†…å­˜ç©ºé—´çš„æµªè´¹</p>
<h2 id="æ‡’æ±‰å¼å•ä¾‹æ¨¡å¼"><a href="#æ‡’æ±‰å¼å•ä¾‹æ¨¡å¼" class="headerlink" title="æ‡’æ±‰å¼å•ä¾‹æ¨¡å¼"></a>æ‡’æ±‰å¼å•ä¾‹æ¨¡å¼</h2><p>æ™®é€šçš„é¥¿æ±‰æ¨¡å¼åœ¨å¤šçº¿ç¨‹çš„æƒ…å†µä¸‹ä¼šå¤±æ•ˆï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LazyMan</span></span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> LazyMan LAZYMAN;<br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">LazyMan</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(Thread.currentThread().getName());<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> LazyMan <span class="hljs-title">getInstance</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">if</span>(LAZYMAN == <span class="hljs-keyword">null</span>)&#123;<br>            LAZYMAN = <span class="hljs-keyword">new</span> LazyMan();<br>        &#125;<br>        <span class="hljs-keyword">return</span> LAZYMAN;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>ä¸€ç§è§£å†³æ–¹å¼å°±æ˜¯å¯¹ <code>getInstance()</code> åŠ é”ï¼Œå³ä½¿ç”¨ åŒé‡æ£€éªŒ+volatileå®ç°ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// DCLå®ç°</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LazyMan</span></span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">volatile</span> LazyMan LAZYMAN;<br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">LazyMan</span><span class="hljs-params">()</span></span>&#123;<br>        System.out.println(Thread.currentThread().getName());<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> LazyMan <span class="hljs-title">getInstance</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">if</span>(LAZYMAN == <span class="hljs-keyword">null</span>)&#123;<br>            <span class="hljs-keyword">synchronized</span>(LazyMan.class)&#123;<br>                <span class="hljs-keyword">if</span>(LAZYMAN == <span class="hljs-keyword">null</span>)&#123;<br>                    LAZYMAN = <span class="hljs-keyword">new</span> LazyMan();<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> LAZYMAN;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>å…¶ä¸­ä½¿ç”¨ <code>synchronized</code> æ¥åŠ é”åŒæ­¥æ•´ä¸ªç±»å¯¹è±¡ï¼›</p>
<p>åŒæ—¶ä½¿ç”¨ <code>volatile</code> ä¿è¯åœ¨å®ä¾‹åŒ–è¿‡ç¨‹ä¸­çš„æŒ‡ä»¤ä¸é‡æ’ï¼šå®ä¾‹åŒ–å¯¹è±¡è¿‡ç¨‹å¹¶ä¸æ˜¯åŸå­æ“ä½œï¼Œæœ‰å¾ˆå¤šæŒ‡ä»¤å®ç°ï¼Œå¦‚ï¼š</p>
<ul>
<li>åˆ†é…å†…å­˜ç©ºé—´</li>
<li>æ‰§è¡Œæ„é€ æ–¹æ³•ï¼Œåˆå§‹åŒ–å¯¹è±¡</li>
<li>å°†å¯¹è±¡æŒ‡å‘å†…å­˜ç©ºé—´</li>
</ul>
<p>å¦‚æœè¿›è¡ŒæŒ‡ä»¤é‡æ’ï¼Œå¯èƒ½ä¼šå‡ºç°å…ˆæŒ‡å‘å†…å­˜åœ°å€ï¼Œåœ¨åˆå§‹åŒ–çš„æƒ…å†µï¼Œæ­¤æ—¶å¦‚æœåœ¨æ“ä½œä¸­é—´è®¿é—®ï¼Œå¯¹è±¡æ˜¯ä¸ä¸ºnullçš„ï¼Œç›´æ¥è¿”å›çš„ç»“æœå°±æ˜¯ä¸€ä¸ªä¸ºåˆå§‹åŒ–æ„é€ çš„å¯¹è±¡</p>
<h2 id="é™æ€å†…éƒ¨ç±»"><a href="#é™æ€å†…éƒ¨ç±»" class="headerlink" title="é™æ€å†…éƒ¨ç±»"></a>é™æ€å†…éƒ¨ç±»</h2><p>åŸºäºç±»åŠ è½½æœºåˆ¶çš„æ‡’æ±‰æ¨¡å¼</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LazyMan</span></span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">InnerClass</span></span>&#123;<br>        <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> LazyMan LAZYMAN = <span class="hljs-keyword">new</span> LazyMan();<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">LazyMan</span><span class="hljs-params">()</span></span>&#123;&#125;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> LazyMan <span class="hljs-title">getInstance</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> InnerClass.LAZYMAN;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>ä»¥ä¸Šå‡ ç§å¯¹äºåå°„æœºåˆ¶ä¸å®‰å…¨ï¼š<br><img src="https://img-blog.csdnimg.cn/20210424222408858.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BpMzE0MTU5MjY1MzV4,size_16,color_FFFFFF,t_70" alt=""></p>
<h2 id="æšä¸¾"><a href="#æšä¸¾" class="headerlink" title="æšä¸¾"></a>æšä¸¾</h2><p>å¯ä»¥ä½¿ç”¨æšä¸¾ç±»æ¥å®ç°å•ä¾‹æ¨¡å¼ï¼Œä¿è¯ä¸ä¼šè¢«åå°„å®ä¾‹åŒ–ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// enum:</span><br><br><span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">LazyMan</span></span>&#123;<br>    INSTANCE;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> LazyMan <span class="hljs-title">getInstance</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> INSTANCE;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>åŸå› ï¼š<br>åå°„ç±»ä¸­å®ä¾‹åŒ–æ—¶ä¼šåˆ¤æ–­æ˜¯å¦ä¸ºæšä¸¾ç±»çš„åå°„ï¼š<br><img src="https://img-blog.csdnimg.cn/20210424223951558.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BpMzE0MTU5MjY1MzV4,size_16,color_FFFFFF,t_70" alt=""></p>
<p><strong>æ³¨æ„</strong> æ­¤å¤„å¦‚è¦ä½¿ç”¨æšä¸¾ç±»è¿›è¡Œåå°„æµ‹è¯•ï¼š<br><img src="https://img-blog.csdnimg.cn/20210424223629621.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BpMzE0MTU5MjY1MzV4,size_16,color_FFFFFF,t_70" alt=""></p>
<p>åå°„æ„é€ å™¨çš„å‚æ•°ä¸èƒ½ä¸ºç©ºæˆ–nullï¼Œå¿…é¡»ä¸º <code>String.class, int.class</code>ï¼Œå¦åˆ™æ­¤æ—¶å¼‚å¸¸ä¸ºï¼š<br><img src="https://img-blog.csdnimg.cn/2021042422374276.png" alt=""><br>è€Œä¸æ˜¯å› ä¸ºæšä¸¾ç±»åå°„å®ä¾‹åŒ–æ‰€æŠ›å‡ºçš„å¼‚å¸¸ï¼š<br><img src="https://img-blog.csdnimg.cn/20210424223813371.png" alt=""></p>
<p>å› ä¸ºenumå®é™…ä¼šäº§ç”Ÿä¸€ä¸ª <code>String.class, int.class</code> ä¸ºå½¢å‚çš„æ„é€ å™¨ï¼Œè€Œä¸æ˜¯ç©ºçš„æ„é€ å™¨ï¼Œè¿™é‡Œéœ€è¦é€šè¿‡ jdxæ¥æŸ¥çœ‹åæ±‡ç¼–åçš„ä»£ç </p>
<p><a href="https://www.bilibili.com/video/BV1B7411L7tE?p=33">æ›´åŠ å…·ä½“çš„è®²è§£å¼ºçƒˆå»ºè®®è§‚çœ‹æ­¤è§†é¢‘ï¼š</a></p>
<h1 id="16ã€CAS"><a href="#16ã€CAS" class="headerlink" title="16ã€CAS"></a>16ã€CAS</h1><p>æ¯”è¾ƒå¹¶äº¤æ¢ï¼šå½“æ‰€æœŸæœ›çš„å€¼ç›¸åŒæ—¶æ‰è¿›è¡Œæ›´æ–°ï¼š<code>compareAndSet</code></p>
<p>åº•å±‚æ˜¯é€šè¿‡c++ç¼–å†™çš„æ›´é è¿‘åº•å±‚çš„ä»£ç å®ç°ï¼ˆå…·ä½“åˆ°CPUæŒ‡ä»¤ï¼Œunsafeç±»ï¼‰</p>
<p>ä¾‹å¦‚ atomicIntegerä¸­çš„åŠ ä¸€çº¿ç¨‹å®‰å…¨çš„åŠ ä¸€æ“ä½œçš„å†…éƒ¨å®ç°æ˜¯é€šè¿‡ casè‡ªæ—‹å®ç°ï¼ˆæ³¨æ„ä¸åŒjdkæºç å¯èƒ½ä¸ä¸€è‡´ï¼‰ï¼š</p>
<p><img src="https://img-blog.csdnimg.cn/20210425165210230.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BpMzE0MTU5MjY1MzV4,size_16,color_FFFFFF,t_70" alt=""><br>å…¶ä¸­whileå°±æ˜¯ä¸€ç§è‡ªæ—‹æ“ä½œï¼Œé€šè¿‡å¾ªç¯åˆ¤æ–­æ¥å®ç°ä¸€ç§æ¯”åŠ é”æ•ˆç‡æ›´é«˜çš„æ–¹å¼ï¼›å­—æ®µè§£é‡Šï¼šåˆ¤æ–­ o å¯¹è±¡ä¸­åç§»å€¼ä¸º offsetå¤„çš„æ•°æ®å€¼æ˜¯å¦ä¸º v ï¼Œå¦‚æœæ˜¯å°±åŠ  delta ã€‚è¿™ç§å®ç°æ–¹å¼å°±æ˜¯è‡ªæ—‹é”ã€‚</p>
<p>æ€»ç»“ï¼šCASæ˜¯ä¸æ–­æ¯”è¾ƒå½“å‰å†…å­˜ä¸­çš„å€¼å’ŒæœŸæœ›çš„å€¼æ˜¯å¦ä¸€è‡´ï¼Œå¦‚æœä¸€è‡´ï¼Œåˆ™è¿›è¡Œsetæ“ä½œï¼›å¦‚æœä¸ä¸€è‡´å°±é€šè¿‡å¾ªç¯å®ç°è‡ªæ—‹ã€‚</p>
<p>ç¼ºç‚¹ï¼š</p>
<ul>
<li>å¾ªç¯ä¼šæœ‰ä¸€å®šçš„è€—æ—¶</li>
<li>ä¸€æ¬¡ä»…èƒ½ä¿è¯å¯¹ä¸€ä¸ªå…±äº«å˜é‡çš„åŸå­æ€§</li>
<li>ABAé—®é¢˜</li>
</ul>
<h2 id="ABAé—®é¢˜"><a href="#ABAé—®é¢˜" class="headerlink" title="ABAé—®é¢˜"></a>ABAé—®é¢˜</h2><p>ABAé—®é¢˜å°±æ˜¯æŒ‡ï¼Œå¤šä¸ªçº¿ç¨‹å¯¹å…±äº«å˜é‡è¿›è¡Œæ“ä½œï¼Œå…¶ä¸­Aå’ŒBéƒ½è¯»å–åˆ°å˜é‡a=1ï¼Œä½†æ˜¯Bçº¿ç¨‹åšäº†ä¸¤æ¬¡æ“ä½œï¼ša=3ï¼Œa=1ï¼Œå¯¹äºAçº¿ç¨‹æ¥è¯´ï¼Œå¯èƒ½å¹¶ä¸çŸ¥é“Aåœ¨æœŸé—´è¢«ä¿®æ”¹è¿‡ï¼ˆç‹¸çŒ«æ¢å¤ªå­ï¼‰</p>
<p><img src="https://img-blog.csdnimg.cn/20210425181058287.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3BpMzE0MTU5MjY1MzV4,size_16,color_FFFFFF,t_70" alt=""></p>
<h2 id="è§£å†³æ–¹å¼ï¼šåŸå­å¼•ç”¨"><a href="#è§£å†³æ–¹å¼ï¼šåŸå­å¼•ç”¨" class="headerlink" title="è§£å†³æ–¹å¼ï¼šåŸå­å¼•ç”¨"></a>è§£å†³æ–¹å¼ï¼šåŸå­å¼•ç”¨</h2><p>é€šè¿‡ä½¿ç”¨ä¸€ä¸ªå¸¦æœ‰æ—¶é—´æˆ³ï¼ˆç‰ˆæœ¬å·ï¼‰çš„åŸå­å¼•ç”¨å³å¯ä»¥è§£å†³ABAé—®é¢˜ï¼Œæ€æƒ³æ˜¯ <em>ä¹è§‚é”</em>  </p>
<p>åŸå­å¼•ç”¨ï¼š <code>AtomicStampedReference</code> æ¥å®ç°ï¼Œå¯ä»¥é€šè¿‡è·å–å½“å‰çš„stampæ¥ä¿è¯ä¸ä¼šå‡ºç°ABAé—®é¢˜</p>
<h1 id="17ã€é”"><a href="#17ã€é”" class="headerlink" title="17ã€é”"></a>17ã€é”</h1><h2 id="å…¬å¹³é”ã€éå…¬å¹³é”"><a href="#å…¬å¹³é”ã€éå…¬å¹³é”" class="headerlink" title="å…¬å¹³é”ã€éå…¬å¹³é”"></a>å…¬å¹³é”ã€éå…¬å¹³é”</h2><ul>
<li>å…¬å¹³é”ï¼š éå¸¸å…¬å¹³ï¼Œä¸å¯ä»¥æ’é˜Ÿï¼Œå³å¿…é¡»æŒ‰ç…§å…ˆæ¥ååˆ°æ‰§è¡Œ</li>
<li>éå…¬å¹³é”ï¼šéå¸¸ä¸å…¬å¹³ï¼Œå¯ä»¥æ’é˜Ÿï¼ˆé»˜è®¤çš„é”æ˜¯éå…¬å¹³é”ï¼‰</li>
</ul>
<h2 id="å¯é‡å…¥é”"><a href="#å¯é‡å…¥é”" class="headerlink" title="å¯é‡å…¥é”"></a>å¯é‡å…¥é”</h2><p>å¯é‡å…¥é”å³å½“è°ƒç”¨åŠ é”çš„æ–¹æ³•åï¼Œè¯¥æ–¹æ³•åˆè°ƒç”¨å…¶ä»–æ–¹æ³•ï¼Œç›¸å½“äºåŠ é”å¤šæ¬¡ï¼Œä½†ä¸äº§ç”Ÿæ­»é”ï¼›æŸä¸ªçº¿ç¨‹è·å–æŸä¸ªé”åï¼Œå¯ä»¥å†æ¬¡è·å–é”è€Œä¸æ­»é”ã€‚å³å¯ç†è§£ä¸ºä¸€ç§é€’å½’é”ï¼Œå¤–å±‚å‡½æ•°è·å–é”ï¼Œå†…å±‚å‡½æ•°è‡ªåŠ¨è·å–ï¼Œè§£å†³æ­»é”ã€‚</p>
<p>å¯¹äº <code>synchronized</code> çš„å¯é‡å…¥é”ç›´æ¥ä½¿ç”¨å³å¯ï¼Œå¯¹äº <code>Lock</code> çš„é”ï¼Œéœ€è¦ä¿è¯å‰ååŠ è§£é”æ¬¡æ•°ä¸€è‡´ï¼Œå¦åˆ™ä¼šå‡ºç°æ­»é”ç°è±¡ã€‚</p>
<h2 id="è‡ªæ—‹é”-spinlock"><a href="#è‡ªæ—‹é”-spinlock" class="headerlink" title="è‡ªæ—‹é” spinlock"></a>è‡ªæ—‹é” spinlock</h2><p>å°±æ˜¯é€šè¿‡ä¸€ä¸ªå¾ªç¯CASæ“ä½œå®ç°è‡ªæ—‹ï¼Œä½¿ç”¨å¾ªç¯æ¥ä»£æ›¿åŠ è§£é”çš„è¾ƒä½æ•ˆæ“ä½œã€‚</p>
<h2 id="æ­»é”"><a href="#æ­»é”" class="headerlink" title="æ­»é”"></a>æ­»é”</h2><p><strong>å¤šçº¿ç¨‹ä¸‹</strong>å‡ºç°ï¼š</p>
<ul>
<li>äº’æ–¥</li>
<li>å¾ªç¯ç­‰å¾…</li>
<li>è¯·æ±‚ä¸ä¿æŒ</li>
<li>ä¸å¯å‰¥å¤º</li>
</ul>
<ul>
<li>ï¼ˆæŸ¥çœ‹Javaçš„è¿›ç¨‹å¯ä»¥ä½¿ç”¨ <code>jps</code> å‘½ä»¤ï¼‰</li>
<li>ä½¿ç”¨ <code>jstack</code> å¯ä»¥æŸ¥çœ‹è¿›ç¨‹çš„å †æ ˆä¿¡æ¯ï¼Œå¯ä»¥å‘ç°æ­»é”ç­‰</li>
</ul>
<h1 id="18ã€AQS"><a href="#18ã€AQS" class="headerlink" title="18ã€AQS"></a>18ã€AQS</h1><p>è¿™é‡Œæˆ‘åªæ˜¯ç®€å•çš„å­¦ä¹ äº†ä¸€ä¸‹ï¼Œå…·ä½“çš„å­¦ä¹ å»ºè®®æŸ¥çœ‹å…¶å®ƒåšä¸»çš„å­¦ä¹ ç¬”è®°ã€‚</p>
<p>AQS å³ æŠ½è±¡ é˜Ÿåˆ— åŒæ­¥å™¨</p>
<p>æ˜¯jucåŒ…ä¸­å‡ ä¹æ‰€æœ‰ç±»çš„åŸºç¡€ï¼Œå¯ä»¥å®ç°ç‹¬å é”ï¼ˆlockï¼‰æˆ–è€…æ˜¯å…±äº«é”ï¼ˆä¿¡å·é‡ã€è®¡æ•°å™¨ç­‰ç­‰ï¼‰</p>
<p>ä»–çš„å†…éƒ¨ç»“æ„ä¸»è¦æœ‰ä¸€ä¸ª state çŠ¶æ€ã€ä¸€ä¸ª CLHé˜Ÿåˆ—</p>
<p>åŸç†ï¼š</p>
<p>å½“æ–°å¢ä¸€ä¸ªçº¿ç¨‹æ—¶ï¼Œé¦–å…ˆä¼šå°è¯•è·å–èµ„æºï¼Œå¦‚æœå¯ä»¥è·å–åˆ° state ä¼šä¸º1ï¼Œå½“ç„¶å› ä¸ºå¯é‡å…¥åŸå› ï¼ŒåŒä¸€ä¸ªçº¿ç¨‹å¤šæ¬¡è·å–ä¼šå¢åŠ </p>
<p>å¦‚æœå†æ¥å¤šä¸ªçº¿ç¨‹ï¼Œæ­¤æ—¶ä¼šé€šè¿‡ å°è£…ä¸ºä¸€ä¸ª node èŠ‚ç‚¹ï¼Œæ’å…¥é˜Ÿåˆ—åï¼ŒåŒæ—¶è®¾å®šè‡ªèº«çš„çŠ¶æ€ï¼Œç­‰å¾…å”¤é†’</p>
<p>å½“å¤´èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆå³å¤´èŠ‚ç‚¹ä¸ºç©ºèŠ‚ç‚¹ï¼‰ä½¿ç”¨å®Œæ¯•èµ„æºå¹¶é‡Šæ”¾åï¼Œä»–ä¼šä»åå¾€å‰æ‰¾åˆ°æœ€è¿‘çš„ä¸€ä¸ªå¯ä»¥è·å–èµ„æºçš„çº¿ç¨‹ï¼Œå¹¶å”¤é†’ï¼ŒåŒæ—¶è®¾ç½®åç»§ç­‰å¾…çŠ¶æ€ï¼Œå¦‚æ­¤å¾ªç¯ä¸‹å»ï¼Œå®ç°å¤šçº¿ç¨‹å¯¹èµ„æºçš„æ“ä½œã€‚</p>
<p>æ‰€æœ‰æ“ä½œéƒ½æ˜¯CASå®ç°çš„ã€‚</p>
]]></content>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€æ—¥è®°ã€‘2021-12-12 å‘¨è®°éšç¬”</title>
    <url>/2021/12/12/%E3%80%90%E6%97%A5%E8%AE%B0%E3%80%912021-12-12-%E5%91%A8%E8%AE%B0%E9%9A%8F%E7%AC%94/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">
  <script id="hbeData" type="hbeData" data-hmacdigest="fa73a0506e640f39a65ff50ace5c8ccacec4b6a61d07b6623724dfa67013b79e">68e938e120fddc22e7fcedd6f4fb68d666d7fdb9ecbc745b7a2bc8f6442cba52c07dea8a15849da5bc0b8579c559c0000fdaa13026bbb37df3f2395c8a25f7e3227826dea022173f6b2166b416facb426c6ddfffaf0389152036fde4b20ec6066379e2e98257bcd6478ce74c61742cb467a44a6cce20eeaad70ddad613d9e8ab8f1d14ad3d82aa4a5b8ad450d44d9878dbf14e3c448b3fe3fb82f01e9d3e14a014199cecbf5036195a36bf20e250b73f0e6c1179f2f25e53946e5ef88f8ee0ebda050f711fe15ebcdb7af6c6d0f2ad0a3f2e90c0eeb147feaa4e5ba708c5c5b943e1d8343acfcd0bda85c807126fc34160d9232fdb8fc9d25b8b2de2aa9fcdb99baa7aee31fb4d2f60321e0966519e4227a978a3f32b728cc66f65ae20f41f5040f5711bb40a7b743fc78b0bad32c300837b24b82226787f54809edb242cbca0fff84f58f1ed687e1df40431da178596aeb8b7c0ea9df65ffcf57e60202499c4b022197ba1f31fc1b7b5efbd9ec4088cd92b75a55e24e153f1135d416ff140936c6eb1ed894008194d1d0eabe893a3b2d96da17ae0acc370a5ca0bf1f53a748e7dd5e1a50432393c2a65a52eb0093ba31eaa769567cdbe5bf3760b5f17b5dfcf85754c3b7a225db22f89131ce1507efd1fea22536915f090a4544e8cd51770878583c23948d3ca6630bfb84cf9ba2c38964a1f70c35944be02e9a56872201b62b3e062da60207cec8ba38726a40bde833bb7cc21934aea6fdcf57fd6213a5ec5faf3ab0b9aa2ad4b8c7d8d58f2636bcf054d87e41fc76bc1c123e9ec8d74b43e09cffe8467caaaafdb66eb39bd886aed3de73a4e95c0c370afa5dfdcc3908489a3978535ec8568d2619dcb881c44ce53a4014979f420af39f5506474fe8229e630ef95228badc7a097ace53c0f6656131a33c2ccc7df6488c55af94b16b74361173b1eb99e609842009a84ffeda26af94dc9c36086c949e968ff30e3b2cd2d9b2c4e8ba19133149f56e47c999492ca90d536f209cb4a14ec4af8905d666ce3ef06b5c96eeae2d490af9ee330acc57d64915ff8c1b1f99ca086016bd228c3caa05ccc52a32f0d7b7526552cc87774fe7c8a2d7938aead085c1f8c151721e9efb06c68977ed032ab2ad544d751fe2c21713cd939d5fd1d4a3f1166bbc24613124847b57f9fb3ebf2e70883703f2af30dab716a66b200efa2d11a98d2d5463b924141470f6476de10165d49593d9923448c3d2a5dd954315b4a00fdfd42533aa84fb7aae290248313d8b56fbc66b0c3a9894dd2da0be5bc30f3c207877dd58a3fb64940d668a3b8c8d81cafc10b271249c2d983ff24fc7cda5719a5a13249e66092dad7495eeab37ca93a4a73f94b113198233163d2cf61337dda578f3d1ee23dfc1e0e788412122b3ce0afdf7ff004ac42f72a67e042dd0d88fc5d7ac806db009860b035dcda3e83f90a7b20dce9cd29082a731c029c262ad744bdfda2ed41a9fa03b2c1124edee8c7f8e248d88fa518d4c5c49454ccfc84648918c7e23851b8ef04ccffb42580867cf901dfcd1948c4a02f5bfae48efe56e16fd481b5899c2fc3399787736f5d849074d114bb321b709b3829bea1939052409f6c343bbc47f5c67712c9ee12a1551b747583228144c45b324b0f26394275095db5d8c14ca47f2a5dd276ccc8ad3a65e0fc6c64a317c7c1b4f0355ef5958cef4de12861e4d03766a4903a4bea62cd50d909556ff69a3e5b6c0249ab60f0e9643948e2220d0df0b141926c4c9e16d50d254f76b24606aac5c02c898905d2ecd9acfc123af14efaa406129116422e2c388d540ff51ac36c5be7a9e6e1284ea691eae2f4855f77f99fa4669ac724c06a88cf81f988f41de94ca860ad6a784f12d0b33d4890706828a1ff70efd2ee41841cbcda3b3df1a645a848379c8be3da957a1115d6fffd01fcbbe843146bce0bf03bffdd432eecd49e1e93210d321e173939a8adcdf9640526f57319f21c8035c3d41ec10bb6d4a3898544dacfe9e25befd6f9495e8e828ef8c8a4a891392ae2dfe656f8301d000bf42b0defa76d04ff840a78c03a48be2685e5cc1fed51d1b47e97c9a4b0b09d8ec075fbe219d34faa9f9d36897b4b4fa9110b065ea3ffe009a6344125c5e0feff679fcd32645619724b3341dcce3d0481bcf1b8663e946bfed246b5d099530cda5077d2e69acae154c406813707811a13b3085bfe9067737c00eba9d3161c0663712ae907d1467f8b23217c70f5abe00ea6b5d39033e62a28ebb44ff68ad4fc5b25fbed01991af94a6cdd76b70067d611a1dbe823a491e94c2350f6fb977a16aa8c4698402a64e39b0a3998f9327a0ce49ea4b7cc386858a81780037ec90cdd040f1d916e52824bf554bdfb3a9b67c86243088273dce030e50e5ddac70735ee739f8c5cb31b48f691df602f85656b83c64053da9442b99caad75ec0714858b1d4c4e700c1c68e6ba491c9768506ed3ce3d9672f23cc0011ab05ad4b87ac8385e3da2022e019fec8a0cb068892e79a87294c80e6171d5526bf72305720b44f70d64364d193673f3c606f0e7ee9cf7b02ab70977603a2cc6457d20974a5866188109dffaa812abaebf1556662581852dfe5b23de8e23ec3e1ae89fca82371d87e19b1eeed77d8298839c75c418f07e5397853504a980dcfe8c5f5320885f194e408c96cf96d3d19e8f5c8678838a04d638b51f3cea828fb671bd1881be54a881923ac0b07b195da1b0433bc57fb07f3786d420440c5bc76239d765840d58c66d9f196c1819004ab92b9be4271ba4e74704f4ccac59365d545d958a1a83c6fb7d473b32fdc1b4227298e23b3ed4ddf1d9af61e3a0a999e442e931f1fee872c351263822c9ed4eb3bb881afe508a201b7a5effd8935edd2318b6600e808562b3c9f29a4f69b3a1b4e25ee88a6229e521d0c483f7a84e1a6d56f164c5eb868e91ea40814398e0762013ccf3c1a5700f38bd540d0cfde454bbd5066df52767017b91c99a508871fc5bc4f5ae7079e126b017f46b6e8d31d9858f0f60968c8b7e14ae3db1720ff9873142bff7e3ef70a832ec7245b44b53241d77fbb103b636fc00e74762c82b21c3d9c9b78cd941bf6c769f11d0bbe6249597004a2f652f92f587b903ddebf414e0f020bb5767ead9cdedf00c6c4a8a52f23bf39e6dbff7e7f9bc9e9de0be168675e5fa0f771700d05d1728dc0167b730ab7ac64c229d14b8f401ef69aaec6cfa11769ab97856caf76241fe77ffc581c558c7169cf7f50c742135c6d8152a350827e4c93bedc3c549033d18eae99d04ab020c2d7798609b1788d5db9efc7561345441d3d21533388fd7d11f7dd495a90ab98644a4a1625cb8bfca077751b2667beb15c0c17801e705c822613d2ee7092f64dfcd854014f9e300e6e17c2d9f22723468bfed276e3cd4e046b93a623b12bc8213a35642f49eaaa19042200940edb00e7dceedf674285e120953f665765c53fbcb301d50183f5aa1cbe684bc6f88b03d0b16990d4666d2987007f03cecbd6ac6c09a84ba8d977fccf4ef8c03bb1041502293c568eb30baa1aa2c645ead12fbd0070ca6e66acf0dea600f48cb399188f73cd8d1fc72d0fcc3a71dc987ed3d7c02d79b652a005978466a5bf945090d2e2702ba7c068e6c70590ac54f57d2f905d6d5b7de43d456599d5a67f4178249fbd4a368e16b2b2d4bf4f815864d241d311a896ab3dc3529fe80dd81dddc4d82e86dff250cb18497fa6f8eee1b2c74a737a74ec78563a52c53aed6a206c35fa12e493e9591123ea71853050672f769644cf6d9b45a9d251c751ef309911fc3ec6ba311b694d967277d3938420cb593a5d5fa1b28e716505c5951c6c2da2e401476809cfe3feaedd17645c624dd3b61249ead0da74e29e5ffb62953eaf108065e4d4d1e8ffed0ae75f26ec68bce2c426dfebaa0205ce8852a4d9eaca9f303afd13ef03392dd5b9ed368f1559c8016d5bc639cebfb890b870ca0069b32299843d9bea1b30f7bb9de8b509149bc17d750b16023ce903296311347ffcd0bae53649d871308d42fe2dbcae84f1cd3f54f80ced70b58f846a1f0024eac60ff460294650b102c304646ac0947acdede113c5d1e739e16cba212924990034b8dab0d2022c8b65d1a9531567a9e5d608d4bcade78a9265d641cb5fd5f3a73663fb2132cbc5460d82228bec876ed7258b3aedc43ea134aa0c3a6a8a769ae5d918c4437c93614e5eb8b08f2ed1e693d74603009cd57f271d898d1db108643cdf541b44c95e58c01b02a862f400daf8f66f4b0a13a78096db4bd2dba217757ded515dc860c1</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>diary</category>
      </categories>
  </entry>
  <entry>
    <title>ç¬”è®°-LISæœ€é•¿ä¸ä¸‹é™å­åºåˆ—</title>
    <url>/2021/12/19/%E7%AC%94%E8%AE%B0-LIS%E6%9C%80%E9%95%BF%E4%B8%8D%E4%B8%8B%E9%99%8D%E5%AD%90%E5%BA%8F%E5%88%97/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>æœ€é•¿ä¸ä¸‹é™å­åºåˆ—çš„æœ¬è´¨æ€æƒ³æ˜¯ è´ªå¿ƒ+dpï¼šä»¥ <code>a[i]</code> ä¸ºç»“å°¾çš„LISå¯ä»¥é€šè¿‡ä»¥ <code>a[i - 1]</code> ä¸ºç»“å°¾çš„ <code>LIS +</code> æ±‚å¾—</p>
<span id="more"></span>
<p>æŒ‰è¿™ç§æ€æƒ³å¯ä»¥å¾ˆå¿«å¾—åˆ° <code>o(n^2)</code> çš„ä¸€ç§å†™æ³•ï¼Œä½†æ˜¯ä¸€èˆ¬æ¥è¯´è¿™ç§å†™æ³•æ²¡æœ‰ç”¨æ­¦ä¹‹åœ°</p>
<p>å°è¯•æ”¹è¿›ï¼Œé¦–å…ˆå¯¹æ¯ä¸€ä¸ªä½ç½®çš„éå†æ˜¯ä¸å¯é¿å…çš„ï¼Œæ‰€ä»¥åªèƒ½ä¼˜åŒ–åé¢çš„æ›´æ–°LISçš„æ“ä½œï¼š</p>
<p>ç©ºé—´æ¢æ—¶é—´ï¼Œå¯ä»¥å°† ä»¥ <code>a[i]</code> ä¸ºç»“å°¾çš„LISçš„å­˜å‚¨ä¸‹æ¥ï¼Œé•¿åº¦ä¸º <code>m</code> çš„LISçš„ <strong>æœ€å°</strong> çš„LISè®°ä¸º <code>low[m]</code> ï¼Œåç»­æ›´æ–°æ—¶ï¼Œå¯¹äºä½äº <code>a[i]</code> çš„å€¼ï¼Œå¦‚æœä»–å¤§ä¸ <code>low[æœ€åä¸€ä¸ª]</code> ï¼Œè¿™è¡¨æ˜ï¼ŒåŸå…ˆæœ€é•¿çš„LISå¯ä»¥åŠ ä¸Š <code>a[i]</code> æˆä¸ºä¸€ä¸ªæ–°çš„é•¿åº¦å¢ä¸€çš„LISï¼›å¦åˆ™çš„è¯ï¼Œéœ€è¦å°è¯•å»æ‰¾ <code>low</code> ä¸­çš„æ¯ä¸€ä¸ªå€¼ï¼Œçœ‹å“ªä¸€ä¸ªå¯ä»¥ç”¨æ›´å°çš„ <code>a[i]</code> ä»£æ›¿ï¼Œè€Œ <code>low</code> æ˜¯ä¸ä¸‹é™çš„ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡äºŒåˆ†å®ç°ä¼˜åŒ–è®¡ç®—è¿‡ç¨‹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><code class="hljs java"><br><span class="hljs-keyword">package</span> DP;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * date: 2021/12/19 22:53</span><br><span class="hljs-comment"> * author: 31415926535x</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LIS</span> </span>&#123;<br>    <br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> n;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> m;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span>[] low;<br>    <br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">LIS</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] arr)</span> </span>&#123;<br>        n = arr.length;<br>        m = arr.length;<br>        low = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[m];<br>        <span class="hljs-keyword">int</span> tot = <span class="hljs-number">0</span>;<br>        low[<span class="hljs-number">0</span>] = arr[<span class="hljs-number">0</span>];<br>        <br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i) &#123;<br>            <span class="hljs-keyword">if</span> (arr[i] &gt;= low[tot]) &#123;<br>                low[++tot] = arr[i];<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                <span class="hljs-keyword">int</span> idx = binSearch(arr, arr[i]);<br>            &#125;<br>        &#125;<br>        <br>        <span class="hljs-keyword">return</span> tot;<br>    &#125;<br>    <br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">binSearch</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] arr, <span class="hljs-keyword">int</span> x)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> l = <span class="hljs-number">0</span>, r = arr.length, mid;<br>        <span class="hljs-keyword">int</span> ret = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">while</span> (l &lt;= r) &#123;<br>            mid = l + r &gt;&gt;&gt; <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">if</span> (arr[mid] &gt;= x) &#123;<br>                r = mid - <span class="hljs-number">1</span>;<br>                ret = <span class="hljs-number">0</span>;<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                l = mid + <span class="hljs-number">1</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> ret;<br>    &#125;<br>    <br>    <br>&#125;<br><br><br></code></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>ã€æ—¥è®°ã€‘2021-12-25 å¹³é™çš„ä¸€å¤©</title>
    <url>/2021/12/25/%E3%80%90%E6%97%A5%E8%AE%B0%E3%80%912021-12-25-%E5%B9%B3%E9%9D%99%E7%9A%84%E4%B8%80%E5%A4%A9/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">
  <script id="hbeData" type="hbeData" data-hmacdigest="e4ae3c75f645f986315b6ac0d9f8199da70333a5546d013acab51fced87121ab">3882b87caf04987eed257e1a6e9a70c63bdd8213142f755657261442c67b22aa9e5a879452b5bafdbd7281be2ac7d41e3bff6f64872f7a131d160fd945e3c45e5270bc92e6e19754a50a4cfb62451883548642eeab5bf8e38d9b0c270e92c366d7471b1645680561ab003ca800f7439c2cf38075cbde280fdda600ff3487d149cefaa78ceb936b6cf5137932d0a9ad82d55ceb53fc491518f0d63302dae615aab7d838c15bd3db47306553fa97e6f0e9d1f558382005c75838a82b85d0fd6b8cb32d21e3fc80a5c968382968cd6e220be141a4df049fd5e6f3f3c2188c573f0c9af9487ed1f9958ef7f382ae5cd45776ea07355368ca831b8c71d0ef8c94233039a768e2e3c92ea87f2697ec6a23f9758628a0f86eecb0ba8dcc0d01957b2d945223109be142cef1395639e3dafe77ddf1f271b23ce0619f1b29292c4e8833bb6a020e60f80c598452a9871d4d624d844c5a4ae3dc74a6a63cfe2035893b093713347d7c191513da7ac3d3783109202ead6b15fa920f3f288546a2c01c0b23d1dfd73126c0a04d709239c8539a42e574f3845a4641c16b1db00280c4453edc5beb95e2d9deb73725a80e6fda338eddbe2381680499cd2020bb39fad6a3b3184fd56585646c8d1aad2e8e07905b1334baae4ff37176ca9f538a7debe5400232e1e56b90f46b7c0d8cfa0b4393dd857cfe783e234583c4065bf723b66e133dc9aff7a0d974aa7cbb2ba4f80b3805b92b5735eebd3f3f5e048f32599414ac2c88040f9e49f988571d8cf3484f2093d236f6546d49256a1ac6113c3d9bc3f05db004c89ad79a0cd53ea95deb9a55cd98756eaea1abf15c87aef120e1205c56c2f48d3e4e745caa224f2e317b2a5951f4f613aea15fe311debe51d537ec70b1341cc897c520137ee0da43845bea1a49e745f17cbe23d4a28fa97e391ce36582c5790fe339ae350126b25f5ef71e16d3fc80fff958cf11c57d1983c68d2da76ca4f9bfd4256be078eb8f0152868dd0cd989bf491998be52bf535feabea9e024ba7608a3a0d6f123852511ea8384c6cead35f23db7c45e4d34021b925a694c8c037dc369dd8f08d47e5f51045994699b2862b641698d903956c25381837c0f9b9c7787247320b6a8ddb4ed9a318d6da87369e8d6b5dd46d9a9bba3b35cb4f873b5042e78464bc73ff19ac67c536e80188344454632f2b1f885ee2542bcad09bb8d82e368cdfd52e932eeb7f849560428a6218c7d9e2dcf6f8ed693a2604a9babab53ca27ad6fec3b5e6e48ea6d44614ca5c7b724648ce8e8bab4f62162e6ab20c0f52a7827825852665719a280245fed9155d67001a6cf57ada9f34d8f5f869d740b6355a81c5d3b6e83aa77713ed84042b056ba4795d9a7f4f0e5ab493235350dda2d6036a67c7077c7d3c3426314ea075d039fa4a69b58120566213fffd8832868238c302b10bf8f57a8d097644c11e0673f13953fabe0bbda2ce1e882d3decf20faf2bf47a3fcc903a0d59a66251180d5f27b34b0bbdb6bfbabc95fac6ff798435cabede35ad4bab42115bd4dd3d737a9954db3422482633ab52012802bb38f3262d7ea4f7880a6bb935fff57b6ec7901742efb6e020f2e1d828fe8d6c3470dd11b71f6bfec4f3708466bf31cad76c6614cb0070a413cc6e79a25baf6d36c95b373a90109e5570a3a78dd86083111facf447345e9e242d86efd969e17363fb8ae436103ef4405e81950f4f881624a7e42149360d59992ddbd91239993946a46a2ad45f428cc237a288e05958b5be044bfe8c93930e5f80e65657d903b2273afb56a61ca3d42f48d6b9ccd278d7b9d12994533d6db9a87c07de795bab4b51819e50cca55806aa1eb9ae8cf87c18520b8cb01d614aa36afdd26ecf127ffc61d4d939084fb961757cf635ad974a6abe4de6c383d08d6b3e0dcb7a367517c41d88671d3e832eaf8bd748422d98be4316d3900f79ac1295c8ca01d1ff8cfe98fc93b8af3686163e69c74909f42ade851e073668588f412964f673736a09d76745b87e8f7189c2aa2b9e2f4c202e766b5aa07b8b44db3768fe5fc9a66143671621cf338c9909446f4890b9c7f9c12b4263f7e0ee41eba62fa462aac8534284306e721eb9e69768bf02c44806b7b4c80d27bce7d8dcdcb3356613fa1c4c296ed6ba3112792d972a49856e2a4160197e6020a5d13b54da444e0ac734c7d9036c7d5ce7ebcd9e7f0000c8d27e092f68422f1ab3899874a2ea2de14afe126d7ce4ccef4b6c554463577f13e1d64819332c822f60175b422cf8245be3e71ff9d726b6e3f3e9504dbad8bbe21403d86f937a7dfdc2d1f18c5b8e7484c479620e62b03d95c27480ba65053885207fc2258a66e0d5dbc18e17b4297e040f7003d632c04105a7e4f7b8031a88cc2dfe55f745591175a79b1fb497165f15abf688cb1f53c43834ba6fc6d84ee00a93df8b1a76d05284f4e96f1bd6a0c3ea988fddbab82155b4bc0e410fc38b5c83004ff760354b0f992a5d982cfc2ce3d4be30a1dcdb4ecd15776291cf5e9831057f77ab514153f1e0757dea4f2778262a6d9c865d38ff18aed2f68287bee38a31dc089c2e8681b1aacc635760830a3f855be6d32a3f2912fe0b7b142a5eb4ce7c9e4f26dbafa701689454cd0cf9831f5180f5d7dd7be7fc7d6281ad10323d8c4f7ccc0c80f6d08a2a92233fb336ad79d91f3858cebc6f526e15c9b3d4b26ebf4687d0355f9d07f9da976273fa9e3e6ea80a51da5fced2becac6ea43039c1a369b0235eeaf2c29363b256df1829351dd4ab7672b308b87cc722777d44052cf05de6c3ddbaa719084d12d454efc27f22b528911ad928e708179d27ae20ae1a56c12f680e60a5b416faabbbaf1ad137834df9c8addadbd320da67e77d8cd10251188c74273800b62c6c92b31c9acefbae3cdb6650948656499660d79eaf8b8e227e7c90d17d633643cf5e3e1b6fdc94a12e4fc12b170f4371bfc6645ce793de33c7fd1d236f459c865ee5092e92a346684b17dfa81a01ff614cfb8a94f27854f63b4e8259576039c1da36fe75e5388ecda72cd75518e1f85b02d9f928d11c54389fd3d8b410ce2d526f1f77c5712e0d1ab2b258224acd839faeb3642bb651196e155801f371a8339656bf9e988dc483b869997e7a44765930bee638b8a9b5ebc685622ea78a4d380bc2dd32b6ebb3bebc16c52a2cd99adab9a10ac8e3788bda00317c9cb679b64dbad6d78900aa2a4ee543ddbe127b032cf0b01189f9f282b3902c53db1b94fd0b682fab13937f351f0e09d2a1fbae0b3fa3eadb4fd4da315ccaf9d6542ec89e25d06b9238dd5a9beaea86261cb137f0155031d1073682db0ce444991ea5930896d95eb002a0bdc5319dcc709c5b2f374c94e5c7bb9c3e8aac2700a85089fe6f308710a9be0033a6919de8c24abc0b5c8ca682ec5d708c358fb1e61293b9beb17e815765898913a0052d1047e71280c0974df1196cccd26be300a91e8c8d8322003258b8032c1351cf1c2b60402f97ddb90efdaaeafe0fcf5e0deb8983f1d21d3f2a2170d11a520ab8e5cbbe09bb7044044ae8df29d940d79c89f36002b0f247260da777303e6ca6c5455e3fc974446ea33d9a9914d8ead6e63cb42d187ab3896e37986c43a420b6fe9068d85156e2cc50cdeef532e2706fdced171498353017cba21990b9b7caa71b7cee8bcff1f587828f19afaddf3c12ed04f5688f26c0bf1dd0447522684d25b831c5061bd9e5c823ce5527526ebb54d3c6361d4b4a4e8c1e7f376b00650f4eb542ec3078dd3cd461ef7e8cd76aedb3f45e1ec8670de561bed247c0914744d986883f5427d9706eb570647c650749fcd1d835c6a42acba94588a0e762c24a70ef455135455581a56adef12f6ad7c4437d6cccc3c0ac5873587498a80932fabc0aa60c4ca0a5114b0eaced3fe904282db69f1facbc4a1ccac53dbb4b04ba906435ad5e10fde66ce87a004fdecfde71c9662a5daa853c2c1641fea0964067d639decd5845dafaf46e293ac3bd0c9f6b250dfacef2309c793f68373503ca3fc66ef39dc15ec5e9d900c0cca61c3a766f52751d29983b98dbf6ee631530601906b9bc877da534963d7f5a2aefff505e37dd58970d8015ebafdaa92e01834b046d2208cd7bef815900cc62576acaff3d61026ec5fd0c43760b9215914294813113a2edfcabd16987ba08f42be17f3b3747320f750af4175c29205bcd7cefcbe43b453d3f008ae024503eabd304c6e1c817f754e6bc23527b90d4484b151155b21a6756b79f47dcd0fe74333dd130282484b3d290cfb9f662ec965acb8dc1f0a6a7b8a62a91bbde5c3ad3c2753ef0202d6e7e7fa81d555803a0d9580803887b3863fa249097c62ea747181556b8a16fd25527dd83f807282f1692e6f49f945b5acc1b94696518c2d33838bae59fbecc281b31920df4f191ea9243e77a30d6a91e48a2ce2c28012efb79ca00aba93bb2e439798bd8f0b17b000eaecdafeeaf0c2a79e7f5178de4bf7e735758402e7d8e7eff987748ab85a39f205b57ee520f95954054cd77cb20c736c3f40c350553149e7d920d879549efd323237154bbb97b50b1101d0c5758158427f1c8d6e96d7b0f50019a8944dbb2056a98c18e50f9097364e1e7ff0a4aef83168ac778d242b5706137dd7b57709c8877573bf96f95059822d7b5696c0c7fcc8d98dc65ad4ff803d72cfcc2f09cd31dc02ec67c7fa6dd772107b73e1c7e62bd5b94666e508ce60cbd1aa3db5e67751667754cea333f95dbb82fab2b971cfeaae95100882d399a07ea2996771452cb4215f5a3d855b52b5121c37d3cb9c2d8e866153beafc438942b8bf3306529a029a9be943b7bf11b53f77c26da3613e84214f10e291e1ef6e5d59944117c975dda2885e79b714d8209d5a7dce419213fe6abb88a7b5ff11574bac8c424da394246b2f7565420faa293a8f8e1d57ebc9b47161cf9a39d56f8fc7c012be5179f23cc16fb4ff550468ef7fba78f648b94da0138b11d2ae8e135f4aff8b54ebd287dea6d6ed88e3949b468ae810b1db50ef90ae7616c2a8fbb92a68a667d8a15444da3ccb58b9b961f7e1a376e57e8d2c9cbdb89c5bf965483ce4f7efe664de9138df382faa75b23161d4bbfaa47df3507926ca6a463456a5dcabeefe6772f324c1a6772334ecc5d7696cb30a91bc88133ac915170adb0c75336a18699225705822ff2d9efc5b7a0d8091ac8b9c5e02c8f986dc0166d4f8be3c4438c83aa0634a32728c4f5cb2faf598f255157fbe774272ffc1114dcc5499072575d522ac7613ef73bb3cb75f1746deeb62206fc7114f5466a654e222bda3bdd1aa2ae5c76824709da00a1aaf84e8c4f424c113fef8389e49d1cba3e8f803cd8c2bc125b48da6e6f35499d20883d41c90057f245d924d608f0aa4ebbf763575138be9f5b6fba153d98b35a6ef4fe80aee45f0c9fa97136168de44fa29932d1b5e1668dbb51132e4847dc278495ebc6771bbe56f26ec8e399eb8519a17691a6a6ea77266d2361b4e21edff65e61685eddbbd3208e7e6ad52ca7f7bdffb31f27fa1d54abde9c3dd2df7f09ee2e4175ed6361a94c57662340de3f3d2d1f10cdfdcec7e2489699b22c31bd7a32ffaab057f3ec9a449118098d598bb5c41a7c12acbf83c3591712fb087dd8adc6a292d2bdb95c5311d7d72880e3b6e50fd77418df675add8a54a23d37beac499628aa1eaeb06e298500256fb691d466a47c33f7b048cff17ca516911e25dd9b02e63ab3d59b591ded0ac941d24fc3240f1403c22e22b457630b1fe0a7ae0749c64ed39f5b3a5b69ac6657c1692ecc1386e846d4f0d865c394f5701f074dc3053644e19555b39b8c3466326e0e63437662ec704e2f4e0ac58233d7078c9d106da417b6a9b60ce17caf958bc85a9a462196ee4ba3126bfc958ae895829463b5258edc2cff32545261668b071d890c8e38dde0c9884b46ff70b88d3c2cfa02a297e67aefac5418ddec42c9504ceeb30cbdd95e5a2ad767a364f3b672607ac66a5a1e9f2fca3d428fa72b23b896d19b45b96a257954abc4e37846db0c8736a73970a579d0d7fc36c03f756be485bc2bf915c50498748aa6ccd370ad0de6fd3c94660f5931fadd572a142876ba6a9e368536b16e4fa7c6f3c4a0805f98fa2f155402a15b14087b17d11655f235c3d5bd442d2fa7b57559b08f911cda9fbabf70a7600758cf8ead625538ceb5fa168407053ab6080b2f0a92995170952737a3f4ea9b8bae7e9bd1c47bb4293ef963f01ab055b23fbd459e44c92e40e82a8a4fd5f3dd966182c4f0cb0e1bf130bcaffe490b43e9b1e449b890ae061181a0c7f0a1dead7fb7ca37346945e2a5d7f6cb74c6ac87308515d5fe539e1e76b8a15ce0598b8918c8f0afb079db7191571059a2c8b2b6947864987dc2098b180a68f222f2014a889f9335c915d876ea36e7786cc1219386c6941305e7eb9b8d3d1727c67f619eceeeab5de36fa3894fd9518b95d1cc2cd996ab6f0239c368585bf25caafe60d325250e2bae23697cfc65dbc2dadd65da3b03e5617c389b87db71724c6e6233a5605f326f3f710cc2110ca8a623efc180f1737c37a199023e0878cc2d57926ed2e521c0a02743c3647eac78e373cba81716370c1c51871811a96e10b9d4688d1236f8829346e955c83f340163bf904d04327b3a79bfe1aa59ec396fae1dd4813b720a85741b7b7db9464bc596f429b0031699bae38f7b3fcce03f32ffe1753b9cd07832716f2312b6f37d0b13e71f573e3aad67c274398b83a26f3f0e685c2ea5ef18483bff5c47a0d5f7d3ca8f231ea9a44420de61c6d13bb170bb01bceee940fa142191955200d248a85ff031bee0608a5ce2b95b5fcee3621434e8854eb32fed4e74efe881f8c56e943cedb5579c6fc0c8f271eab697f5c5f0db7798e89290889b3cbc60e93fde90fb8acf08b2c6209901991d574bae1494f707c96c3b0d7eb6757364a956564f80e9d3a6f0cb45df215a3a24b04db00ccdd1a341453689c4ce51df585eb847cb813e247cac9b0140cd01775f1b98fc743aaf21cefa58c244c30dee67e920df51cb3bd31532e5bec328efe3c3bb60ba16dd222a615f6759ce3249ad5202d9acacf699944615e967dc94f3cd8ca280ad6a4a3a4a7524912c7f08712bbc6a093f29f4b7fccb53bc9328b09abd65ab9f30460aba108e9887990eb2f7196019d5dec0074920c772813dba4f7c33a64af4c800f0fcd5d9817e5e7f28cd32a25f6d5eeed326a2d912a8e2f9a4ce9f9e4eff132d941b951996a3c4fa2b54b3fae9e8d5607c14c000dfdb695ca12f8b6eab9fa63e93dcfca834cf009df0b2a78eebe6b00db04f23006597863c7b72a5c6bf1a36f5b2b653091b3c09a02692d6038bb6c6d07d2635ce426e5189938ddf017b23514ef4cd4c3b240c67455abb6d55be1d4e3d4b220ca5236bfd871d661c4687dfb3519f36c87e77fbac3b9072055a6904b7f067d08248d66293deb916c41e7d9e32cd4630e2a49cb4775d37961f3bd0f81596f11c5fc16c4b2f817e5a4fb40a8c35aca74762bd06f4a301d38a5425bf6ff68a54fd927db2554ab48b73453f3737b82f0a0de41fca24c4a2f6921c84b3d74f4490094d320c5579f285cf6f1d8876c0b956d2a2912e2513c66714d8dd51b8f81be9e21b8feb13fa06e98e271dc0523b58d493ba2ff4ab9b9e9f53842fc7e70e16a816dd36fcd94d74f0bad206260123a894602e40eeec1e97cb836916680a0d64de4593541454fddc51f45464bf5a43e3e0e0871ee31c02e2b599583275af987f41291b1f6edc4f395fca831a2e25f6f1ba633b6180edc3bd58ba17aa01e67d60d13921044caca858be3eb83a839b916bd980f55caa36e73d9fed3e1fb00a6f0e18b9a7f9445b7ce540cc75855c5f8559a3d574c801aa04ee783eb757c21ba3b88f30ac0d69288de64dde87c310c989d4476d822bb999063c7e110e0fb2534bddfb08680cba510c5815a777052406078ec9356039d383ec08c98b757f48e37b65515b281a8e74a4e608b15186ee8cbbc2db02490b54e03a88adc906905a3a1c2257cc47e26b35234333e11b7136cc7f6edae2150f4b23e3518928120bfb68630767580931eaebedb38f065d4aaab9aedb41d66d77c0973334cea4a0d8d80a319fc022e11c0839d360742e6d101007fe4bd08a63258b3e72e08d86364221f469d651681613bbbf0155889b5740d167f593fe616645a1f0ccb11ff50102ff18cdcc63ec45708e0c72ea005568d46bb66cfb51fa723678ec12798a7f12367786a6fbe7837787f2ad60ed472d2f6b1a6305150fb3bcb6a83eaea0bdbe938b19b2be8a59f8b18050796fa281385d5d8ef1faae187d575af5f1d925d9c36db2905a3085c7cc4f1243c4c51fdba2ea890e2eb647a74a0143165f090d4082012d153990a2ee7f62af61ccdd66eee6d2f57d00209ba0589fcd32045beaa62eba8f04c12c9357f8cbf8eaa0885d34d63d61416416a029a4697e1d2dff2d11b4adf33b5c0171022bb2831ee8a100963036513dcd0536f45dc88721f253ce4cb9b093f39d7c54860b76837fcb2a6a6304d88ba2931f12c640c76078e9f2d23ebb77e0100064fb0708fa0827f4d66a9cdc23a03815b65cd5f0092788e827206e1c9880d5c210429f45400e9a4e59f6bc29c5966dd0637fa43c035dcc197a5aaf57c43359c6f6e3790ebbab24211d300b8afacbf2a36dbaaf0a0a73ae879f572305918bf94c10484cbf5f24c5a6ff2435d07e1db27d3d0d6131f6bed11a88041e1e40462c0d5a7368c61ec6a463ac905d2f8bc3548f69dd474432e0f221a4e8ffe38263c8a78b6fb7f5b126b2a1dee57fdb1f8740a2efff22b06c518e367d49ce09aabf8b887a2e626cdf21b573e954d61050e70635b3f4811792bcfd89cc24071b53a3044fb3bad9121dcf25a04b41bba3571bf716ecc9dd036601115c6d80859eaff7d9bf25165c386db2ba3124b61bc620191c3d3464165f8905a8b946251d05bf642ea60fed17f7477afab1c4ea697910d7aef527bc8010213797b76bcaad695f3876ba4d701fa28074eceb618d5d6b31c2e850aaa95cc6ad00201410eb3421e461821143ded6e96326e1e85b1ce773f60ef3d3b2856379cc013a6851dbd7a0bdbc36275537f8e763732da7237c231561a15c94bea0d80bb3f549d96e85ced92c680d6c79bf6c9f56732cf6e075c20c407775bb8fc6c62200ffafe56dd80df6c97fd173d19b3daa35ac98c0f6990460f7b2d2e282624957d56d009a1c4ef233781d2d5d6e16951f01bff20e14d612ad3590a41bd2d37fa24c1ac97248335712f896d5b2d1fdf0fc72113cbf891c55628e5cb361bc6afd5a75862f64e9968c363591bf8173a80d331a8fb6be307457946c2cbc155855ad7b9db01bf97ef304364713a350ee69a13395ceb66ad950d7e50f15754313b00be11df08053d7600939265e0e750270ca667c0dceed70f12cc70fbccf6bc90f44683c129e7ddd3942b4311889e9b514eb</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <categories>
        <category>diary</category>
      </categories>
  </entry>
</search>
