<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>31415926535x</title>
  
  
  <link href="http://blog.31415x.cf/atom.xml" rel="self"/>
  
  <link href="http://blog.31415x.cf/"/>
  <updated>2021-02-24T16:47:10.558Z</updated>
  <id>http://blog.31415x.cf/</id>
  
  <author>
    <name>31415926535x</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>microsoft_refresh_token获取错误等导致的multi-factor authentication错误</title>
    <link href="http://blog.31415x.cf/2021/02/25/microsoft-refresh-token%E8%8E%B7%E5%8F%96%E9%94%99%E8%AF%AF%E7%AD%89%E5%AF%BC%E8%87%B4%E7%9A%84multi-factor-authentication%E9%94%99%E8%AF%AF/"/>
    <id>http://blog.31415x.cf/2021/02/25/microsoft-refresh-token%E8%8E%B7%E5%8F%96%E9%94%99%E8%AF%AF%E7%AD%89%E5%AF%BC%E8%87%B4%E7%9A%84multi-factor-authentication%E9%94%99%E8%AF%AF/</id>
    <published>2021-02-24T16:15:28.000Z</published>
    <updated>2021-02-24T16:47:10.558Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>前几天无聊申请了一个 Microsoft 的开发者账号，目的当然是尝试白嫖可以续订的5T OneDrive网盘，，然后，根据网上的一些教程，利用 cloudfare 搭建了一个网盘页面。这里需要用到 Microsoft graph 的一些服务，同时需要手动获取到 api 的一些 token 。本来搭建的好好的，可能是因为 多重验证的问题，导致出现 </p><span id="more"></span><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs lsl">Uncaught (in promise) getAccessToken error <span class="hljs-string">&quot;&#123;<span class="hljs-subst">\&quot;</span>error<span class="hljs-subst">\&quot;</span>:<span class="hljs-subst">\&quot;</span>invalid_grant<span class="hljs-subst">\&quot;</span>,<span class="hljs-subst">\&quot;</span>error_description<span class="hljs-subst">\&quot;</span>:<span class="hljs-subst">\&quot;</span>AADSTS50079: Due to a configuration change made by your administrator, or because you moved to a new location, you must enroll in multi-factor authentication to access &#x27;00000003-0000-0000-c000-000000000000&#x27;.<span class="hljs-subst">\\</span>r<span class="hljs-subst">\\</span>nTrace ID: xxxxxxxxxxxxxxx<span class="hljs-subst">\\</span>r<span class="hljs-subst">\\</span>nCorrelation ID: xxxxxxxxxxxxxxxxxxxxx<span class="hljs-subst">\\</span>r<span class="hljs-subst">\\</span>nTimestamp: 2021-02-24 15:47:18Z<span class="hljs-subst">\&quot;</span>,<span class="hljs-subst">\&quot;</span>error_codes<span class="hljs-subst">\&quot;</span>:[50079],<span class="hljs-subst">\&quot;</span>timestamp<span class="hljs-subst">\&quot;</span>:<span class="hljs-subst">\&quot;</span>2021-02-24 15:47:18Z<span class="hljs-subst">\&quot;</span>,<span class="hljs-subst">\&quot;</span>trace_id<span class="hljs-subst">\&quot;</span>:<span class="hljs-subst">\&quot;</span>xxxxxxxxxxxxxxxxxx<span class="hljs-subst">\&quot;</span>,<span class="hljs-subst">\&quot;</span>correlation_id<span class="hljs-subst">\&quot;</span>:\xxxxxxxxxxxxxxxxxxxxx<span class="hljs-subst">\&quot;</span>,<span class="hljs-subst">\&quot;</span>error_uri<span class="hljs-subst">\&quot;</span>:<span class="hljs-subst">\&quot;</span>https://login.microsoftonline.com/error?code=50079<span class="hljs-subst">\&quot;</span>,<span class="hljs-subst">\&quot;</span>suberror<span class="hljs-subst">\&quot;</span>:<span class="hljs-subst">\&quot;</span>basic_action<span class="hljs-subst">\&quot;</span>&#125;&quot;</span><br></code></pre></td></tr></table></figure><p>的错误： <a href="https://github.com/microsoft/Partner-Center-PowerShell/issues/259">https://github.com/microsoft/Partner-Center-PowerShell/issues/259</a></p><p>然后就只能用 rclone 来重新获取一个 refresh_token ：</p><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jboss-cli"><span class="hljs-string">./rclone</span> authorize <span class="hljs-string">&quot;onedrive&quot;</span> <span class="hljs-string">&quot;应用程序(客户端)ID&quot;</span> <span class="hljs-string">&quot;应用程序密码&quot;</span><br></code></pre></td></tr></table></figure><p>或者： <a href="https://heymind.github.io/tools/microsoft-graph-api-auth">https://heymind.github.io/tools/microsoft-graph-api-auth</a></p><p>然后把 KV 中的 refresh_token 改了应该就行了。。</p><p>导致多重验证的原因，可能是因为之前设置了 authentication app ，，然后出现了这个问题，，也有可能是 mover.io 大批量搬文件的锅（应该无关），，或者 github 的自动调用续订脚本的问题等等。。。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;前几天无聊申请了一个 Microsoft 的开发者账号，目的当然是尝试白嫖可以续订的5T OneDrive网盘，，然后，根据网上的一些教程，利用 cloudfare 搭建了一个网盘页面。这里需要用到 Microsoft graph 的一些服务，同时需要手动获取到 api 的一些 token 。本来搭建的好好的，可能是因为 多重验证的问题，导致出现 &lt;/p&gt;</summary>
    
    
    
    
    <category term="笔记" scheme="http://blog.31415x.cf/tags/%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>[资源]一些电子书下载集合</title>
    <link href="http://blog.31415x.cf/2020/09/30/%E8%B5%84%E6%BA%90-%E4%B8%80%E4%BA%9B%E7%94%B5%E5%AD%90%E4%B9%A6%E4%B8%8B%E8%BD%BD%E9%9B%86%E5%90%88/"/>
    <id>http://blog.31415x.cf/2020/09/30/%E8%B5%84%E6%BA%90-%E4%B8%80%E4%BA%9B%E7%94%B5%E5%AD%90%E4%B9%A6%E4%B8%8B%E8%BD%BD%E9%9B%86%E5%90%88/</id>
    <published>2020-09-30T06:38:29.000Z</published>
    <updated>2021-01-22T06:32:12.139Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>(仅罗列资源，不代表任何立场）</p><ul><li><a href="https://github.com/sxcool1024/Machinery-Industry-Press">https://github.com/sxcool1024/Machinery-Industry-Press</a> 文件提取码：2014 文件解压密码：1024</li><li><a href="https://github.com/fuhmmin/it-ebooks-cn">https://github.com/fuhmmin/it-ebooks-cn</a> <a href="http://it-ebooks.flygon.net/">http://it-ebooks.flygon.net/</a></li><li><a href="https://github.com/programthink/books">https://github.com/programthink/books</a></li><li><a href="https://jikbook.com/">https://jikbook.com/</a> 缺点：百度云</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css&quot;&gt;&lt;script src=&quot;</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>一个简单的爬取b站up下所有视频的所有评论信息的爬虫</title>
    <link href="http://blog.31415x.cf/2020/03/03/%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E7%88%AC%E5%8F%96b%E7%AB%99up%E4%B8%8B%E6%89%80%E6%9C%89%E8%A7%86%E9%A2%91%E7%9A%84%E6%89%80%E6%9C%89%E8%AF%84%E8%AE%BA%E4%BF%A1%E6%81%AF%E7%9A%84%E7%88%AC%E8%99%AB/"/>
    <id>http://blog.31415x.cf/2020/03/03/%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E7%88%AC%E5%8F%96b%E7%AB%99up%E4%B8%8B%E6%89%80%E6%9C%89%E8%A7%86%E9%A2%91%E7%9A%84%E6%89%80%E6%9C%89%E8%AF%84%E8%AE%BA%E4%BF%A1%E6%81%AF%E7%9A%84%E7%88%AC%E8%99%AB/</id>
    <published>2020-03-02T16:23:39.000Z</published>
    <updated>2020-03-02T16:41:12.898Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>心血来潮搞了一个简单的爬虫，主要是想知道某个人的b站账号，但是你知道，b站在搜索一个用户时，如果这个用户没有投过稿，是搜不到的，，，这时就只能想方法搞到对方的mid，，就是 <code>space.bilibili.com/9444976</code> 后面的那一串数字。偶然看到这个人关注了某个主播，，想到可能这个人会回复主播的视频，于是想着爬到所有up下的视频的评论对应的用户，这样我就可以在数据库里检索昵称得到mid，，，嘿嘿嘿（然而失败了，，不是所有人都像我这么无聊，，，，有些人真的看视频不会回复，，</p><p><a href="https://github.com/31415926535x/CollegeProjectBackup/tree/master/BilibiliSpiders">项目地址: https://github.com/31415926535x/CollegeProjectBackup/tree/master/BilibiliSpiders</a></p><span id="more"></span><p>这个爬虫的主要功能是爬取某个指定up主下的所有视频中的评论（不包括评论的回复，当然可以实现，但是感觉都差不多，就没考虑这块），最后将爬到的用户数据存到数据库里。<a href="https://www.zhihu.com/question/291554395"><strong>整个项目只是抱着学习相关内容的心态来完成，不要做大批量的爬取网站(DDOS)及其敏感数据的事，也不要用作商业用途，，（虽然写的很丑，，，）</strong></a></p><h1 id="简要说明"><a href="#简要说明" class="headerlink" title="简要说明"></a>简要说明</h1><p>整个项目的分为三个部分，首先是爬取指定mid up的所有视频的av号，即 <code>CrawlAllVideosOfAUP.py</code> 这个脚本，使用的api是 <code>https://api.bilibili.com/x/space/arc/search?mid=mid&amp;ps=30&amp;tid=0&amp;pn=pn&amp;keyword=&amp;order=pubdate&amp;jsonp=jsonp</code> 具体的说明见脚本内注释。</p><p>之后有了所有的av号，使用 <code>CrawlCommentUsersByVideo.py</code> 爬取指定av号下的所有评论，使用的api是 <code>https://api.bilibili.com/x/v2/reply?pn=**&amp;type=1&amp;oid=***&amp;sort=2</code> 爬取av号为 oid 下第 pn 页的评论的信息（sort对应的应该是评论的展示顺序用不到没管。可以爬取到很多的信息，根据自己需求来修改脚本计科。</p><p>最后将这两个整合，加一点点细节就行了，，大致是一个能用的脚本（虽然最后没有找到我想要的一个信息，，，，</p><p>具体看注释吧，，很简单的一些东西吧，，长见识为主，留印象。。。。</p><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>之前很早就接触了Python爬虫，，但是只是用一下就扔了，没有自己完全的编写一个，，所以心血来擦写一个练练手，，说不定以后还会遇到这样类似的事，，，</p><p>这个脚本最后将爬取到的数据扔到了数据库里，，因为之前看别人的代码，他是获取一条写入一条，，数据量一大就很慢，，（尤其是用了线程一边获取一遍写入时，因为爬虫一次会获得很多的数据，但是如果保存数据库时一条一条的 <code>commit</code> 些磁盘的io瓶颈就会显露出来，，所以可以加一个 flag ，写入到1000或者某个值时再 <code>commit</code> 这样就很有效率了，，跑偏了）</p><p>大概了解了一下python下的线程的写法，思路都是那个思路，，算是简单的见识一下，，，</p><p>关于windows下的mysql数据库：我们通常会备份一个数据库的某些表的结构到一个文件中，例如 <code>233.sql</code> ，使用的命令可能是 <code>mysqldump -uroot -p databases &gt; 233.sql</code> 等等类似的，，但是这个命令在windows的 <code>PowerShell</code> 会有bug，，具体原因没有深究（猜测是编码的锅），导出的文件不能使用 <code>source 233.sql</code> 导入，，会爆什么 <code>&#39;\0&#39;</code> 等 ASCII错误，，这时的解决方法就是换 <code>cmd</code> ，，这个错误第一次见，，而且不好解决，，迷惑性太大，，容易带偏QAQ，，，太浪费时间了，，，</p><p>好像没啥了。。。(end)</p><p>哦对，加个参考。。。</p><p><a href="https://github.com/airingursb/bilibili-user/blob/master/bilibili_user.py">这是一个暴力爬所有用户信息的，思路差不多的</a></p><p><a href="https://github.com/zhang0peter/bilibili-user-information-spider/blob/master/spider.py">这个也是，简单些的</a></p><p><a href="https://github.com/airingursb/bilibili-user/blob/master/user_agents.txt">user-agents看到一个很全的ua，因为我的数据量不大，所以就没用，记录一下</a></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;心血来潮搞了一个简单的爬虫，主要是想知道某个人的b站账号，但是你知道，b站在搜索一个用户时，如果这个用户没有投过稿，是搜不到的，，，这时就只能想方法搞到对方的mid，，就是 &lt;code&gt;space.bilibili.com/9444976&lt;/code&gt; 后面的那一串数字。偶然看到这个人关注了某个主播，，想到可能这个人会回复主播的视频，于是想着爬到所有up下的视频的评论对应的用户，这样我就可以在数据库里检索昵称得到mid，，，嘿嘿嘿（然而失败了，，不是所有人都像我这么无聊，，，，有些人真的看视频不会回复，，&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/31415926535x/CollegeProjectBackup/tree/master/BilibiliSpiders&quot;&gt;项目地址: https://github.com/31415926535x/CollegeProjectBackup/tree/master/BilibiliSpiders&lt;/a&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="工具" scheme="http://blog.31415x.cf/categories/%E5%B7%A5%E5%85%B7/"/>
    
    
    <category term="工具使用" scheme="http://blog.31415x.cf/tags/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/"/>
    
  </entry>
  
  <entry>
    <title>笔记-观视频-未曾设想的道路</title>
    <link href="http://blog.31415x.cf/2020/03/01/%E7%AC%94%E8%AE%B0-%E8%A7%82%E8%A7%86%E9%A2%91-%E6%9C%AA%E6%9B%BE%E8%AE%BE%E6%83%B3%E7%9A%84%E9%81%93%E8%B7%AF/"/>
    <id>http://blog.31415x.cf/2020/03/01/%E7%AC%94%E8%AE%B0-%E8%A7%82%E8%A7%86%E9%A2%91-%E6%9C%AA%E6%9B%BE%E8%AE%BE%E6%83%B3%E7%9A%84%E9%81%93%E8%B7%AF/</id>
    <published>2020-02-29T16:33:14.000Z</published>
    <updated>2020-02-29T16:34:55.439Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>观视频-未曾设想的道路-笔记<br><a href="https://www.bilibili.com/video/av92679623">https://www.bilibili.com/video/av92679623</a><br>制度变迁有两种道路：1. （传统的历史唯物主义，生产力的变化引致生产关系的变化）生产力决定生产关系，经济基础决定上层建筑，自下而上的进行制度的变迁，例如：封建领主向封建地主制的变化为何会发生在战国末期，发生在秦国？结合考古史料来看，就是秦国的农业生产出现了升级，主要是铁器和耕牛的使用，使得小农经济的出现成为可能，从而为商鞅变法等一系列改革提供了土壤。 2. 完全反过来，通过先改变生产关系，从而促进了生产力，自上而下的进行制度的变迁，也就是一条“未曾设想的道路”。但是这种道路是在偶然性和机遇之下才会形成的，比如，英国当年会走上资本主义，其实就是一条英国人“未曾设想的道路”</p><span id="more"></span><p>列宁在《论我国革命》提出两个问题：1.世界历史是由一般性和特殊性共同组成，所以第二国际的批评家片面的强调了一般性，而忽略了世界历史的特殊的原则。2.凭什么不能够先夺取上层建筑，然后在文化上或者在生产力上赶上先进国家的水平呢。（是对传统的历史唯物主义的一个创造性的解释。）</p><p>葛兰西讲 十月革命 是一场反对资本论的革命，是一场反对历史唯物主义的革命。</p><p>生产力水平的质的提高是 崭新的经济社会形态确立的前提。</p><p>铁器和牛耕的使用使一家一户的小农经济有可能存在，所以这是商鞅变法中采取 <strong>析户</strong> 政策的生产力基础。</p><p>美国UCLA的历史学家：罗伯特·保罗·布伦纳的研究：14世纪到16世纪欧洲三个不同地区的制度变迁的轨迹：英格兰、法国、易北河以东的东欧地区。14世纪时期，三个地区的生产力水平大体一致，并且农奴制都已经出现解体。而16世纪后，</p><ul><li>英格兰：黑死病造成农奴大量死亡，（8:06为阻止文艺蔓延至北方“鼠疫小镇”亚姆村民拒绝逃离）、封建君主间的兼并战争导致英国贵族数量大量减少，后果是 <em>大土地所有制</em> —圈地运动（兰开斯特家族和约克家族为了争夺王位而引发内战，又称“玫瑰战争”）。英格兰由农奴制转向农业的资本主义生产关系的雏形：贵族将土地租给善于重点的农奴，农奴之间为土地的租约进行竞争，拿到地的农奴雇佣其他的农奴—&gt; 马克思在资本论中研究过的一种阶级结构：土地所有者、租地的农场主、农业的雇佣工人。原因：特殊历史形势造成阶级斗争形势的变化。所有人为了利益的最大化，导致农业的技术进步也就是生产力的发展。布伦纳提出英国资本主义的农业起源的理论。</li><li>东欧：三十年战争和德国农民起义导致东欧工商业大量破坏，使农奴制得以复辟，绝对主义集权的君主制。</li><li>法国：法国资产阶级革命摧毁了旧的土地关系，将贵族和教会的土地分给农民，使得广泛建立起小生产者个体经济。传统的农奴关系向一种汪洋大海般的小农经济过渡</li></ul><p>布伦纳归结为三个地区阶级斗争的具体形势，不同阶级力量斗争关系对比的变化。属于第二条道路，变革的动力来自上层建筑</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;观视频-未曾设想的道路-笔记&lt;br&gt;&lt;a href=&quot;https://www.bilibili.com/video/av92679623&quot;&gt;https://www.bilibili.com/video/av92679623&lt;/a&gt;&lt;br&gt;制度变迁有两种道路：1. （传统的历史唯物主义，生产力的变化引致生产关系的变化）生产力决定生产关系，经济基础决定上层建筑，自下而上的进行制度的变迁，例如：封建领主向封建地主制的变化为何会发生在战国末期，发生在秦国？结合考古史料来看，就是秦国的农业生产出现了升级，主要是铁器和耕牛的使用，使得小农经济的出现成为可能，从而为商鞅变法等一系列改革提供了土壤。 2. 完全反过来，通过先改变生产关系，从而促进了生产力，自上而下的进行制度的变迁，也就是一条“未曾设想的道路”。但是这种道路是在偶然性和机遇之下才会形成的，比如，英国当年会走上资本主义，其实就是一条英国人“未曾设想的道路”&lt;/p&gt;</summary>
    
    
    
    <category term="笔记" scheme="http://blog.31415x.cf/categories/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="思想记录" scheme="http://blog.31415x.cf/categories/%E7%AC%94%E8%AE%B0/%E6%80%9D%E6%83%B3%E8%AE%B0%E5%BD%95/"/>
    
    
    <category term="笔记" scheme="http://blog.31415x.cf/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="杂记" scheme="http://blog.31415x.cf/tags/%E6%9D%82%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>hexo更新域名以及配置</title>
    <link href="http://blog.31415x.cf/2020/02/21/hexo%E6%9B%B4%E6%96%B0%E5%9F%9F%E5%90%8D%E4%BB%A5%E5%8F%8A%E9%85%8D%E7%BD%AE/"/>
    <id>http://blog.31415x.cf/2020/02/21/hexo%E6%9B%B4%E6%96%B0%E5%9F%9F%E5%90%8D%E4%BB%A5%E5%8F%8A%E9%85%8D%E7%BD%AE/</id>
    <published>2020-02-21T02:01:00.000Z</published>
    <updated>2020-02-21T02:34:10.460Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>现在这个博客的域名是用的是 freenom 下的免费域名进行解析，所以每年都要进行更新一次域名，以及对应的 cloudflare 下的解析，这篇博客是用来记录这一过程，为了之后再重复这个操作做个记录。</p><span id="more"></span><ul><li>首先在 <a href="freenom.com">freenom</a> 上申请新的域名，貌似申请过的域名在一年后可以再次申请，2333</li><li>去 <a href="cloudflare.com">cloudflare</a> 上配置DNS解析：</li><li>Add Site, Select Plan, Add more DNS records:</li><li>添加一项A类型、域名为新域名、IP 为 <code>192.30.252.153</code> Auto TTL、 DNS ONLY(灰色)记录</li><li>添加一项A类型、域名为新域名、IP 为 <code>192.30.252.154</code> Auto TTL、 DNS ONLY(灰色)记录</li><li>添加一项CNAME类型、www、31415926535x.github.io、Proxied(黄色)记录</li><li>更改域名服务器：去 freenom 下的 nameservers，添加 <code>burt.ns.cloudflare.com</code> 和 <code>molly.ns.cloudflare.com</code> cdn域名</li><li>修改 <code>hexo\source\CNAME</code> </li><li>修改 <code>hexo\_config.yml</code> 中的 <code>url</code> </li><li>hexo 更新即可</li></ul><p>end</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;现在这个博客的域名是用的是 freenom 下的免费域名进行解析，所以每年都要进行更新一次域名，以及对应的 cloudflare 下的解析，这篇博客是用来记录这一过程，为了之后再重复这个操作做个记录。&lt;/p&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>[工具使用]-新版正方教务系统导出课程表-油猴脚本</title>
    <link href="http://blog.31415x.cf/2020/01/31/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8-%E6%96%B0%E7%89%88%E6%AD%A3%E6%96%B9%E6%95%99%E5%8A%A1%E7%B3%BB%E7%BB%9F%E5%AF%BC%E5%87%BA%E8%AF%BE%E7%A8%8B%E8%A1%A8-%E6%B2%B9%E7%8C%B4%E8%84%9A%E6%9C%AC/"/>
    <id>http://blog.31415x.cf/2020/01/31/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8-%E6%96%B0%E7%89%88%E6%AD%A3%E6%96%B9%E6%95%99%E5%8A%A1%E7%B3%BB%E7%BB%9F%E5%AF%BC%E5%87%BA%E8%AF%BE%E7%A8%8B%E8%A1%A8-%E6%B2%B9%E7%8C%B4%E8%84%9A%E6%9C%AC/</id>
    <published>2020-01-30T16:02:32.000Z</published>
    <updated>2020-03-02T16:29:12.056Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p><a href="https://greasyfork.org/zh-CN/scripts/395847-%E6%96%B0%E7%89%88%E6%AD%A3%E6%96%B9%E6%95%99%E5%8A%A1%E7%B3%BB%E7%BB%9F%E5%AF%BC%E5%87%BA%E8%AF%BE%E7%A8%8B%E8%A1%A8">这个油猴脚本</a>主要是针对新版的正方教务系统，实现将课程表转化为一个 <code>courses.ics</code> 文件，这样就可以 <strong>愉快</strong> 的使用 <code>Google Calendar</code> 来看课程表了，<del>（唉，我好像快毕业了哎，，，</del> ，</p><span id="more"></span><h1 id="食用方法"><a href="#食用方法" class="headerlink" title="食用方法"></a>食用方法</h1><p>安装油猴扩展，然后安装脚本</p><p>在使用前进入到要导出课程表的页面，<img src="https://raw.githubusercontent.com/31415926535x/CollegeProjectBackup/master/ZhengfangClassScheduleToICS/img/1.PNG" alt=""></p><p>然后确定这学期开学的第一周的周一的日期，<img src="https://raw.githubusercontent.com/31415926535x/CollegeProjectBackup/master/ZhengfangClassScheduleToICS/img/2.PNG" alt=""></p><p>点击 <code>生成课表</code> 然后就会提示导出成功，这时点击旁边的 <code>下载ics文件</code> 即可下载 <code>course.ics</code> 文件，<img src="https://raw.githubusercontent.com/31415926535x/CollegeProjectBackup/master/ZhengfangClassScheduleToICS/img/3.PNG" alt=""></p><p>之后怎么使用就看你了，，这样可以不再使用各种 **课程表 等看个课程表还要等半天，看半天广告，而且还占空间。。<del>（深受其害.jpg）</del></p><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>第一次写脚本，js用的也不熟练，这个脚本参照了一个学长之前根据旧版教务系统的课程表导出脚本写的，一直想自己写一个，一直拖到了新版教务系统，，，无聊时练下手，所以脚本的只是一个可以使用的状况，其中的一些处理没有考虑效率的问题<del>（数据量又不大，暴力就完事了嘛）</del> ，其中可能还存在一些bug每一处理，希望遇到的朋友可以提个issues，嘿嘿。</p><h1 id="TODO"><a href="#TODO" class="headerlink" title="TODO"></a>TODO</h1><p>有时间将考试信息也加上。。。</p>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;简介&quot;&gt;&lt;a href=&quot;#简介&quot; class=&quot;headerlink&quot; title=&quot;简介&quot;&gt;&lt;/a&gt;简介&lt;/h1&gt;&lt;p&gt;&lt;a href=&quot;https://greasyfork.org/zh-CN/scripts/395847-%E6%96%B0%E7%89%88%E6%AD%A3%E6%96%B9%E6%95%99%E5%8A%A1%E7%B3%BB%E7%BB%9F%E5%AF%BC%E5%87%BA%E8%AF%BE%E7%A8%8B%E8%A1%A8&quot;&gt;这个油猴脚本&lt;/a&gt;主要是针对新版的正方教务系统，实现将课程表转化为一个 &lt;code&gt;courses.ics&lt;/code&gt; 文件，这样就可以 &lt;strong&gt;愉快&lt;/strong&gt; 的使用 &lt;code&gt;Google Calendar&lt;/code&gt; 来看课程表了，&lt;del&gt;（唉，我好像快毕业了哎，，，&lt;/del&gt; ，&lt;/p&gt;</summary>
    
    
    
    <category term="工具" scheme="http://blog.31415x.cf/categories/%E5%B7%A5%E5%85%B7/"/>
    
    
    <category term="工具使用" scheme="http://blog.31415x.cf/tags/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/"/>
    
  </entry>
  
  <entry>
    <title>[笔记]应用写作</title>
    <link href="http://blog.31415x.cf/2019/12/21/%E7%AC%94%E8%AE%B0-%E5%BA%94%E7%94%A8%E5%86%99%E4%BD%9C/"/>
    <id>http://blog.31415x.cf/2019/12/21/%E7%AC%94%E8%AE%B0-%E5%BA%94%E7%94%A8%E5%86%99%E4%BD%9C/</id>
    <published>2019-12-21T08:11:38.000Z</published>
    <updated>2020-01-30T16:27:05.780Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><h1 id="绪论"><a href="#绪论" class="headerlink" title="绪论"></a>绪论</h1><ul><li>写作的分类： <strong>文学创作</strong> 艺术写作、 <strong>应用写作</strong> 实用写作；</li><li>应用写作的发展： <strong>萌芽期</strong> ： 上古至先秦时期（周易·系辞、尚书（典、谟、训、诰、誓、命）） <strong>初步形成时期</strong> ： 秦汉时期（李斯 《谏逐客书》 晁盖 《论贵粟书》 司马迁 《报任安书》）<strong>发展期</strong> ： 三国魏晋南北朝 （曹操 《求贤令》 诸葛亮《出师表》 <strong>成熟期</strong> ： 唐宋时期（苏轼《答刘巨济书》） <strong>完善期</strong> ：元明清 分上行、平行、下行文 <strong>改革期</strong> ： 辛亥革命至今</li><li>应用写作的特点： 功能实用性、内容的真实性、体式的规定性、表述的简约性、运作的时效性</li><li>学习应用写作的原因： 社会-需要杰出的表达者、个人-个人基本素质，技能之一、自身特点发展趋势</li></ul><span id="more"></span><h1 id="系统写作理论"><a href="#系统写作理论" class="headerlink" title="系统写作理论"></a>系统写作理论</h1><h2 id="系统写作理论-1"><a href="#系统写作理论-1" class="headerlink" title="系统写作理论"></a>系统写作理论</h2><ul><li>系统论的核心思想是 <strong>系统的整体观念</strong> ，分析系统的结构功能， 研究系统、要素、环境 三者的相互关系和变动规律</li><li>基本内容： 考察系统的 <strong>语境、功能、结构及其演化规律</strong></li><li><strong>文体分类</strong> ： 认知功能文体、行事功能文体、人际功能文体</li></ul><h2 id="文本语境"><a href="#文本语境" class="headerlink" title="文本语境"></a>文本语境</h2><ul><li>文本的非语言语境：指不以文本文字形式存在的语境因素，包括 <strong>情景语境</strong> 和 <strong>文化语境</strong></li><li>情景语境： 指构成说话和写作活动的现实条件，包括 <strong>语篇范围（写作对象）</strong> 、 <strong>语篇方式（写作方式）</strong> 、 <strong>语篇基调（写作主体）</strong> 、写作时间和场所</li><li>语篇基调（写作主体）： 作者、协作者、读者</li><li>语言语境： 指以语言文字形式存在的语境因素，包括 <strong>篇际语境</strong> 和 <strong>篇内语境</strong></li><li>篇际语境： 即生产的文本与 <strong>其他</strong> 文本之间的语境关系</li><li>篇内语境： 包括 <strong>篇 与 各部分的语境</strong> 和 **篇中各部分的语境（上下文关系）</li></ul><h2 id="文本功能与结构"><a href="#文本功能与结构" class="headerlink" title="文本功能与结构"></a>文本功能与结构</h2><ul><li>文本的三大功能： 知行功能（写作对象）、人际功能（写作主体）、语篇功能（写作方式）</li></ul><h2 id="文本生产过程"><a href="#文本生产过程" class="headerlink" title="文本生产过程"></a>文本生产过程</h2><ul><li>文本生产过程阶段划分： <strong>准备阶段</strong> 、 <strong>起草阶段</strong> 、 <strong>修改阶段</strong></li><li>文本生产策略： <strong>认知图式策略</strong> 、 <strong>主体互动策略</strong> 、 <strong>创新思维策略</strong> 、</li></ul><h1 id="新闻写作"><a href="#新闻写作" class="headerlink" title="新闻写作"></a>新闻写作</h1><h2 id="新闻文体"><a href="#新闻文体" class="headerlink" title="新闻文体"></a>新闻文体</h2><p>新闻的定义：</p><ul><li>反映说： 新闻是新近发生事实的反映；</li><li>功能说： 新闻是报道或评述重要事实以影响舆论的特殊手段；</li><li>事实说： 新闻是一种新的重要事实；</li><li><strong>公认定义</strong> ：新闻是 向社会成员传递具有新闻价值的真实信息；</li></ul><p>新闻的原则：追求真实的原则、公正报道的原则、准确报道的原则、客观报道的原则</p><p>消息一词最早出现在 《易经》</p><p>消息的特点： 短、快、新、真、社会价值</p><p>消息=事实+价值+传播</p><p>反映新闻价值的要素： 时间性、显著性、接近性、新奇性、重要性、人情味</p><h2 id="消息写作"><a href="#消息写作" class="headerlink" title="消息写作"></a>消息写作</h2><ul><li>消息的结构： 标题、<strong>消息头</strong> 、导语、主体、结尾</li><li>消息头是消息前面那段： <strong><em>出版社</em></strong>电（记者<em>*</em>） 作用：声明版权、发稿来源、时间等</li><li>消息的经典结构： 倒金字塔结构，其他结构： 悬念式结构（金字塔结构）、时间循序结构</li><li>倒金字塔结构： 标题、导语、主体</li></ul><h2 id="消息标题的写作"><a href="#消息标题的写作" class="headerlink" title="消息标题的写作"></a>消息标题的写作</h2><ul><li>多行标题： 引题/眉题、正题/主题、副题/辅题</li><li>双行标题、虚实结合： 引题+正题、正题+副题</li></ul><h2 id="消息导语、主体、背景的写作"><a href="#消息导语、主体、背景的写作" class="headerlink" title="消息导语、主体、背景的写作"></a>消息导语、主体、背景的写作</h2><p>消息的导语： </p><ul><li>位置： 消息的第一段</li><li>功能： 简短笔墨反映要点、为整篇报道定下基调、唤起读者的注意</li><li><strong>写法</strong> ：叙述式、描写式、引用式、评论式等</li></ul><p>消息的主体：</p><ul><li>位置： 导语之后展开的部分</li><li>功能： 对新闻事实做充分而具体的报道和说明，或对导语进行解释、深化，或补充新的事实</li><li>注意： 紧扣主题；具体充实；避免重复</li></ul><p>消息的背景：</p><ul><li>解释、烘托和深化主题，帮助读者理解新闻事实</li><li>代替记者发表议论，使报的现得客观</li><li>补充情况、介绍知识</li></ul><h1 id="调查报告"><a href="#调查报告" class="headerlink" title="调查报告"></a>调查报告</h1><h2 id="何为调查"><a href="#何为调查" class="headerlink" title="何为调查"></a>何为调查</h2><ul><li>调查的过程： 确立调查主题、设计调查方案、实施调查方案、统计分析调查资料、撰写并修改调查报告</li></ul><h2 id="调查的主要方法"><a href="#调查的主要方法" class="headerlink" title="调查的主要方法"></a>调查的主要方法</h2><ul><li>主要方法： 文件调查、实验研究、实地考察、文献查阅</li></ul><h2 id="调查的功能、分类、写作"><a href="#调查的功能、分类、写作" class="headerlink" title="调查的功能、分类、写作"></a>调查的功能、分类、写作</h2><ul><li>功能： 通过定量和定性的分析方法，获取真实的信息反映客观情况、经验、问题或者规律性的东西，满足读者的认知需求</li><li>类型： <strong>情况调查型、典型分析型、探讨研究型</strong></li><li>写作的结构： 标题、概要、正文、结尾、附件</li><li>写作过程： 确定选题并不断优化、科学分析、结构合理、论证充分、深化研究成果</li></ul><h1 id="演讲稿与求职信"><a href="#演讲稿与求职信" class="headerlink" title="演讲稿与求职信"></a>演讲稿与求职信</h1><h2 id="演讲与演讲稿"><a href="#演讲与演讲稿" class="headerlink" title="演讲与演讲稿"></a>演讲与演讲稿</h2><ul><li>演讲稿的特点： 使人信（记叙、描述）、使人知（修辞）、使人行（议论）</li><li>演讲稿的突出特点： 针对性、鲜明性、通俗性、鼓动性</li><li>写作特点： 因时而发、因事而发、因景而发、因情而发</li><li>演讲稿的结构： 标题、开头、主体、结尾</li><li>标题的分类： 概括式、设问式、鼓动式、比喻式</li><li>开头的分类： 开门见山式、提出问题式、引用名句式、实例导入式、现场引入式</li><li>主体的分类： 并列式、递进式、时间顺序式</li><li>结尾的分类： 发出号召、提出建议、展望未来、总结要点</li></ul><h2 id="求职信"><a href="#求职信" class="headerlink" title="求职信"></a>求职信</h2><ul><li>求职信的基本内容： 求职目标、求职缘起、求职条件</li><li>求职信的结构： 称呼、开头、主体、结尾、落款、附件</li></ul><h1 id="规章制度"><a href="#规章制度" class="headerlink" title="规章制度"></a>规章制度</h1><h1 id="党政机关公文"><a href="#党政机关公文" class="headerlink" title="党政机关公文"></a>党政机关公文</h1><h2 id="党政机关公文-1"><a href="#党政机关公文-1" class="headerlink" title="党政机关公文"></a>党政机关公文</h2><ul><li>党政机关公文的概念： 党政机关公文是 党政机关实施领导、履行职能、处理事务 的具有 <strong>特定效力</strong> 和 <strong>规范体式</strong> 的文书；</li><li>特点： 权威性、规范性</li><li>分类：按行文关系和行文方向： 下行文（11种）、平行文（4种）、上行文（3种），其中意见三个都有，通知是下行文和平行文都有</li><li>决议： 适用于 会议讨论通过的重大决策事项</li><li>决定： 适用于 对重要事项作出决策和部署、奖惩有关单位和人员、变更或者撤销下级机关不适当的决定</li><li>命令： 适用于 公布行政法规和规章、宣布实施重大强制性措施、批准授予和晋级衔级、嘉奖有关单位和人员</li><li>公报： 适用于 公布重要决议或重大事项</li><li>公告： 适用于 向国内外宣布重要事项或者法定事项</li><li>通告： 适用于 在一定范围内公布应当遵守或周知的事项</li><li>党政机关公文的格式： 项目和版式</li><li>格式类型： 文件格式、信函格式、命令格式、纪要格式</li><li>文件格式要素三部分： 版头、主体、版记</li></ul><h2 id="通知"><a href="#通知" class="headerlink" title="通知"></a>通知</h2><ul><li>通知的功能： 适用于发布、传达要求 <strong>下级</strong> 机关执行和有关单位周知或者执行的事项，批转、转发公文</li><li>通知的特征： 广泛性、指示性、知照性、时效性</li><li>通知的分类： 发布性通知（印发性通知、批转性通知、转发性通知）、 指示性通知（向下级机关安排工作）、 会议通知 、 知照性通知</li><li>发布性通知的结构： 被发布文件、发布根据、发布语、执行要求</li><li>指示性通知： 缘由（用过度语句引起下文）、事项、结尾</li><li>会议通知： 缘由、事项、结尾</li><li>知照性通知： 缘由、事项、结尾</li></ul><h2 id="通报"><a href="#通报" class="headerlink" title="通报"></a>通报</h2><ul><li>通报的文种特征： 实例的典型性、重要性，内容的知照性，教育的知晓性</li><li>通报的分类： 表彰性通报、批评性通报、传达性通报</li></ul><h1 id="报告"><a href="#报告" class="headerlink" title="报告"></a>报告</h1><ul><li>报告的功能： 适用于向上级汇报工作、反映情况、回复上级机关的询问</li><li>报告的特点： 陈述性</li><li>报告的分类： 工作报告、情况报告、答复报告、报送报告</li><li>工作报告的结构： 报告前言、报告主体、报告结语</li></ul><h1 id="请示与批复"><a href="#请示与批复" class="headerlink" title="请示与批复"></a>请示与批复</h1><ul><li>请示的功能： 向上级机关请求指示、批准； 祈请性</li><li>请示的分类： 请求指示性请示、请求批准性请示</li><li>批复的功能： 答复下级机关请示事项； 针对性、政策性</li><li>批复的分类： 指示性批复、审批性批复</li><li>批复的结构： 批复缘由、批复意见、结语</li></ul><h1 id="函"><a href="#函" class="headerlink" title="函"></a>函</h1><ul><li>函的分类： 两类六种： <strong>发函</strong> ：商洽性发函、询问性发函、审批性发函； <strong>复函</strong> ： 商洽性复函、答复性复函、审批性复函</li></ul>]]></content>
    
    
    <summary type="html">&lt;h1 id=&quot;绪论&quot;&gt;&lt;a href=&quot;#绪论&quot; class=&quot;headerlink&quot; title=&quot;绪论&quot;&gt;&lt;/a&gt;绪论&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;写作的分类： &lt;strong&gt;文学创作&lt;/strong&gt; 艺术写作、 &lt;strong&gt;应用写作&lt;/strong&gt; 实用写作；&lt;/li&gt;
&lt;li&gt;应用写作的发展： &lt;strong&gt;萌芽期&lt;/strong&gt; ： 上古至先秦时期（周易·系辞、尚书（典、谟、训、诰、誓、命）） &lt;strong&gt;初步形成时期&lt;/strong&gt; ： 秦汉时期（李斯 《谏逐客书》 晁盖 《论贵粟书》 司马迁 《报任安书》）&lt;strong&gt;发展期&lt;/strong&gt; ： 三国魏晋南北朝 （曹操 《求贤令》 诸葛亮《出师表》 &lt;strong&gt;成熟期&lt;/strong&gt; ： 唐宋时期（苏轼《答刘巨济书》） &lt;strong&gt;完善期&lt;/strong&gt; ：元明清 分上行、平行、下行文 &lt;strong&gt;改革期&lt;/strong&gt; ： 辛亥革命至今&lt;/li&gt;
&lt;li&gt;应用写作的特点： 功能实用性、内容的真实性、体式的规定性、表述的简约性、运作的时效性&lt;/li&gt;
&lt;li&gt;学习应用写作的原因： 社会-需要杰出的表达者、个人-个人基本素质，技能之一、自身特点发展趋势&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    <category term="笔记" scheme="http://blog.31415x.cf/categories/%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="笔记" scheme="http://blog.31415x.cf/tags/%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>ACM-图论-同余最短路</title>
    <link href="http://blog.31415x.cf/2019/10/15/ACM-%E5%9B%BE%E8%AE%BA-%E5%90%8C%E4%BD%99%E6%9C%80%E7%9F%AD%E8%B7%AF/"/>
    <id>http://blog.31415x.cf/2019/10/15/ACM-%E5%9B%BE%E8%AE%BA-%E5%90%8C%E4%BD%99%E6%9C%80%E7%9F%AD%E8%B7%AF/</id>
    <published>2019-10-15T12:23:07.000Z</published>
    <updated>2019-10-17T05:48:30.702Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>一种没见过的处理模型，，记录一下，，主要是用来处理一个多元一次方程的解的数量的问题，，数据量小时可以用看成背包处理，，数据很大时可以转换成最短路模型+一点数学来处理，，（体积模域下的最短路的问题，，求的一个最简的表示形式有模数来得到所有解</p><span id="more"></span><h1 id="墨墨的等式"><a href="#墨墨的等式" class="headerlink" title="墨墨的等式"></a>墨墨的等式</h1><p><a href="https://www.luogu.org/problem/P2371">题目</a></p><p>因为只是求满足的解的数量，，所以可以将方程转换成一个模方程组，，这样的方程组的解显然也是原来的解的子集，，同时可以利用模数来得到所有解，，</p><p>模数的选择是最小的那个系数，，因为如果任意选择，，会出现一些多考虑的情况</p><p>弄 mi 个点，表示从0到mi-1的所有数，，建边的方法是 <code>i-&gt;(i+a[j])%mi</code> 边权为 a[j] ，，表示从i这个点变成后面一个数的费用，，（因为两边都是取模的，，所以每一个数取几次后的和的余数就是那些经过的点，，也就是说一条路径就是得到一个右边为 i(mod mi) 的一个最小解，，这个最小的解就是费用和，，也就是一条最短路dis[i]</p><p>这样我们对于每一个取模的右边的B都计算一下区间里的数量，，，<del>（计算这玩意推错了一次，，emmm</del></p><p><a href="https://www.luogu.org/blog/0-00-0/solution-p2371">参考</a></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(TM(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">3e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e7</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br>ll n, l, r, a[maxn];<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt; ll w;<br>&#125;edge[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, head[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, ll w)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].w = w;<br>    edge[tot].nxt = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> v; ll w;<br>    node()&#123;&#125;<br>    node(<span class="hljs-keyword">int</span> _v, ll _w):v(_v), w(_w)&#123;&#125;<br>    <span class="hljs-keyword">const</span> <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>&lt;(<span class="hljs-keyword">const</span> node &amp;r)<span class="hljs-keyword">const</span>&#123;<br>        <span class="hljs-keyword">return</span> w &gt; r.w;<br>    &#125;<br>&#125;tmp;<br>ll dis[maxn];<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dijkstra</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(dis, inf, <span class="hljs-keyword">sizeof</span> dis);<br>    <span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vis);<br>    <span class="hljs-built_in">priority_queue</span>&lt;node&gt; q;<br>    <span class="hljs-keyword">while</span>(!q.empty())q.pop();<br>    q.push(node(s, <span class="hljs-number">0</span>));<br>    dis[s] = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span>(!q.empty())<br>    &#123;<br>        tmp = q.top(); q.pop();<br>        <span class="hljs-keyword">if</span>(vis[tmp.v])<span class="hljs-keyword">continue</span>;<br>        vis[tmp.v] = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[tmp.v]; ~i; i = edge[i].nxt)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = edge[i].to;<br>            <span class="hljs-keyword">if</span>(dis[v] &gt; dis[tmp.v] + edge[i].w)<br>            &#123;<br>                dis[v] = dis[tmp.v] + edge[i].w;<br>                q.push(node(v, dis[v]));<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    <br>    <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; l &gt;&gt; r;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; a[i];<br>    sort(a + <span class="hljs-number">1</span>, a + <span class="hljs-number">1</span> + n);<br>    <span class="hljs-keyword">int</span> mi = a[<span class="hljs-number">1</span>];<br>    init();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= mi - <span class="hljs-number">1</span>; ++i)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; ++j)<br>            addedge(i, (i + a[j]) % mi, a[j]);<br>    dijkstra(<span class="hljs-number">0</span>);<br>    ll ans = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= mi - <span class="hljs-number">1</span>; ++i)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(dis[i] &lt;= r)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(dis[i] == <span class="hljs-number">0</span>)dis[i] = mi;<br>            ans += (r - dis[i]) / mi + <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">if</span>(l &gt; dis[i])ans -= (l - dis[i] - <span class="hljs-number">1</span>) / mi + <span class="hljs-number">1</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="hljs-built_in">endl</span>;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="P3403-跳楼机"><a href="#P3403-跳楼机" class="headerlink" title="P3403 跳楼机"></a>P3403 跳楼机</h1><p><a href="https://www.luogu.org/problem/P3403">题目</a></p><p>比上面那个简单些，，就是注意细节，，从1开始，，有一个是1那么值一定是h，，，</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(TM(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">3e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e7</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br>ll n, l, r, a[maxn];<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt; ll w;<br>&#125;edge[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, head[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, ll w)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].w = w;<br>    edge[tot].nxt = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> v; ll w;<br>    node()&#123;&#125;<br>    node(<span class="hljs-keyword">int</span> _v, ll _w):v(_v), w(_w)&#123;&#125;<br>    <span class="hljs-keyword">const</span> <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>&lt;(<span class="hljs-keyword">const</span> node &amp;r)<span class="hljs-keyword">const</span>&#123;<br>        <span class="hljs-keyword">return</span> w &gt; r.w;<br>    &#125;<br>&#125;tmp;<br>ll dis[maxn];<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dijkstra</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(dis, inf, <span class="hljs-keyword">sizeof</span> dis);<br>    <span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vis);<br>    <span class="hljs-built_in">priority_queue</span>&lt;node&gt; q;<br>    <span class="hljs-keyword">while</span>(!q.empty())q.pop();<br>    q.push(node(s, <span class="hljs-number">0</span>));<br>    dis[s] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(!q.empty())<br>    &#123;<br>        tmp = q.top(); q.pop();<br>        <span class="hljs-keyword">if</span>(vis[tmp.v])<span class="hljs-keyword">continue</span>;<br>        vis[tmp.v] = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[tmp.v]; ~i; i = edge[i].nxt)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = edge[i].to;<br>            <span class="hljs-keyword">if</span>(dis[v] &gt; dis[tmp.v] + edge[i].w)<br>            &#123;<br>                dis[v] = dis[tmp.v] + edge[i].w;<br>                q.push(node(v, dis[v]));<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    <br>    <span class="hljs-built_in">cin</span> &gt;&gt; n;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">3</span>; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; a[i];<br>    sort(a + <span class="hljs-number">1</span>, a + <span class="hljs-number">1</span> + <span class="hljs-number">3</span>);<br>    <span class="hljs-keyword">if</span>(a[<span class="hljs-number">1</span>] == <span class="hljs-number">1</span>)&#123;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; n &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br>    ll mi = a[<span class="hljs-number">1</span>];<br>    init();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= mi - <span class="hljs-number">1</span>; ++i)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">2</span>; j &lt;= <span class="hljs-number">3</span>; ++j) <br>            addedge(i, (i + a[j]) % mi, a[j]);<br>    dijkstra(<span class="hljs-number">1</span>);<br>    ll ans = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= mi - <span class="hljs-number">1</span>; ++i)<br>        <span class="hljs-keyword">if</span>(dis[i] &lt;= n)<br>            ans += (n - dis[i]) / mi + <span class="hljs-number">1</span>;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="hljs-built_in">endl</span>;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="遥远的旅途"><a href="#遥远的旅途" class="headerlink" title="遥远的旅途"></a>遥远的旅途</h1><p><a href="http://www.51nod.com/Challenge/Problem.html#problemId=1326">题目</a></p><p>这题的大致思路是将dp问题用最短路来优化，，</p><p>设 <code>dp[i][j]</code> 表示从起点走到i时的长度为j的一条路是否存在，，但是空间都会爆掉，，</p><p>考虑第二维，假设是通过经过若干个环来达到T，，也就是 <code>len+kw==T</code> ，，这里的w即为环的长度的两倍，，如果取模w就是 <code>len%w==T%w</code> ，，这样子dp方程就变成了到达 i 点时路径长度取模等于j的一条路径的长度，，利用spfa来转移，，只要最后 <code>dp[n][T%w] &lt;= T</code> 就表示存在解，这样子利用模数来压缩了状态，，找等同的就行了，，，<a href="https://blog.csdn.net/crybymyself/article/details/54974562">参考</a> <a href="https://www.cnblogs.com/renjianshige/p/7588125.html">参考</a> </p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(TM(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e2</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e7</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br>ll n, m, T, a[maxn], ww;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt; ll w;<br>&#125;edge[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, head[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, ll w)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].w = w;<br>    edge[tot].nxt = head[u];<br>    head[u] = tot++;<br>&#125;<br>ll dp[maxn][<span class="hljs-number">20005</span>];<br><span class="hljs-keyword">bool</span> vis[maxn][<span class="hljs-number">20005</span>];<br><span class="hljs-built_in">queue</span>&lt;<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, ll&gt; &gt; q;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">spfa</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(dp, inf, <span class="hljs-keyword">sizeof</span> dp);<br>    <span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vis);<br>    <span class="hljs-keyword">while</span>(!q.empty())q.pop();<br>    dp[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>; vis[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>] = <span class="hljs-literal">true</span>;<br>    q.push(<span class="hljs-built_in">make_pair</span>(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>));<br>    <span class="hljs-keyword">while</span>(!q.empty())<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = q.front().first; ll w = q.front().second; q.pop(); <br>        vis[u][w] = <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = edge[i].to; ll vw = edge[i].w;<br>            <span class="hljs-keyword">if</span>(dp[v][(w + vw) % ww] &gt; dp[u][w] + vw)<br>            &#123;<br>                dp[v][(w + vw) % ww] = dp[u][w] + vw;<br>                <span class="hljs-keyword">if</span>(!vis[v][(w + vw) % ww])<br>                &#123;<br>                    vis[v][(w + vw) % ww] = <span class="hljs-literal">true</span>;<br>                    q.push(<span class="hljs-built_in">make_pair</span>(v, (w + vw) % ww));<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    <br>    <span class="hljs-keyword">int</span> t; <span class="hljs-built_in">cin</span> &gt;&gt; t;<br>    <span class="hljs-keyword">while</span>(t--)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m &gt;&gt; T;<br>        <span class="hljs-keyword">int</span> u, v, w;<br>        init();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>        &#123;<br>            <span class="hljs-built_in">cin</span> &gt;&gt; u &gt;&gt; v &gt;&gt; w;<br>            ++u, ++v;<br>            addedge(u, v, w);<br>            addedge(v, u, w);<br>        &#125;<br>        <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[n]; ~i; i = edge[i].nxt)<br>        &#123;<br>            ww = edge[i].w &lt;&lt; <span class="hljs-number">1</span>;<br>            spfa();<br>            <span class="hljs-keyword">if</span>(dp[n][T % ww] &lt;= T)<br>            &#123;<br>                flag = <span class="hljs-literal">true</span>;<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(flag)<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;Possible&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">else</span> <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;Impossible&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>(end)</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;一种没见过的处理模型，，记录一下，，主要是用来处理一个多元一次方程的解的数量的问题，，数据量小时可以用看成背包处理，，数据很大时可以转换成最短路模型+一点数学来处理，，（体积模域下的最短路的问题，，求的一个最简的表示形式有模数来得到所有解&lt;/p&gt;</summary>
    
    
    
    <category term="ACM-最短路" scheme="http://blog.31415x.cf/categories/ACM-%E6%9C%80%E7%9F%AD%E8%B7%AF/"/>
    
    
    <category term="ACM" scheme="http://blog.31415x.cf/tags/ACM/"/>
    
    <category term="最短路" scheme="http://blog.31415x.cf/tags/%E6%9C%80%E7%9F%AD%E8%B7%AF/"/>
    
  </entry>
  
  <entry>
    <title>2017北京区域赛</title>
    <link href="http://blog.31415x.cf/2019/10/13/2017%E5%8C%97%E4%BA%AC%E5%8C%BA%E5%9F%9F%E8%B5%9B/"/>
    <id>http://blog.31415x.cf/2019/10/13/2017%E5%8C%97%E4%BA%AC%E5%8C%BA%E5%9F%9F%E8%B5%9B/</id>
    <published>2019-10-13T13:48:01.000Z</published>
    <updated>2019-10-29T13:32:46.674Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>模拟题场啊，，，，，</p><p><a href="https://vjudge.net/contest/200099">题目链接</a></p><span id="more"></span><h1 id="E-Cats-and-Fish"><a href="#E-Cats-and-Fish" class="headerlink" title="E - Cats and Fish"></a>E - Cats and Fish</h1><p>签到题吧，，读完题后感觉是模拟，，然后写完之后一测样例wa了，，这时队友说推出公式了，，于是我就放弃调去看别的题了，，，但是wa了几发后又用模拟过的，，，</p><p>直接模拟时间，，记录每只猫的状态，，每次判断一下就行了，，，</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(TM(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e3</span>+ <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e7</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-keyword">int</span> a[maxn], n, m, x;<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-keyword">int</span> TM[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br><br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">cin</span> &gt;&gt; m &gt;&gt; n &gt;&gt; x)<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; a[i];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)vis[i] = <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)TM[i] = <span class="hljs-number">0</span>;<br>        sort(a + <span class="hljs-number">1</span>, a + <span class="hljs-number">1</span> + n);<br>        <span class="hljs-keyword">int</span> all = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> t = <span class="hljs-number">1</span>; t &lt;= x; ++t)<br>        &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>                <span class="hljs-keyword">if</span>(!vis[i] &amp;&amp; all &lt; m)<br>                &#123;<br>                    vis[i] = <span class="hljs-literal">true</span>;<br>                    ++all;<br>                &#125;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-keyword">if</span>(vis[i])++TM[i];<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>                <span class="hljs-keyword">if</span>(vis[i])<br>                &#123;<br>                    TM[i] %= a[i];<br>                    <span class="hljs-keyword">if</span>(TM[i] == <span class="hljs-number">0</span>)vis[i] = <span class="hljs-literal">false</span>;<br>                &#125;<br>        &#125;<br>        <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-keyword">if</span>(vis[i])++ans;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; m - all &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; ans &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="F-Secret-Poems"><a href="#F-Secret-Poems" class="headerlink" title="F - Secret Poems"></a>F - Secret Poems</h1><p>小模拟</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(TM(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e3</span>+ <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e7</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-keyword">char</span> s[maxn][maxn];<br><span class="hljs-keyword">char</span> str[maxn * maxn];<br><span class="hljs-keyword">char</span> t[maxn][maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br><br>    <span class="hljs-keyword">int</span> n;<br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">cin</span> &gt;&gt; n)<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; s[i] + <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span>(n == <span class="hljs-number">1</span>)<br>        &#123;<br>            <span class="hljs-built_in">cout</span> &lt;&lt; s[<span class="hljs-number">1</span>] + <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br>        <span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>, j = <span class="hljs-number">1</span>, tot = <span class="hljs-number">1</span>;<br>        str[tot++] = s[i][j];<br>        <span class="hljs-keyword">while</span>(i &lt;= n &amp;&amp; j &lt;= n)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(j == n)<br>            &#123;<br>                ++i;<br>                str[tot++] = s[i][j];<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                ++j; <br>                str[tot++] = s[i][j];<br>            &#125;<br>            <br>            <span class="hljs-keyword">while</span>(<span class="hljs-literal">true</span>)<br>            &#123;<br>                ++i; --j;<br>                str[tot++] = s[i][j];<br>                <span class="hljs-keyword">if</span>(j == <span class="hljs-number">1</span> || i == n)<span class="hljs-keyword">break</span>;<br>            &#125;<br>            <span class="hljs-keyword">if</span>(j == <span class="hljs-number">1</span> &amp;&amp; i != n)<br>            &#123;<br>                ++i;<br>                str[tot++] = s[i][j];<br>            &#125;<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(i == n)<br>            &#123;<br>                ++j;<br>                str[tot++] = s[i][j];<br>            &#125;<br>            <span class="hljs-keyword">while</span>(<span class="hljs-literal">true</span>)<br>            &#123;<br>                --i; ++j;<br>                str[tot++] = s[i][j];<br>                <span class="hljs-keyword">if</span>(i == <span class="hljs-number">1</span> || j == n)<span class="hljs-keyword">break</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-comment">// for(int i = 1; i &lt;= tot; ++i)cout &lt;&lt; str[i];cout &lt;&lt; endl;</span><br>        <span class="hljs-keyword">int</span> l = <span class="hljs-number">1</span>, r = n, up = <span class="hljs-number">1</span>, dn = n;<br>        tot = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">while</span>(l &lt;= r &amp;&amp; up &lt;= dn)<br>        &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = l; i &lt;= r; ++i)t[up][i] = str[tot++];<br>            ++up;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = up; i &lt;= dn; ++i)t[i][r] = str[tot++];<br>            --r;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = r; i &gt;= l; --i)t[dn][i] = str[tot++];<br>            --dn;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = dn; i &gt;= up; --i)t[i][l] = str[tot++];<br>            ++l;<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; ++j)<br>                <span class="hljs-built_in">cout</span> &lt;&lt; t[i][j];<br>            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="G-Liaoning-Ship’s-Voyage"><a href="#G-Liaoning-Ship’s-Voyage" class="headerlink" title="G - Liaoning Ship’s Voyage"></a>G - Liaoning Ship’s Voyage</h1><p>啊，，，计算几何+bfs，，</p><p>判断一下每一个点之间合不合法，，连边bfs即可，，</p><p>判断就是看这两个点在不在三角形里，，三角形里的点一定是没有边的，有相交的也不行，，，但是因为边上点可以走，，所以要判断一下在边上的情况，，尤其是：</p><p><img src="https://img-blog.csdn.net/20180830233455689?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NpbmF0XzM2MjE1MjU1/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt=""></p><p>这样的情况我以为中间判了，，但是实际没判，，，疯狂wa，，，自闭，，，</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(TM(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e7</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-comment">// .......</span><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">sgn</span><span class="hljs-params">(<span class="hljs-keyword">double</span> x)</span></span>&#123;<br>    <span class="hljs-keyword">if</span>(<span class="hljs-built_in">fabs</span>(x) &lt; eps)<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">if</span>(x &lt; <span class="hljs-number">0</span>)<span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Point</span>&#123;</span><br>    <span class="hljs-keyword">double</span> x, y;<br>    Point()&#123;&#125;<br>    Point(<span class="hljs-keyword">double</span> _x, <span class="hljs-keyword">double</span> _y)&#123;<br>        x = _x; y = _y;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">input</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-comment">// scanf(&quot;%lf%lf&quot;, &amp;x, &amp;y);</span><br>        <span class="hljs-built_in">cin</span> &gt;&gt; x &gt;&gt; y;<br>    &#125;<br>    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>==(Point b)<span class="hljs-keyword">const</span>&#123;<br>        <span class="hljs-keyword">return</span> sgn(x - b.x) == <span class="hljs-number">0</span> &amp;&amp; sgn(y - b.y) == <span class="hljs-number">0</span>;<br>    &#125;<br>    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span> &lt;(Point b)<span class="hljs-keyword">const</span>&#123;<br>        <span class="hljs-keyword">return</span> sgn(x - b.x) == <span class="hljs-number">0</span> ? sgn(y - b.y) &lt; <span class="hljs-number">0</span> : x &lt; b.x;<br>    &#125;<br>    Point <span class="hljs-keyword">operator</span>-(<span class="hljs-keyword">const</span> Point &amp;b)<span class="hljs-keyword">const</span>&#123;<br>        <span class="hljs-keyword">return</span> Point(x - b.x, y - b.y);<br>    &#125;<br>    <span class="hljs-keyword">double</span> <span class="hljs-keyword">operator</span>*(<span class="hljs-keyword">const</span> Point &amp;b)<span class="hljs-keyword">const</span>&#123;<br>        <span class="hljs-keyword">return</span> x * b.x + y * b.y;<br>    &#125;<br>    <span class="hljs-keyword">double</span> <span class="hljs-keyword">operator</span>^(<span class="hljs-keyword">const</span> Point &amp;b)<span class="hljs-keyword">const</span>&#123;<br>        <span class="hljs-keyword">return</span> x * b.y - y * b.x;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">double</span> <span class="hljs-title">distance</span><span class="hljs-params">(Point p)</span></span>&#123;<br>        <span class="hljs-keyword">return</span> hypot(x - p.x, y - p.y);<br>    &#125;<br>&#125;p1, p2, p3;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Line</span>&#123;</span><br>    Point s, e;<br>    Line()&#123;&#125;<br>    Line(Point _s, Point _e)&#123;<br>        s = _s;<br>        e = _e;<br>    &#125;<br>    <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>==(Line v)&#123;<br>        <span class="hljs-keyword">return</span> (s == v.s) &amp;&amp; (e == v.e);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">(Point a, Point b)</span></span>&#123;<br>        s = a;<br>        e = b;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">double</span> <span class="hljs-title">length</span><span class="hljs-params">()</span></span>&#123;<br>        <span class="hljs-keyword">return</span> s.distance(e);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">double</span> <span class="hljs-title">dispointtoline</span><span class="hljs-params">(Point p)</span></span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">fabs</span>((p - s) ^ (e - s)) / length();<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">double</span> <span class="hljs-title">dispointtoseg</span><span class="hljs-params">(Point p)</span></span>&#123;<br>        <span class="hljs-keyword">if</span>(sgn((p - s) * (e - s)) &lt; <span class="hljs-number">0</span> || sgn((p - e) * (s - e)) &lt; <span class="hljs-number">0</span>)<br>            <span class="hljs-keyword">return</span> min(p.distance(s), p.distance(e));<br>        <span class="hljs-keyword">return</span> dispointtoline(p);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">segcrosseg</span><span class="hljs-params">(Line v)</span></span>&#123;<br>        <span class="hljs-keyword">int</span> d1 = sgn((e - s) ^ (v.s - s));<br>        <span class="hljs-keyword">int</span> d2 = sgn((e - s) ^ (v.e - s));<br>        <span class="hljs-keyword">int</span> d3 = sgn((v.e - v.s) ^ (s - v.s));<br>        <span class="hljs-keyword">int</span> d4 = sgn((v.e - v.s) ^ (e - v.s));<br>        <span class="hljs-keyword">if</span>((d1 ^ d2) == <span class="hljs-number">-2</span> &amp;&amp; (d3 ^ d4) == <span class="hljs-number">-2</span>)<span class="hljs-keyword">return</span> <span class="hljs-number">2</span>;<br>        <span class="hljs-keyword">return</span> (d1 == <span class="hljs-number">0</span> &amp;&amp; sgn((v.s - s) * (v.s - e)) &lt;= <span class="hljs-number">0</span>) ||<br>            (d2 == <span class="hljs-number">0</span> &amp;&amp; sgn((v.e - s) * (v.e - e)) &lt;= <span class="hljs-number">0</span>) ||<br>            (d3 == <span class="hljs-number">0</span> &amp;&amp; sgn((s - v.s) * (s - v.e)) &lt;= <span class="hljs-number">0</span>) ||<br>            (d4 == <span class="hljs-number">0</span> &amp;&amp; sgn((e - v.s) * (e - v.e)) &lt;= <span class="hljs-number">0</span>);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">pointonseg</span><span class="hljs-params">(Point p)</span></span>&#123;<br>        <span class="hljs-keyword">return</span> sgn((p - s) ^ (e - s)) == <span class="hljs-number">0</span> &amp;&amp; sgn((p - s) * (p - e)) &lt;= <span class="hljs-number">0</span>;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">double</span> <span class="hljs-title">getarea</span><span class="hljs-params">(Point p)</span></span>&#123;<br>        <span class="hljs-keyword">double</span> area = dispointtoline(p) * length() / <span class="hljs-number">2</span>;<br>        <span class="hljs-keyword">return</span> area;<br>    &#125;<br>&#125;l1, l2, l3;<br><br><span class="hljs-comment">// ........</span><br><br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">egde</span>&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt;<br>&#125;edge[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, head[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v)</span></span>&#123;<br>    <span class="hljs-comment">// if(!(tot &amp; 1))cout &lt;&lt; u &lt;&lt; &quot;-&gt;&quot; &lt;&lt; v &lt;&lt; endl;</span><br>    edge[tot].to = v;<br>    edge[tot].nxt = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-keyword">int</span> dis[maxn];<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-built_in">queue</span>&lt;<span class="hljs-keyword">int</span>&gt; q;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dijkstra</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n, <span class="hljs-keyword">int</span> s)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vis);<br>    <span class="hljs-built_in">memset</span>(dis, inf, <span class="hljs-keyword">sizeof</span> dis);<br>    <span class="hljs-keyword">while</span>(!q.empty())q.pop();<br>    q.push(s);<br>    dis[s] = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span>(!q.empty())<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = q.front(); q.pop();<br>        <span class="hljs-keyword">if</span>(vis[u])<span class="hljs-keyword">continue</span>;<br>        vis[u] = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = edge[i].to;<br>            <span class="hljs-keyword">if</span>(dis[v] &gt; dis[u] + <span class="hljs-number">1</span>)<br>            &#123;<br>                dis[v] = dis[u] + <span class="hljs-number">1</span>;<br>                q.push(v);<br>            &#125;<br>        &#125;<br>    &#125;   <br>&#125;<br><br><span class="hljs-keyword">int</span> n;<br><span class="hljs-keyword">char</span> mp[<span class="hljs-number">25</span>][<span class="hljs-number">25</span>];<br><span class="hljs-built_in">map</span>&lt;Point, <span class="hljs-keyword">bool</span>&gt; mp1, mp2, mp3, p;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getidx</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span></span>&#123;<span class="hljs-keyword">return</span> x * n + y;&#125;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">check</span><span class="hljs-params">(Point a, Point b)</span></span><br><span class="hljs-function"></span>&#123;<br>    Line l = Line(a, b);<br>    <span class="hljs-comment">// if(a.x == 0 &amp;&amp; a.y == 1)&#123;</span><br>    <span class="hljs-comment">//     cout &lt;&lt; a.x &lt;&lt; &quot; &quot; &lt;&lt; a.y &lt;&lt; &quot;; &quot; &lt;&lt; b.x &lt;&lt; &quot; &quot; &lt;&lt; b.y &lt;&lt; endl;</span><br>    <span class="hljs-comment">//     cout &lt;&lt; l.segcrosseg(l1) &lt;&lt; endl;</span><br>    <span class="hljs-comment">//     cout &lt;&lt; l.segcrosseg(l2) &lt;&lt; endl;</span><br>    <span class="hljs-comment">//     cout &lt;&lt; l.segcrosseg(l3) &lt;&lt; endl;</span><br>    <span class="hljs-comment">// &#125;</span><br>    <span class="hljs-keyword">if</span>(l.segcrosseg(l1) == <span class="hljs-number">2</span> || l.segcrosseg(l2) == <span class="hljs-number">2</span> || l.segcrosseg(l3) == <span class="hljs-number">2</span>)<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">if</span>(mp1[a] &amp;&amp; mp1[b])<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(mp2[a] &amp;&amp; mp2[b])<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(mp3[a] &amp;&amp; mp3[b])<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">if</span>(!p[a] || !p[b])<br>    &#123;<br>        <span class="hljs-keyword">if</span>((mp1[a] &amp;&amp; mp2[b]) || (mp1[a] &amp;&amp; mp3[b]) || (mp2[a] &amp;&amp; mp1[b]) || (mp2[a] &amp;&amp; mp3[b]) || (mp3[a] &amp;&amp; mp1[b]) || (mp3[a] &amp;&amp; mp2[b]))<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(l.segcrosseg(l1) == <span class="hljs-number">1</span> &amp;&amp; l.segcrosseg(l2) == <span class="hljs-number">1</span> &amp;&amp; l.segcrosseg(l3) == <span class="hljs-number">1</span>)<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">if</span>(l.segcrosseg(l1) == <span class="hljs-number">1</span> || l.segcrosseg(l2) == <span class="hljs-number">1</span> || l.segcrosseg(l3) == <span class="hljs-number">1</span>)<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    <br>    <span class="hljs-comment">// if(l.segcrosseg(l1) == 1 || l.segcrosseg(l2) == 1 || l.segcrosseg(l3) == 1)return false;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">cin</span> &gt;&gt; n)<br>    &#123;<br>        p1.input(); p2.input(); p3.input();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = n - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; --i)<span class="hljs-built_in">cin</span> &gt;&gt; mp[i];<br>        mp[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = <span class="hljs-string">&#x27;.&#x27;</span>;<br>        l1.init(p1, p2); l2.init(p1, p3); l3.init(p2, p3);<br>        <span class="hljs-keyword">double</span> area = l1.getarea(p3);<br>        mp1.clear(); mp2.clear(); mp3.clear(); p.clear();<br>        p[p1] = <span class="hljs-literal">true</span>; p[p2] = <span class="hljs-literal">true</span>; p[p3] = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n - <span class="hljs-number">1</span>; ++i)<br>        &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt;= n - <span class="hljs-number">1</span>; ++j)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(mp[i][j] == <span class="hljs-string">&#x27;#&#x27;</span>)<span class="hljs-keyword">continue</span>;<br>                Point p = Point(j, i);<br>                <span class="hljs-keyword">double</span> area1 = l1.getarea(p);<br>                <span class="hljs-keyword">double</span> area2 = l2.getarea(p);<br>                <span class="hljs-keyword">double</span> area3 = l3.getarea(p);<br>                <span class="hljs-keyword">if</span>(l1.pointonseg(p))mp1[p] = <span class="hljs-literal">true</span>;<br>                <span class="hljs-keyword">if</span>(l2.pointonseg(p))mp2[p] = <span class="hljs-literal">true</span>;<br>                <span class="hljs-keyword">if</span>(l3.pointonseg(p))mp3[p] = <span class="hljs-literal">true</span>;<br>                <span class="hljs-keyword">if</span>(sgn(area1 + area2 + area3 - area) == <span class="hljs-number">0</span>)mp[i][j] = <span class="hljs-string">&#x27;#&#x27;</span>;<br>                <span class="hljs-keyword">if</span>(mp1[p] || mp2[p] || mp3[p])mp[i][j] = <span class="hljs-string">&#x27;.&#x27;</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">int</span> dx[] = &#123;<span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>&#125;;<br>        <span class="hljs-keyword">int</span> dy[] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>&#125;;<br>        Point p, q;<br>        init();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n - <span class="hljs-number">1</span>; ++i)<br>        &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt;= n - <span class="hljs-number">1</span>; ++j)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(mp[i][j] == <span class="hljs-string">&#x27;#&#x27;</span>)<span class="hljs-keyword">continue</span>;<br>                p = Point((<span class="hljs-keyword">double</span>)j, (<span class="hljs-keyword">double</span>)i);<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> k = <span class="hljs-number">0</span>; k &lt;= <span class="hljs-number">7</span>; ++k)<br>                &#123;<br>                    <span class="hljs-keyword">int</span> x = j + dx[k];<br>                    <span class="hljs-keyword">int</span> y = i + dy[k];<br>                    <span class="hljs-keyword">if</span>(x &lt; <span class="hljs-number">0</span> || x &gt;= n || y &lt; <span class="hljs-number">0</span> || y &gt;= n)<span class="hljs-keyword">continue</span>;<br>                    <span class="hljs-keyword">if</span>(mp[y][x] == <span class="hljs-string">&#x27;#&#x27;</span>)<span class="hljs-keyword">continue</span>;<br>                    q = Point((<span class="hljs-keyword">double</span>)x, (<span class="hljs-keyword">double</span>)y);<br>                    <span class="hljs-keyword">if</span>(check(p, q))<br>                        addedge(getidx(j, i), getidx(x, y)), addedge(getidx(x, y), getidx(j, i));<br>                &#125;<br>            &#125;<br>        &#125;<br>        dijkstra(n * n, <span class="hljs-number">0</span>);<br>        <span class="hljs-comment">// for(int i = 0; i &lt;= n * n; ++i)cout &lt;&lt; i &lt;&lt; &quot;: &quot; &lt;&lt; dis[i] &lt;&lt; endl;</span><br>        <span class="hljs-keyword">if</span>(dis[getidx(n - <span class="hljs-number">1</span>, n - <span class="hljs-number">1</span>)] == inf)<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">-1</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">else</span> <span class="hljs-built_in">cout</span> &lt;&lt; dis[getidx(n - <span class="hljs-number">1</span>, n - <span class="hljs-number">1</span>)] &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>(end)</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;模拟题场啊，，，，，&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://vjudge.net/contest/200099&quot;&gt;题目链接&lt;/a&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="ACM-比赛补题" scheme="http://blog.31415x.cf/categories/ACM-%E6%AF%94%E8%B5%9B%E8%A1%A5%E9%A2%98/"/>
    
    <category term="ACM-题解" scheme="http://blog.31415x.cf/categories/ACM-%E6%AF%94%E8%B5%9B%E8%A1%A5%E9%A2%98/ACM-%E9%A2%98%E8%A7%A3/"/>
    
    
    <category term="ACM" scheme="http://blog.31415x.cf/tags/ACM/"/>
    
    <category term="题解" scheme="http://blog.31415x.cf/tags/%E9%A2%98%E8%A7%A3/"/>
    
  </entry>
  
  <entry>
    <title>ACM-简单图论刷题</title>
    <link href="http://blog.31415x.cf/2019/10/07/ACM-%E7%AE%80%E5%8D%95%E5%9B%BE%E8%AE%BA%E5%88%B7%E9%A2%98/"/>
    <id>http://blog.31415x.cf/2019/10/07/ACM-%E7%AE%80%E5%8D%95%E5%9B%BE%E8%AE%BA%E5%88%B7%E9%A2%98/</id>
    <published>2019-10-07T09:58:20.000Z</published>
    <updated>2019-10-15T12:32:05.488Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>做一些简单图论题，， <a href="https://codeforces.com/problemset?order=BY_RATING_ASC&amp;tags=graphs%2C2000-">list</a></p><span id="more"></span><h1 id="463D-Gargari-and-Permutations-多个串的LCS"><a href="#463D-Gargari-and-Permutations-多个串的LCS" class="headerlink" title="463D    Gargari and Permutations 多个串的LCS"></a>463D    Gargari and Permutations 多个串的LCS</h1><p>对于每一对数： <code>&lt;i, j&gt;</code> ，，如果每一个串的j都在i前面的话连一条边 <code>i-&gt;j</code> ，，然后跑找一个最长路，，<a href="https://codeforces.com/problemset/submission/463/62052575">code</a></p><h1 id="449B-Jzzhu-and-Cities-最短路判必经边"><a href="#449B-Jzzhu-and-Cities-最短路判必经边" class="headerlink" title="449B    Jzzhu and Cities 最短路判必经边"></a>449B    Jzzhu and Cities 最短路判必经边</h1><p>直接跑最短路并记录每个点的路径数，最后可删边对的点v如果路径数大于1或者是这条边的权值小于最短路的值就说明这边可删 （路径数很多以单模），，，记得前面去重就行了，，或者跑完最短路抠出的新图判这个点的入度大于1否，，</p><p>本来是道乱搞题，，最开始的想法错了些就全否了，，不断的写假算法，，，<del>（失去理智</del> <a href="https://codeforces.com/contest/449/submission/62090227">code</a></p><h1 id="558C-Amr-and-Chemistry-暴力？？"><a href="#558C-Amr-and-Chemistry-暴力？？" class="headerlink" title="558C    Amr and Chemistry 暴力？？"></a>558C    Amr and Chemistry 暴力？？</h1><p>一开始看到tag有一个shortest path 以为是根据一些关系来建张图，，然后跑最短路得到答案，，，但是发现不管怎么建边，，最短路都是求得的，，，和最短路没啥关系，，妥妥的暴力，，最后看了官方题解，，才发现将求每个数的情况的搜索看成了最短路，，我,,,emmmmmmm <a href="https://codeforces.com/contest/558/submission/62109249">code</a></p><h1 id="739B-Alyona-and-a-tree-dfs-路径二分"><a href="#739B-Alyona-and-a-tree-dfs-路径二分" class="headerlink" title="739B    Alyona and a tree dfs+路径二分"></a>739B    Alyona and a tree dfs+路径二分</h1><p>这题不错，，</p><p>假定 $dep[u]$ 表示从根节点到点 <code>u</code> 的一条链的前缀路径长度，，这样这条链上的任意一条路径长度就知道了，，然后对于当前访问的一个点 <code>v</code> ，先考虑这个点对上面的某些满足条件的点的贡献：上面的点中存在这样的点 <code>u</code> ，使得 $dep[v] - dep[u] &lt;= a[v]$ 也就是说 <code>v</code> 在 <code>u</code> 的子树中并且路径长度是不大于点权的，，这样的话 <code>u</code> 的个数加一，，</p><p>同样，，这段路径间的点的也满足这样的条件，，因为路径长度是单调的，，所以，，我们只要找到一个满足条件的最远的一个点 <code>u</code> 的上一个，</p><p>（寻找的方法是：将上面的条件转换以下，， $dep[v] - a[v] &lt;= dep[u]$ 又因为dep是单调递增的，，所以找这个 <code>u</code> 就是找一个刚好 $dep[u]$ 是大于等于 $dep[v] - a[v]$ 的点即可），，，，</p><p>将其的答案减一，，然后利用他更新他的上面的点（看成都不算这个点的贡献，，而 <code>u</code> 到 <code>v</code> 的点都会加上一个1），，，对于每一个点考虑dfs中的所有儿子节点的贡献和即可，，<a href="https://codeforces.com/contest/739/submission/62394729">code</a></p><h1 id="1217D-Coloring-Edges-判环-染色"><a href="#1217D-Coloring-Edges-判环-染色" class="headerlink" title="1217D    Coloring Edges 判环+染色"></a>1217D    Coloring Edges 判环+染色</h1><p><a href="https://codeforces.com/contest/1217/submission/61395907">直接拓扑排序判环染色</a>，，<a href="https://codeforces.com/contest/1217/submission/61365723">或者利用dfs的性质来染色判环</a></p><h1 id="842C-Ilya-And-The-Tree-dfs-优化"><a href="#842C-Ilya-And-The-Tree-dfs-优化" class="headerlink" title="842C    Ilya And The Tree dfs+优化"></a>842C    Ilya And The Tree dfs+优化</h1><p>一道搜索题，，刚开始我直接将搜索到的每一条路径的所有数的因数扔到了map中，，然后遍历尝试找一个最大的因数并且其数量是大于等于n-1的，，，但是这样会随着路径的长度map的大小不断地增加，，即使控制反向遍历也会爆栈等等，，可以先假设每一条路径都去掉根节点，这样每一个点的答案就是 $ans[v]=__gcd(ans[u], a[v])$ ，，，然后如果一定加上根节点的话，答案一定是根节点的一个因数，，所以map直接保存的就是根节点的因数，，再像上面那样遍历一遍和第一次得到的答案取最大就行了，，<a href="https://codeforces.com/contest/842/submission/62238501">code</a></p><h1 id="1213G-Path-Queries-并查集"><a href="#1213G-Path-Queries-并查集" class="headerlink" title="1213G    Path Queries 并查集"></a>1213G    Path Queries 并查集</h1><p>离线询问，然后利用并查集将符合当前询问的所有两个点放到一堆集合中，，此时的答案就是每一个集合的边数 $m$ 的 $m(m + 1)/2$ ，，，询问排序后之前加的边也是满足条件的，，，这样就可以利用前一个答案来获得当前的询问的答案，，更新的方式是，，，将这条边的两个点所在的集合的大小 $a, b$ 清空，，然后答案 $ans = ans - (a <em> (a + 1) / 2) - (b </em> (b + 1) / 2) + ((a + b + 1) * (a + b + 2) / 2))$  ，，最后合并集合即可，，刚开始我是用并查集维护边，，，因为要建图，，一直T，，，emmm <a href="https://codeforces.com/contest/1213/submission/62347660">code</a></p><h1 id="776D-The-Door-Problem-2sat"><a href="#776D-The-Door-Problem-2sat" class="headerlink" title="776D    The Door Problem 2sat"></a>776D    The Door Problem 2sat</h1><p>2sat板子题吧，，直接按题意找出限制关系建图判以下就行了，，之前写过，，<a href="https://codeforces.com/contest/776/submission/52218310">code</a></p><h1 id="767C-Garland-dfs-贪心"><a href="#767C-Garland-dfs-贪心" class="headerlink" title="767C    Garland dfs+贪心"></a>767C    Garland dfs+贪心</h1><p>dfs搜出所有的 $sum/3$ 和 $2*sum/3$ 的子树，，记前者为1，后面的为2，，</p><p>记录搜的过程中的1的出现位置，如果出现一个2，并且它的子树中有一个1，那么这就是一个答案，，直接输出后退出程序就行了，，没有跳过</p><p>如果找到一个1的同时他的子树中有一个1，，那么这个1不要，，继续搜，，，最后如果搜到的1超过两个输出就行了，，没有的话就是无解，，，<a href="https://codeforces.com/contest/767/submission/62419845">code</a></p><p><del>（很简单的一道题，，思路很早就通了，，就是实现的时候因为一些细节疯狂wa，，emmmmm</del></p><h1 id=""><a href="#" class="headerlink" title=" "></a> </h1>]]></content>
    
    
    <summary type="html">&lt;p&gt;做一些简单图论题，， &lt;a href=&quot;https://codeforces.com/problemset?order=BY_RATING_ASC&amp;amp;tags=graphs%2C2000-&quot;&gt;list&lt;/a&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Codeforces" scheme="http://blog.31415x.cf/categories/Codeforces/"/>
    
    
    <category term="ACM" scheme="http://blog.31415x.cf/tags/ACM/"/>
    
    <category term="刷题" scheme="http://blog.31415x.cf/tags/%E5%88%B7%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>2019-ccpc秦皇岛现场赛</title>
    <link href="http://blog.31415x.cf/2019/10/05/2019-ccpc%E7%A7%A6%E7%9A%87%E5%B2%9B%E7%8E%B0%E5%9C%BA%E8%B5%9B/"/>
    <id>http://blog.31415x.cf/2019/10/05/2019-ccpc%E7%A7%A6%E7%9A%87%E5%B2%9B%E7%8E%B0%E5%9C%BA%E8%B5%9B/</id>
    <published>2019-10-05T10:08:28.000Z</published>
    <updated>2019-10-05T11:14:30.066Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>昨天和队友模拟了下今年秦皇岛的区域赛，，，<del>（我全程在演</del></p><p><a href="https://codeforces.com/gym/102361">题目链接</a></p><span id="more"></span><h1 id="D-Decimal"><a href="#D-Decimal" class="headerlink" title="D - Decimal"></a>D - Decimal</h1><p>签到题，，，<del>（感觉在cf上做过，，</del></p><p><del>（然后写反输出白白wa一发,,,,,emmmmmmmm</del></p><h1 id="F-Forest-Program"><a href="#F-Forest-Program" class="headerlink" title="F - Forest Program"></a>F - Forest Program</h1><p>这题我感觉是第二道签到题，，，很简单，，但是我一个人读完题后就想着怎么写代码，，，然后wa了无数发才反应过来还要考虑树边的情况，，，<del>丧失理智</del> ，，，，</p><p>题意就是给一个 <strong>仙人掌图</strong> ，，仙人掌图就是对于每一条边都最多属于一个简单环中，，，然后问你删去一些边使得最后的图是一片森林的方案数，，，显然答案就是每一个环至少删去一个边，，这样每一个环的贡献就是 $2^i-1$ ，，累乘每一个环便是环的情况，，，然后还要考虑剩余边的情况，，然后我就是忘记这个wa的怀疑人生，，，</p><p>找图的环直接dfs就可以个了，，用一个dis数组记录一下到最初的点的距离，，碰到一个环就直接相减就能得到到环的长度，，，<del>(刚好前几天见过这样的dfs判环和求环大小的问题</del></p><p><del>（为什么弧优化后还慢了啊，，，emmmmm</del></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">4e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">6e5</span> + <span class="hljs-number">233</span>;<br><span class="hljs-comment">// const int mod = 1e9 + 7;</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">998244353</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt;<br>    <span class="hljs-keyword">bool</span> flag;<br>&#125;edge[maxm &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, head[maxm &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].flag = <span class="hljs-literal">false</span>;<br>    edge[tot].nxt = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-built_in">vector</span>&lt;ll&gt; ans;<br><span class="hljs-keyword">int</span> vis[maxn];<br>ll dis[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, ll len)</span></span><br><span class="hljs-function"></span>&#123;<br>    vis[u] = <span class="hljs-number">1</span>; dis[u] = len;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> &amp;i = head[u]; ~i; i = edge[i].nxt)<br>    &#123;<br>        <span class="hljs-keyword">int</span> v = edge[i].to;<br>        <span class="hljs-keyword">if</span>(edge[i].flag)<span class="hljs-keyword">continue</span>;<br>        edge[i].flag = edge[i ^ <span class="hljs-number">1</span>].flag = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">if</span>(vis[v] == <span class="hljs-number">1</span>)<br>        &#123;<br>            ans.push_back(len - dis[v] + <span class="hljs-number">1</span>);<br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br>        dfs(v, len + <span class="hljs-number">1</span>);<br>    &#125;<br>    vis[u] = <span class="hljs-number">2</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">inline</span> ll <span class="hljs-title">pow_</span><span class="hljs-params">(ll a, ll b)</span></span><br><span class="hljs-function"></span>&#123;<br>    ll ret = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(b)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(b &amp; <span class="hljs-number">1</span>)ret = (ret * a) % mod;<br>        a = (a * a) % mod;<br>        b &gt;&gt;= <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> ret;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br><br>    <span class="hljs-keyword">int</span> n, m; <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m;<br>    init();<br>    <span class="hljs-keyword">int</span> u, v;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; u &gt;&gt; v;<br>        addedge(u, v);<br>        addedge(v, u);<br>    &#125;<br>    ans.clear();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)vis[i] = <span class="hljs-number">-1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        <span class="hljs-keyword">if</span>(vis[i] != <span class="hljs-number">2</span>)<br>            dfs(i, <span class="hljs-number">0</span>);<br>    <br>    <span class="hljs-comment">// for(auto i: ans)cout &lt;&lt; i &lt;&lt; &quot; &quot;;cout &lt;&lt; endl;</span><br><br>    ll ret = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; ans.size(); ++i)<br>        ret = ret * ((pow_(<span class="hljs-number">2</span>, ans[i]) - <span class="hljs-number">1</span>) + mod) % mod;<br>    ll sum = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; ans.size(); ++i)sum += ans[i];<br>    sum = pow_(<span class="hljs-number">2</span>, m - sum) % mod;<br>    <span class="hljs-keyword">if</span>(ret == <span class="hljs-number">0</span>)ret = sum;<br>    <span class="hljs-keyword">else</span> ret = (ret * sum) % mod;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; ret &lt;&lt; <span class="hljs-built_in">endl</span>;<br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="I-Invoker"><a href="#I-Invoker" class="headerlink" title="I - Invoker"></a>I - Invoker</h1><p><del>（在我自闭的时候</del> ，，队友过了这题，，这题的题目很像 <del>（基本完全一致</del> 我们的新生赛，，只是求得东西反了过来，，，队友想了暴力+dp过的，，</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">3e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">5e5</span> + <span class="hljs-number">233</span>;<br><span class="hljs-comment">// const int mod = 1e9 + 7;</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">998244353</span>;<br><span class="hljs-built_in">map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-keyword">int</span>&gt; mp;<br><span class="hljs-built_in">map</span>&lt;<span class="hljs-keyword">char</span>, <span class="hljs-keyword">int</span>&gt; special;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> skill[] = &#123;<span class="hljs-string">&#x27;Q&#x27;</span>, <span class="hljs-string">&#x27;W&#x27;</span>, <span class="hljs-string">&#x27;E&#x27;</span>&#125;;<br><span class="hljs-keyword">int</span> dis[<span class="hljs-number">30</span>][<span class="hljs-number">30</span>];<br><br><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; g[<span class="hljs-number">15</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">3</span>; i++)<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>; j&lt;<span class="hljs-number">3</span>; j++)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> k=<span class="hljs-number">0</span>; k&lt;<span class="hljs-number">3</span>; k++)<br>            &#123;<br>                <span class="hljs-built_in">string</span> tmp = <span class="hljs-string">&quot;&quot;</span>;<br>                tmp += skill[i];<br>                tmp += skill[j];<br>                tmp += skill[k];<br>                mp[tmp] = i*<span class="hljs-number">9</span> + j*<span class="hljs-number">3</span> + k;<br>            &#125;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> a=<span class="hljs-number">0</span>; a&lt;<span class="hljs-number">27</span>; a++)<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> b=<span class="hljs-number">0</span>; b&lt;<span class="hljs-number">27</span>; b++)<br>        &#123;<br>            <span class="hljs-keyword">int</span> i = a, j = b;<br>            <span class="hljs-built_in">string</span> tmpi = <span class="hljs-string">&quot;&quot;</span>;<br>            <span class="hljs-built_in">string</span> tmpj = <span class="hljs-string">&quot;&quot;</span>;<br>            tmpi += skill[i/<span class="hljs-number">9</span>];<br>            i %= <span class="hljs-number">9</span>;<br>            tmpi += skill[i/<span class="hljs-number">3</span>];<br>            i %= <span class="hljs-number">3</span>;<br>            tmpi += skill[i];<br>            tmpj += skill[j/<span class="hljs-number">9</span>];<br>            j %= <span class="hljs-number">9</span>;<br>            tmpj += skill[j/<span class="hljs-number">3</span>];<br>            j %= <span class="hljs-number">3</span>;<br>            tmpj += skill[j];<br>            <span class="hljs-keyword">if</span>(tmpi == tmpj)<br>                dis[a][b] = <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(tmpi[<span class="hljs-number">1</span>] == tmpj[<span class="hljs-number">0</span>] &amp;&amp; tmpi[<span class="hljs-number">2</span>] == tmpj[<span class="hljs-number">1</span>])<br>                dis[a][b] = <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(tmpi[<span class="hljs-number">2</span>] == tmpj[<span class="hljs-number">0</span>])<br>                dis[a][b] = <span class="hljs-number">2</span>;<br>            <span class="hljs-keyword">else</span><br>                dis[a][b] = <span class="hljs-number">3</span>;<br>        &#125;<br>    &#125;<br>    special[<span class="hljs-string">&#x27;Y&#x27;</span>] = <span class="hljs-number">0</span>;<br>    special[<span class="hljs-string">&#x27;V&#x27;</span>] = <span class="hljs-number">1</span>;<br>    special[<span class="hljs-string">&#x27;G&#x27;</span>] = <span class="hljs-number">2</span>;<br>    special[<span class="hljs-string">&#x27;C&#x27;</span>] = <span class="hljs-number">3</span>;<br>    special[<span class="hljs-string">&#x27;X&#x27;</span>] = <span class="hljs-number">4</span>;<br>    special[<span class="hljs-string">&#x27;Z&#x27;</span>] = <span class="hljs-number">5</span>;<br>    special[<span class="hljs-string">&#x27;T&#x27;</span>] = <span class="hljs-number">6</span>;<br>    special[<span class="hljs-string">&#x27;F&#x27;</span>] = <span class="hljs-number">7</span>;<br>    special[<span class="hljs-string">&#x27;D&#x27;</span>] = <span class="hljs-number">8</span>;<br>    special[<span class="hljs-string">&#x27;B&#x27;</span>] = <span class="hljs-number">9</span>;<br>    g[<span class="hljs-number">0</span>].push_back(mp[<span class="hljs-string">&quot;QQQ&quot;</span>]);<br>    g[<span class="hljs-number">1</span>].push_back(mp[<span class="hljs-string">&quot;QQW&quot;</span>]);<br>    g[<span class="hljs-number">1</span>].push_back(mp[<span class="hljs-string">&quot;QWQ&quot;</span>]);<br>    g[<span class="hljs-number">1</span>].push_back(mp[<span class="hljs-string">&quot;WQQ&quot;</span>]);<br>    g[<span class="hljs-number">2</span>].push_back(mp[<span class="hljs-string">&quot;QQE&quot;</span>]);<br>    g[<span class="hljs-number">2</span>].push_back(mp[<span class="hljs-string">&quot;QEQ&quot;</span>]);<br>    g[<span class="hljs-number">2</span>].push_back(mp[<span class="hljs-string">&quot;EQQ&quot;</span>]);<br>    g[<span class="hljs-number">3</span>].push_back(mp[<span class="hljs-string">&quot;WWW&quot;</span>]);<br>    g[<span class="hljs-number">4</span>].push_back(mp[<span class="hljs-string">&quot;QWW&quot;</span>]);<br>    g[<span class="hljs-number">4</span>].push_back(mp[<span class="hljs-string">&quot;WQW&quot;</span>]);<br>    g[<span class="hljs-number">4</span>].push_back(mp[<span class="hljs-string">&quot;WWQ&quot;</span>]);<br>    g[<span class="hljs-number">5</span>].push_back(mp[<span class="hljs-string">&quot;WWE&quot;</span>]);<br>    g[<span class="hljs-number">5</span>].push_back(mp[<span class="hljs-string">&quot;WEW&quot;</span>]);<br>    g[<span class="hljs-number">5</span>].push_back(mp[<span class="hljs-string">&quot;EWW&quot;</span>]);<br>    g[<span class="hljs-number">6</span>].push_back(mp[<span class="hljs-string">&quot;EEE&quot;</span>]);<br>    g[<span class="hljs-number">7</span>].push_back(mp[<span class="hljs-string">&quot;QEE&quot;</span>]);<br>    g[<span class="hljs-number">7</span>].push_back(mp[<span class="hljs-string">&quot;EQE&quot;</span>]);<br>    g[<span class="hljs-number">7</span>].push_back(mp[<span class="hljs-string">&quot;EEQ&quot;</span>]);<br>    g[<span class="hljs-number">8</span>].push_back(mp[<span class="hljs-string">&quot;WEE&quot;</span>]);<br>    g[<span class="hljs-number">8</span>].push_back(mp[<span class="hljs-string">&quot;EWE&quot;</span>]);<br>    g[<span class="hljs-number">8</span>].push_back(mp[<span class="hljs-string">&quot;EEW&quot;</span>]);<br>    g[<span class="hljs-number">9</span>].push_back(mp[<span class="hljs-string">&quot;QWE&quot;</span>]);<br>    g[<span class="hljs-number">9</span>].push_back(mp[<span class="hljs-string">&quot;QEW&quot;</span>]);<br>    g[<span class="hljs-number">9</span>].push_back(mp[<span class="hljs-string">&quot;WQE&quot;</span>]);<br>    g[<span class="hljs-number">9</span>].push_back(mp[<span class="hljs-string">&quot;WEQ&quot;</span>]);<br>    g[<span class="hljs-number">9</span>].push_back(mp[<span class="hljs-string">&quot;EWQ&quot;</span>]);<br>    g[<span class="hljs-number">9</span>].push_back(mp[<span class="hljs-string">&quot;EQW&quot;</span>]);<br>&#125;<br><br><span class="hljs-keyword">char</span> s[maxn];<br><span class="hljs-keyword">int</span> dp[maxn][<span class="hljs-number">6</span>];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    init();<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>, s);<br>    <span class="hljs-keyword">int</span> len = <span class="hljs-built_in">strlen</span>(s);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;len; i++)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>; j&lt;<span class="hljs-number">6</span>; j++)<br>            dp[i][j] = inf;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;g[special[s[<span class="hljs-number">0</span>]]].size(); i++)<br>        dp[<span class="hljs-number">0</span>][i] = <span class="hljs-number">3</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>; i&lt;len; i++)<br>    &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>; j&lt;g[special[s[i<span class="hljs-number">-1</span>]]].size(); j++)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> k=<span class="hljs-number">0</span>; k&lt;g[special[s[i]]].size(); k++)<br>            &#123;<br>                <span class="hljs-keyword">int</span> tmpj = g[special[s[i<span class="hljs-number">-1</span>]]][j];<br>                <span class="hljs-keyword">int</span> tmpk = g[special[s[i]]][k];<br>                dp[i][k] = min(dp[i][k], dp[i<span class="hljs-number">-1</span>][j] + dis[tmpj][tmpk]);<br>            &#125;<br>    &#125;<br>    <span class="hljs-keyword">int</span> ans = inf;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">6</span>; i++)<br>        ans = min(ans, dp[len<span class="hljs-number">-1</span>][i]);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, ans+len);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="J-MUV-LUV-EXTRA"><a href="#J-MUV-LUV-EXTRA" class="headerlink" title="J - MUV LUV EXTRA"></a>J - MUV LUV EXTRA</h1><p>这题我读完题之后感觉是字符串的题，，不知道怎么搞，，最后队友弄出来的，，</p><p>枚举+kmp</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> LL long long</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br>LL a, b;<br><span class="hljs-keyword">const</span> LL inf=<span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> LL maxn=<span class="hljs-number">1e7</span>+<span class="hljs-number">7</span>;<br><span class="hljs-built_in">string</span> tem,s=<span class="hljs-string">&quot;&quot;</span>;<br>LL nex[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>&gt;&gt;a&gt;&gt;b;<br>    <span class="hljs-built_in">cin</span>&gt;&gt;tem;<br>    <span class="hljs-keyword">for</span>(LL i=tem.size()<span class="hljs-number">-1</span>;i&gt;=<span class="hljs-number">0</span>;i--)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(tem[i]!=<span class="hljs-string">&#x27;.&#x27;</span>) s+=tem[i];<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">break</span>;<br>    &#125;<br>    nex[<span class="hljs-number">0</span>]=<span class="hljs-number">-1</span>;<br>    <span class="hljs-keyword">for</span>(LL i=<span class="hljs-number">1</span>;i&lt;=s.size();i++)<br>    &#123;<br>        nex[i]=<span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">int</span> k=nex[i<span class="hljs-number">-1</span>];<br>        <span class="hljs-keyword">while</span>(k!=<span class="hljs-number">-1</span>)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(s[i<span class="hljs-number">-1</span>]==s[k]) &#123;nex[i]=k+<span class="hljs-number">1</span>;<span class="hljs-keyword">break</span>;&#125;<br>            <span class="hljs-keyword">else</span> k=nex[k];<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;s.size();i++) nex[i]=nex[i+<span class="hljs-number">1</span>];<br>    <span class="hljs-comment">//for(int i =0;i&lt;s.size();i++) cout&lt;&lt;nex[i]&lt;&lt;&#x27; &#x27;;</span><br>    LL ans=-inf;<br>    <span class="hljs-keyword">for</span>(LL i=<span class="hljs-number">0</span>;i&lt;s.size();i++)<br>    &#123;<br>        LL tem=a*(i+<span class="hljs-number">1</span>)-b*(i+<span class="hljs-number">1</span>-nex[i]);<br>        ans=ans&gt;tem?ans:tem;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(ans==-inf) <span class="hljs-built_in">cout</span>&lt;&lt;<span class="hljs-number">0</span>&lt;&lt;<span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">else</span> <span class="hljs-built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="E-Escape"><a href="#E-Escape" class="headerlink" title="E - Escape"></a>E - Escape</h1><p>晚上看的这题，，网络流简单题，，主要是建图的方式，，，</p><p>题意就是一个矩形的迷宫（或者地图），，有些障碍，，而其他的地方可以放置一个转向器，，这个转向器有4中类型，，然后地图的上方有a个机器人，，下方有b个出口，，问你在随意添加一些转向器后的地图中，，机器人能否全部进入出口，，</p><p><a href="https://blog.csdn.net/weixin_43826249/article/details/101616967">以下内容参考自</a></p><p>首先，，任意两个机器人如果在某一段的路线一致，，那么一定会进入同一个出口，，而且如果两个机器人的路线相反一定会去到对方的起点，，</p><p>于是，，可以看出如果一个机器人经过一个转向器，，其他的机器人是不会经过这个转向器的，，</p><p>因为一开始的机器人都是先下走的，，如果两个进入同一个转向器A，，那么其中一个一定之前经过一个转向器B，，而且这个转向器B会在A的一端的那个方向，，这样子的话前面那个机器人又到不了转向器A了，，，所以是矛盾的，，因此一个转向器上只会经过一个机器人，，，也就是说这个点只能经过一次，，，也就是说如果将这个点看成一个转向器的话，，他只能经过一次，，就是流量是1，，</p><p>再考虑某个点不是转向器的情况: 显然不是转向器的话，，这个点可以经过两次： 一次横的一次竖的，，，也就是说将这点看成两个边： 竖的一条边和横着一条边，，他们的流量都是1，，，</p><p>但是有了竖边和横边怎么表示转向呢，，直接将连起来不就行了，，，</p><p>这样，，如果一条流是经过竖边表示从这个点经过，，然后想着竖直方向走下去，，同理横边，，，而如果是经过竖边-&gt;中间边-&gt;横边，，或者反过来就表示是这个点是一个转向器，，而且，，，这样的网络也会保证每个点只可能是一个转向器或者不是，，</p><p>最后将机器人连向对应的最上面的点，，表示机器人只能竖直向下走，，同理出口，，加上源汇点跑最大流，，如果流量等于机器人数就是说有一种方案使得每一个机器人进入出口，，，</p><p>然后我第一次写的建图方式会访问到第0行和第n+1行，，只想了第0行不会产生影响，，忘记了后面的那行会被多组数据覆盖，，wa到怀疑板子抄错-&gt;建图有锅，，，</p><p><del>话说isap为什么会跑出 <code>998ms</code> ，，这个可怕，，，那现场赛不是会有一堆人T穿，，，hlpp 就是友好的 <code>233ms</code> ,, 好吧，，是数组开大了，，，，</del></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e6</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt, cap, flow;<br>&#125;edge[maxm];<br><span class="hljs-keyword">int</span> tot, head[maxm];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> w, <span class="hljs-keyword">int</span> rw = <span class="hljs-number">0</span>)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// cout &lt;&lt; u &lt;&lt; &quot; &quot; &lt;&lt; v &lt;&lt; endl;</span><br>    edge[tot].to = v; edge[tot].cap = w; edge[tot].nxt = head[u];<br>    edge[tot].flow = <span class="hljs-number">0</span>; head[u] = tot++;<br>    edge[tot].to = u; edge[tot].cap = rw; edge[tot].nxt = head[v];<br>    edge[tot].flow = <span class="hljs-number">0</span>; head[v] = tot++;<br>&#125;<br><span class="hljs-keyword">int</span> gap[maxm], dep[maxm], pre[maxm], cur[maxm];<br><span class="hljs-keyword">int</span> que[maxm];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">bfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> t)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(dep, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> dep);<br>    <span class="hljs-built_in">memset</span>(gap, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> gap);<br>    gap[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">int</span> front = <span class="hljs-number">0</span>, rear = <span class="hljs-number">0</span>;<br>    dep[t] = <span class="hljs-number">0</span>;<br>    que[rear++] = t;<br>    <span class="hljs-keyword">while</span>(front != rear)<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = que[front++];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = edge[i].to;<br>            <span class="hljs-keyword">if</span>(dep[v] != <span class="hljs-number">-1</span>)<span class="hljs-keyword">continue</span>;<br>            que[rear++] = v;<br>            dep[v] = dep[u] + <span class="hljs-number">1</span>;<br>            ++gap[dep[v]];<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-keyword">int</span> sta[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">isap</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> t, <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    bfs(s, t);<br>    <span class="hljs-built_in">memcpy</span>(cur, head, <span class="hljs-keyword">sizeof</span> head);<br>    <span class="hljs-keyword">int</span> u = s;<br>    <span class="hljs-keyword">int</span> top = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> maxflow = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span>(dep[s] &lt; n)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(u == t)<br>        &#123;<br>            <span class="hljs-keyword">int</span> mi = inf;<br>            <span class="hljs-keyword">int</span> inser;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; top; ++i)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(mi &gt; edge[sta[i]].cap - edge[sta[i]].flow)<br>                &#123;<br>                    mi = edge[sta[i]].cap - edge[sta[i]].flow;<br>                    inser = i;<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; top; ++i)<br>            &#123;<br>                edge[sta[i]].flow += mi;<br>                edge[sta[i] ^ <span class="hljs-number">1</span>].flow -= mi;<br>            &#125;<br>            maxflow += mi;<br>            top = inser;<br>            u = edge[sta[top] ^ <span class="hljs-number">1</span>].to;<br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br>        <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">int</span> v;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = cur[u]; ~i; i = edge[i].nxt)<br>        &#123;<br>            v = edge[i].to;<br>            <span class="hljs-keyword">if</span>(edge[i].cap - edge[i].flow &amp;&amp; dep[v] + <span class="hljs-number">1</span> == dep[u])<br>            &#123;<br>                flag = <span class="hljs-literal">true</span>;<br>                cur[u] = i;<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(flag)<br>        &#123;<br>            sta[top++] = cur[u];<br>            u = v;<br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br>        <span class="hljs-keyword">int</span> mi = n;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(edge[i].cap - edge[i].flow &amp;&amp; dep[edge[i].to] &lt; mi)<br>            &#123;<br>                mi = dep[edge[i].to];<br>                cur[u] = i;<br>            &#125;<br>        &#125;<br>        --gap[dep[u]];<br>        <span class="hljs-keyword">if</span>(!gap[dep[u]])<span class="hljs-keyword">return</span> maxflow;<br>        dep[u] = mi + <span class="hljs-number">1</span>;<br>        ++gap[dep[u]];<br>        <span class="hljs-keyword">if</span>(u != s)u = edge[sta[--top] ^ <span class="hljs-number">1</span>].to;<br>    &#125;<br>    <span class="hljs-keyword">return</span> maxflow;<br>&#125;<br><span class="hljs-keyword">int</span> n, m, a, b;<br><span class="hljs-keyword">char</span> mp[<span class="hljs-number">105</span>][<span class="hljs-number">105</span>];<br><span class="hljs-keyword">int</span> bots[<span class="hljs-number">105</span>], exits[<span class="hljs-number">105</span>];<br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-title">getidx</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)</span></span>&#123;<span class="hljs-keyword">return</span> x * m + y;&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br><br>    <span class="hljs-keyword">int</span> ca; <span class="hljs-built_in">cin</span> &gt;&gt; ca;<br>    <span class="hljs-keyword">while</span>(ca--)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m &gt;&gt; a &gt;&gt; b;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; mp[i] + <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= a; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; bots[i];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= b; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; exits[i];<br>        init();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)mp[n + <span class="hljs-number">1</span>][i] = <span class="hljs-string">&#x27;0&#x27;</span>;<br>        <span class="hljs-keyword">int</span> sum = (n + <span class="hljs-number">2</span>) * m;<br>        <span class="hljs-keyword">int</span> s = <span class="hljs-number">0</span>, t = sum * <span class="hljs-number">2</span> + <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= a; ++i)addedge(s, bots[i], <span class="hljs-number">1</span>);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; ++j)<br>                <span class="hljs-keyword">if</span>(mp[i][j] != <span class="hljs-string">&#x27;1&#x27;</span> &amp;&amp; mp[i + <span class="hljs-number">1</span>][j] != <span class="hljs-string">&#x27;1&#x27;</span>)<br>                    addedge(getidx(i, j), getidx(i + <span class="hljs-number">1</span>, j), <span class="hljs-number">1</span>),<br>                    addedge(getidx(i + <span class="hljs-number">1</span>, j), getidx(i, j), <span class="hljs-number">1</span>);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m - <span class="hljs-number">1</span>; ++j)<br>                <span class="hljs-keyword">if</span>(mp[i][j] != <span class="hljs-string">&#x27;1&#x27;</span> &amp;&amp; mp[i][j + <span class="hljs-number">1</span>] != <span class="hljs-string">&#x27;1&#x27;</span>)<br>                    addedge(getidx(i, j) + sum, getidx(i, j + <span class="hljs-number">1</span>) + sum, <span class="hljs-number">1</span>),<br>                    addedge(getidx(i, j + <span class="hljs-number">1</span>) + sum, getidx(i, j) + sum, <span class="hljs-number">1</span>);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; ++j)<br>                <span class="hljs-keyword">if</span>(mp[i][j] != <span class="hljs-string">&#x27;1&#x27;</span>)<br>                    addedge(getidx(i, j), getidx(i, j) + sum, <span class="hljs-number">1</span>),<br>                    addedge(getidx(i, j) + sum, getidx(i, j), <span class="hljs-number">1</span>);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= b; ++i)addedge(getidx(n + <span class="hljs-number">1</span>, exits[i]), t, <span class="hljs-number">1</span>);<br>        <span class="hljs-keyword">if</span>(isap(s, t, t + <span class="hljs-number">1</span>) == a)<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;Yes&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">else</span> <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;No&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br><br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>这个拆点的方式很不错，，，</p><p>(end)</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;昨天和队友模拟了下今年秦皇岛的区域赛，，，&lt;del&gt;（我全程在演&lt;/del&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://codeforces.com/gym/102361&quot;&gt;题目链接&lt;/a&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="Codeforces" scheme="http://blog.31415x.cf/categories/Codeforces/"/>
    
    
    <category term="ACM" scheme="http://blog.31415x.cf/tags/ACM/"/>
    
    <category term="刷题" scheme="http://blog.31415x.cf/tags/%E5%88%B7%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>ACM-图论刷题</title>
    <link href="http://blog.31415x.cf/2019/10/01/ACM-%E5%9B%BE%E8%AE%BA%E5%88%B7%E9%A2%98/"/>
    <id>http://blog.31415x.cf/2019/10/01/ACM-%E5%9B%BE%E8%AE%BA%E5%88%B7%E9%A2%98/</id>
    <published>2019-10-01T12:43:00.000Z</published>
    <updated>2019-10-17T07:46:36.665Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>自称是一个图论选手，，<del>（但是到头来只是一个板子王</del>，，，稍微变一变的图论题就不怎么会解决了，，，所以决定刷一段时间的图论题，，</p><span id="more"></span><p><a href="https://codeforces.com/problemset?order=BY_RATING_ASC&amp;tags=graphs%2C2600-">ProblemsList</a></p><h1 id="786B-Legacy-区间图最短路"><a href="#786B-Legacy-区间图最短路" class="headerlink" title="786B Legacy 区间图最短路"></a>786B Legacy 区间图最短路</h1><p>区间图最短路板子题，，关于什么是区间图最短路上一篇博客有写，，，</p><h1 id="741C-Arpa’s-overnight-party-and-Mehrdad’s-silent-entering-构造-二分图染色"><a href="#741C-Arpa’s-overnight-party-and-Mehrdad’s-silent-entering-构造-二分图染色" class="headerlink" title="741C    Arpa’s overnight party and Mehrdad’s silent entering 构造+二分图染色"></a>741C    Arpa’s overnight party and Mehrdad’s silent entering 构造+二分图染色</h1><p>二分图染色吧，，二分图，，一个似懂非懂的知识点，，每次看到像二分图的题就想着那几个经典的解法，，然后发现不是就乱想其他的模型，，，就是不会利用到二分图这个东西的一些知识点，，然后搜就完事了，，，</p><p>这题的题意就是2*n个点，，给出n对关系，，然后要保证这n对关系的点以及相邻的三个点中至少两个是 不同的，，，类似染色，，染成两种颜色，，，</p><p>每次看到二分图的题总是局限到左右两边n个点，，然后求一些匹配等等的东西，，，总是忘记最基本的那些，，</p><p>这题要保证一些点间是不同的，，可以看成不断的染色，，一层1，一层2，，这样子，，，</p><p>对于第二个限制条件，，直接保证相邻的两个点不同就行了，，，</p><p>一条边的两端不同就是解，，</p><p><img src="https://img-blog.csdn.net/20161214222817695?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcnpPX0tRUF9Pcno=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""></p><p>同时这样子建图可以保证形成的环是简单环，，因为显然每一个点只有题目给出的一条边，，还有我们自己建的一条边，，所以度数都是2，，，因此一定是一个二分图，，，也就是一定有解，，</p><p><strong>不存在奇环的图（也就是环都是偶数）一定是二分图</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">4e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e7</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt;<br>&#125;edge[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, head[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].nxt = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-keyword">int</span> col[maxn];<br><span class="hljs-built_in">queue</span>&lt;<span class="hljs-keyword">int</span>&gt; q;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">bfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">while</span>(!q.empty())q.pop();<br>    col[s] = <span class="hljs-number">0</span>;<br>    q.push(s);<br>    <span class="hljs-keyword">while</span>(!q.empty())<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = q.front(); q.pop();<br>        <span class="hljs-keyword">if</span>(vis[u])<span class="hljs-keyword">continue</span>;<br>        vis[u] = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = edge[i].to;<br>            <span class="hljs-keyword">if</span>(vis[v])<span class="hljs-keyword">continue</span>;<br>            col[v] = col[u] ^ <span class="hljs-number">1</span>;<br>            q.push(v);<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; p[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br><br>    <span class="hljs-keyword">int</span> n; <span class="hljs-built_in">cin</span> &gt;&gt; n;<br>    <span class="hljs-keyword">int</span> u, v;<br>    init();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; u &gt;&gt; v;<br>        p[i].first = u; p[i].second = v;<br>        addedge(u, v);<br>        addedge(v, u);<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n - <span class="hljs-number">1</span>; ++i)<br>    &#123;<br>        addedge(i &lt;&lt; <span class="hljs-number">1</span>, i &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>);<br>        addedge(i &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>, i &lt;&lt; <span class="hljs-number">1</span>);<br>    &#125;<br>    addedge(n &lt;&lt; <span class="hljs-number">1</span>, <span class="hljs-number">1</span>);<br>    addedge(<span class="hljs-number">1</span>, n &lt;&lt; <span class="hljs-number">1</span>);<br>    <span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vis);<br>    <span class="hljs-built_in">memset</span>(col, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> col);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">2</span> * n; ++i)<span class="hljs-keyword">if</span>(!vis[i])bfs(i);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">cout</span> &lt;&lt; col[p[i].first] + <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; col[p[i].second] + <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br><br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="567E-President-and-Roads-最短路-DAG必经路"><a href="#567E-President-and-Roads-最短路-DAG必经路" class="headerlink" title="567E    President and Roads 最短路+DAG必经路"></a>567E    President and Roads 最短路+DAG必经路</h1><p><a href="https://codeforces.com/contest/567/problem/E">题目</a></p><p>这题用到的知识点是 <strong>最短路+DAG必经路</strong> ，，，</p><p>必经路是什么呢，，首先单源最短路中有些点是到不了终点的，，有一些点（边）是必须要走的，，而另一些就是多条最短路中不同的分支，，，这些边是可以任意选择一条路径的，，</p><p>求最短路中必经边我找到两种方法，一种是在跑dijkstra时增加一个信息：当前点的最短路的数量，，另一种是将图转为无向图找桥，，</p><h2 id="最短路径数量解法"><a href="#最短路径数量解法" class="headerlink" title="最短路径数量解法"></a>最短路径数量解法</h2><p>我们假设正着求一边最短路的dis为 <code>dis[0][i]</code> ，，而它的反图的dis是 <code>dis[1][i]</code> ，， 利用这两个信息我们可以简单的判断一条边 <code>u-&gt;v</code> 是不是某一个最短路径中的一条边，，判断方法是： <code>dis[0][u] + w + dis[1][v] == dis[0][t]</code> 这里的w即为边权，，满足这个条件就说明这条边是最短路的一条路，，但是，，这并不能也说明他是最短路的一条必经边，，，</p><p>所以我们需要另一个信息： 最短路径数量，，用 <code>num[0][u]</code> 表示正图中从源点到 <code>u</code> 这个点的最短路的路径数量，，，同理对于返图用 <code>num[1][v]</code> 表示</p><p>我们在跑最短路的时候如果当前遍历的边 <code>u-&gt;v</code> 是可以缩小到这个点 <code>v</code> 的最短路的大小的，，那么到这个点 <code>v</code> 的最短路的数量就等于到 <code>u</code> 这个点的最短路的数量，，而对于那些从不同 <code>u</code> 到 <code>v</code> 的路径且最短路大小相同的情况，，累加即可，，，</p><p>当得到这些信息后，，对于任意一条边 <code>u-&gt;v</code> ，，当他满足第一个条件时，，即他是众多最短路方案中的一条边时，，如果满足到 <code>u</code> 的路径数 乘上 到 <code>v</code> 的路径数 敲好等于从原点到终点的最短路的数量时，，，说明这条边一定是必经路，，</p><p>注意： 最短路的路径数可能很多，，爆ll情况，，，所以可以取个模，，但是只取一次模可能 <del>（一定）</del> 被卡掉，，可以换一个不常见的模数，，或者直接双模即可，，</p><h2 id="判桥"><a href="#判桥" class="headerlink" title="判桥"></a>判桥</h2><p>从上面的分析也可以看出，，我们选择出的必经路一定是 <strong>最短路径</strong> 中的桥，，，删去某一座桥，，原点一定不可达终点，，（注意是最短路路径中的边组成的新的无向图中的桥，，用上面的第一个条件判断即可，，</p><p>所以我们可以在跑完正反图的最短路之后，，挑出最短路的边组成一个新图（最短路DAG），，跑一边 tarjan 来求出所有的桥即可，，</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><p>这道题的题意就是一个有向图，，首先判断一条边是不是最短路上的边，，然后对于一定要走的边输出YES，，而不一定非得走的输出一个减少的值，，使得这条边的边权减小后的最短路经过这条边，，，</p><h3 id="最短路路径数解法"><a href="#最短路路径数解法" class="headerlink" title="最短路路径数解法"></a>最短路路径数解法</h3><p>模数是 <code>1e9+7</code> 会冲突，，，换一个或者双模数，，</p><h4 id="单模"><a href="#单模" class="headerlink" title="单模"></a>单模</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e7</span> + <span class="hljs-number">233</span>;<br><span class="hljs-comment">// const int mod = 1e9 + 7;</span><br><span class="hljs-keyword">const</span> ll mod = <span class="hljs-number">258280327</span>;<br> <br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt; ll w;<br>&#125;edge[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, head[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, ll w)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].w = w;<br>    edge[tot].nxt = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">e</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> u, v; ll w;<br>&#125;e[maxn];<br> <br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> v;<br>    ll w;<br>    node()&#123;&#125;;<br>    node(<span class="hljs-keyword">int</span> _v, ll _w):v(_v), w(_w)&#123;&#125;<br>    <span class="hljs-keyword">const</span> <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>&lt;(<span class="hljs-keyword">const</span> node &amp;r)<span class="hljs-keyword">const</span>&#123;<br>        <span class="hljs-keyword">return</span> w &gt; r.w;<br>    &#125;<br>&#125;tmp;<br>ll dis[<span class="hljs-number">2</span>][maxn];<br><span class="hljs-keyword">bool</span> vis[<span class="hljs-number">2</span>][maxn];<br>ll num[<span class="hljs-number">2</span>][maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dijkstra</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> n, <span class="hljs-keyword">int</span> m, <span class="hljs-keyword">bool</span> flag)</span></span><br><span class="hljs-function"></span>&#123;<br>    init();<br>    <span class="hljs-keyword">int</span> u, v; ll w;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>    &#123;<br>        u = e[i].u; v = e[i].v; w = e[i].w;<br>        <span class="hljs-keyword">if</span>(flag)swap(u, v);<br>        addedge(u, v, w);<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)dis[flag][i] = linf;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)vis[flag][i] = <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)num[flag][i] = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">priority_queue</span>&lt;node&gt; p;<br>    <span class="hljs-keyword">while</span>(!p.empty())p.pop();<br>    dis[flag][s] = <span class="hljs-number">0</span>;<br>    num[flag][s] = <span class="hljs-number">1</span>;<br>    p.push(node(s, <span class="hljs-number">0</span>));<br>    <span class="hljs-keyword">while</span>(!p.empty())<br>    &#123;<br>        tmp = p.top(); p.pop();<br>        <span class="hljs-keyword">if</span>(vis[flag][tmp.v])<span class="hljs-keyword">continue</span>;<br>        vis[flag][tmp.v] = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[tmp.v]; ~i; i = edge[i].nxt)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(vis[flag][edge[i].to])<span class="hljs-keyword">continue</span>;<br>            <span class="hljs-keyword">if</span>(dis[flag][edge[i].to] &gt; dis[flag][tmp.v] + edge[i].w)<br>            &#123;<br>                dis[flag][edge[i].to] = dis[flag][tmp.v] + edge[i].w;<br>                num[flag][edge[i].to] = num[flag][tmp.v];<br>                p.push(node(edge[i].to, dis[flag][edge[i].to]));<br>            &#125;<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(dis[flag][edge[i].to] == dis[flag][tmp.v] + edge[i].w)<br>            &#123;<br>                num[flag][edge[i].to] = (num[flag][edge[i].to] + num[flag][tmp.v]) % mod;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br> <br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br> <br>    <span class="hljs-keyword">int</span> n, m, s, t;<br>    <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m &gt;&gt; s &gt;&gt; t;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; e[i].u &gt;&gt; e[i].v &gt;&gt; e[i].w;<br>    dijkstra(t, n, m, <span class="hljs-literal">true</span>);<br>    dijkstra(s, n, m, <span class="hljs-literal">false</span>);<br>    ll mi = dis[<span class="hljs-number">0</span>][t];<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(dis[<span class="hljs-number">0</span>][e[i].u] + e[i].w + dis[<span class="hljs-number">1</span>][e[i].v] == dis[<span class="hljs-number">0</span>][t] &amp;&amp; (num[<span class="hljs-number">0</span>][e[i].u] * num[<span class="hljs-number">1</span>][e[i].v]) % mod == num[<span class="hljs-number">0</span>][t])<br>            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;YES&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(dis[<span class="hljs-number">0</span>][t] - dis[<span class="hljs-number">0</span>][e[i].u] - dis[<span class="hljs-number">1</span>][e[i].v] - <span class="hljs-number">1</span> &gt; <span class="hljs-number">0</span>)<br>            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;CAN &quot;</span> &lt;&lt; e[i].w - (dis[<span class="hljs-number">0</span>][t] - dis[<span class="hljs-number">0</span>][e[i].u] - dis[<span class="hljs-number">1</span>][e[i].v] - <span class="hljs-number">1</span>) &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">else</span><br>            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;NO&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br> <br> <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="双模"><a href="#双模" class="headerlink" title="双模"></a>双模</h3><p>双模比单模都快，，什么情况，，，</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e7</span> + <span class="hljs-number">233</span>;<br><span class="hljs-comment">// const int mod = 1e9 + 7;</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod1 = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod2 = <span class="hljs-number">1e9</span> + <span class="hljs-number">9</span>;<br> <br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt; ll w;<br>&#125;edge[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, head[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, ll w)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].w = w;<br>    edge[tot].nxt = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">e</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> u, v; ll w;<br>&#125;e[maxn];<br> <br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> v;<br>    ll w;<br>    node()&#123;&#125;;<br>    node(<span class="hljs-keyword">int</span> _v, ll _w):v(_v), w(_w)&#123;&#125;<br>    <span class="hljs-keyword">const</span> <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>&lt;(<span class="hljs-keyword">const</span> node &amp;r)<span class="hljs-keyword">const</span>&#123;<br>        <span class="hljs-keyword">return</span> w &gt; r.w;<br>    &#125;<br>&#125;tmp;<br>ll dis[<span class="hljs-number">2</span>][maxn];<br><span class="hljs-keyword">bool</span> vis[<span class="hljs-number">2</span>][maxn];<br>ll num1[<span class="hljs-number">2</span>][maxn];<br>ll num2[<span class="hljs-number">2</span>][maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dijkstra</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> n, <span class="hljs-keyword">int</span> m, <span class="hljs-keyword">bool</span> flag)</span></span><br><span class="hljs-function"></span>&#123;<br>    init();<br>    <span class="hljs-keyword">int</span> u, v; ll w;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>    &#123;<br>        u = e[i].u; v = e[i].v; w = e[i].w;<br>        <span class="hljs-keyword">if</span>(flag)swap(u, v);<br>        addedge(u, v, w);<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)dis[flag][i] = linf;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)vis[flag][i] = <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)num1[flag][i] = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)num2[flag][i] = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">priority_queue</span>&lt;node&gt; p;<br>    <span class="hljs-keyword">while</span>(!p.empty())p.pop();<br>    dis[flag][s] = <span class="hljs-number">0</span>;<br>    num1[flag][s] = num2[flag][s] = <span class="hljs-number">1</span>;<br>    p.push(node(s, <span class="hljs-number">0</span>));<br>    <span class="hljs-keyword">while</span>(!p.empty())<br>    &#123;<br>        tmp = p.top(); p.pop();<br>        <span class="hljs-keyword">if</span>(vis[flag][tmp.v])<span class="hljs-keyword">continue</span>;<br>        vis[flag][tmp.v] = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[tmp.v]; ~i; i = edge[i].nxt)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(vis[flag][edge[i].to])<span class="hljs-keyword">continue</span>;<br>            <span class="hljs-keyword">if</span>(dis[flag][edge[i].to] &gt; dis[flag][tmp.v] + edge[i].w)<br>            &#123;<br>                dis[flag][edge[i].to] = dis[flag][tmp.v] + edge[i].w;<br>                num1[flag][edge[i].to] = num1[flag][tmp.v];<br>                num2[flag][edge[i].to] = num2[flag][tmp.v];<br>                p.push(node(edge[i].to, dis[flag][edge[i].to]));<br>            &#125;<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(dis[flag][edge[i].to] == dis[flag][tmp.v] + edge[i].w)<br>            &#123;<br>                num1[flag][edge[i].to] = (num1[flag][edge[i].to] + num1[flag][tmp.v]) % mod1;<br>                num2[flag][edge[i].to] = (num2[flag][edge[i].to] + num2[flag][tmp.v]) % mod2;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br> <br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br> <br>    <span class="hljs-keyword">int</span> n, m, s, t;<br>    <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m &gt;&gt; s &gt;&gt; t;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; e[i].u &gt;&gt; e[i].v &gt;&gt; e[i].w;<br>    dijkstra(t, n, m, <span class="hljs-literal">true</span>);<br>    dijkstra(s, n, m, <span class="hljs-literal">false</span>);<br>    ll mi = dis[<span class="hljs-number">0</span>][t];<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(dis[<span class="hljs-number">0</span>][e[i].u] + e[i].w + dis[<span class="hljs-number">1</span>][e[i].v] == dis[<span class="hljs-number">0</span>][t] &amp;&amp;<br>         (num1[<span class="hljs-number">0</span>][e[i].u] * num1[<span class="hljs-number">1</span>][e[i].v]) % mod1 == num1[<span class="hljs-number">0</span>][t] &amp;&amp;<br>         (num2[<span class="hljs-number">0</span>][e[i].u] * num2[<span class="hljs-number">1</span>][e[i].v]) % mod2 == num2[<span class="hljs-number">0</span>][t])<br>            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;YES&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(dis[<span class="hljs-number">0</span>][t] - dis[<span class="hljs-number">0</span>][e[i].u] - dis[<span class="hljs-number">1</span>][e[i].v] - <span class="hljs-number">1</span> &gt; <span class="hljs-number">0</span>)<br>            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;CAN &quot;</span> &lt;&lt; e[i].w - (dis[<span class="hljs-number">0</span>][t] - dis[<span class="hljs-number">0</span>][e[i].u] - dis[<span class="hljs-number">1</span>][e[i].v] - <span class="hljs-number">1</span>) &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">else</span><br>            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;NO&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br> <br> <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="求桥"><a href="#求桥" class="headerlink" title="求桥"></a>求桥</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e7</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt; ll w;<br>&#125;edge[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, head[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, ll w)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].w = w;<br>    edge[tot].nxt = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">e</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> u, v; ll w;<br>&#125;e[maxn];<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> v;<br>    ll w;<br>    node()&#123;&#125;;<br>    node(<span class="hljs-keyword">int</span> _v, ll _w):v(_v), w(_w)&#123;&#125;<br>    <span class="hljs-keyword">const</span> <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>&lt;(<span class="hljs-keyword">const</span> node &amp;r)<span class="hljs-keyword">const</span>&#123;<br>        <span class="hljs-keyword">return</span> w &gt; r.w;<br>    &#125;<br>&#125;tmp;<br>ll dis[<span class="hljs-number">2</span>][maxn];<br><span class="hljs-keyword">bool</span> vis[<span class="hljs-number">2</span>][maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dijkstra</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> n, <span class="hljs-keyword">int</span> m, <span class="hljs-keyword">bool</span> flag)</span></span><br><span class="hljs-function"></span>&#123;<br>    init();<br>    <span class="hljs-keyword">int</span> u, v; ll w;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>    &#123;<br>        u = e[i].u; v = e[i].v; w = e[i].w;<br>        <span class="hljs-keyword">if</span>(flag)swap(u, v);<br>        addedge(u, v, w);<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)dis[flag][i] = linf;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)vis[flag][i] = <span class="hljs-literal">false</span>;<br>    <span class="hljs-built_in">priority_queue</span>&lt;node&gt; p;<br>    <span class="hljs-keyword">while</span>(!p.empty())p.pop();<br>    dis[flag][s] = <span class="hljs-number">0</span>;<br>    p.push(node(s, <span class="hljs-number">0</span>));<br>    <span class="hljs-keyword">while</span>(!p.empty())<br>    &#123;<br>        tmp = p.top(); p.pop();<br>        <span class="hljs-keyword">if</span>(vis[flag][tmp.v])<span class="hljs-keyword">continue</span>;<br>        vis[flag][tmp.v] = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[tmp.v]; ~i; i = edge[i].nxt)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(vis[flag][edge[i].to])<span class="hljs-keyword">continue</span>;<br>            <span class="hljs-keyword">if</span>(dis[flag][edge[i].to] &gt; dis[flag][tmp.v] + edge[i].w)<br>            &#123;<br>                dis[flag][edge[i].to] = dis[flag][tmp.v] + edge[i].w;<br>                p.push(node(edge[i].to, dis[flag][edge[i].to]));<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// get bridges</span><br><span class="hljs-built_in">map</span>&lt;ll, <span class="hljs-keyword">bool</span>&gt; bridges;<br><br><span class="hljs-comment">// 无向图求桥</span><br><span class="hljs-keyword">bool</span> vist[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> low[maxn], dfn[maxn], idx;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">tarjan</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span><br><span class="hljs-function"></span>&#123;<br>    low[u] = dfn[u] = ++idx;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>    &#123;<br>        <span class="hljs-keyword">int</span> v = edge[i].to;<br>        <span class="hljs-keyword">if</span>(vist[i])<span class="hljs-keyword">continue</span>;        <span class="hljs-comment">// 走过的边不再走</span><br>        vist[i] = vist[i ^ <span class="hljs-number">1</span>] = <span class="hljs-literal">true</span>;   <span class="hljs-comment">// 标记边已走过</span><br>        <span class="hljs-keyword">if</span>(!dfn[v])<br>        &#123;<br>            tarjan(v);<br>            low[u] = min(low[u], low[v]);<br>            <span class="hljs-keyword">if</span>(dfn[u] &lt; low[v])bridges[u * maxn + v] = <span class="hljs-literal">true</span>;    <span class="hljs-comment">// 桥</span><br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(low[u] &gt; dfn[v])<br>            low[u] = dfn[v];<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br><br>    <span class="hljs-keyword">int</span> n, m, s, t;<br>    <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m &gt;&gt; s &gt;&gt; t;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; e[i].u &gt;&gt; e[i].v &gt;&gt; e[i].w;<br>    dijkstra(t, n, m, <span class="hljs-literal">true</span>);<br>    dijkstra(s, n, m, <span class="hljs-literal">false</span>);<br>    <span class="hljs-comment">// for(int i = 1; i &lt;= m; ++i)addedge(e[i].v, e[i].u, e[i].w);</span><br>    init();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>        <span class="hljs-keyword">if</span>(dis[<span class="hljs-number">0</span>][e[i].u] + e[i].w + dis[<span class="hljs-number">1</span>][e[i].v] == dis[<span class="hljs-number">0</span>][t])<br>            addedge(e[i].u, e[i].v, i), addedge(e[i].v, e[i].u, i);<br>    <span class="hljs-built_in">memset</span>(low, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> low);<br>    <span class="hljs-built_in">memset</span>(dfn, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> dfn);<br>    <span class="hljs-built_in">memset</span>(vist, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vist);<br>    idx = <span class="hljs-number">0</span>; bridges.clear();<br>    tarjan(s);<br>    ll mi = dis[<span class="hljs-number">0</span>][t];<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(dis[<span class="hljs-number">0</span>][e[i].u] + e[i].w + dis[<span class="hljs-number">1</span>][e[i].v] == dis[<span class="hljs-number">0</span>][t] &amp;&amp; bridges[e[i].u * maxn + e[i].v])<br>            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;YES&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(dis[<span class="hljs-number">0</span>][t] - dis[<span class="hljs-number">0</span>][e[i].u] - dis[<span class="hljs-number">1</span>][e[i].v] - <span class="hljs-number">1</span> &gt; <span class="hljs-number">0</span>)<br>            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;CAN &quot;</span> &lt;&lt; e[i].w - (dis[<span class="hljs-number">0</span>][t] - dis[<span class="hljs-number">0</span>][e[i].u] - dis[<span class="hljs-number">1</span>][e[i].v] - <span class="hljs-number">1</span>) &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">else</span><br>            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;NO&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br><br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><a href="https://codeforces.com/gym/101986/attachments">这道题也是这个类型的</a></p><p><a href="https://blog.csdn.net/u010372095/article/details/47346035">tarjan求桥的写法部分参考这个</a> kuangbin的求得东西多，，对于这道题有点繁琐，，</p><p><a href="https://blog.csdn.net/qq_41848675/article/details/100583051">在理解最短路径数时参考了这个</a></p><h1 id="527E-Data-Center-Drama-欧拉回路-弧优化"><a href="#527E-Data-Center-Drama-欧拉回路-弧优化" class="headerlink" title="527E Data Center Drama 欧拉回路+弧优化"></a>527E Data Center Drama 欧拉回路+弧优化</h1><p><del>（哇，，被这题搞得失去理智好久，，（主要是那个弧优化</del></p><p>题意就是预先给你一个无向图，，增加最少的边，，然后对每一条边指定一个方向 <del>（就是变成有向边）</del> 使得每一个点的出度和入度都是偶数，，</p><p>如果一个图是欧拉回路的话，，我们只要一奇一偶的确定方向就行了，，而如何加边就是两两的将奇度的点连起来，，对于最后如果剩下一个奇度点的话就加一个自环，，（也就是边数为奇数的情况，，</p><p>最后跑一边dfs，，找出所有的回路即可，，</p><p>但是这题边数很多，，直接dfs的话会有多次回溯访问重复边，，所以要删边，，也就是没走过一条边就使后面不会再访问： <code>for(int &amp;i = head[u]; ~i; i = edge[i].nxt)</code> ，，但是这样会有一问题，，如果某个点 <code>u</code> 经过好多次后不能再走，，这个点的所有边的 <code>edge[i].nxt</code> 都为-1了也就是说 <code>head[u] == -1</code> 了，，也就是说此时的 <code>i</code> 的值在dfs完后被修改成了 <code>-1</code> ，，这个时候进行 <code>i</code> 值的更新就成了 <code>i=edge[i == -1].nxt</code> ，，如果edge数组和编译器友好的话这时也不会报错，，也能正常的取上界溢出的值，，可能是0，，然后 <code>i==0</code> 就从这点访问第一条边去了，，，但实际上这个点是不能再走的（因为前面的dfs已经保证都走完了不能再走了，，），，应该是回退到上一层dfs的，，这样子就成了 跳到第一条边dfs，，，这样子如果在dfs中记录访问的边的话就会出错，，，<code>u-&gt;v</code> 中的 <code>v</code> 被改变了，，</p><p>我的解决的方法是每一次从上一层的dfs跳出的时候判断一下i是否为-1，，，是的话表示这个点是无边可走的跳出即可，，，</p><p>看到很多人没有管这个问题，，都是记录的回路的编号，，这样虽然可以保证不管dfs中的变化而结果是对的，，但是总感觉发现问题不解决以后会出大事，，，</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e7</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt;<br>    <span class="hljs-keyword">bool</span> flag;<br>&#125;edge[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, head[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].flag = <span class="hljs-literal">false</span>;<br>    edge[tot].nxt = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; &gt; ans;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> &amp;i = head[u]; ~i; i = edge[i].nxt)<br>    &#123;<br>        <span class="hljs-keyword">int</span> v = edge[i].to;<br>        <span class="hljs-keyword">if</span>(edge[i].flag)<span class="hljs-keyword">continue</span>;<br>        edge[i].flag = edge[i ^ <span class="hljs-number">1</span>].flag = <span class="hljs-literal">true</span>;<br>        dfs(v);<br>        ans.push_back(<span class="hljs-built_in">make_pair</span>(u, v));<br>        <span class="hljs-keyword">if</span>(!~i)<span class="hljs-keyword">break</span>;<br>    &#125;<br>&#125;<br><span class="hljs-keyword">int</span> du[maxn];<br><br><span class="hljs-built_in">priority_queue</span>&lt;<span class="hljs-keyword">int</span>&gt; p;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br><br>    <span class="hljs-keyword">int</span> n, m; <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m;<br>    init();<br>    <span class="hljs-built_in">memset</span>(du, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> du);<br>    <span class="hljs-keyword">int</span> u, v;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; u &gt;&gt; v;<br>        ++du[u]; ++du[v];<br>        addedge(u, v);<br>        addedge(v, u);<br>    &#125;<br>    <span class="hljs-keyword">while</span>(!p.empty())p.pop();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-keyword">if</span>(du[i] &amp; <span class="hljs-number">1</span>)p.push(i);<br>    <span class="hljs-keyword">while</span>(!p.empty())<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = p.top(); p.pop();<br>        <span class="hljs-keyword">if</span>(p.empty())<span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">int</span> v = p.top(); p.pop();<br>        addedge(u, v); addedge(v, u);<br>    &#125;<br>    <span class="hljs-keyword">if</span>(tot &gt;&gt; <span class="hljs-number">1</span> &amp; <span class="hljs-number">1</span>)addedge(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>), addedge(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>);<br>    ans.clear();<br>    dfs(<span class="hljs-number">1</span>);<br>    <span class="hljs-built_in">cout</span> &lt;&lt; ans.size() &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; ans.size(); ++i)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(i &amp; <span class="hljs-number">1</span>)<span class="hljs-built_in">cout</span> &lt;&lt; ans[i].second &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; ans[i].first &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">else</span> <span class="hljs-built_in">cout</span> &lt;&lt; ans[i].first &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; ans[i].second &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br>    <br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="1147D-Palindrome-XOR-限制关系建图找方案数"><a href="#1147D-Palindrome-XOR-限制关系建图找方案数" class="headerlink" title="1147D Palindrome XOR 限制关系建图找方案数"></a>1147D Palindrome XOR 限制关系建图找方案数</h1><p>这题有点差分约束和2sat的感觉，，但是又不像那两个模型的解决方法，，</p><p>首先b二进制表示一定是和s一样长的，长度为n，，然后我们对a的长度m进行枚举，，建图进行判断是否有解，并累加解的数量，，</p><p>建 <code>n + m + 2</code> 个点，，前面两个表示对应每一位的情况，，后面俩个一个是 <code>0点</code> , 另一个是 <code>1点</code> ，，，并且规定又两种边，，<code>0边</code> 表示 <code>u-&gt;v</code> 的两点是相同的，，反之，， <code>1边</code> 表示是不同的，，这样子建图就能保证 <code>0边</code> 的两点异或一定是0，，后者是1，，，显然对于a的m位用对应的s来判断以下连边就行了，，，这是一种限制关系，，</p><p>另一种是一些确定的限制关系，，比如说对于a、b来说首位一定是1，，和a对应时有一些空出位的情况也一定是确定的，，这种情况我们对应连 <code>0点</code> 和 <code>1点</code> ，，，</p><p>这样建图可以看出一旦一个点的取值确定，，那么与之相连的一个联通块的取值情况也是确定的（根据当前点的情况和边的类型），，也就是一个联通块的取值情况只有两种，，，根据乘法原理就可以知道m的一种取值是的方案数是 $2^C$ ，，但是因为和 <code>0点</code> 和 <code>1点</code> 的取值是确定的，，所以这些连通块是不算的，，最后的答案就是 $2^{C-1}$ ，，，同时，，如果一个联通块根据边的限制关系约束下是不满足的，，说明这种取值下的m是无解的，为零，，，</p><p>整个过程就是一个根据边的限制关系来染色，，并判断是否有解，，</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e7</span> + <span class="hljs-number">233</span>;<br><span class="hljs-comment">// const int mod = 1e9 + 7;</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">998244353</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt, w;<br>&#125;edge[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, head[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> w)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].w = w;<br>    edge[tot].nxt = head[u];<br>    head[u] = tot++;<br><br>    edge[tot].to = u;<br>    edge[tot].w = w;<br>    edge[tot].nxt = head[v];<br>    head[v] = tot++;<br>&#125;<br><span class="hljs-keyword">int</span> col[maxn];<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> w)</span></span><br><span class="hljs-function"></span>&#123;<br>    col[u] = w;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>    &#123;<br>        <span class="hljs-keyword">int</span> v = edge[i].to;<br>        <span class="hljs-keyword">if</span>(col[v] != <span class="hljs-number">-1</span>)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(col[v] != (edge[i].w ^ w))<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(!dfs(v, edge[i].w ^ w))<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-function">ll <span class="hljs-title">pow_</span><span class="hljs-params">(ll a, ll b)</span></span><br><span class="hljs-function"></span>&#123;<br>    ll ret = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span>(b)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(b &amp; <span class="hljs-number">1</span>)ret = ret * a % mod;<br>        a = a * a % mod;<br>        b &gt;&gt;= <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> ret;<br>&#125;<br><span class="hljs-keyword">char</span> s[<span class="hljs-number">1005</span>];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br><br>    <span class="hljs-built_in">cin</span> &gt;&gt; (s + <span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">int</span> n = <span class="hljs-built_in">strlen</span>(s + <span class="hljs-number">1</span>);reverse(s + <span class="hljs-number">1</span>, s + <span class="hljs-number">1</span> + n);<br>    <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> m = <span class="hljs-number">1</span>; m &lt;= n - <span class="hljs-number">1</span>; ++m)<br>    &#123;<br>        init();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n / <span class="hljs-number">2</span>; ++i)addedge(i, n - i + <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m / <span class="hljs-number">2</span>; ++i)addedge(n + i, n + m - i + <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<br>        addedge(n + <span class="hljs-number">1</span>, n + n + <span class="hljs-number">2</span>, <span class="hljs-number">0</span>); addedge(n + <span class="hljs-number">1</span>, n + m + <span class="hljs-number">1</span>, <span class="hljs-number">1</span>);<br>        addedge(n + m, n + n + <span class="hljs-number">2</span>, <span class="hljs-number">0</span>); addedge(n + m, n + m + <span class="hljs-number">1</span>, <span class="hljs-number">1</span>);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>            <span class="hljs-keyword">if</span>(s[i] == <span class="hljs-string">&#x27;1&#x27;</span>)addedge(i, n + i, <span class="hljs-number">1</span>);<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(s[i] == <span class="hljs-string">&#x27;0&#x27;</span>)addedge(i, n + i, <span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = m + <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            <span class="hljs-keyword">if</span>(s[i] == <span class="hljs-string">&#x27;1&#x27;</span>)addedge(i, n + m + <span class="hljs-number">2</span>, <span class="hljs-number">0</span>), addedge(i, n + m + <span class="hljs-number">1</span>, <span class="hljs-number">1</span>);<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(s[i] == <span class="hljs-string">&#x27;0&#x27;</span>)addedge(i, n + m + <span class="hljs-number">1</span>, <span class="hljs-number">0</span>), addedge(i, n + m + <span class="hljs-number">2</span>, <span class="hljs-number">1</span>);<br>        <span class="hljs-built_in">memset</span>(col, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> col);<br>        <span class="hljs-keyword">int</span> c = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n + m + <span class="hljs-number">2</span>; ++i)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(col[i] == <span class="hljs-number">-1</span>)<br>            &#123;<br>                <span class="hljs-keyword">if</span>(dfs(i, <span class="hljs-number">0</span>))++c;<br>                <span class="hljs-keyword">else</span> <br>                &#123;<br>                    c = <span class="hljs-number">0</span>;<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(c)ans = (ans + pow_(<span class="hljs-number">2</span>, c - <span class="hljs-number">1</span>)) % mod;<br>    &#125;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="hljs-built_in">endl</span>;<br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id=""><a href="#" class="headerlink" title=" "></a> </h1>]]></content>
    
    
    <summary type="html">&lt;p&gt;自称是一个图论选手，，&lt;del&gt;（但是到头来只是一个板子王&lt;/del&gt;，，，稍微变一变的图论题就不怎么会解决了，，，所以决定刷一段时间的图论题，，&lt;/p&gt;</summary>
    
    
    
    <category term="Codeforces" scheme="http://blog.31415x.cf/categories/Codeforces/"/>
    
    
    <category term="ACM" scheme="http://blog.31415x.cf/tags/ACM/"/>
    
    <category term="刷题" scheme="http://blog.31415x.cf/tags/%E5%88%B7%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>cf-786B区间图最短路</title>
    <link href="http://blog.31415x.cf/2019/09/29/cf-786B%E5%8C%BA%E9%97%B4%E5%9B%BE%E6%9C%80%E7%9F%AD%E8%B7%AF/"/>
    <id>http://blog.31415x.cf/2019/09/29/cf-786B%E5%8C%BA%E9%97%B4%E5%9B%BE%E6%9C%80%E7%9F%AD%E8%B7%AF/</id>
    <published>2019-09-29T07:54:30.000Z</published>
    <updated>2019-10-25T11:33:20.743Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>偶然看到的这个东西，可以说是第一次见到图论+数据结构的题了，，<a href="https://codeforces.com/problemset/problem/786/B">这题</a>代码很简单，细节处理一下就没啥了，，，主要是一步一步的思路的推导很不错，，</p><span id="more"></span><h1 id="cf-786-Legacy"><a href="#cf-786-Legacy" class="headerlink" title="cf-786 Legacy"></a><a href="https://codeforces.com/problemset/problem/786/B">cf-786 Legacy</a></h1><p><a href="https://codeforces.com/problemset/problem/786/B">cf-786 Legacy</a></p><p>以前做过的图论题就只是图论题，从来没想过和数据结构-线段树扯上关系，，</p><p>这题也算是一个经典的例题了吧，，应该就是那种知道的做过的就会做出来的类型，，</p><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>题意很简单，就是一个简单的图，，给出一些建图的方式，，但是，和以往不同的是，以前的边的关系给的都是点与点间的关系，，这种题给的方式是区间，，比如说 <code>u-&gt;[l, r]</code> 表示的就是u和这个区间的所有点间都有一条边，，因为一个点也可以看成一个只有自己的区间，，所以我们可以将这类关系统一看成 $[l_1, r_1]-&gt;[l_2, r_2]$ ，，</p><p>容易想到的方法就是直接两个 for 上去，，建出每一条边，，数据很小的时候没问题，，，但是当n 很大时，，显然建图的复杂度可能就是 $O(n^2m)$ 这样不管求最短路就炸了，，，</p><p>一种优化的方法是我们在这两个区间之间加一个点，，这样前面的区间（成为出区间）和后面的一个区间（称为入区间）都和这个点 $p$ 连，，也就是 $\forall u \in [l_1, r_1]: addedge(u, p, w)$ 而 $\forall v \in [l_2, r_2]: addedge(p, v, 0)$ （ $[l_1, r_1]-_u&gt;p-_0&gt;[l_2, r_2]$ ） 这样子就可以降一维的建图，，复杂度就是 $O(2nm)$ ，，但是这样还是很高，，</p><p>这时的建图是线性的建图方式，，线性+区间==线段树？？！！，，这是我做这道题学习到的最有价值的一个处理方式，，在降了一维之后，虽然是线性的建图，，但是点还是很多，，而线段树恰好可以用很少的子区间来表示原来的区间，，，如果将线段树中的每一个表示的区间看成一个点，，那么我们就可以用很少的点来建图，，，这样就可以将上面的n次的建图降下去，，，</p><p>那么这时的问题就变成了该如何利用线段树来处理，，</p><p>我们需要两棵线段树，，一棵看成 <strong>入树</strong> 另一棵看成 <strong>出树</strong> ，，</p><p><img src="https://img-blog.csdn.net/20170723135435553" alt=""></p><p>首先我们的目的是用少量的区间来表示原来的很大的区间，以达到用很少的点来表示原来的所有点，，优化的问题用线段树解决了，，但是，如何正确的表示原来的所有点呢，，，</p><p>线段树的每一个节点表示一个区间，，这个节点可以表示他下面的所有点，，也就是说，，我们可以从上向下的看，，定义选择了一个节点，，就选择了下面的所有点，，，按照这个思想，入树中的一个节点要向其儿子连一条指向儿子的有向边，，也就是说，，入树中所有的边指向下，，用 <code>down</code> 表示</p><p>同理，，对于出树，，我们要保证在一个节点要能表示所有的点，，于是就是一个节点下的所有节点都要指向它，，，这样看这棵树就是一个向上的树，，用 <code>up</code> 表示，，</p><p>这个样子的：</p><p><img src="https://img-blog.csdn.net/20170723140149120" alt=""></p><p>这样最后在这样初始图加上题目给的一些条件的边跑一边最短路就可以了，，</p><p>加上题目的边后的图大致是这样的：</p><p><img src="https://img-blog.csdn.net/20170723141642088" alt=""></p><p>实际上，，这里的线段树的作用只是一个建树和查询其子区间的作用，，这个思想有点像是分块，，，只要能找到一个合理的区间分块，，用一些合理的、数量少的区间表示原来的区间，，就能达到减少点数的作用，，，，而线段树恰好是一个熟悉的、好操作的区间划分模型，，所以很多人都对于 区间图的最短路问题都是套一个线段树的板子，，</p><p>回到这道题，，题目的加边方式只有 点对区间 和 区间对点 两种，，所以我们可以先预留出那n个点，，可以想象成放在这两棵树之间的一排点（不用再将两棵树的叶子节点相连，，），，，</p><p>然后再处理出出树、入树的边后，，对于 <code>u-&gt;[l, r]</code> 和 <code>u-&gt;v</code> 的边，，从点 <code>u</code> 向入树的符合条件的节点连边即可，，因为之前说的入树保证了每一个节点是可以到其下面的叶子节点的，，所以我们这样连边就相当于是点 <code>u</code> 向区间的每一个点连边，，，</p><p>同理对于 <code>[l, r]-&gt;u</code> 这样的边，，我们将入树的对应的节点和点 <code>u</code> 相连，，这样就保证入树中这个区间下的叶子节点可以通过这些区间到点 <code>u</code> ，，这样也满足了题意的同时减少的连边的复杂度，，，</p><p>最后跑最短路，，前n个点的 <code>dis[i]</code> 即为源图的那些点的最短路，，，</p><p>于是我们通过加点减边的方式减小了建图的时间复杂度，，</p><p>关于处理出树、入树的操作，，也就是线段树的建树过程，，其实线段树并不维护任何信息，，我们只是用它自己每个节点表示一个区间这个自身的性质，，所以为了建图，，，我们需要对每一个节点连一些边，，，也就是用一个 <code>id[rt]</code> 标记一下每一个节点的标号即可，，，</p><h2 id="最后的代码："><a href="#最后的代码：" class="headerlink" title="最后的代码："></a>最后的代码：</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e7</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Dijkstra</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">    &#123;</span><br>        <span class="hljs-keyword">int</span> to, nxt; ll w;<br>    &#125;edge[maxm];<br>    <span class="hljs-keyword">int</span> tot, head[maxm];<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function">    </span>&#123;<br>        tot = <span class="hljs-number">0</span>;<br>        <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, ll w)</span></span><br><span class="hljs-function">    </span>&#123;<br>        edge[tot].to = v;<br>        edge[tot].w = w;<br>        edge[tot].nxt = head[u];<br>        head[u] = tot++;<br>    &#125;<br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">    &#123;</span><br>        <span class="hljs-keyword">int</span> v; ll w;<br>        node()&#123;&#125;<br>        node(<span class="hljs-keyword">int</span> _v, ll _w):v(_v), w(_w)&#123;&#125;<br>        <span class="hljs-keyword">const</span> <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>&lt;(<span class="hljs-keyword">const</span> node &amp;r)<span class="hljs-keyword">const</span><br>        &#123;<br>            <span class="hljs-keyword">return</span> w &gt; r.w;<br>        &#125;        <br>    &#125;;<br>    <span class="hljs-keyword">bool</span> vis[maxn];<br>    ll dis[maxn];<br>    <span class="hljs-built_in">priority_queue</span>&lt;node&gt; pq;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dijkstra</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vis);<br>        <span class="hljs-built_in">memset</span>(dis, inf, <span class="hljs-keyword">sizeof</span> dis);<br>        <span class="hljs-keyword">while</span>(!pq.empty())pq.pop();<br>        pq.push(node(s, <span class="hljs-number">0</span>));<br>        dis[s] = <span class="hljs-number">0</span>;<br>        node t;<br>        <span class="hljs-keyword">int</span> u;<br>        <span class="hljs-keyword">while</span>(!pq.empty())<br>        &#123;<br>            t = pq.top(); pq.pop();<br>            u = t.v;<br>            <span class="hljs-keyword">if</span>(vis[u])<span class="hljs-keyword">continue</span>;<br>            vis[u] = <span class="hljs-literal">true</span>;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>            &#123;<br>                <span class="hljs-keyword">int</span> v = edge[i].to;<br>                ll w = edge[i].w;<br>                <span class="hljs-keyword">if</span>(dis[v] &gt; t.w + w)<br>                &#123;<br>                    dis[v] = t.w + w;<br>                    pq.push(node(v, dis[v]));<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">print</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">cout</span> &lt;&lt; (dis[i] == linf ? <span class="hljs-number">-1</span> : dis[i]) &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br>&#125;dijkstra;<br><br><span class="hljs-keyword">int</span> cnt;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">segmentTree</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> id[maxn];           <span class="hljs-comment">// 节点标记数组，，记录线段树中每一个节点的标号，，从 n+1 开始，，前面的n个是原来的点</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">build</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r, <span class="hljs-keyword">bool</span> flag)</span>     <span class="hljs-comment">// 建树（建图，，flag == false 表示是一棵入树，边向下，节点指向儿子</span></span><br><span class="hljs-function">    </span>&#123;<br>        id[rt] = ++cnt;<br>        <span class="hljs-keyword">if</span>(l == r)<br>        &#123;<br>            <span class="hljs-keyword">int</span> u = id[rt];<br>            <span class="hljs-keyword">int</span> v = l;<br>            <span class="hljs-keyword">if</span>(flag)swap(u, v);<br>            dijkstra.addedge(u, v, <span class="hljs-number">0</span>);<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br>        <span class="hljs-keyword">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>        build(rt &lt;&lt; <span class="hljs-number">1</span>, l, mid, flag);<br>        build(rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>, mid + <span class="hljs-number">1</span>, r, flag);<br>        <span class="hljs-comment">// pushup</span><br>        <span class="hljs-keyword">int</span> u = id[rt];<br>        <span class="hljs-keyword">int</span> v = id[rt &lt;&lt; <span class="hljs-number">1</span>];<br>        <span class="hljs-keyword">if</span>(flag)swap(u, v);<br>        dijkstra.addedge(u, v, <span class="hljs-number">0</span>);<br>        u = id[rt];<br>        v = id[rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>];<br>        <span class="hljs-keyword">if</span>(flag)swap(u, v);<br>        dijkstra.addedge(u, v, <span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r, <span class="hljs-keyword">int</span> U, <span class="hljs-keyword">int</span> L, <span class="hljs-keyword">int</span> R, ll w, <span class="hljs-keyword">bool</span> flag)</span>    <span class="hljs-comment">// flag == false 表示 u-&gt;[l, r] ，，</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">if</span>(l &gt; R || L &gt; r)<span class="hljs-keyword">return</span>;<br>        <span class="hljs-keyword">if</span>(L &lt;= l &amp;&amp; r &lt;= R)<br>        &#123;<br>            <span class="hljs-keyword">int</span> u = U;<br>            <span class="hljs-keyword">int</span> v = id[rt];<br>            <span class="hljs-keyword">if</span>(flag)swap(u, v);<br>            dijkstra.addedge(u, v, w);<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br>        <span class="hljs-keyword">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span>(L &lt;= mid)addedge(rt &lt;&lt; <span class="hljs-number">1</span>, l, mid, U, L, R, w, flag);<br>        <span class="hljs-keyword">if</span>(R &gt;  mid)addedge(rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>, mid + <span class="hljs-number">1</span>, r, U, L, R, w, flag);<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>&#125;down, up;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br><br>    <span class="hljs-keyword">int</span> n, q, s;<br>    <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; q &gt;&gt; s;<br>    cnt = n;                <span class="hljs-comment">// 出树、入树等的辅助点的标记从n+1开始</span><br>    dijkstra.init();<br>    down.build(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, n, <span class="hljs-literal">false</span>);<br>    up.build(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, n, <span class="hljs-literal">true</span>);<br>    <span class="hljs-keyword">int</span> t, u, v, w, l, r;<br>    <span class="hljs-keyword">while</span>(q--)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; t;<br>        <span class="hljs-keyword">if</span>(t == <span class="hljs-number">1</span>)<br>        &#123;<br>            <span class="hljs-built_in">cin</span> &gt;&gt; u &gt;&gt; v &gt;&gt; w;<br>            l = r = v;<br>            t = <span class="hljs-number">2</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span> <br>            <span class="hljs-built_in">cin</span> &gt;&gt; u &gt;&gt; l &gt;&gt; r &gt;&gt; w;<br>        <br>        <span class="hljs-keyword">if</span>(t == <span class="hljs-number">2</span>)<br>            down.addedge(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, n, u, l, r, w, <span class="hljs-literal">false</span>);   <span class="hljs-comment">// u -&gt; [l, r]</span><br>        <span class="hljs-keyword">else</span><br>            up.addedge(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, n, u, l, r, w, <span class="hljs-literal">true</span>);      <span class="hljs-comment">// [l, r] -&gt; u</span><br>    &#125;<br>    dijkstra.dijkstra(s, cnt);<br>    dijkstra.print(n);<br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><a href="https://blog.csdn.net/linkfqy/article/details/75907444">以上的一些内容和图片参考这个dalao的博客</a></p><p><a href="https://github.com/4thcalabash/ACM-Code-Library/blob/master/Graph/Dijkstra_interval_graph.cpp">最后的AC代码的大致思路是参考葫芦爷大佬的板子</a></p><h1 id="hdu-5361In-Touch"><a href="#hdu-5361In-Touch" class="headerlink" title="hdu-5361In Touch"></a><a href="http://acm.hdu.edu.cn/showproblem.php?pid=5361">hdu-5361In Touch</a></h1><p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=5361">hdu-5361In Touch</a></p><p>差不多的题，，貌似解法有很多，，如果用这种方法来解的话，，只用一棵入树就行了，，，还有可能得改一改写的姿势，，，<del>（重载w爆int一晚上没看出来的怕不是只有我一个了吧，，，emmmm</del></p><h2 id="AC-1"><a href="#AC-1" class="headerlink" title="AC_1"></a>AC_1</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-comment">// #include &lt;iostream&gt;</span><br><span class="hljs-comment">// #include &lt;queue&gt;</span><br><span class="hljs-comment">// #include &lt;cstring&gt;</span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e7</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">int</span> <span class="hljs-title">read</span><span class="hljs-params">()</span>   <span class="hljs-comment">//快读</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> ans=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">char</span> ch=getchar();<br>    <span class="hljs-keyword">while</span>(!<span class="hljs-built_in">isdigit</span>(ch))<br>        ch=getchar();<br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">isdigit</span>(ch))<br>        ans=(ans&lt;&lt;<span class="hljs-number">3</span>)+(ans&lt;&lt;<span class="hljs-number">1</span>)+(ch^<span class="hljs-number">48</span>),ch=getchar();<br>    <span class="hljs-keyword">return</span> ans;<br>&#125;<br><span class="hljs-keyword">int</span> n;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt;<br>    ll w;<br>&#125;edge[maxm];<br><span class="hljs-keyword">int</span> tot, head[maxn &lt;&lt; <span class="hljs-number">3</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)head[i] = <span class="hljs-number">-1</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">ADDEDGE</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, ll w)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].w = w;<br>    edge[tot].nxt = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> v; <br>    ll w;<br>    node()&#123;&#125;;<br>    node(<span class="hljs-keyword">int</span> _v, ll _w): v(_v), w(_w)&#123;&#125;;<br>    <span class="hljs-keyword">const</span> <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>&lt;(<span class="hljs-keyword">const</span> node &amp;r)<span class="hljs-keyword">const</span>&#123;<br>        <span class="hljs-keyword">return</span> w &gt; r.w;<br>    &#125;<br>&#125;tmp;<br><span class="hljs-keyword">bool</span> vis[maxn &lt;&lt; <span class="hljs-number">3</span>];<br>ll dis[maxn &lt;&lt; <span class="hljs-number">3</span>];<br><span class="hljs-built_in">priority_queue</span>&lt;node&gt; pq;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dijkstra</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)dis[i] = linf;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)vis[i] = <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">while</span>(!pq.empty())pq.pop();<br>    pq.push(node(s, <span class="hljs-number">0</span>));<br>    dis[s] = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span>(!pq.empty())<br>    &#123;<br>        tmp = pq.top(); pq.pop();<br>        <span class="hljs-keyword">if</span>(vis[tmp.v])<span class="hljs-keyword">continue</span>;<br>        vis[tmp.v] = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[tmp.v]; ~i; i = edge[i].nxt)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = edge[i].to;<br>            <span class="hljs-keyword">if</span>(dis[v] &gt; dis[tmp.v] + edge[i].w)<br>            &#123;<br>                dis[v] = dis[tmp.v] + edge[i].w;<br>                pq.push(node(v, dis[v]));<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">int</span> cnt;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">build</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(l == r)<br>    &#123;<br>        cnt = max(cnt, rt + n);<br>        ADDEDGE(rt + n, l, <span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-keyword">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>    build(rt &lt;&lt; <span class="hljs-number">1</span>, l, mid);<br>    build(rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>, mid + <span class="hljs-number">1</span>, r);<br>    ADDEDGE(rt + n, (rt &lt;&lt; <span class="hljs-number">1</span>) + n, <span class="hljs-number">0</span>);<br>    ADDEDGE(rt + n, (rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>) + n, <span class="hljs-number">0</span>);<br>&#125;<br><span class="hljs-keyword">int</span> L, R, W, U;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(L &gt; r || l &gt; R)<span class="hljs-keyword">return</span>;<br>    <span class="hljs-keyword">if</span>(L &lt;= l &amp;&amp; r &lt;= R)<br>    &#123;<br>        ADDEDGE(U, rt + n, W);<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-keyword">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">if</span>(L &lt;= mid)addedge(rt &lt;&lt; <span class="hljs-number">1</span>, l, mid);<br>    <span class="hljs-keyword">if</span>(R &gt;  mid)addedge(rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>, mid + <span class="hljs-number">1</span>, r);<br>&#125;<br><span class="hljs-keyword">int</span> l[maxn], r[maxn], c[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    <span class="hljs-comment">// ios_base::sync_with_stdio(0);</span><br>    <span class="hljs-comment">// cin.tie(0);cout.tie(0);</span><br><br>    <span class="hljs-comment">// int t; cin &gt;&gt; t;</span><br>    <span class="hljs-comment">// int t; scanf(&quot;%d&quot;, &amp;t);</span><br>    <span class="hljs-keyword">int</span> t; t = read();<br>    <span class="hljs-keyword">while</span>(t--)<br>    &#123;<br>        <span class="hljs-comment">// cin &gt;&gt; n;</span><br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)l[i] = read();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)r[i] = read();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)c[i] = read();<br>        init(n &lt;&lt; <span class="hljs-number">3</span>);<br>        cnt = <span class="hljs-number">0</span>;<br>        build(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, n);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        &#123;<br>            U = i;<br>            L = i + l[i]; R = i + r[i]; W = c[i];<br>            addedge(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, n);<br>            L = i - r[i]; R = i - l[i];<br>            addedge(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, n);<br>        &#125;<br>        dijkstra(<span class="hljs-number">1</span>, cnt);<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;0&quot;</span>);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= n; ++i)<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; %lld&quot;</span>, (dis[i] == linf ? <span class="hljs-number">-1</span> : dis[i]));<br>        <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="AC-2"><a href="#AC-2" class="headerlink" title="AC_2"></a>AC_2</h2><p><del>（不加快读也没事，，，就是不能memset，，，卡memset好恶心，，，，</del></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e7</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">int</span> <span class="hljs-title">read</span><span class="hljs-params">()</span>   <span class="hljs-comment">//快读</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> ans=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">char</span> ch=getchar();<br>    <span class="hljs-keyword">while</span>(!<span class="hljs-built_in">isdigit</span>(ch))<br>        ch=getchar();<br>    <span class="hljs-keyword">while</span>(<span class="hljs-built_in">isdigit</span>(ch))<br>        ans=(ans&lt;&lt;<span class="hljs-number">3</span>)+(ans&lt;&lt;<span class="hljs-number">1</span>)+(ch^<span class="hljs-number">48</span>),ch=getchar();<br>    <span class="hljs-keyword">return</span> ans;<br>&#125;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Dijkstra</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">    &#123;</span><br>        <span class="hljs-keyword">int</span> to, nxt;<br>        ll w;<br>    &#125;edge[maxm];<br>    <span class="hljs-keyword">int</span> tot, head[maxn &lt;&lt; <span class="hljs-number">3</span>];<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function">    </span>&#123;<br>        tot = <span class="hljs-number">0</span>;<br>        <span class="hljs-comment">// memset(head, -1, sizeof head);</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)head[i] = <span class="hljs-number">-1</span>;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v, ll w)</span></span><br><span class="hljs-function">    </span>&#123;<br>        edge[tot].to = v;<br>        edge[tot].w = w;<br>        edge[tot].nxt = head[u];<br>        head[u] = tot++;<br>    &#125;<br>    <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span></span><br><span class="hljs-class">    &#123;</span><br>        <span class="hljs-keyword">int</span> v; ll w;<br>        node()&#123;&#125;<br>        node(<span class="hljs-keyword">int</span> _v, ll _w):v(_v), w(_w)&#123;&#125;<br>        <span class="hljs-keyword">const</span> <span class="hljs-keyword">bool</span> <span class="hljs-keyword">operator</span>&lt;(<span class="hljs-keyword">const</span> node &amp;r)<span class="hljs-keyword">const</span><br>        &#123;<br>            <span class="hljs-keyword">return</span> w &gt; r.w;<br>        &#125;<br>    &#125;;<br>    <span class="hljs-keyword">bool</span> vis[maxn &lt;&lt; <span class="hljs-number">3</span>];<br>    ll dis[maxn &lt;&lt; <span class="hljs-number">3</span>];<br>    <span class="hljs-built_in">priority_queue</span>&lt;node&gt; pq;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dijkstra</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s, <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-comment">// memset(vis, false, sizeof vis);</span><br>        <span class="hljs-comment">// memset(dis, inf, sizeof dis);</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)vis[i] = <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= n; ++i)dis[i] = linf;<br>        <span class="hljs-keyword">while</span>(!pq.empty())pq.pop();<br>        pq.push(node(s, <span class="hljs-number">0</span>));<br>        dis[s] = <span class="hljs-number">0</span>;<br>        node t; <span class="hljs-keyword">int</span> u;<br>        <span class="hljs-keyword">while</span>(!pq.empty())<br>        &#123;<br>            t = pq.top(); pq.pop();<br>            u = t.v;<br>            <span class="hljs-keyword">if</span>(vis[u])<span class="hljs-keyword">continue</span>;<br>            vis[u] = <span class="hljs-literal">true</span>;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>            &#123;<br>                <span class="hljs-keyword">int</span> v = edge[i].to;<br>                ll w = edge[i].w;<br>                <span class="hljs-keyword">if</span>(dis[v] &gt; t.w + w)<br>                &#123;<br>                    dis[v] = t.w + w;<br>                    pq.push(node(v, dis[v]));<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">print</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;0&quot;</span>);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= n; ++i)<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; %lld&quot;</span>, (dis[i] == linf ? <span class="hljs-number">-1</span> : dis[i]));<br>        <span class="hljs-built_in">puts</span>(<span class="hljs-string">&quot;&quot;</span>);<br>    &#125;<br>&#125;dijkstra;<br><br><span class="hljs-keyword">int</span> cnt;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">segmentTree</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> id[maxn &lt;&lt; <span class="hljs-number">3</span>];<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">build</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r, <span class="hljs-keyword">bool</span> flag)</span></span><br><span class="hljs-function">    </span>&#123;<br>        id[rt] = ++cnt;<br>        <span class="hljs-keyword">if</span>(l == r)<br>        &#123;<br>            <span class="hljs-keyword">int</span> u = id[rt];<br>            <span class="hljs-keyword">int</span> v = l; <br>            <span class="hljs-keyword">if</span>(flag)swap(u, v);<br>            dijkstra.addedge(u, v, <span class="hljs-number">0</span>);<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br>        <span class="hljs-keyword">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>        build(rt &lt;&lt; <span class="hljs-number">1</span>, l, mid, flag);<br>        build(rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>, mid + <span class="hljs-number">1</span>, r, flag);<br>        <span class="hljs-keyword">int</span> u = id[rt];<br>        <span class="hljs-keyword">int</span> v = id[rt &lt;&lt; <span class="hljs-number">1</span>];<br>        <span class="hljs-keyword">if</span>(flag)swap(u, v);<br>        dijkstra.addedge(u, v, <span class="hljs-number">0</span>);<br>        u = id[rt];<br>        v = id[rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>];<br>        <span class="hljs-keyword">if</span>(flag)swap(u, v);<br>        dijkstra.addedge(u, v, <span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r, <span class="hljs-keyword">int</span> U, <span class="hljs-keyword">int</span> L, <span class="hljs-keyword">int</span> R, ll w, <span class="hljs-keyword">bool</span> flag)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">if</span>(L &gt; r || R &lt; l)<span class="hljs-keyword">return</span>;<br>        <span class="hljs-keyword">if</span>(L &lt;= l &amp;&amp; r &lt;= R)<br>        &#123;<br>            <span class="hljs-keyword">int</span> u = U;<br>            <span class="hljs-keyword">int</span> v = id[rt];<br>            <span class="hljs-keyword">if</span>(flag)swap(u, v);<br>            dijkstra.addedge(u, v, w);<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br>        <span class="hljs-keyword">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span>(L &lt;= mid)addedge(rt &lt;&lt; <span class="hljs-number">1</span>, l, mid, U, L, R, w, flag);<br>        <span class="hljs-keyword">if</span>(R &gt;  mid)addedge(rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>, mid + <span class="hljs-number">1</span>, r, U, L, R, w, flag);<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>&#125;down; <span class="hljs-comment">//, up;</span><br><br><span class="hljs-keyword">int</span> l[maxn], r[maxn], c[maxn];<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    <span class="hljs-comment">// ios_base::sync_with_stdio(0);</span><br>    <span class="hljs-comment">// cin.tie(0);cout.tie(0);</span><br><br>    <span class="hljs-keyword">int</span> t; t = read();<br>    <span class="hljs-keyword">while</span>(t--)<br>    &#123;<br>        <span class="hljs-keyword">int</span> n; n = read();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)l[i] = read();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)r[i] = read();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)c[i] = read();<br>        cnt = n;<br>        dijkstra.init(n &lt;&lt; <span class="hljs-number">3</span>);<br>        down.build(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, n, <span class="hljs-literal">false</span>);<br>        <span class="hljs-comment">// up.build(1, 1, n, true);</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        &#123;<br>            down.addedge(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, n, i, l[i] + i, r[i] + i, c[i], <span class="hljs-literal">false</span>);<br>            down.addedge(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, n, i, max(<span class="hljs-number">1</span>, i - r[i]), max(<span class="hljs-number">1</span>, i - l[i]), c[i], <span class="hljs-literal">false</span>);<br>        &#125;<br>        dijkstra.dijkstra(<span class="hljs-number">1</span>, cnt);<br>        dijkstra.print(n);<br>    &#125;<br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>(end)</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;偶然看到的这个东西，可以说是第一次见到图论+数据结构的题了，，&lt;a href=&quot;https://codeforces.com/problemset/problem/786/B&quot;&gt;这题&lt;/a&gt;代码很简单，细节处理一下就没啥了，，，主要是一步一步的思路的推导很不错，，&lt;/p&gt;</summary>
    
    
    
    <category term="ACM-最短路" scheme="http://blog.31415x.cf/categories/ACM-%E6%9C%80%E7%9F%AD%E8%B7%AF/"/>
    
    
    <category term="ACM" scheme="http://blog.31415x.cf/tags/ACM/"/>
    
    <category term="刷题" scheme="http://blog.31415x.cf/tags/%E5%88%B7%E9%A2%98/"/>
    
    <category term="最短路" scheme="http://blog.31415x.cf/tags/%E6%9C%80%E7%9F%AD%E8%B7%AF/"/>
    
    <category term="线段树" scheme="http://blog.31415x.cf/tags/%E7%BA%BF%E6%AE%B5%E6%A0%91/"/>
    
  </entry>
  
  <entry>
    <title>2017icpc西安区域赛</title>
    <link href="http://blog.31415x.cf/2019/09/28/2017icpc%E8%A5%BF%E5%AE%89%E5%8C%BA%E5%9F%9F%E8%B5%9B/"/>
    <id>http://blog.31415x.cf/2019/09/28/2017icpc%E8%A5%BF%E5%AE%89%E5%8C%BA%E5%9F%9F%E8%B5%9B/</id>
    <published>2019-09-28T11:59:58.000Z</published>
    <updated>2019-09-28T12:08:04.567Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>线段树专场，，，emmmm</p><p>作完签到就自闭了，，数据出锅2333</p><span id="more"></span><h1 id="A-XOR"><a href="#A-XOR" class="headerlink" title="A. XOR"></a>A. XOR</h1><p>之前就知道看到这个线性基+线段树的板子题，，一直想补，，拖到现在</p><p>题意很简单，，就是问一个区间某些数的异或和与K的或的最大值，，，</p><p>如果没有K，，这道题显然是签到题，，，但是多了一个K，，</p><p>其实K也很好处理，，，</p><p>因为要求两个数的或的最大值，，K又是给定的，，所以我们可以贪心的选择一个二进制位是1的但是对应在K中是0的数，，，这样显然最后求得或值最大，，</p><p>所以这题就变成了不考虑K中是1的那几位的数，，也就是对于 $a_i$ 只考虑K对应位是0的那些数，，将1删去，，，删去的操作就是对于每一个数都和K的取反的结果相与，，这样留下的就是在K中是0的那些位，，，最后对于这个处理后的新的数组快乐的用线性基+线段树暴力合并询问就行了，，，</p><p>线性基的合并要使用不是高斯消元的那种，，<del>（忘记关同步T了一发</del></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">4e5</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br>ll n, q, k;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">linerbasis</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxbase = <span class="hljs-number">33</span>;<br>    <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">false</span>;<br>    ll a[maxbase + <span class="hljs-number">1</span>];<br>    linerbasis()<br>    &#123;<br>        <span class="hljs-built_in">memset</span>(a, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> a);<br>    &#125;<br>    linerbasis(ll *x, <span class="hljs-keyword">int</span> n)<br>    &#123;<br>        linerbasis();<br>        build(x, n);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">build</span><span class="hljs-params">(ll *x, <span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            insert(x[i]);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">clear</span><span class="hljs-params">()</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-built_in">memset</span>(a, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> a);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">insert</span><span class="hljs-params">(ll t)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(t &amp; (<span class="hljs-number">1ll</span> &lt;&lt; i))<br>            &#123;<br>                <span class="hljs-keyword">if</span>(!a[i])<br>                &#123;<br>                    a[i] = t;<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>                t ^= a[i];<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(t == <span class="hljs-number">0</span>)flag = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">return</span> t;<br>    &#125;<br>    <span class="hljs-function">linerbasis <span class="hljs-title">merge</span><span class="hljs-params">(<span class="hljs-keyword">const</span> linerbasis &amp;l1, <span class="hljs-keyword">const</span> linerbasis &amp;l2)</span></span><br><span class="hljs-function">    </span>&#123;<br>        linerbasis ret = l1;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>            <span class="hljs-keyword">if</span>(l2.a[i])<br>                ret.insert(l2.a[i]);<br>        <span class="hljs-keyword">return</span> ret;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">merge</span><span class="hljs-params">(<span class="hljs-keyword">const</span> linerbasis &amp;l)</span></span><br><span class="hljs-function">    </span>&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>            <span class="hljs-keyword">if</span>(l.a[i])<br>                insert(l.a[i]);<br>    &#125;<br>    <span class="hljs-function">ll <span class="hljs-title">queryMax</span><span class="hljs-params">()</span></span><br><span class="hljs-function">    </span>&#123;<br>        ll ret = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = maxbase; i &gt;= <span class="hljs-number">0</span>; --i)<br>            <span class="hljs-keyword">if</span>((ret ^ a[i]) &gt; ret)<br>                ret ^= a[i];<br>        <span class="hljs-keyword">return</span> ret;<br>    &#125;<br>&#125;lb[maxn &lt;&lt; <span class="hljs-number">2</span>];<br>ll a[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">pushup</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt)</span></span><br><span class="hljs-function"></span>&#123;<br>    lb[rt] = lb[rt].merge(lb[rt &lt;&lt; <span class="hljs-number">1</span>], lb[rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>]);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">build</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r)</span></span><br><span class="hljs-function"></span>&#123;<br>    lb[rt].clear();<br>    <span class="hljs-keyword">if</span>(l == r)<br>    &#123;<br>        lb[rt].insert(a[l]);<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-keyword">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>    build(rt &lt;&lt; <span class="hljs-number">1</span>, l, mid);<br>    build(rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>, mid + <span class="hljs-number">1</span>, r);<br>    pushup(rt);<br>&#125;<br><span class="hljs-function">linerbasis <span class="hljs-title">query</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r, <span class="hljs-keyword">int</span> L, <span class="hljs-keyword">int</span> R)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(L &lt;= l &amp;&amp; r &lt;= R)<br>    &#123;<br>        <span class="hljs-keyword">return</span> lb[rt];<br>    &#125;<br>    <span class="hljs-keyword">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>    linerbasis ret;<br>    <span class="hljs-keyword">if</span>(L &lt;= mid)ret.merge(query(rt &lt;&lt; <span class="hljs-number">1</span>, l, mid, L, R));<br>    <span class="hljs-keyword">if</span>(R &gt;  mid)ret.merge(query(rt &lt;&lt; <span class="hljs-number">1</span> | <span class="hljs-number">1</span>, mid + <span class="hljs-number">1</span>, r, L, R));<br>    <span class="hljs-keyword">return</span> ret;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br><br>    <span class="hljs-keyword">int</span> t; <span class="hljs-built_in">cin</span> &gt;&gt; t;<br>    <span class="hljs-keyword">while</span>(t--)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; q &gt;&gt; k;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; a[i];<br>        k = ~k;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)a[i] &amp;= k;<br>        k = ~k;<br>        build(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, n);<br>        <span class="hljs-keyword">int</span> l, r;<br>        <span class="hljs-keyword">while</span>(q--)<br>        &#123;<br>            <span class="hljs-built_in">cin</span> &gt;&gt; l &gt;&gt; r;<br>            <span class="hljs-built_in">cout</span> &lt;&lt; (k | query(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, n, l, r).queryMax()) &lt;&lt; <span class="hljs-built_in">endl</span>;        <br>        &#125;<br>    &#125;<br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;线段树专场，，，emmmm&lt;/p&gt;
&lt;p&gt;作完签到就自闭了，，数据出锅2333&lt;/p&gt;</summary>
    
    
    
    
    <category term="ACM" scheme="http://blog.31415x.cf/tags/ACM/"/>
    
    <category term="刷题" scheme="http://blog.31415x.cf/tags/%E5%88%B7%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>Educational Codeforces Round 72 (Rated for Div. 2)</title>
    <link href="http://blog.31415x.cf/2019/09/28/Educational-Codeforces-Round-72-Rated-for-Div-2/"/>
    <id>http://blog.31415x.cf/2019/09/28/Educational-Codeforces-Round-72-Rated-for-Div-2/</id>
    <published>2019-09-28T02:12:37.000Z</published>
    <updated>2019-10-08T12:47:00.000Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p><a href="https://codeforces.com/contest/1217">这场只做了前四道</a>，，感觉学到的东西也很多，，最后两道数据结构的题没有补。。。</p><span id="more"></span><h1 id="A-Creating-a-Character"><a href="#A-Creating-a-Character" class="headerlink" title="A. Creating a Character"></a>A. Creating a Character</h1><p>贪心加一堆判断就行了，，，</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">15e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">4e5</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br> <br><span class="hljs-keyword">int</span> a[maxn], n;<br> <br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    <br>    <span class="hljs-keyword">int</span> t; <span class="hljs-built_in">cin</span> &gt;&gt; t;<br>    <span class="hljs-keyword">while</span>(t--)<br>    &#123;<br>        ll s, i, e;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; s &gt;&gt; i &gt;&gt; e;<br>        <span class="hljs-keyword">if</span>(s + e &lt;= i)<br>        &#123;<br>            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">0</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>            <span class="hljs-keyword">continue</span>;<br>        &#125;<br>        ll x = i - s + e;<br>        x = x / <span class="hljs-number">2</span>;<br>        <span class="hljs-keyword">if</span>(s + x &lt;= i + e - x)++x;<br>        <span class="hljs-keyword">if</span>(e == <span class="hljs-number">0</span> &amp;&amp; s &gt; i)x = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(e == <span class="hljs-number">0</span> &amp;&amp; s &lt;= i)x = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span>(x &lt;= <span class="hljs-number">0</span>)x = <span class="hljs-number">0</span>;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; e - x + <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br>    <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="B-Zmei-Gorynich"><a href="#B-Zmei-Gorynich" class="headerlink" title="B. Zmei Gorynich"></a>B. Zmei Gorynich</h1><p>贪心++</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">15e4</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">4e5</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br> <br><span class="hljs-keyword">int</span> a[maxn], n;<br> <br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    <br>    <span class="hljs-keyword">int</span> t; <span class="hljs-built_in">cin</span> &gt;&gt; t;<br>    <span class="hljs-keyword">while</span>(t--)<br>    &#123;<br>        ll n, x; <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; x;<br>        ll mx = -inf, mxd = <span class="hljs-number">0</span>;<br>        ll d, h;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        &#123;<br>            <span class="hljs-built_in">cin</span> &gt;&gt; d &gt;&gt; h;<br>            mx = max(mx, d - h);<br>            mxd = max(mxd, d);<br>        &#125;<br>        <span class="hljs-keyword">if</span>(mx &lt;= <span class="hljs-number">0</span> &amp;&amp; mxd &lt; x)<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">-1</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">else</span> <br>        &#123;<br>            ll ans = (x - mxd + mx - <span class="hljs-number">1</span>) / mx;<br>            ++ans;<br>            <span class="hljs-keyword">if</span>(mxd &gt;= x)ans = <span class="hljs-number">1</span>;<br>            <span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="C-The-Number-Of-Good-Substrings"><a href="#C-The-Number-Of-Good-Substrings" class="headerlink" title="C. The Number Of Good Substrings"></a>C. The Number Of Good Substrings</h1><p>貌似满足条件的串不多？？？</p><p>直接枚举每一个1的位置，，然后对于以他为最高位的串表示的十进制如果小于串的长度以及他前面的前导零长度的和就是一个满足条件的，，这样跑一遍就行了，，，</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">4e5</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br> <br><span class="hljs-keyword">char</span> s[maxn];<br> <br> <br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    <br>    <span class="hljs-keyword">int</span> t; <span class="hljs-built_in">cin</span> &gt;&gt; t;<br>    <span class="hljs-keyword">while</span>(t--)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; s;<br>        ll ans = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">int</span> lst = <span class="hljs-number">-1</span>;<br>        <span class="hljs-keyword">int</span> len = <span class="hljs-built_in">strlen</span>(s);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= len - <span class="hljs-number">1</span>; ++i)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(s[i] == <span class="hljs-string">&#x27;0&#x27;</span>)<span class="hljs-keyword">continue</span>;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                ll base = <span class="hljs-number">1</span>;<br>                ++ans;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = i + <span class="hljs-number">1</span>; j &lt;= len - <span class="hljs-number">1</span>; ++j)<br>                &#123;<br>                    base &lt;&lt;= <span class="hljs-number">1</span>;<br>                    <span class="hljs-keyword">if</span>(s[j] == <span class="hljs-string">&#x27;1&#x27;</span>)base |= <span class="hljs-number">1</span>;<br>                    <span class="hljs-keyword">if</span>(j - lst &gt;= base)++ans;<br>                    <span class="hljs-keyword">else</span> <span class="hljs-keyword">break</span>;<br>                &#125;<br>                lst = i;<br>            &#125;<br>        &#125;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br>    <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">// 010010001000</span><br></code></pre></td></tr></table></figure><h1 id="D-Coloring-Edges"><a href="#D-Coloring-Edges" class="headerlink" title="D. Coloring Edges"></a>D. Coloring Edges</h1><p>感觉这题很不错，，有向图判环之前只知道用拓扑排序，，现在才知道有好几种方法，，，</p><p>题意是给一张图，然后对边染色，用最少的颜色染出的图中相同颜色的边没有成环就行</p><p>显然没有环的时候答案就是1，，，有环的时候答案就是2，，</p><p>所以可以先判环，，然后染色</p><p>这样做的话染色的一个技巧就是对于 <code>u-&gt;v</code> 边， $u \ge v$ 直接染2，，其他的染1</p><h2 id="dfs判环"><a href="#dfs判环" class="headerlink" title="dfs判环"></a>dfs判环</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">4e5</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br> <br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt, col;<br>&#125;edge[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, head[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].nxt = head[u];<br>    edge[tot].col = <span class="hljs-number">0</span>;<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> s)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>    &#123;<br>        <span class="hljs-keyword">int</span> v = edge[i].to;<br>        <span class="hljs-keyword">if</span>(v == s)<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">if</span>(vis[v])<span class="hljs-keyword">continue</span>;<br>        vis[v] = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">if</span>(dfs(v, s))<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br> <br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    <br> <br>    <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m;<br>    <span class="hljs-keyword">int</span> u, v;<br>    init();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; u &gt;&gt; v;<br>        addedge(u, v);<br>    &#125;<br>    <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>    &#123;<br>        <span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vis);<br>        vis[i] = <span class="hljs-literal">true</span>;<br>        flag = dfs(i, i);<br>        <span class="hljs-keyword">if</span>(flag)<span class="hljs-keyword">break</span>;<br>    &#125;<br>    <span class="hljs-keyword">if</span>(!flag)<br>    &#123;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">2</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = head[i]; ~j; j = edge[j].nxt)<br>                <span class="hljs-keyword">if</span>(i &gt; edge[j].to)edge[j].col = <span class="hljs-number">2</span>;<br>                <span class="hljs-keyword">else</span> edge[j].col = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= tot - <span class="hljs-number">1</span>; ++i)<br>            <span class="hljs-built_in">cout</span> &lt;&lt; edge[i].col &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br>    <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="topo排序判环"><a href="#topo排序判环" class="headerlink" title="topo排序判环"></a>topo排序判环</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">4e5</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br> <br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt, col;<br>&#125;edge[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, head[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].nxt = head[u];<br>    edge[tot].col = <span class="hljs-number">0</span>;<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-keyword">int</span> du[maxn];<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">topo</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> cnt = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">queue</span>&lt;<span class="hljs-keyword">int</span>&gt; q;<br>    <span class="hljs-keyword">while</span>(!q.empty())q.pop();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        <span class="hljs-keyword">if</span>(!du[i])<br>            q.push(i);<br>    <span class="hljs-keyword">while</span>(!q.empty())<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = q.front(); q.pop();<br>        ++cnt;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>            <span class="hljs-keyword">if</span>(--du[edge[i].to] == <span class="hljs-number">0</span>)<br>                q.push(edge[i].to);<br>    &#125;<br>    <span class="hljs-keyword">return</span> cnt == n;<br>&#125;<br> <br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    <br> <br>    <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m;<br>    <span class="hljs-keyword">int</span> u, v;<br>    init();<br>    <span class="hljs-built_in">memset</span>(du, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> du);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; u &gt;&gt; v;<br>        ++du[v];<br>        addedge(u, v);<br>    &#125;<br>    <span class="hljs-keyword">if</span>(topo())<br>    &#123;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">2</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = head[i]; ~j; j = edge[j].nxt)<br>                <span class="hljs-keyword">if</span>(i &gt; edge[j].to)edge[j].col = <span class="hljs-number">2</span>;<br>                <span class="hljs-keyword">else</span> edge[j].col = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= tot - <span class="hljs-number">1</span>; ++i)<br>            <span class="hljs-built_in">cout</span> &lt;&lt; edge[i].col &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br>    <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="dfs染回边"><a href="#dfs染回边" class="headerlink" title="dfs染回边"></a>dfs染回边</h2><p>另一种做法需要知道dfs的一些性质：</p><p>dfs跑图会产生四种边，，（算法导论上有（看过都忘了，，，）<a href="https://blog.csdn.net/c_zhangsir/article/details/98238664">这些是参考这个的</a></p><ul><li><strong>树边(Tree Edge)</strong> ： 就是 <code>u-&gt;v</code> v是第一次访问的边</li><li><strong>前向边(Forward Edge)</strong> ： 就是 <code>u-&gt;v</code> v是访问过的，并且不是v的直接的孩子</li><li><strong>回边(Back Edge)</strong> ： 就是 <code>u-&gt;v</code> v是指向他的一个祖先的边，，（显然这样的边可能是环的一部分</li><li><strong>跨越边(Cross Edge)</strong> ： 就是 <code>u-&gt;v</code> v是指向一个访问过的点，但 u , v 之间没关系，，（可能是两棵子树中的点等等</li></ul><p><img src="https://img-blog.csdnimg.cn/20190802211019465.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0NfWmhhbmdTaXI=,size_16,color_FFFFFF,t_70" alt=""></p><p>所以对于这题，，我们只要跑一边dfs，，然后将所有的回边染2，，其他的边染1即可，，，这样子就不用判环什么的，，，</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">4e5</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-keyword">int</span> n, m;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt, col;<br>&#125;edge[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, head[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].nxt = head[u];<br>    edge[tot].col = <span class="hljs-number">0</span>;<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-keyword">bool</span> flag;<br><span class="hljs-keyword">int</span> vis[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// 先将子树标记为1</span><br>    <span class="hljs-comment">// 如果子树中有到子树中的某个点时，表示有环</span><br>    <span class="hljs-comment">// 最后将子树标记为2</span><br><br>    <span class="hljs-comment">// 对于染色，树边染1（vis[v] == 0）、回边（vis[v] == 1）染2，前边（就是连到其他树的边）和跨越边（连着已经走过的点的边）染1</span><br>    vis[u] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>    &#123;<br>        <span class="hljs-keyword">int</span> v = edge[i].to;<br>        <span class="hljs-keyword">if</span>(vis[v] == <span class="hljs-number">0</span>)<br>        &#123;<br>            dfs(v);<br>            edge[i].col = <span class="hljs-number">1</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(vis[v] == <span class="hljs-number">1</span>)<br>        &#123;<br>            flag = <span class="hljs-literal">true</span>;<br>            edge[i].col = <span class="hljs-number">2</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>            edge[i].col = <span class="hljs-number">1</span>;<br>    &#125;<br>    vis[u] = <span class="hljs-number">2</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br>    <br><br>    <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m;<br>    <span class="hljs-keyword">int</span> u, v;<br>    init();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; u &gt;&gt; v;<br>        addedge(u, v);<br>    &#125;<br>    flag = <span class="hljs-literal">false</span>;<br>    <span class="hljs-built_in">memset</span>(vis, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> vis);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        <span class="hljs-keyword">if</span>(vis[i] == <span class="hljs-number">0</span>)<br>            dfs(i);<br>    <span class="hljs-built_in">cout</span> &lt;&lt; (flag ? <span class="hljs-number">2</span> : <span class="hljs-number">1</span>) &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= tot - <span class="hljs-number">1</span>; ++i)<br>        <span class="hljs-built_in">cout</span> &lt;&lt; edge[i].col &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>(end)</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://codeforces.com/contest/1217&quot;&gt;这场只做了前四道&lt;/a&gt;，，感觉学到的东西也很多，，最后两道数据结构的题没有补。。。&lt;/p&gt;</summary>
    
    
    
    <category term="Codeforces" scheme="http://blog.31415x.cf/categories/Codeforces/"/>
    
    
    <category term="ACM" scheme="http://blog.31415x.cf/tags/ACM/"/>
    
    <category term="刷题" scheme="http://blog.31415x.cf/tags/%E5%88%B7%E9%A2%98/"/>
    
    <category term="cf" scheme="http://blog.31415x.cf/tags/cf/"/>
    
  </entry>
  
  <entry>
    <title>随机生成中文姓名</title>
    <link href="http://blog.31415x.cf/2019/09/25/%E9%9A%8F%E6%9C%BA%E7%94%9F%E6%88%90%E4%B8%AD%E6%96%87%E5%A7%93%E5%90%8D/"/>
    <id>http://blog.31415x.cf/2019/09/25/%E9%9A%8F%E6%9C%BA%E7%94%9F%E6%88%90%E4%B8%AD%E6%96%87%E5%A7%93%E5%90%8D/</id>
    <published>2019-09-25T11:47:19.000Z</published>
    <updated>2019-09-25T11:51:27.484Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>做项目的时候有时会用到自己造一个数据库，数值信息都可以随便rand出来，，但是中文姓名不太好处理，，<a href="https://www.cnblogs.com/kindom/p/3963610.html">最后借鉴了这篇博客</a> ，， 把他的一些东西改了改，够用了，，</p><span id="more"></span><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;random&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-function">mt19937 <span class="hljs-title">rnd</span><span class="hljs-params">(time(<span class="hljs-number">0</span>))</span></span>;<br><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">NAME</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>srand(time(<span class="hljs-literal">NULL</span>));<br><span class="hljs-comment">//百家姓-单姓</span><br><span class="hljs-built_in">string</span> NA1[<span class="hljs-number">444</span>] = &#123; <span class="hljs-string">&quot;赵&quot;</span>, <span class="hljs-string">&quot;钱&quot;</span>, <span class="hljs-string">&quot;孙&quot;</span>, <span class="hljs-string">&quot;李&quot;</span>, <span class="hljs-string">&quot;周&quot;</span>, <span class="hljs-string">&quot;吴&quot;</span>, <span class="hljs-string">&quot;郑&quot;</span>, <span class="hljs-string">&quot;王&quot;</span>, <span class="hljs-string">&quot;冯&quot;</span>, <span class="hljs-string">&quot;陈&quot;</span>, <span class="hljs-string">&quot;褚&quot;</span>, <span class="hljs-string">&quot;卫&quot;</span>, <span class="hljs-string">&quot;蒋&quot;</span>, <span class="hljs-string">&quot;沈&quot;</span>, <span class="hljs-string">&quot;韩&quot;</span>, <span class="hljs-string">&quot;杨&quot;</span>, <span class="hljs-string">&quot;朱&quot;</span>, <span class="hljs-string">&quot;秦&quot;</span>, <span class="hljs-string">&quot;尤&quot;</span>, <span class="hljs-string">&quot;许&quot;</span>, <span class="hljs-string">&quot;何&quot;</span>, <span class="hljs-string">&quot;吕&quot;</span>, <span class="hljs-string">&quot;施&quot;</span>, <span class="hljs-string">&quot;张&quot;</span>, <span class="hljs-string">&quot;孔&quot;</span>, <span class="hljs-string">&quot;曹&quot;</span>, <span class="hljs-string">&quot;严&quot;</span>, <span class="hljs-string">&quot;华&quot;</span>, <span class="hljs-string">&quot;金&quot;</span>, <span class="hljs-string">&quot;魏&quot;</span>, <span class="hljs-string">&quot;陶&quot;</span>, <span class="hljs-string">&quot;姜&quot;</span>, <span class="hljs-string">&quot;戚&quot;</span>, <span class="hljs-string">&quot;谢&quot;</span>, <span class="hljs-string">&quot;邹&quot;</span>, <span class="hljs-string">&quot;喻&quot;</span>, <span class="hljs-string">&quot;柏&quot;</span>, <span class="hljs-string">&quot;水&quot;</span>, <span class="hljs-string">&quot;窦&quot;</span>, <span class="hljs-string">&quot;章&quot;</span>, <span class="hljs-string">&quot;云&quot;</span>, <span class="hljs-string">&quot;苏&quot;</span>, <span class="hljs-string">&quot;潘&quot;</span>, <span class="hljs-string">&quot;葛&quot;</span>, <span class="hljs-string">&quot;奚&quot;</span>, <span class="hljs-string">&quot;范&quot;</span>, <span class="hljs-string">&quot;彭&quot;</span>, <span class="hljs-string">&quot;郎&quot;</span>, <span class="hljs-string">&quot;鲁&quot;</span>, <span class="hljs-string">&quot;韦&quot;</span>, <span class="hljs-string">&quot;昌&quot;</span>, <span class="hljs-string">&quot;马&quot;</span>, <span class="hljs-string">&quot;苗&quot;</span>, <span class="hljs-string">&quot;凤&quot;</span>, <span class="hljs-string">&quot;花&quot;</span>, <span class="hljs-string">&quot;方&quot;</span>, <span class="hljs-string">&quot;俞&quot;</span>, <span class="hljs-string">&quot;任&quot;</span>, <span class="hljs-string">&quot;袁&quot;</span>, <span class="hljs-string">&quot;柳&quot;</span>, <span class="hljs-string">&quot;酆&quot;</span>, <span class="hljs-string">&quot;鲍&quot;</span>, <span class="hljs-string">&quot;史&quot;</span>, <span class="hljs-string">&quot;唐&quot;</span>, <span class="hljs-string">&quot;费&quot;</span>, <span class="hljs-string">&quot;廉&quot;</span>, <span class="hljs-string">&quot;岑&quot;</span>, <span class="hljs-string">&quot;薛&quot;</span>, <span class="hljs-string">&quot;雷&quot;</span>, <span class="hljs-string">&quot;贺&quot;</span>, <span class="hljs-string">&quot;倪&quot;</span>, <span class="hljs-string">&quot;汤&quot;</span>, <span class="hljs-string">&quot;滕&quot;</span>, <span class="hljs-string">&quot;殷&quot;</span>, <span class="hljs-string">&quot;罗&quot;</span>, <span class="hljs-string">&quot;毕&quot;</span>, <span class="hljs-string">&quot;郝&quot;</span>, <span class="hljs-string">&quot;邬&quot;</span>, <span class="hljs-string">&quot;安&quot;</span>, <span class="hljs-string">&quot;常&quot;</span>, <span class="hljs-string">&quot;乐&quot;</span>, <span class="hljs-string">&quot;于&quot;</span>, <span class="hljs-string">&quot;时&quot;</span>, <span class="hljs-string">&quot;傅&quot;</span>, <span class="hljs-string">&quot;皮&quot;</span>, <span class="hljs-string">&quot;卞&quot;</span>, <span class="hljs-string">&quot;齐&quot;</span>, <span class="hljs-string">&quot;康&quot;</span>, <span class="hljs-string">&quot;伍&quot;</span>, <span class="hljs-string">&quot;余&quot;</span>, <span class="hljs-string">&quot;元&quot;</span>, <span class="hljs-string">&quot;卜&quot;</span>, <span class="hljs-string">&quot;顾&quot;</span>, <span class="hljs-string">&quot;孟&quot;</span>, <span class="hljs-string">&quot;平&quot;</span>, <span class="hljs-string">&quot;黄&quot;</span>, <span class="hljs-string">&quot;和&quot;</span>, <span class="hljs-string">&quot;穆&quot;</span>, <span class="hljs-string">&quot;萧&quot;</span>, <span class="hljs-string">&quot;尹&quot;</span>, <span class="hljs-string">&quot;姚&quot;</span>, <span class="hljs-string">&quot;邵&quot;</span>, <span class="hljs-string">&quot;湛&quot;</span>, <span class="hljs-string">&quot;汪&quot;</span>, <span class="hljs-string">&quot;祁&quot;</span>, <span class="hljs-string">&quot;毛&quot;</span>, <span class="hljs-string">&quot;禹&quot;</span>, <span class="hljs-string">&quot;狄&quot;</span>, <span class="hljs-string">&quot;米&quot;</span>, <span class="hljs-string">&quot;贝&quot;</span>, <span class="hljs-string">&quot;明&quot;</span>, <span class="hljs-string">&quot;臧&quot;</span>, <span class="hljs-string">&quot;计&quot;</span>, <span class="hljs-string">&quot;伏&quot;</span>, <span class="hljs-string">&quot;成&quot;</span>, <span class="hljs-string">&quot;戴&quot;</span>, <span class="hljs-string">&quot;谈&quot;</span>, <span class="hljs-string">&quot;宋&quot;</span>, <span class="hljs-string">&quot;茅&quot;</span>, <span class="hljs-string">&quot;庞&quot;</span>, <span class="hljs-string">&quot;熊&quot;</span>, <span class="hljs-string">&quot;纪&quot;</span>, <span class="hljs-string">&quot;舒&quot;</span>, <span class="hljs-string">&quot;屈&quot;</span>, <span class="hljs-string">&quot;项&quot;</span>, <span class="hljs-string">&quot;祝&quot;</span>, <span class="hljs-string">&quot;董&quot;</span>, <span class="hljs-string">&quot;梁&quot;</span>, <span class="hljs-string">&quot;杜&quot;</span>, <span class="hljs-string">&quot;阮&quot;</span>, <span class="hljs-string">&quot;蓝&quot;</span>, <span class="hljs-string">&quot;闵&quot;</span>, <span class="hljs-string">&quot;席&quot;</span>, <span class="hljs-string">&quot;季&quot;</span>, <span class="hljs-string">&quot;麻&quot;</span>, <span class="hljs-string">&quot;强&quot;</span>, <span class="hljs-string">&quot;贾&quot;</span>, <span class="hljs-string">&quot;路&quot;</span>, <span class="hljs-string">&quot;娄&quot;</span>, <span class="hljs-string">&quot;危&quot;</span>, <span class="hljs-string">&quot;江&quot;</span>, <span class="hljs-string">&quot;童&quot;</span>, <span class="hljs-string">&quot;颜&quot;</span>, <span class="hljs-string">&quot;郭&quot;</span>, <span class="hljs-string">&quot;梅&quot;</span>, <span class="hljs-string">&quot;盛&quot;</span>, <span class="hljs-string">&quot;林&quot;</span>, <span class="hljs-string">&quot;刁&quot;</span>, <span class="hljs-string">&quot;钟&quot;</span>, <span class="hljs-string">&quot;徐&quot;</span>, <span class="hljs-string">&quot;邱&quot;</span>, <span class="hljs-string">&quot;骆&quot;</span>, <span class="hljs-string">&quot;高&quot;</span>, <span class="hljs-string">&quot;夏&quot;</span>, <span class="hljs-string">&quot;蔡&quot;</span>, <span class="hljs-string">&quot;田&quot;</span>, <span class="hljs-string">&quot;樊&quot;</span>, <span class="hljs-string">&quot;胡&quot;</span>, <span class="hljs-string">&quot;凌&quot;</span>, <span class="hljs-string">&quot;霍&quot;</span>, <span class="hljs-string">&quot;虞&quot;</span>, <span class="hljs-string">&quot;万&quot;</span>, <span class="hljs-string">&quot;支&quot;</span>, <span class="hljs-string">&quot;柯&quot;</span>, <span class="hljs-string">&quot;昝&quot;</span>, <span class="hljs-string">&quot;管&quot;</span>, <span class="hljs-string">&quot;卢&quot;</span>, <span class="hljs-string">&quot;莫&quot;</span>, <span class="hljs-string">&quot;经&quot;</span>, <span class="hljs-string">&quot;房&quot;</span>, <span class="hljs-string">&quot;裘&quot;</span>, <span class="hljs-string">&quot;缪&quot;</span>, <span class="hljs-string">&quot;干&quot;</span>, <span class="hljs-string">&quot;解&quot;</span>, <span class="hljs-string">&quot;应&quot;</span>, <span class="hljs-string">&quot;宗&quot;</span>, <span class="hljs-string">&quot;丁&quot;</span>, <span class="hljs-string">&quot;宣&quot;</span>, <span class="hljs-string">&quot;贲&quot;</span>, <span class="hljs-string">&quot;邓&quot;</span>, <span class="hljs-string">&quot;郁&quot;</span>, <span class="hljs-string">&quot;单&quot;</span>, <span class="hljs-string">&quot;杭&quot;</span>, <span class="hljs-string">&quot;洪&quot;</span>, <span class="hljs-string">&quot;包&quot;</span>, <span class="hljs-string">&quot;诸&quot;</span>, <span class="hljs-string">&quot;左&quot;</span>, <span class="hljs-string">&quot;石&quot;</span>, <span class="hljs-string">&quot;崔&quot;</span>, <span class="hljs-string">&quot;吉&quot;</span>, <span class="hljs-string">&quot;钮&quot;</span>, <span class="hljs-string">&quot;龚&quot;</span>, <span class="hljs-string">&quot;程&quot;</span>, <span class="hljs-string">&quot;嵇&quot;</span>, <span class="hljs-string">&quot;邢&quot;</span>, <span class="hljs-string">&quot;滑&quot;</span>, <span class="hljs-string">&quot;裴&quot;</span>, <span class="hljs-string">&quot;陆&quot;</span>, <span class="hljs-string">&quot;荣&quot;</span>, <span class="hljs-string">&quot;翁&quot;</span>, <span class="hljs-string">&quot;荀&quot;</span>, <span class="hljs-string">&quot;羊&quot;</span>, <span class="hljs-string">&quot;於&quot;</span>, <span class="hljs-string">&quot;惠&quot;</span>, <span class="hljs-string">&quot;甄&quot;</span>, <span class="hljs-string">&quot;麴&quot;</span>, <span class="hljs-string">&quot;家&quot;</span>, <span class="hljs-string">&quot;封&quot;</span>, <span class="hljs-string">&quot;芮&quot;</span>, <span class="hljs-string">&quot;羿&quot;</span>, <span class="hljs-string">&quot;储&quot;</span>, <span class="hljs-string">&quot;靳&quot;</span>, <span class="hljs-string">&quot;汲&quot;</span>, <span class="hljs-string">&quot;邴&quot;</span>, <span class="hljs-string">&quot;糜&quot;</span>, <span class="hljs-string">&quot;松&quot;</span>, <span class="hljs-string">&quot;井&quot;</span>, <span class="hljs-string">&quot;段&quot;</span>, <span class="hljs-string">&quot;富&quot;</span>, <span class="hljs-string">&quot;巫&quot;</span>, <span class="hljs-string">&quot;乌&quot;</span>, <span class="hljs-string">&quot;焦&quot;</span>, <span class="hljs-string">&quot;巴&quot;</span>, <span class="hljs-string">&quot;弓&quot;</span>, <span class="hljs-string">&quot;牧&quot;</span>, <span class="hljs-string">&quot;隗&quot;</span>, <span class="hljs-string">&quot;山&quot;</span>, <span class="hljs-string">&quot;谷&quot;</span>, <span class="hljs-string">&quot;车&quot;</span>, <span class="hljs-string">&quot;侯&quot;</span>, <span class="hljs-string">&quot;宓&quot;</span>, <span class="hljs-string">&quot;蓬&quot;</span>, <span class="hljs-string">&quot;全&quot;</span>, <span class="hljs-string">&quot;郗&quot;</span>, <span class="hljs-string">&quot;班&quot;</span>, <span class="hljs-string">&quot;仰&quot;</span>, <span class="hljs-string">&quot;秋&quot;</span>, <span class="hljs-string">&quot;仲&quot;</span>, <span class="hljs-string">&quot;伊&quot;</span>, <span class="hljs-string">&quot;宫&quot;</span>, <span class="hljs-string">&quot;宁&quot;</span>, <span class="hljs-string">&quot;仇&quot;</span>, <span class="hljs-string">&quot;栾&quot;</span>, <span class="hljs-string">&quot;暴&quot;</span>, <span class="hljs-string">&quot;甘&quot;</span>, <span class="hljs-string">&quot;钭&quot;</span>, <span class="hljs-string">&quot;厉&quot;</span>, <span class="hljs-string">&quot;戎&quot;</span>, <span class="hljs-string">&quot;祖&quot;</span>, <span class="hljs-string">&quot;武&quot;</span>, <span class="hljs-string">&quot;符&quot;</span>, <span class="hljs-string">&quot;刘&quot;</span>, <span class="hljs-string">&quot;景&quot;</span>, <span class="hljs-string">&quot;詹&quot;</span>, <span class="hljs-string">&quot;束&quot;</span>, <span class="hljs-string">&quot;龙&quot;</span>, <span class="hljs-string">&quot;叶&quot;</span>, <span class="hljs-string">&quot;幸&quot;</span>, <span class="hljs-string">&quot;司&quot;</span>, <span class="hljs-string">&quot;韶&quot;</span>, <span class="hljs-string">&quot;郜&quot;</span>, <span class="hljs-string">&quot;黎&quot;</span>, <span class="hljs-string">&quot;蓟&quot;</span>, <span class="hljs-string">&quot;薄&quot;</span>, <span class="hljs-string">&quot;印&quot;</span>, <span class="hljs-string">&quot;宿&quot;</span>, <span class="hljs-string">&quot;白&quot;</span>, <span class="hljs-string">&quot;怀&quot;</span>, <span class="hljs-string">&quot;蒲&quot;</span>, <span class="hljs-string">&quot;邰&quot;</span>, <span class="hljs-string">&quot;从&quot;</span>, <span class="hljs-string">&quot;鄂&quot;</span>, <span class="hljs-string">&quot;索&quot;</span>, <span class="hljs-string">&quot;咸&quot;</span>, <span class="hljs-string">&quot;籍&quot;</span>, <span class="hljs-string">&quot;赖&quot;</span>, <span class="hljs-string">&quot;卓&quot;</span>, <span class="hljs-string">&quot;蔺&quot;</span>, <span class="hljs-string">&quot;屠&quot;</span>, <span class="hljs-string">&quot;蒙&quot;</span>, <span class="hljs-string">&quot;池&quot;</span>, <span class="hljs-string">&quot;乔&quot;</span>, <span class="hljs-string">&quot;阴&quot;</span>, <span class="hljs-string">&quot;郁&quot;</span>, <span class="hljs-string">&quot;胥&quot;</span>, <span class="hljs-string">&quot;能&quot;</span>, <span class="hljs-string">&quot;苍&quot;</span>, <span class="hljs-string">&quot;双&quot;</span>, <span class="hljs-string">&quot;闻&quot;</span>, <span class="hljs-string">&quot;莘&quot;</span>, <span class="hljs-string">&quot;党&quot;</span>, <span class="hljs-string">&quot;翟&quot;</span>, <span class="hljs-string">&quot;谭&quot;</span>, <span class="hljs-string">&quot;贡&quot;</span>, <span class="hljs-string">&quot;劳&quot;</span>, <span class="hljs-string">&quot;逄&quot;</span>, <span class="hljs-string">&quot;姬&quot;</span>, <span class="hljs-string">&quot;申&quot;</span>, <span class="hljs-string">&quot;扶&quot;</span>, <span class="hljs-string">&quot;堵&quot;</span>, <span class="hljs-string">&quot;冉&quot;</span>, <span class="hljs-string">&quot;宰&quot;</span>, <span class="hljs-string">&quot;郦&quot;</span>, <span class="hljs-string">&quot;雍&quot;</span>, <span class="hljs-string">&quot;舄&quot;</span>, <span class="hljs-string">&quot;璩&quot;</span>, <span class="hljs-string">&quot;桑&quot;</span>, <span class="hljs-string">&quot;桂&quot;</span>, <span class="hljs-string">&quot;濮&quot;</span>, <span class="hljs-string">&quot;牛&quot;</span>, <span class="hljs-string">&quot;寿&quot;</span>, <span class="hljs-string">&quot;通&quot;</span>, <span class="hljs-string">&quot;边&quot;</span>, <span class="hljs-string">&quot;扈&quot;</span>, <span class="hljs-string">&quot;燕&quot;</span>, <span class="hljs-string">&quot;冀&quot;</span>, <span class="hljs-string">&quot;郏&quot;</span>, <span class="hljs-string">&quot;浦&quot;</span>, <span class="hljs-string">&quot;尚&quot;</span>, <span class="hljs-string">&quot;农&quot;</span>, <span class="hljs-string">&quot;温&quot;</span>, <span class="hljs-string">&quot;别&quot;</span>, <span class="hljs-string">&quot;庄&quot;</span>, <span class="hljs-string">&quot;晏&quot;</span>, <span class="hljs-string">&quot;柴&quot;</span>, <span class="hljs-string">&quot;瞿&quot;</span>, <span class="hljs-string">&quot;阎&quot;</span>, <span class="hljs-string">&quot;充&quot;</span>, <span class="hljs-string">&quot;慕&quot;</span>, <span class="hljs-string">&quot;连&quot;</span>, <span class="hljs-string">&quot;茹&quot;</span>, <span class="hljs-string">&quot;习&quot;</span>, <span class="hljs-string">&quot;宦&quot;</span>, <span class="hljs-string">&quot;艾&quot;</span>, <span class="hljs-string">&quot;鱼&quot;</span>, <span class="hljs-string">&quot;容&quot;</span>, <span class="hljs-string">&quot;向&quot;</span>, <span class="hljs-string">&quot;古&quot;</span>, <span class="hljs-string">&quot;易&quot;</span>, <span class="hljs-string">&quot;慎&quot;</span>, <span class="hljs-string">&quot;戈&quot;</span>, <span class="hljs-string">&quot;廖&quot;</span>, <span class="hljs-string">&quot;庾&quot;</span>, <span class="hljs-string">&quot;终&quot;</span>, <span class="hljs-string">&quot;暨&quot;</span>, <span class="hljs-string">&quot;居&quot;</span>, <span class="hljs-string">&quot;衡&quot;</span>, <span class="hljs-string">&quot;步&quot;</span>, <span class="hljs-string">&quot;都&quot;</span>, <span class="hljs-string">&quot;耿&quot;</span>, <span class="hljs-string">&quot;满&quot;</span>, <span class="hljs-string">&quot;弘&quot;</span>, <span class="hljs-string">&quot;匡&quot;</span>, <span class="hljs-string">&quot;国&quot;</span>, <span class="hljs-string">&quot;文&quot;</span>, <span class="hljs-string">&quot;寇&quot;</span>, <span class="hljs-string">&quot;广&quot;</span>, <span class="hljs-string">&quot;禄&quot;</span>, <span class="hljs-string">&quot;阙&quot;</span>, <span class="hljs-string">&quot;东&quot;</span>, <span class="hljs-string">&quot;殴&quot;</span>, <span class="hljs-string">&quot;殳&quot;</span>, <span class="hljs-string">&quot;沃&quot;</span>, <span class="hljs-string">&quot;利&quot;</span>, <span class="hljs-string">&quot;蔚&quot;</span>, <span class="hljs-string">&quot;越&quot;</span>, <span class="hljs-string">&quot;夔&quot;</span>, <span class="hljs-string">&quot;隆&quot;</span>, <span class="hljs-string">&quot;师&quot;</span>, <span class="hljs-string">&quot;巩&quot;</span>, <span class="hljs-string">&quot;厍&quot;</span>, <span class="hljs-string">&quot;聂&quot;</span>, <span class="hljs-string">&quot;晁&quot;</span>, <span class="hljs-string">&quot;勾&quot;</span>, <span class="hljs-string">&quot;敖&quot;</span>, <span class="hljs-string">&quot;融&quot;</span>, <span class="hljs-string">&quot;冷&quot;</span>, <span class="hljs-string">&quot;訾&quot;</span>, <span class="hljs-string">&quot;辛&quot;</span>, <span class="hljs-string">&quot;阚&quot;</span>, <span class="hljs-string">&quot;那&quot;</span>, <span class="hljs-string">&quot;简&quot;</span>, <span class="hljs-string">&quot;饶&quot;</span>, <span class="hljs-string">&quot;空&quot;</span>, <span class="hljs-string">&quot;曾&quot;</span>, <span class="hljs-string">&quot;毋&quot;</span>, <span class="hljs-string">&quot;沙&quot;</span>, <span class="hljs-string">&quot;乜&quot;</span>, <span class="hljs-string">&quot;养&quot;</span>, <span class="hljs-string">&quot;鞠&quot;</span>, <span class="hljs-string">&quot;须&quot;</span>, <span class="hljs-string">&quot;丰&quot;</span>, <span class="hljs-string">&quot;巢&quot;</span>, <span class="hljs-string">&quot;关&quot;</span>, <span class="hljs-string">&quot;蒯&quot;</span>, <span class="hljs-string">&quot;相&quot;</span>, <span class="hljs-string">&quot;查&quot;</span>, <span class="hljs-string">&quot;後&quot;</span>, <span class="hljs-string">&quot;荆&quot;</span>, <span class="hljs-string">&quot;红&quot;</span>, <span class="hljs-string">&quot;游&quot;</span>, <span class="hljs-string">&quot;竺&quot;</span>, <span class="hljs-string">&quot;权&quot;</span>, <span class="hljs-string">&quot;逯&quot;</span>, <span class="hljs-string">&quot;盖&quot;</span>, <span class="hljs-string">&quot;益&quot;</span>, <span class="hljs-string">&quot;桓&quot;</span>, <span class="hljs-string">&quot;公&quot;</span>, <span class="hljs-string">&quot;仉&quot;</span>, <span class="hljs-string">&quot;督&quot;</span>, <span class="hljs-string">&quot;晋&quot;</span>, <span class="hljs-string">&quot;楚&quot;</span>, <span class="hljs-string">&quot;闫&quot;</span>, <span class="hljs-string">&quot;法&quot;</span>, <span class="hljs-string">&quot;汝&quot;</span>, <span class="hljs-string">&quot;鄢&quot;</span>, <span class="hljs-string">&quot;涂&quot;</span>, <span class="hljs-string">&quot;钦&quot;</span>, <span class="hljs-string">&quot;归&quot;</span>, <span class="hljs-string">&quot;海&quot;</span>, <span class="hljs-string">&quot;岳&quot;</span>, <span class="hljs-string">&quot;帅&quot;</span>, <span class="hljs-string">&quot;缑&quot;</span>, <span class="hljs-string">&quot;亢&quot;</span>, <span class="hljs-string">&quot;况&quot;</span>, <span class="hljs-string">&quot;后&quot;</span>, <span class="hljs-string">&quot;有&quot;</span>, <span class="hljs-string">&quot;琴&quot;</span>, <span class="hljs-string">&quot;商&quot;</span>, <span class="hljs-string">&quot;牟&quot;</span>, <span class="hljs-string">&quot;佘&quot;</span>, <span class="hljs-string">&quot;佴&quot;</span>, <span class="hljs-string">&quot;伯&quot;</span>, <span class="hljs-string">&quot;赏&quot;</span>, <span class="hljs-string">&quot;墨&quot;</span>, <span class="hljs-string">&quot;哈&quot;</span>, <span class="hljs-string">&quot;谯&quot;</span>, <span class="hljs-string">&quot;笪&quot;</span>, <span class="hljs-string">&quot;年&quot;</span>, <span class="hljs-string">&quot;爱&quot;</span>, <span class="hljs-string">&quot;阳&quot;</span>, <span class="hljs-string">&quot;佟&quot;</span>, <span class="hljs-string">&quot;言&quot;</span>, <span class="hljs-string">&quot;福&quot;</span> &#125;;<br><br><span class="hljs-comment">//百家姓-复姓</span><br><span class="hljs-built_in">string</span> NA2[<span class="hljs-number">59</span>] = &#123; <span class="hljs-string">&quot;万俟&quot;</span>, <span class="hljs-string">&quot;司马&quot;</span>, <span class="hljs-string">&quot;上官&quot;</span>, <span class="hljs-string">&quot;欧阳&quot;</span>, <span class="hljs-string">&quot;夏侯&quot;</span>, <span class="hljs-string">&quot;诸葛&quot;</span>, <span class="hljs-string">&quot;闻人&quot;</span>, <span class="hljs-string">&quot;东方&quot;</span>, <span class="hljs-string">&quot;赫连&quot;</span>, <span class="hljs-string">&quot;皇甫&quot;</span>, <span class="hljs-string">&quot;尉迟&quot;</span>, <span class="hljs-string">&quot;公羊&quot;</span>, <span class="hljs-string">&quot;澹台&quot;</span>, <span class="hljs-string">&quot;公冶&quot;</span>, <span class="hljs-string">&quot;宗政&quot;</span>, <span class="hljs-string">&quot;濮阳&quot;</span>, <span class="hljs-string">&quot;淳于&quot;</span>, <span class="hljs-string">&quot;单于&quot;</span>, <span class="hljs-string">&quot;太叔&quot;</span>, <span class="hljs-string">&quot;申屠&quot;</span>, <span class="hljs-string">&quot;公孙&quot;</span>, <span class="hljs-string">&quot;仲孙&quot;</span>, <span class="hljs-string">&quot;轩辕&quot;</span>, <span class="hljs-string">&quot;令狐&quot;</span>, <span class="hljs-string">&quot;钟离&quot;</span>, <span class="hljs-string">&quot;宇文&quot;</span>, <span class="hljs-string">&quot;长孙&quot;</span>, <span class="hljs-string">&quot;慕容&quot;</span>, <span class="hljs-string">&quot;鲜于&quot;</span>, <span class="hljs-string">&quot;闾丘&quot;</span>, <span class="hljs-string">&quot;司徒&quot;</span>, <span class="hljs-string">&quot;司空&quot;</span>, <span class="hljs-string">&quot;亓官&quot;</span>, <span class="hljs-string">&quot;司寇&quot;</span>, <span class="hljs-string">&quot;子车&quot;</span>, <span class="hljs-string">&quot;颛孙&quot;</span>, <span class="hljs-string">&quot;端木&quot;</span>, <span class="hljs-string">&quot;巫马&quot;</span>, <span class="hljs-string">&quot;公西&quot;</span>, <span class="hljs-string">&quot;漆雕&quot;</span>, <span class="hljs-string">&quot;乐正&quot;</span>, <span class="hljs-string">&quot;壤驷&quot;</span>, <span class="hljs-string">&quot;公良&quot;</span>, <span class="hljs-string">&quot;拓跋&quot;</span>, <span class="hljs-string">&quot;夹谷&quot;</span>, <span class="hljs-string">&quot;宰父&quot;</span>, <span class="hljs-string">&quot;谷梁&quot;</span>, <span class="hljs-string">&quot;百里&quot;</span>, <span class="hljs-string">&quot;东郭&quot;</span>, <span class="hljs-string">&quot;南门&quot;</span>, <span class="hljs-string">&quot;呼延&quot;</span>, <span class="hljs-string">&quot;羊舌&quot;</span>, <span class="hljs-string">&quot;微生&quot;</span>, <span class="hljs-string">&quot;梁丘&quot;</span>, <span class="hljs-string">&quot;左丘&quot;</span>, <span class="hljs-string">&quot;东门&quot;</span>, <span class="hljs-string">&quot;西门&quot;</span>, <span class="hljs-string">&quot;南宫&quot;</span>, <span class="hljs-string">&quot;第五&quot;</span> &#125;;<br><br><span class="hljs-comment">//男性常用名</span><br><span class="hljs-built_in">string</span> ME1m[<span class="hljs-number">140</span>] = &#123; <span class="hljs-string">&quot;伟&quot;</span>, <span class="hljs-string">&quot;刚&quot;</span>, <span class="hljs-string">&quot;勇&quot;</span>, <span class="hljs-string">&quot;毅&quot;</span>, <span class="hljs-string">&quot;俊&quot;</span>, <span class="hljs-string">&quot;峰&quot;</span>, <span class="hljs-string">&quot;强&quot;</span>, <span class="hljs-string">&quot;军&quot;</span>, <span class="hljs-string">&quot;平&quot;</span>, <span class="hljs-string">&quot;保&quot;</span>, <span class="hljs-string">&quot;东&quot;</span>, <span class="hljs-string">&quot;文&quot;</span>, <span class="hljs-string">&quot;辉&quot;</span>, <span class="hljs-string">&quot;力&quot;</span>, <span class="hljs-string">&quot;明&quot;</span>, <span class="hljs-string">&quot;永&quot;</span>, <span class="hljs-string">&quot;健&quot;</span>, <span class="hljs-string">&quot;世&quot;</span>, <span class="hljs-string">&quot;广&quot;</span>, <span class="hljs-string">&quot;志&quot;</span>, <span class="hljs-string">&quot;义&quot;</span>, <span class="hljs-string">&quot;兴&quot;</span>, <span class="hljs-string">&quot;良&quot;</span>, <span class="hljs-string">&quot;海&quot;</span>, <span class="hljs-string">&quot;山&quot;</span>, <span class="hljs-string">&quot;仁&quot;</span>, <span class="hljs-string">&quot;波&quot;</span>, <span class="hljs-string">&quot;宁&quot;</span>, <span class="hljs-string">&quot;贵&quot;</span>, <span class="hljs-string">&quot;福&quot;</span>, <span class="hljs-string">&quot;生&quot;</span>, <span class="hljs-string">&quot;龙&quot;</span>, <span class="hljs-string">&quot;元&quot;</span>, <span class="hljs-string">&quot;全&quot;</span>, <span class="hljs-string">&quot;国&quot;</span>, <span class="hljs-string">&quot;胜&quot;</span>, <span class="hljs-string">&quot;学&quot;</span>, <span class="hljs-string">&quot;祥&quot;</span>, <span class="hljs-string">&quot;才&quot;</span>, <span class="hljs-string">&quot;发&quot;</span>, <span class="hljs-string">&quot;武&quot;</span>, <span class="hljs-string">&quot;新&quot;</span>, <span class="hljs-string">&quot;利&quot;</span>, <span class="hljs-string">&quot;清&quot;</span>, <span class="hljs-string">&quot;飞&quot;</span>, <span class="hljs-string">&quot;彬&quot;</span>, <span class="hljs-string">&quot;富&quot;</span>, <span class="hljs-string">&quot;顺&quot;</span>, <span class="hljs-string">&quot;信&quot;</span>, <span class="hljs-string">&quot;子&quot;</span>, <span class="hljs-string">&quot;杰&quot;</span>, <span class="hljs-string">&quot;涛&quot;</span>, <span class="hljs-string">&quot;昌&quot;</span>, <span class="hljs-string">&quot;成&quot;</span>, <span class="hljs-string">&quot;康&quot;</span>, <span class="hljs-string">&quot;星&quot;</span>, <span class="hljs-string">&quot;光&quot;</span>, <span class="hljs-string">&quot;天&quot;</span>, <span class="hljs-string">&quot;达&quot;</span>, <span class="hljs-string">&quot;安&quot;</span>, <span class="hljs-string">&quot;岩&quot;</span>, <span class="hljs-string">&quot;中&quot;</span>, <span class="hljs-string">&quot;茂&quot;</span>, <span class="hljs-string">&quot;进&quot;</span>, <span class="hljs-string">&quot;林&quot;</span>, <span class="hljs-string">&quot;有&quot;</span>, <span class="hljs-string">&quot;坚&quot;</span>, <span class="hljs-string">&quot;和&quot;</span>, <span class="hljs-string">&quot;彪&quot;</span>, <span class="hljs-string">&quot;博&quot;</span>, <span class="hljs-string">&quot;诚&quot;</span>, <span class="hljs-string">&quot;先&quot;</span>, <span class="hljs-string">&quot;敬&quot;</span>, <span class="hljs-string">&quot;震&quot;</span>, <span class="hljs-string">&quot;振&quot;</span>, <span class="hljs-string">&quot;壮&quot;</span>, <span class="hljs-string">&quot;会&quot;</span>, <span class="hljs-string">&quot;思&quot;</span>, <span class="hljs-string">&quot;群&quot;</span>, <span class="hljs-string">&quot;豪&quot;</span>, <span class="hljs-string">&quot;心&quot;</span>, <span class="hljs-string">&quot;邦&quot;</span>, <span class="hljs-string">&quot;承&quot;</span>, <span class="hljs-string">&quot;乐&quot;</span>, <span class="hljs-string">&quot;绍&quot;</span>, <span class="hljs-string">&quot;功&quot;</span>, <span class="hljs-string">&quot;松&quot;</span>, <span class="hljs-string">&quot;善&quot;</span>, <span class="hljs-string">&quot;厚&quot;</span>, <span class="hljs-string">&quot;庆&quot;</span>, <span class="hljs-string">&quot;磊&quot;</span>, <span class="hljs-string">&quot;民&quot;</span>, <span class="hljs-string">&quot;友&quot;</span>, <span class="hljs-string">&quot;裕&quot;</span>, <span class="hljs-string">&quot;河&quot;</span>, <span class="hljs-string">&quot;哲&quot;</span>, <span class="hljs-string">&quot;江&quot;</span>, <span class="hljs-string">&quot;超&quot;</span>, <span class="hljs-string">&quot;浩&quot;</span>, <span class="hljs-string">&quot;亮&quot;</span>, <span class="hljs-string">&quot;政&quot;</span>, <span class="hljs-string">&quot;谦&quot;</span>, <span class="hljs-string">&quot;亨&quot;</span>, <span class="hljs-string">&quot;奇&quot;</span>, <span class="hljs-string">&quot;固&quot;</span>, <span class="hljs-string">&quot;之&quot;</span>, <span class="hljs-string">&quot;轮&quot;</span>, <span class="hljs-string">&quot;翰&quot;</span>, <span class="hljs-string">&quot;朗&quot;</span>, <span class="hljs-string">&quot;伯&quot;</span>, <span class="hljs-string">&quot;宏&quot;</span>, <span class="hljs-string">&quot;言&quot;</span>, <span class="hljs-string">&quot;若&quot;</span>, <span class="hljs-string">&quot;鸣&quot;</span>, <span class="hljs-string">&quot;朋&quot;</span>, <span class="hljs-string">&quot;斌&quot;</span>, <span class="hljs-string">&quot;梁&quot;</span>, <span class="hljs-string">&quot;栋&quot;</span>, <span class="hljs-string">&quot;维&quot;</span>, <span class="hljs-string">&quot;启&quot;</span>, <span class="hljs-string">&quot;克&quot;</span>, <span class="hljs-string">&quot;伦&quot;</span>, <span class="hljs-string">&quot;翔&quot;</span>, <span class="hljs-string">&quot;旭&quot;</span>, <span class="hljs-string">&quot;鹏&quot;</span>, <span class="hljs-string">&quot;泽&quot;</span>, <span class="hljs-string">&quot;晨&quot;</span>, <span class="hljs-string">&quot;辰&quot;</span>, <span class="hljs-string">&quot;士&quot;</span>, <span class="hljs-string">&quot;以&quot;</span>, <span class="hljs-string">&quot;建&quot;</span>, <span class="hljs-string">&quot;家&quot;</span>, <span class="hljs-string">&quot;致&quot;</span>, <span class="hljs-string">&quot;树&quot;</span>, <span class="hljs-string">&quot;炎&quot;</span>, <span class="hljs-string">&quot;德&quot;</span>, <span class="hljs-string">&quot;行&quot;</span>, <span class="hljs-string">&quot;时&quot;</span>, <span class="hljs-string">&quot;泰&quot;</span>, <span class="hljs-string">&quot;盛&quot;</span> &#125;;<br><span class="hljs-built_in">string</span> ME2m[<span class="hljs-number">140</span>] = &#123; <span class="hljs-string">&quot;伟&quot;</span>, <span class="hljs-string">&quot;刚&quot;</span>, <span class="hljs-string">&quot;勇&quot;</span>, <span class="hljs-string">&quot;毅&quot;</span>, <span class="hljs-string">&quot;俊&quot;</span>, <span class="hljs-string">&quot;峰&quot;</span>, <span class="hljs-string">&quot;强&quot;</span>, <span class="hljs-string">&quot;军&quot;</span>, <span class="hljs-string">&quot;平&quot;</span>, <span class="hljs-string">&quot;保&quot;</span>, <span class="hljs-string">&quot;东&quot;</span>, <span class="hljs-string">&quot;文&quot;</span>, <span class="hljs-string">&quot;辉&quot;</span>, <span class="hljs-string">&quot;力&quot;</span>, <span class="hljs-string">&quot;明&quot;</span>, <span class="hljs-string">&quot;永&quot;</span>, <span class="hljs-string">&quot;健&quot;</span>, <span class="hljs-string">&quot;世&quot;</span>, <span class="hljs-string">&quot;广&quot;</span>, <span class="hljs-string">&quot;志&quot;</span>, <span class="hljs-string">&quot;义&quot;</span>, <span class="hljs-string">&quot;兴&quot;</span>, <span class="hljs-string">&quot;良&quot;</span>, <span class="hljs-string">&quot;海&quot;</span>, <span class="hljs-string">&quot;山&quot;</span>, <span class="hljs-string">&quot;仁&quot;</span>, <span class="hljs-string">&quot;波&quot;</span>, <span class="hljs-string">&quot;宁&quot;</span>, <span class="hljs-string">&quot;贵&quot;</span>, <span class="hljs-string">&quot;福&quot;</span>, <span class="hljs-string">&quot;生&quot;</span>, <span class="hljs-string">&quot;龙&quot;</span>, <span class="hljs-string">&quot;元&quot;</span>, <span class="hljs-string">&quot;全&quot;</span>, <span class="hljs-string">&quot;国&quot;</span>, <span class="hljs-string">&quot;胜&quot;</span>, <span class="hljs-string">&quot;学&quot;</span>, <span class="hljs-string">&quot;祥&quot;</span>, <span class="hljs-string">&quot;才&quot;</span>, <span class="hljs-string">&quot;发&quot;</span>, <span class="hljs-string">&quot;武&quot;</span>, <span class="hljs-string">&quot;新&quot;</span>, <span class="hljs-string">&quot;利&quot;</span>, <span class="hljs-string">&quot;清&quot;</span>, <span class="hljs-string">&quot;飞&quot;</span>, <span class="hljs-string">&quot;彬&quot;</span>, <span class="hljs-string">&quot;富&quot;</span>, <span class="hljs-string">&quot;顺&quot;</span>, <span class="hljs-string">&quot;信&quot;</span>, <span class="hljs-string">&quot;子&quot;</span>, <span class="hljs-string">&quot;杰&quot;</span>, <span class="hljs-string">&quot;涛&quot;</span>, <span class="hljs-string">&quot;昌&quot;</span>, <span class="hljs-string">&quot;成&quot;</span>, <span class="hljs-string">&quot;康&quot;</span>, <span class="hljs-string">&quot;星&quot;</span>, <span class="hljs-string">&quot;光&quot;</span>, <span class="hljs-string">&quot;天&quot;</span>, <span class="hljs-string">&quot;达&quot;</span>, <span class="hljs-string">&quot;安&quot;</span>, <span class="hljs-string">&quot;岩&quot;</span>, <span class="hljs-string">&quot;中&quot;</span>, <span class="hljs-string">&quot;茂&quot;</span>, <span class="hljs-string">&quot;进&quot;</span>, <span class="hljs-string">&quot;林&quot;</span>, <span class="hljs-string">&quot;有&quot;</span>, <span class="hljs-string">&quot;坚&quot;</span>, <span class="hljs-string">&quot;和&quot;</span>, <span class="hljs-string">&quot;彪&quot;</span>, <span class="hljs-string">&quot;博&quot;</span>, <span class="hljs-string">&quot;诚&quot;</span>, <span class="hljs-string">&quot;先&quot;</span>, <span class="hljs-string">&quot;敬&quot;</span>, <span class="hljs-string">&quot;震&quot;</span>, <span class="hljs-string">&quot;振&quot;</span>, <span class="hljs-string">&quot;壮&quot;</span>, <span class="hljs-string">&quot;会&quot;</span>, <span class="hljs-string">&quot;思&quot;</span>, <span class="hljs-string">&quot;群&quot;</span>, <span class="hljs-string">&quot;豪&quot;</span>, <span class="hljs-string">&quot;心&quot;</span>, <span class="hljs-string">&quot;邦&quot;</span>, <span class="hljs-string">&quot;承&quot;</span>, <span class="hljs-string">&quot;乐&quot;</span>, <span class="hljs-string">&quot;绍&quot;</span>, <span class="hljs-string">&quot;功&quot;</span>, <span class="hljs-string">&quot;松&quot;</span>, <span class="hljs-string">&quot;善&quot;</span>, <span class="hljs-string">&quot;厚&quot;</span>, <span class="hljs-string">&quot;庆&quot;</span>, <span class="hljs-string">&quot;磊&quot;</span>, <span class="hljs-string">&quot;民&quot;</span>, <span class="hljs-string">&quot;友&quot;</span>, <span class="hljs-string">&quot;裕&quot;</span>, <span class="hljs-string">&quot;河&quot;</span>, <span class="hljs-string">&quot;哲&quot;</span>, <span class="hljs-string">&quot;江&quot;</span>, <span class="hljs-string">&quot;超&quot;</span>, <span class="hljs-string">&quot;浩&quot;</span>, <span class="hljs-string">&quot;亮&quot;</span>, <span class="hljs-string">&quot;政&quot;</span>, <span class="hljs-string">&quot;谦&quot;</span>, <span class="hljs-string">&quot;亨&quot;</span>, <span class="hljs-string">&quot;奇&quot;</span>, <span class="hljs-string">&quot;固&quot;</span>, <span class="hljs-string">&quot;之&quot;</span>, <span class="hljs-string">&quot;轮&quot;</span>, <span class="hljs-string">&quot;翰&quot;</span>, <span class="hljs-string">&quot;朗&quot;</span>, <span class="hljs-string">&quot;伯&quot;</span>, <span class="hljs-string">&quot;宏&quot;</span>, <span class="hljs-string">&quot;言&quot;</span>, <span class="hljs-string">&quot;若&quot;</span>, <span class="hljs-string">&quot;鸣&quot;</span>, <span class="hljs-string">&quot;朋&quot;</span>, <span class="hljs-string">&quot;斌&quot;</span>, <span class="hljs-string">&quot;梁&quot;</span>, <span class="hljs-string">&quot;栋&quot;</span>, <span class="hljs-string">&quot;维&quot;</span>, <span class="hljs-string">&quot;启&quot;</span>, <span class="hljs-string">&quot;克&quot;</span>, <span class="hljs-string">&quot;伦&quot;</span>, <span class="hljs-string">&quot;翔&quot;</span>, <span class="hljs-string">&quot;旭&quot;</span>, <span class="hljs-string">&quot;鹏&quot;</span>, <span class="hljs-string">&quot;泽&quot;</span>, <span class="hljs-string">&quot;晨&quot;</span>, <span class="hljs-string">&quot;辰&quot;</span>, <span class="hljs-string">&quot;士&quot;</span>, <span class="hljs-string">&quot;以&quot;</span>, <span class="hljs-string">&quot;建&quot;</span>, <span class="hljs-string">&quot;家&quot;</span>, <span class="hljs-string">&quot;致&quot;</span>, <span class="hljs-string">&quot;树&quot;</span>, <span class="hljs-string">&quot;炎&quot;</span>, <span class="hljs-string">&quot;德&quot;</span>, <span class="hljs-string">&quot;行&quot;</span>, <span class="hljs-string">&quot;时&quot;</span>, <span class="hljs-string">&quot;泰&quot;</span>, <span class="hljs-string">&quot;盛&quot;</span> &#125;;<br><br><br><span class="hljs-comment">//女性常用名</span><br><span class="hljs-built_in">string</span> ME1f[<span class="hljs-number">165</span>] = &#123; <span class="hljs-string">&quot;秀&quot;</span>, <span class="hljs-string">&quot;娟&quot;</span>, <span class="hljs-string">&quot;英&quot;</span>, <span class="hljs-string">&quot;华&quot;</span>, <span class="hljs-string">&quot;慧&quot;</span>, <span class="hljs-string">&quot;巧&quot;</span>, <span class="hljs-string">&quot;美&quot;</span>, <span class="hljs-string">&quot;娜&quot;</span>, <span class="hljs-string">&quot;静&quot;</span>, <span class="hljs-string">&quot;淑&quot;</span>, <span class="hljs-string">&quot;惠&quot;</span>, <span class="hljs-string">&quot;珠&quot;</span>, <span class="hljs-string">&quot;翠&quot;</span>, <span class="hljs-string">&quot;雅&quot;</span>, <span class="hljs-string">&quot;芝&quot;</span>, <span class="hljs-string">&quot;玉&quot;</span>, <span class="hljs-string">&quot;萍&quot;</span>, <span class="hljs-string">&quot;红&quot;</span>, <span class="hljs-string">&quot;娥&quot;</span>, <span class="hljs-string">&quot;玲&quot;</span>, <span class="hljs-string">&quot;芬&quot;</span>, <span class="hljs-string">&quot;芳&quot;</span>, <span class="hljs-string">&quot;燕&quot;</span>, <span class="hljs-string">&quot;彩&quot;</span>, <span class="hljs-string">&quot;春&quot;</span>, <span class="hljs-string">&quot;菊&quot;</span>, <span class="hljs-string">&quot;兰&quot;</span>, <span class="hljs-string">&quot;凤&quot;</span>, <span class="hljs-string">&quot;洁&quot;</span>, <span class="hljs-string">&quot;梅&quot;</span>, <span class="hljs-string">&quot;琳&quot;</span>, <span class="hljs-string">&quot;素&quot;</span>, <span class="hljs-string">&quot;云&quot;</span>, <span class="hljs-string">&quot;莲&quot;</span>, <span class="hljs-string">&quot;真&quot;</span>, <span class="hljs-string">&quot;环&quot;</span>, <span class="hljs-string">&quot;雪&quot;</span>, <span class="hljs-string">&quot;荣&quot;</span>, <span class="hljs-string">&quot;爱&quot;</span>, <span class="hljs-string">&quot;妹&quot;</span>, <span class="hljs-string">&quot;霞&quot;</span>, <span class="hljs-string">&quot;香&quot;</span>, <span class="hljs-string">&quot;月&quot;</span>, <span class="hljs-string">&quot;莺&quot;</span>, <span class="hljs-string">&quot;媛&quot;</span>, <span class="hljs-string">&quot;艳&quot;</span>, <span class="hljs-string">&quot;瑞&quot;</span>, <span class="hljs-string">&quot;凡&quot;</span>, <span class="hljs-string">&quot;佳&quot;</span>, <span class="hljs-string">&quot;嘉&quot;</span>, <span class="hljs-string">&quot;琼&quot;</span>, <span class="hljs-string">&quot;勤&quot;</span>, <span class="hljs-string">&quot;珍&quot;</span>, <span class="hljs-string">&quot;贞&quot;</span>, <span class="hljs-string">&quot;莉&quot;</span>, <span class="hljs-string">&quot;桂&quot;</span>, <span class="hljs-string">&quot;娣&quot;</span>, <span class="hljs-string">&quot;叶&quot;</span>, <span class="hljs-string">&quot;璧&quot;</span>, <span class="hljs-string">&quot;璐&quot;</span>, <span class="hljs-string">&quot;娅&quot;</span>, <span class="hljs-string">&quot;琦&quot;</span>, <span class="hljs-string">&quot;晶&quot;</span>, <span class="hljs-string">&quot;妍&quot;</span>, <span class="hljs-string">&quot;茜&quot;</span>, <span class="hljs-string">&quot;秋&quot;</span>, <span class="hljs-string">&quot;珊&quot;</span>, <span class="hljs-string">&quot;莎&quot;</span>, <span class="hljs-string">&quot;锦&quot;</span>, <span class="hljs-string">&quot;黛&quot;</span>, <span class="hljs-string">&quot;青&quot;</span>, <span class="hljs-string">&quot;倩&quot;</span>, <span class="hljs-string">&quot;婷&quot;</span>, <span class="hljs-string">&quot;姣&quot;</span>, <span class="hljs-string">&quot;婉&quot;</span>, <span class="hljs-string">&quot;娴&quot;</span>, <span class="hljs-string">&quot;瑾&quot;</span>, <span class="hljs-string">&quot;颖&quot;</span>, <span class="hljs-string">&quot;露&quot;</span>, <span class="hljs-string">&quot;瑶&quot;</span>, <span class="hljs-string">&quot;怡&quot;</span>, <span class="hljs-string">&quot;婵&quot;</span>, <span class="hljs-string">&quot;雁&quot;</span>, <span class="hljs-string">&quot;蓓&quot;</span>, <span class="hljs-string">&quot;纨&quot;</span>, <span class="hljs-string">&quot;仪&quot;</span>, <span class="hljs-string">&quot;荷&quot;</span>, <span class="hljs-string">&quot;丹&quot;</span>, <span class="hljs-string">&quot;蓉&quot;</span>, <span class="hljs-string">&quot;眉&quot;</span>, <span class="hljs-string">&quot;君&quot;</span>, <span class="hljs-string">&quot;琴&quot;</span>, <span class="hljs-string">&quot;蕊&quot;</span>, <span class="hljs-string">&quot;薇&quot;</span>, <span class="hljs-string">&quot;菁&quot;</span>, <span class="hljs-string">&quot;梦&quot;</span>, <span class="hljs-string">&quot;岚&quot;</span>, <span class="hljs-string">&quot;苑&quot;</span>, <span class="hljs-string">&quot;筠&quot;</span>, <span class="hljs-string">&quot;柔&quot;</span>, <span class="hljs-string">&quot;竹&quot;</span>, <span class="hljs-string">&quot;霭&quot;</span>, <span class="hljs-string">&quot;凝&quot;</span>, <span class="hljs-string">&quot;晓&quot;</span>, <span class="hljs-string">&quot;欢&quot;</span>, <span class="hljs-string">&quot;霄&quot;</span>, <span class="hljs-string">&quot;枫&quot;</span>, <span class="hljs-string">&quot;芸&quot;</span>, <span class="hljs-string">&quot;菲&quot;</span>, <span class="hljs-string">&quot;寒&quot;</span>, <span class="hljs-string">&quot;欣&quot;</span>, <span class="hljs-string">&quot;滢&quot;</span>, <span class="hljs-string">&quot;伊&quot;</span>, <span class="hljs-string">&quot;亚&quot;</span>, <span class="hljs-string">&quot;宜&quot;</span>, <span class="hljs-string">&quot;可&quot;</span>, <span class="hljs-string">&quot;姬&quot;</span>, <span class="hljs-string">&quot;舒&quot;</span>, <span class="hljs-string">&quot;影&quot;</span>, <span class="hljs-string">&quot;荔&quot;</span>, <span class="hljs-string">&quot;枝&quot;</span>, <span class="hljs-string">&quot;思&quot;</span>, <span class="hljs-string">&quot;丽&quot;</span>, <span class="hljs-string">&quot;秀&quot;</span>, <span class="hljs-string">&quot;飘&quot;</span>, <span class="hljs-string">&quot;育&quot;</span>, <span class="hljs-string">&quot;馥&quot;</span>, <span class="hljs-string">&quot;琦&quot;</span>, <span class="hljs-string">&quot;晶&quot;</span>, <span class="hljs-string">&quot;妍&quot;</span>, <span class="hljs-string">&quot;茜&quot;</span>, <span class="hljs-string">&quot;秋&quot;</span>, <span class="hljs-string">&quot;珊&quot;</span>, <span class="hljs-string">&quot;莎&quot;</span>, <span class="hljs-string">&quot;锦&quot;</span>, <span class="hljs-string">&quot;黛&quot;</span>, <span class="hljs-string">&quot;青&quot;</span>, <span class="hljs-string">&quot;倩&quot;</span>, <span class="hljs-string">&quot;婷&quot;</span>, <span class="hljs-string">&quot;宁&quot;</span>, <span class="hljs-string">&quot;蓓&quot;</span>, <span class="hljs-string">&quot;纨&quot;</span>, <span class="hljs-string">&quot;苑&quot;</span>, <span class="hljs-string">&quot;婕&quot;</span>, <span class="hljs-string">&quot;馨&quot;</span>, <span class="hljs-string">&quot;瑗&quot;</span>, <span class="hljs-string">&quot;琰&quot;</span>, <span class="hljs-string">&quot;韵&quot;</span>, <span class="hljs-string">&quot;融&quot;</span>, <span class="hljs-string">&quot;园&quot;</span>, <span class="hljs-string">&quot;艺&quot;</span>, <span class="hljs-string">&quot;咏&quot;</span>, <span class="hljs-string">&quot;卿&quot;</span>, <span class="hljs-string">&quot;聪&quot;</span>, <span class="hljs-string">&quot;澜&quot;</span>, <span class="hljs-string">&quot;纯&quot;</span>, <span class="hljs-string">&quot;毓&quot;</span>, <span class="hljs-string">&quot;悦&quot;</span>, <span class="hljs-string">&quot;昭&quot;</span>, <span class="hljs-string">&quot;冰&quot;</span>, <span class="hljs-string">&quot;爽&quot;</span>, <span class="hljs-string">&quot;琬&quot;</span>, <span class="hljs-string">&quot;茗&quot;</span>, <span class="hljs-string">&quot;羽&quot;</span>, <span class="hljs-string">&quot;希&quot;</span> &#125;;<br><span class="hljs-built_in">string</span> ME2f[<span class="hljs-number">165</span>] = &#123; <span class="hljs-string">&quot;秀&quot;</span>, <span class="hljs-string">&quot;娟&quot;</span>, <span class="hljs-string">&quot;英&quot;</span>, <span class="hljs-string">&quot;华&quot;</span>, <span class="hljs-string">&quot;慧&quot;</span>, <span class="hljs-string">&quot;巧&quot;</span>, <span class="hljs-string">&quot;美&quot;</span>, <span class="hljs-string">&quot;娜&quot;</span>, <span class="hljs-string">&quot;静&quot;</span>, <span class="hljs-string">&quot;淑&quot;</span>, <span class="hljs-string">&quot;惠&quot;</span>, <span class="hljs-string">&quot;珠&quot;</span>, <span class="hljs-string">&quot;翠&quot;</span>, <span class="hljs-string">&quot;雅&quot;</span>, <span class="hljs-string">&quot;芝&quot;</span>, <span class="hljs-string">&quot;玉&quot;</span>, <span class="hljs-string">&quot;萍&quot;</span>, <span class="hljs-string">&quot;红&quot;</span>, <span class="hljs-string">&quot;娥&quot;</span>, <span class="hljs-string">&quot;玲&quot;</span>, <span class="hljs-string">&quot;芬&quot;</span>, <span class="hljs-string">&quot;芳&quot;</span>, <span class="hljs-string">&quot;燕&quot;</span>, <span class="hljs-string">&quot;彩&quot;</span>, <span class="hljs-string">&quot;春&quot;</span>, <span class="hljs-string">&quot;菊&quot;</span>, <span class="hljs-string">&quot;兰&quot;</span>, <span class="hljs-string">&quot;凤&quot;</span>, <span class="hljs-string">&quot;洁&quot;</span>, <span class="hljs-string">&quot;梅&quot;</span>, <span class="hljs-string">&quot;琳&quot;</span>, <span class="hljs-string">&quot;素&quot;</span>, <span class="hljs-string">&quot;云&quot;</span>, <span class="hljs-string">&quot;莲&quot;</span>, <span class="hljs-string">&quot;真&quot;</span>, <span class="hljs-string">&quot;环&quot;</span>, <span class="hljs-string">&quot;雪&quot;</span>, <span class="hljs-string">&quot;荣&quot;</span>, <span class="hljs-string">&quot;爱&quot;</span>, <span class="hljs-string">&quot;妹&quot;</span>, <span class="hljs-string">&quot;霞&quot;</span>, <span class="hljs-string">&quot;香&quot;</span>, <span class="hljs-string">&quot;月&quot;</span>, <span class="hljs-string">&quot;莺&quot;</span>, <span class="hljs-string">&quot;媛&quot;</span>, <span class="hljs-string">&quot;艳&quot;</span>, <span class="hljs-string">&quot;瑞&quot;</span>, <span class="hljs-string">&quot;凡&quot;</span>, <span class="hljs-string">&quot;佳&quot;</span>, <span class="hljs-string">&quot;嘉&quot;</span>, <span class="hljs-string">&quot;琼&quot;</span>, <span class="hljs-string">&quot;勤&quot;</span>, <span class="hljs-string">&quot;珍&quot;</span>, <span class="hljs-string">&quot;贞&quot;</span>, <span class="hljs-string">&quot;莉&quot;</span>, <span class="hljs-string">&quot;桂&quot;</span>, <span class="hljs-string">&quot;娣&quot;</span>, <span class="hljs-string">&quot;叶&quot;</span>, <span class="hljs-string">&quot;璧&quot;</span>, <span class="hljs-string">&quot;璐&quot;</span>, <span class="hljs-string">&quot;娅&quot;</span>, <span class="hljs-string">&quot;琦&quot;</span>, <span class="hljs-string">&quot;晶&quot;</span>, <span class="hljs-string">&quot;妍&quot;</span>, <span class="hljs-string">&quot;茜&quot;</span>, <span class="hljs-string">&quot;秋&quot;</span>, <span class="hljs-string">&quot;珊&quot;</span>, <span class="hljs-string">&quot;莎&quot;</span>, <span class="hljs-string">&quot;锦&quot;</span>, <span class="hljs-string">&quot;黛&quot;</span>, <span class="hljs-string">&quot;青&quot;</span>, <span class="hljs-string">&quot;倩&quot;</span>, <span class="hljs-string">&quot;婷&quot;</span>, <span class="hljs-string">&quot;姣&quot;</span>, <span class="hljs-string">&quot;婉&quot;</span>, <span class="hljs-string">&quot;娴&quot;</span>, <span class="hljs-string">&quot;瑾&quot;</span>, <span class="hljs-string">&quot;颖&quot;</span>, <span class="hljs-string">&quot;露&quot;</span>, <span class="hljs-string">&quot;瑶&quot;</span>, <span class="hljs-string">&quot;怡&quot;</span>, <span class="hljs-string">&quot;婵&quot;</span>, <span class="hljs-string">&quot;雁&quot;</span>, <span class="hljs-string">&quot;蓓&quot;</span>, <span class="hljs-string">&quot;纨&quot;</span>, <span class="hljs-string">&quot;仪&quot;</span>, <span class="hljs-string">&quot;荷&quot;</span>, <span class="hljs-string">&quot;丹&quot;</span>, <span class="hljs-string">&quot;蓉&quot;</span>, <span class="hljs-string">&quot;眉&quot;</span>, <span class="hljs-string">&quot;君&quot;</span>, <span class="hljs-string">&quot;琴&quot;</span>, <span class="hljs-string">&quot;蕊&quot;</span>, <span class="hljs-string">&quot;薇&quot;</span>, <span class="hljs-string">&quot;菁&quot;</span>, <span class="hljs-string">&quot;梦&quot;</span>, <span class="hljs-string">&quot;岚&quot;</span>, <span class="hljs-string">&quot;苑&quot;</span>, <span class="hljs-string">&quot;筠&quot;</span>, <span class="hljs-string">&quot;柔&quot;</span>, <span class="hljs-string">&quot;竹&quot;</span>, <span class="hljs-string">&quot;霭&quot;</span>, <span class="hljs-string">&quot;凝&quot;</span>, <span class="hljs-string">&quot;晓&quot;</span>, <span class="hljs-string">&quot;欢&quot;</span>, <span class="hljs-string">&quot;霄&quot;</span>, <span class="hljs-string">&quot;枫&quot;</span>, <span class="hljs-string">&quot;芸&quot;</span>, <span class="hljs-string">&quot;菲&quot;</span>, <span class="hljs-string">&quot;寒&quot;</span>, <span class="hljs-string">&quot;欣&quot;</span>, <span class="hljs-string">&quot;滢&quot;</span>, <span class="hljs-string">&quot;伊&quot;</span>, <span class="hljs-string">&quot;亚&quot;</span>, <span class="hljs-string">&quot;宜&quot;</span>, <span class="hljs-string">&quot;可&quot;</span>, <span class="hljs-string">&quot;姬&quot;</span>, <span class="hljs-string">&quot;舒&quot;</span>, <span class="hljs-string">&quot;影&quot;</span>, <span class="hljs-string">&quot;荔&quot;</span>, <span class="hljs-string">&quot;枝&quot;</span>, <span class="hljs-string">&quot;思&quot;</span>, <span class="hljs-string">&quot;丽&quot;</span>, <span class="hljs-string">&quot;秀&quot;</span>, <span class="hljs-string">&quot;飘&quot;</span>, <span class="hljs-string">&quot;育&quot;</span>, <span class="hljs-string">&quot;馥&quot;</span>, <span class="hljs-string">&quot;琦&quot;</span>, <span class="hljs-string">&quot;晶&quot;</span>, <span class="hljs-string">&quot;妍&quot;</span>, <span class="hljs-string">&quot;茜&quot;</span>, <span class="hljs-string">&quot;秋&quot;</span>, <span class="hljs-string">&quot;珊&quot;</span>, <span class="hljs-string">&quot;莎&quot;</span>, <span class="hljs-string">&quot;锦&quot;</span>, <span class="hljs-string">&quot;黛&quot;</span>, <span class="hljs-string">&quot;青&quot;</span>, <span class="hljs-string">&quot;倩&quot;</span>, <span class="hljs-string">&quot;婷&quot;</span>, <span class="hljs-string">&quot;宁&quot;</span>, <span class="hljs-string">&quot;蓓&quot;</span>, <span class="hljs-string">&quot;纨&quot;</span>, <span class="hljs-string">&quot;苑&quot;</span>, <span class="hljs-string">&quot;婕&quot;</span>, <span class="hljs-string">&quot;馨&quot;</span>, <span class="hljs-string">&quot;瑗&quot;</span>, <span class="hljs-string">&quot;琰&quot;</span>, <span class="hljs-string">&quot;韵&quot;</span>, <span class="hljs-string">&quot;融&quot;</span>, <span class="hljs-string">&quot;园&quot;</span>, <span class="hljs-string">&quot;艺&quot;</span>, <span class="hljs-string">&quot;咏&quot;</span>, <span class="hljs-string">&quot;卿&quot;</span>, <span class="hljs-string">&quot;聪&quot;</span>, <span class="hljs-string">&quot;澜&quot;</span>, <span class="hljs-string">&quot;纯&quot;</span>, <span class="hljs-string">&quot;毓&quot;</span>, <span class="hljs-string">&quot;悦&quot;</span>, <span class="hljs-string">&quot;昭&quot;</span>, <span class="hljs-string">&quot;冰&quot;</span>, <span class="hljs-string">&quot;爽&quot;</span>, <span class="hljs-string">&quot;琬&quot;</span>, <span class="hljs-string">&quot;茗&quot;</span>, <span class="hljs-string">&quot;羽&quot;</span>, <span class="hljs-string">&quot;希&quot;</span> &#125;;<br><br><span class="hljs-keyword">int</span> NA1Roll = rnd() % <span class="hljs-number">444</span>;<span class="hljs-comment">//单姓</span><br><span class="hljs-keyword">int</span> NA2Roll = rnd() % <span class="hljs-number">59</span>;<span class="hljs-comment">//复姓</span><br><span class="hljs-keyword">int</span> ME1mRoll = rnd() % <span class="hljs-number">140</span>;<span class="hljs-comment">//男名</span><br><span class="hljs-keyword">int</span> ME2mRoll = rnd() % <span class="hljs-number">140</span>;<span class="hljs-comment">//男名</span><br><span class="hljs-keyword">int</span> ME1fRoll = rnd() % <span class="hljs-number">165</span>;<span class="hljs-comment">//女名</span><br><span class="hljs-keyword">int</span> ME2fRoll = rnd() % <span class="hljs-number">165</span>;<span class="hljs-comment">//女名</span><br><br><span class="hljs-comment">//单姓单名男</span><br><span class="hljs-built_in">cout</span> &lt;&lt; NA1[NA1Roll] &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; ME1m[ME1mRoll] &lt;&lt; <span class="hljs-string">&quot; 男&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br><br>NA1Roll = rnd() % <span class="hljs-number">444</span>;<span class="hljs-comment">//单姓</span><br>ME1mRoll = rnd() % <span class="hljs-number">140</span>;<span class="hljs-comment">//男名</span><br><span class="hljs-comment">//单姓单名女</span><br><span class="hljs-built_in">cout</span> &lt;&lt; NA1[NA1Roll] &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; ME1f[ME1fRoll] &lt;&lt; <span class="hljs-string">&quot; 女&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br><br>NA1Roll = rnd() % <span class="hljs-number">444</span>;<span class="hljs-comment">//单姓</span><br>ME1mRoll = rnd() % <span class="hljs-number">140</span>;<span class="hljs-comment">//男名</span><br>ME2mRoll = rnd() % <span class="hljs-number">140</span>;<span class="hljs-comment">//男名</span><br><span class="hljs-comment">//单姓双名男</span><br><span class="hljs-built_in">cout</span> &lt;&lt; NA1[NA1Roll] &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; ME1m[ME1mRoll] &lt;&lt; ME1m[ME2mRoll] &lt;&lt; <span class="hljs-string">&quot; 男&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br><br>NA1Roll = rnd() % <span class="hljs-number">444</span>;<span class="hljs-comment">//单姓</span><br>ME1fRoll = rnd() % <span class="hljs-number">165</span>;<span class="hljs-comment">//女名</span><br>ME2fRoll = rnd() % <span class="hljs-number">165</span>;<span class="hljs-comment">//女名</span><br><span class="hljs-comment">//单姓双名女</span><br><span class="hljs-built_in">cout</span> &lt;&lt; NA1[NA1Roll] &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; ME1f[ME1fRoll] &lt;&lt; ME1f[ME2fRoll] &lt;&lt; <span class="hljs-string">&quot; 女&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br><br><span class="hljs-keyword">if</span>(rnd() % <span class="hljs-number">2</span> == <span class="hljs-number">1</span>)<br>&#123;<br><br>NA2Roll = rnd() % <span class="hljs-number">59</span>;<span class="hljs-comment">//复姓</span><br>ME1mRoll = rnd() % <span class="hljs-number">140</span>;<span class="hljs-comment">//男名</span><br><span class="hljs-comment">//复姓单名男</span><br><span class="hljs-built_in">cout</span> &lt;&lt; NA2[NA2Roll] &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; ME1m[ME1mRoll] &lt;&lt; <span class="hljs-string">&quot; 男&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>&#125;<br><span class="hljs-keyword">else</span><br>&#123;<br>NA2Roll = rnd() % <span class="hljs-number">59</span>;<span class="hljs-comment">//复姓</span><br>ME1fRoll = rnd() % <span class="hljs-number">165</span>;<span class="hljs-comment">//女名</span><br><span class="hljs-comment">//复姓单名女</span><br><span class="hljs-built_in">cout</span> &lt;&lt; NA2[NA2Roll] &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; ME1f[ME1fRoll] &lt;&lt; <span class="hljs-string">&quot; 女&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>&#125;<br><span class="hljs-keyword">if</span>(rnd() % <span class="hljs-number">2</span> == <span class="hljs-number">1</span>)<br>&#123;<br>NA2Roll = rnd() % <span class="hljs-number">59</span>;<span class="hljs-comment">//复姓</span><br>ME1mRoll = rnd() % <span class="hljs-number">140</span>;<span class="hljs-comment">//男名</span><br>ME2mRoll = rnd() % <span class="hljs-number">140</span>;<span class="hljs-comment">//男名</span><br><span class="hljs-comment">//复姓双名男</span><br><span class="hljs-built_in">cout</span> &lt;&lt; NA2[NA2Roll] &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; ME1m[ME1mRoll] &lt;&lt; ME2m[ME2mRoll] &lt;&lt; <span class="hljs-string">&quot; 男&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>&#125;<br><span class="hljs-keyword">else</span><br>&#123;<br><br>NA2Roll = rnd() % <span class="hljs-number">59</span>;<span class="hljs-comment">//复姓</span><br>ME1fRoll = rnd() % <span class="hljs-number">165</span>;<span class="hljs-comment">//女名</span><br>ME2fRoll = rnd() % <span class="hljs-number">165</span>;<span class="hljs-comment">//女名</span><br><span class="hljs-comment">//复姓双名女</span><br><span class="hljs-built_in">cout</span> &lt;&lt; NA2[NA2Roll] &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; ME1f[ME1fRoll] &lt;&lt; ME2f[ME2fRoll] &lt;&lt; <span class="hljs-string">&quot; 女&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>&#125;<br><span class="hljs-comment">// cout &lt;&lt; &quot;\n&quot; &lt;&lt; endl;</span><br><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>freopen(<span class="hljs-string">&quot;name.txt&quot;</span>, <span class="hljs-string">&quot;w&quot;</span>, <span class="hljs-built_in">stdout</span>);<br><span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">10</span>; ++i)NAME();<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>最后生成的姓名，姓、名是分开的以及对应的性别，，</p><p>类似这样，，，</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs text">包 梁 男<br>伊 苑 女<br>芮 光功 男<br>从 菊茜 女<br>澹台 纯 女<br>宗政 超德 男<br>钮 生 男<br>湛 竹 女<br>叶 泰固 男<br>仰 彩秋 女<br>太叔 芝 女<br>呼延 俊进 男<br>经 谦 男<br>宓 娥 女<br>韩 贵有 男<br></code></pre></td></tr></table></figure><p>(end)</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;做项目的时候有时会用到自己造一个数据库，数值信息都可以随便rand出来，，但是中文姓名不太好处理，，&lt;a href=&quot;https://www.cnblogs.com/kindom/p/3963610.html&quot;&gt;最后借鉴了这篇博客&lt;/a&gt; ，， 把他的一些东西改了改，够用了，，&lt;/p&gt;</summary>
    
    
    
    <category term="小工具" scheme="http://blog.31415x.cf/categories/%E5%B0%8F%E5%B7%A5%E5%85%B7/"/>
    
    
    <category term="笔记" scheme="http://blog.31415x.cf/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="工程" scheme="http://blog.31415x.cf/tags/%E5%B7%A5%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>Codeforces Round #585 (Div. 2)</title>
    <link href="http://blog.31415x.cf/2019/09/19/Codeforces-Round-585-Div-2/"/>
    <id>http://blog.31415x.cf/2019/09/19/Codeforces-Round-585-Div-2/</id>
    <published>2019-09-19T14:08:30.000Z</published>
    <updated>2019-09-19T14:56:13.682Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>感觉很硬核啊这场，，越往后越做不动，，，emmmm，，，（这场是奔着最后一题 2sat 来的，，，上次学这玩意是在今年的3、4月份把，，，早忘得差不多了，，，</p><span id="more"></span><h1 id="A-Yellow-Cards"><a href="#A-Yellow-Cards" class="headerlink" title="A. Yellow Cards"></a>A. Yellow Cards</h1><p>A题较简单，，贪心就行了，，</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br> <br><span class="hljs-keyword">int</span> a[maxn], n;<br> <br> <br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br> <br>    <span class="hljs-keyword">int</span> n, a1, a2, k1, k2;<br>    <span class="hljs-built_in">cin</span> &gt;&gt; a1 &gt;&gt; a2 &gt;&gt; k1 &gt;&gt; k2 &gt;&gt; n;<br>    <span class="hljs-keyword">int</span> mi = <span class="hljs-number">0</span>, mx = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">if</span>(a1 * (k1 - <span class="hljs-number">1</span>) + a2 * (k2 - <span class="hljs-number">1</span>) &gt;= n)mi = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">else</span> mi = n - a1 * (k1 - <span class="hljs-number">1</span>) - a2 * (k2 - <span class="hljs-number">1</span>);<br> <br>    <span class="hljs-keyword">if</span>(k1 &lt;= k2)<br>    &#123;<br>        <span class="hljs-keyword">while</span>(n &gt;= k1 &amp;&amp; a1)<br>        &#123;<br>            --a1;<br>            n -= k1;<br>            ++mx;<br>        &#125;<br>        <span class="hljs-keyword">while</span>(n &gt;= k2 &amp;&amp; a2)<br>        &#123;<br>            --a2;<br>            n -= k2;<br>            ++mx;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        <span class="hljs-keyword">while</span>(n &gt;= k2 &amp;&amp; a2)<br>        &#123;<br>            --a2;<br>            n -= k2;<br>            ++mx;<br>        &#125;<br>        <span class="hljs-keyword">while</span>(n &gt;= k1 &amp;&amp; a1)<br>        &#123;<br>            --a1;<br>            n -= k1;<br>            ++mx;<br>        &#125;<br>    &#125;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; mi &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; mx &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="B-The-Number-of-Products"><a href="#B-The-Number-of-Products" class="headerlink" title="B. The Number of Products"></a>B. The Number of Products</h1><p>A掉A题，，感觉还行，，以为后面的都很简单，，然后就在B、C题卡了半天，，</p><p>题意就是一个序列中，正区间和负区间的个数有多少，，这里的区间指的是区间积，，，</p><p>刚开始以为暴力可过，，<del>（口胡</del> ，，然后交了一发果断T了，，，</p><p>又推了一会发现可以枚举左端点所在的区间，，然后他的贡献就是后面的+2,,+4,,+6等等区间的和的积，，所以只要预处理一下每一个用负点分割的左闭右开的区间的长度，，然后处理成隔一个的后缀和就行了，，，</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br> <br><span class="hljs-keyword">int</span> a[maxn], n;<br><span class="hljs-keyword">int</span> p[maxn], tot;<br>ll pp[maxn];<br> <br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br> <br>    <span class="hljs-built_in">cin</span> &gt;&gt; n;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; a[i];<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        <span class="hljs-keyword">if</span>(a[i] &lt; <span class="hljs-number">0</span>)<br>            p[++tot] = i;<br>    p[tot + <span class="hljs-number">1</span>] = n + <span class="hljs-number">1</span>; p[tot + <span class="hljs-number">2</span>] = n + <span class="hljs-number">1</span>;<br>    ll ans1 = <span class="hljs-number">0</span>, ans2 = <span class="hljs-number">0</span>;<br>    ++tot;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = tot; i &gt;= <span class="hljs-number">1</span>; --i)pp[i] = p[i] - p[i - <span class="hljs-number">1</span>];<span class="hljs-comment">//--pp[1];</span><br>    <span class="hljs-comment">// for(int i = 1; i &lt;= tot; ++i)cout &lt;&lt; pp[i] &lt;&lt; &quot; &quot;;cout &lt;&lt; endl;</span><br>    <br> <br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = tot - <span class="hljs-number">2</span>; i &gt;= <span class="hljs-number">1</span>; --i)pp[i] += pp[i + <span class="hljs-number">2</span>];<br>    <span class="hljs-comment">// for(int i = 1; i &lt;= tot; ++i)cout &lt;&lt; pp[i] &lt;&lt; &quot; &quot;;cout &lt;&lt; endl;</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= tot; ++i)<br>    &#123;<br>        <span class="hljs-comment">// int x = p[i] - p[i - 1] - 1;</span><br>        ll x = pp[i] - pp[i + <span class="hljs-number">2</span>];<br>        ll y = pp[i + <span class="hljs-number">1</span>];<br>        <span class="hljs-comment">// cout &lt;&lt; x &lt;&lt; &quot;-&quot; &lt;&lt; y &lt;&lt; endl;</span><br>        ans1 += x * y; <br>        y = pp[i + <span class="hljs-number">2</span>];<br>        ans2 += x * y;<br>        --x;<br>        <span class="hljs-keyword">while</span>(x)ans2 += x--;<br>    &#125;<br> <br>    <span class="hljs-built_in">cout</span> &lt;&lt; ans1 &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; ans2 &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="C-Swap-Letters"><a href="#C-Swap-Letters" class="headerlink" title="C. Swap Letters"></a>C. Swap Letters</h1><p>题意就是两个串，，只含有ab，，然后每一次的操作是挑第一个串中的一个和第二个串中的一个交换，，然后问题最少的操作次数下使得两串一样，，</p><p>我当时的思路是用一个 r 表示右端已经修改的位置，，然后遍历一遍，，当第i个位置的不同时，，利用r向后找一个可以交换的，，口胡了一下就直接敲了，，，然后不断的发现逻辑上的bug，，，emmmm，，一直改到成了N方的解法，，，，</p><p>看了一下别人的思路，，显然优先考虑相同的两个进行操作，，剩下的也只能操作偶数个，，使用的操作次数就是两次，，一次是反转其中一个，，然后像前面的就行了，，，，奇数个就是无解，，，（会爆ll</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br> <br><span class="hljs-keyword">char</span> s[maxn], t[maxn];<br><span class="hljs-keyword">int</span> n;<br> <br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br> <br>    <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; s &gt;&gt; t;<br>    <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; &gt; ans;<br>    <span class="hljs-keyword">int</span> r = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(s[i] != t[i])<br>        &#123;<br>            <span class="hljs-comment">// r = min(r, i + 1);</span><br>            r = i + <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">while</span>(!(t[r] == t[i] &amp;&amp; t[r] != s[r]) &amp;&amp; r &lt; n)++r;<br>            <span class="hljs-keyword">if</span>(r &gt;= n)<br>            &#123;<br>                r = i + <span class="hljs-number">1</span>;<br>                swap(s[i], t[i]);<br>                ans.push_back(<span class="hljs-built_in">make_pair</span>(i + <span class="hljs-number">1</span>, i + <span class="hljs-number">1</span>));<br>                <span class="hljs-comment">// cout &lt;&lt; &quot;----&quot; &lt;&lt; endl &lt;&lt; s &lt;&lt; endl &lt;&lt; t &lt;&lt; endl;</span><br>                <span class="hljs-keyword">while</span>(!(t[r] == t[i] &amp;&amp; t[r] != s[r]) &amp;&amp; r &lt; n)++r;<br>                <span class="hljs-keyword">if</span>(r &gt;= n)<br>                &#123;<br>                    <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">-1</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>                    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>                &#125;<br>            &#125;<br>            <span class="hljs-comment">// cout &lt;&lt; i + 1 &lt;&lt; r + 1 &lt;&lt; endl;</span><br>            ans.push_back(<span class="hljs-built_in">make_pair</span>(i + <span class="hljs-number">1</span>, r + <span class="hljs-number">1</span>));<br>            swap(s[i], t[r]);<br>        <span class="hljs-comment">// cout &lt;&lt; s &lt;&lt; endl &lt;&lt; t &lt;&lt; endl;</span><br>        &#125;<br>    &#125;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; ans.size() &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> &amp;i: ans)<span class="hljs-built_in">cout</span> &lt;&lt; i.first &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; i.second &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="D-Ticket-Game"><a href="#D-Ticket-Game" class="headerlink" title="D. Ticket Game"></a>D. Ticket Game</h1><p>博弈？？ 先弃了</p><p>感觉是一个好多情况的分类讨论题，，，</p><h1 id="E-Marbles"><a href="#E-Marbles" class="headerlink" title="E. Marbles"></a>E. Marbles</h1><p>状压dp，，，emmmm，，扔了，，</p><h1 id="F-Radio-Stations"><a href="#F-Radio-Stations" class="headerlink" title="F. Radio Stations"></a>F. Radio Stations</h1><p>重点来了，，，</p><p>这题的题干是真的长，，长篇阅读理解，，，emmmmmm</p><p>题目的大意是这样的：一个城市要弄一个发射塔，，它的功率是 $f (1\le f \le M)$ ，</p><p>有 $p$ 个节目，，对于每一个都有一个需要发射的功率范围： $(L_i, R_i)$ ，，也就是说当 $f$ 在这个范围时用户才能收到这个节目，，，</p><p>然后有一些需求，，数量是n，，，这些需求这样描述： $(a_i, b_i)$ ，，表示对于第 $i$ 个需求 <strong>至少</strong> 需要满足一个，，简单说就是至少要挑一个，，，</p><p>还有一些节目间的限制条件： $(u, v)$ ，，表示选了 $u$ 就不能选 $v$ ，，，反之亦然，，</p><p>然后问你这个发射塔的频率 $f$ 选择多少时使得 $n$ 个需求都可以满足</p><p>如果这题没有 $f$ 这个限制条件，这题2sat可直接过，，但是不行，，</p><p>当然可以枚举 $f$ ，，从1到M，，但是这样时间复杂度就是n方，，，T穿，，，</p><p>只能将 $f$ 放在我们建立的限制图中，，但是怎么建呢，，，</p><p>以前做的2sat题目都是固定的n对物品中每对中选择一个，，其中一些物品有限制条件，，这样做了很多题之后潜移默化的形成了一个固定的模型，，只有这n个物品可以进行操作，，这样的思想也使得我在刚读懂题时即使出现过将 p 个节目分成选或不选这样建图，，但是因为这样不会处理f，，于是放弃这种思路，，，向着将n个需求作为图中的点，，然后有限制的条件间连边，，这样的思考就不得不去枚举f，，，于是只能过小数据，，</p><p>这题的解决方法是 <strong>在n个节目的后面再加M个可以选择的f的情况</strong> ，，，这样一层点表示选这个情况，，第二层的点表示不选这个点，，建立相应的限制关系，，这样就可以跑一遍2sat得到两个想得到的东西，，，</p><p>前面的点的限制条件很好处理，，，按题意搞就行了</p><p>接下来处理后面的这M个点的情况，，，如果我们直接枚举每一个f可行解，，，那么和前面的暴力没啥区别，，，一样会T，，，</p><p><a href="https://blog.csdn.net/weixin_44231553/article/details/100927625">参考了一个博主的思路</a></p><p>这里我的理解是对于这些可行解都向前连边，，也就是 <code>选f&gt;=l+1必须选f&gt;=l</code> 这样就可以将区间的一个表示的限制条件转化成一个端点的表示，，（感觉有点类似差分的思想，，区间的操作改成端点的操作，，，</p><p>这样建图，，跑一边就行了，，，，最后输出答案，，</p><p>用tarjan的话判断的条件是两个点间是否不在一个scc中，，然后取最小就行了，，，</p><p>用染色法的话需要跑的点只是前半段p个，，，</p><h2 id="染色法"><a href="#染色法" class="headerlink" title="染色法"></a>染色法</h2><p>栈写反了，，，wa了好几发，，，，（丢人，，，</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">4e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">4e5</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br> <br> <br><span class="hljs-keyword">int</span> n, p, M, m, all;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt;<br>&#125;edge[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, head[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].nxt = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-keyword">int</span> sta[maxn], top;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(vis[u &gt; all ? u - all : u + all])<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">if</span>(vis[u])<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    vis[u] = <span class="hljs-literal">true</span>;<br>    sta[++top] = u;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>        <span class="hljs-keyword">if</span>(!dfs(edge[i].to))    <br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">twosat</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(vis, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> vis);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(vis[i] || vis[i + all])<span class="hljs-keyword">continue</span>;<br>        top = <span class="hljs-number">-1</span>;<br>        <span class="hljs-keyword">if</span>(!dfs(i))<br>        &#123;<br>            <span class="hljs-keyword">while</span>(~top)vis[sta[top--]] = <span class="hljs-literal">false</span>;<br>            <span class="hljs-keyword">if</span>(!dfs(i + all))<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br> <br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br> <br>    <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; p &gt;&gt; M &gt;&gt; m;<br>    all = p + M;<br>    <span class="hljs-keyword">int</span> u, v;<br>    init();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; u &gt;&gt; v;<br>        addedge(u + all, v);<br>        addedge(v + all, u);<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= p; ++i)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; u &gt;&gt; v;<br>        addedge(i, u + p); addedge(u + p + all, i + all);<br>        <span class="hljs-keyword">if</span>(v &lt; M)addedge(v + p + <span class="hljs-number">1</span>, i + all), addedge(i, v + p + all + <span class="hljs-number">1</span>);<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; u &gt;&gt; v;<br>        addedge(u, v + all);<br>        addedge(v, u + all);<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; M; ++i)<br>    &#123;<br>        addedge(i + p + <span class="hljs-number">1</span>, i + p);<br>        addedge(i + p + all, i + p + <span class="hljs-number">1</span> + all);<br>        <span class="hljs-comment">// addedge(i + p, i + p + 1);</span><br>        <span class="hljs-comment">// addedge(i + p + 1 + all, i + p + all);</span><br>    &#125;<br>    <span class="hljs-keyword">if</span>(twosat(p))<br>    &#123;<br>        <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; ans;<br>        <span class="hljs-keyword">int</span> f = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= p; ++i)<br>            <span class="hljs-keyword">if</span>(vis[i])<br>                ans.push_back(i);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = p + <span class="hljs-number">1</span>; i &lt;= p + M; ++i)<br>            <span class="hljs-keyword">if</span>(vis[i])<br>            &#123;<br>                f = i - p;<br>            &#125;<br>        <span class="hljs-keyword">if</span>(!f)<br>        &#123;<br>            <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">-1</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>        &#125;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; ans.size() &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; f &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> i: ans)<span class="hljs-built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>    &#125;<br>    <span class="hljs-keyword">else</span><br>    &#123;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">-1</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    &#125;<br>    <br> <br> <br>    <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="tarjan"><a href="#tarjan" class="headerlink" title="tarjan"></a>tarjan</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">4e6</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">4e5</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br> <br> <br><span class="hljs-keyword">int</span> n, p, M, m, all;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt;<br>&#125;edge[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, head[maxn &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].nxt = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-keyword">int</span> low[maxn], dfn[maxn], sta[maxn], belong[maxn];<br><span class="hljs-keyword">int</span> idx, top;<br><span class="hljs-keyword">int</span> scc;<br><span class="hljs-keyword">bool</span> insta[maxn];<br><span class="hljs-keyword">int</span> num[maxn];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">tarjan</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> v;<br>    low[u] = dfn[u] = ++idx;<br>    sta[top++] = u;<br>    insta[u] = <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>    &#123;<br>        v = edge[i].to;<br>        <span class="hljs-keyword">if</span>(!dfn[v])<br>        &#123;<br>            tarjan(v);<br>            <span class="hljs-keyword">if</span>(low[u] &gt; low[v])low[u] = low[v];<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(insta[v] &amp;&amp; low[u] &gt; dfn[v])<br>            low[u] = dfn[v];<br>    &#125;<br>    <span class="hljs-keyword">if</span>(low[u] == dfn[u])<br>    &#123;<br>        ++scc;<br>        <span class="hljs-keyword">do</span><br>        &#123;<br>            v = sta[--top];<br>            insta[v] = <span class="hljs-literal">false</span>;<br>            belong[v] = scc;<br>            ++num[scc];<br>        &#125;<br>        <span class="hljs-keyword">while</span>(v != u);<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">twosat</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">memset</span>(dfn, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> dfn);<br>    <span class="hljs-built_in">memset</span>(insta, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span> insta);<br>    <span class="hljs-built_in">memset</span>(num, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span> num);<br>    idx = scc = top = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>        <span class="hljs-keyword">if</span>(!dfn[i])<br>            tarjan(i);<br>    <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; ans;<br>    <span class="hljs-keyword">int</span> f = <span class="hljs-number">0</span>;<br>    <span class="hljs-comment">// for(int i = 1; i &lt;= p; ++i)cout &lt;&lt; belong[i] &lt;&lt; &quot; &quot;;cout &lt;&lt; &quot; &quot;;</span><br>    <span class="hljs-comment">// for(int i = 1; i &lt;= M; ++i)cout &lt;&lt; belong[i + p] &lt;&lt; &quot; &quot;;cout &lt;&lt; endl;</span><br>    <span class="hljs-comment">// for(int i = 1; i &lt;= p; ++i)cout &lt;&lt; belong[i + all] &lt;&lt; &quot; &quot;;cout &lt;&lt; &quot; &quot;;</span><br>    <span class="hljs-comment">// for(int i = 1; i &lt;= M; ++i)cout &lt;&lt; belong[i + p + all] &lt;&lt; &quot; &quot;;cout &lt;&lt; endl;</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= p; ++i)<br>        <span class="hljs-keyword">if</span>(belong[i] &lt; belong[i + all])<br>            ans.push_back(i);<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(belong[i] == belong[i + all])<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= M; ++i)<br>        <span class="hljs-keyword">if</span>(belong[i + p] &lt; belong[i + p + all])<br>            f = i;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(belong[i + p] == belong[i + p + all])<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; ans.size() &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; f &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> i: ans)<span class="hljs-built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br> <br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br> <br>    <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; p &gt;&gt; M &gt;&gt; m;<br>    all = p + M;<br>    <span class="hljs-keyword">int</span> u, v;<br>    init();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; u &gt;&gt; v;<br>        addedge(u + all, v);<br>        addedge(v + all, u);<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= p; ++i)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; u &gt;&gt; v;<br>        addedge(i, u + p); addedge(u + p + all, i + all);<br>        <span class="hljs-keyword">if</span>(v &lt; M)addedge(v + p + <span class="hljs-number">1</span>, i + all), addedge(i, v + p + all + <span class="hljs-number">1</span>);<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; u &gt;&gt; v;<br>        addedge(u, v + all);<br>        addedge(v, u + all);<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; M; ++i)<br>    &#123;<br>        addedge(i + p + <span class="hljs-number">1</span>, i + p);<br>        addedge(i + p + all, i + p + <span class="hljs-number">1</span> + all);<br>        <span class="hljs-comment">// addedge(i + p, i + p + 1);</span><br>        <span class="hljs-comment">// addedge(i + p + 1 + all, i + p + all);</span><br>    &#125;<br>    <span class="hljs-keyword">if</span>(!twosat(all &lt;&lt; <span class="hljs-number">1</span>))<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-number">-1</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <br> <br> <br>    <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>这道题的启发很大，，，2sat不一定就是解决一种选择下的解，，，只要这些不同种类的物品间有限制条件就可以放在一起，，，</p><p>（end)</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;感觉很硬核啊这场，，越往后越做不动，，，emmmm，，，（这场是奔着最后一题 2sat 来的，，，上次学这玩意是在今年的3、4月份把，，，早忘得差不多了，，，&lt;/p&gt;</summary>
    
    
    
    <category term="Codeforces" scheme="http://blog.31415x.cf/categories/Codeforces/"/>
    
    
    <category term="ACM" scheme="http://blog.31415x.cf/tags/ACM/"/>
    
    <category term="刷题" scheme="http://blog.31415x.cf/tags/%E5%88%B7%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>2019沈阳网络赛B.Dudu&#39;s maze</title>
    <link href="http://blog.31415x.cf/2019/09/14/2019%E6%B2%88%E9%98%B3%E7%BD%91%E7%BB%9C%E8%B5%9BB-Dudu-s-maze/"/>
    <id>http://blog.31415x.cf/2019/09/14/2019%E6%B2%88%E9%98%B3%E7%BD%91%E7%BB%9C%E8%B5%9BB-Dudu-s-maze/</id>
    <published>2019-09-14T12:19:45.000Z</published>
    <updated>2019-09-15T03:41:08.935Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>啊，，不在状态啊，，自闭一下午，，读错题，，然后背锅，，，明明这个简单的题，，，</p><span id="more"></span><p><a href="https://nanti.jisuanke.com/t/41402">这题</a>题面不容易看懂，，大致意思是给你一张图，，然后从1节点开始可以任意的走，，</p><p>有些节点是 monster 节点，，这样的节点总共只能走一次，，其他的点有一个糖果，问最大的取得糖果的期望</p><p>解法很简单，，先求出从1可以不经过 monster 的点的个数，，也就是1的联通块，，</p><p>然后对于每一个和1联通块的 monster 的下的联通块求他的点的个数，，点权就是个数与其所有从这点出发的路径数的商，，取这样 monster 的点权最大加前面的1联通块的点数就行了，，，</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-comment">// mt19937 rnd(time(0));</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> pi = <span class="hljs-number">3.14159265358979</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">2e5</span> + <span class="hljs-number">233</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-keyword">int</span> n, m, k;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">edge</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> to, nxt;<br>&#125;edge[maxm &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-keyword">int</span> tot, head[maxm &lt;&lt; <span class="hljs-number">1</span>];<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    tot = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">memset</span>(head, <span class="hljs-number">-1</span>, <span class="hljs-keyword">sizeof</span> head);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">addedge</span><span class="hljs-params">(<span class="hljs-keyword">int</span> u, <span class="hljs-keyword">int</span> v)</span></span><br><span class="hljs-function"></span>&#123;<br>    edge[tot].to = v;<br>    edge[tot].nxt = head[u];<br>    head[u] = tot++;<br>&#125;<br><span class="hljs-keyword">int</span> monster[maxn];<br><span class="hljs-keyword">bool</span> vismonster[maxn];<br><span class="hljs-keyword">int</span> fa[maxn];<br><span class="hljs-keyword">inline</span> <span class="hljs-keyword">int</span> _find(<span class="hljs-keyword">int</span> x)<br>&#123;<br>    <span class="hljs-keyword">if</span>(fa[x] == x)<span class="hljs-keyword">return</span> x;<br>    <span class="hljs-keyword">return</span> fa[x] = _find(fa[x]);<br>&#125;<br><span class="hljs-keyword">void</span> _union(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y)<br>&#123;<br>    <span class="hljs-keyword">int</span> f1 = _find(x);<br>    <span class="hljs-keyword">int</span> f2 = _find(y);<br>    <span class="hljs-keyword">if</span>(f1 != f2)fa[f2] = f1;<br>&#125;<br><span class="hljs-keyword">bool</span> vis[maxn];<br><span class="hljs-keyword">int</span> ans[maxn];<br><span class="hljs-built_in">queue</span>&lt;<span class="hljs-keyword">int</span>&gt; q;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">bfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">while</span>(!q.empty())q.pop();<br>    q.push(s);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)vis[i] = <span class="hljs-literal">false</span>;<br>    vis[s] = <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">while</span>(!q.empty())<br>    &#123;<br>        <span class="hljs-keyword">int</span> u = q.front(); q.pop();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[u]; ~i; i = edge[i].nxt)<br>        &#123;<br>            <span class="hljs-keyword">int</span> v = edge[i].to;<br>            <span class="hljs-keyword">if</span>(vis[v] || _find(v) == _find(<span class="hljs-number">1</span>))<span class="hljs-keyword">continue</span>;<br>            <span class="hljs-keyword">if</span>(vismonster[v])<br>            &#123;<br>                _union(s, v);<br>                vis[v] = <span class="hljs-literal">true</span>;<br>                <span class="hljs-keyword">continue</span>;<br>            &#125;<br>            vis[v] = <span class="hljs-literal">true</span>;<br>            q.push(v);<br>            _union(s, v);<br>            ++ans[s];<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    <span class="hljs-comment">// ios_base::sync_with_stdio(0);</span><br>    <span class="hljs-comment">// cin.tie(0);cout.tie(0);</span><br><br>    <span class="hljs-comment">// int t; cin &gt;&gt; t;</span><br>    <span class="hljs-keyword">int</span> t; <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;t);<br>    <span class="hljs-keyword">while</span>(t--)<br>    &#123;<br>        <span class="hljs-comment">// cin &gt;&gt; n &gt;&gt; m &gt;&gt; k;</span><br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>, &amp;n, &amp;m, &amp;k);<br>        <span class="hljs-keyword">int</span> u, v;<br>        init();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)vismonster[i] = <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; ++i)<br>        &#123;<br>            <span class="hljs-comment">// cin &gt;&gt; u &gt;&gt; v;</span><br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;u, &amp;v);<br>            addedge(u, v);<br>            addedge(v, u);<br>        &#125;<br>        <span class="hljs-comment">// for(int i = 1; i &lt;= k; ++i)cin &gt;&gt; monster[i], vismonster[monster[i]] = true;</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= k; ++i)<br>        &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;monster[i]);<br>            vismonster[monster[i]] = <span class="hljs-literal">true</span>;<br>        &#125;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)fa[i] = i;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)ans[i] = <span class="hljs-number">0</span>;<br>        ans[<span class="hljs-number">1</span>] = <span class="hljs-number">1</span>;<br>        bfs(<span class="hljs-number">1</span>);<br>        <span class="hljs-keyword">double</span> ret = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= k; ++j)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(_find(monster[j]) == _find(<span class="hljs-number">1</span>))<br>            &#123;<br>                <span class="hljs-keyword">int</span> sz = <span class="hljs-number">0</span>, sum = <span class="hljs-number">0</span>;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = head[monster[j]]; ~i; i = edge[i].nxt)<br>                &#123;<br>                    ++sz;<br>                    <span class="hljs-keyword">if</span>(vismonster[edge[i].to] || _find(edge[i].to) == _find(<span class="hljs-number">1</span>))<span class="hljs-keyword">continue</span>;<br>                    ans[edge[i].to] = <span class="hljs-number">0</span>;<br>                    bfs(edge[i].to);<br>                    sum += ans[edge[i].to] + <span class="hljs-number">1</span>;<br>                &#125;<br>                <span class="hljs-comment">// for(int l = 1; l &lt;= n; ++l)cout &lt;&lt; ans[l] &lt;&lt; &quot; &quot;;cout &lt;&lt; endl;</span><br>                ret = max(ret, (<span class="hljs-keyword">double</span>)sum / (<span class="hljs-keyword">double</span>)sz);<br>                <span class="hljs-comment">// cout &lt;&lt; sum &lt;&lt; &quot;-&quot; &lt;&lt; sz &lt;&lt; &quot;-&quot; &lt;&lt; ret &lt;&lt; endl;</span><br>            &#125;<br>        &#125;<br>        <span class="hljs-comment">// cout &lt;&lt; ret + (double)ans[1] &lt;&lt; endl;</span><br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%.6f\n&quot;</span>, ret + (<span class="hljs-keyword">double</span>)ans[<span class="hljs-number">1</span>]);<br>        <br>    &#125;<br>    <br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>今天不适合写代码，，，，</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;啊，，不在状态啊，，自闭一下午，，读错题，，然后背锅，，，明明这个简单的题，，，&lt;/p&gt;</summary>
    
    
    
    
    <category term="ACM" scheme="http://blog.31415x.cf/tags/ACM/"/>
    
    <category term="刷题" scheme="http://blog.31415x.cf/tags/%E5%88%B7%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>c++调试在容器释放内存时报Unknown Signal 或 Trace/breakpoint trap异常</title>
    <link href="http://blog.31415x.cf/2019/09/11/c++%E8%B0%83%E8%AF%95%E5%9C%A8%E5%AE%B9%E5%99%A8%E9%87%8A%E6%94%BE%E5%86%85%E5%AD%98%E6%97%B6%E6%8A%A5Unknown-Signal-%E6%88%96-Trace-breakpoint-trap%E5%BC%82%E5%B8%B8/"/>
    <id>http://blog.31415x.cf/2019/09/11/c++%E8%B0%83%E8%AF%95%E5%9C%A8%E5%AE%B9%E5%99%A8%E9%87%8A%E6%94%BE%E5%86%85%E5%AD%98%E6%97%B6%E6%8A%A5Unknown-Signal-%E6%88%96-Trace-breakpoint-trap%E5%BC%82%E5%B8%B8/</id>
    <published>2019-09-11T09:55:24.000Z</published>
    <updated>2019-09-11T10:01:38.435Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>在做一道题时，用到的板子中出现了很多的容器的使用，，一开始都是开MAXN大小的容器，，但是有几率出现程序运行完后不正常退出，，</p><p>在多次尝试断点调试后，发现主要的异常是程序在结束时，要进行资源的释放，，但是可能空间开的MAXN和使用的不匹配，就会出现未知错误，，或者是 Trace/breakpoint trap 异常，，把申请时的 <code>vector&lt;edge&gt; g[MAXN]</code> 改为 <code>vector&lt;edge&gt; g[MAXN + 10]</code> 就行了，，</p><p><a href="https://bbs.csdn.net/topics/392565423">参考</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css&quot;&gt;&lt;script src=&quot;</summary>
      
    
    
    
    
    <category term="报错" scheme="http://blog.31415x.cf/tags/%E6%8A%A5%E9%94%99/"/>
    
    <category term="解决方法" scheme="http://blog.31415x.cf/tags/%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>2019徐州网络赛-The Preliminary Contest for ICPC Asia Xuzhou 2019</title>
    <link href="http://blog.31415x.cf/2019/09/07/2019%E5%BE%90%E5%B7%9E%E7%BD%91%E7%BB%9C%E8%B5%9B-%C2%96The-Preliminary-Contest-for-ICPC-Asia-Xuzhou-2019/"/>
    <id>http://blog.31415x.cf/2019/09/07/2019%E5%BE%90%E5%B7%9E%E7%BD%91%E7%BB%9C%E8%B5%9B-%C2%96The-Preliminary-Contest-for-ICPC-Asia-Xuzhou-2019/</id>
    <published>2019-09-07T13:32:27.000Z</published>
    <updated>2019-09-07T14:13:22.767Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting/dist/Meting.min.js"></script><p>徐州网络赛，，，全程口胡+划水，，，emmmmm</p><p>题目感觉都不难，，看见很多人都是8题，，，</p><p>我们最后出了5题，，，A题我比赛临结束时写的，，然后写炸了，，</p><p>两道字符串的题因为没有学过字符串专题的内容，，最后放弃了，，，</p><span id="more"></span><h1 id="A-Who-is-better"><a href="#A-Who-is-better" class="headerlink" title="A. Who is better?"></a>A. Who is better?</h1><p>简单的 斐波那契博弈+中国剩余定理，，</p><p>中国剩余定理用来求n，，判断一下n是不是斐波那契数列的值即可，，，n无解的时候就是题目的无解，，</p><p>一开始别的队的提这是斐波那契博弈，，，但是好长时间每看博弈，，没看出来是斐波那契博弈，，然后因为模数不互质，，，所以要判断是否有解，，，因为斐波那契数列求少了，，然后以为是CRT板子错了，，，然后就一直哇，，，</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-function">mt19937 <span class="hljs-title">rnd</span><span class="hljs-params">(time(<span class="hljs-number">0</span>))</span></span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-comment">// const double pi = 3.14159265358979;</span><br><span class="hljs-keyword">double</span> pi = <span class="hljs-built_in">acos</span>(<span class="hljs-number">-1.0</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">5e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e3</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br>ll f[maxn];<br><span class="hljs-function">ll <span class="hljs-title">gcd</span><span class="hljs-params">(ll a, ll b)</span></span>&#123;<br>    <span class="hljs-keyword">return</span> b ? gcd(b, a%b) : a;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">ex_gcd</span><span class="hljs-params">(ll a, ll b, ll &amp;x, ll &amp;y, ll &amp;d)</span></span>&#123;<br>    <span class="hljs-keyword">if</span> (!b) &#123;d = a, x = <span class="hljs-number">1</span>, y = <span class="hljs-number">0</span>;&#125;<br>    <span class="hljs-keyword">else</span>&#123;<br>        ex_gcd(b, a % b, y, x, d);<br>        y -= x * (a / b);<br>    &#125;<br>&#125;<br><span class="hljs-function">ll <span class="hljs-title">inv</span><span class="hljs-params">(ll t, ll p)</span></span>&#123;<span class="hljs-comment">//如果不存在，返回-1 </span><br>    ll d, x, y;<br>    ex_gcd(t, p, x, y, d);<br>    <span class="hljs-keyword">return</span> d == <span class="hljs-number">1</span> ? (x % p + p) % p : <span class="hljs-number">-1</span>;<br>&#125;<br>pair&lt;ll, ll&gt; chinese_remainder(ll A[], ll B[], ll M[], int n) &#123;//求解A[i]x = B[i] (mod M[i]),总共n个线性方程组 <br>    ll x = <span class="hljs-number">0</span>, m = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++) &#123;<br>        ll a = A[i] * m, b = B[i] - A[i]*x, d = gcd(M[i], a);<br>        <span class="hljs-keyword">if</span>(b % d != <span class="hljs-number">0</span>)  <span class="hljs-keyword">return</span> <span class="hljs-built_in">pair</span>&lt;ll, ll&gt; (<span class="hljs-number">0</span>, <span class="hljs-number">-1</span>);<span class="hljs-comment">//答案，不存在，返回-1 </span><br>        ll t = b/d * inv(a/d, M[i]/d)%(M[i]/d);<br>        x = x + m*t;<br>        m *= M[i]/d;<br>    &#125;<br>    x = (x % m + m ) % m;<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">pair</span>&lt;ll, ll&gt;(x, m);<span class="hljs-comment">//返回的x就是答案，m是最后的lcm值 </span><br>&#125;<br><br>ll a[maxn], b[maxn], c[maxn];<br><span class="hljs-comment">// vector&lt;ll&gt; a, b;</span><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    <span class="hljs-comment">// ios_base::sync_with_stdio(0);</span><br>    <span class="hljs-comment">// cin.tie(0);cout.tie(0);</span><br><br>    f[<span class="hljs-number">0</span>] = f[<span class="hljs-number">1</span>] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= <span class="hljs-number">70</span>; ++i)f[i] = f[i - <span class="hljs-number">1</span>] + f[i - <span class="hljs-number">2</span>];<br>    <span class="hljs-keyword">int</span> k; <span class="hljs-built_in">cin</span> &gt;&gt; k;<br>    <span class="hljs-keyword">int</span> x, y;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= k - <span class="hljs-number">1</span>; ++i)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; a[i] &gt;&gt; b[i];<br>        <span class="hljs-comment">// cin &gt;&gt; x &gt;&gt; y;</span><br>        <span class="hljs-comment">// a.push_back(x);</span><br>        <span class="hljs-comment">// b.push_back(y);</span><br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= <span class="hljs-number">10</span>; ++i)c[i] = <span class="hljs-number">1</span>;<br>    <br>    <span class="hljs-built_in">pair</span>&lt;ll, ll&gt; n = chinese_remainder(c, b, a, k);<br>    <span class="hljs-comment">// cout &lt;&lt; n &lt;&lt; endl;</span><br>    <span class="hljs-comment">// cout &lt;&lt; n.first &lt;&lt; endl;</span><br>    <span class="hljs-keyword">if</span>(n.first == <span class="hljs-number">0</span>)<br>    &#123;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;Tankernb!&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br>    <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">70</span>; ++i)<br>        <span class="hljs-keyword">if</span>(f[i] == n.first)<br>        &#123;<br>            flag = <span class="hljs-literal">true</span>;<br>            <span class="hljs-keyword">break</span>;<br>        &#125;<br>    <span class="hljs-keyword">if</span>(flag)<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;Lbnb!&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">else</span> <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;Zgxnb!&quot;</span> &lt;&lt; <span class="hljs-built_in">endl</span>;<br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="B-so-easy"><a href="#B-so-easy" class="headerlink" title="B. so easy"></a>B. so easy</h1><p>一开始我开的题，，读完题之后想着这部直接暴力就行了，，，然后用map存每一修改的数，，然后询问就一直往下跑不就行了，，第一个没标记的就是答案啊，，，然后被卡map了，，，队友一看说是肯定T，，然后就想别的思路了，，，最后他们就用并查集+unordered_map来合并集合过的，，，</p><p>刚刚我又试了一下unoredred_map暴力，，发现直接过了，，，emmmmmm</p><h2 id="并查集区间和并"><a href="#并查集区间和并" class="headerlink" title="并查集区间和并"></a>并查集区间和并</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//#include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stack&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;unordered_map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;utility&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;assert.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> p_b push_back</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> e_b emplace_back</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> debug cout&lt;&lt;<span class="hljs-meta-string">&quot;!!!&quot;</span>&lt;&lt;endl;</span><br><span class="hljs-comment">//#define LOCAL</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-keyword">typedef</span> <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; pii;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">static</span> ll inf64 = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span>+<span class="hljs-number">10</span>;<br><br><span class="hljs-built_in">unordered_map</span> &lt;ll, ll&gt; fa;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">findfather</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> fa[x] == x ? x : fa[x] = findfather(fa[x]);<br>&#125;<br><br><span class="hljs-keyword">int</span> n, q;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-meta">#<span class="hljs-meta-keyword">ifdef</span> Local</span><br>    freopen(<span class="hljs-string">&quot;1.in&quot;</span>, <span class="hljs-string">&quot;r&quot;</span>, <span class="hljs-built_in">stdin</span>);<br>    freopen(<span class="hljs-string">&quot;1.out&quot;</span>, <span class="hljs-string">&quot;w&quot;</span>, <span class="hljs-built_in">stdout</span>);<br>    <span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span><br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d %d&quot;</span>, &amp;n, &amp;q);<br>    <span class="hljs-keyword">while</span>(q--)<br>    &#123;<br>        <span class="hljs-keyword">int</span> cmd;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;cmd);<br>        <span class="hljs-keyword">if</span>(cmd == <span class="hljs-number">1</span>)<br>        &#123;<br>            <span class="hljs-keyword">int</span> pos;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;pos);<br>            <span class="hljs-keyword">if</span>(fa.count(pos+<span class="hljs-number">1</span>) == <span class="hljs-number">0</span>)<br>            &#123;<br>                fa[pos] = pos;<br>                <span class="hljs-keyword">if</span>(fa.count(pos<span class="hljs-number">-1</span>) != <span class="hljs-number">0</span>)<br>                    fa[pos<span class="hljs-number">-1</span>] = findfather(pos);<br>            &#125;<br>            <span class="hljs-keyword">else</span><br>            &#123;<br>                fa[pos] = findfather(pos+<span class="hljs-number">1</span>);<br>                <span class="hljs-keyword">if</span>(fa.count(pos<span class="hljs-number">-1</span>) != <span class="hljs-number">0</span>)<br>                    fa[pos<span class="hljs-number">-1</span>] = findfather(pos);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-keyword">int</span> pos;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;pos);<br>            <span class="hljs-keyword">if</span>(fa.count(pos) == <span class="hljs-number">0</span>)<br>                <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, pos);<br>            <span class="hljs-keyword">else</span><br>                <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, findfather(pos)+<span class="hljs-number">1</span>);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">10 11</span><br><span class="hljs-comment">1 2</span><br><span class="hljs-comment">1 3</span><br><span class="hljs-comment">1 4</span><br><span class="hljs-comment">1 6</span><br><span class="hljs-comment">1 7</span><br><span class="hljs-comment">1 9</span><br><span class="hljs-comment">2 2</span><br><span class="hljs-comment">2 8</span><br><span class="hljs-comment">1 5</span><br><span class="hljs-comment">1 8</span><br><span class="hljs-comment">2 1</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure><h2 id="我的暴力"><a href="#我的暴力" class="headerlink" title="我的暴力"></a>我的暴力</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-function">mt19937 <span class="hljs-title">rnd</span><span class="hljs-params">(time(<span class="hljs-number">0</span>))</span></span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-comment">// const double pi = 3.14159265358979;</span><br><span class="hljs-keyword">double</span> pi = <span class="hljs-built_in">acos</span>(<span class="hljs-number">-1.0</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e3</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br><span class="hljs-built_in">unordered_map</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">bool</span>&gt; mp;<br><span class="hljs-keyword">int</span> n, q;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br><br>    <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; q;<br>    <span class="hljs-keyword">int</span> o, x;<br>    <span class="hljs-keyword">while</span>(q--)<br>    &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; o &gt;&gt; x;<br>        <span class="hljs-keyword">if</span>(o == <span class="hljs-number">1</span>)<br>        &#123;<br>            mp[x] = <span class="hljs-literal">true</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-keyword">int</span> ans = <span class="hljs-number">-1</span>;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = x; i &lt;= n; ++i)<br>            &#123;<br>                <span class="hljs-comment">// cout &lt;&lt; mp[i] &lt;&lt; endl;</span><br>                <span class="hljs-keyword">if</span>(mp[i] == <span class="hljs-literal">true</span>)<span class="hljs-keyword">continue</span>;<br>                <span class="hljs-keyword">else</span><br>                &#123;<br>                    ans = i;<br>                    <span class="hljs-keyword">break</span>;<br>                &#125;<br>            &#125;<br>            <span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="hljs-built_in">endl</span>;<br>        &#125;<br>        <br>    &#125;<br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="D-Carneginon"><a href="#D-Carneginon" class="headerlink" title="D. Carneginon"></a>D. Carneginon</h1><p>kmp板子题，，队友过的，，</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">kmp</span><span class="hljs-params">(<span class="hljs-built_in">string</span> a,<span class="hljs-built_in">string</span> b)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> next[b.size()];<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>;i&lt;b.size();i++) next[i]=<span class="hljs-number">0</span>;<br>    next[<span class="hljs-number">0</span>]=<span class="hljs-number">-1</span>;<br>    next[<span class="hljs-number">1</span>]=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">2</span>;i&lt;b.size();i++)<br>    &#123;<br>        <span class="hljs-keyword">int</span> k=next[i<span class="hljs-number">-1</span>];<br>        <span class="hljs-keyword">if</span>(b[k]==b[i<span class="hljs-number">-1</span>]) next[i]=k+<span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-keyword">while</span>(k!=<span class="hljs-number">-1</span>)<br>            &#123;<br>                k=next[k];<br>                <span class="hljs-keyword">if</span>(b[k]==b[i<span class="hljs-number">-1</span>]) <span class="hljs-keyword">break</span>;<br>            &#125;<br>            next[i]=k+<span class="hljs-number">1</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>,j=<span class="hljs-number">0</span>;i&lt;a.size();)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(a[i]==b[j])<br>        &#123;<br>            i++;<br>            j++;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-keyword">if</span>(j==<span class="hljs-number">-1</span>)<br>            &#123;<br>                i++;<br>                j++;<br>            &#125;<br>            <span class="hljs-keyword">else</span> j=next[j];<br>        &#125;<br>        <span class="hljs-keyword">if</span>(j==b.size()) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> t;<br>    <span class="hljs-built_in">string</span> a,b;<br>    <span class="hljs-built_in">cin</span>&gt;&gt;a;<br>    <span class="hljs-built_in">cin</span>&gt;&gt;t;<br>    <span class="hljs-keyword">while</span>(t--)<br>    &#123;<br>        <span class="hljs-built_in">cin</span>&gt;&gt;b;<br>        <span class="hljs-keyword">if</span>(a.size()&gt;b.size())<br>        &#123;<br>            <span class="hljs-keyword">if</span>(kmp(a,b))<span class="hljs-built_in">cout</span>&lt;&lt;<span class="hljs-string">&quot;my child!&quot;</span>&lt;&lt;<span class="hljs-built_in">endl</span>;<br>            <span class="hljs-keyword">else</span> <span class="hljs-built_in">cout</span>&lt;&lt;<span class="hljs-string">&quot;oh, child!&quot;</span>&lt;&lt;<span class="hljs-built_in">endl</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(a.size()==b.size())<br>        &#123;<br>            <span class="hljs-keyword">if</span>(a==b)<span class="hljs-built_in">cout</span>&lt;&lt;<span class="hljs-string">&quot;jntm!&quot;</span>&lt;&lt;<span class="hljs-built_in">endl</span>;<br>            <span class="hljs-keyword">else</span> <span class="hljs-built_in">cout</span>&lt;&lt;<span class="hljs-string">&quot;friend!&quot;</span>&lt;&lt;<span class="hljs-built_in">endl</span>;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-keyword">if</span>(kmp(b,a)) <span class="hljs-built_in">cout</span>&lt;&lt;<span class="hljs-string">&quot;my teacher!&quot;</span>&lt;&lt;<span class="hljs-built_in">endl</span>;<br>            <span class="hljs-keyword">else</span> <span class="hljs-built_in">cout</span>&lt;&lt;<span class="hljs-string">&quot;senior!&quot;</span>&lt;&lt;<span class="hljs-built_in">endl</span>;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="E-XKC’s-basketball-team"><a href="#E-XKC’s-basketball-team" class="headerlink" title="E. XKC’s basketball team"></a>E. XKC’s basketball team</h1><p>这题我一开始的想法是倒着想，，并且在每求出第i个位置的值后，，维护的一个东西进行更新，，这一趟下来就可以找到所有的解，，，但是就是想不到怎么处理，，但感觉直觉是对的，，，</p><p>后来队友想着类似线段树维护一个区间最大值，，并且尽可能的寻找i的右边的点，，，</p><p>官方的题解就是倒着求，，用一个单调递增的队列维护最大值，，队列中靠近队首的一定是数组中靠右的一个较大值，，</p><p>如果当前这点的值大于队尾，，入队，，并且说明这个点是这个点向右的最大值，，所以它的答案就是-1</p><p>如果小于队尾的值，，说明右边有一个位置的值可能大于它的值+m，，，直接线性找肯定会T，，，但是因为队列中是单调递增的，，，所以可以二分找到这个值，，，记录一个下标就可以了，，，</p><h2 id="队友赛场上的解法"><a href="#队友赛场上的解法" class="headerlink" title="队友赛场上的解法"></a>队友赛场上的解法</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-comment">//#include &lt;bits/stdc++.h&gt;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdlib&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stack&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;set&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;utility&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;assert.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> p_b push_back</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> e_b emplace_back</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> debug cout&lt;&lt;<span class="hljs-meta-string">&quot;!!!&quot;</span>&lt;&lt;endl;</span><br><span class="hljs-comment">//#define LOCAL</span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-keyword">typedef</span> <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; pii;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">static</span> ll inf64 = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">5e5</span>+<span class="hljs-number">10</span>;<br><span class="hljs-keyword">int</span> n, m;<br>ll st[maxn&lt;&lt;<span class="hljs-number">2</span>];<br>ll a[maxn];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">pushup</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rt)</span></span><br><span class="hljs-function"></span>&#123;<br>    st[rt] = max(st[rt&lt;&lt;<span class="hljs-number">1</span>], st[rt&lt;&lt;<span class="hljs-number">1</span>|<span class="hljs-number">1</span>]);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">buildtree</span><span class="hljs-params">(<span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r, <span class="hljs-keyword">int</span> rt)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(l == r)<br>    &#123;<br>        st[rt] = a[l];<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-keyword">int</span> mid = (l + r) &gt;&gt; <span class="hljs-number">1</span>;<br>    buildtree(l, mid, rt&lt;&lt;<span class="hljs-number">1</span>);<br>    buildtree(mid+<span class="hljs-number">1</span>, r, rt&lt;&lt;<span class="hljs-number">1</span>|<span class="hljs-number">1</span>);<br>    pushup(rt);<br>&#125;<br><br><span class="hljs-function">ll <span class="hljs-title">query</span><span class="hljs-params">(<span class="hljs-keyword">int</span> _l, <span class="hljs-keyword">int</span> _r, <span class="hljs-keyword">int</span> val, <span class="hljs-keyword">int</span> l, <span class="hljs-keyword">int</span> r, <span class="hljs-keyword">int</span> rt)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">//cout&lt;&lt;l&lt;&lt;&quot;---&quot;&lt;&lt;r&lt;&lt;&quot; &quot;&lt;&lt;val&lt;&lt;endl;</span><br>    <span class="hljs-keyword">if</span>(l == r)<br>        <span class="hljs-keyword">return</span> l;<br>    <span class="hljs-keyword">int</span> ret = <span class="hljs-number">-1</span>;<br>    <span class="hljs-keyword">int</span> mid = (l + r) &gt;&gt; <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">if</span>(mid &lt; _r &amp;&amp; st[rt&lt;&lt;<span class="hljs-number">1</span>|<span class="hljs-number">1</span>] &gt;= val)<br>        ret = query(_l, _r, val, mid+<span class="hljs-number">1</span>, r, rt&lt;&lt;<span class="hljs-number">1</span>|<span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">if</span>(ret != <span class="hljs-number">-1</span>)<br>        <span class="hljs-keyword">return</span> ret;<br>    <span class="hljs-keyword">if</span>(mid &gt;= _l &amp;&amp; st[rt&lt;&lt;<span class="hljs-number">1</span>] &gt;= val)<br>        ret = query(_l, _r, val, l, mid, rt&lt;&lt;<span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">return</span> ret;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-meta">#<span class="hljs-meta-keyword">ifdef</span> Local</span><br>    freopen(<span class="hljs-string">&quot;1.in&quot;</span>, <span class="hljs-string">&quot;r&quot;</span>, <span class="hljs-built_in">stdin</span>);<br>    freopen(<span class="hljs-string">&quot;1.out&quot;</span>, <span class="hljs-string">&quot;w&quot;</span>, <span class="hljs-built_in">stdout</span>);<br>    <span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span><br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>; i&lt;=n; i++)<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a[i]);<br>    buildtree(<span class="hljs-number">1</span>, n, <span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">1</span>; i&lt;=n<span class="hljs-number">-1</span>; i++)<br>    &#123;<br>        ll q = a[i] + m;<br>        ll ans = query(i, n, q, <span class="hljs-number">1</span>, n, <span class="hljs-number">1</span>);<br>        <span class="hljs-comment">//cout&lt;&lt;ans&lt;&lt;endl;</span><br>        <span class="hljs-keyword">if</span>(ans == <span class="hljs-number">-1</span>)<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;-1 &quot;</span>);<br>        <span class="hljs-keyword">else</span><br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, ans-i<span class="hljs-number">-1</span>);<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;-1&quot;</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="赛后的官方解法"><a href="#赛后的官方解法" class="headerlink" title="赛后的官方解法"></a>赛后的官方解法</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> endl <span class="hljs-meta-string">&#x27;\n&#x27;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ll;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> ull;<br><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span> ld;<br><span class="hljs-function">mt19937 <span class="hljs-title">rnd</span><span class="hljs-params">(time(<span class="hljs-number">0</span>))</span></span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> inf = <span class="hljs-number">0x3f3f3f3f</span>;<span class="hljs-comment">//1061109567 &gt; 1e9</span><br><span class="hljs-keyword">const</span> ll linf = <span class="hljs-number">0x3f3f3f3f3f3f3f3f</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> eps = <span class="hljs-number">1e-6</span>;<br><span class="hljs-comment">// const double pi = 3.14159265358979;</span><br><span class="hljs-keyword">double</span> pi = <span class="hljs-built_in">acos</span>(<span class="hljs-number">-1.0</span>);<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">5e5</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxm = <span class="hljs-number">1e3</span> + <span class="hljs-number">5</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> mod = <span class="hljs-number">1e9</span> + <span class="hljs-number">7</span>;<br><br>ll n, m;<br>ll w[maxn], ans[maxn];<br><span class="hljs-built_in">pair</span>&lt;ll, <span class="hljs-keyword">int</span>&gt; que[maxn];<br><span class="hljs-keyword">int</span> front, tail;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-comment">// double pp = clock();</span><br>    <span class="hljs-comment">// freopen(&quot;233.in&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-comment">// freopen(&quot;233.out&quot;, &quot;w&quot;, stdout);</span><br>    ios_base::sync_with_stdio(<span class="hljs-number">0</span>);<br>    <span class="hljs-built_in">cin</span>.tie(<span class="hljs-number">0</span>);<span class="hljs-built_in">cout</span>.tie(<span class="hljs-number">0</span>);<br><br>    front = tail = <span class="hljs-number">1</span>;<br>    <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; m;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; ++i)<span class="hljs-built_in">cin</span> &gt;&gt; w[i];<br>    que[tail].first = w[n];que[tail].second = n;ans[n] = <span class="hljs-number">-1</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = n - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">1</span>; --i)<br>    &#123;<br>        <span class="hljs-keyword">if</span>(w[i] &gt; que[tail].first)<br>        &#123;<br>            ans[i] = <span class="hljs-number">-1</span>;<br>            <span class="hljs-comment">// que[++tail] = make_pair(w[i], i);</span><br>            que[++tail].first = w[i];<br>            que[tail].second = i;<br>        &#125;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            <span class="hljs-keyword">int</span> l = front, r = tail;<br>            <span class="hljs-keyword">int</span> anss = i;<br>            <span class="hljs-keyword">while</span>(l &lt;= r)<br>            &#123;<br>                <span class="hljs-keyword">int</span> mid = l + r &gt;&gt; <span class="hljs-number">1</span>;<br>                <span class="hljs-keyword">if</span>(que[mid].first &gt;= w[i] + m)<br>                &#123;<br>                    r = mid - <span class="hljs-number">1</span>;<br>                    anss = que[mid].second;<br>                &#125;<br>                <span class="hljs-keyword">else</span><br>                &#123;<br>                    l = mid + <span class="hljs-number">1</span>;<br>                &#125;<br>            &#125;<br>            ans[i] = anss - i - <span class="hljs-number">1</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-comment">// for(int i = 1; i &lt;= tail; ++i)cout &lt;&lt; que[i].second &lt;&lt; &quot; &quot;;cout &lt;&lt; endl;</span><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n - <span class="hljs-number">1</span>; ++i)<span class="hljs-built_in">cout</span> &lt;&lt; ans[i] &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<span class="hljs-built_in">cout</span> &lt;&lt; ans[n];<br><br>    <span class="hljs-comment">// cout &lt;&lt; endl &lt;&lt; (clock() - pp) / CLOCKS_PER_SEC &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="K-Center"><a href="#K-Center" class="headerlink" title="K. Center"></a>K. Center</h1><p>简单计算几何题，，队友搞得，，，</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span><span class="hljs-meta-string">&lt;bits/stdc++.h&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> ll long long</span><br><span class="hljs-keyword">int</span> n;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn=<span class="hljs-number">1e3</span>+<span class="hljs-number">5</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">point</span></span><br><span class="hljs-class">&#123;</span><br>    <span class="hljs-keyword">int</span> x,y,hash_;<br>    point(<span class="hljs-keyword">int</span> x=<span class="hljs-number">0</span>,<span class="hljs-keyword">int</span> y=<span class="hljs-number">0</span>):x(x),y(y)&#123;hash_=x*<span class="hljs-number">1000000</span>+y;&#125;<br>&#125; po[maxn];<span class="hljs-comment">//,mid[1000005];</span><br><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">com</span><span class="hljs-params">(point p1,point p2)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span>(p1.x&gt;p2.x) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">if</span>(p1.x==p2.x&amp;&amp;p1.y&gt;p2.y) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><span class="hljs-comment">//int nmid=0;</span><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">5</span><br><span class="hljs-comment">1 1</span><br><span class="hljs-comment">2 2</span><br><span class="hljs-comment">2 3</span><br><span class="hljs-comment">2 1</span><br><span class="hljs-comment">2 2</span><br><span class="hljs-comment">*/</span><br><br><span class="hljs-built_in">map</span> &lt;ll,<span class="hljs-keyword">int</span>&gt; mid;<br><span class="hljs-built_in">set</span> &lt;ll&gt; p;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    ll n0=<span class="hljs-number">0</span>,temx,temy;<br>    <span class="hljs-built_in">cin</span>&gt;&gt;n;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;n;i++)<br>    &#123;<br>        <span class="hljs-built_in">cin</span>&gt;&gt;temx&gt;&gt;temy;<br>        <span class="hljs-keyword">if</span>(p.count(temx*<span class="hljs-number">1000000</span>+temy)) <span class="hljs-keyword">continue</span>;<br>        <span class="hljs-keyword">else</span><br>        &#123;<br>            po[n0].x = temx;<br>            po[n0++].y = temy;<br>            p.insert(temx*<span class="hljs-number">1000000</span>+temy);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;n0;i++)<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>;j&lt;n0;j++)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(i==j) <span class="hljs-keyword">continue</span>;<br>            <span class="hljs-function">point <span class="hljs-title">tem</span><span class="hljs-params">(po[i].x+po[j].x,po[i].y+po[j].y)</span></span>;<br><br>            mid[tem.hash_]++;<br>        &#125;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>;i&lt;n0;i++)<br>    &#123;<br>        ll tem=po[i].x*<span class="hljs-number">1000000</span>*<span class="hljs-number">2</span>+po[i].y*<span class="hljs-number">2</span>;<br>        ++mid[tem];<br>    &#125;<br>    <span class="hljs-keyword">int</span> ma=<span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-built_in">map</span>&lt;ll, <span class="hljs-keyword">int</span>&gt;:: iterator i=mid.begin();i!=mid.end();i++)<br>    &#123;<br>        <span class="hljs-keyword">int</span> tem=i-&gt;second;<br>        ma= ma&gt;tem?ma:tem;<br>    &#125;<br>    <span class="hljs-built_in">cout</span>&lt;&lt;n0-ma&lt;&lt;<span class="hljs-built_in">endl</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>字符串啊，，，，</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;徐州网络赛，，，全程口胡+划水，，，emmmmm&lt;/p&gt;
&lt;p&gt;题目感觉都不难，，看见很多人都是8题，，，&lt;/p&gt;
&lt;p&gt;我们最后出了5题，，，A题我比赛临结束时写的，，然后写炸了，，&lt;/p&gt;
&lt;p&gt;两道字符串的题因为没有学过字符串专题的内容，，最后放弃了，，，&lt;/p&gt;</summary>
    
    
    
    <category term="ACM-比赛补题" scheme="http://blog.31415x.cf/categories/ACM-%E6%AF%94%E8%B5%9B%E8%A1%A5%E9%A2%98/"/>
    
    <category term="ACM-题解" scheme="http://blog.31415x.cf/categories/ACM-%E6%AF%94%E8%B5%9B%E8%A1%A5%E9%A2%98/ACM-%E9%A2%98%E8%A7%A3/"/>
    
    
    <category term="ACM" scheme="http://blog.31415x.cf/tags/ACM/"/>
    
    <category term="刷题" scheme="http://blog.31415x.cf/tags/%E5%88%B7%E9%A2%98/"/>
    
    <category term="网络赛" scheme="http://blog.31415x.cf/tags/%E7%BD%91%E7%BB%9C%E8%B5%9B/"/>
    
  </entry>
  
</feed>
