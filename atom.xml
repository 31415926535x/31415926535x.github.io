<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>31415926535x</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://www.31415.cf/"/>
  <updated>2018-12-24T12:00:10.031Z</updated>
  <id>http://www.31415.cf/</id>
  
  <author>
    <name>31415926535x</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>codeforces_1092c</title>
    <link href="http://www.31415.cf/2018/12/24/codeforces-1092c/"/>
    <id>http://www.31415.cf/2018/12/24/codeforces-1092c/</id>
    <published>2018-12-24T11:42:23.000Z</published>
    <updated>2018-12-24T12:00:10.031Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1><p><a href="https://codeforces.com/contest/1092/problem/C" target="_blank" rel="noopener">ä¸€é“æœ‰å…³å­—ç¬¦ä¸²å‰ç¼€åç¼€çš„é¢˜</a>ï¼Œï¼Œï¼Œè‡ªå·±è¿Ÿæ—©è¦å‘åœ¨è¿™å­—ç¬¦ä¸²çš„é¢˜ä¸Šï¼Œï¼Œï¼Œä¸€çœ‹åˆ°è¿™æ ·çš„é¢˜ï¼Œï¼Œä¸ç®¡ç®€å•è¿˜æ˜¯éš¾ä¸€äº›çš„å¿ƒé‡Œå°±å‘æ€µï¼Œï¼Œ æ˜æ˜æ€è·¯æ˜¯å¯¹çš„ï¼Œï¼Œæ€»æ˜¯è«åå…¶å¦™çš„wa,,wa,,,wa,,,,,,</p><a id="more"></a><h1 id="é¢˜æ„">é¢˜æ„</h1><p>é¢˜æ„å¾ˆç®€å•ï¼Œï¼Œå°±æ˜¯ç»™ä½ ä¸€ä¸ªä¸²çš„æ‰€æœ‰å‰ç¼€ä¸²å’Œå®ƒçš„åç¼€ä¸²ï¼Œï¼Œï¼Œç„¶åè®©ä½ åˆ¤æ–­è¿™äº›ä¸²å¯èƒ½æ˜¯é‚£ç§ä¸²ï¼Œï¼Œï¼Œ</p><p>é¦–å…ˆè‚¯å®šæ˜¯è¦æ±‚å‡ºåŸä¸²å˜›ï¼Œï¼Œï¼Œä¸ç„¶æ€ä¹ˆåˆ¤æ–­ï¼Œï¼Œï¼Œå› ä¸ºæœ‰ä¸¤ä¸ªé•¿åº¦ä¸ºn-1çš„ä¸²å’Œä¸¤ä¸ªé•¿åº¦ä¸º1çš„ä¸²ï¼Œï¼Œæ‰€ä»¥å¯ä»¥ç”±æ­¤æ¥å¾—å‡ºåŸä¸²ï¼Œï¼Œï¼Œä½†æ˜¯å°±æ˜¯è¿™é‡Œï¼Œï¼Œï¼Œæˆ‘å¯»æ‰¾åŸä¸²å†™å´©äº†ï¼Œï¼Œï¼Œä¸€ç›´waï¼Œï¼Œï¼Œï¼ŒQAQï¼Œï¼Œï¼Œï¼Œæœ€åè¿˜æ˜¯çœ‹äº†åˆ«äººçš„æ€è·¯ï¼Œï¼Œï¼Œç›´æ¥ä¸å¯»æ‰¾åŸä¸²ï¼Œï¼Œï¼Œå¯¹äºæ¯ä¸€ç§å¯èƒ½å¯åŸä¸²éƒ½æ±‚ä¸€ä¸‹ç­”æ¡ˆï¼Œï¼Œï¼Œè¦æ˜¯æŸä¸ªå­ä¸²æ—¢ä¸æ˜¯å‰ç¼€ä¸²åˆä¸æ˜¯åç¼€ä¸²ï¼Œï¼Œï¼Œé‚£ä¹ˆå°±è¯´æ˜è¿™ä¸ªå¯èƒ½çš„åŸä¸²ä¸å¯¹ï¼Œï¼Œæ¢ä¸‹ä¸€ä¸ªï¼Œï¼Œç›´åˆ°ç¢°åˆ°ç¬¦åˆçš„åŸä¸²ï¼Œï¼Œè¾“å‡ºä¹‹åç»ˆæ­¢ç¨‹åºï¼Œï¼Œï¼Œ</p><ul><li>string é‡Œçš„ <figure class="highlight plain"><figcaption><span>å‡½æ•°å¯ä»¥å¯»æ‰¾ç¬¬ä¸€ä¸å­ä¸²åŒ¹é…çš„åæ ‡(ä»é›¶å¼€å§‹)ï¼Œï¼Œ```rfing()```å¯ä»¥å¯»æ‰¾æœ€åä¸€ä¸ªä¸å­ä¸²åŒ¹é…çš„åæ ‡ã€‚ã€‚ã€‚</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># ä»£ç </span><br><span class="line"></span><br><span class="line">```cpp</span><br><span class="line">#include &lt;bits/stdc++.h&gt;</span><br><span class="line">//#include &lt;iostream&gt;</span><br><span class="line">//#include &lt;cstdio&gt;</span><br><span class="line">//#include &lt;cstdlib&gt;</span><br><span class="line">//#include &lt;string.h&gt;</span><br><span class="line">#define aaa cout&lt;&lt;233&lt;&lt;endl;</span><br><span class="line">using namespace std;</span><br><span class="line">typedef long long ll;</span><br><span class="line">const int inf = 0x3f3f3f3f;</span><br><span class="line">const ll linf = 0x3f3f3f3f3f3f3f;</span><br><span class="line">const int maxn = 1e5 + 5;</span><br><span class="line">const int maxm = 1e5 + 5;</span><br><span class="line">const int mod = 1e9 + 7;</span><br><span class="line"></span><br><span class="line">struct strings</span><br><span class="line">&#123;</span><br><span class="line">    string s;</span><br><span class="line">    int id;</span><br><span class="line">    bool operator &lt; (const strings &amp;r)const</span><br><span class="line">    &#123;</span><br><span class="line">        return s.size() &lt; r.s.size();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;str[300];</span><br><span class="line">char ans[300];</span><br><span class="line">int n;</span><br><span class="line">void get(string s)</span><br><span class="line">&#123;</span><br><span class="line">    for(int i = 1; i &lt;= 2 * n - 2; i += 2)</span><br><span class="line">    &#123;</span><br><span class="line">        if(s.find(str[i].s) == 0 &amp;&amp; s.rfind(str[i + 1].s) == n - str[i + 1].s.length())</span><br><span class="line">        &#123;</span><br><span class="line">            ans[str[i].id] = &apos;P&apos;;</span><br><span class="line">            ans[str[i + 1].id] = &apos;S&apos;;</span><br><span class="line">            continue;</span><br><span class="line">        &#125;</span><br><span class="line">        if(s.rfind(str[i].s) == n - str[i].s.length() &amp;&amp; s.find(str[i + 1].s) == 0)</span><br><span class="line">        &#123;</span><br><span class="line">            ans[str[i].id] = &apos;S&apos;;</span><br><span class="line">            ans[str[i + 1].id] = &apos;P&apos;;</span><br><span class="line">            continue;</span><br><span class="line">        &#125;</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    for(int i = 1; i &lt;= 2 * n - 2; ++i)</span><br><span class="line">        cout &lt;&lt; ans[i];</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    exit(0);</span><br><span class="line">&#125;</span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">//    freopen(&quot;233.txt&quot; , &quot;r&quot; , stdin);</span><br><span class="line">//    freopen(&quot;233.out&quot; , &quot;w&quot; , stdout);</span><br><span class="line">    ios_base::sync_with_stdio(0);</span><br><span class="line">    cin.tie(0);cout.tie(0);</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    string pre , suf , t[2];</span><br><span class="line">    bool flag = true;</span><br><span class="line">    int cnt = 0;</span><br><span class="line"></span><br><span class="line">    for(int i = 1; i &lt;= 2 * n - 2; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        cin &gt;&gt; str[i].s;</span><br><span class="line">        str[i].id = i;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    sort(str + 1 , str + 1 + 2 * n - 2);</span><br><span class="line"></span><br><span class="line">    get(str[1].s + str[2 * n - 2].s);</span><br><span class="line">    get(str[1].s + str[2 * n - 3].s);</span><br><span class="line">    get(str[2].s + str[2 * n - 2].s);</span><br><span class="line">    get(str[2].s + str[2 * n - 3].s);</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>èœåˆ°å“­ğŸ˜­QAQ</p><p><img src="https://img2018.cnblogs.com/blog/1028485/201812/1028485-20181224195910236-1750263669.png"></p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;æ¦‚è¿°&quot;&gt;æ¦‚è¿°&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://codeforces.com/contest/1092/problem/C&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;ä¸€é“æœ‰å…³å­—ç¬¦ä¸²å‰ç¼€åç¼€çš„é¢˜&lt;/a&gt;ï¼Œï¼Œï¼Œè‡ªå·±è¿Ÿæ—©è¦å‘åœ¨è¿™å­—ç¬¦ä¸²çš„é¢˜ä¸Šï¼Œï¼Œï¼Œä¸€çœ‹åˆ°è¿™æ ·çš„é¢˜ï¼Œï¼Œä¸ç®¡ç®€å•è¿˜æ˜¯éš¾ä¸€äº›çš„å¿ƒé‡Œå°±å‘æ€µï¼Œï¼Œ æ˜æ˜æ€è·¯æ˜¯å¯¹çš„ï¼Œï¼Œæ€»æ˜¯è«åå…¶å¦™çš„wa,,wa,,,wa,,,,,,&lt;/p&gt;
    
    </summary>
    
    
      <category term="acm" scheme="http://www.31415.cf/tags/acm/"/>
    
      <category term="åˆ·é¢˜" scheme="http://www.31415.cf/tags/%E5%88%B7%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>acmæ€»ç»“</title>
    <link href="http://www.31415.cf/2018/12/15/acm%E6%80%BB%E7%BB%93/"/>
    <id>http://www.31415.cf/2018/12/15/acmæ€»ç»“/</id>
    <published>2018-12-15T12:23:58.000Z</published>
    <updated>2018-12-15T13:39:30.921Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1><p>å…¥çš„å‘ä¹…äº†ï¼Œï¼Œæ¥è§¦åˆ°çš„ç®—æ³•å°±å¤šäº†èµ·æ¥ï¼Œï¼Œåšçš„é¢˜ä¹Ÿå¤šäº†ï¼Œï¼Œä½†æ˜¯è®°æ€§å´ä¸€ç‚¹ä¸€ä¸å¥½</p><p>æ¸æ¸å‘ç°å¥½å¤šé¢˜å½“æ—¶å¼„æ‡‚äº†ï¼Œï¼Œä»£ç ä¹Ÿå†™å¥½äº†ï¼Œï¼Œåšå®¢ä¸Šåšäº†ç¬”è®°ï¼Œï¼Œå¯æ˜¯æœ€åéšç€æ—¶é—´çš„æ¨ç§»ï¼Œï¼Œå†ç†Ÿæ‚‰çš„ç®—æ³•ï¼Œæ¨¡å‹ï¼Œå¥—è·¯ä¹Ÿå¿˜è®°äº†ï¼Œï¼Œå†å»ç¿»ä¹‹å‰çš„æ–‡ç« æœ‰å¤ªè´¹äº‹ï¼Œï¼Œ</p><p>æ‰€ä»¥è¿™ç¯‡æ–‡ç« ä¸»è¦æ˜¯è®°å½•ä¸€ä¸‹è§åˆ°çš„æ¯ç§ç®—æ³•ä»¥åŠè§£æ³•æ€è·¯ï¼Œï¼Œä¸ºäº†ä»¥åå¿˜è®°äº†èƒ½å¤Ÿå¿«é€Ÿæƒ³èµ·æ¥ï¼Œï¼ŒåŒæ—¶ä¹Ÿæ˜¯å…¶ä¸€ä¸ªè®°å½•çš„åŠŸèƒ½å§(ã£ãƒ»Ğ”ãƒ»)ã£</p><p>å¤§è‡´çš„æ ¼å¼å°±æ˜¯â€œç®—æ³•-&gt;é¢˜ç›®-&gt;æ€è·¯&quot;,,,,</p><p>è²Œä¼¼æ˜¯ä¸€ä¸ªå¤§å‘Î£(*ï¾ŸĞ´ï¾Ÿï¾‰)ï¾‰</p><a id="more"></a><h1 id="æ­£æ–‡">æ­£æ–‡</h1><h2 id="å„ç§æ ‘">å„ç§æ ‘</h2><h3 id="çº¿æ®µæ ‘">çº¿æ®µæ ‘</h3><h4 id="ä¸€èˆ¬çš„çº¿æ®µæ ‘">ä¸€èˆ¬çš„çº¿æ®µæ ‘</h4><h4 id="å¸¦åŒºé—´å»¶è¿Ÿæ›´æ–°çš„çº¿æ®µæ ‘">å¸¦åŒºé—´å»¶è¿Ÿæ›´æ–°çš„çº¿æ®µæ ‘</h4><h4 id="éé€’å½’çš„çº¿æ®µæ ‘">éé€’å½’çš„çº¿æ®µæ ‘</h4><h4 id="å¯æŒä¹…åŒ–çº¿æ®µæ ‘è¿™ä¸ªè¿˜æ²¡çœ‹qaq">å¯æŒä¹…åŒ–çº¿æ®µæ ‘ï¼ˆè¿™ä¸ªè¿˜æ²¡çœ‹QAQ)</h4><h4 id="æ ‘çŠ¶æ•°ç»„">æ ‘çŠ¶æ•°ç»„</h4><ul><li>è²Œä¼¼æ ‘çŠ¶æ•°ç»„çš„å¸¸æ•°æ¯”çº¿æ®µæ ‘çš„å¸¸æ•°å°ï¼Œï¼Œæœ‰äº›å¡å¸¸æ•°çš„é¢˜å¯èƒ½æ¢æ ‘çŠ¶æ•°ç»„å¥½ä¸€äº›ï¼ˆåŒºé—´æ›´æ–°æ²¡çœ‹ï¼‰QAQ</li></ul><h2 id="å›¾è®º">å›¾è®º</h2><h3 id="æœ€çŸ­è·¯">æœ€çŸ­è·¯</h3><ul><li>ä¸»è¦ç®—æ³•æœ‰dijkstra , bellmon , spfa , floyd</li><li>spfaæ®è¯´ä¼šé€€åŒ–åˆ°<span class="math inline">\(O(n^2)\)</span>(æœ‰å¾…æ±‚è¯)</li><li>floydå¯ä»¥æ±‚çŸ©é˜µã€å›¾çš„ä¼ é€’é—­åŒ…<a href="https://vjudge.net/contest/261463#status/31415926535x/I/0/" target="_blank" rel="noopener">here</a></li><li>å‰é¢é‚£ä¸‰ä¸ªç®—æ³•éƒ½æ˜¯æ±‚å¾—å•æºæœ€çŸ­è·¯ï¼Œï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªç‚¹åˆ°ä¸€å †ç‚¹çš„æœ€çŸ­è·¯,ï¼Œï¼Œè€Œè¦æ±‚ä¸€å †ç‚¹åˆ°ä¸€ä¸ªç‚¹çš„æœ€çŸ­è·¯å¯ä»¥å°†è·¯å¾„åå‘åè·‘ä¸€è¾¹å•æºæœ€çŸ­è·¯ï¼Œï¼Œä¹Ÿå°±æ˜¯æ±‚é€†å›¾çš„æœ€çŸ­è·¯ï¼Œï¼Œï¼Œå­˜å›¾çš„æ–¹æ³•é€‰æ‹©é‚»æ¥çŸ©é˜µå¥½ä¸€äº›ï¼Œï¼Œï¼Œ<a href="https://blog.csdn.net/zwj1452267376/article/details/50518209" target="_blank" rel="noopener">here</a></li></ul><h3 id="ç½‘ç»œæµ">ç½‘ç»œæµ</h3><h4 id="æœ€å¤§æµæœ€å°å‰²">æœ€å¤§æµæœ€å°å‰²</h4><ul><li>è§£å†³æœ€å¤§æµçš„å¸¸ç”¨ç®—æ³•ï¼šdinic , sap , isap,,,è®°å¾—æ•²æ¿å­è®¤çœŸï¼Œï¼Œï¼Œå¼‚æˆ–å–è¾¹ï¼Œï¼Œéå†è¾¹ç­‰ç­‰</li><li>æœ€å¤§æµæœ€å°å‰²å®šç†ï¼šä¸€ä¸ªç½‘ç»œçš„æœ€å¤§æµä¹Ÿç­‰äºå…¶æœ€å°å‰²ï¼›</li></ul><h4 id="æœ€å¤§æƒé—­åˆå­å›¾">æœ€å¤§æƒé—­åˆå­å›¾</h4><ul><li>ä¸€èˆ¬æ˜¯æ±‚né€‰ä¸€å¯ä»¥å¾—åˆ°ä¸€äº›åˆ©ç›Šè€Œåœ¨ä¸€äº›ç‰¹æ®Šæƒ…å†µä¸‹å¯ä»¥å¾—åˆ°æ›´å¤šçš„åˆ©ç›Šçš„é—®é¢˜å°±å¯èƒ½ä½¿ç”¨ç½‘ç»œæµæ±‚è§£ï¼Œï¼Œå¯¹äºå†²çªæƒ…å†µçš„å¤„ç†æ˜¯æ·»åŠ ä¸€æ¡infçš„è¾¹ï¼Œï¼Œå¦‚æœæ­£å‘ä¸å¥½æ±‚é‚£ä¹ˆåå‘æ±‚ï¼Œï¼Œæ€»æ”¶ç›Šæ¸å»æœ€å°ä»£ä»·ï¼Œï¼Œä¹Ÿå°±æ˜¯æœ€å¤§æƒé—­åˆå­å›¾çš„é—®é¢˜ï¼Œï¼Œ<a href="https://www.luogu.org/problemnew/solution/P4313" target="_blank" rel="noopener">1</a>,,<a href="https://codeforces.com/contest/1082/submission/47022828" target="_blank" rel="noopener">2</a>,,,</li></ul><h2 id="æ•°è®º">æ•°è®º</h2><h2 id="ç‰¹æ®Šçš„ç®—æ³•">ç‰¹æ®Šçš„ç®—æ³•</h2><h2 id="codeforcesä¸Šçš„">codeforcesä¸Šçš„</h2><h2 id="å¥‡æŠ€æ·«å·§">å¥‡æŠ€æ·«å·§</h2>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;æ¦‚è¿°&quot;&gt;æ¦‚è¿°&lt;/h1&gt;
&lt;p&gt;å…¥çš„å‘ä¹…äº†ï¼Œï¼Œæ¥è§¦åˆ°çš„ç®—æ³•å°±å¤šäº†èµ·æ¥ï¼Œï¼Œåšçš„é¢˜ä¹Ÿå¤šäº†ï¼Œï¼Œä½†æ˜¯è®°æ€§å´ä¸€ç‚¹ä¸€ä¸å¥½&lt;/p&gt;
&lt;p&gt;æ¸æ¸å‘ç°å¥½å¤šé¢˜å½“æ—¶å¼„æ‡‚äº†ï¼Œï¼Œä»£ç ä¹Ÿå†™å¥½äº†ï¼Œï¼Œåšå®¢ä¸Šåšäº†ç¬”è®°ï¼Œï¼Œå¯æ˜¯æœ€åéšç€æ—¶é—´çš„æ¨ç§»ï¼Œï¼Œå†ç†Ÿæ‚‰çš„ç®—æ³•ï¼Œæ¨¡å‹ï¼Œå¥—è·¯ä¹Ÿå¿˜è®°äº†ï¼Œï¼Œå†å»ç¿»ä¹‹å‰çš„æ–‡ç« æœ‰å¤ªè´¹äº‹ï¼Œï¼Œ&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥è¿™ç¯‡æ–‡ç« ä¸»è¦æ˜¯è®°å½•ä¸€ä¸‹è§åˆ°çš„æ¯ç§ç®—æ³•ä»¥åŠè§£æ³•æ€è·¯ï¼Œï¼Œä¸ºäº†ä»¥åå¿˜è®°äº†èƒ½å¤Ÿå¿«é€Ÿæƒ³èµ·æ¥ï¼Œï¼ŒåŒæ—¶ä¹Ÿæ˜¯å…¶ä¸€ä¸ªè®°å½•çš„åŠŸèƒ½å§(ã£ãƒ»Ğ”ãƒ»)ã£&lt;/p&gt;
&lt;p&gt;å¤§è‡´çš„æ ¼å¼å°±æ˜¯â€œç®—æ³•-&amp;gt;é¢˜ç›®-&amp;gt;æ€è·¯&amp;quot;,,,,&lt;/p&gt;
&lt;p&gt;è²Œä¼¼æ˜¯ä¸€ä¸ªå¤§å‘Î£(*ï¾ŸĞ´ï¾Ÿï¾‰)ï¾‰&lt;/p&gt;
    
    </summary>
    
      <category term="acm" scheme="http://www.31415.cf/categories/acm/"/>
    
    
      <category term="acm" scheme="http://www.31415.cf/tags/acm/"/>
    
      <category term="åˆ·é¢˜" scheme="http://www.31415.cf/tags/%E5%88%B7%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>æœ€å¤§æƒé—­åˆå­å›¾</title>
    <link href="http://www.31415.cf/2018/12/15/%E6%9C%80%E5%A4%A7%E6%9D%83%E9%97%AD%E5%90%88%E5%AD%90%E5%9B%BE/"/>
    <id>http://www.31415.cf/2018/12/15/æœ€å¤§æƒé—­åˆå­å›¾/</id>
    <published>2018-12-15T09:47:40.000Z</published>
    <updated>2018-12-15T12:19:33.659Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1><p>æŸä¸€å¤©åœ¨ç¿»cfä¸Šçš„contestæ—¶ï¼Œï¼Œå‘ç°æœ€è¿‘çš„æŸä¸€åœºçš„Gé¢˜æ˜¯ç½‘ç»œæµçš„é¢˜ï¼Œï¼Œï¼Œæ­£å¥½æœ€è¿‘çœ‹äº†çœ‹ç½‘ç»œæµçš„é¢˜ï¼Œï¼Œæƒ³ç€æŠŠä»–å¼„å‡ºæ¥ï¼Œï¼Œï¼Œç„¶åæŸ¥äº†ä¸€ä¸‹å‘ç°æ˜¯ç½‘ç»œæµé‡Œ<strong>æœ€å¤§æƒé—­åˆå­å›¾</strong>çš„é—®é¢˜ï¼Œï¼Œäºæ˜¯å°±ä¸€ç›´æ‹–åˆ°ç°åœ¨æ‰åŸºæœ¬å¼„æ‡‚ã€‚ã€‚ã€‚ã€‚æœ€å¤§æƒé—­åˆå­å›¾çš„è§£æ³•å¾ˆç®€å•ï¼Œï¼Œï¼Œå…¶ä¸­ä¸€éƒ¨åˆ†çš„è®¡ç®—åˆ©ç”¨åˆ°äº†æ±‚è§£ç½‘ç»œçš„æœ€å¤§æµçš„é‚£å‡ ä¸ªç®—æ³•ï¼Œï¼Œä¸»è¦æ˜¯ç†è§£å®ƒçš„æ€§è´¨å’Œ<strong>å»ºå›¾</strong>ï¼Œï¼Œï¼Œï¼Œ</p><a id="more"></a><h1 id="é¢˜ç›®åˆ†æ">é¢˜ç›®åˆ†æ</h1><p>é¦–å…ˆæ˜¯cfçš„é‚£é“é¢˜ï¼Œï¼Œï¼Œ<a href="https://codeforces.com/contest/1082/problem/G" target="_blank" rel="noopener">ä¼ é€é—¨</a>ï¼Œï¼Œï¼Œ</p><h2 id="é¢˜ç›®çš„æ„æ€">é¢˜ç›®çš„æ„æ€</h2><p>å¤§è‡´æ„æ€æ˜¯ä»–å®šä¹‰äº†ä¸€ä¸ªç½‘ç»œçš„å­å›¾æ˜¯<em>å­å›¾ä¸­çš„ç‚¹çš„åç»§èŠ‚ç‚¹ä¹Ÿåœ¨å­å›¾ä¸­</em>ï¼Œï¼Œï¼ˆåç»§èŠ‚ç‚¹å°±æ˜¯æŒ‡1-&gt;2-&gt;3 , 2å°±æ˜¯1çš„åç»§èŠ‚ç‚¹ï¼Œï¼Œ3å°±æ˜¯2çš„åç»§èŠ‚ç‚¹ï¼‰ï¼Œï¼Œç„¶åè¦ä½ æ‰¾å‡ºæœ€å¤§çš„å­å›¾çš„æƒï¼Œï¼Œï¼Œï¼Œ</p><p>é¢˜ç›®çš„æè¿°çš„å…¶å®å°±æ˜¯é—­åˆå­å›¾çš„æ€§è´¨ï¼Œï¼Œï¼Œæ‰€é—®å…¶å®ä¹Ÿå°±æ˜¯æœ€å¤§æƒé—­åˆå­å›¾ï¼Œï¼Œï¼Œ</p><p>æ¥ä¸‹æ¥æ˜¯æœ‰å…³æœ€å¤§æƒé—­åˆå­å›¾çš„ä¸€äº›æ¦‚å¿µ</p><h2 id="æœ€å¤§æƒé—­åˆå­å›¾">æœ€å¤§æƒé—­åˆå­å›¾</h2><p><a href="https://www.cnblogs.com/dilthey/p/7565206.html" target="_blank" rel="noopener">ä»¥ä¸‹èµ„æ–™å¼•ç”¨è‡ªè¿™é‡Œ</a></p><p><a href="https://www.cnblogs.com/TreeDream/p/5942354.html#_labelTop" target="_blank" rel="noopener">è¿˜æœ‰è¿™é‡Œ</a>ï¼Œï¼Œï¼Œ (æœ¬æ–‡æ‰€å¼•ç”¨å†…å®¹ç‰ˆæƒå½’åŸä½œè€…æ‰€æœ‰)</p><p>é¦–å…ˆå¯¹äºä¸€ä¸ªæœ‰ç‚¹æƒçš„æœ‰å‘è¿é€šå›¾ï¼š</p><p><img src="https://images2017.cnblogs.com/blog/1103198/201709/1103198-20170920131516868-1508739899.png"></p><p>ç”¨è¶…çº§æºç‚¹så’Œè¶…çº§æ±‡ç‚¹tå°†æ­£æƒå€¼çš„ç‚¹è¿åˆ°sè´Ÿæƒå€¼çš„è¿åˆ°tä¸Šï¼Œï¼Œè¿™æ ·å¯ä»¥å°†ç‚¹æƒå›¾è½¬åŒ–ä¸ºä¸€ä¸ªè¾¹æƒå›¾ï¼Œï¼Œï¼Œï¼š</p><p><img src="https://images2017.cnblogs.com/blog/1103198/201709/1103198-20170920133616665-1270622724.png"></p><h3 id="ç»“è®º">ç»“è®º</h3><ul><li>è¯¥å¸¦è¾¹æƒçš„æœ‰å‘å›¾çš„s-tæœ€å°å‰²æ˜¯ç®€å•å‰²ï¼Œï¼Œï¼ˆç®€å•å‰²å°±æ˜¯å‰²é›†ä¸­çš„æ‰€æœ‰ç‚¹éƒ½ä¸sæˆ–tç›¸è¿ï¼‰ï¼Œï¼Œæ‰€ä»¥æœ€å°å‰²ä¸ä¼šå‡ºç°åœ¨infçš„è¾¹ä¸Šï¼Œï¼Œè¿™æ ·çš„å›¾ä¹Ÿæ˜¯äºŒåˆ†å›¾ï¼Œï¼Œï¼Œï¼ˆè¿™é‡Œçœ‹ä¸æ‡‚äº†ï¼Œï¼Œä¸è¿‡ä¸å½±å“ï¼Œï¼Œï¼‰</li><li>è¯¥å›¾ä¸­æ¯ä¸€ä¸ªç®€å•å‰²äº§ç”Ÿçš„ä¸¤ä¸ªå­å›¾ä¸­ï¼Œå«æœ‰sçš„å­å›¾æ˜¯<strong>é—­åˆå›¾</strong></li><li><p><strong>é—­åˆå›¾</strong>ï¼šåœ¨ä¸€ä¸ªå›¾ä¸­ï¼Œé€‰å–ä¸€äº›ç‚¹æ„æˆé›†åˆï¼Œè‹¥é›†åˆä¸­çš„ä»»ä¸€ç‚¹è¿æ¥ç‚¹çš„ä»»æ„å‡ºå¼§ï¼Œå…¶æŒ‡å‘çš„ç‚¹ä¹Ÿåœ¨é›†åˆä¸­ï¼Œï¼Œï¼Œåˆ™è¿™ä¸ªé›†åˆæ„æˆçš„å›¾å°±æ˜¯é—­åˆå›¾ï¼Œï¼Œ</p></li><li><p>ä¾‹å¦‚ï¼š</p></li></ul><p><img src="http://media.hihocoder.com/problem_images/20161008/14759139776998.jpg"></p><p>è¿™ä¸ªå›¾çš„é—­åˆå­å›¾å°±æœ‰8ä¸ªï¼š<span class="math inline">\(âˆ…,\{3\},\{4\},\{2,4\},\{3,4\},\{1,3,4\},\{2,3,4\},\{1,2,3,4\}\)</span></p><ul><li><strong>æœ€å°å‰²äº§ç”Ÿçš„å­å›¾s,tï¼Œå›¾sæ˜¯æœ€å¤§æƒé—­åˆå­å›¾</strong></li><li>è¯æ˜å¦‚ä¸‹ï¼š &gt;å› ä¸ºå‰²é›†ä¸­æ‰€æœ‰çš„è¾¹ï¼Œä¸æ˜¯è¿æ¥åœ¨sä¸Šï¼Œå°±æ˜¯è¿æ¥åœ¨tä¸Šï¼›</li></ul><blockquote><p>æˆ‘ä»¬è®°å‰²é›†ä¸­ï¼Œæ‰€æœ‰è¿æ¥åœ¨sä¸Šçš„è¾¹çš„æƒå€¼å’Œä¸º<span class="math inline">\(x_1\)</span>ï¼Œæ‰€æœ‰è¿æ¥åœ¨tä¸Šçš„è¾¹çš„æƒå€¼å’Œä¸º<span class="math inline">\(x_2\)</span>ï¼Œè€Œå‰²é›†ä¸­æ‰€æœ‰è¾¹æƒå€¼å’Œä¸º<span class="math inline">\(X=x_1+x_2ï¼›\)</span></p></blockquote><blockquote><p>åˆï¼Œè®°å›¾Sä¸­æ‰€æœ‰ç‚¹çš„æƒå€¼å’Œä¸º<span class="math inline">\(W\)</span>ï¼Œè®°å…¶ä¸­æ­£æƒå€¼ä¹‹å’Œä¸º<span class="math inline">\(w_1\)</span>ï¼Œè´Ÿæƒå€¼ä¹‹å’Œä¸º<span class="math inline">\(-w_2\)</span>ï¼Œæ•…<span class="math inline">\(W = w_1 - w_2ï¼›\)</span></p></blockquote><blockquote><p>è€Œ <span class="math inline">\(W + X = w_1 - w_2 + x_1 + x_2\)</span>ï¼Œç”±äº<span class="math inline">\(x_2 = w_2\)</span>ï¼ˆå› ä¸ºå›¾Sä¸­æ‰€æœ‰è´Ÿæƒå€¼çš„ç‚¹ï¼Œå¿…ç„¶è¿æ¥åˆ°tç‚¹ï¼Œè€Œå›¾Så¿…ç„¶è¦ä¸tåˆ†å‰²å¼€ï¼›æ•…å‰²é›†ä¸­ï¼Œâ€œè¿æ¥åœ¨tç‚¹ä¸Šçš„è¾¹æƒå€¼å’Œâ€å°±æ˜¯â€œå›¾Sä¸­æ‰€æœ‰è´Ÿæƒå€¼ç‚¹çš„æƒå€¼ä¹‹å’Œï¼Œå–è´Ÿâ€ï¼‰</p></blockquote><blockquote><p>å› è€Œ<span class="math inline">\(W + X = w_1 + x_1ï¼›\)</span></p></blockquote><blockquote><p>ã€€ã€€è€Œæ˜¾ç„¶çš„ï¼Œ<span class="math inline">\(w_1 + x_1\)</span>æ˜¯æ•´ä¸ªå›¾ä¸­æ‰€æœ‰æ­£æƒå€¼ä¹‹å’Œï¼Œè®°ä¸º<span class="math inline">\(SUM\)</span>ï¼›</p></blockquote><blockquote><p>ã€€ã€€æ•…<span class="math inline">\(W = SUM - X\)</span>ï¼Œå³ <strong>â€œå›¾Sä¸­æ‰€æœ‰ç‚¹çš„æƒå€¼å’Œâ€ = â€œæ•´ä¸ªå›¾ä¸­æ‰€æœ‰æ­£æƒå€¼ä¹‹å’Œâ€ - â€œå‰²é›†ä¸­æ‰€æœ‰è¾¹æƒå€¼å’Œâ€</strong>ï¼›</p></blockquote><blockquote><p>ã€€ã€€ç„¶åï¼Œå› ä¸º<span class="math inline">\(SUM\)</span>ä¸ºå®šå€¼ï¼Œåªè¦æˆ‘ä»¬å–æœ€å°å‰²ï¼Œåˆ™â€œå›¾Sä¸­æ‰€æœ‰ç‚¹çš„æƒå€¼å’Œâ€å°±æ˜¯æœ€å¤§çš„ï¼Œå³æ­¤æ—¶å›¾Sä¸ºå›¾Sä¸ºæœ€å¤§æƒé—­åˆå­å›¾ï¼›</p></blockquote><h2 id="æ€»ç»“">æ€»ç»“</h2><p>æ ¹æ®ä»¥ä¸Šçš„è®ºè¿°ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¾—åˆ°æ±‚è§£ä¸€èˆ¬çš„æœ€å¤§æƒé—­åˆå­å›¾çš„æ­¥(tao)éª¤(lu):</p><ul><li>è®°å½•å›¾ä¸­çš„æ‰€æœ‰ç‚¹æƒä¸ºæ­£çš„å’Œï¼š<span class="math inline">\(sum\)</span></li><li>ç„¶åå»ºå›¾ï¼Œå»ºå›¾çš„å¤§æ¦‚æµç¨‹æ˜¯ï¼šæ­£ç‚¹æƒçš„ç‚¹ä¸æºç‚¹sç›¸è¿ï¼Œè¾¹æƒä¸ºç‚¹æƒï¼Œï¼Œè´Ÿç‚¹æƒçš„ç‚¹ä¸æ±‡ç‚¹tç›¸è¿ï¼Œï¼Œè¾¹æƒä¸ºç‚¹æƒçš„ç›¸åæ•°ï¼Œï¼Œæœ€åæ­£è´Ÿç‚¹ä¹‹é—´ç›¸è¿ï¼Œï¼Œè¾¹æƒä¸º<span class="math inline">\(inf\)</span></li><li>æœ€åè·‘ç½‘ç»œè·¯çš„æœ€å¤§æµå¾—åˆ°æœ€å¤§æµ<span class="math inline">\(maxflow\)</span>,,,æœ€å¤§æƒé—­åˆå­å›¾çš„æƒå€¼å°±æ˜¯ï¼š<span class="math inline">\(sum - maxflow\)</span></li></ul><p>æœ‰äº†è¿™äº›ï¼Œï¼Œè¿™é“æ¿å­é¢˜å…¶å®ä¹Ÿå°±å·®ä¸å¤šäº†ï¼Œï¼Œï¼Œå’Œæ±‚æœ€å¤§æµçš„ä¸åŒåªæœ‰å»ºå›¾å’Œæœ€åçš„å¤„ç†äº†ï¼Œï¼Œï¼Œ</p><h1 id="ä»£ç ">ä»£ç </h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//codefroces1082G</span></span><br><span class="line"><span class="comment">//https://codeforces.com/contest/1082/submission/47022828</span></span><br><span class="line"><span class="comment">//#include &lt;bits/stdc++.h&gt;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e5</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxm = <span class="number">1e5</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="keyword">int</span> n , m;</span><br><span class="line"><span class="keyword">int</span> a[maxn];</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> to , next , cap , flow;</span><br><span class="line">&#125;edge[maxm];</span><br><span class="line"><span class="keyword">int</span> tol;</span><br><span class="line"><span class="keyword">int</span> head[maxn];</span><br><span class="line"><span class="keyword">int</span> gap[maxn] , dep[maxn] , cur[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    tol = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">memset</span>(head , <span class="number">-1</span> , <span class="keyword">sizeof</span> head);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addedge</span><span class="params">(<span class="keyword">int</span> u , <span class="keyword">int</span> v , <span class="keyword">int</span> w , <span class="keyword">int</span> rw  = <span class="number">0</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    edge[tol].to = v; edge[tol].cap = w;edge[tol].flow = <span class="number">0</span>;</span><br><span class="line">    edge[tol].next = head[u]; head[u] = tol++;</span><br><span class="line">    edge[tol].to = u; edge[tol].cap = rw;edge[tol].flow = <span class="number">0</span>;</span><br><span class="line">    edge[tol].next = head[v];head[v] = tol++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> q[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bfs</span><span class="params">(<span class="keyword">int</span> s , <span class="keyword">int</span> t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(dep , <span class="number">-1</span> , <span class="keyword">sizeof</span> dep);</span><br><span class="line">    <span class="built_in">memset</span>(gap , <span class="number">0</span> , <span class="keyword">sizeof</span> gap);</span><br><span class="line">    gap[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> front = <span class="number">0</span> , rear = <span class="number">0</span>;</span><br><span class="line">    dep[t] = <span class="number">0</span>;</span><br><span class="line">    q[rear++] = t;</span><br><span class="line">    <span class="keyword">while</span>(front != rear)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> u = q[front++];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = head[u]; ~i; i = edge[i].next)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> v = edge[i].to;</span><br><span class="line">            <span class="keyword">if</span>(~dep[v])<span class="keyword">continue</span>;</span><br><span class="line">            q[rear++] = v;</span><br><span class="line">            dep[v] = dep[u] + <span class="number">1</span>;</span><br><span class="line">            ++gap[dep[v]];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> stck[maxn];</span><br><span class="line"><span class="function">ll <span class="title">isap</span><span class="params">(<span class="keyword">int</span> s , <span class="keyword">int</span> t , <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    bfs(s , t);</span><br><span class="line">    <span class="built_in">memcpy</span>(cur , head , <span class="keyword">sizeof</span> head);</span><br><span class="line">    <span class="comment">//for(int i = 0; i &lt;= n; ++i)cur[i] = head[i];</span></span><br><span class="line">    <span class="keyword">int</span> top = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> u = s;</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(dep[s] &lt; n)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//cout &lt;&lt; u &lt;&lt; endl;</span></span><br><span class="line">        <span class="keyword">if</span>(u == t)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//cout &lt;&lt; u &lt;&lt; endl;</span></span><br><span class="line">            <span class="keyword">int</span> mi = inf;</span><br><span class="line">            <span class="keyword">int</span> inser;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; top; ++i)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(mi &gt; edge[stck[i]].cap - edge[stck[i]].flow)</span><br><span class="line">                &#123;</span><br><span class="line">                    mi = edge[stck[i]].cap - edge[stck[i]].flow;</span><br><span class="line">                    inser = i;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; top; ++i)</span><br><span class="line">            &#123;</span><br><span class="line">                edge[stck[i]].flow += mi;</span><br><span class="line">                edge[stck[i] ^ <span class="number">1</span>].flow -= mi;</span><br><span class="line">            &#125;<span class="comment">//cout &lt;&lt; mi &lt;&lt; "  ---" &lt;&lt; inf &lt;&lt; endl;</span></span><br><span class="line">            ans += mi;</span><br><span class="line">            top = inser;</span><br><span class="line">            u = edge[stck[top] ^ <span class="number">1</span>].to;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">int</span> v;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = cur[u]; ~i; i = edge[i].next)</span><br><span class="line">        &#123;</span><br><span class="line">            v = edge[i].to;</span><br><span class="line">            <span class="keyword">if</span>(edge[i].cap - edge[i].flow &amp;&amp; dep[v] + <span class="number">1</span> == dep[u])</span><br><span class="line">            &#123;</span><br><span class="line">                flag = <span class="literal">true</span>;</span><br><span class="line">                cur[u] = i;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(flag)</span><br><span class="line">        &#123;</span><br><span class="line">            stck[top++] = cur[u];</span><br><span class="line">            u = v;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> mi = n;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = head[u]; ~i; i = edge[i].next)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(edge[i].cap - edge[i].flow &amp;&amp; dep[edge[i].to] &lt; mi)</span><br><span class="line">            &#123;</span><br><span class="line">                mi = dep[edge[i].to];</span><br><span class="line">                cur[u] = i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        --gap[dep[u]];</span><br><span class="line">        <span class="keyword">if</span>(!gap[dep[u]])<span class="keyword">return</span> ans;</span><br><span class="line">        dep[u] = mi + <span class="number">1</span>;</span><br><span class="line">        ++gap[dep[u]];</span><br><span class="line">        <span class="keyword">if</span>(u != s)u = edge[stck[--top] ^ <span class="number">1</span>].to;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//    freopen("233.txt" , "r" , stdin);</span></span><br><span class="line"><span class="comment">//    freopen("233.out" , "w" , stdout);</span></span><br><span class="line">    ios_base::sync_with_stdio(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">cin</span>.tie(<span class="number">0</span>);<span class="built_in">cout</span>.tie(<span class="number">0</span>);</span><br><span class="line">    init();</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">int</span> x;</span><br><span class="line">    <span class="keyword">int</span> s = <span class="number">0</span>;<span class="keyword">int</span> t = n + m + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; x;</span><br><span class="line">        addedge(i , t , x);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> u , v , w;</span><br><span class="line">    ll ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; u &gt;&gt; v &gt;&gt; w;</span><br><span class="line">        addedge(n + i , u , inf);</span><br><span class="line">        addedge(n + i , v , inf);</span><br><span class="line">        addedge(s , n + i , w);</span><br><span class="line">        ans += w;</span><br><span class="line">    &#125;</span><br><span class="line">    ans -= isap(s , t , n + m + <span class="number">2</span>);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¹‹ååˆæ‰¾äº†ä¸€é“è¿™æ ·çš„é¢˜ï¼Œï¼Œï¼Œè¿˜æ˜¯åœ¨å»ºå›¾ä¸Šåšæ–‡ç« ï¼Œï¼Œï¼Œå°±æ˜¯å’Œä¸Šä¸€é“ä¸€æ ·çš„æ•²é”™äº†æ¿å­ï¼Œï¼Œï¼Œæ­»æ´»è¿è¡Œä¸æ­£ç¡®ï¼Œemmmmmï¼Œï¼Œï¼Œè¿˜æœ‰åˆå§‹åŒ–å‡½æ•°init()æ€»æ˜¯å¿˜è®°è°ƒç”¨ï¼Œï¼Œï¼Œèœçš„æµæ³ªï¼Œï¼Œï¼Œï¼ŒQAQ</p><p><a href="https://www.luogu.org/problemnew/show/P4313" target="_blank" rel="noopener">é¢˜ç›®é“¾æ¥</a></p><p>é¢˜ç›®å¤§æ¦‚æ„æ€æ˜¯ä¸€ä¸ªç­çš„äººé€‰ç†ç§‘æ»¡æ„åº¦åŠ å¤šå°‘å¤šå°‘ï¼Œï¼Œé€‰æ–‡ç§‘åŠ å¤šå°‘å¤šå°‘ï¼Œï¼Œå¦‚æœä¸€ä¸ªäººçš„å‰åå·¦å³é€‰çš„å’Œä»–ä¸€æ ·ä¹ŸåŠ å¤šå°‘å¤šå°‘ï¼Œï¼Œé—®ä½ æœ€å¤§çš„æ»¡æ„å€¼æ˜¯å¤šå°‘ï¼Œï¼Œï¼Œ æ€è·¯æ˜¯ç»™è¿™n*mä¸ªç‚¹å’Œsç‚¹è¿çš„è¾¹æƒæ˜¯æ–‡ç§‘çš„é‚£ä¸ªå€¼ï¼Œï¼Œå’Œtç‚¹è¿çš„è¾¹æƒæ˜¯ç†ç§‘é‚£ä¸ªå€¼ï¼Œï¼Œç„¶ååŠ ä¸€ä¸ªæ–°çš„ç‚¹cntï¼Œï¼Œå’Œsç‚¹è¿ï¼Œï¼Œè¾¹æƒä¸ºç¬¬ä¸‰ç»„æ»¡æ„åº¦ï¼Œï¼Œå’Œå…¶å¯¹åº”çš„ç›¸é‚»åŒå­¦è¿infçš„è¾¹ï¼Œï¼Œé€‰ç†ç§‘ä¹Ÿå°±æ˜¯å’Œtè¿çš„æ–°ç‚¹åŒç†ï¼Œï¼Œæœ€åè·‘ç½‘ç»œæµå°±è¡Œï¼Œï¼Œè¦æ±‚çš„æ»¡æ„å€¼å°±æ˜¯æ€»çš„æ»¡æ„å€¼-æœ€å°å‰²çš„</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è®°å¾—è¾¹æ•°å¼€å¤§ç‚¹ï¼Œï¼Œè²Œä¼¼èƒ½æœ‰ç‚¹æ•°çš„30å€å·¦å³ï¼Œï¼Œï¼Œä¹‹å‰reäº†ä¸€å‘QAQ</span></span><br><span class="line"><span class="comment">//https://www.luogu.org/problemnew/show/P4313</span></span><br><span class="line"><span class="comment">//https://www.luogu.org/record/show?rid=14708566</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> aaa cout&lt;&lt;233&lt;&lt;endl;</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e5</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxm = <span class="number">3e6</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> dx[<span class="number">6</span>] = &#123;<span class="number">0</span> , <span class="number">0</span> , <span class="number">0</span> , <span class="number">-1</span> , <span class="number">1</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> dy[<span class="number">6</span>] = &#123;<span class="number">0</span> , <span class="number">-1</span> , <span class="number">1</span> , <span class="number">0</span> , <span class="number">0</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> tol;</span><br><span class="line"><span class="keyword">int</span> head[maxn];</span><br><span class="line"><span class="keyword">int</span> gap[maxn] , dep[maxn] , cur[maxn];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> to , next , cap , flow;</span><br><span class="line">&#125;edge[maxm];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    tol = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">memset</span>(head , <span class="number">-1</span> , <span class="keyword">sizeof</span> head);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addedge</span><span class="params">(<span class="keyword">int</span> u , <span class="keyword">int</span> v , <span class="keyword">int</span> w , <span class="keyword">int</span> rw = <span class="number">0</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    edge[tol].to = v;edge[tol].cap = w;edge[tol].flow = <span class="number">0</span>;</span><br><span class="line">    edge[tol].next = head[u];head[u] = tol++;</span><br><span class="line">    edge[tol].to = u;edge[tol].cap = rw; edge[tol].flow = <span class="number">0</span>;</span><br><span class="line">    edge[tol].next = head[v];head[v] = tol++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> q[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bfs</span><span class="params">(<span class="keyword">int</span> s , <span class="keyword">int</span> t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(dep , <span class="number">-1</span> , <span class="keyword">sizeof</span> dep);</span><br><span class="line">    <span class="built_in">memset</span>(gap , <span class="number">0</span> , <span class="keyword">sizeof</span> gap);</span><br><span class="line">    gap[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> front = <span class="number">0</span> , rear = <span class="number">0</span>;</span><br><span class="line">    dep[t] = <span class="number">0</span>;</span><br><span class="line">    q[rear++] = t;</span><br><span class="line">    <span class="keyword">while</span>(front != rear)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> u = q[front++];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = head[u]; ~i; i = edge[i].next)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> v = edge[i].to;</span><br><span class="line">            <span class="keyword">if</span>(~dep[v])<span class="keyword">continue</span>;</span><br><span class="line">            q[rear++] = v;</span><br><span class="line">            dep[v] = dep[u] + <span class="number">1</span>;</span><br><span class="line">            ++gap[dep[v]];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> stck[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">isap</span><span class="params">(<span class="keyword">int</span> s , <span class="keyword">int</span> t , <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    bfs(s , t);</span><br><span class="line">    <span class="built_in">memcpy</span>(cur , head , <span class="keyword">sizeof</span> head);</span><br><span class="line">    <span class="keyword">int</span> top = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> u = s;</span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(dep[s] &lt; n)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(u == t)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> mi = inf;</span><br><span class="line">            <span class="keyword">int</span> inser;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; top; ++i)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(mi &gt; edge[stck[i]].cap - edge[stck[i]].flow)</span><br><span class="line">                &#123;</span><br><span class="line">                    mi = edge[stck[i]].cap - edge[stck[i]].flow;</span><br><span class="line">                    inser = i;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; top; ++i)</span><br><span class="line">            &#123;</span><br><span class="line">                edge[stck[i]].flow += mi;</span><br><span class="line">                edge[stck[i] ^ <span class="number">1</span>].flow -= mi;</span><br><span class="line">            &#125;</span><br><span class="line">            ans += mi;</span><br><span class="line">            top = inser;</span><br><span class="line">            u = edge[stck[top] ^ <span class="number">1</span>].to;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">int</span> v;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = cur[u]; ~i; i = edge[i].next)</span><br><span class="line">        &#123;</span><br><span class="line">            v = edge[i].to;</span><br><span class="line">            <span class="keyword">if</span>(edge[i].cap - edge[i].flow &amp;&amp; dep[v] + <span class="number">1</span> == dep[u])</span><br><span class="line">            &#123;</span><br><span class="line">                flag = <span class="literal">true</span>;</span><br><span class="line">                cur[u] = i;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(flag)</span><br><span class="line">        &#123;</span><br><span class="line">            stck[top++] = cur[u];</span><br><span class="line">            u = v;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> mi = n;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = head[u]; ~i; i = edge[i].next)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(edge[i].cap - edge[i].flow &amp;&amp; dep[edge[i].to] &lt; mi)</span><br><span class="line">            &#123;</span><br><span class="line">                mi = dep[edge[i].to];</span><br><span class="line">                cur[u] = i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        --gap[dep[u]];</span><br><span class="line">        <span class="keyword">if</span>(!gap[dep[u]])<span class="keyword">return</span> ans;</span><br><span class="line">        dep[u] = mi + <span class="number">1</span>;</span><br><span class="line">        ++gap[dep[u]];</span><br><span class="line">        <span class="keyword">if</span>(u != s)u = edge[stck[--top] ^ <span class="number">1</span>].to;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> m;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getid</span><span class="params">(<span class="keyword">int</span> i , <span class="keyword">int</span> j)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (i - <span class="number">1</span>) * m + j;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//freopen("233.txt",  "r" , stdin);</span></span><br><span class="line">    ios_base::sync_with_stdio(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">cin</span>.tie(<span class="number">0</span>);<span class="built_in">cout</span>.tie(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">int</span> u , v , w;</span><br><span class="line">    <span class="keyword">int</span> s = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> t = n * m + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    init();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m; ++j)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; w;</span><br><span class="line">            sum += w;</span><br><span class="line">            u = s;</span><br><span class="line">            v = getid(i , j);</span><br><span class="line">            addedge(u , v , w);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m; ++j)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; w;</span><br><span class="line">            sum += w;</span><br><span class="line">            u = getid(i , j);</span><br><span class="line">            v = t;</span><br><span class="line">            addedge(u , v , w);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> cnt = n * m + <span class="number">1</span>;<span class="comment">//é¢å¤–çš„ç‚¹</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m; ++j)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; w;</span><br><span class="line">            sum += w;</span><br><span class="line">            v = getid(i , j);</span><br><span class="line">            ++cnt;</span><br><span class="line">            addedge(s , cnt , w);</span><br><span class="line">            addedge(cnt , v , inf);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">1</span>; k &lt;= <span class="number">4</span>; ++k)</span><br><span class="line">                <span class="keyword">if</span>(i + dx[k] &gt;= <span class="number">1</span> &amp;&amp; i + dx[k] &lt;= n &amp;&amp; j + dy[k] &gt;= <span class="number">1</span> &amp;&amp; j + dy[k] &lt;= m)</span><br><span class="line">                    addedge(cnt , getid(i + dx[k] , j + dy[k]) , inf);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m; ++j)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; w;</span><br><span class="line">            sum += w;</span><br><span class="line">            u = getid(i , j);</span><br><span class="line">            ++cnt;</span><br><span class="line">            addedge(cnt , t , w);</span><br><span class="line">            addedge(u , cnt , inf);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> k = <span class="number">1</span>; k &lt;= <span class="number">4</span>; ++k)</span><br><span class="line">                <span class="keyword">if</span>(i + dx[k] &gt;= <span class="number">1</span> &amp;&amp; i + dx[k] &lt;= n &amp;&amp; j + dy[k] &gt;= <span class="number">1</span> &amp;&amp; j + dy[k] &lt;= m)</span><br><span class="line">                    addedge(getid(i + dx[k] , j + dy[k]) , cnt , inf);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; sum - isap(s , t , cnt + <span class="number">1</span>) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>å‰‘ä¹‹æ‰€æŒ‡ï¼Œå¿ƒä¹‹æ‰€å‘ï¼Œèº«ä¹‹æ‰€å¾€ï¼ï¼</strong></p><p>(end)</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;æ¦‚è¿°&quot;&gt;æ¦‚è¿°&lt;/h1&gt;
&lt;p&gt;æŸä¸€å¤©åœ¨ç¿»cfä¸Šçš„contestæ—¶ï¼Œï¼Œå‘ç°æœ€è¿‘çš„æŸä¸€åœºçš„Gé¢˜æ˜¯ç½‘ç»œæµçš„é¢˜ï¼Œï¼Œï¼Œæ­£å¥½æœ€è¿‘çœ‹äº†çœ‹ç½‘ç»œæµçš„é¢˜ï¼Œï¼Œæƒ³ç€æŠŠä»–å¼„å‡ºæ¥ï¼Œï¼Œï¼Œç„¶åæŸ¥äº†ä¸€ä¸‹å‘ç°æ˜¯ç½‘ç»œæµé‡Œ&lt;strong&gt;æœ€å¤§æƒé—­åˆå­å›¾&lt;/strong&gt;çš„é—®é¢˜ï¼Œï¼Œäºæ˜¯å°±ä¸€ç›´æ‹–åˆ°ç°åœ¨æ‰åŸºæœ¬å¼„æ‡‚ã€‚ã€‚ã€‚ã€‚æœ€å¤§æƒé—­åˆå­å›¾çš„è§£æ³•å¾ˆç®€å•ï¼Œï¼Œï¼Œå…¶ä¸­ä¸€éƒ¨åˆ†çš„è®¡ç®—åˆ©ç”¨åˆ°äº†æ±‚è§£ç½‘ç»œçš„æœ€å¤§æµçš„é‚£å‡ ä¸ªç®—æ³•ï¼Œï¼Œä¸»è¦æ˜¯ç†è§£å®ƒçš„æ€§è´¨å’Œ&lt;strong&gt;å»ºå›¾&lt;/strong&gt;ï¼Œï¼Œï¼Œï¼Œ&lt;/p&gt;
    
    </summary>
    
      <category term="ACM-ç½‘ç»œæµ-æœ€å¤§æƒé—­åˆå­å›¾" scheme="http://www.31415.cf/categories/ACM-%E7%BD%91%E7%BB%9C%E6%B5%81-%E6%9C%80%E5%A4%A7%E6%9D%83%E9%97%AD%E5%90%88%E5%AD%90%E5%9B%BE/"/>
    
    
      <category term="acm" scheme="http://www.31415.cf/tags/acm/"/>
    
      <category term="åˆ·é¢˜" scheme="http://www.31415.cf/tags/%E5%88%B7%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>cspåˆ·é¢˜</title>
    <link href="http://www.31415.cf/2018/12/13/csp%E5%88%B7%E9%A2%98/"/>
    <id>http://www.31415.cf/2018/12/13/cspåˆ·é¢˜/</id>
    <published>2018-12-13T08:41:33.000Z</published>
    <updated>2018-12-13T10:25:01.937Z</updated>
    
    <content type="html"><![CDATA[<p>cspåˆ·é¢˜ç•™å­˜ï¼š</p><a id="more"></a><h1 id="markdown"><a href="http://118.190.20.162/view.page?gpid=T55" target="_blank" rel="noopener">Markdown</a></h1><p>åœ¨ç¬¬7ä¸ªç‚¹æŒ‚äº†ï¼Œï¼Œï¼Œä¸æ”¹äº†ï¼Œï¼Œï¼Œå¤ªæ¶å¿ƒäº†è¿™ç§é¢˜QAQï¼Œï¼Œï¼Œï¼Œ æœ‰è°æƒ³æ”¹çš„æ”¹å®Œäº†å‘Šè¯‰æˆ‘ä¸€ä¸‹ï¼Œï¼Œï¼ŒQAQ <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e3</span> + <span class="number">5</span>;</span><br><span class="line"><span class="built_in">string</span> h1[] = &#123; <span class="string">"&lt;h1&gt;"</span> , <span class="string">"&lt;h2&gt;"</span> , <span class="string">"&lt;h3&gt;"</span> , <span class="string">"&lt;h4&gt;"</span> , <span class="string">"&lt;h5&gt;"</span> , <span class="string">"&lt;h6&gt;"</span> &#125;;</span><br><span class="line"><span class="built_in">string</span> h2[] = &#123; <span class="string">"&lt;/h1&gt;"</span> , <span class="string">"&lt;/h2&gt;"</span> , <span class="string">"&lt;/h3&gt;"</span> , <span class="string">"&lt;/h4&gt;"</span> , <span class="string">"&lt;/h5&gt;"</span> , <span class="string">"&lt;/h6&gt;"</span> &#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">check</span><span class="params">(<span class="built_in">string</span> s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> pos = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">bool</span> _ = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">bool</span> href = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">while</span>(s[pos] != <span class="string">'\0'</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(s[pos] == <span class="string">'_'</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"&lt;em&gt;"</span>;</span><br><span class="line">            <span class="keyword">int</span> pos2 = pos + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span>(s[pos2] != <span class="string">'_'</span>)++pos2;</span><br><span class="line">            <span class="built_in">string</span> t = s.substr(pos + <span class="number">1</span> , pos2 - pos - <span class="number">1</span>);</span><br><span class="line">            check(t);</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"&lt;/em&gt;"</span>;</span><br><span class="line">            pos = pos2 + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(s[pos] == <span class="string">'['</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> a , b , c , d;</span><br><span class="line">            a = b = c = d = pos;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = pos; s[i] != <span class="string">'\0'</span>; ++i)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(s[i] == <span class="string">']'</span>)</span><br><span class="line">                    b = i;</span><br><span class="line">                <span class="keyword">if</span>(s[i] == <span class="string">'('</span>)</span><br><span class="line">                    c = i;</span><br><span class="line">                <span class="keyword">if</span>(s[i] == <span class="string">')'</span>)</span><br><span class="line">                    d = i;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(b != pos &amp;&amp; c != pos &amp;&amp; d != pos)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"&lt;a href=\""</span>;</span><br><span class="line">                <span class="built_in">string</span> t = s.substr(c + <span class="number">1</span> , d - c - <span class="number">1</span>);</span><br><span class="line">                check(t);</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"\"&gt;"</span>;</span><br><span class="line">                t = s.substr(a + <span class="number">1</span> , b - a - <span class="number">1</span>);</span><br><span class="line">                check(t);</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"&lt;/a&gt;"</span>;</span><br><span class="line">                pos = d + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; s[pos++];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; s[pos++];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"233.txt"</span> , <span class="string">"r"</span> , <span class="built_in">stdin</span>);</span><br><span class="line">    ios_base::sync_with_stdio(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">cin</span>.tie(<span class="number">0</span>);<span class="built_in">cout</span>.tie(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">string</span> s;</span><br><span class="line">    <span class="keyword">bool</span> flagul = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">bool</span> flagp = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">while</span>(getline(<span class="built_in">cin</span> , s))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(s[<span class="number">0</span>] == <span class="string">'#'</span>)</span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(flagul)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"&lt;/ul&gt;"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                flagul = <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(flagp)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"&lt;/p&gt;"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                flagp = <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">int</span> i;<span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt;= <span class="number">5</span>; ++i)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(s[i] == <span class="string">'#'</span>)</span><br><span class="line">                    ++sum;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">int</span> pos = i;</span><br><span class="line">            <span class="keyword">while</span>(s[pos] == <span class="string">' '</span>)++pos;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; h1[sum - <span class="number">1</span>];</span><br><span class="line">            <span class="built_in">string</span> t = s.substr(pos , s.length() - pos);</span><br><span class="line">            check(t);</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; h2[sum - <span class="number">1</span>] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(s[<span class="number">0</span>] == <span class="string">'*'</span>)</span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(flagp)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"&lt;/p&gt;"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                flagp = <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(!flagul)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"&lt;ul&gt;"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                flagul = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">int</span> i;</span><br><span class="line">            <span class="keyword">int</span> pos = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; s[i] != <span class="string">'\0'</span>; ++i)</span><br><span class="line">                <span class="keyword">if</span>(s[i] == <span class="string">' '</span> || s[i] == <span class="string">'*'</span>)</span><br><span class="line">                    ++pos;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"&lt;li&gt;"</span>;</span><br><span class="line">            <span class="keyword">while</span>(s[pos] != <span class="string">'\0'</span>)</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; s[pos++];</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"&lt;/li&gt;"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(s.length() == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(flagp)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"&lt;/p&gt;"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                flagp = <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(flagul)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"&lt;/ul&gt;"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                flagul = <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(!flagp)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">"&lt;p&gt;"</span>;</span><br><span class="line">                flagp = <span class="literal">true</span>;</span><br><span class="line">                check(s);</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            check(s);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(flagp)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"&lt;/p&gt;"</span>;</span><br><span class="line">    <span class="keyword">if</span>(flagul)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"&lt;/ul&gt;"</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h1 id="çº¿æ€§é€’æ¨å¼"><a href="http://118.190.20.162/view.page?gpid=T74" target="_blank" rel="noopener">çº¿æ€§é€’æ¨å¼</a></h1><p>æš´åŠ›è‚¯å®šè¶…æ—¶ï¼Œï¼Œï¼Œè¯•äº†è¯•æœæ•™ç­›ï¼Œï¼Œï¼Œç„¶åwa2ï¼Œï¼Œï¼Œemmmmæœ‰æ¯’ï¼Œï¼Œï¼Œä¸ç®¡äº†++</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod = <span class="number">998244353</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i,a,n) for (int i=a;i&lt;n;i++)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> per(i,a,n) for (int i=n-1;i&gt;=a;i--)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> pb push_back</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> mp make_pair</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> all(x) (x).begin(),(x).end()</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> fi first</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> se second</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SZ(x) ((int)(x).size())</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; VI;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; PII;</span><br><span class="line"><span class="function">ll <span class="title">powmod</span><span class="params">(ll a,ll b)</span> </span>&#123;ll res=<span class="number">1</span>;a%=mod; assert(b&gt;=<span class="number">0</span>); <span class="keyword">for</span>(;b;b&gt;&gt;=<span class="number">1</span>)&#123;<span class="keyword">if</span>(b&amp;<span class="number">1</span>)res=res*a%mod;a=a*a%mod;&#125;<span class="keyword">return</span> res;&#125;</span><br><span class="line"><span class="comment">// head</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> _,n;</span><br><span class="line"><span class="keyword">namespace</span> linear_seq &#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">int</span> N=<span class="number">10010</span>;</span><br><span class="line">    ll res[N],base[N],_c[N],_md[N];</span><br><span class="line"></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; Md;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">mul</span><span class="params">(ll *a,ll *b,<span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">        rep(i,<span class="number">0</span>,k+k) _c[i]=<span class="number">0</span>;</span><br><span class="line">        rep(i,<span class="number">0</span>,k) <span class="keyword">if</span> (a[i]) rep(j,<span class="number">0</span>,k) _c[i+j]=(_c[i+j]+a[i]*b[j])%mod;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=k+k<span class="number">-1</span>;i&gt;=k;i--) <span class="keyword">if</span> (_c[i])</span><br><span class="line">            rep(j,<span class="number">0</span>,SZ(Md)) _c[i-k+Md[j]]=(_c[i-k+Md[j]]-_c[i]*_md[Md[j]])%mod;</span><br><span class="line">        rep(i,<span class="number">0</span>,k) a[i]=_c[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">solve</span><span class="params">(ll n,VI a,VI b)</span> </span>&#123; <span class="comment">// a ç³»æ•° b åˆå€¼ b[n+1]=a[0]*b[n]+...</span></span><br><span class="line"><span class="comment">//        printf("%d\n",SZ(b));</span></span><br><span class="line">        ll ans=<span class="number">0</span>,pnt=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> k=SZ(a);</span><br><span class="line">        assert(SZ(a)==SZ(b));</span><br><span class="line">        rep(i,<span class="number">0</span>,k) _md[k<span class="number">-1</span>-i]=-a[i];_md[k]=<span class="number">1</span>;</span><br><span class="line">        Md.clear();</span><br><span class="line">        rep(i,<span class="number">0</span>,k) <span class="keyword">if</span> (_md[i]!=<span class="number">0</span>) Md.push_back(i);</span><br><span class="line">        rep(i,<span class="number">0</span>,k) res[i]=base[i]=<span class="number">0</span>;</span><br><span class="line">        res[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> ((<span class="number">1l</span>l&lt;&lt;pnt)&lt;=n) pnt++;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> p=pnt;p&gt;=<span class="number">0</span>;p--) &#123;</span><br><span class="line">            mul(res,res,k);</span><br><span class="line">            <span class="keyword">if</span> ((n&gt;&gt;p)&amp;<span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i=k<span class="number">-1</span>;i&gt;=<span class="number">0</span>;i--) res[i+<span class="number">1</span>]=res[i];res[<span class="number">0</span>]=<span class="number">0</span>;</span><br><span class="line">                rep(j,<span class="number">0</span>,SZ(Md)) res[Md[j]]=(res[Md[j]]-res[k]*_md[Md[j]])%mod;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        rep(i,<span class="number">0</span>,k) ans=(ans+res[i]*b[i])%mod;</span><br><span class="line">        <span class="keyword">if</span> (ans&lt;<span class="number">0</span>) ans+=mod;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function">VI <span class="title">BM</span><span class="params">(VI s)</span> </span>&#123;</span><br><span class="line">        VI C(1,1),B(1,1);</span><br><span class="line">        <span class="keyword">int</span> L=<span class="number">0</span>,m=<span class="number">1</span>,b=<span class="number">1</span>;</span><br><span class="line">        rep(n,<span class="number">0</span>,SZ(s)) &#123;</span><br><span class="line">            ll d=<span class="number">0</span>;</span><br><span class="line">            rep(i,<span class="number">0</span>,L+<span class="number">1</span>) d=(d+(ll)C[i]*s[n-i])%mod;</span><br><span class="line">            <span class="keyword">if</span> (d==<span class="number">0</span>) ++m;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (<span class="number">2</span>*L&lt;=n) &#123;</span><br><span class="line">                VI T=C;</span><br><span class="line">                ll c=mod-d*powmod(b,mod<span class="number">-2</span>)%mod;</span><br><span class="line">                <span class="keyword">while</span> (SZ(C)&lt;SZ(B)+m) C.pb(<span class="number">0</span>);</span><br><span class="line">                rep(i,<span class="number">0</span>,SZ(B)) C[i+m]=(C[i+m]+c*B[i])%mod;</span><br><span class="line">                L=n+<span class="number">1</span>-L; B=T; b=d; m=<span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                ll c=mod-d*powmod(b,mod<span class="number">-2</span>)%mod;</span><br><span class="line">                <span class="keyword">while</span> (SZ(C)&lt;SZ(B)+m) C.pb(<span class="number">0</span>);</span><br><span class="line">                rep(i,<span class="number">0</span>,SZ(B)) C[i+m]=(C[i+m]+c*B[i])%mod;</span><br><span class="line">                ++m;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> C;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">gao</span><span class="params">(VI a,ll n)</span> </span>&#123;</span><br><span class="line">        VI c=BM(a);</span><br><span class="line">        c.erase(c.begin());</span><br><span class="line">        rep(i,<span class="number">0</span>,SZ(c)) c[i]=(mod-c[i])%mod;</span><br><span class="line">        <span class="keyword">return</span> solve(n,c,VI(a.begin(),a.begin()+SZ(c)));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//freopen("233.txt" , "r" , stdin);</span></span><br><span class="line">    ll a[maxn];</span><br><span class="line">    ll k[maxn];</span><br><span class="line">    ll m , l , r;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%lld%lld%lld"</span> , &amp;m , &amp;l , &amp;r);</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(ll i = <span class="number">1</span>; i &lt;= m; ++i)</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%lld"</span> , &amp;k[i]);</span><br><span class="line">        <span class="built_in">memset</span>(a , (ll)<span class="number">0</span> , <span class="keyword">sizeof</span> a);</span><br><span class="line">        a[<span class="number">0</span>] = (ll)<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(r &gt;= <span class="number">20</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(ll i = <span class="number">1</span>; i &lt;= <span class="number">30</span>; ++i)</span><br><span class="line">            &#123;</span><br><span class="line">                ll mi = min(i, m);</span><br><span class="line">                ll ma = (m &lt;= i) ? m : i;</span><br><span class="line">                <span class="keyword">for</span>(ll j = i, kk = <span class="number">1</span>; kk &lt;= ma; --j, ++kk)</span><br><span class="line">                    a[i] = (a[i] + (a[j - <span class="number">1</span>] * k[kk] % mod)) % mod;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v;</span><br><span class="line">            <span class="keyword">for</span>(ll i = <span class="number">1</span>; i &lt;= <span class="number">30</span>; ++i)</span><br><span class="line">                v.push_back(a[i]);</span><br><span class="line">            <span class="keyword">for</span>(ll i = l; i &lt;= r; ++i)</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, linear_seq::gao(v, i - <span class="number">1</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(ll i = <span class="number">1</span>; i &lt;= r; ++i)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">int</span> mi = min(i, m);</span><br><span class="line">                <span class="keyword">int</span> ma = (m &lt;= i) ? m : i;</span><br><span class="line">                <span class="keyword">for</span>(ll j = i, kk = <span class="number">1</span>; kk &lt;= ma; --j, ++kk)</span><br><span class="line">                    a[i] = (a[i] + (a[j - <span class="number">1</span>] * k[kk] % mod)) % mod;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = l; i &lt;= r; ++i)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%lld\n"</span> , a[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="é€šä¿¡ç½‘ç»œ"><a href="http://118.190.20.162/view.page?gpid=T60" target="_blank" rel="noopener">é€šä¿¡ç½‘ç»œ</a></h1><p>è¿™é¢˜æ·±æœå°±è¡Œäº†ï¼Œï¼Œï¼Œä»£ç ä¸¢äº†ï¼Œï¼Œï¼Œ</p><h1 id="é™¤æ³•"><a href="http://118.190.20.162/view.page?gpid=T59" target="_blank" rel="noopener">é™¤æ³•</a></h1><p>è¿™é¢˜ç»™çš„æ—¶é™æ˜¯10sï¼Œï¼Œï¼Œä¸€å¼€å§‹æˆ‘è¿˜å½“ä¸€èˆ¬çš„åŒºé—´é—®é¢˜æƒ³ï¼Œï¼Œï¼Œæƒ³ç€æ€ä¹ˆç”¨åŒºé—´ä¿®æ”¹çš„çº¿æ®µæ ‘åšï¼Œï¼Œï¼Œï¼Œç„¶åå‘ç°æ—¶é™å¾ˆå¤§ï¼Œä¹‹åæœæ–­æš´åŠ›æ›´æ–°åŒºé—´çš„æ¯ä¸ªç‚¹ï¼Œï¼Œï¼Œç„¶åè¯•äº†å¥½å¤šçš„çº¿æ®µæ ‘çš„æ¿å­éƒ½åœ¨ç¬¬ä¹ä¸ªç‚¹täº†ï¼Œï¼Œï¼Œï¼Œæ¢æ ‘çŠ¶æ•°ç»„å°±æ²¡äº‹ï¼Œï¼Œemmmmmæœ‰æ¯’++,,è¿˜æœ‰è¦åˆ¤æ–­è¿™ä¸ªæ•°æ˜¯ä¸æ˜¯å·²ç»æ¯”è¦é™¤çš„æ•°å°ï¼Œï¼Œï¼Œè¿˜æœ‰æ ‡è®°ä¼˜åŒ–ï¼Œï¼Œï¼Œè¿™æ ·æ‰èƒ½è¿‡ï¼Œï¼Œï¼Œï¼Œ</p><p>ä»£ç æ²¡ä¿å­˜ï¼Œï¼Œï¼Œemmmmä¸ç®¡äº†ï¼Œï¼Œï¼Œï¼Œ</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;cspåˆ·é¢˜ç•™å­˜ï¼š&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Codeforces-1084C</title>
    <link href="http://www.31415.cf/2018/12/13/Codeforces-1084C/"/>
    <id>http://www.31415.cf/2018/12/13/Codeforces-1084C/</id>
    <published>2018-12-13T08:02:04.000Z</published>
    <updated>2018-12-13T10:25:20.234Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1><p>å¥½ä¹…æ²¡å†™åšå®¢äº†ï¼Œï¼Œï¼Œæœ€è¿‘çš„äº‹å¤ªå¤šäº†ï¼Œï¼Œå‡ ä¹æ²¡æœ‰ä¸“é—¨çœ‹ä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼Œï¼Œï¼Œä¸€ç›´åœ¨åšå„ç§çš„ç®€å•é¢˜QAQã€‚ã€‚ã€‚</p><a id="more"></a><h1 id="é¢˜æ„">é¢˜æ„</h1><p><a href="https://codeforces.com/contest/1084/problem/C" target="_blank" rel="noopener">è¿™é“é¢˜å¤§æ¦‚çš„é¢˜æ„å°±æ˜¯</a>ç»™ä½ ä¸€ä¸ªä¸²ï¼Œï¼Œï¼Œç„¶åæ‰¾å‡ºæ‰€æœ‰å¼€å¤´ç»“å°¾éƒ½æ˜¯açš„å¹¶ä¸”ä¸­é—´æœ‰bçš„å­ä¸²çš„ä¸ªæ•°ï¼Œï¼Œï¼Œå•ä¸€çš„aä¹Ÿç®—ï¼Œï¼Œï¼Œ</p><p>ä¸€å¼€å§‹çœ‹äº†å¥½å‡ ééƒ½æ²¡çœ‹æ‡‚é¢˜æ„ï¼Œï¼Œï¼Œä¸çŸ¥é“åœ¨æ±‚å•¥ï¼Œï¼Œï¼Œ</p><p><a href="https://www.cnblogs.com/wa007/p/10103272.html" target="_blank" rel="noopener">ç„¶åçœ‹äº†ä¸€ä¸ªäººçš„é¢˜è§£</a>ï¼Œï¼Œç„¶åæ²¡çœ‹æ‡‚QAQ,,,,,</p><p>çœ‹äº†å®˜æ–¹é¢˜è§£ä¸‹çš„ä¸€ä¸ªè¯„è®ºçœ‹æ‡‚äº†ï¼Œï¼Œï¼Œï¼Œï¼Œemmmm</p><blockquote><p>It doesn't depend at all if there exists any letter other than a or b in the given string. You can for sure ignore those letters, so the editorial says to erase them. Now, what you have is a string consisting only of a and b's. Also two consecutive b's can be merged as one. So your final string will look something like (a...a)b(a...a)b(a...)...</p></blockquote><blockquote><p>You can now consider this problem as sum of all possible product of subsets of a given set, where each element in the set is the number of a's delimited by b.</p></blockquote><blockquote><p>For example: In the string &quot;aaabaabaaab&quot;, set formed will be {3,2,3,0} (0 can be ignored). Now if you have a set {a1,a2,...,aN}, then sum of all possible products of this set is equal to (1+a1)<em>(1+a2)</em>...*(1+aN)-1.</p></blockquote><blockquote><p>Proof: Write the required answer as follows: S = Sum of products of subset with (size=1)+(size=2)+...(size=N) <span class="math inline">\(S = (a_1+a_2+...a_N)+(a_1*a_2+a_1*a_3......+a_{N-1}*a_N)+...+(a_1*a_2.....a_N)\)</span> After factorization, S = (1+a1)(1+a2)...(1+aN)-1</p></blockquote><p>å¤§è‡´æ„æ€å°±æ˜¯å¤„ç†æ‰€ç»™çš„å­—ç¬¦ä¸²ï¼Œï¼Œï¼Œå°±å˜æˆäº†ä¸€å †aä¸€ä¸ªbä¸€å †aä¸€ä¸ªb....è¿™æ ·çš„ï¼Œï¼Œï¼Œ ä¹Ÿå°±æ˜¯ä¸€å †açš„é›†åˆ é¢˜ç›®æ‰€è¦çš„å°±æ˜¯è°ƒä¸¤ä¸ªä¸ªaçš„é›†åˆé‡Œè°ƒä¸€ä¸ªaä½œä¸ºå­ä¸²çš„é¦–å°¾ï¼Œï¼Œï¼Œè¿™æ ·çš„å°±æ˜¯æ‰€è¦çš„ä¸²ï¼Œï¼Œï¼Œ äºæ˜¯æ€»å…±çš„ä¸ªæ•°å°±æ˜¯<span class="math inline">\(a_1*a_2*a_3.....a_{n-1}*a_{n}\)</span>,,,å¯¹äº†æ¯ä¸ªé›†åˆè¿˜è¦åŠ ä¸€ï¼Œï¼Œè¡¨ç¤ºè¿™ä¸ªé›†åˆé€‰ä¸€ä¸ªæˆ–è€…éƒ½ä¸é€‰ï¼Œï¼Œï¼Œæœ€åçš„ç­”æ¡ˆå†å‡ä¸€å°±è¡Œäº†ï¼ˆå…¨ä¸é€‰çš„æƒ…å†µä¸ç¬¦åˆé¢˜æ„ï¼‰ï¼Œï¼Œï¼Œ</p><p>ä»–ä¸Šé¢é‚£æ®µè¯çš„æ€è·¯æ˜¯åœ¨è®¡ç®—æ‰€æœ‰çš„å­å·çš„æƒ…å†µæ—¶ï¼Œï¼Œé•¿åº¦ä¸º1+é•¿åº¦ä¸º2+ã€‚ã€‚ã€‚é•¿åº¦ä¸ºmã€‚ã€‚ã€‚ è¿™æ ·çš„è¯ <span class="math inline">\(sum = (a_1 + a_2+....+a_{n-1} + a_n) + (a_1 * a_2 + a_1 * a_3 + ...+ a_1 * a_m + a_2 * a_3 + ......+ a_{n-1} * a_n) + (a_1 * a_2 * a_3 + ....) + ...\)</span> ç„¶åè¿™ä¸ªæ±‚å’Œå¯ä»¥è½¬åŒ–æˆ<span class="math inline">\(sum = (1 + a_1) * (a_2 + 1) * (a_3 + 1) + (a_4 + 1) * .... * (a_n + 1) - 1\)</span></p><blockquote><p>å› ä¸ºï¼š</p></blockquote><blockquote><p><span class="math inline">\(a + b + ab = (a + 1) * (b + 1) - 1\)</span></p></blockquote><blockquote><p><span class="math inline">\(a + b + c + ab + ac + bc + abc = (a + 1) * (b + 1) * (c + 1) - 1\)</span></p></blockquote><h1 id="ä»£ç ">ä»£ç </h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e5</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line">ll a[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//    freopen("233.txt" , "r" , stdin);</span></span><br><span class="line"><span class="comment">//    freopen("233.out" , "w" , stdout);</span></span><br><span class="line">    ios_base::sync_with_stdio(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">cin</span>.tie(<span class="number">0</span>);<span class="built_in">cout</span>.tie(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">int</span> n = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">string</span> s;<span class="built_in">cin</span> &gt;&gt; s;</span><br><span class="line">    <span class="keyword">int</span> a[maxn];</span><br><span class="line">    <span class="keyword">int</span> tot = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> len = s.length();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(s[i] == <span class="string">'a'</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = i; j &lt; len; ++j)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(s[j] == <span class="string">'a'</span>)</span><br><span class="line">                    ++cnt;</span><br><span class="line">                <span class="keyword">if</span>(s[j] == <span class="string">'b'</span> || j == len - <span class="number">1</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    a[tot++] = cnt + <span class="number">1</span>;</span><br><span class="line">                    i = j;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ll ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; tot; ++i)</span><br><span class="line">        ans = (ans * a[i]) % mod;</span><br><span class="line">    --ans;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¤ªæ°´äº†ï¼Œï¼Œï¼Œï¼ŒQAQ</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;æ¦‚è¿°&quot;&gt;æ¦‚è¿°&lt;/h1&gt;
&lt;p&gt;å¥½ä¹…æ²¡å†™åšå®¢äº†ï¼Œï¼Œï¼Œæœ€è¿‘çš„äº‹å¤ªå¤šäº†ï¼Œï¼Œå‡ ä¹æ²¡æœ‰ä¸“é—¨çœ‹ä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼Œï¼Œï¼Œä¸€ç›´åœ¨åšå„ç§çš„ç®€å•é¢˜QAQã€‚ã€‚ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="Codeforces" scheme="http://www.31415.cf/categories/Codeforces/"/>
    
    
      <category term="acm" scheme="http://www.31415.cf/tags/acm/"/>
    
      <category term="åˆ·é¢˜" scheme="http://www.31415.cf/tags/%E5%88%B7%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>codeforces-1080C</title>
    <link href="http://www.31415.cf/2018/11/25/codeforces-1080C/"/>
    <id>http://www.31415.cf/2018/11/25/codeforces-1080C/</id>
    <published>2018-11-25T06:23:53.000Z</published>
    <updated>2018-11-25T08:36:14.857Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1><p><a href="https://codeforces.com/problemset/problem/1080/C" target="_blank" rel="noopener">æ˜¨å¤©æ­£å¥½æœ‰æ—¶é—´ï¼Œåšäº†è‡ªå·±ç¬¬ä¸€åœºçš„cf</a></p><p>åšå®ŒABä¹‹åè¢«Cå¡åˆ°æœ€åï¼Œï¼Œï¼Œä»æ¥æ²¡åšè¿‡åæ ‡å¹³é¢ä¸Šä¸¤ä¸ªçŸ©å½¢çš„é¢ç§¯å’Œï¼Œï¼Œï¼Œå› ä¸ºå­˜åœ¨ç›¸äº¤çš„å¯èƒ½ï¼Œï¼Œï¼Œæ‰€ä»¥è¦å•ç‹¬çš„å¤„ç†çŸ©å½¢é¢ç§¯äº¤ï¼Œï¼Œç„¶åè‡ªå·±å°±å†™æ‡µäº†ï¼Œï¼Œï¼Œå½“æ—¶å†™äº†å‡ åè¡Œçš„ifåˆ¤æ–­ï¼Œï¼Œï¼Œï¼Œåˆ°æœ€åéƒ½æ²¡å¼„å®Œï¼Œï¼ŒQAQ</p><a id="more"></a><h1 id="é¢˜æ„ä¸åˆ†æ">é¢˜æ„ä¸åˆ†æ</h1><h2 id="é¢˜æ„">é¢˜æ„</h2><p>è¿™é“é¢˜çš„é¢˜æ„å°±æ˜¯ç»™ä½ ä¸€ä¸ªn * må¤§çš„æ–¹æ ¼æ¿å­ï¼Œï¼Œç±»ä¼¼å›½é™…è±¡æ£‹é‚£æ ·ï¼Œï¼Œé»‘ç™½ç›¸é—´ï¼Œï¼Œç„¶åå†ç»™ä½ ä¸¤ä¸ªçŸ©å½¢ï¼Œï¼Œç¬¬ä¸€ä¸ªçŸ©å½¢å†…çš„æ‰€æœ‰æ ¼å­æ¶‚ä¸ºç™½è‰²ï¼Œï¼Œç¬¬äºŒä¸ªæ¶‚ä¸ºé»‘è‰²ï¼Œï¼Œï¼Œé—®ä½ æœ€åç™½æ ¼å­å’Œé»‘æ ¼å­çš„æ•°é‡ï¼Œï¼Œæ£‹ç›˜çš„å¤§å°å¯èƒ½æ˜¯1e9 * 1e9çš„ï¼Œï¼Œï¼Œ</p><h2 id="æ€è·¯">æ€è·¯</h2><h3 id="æˆ‘çš„æ€è·¯">æˆ‘çš„æ€è·¯</h3><ul><li>ä¸€å¼€å§‹æˆ‘çš„æ€è·¯æ˜¯ç®—å‡ºæ‰€æœ‰çš„ç™½æ ¼å­ï¼Œé»‘æ ¼å­çš„æ•°é‡(wsum ,bsum)ï¼Œï¼Œï¼Œç„¶åwsumåŠ ä¸Šç¬¬ä¸€ä¸ªçŸ©å½¢é‡Œçš„æ‰€æœ‰é»‘æ ¼å­æ•°é‡ï¼Œï¼Œä¹‹åwsumå‡å»ç¬¬äºŒä¸ªçŸ©å½¢é‡Œç™½æ ¼å­çš„æ•°é‡ï¼Œï¼Œï¼Œæœ€åå†è€ƒè™‘æ˜¯æœ‰é¢ç§¯çš„ç›¸äº¤ï¼Œï¼Œï¼Œæœ‰çš„è¯å†è®¡ç®—ç›¸äº¤çŸ©å½¢å†…çš„ï¼Œï¼Œä½†æ˜¯ä¸­é—´çš„ä¸€äº›ç»†èŠ‚ï¼Œï¼Œï¼Œæ¯”å¦‚è¯´å¦‚ä½•è®¡ç®—ä¸åŒå·¦ä¸‹è§’åæ ‡çš„çŸ©å½¢å†…æ ¼å­æ•°ï¼Œï¼Œå¦‚ä½•åˆ¤æ˜¯å¦æœ‰ç›¸äº¤çš„çŸ©å½¢ï¼Œï¼Œå¦‚ä½•è®¡ç®—ç›¸äº¤çš„çŸ©å½¢å†…çš„æ ¼å­æ•°é‡ä»¥åŠæ€ä¹ˆè°ƒæ•´ç­‰ç­‰ï¼Œï¼Œï¼Œä»¥å‰ä»æ¥æ²¡å†™è¿‡æ²¡è€ƒè™‘è¿‡ï¼Œï¼Œï¼Œåªèƒ½ç¡¬å¤´çš®çš„å»ä¸€è·¯ifä¸‹å»ï¼Œï¼Œï¼Œåˆ°æœ€åè‡ªå·±çš„å†™æ‡µäº†ï¼Œï¼Œï¼Œ</li><li>ä¸­é€”æƒ³ç€ç›´æ¥æ¨¡æ‹Ÿç®—äº†ï¼Œï¼Œï¼Œç»´æŠ¤ä¸€ä¸ªå¤§çŸ©é˜µï¼Œï¼Œ1è¡¨ç¤ºç™½è‰²0è¡¨ç¤ºé»‘è‰²ï¼Œï¼Œç„¶åå¯¹ç›¸åº”çš„çŸ©å½¢å…¨éƒ¨ç½®ä¸€ç½®é›¶ï¼Œï¼Œï¼Œæœ€åæ±‚01çš„æ•°é‡ï¼Œï¼Œï¼Œç„¶åå‘ç°æ ¹æœ¬å¼€ä¸äº†é‚£ä¹ˆå¤§çš„æ•°ç»„ï¼Œï¼Œï¼Œï¼ŒQAQ</li></ul><h3 id="æœ€åä»Šå¤©çœ‹äº†å‡ºé¢˜äººçš„é¢˜è§£"><a href="https://codeforces.com/blog/entry/63436#comment-473595" target="_blank" rel="noopener">æœ€åä»Šå¤©çœ‹äº†å‡ºé¢˜äººçš„é¢˜è§£ï¼Œï¼Œï¼Œ</a></h3><h4 id="çŸ©å½¢1-1-x-yå†…ç™½æ ¼å­çš„æ•°é‡çš„è®¡ç®—"><strong>çŸ©å½¢(1 , 1 , x , y)å†…ç™½æ ¼å­çš„æ•°é‡çš„è®¡ç®—</strong></h4><p><span class="math inline">\(è®¾å‡½æ•°w(x , y)è¿”å›å€¼ä¸ºå·¦ä¸‹è§’(1 , 1)ä¸(x , y)çš„çŸ©å½¢å†…çš„ç™½æ ¼å­çš„æ•°é‡\)</span></p><h4 id="çŸ©å½¢å†…ç™½æ ¼å­æ•°é‡çš„è®¡ç®—"><strong>çŸ©å½¢å†…ç™½æ ¼å­æ•°é‡çš„è®¡ç®—</strong>ï¼š</h4><p><span class="math inline">\(ä»»æ„ä¸€ä¸ªçŸ©å½¢(x_1 , y_1 , x_2 , y_2)å†…çš„ç™½æ ¼å­æ•°é‡=çŸ©å½¢(1 , 1 , x_2 , y_2)å†…ç™½æ ¼å­çš„æ•°é‡-çŸ©å½¢(1 , 1 , x_1 , y_2)å†…ç™½æ ¼å­çš„æ•°é‡-çŸ©å½¢(1 , 1 , x_2 , y_1)å†…ç™½æ ¼å­çš„æ•°é‡+çŸ©å½¢(1 , 1 , x_1 - 1 , y_1 - 1)å†…ç™½æ ¼å­çš„æ•°é‡ï¼Œæ‰€ä»¥ï¼š\)</span></p><p><span class="math display">\[W(x_1 , y_1 , x_2 , y_2) = w(x_1 , y_1) - w(x_1 - 1 , y_2) - w(x_2 , y_1 - 1) + w(x_1 - 1 , y_1 - 1)\]</span></p><h4 id="çŸ©å½¢å†…é»‘æ ¼å­æ•°é‡çš„è®¡ç®—"><strong>çŸ©å½¢å†…é»‘æ ¼å­æ•°é‡çš„è®¡ç®—</strong></h4><p><span class="math display">\[B(x_1 , y_1 , x_2 , y_2) = (x_2 - x_1 + 1) * (y_2 - y_1 + 1) - W(x_1 , y_1 , x_2 , y_2)\]</span></p><h4 id="ç›¸äº¤éƒ¨åˆ†çš„åˆ¤æ–­å’Œå¤„ç†"><strong>ç›¸äº¤éƒ¨åˆ†çš„åˆ¤æ–­å’Œå¤„ç†</strong></h4><p>å‡ºé¢˜äººè¯´<strong>æ˜¾ç„¶</strong>ï¼ˆæˆ‘(ï¼â€µĞ”â€²)ï¼~ â•§â•§ï¼‰å¦‚æœä¸å­˜åœ¨ç›¸äº¤çŸ©å½¢ï¼Œï¼Œé‚£ä¹ˆä¸€å®šæ»¡è¶³</p><p><span class="math display">\[max(x_1 , x_3)&gt;min(x_2 , x_4) \ \ or\ \  max(y_1,y_3)&gt;min(y_2,y_4)\]</span></p><p>æ‰€ä»¥åå‘½é¢˜å°±æ˜¯å¦‚æœå­˜åœ¨ç›¸äº¤ä¸¾è¯å³ä½¿ä¸Šé¢é‚£ä¸ªåˆ¤æ–­å–åï¼Œï¼ŒåŒæ—¶ç›¸äº¤çŸ©å½¢çš„åæ ‡æ˜¯ <span class="math display">\[(max(x_1 , x_3) \ , \ max(y_1 , y_3)\ ,\ min(x_2,x_4)\ ,\ min(y2 , y_4))\]</span></p><p>æœ‰äº†è¿™äº›ï¼Œï¼Œæˆ‘ä»¬å°±å¯ä»¥ç®—å‡ºç›¸äº¤çŸ©å½¢å†…åŸæ¥çš„ç™½è‰²ã€é»‘è‰²çš„æ ¼å­äº†ï¼ˆå°±æ˜¯ä¸è€ƒè™‘ç¬¬ä¸€ä¸ªç¬¬äºŒä¸ªçŸ©å½¢å½±å“æ—¶çš„æ•°é‡ï¼‰ï¼Œï¼Œ</p><p>å› ä¸ºåœ¨ç¬¬ä¸€ä¸ªçŸ©å½¢é‡Œå°†ç›¸äº¤çŸ©å½¢å†…çš„é»‘æ ¼å­å˜æˆäº†ç™½è‰²ï¼Œï¼Œç°åœ¨åˆè¦å˜æˆé»‘è‰²ï¼Œï¼Œæ‰€ä»¥wsumï¼ˆç™½è‰²æ ¼å­çš„æ•°é‡ï¼‰è¦å‡å»é»‘è‰²çš„æ•°é‡ï¼ˆç™½è‰²çš„æ•°é‡å·²ç»åœ¨è®¡ç®—ç¬¬äºŒä¸ªçŸ©å½¢æ—¶å‡å»äº†ï¼Œï¼Œæ‰€ä»¥å¯¹äºwsumæ˜¯å‡å»äº†ç›¸äº¤çŸ©å½¢çš„æ‰€æœ‰æ ¼å­æ•°é‡ï¼‰ï¼Œï¼ŒåŒæ—¶é»‘è‰²æ ¼å­çš„æ•°é‡bsumè¦åŠ ä¸Šé»‘è‰²çš„æ•°é‡ï¼Œï¼Œè€Œè®¡ç®—ç¬¬äºŒä¸ªçŸ©å½¢æ—¶ç›¸äº¤çŸ©å½¢é‡Œçš„ç™½è‰²å·²ç»åŠ ä¸Šäº†ï¼Œï¼Œï¼Œç›¸å½“äºåŠ ä¸Šäº†æ•´ä¸ªç›¸äº¤çŸ©å½¢çš„æ ¼å­æ•°é‡ï¼Œï¼Œï¼ˆæ‹¿ç¬”ç”»ä¸€ä¸‹è¿™ä¸ªæ­¥éª¤å°±æ›´æ¸…æ¥šäº†ï¼‰</p><h4 id="wx-yçš„å®ç°"><strong>w(x , y)çš„å®ç°</strong></h4><p>é¦–å…ˆæˆ‘ä»¬å®šä¹‰è¿™æ ·æ’åˆ—çš„é»‘ç™½æ ¼å­ä¸º<strong>ç±»å‹1</strong></p><p><img src="https://codeforces.com/predownloaded/d8/6e/d86e87a66d47ec694dd7dfe9b27c72c68ce27d9d.png"> è€Œè¿™æ ·çš„æ˜¯<strong>ç±»å‹2</strong> <img src="https://codeforces.com/predownloaded/5e/f8/5ef88f2dba40d4f7f22774404f8c502bd950a68e.png"> + è¡Œæ•°nä¸º<strong>å¶æ•°</strong>æ—¶ï¼Œç±»å‹1ç±»å‹2çš„æ•°é‡æ˜¯å¯¹åŠçš„ï¼Œå³<span class="math inline">\(\frac n2\)</span>,</p><ul><li>è¡Œæ•°nä¸º<strong>å¥‡æ•°</strong>æ—¶ï¼Œ<strong>ç±»å‹1</strong>çš„æ•°é‡æ˜¯<span class="math inline">\(\lfloor{\frac n2}\rfloor\)</span> ï¼ˆå‘ä¸‹å–æ•´ï¼Œç›´æ¥é™¤å°±è¡Œï¼‰ï¼Œï¼Œ<strong>ç±»å‹2</strong>çš„æ•°é‡æ˜¯<span class="math inline">\(\lceil{\frac n2}\rceil\)</span>ï¼ˆå‘ä¸Šå–æ•´ï¼Œæœ‰ä½™æ•°æ—¶åŠ ä¸€ä¸ªï¼‰</li></ul><p>å› ä¸ºè¡Œæ•°nä¸ºå¶æ•°æ—¶ç±»å‹1çš„æ•°é‡å’Œç±»å‹2æ•°é‡ç›¸ç­‰ï¼Œä¹Ÿå°±æ˜¯è¯´<span class="math inline">\(\lfloor{\frac n2}\rfloor\)</span>=<span class="math inline">\(\lceil{\frac n2}\rceil\)</span>ï¼Œï¼Œæ‰€ä»¥ï¼Œï¼Œæˆ‘ä»¬å°±ä¸ç®¡è¡Œæ•°æ˜¯ä¸æ˜¯å¶æ•°å¥‡æ•°äº†ï¼Œï¼Œï¼Œç›´æ¥<strong>ç±»å‹1</strong>æ•°é‡=<span class="math inline">\(\lfloor{\frac n2}\rfloor\)</span>ï¼Œ<strong>ç±»å‹2</strong>æ•°é‡=<span class="math inline">\(\lceil{\frac n2}\rceil\)</span>ï¼Œï¼Œï¼Œï¼ˆæ•°å­¦çœŸå¥½ç©.jpgï¼Œï¼Œï¼Œæƒ³æƒ³æˆ‘å½“æ—¶ä¸ºäº†åˆ¤æ–­è¡Œæ•°çš„å¥‡å¶åˆ†æƒ…å†µè®¨è®ºï¼Œï¼Œå†™åedï¼Œï¼Œ(#`Ğ”Â´)ï¾‰ï¼‰</p><p>æŒ‰ç…§è¿™ä¸ªæ€è·¯ï¼Œï¼Œï¼ŒåŒæ ·åˆ—æ•°mä¹Ÿå°±å¯ä»¥è¿™æ ·è®¡ç®—äº†ï¼Œï¼Œï¼Œ å³<strong>ç±»å‹1</strong>çš„æ•°é‡=<span class="math inline">\(\lfloor{\frac m2}\rfloor\)</span>ï¼Œï¼Œ<strong>ç±»å‹2</strong>çš„æ•°é‡=<span class="math inline">\(\lceil{\frac m2}\rceil\)</span>..</p><p>æœ‰äº†è¿™ä¸¤ä¸ªï¼Œï¼Œæˆ‘ä»¬å°±å¯ä»¥è®¡ç®—çŸ©å½¢(x , y)å†…äº†ç™½è‰²æ ¼å­çš„æ•°é‡äº†ï¼Œï¼Œï¼Œ <span class="math display">\[w(x , y) = \lceil{\frac n2}\rceil \cdot \lceil{\frac m2}\rceil + \lfloor{\frac n2}\rfloor \cdot \lfloor{\frac m2}\rfloor\]</span></p><h4 id="å‘ä¸Šå–æ•´çš„å®ç°"><strong>å‘ä¸Šå–æ•´çš„å®ç°</strong></h4><p>è¿™é“é¢˜é™¤äº†è®©æˆ‘çŸ¥é“çŸ©å½¢äº¤çš„å¤„ç†ï¼Œï¼Œï¼Œè¿˜æœ‰ä¸€ä¸ªä»å¥½å‡ ä¸ªå¤§ä½¬çš„ä»£ç ä¸­æˆ‘çœ‹åˆ°äº†å‡ ä¸ªå¥½çš„æ±‚å‘ä¸Šå–æ•´çš„ä»£ç ï¼Œï¼Œï¼Œä¸åƒæˆ‘é‚£æ ·å‚»å‚»çš„ifåˆ¤æ–­(â•¬â˜‰Ğ´âŠ™)</p><p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">ll <span class="title">cdiv</span><span class="params">(ll a , llb)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a / b + (a % b &gt; <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//or</span></span><br><span class="line"><span class="function">ll <span class="title">cdiv</span><span class="params">(ll a , ll b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (a + b - <span class="number">1</span>) / b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h1 id="ä»£ç ">ä»£ç </h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="comment">//ceiling div</span></span><br><span class="line"><span class="function">ll <span class="title">cdiv</span><span class="params">(ll a , ll b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a / b + (a % b &gt; <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">ccdiv</span><span class="params">(ll a , ll b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (a + b - <span class="number">1</span>) / b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">w</span><span class="params">(ll x , ll y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> cdiv(x , <span class="number">2</span>) * cdiv(y , <span class="number">2</span>) + (x / <span class="number">2</span>) * (y / <span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">wsum</span><span class="params">(ll x1 , ll y1 , ll x2 , ll y2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> w(x2 , y2) - w(x1 - <span class="number">1</span> , y2) - w(x2 , y1 - <span class="number">1</span>) + w(x1 - <span class="number">1</span> , y1 - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">ll <span class="title">bsum</span><span class="params">(ll x1 , ll y1 , ll x2 , ll y2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (x2 - x1 + <span class="number">1</span>) * (y2 - y1 + <span class="number">1</span>) - wsum(x1 , y1 , x2 , y2);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//freopen("233.txt" , "r" , stdin);</span></span><br><span class="line">    ios_base::sync_with_stdio(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">cin</span>.tie(<span class="number">0</span>);<span class="built_in">cout</span>.tie(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">int</span> t;<span class="built_in">cin</span> &gt;&gt; t;</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;</span><br><span class="line">        ll n , m;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m;</span><br><span class="line">        ll x1 , x2 , x3 , x4 , y1 , y2 , y3 , y4;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; x1 &gt;&gt; y1 &gt;&gt; x2 &gt;&gt; y2;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; x3 &gt;&gt; y3 &gt;&gt; x4 &gt;&gt; y4;</span><br><span class="line">        ll w = wsum(<span class="number">1</span> , <span class="number">1</span> , m , n);</span><br><span class="line">        ll b = bsum(<span class="number">1</span> , <span class="number">1</span> , m , n);</span><br><span class="line">        <span class="comment">//first rec</span></span><br><span class="line">        w = w + bsum(x1 , y1 , x2 , y2);</span><br><span class="line">        b = b - bsum(x1 , y1 , x2 , y2);</span><br><span class="line">        <span class="comment">//second rec(dont consider the itersection</span></span><br><span class="line">        w = w - wsum(x3 , y3 , x4 , y4);</span><br><span class="line">        b = b + wsum(x3 , y3 , x4 , y4);</span><br><span class="line">        <span class="comment">//consider the itersection</span></span><br><span class="line">        <span class="keyword">if</span>(max(x1 , x3) &lt;= min(x2 , x4) &amp;&amp; max(y1 , y3) &lt;= min(y2 , y4))</span><br><span class="line">        &#123;</span><br><span class="line">            w = w - bsum(max(x1 , x3) , max(y1 , y3) , min(x2 , x4) , min(y2 , y4));</span><br><span class="line">            b = b + bsum(max(x1 , x3) , max(y1 , y3) , min(x2 , x4) , min(y2 , y4));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; w &lt;&lt; <span class="string">" "</span> &lt;&lt; b &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="å°ç»“">å°ç»“</h1><ul><li>ä¸€ç›´ä¸æ€ä¹ˆä¼šçš„å‘ä¸Šå–æ•´ã€çŸ©å½¢é¢ç§¯äº¤ç­‰ç­‰é—®é¢˜ç®—æ˜¯äº†è§£äº†ï¼Œï¼Œï¼Œè‡³å°‘ä¸ä¼šåœ¨å‡ºç°çš„æ—¶å€™å•¥éƒ½ä¸çŸ¥é“ï¼Œï¼Œåªèƒ½ä»å¤´åˆ†æï¼Œï¼Œï¼Œä¸€ä¸ªåŠ²çš„å †ifäº†(-`ã‚§Â´-â•¬)</li><li>cfçœŸå¥½ç©.jpgï¼Œï¼Œï¼Œä»¥ä¸ºä¼šç¬¬ä¸€å‘åªèƒ½ç°åï¼Œï¼Œæ²¡æƒ³åˆ°é’äº†ï¼Œï¼Œï¼Œå°±æ˜¯æ·±å¤œåœºå¤ªå¤šï¼Œï¼Œï¼Œä¸ç„¶èƒ½å¤©å¤©æ‰“ï¼Œï¼Œï¼Œï¼Œ</li><li>è¿™ç§ä»£ç ä¸å¤šçš„é¢˜é”»ç‚¼é”»ç‚¼æ€ç»´å¾ˆä¸é”™å•Šï¼Œï¼Œï¼Œæ¯•ç«Ÿç°åœ¨çº¯å¥—æ¿å­çš„é¢˜åœ¨å„ç§æ¯”èµ›ä¸­æ˜¯è¶Šæ¥è¶Šå°‘äº†ï¼Œï¼Œï¼Œï¼Œ</li></ul><p>(end)</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;æ¦‚è¿°&quot;&gt;æ¦‚è¿°&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://codeforces.com/problemset/problem/1080/C&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;æ˜¨å¤©æ­£å¥½æœ‰æ—¶é—´ï¼Œåšäº†è‡ªå·±ç¬¬ä¸€åœºçš„cf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;åšå®ŒABä¹‹åè¢«Cå¡åˆ°æœ€åï¼Œï¼Œï¼Œä»æ¥æ²¡åšè¿‡åæ ‡å¹³é¢ä¸Šä¸¤ä¸ªçŸ©å½¢çš„é¢ç§¯å’Œï¼Œï¼Œï¼Œå› ä¸ºå­˜åœ¨ç›¸äº¤çš„å¯èƒ½ï¼Œï¼Œï¼Œæ‰€ä»¥è¦å•ç‹¬çš„å¤„ç†çŸ©å½¢é¢ç§¯äº¤ï¼Œï¼Œç„¶åè‡ªå·±å°±å†™æ‡µäº†ï¼Œï¼Œï¼Œå½“æ—¶å†™äº†å‡ åè¡Œçš„ifåˆ¤æ–­ï¼Œï¼Œï¼Œï¼Œåˆ°æœ€åéƒ½æ²¡å¼„å®Œï¼Œï¼ŒQAQ&lt;/p&gt;
    
    </summary>
    
      <category term="Codeforces" scheme="http://www.31415.cf/categories/Codeforces/"/>
    
    
      <category term="acm" scheme="http://www.31415.cf/tags/acm/"/>
    
      <category term="åˆ·é¢˜" scheme="http://www.31415.cf/tags/%E5%88%B7%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>Codeforces-1077C</title>
    <link href="http://www.31415.cf/2018/11/24/Codeforces-1077C/"/>
    <id>http://www.31415.cf/2018/11/24/Codeforces-1077C/</id>
    <published>2018-11-24T07:22:31.000Z</published>
    <updated>2018-11-24T07:36:25.252Z</updated>
    
    <content type="html"><![CDATA[<h1 id="é¢˜æ„">é¢˜æ„</h1><p><a href="https://codeforces.com/problemset/problem/1077/C" target="_blank" rel="noopener"><strong>é¢˜ç›®é“¾æ¥</strong></a></p><p>ç»™ä½ ä¸€ä¸ªæ•°ç»„ï¼Œå¦‚æœå­˜åœ¨ä¸€ä¸ªæ•°ç­‰äºå‰©ä½™çš„æ•°çš„å’Œçš„è¯ï¼Œï¼Œï¼Œå°±ç§°è¿™æ ·arrayæ˜¯good arrayï¼Œï¼Œ</p><p>ç„¶åé¢˜ç›®é—®ä½ å¯¹äºç»™å®šçš„æ•°ç»„å»æ‰ä¸€ä¸ªæ•°ä¹‹åæ—¶å€™æ˜¯ä¸€ä¸ªgood arrayï¼Œï¼Œï¼Œè¾“å‡ºæ‰€æœ‰çš„å»æ‰çš„æ•°çš„ä½ç½®pos</p><a id="more"></a><h1 id="åˆ†æ">åˆ†æ</h1><p>ä¸€å¼€å§‹æˆ‘æƒ³è¿™ç›´æ¥æš´åŠ›å»æ±‚ï¼Œï¼Œï¼Œå¤–å¾ªç¯éå†æ•´ä¸ªæ•°ç»„æšä¸¾å¯èƒ½æ˜¯å»æ‰çš„æ•°ï¼Œï¼Œï¼Œå†…å¾ªç¯éå†å»æ‰é‚£ä¸ªæ•°ä¹‹åçš„æ•°åˆ—å¯»æ‰¾æ—¶å€™å­˜åœ¨ä¸€ä¸ªä½¿å¾—å‰©ä½™æ•°çš„å’Œç­‰äºå†…å¾ªç¯éå†çš„é‚£ä¸ªæ•°ï¼Œï¼Œï¼Œ</p><p>å¤æ‚åº¦åº”è¯¥æ˜¯<span class="math inline">\(O(n^2)\)</span>ï¼Œï¼Œï¼Œæœä¸å…¶ç„¶çš„tleäº†ï¼Œï¼Œï¼Œï¼Œ</p><p>ç„¶åå»çœ‹æ ‡ç¨‹é¢˜è§£ï¼Œï¼Œï¼Œçœ‹ä¸æ‡‚QAQï¼Œï¼Œï¼Œ</p><p>çœ‹äº†åˆ«äººçš„æ€è·¯åæ‰å¼„å‡ºæ¥ï¼Œï¼Œï¼Œ</p><p>å¯¹äºè¿™æ ·ä¸€ä¸ªgood arrayï¼Œï¼Œï¼Œæ•°<span class="math inline">\(a_i = sum - a_i\)</span>ï¼Œï¼Œé‚£ä¹ˆ<span class="math inline">\(a_i\)</span>ä¸€å®šæ˜¯è¿™ä¸ªæ•°ç»„çš„æœ€å¤§å€¼ï¼Œï¼Œï¼Œ</p><p>æ‰€ä»¥å…ˆå¯ä»¥å¯¹æ•´ä¸ªæ•°ç»„æ’åºä¸€ä¸‹ï¼Œï¼Œï¼Œç„¶åçœ‹æœ€å¤§<span class="math inline">\(max\)</span>å€¼æ˜¯å¦ç­‰äº<span class="math inline">\(sum - max\)</span>ï¼Œï¼Œï¼Œ</p><p>æ³¨æ„å¦‚æœè¦æ˜¯å»æ‰ç¬¬ä¸€ä¸ªæ•°ï¼Œï¼Œæœ€å¤§å€¼å°±ä¸ºç¬¬äºŒå¤§çš„æ•°äº†ï¼Œï¼Œï¼Œï¼Œ</p><h1 id="ä»£ç ">ä»£ç </h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">2e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    ll num;</span><br><span class="line">    <span class="keyword">int</span> pos;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> node &amp;r) <span class="keyword">const</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> r.num &lt; num;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;node[maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ios_base::sync_with_stdio(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">cin</span>.tie(<span class="number">0</span>);<span class="built_in">cout</span>.tie(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">int</span> n;<span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    ll sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; node[i].num;</span><br><span class="line">        node[i].pos = i;</span><br><span class="line">        sum += node[i].num;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    sort(node , node + n);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; ans;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> max = (i == <span class="number">0</span>) ? node[<span class="number">1</span>].num : node[<span class="number">0</span>].num;</span><br><span class="line">        <span class="keyword">if</span>(sum - node[i].num - max == max)</span><br><span class="line">            ans.push_back(node[i].pos);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; ans.size() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::iterator it = ans.begin(); it != ans.end(); ++it)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; *it + <span class="number">1</span> &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>(end)</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;é¢˜æ„&quot;&gt;é¢˜æ„&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://codeforces.com/problemset/problem/1077/C&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;&lt;strong&gt;é¢˜ç›®é“¾æ¥&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ç»™ä½ ä¸€ä¸ªæ•°ç»„ï¼Œå¦‚æœå­˜åœ¨ä¸€ä¸ªæ•°ç­‰äºå‰©ä½™çš„æ•°çš„å’Œçš„è¯ï¼Œï¼Œï¼Œå°±ç§°è¿™æ ·arrayæ˜¯good arrayï¼Œï¼Œ&lt;/p&gt;
&lt;p&gt;ç„¶åé¢˜ç›®é—®ä½ å¯¹äºç»™å®šçš„æ•°ç»„å»æ‰ä¸€ä¸ªæ•°ä¹‹åæ—¶å€™æ˜¯ä¸€ä¸ªgood arrayï¼Œï¼Œï¼Œè¾“å‡ºæ‰€æœ‰çš„å»æ‰çš„æ•°çš„ä½ç½®pos&lt;/p&gt;
    
    </summary>
    
      <category term="Codeforces" scheme="http://www.31415.cf/categories/Codeforces/"/>
    
    
      <category term="acm" scheme="http://www.31415.cf/tags/acm/"/>
    
      <category term="åˆ·é¢˜" scheme="http://www.31415.cf/tags/%E5%88%B7%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>poj-1459-æœ€å¤§æµdinic+é“¾å¼å‰å‘æ˜Ÿ-isap+bfs+stack</title>
    <link href="http://www.31415.cf/2018/11/22/poj-1459-%E6%9C%80%E5%A4%A7%E6%B5%81dinic+%E9%93%BE%E5%BC%8F%E5%89%8D%E5%90%91%E6%98%9F-isap+bfs+stack/"/>
    <id>http://www.31415.cf/2018/11/22/poj-1459-æœ€å¤§æµdinic+é“¾å¼å‰å‘æ˜Ÿ-isap+bfs+stack/</id>
    <published>2018-11-22T12:57:54.000Z</published>
    <updated>2018-11-23T12:35:53.798Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1><p><a href="http://poj.org/problem?id=1459" target="_blank" rel="noopener">è¿™é“æ˜¯ä¸€é“ç½‘ç»œæµé‡Œæœ€å¤§æµçš„æ¿å­é¢˜</a>,,,</p><p>æš‘æœŸé›†è®­ç½‘ç»œæµè‰è‰æ°´è¿‡ï¼Œï¼Œè¿åŸºæœ¬çš„ç®—æ³•éƒ½ä¸çŸ¥é“æœ‰å“ªäº›ï¼Œï¼Œï¼Œæ›´åˆ«ææ€ä¹ˆå®ç°äº†ï¼Œï¼Œï¼ŒåªçŸ¥é“ç½‘ç»œæµçš„å¤§è‡´çš„æ¦‚å¿µï¼Œï¼Œ</p><p>ä»Šå¤©èŠ±äº†ä¸€å¤©çš„æ—¶é—´é‡æ–°å­¦ä¹ äº†ä¸€æ³¢ï¼Œï¼Œï¼Œæœ¬ä»¥ä¸ºè¿™ä¸œè¥¿å¾ˆç®€å•ï¼Œï¼Œï¼Œæ²¡æƒ³åˆ°ä¸ä»…ç®—æ³•çš„å®ç°ä¸€å¤§å †çš„ä¸œè¥¿ï¼Œï¼Œå°±è¿é¢˜ç›®éƒ½æœ‰æ—¶å€™çœ‹ä¸æ‡‚ï¼Œï¼Œï¼Œï¼Œæ„Ÿå—å°±æ˜¯ç½‘ç»œæµçš„é¢˜ä¸ä»…ç®—æ³•å®ç°èµ·æ¥ä¸å¥½æ‡‚ï¼Œï¼Œï¼Œæ¯ä¸€é“é¢˜çš„å»ºå›¾ä¹Ÿå¾ˆå…³é”®ï¼Œï¼Œï¼Œå‡ ä¹çœ‹åˆ°çš„æ¯ä¸€é“é¢˜çš„å›¾éƒ½æ˜¯å¾—è‡ªå·±å»å»ºï¼Œï¼Œå®Œå…¨ä¸åƒæœ€çŸ­è·¯é‚£äº›é¢˜èŠ±é‡Œèƒ¡å“¨çš„ä¸œè¥¿éƒ½åªæ”¹ä¸€æ”¹è´ªå¿ƒæ—¶çš„æ–¹ç¨‹å°±è¡Œï¼Œï¼Œï¼Œ</p><a id="more"></a><h1 id="åˆ†ææ€è·¯">åˆ†ææ€è·¯</h1><h2 id="æœ€çŸ­è·¯çš„ä¸€äº›åŸºæœ¬æ¦‚å¿µ">æœ€çŸ­è·¯çš„ä¸€äº›åŸºæœ¬æ¦‚å¿µ</h2><p>è¿™ä¸€æ®µ <em>ç®—æ³•å¯¼è®º</em> ä¸Šè®²çš„å¾ˆå¥½ï¼Œï¼Œï¼Œä¸è¿‡æˆ‘æ„Ÿè§‰è¿˜æ˜¯åœ¨åŸºæœ¬å¼„æ‡‚é‚£å‡ ä¸ªç®—æ³•å†çœ‹ä¸€éæ¯”è¾ƒå¥½QAQ</p><p><a href="https://blog.andrewei.info/2016/04/11/network-flows/" target="_blank" rel="noopener">è¿™é‡Œå°±ç›´æ¥æ‘˜æŠ„åˆ«äººå†™è¿‡çš„ä¸œè¥¿äº†</a></p><h2 id="å®¹é‡ç½‘ç»œå’Œç½‘ç»œæœ€å¤§æµ">å®¹é‡ç½‘ç»œå’Œç½‘ç»œæœ€å¤§æµ</h2><h1 id="å®¹é‡ç½‘ç»œ">å®¹é‡ç½‘ç»œ:</h1><p><span class="math inline">\(è®¾ G(V, E)æ˜¯ä¸€ä¸ªæœ‰å‘ç½‘ç»œ, åœ¨ V ä¸­æŒ‡å®šäº†ä¸€ä¸ªé¡¶ç‚¹, ç§°ä¸ºæºç‚¹(è®°ä¸º Vs ), ä»¥åŠå¦ä¸€ä¸ªé¡¶ç‚¹, ç§°ä¸ºæ±‡ç‚¹(è®°ä¸º Vt); å¯¹äºæ¯ä¸€æ¡å¼§ &lt;u, v&gt;âˆˆE, å¯¹åº”æœ‰ä¸€ä¸ªæƒå€¼ c(u, v)&gt;0, ç§°ä¸ºå¼§çš„å®¹é‡, é€šå¸¸æŠŠè¿™æ ·çš„æœ‰å‘ç½‘ç»œ G ç§°ä¸ºå®¹é‡ç½‘ç»œã€‚\)</span></p><p>æŠŠå®ƒæƒ³è±¡æˆ <strong>è‡ªæ¥æ°´å‚</strong> ã€ <strong>è‡ªæ¥æ°´ç®¡ç½‘</strong> å’Œ <strong>ç”¨æˆ·</strong> é‚£ç§å›¾å°±è¡Œäº†ï¼Œï¼Œï¼Œ</p><h2 id="å¼§çš„æµé‡">å¼§çš„æµé‡:</h2><p>é€šè¿‡å®¹é‡ç½‘ç»œ G ä¸­æ¯æ¡å¼§ &lt;u, v&gt; ä¸Šçš„å®é™…æµé‡(ç®€ç§°æµé‡), è®°ä¸º <span class="math inline">\(f(u, v)\)</span>ã€‚ ### <strong>ç½‘ç»œæµ</strong>: æ‰€æœ‰å¼§ä¸Šæµé‡çš„é›†åˆ f = { f(u, v) },ç§°ä¸ºè¯¥å®¹é‡ç½‘ç»œ G çš„ä¸€ä¸ªç½‘ç»œæµã€‚ ### <strong>å¯è¡Œæµ</strong>: åœ¨å®¹é‡ç½‘ç»œ G(V, E) ä¸­, æ»¡è¶³ä»¥ä¸‹æ¡ä»¶çš„ç½‘ç»œæµ f, ç§°ä¸ºå¯è¡Œæµ:</p><h2 id="å¼§æµé‡é™åˆ¶æ¡ä»¶-0fuvcuv">å¼§æµé‡é™åˆ¶æ¡ä»¶: <span class="math inline">\(0â‰¤f(u,v)â‰¤c(u,v)\)</span></h2><h3 id="å¹³è¡¡æ¡ä»¶"><strong>å¹³è¡¡æ¡ä»¶</strong>:</h3><p>é™¤äº† Vs, Vt å¤–, å…¶ä½™çš„ç‚¹æµå…¥çš„æµé‡æ€»å’Œç­‰äºæµå‡ºçš„æµé‡æ€»å’Œ, å…¶ä¸­ <strong>Vs æµå‡ºçš„æµé‡æ€»å’Œ - æµå‡ºçš„æµé‡æ€»å’Œ = f</strong>, <strong>Vt æµå…¥çš„æµé‡æ€»å’Œ - æµå‡ºçš„æµé‡æ€»å’Œ = f</strong>, å¹¶ä¸”ç§° f ä¸ºå¯æ€§æµçš„æµé‡</p><p>ä¹Ÿå°±æ˜¯æŒ‡: <span class="math inline">\(åœ¨å›¾ä¸­æœ‰ä¸€æ¡ä» Vs åˆ° Vt çš„è·¯å¾„, è¿™æ¡è·¯å¾„ä¸Šèµ·ç‚¹ foâˆ’fi=f, ç»ˆç‚¹ fiâˆ’fo=fï¼Œ å…¶ä»–çš„ç‚¹ fi==fo, å¹¶ä¸”æ‰€æœ‰çš„è¾¹çš„å½“å‰æµé‡å°äºç­‰äºæœ€å¤§æµé‡.(å…¶ä¸­ fi ä»£è¡¨æµå…¥æµé‡, fo ä»£è¡¨æµå‡ºæµé‡)\)</span></p><h3 id="ä¼ªæµ"><strong>ä¼ªæµ</strong>:</h3><p>å¦‚æœä¸€ä¸ªç½‘ç»œæµåªæ»¡è¶³å¼§æµé‡é™åˆ¶æ¡ä»¶, ä¸æ»¡è¶³å¹³è¡¡æ¡ä»¶, åˆ™è¿™ç§ç½‘ç»œæµç§°ä¸ºä¼ªæµ, æˆ–ç§°ä¸ºå®¹é‡å¯è¡Œæµã€‚</p><h3 id="æœ€å¤§æµ"><strong>æœ€å¤§æµ</strong>:</h3><p>åœ¨å®¹é‡ç½‘ç»œ G(V, E) ä¸­, æ»¡è¶³å¼§æµé‡é™åˆ¶æ¡ä»¶å’Œå¹³è¡¡æ¡ä»¶ã€ä¸”å…·æœ‰æœ€å¤§æµé‡çš„å¯è¡Œæµ, ç§°ä¸ºç½‘ç»œæœ€å¤§æµ, ç®€ç§°æœ€å¤§æµã€‚</p><h2 id="é“¾ä¸å¢å¹¿è·¯">é“¾ä¸å¢å¹¿è·¯</h2><p>åœ¨å®¹é‡ç½‘ç»œ G(V, E) ä¸­, è®¾æœ‰ä¸€å¯è¡Œæµ f = { f(u, v) }, æ ¹æ®æ¯æ¡å¼§ä¸Šæµé‡çš„å¤šå°‘ã€ä»¥åŠæµé‡å’Œå®¹é‡çš„å…³ç³»,å¯å°†å¼§åˆ†å››ç§ç±»å‹:</p><p>é¥±å’Œå¼§, å³ f(u,v)=c(u,v); éé¥±å’Œå¼§,å³ f(u,v)&lt;c(u,v); é›¶æµå¼§, å³ f(u,v)=0; éé›¶æµå¼§, å³ f(u,v)&gt;0ã€‚</p><h3 id="é“¾"><strong>é“¾</strong>:</h3><p>åœ¨å®¹é‡ç½‘ç»œä¸­,ç§°é¡¶ç‚¹åºåˆ—(u,u1,u2,â€¦,un,v)ä¸ºä¸€æ¡é“¾,è¦æ±‚ç›¸é‚»ä¸¤ä¸ªé¡¶ç‚¹ä¹‹é—´æœ‰ä¸€æ¡å¼§, å¦‚ &lt;u, u1&gt; æˆ– &lt;u1, u&gt; ä¸ºå®¹é‡ç½‘ç»œä¸­ä¸€æ¡å¼§ã€‚æ²¿ç€ Vs åˆ° Vt çš„ä¸€æ¡é“¾, å„å¼§å¯åˆ†ä¸ºä¸¤ç±»:</p><ul><li><strong>å‰å‘å¼§</strong>: æ–¹å‘ä¸é“¾çš„æ­£æ–¹å‘ä¸€è‡´çš„å¼§, å…¶é›†åˆè®°ä¸º P+;</li><li><strong>åå‘å¼§</strong>: æ–¹å‘ä¸é“¾çš„æ­£æ–¹å‘ç›¸åçš„å¼§, å…¶é›†åˆè®°ä¸º P-; ### <strong>å¢å¹¿è·¯</strong>:</li></ul><p>è®¾ f æ˜¯ä¸€ä¸ªå®¹é‡ç½‘ç»œ G ä¸­çš„ä¸€ä¸ªå¯è¡Œæµ, P æ˜¯ä» Vs åˆ° Vt çš„ä¸€æ¡é“¾, è‹¥ P æ»¡è¶³ä¸‹åˆ—æ¡ä»¶:</p><p>åœ¨ P çš„æ‰€æœ‰<strong>å‰å‘å¼§</strong> &lt;u, v&gt; ä¸Š, 0â‰¤f(u,v)&lt;c(u,v), å³ P+ ä¸­æ¯ä¸€æ¡å¼§éƒ½æ˜¯éé¥±å’Œå¼§; åœ¨ P çš„æ‰€æœ‰<strong>åå‘å¼§</strong> &lt;u, v&gt; ä¸Š, 0&lt;f(u,v)â‰¤c(u,v), å³ Pâ€“ ä¸­æ¯ä¸€æ¡å¼§æ˜¯éé›¶æµå¼§ã€‚ åˆ™ç§° P ä¸ºå…³äºå¯è¡Œæµ f çš„ä¸€æ¡å¢å¹¿è·¯, ç®€ç§°ä¸º <strong>å¢å¹¿è·¯(æˆ–ç§°ä¸ºå¢å¹¿é“¾ã€å¯æ”¹è¿›è·¯)</strong> ã€‚<strong>æ²¿ç€å¢å¹¿è·¯æ”¹è¿›å¯è¡Œæµçš„æ“ä½œç§°ä¸ºå¢å¹¿</strong>ã€‚</p><h2 id="æ®‹ç•™å®¹é‡ä¸æ®‹ç•™ç½‘ç»œ">æ®‹ç•™å®¹é‡ä¸æ®‹ç•™ç½‘ç»œ</h2><h3 id="æ®‹ç•™å®¹é‡"><strong>æ®‹ç•™å®¹é‡</strong>:</h3><p>ç»™å®šå®¹é‡ç½‘ç»œ G(V, E) åŠå¯è¡Œæµ f, å¼§ &lt;u, v&gt; ä¸Šçš„æ®‹ç•™å®¹é‡è®°ä¸º câ€²(u,v)=c(u,v)â€“f(u,v)ã€‚æ¯æ¡å¼§çš„æ®‹ç•™å®¹é‡è¡¨ç¤ºè¯¥å¼§ä¸Šå¯ä»¥å¢åŠ çš„æµé‡ã€‚å› ä¸ºä»é¡¶ç‚¹ u åˆ°é¡¶ç‚¹ v æµé‡çš„å‡å°‘, ç­‰æ•ˆäºé¡¶ç‚¹ v åˆ°é¡¶ç‚¹ u æµé‡å¢åŠ , æ‰€ä»¥æ¯æ¡å¼§ &lt;u, v&gt; ä¸Šè¿˜æœ‰ä¸€ä¸ªåæ–¹å‘çš„æ®‹ç•™å®¹é‡ câ€²(v,u)=â€“f(u,v)ã€‚</p><ul><li>ä¸€ä¸ªå®¹é‡ç½‘ç»œä¸­è¿˜å¯ä»¥å‹å…¥çš„æµé‡ç§°ä¸ºæ®‹ç•™å®¹é‡</li></ul><h3 id="æ®‹ç•™ç½‘ç»œ"><strong>æ®‹ç•™ç½‘ç»œ</strong>:</h3><p><span class="math inline">\(è®¾æœ‰å®¹é‡ç½‘ç»œ G(V, E) åŠå…¶ä¸Šçš„ç½‘ç»œæµ f,G å…³äº f çš„æ®‹ç•™ç½‘ç»œ(ç®€ç§°æ®‹ç•™ç½‘ç»œ)è®°ä¸º G&#39;(V&#39;, E&#39;), å…¶ä¸­ Gâ€™çš„é¡¶ç‚¹é›† Vâ€™å’Œ G çš„é¡¶ç‚¹é›† V ç›¸åŒ,å³ Vâ€™=V, å¯¹äº G ä¸­çš„ä»»ä½•ä¸€æ¡å¼§ &lt;u, v&gt;, å¦‚æœ f(u,v)&lt;c(u,v), é‚£ä¹ˆåœ¨ Gâ€™ä¸­æœ‰ä¸€æ¡å¼§ &lt;u, v&gt;âˆˆE&#39;, å…¶å®¹é‡ä¸º câ€²(u,v)=c(u,v)â€“f(u,v), å¦‚æœ f(u,v)&gt;0,åˆ™åœ¨ Gâ€™ä¸­æœ‰ä¸€æ¡å¼§ &lt;v, u&gt;âˆˆE&#39;, å…¶å®¹é‡ä¸º câ€²(v,u)=f(u,v), æ®‹ç•™ç½‘ç»œä¹Ÿç§°ä¸ºå‰©ä½™ç½‘ç»œ.\)</span></p><ul><li>ç”±æ®‹ç•™çš„å®¹é‡ä»¥åŠæºç‚¹æ±‡ç‚¹æ„æˆçš„ç½‘ç»œã€‚</li></ul><h3 id="å‰²ä¸æœ€å°å‰²"><strong>å‰²ä¸æœ€å°å‰²</strong></h3><p><strong>å‰²</strong>: <span class="math inline">\(åœ¨å®¹é‡ç½‘ç»œ G(V, E) ä¸­, è®¾ E&#39;âŠ†E, å¦‚æœåœ¨ G çš„åŸºå›¾ä¸­åˆ å» Eâ€™ åä¸å†è¿é€š, åˆ™ç§° Eâ€™ æ˜¯ G çš„å‰²ã€‚å‰²å°† G çš„é¡¶ç‚¹é›† V åˆ’åˆ†æˆä¸¤ä¸ªå­é›† S å’Œ T = V - Sã€‚å°†å‰²è®°ä¸º(S, T)ã€‚ s-t å‰²: æ›´è¿›ä¸€æ­¥, å¦‚æœå‰²æ‰€åˆ’åˆ†çš„ä¸¤ä¸ªé¡¶ç‚¹å­é›†æ»¡è¶³æºç‚¹ Vs âˆˆ S,æ±‡ç‚¹ Vt âˆˆ T, åˆ™ç§°è¯¥å‰²ä¸º s-t å‰²ã€‚ s-t å‰²(S, T)ä¸­çš„å¼§ &lt;u, v&gt;(uâˆˆS, vâˆˆT) ç§°ä¸ºå‰²çš„å‰å‘å¼§, å¼§ &lt;u, v&gt;( uâˆˆT, vâˆˆS) ç§°ä¸ºå‰²çš„åå‘å¼§ã€‚\)</span></p><p><strong>å‰²çš„å®¹é‡</strong>:<span class="math inline">\(è®¾ (S, T) ä¸ºå®¹é‡ç½‘ç»œ G(V, E) çš„ä¸€ä¸ªå‰², å…¶å®¹é‡å®šä¹‰ä¸ºæ‰€æœ‰å‰å‘å¼§çš„å®¹é‡æ€»å’Œ, ç”¨ c(S, T) è¡¨ç¤ºã€‚\)</span></p><p><strong>æœ€å°å‰²</strong>: <span class="math inline">\(å®¹é‡ç½‘ç»œ G(V, E) çš„æœ€å°å‰²æ˜¯æŒ‡å®¹é‡æœ€å°çš„å‰²ã€‚\)</span></p><h2 id="ç›¸å…³å®šç†"><strong>ç›¸å…³å®šç†</strong></h2><h3 id="æ®‹ç•™ç½‘ç»œä¸åŸç½‘ç»œçš„å…³ç³»">æ®‹ç•™ç½‘ç»œä¸åŸç½‘ç»œçš„å…³ç³»</h3><p><span class="math inline">\(è®¾ f æ˜¯å®¹é‡ç½‘ç»œ G(V, E) çš„å¯è¡Œæµ, fâ€™ æ˜¯æ®‹ç•™ç½‘ç»œ Gâ€™ çš„å¯è¡Œæµ, åˆ™ f + fâ€™ ä»æ˜¯å®¹é‡ç½‘ç»œ G çš„ä¸€ä¸ªå¯è¡Œæµã€‚(f + fâ€™ è¡¨ç¤ºå¯¹åº”å¼§ä¸Šçš„æµé‡ç›¸åŠ )\)</span></p><h3 id="ç½‘ç»œæµæµé‡ä¸å‰²çš„å‡€æµé‡ä¹‹é—´çš„å…³ç³»">ç½‘ç»œæµæµé‡ä¸å‰²çš„å‡€æµé‡ä¹‹é—´çš„å…³ç³»</h3><p><span class="math inline">\(åœ¨ä¸€ä¸ªå®¹é‡ç½‘ç»œ G(V, E) ä¸­, è®¾å…¶ä»»æ„ä¸€ä¸ªæµä¸º f, å…³äº f çš„ä»»æ„ä¸€ä¸ªå‰²ä¸º(S, T), åˆ™æœ‰ f(S,T)=|f|,å³ç½‘ç»œæµçš„æµé‡ç­‰äºä»»ä½•å‰²çš„å‡€æµé‡ã€‚\)</span></p><h3 id="ç½‘ç»œæµæµé‡ä¸å‰²çš„å®¹é‡ä¹‹é—´çš„å…³ç³»">ç½‘ç»œæµæµé‡ä¸å‰²çš„å®¹é‡ä¹‹é—´çš„å…³ç³»</h3><p><span class="math inline">\(åœ¨ä¸€ä¸ªå®¹é‡ç½‘ç»œ G(V, E) ä¸­, è®¾å…¶ä»»æ„ä¸€ä¸ªæµä¸º f, ä»»æ„ä¸€ä¸ªå‰²ä¸º(S, T), åˆ™å¿…æœ‰ f(S,T)â‰¤c(S,T),å³ç½‘ç»œæµçš„æµé‡å°äºæˆ–ç­‰äºä»»ä½•å‰²çš„å®¹é‡ã€‚\)</span></p><h3 id="æœ€å¤§æµæœ€å°å‰²å®šç†">æœ€å¤§æµæœ€å°å‰²å®šç†</h3><p><span class="math inline">\(å¯¹å®¹é‡ç½‘ç»œ G(V, E), å…¶æœ€å¤§æµçš„æµé‡ç­‰äºæœ€å°å‰²çš„å®¹é‡ã€‚\)</span></p><h3 id="å¢å¹¿è·¯å®šç†">å¢å¹¿è·¯å®šç†</h3><p><span class="math inline">\(è®¾å®¹é‡ç½‘ç»œ G(V, E) çš„ä¸€ä¸ªå¯è¡Œæµä¸º f, f ä¸ºæœ€å¤§æµçš„å……è¦æ¡ä»¶æ˜¯åœ¨å®¹é‡ç½‘ç»œä¸­ä¸å­˜åœ¨å¢å¹¿è·¯ã€‚\)</span></p><h3 id="å‡ ä¸ªç­‰ä»·å‘½é¢˜">å‡ ä¸ªç­‰ä»·å‘½é¢˜</h3><p><span class="math inline">\(è®¾å®¹é‡ç½‘ç»œ G(V, E)çš„ä¸€ä¸ªå¯è¡Œæµä¸º f åˆ™:\)</span></p><p><span class="math inline">\(1) f æ˜¯å®¹é‡ç½‘ç»œ G çš„æœ€å¤§æµ;\)</span></p><p><span class="math inline">\(2) | f |ç­‰äºå®¹é‡ç½‘ç»œæœ€å°å‰²çš„å®¹é‡;\)</span></p><p><span class="math inline">\(3) å®¹é‡ç½‘ç»œä¸­ä¸å­˜åœ¨å¢å¹¿è·¯;\)</span></p><p><span class="math inline">\(4) æ®‹ç•™ç½‘ç»œ Gâ€™ä¸­ä¸å­˜åœ¨ä»æºç‚¹åˆ°æ±‡ç‚¹çš„è·¯å¾„ã€‚\)</span></p><h2 id="æœ€å¤§æµ-1"><strong>æœ€å¤§æµ</strong></h2><p>æœ€å¤§æµç›¸å…³ç®—æ³•æœ‰ä¸¤ç§è§£å†³æ€æƒ³, ä¸€ç§æ˜¯<strong>å¢å¹¿è·¯ç®—æ³•æ€æƒ³</strong>, å¦ä¸€ç§æ˜¯<strong>é¢„æµæ¨è¿›</strong>ç®—æ³•æ€æƒ³ã€‚</p><h1 id="å¢å¹¿è·¯ç®—æ³•"><strong>å¢å¹¿è·¯ç®—æ³•</strong></h1><h2 id="åŸºæœ¬æ€æƒ³">åŸºæœ¬æ€æƒ³</h2><p>æ ¹æ®å¢å¹¿è·¯å®šç†, ä¸ºäº†å¾—åˆ°æœ€å¤§æµ, å¯ä»¥ä»ä»»ä½•ä¸€ä¸ªå¯è¡Œæµå¼€å§‹, æ²¿ç€å¢å¹¿è·¯å¯¹ç½‘ç»œæµè¿›è¡Œå¢å¹¿, ç›´åˆ°ç½‘ç»œä¸­ä¸å­˜åœ¨å¢å¹¿è·¯ä¸ºæ­¢,è¿™æ ·çš„ç®—æ³•ç§°ä¸ºå¢å¹¿è·¯ç®—æ³•ã€‚é—®é¢˜çš„å…³é”®åœ¨äºå¦‚ä½•æœ‰æ•ˆåœ°æ‰¾åˆ°å¢å¹¿è·¯, å¹¶ä¿è¯ç®—æ³•åœ¨æœ‰é™æ¬¡å¢å¹¿åä¸€å®šç»ˆæ­¢ã€‚ å¢å¹¿è·¯ç®—æ³•çš„åŸºæœ¬æµç¨‹æ˜¯ :</p><ul><li><ol type="1"><li>å–ä¸€ä¸ªå¯è¡Œæµ f ä½œä¸ºåˆå§‹æµ(å¦‚æœæ²¡æœ‰ç»™å®šåˆå§‹æµ,åˆ™å–é›¶æµ f= { 0 }ä½œä¸ºåˆå§‹æµ);</li></ol></li><li><ol start="2" type="1"><li>å¯»æ‰¾å…³äº f çš„å¢å¹¿è·¯ P,å¦‚æœæ‰¾åˆ°,åˆ™æ²¿ç€è¿™æ¡å¢å¹¿è·¯ P å°† f æ”¹è¿›æˆä¸€ä¸ªæ›´å¤§çš„æµ, å¹¶å»ºç«‹ç›¸åº”çš„åå‘å¼§;</li></ol></li><li><ol start="3" type="1"><li>é‡å¤ç¬¬(2)æ­¥ç›´åˆ° f ä¸å­˜åœ¨å¢å¹¿è·¯ä¸ºæ­¢ã€‚</li></ol></li></ul><p>å›¾ç¤ºå¦‚ä¸‹: <img src="https://blog.andrewei.info/images/network-flows/FFalgo1.png"></p><p><img src="https://blog.andrewei.info/images/network-flows/FFalgo2.png"></p><p>å¢å¹¿è·¯ç®—æ³•çš„å…³é”®æ˜¯ <strong>å¯»æ‰¾å¢å¹¿è·¯</strong> å’Œ <strong>æ”¹è¿›ç½‘ç»œæµ</strong>.</p><h2 id="åˆ›å»ºåå‘å¼§çš„ä½œç”¨">åˆ›å»ºåå‘å¼§çš„ä½œç”¨ï¼š</h2><p><strong>ä¸ºç¨‹åºæä¾›ä¸€æ¬¡è¿”å›çš„æœºä¼š</strong></p><p>åœ¨å›¾ä¸­å¦‚æœç¨‹åºæ‰¾åˆ°äº†ä¸€æ¡å¢å¹¿è·¯ 1 -&gt; 2 -&gt; 4 -&gt; 6, æ­¤æ—¶å¾—åˆ°ä¸€ä¸ªæµé‡ä¸º 2 çš„æµå¹¶ä¸”æ— æ³•ç»§ç»­è¿›è¡Œå¢å¹¿, ä½†æ˜¯å¦‚æœåœ¨æ›´æ–°å¯è¡Œæµçš„åŒæ—¶å»ºç«‹åå‘å¼§çš„è¯, å°±å¯ä»¥æ‰¾åˆ° 1 -&gt; 3 -&gt; 4 -&gt; 2 -&gt; 5 -&gt; 6 çš„å¯è¡Œæµ, æµé‡ä¸º1, è¿™æ ·å°±å¯ä»¥å¾—åˆ°æœ€å¤§æµä¸º 3.</p><p><img src="https://blog.andrewei.info/images/network-flows/FFalgo7.jpg"></p><h2 id="dinicæ¨¡æ¿ç¨‹åº">dinicæ¨¡æ¿ç¨‹åº</h2><p>å› ä¸ºekç®—æ³•çš„æ•ˆç‡æ²¡æœ‰dinicçš„é«˜ï¼Œï¼Œæ‰€ä»¥æœ¬ç€å…ˆè¿½æ±‚å®ç”¨ä¸»ä¹‰å°±å…ˆçœ‹äº†dinicç®—æ³•ï¼Œï¼Œï¼Œç®—æ³•å®ç°çš„æ¨¡æ¿æ—¶kaungbinçš„ï¼Œï¼Œï¼Œdinic+é“¾å¼å‰å‘æ˜Ÿã€‚ã€‚ã€‚</p><h3 id="ç®—æ³•æ€æƒ³">ç®—æ³•æ€æƒ³</h3><p>DINIC åœ¨æ‰¾å¢å¹¿è·¯çš„æ—¶å€™ä¹Ÿæ˜¯æ‰¾çš„æœ€çŸ­å¢å¹¿è·¯, ä¸ EK ç®—æ³•ä¸åŒçš„æ˜¯ DINIC ç®—æ³•å¹¶ä¸æ˜¯æ¯æ¬¡ bfs åªæ‰¾ä¸€ä¸ªå¢å¹¿è·¯, ä»–ä¼šé¦–å…ˆé€šè¿‡ä¸€æ¬¡ bfs ä¸ºæ‰€æœ‰ç‚¹æ·»åŠ ä¸€ä¸ªæ ‡å·, æ„æˆä¸€ä¸ªå±‚æ¬¡å›¾ï¼Œ ç„¶ååœ¨å±‚æ¬¡å›¾ä¸­å¯»æ‰¾å¢å¹¿è·¯è¿›è¡Œæ›´æ–°ã€‚</p><h3 id="å®ç°æµç¨‹">å®ç°æµç¨‹</h3><ul><li><p>1.åˆ©ç”¨ BFS å¯¹åŸæ¥çš„å›¾è¿›è¡Œåˆ†å±‚ï¼Œå³å¯¹æ¯ä¸ªç»“ç‚¹è¿›è¡Œæ ‡å·ï¼Œè¿™ä¸ªæ ‡å·çš„å«ä¹‰æ˜¯å½“å‰ç»“ç‚¹è·ç¦»æºç‚¹çš„æœ€çŸ­è·ç¦»(å‡è®¾æ¯æ¡è¾¹çš„è·ç¦»éƒ½ä¸º1)ï¼Œæ³¨æ„ï¼šæ„å»ºå±‚æ¬¡å›¾çš„æ—¶å€™æ‰€èµ°çš„è¾¹çš„æ®‹ä½™æµé‡å¿…é¡»å¤§äº0</p></li><li><p>2.ç”¨ DFS å¯»æ‰¾ä¸€æ¡ä»æºç‚¹åˆ°æ±‡ç‚¹çš„å¢å¹¿è·¯, æ³¨æ„: æ­¤å¤„å¯»æ‰¾å¢å¹¿è·¯çš„æ—¶å€™è¦æŒ‰ç…§å±‚æ¬¡å›¾çš„é¡ºåº, å³å¦‚æœå°†è¾¹(u, v)çº³å…¥è¿™æ¡å¢å¹¿è·¯çš„è¯å¿…é¡»æ»¡è¶³dis[u]=dis[v]âˆ’1, å…¶ä¸­ dis[i]ä¸ºç»“ç‚¹ içš„ç¼–å·ã€‚æ‰¾åˆ°ä¸€æ¡è·¯åè¦æ ¹æ®è¿™æ¡å¢å¹¿è·¯å¾„ä¸Šçš„æ‰€æœ‰è¾¹çš„æ®‹ä½™æµé‡çš„æœ€å°å€¼læ›´æ–°æ‰€æœ‰è¾¹çš„æ®‹ä½™æµé‡(å³æ­£å‘å¼§ - l, åå‘å¼§ + l).</p></li><li><p>3ã€‚é‡å¤æ­¥éª¤ 2, å½“æ‰¾ä¸åˆ°ä¸€æ¡å¢å¹¿è·¯çš„æ—¶å€™, é‡å¤æ­¥éª¤ 1, é‡æ–°å»ºç«‹å±‚æ¬¡å›¾, ç›´åˆ°ä»æºç‚¹ä¸èƒ½åˆ°è¾¾æ±‡ç‚¹ä¸ºæ­¢ã€‚</p></li></ul><p><img src="https://blog.andrewei.info/images/network-flows/FFalgo8.jpg"></p><h3 id="æ—¶é—´å¤æ‚åº¦">æ—¶é—´å¤æ‚åº¦</h3><p><span class="math inline">\(O(V^2E)\)</span></p><h3 id="æ€è·¯">æ€è·¯</h3><p>è¿™é“é¢˜çš„é¢˜æ„æ˜¯ç»™ä½ nä¸ªæºç‚¹ï¼ˆå‘ç”µç«™ï¼‰ã€npä¸ªä¸­é—´è·¯å¾„ç‚¹ï¼ˆä¸­è½¬ç«™ï¼‰ã€ncä¸ªæ±‡ç‚¹ï¼ˆç”¨æˆ·ï¼‰ä»¥åŠmä¸ªé€šè·¯ã€‚ã€‚æ±‚æœ€å¤§é€åˆ°ç”¨æˆ·çš„æ•ˆç‡ä¹Ÿå°±æ˜¯å›¾çš„æœ€å¤§æµã€‚ã€‚</p><p>å¤šä¸ªæºç‚¹å’Œæ±‡ç‚¹æ‰€ä»¥è¦å¼„ä¸€ä¸ª<strong>è¶…çº§æºç‚¹s</strong>å’Œ<strong>è¶…çº§æ±‡ç‚¹t</strong>ï¼Œï¼Œï¼Œs,tè¿æºç‚¹ï¼Œæ±‡ç‚¹ç„¶åè·‘dinicå°±è¡Œäº†ï¼Œï¼Œ</p><p>å…·ä½“çš„ä»£ç çš„ç»†èŠ‚éƒ½æ³¨é‡Šåœ¨é‡Œé¢äº†ï¼Œï¼Œï¼Œéƒ½æ˜¯è‡ªå·±çš„ç†è§£å¯èƒ½æœ‰è¯¯ï¼Œï¼Œï¼Œçœ‹çš„å¤´ç–¼.jpg</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//dinicæ±‚ç½‘ç»œæµçš„æœ€å¤§æµ</span></span><br><span class="line"><span class="comment">//bfsæ±‚ä¸€æ¬¡å±‚æ¬¡å›¾</span></span><br><span class="line"><span class="comment">//dfsæ±‚æºç‚¹åˆ°æ±‡ç‚¹çš„ä¸€æ¡å¢å¹¿è·¯</span></span><br><span class="line"><span class="comment">//ç„¶åæ ¹æ®è¿™æ¡å¢å¹¿è·¯ä¸­æ®‹ä½™æµé‡çš„æœ€å°å€¼tpæ¥æ›´æ–°æ‰€æœ‰è¾¹çš„æ®‹ä½™æµé‡</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">105</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxm = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n , np , nc , m;</span><br><span class="line"><span class="keyword">int</span> u , v , z;</span><br><span class="line"><span class="comment">//å‰å‘æ˜Ÿå­˜å›¾</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> to;</span><br><span class="line">    <span class="keyword">int</span> next;</span><br><span class="line">    <span class="keyword">int</span> cap;        <span class="comment">//å®¹é‡</span></span><br><span class="line">    <span class="keyword">int</span> flow;       <span class="comment">//æµé‡</span></span><br><span class="line">&#125;edge[maxm];        <span class="comment">//æ³¨æ„è¾¹æ•°ä¸ºæ‰€ç»™è¾¹æ•°çš„ä¸¤å€å¤š</span></span><br><span class="line"><span class="keyword">int</span> tol;</span><br><span class="line"><span class="keyword">int</span> head[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    tol = <span class="number">2</span>;        <span class="comment">//???</span></span><br><span class="line">    <span class="built_in">memset</span>(head , <span class="number">-1</span> , <span class="keyword">sizeof</span> head);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addedge</span><span class="params">(<span class="keyword">int</span> u , <span class="keyword">int</span> v , <span class="keyword">int</span> w , <span class="keyword">int</span> rw = <span class="number">0</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//å‰å‘æ˜ŸåŠ è¾¹ï¼Œåå‘å¼§å®¹é‡ä¸ºrwä¸€èˆ¬ä¸º0</span></span><br><span class="line">    <span class="comment">//æ­£åå¼§ç›¸é‚»å­˜å‚¨ï¼Œç›´æ¥å¼‚æˆ–å°±èƒ½æ‰¾åˆ°</span></span><br><span class="line">    <span class="comment">//æ­£å‘å¼§çš„ç¼–å·è¦æ¯”åå‘å¼§çš„ç¼–å·å°</span></span><br><span class="line">    edge[tol].to = v;edge[tol].cap = w;edge[tol].flow = <span class="number">0</span>;</span><br><span class="line">    edge[tol].next = head[u];head[u] = tol++;</span><br><span class="line">    edge[tol].to = u; edge[tol].cap = rw;edge[tol].flow = <span class="number">0</span>;</span><br><span class="line">    edge[tol].next = head[v];head[v] = tol++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> q[maxn];        <span class="comment">//åŒå‘é˜Ÿåˆ—ï¼Œbfsä½¿ç”¨</span></span><br><span class="line"><span class="keyword">int</span> dep[maxn] , cur[maxn] , sta[maxn];<span class="comment">//staä¿å­˜å¢å¹¿è·¯çš„è¾¹</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">bfs</span><span class="params">(<span class="keyword">int</span> s , <span class="keyword">int</span> t , <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//bfsæœç´¢ç½‘ç»œçš„å±‚æ¬¡</span></span><br><span class="line">    <span class="keyword">int</span> front = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> tail = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">memset</span>(dep , <span class="number">-1</span> , <span class="keyword">sizeof</span>(dep[<span class="number">0</span>]) * (n + <span class="number">1</span>));</span><br><span class="line">    dep[s] = <span class="number">0</span>;</span><br><span class="line">    q[tail++] = s;</span><br><span class="line">    <span class="keyword">while</span>(front &lt; tail)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> u = q[front++];</span><br><span class="line">        <span class="comment">//å‰å‘æ˜Ÿå›¾çš„éå†</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = head[u]; ~i; i = edge[i].next)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> v = edge[i].to;</span><br><span class="line">            <span class="keyword">if</span>(edge[i].cap &gt; edge[i].flow &amp;&amp; !(~dep[v]))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//(u,v)è¿™æ¡è¾¹çš„å®¹é‡å¤§äºæµé‡æ—¶å³æ®‹ä½™æµé‡å¤§äº0å¹¶ä¸”è¿™ä¸ªç‚¹æ²¡æœ‰è¢«åˆ†å±‚æ—¶</span></span><br><span class="line">                dep[v] = dep[u] + <span class="number">1</span>;    <span class="comment">//åˆ†å±‚</span></span><br><span class="line">                <span class="keyword">if</span>(v == t)<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                q[tail++] = v;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dinic</span><span class="params">(<span class="keyword">int</span> s , <span class="keyword">int</span> t , <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> maxflow = <span class="number">0</span>;            <span class="comment">//å¾…æ±‚çš„æœ€å¤§æµ</span></span><br><span class="line">    <span class="keyword">while</span>(bfs(s , t , n))       <span class="comment">//å½“å±‚æ¬¡å›¾å­˜åœ¨æ—¶è¿›è¡Œdfså¯»æ‰¾å¢å¹¿è·¯</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)cur[i] = head[i]; <span class="comment">//å½“å‰æ‰€æœ‰å¯ä»¥åˆ©ç”¨é“¾å¼å‰å‘æ˜Ÿéå†çš„è¾¹çš„ç¼–å·</span></span><br><span class="line">        <span class="keyword">int</span> u = s , tail = <span class="number">0</span>;   <span class="comment">//tailè¡¨ç¤ºæ‰¾åˆ°çš„å¢å¹¿è·¯çš„ç‚¹çš„æ•°é‡</span></span><br><span class="line">        <span class="keyword">while</span>(~cur[s])          <span class="comment">//è¾¹åˆæ³•æ—¶</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(u == t)          <span class="comment">//æ‰¾åˆ°æ±‡ç‚¹æ—¶ï¼Œå³æ‰¾åˆ°ä¸€æ¡å¢å¹¿è·¯æ—¶</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">int</span> tp = inf;   <span class="comment">//tpä¸ºè¯¥å¢å¹¿è·¯ä¸­æœ€å°çš„æ®‹ä½™æµé‡</span></span><br><span class="line">                <span class="comment">//æ‰¾åˆ°æœ€å°å€¼</span></span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> i = tail - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i)</span><br><span class="line">                    tp = min(tp , edge[sta[i]].cap - edge[sta[i]].flow);</span><br><span class="line">                maxflow += tp;  <span class="comment">//æœ€å¤§æµå¢åŠ </span></span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> i = tail - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="comment">//ç”¨æœ€å°çš„æ®‹ä½™æµé‡æ›´æ–°å‚ä¸ç½‘ç»œ</span></span><br><span class="line">                    <span class="comment">//è¿™é‡Œæ˜¯å€’ç€éå†æ¯ä¸€æ¡å¢å¹¿è·¯ä¸­çš„è¾¹ï¼Œï¼Œ</span></span><br><span class="line">                    <span class="comment">//æ‰€ä»¥ç¼–å·æ˜¯ç”±å¤§åˆ°å°ï¼Œsta[i]æ˜¯(u,v)é‚£æ¡å¼§çš„ç¼–å·ï¼Œsta[i] ^ 1æ˜¯å…¶åå‘å¼§çš„ç¼–å·</span></span><br><span class="line">                    <span class="comment">//æ­£å‘å¼§çš„æµå…¥æµé‡åŠ ä¸Štp</span></span><br><span class="line">                    <span class="comment">//åå‘å¼§çš„æµå…¥æµé‡å°±æ˜¯å‡å»tp</span></span><br><span class="line">                    edge[sta[i]].flow += tp;</span><br><span class="line">                    edge[sta[i] ^ <span class="number">1</span>].flow -= tp;</span><br><span class="line">                    <span class="comment">//è¿™æ¡è·¯çš„æ®‹ä½™æµé‡ä¸ºé›¶ï¼Œç»è¿‡è¿™æ¡è·¯å¾„çš„å¢å¹¿è·¯ä¸å†å­˜åœ¨</span></span><br><span class="line">                    <span class="comment">//å¢å¹¿è·¯çš„å°¾è¾¹ç¼©å›åˆ°è¿™ä¸ªç‚¹</span></span><br><span class="line">                    <span class="comment">//å¹¶å°è¯•å¯»æ‰¾ç»è¿‡è¿™ä¸ªç‚¹çš„å…¶ä»–çš„å¢å¹¿è·¯</span></span><br><span class="line">                    <span class="keyword">if</span>(edge[sta[i]].cap - edge[sta[i]].flow == <span class="number">0</span>)</span><br><span class="line">                        tail = i;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//å½“å‰å¢å¹¿è·¯çš„å°¾è¾¹å›é€€åˆ°ä¸Šä¸€ä¸ªç‚¹ï¼Œï¼Œç»§ç»­æœç´¢å…¶ä»–çš„å¢å¹¿è·¯</span></span><br><span class="line">                u = edge[sta[tail] ^ <span class="number">1</span>].to;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(~cur[u] &amp;&amp;</span><br><span class="line">                    edge[cur[u]].cap &gt; edge[cur[u]].flow &amp;&amp;</span><br><span class="line">                    dep[u] + <span class="number">1</span> == dep[edge[cur[u]].to])</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//å½“è¿™æ¡è¾¹èƒ½åˆ°è¾¾ã€æ®‹ä½™æµé‡ä¸ºæ­£å€¼å¹¶ä¸”uæ˜¯vçš„ä¸Šä¸€å±‚çš„ç‚¹æ—¶</span></span><br><span class="line">                sta[tail++] = cur[u];   <span class="comment">//å¢å¹¿è·¯çš„ç‚¹æ•°tail++ï¼Œå¹¶ä¿å­˜è¿™æ¡è¾¹åˆ°sta</span></span><br><span class="line">                u = edge[cur[u]].to;    <span class="comment">//æ›´æ–°u</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//å›é€€ï¼Ÿï¼Ÿ</span></span><br><span class="line">                <span class="comment">//while(u != s &amp;&amp; cur[u] == -1)</span></span><br><span class="line">                <span class="keyword">while</span>(u != s &amp;&amp; !(~cur[u]))</span><br><span class="line">                    u = edge[sta[--tail] ^ <span class="number">1</span>].to;</span><br><span class="line">                cur[u] = edge[cur[u]].next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxflow;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d%d%d "</span> , &amp;n , &amp;np , &amp;nc , &amp;m) != EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        init();</span><br><span class="line">        <span class="keyword">while</span>(m--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">" (%d,%d)%d"</span> , &amp;u , &amp;v , &amp;z); <span class="comment">//è¾“å…¥å‰é¢æœ‰ç©ºæ ¼</span></span><br><span class="line">            ++u;++v;</span><br><span class="line">            addedge(u , v , z);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(np--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">" (%d)%d"</span> , &amp;u , &amp;z);</span><br><span class="line">            ++u;</span><br><span class="line">            addedge(<span class="number">0</span> , u , z);                 <span class="comment">//è¶…çº§æºç‚¹</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(nc--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">" (%d)%d"</span> , &amp;u , &amp;z);</span><br><span class="line">            ++u;</span><br><span class="line">            addedge(u , n + <span class="number">1</span> , z);             <span class="comment">//è¶…çº§æ±‡ç‚¹</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span> , dinic(<span class="number">0</span> , n + <span class="number">1</span> , n + <span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><del>ä¸‹ä¸€ä¸ªå°±æ˜¯sap,isapäº†å§ï¼Œï¼Œï¼Œå¤´ç–¼ing</del></p><p><del>(end)</del></p><h2 id="isapæ¨¡æ¿"><strong>isapæ¨¡æ¿</strong></h2><h3 id="ç®—æ³•æ€è·¯"><strong>ç®—æ³•æ€è·¯</strong></h3><p><strong>æœ€çŸ­å¢å¹¿è·¯ç®—æ³•(SAP)</strong></p><blockquote><p><strong>ç®—æ³•æ€æƒ³</strong> æœ€çŸ­å¢å¹¿è·¯ç®—æ³•æ˜¯ä¸€ç§è¿ç”¨è·ç¦»æ ‡å·ä½¿å¯»æ‰¾å¢å¹¿è·¯çš„æ—¶é—´å¤æ‚åº¦ä¸‹é™çš„ç®—æ³•ã€‚æ‰€è°“çš„è·ç¦»æ ‡å·å°±æ˜¯æŸä¸ªç‚¹åˆ°æ±‡ç‚¹çš„æœ€å°‘çš„å¼§çš„æ•°é‡(å³å½“è¾¹æƒä¸º1æ—¶æŸä¸ªç‚¹çš„æœ€çŸ­è·¯å¾„é•¿åº¦). è®¾ç‚¹içš„æ ‡å·ä¸ºd[i], é‚£ä¹ˆå¦‚æœå°†æ»¡è¶³d[i] = d[j] + 1, ä¸”å¢å¹¿æ—¶åªèµ°å…è®¸å¼§, é‚£ä¹ˆå°±å¯ä»¥è¾¾åˆ°â€æ€ä¹ˆèµ°éƒ½æ˜¯æœ€çŸ­è·¯â€çš„æ•ˆæœ. æ¯ä¸ªç‚¹çš„åˆå§‹æ ‡å·å¯ä»¥åœ¨ä¸€å¼€å§‹ç”¨ä¸€æ¬¡ä»æ±‡ç‚¹æ²¿æ‰€æœ‰åå‘çš„BFSæ±‚å‡º.</p></blockquote><h3 id="ç®—æ³•æµç¨‹"><strong>ç®—æ³•æµç¨‹</strong></h3><blockquote><p><strong>ç®—æ³•æµç¨‹</strong> + 1) å®šä¹‰èŠ‚ç‚¹çš„æ ‡å·ä¸ºåˆ°æ±‡ç‚¹çš„æœ€çŸ­è·ç¦»; + 2) æ¯æ¬¡æ²¿å¯è¡Œè¾¹è¿›è¡Œå¢å¹¿, å¯è¡Œè¾¹å³: å‡è®¾æœ‰ä¸¤ä¸ªç‚¹ i, j è‹¥ d[i] = 3, d[j] = 4, åˆ™d[j] = d[i] + 1, ä¹Ÿå°±æ˜¯ä» j åˆ° i æœ‰ä¸€æ¡è¾¹. + 3) æ‰¾åˆ°å¢å¹¿è·¯åï¼Œå°†è·¯å¾„ä¸Šæ‰€æœ‰è¾¹çš„æµé‡æ›´æ–°. + 4) éå†å®Œå½“å‰ç»“ç‚¹çš„å¯è¡Œè¾¹åæ›´æ–°å½“å‰ç»“ç‚¹çš„æ ‡å·ä¸º <span class="math inline">\(d[now]=min(d[next]|Flow(now,next)&gt;0)+1\)</span>ï¼Œä½¿ä¸‹æ¬¡å†æœçš„æ—¶å€™æœ‰è·¯å¯èµ°ã€‚ + 5) å›¾ä¸­ä¸å­˜åœ¨å¢å¹¿è·¯åå³é€€å‡ºç¨‹åºï¼Œæ­¤æ—¶å¾—åˆ°çš„æµé‡å€¼å°±æ˜¯æœ€å¤§æµã€‚</p></blockquote><blockquote><p>éœ€è¦æ³¨æ„çš„æ˜¯, æ ‡å·çš„æ›´æ–°è¿‡ç¨‹é¦–å…ˆæˆ‘ä»¬è¦ç†è§£æ›´æ–°æ ‡å·çš„ç›®çš„ã€‚<strong>æ ‡å·å¦‚æœéœ€è¦æ›´æ–°</strong>ï¼Œ<strong>è¯´æ˜åœ¨å½“å‰çš„æ ‡å·ä¸‹å·²ç»æ²¡æœ‰å¢å¹¿è·¯å¯ä»¥ç»§ç»­èµ°</strong>ï¼Œè¿™æ—¶æ›´æ–°æ ‡å·å°±å¯ä»¥ä½¿å¾—æˆ‘ä»¬æœ‰ç»§ç»­å‘ä¸‹èµ°çš„å¯èƒ½ï¼Œ<strong>å¹¶ä¸”æ¯æ¬¡æ‰¾çš„éƒ½æ˜¯èƒ½èµ°åˆ°çš„ç‚¹ä¸­æ ‡å·æœ€å°çš„é‚£ä¸ªç‚¹</strong>ï¼Œè¿™æ ·ä¹Ÿä½¿å¾—æ¯æ¬¡æœç´¢é•¿åº¦æœ€å°.</p></blockquote><p><strong>ä¸‹é¢çš„å›¾æ¼”ç¤ºäº†æ ‡å·çš„æ›´æ–°è¿‡ç¨‹:</strong></p><ul><li><p>1.é¦–å…ˆæˆ‘ä»¬å‡è®¾æœ‰ä¸ªå›¾å¦‚ä¸‹ï¼Œä¸ºäº†ç®€åŒ–æ²¡æœ‰æ ‡ç®­å¤´ä¹Ÿæ²¡æœ‰å†™æµé‡: <img src="https://blog.andrewei.info/images/network-flows/FFalgo3.png"></p></li><li><p>2.çº¢è‰²çš„æ•°ä¸ºå›¾æ ‡å·, æ¯ä¸ªç‚¹çš„æ ‡å·ä¸ºå…¶åˆ°æ±‡ç‚¹çš„æœ€çŸ­è·ç¦»(è¿™é‡ŒæŠŠæ¯æ¡è¾¹çœ‹ä½œ1) <img src="https://blog.andrewei.info/images/network-flows/FFalgo4.png"></p></li><li><p>3.ç¬¬ä¸€ééå†æ—¶ï¼Œæ‰¾åˆ°äº†1-&gt;2-&gt;9è¿™æ ·ä¸€æ¡å¢å¹¿è·¯ä»¥åï¼Œæ›´æ–°è¾¹ä¸Šæµé‡å€¼, å¾—åˆ°ä¸‹å›¾ <img src="https://blog.andrewei.info/images/network-flows/FFalgo5.png"></p></li></ul><p><span class="math inline">\(æ£•è‰²å­—ä½“ä¸ºè¾¹ä¸Šçš„æµé‡å€¼ã€‚è¿™æ—¶æŒ‰ç…§æ ‡å·å†æœä¸€é,å‘ç°ä»1å‡ºå‘å·²ç»æ‰¾ä¸åˆ°å¢å¹¿è·¯äº†ï¼Œå› ä¸ºflow(1,2)ç­‰äº0ä¸å¯ä»¥èµ°ï¼Œh[1]=2,h[3]=2â‰ h[1]+1,h[5]=4â‰ h[1]+1ï¼Œæ‰€ä»¥è¿™æ—¶æ›´æ–°1çš„æ ‡å·ï¼ŒæŒ‰ç…§ min(h[next]|Flow(now,next)&gt;0)+1ï¼Œä¿®æ”¹å h[1]=h[3]+1=3.\)</span></p><ul><li><p>4.ç¬¬äºŒééå†ä»¥åæ‰¾åˆ°äº†è¿™æ ·ä¸€æ¡å¢å¹¿è·¯ï¼š1-&gt;3-&gt;4-&gt;9,åšå®Œè¿™æ¡è·¯ä»¥ååˆå‘ç°æ— æ³•æ‰¾åˆ°å¯è¡Œè¾¹äº†ï¼Œè¿™æ—¶å†æ›´æ–°æ ‡å·ä½¿å›¾ä¸­æœ‰è·¯å¯èµ°ï¼Œå¦‚ä¸Šæ–‡æ‰€è¯´çš„é‚£æ ·åšï¼Œå†æ¬¡ä¿®æ”¹åh[1]=h[5]+1=5ï¼Œå°±è¿™æ ·æœç´¢å¹¶æ›´æ–°ç›´åˆ°å˜æˆä¸‹å›¾ <img src="https://blog.andrewei.info/images/network-flows/FFalgo6.png"></p></li><li><p>5.è¿™æ—¶å†æ›´æ–°h[1]å‘ç°æ²¡æœ‰ç‚¹å¯ä»¥ç”¨æ¥æ›´æ–°h[1]äº†ï¼Œäºæ˜¯æ­¤æ—¶h[1]=âˆï¼Œä½¿ç¨‹åºé€€å‡ºã€‚</p></li></ul><h3 id="å®ç°">å®ç°</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//isap+bfs+stackæ±‚æœ€å¤§æµ</span></span><br><span class="line"><span class="comment">//è²Œä¼¼æ—¶é—´å¤æ‚åº¦è¦æ¯”dinicè¿˜è¦å°ä¸€äº›</span></span><br><span class="line"><span class="comment">//bfsåªæ±‚ä¸€æ¬¡å±‚æ¬¡å›¾ï¼Œè€Œä¸”ç¼–å·æ˜¯ä»æ±‡ç‚¹å¼€å§‹çš„</span></span><br><span class="line"><span class="comment">//ä¹‹åçš„ç¼–å·çš„æ›´æ–°åœ¨isapä¸­æ›´æ–°</span></span><br><span class="line"><span class="comment">//æ›´æ–°æŒ‰ç…§d[now]=min(d[next]|Flow(now,next)&gt;0)+1</span></span><br><span class="line"><span class="comment">//gapä¼˜åŒ–çš„ç›®çš„æ˜¯å½“å‡ºç°æ–­é“¾æ—¶ï¼Œå³å­˜åœ¨ç¼–å·çš„ä¸ªæ•°ä¸ºé›¶çš„æƒ…å†µæ—¶åœæ­¢å¯»æ‰¾ä¸å­˜åœ¨å¢å¹¿è·¯</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">105</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxm = <span class="number">1e6</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">int</span> tol;</span><br><span class="line"><span class="keyword">int</span> n , np , nc , m;</span><br><span class="line"><span class="keyword">int</span> u , v , z;</span><br><span class="line"><span class="keyword">int</span> head[maxn];         <span class="comment">//é“¾å¼å‰å‘æ˜Ÿå­˜å›¾</span></span><br><span class="line"><span class="keyword">int</span> gap[maxn];          <span class="comment">//gapä¼˜åŒ–ï¼Œï¼Œgap[i]è¡¨ç¤ºç¼–å·ä¸ºiçš„èŠ‚ç‚¹çš„æ•°é‡ï¼Œï¼Œä¸ºé›¶è¡¨ç¤ºå‡ºç°æ–­é“¾</span></span><br><span class="line"><span class="keyword">int</span> dis[maxn];          <span class="comment">//åˆ†å±‚åæ¯ä¸ªç‚¹çš„ç¼–å·</span></span><br><span class="line"><span class="keyword">int</span> cur[maxn];          <span class="comment">//å¼§ä¼˜åŒ–æ‰€ä¿å­˜çš„å¼§ï¼Œé¿å…å¤šæ¬¡èµ°åˆ°é‡å¤çš„ä½ç½®ä¸Šï¼Œæ¯”å¦‚èµ°è¿‡x-&gt;yè¿™æ¡è¾¹åï¼Œä¸‹æ¬¡å†ä»xä¸ºèµ·ç‚¹å¼€å§‹èµ°æ˜¯å°±ä¸å†èµ°x-&gt;yçš„è¾¹äº†</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> to;</span><br><span class="line">    <span class="keyword">int</span> next;</span><br><span class="line">    <span class="keyword">int</span> cap;</span><br><span class="line">    <span class="keyword">int</span> flow;</span><br><span class="line">&#125;edge[maxm];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    tol = <span class="number">0</span>;            <span class="comment">//ï¼Ÿï¼Ÿï¼Ÿ</span></span><br><span class="line">    <span class="built_in">memset</span>(head , <span class="number">-1</span> , <span class="keyword">sizeof</span> head);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addedge</span><span class="params">(<span class="keyword">int</span> u , <span class="keyword">int</span> v , <span class="keyword">int</span> w , <span class="keyword">int</span> rw = <span class="number">0</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    edge[tol].to = v;edge[tol].cap = w;edge[tol].flow = <span class="number">0</span>;</span><br><span class="line">    edge[tol].next = head[u];head[u] = tol++;</span><br><span class="line">    edge[tol].to = u; edge[tol].cap = rw;edge[tol].flow = <span class="number">0</span>;</span><br><span class="line">    edge[tol].next = head[v];head[v] = tol++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> q[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bfs</span><span class="params">(<span class="keyword">int</span> s , <span class="keyword">int</span> t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//bfsä¸€æ¬¡å¾—åˆ°ä»æ±‡ç‚¹å¼€å§‹çš„å±‚æ¬¡å›¾</span></span><br><span class="line">    <span class="built_in">memset</span>(dis , <span class="number">-1</span> , <span class="keyword">sizeof</span> dis);</span><br><span class="line">    <span class="built_in">memset</span>(gap , <span class="number">0</span> , <span class="keyword">sizeof</span> gap);</span><br><span class="line">    gap[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> front = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> rear = <span class="number">0</span>;</span><br><span class="line">    dis[t] = <span class="number">0</span>;         <span class="comment">//æ±‡ç‚¹çš„ç¼–å·æ˜¯0</span></span><br><span class="line">    q[rear++] = t;</span><br><span class="line">    <span class="keyword">while</span>(front != rear)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//è¿™é‡Œbfsåº”è¯¥ç”¨çš„é€†å›¾</span></span><br><span class="line">        <span class="keyword">int</span> u = q[front++];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = head[u]; ~i; i = edge[i].next)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> v = edge[i].to;</span><br><span class="line">            <span class="keyword">if</span>(~dis[v]) <span class="keyword">continue</span>;</span><br><span class="line">            q[rear++] = v;</span><br><span class="line">            dis[v] = dis[u] + <span class="number">1</span>;    <span class="comment">//ç›¸é‚»ç¼–å·é€’å¢</span></span><br><span class="line">            ++gap[dis[v]];          <span class="comment">//å¯¹åº”ç¼–å·çš„ç‚¹çš„æ•°é‡å¢ä¸€</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> <span class="built_in">stack</span>[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">isap</span><span class="params">(<span class="keyword">int</span> s , <span class="keyword">int</span> t , <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    bfs(s , t);                     <span class="comment">//å»ºä¸€æ¬¡å±‚æ¬¡å›¾</span></span><br><span class="line">    <span class="built_in">memcpy</span>(cur , head , <span class="keyword">sizeof</span> head);</span><br><span class="line">    <span class="keyword">int</span> top = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> u = s;</span><br><span class="line">    <span class="keyword">int</span> maxflow = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(dis[s] &lt; n)               <span class="comment">//æœ€å¤§çš„ç¼–å·åªå¯èƒ½æ˜¯n-1ï¼Œå¤§äºè¯´æ˜å‡ºç°æ–­å±‚</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(u == t)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//å½“æ‰¾åˆ°ä¸€æ¡å¢å¹¿è·¯æ—¶ï¼Œæ›´æ–°è¿™æ¡è·¯ä¸Šçš„æµé‡</span></span><br><span class="line">            <span class="keyword">int</span> min = inf;</span><br><span class="line">            <span class="keyword">int</span> inser;              <span class="comment">//è®°å½•å›é€€ç‚¹</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; top; ++i)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//æ‰¾åˆ°å¢å¹¿è·¯ä¸Šçš„æœ€å°æ®‹ä½™æµé‡</span></span><br><span class="line">                <span class="keyword">if</span>(min &gt; edge[<span class="built_in">stack</span>[i]].cap - edge[<span class="built_in">stack</span>[i]].flow)</span><br><span class="line">                &#123;</span><br><span class="line">                    min = edge[<span class="built_in">stack</span>[i]].cap - edge[<span class="built_in">stack</span>[i]].flow;</span><br><span class="line">                    inser = i;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; top; ++i)</span><br><span class="line">            &#123;</span><br><span class="line">                edge[<span class="built_in">stack</span>[i]].flow += min;</span><br><span class="line">                edge[<span class="built_in">stack</span>[i] ^ <span class="number">1</span>].flow -= min;</span><br><span class="line">            &#125;</span><br><span class="line">            maxflow += min;</span><br><span class="line">            <span class="comment">//å›é€€</span></span><br><span class="line">            top = inser;</span><br><span class="line">            u = edge[<span class="built_in">stack</span>[top] ^ <span class="number">1</span>].to;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">int</span> v;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = cur[u]; ~i; i = edge[i].next)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//æ‰¾åˆ°ä¸€æ¡ä»uå‡ºå‘çš„å¯è¡Œè·¯å¾„</span></span><br><span class="line">            <span class="comment">//æ»¡è¶³æ®‹ä½™æµé‡å¤§äºé›¶å¹¶ä¸”væ˜¯uçš„ä¸‹ä¸€å±‚</span></span><br><span class="line">            v = edge[i].to;</span><br><span class="line">            <span class="keyword">if</span>(edge[i].cap - edge[i].flow &amp;&amp; dis[v] + <span class="number">1</span> == dis[u])</span><br><span class="line">            &#123;</span><br><span class="line">                flag = <span class="literal">true</span>;</span><br><span class="line">                cur[u] = i;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(flag)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//å­˜åœ¨è¿™æ ·çš„å¯è¡Œè·¯å¾„æ—¶å‹æ ˆä¿å­˜</span></span><br><span class="line">            <span class="comment">//continueç»§ç»­æ‰¾</span></span><br><span class="line">            <span class="built_in">stack</span>[top++] = cur[u];</span><br><span class="line">            u = v;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> min = n;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = head[u]; ~i; i = edge[i].next)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(edge[i].cap - edge[i].flow &amp;&amp; dis[edge[i].to] &lt; min)</span><br><span class="line">            &#123;</span><br><span class="line">                min = dis[edge[i].to];</span><br><span class="line">                cur[u] = i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        --gap[dis[u]];                          <span class="comment">//è¯¥ç¼–å·çš„æ•°é‡å‡ä¸€</span></span><br><span class="line">        <span class="keyword">if</span>(!gap[dis[u]])    <span class="keyword">return</span> maxflow;     <span class="comment">//å‡ºç°æ–­å±‚æ—¶é€€å‡º</span></span><br><span class="line">        dis[u] = min + <span class="number">1</span>;</span><br><span class="line">        ++gap[dis[u]];</span><br><span class="line">        <span class="keyword">if</span>(u != s)</span><br><span class="line">            u = edge[<span class="built_in">stack</span>[--top] ^ <span class="number">1</span>].to;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxflow;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//freopen("233.txt" , "r" , stdin);</span></span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d%d%d "</span> , &amp;n , &amp;np , &amp;nc , &amp;m) != EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        init();</span><br><span class="line">        <span class="keyword">while</span>(m--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">" (%d,%d)%d"</span> , &amp;u , &amp;v , &amp;z);</span><br><span class="line">            ++u;++v;</span><br><span class="line">            addedge(u , v , z);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(np--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">" (%d)%d"</span> , &amp;u , &amp;z);</span><br><span class="line">            ++u;</span><br><span class="line">            addedge(<span class="number">0</span> , u , z);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(nc--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">" (%d)%d"</span> , &amp;u , &amp;z);</span><br><span class="line">            ++u;</span><br><span class="line">            addedge(u , n + <span class="number">1</span> , z);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span> , isap(<span class="number">0</span> , n + <span class="number">1</span> , n + <span class="number">2</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿˜æœ‰ä¸€ä¸ªæ›´å¿«çš„å®ç°çš„æ–¹æ³•ï¼Œï¼Œé¢„æµæ¨è¿›ç®—æ³•ï¼Œï¼Œï¼Œé‚£å¤©å†çœ‹æŠŠï¼Œï¼Œï¼Œ</p><p>æ¥ä¸‹æ¥å°±æ˜¯åšå‡ é“é¢˜å»çœ‹æœ€å°è´¹ç”¨æœ€å¤§æµäº†å§ï¼Œï¼Œï¼Œï¼Œ</p><p>æ—¶é—´ä¸ºä»€ä¹ˆè¿™ä¹ˆçš„å¿«å•ŠQAQ,,,</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;æ¦‚è¿°&quot;&gt;æ¦‚è¿°&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;http://poj.org/problem?id=1459&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;è¿™é“æ˜¯ä¸€é“ç½‘ç»œæµé‡Œæœ€å¤§æµçš„æ¿å­é¢˜&lt;/a&gt;,,,&lt;/p&gt;
&lt;p&gt;æš‘æœŸé›†è®­ç½‘ç»œæµè‰è‰æ°´è¿‡ï¼Œï¼Œè¿åŸºæœ¬çš„ç®—æ³•éƒ½ä¸çŸ¥é“æœ‰å“ªäº›ï¼Œï¼Œï¼Œæ›´åˆ«ææ€ä¹ˆå®ç°äº†ï¼Œï¼Œï¼ŒåªçŸ¥é“ç½‘ç»œæµçš„å¤§è‡´çš„æ¦‚å¿µï¼Œï¼Œ&lt;/p&gt;
&lt;p&gt;ä»Šå¤©èŠ±äº†ä¸€å¤©çš„æ—¶é—´é‡æ–°å­¦ä¹ äº†ä¸€æ³¢ï¼Œï¼Œï¼Œæœ¬ä»¥ä¸ºè¿™ä¸œè¥¿å¾ˆç®€å•ï¼Œï¼Œï¼Œæ²¡æƒ³åˆ°ä¸ä»…ç®—æ³•çš„å®ç°ä¸€å¤§å †çš„ä¸œè¥¿ï¼Œï¼Œå°±è¿é¢˜ç›®éƒ½æœ‰æ—¶å€™çœ‹ä¸æ‡‚ï¼Œï¼Œï¼Œï¼Œæ„Ÿå—å°±æ˜¯ç½‘ç»œæµçš„é¢˜ä¸ä»…ç®—æ³•å®ç°èµ·æ¥ä¸å¥½æ‡‚ï¼Œï¼Œï¼Œæ¯ä¸€é“é¢˜çš„å»ºå›¾ä¹Ÿå¾ˆå…³é”®ï¼Œï¼Œï¼Œå‡ ä¹çœ‹åˆ°çš„æ¯ä¸€é“é¢˜çš„å›¾éƒ½æ˜¯å¾—è‡ªå·±å»å»ºï¼Œï¼Œå®Œå…¨ä¸åƒæœ€çŸ­è·¯é‚£äº›é¢˜èŠ±é‡Œèƒ¡å“¨çš„ä¸œè¥¿éƒ½åªæ”¹ä¸€æ”¹è´ªå¿ƒæ—¶çš„æ–¹ç¨‹å°±è¡Œï¼Œï¼Œï¼Œ&lt;/p&gt;
    
    </summary>
    
      <category term="ACM-ç½‘ç»œæµ-æœ€å¤§æµ" scheme="http://www.31415.cf/categories/ACM-%E7%BD%91%E7%BB%9C%E6%B5%81-%E6%9C%80%E5%A4%A7%E6%B5%81/"/>
    
    
      <category term="acm" scheme="http://www.31415.cf/tags/acm/"/>
    
      <category term="åˆ·é¢˜" scheme="http://www.31415.cf/tags/%E5%88%B7%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>poj-2421-æœ€å°ç”Ÿæˆæ ‘åˆ·é¢˜</title>
    <link href="http://www.31415.cf/2018/11/20/poj-2421-%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91%E5%88%B7%E9%A2%98/"/>
    <id>http://www.31415.cf/2018/11/20/poj-2421-æœ€å°ç”Ÿæˆæ ‘åˆ·é¢˜/</id>
    <published>2018-11-20T12:30:29.000Z</published>
    <updated>2018-11-20T12:42:10.238Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1><p>åšäº†å‡ é“æœ€å°ç”Ÿæˆæ ‘çš„é¢˜ï¼Œï¼Œï¼Œéƒ½æ˜¯äº›æ¿å­é¢˜ï¼Œï¼Œï¼Œç›´æ¥å¥—æ¿å­å°±èƒ½è¿‡ï¼Œï¼Œï¼Œæœ‰ä¸€äº›æ˜¯åœ¨è¾“å…¥æ•°æ®åšæ–‡ç« ï¼Œï¼Œå¤„ç†ä¸€ä¸‹å†å»ºå›¾å°±è¡Œäº†ï¼Œï¼Œï¼Œ</p><p><a href="http://poj.org/problem?id=2421" target="_blank" rel="noopener">è¿™é“æœ€å°ç”Ÿæˆæ ‘çš„é¢˜ç¨å¾®éœ€è¦å¤„ç†ä¸€ä¸‹ï¼Œï¼Œä¸è¿‡ä¹‹åä¹Ÿå°±æ˜¯å¥—æ¿å­äº†ï¼Œï¼Œï¼Œ</a></p><a id="more"></a><h1 id="é¢˜æ„åˆ†æ">é¢˜æ„åˆ†æ</h1><p>å¤§è‡´çš„é¢˜æ„å°±æ˜¯ç»™å‡ºnä¸ªæ‘åº„ä¹‹é—´çš„è·ç¦»ï¼Œï¼Œï¼Œç„¶åå†ç»™å‡ºå‡ ä¸ªæ‘åº„ä¹‹é—´å·²ç»å­˜åœ¨çš„è·¯å¾„ï¼Œï¼Œï¼Œç„¶åè®©ä½ å†æ·»åŠ å‡ æ¡è·¯å¾„ä½¿å¾—æ‰€æœ‰çš„è·¯å¾„çš„å’Œæœ€å°ï¼Œï¼Œï¼Œé—®ä½ æ·»åŠ çš„è¿™ä¸ªå€¼æ˜¯å¤šå°‘ï¼Œï¼Œï¼Œ</p><p>ä¹‹å‰åšçš„é‚£å‡ é“é¢˜éƒ½æ˜¯å›¾å·²ç»å¼„å¥½ï¼Œï¼Œï¼Œè·¯å¾„æ˜¯ç»™å®šçš„é—®ä½ æœ€å°çš„æƒé‡ä¹‹å’Œï¼Œï¼Œï¼Œè¿™é“é¢˜ç›¸å½“äºç»™ä½ éƒ¨åˆ†å›¾é—®ä½ æœ€å°çš„æƒé‡å’Œï¼Œï¼Œï¼Œ</p><p>å…¶å®åªè¦åœ¨åŠ è¾¹å»ºå›¾çš„æ—¶å€™æŠŠç»™çš„è¾¹çš„æƒé‡ç½®ä¸º0å½“ä½œè¿™æ¡è¾¹å¯ä»¥èµ°ï¼Œä½†æˆ‘ä»¬ä¸ç®—æƒé‡ï¼Œï¼Œè¿™æ ·è·‘ä¸€éæœ€å°ç”Ÿæˆæ ‘å°±èƒ½å¾—åˆ°ç­”æ¡ˆï¼Œï¼Œï¼Œ</p><h1 id="ä»£ç ">ä»£ç </h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxm = <span class="number">1e5</span> + <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> mp[maxn][maxn];</span><br><span class="line"><span class="keyword">int</span> father[maxn];</span><br><span class="line"><span class="keyword">bool</span> vis[maxn];</span><br><span class="line"><span class="keyword">int</span> n , m;</span><br><span class="line"><span class="keyword">int</span> tot;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> u , v , w;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> edge &amp;r) <span class="keyword">const</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> w &lt; r.w;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;edge[maxm];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addedge</span><span class="params">(<span class="keyword">int</span> _u , <span class="keyword">int</span> _v , <span class="keyword">int</span> _w)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    edge[tot].u = _u;</span><br><span class="line">    edge[tot].v = _v;</span><br><span class="line">    edge[tot++].w = _w;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x == father[x])  <span class="keyword">return</span> x;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> father[x] = find(father[x]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">kruskal</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">        father[i] = i;</span><br><span class="line">    sort(edge , edge + tot);</span><br><span class="line">    <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; tot; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> t1 = find(edge[i].u);</span><br><span class="line">        <span class="keyword">int</span> t2 = find(edge[i].v);</span><br><span class="line">        <span class="keyword">if</span>(t1 != t2)</span><br><span class="line">        &#123;</span><br><span class="line">            father[t1] = t2;</span><br><span class="line">            sum += edge[i].w;</span><br><span class="line">            ++cnt;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(cnt == n - <span class="number">1</span>)    <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(n &lt; n - <span class="number">1</span>)   <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">else</span>            <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;n) != EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> u , v , w;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; ++j)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;w);</span><br><span class="line">                addedge(i , j , w);</span><br><span class="line">                addedge(j , i , w);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;m);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d"</span> , &amp;u , &amp;v);</span><br><span class="line">            addedge(u , v , <span class="number">0</span>);</span><br><span class="line">            addedge(v , u , <span class="number">0</span>);</span><br><span class="line">            <span class="comment">//æ— å‘å›¾è®°å¾—æ­£åéƒ½è¦åŠ è¾¹ï¼Œï¼Œï¼Œå°‘åŠ äº†ä¸€ä¸ªwaäº†ä¸€å‘ï¼Œï¼Œï¼Œï¼ŒQAQ</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span> , kruskal());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>(end)</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;æ¦‚è¿°&quot;&gt;æ¦‚è¿°&lt;/h1&gt;
&lt;p&gt;åšäº†å‡ é“æœ€å°ç”Ÿæˆæ ‘çš„é¢˜ï¼Œï¼Œï¼Œéƒ½æ˜¯äº›æ¿å­é¢˜ï¼Œï¼Œï¼Œç›´æ¥å¥—æ¿å­å°±èƒ½è¿‡ï¼Œï¼Œï¼Œæœ‰ä¸€äº›æ˜¯åœ¨è¾“å…¥æ•°æ®åšæ–‡ç« ï¼Œï¼Œå¤„ç†ä¸€ä¸‹å†å»ºå›¾å°±è¡Œäº†ï¼Œï¼Œï¼Œ&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://poj.org/problem?id=2421&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;è¿™é“æœ€å°ç”Ÿæˆæ ‘çš„é¢˜ç¨å¾®éœ€è¦å¤„ç†ä¸€ä¸‹ï¼Œï¼Œä¸è¿‡ä¹‹åä¹Ÿå°±æ˜¯å¥—æ¿å­äº†ï¼Œï¼Œï¼Œ&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="ACM-æœ€å°ç”Ÿæˆæ ‘" scheme="http://www.31415.cf/categories/ACM-%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/"/>
    
    
      <category term="acm" scheme="http://www.31415.cf/tags/acm/"/>
    
      <category term="åˆ·é¢˜" scheme="http://www.31415.cf/tags/%E5%88%B7%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>poj-1251-æœ€å°ç”Ÿæˆæ ‘</title>
    <link href="http://www.31415.cf/2018/11/20/poj-1251-%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/"/>
    <id>http://www.31415.cf/2018/11/20/poj-1251-æœ€å°ç”Ÿæˆæ ‘/</id>
    <published>2018-11-20T08:38:14.000Z</published>
    <updated>2018-11-20T09:09:16.792Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1><p>å‰æ®µæ—¶é—´æ•°æ®ç»“æ„çš„è¯¾ä¸Šæåˆ°äº†äº†<strong>æœ€å°ç”Ÿæˆæ ‘</strong>ï¼Œï¼Œæš‘å‡çš„é›†è®­è™½ç„¶å†å­¦å¹¶æŸ¥é›†çš„æ—¶å€™çœ‹è¿‡ä¸€äº›ï¼Œï¼Œä½†æ˜¯ä¹‹åå¥½ä¹…æ²¡å†ç”¨è¿‡ï¼Œï¼Œæ—©å°±å¿˜è®°äº†ï¼Œï¼Œï¼Œä»Šå¤©æŠ½æ—¶é—´çœ‹äº†çœ‹ï¼Œï¼ŒæŠŠæœ€å°ç”Ÿæˆæ ‘çš„ä¸¤ä¸ªä¸»è¦ç®—æ³• <strong>prim</strong> å’Œ <strong>kruskal</strong>äº†è§£äº†ä¸€ä¸‹ï¼Œï¼Œï¼Œåšå‡ é“é¢˜ï¼Œï¼ŒæŠŠè‡ªå·±çš„æ¨¡æ¿å¼„å‡ºæ¥</p><a id="more"></a><h1 id="åˆ†æ">åˆ†æ</h1><p>è¿™ä¸¤ä¸ªç®—æ³•å¾ˆç®€å•ï¼Œï¼Œï¼Œçœ‹å‡ éå°±å¯ä»¥å»æ•²å»äº†ï¼Œï¼Œï¼Œ</p><p><a href="https://blog.csdn.net/mgsky1/article/details/77840286" target="_blank" rel="noopener">æ”¾å‡ ä¸ªåˆ«äººçš„åšå®¢ï¼Œï¼Œé˜²æ­¢ä»¥åå¿˜è®°äº†èƒ½å¿«é€Ÿå›æƒ³èµ·æ¥</a> <a href="https://blog.csdn.net/m0_37345402/article/details/76474311" target="_blank" rel="noopener">è¿˜æœ‰ä¸€ä¸ª</a></p><p>primç®—æ³•ä¸»è¦çš„æ€è·¯æ˜¯å°†æœ€å°ç”Ÿæˆæ ‘æ…¢æ…¢çš„å˜å¤§ï¼Œï¼Œï¼Œ kruskalç®—æ³•ä¸»è¦æ˜¯åˆ©ç”¨å¹¶æŸ¥é›†å°†å¤šä¸ªæ ‘ä¹Ÿå°±æ˜¯æ£®æ—æ…¢æ…¢çš„åˆå¹¶æˆæœ€åçš„æ ‘</p><h1 id="æ¨¡æ¿ä»£ç ">æ¨¡æ¿ä»£ç </h1><p><a href="http://poj.org/problem?id=1251" target="_blank" rel="noopener">åšäº†ä¸€é“æ¨¡æ¿é¢˜</a>ï¼Œï¼Œé¢˜æ„å°±æ˜¯å¯¹ç»™å®šçš„ä¸€ä¸ªå›¾ï¼Œï¼Œå»æ‰ä¸€äº›è¾¹ï¼Œï¼Œæ±‚èŠ±è´¹æœ€å°çš„æ–¹æ¡ˆï¼Œï¼Œï¼Œå…¶å®å°±æ˜¯æƒå€¼å’Œæœ€å°çš„é‚£ä¸€ç§ï¼Œï¼Œ</p><p>primæ–¹æ³•ï¼š <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">30</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> mp[maxn][maxn];</span><br><span class="line"><span class="keyword">bool</span> vis[maxn];</span><br><span class="line"><span class="keyword">int</span> dis[maxn];</span><br><span class="line"><span class="keyword">int</span> n , m;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">prim</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">memset</span>(vis , <span class="literal">false</span> , <span class="keyword">sizeof</span> vis);</span><br><span class="line">    vis[<span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">        dis[i] = mp[<span class="number">1</span>][i];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> m = inf;</span><br><span class="line">        <span class="keyword">int</span> p = <span class="number">-1</span>;</span><br><span class="line">        <span class="comment">//ä»æ‰€æœ‰çš„ä¸ºåŠ å…¥æœ€å°ç”Ÿæˆæ ‘é›†åˆçš„ç‚¹é›†é‡Œæ‰¾åˆ°ä¸€ä¸ªè¾¹æƒæœ€å°çš„</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; ++j)</span><br><span class="line">            <span class="keyword">if</span>(!vis[j] &amp;&amp; dis[j] &lt; m)</span><br><span class="line">            &#123;</span><br><span class="line">                m = dis[j];</span><br><span class="line">                p = j;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="keyword">if</span>(m == inf)    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        sum += m;</span><br><span class="line">        vis[p] = <span class="literal">true</span>;</span><br><span class="line">        <span class="comment">//æ›´æ–°åŠ å…¥è¿™ä¸ªç‚¹ä¹‹åèƒ½å¤Ÿåˆ°è¾¾å…¶ä»–ç‚¹çš„å€¼</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; ++j)</span><br><span class="line">            <span class="keyword">if</span>(!vis[j] &amp;&amp; dis[j] &gt; mp[p][j])</span><br><span class="line">                dis[j] = mp[p][j];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;n) &amp;&amp; n)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">char</span> c1 , c2;</span><br><span class="line">        <span class="keyword">int</span> m1 , m2;</span><br><span class="line">        <span class="built_in">memset</span>(mp , inf , <span class="keyword">sizeof</span> mp);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">            mp[i][i] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n - <span class="number">1</span>; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">" %c%d"</span> , &amp;c1 , &amp;m1);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m1; ++j)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">" %c%d"</span> , &amp;c2 , &amp;m2);</span><br><span class="line">                mp[c1 - <span class="string">'A'</span> + <span class="number">1</span>][c2 - <span class="string">'A'</span> + <span class="number">1</span>] = m2;</span><br><span class="line">                mp[c2 - <span class="string">'A'</span> + <span class="number">1</span>][c1 - <span class="string">'A'</span> + <span class="number">1</span>] = m2;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span> , prim());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>kruskalæ–¹æ³•ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">200</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">int</span> father[maxn];</span><br><span class="line"><span class="keyword">int</span> n , m;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> u , v , w;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> edge &amp;r) <span class="keyword">const</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> w &lt; r.w;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;edge[maxn];</span><br><span class="line"><span class="keyword">int</span> tot;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addedge</span><span class="params">(<span class="keyword">int</span> _u , <span class="keyword">int</span> _v , <span class="keyword">int</span> _w)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    edge[tot].u = _u;</span><br><span class="line">    edge[tot].v = _v;</span><br><span class="line">    edge[tot++].w = _w;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x == father[x])  <span class="keyword">return</span> x;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> father[x] = find(father[x]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">kruskal</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">        father[i] = i;</span><br><span class="line">    sort(edge , edge + tot);</span><br><span class="line">    <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; tot; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> t1 = find(edge[i].u);</span><br><span class="line">        <span class="keyword">int</span> t2 = find(edge[i].v);</span><br><span class="line">        <span class="comment">//u , vå¦‚æœä¸åœ¨ä¸€ä¸ªæ£®æ—ä¸­å°±åˆå¹¶</span></span><br><span class="line">        <span class="keyword">if</span>(t1 != t2)</span><br><span class="line">        &#123;</span><br><span class="line">            sum += edge[i].w;</span><br><span class="line">            father[t1] = t2;</span><br><span class="line">            ++cnt;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(cnt == n - <span class="number">1</span>) <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(cnt &lt; n - <span class="number">1</span>) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">else</span>            <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;n) &amp;&amp; n)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">char</span> c1 , c2;</span><br><span class="line">        <span class="keyword">int</span> m1 , m2;</span><br><span class="line">        tot = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">" %c%d"</span> , &amp;c1 , &amp;m1);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m1; ++j)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">" %c%d"</span> , &amp;c2 , &amp;m2);</span><br><span class="line">                addedge(c1 - <span class="string">'A'</span> + <span class="number">1</span> , c2 - <span class="string">'A'</span> + <span class="number">1</span> , m2);</span><br><span class="line">                addedge(c2 - <span class="string">'A'</span> + <span class="number">1</span> , c1 - <span class="string">'A'</span> + <span class="number">1</span> , m2);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span> , kruskal());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>(end)</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;æ¦‚è¿°&quot;&gt;æ¦‚è¿°&lt;/h1&gt;
&lt;p&gt;å‰æ®µæ—¶é—´æ•°æ®ç»“æ„çš„è¯¾ä¸Šæåˆ°äº†äº†&lt;strong&gt;æœ€å°ç”Ÿæˆæ ‘&lt;/strong&gt;ï¼Œï¼Œæš‘å‡çš„é›†è®­è™½ç„¶å†å­¦å¹¶æŸ¥é›†çš„æ—¶å€™çœ‹è¿‡ä¸€äº›ï¼Œï¼Œä½†æ˜¯ä¹‹åå¥½ä¹…æ²¡å†ç”¨è¿‡ï¼Œï¼Œæ—©å°±å¿˜è®°äº†ï¼Œï¼Œï¼Œä»Šå¤©æŠ½æ—¶é—´çœ‹äº†çœ‹ï¼Œï¼ŒæŠŠæœ€å°ç”Ÿæˆæ ‘çš„ä¸¤ä¸ªä¸»è¦ç®—æ³• &lt;strong&gt;prim&lt;/strong&gt; å’Œ &lt;strong&gt;kruskal&lt;/strong&gt;äº†è§£äº†ä¸€ä¸‹ï¼Œï¼Œï¼Œåšå‡ é“é¢˜ï¼Œï¼ŒæŠŠè‡ªå·±çš„æ¨¡æ¿å¼„å‡ºæ¥&lt;/p&gt;
    
    </summary>
    
      <category term="ACM-æœ€å°ç”Ÿæˆæ ‘" scheme="http://www.31415.cf/categories/ACM-%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/"/>
    
    
      <category term="acm" scheme="http://www.31415.cf/tags/acm/"/>
    
      <category term="åˆ·é¢˜" scheme="http://www.31415.cf/tags/%E5%88%B7%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>poj-2253-poj-1797_æœ€çŸ­è·¯ç»ƒä¹ </title>
    <link href="http://www.31415.cf/2018/11/17/poj-2253-%E6%9C%80%E7%9F%AD%E8%B7%AF%E7%BB%83%E4%B9%A0/"/>
    <id>http://www.31415.cf/2018/11/17/poj-2253-æœ€çŸ­è·¯ç»ƒä¹ /</id>
    <published>2018-11-17T03:48:51.000Z</published>
    <updated>2018-11-17T09:08:49.629Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1><p><a href="http://poj.org/problem?id=2253" target="_blank" rel="noopener">ä¸€é“æœ€çŸ­è·¯çš„å˜å½¢é¢˜</a>ï¼Œï¼Œè™½ç„¶è¯´è§£æ³•ä¸æ­¢è¿™ä¸€ç§ï¼Œï¼Œ</p><p>è¿™é“é¢˜çœ‹äº†å¥½ä¹…éƒ½æ²¡çœ‹æ‡‚é¢˜æ„ï¼Œï¼Œä¸çŸ¥åˆ°åœ¨æ±‚ä»€ä¹ˆï¼Œï¼Œï¼Œæœ€åè¿«ä¸å¾—å·²å»çœ‹äº†åˆ«äººçš„æ€è·¯ï¼Œï¼Œç†æ¸…æ€è·¯ä¹‹åï¼Œï¼Œä»£ç å°±å¥½å†™äº†ï¼Œï¼Œï¼Œåªéœ€åœ¨åŸæ¥çš„dijkstraæ¿å­ä¸Šæ”¹ä¸€æ”¹å°±è¡Œäº†ï¼Œï¼Œ</p><p>è¡¥ï¼šç¬¬äºŒé“é¢˜å’Œç¬¬ä¸€é“é¢˜ç±»ä¼¼ï¼Œï¼Œå†æ”¹ä¸€æ”¹å°±è¡Œäº†ï¼Œï¼Œ</p><a id="more"></a><h1 id="åˆ†æä¸æ€è·¯">åˆ†æä¸æ€è·¯</h1><p>è¿™é“é¢˜çš„å¤§è‡´é¢˜æ„å°±æ˜¯ï¼šç»™ä½ nå—çŸ³å¤´çš„åæ ‡ï¼Œï¼Œç„¶åé—®ä½ ä»ç¬¬ä¸€å—çŸ³å¤´åˆ°ç¬¬äºŒå—çŸ³å¤´çš„æ‰€æœ‰å¯åˆ°çš„mæ¡è·¯å¾„ä¸­ï¼Œï¼Œé‚£mæ¡æœ€é•¿çš„è·¯ä¸­çš„æœ€å°çš„ï¼Œï¼Œ</p><p>æ‰€ä»¥åˆ†ä¸¤æ­¥è®¡ç®—ï¼Œï¼Œï¼Œ</p><ul><li><p>å…ˆæ±‚ i-&gt;j mæ¡è·¯å¾„ä¸­æ¯æ¡è·¯å¾„ä¸­çš„æœ€å¤§å€¼ï¼Œï¼Œ</p></li><li><p>ç„¶åæ±‚è¿™mä¸ªæœ€å¤§å€¼ä¸­çš„æœ€å°å€¼ï¼Œï¼Œï¼Œ</p></li></ul><p>æŒ‰ç…§è¿™ä¸ªæ€è·¯ï¼Œï¼Œdijkstraä¸­çš„æ¾å¼›æ¡ä»¶å°±è¦æ”¹æˆ</p><p><span class="math inline">\(dis[v] = min(dis[v] , max(dis[u] , w[u][v]))\)</span></p><ul><li>dis[v]è¡¨ç¤ºåŸç‚¹1åˆ°vçš„æœ€å¤§è·¯ä¸­çš„æœ€å°å€¼ï¼Œï¼ŒåŒç†dis[u]ä¹Ÿä¸€æ ·</li><li>w[u][v]è¡¨ç¤ºu-&gt;vçš„æƒå€¼</li><li>æ±‚1-&gt;vçš„æœ€å¤§è·¯ä¸­çš„æœ€å°å€¼å°±ç­‰äº <strong>ä¹‹å‰ä»åˆ«çš„è·¯å¾„åˆ°vä¸­æ±‚å¾—çš„æœ€å¤§è·¯ä¸­çš„æœ€å°å€¼</strong> ä¸ <strong>1-&gt;u-&gt;vè¿™æ¡è·¯å¾„ä¸­çš„æœ€å¤§è·¯ä¸­çš„æœ€å°å€¼ï¼Œï¼Œï¼ˆä¹Ÿå°±æ˜¯ 1-&gt;u ä¸­æœ€å¤§è·¯çš„æœ€å°å€¼ å’Œ u-&gt;vçš„æƒå€¼ç›¸æ¯”è¾ƒå–æœ€å¤§çš„ï¼‰</strong> çš„æœ€å°å€¼</li></ul><p>å¯¹äº†ï¼Œï¼Œç½‘ä¸Šçœ‹åˆ°çš„åˆ«äººçš„åšå®¢å¤§å¤šéƒ½æ˜¯ç”¨é‚»æ¥çŸ©é˜µå®ç°çš„ï¼Œï¼Œï¼Œç„¶åæˆ‘å°è¯•ç”¨é‚»æ¥è¡¨å®ç°çš„ï¼Œï¼Œï¼Œæ³¨æ„å¯¹æ•°æ®çš„å¤„ç†ï¼Œï¼Œï¼Œå› ä¸ºæ˜¯ç»™çš„ç‚¹çš„åæ ‡è€Œä¸æ˜¯ç‚¹çš„ç¼–å·ï¼Œï¼Œï¼Œæ‰€ä»¥æ˜¯æ¯ä¸ªç‚¹ä¹‹é—´éƒ½æœ‰è·¯å¾„ï¼Œï¼Œï¼Œæœ€åï¼Œï¼Œç”¨é‚»æ¥è¡¨æ˜¯å®ç°è®°å¾—å¤„ç†å®Œä¸€ç»„æ•°æ®è¦æŠŠé‚»æ¥è¡¨æ¸…ç©ºï¼Œï¼Œï¼Œ è¿˜æœ‰è¾“å‡ºåœ¨pojä¸Šg++ç”¨%.3f</p><p><a href="http://poj.org/problem?id=1797" target="_blank" rel="noopener">ç¬¬äºŒé“é¢˜å°±æ˜¯å‰ä¸€é“çš„åè¿‡æ¥ï¼Œï¼Œï¼Œæ±‚æ‰€æœ‰è·¯å¾„ä¸­æœ€å°å€¼çš„æœ€å¤§å€¼ï¼Œï¼Œï¼Œ</a></p><h1 id="ä»£ç ">ä»£ç </h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//poj-2253</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e3</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> v;</span><br><span class="line">    <span class="keyword">double</span> c;</span><br><span class="line">    node()&#123;&#125;</span><br><span class="line">    node(<span class="keyword">int</span> _v , <span class="keyword">double</span> _c):v(_v) , c(_c)&#123;&#125;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> node &amp;r) <span class="keyword">const</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> c &gt; r.c;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> v;</span><br><span class="line">    <span class="keyword">double</span> w;</span><br><span class="line">    edge(<span class="keyword">int</span> _v = <span class="number">0</span> , <span class="keyword">double</span> _w = <span class="number">0</span>):v(_v) , w(_w)&#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">vector</span>&lt;edge&gt; e[maxn];</span><br><span class="line"><span class="keyword">double</span> dis[maxn];</span><br><span class="line"><span class="keyword">bool</span> vis[maxn];</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addedge</span><span class="params">(<span class="keyword">int</span> u , <span class="keyword">int</span> v , <span class="keyword">double</span> w)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    e[u].push_back(edge(v , w));</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dijkstra</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(vis , <span class="literal">false</span> , <span class="keyword">sizeof</span> vis);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">        dis[i] = inf;</span><br><span class="line">    dis[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">    priority_queue&lt;node&gt; q;</span><br><span class="line">    <span class="keyword">while</span>(!q.empty())   q.pop();</span><br><span class="line">    q.push(node(<span class="number">1</span> , <span class="number">0</span>));</span><br><span class="line">    node t;</span><br><span class="line">    <span class="keyword">while</span>(!q.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        t = q.top();q.pop();</span><br><span class="line">        <span class="keyword">int</span> u = t.v;</span><br><span class="line">        <span class="keyword">if</span>(vis[u])  <span class="keyword">continue</span>;</span><br><span class="line">        vis[u] = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; e[u].size(); ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> v = e[t.v][i].v;</span><br><span class="line">            <span class="keyword">double</span> w = e[u][i].w;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(!vis[v])</span><br><span class="line">            &#123;</span><br><span class="line">                dis[v] = min(dis[v] , max(dis[u] , w));</span><br><span class="line">                q.push(node(v , dis[v]));</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> q = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;n) != EOF &amp;&amp; n)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">double</span> x[maxn] , y[maxn];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i  &lt;= n; ++i)</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%lf%lf"</span> , &amp;x[i] , &amp;y[i]);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt;= n; ++j)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">double</span> w = <span class="built_in">sqrt</span>((x[i] - x[j]) * (x[i] - x[j]) + (y[i] - y[j]) * (y[i] - y[j]));</span><br><span class="line">                addedge(i , j , w);</span><br><span class="line">                addedge(j , i , w);</span><br><span class="line">            &#125;</span><br><span class="line">        dijkstra();</span><br><span class="line"></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Scenario #%d\nFrog Distance = %.3lf\n\n"</span> , q++ , dis[<span class="number">2</span>]);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; maxn; ++i)</span><br><span class="line">            e[i].clear();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1797</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e3</span> + <span class="number">5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> v;</span><br><span class="line">    <span class="keyword">int</span> c;</span><br><span class="line">    node()&#123;&#125;</span><br><span class="line">    node(<span class="keyword">int</span> _v , <span class="keyword">int</span> _c):v(_v) , c(_c)&#123;&#125;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> node &amp;r) <span class="keyword">const</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> c &lt; r.c;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> v;</span><br><span class="line">    <span class="keyword">int</span> w;</span><br><span class="line">    edge(<span class="keyword">int</span> _v = <span class="number">0</span> , <span class="keyword">int</span> _w = <span class="number">0</span>):v(_v) , w(_w)&#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">vector</span>&lt;edge&gt; e[maxn];</span><br><span class="line"><span class="keyword">int</span> dis[maxn];</span><br><span class="line"><span class="keyword">bool</span> vis[maxn];</span><br><span class="line"><span class="keyword">int</span> n , m;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addedge</span><span class="params">(<span class="keyword">int</span> u , <span class="keyword">int</span> v , <span class="keyword">int</span> w)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    e[u].push_back(edge(v , w));</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dijkstra</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(vis , <span class="literal">false</span> , <span class="keyword">sizeof</span> vis);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n + <span class="number">1</span>; ++i)</span><br><span class="line">        dis[i] = <span class="number">0</span>;</span><br><span class="line">    dis[<span class="number">1</span>] = inf;</span><br><span class="line">    priority_queue&lt;node&gt; q;</span><br><span class="line">    <span class="keyword">while</span>(!q.empty())   q.pop();</span><br><span class="line">    q.push(node(<span class="number">1</span> , inf));</span><br><span class="line">    node t;</span><br><span class="line">    <span class="keyword">while</span>(!q.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        t = q.top();q.pop();</span><br><span class="line">        <span class="keyword">int</span> u = t.v;</span><br><span class="line">        <span class="keyword">if</span>(vis[u])  <span class="keyword">continue</span>;</span><br><span class="line">        vis[u] = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; e[u].size(); ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> v = e[t.v][i].v;</span><br><span class="line">            <span class="keyword">int</span> w = e[u][i].w;</span><br><span class="line">            <span class="keyword">if</span>(!vis[v])</span><br><span class="line">            &#123;</span><br><span class="line">                dis[v] = max(dis[v] , min(dis[u] , w));</span><br><span class="line">                q.push(node(v , dis[v]));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> q = <span class="number">1</span>;<span class="keyword">int</span> t;<span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;t);</span><br><span class="line">    <span class="keyword">while</span>(t--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span> , &amp;n , &amp;m);</span><br><span class="line">        <span class="keyword">int</span> u , v , w;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span> , &amp;u , &amp;v , &amp;w);</span><br><span class="line">            addedge(u , v , w);</span><br><span class="line">            addedge(v , u , w);</span><br><span class="line">        &#125;</span><br><span class="line">        dijkstra();</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Scenario #%d:\n%d\n\n"</span> , q++ , dis[n]);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; maxn; ++i)</span><br><span class="line">            e[i].clear();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ç¬¬äºŒé“é¢˜æ€è·¯æ˜¯å¯¹çš„ï¼Œï¼Œï¼Œæœ€åçš„è¾“å‡ºå¿˜è®°åŠ :waäº†<span class="number">4</span>æ¬¡ï¼Œï¼Œï¼Œä¸€ç›´ä»¥ä¸ºæ˜¯è‡ªå·±çš„é‚»æ¥è¡¨+ä¼˜å…ˆé˜Ÿåˆ—å†™çš„æœ‰é—®é¢˜ï¼Œï¼Œï¼Œemmmmm ï¼Œï¼Œï¼Œå‘</span><br></pre></td></tr></table></figure><h1 id="å°ç»“">å°ç»“</h1><p>å› ä¸ºæœŸä¸­è€ƒè¯•ç­‰ç­‰å„ç§äº‹ï¼Œï¼Œï¼Œå¥½ä¹…æ²¡å¼„acmçš„è¿™äº›ä¸œè¥¿äº†ï¼Œï¼Œå¤§æ¦‚æœ‰ä¸‰å‘¨æˆ–åˆ™ä¸€ä¸ªæœˆäº†å§ï¼Œï¼Œï¼Œ</p><p>åæœå°±æ˜¯ä¹‹å‰å­¦çš„ï¼Œè®°å¾—ä¸œè¥¿åˆå¿«å¿˜è®°äº†ï¼Œï¼Œï¼Œæ¿å­ä¹Ÿä¸èƒ½è‡ªå·±çš„é»˜å†™ä¸‹æ¥äº†QAQï¼Œï¼Œ</p><p>æ¥ä¸‹æ¥è¿™ä¸€ä¸ªåŠæœˆå¾—å¥½å¥½çš„åŠªåŠ›ä¸€æŠŠäº†ï¼Œï¼Œï¼Œï¼Œï¼Œï¼ˆé€ƒ</p><p>(end)</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;æ¦‚è¿°&quot;&gt;æ¦‚è¿°&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;http://poj.org/problem?id=2253&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;ä¸€é“æœ€çŸ­è·¯çš„å˜å½¢é¢˜&lt;/a&gt;ï¼Œï¼Œè™½ç„¶è¯´è§£æ³•ä¸æ­¢è¿™ä¸€ç§ï¼Œï¼Œ&lt;/p&gt;
&lt;p&gt;è¿™é“é¢˜çœ‹äº†å¥½ä¹…éƒ½æ²¡çœ‹æ‡‚é¢˜æ„ï¼Œï¼Œä¸çŸ¥åˆ°åœ¨æ±‚ä»€ä¹ˆï¼Œï¼Œï¼Œæœ€åè¿«ä¸å¾—å·²å»çœ‹äº†åˆ«äººçš„æ€è·¯ï¼Œï¼Œç†æ¸…æ€è·¯ä¹‹åï¼Œï¼Œä»£ç å°±å¥½å†™äº†ï¼Œï¼Œï¼Œåªéœ€åœ¨åŸæ¥çš„dijkstraæ¿å­ä¸Šæ”¹ä¸€æ”¹å°±è¡Œäº†ï¼Œï¼Œ&lt;/p&gt;
&lt;p&gt;è¡¥ï¼šç¬¬äºŒé“é¢˜å’Œç¬¬ä¸€é“é¢˜ç±»ä¼¼ï¼Œï¼Œå†æ”¹ä¸€æ”¹å°±è¡Œäº†ï¼Œï¼Œ&lt;/p&gt;
    
    </summary>
    
      <category term="ACM-æœ€çŸ­è·¯" scheme="http://www.31415.cf/categories/ACM-%E6%9C%80%E7%9F%AD%E8%B7%AF/"/>
    
    
      <category term="acm" scheme="http://www.31415.cf/tags/acm/"/>
    
      <category term="åˆ·é¢˜" scheme="http://www.31415.cf/tags/%E5%88%B7%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>poj-1151çŸ©å½¢é¢ç§¯å¹¶-çº¿æ®µæ ‘</title>
    <link href="http://www.31415.cf/2018/10/30/poj-1151%E7%9F%A9%E5%BD%A2%E9%9D%A2%E7%A7%AF%E5%B9%B6-%E7%BA%BF%E6%AE%B5%E6%A0%91/"/>
    <id>http://www.31415.cf/2018/10/30/poj-1151çŸ©å½¢é¢ç§¯å¹¶-çº¿æ®µæ ‘/</id>
    <published>2018-10-30T14:35:11.000Z</published>
    <updated>2018-10-30T14:58:51.802Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1><p>çº¿æ®µæ ‘é—®é¢˜é‡Œçš„å¦ä¸€ä¸ªé—®é¢˜ï¼Œï¼Œï¼ŒçŸ©å½¢é¢ç§¯å¹¶ï¼Œï¼Œï¼Œï¼Œ</p><p>ä¹‹å‰çœ‹lazyæ›´æ–°æ—¶çœ‹åˆ°ä¸‹é¢è¿™ä¸ªçš„è®²è§£ï¼Œï¼Œï¼Œä¸€å¤§å †æ–‡å­—è¿˜æœ‰ä¸€å¤§å †çš„å›¾ï¼Œï¼Œï¼Œï¼Œå½“æ—¶æœæ–­è·³è¿‡ï¼Œï¼Œï¼Œ</p><p>ä»Šå¤©èŠ±äº†ä¸€ä¸‹åˆåŠ ä¸€æ™šä¸Šçš„æ—¶é—´çœ‹äº†çœ‹è¿™å—çŸ¥è¯†ï¼Œï¼Œï¼Œç„¶åå°è¯•è‡ªå·±å†™å‡ºä»£ç ï¼Œï¼Œï¼Œç®—æ˜¯ç®€å•çš„äº†è§£ä¸€ä¸‹è¿™å—ï¼Œï¼Œï¼Œ</p><a id="more"></a><h1 id="é¢˜æ„">é¢˜æ„</h1><p><a href="http://poj.org/problem?id=1151" target="_blank" rel="noopener">è¿™é“çŸ©å½¢é¢ç§¯å¹¶</a>é—®é¢˜çš„å¤§æ„æ˜¯ç»™å¾ˆå¤šä¸ªçŸ©å½¢ï¼Œï¼ŒçŸ©å½¢ä¹‹é—´å¯èƒ½æœ‰äº¤é›†ï¼Œï¼Œï¼Œç„¶åé—®ä½ è¿™ä¸€å¤§ç‰‡çš„å›¾å½¢é¢ç§¯æ˜¯å¤šå°‘ï¼Œï¼Œï¼Œï¼Œ</p><p>æ•°æ®é‡ä¸å¤§ï¼Œï¼Œçœ‹åˆ°æœ‰å¾ˆå¤šäººæ˜¯æš´åŠ›è¿‡çš„ï¼Œï¼Œï¼Œ</p><p>ä½†æ˜¯ç”¨çº¿æ®µæ ‘æ¥å½“ä½œç»ƒä¹ é¢˜é”»ç‚¼é”»ç‚¼æ€ç»´è¿˜æ˜¯å¾ˆå¥½çš„QAQ</p><h1 id="æ€è·¯">æ€è·¯</h1><p><a href="http://www.cppblog.com/menjitianya/archive/2016/02/25/212891.html" target="_blank" rel="noopener">ä¸€å¼€å§‹æˆ‘æ˜¯çœ‹è¿™ç¯‡åšå®¢æœ‰å…³çŸ©å½¢é¢ç§¯å¹¶çš„çŸ¥è¯†</a>ï¼Œï¼Œï¼Œ è¿™ç¯‡åšå®¢è®²è§£çš„æ€è·¯å¾ˆä¸é”™ï¼Œï¼Œï¼Œä¸€éä¹‹åå¤§è‡´äº†è§£äº†æ•´ä¸ªè§£å†³é—®é¢˜çš„æ€è·¯ï¼Œï¼Œï¼Œï¼Œä½†æ˜¯å®ƒæ²¡æœ‰ç›¸åº”çš„ç»ƒä¹ é¢˜ä»¥åŠä»£ç ï¼Œï¼Œï¼Œï¼Œæˆ‘å®Œå…¨ä¸çŸ¥é“è¯¥ä»å“ªé‡Œä¸‹æ‰‹ï¼Œï¼Œï¼Œçº¿æ®µæ ‘çš„å…·ä½“å¦‚ä½•å®ç°ä¸€è„¸æ‡µé€¼ï¼Œï¼Œï¼Œï¼Œè¿˜æœ‰ï¼Œï¼Œï¼Œä¸€èˆ¬è¿™ç§é¢˜éƒ½æ˜¯è¦å°†ä¸€ä¸ªæ–¹å‘çš„åæ ‡ <strong>ç¦»æ•£åŒ–</strong>ï¼Œï¼Œï¼Œï¼Œå—¯ï¼Œï¼Œåˆæ˜¯è¿™ä¸ªä¸œè¥¿ï¼Œï¼Œï¼Œï¼Œæ›´æ˜¯ä¸€è„¸çš„æ‡µé€¼ï¼Œï¼Œï¼Œï¼Œ</p><p><a href="https://blog.csdn.net/riba2534/article/details/76851233" target="_blank" rel="noopener">ç„¶åçœ‹äº†è¿™ç¯‡åšå®¢ï¼Œï¼Œ</a>å¯¹ç€ä»£ç ï¼Œï¼Œï¼Œç„¶åé¡ºç€æ€è·¯å†™å‡ºæ¥äº†ï¼Œï¼Œï¼Œ</p><p>ä¸»è¦çš„å‡ ç‚¹ï¼š</p><ul><li>å‰é¢ä¸¤ä¸ªåšå®¢çš„å›¾å¾ˆå½¢è±¡çš„æŠŠæ€è·¯ç†äº†ä¸€éï¼Œï¼Œï¼Œï¼Œå°±æ˜¯æšä¸¾ä¸€ä¸ªæ–¹å‘ï¼Œï¼Œæ¯”å¦‚yæ–¹å‘ï¼Œï¼Œç„¶åï¼Œï¼Œå°†xæ–¹å‘çš„åæ ‡ç¦»æ•£åŒ–ï¼Œï¼Œåˆ†æˆè‹¥å¹²ä¸ª <strong>å•ä½çº¿æ®µ</strong>ï¼Œï¼Œï¼Œï¼Œçº¿æ®µæ ‘ç»´æŠ¤è¿™ä¸ªå•ä½çº¿æ®µï¼Œï¼Œï¼Œè¿˜æ˜¯é‚£ä¸ªåšå®¢å½¢è±¡ä¸€äº›</li><li>æ•´ä¸ªå›¾å½¢çš„é¢ç§¯å¯ä»¥åˆ†æˆè‹¥å¹²ä¸ªå°çš„çŸ©å½¢ï¼Œï¼Œï¼Œç„¶ååŠ èµ·æ¥å°±è¡Œï¼Œï¼Œï¼Œï¼Œ</li></ul><h1 id="ä»£ç ">ä»£ç </h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> aaa  cout &lt;&lt; x[r + 1] &lt;&lt; <span class="meta-string">"----"</span> &lt;&lt; x[l] &lt;&lt; endl;</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">205</span>;</span><br><span class="line"><span class="keyword">double</span> x[maxn &lt;&lt; <span class="number">2</span>];           <span class="comment">//æ‰€æœ‰çš„xçš„æ•°æ®</span></span><br><span class="line"><span class="comment">//æ¯ä¸€æ¡çº¿æ®µ</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">segment</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">double</span> y;</span><br><span class="line">    <span class="keyword">double</span> l;</span><br><span class="line">    <span class="keyword">double</span> r;</span><br><span class="line">    <span class="keyword">int</span> flag;       <span class="comment">//1 or -1: å…¥è¾¹orå‡ºè¾¹</span></span><br><span class="line">    segment()&#123;&#125;</span><br><span class="line">    segment(<span class="keyword">double</span> y, <span class="keyword">double</span> l , <span class="keyword">double</span> r , <span class="keyword">int</span> flag):y(y) , l(l) , r(r) , flag(flag)&#123;&#125;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> segment &amp;res)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> y &lt; res.y;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;seg[maxn &lt;&lt; <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">//çº¿æ®µæ ‘ç»´æŠ¤æ‰€æœ‰çš„å•ä½çº¿æ®µï¼ˆç¦»æ•£åçš„ï¼‰</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> cov;</span><br><span class="line">    <span class="keyword">double</span> len;</span><br><span class="line">&#125;node[maxn &lt;&lt; <span class="number">2</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushdown</span><span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> l , <span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(node[rt].cov)</span><br><span class="line">        node[rt].len = x[r + <span class="number">1</span>] - x[l];</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(l == r)</span><br><span class="line">        node[rt].len = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        node[rt].len = node[rt &lt;&lt; <span class="number">1</span>].len + node[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].len;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> l , <span class="keyword">int</span> r , <span class="keyword">int</span> L , <span class="keyword">int</span> R , <span class="keyword">int</span> cov)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(L &lt;= l &amp;&amp; r &lt;= R)</span><br><span class="line">    &#123;</span><br><span class="line">        node[rt].cov += cov;</span><br><span class="line">        pushdown(rt , l , r);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(L &lt;= mid)    update(rt &lt;&lt; <span class="number">1</span> , l , mid , L , R , cov);</span><br><span class="line">    <span class="keyword">if</span>(R &gt;  mid)    update(rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span> , mid + <span class="number">1</span> , r , L , R , cov);</span><br><span class="line">    <span class="comment">//pushdown</span></span><br><span class="line">    pushdown(rt , l , r);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">int</span> q = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;n) &amp;&amp; n)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">memset</span>(x , <span class="number">0</span> , <span class="keyword">sizeof</span> x);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">double</span> x1 , y1 , x2 , y2;</span><br><span class="line">        <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%lf%lf%lf%lf"</span> , &amp;x1 , &amp;y1 , &amp;x2 , &amp;y2);</span><br><span class="line">            seg[count]=segment(y1 , x1 , x2 , <span class="number">1</span>);</span><br><span class="line">            x[count++] = x1;</span><br><span class="line">            seg[count]=segment(y2 , x1 , x2 , <span class="number">-1</span>);</span><br><span class="line">            <span class="comment">//segment[i].y = y1;segment[i].l = x1;segment[i].r = x2;segment[i].flag = 1;</span></span><br><span class="line">            <span class="comment">//segment[i + 1].y = y2;segment[i + n].l = x1;segment[i + n].r = x2;segment[i + n].flag = -1;</span></span><br><span class="line"></span><br><span class="line">            x[count++] = x2;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//ç¦»æ•£</span></span><br><span class="line">        sort(seg , seg + count);</span><br><span class="line">        sort(x , x + count);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> sz = unique(x , x + count) - x;</span><br><span class="line">        <span class="keyword">double</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; count; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> l = lower_bound(x , x + sz , seg[i].l) - x;</span><br><span class="line">            <span class="keyword">int</span> r = lower_bound(x , x + sz , seg[i].r) - x - <span class="number">1</span>;</span><br><span class="line">            update(<span class="number">1</span> , <span class="number">0</span> , sz , l , r , seg[i].flag);</span><br><span class="line">            ans += node[<span class="number">1</span>].len * (seg[i + <span class="number">1</span>].y - seg[i].y);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Test case #%d\nTotal explored area: %.2f\n\n"</span>,q++,ans);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æ€»ç»“">æ€»ç»“</h1><p>ç®—äº†ï¼Œï¼Œï¼Œå…ˆé¸½äº†ï¼Œï¼Œï¼Œç»†èŠ‚é‚£å¤©å†è¡¥ä¸€ä¸‹ï¼Œï¼Œï¼Œï¼Œ (loading,,,,)</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;æ¦‚è¿°&quot;&gt;æ¦‚è¿°&lt;/h1&gt;
&lt;p&gt;çº¿æ®µæ ‘é—®é¢˜é‡Œçš„å¦ä¸€ä¸ªé—®é¢˜ï¼Œï¼Œï¼ŒçŸ©å½¢é¢ç§¯å¹¶ï¼Œï¼Œï¼Œï¼Œ&lt;/p&gt;
&lt;p&gt;ä¹‹å‰çœ‹lazyæ›´æ–°æ—¶çœ‹åˆ°ä¸‹é¢è¿™ä¸ªçš„è®²è§£ï¼Œï¼Œï¼Œä¸€å¤§å †æ–‡å­—è¿˜æœ‰ä¸€å¤§å †çš„å›¾ï¼Œï¼Œï¼Œï¼Œå½“æ—¶æœæ–­è·³è¿‡ï¼Œï¼Œï¼Œ&lt;/p&gt;
&lt;p&gt;ä»Šå¤©èŠ±äº†ä¸€ä¸‹åˆåŠ ä¸€æ™šä¸Šçš„æ—¶é—´çœ‹äº†çœ‹è¿™å—çŸ¥è¯†ï¼Œï¼Œï¼Œç„¶åå°è¯•è‡ªå·±å†™å‡ºä»£ç ï¼Œï¼Œï¼Œç®—æ˜¯ç®€å•çš„äº†è§£ä¸€ä¸‹è¿™å—ï¼Œï¼Œï¼Œ&lt;/p&gt;
    
    </summary>
    
    
      <category term="acm" scheme="http://www.31415.cf/tags/acm/"/>
    
      <category term="åˆ·é¢˜" scheme="http://www.31415.cf/tags/%E5%88%B7%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>hdu-3790æœ€çŸ­è·¯åˆ·é¢˜</title>
    <link href="http://www.31415.cf/2018/10/20/hdu-3790%E6%9C%80%E7%9F%AD%E8%B7%AF%E5%88%B7%E9%A2%98/"/>
    <id>http://www.31415.cf/2018/10/20/hdu-3790æœ€çŸ­è·¯åˆ·é¢˜/</id>
    <published>2018-10-20T06:50:31.000Z</published>
    <updated>2018-10-20T06:57:08.950Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1><p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=3790" target="_blank" rel="noopener">ä¸€é“æœ€çŸ­è·¯çš„æ°´é¢˜</a>ï¼Œï¼Œï¼Œå°½é‡ä¸çœ‹ä»¥å‰çš„ä»£ç æ‰“å‡ºæ¥ï¼Œï¼Œï¼Œç†Ÿæ‚‰ä¸€ä¸‹dijkstraçš„æ ¼å¼å’Œé“¾å¼å‰å‘æ˜Ÿçš„å†™æ³•ï¼Œï¼Œï¼Œï¼Œ</p><p>è™½ç„¶æ˜¯æ°´é¢˜ï¼Œï¼Œï¼Œä½†æ˜¯ä¸€å¼€å§‹æ²¡è€ƒè™‘å–è´¹ç”¨æœ€çŸ­çš„waäº†ä¸€å‘ï¼Œï¼Œï¼Œï¼ŒQAQ</p><a id="more"></a><h1 id="åˆ†æ">åˆ†æ</h1><p>é“¾å¼å‰å‘æ˜Ÿå­˜å›¾ï¼Œï¼Œå†åŠ ä¸€ä¸ªæ•°ç»„ä¿å­˜æºç‚¹åˆ°æ¯ä¸ªç‚¹çš„è´¹ç”¨cst[maxm]ï¼Œï¼Œï¼Œæ³¨æ„å–æœ€å°‘çš„è´¹ç”¨</p><h1 id="ä»£ç ">ä»£ç </h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e3</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxm = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> head[maxm &lt;&lt; <span class="number">1</span>];</span><br><span class="line"><span class="keyword">bool</span> vis[maxn];</span><br><span class="line"><span class="keyword">int</span> dis[maxm];</span><br><span class="line"><span class="keyword">int</span> cst[maxm];</span><br><span class="line"><span class="keyword">int</span> cnt;</span><br><span class="line"><span class="keyword">int</span> n , m;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> to;</span><br><span class="line">    <span class="keyword">int</span> w;</span><br><span class="line">    <span class="keyword">int</span> c;</span><br><span class="line">    <span class="keyword">int</span> last;</span><br><span class="line">&#125;edge[maxm &lt;&lt; <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addedge</span><span class="params">(<span class="keyword">int</span> u , <span class="keyword">int</span> v , <span class="keyword">int</span> w , <span class="keyword">int</span> c)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    edge[cnt].to = v;</span><br><span class="line">    edge[cnt].w = w;</span><br><span class="line">    edge[cnt].c = c;</span><br><span class="line">    edge[cnt].last = head[u];</span><br><span class="line">    head[u] = cnt++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> u;</span><br><span class="line">    <span class="keyword">int</span> w;</span><br><span class="line">    node(<span class="keyword">int</span> _u , <span class="keyword">int</span> _w):u(_u) , w(_w)&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> node &amp;res) <span class="keyword">const</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> w &gt; res.w;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dijkstra</span><span class="params">(<span class="keyword">int</span> n , <span class="keyword">int</span> s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">        dis[i] = (i == s) ? <span class="number">0</span> : inf;</span><br><span class="line">    <span class="built_in">memset</span>(cst , inf , <span class="keyword">sizeof</span> cst);cst[s] = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">memset</span>(vis , <span class="literal">false</span> , <span class="keyword">sizeof</span> vis);</span><br><span class="line"></span><br><span class="line">    priority_queue&lt;node&gt; q;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(!q.empty())   q.pop();</span><br><span class="line"></span><br><span class="line">    q.push(node(s , <span class="number">0</span>));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(!q.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        node x = q.top();q.pop();</span><br><span class="line">        <span class="keyword">int</span> u = x.u;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(vis[u])  <span class="keyword">continue</span>;</span><br><span class="line">        vis[u] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = head[u] ; ~i; i = edge[i].last)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> to = edge[i].to;</span><br><span class="line">            <span class="keyword">int</span> w = edge[i].w;</span><br><span class="line">            <span class="keyword">int</span> c = edge[i].c;</span><br><span class="line">            <span class="keyword">if</span>(!vis[to] &amp;&amp; dis[u] + w &lt;= dis[to])</span><br><span class="line">            &#123;</span><br><span class="line">                dis[to] = dis[u] + w;</span><br><span class="line">                <span class="comment">//if(cst[u] + c &lt; cst[to])</span></span><br><span class="line">                    cst[to] = cst[u] + c;</span><br><span class="line">                q.push(node(to , dis[to]));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d"</span> , &amp;n , &amp;m) &amp;&amp; n &amp;&amp; m)</span><br><span class="line">    &#123;</span><br><span class="line">        cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">memset</span>(head , <span class="number">-1</span> , <span class="keyword">sizeof</span> head);</span><br><span class="line">        <span class="keyword">int</span> u , v , w , c;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d%d%d"</span> , &amp;u , &amp;v , &amp;w , &amp;c);</span><br><span class="line">            addedge(u , v , w , c);</span><br><span class="line">            addedge(v , u , w , c);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> s , t;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span> , &amp;s , &amp;t);</span><br><span class="line"></span><br><span class="line">        dijkstra(n , s);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d %d\n"</span> , dis[t] , cst[t]);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æœ€çŸ­è·¯ç›¸ç­‰æ—¶æ³¨æ„å–è´¹ç”¨æœ€çŸ­çš„</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//5 7</span></span><br><span class="line"><span class="comment">//1 2 5 5</span></span><br><span class="line"><span class="comment">//2 3 4 5</span></span><br><span class="line"><span class="comment">//1 3 4 6</span></span><br><span class="line"><span class="comment">//3 4 2 2</span></span><br><span class="line"><span class="comment">//3 5 4 7</span></span><br><span class="line"><span class="comment">//4 5 2 4</span></span><br><span class="line"><span class="comment">//1 3 4 4</span></span><br><span class="line"><span class="comment">//1 5</span></span><br><span class="line"><span class="comment">//8 10</span></span><br></pre></td></tr></table></figure><p>å·®ä¸å¤šè®°ä½äº†çš„dijkatraçš„ä»£ç ï¼Œï¼Œï¼Œç»§ç»­ç»§ç»­</p><p>(end)</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;æ¦‚è¿°&quot;&gt;æ¦‚è¿°&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;http://acm.hdu.edu.cn/showproblem.php?pid=3790&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;ä¸€é“æœ€çŸ­è·¯çš„æ°´é¢˜&lt;/a&gt;ï¼Œï¼Œï¼Œå°½é‡ä¸çœ‹ä»¥å‰çš„ä»£ç æ‰“å‡ºæ¥ï¼Œï¼Œï¼Œç†Ÿæ‚‰ä¸€ä¸‹dijkstraçš„æ ¼å¼å’Œé“¾å¼å‰å‘æ˜Ÿçš„å†™æ³•ï¼Œï¼Œï¼Œï¼Œ&lt;/p&gt;
&lt;p&gt;è™½ç„¶æ˜¯æ°´é¢˜ï¼Œï¼Œï¼Œä½†æ˜¯ä¸€å¼€å§‹æ²¡è€ƒè™‘å–è´¹ç”¨æœ€çŸ­çš„waäº†ä¸€å‘ï¼Œï¼Œï¼Œï¼ŒQAQ&lt;/p&gt;
    
    </summary>
    
      <category term="ACM-æœ€çŸ­è·¯" scheme="http://www.31415.cf/categories/ACM-%E6%9C%80%E7%9F%AD%E8%B7%AF/"/>
    
    
      <category term="acm" scheme="http://www.31415.cf/tags/acm/"/>
    
      <category term="åˆ·é¢˜" scheme="http://www.31415.cf/tags/%E5%88%B7%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>hdu-1540çº¿æ®µæ ‘åˆ·é¢˜</title>
    <link href="http://www.31415.cf/2018/10/18/hdu-1540%E7%BA%BF%E6%AE%B5%E6%A0%91%E5%88%B7%E9%A2%98/"/>
    <id>http://www.31415.cf/2018/10/18/hdu-1540çº¿æ®µæ ‘åˆ·é¢˜/</id>
    <published>2018-10-18T11:55:21.000Z</published>
    <updated>2018-10-18T12:54:02.645Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1><p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1540" target="_blank" rel="noopener">å“‡ï¼Œï¼Œï¼Œè¿™é“çº¿æ®µæ ‘çš„é¢˜å¯ä»¥è¯´æ˜¯åˆ°ç›®å‰ä¸ºæ­¢æˆ‘æ‰€åšè¿‡çš„æœ€éš¾çš„ä¸€é“äº†å§QAQï¼Œï¼Œï¼Œ</a>ï¼Œï¼Œï¼Œ</p><p>ä¸€å¼€å§‹è¯»å®Œé¢˜å°±æ˜¯ä¸€è„¸æ‡µé€¼ï¼Œï¼Œï¼Œï¼Œå®Œå…¨ä¸çŸ¥é“è¯¥ä»å“ªé‡Œä¸‹æ‰‹ï¼Œï¼Œï¼Œå°±æ˜¯çŸ¥é“è¿™æ˜¯ä¸€é“çº¿æ®µæ ‘çš„é¢˜ä¹Ÿä¸çŸ¥é“è¯¥æ€ä¹ˆä¸‹æ‰‹å•Šå•Šå•Šï¼Œï¼Œï¼Œï¼Œ</p><p>æœ€åè¿˜æ˜¯çœ‹äº†kaungbinå¤§ä½¬çš„ä»£ç ï¼Œï¼Œï¼ŒQAQ</p><p>å…‰æ˜¯è¯»ä»£ç å°±èŠ±äº†ä¸€ä¸¤ä¸ªå°æ—¶ï¼Œï¼Œï¼Œï¼ˆä¸è¿‡ä¹Ÿæœ‰å¯èƒ½å’Œä»Šå¤©è´¼å›°æœ‰å…³ï¼Œï¼Œï¼Œè„‘è¢‹ä¸æ€ä¹ˆè½¬å•Š</p><a id="more"></a><h1 id="åˆ†ææ€è·¯">åˆ†ææ€è·¯</h1><h2 id="é¢˜æ„">é¢˜æ„</h2><p>å¤§æ¦‚çš„é¢˜æ„å°±æ˜¯ä¸€ä¸²åœ¨ä¸€æ¡çº¿ä¸Šçš„æ‘åº„ï¼Œï¼Œæˆ–è€…è¯´æ˜¯ç‚¹ï¼Œï¼Œï¼Œä¸€å¼€å§‹éƒ½ä¸º1ï¼Œï¼Œï¼Œç„¶åæœ‰ä¸‰ç§ä¸åŒçš„æ“ä½œï¼Œï¼Œï¼Œ</p><ul><li>d a: æ„å‘³ç€å°†aè¿™ä¸ªç‚¹ç½®ä¸º0ï¼Œï¼Œï¼Œ</li><li>q a: æ„å‘³ç€è¯¢é—®aå‘¨å›´æœ‰å¤šå°‘çš„1ï¼Œï¼Œï¼Œåªè¦ç¢°åˆ°é›¶å°±ä¸ç®—äº†ï¼Œï¼Œï¼Œä¾‹å¦‚110111110,,(q 5) = 5</li><li>r: æ„å‘³ç€å°†ä¸Šä¸€ä¸ªè¢«ç½®ä¸ºé›¶çš„ç‚¹ç½®ä¸º1</li></ul><h2 id="åˆ†æ">åˆ†æ</h2><h3 id="æˆ‘çš„æƒ³æ³•">æˆ‘çš„æƒ³æ³•</h3><p>ä¸€å¼€å§‹æˆ‘çœ‹åˆ°æœ‰éœ€è¦ä¸Šä¸€æ¬¡æ“ä½œçš„æƒ…å†µï¼Œï¼Œå°±æƒ³ç€è¦å°†è¿™äº›dæ“ä½œä¿å­˜ä¸‹æ¥ï¼Œï¼Œé€‚åˆè¿™é“é¢˜çš„å°±æ˜¯æ ˆï¼Œï¼Œï¼Œ</p><p>ç„¶åå°±æ˜¯è¯¢é—®äº†ï¼Œï¼Œï¼Œæˆ‘é‚£æ—¶æƒ³ç€æ—¢ç„¶è¦æ±‚aå‘¨å›´è¿™äº›1çš„ä¸ªæ•°ï¼Œï¼Œé‚£æˆ‘å°±æ‰¾åˆ°ä¸¤ç«¯çš„0ä¸å°±è¡Œäº†ï¼Œï¼Œï¼Œç„¶åä»è¿™é‡Œå°±å½»åº•çš„è„‘æŠ½äº†ï¼Œï¼Œï¼Œåˆæƒ³ç€ç”¨çº¿æ®µæ ‘å»æ±‚è¿™æ®µåŒºé—´çš„å’Œï¼Œï¼Œï¼Œï¼Œç„¶åç»“æœæ˜¾è€Œæ˜“è§ï¼Œï¼Œï¼Œï¼Œtäº†ï¼Œï¼Œï¼Œ</p><p>å› ä¸ºï¼Œï¼Œè¿™ç§æƒ³æ³•çº¿æ®µæ ‘æ ¹æœ¬æ²¡æœ‰ç”¨å•Šï¼ï¼ï¼ï¼éƒ½æ‰¾å‡ºé‚£ä¸¤ç«¯çš„0æ‰€åœ¨çš„ä½ç½®ç›´æ¥å‡ä¸å°±è¡Œäº†ï¼Œï¼Œï¼Œè¿™ä¸å°±æ˜¯è£¸æš´åŠ›å—ï¼Œï¼Œï¼Œï¼Œï¼Œå“‡ï¼Œï¼Œï¼Œè¢«è‡ªå·±è ¢å“­(à¹à¥”ËƒÌ¶á—œË‚Ì¶à¹à¥“)ï¼Œï¼Œï¼Œï¼Œ</p><h3 id="æ–Œç¥çš„åšæ³•">æ–Œç¥çš„åšæ³•</h3><p>é¦–å…ˆå°†è¿™æ®µçº¿åˆ’åˆ†æˆå¤šä¸ªåŒºæ®µï¼Œï¼Œï¼Œæ¯ä¸ªåŒºæ®µä¿å­˜çš„ä¿¡æ¯æœ‰ï¼š<strong>ä»è¿™å»åŒºæ®µçš„å·¦ç«¯ç‚¹å¼€å§‹æœ€é•¿çš„è¿ç»­1çš„ä¸ªæ•°ll</strong> ã€ <strong>ä»è¿™ä¸ªåŒºæ®µå³ç«¯ç‚¹å¼€å§‹çš„æœ€é•¿çš„è¿ç»­1çš„ä¸ªæ•°rl</strong> ã€ è¿˜æœ‰<strong>è¿™ä¸ªåŒºæ®µæœ€å¤§çš„è¿ç»­ç‚¹çš„ä¸ªæ•°ml</strong>ã€‚ã€‚ã€‚</p><p><strong>å»ºæ ‘</strong>ï¼šll = rl = ml = åŒºé—´é•¿</p><p><strong>æ›´æ–°</strong>ï¼š</p><blockquote><p>å¶å­èŠ‚ç‚¹ç½®ä¸€ç½®é›¶ï¼Œï¼Œï¼Œ</p></blockquote><blockquote><p>å·¦å³é€’å½’æ›´æ–°</p></blockquote><blockquote><p>å…¶ä»–åŒºé—´ï¼š(pushup()) çˆ¶èŠ‚ç‚¹.ll = å·¦èŠ‚ç‚¹.ll çˆ¶èŠ‚ç‚¹.rl = å³èŠ‚ç‚¹.rl çˆ¶èŠ‚ç‚¹.mlå–å·¦å³èŠ‚ç‚¹çš„æœ€å¤§çš„ä¸€ä¸ªml è‹¥å·¦èŠ‚ç‚¹çš„rl + å³èŠ‚ç‚¹çš„ll &gt; çˆ¶èŠ‚ç‚¹çš„mlï¼Œï¼Œï¼Œï¼Œå°±æ›´æ–°ä¸ºå‰è€…</p></blockquote><blockquote><p>å¯¹äºçˆ¶èŠ‚ç‚¹çš„ll,rl å¦‚æœå·¦èŠ‚ç‚¹çš„llä¸ºå·¦èŠ‚ç‚¹çš„é•¿åº¦ï¼Œï¼Œï¼Œå°±è¯´æ˜å·¦èŠ‚ç‚¹ä»å·¦ç«¯ç‚¹å¼€å§‹çš„è¿ç»­1çš„æœ€å¤§çš„ä¸ªæ•°å°±ä¸ºå·¦èŠ‚ç‚¹åŒ…å«çš„ç‚¹çš„ä¸ªæ•°ï¼Œï¼Œï¼Œæ‰€ä»¥æ­¤æ—¶çš„çˆ¶èŠ‚ç‚¹çš„llå°±è¦å’Œ<strong>å³èŠ‚ç‚¹çš„llåˆå¹¶</strong> åŒç†ï¼Œï¼Œï¼Œçˆ¶èŠ‚ç‚¹çš„rlä¹Ÿè¦è¿›è¡Œè¿™æ ·çš„åˆ¤æ–­</p></blockquote><p><strong>æŸ¥è¯¢</strong>ï¼š</p><p>å¯¹äºä¸€äº›ç‰¹æ®Šçš„åŒºé—´ç›´æ¥è¿”å›è¯¥åŒºé—´çš„æœ€å¤§çš„è¿ç»­1çš„ä¸ªæ•°ä¹Ÿå°±æ˜¯ml</p><blockquote><p>å½“locåœ¨ä¸­ç‚¹å·¦æ—¶ï¼Œï¼Œï¼Œå°±è¦ä»å·¦èŠ‚ç‚¹æ¥åˆ¤æ–­ï¼Œï¼Œï¼Œåˆ¤æ–­çš„æ¡ä»¶æ˜¯locæ˜¯å¦è¶…å‡ºäº†rlçš„æœ€å·¦ç«¯ï¼ˆç”»å›¾æ›´å®¹æ˜“ç†è§£ä¸€äº›ï¼‰ï¼Œï¼Œï¼Œè¶…å‡ºçš„è¯å°±è¯´æ˜locæ‰€åœ¨çš„è¿ç»­çš„1ä¸€éƒ¨åˆ†æ˜¯åœ¨å·¦èŠ‚ç‚¹çš„rlé‡Œå¦ä¸€éƒ¨åˆ†æ˜¯åœ¨å³èŠ‚ç‚¹çš„llé‡Œï¼Œï¼Œï¼Œå°±åˆ†æˆä¸¤ä¸ªç‚¹æŸ¥è¯¢ï¼Œï¼Œï¼Œä¸€ä¸ªæ˜¯åœ¨å·¦èŠ‚ç‚¹çš„locï¼Œï¼Œï¼Œå¦ä¸€ä¸ªæ—¶åœ¨å³èŠ‚ç‚¹çš„mid+1é‚£ä¸ªç‚¹ åŒç†ï¼Œï¼Œè‹¥åœ¨ä¸­ç‚¹çš„å³æ—¶ä¹Ÿæœ‰ç±»ä¼¼çš„åˆ¤æ–­ï¼Œï¼Œï¼Œ å¤§ä½“ä¸Šè¯´å°±æ˜¯ä¸æ–­åœ°åˆ¤æ–­è¦æ‰¾åˆ°é‚£ä¸ªç‚¹ç›¸å¯¹ll,rlçš„ä½ç½®ï¼Œï¼Œï¼Œæœ€åæŠŠé€’å½’æŸ¥è¯¢åˆ°çš„ç»“æœåˆå¹¶å°±è¡Œäº†ï¼Œï¼Œï¼Œ</p></blockquote><p>å­—ä¸‘è§è°…ï¼Œï¼Œï¼Œï¼Œï¼ˆä¸è¿‡åº”è¯¥æ²¡äººçœ‹æŠŠï¼Œï¼Œï¼Œï¼Œ</p><p><img src="https://img2018.cnblogs.com/blog/1028485/201810/1028485-20181018204849235-921393699.jpg"></p><h1 id="ä»£ç ">ä»£ç </h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">5e5</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> l;</span><br><span class="line">    <span class="keyword">int</span> r;</span><br><span class="line">    <span class="keyword">int</span> ml;</span><br><span class="line">    <span class="keyword">int</span> ll;</span><br><span class="line">    <span class="keyword">int</span> rl;</span><br><span class="line">&#125;node[maxn &lt;&lt; <span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> l , <span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    node[rt].l = l;</span><br><span class="line">    node[rt].r = r;</span><br><span class="line">    node[rt].ml = node[rt].ll = node[rt].rl = r - l + <span class="number">1</span>;    <span class="comment">//åˆšå¼€å§‹è‚¯å®šæ˜¯åŒºé—´çš„é•¿åº¦</span></span><br><span class="line">    <span class="keyword">if</span>(l == r) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    build(rt &lt;&lt; <span class="number">1</span> , l , mid);</span><br><span class="line">    build(rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span> , mid + <span class="number">1</span> , r);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> loc , <span class="keyword">int</span> val)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(node[rt].l == node[rt].r)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(val) node[rt].ml = node[rt].ll = node[rt].rl = <span class="number">1</span>;    <span class="comment">//æ‘§æ¯å’Œé‡å»ºä¸¤ç§</span></span><br><span class="line">        <span class="keyword">else</span>    node[rt].ml = node[rt].ll = node[rt].rl = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid = (node[rt].l + node[rt].r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(loc &lt;= mid)  update(rt &lt;&lt; <span class="number">1</span> , loc , val);</span><br><span class="line">    <span class="keyword">else</span>            update(rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span> , loc , val);</span><br><span class="line">    <span class="comment">//é€’å½’æ›´æ–°</span></span><br><span class="line">    <span class="comment">//å…ˆæ›´æ–°çˆ¶èŠ‚ç‚¹çš„ä¸¤ä¸ªï¼Œll,rl</span></span><br><span class="line">    node[rt].ll = node[rt &lt;&lt; <span class="number">1</span>].ll;</span><br><span class="line">    node[rt].rl = node[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].rl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç„¶åæ˜¯çˆ¶èŠ‚ç‚¹çš„ml</span></span><br><span class="line">    node[rt].ml = max(node[rt &lt;&lt; <span class="number">1</span>].ml , node[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].ml);</span><br><span class="line">    node[rt].ml = max(node[rt].ml , node[rt &lt;&lt; <span class="number">1</span>].rl + node[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].ll);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//çˆ¶èŠ‚ç‚¹çš„ll,rlå¯èƒ½å°±æ˜¯å·¦å³èŠ‚ç‚¹çš„ll,,rl,,,,å½“åˆšå¥½æ˜¯å­èŠ‚ç‚¹çš„å…¨éƒ¨æ—¶è¿˜è¦åŠ ä¸Šå¦ä¸€ä¸ªåŒºé—´çš„ä¸€éƒ¨åˆ†</span></span><br><span class="line">    <span class="keyword">if</span>(node[rt &lt;&lt; <span class="number">1</span>].ll == node[rt &lt;&lt; <span class="number">1</span>].r - node[rt &lt;&lt; <span class="number">1</span>].l + <span class="number">1</span>)</span><br><span class="line">        node[rt].ll += node[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].ll;</span><br><span class="line">    <span class="keyword">if</span>(node[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].rl == node[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].r - node[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].l + <span class="number">1</span>)</span><br><span class="line">        node[rt].rl += node[rt &lt;&lt; <span class="number">1</span>].rl;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> loc)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//ç‰¹æ®Šæƒ…å†µç›´æ¥è¿”å›ml</span></span><br><span class="line">    <span class="keyword">if</span>(node[rt].l == node[rt].r || node[rt].ml == <span class="number">0</span> || node[rt].ml == node[rt].r - node[rt].l + <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> node[rt].ml;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> mid = (node[rt].l + node[rt].r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(loc &lt;= mid)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(loc &gt;= node[rt &lt;&lt; <span class="number">1</span>].r - node[rt &lt;&lt; <span class="number">1</span>].rl + <span class="number">1</span>)</span><br><span class="line">            <span class="keyword">return</span> query(rt &lt;&lt; <span class="number">1</span> , loc) + query(rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span> , mid + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">return</span> query(rt &lt;&lt; <span class="number">1</span> , loc);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(loc &lt;= node[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].l + node[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].ll - <span class="number">1</span>)</span><br><span class="line">            <span class="keyword">return</span> query(rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span> , loc) + query(rt &lt;&lt; <span class="number">1</span> , mid);</span><br><span class="line">        <span class="keyword">return</span> query(rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span> , loc);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n , m;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d"</span> , &amp;n , &amp;m) != EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        build(<span class="number">1</span> , <span class="number">1</span> , n);</span><br><span class="line">        <span class="keyword">int</span> q[maxn];</span><br><span class="line">        <span class="keyword">int</span> toc = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> t = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(m--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">char</span> c;<span class="built_in">scanf</span>(<span class="string">" %c"</span> , &amp;c);</span><br><span class="line">            <span class="keyword">if</span>(c == <span class="string">'D'</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;t);</span><br><span class="line">                q[toc++] = t;   <span class="comment">//æŠŠæ‘§æ¯æ“ä½œä¿å­˜</span></span><br><span class="line">                update(<span class="number">1</span> , t , <span class="number">0</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(c == <span class="string">'Q'</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;t);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%d\n"</span> , query(<span class="number">1</span> , t));</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(t)</span><br><span class="line">                &#123;</span><br><span class="line">                    t = q[--toc];</span><br><span class="line">                    update(<span class="number">1</span> , t , <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//kaungbin</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;æ¦‚è¿°&quot;&gt;æ¦‚è¿°&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;http://acm.hdu.edu.cn/showproblem.php?pid=1540&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;å“‡ï¼Œï¼Œï¼Œè¿™é“çº¿æ®µæ ‘çš„é¢˜å¯ä»¥è¯´æ˜¯åˆ°ç›®å‰ä¸ºæ­¢æˆ‘æ‰€åšè¿‡çš„æœ€éš¾çš„ä¸€é“äº†å§QAQï¼Œï¼Œï¼Œ&lt;/a&gt;ï¼Œï¼Œï¼Œ&lt;/p&gt;
&lt;p&gt;ä¸€å¼€å§‹è¯»å®Œé¢˜å°±æ˜¯ä¸€è„¸æ‡µé€¼ï¼Œï¼Œï¼Œï¼Œå®Œå…¨ä¸çŸ¥é“è¯¥ä»å“ªé‡Œä¸‹æ‰‹ï¼Œï¼Œï¼Œå°±æ˜¯çŸ¥é“è¿™æ˜¯ä¸€é“çº¿æ®µæ ‘çš„é¢˜ä¹Ÿä¸çŸ¥é“è¯¥æ€ä¹ˆä¸‹æ‰‹å•Šå•Šå•Šï¼Œï¼Œï¼Œï¼Œ&lt;/p&gt;
&lt;p&gt;æœ€åè¿˜æ˜¯çœ‹äº†kaungbinå¤§ä½¬çš„ä»£ç ï¼Œï¼Œï¼ŒQAQ&lt;/p&gt;
&lt;p&gt;å…‰æ˜¯è¯»ä»£ç å°±èŠ±äº†ä¸€ä¸¤ä¸ªå°æ—¶ï¼Œï¼Œï¼Œï¼ˆä¸è¿‡ä¹Ÿæœ‰å¯èƒ½å’Œä»Šå¤©è´¼å›°æœ‰å…³ï¼Œï¼Œï¼Œè„‘è¢‹ä¸æ€ä¹ˆè½¬å•Š&lt;/p&gt;
    
    </summary>
    
      <category term="ACM-çº¿æ®µæ ‘" scheme="http://www.31415.cf/categories/ACM-%E7%BA%BF%E6%AE%B5%E6%A0%91/"/>
    
    
      <category term="acm" scheme="http://www.31415.cf/tags/acm/"/>
    
      <category term="åˆ·é¢˜" scheme="http://www.31415.cf/tags/%E5%88%B7%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>hdu-5023çº¿æ®µæ ‘åˆ·é¢˜</title>
    <link href="http://www.31415.cf/2018/10/18/hdu-5023%E7%BA%BF%E6%AE%B5%E6%A0%91%E5%88%B7%E9%A2%98/"/>
    <id>http://www.31415.cf/2018/10/18/hdu-5023çº¿æ®µæ ‘åˆ·é¢˜/</id>
    <published>2018-10-18T05:32:13.000Z</published>
    <updated>2018-10-18T12:51:10.881Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1><p>è¿™é“é¢˜å’Œä¸Šæ¬¡åšçš„é‚£é“æŸ“è‰²é—®é¢˜ä¸€æ ·ï¼Œï¼Œï¼Œè¿™æ¬¡ä¸»è¦æ˜¯çœ‹çœ‹æˆ‘å†è¿‡å»ä¸¤ä¸‰å¤©ä¹‹åï¼Œï¼Œå¤§æ¦‚å‡­å€Ÿä»¥å‰çš„è®°å¿†æ•²å‡ºæ¥å¾—å¤šé•¿çš„æ—¶é—´ï¼Œï¼Œï¼Œï¼Œ</p><p>ç»“æœæ˜¯ï¼Œï¼Œï¼Œå¤§ä½“çš„æ¡†æ¶æ²¡é—®é¢˜äº†ï¼Œï¼Œï¼Œï¼Œä¸€éä¸‹æ¥ç¼–è¯‘ä¹Ÿæ²¡é—®é¢˜ï¼Œï¼Œï¼Œä½†æ˜¯ï¼Œï¼Œç»†èŠ‚é—®é¢˜æœ‰ä¸¤ä¸ªï¼Œï¼Œï¼Œ + æ•°ç»„å†™æˆäº†1e6è€Œä¸æ˜¯1e6+10è™½ç„¶å¯¹æœ¬é¢˜æ²¡ä»€ä¹ˆå½±å“ï¼Œï¼Œ + å»ºæ ‘ä¸­çš„åˆå§‹åŒ–æ“ä½œæ—¶æŸ“è‰²åˆå§‹åŒ–ä¸º2ï¼Œï¼Œï¼Œæ‰€ä»¥åº”è¯¥æ˜¯ä»å³å¾€å·¦æ•°çš„ç¬¬äºŒä¸ªbitè®°ä¸º1ï¼Œï¼Œï¼Œç„¶åæˆ‘å°±å°‘ç®—äº†ä¸€ä½ï¼Œï¼Œï¼Œå› ä¸ºbitsetå¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªä»å³å‘å·¦å¹¶ä¸”ä»0å¼€å§‹çš„æ•°ç»„ï¼Œï¼Œæ‰€ä»¥æ˜¯col[1] = 1ï¼Œï¼Œï¼Œè¿™æ ·waäº†ä¸€å‘ + æœ€åä¸€ä¸ªï¼Œï¼Œï¼Œï¼Œè¾“å‡ºæ ¼å¼é”™è¯¯ï¼Œï¼Œï¼Œï¼Œå™—å™—å™—å™—</p><a id="more"></a><h1 id="ä»£ç ">ä»£ç </h1><p>æ€è·¯ä¸pojé‚£ä¸€é“ä¸€æ¨¡ä¸€æ ·ï¼Œï¼Œç›´æ¥æ‰”ä»£ç </p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bitset&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e6</span> + <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> l;</span><br><span class="line">    <span class="keyword">int</span> r;</span><br><span class="line">    <span class="keyword">int</span> laz;</span><br><span class="line">    <span class="built_in">bitset</span>&lt;30&gt; col;</span><br><span class="line">&#125;node[maxn &lt;&lt; <span class="number">2</span>];</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> aaa cout &lt;&lt; node[rt].col &lt;&lt; endl;</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> l , <span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    node[rt].l = l;</span><br><span class="line">    node[rt].r = r;</span><br><span class="line">    node[rt].laz = <span class="number">0</span>;</span><br><span class="line">    node[rt].col = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(node[rt].l == node[rt].r)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">bitset</span>&lt;30&gt; t;</span><br><span class="line">        t.<span class="built_in">set</span>(<span class="number">1</span>);</span><br><span class="line">        node[rt].col = t;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid = (node[rt].l + node[rt].r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    build(rt &lt;&lt; <span class="number">1</span> , l , mid);</span><br><span class="line">    build(rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span> , mid + <span class="number">1</span> , r);</span><br><span class="line">    node[rt].col = node[rt &lt;&lt; <span class="number">1</span>].col | node[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].col;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushdown</span><span class="params">(<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(node[rt].laz)</span><br><span class="line">    &#123;</span><br><span class="line">        node[rt &lt;&lt; <span class="number">1</span>].col = node[rt].col;</span><br><span class="line">        node[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].col = node[rt].col;</span><br><span class="line"></span><br><span class="line">        node[rt &lt;&lt; <span class="number">1</span>].laz = node[rt].laz;</span><br><span class="line">        node[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].laz = node[rt].laz;</span><br><span class="line"></span><br><span class="line">        node[rt].laz = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> L , <span class="keyword">int</span> R , <span class="keyword">int</span> C)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(L &lt;= node[rt].l &amp;&amp; node[rt].r &lt;= R)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">bitset</span>&lt;30&gt; t;</span><br><span class="line">        t.<span class="built_in">set</span>(C - <span class="number">1</span>);</span><br><span class="line">        node[rt].col = t;</span><br><span class="line">        node[rt].laz = C;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    pushdown(rt);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> mid = (node[rt].l + node[rt].r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(L &lt;= mid)    update(rt &lt;&lt; <span class="number">1</span> , L , R , C);</span><br><span class="line">    <span class="keyword">if</span>(R &gt;  mid)    update(rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span> , L , R , C);</span><br><span class="line">    node[rt].col = node[rt &lt;&lt; <span class="number">1</span>].col | node[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].col;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">bitset</span>&lt;30&gt; query(<span class="keyword">int</span> rt , <span class="keyword">int</span> L , <span class="keyword">int</span> R)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(L &lt;= node[rt].l &amp;&amp; node[rt].r &lt;= R)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> node[rt].col;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    pushdown(rt);</span><br><span class="line">    <span class="built_in">bitset</span>&lt;30&gt; ans(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">int</span> mid = (node[rt].l + node[rt].r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(L &lt;= mid)    ans |= query(rt &lt;&lt; <span class="number">1</span> , L , R);</span><br><span class="line">    <span class="keyword">if</span>(R &gt;  mid)    ans |= query(rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span> , L , R);</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n , m;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d"</span> , &amp;n , &amp;m) &amp;&amp; n &amp;&amp; m)</span><br><span class="line">    &#123;</span><br><span class="line">        build(<span class="number">1</span> , <span class="number">1</span> , n);</span><br><span class="line">        <span class="keyword">while</span>(m--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">char</span> c;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">" %c"</span> , &amp;c);</span><br><span class="line">            <span class="keyword">if</span>(c == <span class="string">'P'</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">int</span> l , r , v;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span> , &amp;l , &amp;r , &amp;v);</span><br><span class="line">                update(<span class="number">1</span> , l , r , v);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">int</span> l , r;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d%d"</span> , &amp;l , &amp;r);</span><br><span class="line">                <span class="built_in">bitset</span>&lt;30&gt; ans = query(<span class="number">1</span> , l , r);</span><br><span class="line">                <span class="keyword">bool</span> flag = <span class="literal">true</span>;</span><br><span class="line">                <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">30</span>; ++i , ans&gt;&gt;=<span class="number">1</span>)</span><br><span class="line">                    <span class="keyword">if</span>(ans[<span class="number">0</span>] == <span class="number">1</span>)</span><br><span class="line">                        <span class="keyword">if</span>(flag)</span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">"%d"</span> , i) , flag = <span class="literal">false</span>;</span><br><span class="line">                        <span class="keyword">else</span></span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">" %d"</span> , i);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…ˆæ°´ä¸€é¢˜ï¼Œï¼Œï¼Œä¸‹åˆç»§ç»­QAQ</p><p>(end)</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;æ¦‚è¿°&quot;&gt;æ¦‚è¿°&lt;/h1&gt;
&lt;p&gt;è¿™é“é¢˜å’Œä¸Šæ¬¡åšçš„é‚£é“æŸ“è‰²é—®é¢˜ä¸€æ ·ï¼Œï¼Œï¼Œè¿™æ¬¡ä¸»è¦æ˜¯çœ‹çœ‹æˆ‘å†è¿‡å»ä¸¤ä¸‰å¤©ä¹‹åï¼Œï¼Œå¤§æ¦‚å‡­å€Ÿä»¥å‰çš„è®°å¿†æ•²å‡ºæ¥å¾—å¤šé•¿çš„æ—¶é—´ï¼Œï¼Œï¼Œï¼Œ&lt;/p&gt;
&lt;p&gt;ç»“æœæ˜¯ï¼Œï¼Œï¼Œå¤§ä½“çš„æ¡†æ¶æ²¡é—®é¢˜äº†ï¼Œï¼Œï¼Œï¼Œä¸€éä¸‹æ¥ç¼–è¯‘ä¹Ÿæ²¡é—®é¢˜ï¼Œï¼Œï¼Œä½†æ˜¯ï¼Œï¼Œç»†èŠ‚é—®é¢˜æœ‰ä¸¤ä¸ªï¼Œï¼Œï¼Œ + æ•°ç»„å†™æˆäº†1e6è€Œä¸æ˜¯1e6+10è™½ç„¶å¯¹æœ¬é¢˜æ²¡ä»€ä¹ˆå½±å“ï¼Œï¼Œ + å»ºæ ‘ä¸­çš„åˆå§‹åŒ–æ“ä½œæ—¶æŸ“è‰²åˆå§‹åŒ–ä¸º2ï¼Œï¼Œï¼Œæ‰€ä»¥åº”è¯¥æ˜¯ä»å³å¾€å·¦æ•°çš„ç¬¬äºŒä¸ªbitè®°ä¸º1ï¼Œï¼Œï¼Œç„¶åæˆ‘å°±å°‘ç®—äº†ä¸€ä½ï¼Œï¼Œï¼Œå› ä¸ºbitsetå¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªä»å³å‘å·¦å¹¶ä¸”ä»0å¼€å§‹çš„æ•°ç»„ï¼Œï¼Œæ‰€ä»¥æ˜¯col[1] = 1ï¼Œï¼Œï¼Œè¿™æ ·waäº†ä¸€å‘ + æœ€åä¸€ä¸ªï¼Œï¼Œï¼Œï¼Œè¾“å‡ºæ ¼å¼é”™è¯¯ï¼Œï¼Œï¼Œï¼Œå™—å™—å™—å™—&lt;/p&gt;
    
    </summary>
    
      <category term="ACM-çº¿æ®µæ ‘" scheme="http://www.31415.cf/categories/ACM-%E7%BA%BF%E6%AE%B5%E6%A0%91/"/>
    
    
      <category term="acm" scheme="http://www.31415.cf/tags/acm/"/>
    
      <category term="åˆ·é¢˜" scheme="http://www.31415.cf/tags/%E5%88%B7%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>poj-2777çº¿æ®µæ ‘åˆ·é¢˜</title>
    <link href="http://www.31415.cf/2018/10/16/poj-2777%E7%BA%BF%E6%AE%B5%E6%A0%91%E5%88%B7%E9%A2%98/"/>
    <id>http://www.31415.cf/2018/10/16/poj-2777çº¿æ®µæ ‘åˆ·é¢˜/</id>
    <published>2018-10-16T12:01:07.000Z</published>
    <updated>2018-10-16T13:00:09.573Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1><p><a href="http://poj.org/problem?id=2777" target="_blank" rel="noopener">è¿™é“é¢˜æ˜¯ä¸€é“çº¿æ®µæ ‘çš„æŸ“è‰²é—®é¢˜,,,,</a></p><p>åšäº†å‡ é“æŸ“è‰²çš„é—®é¢˜ï¼Œï¼Œå¥½åƒæ¸æ¸çš„ç†Ÿæ‚‰çš„æŸ“è‰²é—®é¢˜çš„å¤§æ¦‚çš„è§£ä½“æ€è·¯ï¼Œï¼Œï¼Œä¸å†åƒåˆšå¼€å§‹åšçš„æ—¶å€™é‚£æ ·ä¸€è„¸æ‡µé€¼ï¼Œï¼Œï¼Œåªèƒ½å»ç¿»åšå®¢å»çœ‹åˆ«äººçš„æ€è·¯ï¼Œï¼Œï¼Œå¥½æ­¹è¿™æ¬¡æ²¡æœ‰çœ‹åˆ«äººåšå®¢è‡ªå·±å†™å‡ºæ¥ï¼Œï¼Œï¼Œï¼ˆé™¤äº†ä¸€äº›ç»†èŠ‚æ²¡è€ƒè™‘åˆ°waçš„ä¸€å‘ï¼Œï¼Œï¼Œï¼Œé€ƒ</p><a id="more"></a><h1 id="åˆ†æä¸æ€è·¯">åˆ†æä¸æ€è·¯</h1><h2 id="é¢˜é¢">é¢˜é¢</h2><p>å¤§æ¦‚çš„æ„æ€å°±æ˜¯ç»™ä¸€ä¸ªåŒºé—´1~nï¼Œï¼Œï¼Œç„¶åæœ€å¤šæœ‰30ç§é¢œè‰²ï¼Œï¼Œï¼Œqæ¬¡æ“ä½œå¯¹[l,r]è¿™ä¸ªåŒºé—´æŸ“è‰²ï¼Œï¼Œï¼Œä¸­é—´æœ‰ä¸€äº›è¯¢é—®åŒºé—´[l , r]å†…ä¸€å…±æœ‰å‡ ç§é¢œè‰²ï¼Œï¼Œï¼Œ</p><h2 id="åˆ†æ">åˆ†æ</h2><ul><li><p>é¦–å…ˆè€ƒè™‘çº¿æ®µæ ‘æ‰€ç»´æŠ¤çš„ä¸œè¥¿ï¼Œï¼Œï¼ŒæŸ“è‰²é—®é¢˜å¤§å¤šæ˜¯ç»´æŠ¤æ¯ä¸ªåŒºé—´çš„é¢œè‰²ï¼Œï¼Œï¼Œå¯¹äºè¿™é“é¢˜å°±æ˜¯ç»´æŠ¤è¯¥åŒºé—´çš„é¢œè‰²çš„ç§ç±»ï¼Œï¼Œï¼Œç„¶åå¯¹äºæ¯ä¸¤ä¸ªå­åŒºé—´éƒ½è¦å‘ä¸Šåˆå¹¶é¢œè‰²çš„ç§ç±»ï¼Œï¼Œï¼Œï¼Œç›¸åŒçš„å¿½ç•¥ä¸€è¾¹çš„ä¸åŒçš„å°±åŠ ä¸€ï¼Œï¼Œï¼Œæ±‚å‡ºçˆ¶åŒºé—´çš„ç§ç±»æ•°ï¼Œï¼Œï¼Œï¼Œä¹Ÿå°±æ˜¯æ›´æ–°æ“ä½œï¼Œï¼Œï¼Œè¯¢é—®å‘¢å°±æ˜¯å†è¯¢é—®çš„åŒºé—´[L , R]é‡Œçš„è¯ç›´æ¥è¿”æ²ªè¿™ä¸ªåŒºé—´çš„ç§ç±»æ•°ï¼Œï¼Œï¼Œè·¨åŒºé—´çš„é€’å½’ç»§ç»­å‘ä¸‹æŸ¥æ‰¾ï¼Œï¼Œï¼Œ</p></li><li><p>ç„¶åè€ƒè™‘é¢œè‰²ï¼Œï¼Œï¼Œæœ€å¤šä¸€å…±æœ‰30ç§ï¼Œï¼Œï¼Œå¦‚æœæ¯ä¸ªåŒºé—´éƒ½ç”¨ä¸€ä¸ª30é•¿çš„æ•°ç»„col[30]å»å­˜æ”¾æ¯ç§é¢œè‰²çš„ç§ç±»ï¼Œï¼Œcol[i] == 1è¡¨ç¤ºè¿™ä¸ªåŒºé—´æœ‰ç¬¬iç§é¢œè‰²åä¹‹æ²¡æœ‰çš„è¯ï¼Œï¼Œï¼Œç©ºé—´æ¶ˆè€—è¾ƒå¤§ï¼Œï¼Œï¼Œè€Œä¸”ç›¸å…³çš„æ“ä½œä¹Ÿä¸å¥½è¡¨è¾¾ï¼Œï¼Œï¼Œå› ä¸ºæ¯ä¸ªåŒºé—´çš„æ¯ç§é¢œè‰²åªæœ‰ä¸¤ç§æƒ…å†µï¼Œï¼Œï¼Œæœ‰æˆ–æ²¡æœ‰ï¼Œï¼Œï¼Œæ‰€ä»¥é€‰æ‹©çŠ¶æ€å‹ç¼©æ¥å®ç°æ¯”è¾ƒå¥½ï¼Œï¼Œï¼Œè¿™é‡Œæˆ‘æƒ³åˆ°å‰æ®µæ—¶é—´çœ‹åˆ°çš„ä¸€ä¸ªå¾ˆå¥½çš„çŠ¶å‹stl--bitsetï¼Œï¼Œï¼Œä¼˜ç‚¹æœ‰å¾ˆå¤šï¼Œï¼Œï¼Œæ¯”å¦‚è¯´ï¼šä»–å°±åƒboolæ•°ç»„ä¸€æ ·ä½†æ˜¯æ¯ä¸€ä½åªå 1bitï¼Œï¼Œï¼Œè€Œä¸”æœ‰å¾ˆå¤šæˆå‘˜å‡½æ•°å¾ˆæ–¹ä¾¿ï¼Œï¼Œï¼Œå…·ä½“çš„é£Ÿç”¨æ–¹æ³•<a href="https://www.cnblogs.com/RabbitHu/p/bitset.html" target="_blank" rel="noopener">æˆ³è¿™é‡Œ</a></p></li><li><p>å¦ä¸€ä¸ªéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œï¼Œï¼Œçº¿æ®µæ ‘è¦é€‰æ‹©lazyçš„ï¼Œï¼Œï¼Œè¿˜æœ‰ä¸€äº›ç»†èŠ‚ï¼š &gt;åŒºé—´çš„åˆå¹¶éœ€è¦<strong>æˆ–</strong>æ“ä½œï¼Œï¼Œï¼ŒåŒ…æ‹¬æ›´æ–°å’Œè¯¢é—® &gt;åˆå§‹æ—¶æ‰€æœ‰åŒºé—´éƒ½ä¸º1 &gt;å½“æ•´ä¸ªåŒºé—´éƒ½æŸ“è‰²æ—¶æ˜¯å°†è¯¥åŒºé—´çš„node[rt].col<strong>æ”¹</strong>ä¸ºc,,,è€Œä¸æ˜¯æˆ– &gt;è¿˜æœ‰ä¸€ä¸ªæœ€å‘äººçš„ï¼Œï¼Œï¼Œï¼Œé¢˜ç›®ä¸ä¿è¯l &lt;= rï¼Œï¼Œï¼Œï¼ˆpojä¸Šçš„é¢˜éƒ½è¿™æ ·çš„å—ï¼Œï¼Œå™—å™—å™—å™—</p></li></ul><h1 id="ä»£ç ">ä»£ç </h1><p>è¿™æ¬¡åˆå†™æˆnodeç»“æ„ä½“å®ç°çš„äº†ï¼Œï¼Œï¼Œè¿˜æ˜¯å› ä¸ºè¿™ä¸ªç†è§£èµ·æ¥å¾ˆå®¹æ˜“ï¼Œï¼Œï¼Œï¼Œ</p><p>ä½†æ˜¯ç¼ºç‚¹æ˜¯å ç”¨çš„ç©ºé—´æ¯”è¾ƒå¤§ï¼Œï¼Œï¼Œï¼Œ</p><p>ä¸‹æ¬¡å†å†™è¿™é“é¢˜çš„æ—¶å€™è¦æ¢ç”¨å¦ä¸€ç§è£¸çš„äº†QAQ</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bitset&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson rt&lt;&lt;1,l,mid</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson rt&lt;&lt;1|1,mid+1,r</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> aaa cout &lt;&lt; node[rt].col &lt;&lt; endl;</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> l;</span><br><span class="line">    <span class="keyword">int</span> r;</span><br><span class="line">    <span class="keyword">int</span> laz;</span><br><span class="line">    <span class="built_in">bitset</span>&lt;30&gt; col;         <span class="comment">//bitset,,è¡¨ç¤ºè¯¥åŒºé—´çš„é¢œè‰²çš„ç§ç±»</span></span><br><span class="line">&#125;node[maxn &lt;&lt; <span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> l , <span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    node[rt].l = l;</span><br><span class="line">    node[rt].r = r;</span><br><span class="line">    node[rt].laz = <span class="number">0</span>;</span><br><span class="line">    node[rt].col = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(node[rt].l == node[rt].r)</span><br><span class="line">    &#123;</span><br><span class="line">        node[rt].col = <span class="number">1</span>;   <span class="comment">//åˆå§‹åŒ–ä¸º1</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid = (node[rt].l + node[rt].r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    build(lson);</span><br><span class="line">    build(rson);</span><br><span class="line">    node[rt].col = node[rt &lt;&lt; <span class="number">1</span>].col | node[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].col; <span class="comment">//è®°å¾—æ›´æ–°ï¼Œï¼Œç”¨æˆ–</span></span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushdown</span><span class="params">(<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(node[rt].laz)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">bitset</span>&lt;30&gt; t;</span><br><span class="line">        t.<span class="built_in">set</span>(node[rt].laz - <span class="number">1</span>);    <span class="comment">//æ ‡è®°ä¸ºlazé‚£ä¸€ä¸ªé¢œè‰²</span></span><br><span class="line">        node[rt &lt;&lt; <span class="number">1</span>].col = t;      <span class="comment">//ä¸æ˜¯æˆ–æ“ä½œ</span></span><br><span class="line">        node[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].col = t;</span><br><span class="line"></span><br><span class="line">        node[rt &lt;&lt; <span class="number">1</span>].laz = node[rt].laz;</span><br><span class="line">        node[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].laz = node[rt].laz;</span><br><span class="line"></span><br><span class="line">        node[rt].laz = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> L , <span class="keyword">int</span> R , <span class="keyword">int</span> c)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(L &lt;= node[rt].l &amp;&amp; node[rt].r &lt;= R)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">bitset</span>&lt;30&gt; t;</span><br><span class="line">        t.<span class="built_in">set</span>(c - <span class="number">1</span>);</span><br><span class="line">        node[rt].col = t;       <span class="comment">//åŒä¸Š</span></span><br><span class="line">        node[rt].laz = c;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    pushdown(rt);</span><br><span class="line">    <span class="keyword">int</span> mid = (node[rt].l + node[rt].r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(L &lt;= mid)    update(rt &lt;&lt; <span class="number">1</span> , L , R , c);</span><br><span class="line">    <span class="keyword">if</span>(R &gt;  mid)    update(rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span> , L , R , c);</span><br><span class="line">    node[rt].col = node[rt &lt;&lt; <span class="number">1</span>].col | node[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].col;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">bitset</span>&lt;30&gt; query(<span class="keyword">int</span> rt , <span class="keyword">int</span> L , <span class="keyword">int</span> R)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//å¯¹æ¯ä¸¤ä¸ªå­åŒºé—´åˆå¹¶ï¼Œï¼Œï¼ŒåŒæ ·æ˜¯æˆ–æ“ä½œï¼Œï¼Œï¼Œæ‰€ä»¥å‡½æ•°è¿”å›å€¼ç±»å‹ä¸ºbitset&lt;30&gt;</span></span><br><span class="line">    <span class="comment">//æœ€åçš„ç­”æ¡ˆä¸º è¿”å›å€¼.count()</span></span><br><span class="line">    <span class="keyword">if</span>(L &lt;= node[rt].l &amp;&amp; node[rt].r &lt;= R)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> node[rt].col;</span><br><span class="line">    &#125;</span><br><span class="line">    pushdown(rt);</span><br><span class="line">    <span class="keyword">int</span> mid = (node[rt].l + node[rt].r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">bitset</span>&lt;30&gt; ans (<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">if</span>(L &lt;= mid)    ans |= query(rt &lt;&lt; <span class="number">1</span> , L , R);      <span class="comment">//ç”¨æˆ–åˆå¹¶</span></span><br><span class="line">    <span class="keyword">if</span>(R &gt;  mid)    ans |= query(rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span> , L , R);</span><br><span class="line">    <span class="comment">//cout &lt;&lt; ans &lt;&lt; endl;</span></span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n , t , m;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span> , &amp;n , &amp;t , &amp;m) != EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        build(<span class="number">1</span> , <span class="number">1</span> , n);</span><br><span class="line">        <span class="keyword">while</span>(m--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">char</span> q;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">" %c"</span> , &amp;q);</span><br><span class="line">            <span class="keyword">if</span>(q == <span class="string">'C'</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">int</span> l , r , c;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;l , &amp;r , &amp;c);</span><br><span class="line">                <span class="keyword">if</span>(l &gt; r)   swap(l , r);        <span class="comment">//å·¨å‘ï¼ï¼ï¼ï¼</span></span><br><span class="line">                update(<span class="number">1</span> , l , r , c);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">int</span> l , r;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d%d"</span> , &amp;l , &amp;r);</span><br><span class="line">                <span class="keyword">if</span>(l &gt; r)   swap(l , r);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%d\n"</span> , query(<span class="number">1</span> , l , r).count());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æ„Ÿæƒ³">æ„Ÿæƒ³</h1><p>ç®—äº†ä¸è¯´äº†QAQ</p><p>(end)</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;æ¦‚è¿°&quot;&gt;æ¦‚è¿°&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;http://poj.org/problem?id=2777&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;è¿™é“é¢˜æ˜¯ä¸€é“çº¿æ®µæ ‘çš„æŸ“è‰²é—®é¢˜,,,,&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;åšäº†å‡ é“æŸ“è‰²çš„é—®é¢˜ï¼Œï¼Œå¥½åƒæ¸æ¸çš„ç†Ÿæ‚‰çš„æŸ“è‰²é—®é¢˜çš„å¤§æ¦‚çš„è§£ä½“æ€è·¯ï¼Œï¼Œï¼Œä¸å†åƒåˆšå¼€å§‹åšçš„æ—¶å€™é‚£æ ·ä¸€è„¸æ‡µé€¼ï¼Œï¼Œï¼Œåªèƒ½å»ç¿»åšå®¢å»çœ‹åˆ«äººçš„æ€è·¯ï¼Œï¼Œï¼Œå¥½æ­¹è¿™æ¬¡æ²¡æœ‰çœ‹åˆ«äººåšå®¢è‡ªå·±å†™å‡ºæ¥ï¼Œï¼Œï¼Œï¼ˆé™¤äº†ä¸€äº›ç»†èŠ‚æ²¡è€ƒè™‘åˆ°waçš„ä¸€å‘ï¼Œï¼Œï¼Œï¼Œé€ƒ&lt;/p&gt;
    
    </summary>
    
      <category term="ACM-çº¿æ®µæ ‘" scheme="http://www.31415.cf/categories/ACM-%E7%BA%BF%E6%AE%B5%E6%A0%91/"/>
    
    
      <category term="acm" scheme="http://www.31415.cf/tags/acm/"/>
    
      <category term="åˆ·é¢˜" scheme="http://www.31415.cf/tags/%E5%88%B7%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>zoj-1610çº¿æ®µæ ‘åˆ·é¢˜</title>
    <link href="http://www.31415.cf/2018/10/16/zoj-1610%E7%BA%BF%E6%AE%B5%E6%A0%91%E5%88%B7%E9%A2%98/"/>
    <id>http://www.31415.cf/2018/10/16/zoj-1610çº¿æ®µæ ‘åˆ·é¢˜/</id>
    <published>2018-10-16T08:49:47.000Z</published>
    <updated>2018-10-16T13:00:26.177Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1><p><a href="https://vjudge.net/contest/259382#problem/F" target="_blank" rel="noopener">è¿™é“é¢˜æ˜¯ä¸€é“ç®€å•çš„çº¿æ®µæ ‘åŒºé—´æŸ“è‰²é—®é¢˜ï¼Œï¼Œï¼Œ</a></p><p>ä½†æ˜¯ï¼Œï¼Œï¼Œï¼Œåˆšå­¦lazyæ›´æ–°æ²¡å¤šä¹…çš„æˆ‘çœ‹åˆ°è¿™æ ·çš„é¢˜å¿ƒé‡Œè¿˜æ˜¯å‘æ€µï¼Œï¼Œï¼Œ</p><p>æœ¬æ¥æ˜¯ä¸€é“ç®€å•çš„é¢˜ä¸€å¼€å§‹å°±æ˜¯ä¸çŸ¥é“æ€ä¹ˆç”¨çº¿æ®µæ ‘ç»´æŠ¤æŸ“è‰²çš„åŒºé—´ï¼Œï¼Œï¼Œè¿˜æœ‰ä¸€ä¸ªè€æ¯›ç—…ï¼Œï¼Œï¼Œè¿˜æ˜¯ä¸çŸ¥é“æ€ä¹ˆæŠŠé¢˜ç›®é‡Œçš„ä¿¡æ¯æŠ½è±¡å‡ºæ¥ï¼Œï¼Œï¼Œ</p><p>æ˜ç¡®çº¿æ®µæ ‘æ‰€è¦ç»´æŠ¤çš„ä¿¡æ¯ä»¥åŠå¦‚ä½•å¯¹è¿™äº›ä¿¡æ¯å¦‚ä½•æ›´æ–°å’ŒæŸ¥è¯¢ï¼Œï¼Œï¼Œ</p><a id="more"></a><h1 id="æ€è·¯åˆ†æ">æ€è·¯åˆ†æ</h1><ul><li><p>è¿™é“é¢˜å’Œå‰å‡ å¤©åšçš„é‚£é“è´´æµ·æŠ¥çš„é¢˜å¾ˆåƒï¼Œï¼Œï¼Œéƒ½æ˜¯åœ¨ä¸€ä¸ªå¾ˆå¤§çš„åŒºé—´é‡Œè¿›è¡Œè¿ç»­çš„<strong>åŒºé—´è¦†ç›–</strong>æ“ä½œï¼Œï¼Œï¼Œ</p></li><li><p>ç„¶åé—®ä½ æœ€åéœ²å‡ºæ¥çš„é¢œè‰²ã€æµ·æŠ¥æœ‰å‡ ç§ï¼Œï¼Œï¼Œåªä¸è¿‡è¿™é“é¢˜æ˜¯è¦åˆ—å‡ºæ¯ç§é¢œè‰²å‡ºç°äº†å‡ ä¸ªåŒºé—´ï¼Œï¼Œï¼Œ</p></li><li><p>é¦–å…ˆï¼Œï¼Œï¼Œè¿™é“é¢˜æŸ“è‰²æ˜¯åŒºé—´ä¹‹é—´çš„æŸ“è‰²ï¼Œï¼Œï¼Œå°±æ˜¯è¯´&quot;1 2 1&quot;æ˜¯æŒ‡åœ¨1 ï¼Œ 2è¿™ä¸ªé•¿åº¦åªæœ‰1çš„åŒºé—´é‡ŒæŸ“è‰²æˆé¢œè‰²1ï¼Œï¼Œï¼Œè€Œé‚£é“æµ·æŠ¥çš„é¢˜æ˜¯æŒ‡1 ï¼Œ 2è¿™ä¸¤ä¸ªå—è´´ä¸Šæµ·æŠ¥ï¼Œï¼Œï¼Œï¼Œè¿™å°±æ„å‘³ç€æˆ‘ä»¬ç”¨çº¿æ®µæ ‘æ¥ç»´æŠ¤æŸ“è‰²æ“ä½œæ—¶è¦å°†æ‰€ç»™çš„å·¦ç«¯ç‚¹åŠ ä¸€ï¼Œï¼Œ</p></li><li><p>å…¨éƒ¨æŸ“è‰²å®Œäº†(æ›´æ–°)ä¹‹åï¼Œï¼Œï¼Œå°±æ˜¯å¯¹æ•´ä¸ªåŒºåŸŸæŸ¥è¯¢ï¼Œï¼Œï¼Œç„¶åæŠŠæœ‰é¢œè‰²è¦†ç›–çš„åŒºåŸŸéƒ½ä¿å­˜åˆ°å¦ä¸€ä¸ªæ•°ç»„é‡Œï¼Œï¼Œï¼Œä¹Ÿå°±æ˜¯æœ€åæŸ“è‰²åçš„åŒºåŸŸï¼Œï¼Œï¼Œç„¶åéå†è¿™ä¸ªåŒºåŸŸï¼Œï¼Œï¼Œæ•°å‡ºå¯¹åº”çš„é¢œè‰²çš„ä¸ªæ•°å°±è¡Œäº†ï¼Œï¼Œï¼Œ</p></li><li><p>æ›´æ–°æ—¶ç”¨åˆ°äº†lazyæ“ä½œ</p></li></ul><p><a href="https://blog.csdn.net/shuangde800/article/details/8186332" target="_blank" rel="noopener">å‚è€ƒ</a></p><h1 id="ä»£ç ">ä»£ç </h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson rt&lt;&lt;1,l,mid</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson rt&lt;&lt;1|1,mid+1,r</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> aaa cout&lt;&lt;<span class="meta-string">"2333"</span>&lt;&lt;endl;</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">8005</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> col[maxn &lt;&lt; <span class="number">2</span>];</span><br><span class="line"><span class="keyword">int</span> vis[maxn &lt;&lt; <span class="number">2</span>];</span><br><span class="line"><span class="keyword">int</span> ans[maxn &lt;&lt; <span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushdown</span><span class="params">(<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(~col[rt])</span><br><span class="line">    &#123;</span><br><span class="line">        col[rt &lt;&lt; <span class="number">1</span>] = col[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>] = col[rt];</span><br><span class="line">        col[rt] = <span class="number">-1</span>;<span class="comment">//çˆ¶èŠ‚ç‚¹æœ‰å¤šç§æŸ“è‰²æ ‡è®°ä¸º-1</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> l , <span class="keyword">int</span> r , <span class="keyword">int</span> L , <span class="keyword">int</span> R , <span class="keyword">int</span> val)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(L &lt;= l &amp;&amp; r &lt;= R)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//å½“è¯¥åŒºé—´åœ¨æ‰€è¦æŸ“è‰²çš„åŒºé—´é‡Œæ—¶æŸ“è‰²</span></span><br><span class="line">        col[rt] = val;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(col[rt] == val)  <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(~col[rt])        <span class="comment">//æŸ“è¿‡è‰²åˆè¦æŸ“å…¶ä»–é¢œè‰²æ—¶ä¸‹æ¨</span></span><br><span class="line">        pushdown(rt);</span><br><span class="line">    <span class="keyword">if</span>(L &lt;= mid)    update(lson , L , R , val);</span><br><span class="line">    <span class="keyword">if</span>(R &gt;  mid)    update(rson , L , R , val);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> l , <span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(col[rt] &gt;= <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//æŠŠå­˜åœ¨çš„é¢œè‰²ä¿å­˜åˆ°visæ•°ç»„é‡Œ</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = l; i &lt;= r; ++i)</span><br><span class="line">            vis[i] = col[rt];</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(col[rt] == <span class="number">-1</span> &amp;&amp; l != r)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//å·²ç»ä¿å­˜çš„åŒºé—´å°±ä¸å†æŸ¥è¯¢äº†</span></span><br><span class="line">        <span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">        query(lson);</span><br><span class="line">        query(rson);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;n) != EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//åˆå§‹åŒ–æ“ä½œï¼Œï¼Œï¼Œæ— éœ€å†å»ºæ ‘</span></span><br><span class="line">        <span class="built_in">memset</span>(col , <span class="number">-1</span> , <span class="keyword">sizeof</span>(col));</span><br><span class="line">        <span class="built_in">memset</span>(vis , <span class="number">-1</span> , <span class="keyword">sizeof</span>(vis));</span><br><span class="line">        <span class="built_in">memset</span>(ans , <span class="number">0</span> , <span class="keyword">sizeof</span>(ans));</span><br><span class="line">        <span class="keyword">int</span> a , b , c;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span> , &amp;a , &amp;b , &amp;c);</span><br><span class="line">            update(<span class="number">1</span> , <span class="number">1</span> , <span class="number">8000</span> , a + <span class="number">1</span> , b , c);<span class="comment">//å·¦ç«¯ç‚¹++</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        query(<span class="number">1</span> , <span class="number">1</span> , <span class="number">8000</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ•°å‡ºæ¯ä¸ªé¢œè‰²çš„ä¸ªæ•°</span></span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(i &lt; maxn)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> color = vis[i];</span><br><span class="line">            <span class="keyword">int</span> j = i + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(color == <span class="number">-1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                ++i;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span>(~vis[j] &amp;&amp; vis[j] == color &amp;&amp; j &lt; maxn)   ++j;</span><br><span class="line">            ++ans[color];</span><br><span class="line">            i = j;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; maxn; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(ans[i])  <span class="comment">//é¢œè‰²å­˜åœ¨è¾“å‡º</span></span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%d %d\n"</span> , i , ans[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æ€»ç»“">æ€»ç»“</h1><ul><li>è¿˜æ˜¯ä¸èƒ½æ‰¾ä¸å‡ºç»´æŠ¤çš„ä¿¡æ¯ä»¥åŠå¦‚ä½•æŸ¥è¯¢</li><li>æŸ“è‰²é—®é¢˜æ˜¯çº¿æ®µæ ‘çš„åŒºé—´è¦†ç›–é—®é¢˜ï¼Œï¼Œï¼ŒèŠ‚ç‚¹ä¸€èˆ¬ä¿å­˜é¢œè‰²ä¿¡æ¯</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;æ¦‚è¿°&quot;&gt;æ¦‚è¿°&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://vjudge.net/contest/259382#problem/F&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;è¿™é“é¢˜æ˜¯ä¸€é“ç®€å•çš„çº¿æ®µæ ‘åŒºé—´æŸ“è‰²é—®é¢˜ï¼Œï¼Œï¼Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œï¼Œï¼Œï¼Œåˆšå­¦lazyæ›´æ–°æ²¡å¤šä¹…çš„æˆ‘çœ‹åˆ°è¿™æ ·çš„é¢˜å¿ƒé‡Œè¿˜æ˜¯å‘æ€µï¼Œï¼Œï¼Œ&lt;/p&gt;
&lt;p&gt;æœ¬æ¥æ˜¯ä¸€é“ç®€å•çš„é¢˜ä¸€å¼€å§‹å°±æ˜¯ä¸çŸ¥é“æ€ä¹ˆç”¨çº¿æ®µæ ‘ç»´æŠ¤æŸ“è‰²çš„åŒºé—´ï¼Œï¼Œï¼Œè¿˜æœ‰ä¸€ä¸ªè€æ¯›ç—…ï¼Œï¼Œï¼Œè¿˜æ˜¯ä¸çŸ¥é“æ€ä¹ˆæŠŠé¢˜ç›®é‡Œçš„ä¿¡æ¯æŠ½è±¡å‡ºæ¥ï¼Œï¼Œï¼Œ&lt;/p&gt;
&lt;p&gt;æ˜ç¡®çº¿æ®µæ ‘æ‰€è¦ç»´æŠ¤çš„ä¿¡æ¯ä»¥åŠå¦‚ä½•å¯¹è¿™äº›ä¿¡æ¯å¦‚ä½•æ›´æ–°å’ŒæŸ¥è¯¢ï¼Œï¼Œï¼Œ&lt;/p&gt;
    
    </summary>
    
      <category term="ACM-çº¿æ®µæ ‘" scheme="http://www.31415.cf/categories/ACM-%E7%BA%BF%E6%AE%B5%E6%A0%91/"/>
    
    
      <category term="acm" scheme="http://www.31415.cf/tags/acm/"/>
    
      <category term="åˆ·é¢˜" scheme="http://www.31415.cf/tags/%E5%88%B7%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>poj-3268æœ€çŸ­è·¯</title>
    <link href="http://www.31415.cf/2018/10/13/poj-3268%E6%9C%80%E7%9F%AD%E8%B7%AF/"/>
    <id>http://www.31415.cf/2018/10/13/poj-3268æœ€çŸ­è·¯/</id>
    <published>2018-10-13T07:54:34.000Z</published>
    <updated>2018-10-13T08:19:54.957Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1><p>è¿™æ˜¯ä¸€é“æœ€çŸ­è·¯çš„æ¨¡æ¿é¢˜ï¼Œï¼Œï¼Œä¸è¿‡è™½ç„¶æ˜¯æ¨¡æ¿é¢˜ï¼Œï¼Œï¼Œè¿˜æ˜¯æœ‰ä¸€äº›ç»†èŠ‚çš„ï¼Œï¼Œï¼Œï¼ŒQAQ</p><p>åˆšå¼€å§‹æˆ‘çš„æ€è·¯æ˜¯å»ºç«‹ä¸€ä¸ªæ±‡ç‚¹ï¼Œï¼Œï¼Œç„¶åæ±‚è¿™ä¸ªç‚¹ä¸ºèµ·ç‚¹åˆ°ç»ˆç‚¹xçš„æœ€çŸ­è·¯ï¼Œï¼Œï¼Œå†æ±‚ç»ˆç‚¹åˆ°æ±‡ç‚¹çš„æœ€çŸ­è·¯ï¼Œï¼Œï¼Œæœ€åæ‰¾ä¸€ä¸ªå’Œæœ€å¤§çš„ï¼Œï¼Œï¼Œï¼Œè¿™ä¹ˆæƒ³æ˜¯å› ä¸ºå’Œä¹‹å‰åšçš„ä¸€é“é¢˜å¾ˆåƒï¼Œï¼Œï¼Œä½†åƒå½’åƒï¼Œï¼Œï¼Œç»ˆç©¶ä¸ä¸€æ ·çš„ï¼Œï¼Œï¼Œï¼Œè¿™æ ·è¿˜æ˜¯æ±‚ä¸å‡ºæœ€åçš„ç»“æœï¼Œï¼Œï¼Œå› ä¸ºå³ä½¿æ±‚å‡ºæ±‡ç‚¹åˆ°ç»ˆç‚¹çš„æœ€çŸ­è·¯ï¼Œï¼Œï¼Œä½†å¹¶ä¸æ˜¯æ¯ä¸ªç‚¹åˆ°ç»ˆç‚¹çš„æœ€çŸ­è·¯ï¼Œï¼Œï¼ŒQAQ</p><a id="more"></a><h1 id="åˆ†ææ€è·¯">åˆ†ææ€è·¯</h1><p>é¦–å…ˆç¡®å®šæ˜¯å•å…ƒæœ€çŸ­è·¯æœ‰å…³çš„é¢˜ï¼Œï¼Œï¼Œè€Œä¸”é¢˜ç›®ä¿è¯æ­£è¾¹ï¼Œï¼Œï¼Œæ‰€ä»¥é€‰æ‹©dijkstraè§£å†³ï¼Œï¼Œï¼Œ</p><p>å…¶æ¬¡ï¼Œï¼Œï¼Œæˆ‘ä¹‹å‰å¥½åƒè¿˜æ˜¯å•æºæœ€çŸ­è·¯çš„ç†è§£ä¸å¤Ÿæ¸…æ¥šï¼Œï¼Œï¼Œ</p><p><strong>å•æºæœ€çŸ­è·¯ä¸€ä¸ªæœ€ä¸»è¦çš„æ€§è´¨å°±æ˜¯æ‰€é€‰èµ·ç‚¹åˆ°ä»»æ„ä¸€ç‚¹çš„æœ€çŸ­è·¯éƒ½å¯ä»¥æ±‚å‡ºæ¥</strong></p><p>è¿™é“é¢˜åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œï¼Œä¸€éƒ¨åˆ†æ˜¯æ‰€æœ‰ç‚¹åˆ°ç»ˆç‚¹xçš„æœ€çŸ­è·¯ï¼Œï¼Œï¼Œå¦ä¸€ä¸ªæ˜¯ç»ˆç‚¹åˆ°æ‰€æœ‰ç‚¹çš„æœ€çŸ­è·¯ï¼Œï¼Œï¼Œ</p><p>æ˜¾ç„¶åä¸€éƒ¨åˆ†å¯ä»¥ç›´æ¥è°ƒç”¨ä¸€æ¬¡dijkstraä¾¿å¯ä»¥æ±‚å‡ºï¼Œï¼Œï¼Œ</p><p>è€Œå‰è€…å¯ä»¥è€ƒè™‘åæ–¹å‘ï¼Œï¼Œï¼Œæ‰€æœ‰ç‚¹åˆ°ç»ˆç‚¹çš„æœ€çŸ­è·¯å°±ç›¸å½“äº<strong>æ²¿ç›¸åŒçš„æœ€çŸ­è·¯ä» ç»ˆç‚¹x åˆ° æ¯ä¸ªç‚¹ çš„æœ€çŸ­è·¯</strong>ï¼Œï¼Œï¼Œè¿™ä¸ªç›¸åŒçš„æœ€çŸ­è·¯å°±æ˜¯æŒ‡ï¼šå‡å¦‚1åˆ°3çš„æœ€çŸ­è·¯æ˜¯1-&gt;4-&gt;3é‚£ä¹ˆä»–å°±ç­‰åŒäº3-&gt;4-&gt;1ï¼Œï¼Œï¼Œæ‰€ä»¥å†æ±‚å‰ä¸€éƒ¨åˆ†å°±å¯ä»¥å°†å›¾ä¸­çš„æ¯ä¸€æ¡è·¯çš„æ–¹å‘éƒ½å–åæ–¹å‘ï¼Œï¼Œï¼Œä¹Ÿå°±æ˜¯é€†å›¾ï¼Œï¼Œï¼Œè¿™æ ·ä¸€ç»ˆç‚¹xä¸ºèµ·ç‚¹åˆ°å„ç‚¹çš„æœ€çŸ­è·¯å°±ç­‰äºå„ç‚¹åˆ°ç»ˆç‚¹xçš„æœ€çŸ­è·¯ï¼Œï¼Œï¼Œ</p><p>æ‰€ä»¥ä¸ºäº†å®ç°é€†å›¾é€‰æ‹© <strong>é‚»æ¥çŸ©é˜µ</strong> è¦æ¯”å…¶ä»–æ–¹å¼çš„å­˜å›¾è¦å¥½ä¸€äº›ï¼Œï¼Œï¼Œ</p><h1 id="å®ç°">å®ç°</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e3</span> + <span class="number">10</span>;</span><br><span class="line"><span class="comment">//const int maxm = 1e5 + 10;</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> inf = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> cost[maxn][maxn];</span><br><span class="line"><span class="keyword">bool</span> vis[maxn];</span><br><span class="line"><span class="keyword">int</span> dis1[maxn];</span><br><span class="line"><span class="keyword">int</span> dis2[maxn];</span><br><span class="line"><span class="keyword">int</span> cnt;</span><br><span class="line"><span class="keyword">int</span> n , m , x;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dijkstra</span><span class="params">(<span class="keyword">int</span> n , <span class="keyword">int</span> s , <span class="keyword">int</span> dis[] , <span class="keyword">int</span> cost[][maxn])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//init</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">        dis[i] = (i == s) ? <span class="number">0</span> : inf;</span><br><span class="line">    <span class="built_in">memset</span>(vis , <span class="literal">false</span> , <span class="keyword">sizeof</span>(vis));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> k = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">int</span> m = inf;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; ++j)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(!vis[j] &amp;&amp; dis[j] &lt; m)</span><br><span class="line">            &#123;</span><br><span class="line">                m = dis[j];</span><br><span class="line">                k = j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(k == <span class="number">-1</span>) <span class="keyword">break</span>;</span><br><span class="line">        vis[k] = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; ++j)</span><br><span class="line">            <span class="keyword">if</span>(!vis[j] &amp;&amp; dis[k] + cost[k][j] &lt; dis[j])</span><br><span class="line">                dis[j] = dis[k] + cost[k][j];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> u , v , w;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span> , &amp;n , &amp;m , &amp;x) != EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; ++j)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(i == j)  cost[i][j] = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">else</span>        cost[i][j] = inf;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span> , &amp;u , &amp;v , &amp;w);</span><br><span class="line">            cost[u][v] = min(cost[u][v] , w);</span><br><span class="line">        &#125;</span><br><span class="line">        dijkstra(n , x , dis1 , cost);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; i; ++j)</span><br><span class="line">                swap(cost[i][j] , cost[j][i]);</span><br><span class="line">        dijkstra(n , x , dis2 , cost);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">            ans = max(ans , dis1[i] + dis2[i]);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span> , ans);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>(end)</p><p>ä»€ä¹ˆæ—¶å€™æ‰èƒ½çœŸæ­£çš„æ„Ÿè§‰è¿™æ‰æ˜¯æ°´é¢˜å•Šï¼Œï¼Œï¼ŒQAQ</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;æ¦‚è¿°&quot;&gt;æ¦‚è¿°&lt;/h1&gt;
&lt;p&gt;è¿™æ˜¯ä¸€é“æœ€çŸ­è·¯çš„æ¨¡æ¿é¢˜ï¼Œï¼Œï¼Œä¸è¿‡è™½ç„¶æ˜¯æ¨¡æ¿é¢˜ï¼Œï¼Œï¼Œè¿˜æ˜¯æœ‰ä¸€äº›ç»†èŠ‚çš„ï¼Œï¼Œï¼Œï¼ŒQAQ&lt;/p&gt;
&lt;p&gt;åˆšå¼€å§‹æˆ‘çš„æ€è·¯æ˜¯å»ºç«‹ä¸€ä¸ªæ±‡ç‚¹ï¼Œï¼Œï¼Œç„¶åæ±‚è¿™ä¸ªç‚¹ä¸ºèµ·ç‚¹åˆ°ç»ˆç‚¹xçš„æœ€çŸ­è·¯ï¼Œï¼Œï¼Œå†æ±‚ç»ˆç‚¹åˆ°æ±‡ç‚¹çš„æœ€çŸ­è·¯ï¼Œï¼Œï¼Œæœ€åæ‰¾ä¸€ä¸ªå’Œæœ€å¤§çš„ï¼Œï¼Œï¼Œï¼Œè¿™ä¹ˆæƒ³æ˜¯å› ä¸ºå’Œä¹‹å‰åšçš„ä¸€é“é¢˜å¾ˆåƒï¼Œï¼Œï¼Œä½†åƒå½’åƒï¼Œï¼Œï¼Œç»ˆç©¶ä¸ä¸€æ ·çš„ï¼Œï¼Œï¼Œï¼Œè¿™æ ·è¿˜æ˜¯æ±‚ä¸å‡ºæœ€åçš„ç»“æœï¼Œï¼Œï¼Œå› ä¸ºå³ä½¿æ±‚å‡ºæ±‡ç‚¹åˆ°ç»ˆç‚¹çš„æœ€çŸ­è·¯ï¼Œï¼Œï¼Œä½†å¹¶ä¸æ˜¯æ¯ä¸ªç‚¹åˆ°ç»ˆç‚¹çš„æœ€çŸ­è·¯ï¼Œï¼Œï¼ŒQAQ&lt;/p&gt;
    
    </summary>
    
      <category term="ACM-æœ€çŸ­è·¯" scheme="http://www.31415.cf/categories/ACM-%E6%9C%80%E7%9F%AD%E8%B7%AF/"/>
    
    
      <category term="acm" scheme="http://www.31415.cf/tags/acm/"/>
    
      <category term="åˆ·é¢˜" scheme="http://www.31415.cf/tags/%E5%88%B7%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>poj-2528çº¿æ®µæ ‘ç»ƒä¹ </title>
    <link href="http://www.31415.cf/2018/10/13/poj-2528%E7%BA%BF%E6%AE%B5%E6%A0%91%E7%BB%83%E4%B9%A0/"/>
    <id>http://www.31415.cf/2018/10/13/poj-2528çº¿æ®µæ ‘ç»ƒä¹ /</id>
    <published>2018-10-13T05:45:09.000Z</published>
    <updated>2018-10-13T06:21:29.566Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1><p><a href="http://poj.org/problem?id=2528" target="_blank" rel="noopener">è¿™é“é¢˜å‘äº†æˆ‘å¥½ä¹…å•Šå•Šå•Šå•Šï¼Œï¼Œï¼Œï¼Œ</a></p><p>åˆ°ç°åœ¨ä¹Ÿåªæ˜¯ç†è§£äº†kaungbinçš„ä»£ç ï¼Œï¼Œï¼ŒçŸ¥é“æ¯ä¸€æ­¥åšä»€ä¹ˆï¼Œï¼Œï¼Œä½†æ„Ÿè§‰å°±æ˜¯å“ªé‡Œæœ‰äº›ä¸å¯¹åŠ²çš„æ ·å­ï¼Œï¼Œï¼Œï¼Œ</p><p>è¿™é“é¢˜æœ‰ä¸¤ä¸ªç‚¹æ˜¯æˆ‘æ„Ÿè§‰å¾ˆé‡è¦çš„ï¼Œï¼Œï¼Œä¸€ä¸ªæ˜¯æ•°æ®çš„ç¦»æ•£åŒ–ï¼Œï¼Œï¼Œå¦ä¸€ä¸ªæ˜¯çº¿æ®µæ ‘çš„å˜å½¢ï¼Œï¼Œï¼Œä¹Ÿå°±æ˜¯å®ƒæ‰€ç»´æŠ¤çš„ä¸œè¥¿å’Œä¹‹å‰è§è¿‡çš„ä¸ä¸€æ ·äº†ï¼Œï¼Œï¼Œï¼Œ</p><a id="more"></a><h1 id="åˆ†ææ€è·¯">åˆ†ææ€è·¯</h1><p>é¢˜æ„æ˜¯è¿™æ ·çš„ï¼Œï¼Œï¼Œåœ¨ä¸€ä¸ªå¾ˆå¤§çš„åŒºé—´é‡Œï¼Œï¼Œï¼Œä¸åœçš„ç»™æ¯ä¸€ä¸ªåŒºé—´è¦†ç›–æµ·æŠ¥ï¼Œï¼Œï¼Œæ¯ä¸ªè¦†ç›–çš„æµ·æŠ¥æ˜¯ä¸ä¸€æ ·çš„ï¼Œï¼Œç„¶åé—®ä½ æœ€åä¸€å…±æœ‰å‡ ä¸ªæµ·æŠ¥æ˜¯éœ²å‡ºæ¥çš„ï¼Œï¼Œï¼Œ</p><p>å¤§ä½“ä¸Šçš„æ€è·¯æ˜¯ä¸æ‰€ç»™è´´æµ·æŠ¥ç›¸åçš„é¡ºåºè´´æµ·æŠ¥ï¼Œï¼Œï¼Œè¿™æ ·çš„è¯ç¬¬ä¸€å¼ ï¼ˆä¹Ÿå°±æ˜¯åŸæ¥é¡ºåºçš„æœ€åä¸€å¼ ï¼‰ä¸€å®šæ˜¯å…¨éœ²å‡ºæ¥çš„ï¼Œï¼Œç„¶åç¬¬äºŒå¼ ï¼ˆä¹Ÿå°±æ˜¯åŸæ¥é¡ºåºçš„å€’æ•°ç¬¬äºŒå¼ ï¼‰<strong>å¦‚æœæ˜¯åœ¨ç¬¬ä¸€å¼ çš„åŒºé—´é‡Œè¯´æ˜å®ƒå°±è¢«å®Œå…¨è¦†ç›–äº†ï¼Œï¼Œå¦‚æœæ˜¯åœ¨ç¬¬ä¸€å¼ ä»¥å¤–çš„å…¶ä»–åœ°æ–¹ï¼Œï¼Œï¼Œå°±è¯´æ˜è¿™å¼ ä¹Ÿä¸€å®šæ˜¯éœ²å‡ºæ¥çš„ï¼Œï¼Œï¼Œä»¥æ­¤ç±»æ¨</strong>ï¼Œï¼Œå¯¹äºæ¯ä¸€æ¬¡åˆ¤æ–­å‡ºæ˜¯éœ²å‡ºæ¥çš„++ansï¼Œï¼Œï¼Œæœ€ç»ˆå…¨å¤„ç†äº†å°±å¾—åˆ°äº†ç­”æ¡ˆï¼Œï¼Œï¼Œæ•°æ®è¦ç¦»æ•£åå†ç”¨ï¼Œï¼Œï¼Œ</p><p>å¯ä»¥çœ‹å‡ºè¿™æ ·çš„å†™æ³•ä¸­çº¿æ®µæ ‘åªæ˜¯ç”¨æ¥åˆ¤æ–­æ¯ä¸€æ¬¡çš„è´´æµ·æŠ¥ï¼Œï¼Œï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œï¼Œï¼Œçº¿æ®µæ ‘åªæ˜¯ç”¨æ¥ç»´æŠ¤æ¯ä¸€ä¸ªåŒºé—´æ˜¯å¦è¢«è¦†ç›–ï¼ˆæ›´æ–°ï¼‰ï¼Œï¼Œï¼ŒåŒæ—¶è¿”å›æ‰€è¦è¦†ç›–çš„åŒºé—´æ˜¯å¦æœ‰éœ²å‡ºæ¥çš„ï¼ˆæŸ¥è¯¢ï¼‰ï¼Œï¼Œï¼Œæ‰€ä»¥æ›´æ–°å’ŒæŸ¥è¯¢çš„æ“ä½œå¯ä»¥åˆå¹¶åœ¨ä¸€èµ·ï¼Œï¼Œï¼Œï¼Œ</p><h1 id="å®ç°">å®ç°</h1><h2 id="æ•°æ®çš„ç¦»æ•£åŒ–">æ•°æ®çš„ç¦»æ•£åŒ–</h2><p>å…ˆè¯´ä¸€ä¸‹ç¦»æ•£æ€ä¹ˆå®ç°:</p><p>é¦–å…ˆåŸæ•°æ®ä¿å­˜åˆ°x[maxn]æ•°ç»„ï¼Œï¼Œï¼Œ</p><p>ç„¶åæŠŠæ‰€æœ‰çš„æ•°æ®å¤åˆ¶åˆ°å¦ä¸€ä¸ªæ•°ç»„a[maxn]ï¼Œï¼Œï¼Œ</p><p>å¯¹å…¶æ’åºï¼Œï¼Œï¼Œ</p><p>å»é‡ï¼Œï¼Œï¼Œ</p><p>ç„¶åå¯¹å»é‡çš„æ•°ç»„a[maxn]éå†è¿›è¡Œç¦»æ•£ï¼Œï¼Œï¼Œ</p><p>è¿™æ ·æƒ³è¦çŸ¥é“çŸ¥é“åŸæ¥æ•°æ®ä¸­xæ‰€å¯¹åº”ç¦»æ•£åçš„ä½ç½®å°±ä¸ºhash[x]ï¼Œï¼Œï¼Œ</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sort(a , a + count);</span><br><span class="line">count = unique(a , a + count) - a;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; count; ++i)</span><br><span class="line">    hash[a[i]] = i;</span><br></pre></td></tr></table></figure><h2 id="æœ€åçš„ä»£ç ">æœ€åçš„ä»£ç </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson rt&lt;&lt;1,l,mid</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson rt&lt;&lt;1|1,mid+1,r</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> l;</span><br><span class="line">    <span class="keyword">int</span> r;</span><br><span class="line">    <span class="keyword">bool</span> cov;       <span class="comment">//è¡¨ç¤ºè¿™ä¸ªèŠ‚ç‚¹æ‰€ä»£è¡¨çš„åŒºé—´æ˜¯å¦è¢«è¦†ç›–</span></span><br><span class="line">&#125;node[maxn &lt;&lt; <span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">poster</span>       //è¡¨ç¤ºæµ·æŠ¥çš„ç»“æ„ä½“</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> l;</span><br><span class="line">    <span class="keyword">int</span> r;</span><br><span class="line">&#125;poster[maxn &lt;&lt; <span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> l , <span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    node[rt].l = l;</span><br><span class="line">    node[rt].r = r;</span><br><span class="line">    node[rt].cov = <span class="literal">false</span>;   <span class="comment">//æ¯ä¸€ä¸ªåŒºé—´åˆå§‹åŒ–ä¸ºæœªè¦†ç›–</span></span><br><span class="line">    <span class="keyword">if</span>(l == r)  <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    build(lson);</span><br><span class="line">    build(rson);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">post</span><span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> l , <span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//å½“å‰èŠ‚ç‚¹ï¼Œæ‰€è¦è¦†ç›–çš„é¢åŒºé—´[l , r]</span></span><br><span class="line">    <span class="keyword">if</span>(node[rt].cov)    <span class="keyword">return</span> <span class="literal">false</span>;                   <span class="comment">//è‹¥è¿™ä¸ªåŒºé—´å·²ç»è¢«è¦†ç›–ç›´æ¥è¿”å›</span></span><br><span class="line">    <span class="keyword">if</span>(node[rt].l == l &amp;&amp; node[rt].r == r)</span><br><span class="line">    &#123;</span><br><span class="line">        node[rt].cov = <span class="literal">true</span>;                            <span class="comment">//æœªè¦†ç›–çš„å‰æä¸‹æ‰¾åˆ°æ•´ä¸ªåŒºé—´æ—¶</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">bool</span> res;</span><br><span class="line">    <span class="keyword">int</span> mid = (node[rt].l + node[rt].r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(r &lt;= mid)    res = post(rt &lt;&lt; <span class="number">1</span> , l , r);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(l &gt; mid)res = post(rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span> , l , r);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">bool</span> r1 = post(rt &lt;&lt; <span class="number">1</span> , l , mid);</span><br><span class="line">        <span class="keyword">bool</span> r2 = post(rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span> , mid + <span class="number">1</span> , r);</span><br><span class="line">        res = r1 || r2;                                 <span class="comment">//å½“è·¨ä¸¤ä¸ªåŒºé—´æ—¶ï¼Œï¼Œï¼Œè¦åˆ†åˆ«åˆ¤æ–­æ˜¯å¦éƒ½æ˜¯è¢«è¦†ç›–çš„ï¼Œï¼Œæœ‰ä¸€ä¸ªæ²¡è¦†ç›–å³éœ²å‡ºå°±è¯´æ˜è¿™ä¸ªåŒºé—´æœ‰éœ²å‡ºçš„</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(node[rt &lt;&lt; <span class="number">1</span>].cov &amp;&amp; node[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>].cov)      <span class="comment">//ä¸¤ä¸ªå­åŒºé—´éƒ½éœ²å‡ºçˆ¶èŠ‚ç‚¹ä¹Ÿæ˜¯éœ²å‡º</span></span><br><span class="line">        node[rt].cov = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> a[maxn];</span><br><span class="line"><span class="keyword">int</span> hash[<span class="number">10000010</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> T;<span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;T);</span><br><span class="line">    <span class="keyword">while</span>(T--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> n;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;n);</span><br><span class="line">        <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d"</span> , &amp;poster[i].l , &amp;poster[i].r);</span><br><span class="line">            a[count++] = poster[i].l;</span><br><span class="line">            a[count++] = poster[i].r;</span><br><span class="line">            <span class="comment">//ç›¸é‚»å­˜ç‚¹</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//ç¦»æ•£</span></span><br><span class="line">        sort(a , a + count);</span><br><span class="line">        count = unique(a , a + count) - a;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; count; ++i)</span><br><span class="line">            hash[a[i]] = i;</span><br><span class="line"></span><br><span class="line">        build(<span class="number">1</span> , <span class="number">0</span> , count - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = n - <span class="number">1</span>; i &gt;= <span class="number">0</span>; --i)             <span class="comment">//åç€éå†ï¼Œï¼Œæœ‰éœ²å‡ºçš„å°±å¢ä¸€</span></span><br><span class="line">            <span class="keyword">if</span>(post(<span class="number">1</span> , hash[poster[i].l] , hash[poster[i].r]))</span><br><span class="line">                ++ans;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span> , ans);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¸€ä¸ªç¼ºç‚¹ï¼Œï¼Œï¼Œè¿™æ ·å•çº¯çš„ç¦»æ•£æ•°æ®ä¼šå‡ºé”™ï¼Œï¼Œï¼Œåƒè¿™ä¸€ç»„ï¼Œï¼Œï¼Œ</span></span><br><span class="line"><span class="comment">//ä½†æ˜¯pojä¸Šæ²¡æœ‰è€ƒè™‘è¿™ç§æƒ…å†µï¼Œï¼Œï¼Œï¼Œåº”è¯¥æ˜¯æ ‡ç¨‹çš„ç¦»æ•£ä¹Ÿæ˜¯è¿™æ ·æŠŠï¼Œï¼Œï¼Œï¼Œï¼Œï¼Œ</span></span><br><span class="line"><span class="comment">//3</span></span><br><span class="line"><span class="comment">//1 10</span></span><br><span class="line"><span class="comment">//1 3</span></span><br><span class="line"><span class="comment">//6 10</span></span><br><span class="line"><span class="comment">//2</span></span><br><span class="line"><span class="comment">//åº”è¯¥æ˜¯3</span></span><br></pre></td></tr></table></figure><h1 id="æ€»ç»“">æ€»ç»“</h1><ul><li><p>æš‘å‡æ—¶æ¥è§¦è¿‡ä¸€æ¬¡æ•°æ®çš„ç¦»æ•£åŒ–ï¼Œï¼Œï¼Œä½†æ˜¯å½“æ—¶åªæ˜¯ä¼šç”¨å°±è¡Œï¼Œï¼Œï¼Œæœ€ç»ˆè¿˜æ˜¯å¿˜è®°äº†ï¼Œï¼Œï¼ŒåªçŸ¥é“è¿™æ ·ä¸€ä¸ªåè¯ï¼Œï¼Œï¼Œè¿™æ¬¡èŠ±äº†ç‚¹æ—¶é—´è®°å¿†äº†ä¸€ä¸‹ï¼Œï¼Œï¼Œä½†æ˜¯è¿˜æ˜¯æ²¡æœ‰ä»”ç»†æ·±å…¥çš„çœ‹çœ‹ï¼Œï¼Œï¼Œå› ä¸ºä»¥å‰çœ‹åˆ°çš„ç¦»æ•£åŒ–æ—¶ç”¨çš„lower_bound()ï¼Œï¼Œï¼Œï¼Œè€Œä¸”æ“ä½œæ›´åŠ çš„å¤æ‚ï¼Œï¼Œï¼Œè¿‡ä¸€æ®µæ—¶é—´å†çœ‹çœ‹æŠŠï¼Œï¼Œï¼Œï¼Œ</p></li><li><p>çœ‹åˆ°ç½‘ä¸Šå¥½å¤šäººç”¨çš„çº¿æ®µæ ‘çš„ç»“æ„å’Œä¹‹å‰å†™çš„é‚£æ ·ä¸€æ ·ï¼Œï¼Œï¼Œbuild(),update(),query()ï¼Œï¼Œï¼Œä½†å°±æ˜¯ç†è§£ä¸äº†ï¼Œï¼Œï¼ŒQAQï¼Œï¼Œï¼Œçœ‹äº†kuangbinçš„å†™æ³•ååˆ°ç†è§£äº†ï¼Œï¼Œï¼Œè™½ç„¶åŸºæœ¬æ˜¯ç…§æ¬è¿‡æ¥çš„ï¼Œï¼Œï¼Œï¼Œå†è¿‡å‡ å¤©è¦é‡å†™ä¸€éï¼Œï¼Œï¼Œ</p></li></ul><p>(end)</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;æ¦‚è¿°&quot;&gt;æ¦‚è¿°&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;http://poj.org/problem?id=2528&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;è¿™é“é¢˜å‘äº†æˆ‘å¥½ä¹…å•Šå•Šå•Šå•Šï¼Œï¼Œï¼Œï¼Œ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;åˆ°ç°åœ¨ä¹Ÿåªæ˜¯ç†è§£äº†kaungbinçš„ä»£ç ï¼Œï¼Œï¼ŒçŸ¥é“æ¯ä¸€æ­¥åšä»€ä¹ˆï¼Œï¼Œï¼Œä½†æ„Ÿè§‰å°±æ˜¯å“ªé‡Œæœ‰äº›ä¸å¯¹åŠ²çš„æ ·å­ï¼Œï¼Œï¼Œï¼Œ&lt;/p&gt;
&lt;p&gt;è¿™é“é¢˜æœ‰ä¸¤ä¸ªç‚¹æ˜¯æˆ‘æ„Ÿè§‰å¾ˆé‡è¦çš„ï¼Œï¼Œï¼Œä¸€ä¸ªæ˜¯æ•°æ®çš„ç¦»æ•£åŒ–ï¼Œï¼Œï¼Œå¦ä¸€ä¸ªæ˜¯çº¿æ®µæ ‘çš„å˜å½¢ï¼Œï¼Œï¼Œä¹Ÿå°±æ˜¯å®ƒæ‰€ç»´æŠ¤çš„ä¸œè¥¿å’Œä¹‹å‰è§è¿‡çš„ä¸ä¸€æ ·äº†ï¼Œï¼Œï¼Œï¼Œ&lt;/p&gt;
    
    </summary>
    
      <category term="ACM-çº¿æ®µæ ‘" scheme="http://www.31415.cf/categories/ACM-%E7%BA%BF%E6%AE%B5%E6%A0%91/"/>
    
    
      <category term="acm" scheme="http://www.31415.cf/tags/acm/"/>
    
      <category term="åˆ·é¢˜" scheme="http://www.31415.cf/tags/%E5%88%B7%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>çº¿æ®µæ ‘-æœ€å°é€†åºæ•°</title>
    <link href="http://www.31415.cf/2018/10/12/%E7%BA%BF%E6%AE%B5%E6%A0%91-%E6%9C%80%E5%B0%8F%E9%80%86%E5%BA%8F%E6%95%B0/"/>
    <id>http://www.31415.cf/2018/10/12/çº¿æ®µæ ‘-æœ€å°é€†åºæ•°/</id>
    <published>2018-10-12T09:19:16.000Z</published>
    <updated>2018-10-12T11:57:18.502Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1><p>è¿™æ˜¯ä¸€é“ç®€å•çš„çº¿æ®µæ ‘çš„é¢˜ï¼Œï¼Œï¼Œå½“ç„¶è¿˜æœ‰å¾ˆå¤šå…¶ä»–çš„åšæ³•ï¼Œï¼Œï¼Œç”šè‡³æ—¶æš´åŠ›éƒ½å¯ä»¥ï¼Œï¼Œï¼Œ</p><p>ç”¨çº¿æ®µæ ‘ä¸»è¦æ˜¯ä¸ºäº†åœ¨ç»ƒä¸€ç»ƒçº¿æ®µæ ‘çš„ä½¿ç”¨ï¼Œï¼Œï¼Œè€Œä¸”è¿™æ¬¡ï¼Œï¼Œæˆ‘æ¢äº†ä¸€ç§å†™çº¿æ®µæ ‘çš„æ–¹æ³•ï¼Œï¼Œï¼Œ</p><p>è²Œä¼¼ä¹Ÿæ˜¯å¾ˆå¤šå¤§ä½¬éƒ½åœ¨ç”¨çš„ä¸€ç§å†™æ³•ï¼Œï¼Œï¼Œ</p><p>ä¹‹å‰ä¸€ç›´ç”¨çš„å…¥é—¨æ—¶ä¸ºäº†å¥½ç†è§£çš„ä¸€ç§å†™æ³•ï¼šèŠ‚ç‚¹ç”¨ç»“æ„ä½“nodeè¡¨ç¤ºï¼Œï¼Œï¼Œå¹¶ä¸”ä¸ºäº†ç†è§£è¿˜æ·»äº†æ¯ä¸€ä¸ªèŠ‚ç‚¹æ‰€å¯¹åº”çš„å·¦å³è¾¹ç•Œï¼Œï¼Œï¼Œ</p><p>ä½†å®é™…ä¸Šï¼Œï¼Œè¿™äº›ä¿¡æ¯æ˜¯æ²¡æœ‰ç”¨çš„ï¼Œï¼Œï¼Œæˆ–è€…è¯´æ˜¯å¤šä½™çš„ï¼Œï¼Œï¼Œç›´æ¥åœ¨ä½¿ç”¨æ—¶è®¡ç®—æˆ–è€…ç›´æ¥ä½œä¸ºå‡½æ•°çš„å½¢å‚ä¼ é€’å°±è¡Œäº†ï¼Œï¼Œï¼Œï¼Œ</p><p>è¿™æ ·çš„å†™æ³•ä»£ç é‡æ›´åŠ çš„å°‘è€Œå†™å†™èµ·æ¥ä¹Ÿæ–¹ä¾¿ï¼Œï¼Œï¼Œå ç”¨çš„ç©ºé—´ä¹Ÿå°‘äº†äº›ï¼Œï¼Œï¼Œ</p><a id="more"></a><h1 id="é¢˜ç›®çš„åˆ†æ">é¢˜ç›®çš„åˆ†æ</h1><p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1394" target="_blank" rel="noopener">è¿™é“é¢˜ä¸åƒä¹‹å‰åšçš„çº¿æ®µæ ‘çš„é¢˜é‚£æ ·æ‰€ç»´æŠ¤çš„å€¼å°±æ˜¯æœ€ç»ˆè¦æ±‚çš„ç­”æ¡ˆï¼Œï¼Œï¼Œè€Œæ˜¯ä¸­é—´çš„æŸä¸€è¿‡ç¨‹é‡ï¼Œï¼Œï¼Œ</a></p><p>é¦–å…ˆï¼Œï¼Œé¢˜ç›®çš„æ„æ€å°±æ˜¯å¯¹äºä¸€ä¸ªç»™å®šçš„æ•°åˆ— <span class="math inline">\(a_0 , a_1 , a_2 , ,,, ,a_{n-1}\)</span>,,,æ¯æ¬¡å°†ç¬¬ä¸€ä¸ªæ•°ç§»åŠ¨åˆ°åé¢ï¼Œï¼Œï¼Œè¿™æ ·ä¸€å…±æœ‰nç§åºåˆ—ï¼Œï¼Œï¼Œç„¶åå¯¹äºæ¯ä¸€ç§åºåˆ—éƒ½æœ‰ä¸€ä¸ª <strong>é€†åºæ•°</strong> ï¼Œï¼Œé—®ä½ åœ¨è¿™äº›é€†åºæ•°ä¸­æœ€å°çš„é‚£ä¸ªæ˜¯å¤šå°ï¼Œï¼Œï¼Œï¼Œ</p><ul><li><p>è¿™é“é¢˜åªè¦çŸ¥é“å…¶ä¸­ä¸€ä¸ªåºåˆ—çš„é€†åºæ•°ï¼Œï¼Œå®ƒçš„ç›¸é‚»ä¸€ä¸ªé€†åºæ•°ä¹Ÿå°±å¯ä»¥æ¨å‡ºæ¥ï¼Œï¼Œï¼Œå…·ä½“æ˜¯è¿™æ ·çš„ï¼š</p><p><span class="math inline">\(å½“å·²çŸ¥ç¬¬iä¸ªåºåˆ—çš„é€†åºæ•°sum_iæ—¶ï¼Œï¼Œ\)</span></p><p><span class="math inline">\(ç¬¬i+1ä¸ªåºåˆ—çš„é€†åºæ•°ä¸ºsum_{i+1}=sum_i + n - a[i] - 1 - a[i],,,,\)</span></p><p><span class="math inline">\(å°±æ˜¯è¯´å½“å°†ç¬¬ä¸€ä¸ªæ•°ç§»åˆ°æœ€åå‰ï¼Œï¼Œï¼Œ\)</span></p><p><span class="math inline">\(å®ƒä»¥å‰çš„é€†åºæ•°æœ‰ a[i] ä¸ªæ‰€ä»¥è¦å‡å»è¿™äº›ï¼Œï¼Œ\)</span></p><p><span class="math inline">\(è€Œå½“å®ƒè¢«ç§»åˆ°æœ€åæ—¶ï¼Œï¼Œï¼Œ\)</span></p><p><span class="math inline">\(å‰é¢åˆå¤šäº† n - a[i] - 1 ä¸ªï¼Œï¼Œï¼Œ\)</span></p><p><span class="math inline">\(æœ€åçš„sumå°±æ±‚å‡ºæ¥äº†ï¼Œï¼Œï¼Œ\)</span></p></li><li>å½“çŸ¥é“ä¸Šé¢è¿™ä¸ªé€’æ¨å¼åï¼Œï¼Œï¼Œæˆ‘ä»¬çš„ä»»åŠ¡å°±æ˜¯æ±‚å‡ºæ‰€è¾“å…¥å‡ºçš„æ•°åˆ—çš„é€†åºæ•°ï¼Œï¼Œï¼Œç„¶åå†æ ¹æ®é€’æ¨å¼æ‰¾å‡ºæœ€å°çš„é‚£ä¸€ä¸ªè¾“å‡ºå°±è¡Œäº†ï¼Œï¼Œï¼Œ</li><li><p>å¯¹äºæ±‚è¿™ä¸ªæ•°åˆ—çš„é€†åºæ•°ç”¨çº¿æ®µæ ‘çš„æ–¹æ³•æ˜¯ï¼Œï¼Œï¼Œå…ˆå»ºä¸€ä¸ªç©ºçš„æ•°ï¼Œï¼Œï¼Œç„¶åæ¯è¾“å…¥ä¸€ä¸ªæ•°ï¼Œï¼Œæ ‡è®°ä¸€ä¸‹ï¼Œï¼Œä¸è¿‡æ ‡è®°åœ¨æœ€åçš„æ›´æ–°å®Œæˆï¼Œï¼Œï¼Œå…ˆæ±‚å‡ºå®ƒä¹‹å‰æ‰€è¾“å…¥çš„æ‰€æœ‰æ•°ä¸­æ¯”å®ƒå¤§çš„æ•°(ä¹Ÿå°±æ˜¯çœ‹è¿™ä¸ªæ•°åˆ°n-1ä¸€å…±æœ‰å‡ ä¸ªå‡ºç°åœ¨ä¹‹å‰çš„è¾“å…¥ä¸­ï¼Œï¼Œï¼Œä¹Ÿå°±æ˜¯çœ‹æ ‡è®°çš„å’Œ)ï¼Œï¼Œï¼Œä¹Ÿå°±æ˜¯ä»¥å®ƒæ„æˆçš„é€†åºåˆ—ï¼Œï¼Œï¼Œç„¶åæŠŠå®ƒåŠ (æ ‡è®°)åˆ°è¿™ä¸ªæ ‘é‡Œï¼ˆæ›´æ–°ï¼‰ï¼Œï¼Œï¼Œå¯ä»¥çœ‹å‡ºå¦‚æœæŠŠæ ‡è®°æ”¹ä¸ºå­˜æ”¾è¿™ä¸ªæ•°ï¼Œï¼Œçº³é—·è¿™æ£µæ ‘çš„å¶å­èŠ‚ç‚¹å°±æ˜¯æ’åºå¥½çš„1~n-1æ•°åˆ—ï¼Œï¼Œï¼Œï¼Œè¿™ä¸€æ®µç”»ä¸ªå›¾å°±å¥½ç†è§£äº†ï¼Œï¼Œï¼Œ</p></li></ul><h1 id="å®ç°">å®ç°</h1><p>code:</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> lson rt&lt;&lt;1,l,mid</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> rson rt&lt;&lt;1|1,mid+1,r</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">5005</span>;</span><br><span class="line"><span class="keyword">int</span> sum[maxn &lt;&lt; <span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushup</span><span class="params">(<span class="keyword">int</span> rt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    sum[rt] = sum[rt &lt;&lt; <span class="number">1</span>] + sum[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> l , <span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    sum[rt] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(l == r)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    build(lson);</span><br><span class="line">    build(rson);</span><br><span class="line">    pushup(rt);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> l , <span class="keyword">int</span> r , <span class="keyword">int</span> loc)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l == r)</span><br><span class="line">    &#123;</span><br><span class="line">        ++sum[rt];</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(loc &lt;= mid)  update(lson , loc);</span><br><span class="line">    <span class="keyword">else</span>            update(rson , loc);</span><br><span class="line">    pushup(rt);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">query</span><span class="params">(<span class="keyword">int</span> rt , <span class="keyword">int</span> l , <span class="keyword">int</span> r , <span class="keyword">int</span> L , <span class="keyword">int</span> R)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(L &lt;= l &amp;&amp; r &lt;= R)</span><br><span class="line">        <span class="keyword">return</span> sum[rt];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(L &lt;= mid)    ans += query(lson , L , R);</span><br><span class="line">    <span class="keyword">if</span>(R &gt;  mid)    ans += query(rson , L , R);</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> a[maxn];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;n) != EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        build(<span class="number">1</span> , <span class="number">0</span> , n);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> sm = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span> , &amp;a[i]);</span><br><span class="line">            sm += query(<span class="number">1</span> , <span class="number">0</span> , n - <span class="number">1</span> , a[i] , n - <span class="number">1</span>);</span><br><span class="line">            update(<span class="number">1</span> , <span class="number">0</span> , n - <span class="number">1</span> , a[i]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> ret = sm;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            sm += n - a[i] - <span class="number">1</span> - a[i];</span><br><span class="line">            ret = min(sm , ret);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span> , ret);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;æ¦‚è¿°&quot;&gt;æ¦‚è¿°&lt;/h1&gt;
&lt;p&gt;è¿™æ˜¯ä¸€é“ç®€å•çš„çº¿æ®µæ ‘çš„é¢˜ï¼Œï¼Œï¼Œå½“ç„¶è¿˜æœ‰å¾ˆå¤šå…¶ä»–çš„åšæ³•ï¼Œï¼Œï¼Œç”šè‡³æ—¶æš´åŠ›éƒ½å¯ä»¥ï¼Œï¼Œï¼Œ&lt;/p&gt;
&lt;p&gt;ç”¨çº¿æ®µæ ‘ä¸»è¦æ˜¯ä¸ºäº†åœ¨ç»ƒä¸€ç»ƒçº¿æ®µæ ‘çš„ä½¿ç”¨ï¼Œï¼Œï¼Œè€Œä¸”è¿™æ¬¡ï¼Œï¼Œæˆ‘æ¢äº†ä¸€ç§å†™çº¿æ®µæ ‘çš„æ–¹æ³•ï¼Œï¼Œï¼Œ&lt;/p&gt;
&lt;p&gt;è²Œä¼¼ä¹Ÿæ˜¯å¾ˆå¤šå¤§ä½¬éƒ½åœ¨ç”¨çš„ä¸€ç§å†™æ³•ï¼Œï¼Œï¼Œ&lt;/p&gt;
&lt;p&gt;ä¹‹å‰ä¸€ç›´ç”¨çš„å…¥é—¨æ—¶ä¸ºäº†å¥½ç†è§£çš„ä¸€ç§å†™æ³•ï¼šèŠ‚ç‚¹ç”¨ç»“æ„ä½“nodeè¡¨ç¤ºï¼Œï¼Œï¼Œå¹¶ä¸”ä¸ºäº†ç†è§£è¿˜æ·»äº†æ¯ä¸€ä¸ªèŠ‚ç‚¹æ‰€å¯¹åº”çš„å·¦å³è¾¹ç•Œï¼Œï¼Œï¼Œ&lt;/p&gt;
&lt;p&gt;ä½†å®é™…ä¸Šï¼Œï¼Œè¿™äº›ä¿¡æ¯æ˜¯æ²¡æœ‰ç”¨çš„ï¼Œï¼Œï¼Œæˆ–è€…è¯´æ˜¯å¤šä½™çš„ï¼Œï¼Œï¼Œç›´æ¥åœ¨ä½¿ç”¨æ—¶è®¡ç®—æˆ–è€…ç›´æ¥ä½œä¸ºå‡½æ•°çš„å½¢å‚ä¼ é€’å°±è¡Œäº†ï¼Œï¼Œï¼Œï¼Œ&lt;/p&gt;
&lt;p&gt;è¿™æ ·çš„å†™æ³•ä»£ç é‡æ›´åŠ çš„å°‘è€Œå†™å†™èµ·æ¥ä¹Ÿæ–¹ä¾¿ï¼Œï¼Œï¼Œå ç”¨çš„ç©ºé—´ä¹Ÿå°‘äº†äº›ï¼Œï¼Œï¼Œ&lt;/p&gt;
    
    </summary>
    
      <category term="ACM-çº¿æ®µæ ‘" scheme="http://www.31415.cf/categories/ACM-%E7%BA%BF%E6%AE%B5%E6%A0%91/"/>
    
    
      <category term="acm" scheme="http://www.31415.cf/tags/acm/"/>
    
      <category term="åˆ·é¢˜" scheme="http://www.31415.cf/tags/%E5%88%B7%E9%A2%98/"/>
    
      <category term="ç®—æ³•" scheme="http://www.31415.cf/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
</feed>
