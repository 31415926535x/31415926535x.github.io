---
title: 2019牛客暑期多校训练营（第二场）
date: 2019-07-21 16:25:08
tags:
- 刷题
- 多校
- acm
categories:
- ACM-题解
---

菜的真实，，，

[题目](https://ac.nowcoder.com/acm/contest/882#question)

<!-- more -->

# F - Partition problem


```cpp
#include <bits/stdc++.h>
// #include <iostream>
// #include <cstdio>
// #include <cstdlib>
// #include <string.h>
// #include <vector>
// #include <algorithm>
// #include <set>
// #include <vector>
// #include <cmath>
// #include <queue>
// #include <stack>
// #include <ctime>
#define aaa cout<<233<<endl;
#define endl '\n'
#define pb push_back
using namespace std;
typedef long long ll;
typedef unsigned long long ull;
typedef long double ld;
const int inf = 0x3f3f3f3f;//1061109567 > 1e9
const ll linf = 0x3f3f3f3f3f3f3f;
const double eps = 1e-5;
const double pi = 3.14159265358979;
const int maxn = 2e5 + 5;
const int maxm = 1e6 + 5;
const int mod = 1e9 + 7;
 
ll a[20], b[20], v[30][30], n, n2, ans;
void dfs(int ai, int bi, ll cnt)
{
    if(cnt < ans)return;
    if(ai > n || bi > n)return;
    int now = ai + bi + 1;  //every people
    if(now > n2){ans = max(ans, cnt); return;}
    ll va = cnt, vb = cnt;
 
    //pull this man to B
    b[bi] = now;
    for(int i = 0; i < bi; ++i)vb -= v[b[i]][now];
    dfs(ai, bi + 1, vb);
 
    //another
    a[ai] = now;
    for(int i = 0; i < ai; ++i)va -= v[now][a[i]];
    dfs(ai + 1, bi, va);
}
int main()
{
    // double pp = clock();
    // freopen("233.in" , "r"   , stdin);
    // freopen("233.out" , "w" , stdout);
    ios_base::sync_with_stdio(0);
    cin.tie(0);cout.tie(0);
 
    //有一个外面的集合，总的价值是所有值的和，
    //每次把一个人放到一个队伍里，
    //这个人和这个队伍所有人的价值就没了，所以就减去就行了
    //每个人有两种选择，所以遍历都枚举就行了
    cin >> n; n2 = n << 1;
    ll sum = 0;ans = 0;
    for(int i = 1; i <= n2; ++i)
        for(int j = 1; j <= n2; ++j)
            cin >> v[i][j];
    for(int i = 1; i <= n2; ++i)
        for(int j = 1; j < i; ++j)
            sum += v[i][j];
    dfs(0, 0, sum);
    cout << ans << endl;
    // cout << endl << (clock() - pp) / CLOCKS_PER_SEC << endl;
    return 0;
}
```